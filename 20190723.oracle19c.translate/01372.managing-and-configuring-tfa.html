<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">
      <meta name="description" content="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">
      <title>Managing and Configuring Oracle Trace File Analyzer</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User’s Guide">
      <meta property="og:description" content="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96320-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="performing-custom-collections.html" title="Previous" type="text/html">
      <link rel="next" href="managing-db-and-gi-diagnostic-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide">
    <meta name="dcterms.isVersionOf" content="ATNMS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="performing-custom-collections.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-db-and-gi-diagnostic-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User’s Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="diagnose-troubleshoot-issues-errors.html" property="item" typeof="WebPage"><span property="name">Collecting Diagnostic Data and Triaging, Diagnosing, and Resolving Issues</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing and Configuring Oracle Trace File Analyzer</li>
            </ol>
            <a id="GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" name="GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB"></a>
            
            <h2 id="ATNMS-GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" class="sect2"><span class="enumeration_chapter">19 </span>Managing and Configuring Oracle Trace File Analyzer
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D">Querying Oracle Trace File Analyzer Status and Configuration</a><br>Use the <code class="codeph">print</code> command to query the status or configuration.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419">Managing the Oracle Trace File Analyzer Daemon</a><br>Oracle Trace File Analyzer runs from <code class="codeph">init</code> on UNIX systems or <code class="codeph">init/upstart/systemd</code> on Linux, or Microsoft Windows uses a Windows Service so that Oracle Trace File Analyzer starts automatically whenever a node starts.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26">Managing the Repository</a><br>Oracle Trace File Analyzer stores all diagnostic collections in the repository.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-FDAB1329-EE67-4374-8F42-776AA3A66439">Managing Collections</a><br>Manage directories configured in Oracle Trace File Analyzer and diagnostic collections.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6">Configuring the Host</a><br>You must have <code class="codeph">root</code> or <code class="codeph">sudo</code> access to <code class="codeph">tfactl</code> to add hosts to Oracle Trace File Analyzer configuration.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78">Configuring the Ports</a><br>The Oracle Trace File Analyzer daemons in a cluster communicate securely over ports 5000 to 5005.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208">Configuring SSL and SSL Certificates</a><br>View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.
                  </li>
                  <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E">Configuring Email Notification Details</a><br>Configure Oracle Trace File Analyzer to send an email to the registered email address after an automatic collection completes.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="diagnose-troubleshoot-issues-errors.html#GUID-DA02663E-305E-4DD2-9758-DCA883B54198" title="Use the tools available with Autonomous Health Framework to troubleshoot errors.">Collecting Diagnostic Data and Triaging, Diagnosing, and Resolving Issues</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D" name="GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D"></a><h3 id="ATNMS-GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D" class="sect3"><span class="enumeration_section">19.1 </span>Querying Oracle Trace File Analyzer Status and Configuration
               </h3>
               <div>
                  <p>Use the <code class="codeph">print</code> command to query the status or configuration.
                  </p>
                  <div class="tblformal" id="GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D__GUID-241EBAD6-53DC-4A96-BF60-49D02D3A68F3">
                     <p class="titleintable">Table 19-1 Configuration Listing and Descriptions</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Configuration Listing and Descriptions" summary="This table lists and describes and configuration parameters." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d52627e133">Configuration Listing</th>
                              <th align="left" valign="bottom" width="20%" id="d52627e135">Default Value</th>
                              <th align="left" valign="bottom" width="20%" id="d52627e137">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e141" headers="d52627e133 ">
                                 <p>Automatic diagnostic collection</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e141 d52627e135 ">
                                 <p>ON</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e141 d52627e137 ">
                                 <p>Triggers a collection if a significant problem occurs. </p>
                                 <p>Possible values:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>ON</p>
                                    </li>
                                    <li>
                                       <p>OFF</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e160" headers="d52627e133 ">
                                 <p>Trimming of files during diagnostic collection</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e160 d52627e135 ">
                                 <p>ON</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e160 d52627e137 ">
                                 <p>Trims the log files to only entries within the time range of the collection.</p>
                                 <p>Possible values:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>ON</p>
                                    </li>
                                    <li>
                                       <p>OFF</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e179" headers="d52627e133 ">
                                 <p>Repository maximum size in MB</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e179 d52627e135 ">
                                 <p>Smaller of either 10GB or 50% of free space in the file system.</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e179 d52627e137 ">
                                 <p>The largest size the repository can be.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e189" headers="d52627e133 ">
                                 <p>Trace Level</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e189 d52627e135 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e189 d52627e137 ">
                                 <p>Increases the level of verbosity.</p>
                                 <p>Possible values:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>1</p>
                                    </li>
                                    <li>
                                       <p>2</p>
                                    </li>
                                    <li>
                                       <p>3</p>
                                    </li>
                                    <li>
                                       <p>4</p>
                                    </li>
                                 </ul>
                                 <p>A value of 1 results in the least amount of trace. A value of 4 results in the most amount of trace.</p>
                                 <p>Oracle recommends changing the trace level value only at the request of Oracle Support.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e218" headers="d52627e133 ">
                                 <p>Automatic Purging</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e218 d52627e135 ">
                                 <p>ON</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e218 d52627e137 ">
                                 <p>Purges collections when:</p>
                                 <p>Free space in the repository falls below 1GB.</p>
                                 <p>Or</p>
                                 <p>Before closing the repository.</p>
                                 <p>Purging removes collections from largest size through to smallest. Purging continues until the repository has enough space to open.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e236" headers="d52627e133 ">
                                 <p>Minimum Age of Collections to Purge (Hours)</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e236 d52627e135 ">
                                 <p>12</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e236 d52627e137 ">
                                 <p>The least number of hours to keep a collection, after which it is eligible for purging.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d52627e246" headers="d52627e133 ">
                                 <p>Minimum Space free to enable Alert Log Scan (MB)</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e246 d52627e135 ">
                                 <p>500</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d52627e246 d52627e137 ">
                                 <p>Suspends log scanning if free space in the <code class="codeph">tfa_home</code> falls below this value.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="example" id="GUID-3ECCECA0-95B6-4AC4-AAAC-94D12A2EF60D__GUID-C9100B4C-089A-493D-9374-88BF7796D3BF">
                     <p class="titleinexample">Example 19-1 Print Configuration</p><pre class="pre codeblock"><code>$ tfactl print config
.------------------------------------------------------------------------.
|                             node1                              		  |
+-----------------------------------------------------------+------------+
| Configuration Parameter                                   | Value      |
+-----------------------------------------------------------+------------+
| TFA Version                                               |12.2.1.0.0  |
| Java Version                                              | 1.8        |
| Public IP Network                                         | true       |
| Automatic Diagnostic Collection                           | true       |
| Alert Log Scan                                            | true       |
| Disk Usage Monitor                                        | true       |
| Managelogs Auto Purge                                     | false      |
| Trimming of files during diagcollection                   | true       |
| Inventory Trace level                                     | 1          |
| Collection Trace level                                    | 1          |
| Scan Trace level                                          | 1          |
| Other Trace level                                         | 1          |
| Repository current size (MB)                              | 447        |
| Repository maximum size (MB)                              | 10240      |
| Max Size of TFA Log (MB)                                  | 50         |
| Max Number of TFA Logs                                    | 10         |
| Max Size of Core File (MB)                                | 20         |
| Max Collection Size of Core Files (MB)                    | 200        |
| Minimum Free Space to enable Alert Log Scan (MB)          | 500        |
| Time interval between consecutive Disk Usage Snapshot(minutes)  | 60   |
| Time interval between consecutive Managelogs Auto Purge(minutes)| 60   |
| Logs older than the time period will be auto purged(days[d]|hours[h])|30d|
| Automatic Purging                                         | true       |
| Age of Purging Collections (Hours)                        | 12         |
| TFA IPS Pool Size                                         | 5          |
'-----------------------------------------------------------+------------'</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="running-administration-commands.html#GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20" title="Use the tfactl print command to print information from the Berkeley database.">tfactl print</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419" name="GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419"></a><h3 id="ATNMS-GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419" class="sect3"><span class="enumeration_section">19.2 </span>Managing the Oracle Trace File Analyzer Daemon
               </h3>
               <div>
                  <p>Oracle Trace File Analyzer runs from <code class="codeph">init</code> on UNIX systems or <code class="codeph">init/upstart/systemd</code> on Linux, or Microsoft Windows uses a Windows Service so that Oracle Trace File Analyzer starts automatically whenever a node starts.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C85C78B7-1270-4724-AA4E-ED3B7F98F419__GUID-9D882FD9-AF8E-48FB-989B-6866CEAC3DE6">To manage Oracle Trace File Analyzer daemon:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">The <code class="codeph">init</code> control file <code>/etc/init.d/init.tfa</code> is platform dependant.
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>To start or stop Oracle Trace File Analyzer manually:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">tfactl start</code>: Starts the Oracle Trace File Analyzer daemon
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">tfactl stop</code>: Stops the Oracle Trace File Analyzer daemon
                                 </p>
                              </li>
                           </ul>
                           <p>If the Oracle Trace File Analyzer daemon fails, then the operating system restarts the daemon automatically.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>To enable or disable automatic restarting of the Oracle Trace File Analyzer daemon:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">tfactl disable</code>: Disables automatic restarting of the Oracle Trace File Analyzer daemon.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">tfactl enable</code>: Enables automatic restarting of the Oracle Trace File Analyzer daemon.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26" name="GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26"></a><h3 id="ATNMS-GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26" class="sect3"><span class="enumeration_section">19.3 </span>Managing the Repository
               </h3>
               <div>
                  <p>Oracle Trace File Analyzer stores all diagnostic collections in the repository.</p>
                  <p>The repository size is the maximum space Oracle Trace File Analyzer is able to use on disk to store collections.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F">Purging the Repository Automatically</a><br></li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4">Purging the Repository Manually</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F" name="GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F"></a><h4 id="ATNMS-GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F" class="sect4"><span class="enumeration_section">19.3.1 </span>Purging the Repository Automatically
                  </h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p>Oracle Trace File Analyzer closes the repository, if:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Free space in <code class="codeph">TFA_HOME</code> &nbsp;is less than 100 MB, also stops indexing
                              </p>
                           </li>
                           <li>
                              <p>Free space in <code class="codeph">ORACLE_BASE</code> &nbsp;is less than 100 MB, also stops indexing
                              </p>
                           </li>
                           <li>
                              <p>Free space in the repository is less than 1 GB</p>
                           </li>
                           <li>
                              <p>Current size of the repository is greater than the repository max size (<code class="codeph">reposizeMB</code>)
                              </p>
                           </li>
                        </ul>
                        <p>The Oracle Trace File Analyzer daemon monitors and automatically purges the repository when the free space falls below 1 GB or before closing the repository. Purging removes collections from largest size through to smallest until the repository has enough space to open.</p>
                        <p>Oracle Trace File Analyzer automatically purges only the collections that are older than <code class="codeph">minagetopurge</code>. By default, <code class="codeph">minagetopurge</code>&nbsp; is 12 hours.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-204AF3AF-06F7-45D7-9238-98A47DAA064F__GUID-3F1B27C3-0DE9-478B-9C53-DE5FCDE2F68B">To purge the repository automatically</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To change the minimum age to purge:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>set minagetopurge=<span class="variable" translate="no">number of hours</span></code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl set minagetopurge=48</code></pre></div>
                              <p>Purging the repository automatically is enabled by default.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To disable or enable automatic purging:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>set autopurge=ON|OFF</code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl set autopurge=ON</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To change the location of the repository:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>set repositorydir=<span class="variable" translate="no">dir</span></code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl set repositorydir=/opt/mypath</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To change the size of the repository:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>set reposizeMB</code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl set reposizeMB=20480</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="running-administration-commands.html#GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C" title="Use the tfactl set command to enable or disable, or modify various Oracle Trace File Analyzer functions.">tfactl set</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26" title="Oracle Trace File Analyzer stores all diagnostic collections in the repository.">Managing the Repository</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4" name="GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4"></a><h4 id="ATNMS-GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4" class="sect4"><span class="enumeration_section">19.3.2 </span>Purging the Repository Manually
                  </h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DA5147D6-CDEC-4ECB-9AFB-0A8C719A9DA4__GUID-E711E78E-036C-4B3C-99CD-622223A52502">To purge the repository manually:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To view the status of the Oracle Trace File Analyzer repository:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl print repository</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To view statistics about collections:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl print collections</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To manually purge collections that are older than a specific time:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl purge -older <span class="variable" translate="no">number</span>[h|d] [-force]</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="running-diagnostic-collection-commands.html#GUID-47188A6D-FC60-4E05-A62C-A60F741ABBA0" title="Use the tfactl purge command to delete diagnostic collections from the Oracle Trace File Analyzer repository that are older than a specific time.">tfactl purge</a></li>
                           <li><a href="running-administration-commands.html#GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20" title="Use the tfactl print command to print information from the Berkeley database.">tfactl print</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-DC76E3C3-44B4-4806-960F-CE021A36EB26" title="Oracle Trace File Analyzer stores all diagnostic collections in the repository.">Managing the Repository</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-FDAB1329-EE67-4374-8F42-776AA3A66439" name="GUID-FDAB1329-EE67-4374-8F42-776AA3A66439"></a><h3 id="ATNMS-GUID-FDAB1329-EE67-4374-8F42-776AA3A66439" class="sect3"><span class="enumeration_section">19.4 </span>Managing Collections
               </h3>
               <div>
                  <p>Manage directories configured in Oracle Trace File Analyzer and diagnostic collections.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E">Including Directories</a><br>Add directories to the Oracle Trace File Analyzer configuration to include the directories in diagnostic collections.
                     </li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78">Managing the Size of Collections</a><br>Use the Oracle Trace File Analyzer configuration options <code class="codeph">trimfiles</code>, <code class="codeph">maxcorefilesize</code>, <code class="codeph">maxcorecollectionsize</code>, and <code class="codeph">diagcollect</code>  <code class="codeph">-nocores</code> to reduce the size of collections.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E" name="GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E"></a><h4 id="ATNMS-GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E" class="sect4"><span class="enumeration_section">19.4.1 </span>Including Directories
                  </h4>
                  <div>
                     <p>Add directories to the Oracle Trace File Analyzer configuration to include the directories in diagnostic collections.</p>
                     <div class="section">
                        <p>Oracle Trace File Analyzer then stores diagnostic collection metadata about the:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Directory</p>
                           </li>
                           <li>
                              <p>Subdirectories</p>
                           </li>
                           <li>
                              <p>Files in the directory and all sub directories</p>
                           </li>
                        </ul>
                        <p>All Oracle Trace File Analyzer users can add directories they have read access to.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-71C6289A-6448-4EBF-A745-D6D776DDFD2E__GUID-545EFC7A-6A87-4D4A-B66E-AED55E0D5478">To manage directories:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To view the current directories configured in Oracle Trace File Analyzer</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl print directories [ -node all | local | <span class="variable" translate="no">n1,n2,...</span> ] 
[ -comp <span class="variable" translate="no">component_name1,component_name2,..</span> ] 
[ -policy  exclusions | noexclusions ] 
[ -permission public | private ]</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To add directories:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl directory add <span class="variable" translate="no">dir</span> 
[ -public ] 
[ -exclusions | -noexclusions | -collectall ] 
[ -node all | <span class="variable" translate="no">n1,n2,...</span> ]</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To remove a directory from being collected:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl directory remove <span class="variable" translate="no">dir</span> [ -node all | <span class="variable" translate="no">n1,n2,...</span> ]</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="running-diagnostic-collection-commands.html#GUID-87FDED7C-80C8-4111-AB1C-4BEEFFDBA326" title="Use the tfactl directory command to add a directory to, or remove a directory from the list of directories to analyze their trace or log files.">tfactl directory</a></li>
                           <li><a href="running-administration-commands.html#GUID-D590CA18-27A9-4FE7-A921-A10587DD5C20" title="Use the tfactl print command to print information from the Berkeley database.">tfactl print</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-FDAB1329-EE67-4374-8F42-776AA3A66439" title="Manage directories configured in Oracle Trace File Analyzer and diagnostic collections.">Managing Collections</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78" name="GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78"></a><h4 id="ATNMS-GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78" class="sect4"><span class="enumeration_section">19.4.2 </span>Managing the Size of Collections
                  </h4>
                  <div>
                     <p>Use the Oracle Trace File Analyzer configuration options <code class="codeph">trimfiles</code>, <code class="codeph">maxcorefilesize</code>, <code class="codeph">maxcorecollectionsize</code>, and <code class="codeph">diagcollect</code>  <code class="codeph">-nocores</code> to reduce the size of collections.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3DBE9FFE-E320-47B5-BB2D-1BCED88CEC78__GUID-739374C5-4502-42C0-8BE2-007A8BF18167">To manage the size of collections:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To trim files during diagnostic collection:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl set trimfiles=ON|OFF</code></pre></div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>When set to ON (default), Oracle Trace File Analyzer trims files to include data around the time of the event</p>
                                 </li>
                                 <li>
                                    <p>When set to OFF, any file that was written to at the time of the event is collected in its entirety</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To set the maximum size of core file to <span class="variable" translate="no">n</span> MB (default 20 MB):</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl set maxcorefilesize=<span class="variable" translate="no">n</span></code></pre></div>
                              <p>Oracle Trace File Analyzer skips core files that are greater than <code class="codeph">maxcorefilesize</code>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To set the maximum collection size of core files to <span class="variable" translate="no">n</span>&nbsp;MB (default 200 MB):</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl set maxcorecollectionsize=<span class="variable" translate="no">n</span></code></pre></div>
                              <p>Oracle Trace File Analyzer skips collecting core files after <code class="codeph">maxcorecollectionsize</code> is reached.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To prevent the collection of core files with diagnostic collections:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl diagcollect -nocores</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="running-diagnostic-collection-commands.html#GUID-4A06751C-9081-4158-88CB-EFBC77A797A0" title="Use the tfactl diagcollect command to perform on-demand diagnostic collection.">tfactl diagcollect</a></li>
                           <li><a href="running-administration-commands.html#GUID-59B56691-8FD5-4130-A838-8E1AE2E8BB9C" title="Use the tfactl set command to enable or disable, or modify various Oracle Trace File Analyzer functions.">tfactl set</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-FDAB1329-EE67-4374-8F42-776AA3A66439" title="Manage directories configured in Oracle Trace File Analyzer and diagnostic collections.">Managing Collections</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6" name="GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6"></a><h3 id="ATNMS-GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6" class="sect3"><span class="enumeration_section">19.5 </span>Configuring the Host
               </h3>
               <div>
                  <p>You must have <code class="codeph">root</code> or <code class="codeph">sudo</code> access to <code class="codeph">tfactl</code> to add hosts to Oracle Trace File Analyzer configuration.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-F156BE7A-E282-41FA-9EAC-212F306CF0B6__GUID-CB292546-ABE3-4FF2-BCE5-9A1990456BD8">To add, remove, and replace SSL certificates:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>To view the list of current hosts in the Oracle Trace File Analyzer configuration:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl print hosts</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>To add a host to the Oracle Trace File Analyzer configuration for the first time:</span><ol type="a">
                           <li class="substepexpand"><span>If necessary, install and start Oracle Trace File Analyzer on the new host.</span></li>
                           <li class="substepexpand"><span>From the existing host, synchronize authentication certificates for all hosts by running:</span><div>
                                 <div class="p"><pre class="pre codeblock"><code>tfactl syncnodes</code></pre></div>
                                 <p>If needed, then Oracle Trace File Analyzer displays the current node list it is aware of and prompts you to update this node list.</p>
                              </div>
                           </li>
                           <li class="substepexpand"><span>Select <span class="uicontrol bold">Y</span>, and then enter the name of the new host.</span><div>
                                 <p>Oracle Trace File Analyzer contacts Oracle Trace File Analyzer on the new host to synchronize certificates and add each other to their respective hosts lists.</p>
                              </div>
                           </li>
                        </ol>
                     </li>
                     <li class="stepexpand"><span>To remove a host:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl host remove&nbsp;<span class="variable" translate="no">host</span></code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>To add a host and the certificates that are already synchronized:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl host add&nbsp;<span class="variable" translate="no">host</span></code></pre></div>
                           <p>Oracle Trace File Analyzer generates self-signed SSL certificates during install. Replace those certificates with one of the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Personal self-signed certificate</p>
                              </li>
                              <li>
                                 <p>CA-signed certificate</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78" name="GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78"></a><h3 id="ATNMS-GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78" class="sect3"><span class="enumeration_section">19.6 </span>Configuring the Ports
               </h3>
               <div>
                  <p>The Oracle Trace File Analyzer daemons in a cluster communicate securely over ports 5000 to 5005.</p>
                  <div class="section">
                     <p>If the port range is not available on your system, then replace it with the ports available on your system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97DA0A64-A184-4DB2-9CB1-F3AA23F6EF78__GUID-A2670DDE-3CA3-451B-AE0D-52DF7180D2D6">To change the ports:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span> To set the primary port use the <code class="codeph">tfactl set port</code> command:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl set port=<span class="variable" translate="no">port_1</span></code></pre></div>
                           <div class="p">Or, specify a comma-delimited list of sequentially numbered ports to use. You can specify a maximum of five ports.<pre class="pre codeblock"><code>tfactl set port=<span class="variable" translate="no">port_1</span>,<span class="variable" translate="no">port_2</span>,<span class="variable" translate="no">port_3</span>,<span class="variable" translate="no">port_4</span>,<span class="variable" translate="no">port_5</span></code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Restart Oracle Trace File Analyzer on all nodes:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl stop</code></pre><pre class="pre codeblock"><code>tfactl start</code></pre></div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" name="GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208"></a><h3 id="ATNMS-GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" class="sect3"><span class="enumeration_section">19.7 </span>Configuring SSL and SSL Certificates
               </h3>
               <div>
                  <p>View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C">Configuring SSL/TLS Protocols</a><br>The Oracle Trace File Analyzer daemons in a cluster communicate securely using the SSL/TLS protocols.
                     </li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-E7961A2C-523E-4875-B093-F5432D479276">Configuring Self-Signed Certificates</a><br>Use <code class="codeph">Java keytool</code> to replace self-signed SSL certificates with personal self-signed certificates. 
                     </li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B">Configuring CA-Signed Certificates</a><br>Use <code class="codeph">Java keytool</code>&nbsp;and <code class="codeph">openssl</code> to replace self-signed SSL certificates with the Certificate Authority (CA) signed certificates.
                     </li>
                     <li class="ulchildlink"><a href="managing-and-configuring-tfa.html#GUID-79506100-B1B8-4FAA-AEA3-26CA9AFE02CB">Configuring SSL Cipher Suite</a><br>The cipher suite is a set of cryptographic algorithms used by the TLS/SSL protocols to create keys and encrypt data.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C" name="GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C"></a><h4 id="ATNMS-GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C" class="sect4"><span class="enumeration_section">19.7.1 </span>Configuring SSL/TLS Protocols
                  </h4>
                  <div>
                     <p>The Oracle Trace File Analyzer daemons in a cluster communicate securely using the SSL/TLS protocols.</p>
                     <div class="section">
                        <p>The SSL protocols available for use by Oracle Trace File Analyzer are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">TLSv1.2</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TLCv1.1</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TLSv1</code></p>
                           </li>
                        </ul>
                        <p>Oracle Trace File Analyzer always restricts use of older the protocols <code class="codeph">SSLv3</code> and <code class="codeph">SSLv2Hello</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-71883B8F-E270-4FCC-B2AD-60FB05BC3E2C__GUID-C8321715-EF1E-4E62-A437-CB5253FAA4D2">To view and restrict protocols:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>To view the available and restricted protocols:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl print protocols</code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl print protocols
.---------------------------------------.
|                 node1                 |
+---------------------------------------+
| Protocols                             |
+---------------------------------------+
| Available : [TLSv1, TLSv1.2, TLSv1.1] |
| Restricted : [SSLv3, SSLv2Hello]      |
'---------------------------------------'
</code></pre></div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To restrict the use of certain protocols:</span><div>
                              <div class="p"><pre class="pre codeblock"><code>tfactl restrictprotocol [-force] <span class="variable" translate="no">protocol</span></code></pre></div>
                              <div class="p">For example:<pre class="pre codeblock"><code>$ tfactl restrictprotocol TLSv1</code></pre></div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" title="View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.">Configuring SSL and SSL Certificates</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E7961A2C-523E-4875-B093-F5432D479276" name="GUID-E7961A2C-523E-4875-B093-F5432D479276"></a><h4 id="ATNMS-GUID-E7961A2C-523E-4875-B093-F5432D479276" class="sect4"><span class="enumeration_section">19.7.2 </span>Configuring Self-Signed Certificates
                  </h4>
                  <div>
                     <p>Use <code class="codeph">Java keytool</code> to replace self-signed SSL certificates with personal self-signed certificates. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E7961A2C-523E-4875-B093-F5432D479276__GUID-C75E6546-F132-4AA9-AA09-87BC4FAF3BDD">To configure Oracle Trace File Analyzer to use self-signed certificates:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a private key and keystore file containing the self-signed certificate for the server:</span><div><pre class="pre codeblock"><code>$ keytool -genkey -alias server_full -keyalg RSA -keysize 2048 -validity 18263 -keystore myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a private key and keystore file containing the private key and self signed-certificate for the client:</span><div><pre class="pre codeblock"><code>$ keytool -genkey -alias client_full -keyalg RSA -keysize 2048 -validity 18263 -keystore myclient.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Export the server public key certificate from the server keystore:</span><div><pre class="pre codeblock"><code>$ keytool -export -alias server_full -file myserver_pub.crt -keystore myserver.jks -storepass <span class="variable" translate="no">password</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Export the client public key certificate from the server keystore:</span><div><pre class="pre codeblock"><code>$ keytool -export -alias client_full -file myclient_pub.crt -keystore myclient.jks -storepass <span class="variable" translate="no">password</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the server public key certificate into the client keystore:</span><div><pre class="pre codeblock"><code>$ keytool -import -alias server_pub -file myserver_pub.crt -keystore myclient.jks -storepass <span class="variable" translate="no">password</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the client public key certificate into the server keystore:</span><div><pre class="pre codeblock"><code>$ keytool -import -alias client_pub -file myclient_pub.crt  -keystore myserver.jks -storepass <span class="variable" translate="no">password</span></code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restrict the permissions on the keystores to <code class="codeph">root</code> &nbsp;<code class="codeph">read-only</code>.</span><div><pre class="pre codeblock"><code>$ chmod 400 myclient.jks myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Copy the keystores (<code class="codeph">jks</code> files) to each node.</span></li>
                        <li class="stepexpand"><span>Configure Oracle Trace File Analyzer to use the new certificates:</span><div><pre class="pre codeblock"><code>$ tfactl set sslconfig</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restart the Oracle Trace File Analyzer process to start using new certificates:</span><div><pre class="pre codeblock"><code>$ tfactl stop 
$ tfactl start</code></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" title="View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.">Configuring SSL and SSL Certificates</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B" name="GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B"></a><h4 id="ATNMS-GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B" class="sect4"><span class="enumeration_section">19.7.3 </span>Configuring CA-Signed Certificates
                  </h4>
                  <div>
                     <p>Use <code class="codeph">Java keytool</code>&nbsp;and <code class="codeph">openssl</code> to replace self-signed SSL certificates with the Certificate Authority (CA) signed certificates.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F2DFEB13-0E7F-4C2A-A261-EC8CEDB0CC5B__GUID-5CE8549B-7B87-4633-96CD-4824042385D8">To configure Oracle Trace File Analyzer to use CA-signed certificates:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a private key for the server request:</span><div><pre class="pre codeblock"><code>$ openssl genrsa -aes256 -out myserver.key 2048</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a private key for the client request:</span><div><pre class="pre codeblock"><code>$ openssl genrsa -aes256 -out myclient.key 2048</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a Certificate Signing Request (CSR) for the server:</span><div><pre class="pre codeblock"><code>$ openssl req -key myserver.key -new -sha256 -out myserver.csr</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Create a Certificate Signing Request (CSR) for the client:</span><div><pre class="pre codeblock"><code>$ openssl req -key myclient.key -new -sha256 -out myclient.csr</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Send the resulting CSR for the client and the server to the relevant signing authority.</span><div>
                              <p>The signing authority sends back the signed certificates:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code>myserver.cert</code></p>
                                 </li>
                                 <li>
                                    <p><code>myclient.cert</code></p>
                                 </li>
                                 <li>
                                    <p>CA root certificate</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Convert the certificates to JKS format for the server and the client:</span><div><pre class="pre codeblock"><code>$ openssl pkcs12 -export -out serverCert.pkcs12 -in myserver.cert -inkey myserver.key</code></pre><pre class="pre codeblock"><code>$ keytool -v -importkeystore -srckeystore serverCert.pkcs12 -srcstoretype PKCS12 -destkeystore myserver.jks -deststoretype JKS</code></pre><pre class="pre codeblock"><code>$ openssl pkcs12 -export -out clientCert.pkcs12 -in myclient.cert -inkey myclient.key</code></pre><pre class="pre codeblock"><code>$ keytool -v -importkeystore -srckeystore clientCert.pkcs12 -srcstoretype PKCS12 -destkeystore myclient.jks -deststoretype JKS</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the server public key into to the client <code class="codeph">jks</code> file:</span><div><pre class="pre codeblock"><code>$ keytool -import -v -alias server-ca -file myserver.cert -keystore myclient.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the client public key to the server <code class="codeph">jks</code> file:</span><div><pre class="pre codeblock"><code>$ keytool -import -v -alias client-ca -file myclient.cert -keystore myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Import the CA root certificate from the signing authority into the Oracle Trace File Analyzer server certificate:</span><div><pre class="pre codeblock"><code>$ keytool -importcert -trustcacerts -alias inter -file caroot.cert -keystore myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restrict the permissions on the keystores to <code class="codeph">root</code> &nbsp;<code class="codeph">read-only</code>:</span><div><pre class="pre codeblock"><code>$ chmod 400 myclient.jks myserver.jks</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Copy the keystores (<code>jks</code> files) to each node.</span></li>
                        <li class="stepexpand"><span>Configure Oracle Trace File Analyzer to use the new certificates:</span><div><pre class="pre codeblock"><code>$ tfactl set sslconfig</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Restart the Oracle Trace File Analyzer process to start using the new certificates.</span><div><pre class="pre codeblock"><code>$ tfactl stop 
$ tfactl start</code></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" title="View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.">Configuring SSL and SSL Certificates</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-79506100-B1B8-4FAA-AEA3-26CA9AFE02CB" name="GUID-79506100-B1B8-4FAA-AEA3-26CA9AFE02CB"></a><h4 id="ATNMS-GUID-79506100-B1B8-4FAA-AEA3-26CA9AFE02CB" class="sect4"><span class="enumeration_section">19.7.4 </span>Configuring SSL Cipher Suite
                  </h4>
                  <div>
                     <p>The cipher suite is a set of cryptographic algorithms used by the TLS/SSL protocols to create keys and encrypt data.</p>
                     <div class="section">
                        <p>Oracle Trace File Analyzer supports any of the cipher suites used by JRE 1.8.</p>
                        <p>The default cipher suite used is <code class="codeph">TLS_RSA_WITH_AES_128_CBC_SHA256</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>You can change the cipher suite with the command:</span><div><pre class="pre codeblock"><code>tfactl set ciphersuite=<span class="variable" translate="no">cipher_suite</span></code></pre><div class="p">For example:<pre class="pre codeblock"><code>tfactl set ciphersuite=TLS_RSA_WITH_AES_128_GCM_SHA256</code></pre></div>
                           </div>
                           <div>For a list of JRE cipher suites, see:
                              <p><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html#SunJSSEProvider" target="_blank">https://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html#SunJSSEProvider</a></p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-653D5280-FD81-42D9-B8A3-23ADE71F9208" title="View and restrict SSL/TLS protocols. Configure Oracle Trace File Analyzer to use self-signed or CA-signed certificates.">Configuring SSL and SSL Certificates</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E" name="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E"></a><h3 id="ATNMS-GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E" class="sect3"><span class="enumeration_section">19.8 </span>Configuring Email Notification Details
               </h3>
               <div>
                  <p>Configure Oracle Trace File Analyzer to send an email to the registered email address after an automatic collection completes.</p>
                  <div class="p">To send emails, configure the system on which Oracle Trace Analyzer is running. You must configure notification with a user email address to enable it to work. </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-2A7C1E65-1EB0-4146-A7B0-ACA6D1278965">To configure email notification details:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>To set the notification email to use for a specific <code class="codeph">ORACLE_HOME</code>, include the operating system owner in the command:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl set notificationAddress=<span class="variable" translate="no">os_user</span>:<span class="variable" translate="no">email</span></code></pre></div>
                           <div class="p">For example:<pre class="pre codeblock"><code>tfactl set notificationAddress=oracle:some.body@example.com</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>To set the notification email to use for any <code class="codeph">ORACLE_HOME</code>:</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl set notificationAddress=<span class="variable" translate="no">email</span></code></pre></div>
                           <div class="p">For example:<pre class="pre codeblock"><code>tfactl set notificationAddress=another.body@example.com</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Configure the SMTP server using <code class="codeph">tfactl set smtp</code>.</span><div>
                           <p>Set the SMTP parameters when prompted.</p>
                           <div class="tblformal" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-D73FE584-435C-408D-8722-5CEA1DFEC9E7">
                              <p class="titleintable">Table 19-2 tfactl diagnosetfa Command Parameters</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl diagnosetfa Command Parameters" summary="This table lists and describes tfactl diagnosetfa command parameters." frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d52627e1603">Parameter</th>
                                       <th align="left" valign="bottom" width="20%" id="d52627e1605">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1609" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.host</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1609 d52627e1605 ">
                                          <p>Specify the SMTP server host name.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1617" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.port</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1617 d52627e1605 ">
                                          <p>Specify the SMTP server port.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1625" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.user</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1625 d52627e1605 ">
                                          <p>Specify the SMTP user.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1633" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.password</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1633 d52627e1605 ">
                                          <p>Specify password for the SMTP user.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1641" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.auth</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1641 d52627e1605 ">
                                          <p>Set the Authentication flag to true or false.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1649" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.ssl</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1649 d52627e1605 ">
                                          <p>Set the SSL flag to true or false.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1657" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.from</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1657 d52627e1605 ">
                                          <p>Specify the from mail ID.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1665" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.to</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1665 d52627e1605 ">
                                          <p>Specify the comma-delimited list of recipient mail IDs.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1673" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.cc</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1673 d52627e1605 ">
                                          <p>Specify the comma-delimited list of CC mail IDs.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1681" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.bcc</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1681 d52627e1605 ">
                                          <p>Specify the comma-delimited list of BCC mail IDs.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d52627e1689" headers="d52627e1603 ">
                                          <p><code class="codeph">smtp.debug</code></p>
                                       </td>
                                       <td align="left" valign="top" width="20%" headers="d52627e1689 d52627e1605 ">
                                          <p>Set the Debug flag to true or false.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnote" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-414A3CC3-C124-4061-B3D0-CD985726F126">
                              <p class="notep1">Note:</p>
                              <p>You can view current SMTP configuration details using <code class="codeph">tfactl print smtp</code>.
                              </p>
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Verify SMTP configuration by sending a test email using <code class="codeph">tfactl sendmail <span class="variable" translate="no">email_address</span></code>.</span><div>
                           <p>When Oracle Trace File Analyzer detects a significant error has occurred it will send an email notification as follows:</p>
                           <div class="p">
                              <div class="figure" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-FC6B519C-AE2B-4184-9CE2-FCC5A1E8BDA4">
                                 <p class="titleinfigure">Figure 19-1 Email Notification</p><img src="img/ora600-notification.jpg" alt="Description of Figure 19-1 follows" title="Description of Figure 19-1 follows" longdesc="img_text/ora600-notification.html"><br><a href="img_text/ora600-notification.html">Description of "Figure 19-1 Email Notification"</a></div>
                              <!-- class="figure" -->
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Do the following after receiving the notification email:</span><ol type="a">
                           <li><span>To find the root cause, inspect the referenced collection details.</span></li>
                           <li><span>If you can fix the issue, then resolve the underlying cause of the problem.</span></li>
                           <li><span>If you do not know the root cause of the problem, then log an SR with Oracle Support, and upload the collection details.</span></li>
                        </ol>
                     </li>
                  </ol>
                  <div class="example" id="GUID-CAFF8407-DA0C-4D69-A4A1-F61933BCA64E__GUID-94FE86F3-E888-43DA-9480-026BABDFF888">
                     <p class="titleinexample">Example 19-2 tfactl set smtp</p><pre class="pre codeblock"><code># /u01/app/11.2.0.4/grid/bin/tfactl set smtp 

.---------------------------.
| SMTP Server Configuration |
+---------------+-----------+
| Parameter | Value |
+---------------+-----------+
| smtp.auth | false |
| smtp.from | tfa |
| smtp.user | - |
| smtp.cc | - |
| smtp.port | 25 |
| smtp.bcc | - |
| smtp.password | ******* |
| smtp.host | localhost |
| smtp.to | - |
| smtp.debug | true |
| smtp.ssl | true |
'---------------+-----------'

Enter the SMTP property you want to update : smtp.host

Enter value for smtp.host : myhost.domain.com

SMTP Property smtp.host updated with myhost.domain.com

Do you want to continue ? [Y]|N : N

#</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-and-configuring-tfa.html#GUID-CBF85753-9DCC-48BC-AA83-5CA2982ED0EB" title="This section helps you manage Oracle Trace File Analyzer daemon, diagnostic collections, and the collection repository.">Managing and Configuring Oracle Trace File Analyzer</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>