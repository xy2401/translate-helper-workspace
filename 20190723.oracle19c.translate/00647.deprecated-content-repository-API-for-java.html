<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML DB Repository using Oracle XML DB Content Connector."></meta>
      <meta name="description" content="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML DB Repository using Oracle XML DB Content Connector."></meta>
      <title>不推荐使用的Java内容存储库API</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Oracle XML DB Content Connector implements Content Repository API for Java (also known as JCR), a Java API standard developed by the Java community as JSR-170. You can access Oracle XML DB Repository using Oracle XML DB Content Connector."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="XML-DB-restrictions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="book-index.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XML-DB-restrictions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="book-index.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendices.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">不推荐使用的Java内容存储库API</li>
            </ol>
            <a id="GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" name="GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF"></a>
            
            <h2 id="ADXDB-GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" class="sect2"><span class="enumeration_chapter">C</span>不推荐使用的Java内容存储库API</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='deprecated-content-repository-API-for-java'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。</p>
               <div class="infoboxnote" id="GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF__GUID-F945FE22-07EF-4F1C-A27E-C54449322CBB">
                  <p class="notep1">注意：</p>
                  <p><span class="italic">不推荐使用</span> Oracle XML DB Content Connector，从Oracle Database 12c第2版（12.2.0.1）开始。Java标准JSR-170已被JSR-283 Content Repository for Java Technology Version 2.0取代。
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543">关于Java的内容存储库API（JCR）</a><br>JCR 1.0为应用程序定义了一个标准Java API，以便与内容存储库进行交互。内容存储库是节点树，每个节点可以具有一个或多个子节点。每个节点只有一个父节点，但根节点除外，它没有父节点。
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-ECCC3B15-8448-44F7-990B-391709FC0406">关于Oracle XML DB Content Connector</a><br>Oracle XML DB Content Connector允许您使用JCR 1.0 Java访问Oracle XML DB存储库。您的应用程序可以在独立的Java虚拟机（JVM）或J2EE容器中运行。存储库中的文件和文件夹表示为JCR节点（以及这些节点的属性）。
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-F5DE153B-484D-4802-96AA-EA3B99925284">如何在JCR中公开Oracle XML DB存储库</a><br>Oracle XML DB Content Connector将Oracle XML DB Repository中的数据表示为JCR节点和属性。文件和文件夹分别表示为类型为<code class="codeph">nt:file</code>和<code class="codeph">nt:folder</code>节点。它们的内容和元数据作为节点类型<code class="codeph">nt:resource</code>的节点公开。
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-13A9B8B2-A114-4A2E-A969-66BA63A65EB3">CLASSPATH for Oracle XML DB Content Connector</a><br>Oracle XML DB Content Connector需要环境变量<code class="codeph">CLASSPATH</code>某些条目。</li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-0562911B-7E28-4C29-83F5-445C4727EDF4">获取JCR存储库对象</a><br>在Oracle XML DB Content Connector中， <code class="codeph">oracle.jcr.OracleRepository</code>实现了JCR接口<code class="codeph">javax.jcr.Repository</code> ，它提供JCR存储库的入口点。您可以使用它来获取Oracle XML DB Repository的<code class="codeph">Repository</code>对象。
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5">使用Oracle XML DB Content Connector将文件上载到存储库的Java代码</a><br>您可以使用Oracle XML DB Content Connector将文件从本地文件系统上载到Oracle XML DB Repository。
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-1F72EBAC-F5BD-46B9-92EC-404C9FB254D3">其他JCR代码示例</a><br>您可以在<code class="codeph">$ORACLE_HOME/xdk/demo/java/jcr</code>找到其他示例JCR代码。对于每个代码示例， <code class="codeph">README</code>文件描述了其用途和用途。
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-646D0849-09DF-4260-9895-A6DA1A634A02">Oracle XML DB Content Connector使用标准Java日志API</a><br>Oracle XML DB Content Connector使用标准的<code class="codeph">java.util.logging</code>框架。您可以使用该框架提供的日志记录API来控制日志记录行为。
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-A748295C-08E8-497F-BC9B-8573014CB329">支持的JCR合规级别</a><br>定义JCR版本1.0的JSR-170标准定义了两个合规级别和一组可选功能。Oracle XML DB Content Connector支持Level 1（读取函数）和Level 2（写入函数）。
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-B95FD86F-9769-4B90-8C7A-B05E21CEF483">Oracle XML DB内容连接器限制</a><br>某些限制适用于Oracle XML DB Content Connector。
                  </li>
                  <li class="ulchildlink"><a href="deprecated-content-repository-API-for-java.html#GUID-5015FD42-CA22-484C-B52E-444D8E10CE9A">XML Schema和JCR</a><br>Oracle XML DB Content Connector可以从XML模式创建JCR节点类型。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="appendices.html#GUID-F5090451-FFF7-4DE0-BA7A-B62D819E787F" title="这里的附录提供了Oracle XML DB的背景材料。">附录</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543" name="GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543"></a><h3 id="ADXDB-GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543" class="sect3"><span class="enumeration_section">C.1</span>关于Java的内容存储库API（JCR）</h3>
               <div>
                  <p>JCR 1.0为应用程序定义了一个标准Java API，以便与内容存储库进行交互。内容存储库是节点树，每个节点可以具有一个或多个子节点。每个节点只有一个父节点，但根节点除外，它没有父节点。</p>
                  <p>除子节点外，节点还可以具有一个或多个属性。属性是一个简单的名称/值对。例如，表示内容存储库中特定文件的节点具有名为<code class="codeph">jcr:created</code>的属性，其值为文件的创建日期。
                  </p>
                  <p>每个属性都有一个属性类型。例如， <code class="codeph">jcr:created</code>属性具有<code class="codeph">DATE</code>属性类型，要求其值为有效日期/时间。
                  </p>
                  <p>类似地，每个节点都有一个节点类型。例如，表示文件的节点具有节点类型<code class="codeph">nt:file</code> 。节点类型控制节点可能具有或必须具有的子节点和属性。例如，类型为<code class="codeph">nt:file</code>所有节点都必须具有<code class="codeph">jcr:created</code>属性。
                  </p>
                  <p>由于节点和属性已命名，因此可以通过路径进行寻址。JCR支持绝对路径和相对路径。例如，绝对路径</p><pre class="pre codeblock"><code>/我的文件/ pictures / puppy.jpg / jcr：已创建</code></pre><p>解析为文件<code class="codeph">puppy.jpg</code>的<code class="codeph">jcr:created</code>属性。此属性也可以通过以下相对路径相对于“ <code class="codeph">My Documents</code>文件夹进行寻址：</p><pre class="pre codeblock"><code>图片/小狗.jpg / JCR：创建</code></pre><p>节点和属性名称可以是名称空间限定的。与XML一样，JCR使用冒号分隔的名称空间前缀来表示名称空间限定名称，例如<code class="codeph">jcr:created</code> 。与XML不同，JCR在存储库范围的命名空间注册表中记录命名空间前缀到URI的映射，例如，将<code class="codeph">jcr</code>前缀映射到URI <code class="codeph">http://www.jcp.org/jcr/1.0</code> 。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-83A8D8D9-4D02-4305-A599-22A4A2A06543__GUID-56ED313E-58BA-40C7-8C49-C0BCC377EDF3">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdb&amp;id=jcp_org_jsr_170" target="_blank">JSR 170：Java技术API的内容存储库</a> 。本规范的第4章简要介绍了JCR 1.0。
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-ECCC3B15-8448-44F7-990B-391709FC0406" name="GUID-ECCC3B15-8448-44F7-990B-391709FC0406"></a><h3 id="ADXDB-GUID-ECCC3B15-8448-44F7-990B-391709FC0406" class="sect3"><span class="enumeration_section">C.2</span>关于Oracle XML DB Content Connector</h3>
               <div>
                  <p>Oracle XML DB Content Connector允许您使用JCR 1.0 Java访问Oracle XML DB存储库。您的应用程序可以在独立的Java虚拟机（JVM）或J2EE容器中运行。存储库中的文件和文件夹表示为JCR节点（以及这些节点的属性）。</p>
                  <p>您可以使用JCR API创建，检索和更新存储库文件和文件夹。</p>
                  <div class="infoboxnote" id="GUID-ECCC3B15-8448-44F7-990B-391709FC0406__GUID-E27DB720-49A7-40DC-834E-BE5CE17763A3">
                     <p class="notep1">注意：</p>
                     <p>在数据库中使用Oracle XML DB Content Connector不支持Oracle JVM（数据库进程中可用的Java虚拟机）。要在数据库层中使用内容连接器，必须使用独立的Java虚拟机或J2EE容器。</p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-F5DE153B-484D-4802-96AA-EA3B99925284" name="GUID-F5DE153B-484D-4802-96AA-EA3B99925284"></a><h3 id="ADXDB-GUID-F5DE153B-484D-4802-96AA-EA3B99925284" class="sect3"><span class="enumeration_section">C.3</span>如何在JCR中公开Oracle XML DB存储库</h3>
               <div>
                  <p>Oracle XML DB Content Connector将Oracle XML DB Repository中的数据表示为JCR节点和属性。文件和文件夹分别表示为类型为<code class="codeph">nt:file</code>和<code class="codeph">nt:folder</code>节点。它们的内容和元数据作为节点类型<code class="codeph">nt:resource</code>的节点公开。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-13A9B8B2-A114-4A2E-A969-66BA63A65EB3" name="GUID-13A9B8B2-A114-4A2E-A969-66BA63A65EB3"></a><h3 id="ADXDB-GUID-13A9B8B2-A114-4A2E-A969-66BA63A65EB3" class="sect3"><span class="enumeration_section">C.4</span>用于Oracle XML DB Content Connector的CLASSPATH</h3>
               <div>
                  <p>Oracle XML DB Content Connector需要环境变量<code class="codeph">CLASSPATH</code>某些条目。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">$ ORACLE_HOME / lib目录/ JCR-1.0.jar</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">$ ORACLE_HOME / lib目录/ ojcr.jar</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">$ ORACLE_HOME / lib目录/ xmlparserv2.jar</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">$ ORACLE_HOME / jlib / xquery.jar</code></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-0562911B-7E28-4C29-83F5-445C4727EDF4" name="GUID-0562911B-7E28-4C29-83F5-445C4727EDF4"></a><h3 id="ADXDB-GUID-0562911B-7E28-4C29-83F5-445C4727EDF4" class="sect3"><span class="enumeration_section">C.5</span>获取JCR存储库对象</h3>
               <div>
                  <p>在Oracle XML DB Content Connector中， <code class="codeph">oracle.jcr.OracleRepository</code>实现了JCR接口<code class="codeph">javax.jcr.Repository</code> ，它提供JCR存储库的入口点。您可以使用它来获取Oracle XML DB Repository的<code class="codeph">Repository</code>对象。
                  </p>
                  <div class="section">
                     <p><a href="deprecated-content-repository-API-for-java.html#GUID-0562911B-7E28-4C29-83F5-445C4727EDF4__BABIDJDH">例C-1中</a>的代码片段说明了这一点。
                     </p>
                     <p><code class="codeph">OracleRepository</code>实现了<code class="codeph">java.io.Serializable</code>和<code class="codeph">javax.naming.Referenceable</code> 。这使您可以在部署应用程序时创建和配置<code class="codeph">OracleRepository</code>对象，并将现成的<code class="codeph">OracleRepository</code>对象存储在JNDI目录中。在运行时，您的应用程序可以从JNDI目录中检索预配置的<code class="codeph">OracleRepository</code>对象。JCR规范推荐的这种方法将部署和运行时问题分开。
                     </p>
                     <p>在Oracle XML DB Content Connector中，形成JCR命名空间注册表的前缀到URI映射集存储为<code class="codeph">OracleRepository</code>配置的一部分。
                     </p>
                     <div class="infoboxnotealso" id="GUID-0562911B-7E28-4C29-83F5-445C4727EDF4__GUID-A4F4684B-D3F7-48AB-90C5-48E6D6A3EE2C">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API参考</cite></span></a> ，包<code class="codeph">oracle.jcr</code></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0562911B-7E28-4C29-83F5-445C4727EDF4__BABIDJDH">
                     <p class="titleinexample">示例C-1代码片段显示如何获取存储库对象</p><pre class="oac_no_warn" dir="ltr">import oracle.jcr。OracleRepository; import oracle.jcr。OracleRepositoryFactory; import oracle.jcr.xdb。XDBRepositoryConfiguration; import oracle.jdbc.pool。OracleDataSource; ...XDBRepositoryConfiguration配置=新的XDBRepositoryConfiguration（）; OracleDataSource ods =（OracleDataSource）configuration.getDataSource（）; // databaseURL是一个JDBC数据库URL。 ods.setURL（databaseURL）; // OracleRepository实现了javax.jcr。库。OracleRepository repository = OracleRepositoryFactory。 <span class="bold">createOracleRepository</span> （配置）;</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5" name="GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5"></a><h3 id="ADXDB-GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5" class="sect3"><span class="enumeration_section">C.6</span>使用Oracle XML DB Content Connector将文件上载到存储库的Java代码</h3>
               <div>
                  <p>您可以使用Oracle XML DB Content Connector将文件从本地文件系统上载到Oracle XML DB Repository。</p>
                  <div class="section">
                     <p><a href="deprecated-content-repository-API-for-java.html#GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5__BABGDJIG">示例C-2</a>是一个Java程序，用于说明这一点。您可以从命令行编译并运行它。该程序需要以下命令行参数：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>JDBC数据库URL</p>
                        </li>
                        <li>
                           <p>用户身份</p>
                        </li>
                        <li>
                           <p>用户密码</p>
                        </li>
                        <li>
                           <p>Oracle XML DB Repository中的文件夹，用于上载文件</p>
                        </li>
                        <li>
                           <p>要上传的文件</p>
                        </li>
                        <li>
                           <p>MIME类型</p>
                        </li>
                     </ul>
                     <p><a href="deprecated-content-repository-API-for-java.html#GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5__BGBFJGFD">例C-3</a>说明了这一点。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5__BABGDJIG">
                     <p class="titleinexample">示例C-2使用Oracle XML DB Content Connector上载文件</p><pre class="pre codeblock"><code>import java.io.的FileInputStream; import javax.jcr。节点; import javax.jcr。会议; import javax.jcr。SimpleCredentials; import oracle.jcr。OracleRepository; import oracle.jcr。OracleRepositoryFactory; import oracle.jcr.xdb。XDBRepositoryConfiguration; import oracle.jdbc.pool。OracleDataSource; public class UploadFile {public static void main（String [] args）throws Exception {String databaseURL = args [0]; String userName = args [1]; String password = args [2]; String parentPath = args [3]; String fileName = args [4]; String mimeType = args [5]; //获取JCR Repository对象。XDBRepositoryConfiguration配置=新的XDBRepositoryConfiguration（）; OracleDataSource ods =（OracleDataSource）configuration.getDataSource（）; ods.setURL（databaseURL）; OracleRepository repository = OracleRepositoryFactory.createOracleRepository（configuration）; //创建JCR会话SimpleCredentials sc = new SimpleCredentials（userName，password.toCharArray（））;会话会话= repository.login（sc）; //获取父节点。节点parentNode =（Node）session.getItem（parentPath）; //获取子内容FileInputStream inputStream = new FileInputStream（fileName）; //创建子节点Node node = parentNode.addNode（fileName，“nt：file”）;节点contentNode = node.getNode（“jcr：content”）; contentNode.setProperty（“jcr：mimeType”，mimeType）; contentNode.setProperty（“jcr：data”，inputStream）; //保存更改并注销。session.save（）; session.logout（）; }} // EOF</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-C6E68FC7-7F4D-4F43-B528-7450323024A5__BGBFJGFD">
                     <p class="titleinexample">示例C-3使用命令行上载文件</p><pre class="pre codeblock"><code>export CLASSPATH =。：$ ORACLE_HOME / lib / jcr-1.0.jar：$ ORACLE_HOME / lib / ojcr.jar： <a id="fn_1" name="fn_1" href="#fn_1" this="" statement="" is="" split="" across="" two="" lines="" for="" the="" purpose="" of="" documentation=")" ="" onclick="footdisplay(1, "><sup>Foot 1</sup></a> $ ORACLE_HOME / lib / xmlparserv2.jar：$ ORACLE_HOME / jlib / xquery.jar javac UploadFile.java java UploadFile jdbc：oracle：oci：@quine <span class="italic"><code class="codeph">password</code></span> / public MyFile.txt text / plain</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-1F72EBAC-F5BD-46B9-92EC-404C9FB254D3" name="GUID-1F72EBAC-F5BD-46B9-92EC-404C9FB254D3"></a><h3 id="ADXDB-GUID-1F72EBAC-F5BD-46B9-92EC-404C9FB254D3" class="sect3"><span class="enumeration_section">C.7</span>其他JCR代码示例</h3>
               <div>
                  <p>您可以在<code class="codeph">$ORACLE_HOME/xdk/demo/java/jcr</code>找到其他示例JCR代码。对于每个代码示例， <code class="codeph">README</code>文件描述了其用途和用途。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-646D0849-09DF-4260-9895-A6DA1A634A02" name="GUID-646D0849-09DF-4260-9895-A6DA1A634A02"></a><h3 id="ADXDB-GUID-646D0849-09DF-4260-9895-A6DA1A634A02" class="sect3"><span class="enumeration_section">C.8</span> Oracle XML DB Content Connector使用标准Java日志API</h3>
               <div>
                  <p>Oracle XML DB Content Connector使用标准的<code class="codeph">java.util.logging</code>框架。您可以使用该框架提供的日志记录API来控制日志记录行为。
                  </p>
                  <p>例如，以下Java代码片段禁用所有日志记录。</p><pre class="pre codeblock"><code>import java.util.logging。日志管理; ...LogManager.getLogManager（）复位（）;</code></pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-A748295C-08E8-497F-BC9B-8573014CB329" name="GUID-A748295C-08E8-497F-BC9B-8573014CB329"></a><h3 id="ADXDB-GUID-A748295C-08E8-497F-BC9B-8573014CB329" class="sect3"><span class="enumeration_section">C.9</span>支持的JCR合规级别</h3>
               <div>
                  <p>定义JCR版本1.0的JSR-170标准定义了两个合规级别和一组可选功能。Oracle XML DB Content Connector支持Level 1（读取函数）和Level 2（写入函数）。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-B95FD86F-9769-4B90-8C7A-B05E21CEF483" name="GUID-B95FD86F-9769-4B90-8C7A-B05E21CEF483"></a><h3 id="ADXDB-GUID-B95FD86F-9769-4B90-8C7A-B05E21CEF483" class="sect3"><span class="enumeration_section">C.10</span> Oracle XML DB内容连接器限制</h3>
               <div>
                  <p>某些限制适用于Oracle XML DB Content Connector。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-5015FD42-CA22-484C-B52E-444D8E10CE9A" name="GUID-5015FD42-CA22-484C-B52E-444D8E10CE9A"></a><h3 id="ADXDB-GUID-5015FD42-CA22-484C-B52E-444D8E10CE9A" class="sect3"><span class="enumeration_section">C.11</span> XML Schema和JCR</h3>
               <div>
                  <p>Oracle XML DB Content Connector可以从XML模式创建JCR节点类型。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="deprecated-content-repository-API-for-java.html#GUID-F0007175-676B-4187-AF1F-FC24D5ADCDBF" title="Oracle XML DB Content Connector实现了Java的Content Repository API（也称为JCR），这是Java社区为JSR-170开发的Java API标准。您可以使用Oracle XML DB Content Connector访问Oracle XML DB存储库。">适用于Java的不推荐的内容存储库API</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">脚注图例</p>脚注1：<p>为了文档的目的，本声明分为两行。</p><br></div>
      </article>
   </body>
</html>