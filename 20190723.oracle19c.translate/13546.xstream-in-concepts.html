<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Become familiar with the concepts related to XStream In."></meta>
      <meta name="description" content="Become familiar with the concepts related to XStream In."></meta>
      <title>XStream在概念中</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="XStream Guide "></meta>
      <meta property="og:description" content="Become familiar with the concepts related to XStream In."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="XStream Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xstream-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:15-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2009, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96280-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="xstream-in.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-xstream-in.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XStream Guide"></meta>
    <meta name="dcterms.isVersionOf" content="XSTRM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="xstream-in.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-xstream-in.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XStream指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="xstream-in.html" property="item" typeof="WebPage"><span property="name">XStream In</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">XStream在概念中</li>
            </ol>
            <a id="GUID-D2C787E8-E16F-4286-921E-93195265E4F7" name="GUID-D2C787E8-E16F-4286-921E-93195265E4F7"></a><a id="XSTRM72696"></a>
            
            <h2 id="XSTRM-GUID-D2C787E8-E16F-4286-921E-93195265E4F7" class="sect2"><span class="enumeration_chapter">8</span>概念中的XStream</h2>
         </header>
         <div class="ind">
            <p>熟悉与XStream In相关的概念。</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-E69A3573-0460-454F-91E5-2DD91E3C1AA0">XStream简介</a><br>XStream In使远程客户端应用程序能够从另一个系统（例如非Oracle数据库或文件系统）将信息发送到Oracle数据库。
                  </li>
                  <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C">入站服务器</a><br>使用XStream In，入站服务器从客户端应用程序接收数据库更改。
                  </li>
                  <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-25617A91-D3E3-4848-9B28-90F5C00743C9">LCR和XStream的位置</a><br>客户端应用程序将LCR流式传输到入站服务器中的XStream。
                  </li>
                  <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-C2804BE9-6FDD-4024-910D-1B17176CA655">XStream In和性能注意事项</a><br>有关XStream In和性能的注意事项。
                  </li>
                  <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-7020188C-8108-44E6-B6EF-9AFA035786C7">XStream In和Security</a><br>了解与客户端应用程序和XStream组件相关的安全性，以及应用用户对入站服务器所需的权限。
                  </li>
                  <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-B2EF8B86-FFF0-4251-9FE3-577BF3F214CE">XStream In和其他Oracle数据库组件</a><br>XStream In可以与其他Oracle数据库组件一起使用。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="xstream-in.html#GUID-D7F5E262-D5D6-4286-95CD-E69FFB8DAAAE" title="您可以配置和管理XStream In环境。">XStream In</a></p>
                  </div>
               </div>
            </div>
            <a id="XSTRM1099"></a><div class="props_rev_3"><a id="GUID-E69A3573-0460-454F-91E5-2DD91E3C1AA0" name="GUID-E69A3573-0460-454F-91E5-2DD91E3C1AA0"></a><h3 id="XSTRM-GUID-E69A3573-0460-454F-91E5-2DD91E3C1AA0" class="sect3"><span class="enumeration_section">8.1</span> XStream简介</h3>
               <div>
                  <p>XStream In使远程客户端应用程序能够从另一个系统（例如非Oracle数据库或文件系统）将信息发送到Oracle数据库。</p>
                  <p>XStream In提供了一个高效的，基于事务的接口，用于从客户端应用程序向Oracle数据库发送信息。XStream In可以通过多种方式使用进入Oracle数据库的信息，包括数据复制，审计和更改数据捕获。XStream In支持OCI和Java接口。</p>
                  <p>与直接对Oracle数据库进行DML更改的OCI客户端应用程序相比，XStream In对于Oracle数据库的近实时，基于事务的异构DML更改更有效。</p>
                  <p>XStream In使用以下Oracle Replication功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>DML的高性能处理改变，可选地具有并行性</p>
                     </li>
                     <li>
                        <p>使用应用处理程序应用流程功能，例如SQL生成，冲突检测和解决，错误处理以及自定义处理</p>
                     </li>
                     <li>
                        <p>以最少的网络往返流式传输信息的网络</p>
                     </li>
                     <li>
                        <p>规则，规则集和基于规则的转换</p>
                        <p>在入站服务器使用的规则上指定基于规则的自定义转换时，调用转换函数的用户是入站服务器的应用用户。</p>
                     </li>
                  </ul>
                  <p>XStream In支持Oracle Replication支持的所有数据类型，包括LOB， <code class="codeph">LONG</code> ， <code class="codeph">LONG</code> <code class="codeph">RAW</code>和<code class="codeph">XMLType</code> 。客户端应用程序以块的形式将LOB和<code class="codeph">XMLType</code>数据发送到入站服务器。几个块包含单列值LOB， <code class="codeph">LONG</code> ， <code class="codeph">LONG</code> <code class="codeph">RAW</code>或<code class="codeph">XMLType</code>数据类型。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E69A3573-0460-454F-91E5-2DD91E3C1AA0__GUID-539E171C-BEDC-4AEE-88EB-3D39166B9FEB">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../lnoci/intro-to-oci-interface-for-XStream.html#LNOCI72903" target="_blank"><span><cite>Oracle调用接口程序员指南</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="../stxjv/index.html" target="_blank"><span><cite>Oracle数据库XStream Java API参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-D2C787E8-E16F-4286-921E-93195265E4F7" title="熟悉与XStream In相关的概念。">概念中的XStream</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM1100"></a><div class="props_rev_3"><a id="GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" name="GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C"></a><h3 id="XSTRM-GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" class="sect3"><span class="enumeration_section">8.2</span>入站服务器</h3>
               <p>使用XStream In，入站服务器从客户端应用程序接收数据库更改。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-6698E43D-F4E3-492E-A166-13F49DDB5201">入站服务器概述</a><br><span class="bold">入站服务器</span>是可选的Oracle后台进程，它从客户端应用程序接收LCR。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-84AE0643-6175-4C06-ACA9-DBF52BB29CFB">入站服务器应用的数据类型</a><br>入站服务器支持大多数数据类型。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-B075A397-158F-4187-A9EB-6AEA14BB9755">入站服务器的LCR处理选项</a><br>入站服务器可以直接应用LCR，也可以将LCR发送到应用处理程序进行处理。您的LCR处理选项取决于入站服务器接收的LCR是行LCR还是DDL LCR。</li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-26C60FD5-EC75-412D-9134-CA8D62EF2980">入站服务器和受限制的会话</a><br>启用和禁用受限会话会影响入站服务器。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-ECE67E2D-FC0E-4897-A9AE-709F25705B27">入站服务器组件</a><br>入站服务器由以下子组件组成：读取器服务器，协调器进程和一个或多个应用服务器。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-9AF938AA-3035-4D9B-9D7E-A8768D2364CB">入站服务器的注意事项</a><br>入站服务器有几个注意事项。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-5602248A-8DE3-495B-B1E9-F1F61CC798C3">入站服务器的错误队列</a><br>错误队列包含数据库的所有当前应用错误。如果数据库中有多个入站服务器，则错误队列包含每个入站服务器的应用错误。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-D2C787E8-E16F-4286-921E-93195265E4F7" title="熟悉与XStream In相关的概念。">概念中的XStream</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM1425"></a><a id="XSTRM72863"></a><div class="props_rev_3"><a id="GUID-6698E43D-F4E3-492E-A166-13F49DDB5201" name="GUID-6698E43D-F4E3-492E-A166-13F49DDB5201"></a><h4 id="XSTRM-GUID-6698E43D-F4E3-492E-A166-13F49DDB5201" class="sect4"><span class="enumeration_section">8.2.1</span>入站服务器概述</h4>
                  <div>
                     <p><span class="bold">入站服务器</span>是可选的Oracle后台进程，它从客户端应用程序接收LCR。
                     </p>
                     <p>具体来说，客户端应用程序可以附加到入站服务器并发送行更改，DDL更改和封装在LCR中的过程调用。</p>
                     <p>外部客户端应用程序使用OCI或Java接口连接到入站服务器。建立连接后，客户端应用程序通过将LCR流式传输到其中，充当入站服务器的捕获代理。</p>
                     <p>客户端应用程序可以创建多个会话。每个会话只能连接到一个入站服务器，每个入站服务器一次只能为一个会话服务。但是，不同的客户端应用程序会话可以连接到不同的入站服务器或出站服务器。必要时，客户端应用程序可以从入站服务器分离。</p>
                     <p>入站服务器配置<a href="xstream-in-concepts.html#GUID-6698E43D-F4E3-492E-A166-13F49DDB5201__BCEFBCGA">如图8-1</a>所示。
                     </p>
                     <div class="figure" id="GUID-6698E43D-F4E3-492E-A166-13F49DDB5201__BCEFBCGA">
                        <p class="titleinfigure">图8-1入站服务器中的XStream</p><img src="img/xstrm064.gif" width="542" alt="下面是图8-1的描述" title="下面是图8-1的描述" longdesc="img_text/xstrm064.html"><br><a href="img_text/xstrm064.html">“图8-1入站服务器中的XStream”的说明</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnote" id="GUID-6698E43D-F4E3-492E-A166-13F49DDB5201__GUID-D86CA7E5-7DD4-4D65-A119-77AAD6C21BA7">
                        <p class="notep1">注意：</p>
                        <p>入站服务器使用未在<a href="xstream-in-concepts.html#GUID-6698E43D-F4E3-492E-A166-13F49DDB5201__BCEFBCGA">图8-1中</a>显示的队列。入站服务器的队列仅用于存储错误事务。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" title="使用XStream In，入站服务器从客户端应用程序接收数据库更改。">入站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72697"></a><div class="props_rev_3"><a id="GUID-84AE0643-6175-4C06-ACA9-DBF52BB29CFB" name="GUID-84AE0643-6175-4C06-ACA9-DBF52BB29CFB"></a><h4 id="XSTRM-GUID-84AE0643-6175-4C06-ACA9-DBF52BB29CFB" class="sect4"><span class="enumeration_section">8.2.2</span>入站服务器应用的数据类型</h4>
                  <div>
                     <p>入站服务器支持大多数数据类型。</p>
                     <p>将DML更改产生的行LCR应用于表时，入站服务器会应用对以下数据类型的列所做的更改：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">VARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NVARCHAR2</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">数</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">浮动</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">长</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">日期</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_FLOAT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">BINARY_DOUBLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">INTERVAL</code> <code class="codeph">YEAR</code> <code class="codeph">TO</code> <code class="codeph">MONTH</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">INTERVAL</code> <code class="codeph">DAY</code> <code class="codeph">TO</code> <code class="codeph">SECOND</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">生的</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LONG</code> <code class="codeph">RAW</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">UROWID</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NCHAR</code></p>
                        </li>
                        <li>
                           <p>带有<code class="codeph">BASICFILE</code>或<code class="codeph">SECUREFILE</code>存储的<code class="codeph">CLOB</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NCLOB</code>具有<code class="codeph">BASICFILE</code>或<code class="codeph">SECUREFILE</code>存储</p>
                        </li>
                        <li>
                           <p>带有<code class="codeph">BASICFILE</code>或<code class="codeph">SECUREFILE</code>存储的<code class="codeph">BLOB</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">XMLType</code>存储为<code class="codeph">CLOB</code> ，对象关系或二进制XML</p>
                        </li>
                        <li>
                           <p>对象类型</p>
                        </li>
                        <li>
                           <p>可变数组</p>
                        </li>
                        <li>
                           <p><code class="codeph">REF</code>数据类型</p>
                        </li>
                        <li>
                           <p>以下Oracle提供的类型： <code class="codeph">ANYDATA</code> ， <code class="codeph">SDO_GEOMETRY</code>和媒体类型</p>
                        </li>
                        <li>
                           <p><code class="codeph">BFILE</code></p>
                        </li>
                     </ul>
                     <p>如果XStream正在复制对象类型的数据，则复制必须是单向的，并且所有复制站点必须就对象类型中属性的名称和数据类型达成一致。在创建对象类型时，可以建立属性的名称和数据类型。例如，请考虑以下对象类型：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE cust_address_typ AS OBJECT（street_address VARCHAR2（40），postal_code VARCHAR2（10），city VARCHAR2（30），state_province VARCHAR2（10），country_id CHAR（2））; /</pre><p>在所有复制站点， <code class="codeph">street_address</code>必须是<code class="codeph">VARCHAR2(40)</code> ， <code class="codeph">postal_code</code>必须是<code class="codeph">VARCHAR2(10)</code> ， <code class="codeph">city</code>必须是<code class="codeph">VARCHAR2(30)</code> ，依此类推。
                     </p>
                     <div class="infoboxnote" id="GUID-84AE0643-6175-4C06-ACA9-DBF52BB29CFB__GUID-703D58E3-B6C9-4748-84CE-5259FEA12835">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>所述的最大大小<code class="codeph">VARCHAR2</code> ， <code class="codeph">NVARCHAR2</code> ，和<code class="codeph">RAW</code>数据类型已在Oracle数据库<span class="italic">12c</span>中，当已增加<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">12.0.0</code>和<code class="codeph">MAX_STRING_SIZE</code>初始化参数设置为<code class="codeph">EXTENDED</code> 。</p>
                           </li>
                           <li>
                              <p>存储为<code class="codeph">CLOB</code> <code class="codeph">XMLType</code>在Oracle Database 12 <span class="italic">c</span>第1版（12.1）中已弃用。
                              </p>
                           </li>
                           <li>
                              <p>对于<code class="codeph">BFILE</code> ，仅复制数据类型结构，而不复制文件系统上存在的<code class="codeph">BFILE</code>的内容。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-84AE0643-6175-4C06-ACA9-DBF52BB29CFB__GUID-3A9CA1DD-C9AA-447E-BF2F-81105DFAD6A0">
                        <p class="notep1">也可以看看：</p>
                        <p>有关数据类型的信息，请<a href="../sqlrf/Data-Types.html#SQLRF0021" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" title="使用XStream In，入站服务器从客户端应用程序接收数据库更改。">入站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72699"></a><a id="XSTRM72698"></a><div class="props_rev_3"><a id="GUID-B075A397-158F-4187-A9EB-6AEA14BB9755" name="GUID-B075A397-158F-4187-A9EB-6AEA14BB9755"></a><h4 id="XSTRM-GUID-B075A397-158F-4187-A9EB-6AEA14BB9755" class="sect4"><span class="enumeration_section">8.2.3</span>入站服务器的LCR处理选项</h4>
                  <div>
                     <p>入站服务器可以直接应用LCR，也可以将LCR发送到应用处理程序进行处理。您的LCR处理选项取决于入站服务器接收的LCR是行LCR还是DDL LCR。</p>
                     <p>默认情况下，入站服务器直接应用LCR。入站服务器在LCR中标识的数据库对象上执行LCR的更改。入站服务器成功应用LCR中的更改，或者，如果遇到冲突或应用错误，则尝试使用冲突处理程序或称为错误处理程序的用户指定过程来解决错误。</p>
                     <p>如果冲突处理程序可以解决冲突，那么它应用LCR或丢弃LCR中的更改。如果错误处理程序可以解决错误，那么它应该应用LCR（如果适用）。错误处理程序可以通过在应用之前修改LCR来解决错误。如果冲突处理程序或错误处理程序无法解决错误，则入站服务器会将事务以及与事务关联的所有LCR放入错误队列中。</p>
                     <p>您可以使用应用处理程序以自定义方式处理LCR，而不是直接应用LCR。使用apply处理程序时，入站服务器会将LCR传递给SQL语句的集合或用户定义的PL / SQL过程进行处理。应用处理程序可以自定义方式处理LCR。</p>
                     <p>有几种类型的应用处理程序。本节使用以下类别来描述应用处理程序：</p>
                     <div class="tblformal" id="GUID-B075A397-158F-4187-A9EB-6AEA14BB9755__GUID-3F5E52EC-7260-4E89-B59A-533210F39519">
                        <p class="titleintable">表8-1 Apply处理程序的特征</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="应用处理程序的特征" width="100%" border="1" summary="This table lists the category for apply handlers and a description for each category." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d42775e1108">类别</th>
                                 <th align="left" valign="bottom" width="69%" id="d42775e1111">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d42775e1116" headers="d42775e1108 ">
                                    <p>机制</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d42775e1116 d42775e1111 ">
                                    <p>应用处理程序处理LCR的方法。应用程序处理程序的机制是SQL语句或用户定义的PL / SQL过程。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d42775e1123" headers="d42775e1108 ">
                                    <p>LCR的类型</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d42775e1123 d42775e1111 ">
                                    <p>应用处理程序处理的LCR类型。LCR类型是行LCR，DDL LCR或事务控制指令。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d42775e1130" headers="d42775e1108 ">
                                    <p>范围</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d42775e1130 d42775e1111 ">
                                    <p>设置应用处理程序的级别。范围是一个表上的一个操作或所有数据库对象上的所有操作。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d42775e1137" headers="d42775e1108 ">
                                    <p>每个入站服务器允许的数量</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d42775e1137 d42775e1111 ">
                                    <p>每个入站服务器允许的特定类型的应用处理程序数。允许的数量是一个或多个。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-EC23A03E-22BE-41A7-8347-68CF2E507E1A">DML处理程序</a><br>DML处理程序处理入站服务器接收的行LCR。
                        </li>
                        <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-B3A9E840-E0FE-416F-80FC-4B2EA1A04E81">错误处理程序</a><br>错误处理程序类似于过程DML处理程序。两者之间的区别在于，仅当入站服务器尝试对指定表上的指定操作应用行LCR时，才会调用应用错误，从而调用错误处理程序。
                        </li>
                        <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-8F42E223-F90F-4126-ACBA-56C55D0CBECD">DDL处理程序</a><br><span class="bold">DDL处理程序</span>使用PL / SQL过程来处理DDL LCR。
                        </li>
                        <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-FC9D03AC-28FB-49C6-9D36-D92B3CF31B89">预先处理</a><br><span class="bold">预</span>提交<span class="bold">处理程序</span>使用PL / SQL过程来处理包含行LCR的事务的commit指令。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" title="使用XStream In，入站服务器从客户端应用程序接收数据库更改。">入站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="XSTRM72700"></a><div class="props_rev_3"><a id="GUID-EC23A03E-22BE-41A7-8347-68CF2E507E1A" name="GUID-EC23A03E-22BE-41A7-8347-68CF2E507E1A"></a><h5 id="XSTRM-GUID-EC23A03E-22BE-41A7-8347-68CF2E507E1A" class="sect5"><span class="enumeration_section">8.2.3.1</span> DML处理程序</h5>
                     <div>
                        <p>DML处理程序处理入站服务器接收的行LCR。</p>
                        <p>有两种类型的DML处理程序：语句DML处理程序和过程DML处理程序。语句DML处理程序使用一组SQL语句来处理行LCR，而过程DML处理程序使用PL / SQL过程来处理行LCR。</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-20BF2527-F4E5-4ECA-8BA7-D20BAE352D1A">声明DML处理程序</a><br><span class="bold">语句DML处理程序</span>使用一组SQL语句来处理行LCR。
                           </li>
                           <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-7A1AB243-D559-49C6-B9FD-858CCC6B66C3">过程DML处理程序</a><br><span class="bold">过程DML处理程序</span>使用PL / SQL过程来处理行LCR。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B075A397-158F-4187-A9EB-6AEA14BB9755" title="入站服务器可以直接应用LCR，也可以将LCR发送到应用处理程序进行处理。您的LCR处理选项取决于入站服务器接收的LCR是行LCR还是DDL LCR。">入站服务器的LCR处理选项</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="XSTRM72701"></a><div class="props_rev_3"><a id="GUID-20BF2527-F4E5-4ECA-8BA7-D20BAE352D1A" name="GUID-20BF2527-F4E5-4ECA-8BA7-D20BAE352D1A"></a><h6 id="XSTRM-GUID-20BF2527-F4E5-4ECA-8BA7-D20BAE352D1A" class="sect6"><span class="enumeration_section">8.2.3.1.1</span>语句DML处理程序</h6>
                        <div>
                           <p><span class="bold">语句DML处理程序</span>使用一组SQL语句来处理行LCR。
                           </p>
                           <p>语句DML处理程序具有以下特征：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>机制：SQL语句的集合</p>
                              </li>
                              <li>
                                 <p>LCR的类型：行LCR</p>
                              </li>
                              <li>
                                 <p>范围：一张桌子上的一次操作</p>
                              </li>
                              <li>
                                 <p>每个入站服务器允许的数量：可以在同一个表上为同一操作指定许多和多个</p>
                              </li>
                           </ul>
                           <p>语句DML处理程序中包含的每个SQL语句都具有唯一的执行序列号。当调用语句DML处理程序时，它按顺序从具有最低执行序列号的语句到具有最高执行序列号的语句执行其语句。执行序列号可以是正数，负数或十进制数。</p>
                           <p>对于与入站服务器关联的每个表，您可以设置单独的语句DML处理程序来处理行LCR中的以下每种操作类型：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">插入</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">UPDATE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">删除</code></p>
                              </li>
                           </ul>
                           <p>当入站服务器收到对指定表执行指定操作的行LCR时，将调用语句DML处理程序。例如， <code class="codeph">hr.employees</code>表可以有一个语句DML处理程序来处理<code class="codeph">INSERT</code>操作，另一个语句DML处理程序来处理<code class="codeph">UPDATE</code>操作。或者， <code class="codeph">hr.employees</code>表可以为每种类型的操作使用相同的语句DML处理程序。
                           </p>
                           <p>您可以在同一个表上为同一操作指定多个语句DML处理程序。在这种情况下，这些语句DML处理程序可以按任何顺序执行，并且每个语句DML处理程序接收入站服务器接收的原始行LCR的副本。</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-EC23A03E-22BE-41A7-8347-68CF2E507E1A" title="DML处理程序处理入站服务器接收的行LCR。">DML处理程序</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="XSTRM72702"></a><div class="props_rev_3"><a id="GUID-7A1AB243-D559-49C6-B9FD-858CCC6B66C3" name="GUID-7A1AB243-D559-49C6-B9FD-858CCC6B66C3"></a><h6 id="XSTRM-GUID-7A1AB243-D559-49C6-B9FD-858CCC6B66C3" class="sect6"><span class="enumeration_section">8.2.3.1.2</span>过程DML处理程序</h6>
                        <div>
                           <p><span class="bold">过程DML处理程序</span>使用PL / SQL过程来处理行LCR。
                           </p>
                           <p>过程DML处理程序具有以下特征：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>机制：用户定义的PL / SQL过程</p>
                              </li>
                              <li>
                                 <p>LCR的类型：行LCR</p>
                              </li>
                              <li>
                                 <p>范围：一张桌子上的一次操作</p>
                              </li>
                              <li>
                                 <p>每个入站服务器允许的数量：很多，但只能在同一个表上为同一操作指定一个</p>
                              </li>
                           </ul>
                           <p>对于与入站服务器关联的每个表，您可以设置单独的过程DML处理程序来处理行LCR中的以下每种类型的操作：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">插入</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">UPDATE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">删除</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">LOB_UPDATE</code></p>
                              </li>
                           </ul>
                           <p>当入站服务器收到对指定表执行指定操作的行LCR时，将调用过程DML处理程序。例如， <code class="codeph">hr.employees</code>表可以有一个用于处理<code class="codeph">INSERT</code>操作的过程DML处理程序和一个用于处理<code class="codeph">UPDATE</code>操作的不同过程DML处理程序。或者， <code class="codeph">hr.employees</code>表可以为每种类型的操作使用相同的过程DML处理程序。
                           </p>
                           <p>PL / SQL过程可以执行行LCR的任何定制处理。例如，如果您希望每个插入到源数据库的特定表中以导致插入目标数据库中的多个表，那么您可以创建一个用户定义的PL / SQL过程来处理表上的<code class="codeph">INSERT</code>操作以实现此目的。与语句DML处理程序不同，过程DML处理程序可以修改行LCR中的列值。
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-EC23A03E-22BE-41A7-8347-68CF2E507E1A" title="DML处理程序处理入站服务器接收的行LCR。">DML处理程序</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="XSTRM72703"></a><div class="props_rev_3"><a id="GUID-B3A9E840-E0FE-416F-80FC-4B2EA1A04E81" name="GUID-B3A9E840-E0FE-416F-80FC-4B2EA1A04E81"></a><h5 id="XSTRM-GUID-B3A9E840-E0FE-416F-80FC-4B2EA1A04E81" class="sect5"><span class="enumeration_section">8.2.3.2</span>错误处理程序</h5>
                     <div>
                        <p>错误处理程序类似于过程DML处理程序。两者之间的区别在于，仅当入站服务器尝试对指定表上的指定操作应用行LCR时，才会调用应用错误，从而调用错误处理程序。</p>
                        <p><span class="bold">错误处理程序</span>具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>机制：用户定义的PL / SQL过程</p>
                           </li>
                           <li>
                              <p>LCR的类型：行LCR</p>
                           </li>
                           <li>
                              <p>范围：一张桌子上的一次操作</p>
                           </li>
                           <li>
                              <p>每个入站服务器允许的数量：很多，但只能在同一个表上为同一操作指定一个</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-B3A9E840-E0FE-416F-80FC-4B2EA1A04E81__GUID-F514FB90-5C8A-4F7B-9BAD-2DCAC88C6C36">
                           <p class="notep1">注意：</p>
                           <p>语句DML处理程序不能用作错误处理程序。</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B3A9E840-E0FE-416F-80FC-4B2EA1A04E81__GUID-DE7B8F93-BED2-41C8-943F-737DEF024D81">
                           <p class="notep1">也可以看看：</p><span class="q">“ <a href="xstream-in-concepts.html#GUID-7A1AB243-D559-49C6-B9FD-858CCC6B66C3" title="过程DML处理程序使用PL / SQL过程来处理行LCR。">程序DML处理程序</a> ”</span></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B075A397-158F-4187-A9EB-6AEA14BB9755" title="入站服务器可以直接应用LCR，也可以将LCR发送到应用处理程序进行处理。您的LCR处理选项取决于入站服务器接收的LCR是行LCR还是DDL LCR。">入站服务器的LCR处理选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72704"></a><div class="props_rev_3"><a id="GUID-8F42E223-F90F-4126-ACBA-56C55D0CBECD" name="GUID-8F42E223-F90F-4126-ACBA-56C55D0CBECD"></a><h5 id="XSTRM-GUID-8F42E223-F90F-4126-ACBA-56C55D0CBECD" class="sect5"><span class="enumeration_section">8.2.3.3</span> DDL处理程序</h5>
                     <div>
                        <p><span class="bold">DDL处理程序</span>使用PL / SQL过程来处理DDL LCR。
                        </p>
                        <p>DDL处理程序具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>机制：用户定义的PL / SQL过程</p>
                           </li>
                           <li>
                              <p>LCR的类型：DDL LCR</p>
                           </li>
                           <li>
                              <p>范围：入站服务器接收的所有DDL LCR</p>
                           </li>
                           <li>
                              <p>每个入站服务器允许的数量：一个</p>
                           </li>
                        </ul>
                        <p>用户定义的PL / SQL过程可以执行DDL LCR的任何自定义处理。例如，要在应用DDL更改之前记录它们，可以创建一个处理DDL操作的过程来完成此操作。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B075A397-158F-4187-A9EB-6AEA14BB9755" title="入站服务器可以直接应用LCR，也可以将LCR发送到应用处理程序进行处理。您的LCR处理选项取决于入站服务器接收的LCR是行LCR还是DDL LCR。">入站服务器的LCR处理选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="XSTRM72705"></a><div class="props_rev_3"><a id="GUID-FC9D03AC-28FB-49C6-9D36-D92B3CF31B89" name="GUID-FC9D03AC-28FB-49C6-9D36-D92B3CF31B89"></a><h5 id="XSTRM-GUID-FC9D03AC-28FB-49C6-9D36-D92B3CF31B89" class="sect5"><span class="enumeration_section">8.2.3.4</span>预先处理程序</h5>
                     <div>
                        <p><span class="bold">预</span>提交<span class="bold">处理程序</span>使用PL / SQL过程来处理包含行LCR的事务的commit指令。
                        </p>
                        <p>预提交处理程序具有以下特征：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>机制：用户定义的PL / SQL过程</p>
                           </li>
                           <li>
                              <p>LCR类型：包含行LCR的事务的Commit指令</p>
                           </li>
                           <li>
                              <p>范围：入站服务器收到的具有提交指令的所有行LCR</p>
                           </li>
                           <li>
                              <p>每个入站服务器允许的数量：一个</p>
                           </li>
                        </ul>
                        <p>您可以使用预提交处理程序来审核LCR的提交指令。commit指令是包含<code class="codeph">COMMIT</code>的事务控制指令。预提交处理程序是用户定义的PL / SQL过程，它可以接收事务的提交信息并以任何自定义方式处理提交信息。预提交处理程序可以使用语句DML处理程序或过程DML处理程序。
                        </p>
                        <p>例如，预提交处理程序可以通过缓存事务长度的数据来提高性能。此数据可以包括游标，临时LOB，消息中的数据等。事务完成时，预提交处理程序可以释放或执行处理程序缓存的对象。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B075A397-158F-4187-A9EB-6AEA14BB9755" title="入站服务器可以直接应用LCR，也可以将LCR发送到应用处理程序进行处理。您的LCR处理选项取决于入站服务器接收的LCR是行LCR还是DDL LCR。">入站服务器的LCR处理选项</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="XSTRM72709"></a><div class="props_rev_3"><a id="GUID-26C60FD5-EC75-412D-9134-CA8D62EF2980" name="GUID-26C60FD5-EC75-412D-9134-CA8D62EF2980"></a><h4 id="XSTRM-GUID-26C60FD5-EC75-412D-9134-CA8D62EF2980" class="sect4"><span class="enumeration_section">8.2.4</span>入站服务器和受限制的会话</h4>
                  <div>
                     <p>启用和禁用受限会话会影响入站服务器。</p>
                     <p>在系统启动期间通过发出<code class="codeph">STARTUP</code> <code class="codeph">RESTRICT</code>语句启用受限会话时，即使数据库关闭时它们正在运行，也不会启动入站服务器。禁用受限会话时，将启动未停止的每个入站服务器。
                     </p>
                     <p>当SQL语句<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">ENABLE</code> <code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>在正在运行的数据库中启用受限会话时，它不会影响任何正在运行的入站服务器。这些入站服务器继续运行并将LCR发送到XStream客户端应用程序。如果在受限会话中启动了已停止的入站服务器，则在禁用受限会话之前，入站服务器实际上不会启动。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" title="使用XStream In，入站服务器从客户端应用程序接收数据库更改。">入站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72711"></a><div class="props_rev_3"><a id="GUID-ECE67E2D-FC0E-4897-A9AE-709F25705B27" name="GUID-ECE67E2D-FC0E-4897-A9AE-709F25705B27"></a><h4 id="XSTRM-GUID-ECE67E2D-FC0E-4897-A9AE-709F25705B27" class="sect4"><span class="enumeration_section">8.2.5</span>入站服务器组件</h4>
                  <div>
                     <p>入站服务器由以下子组件组成：读取器服务器，协调器进程和一个或多个应用服务器。</p>
                     <p>入站服务器由以下子组件组成：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从XStream客户端应用程序接收LCR的<span class="bold">读取器服务器</span> 。读取器服务器是计算逻辑变更记录（LCR）之间的依赖关系并将LCR组装成事务的过程。然后，阅读器服务器将组装的事务返回给协调器进程。
                           </p>
                           <p>您可以通过查询<code class="codeph">V$XSTREAM_APPLY_READER</code>动态性能视图来查看入站服务器的阅读器服务器的状态。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">协调器进程</span> ，它从读取器服务器获取事务并将它们传递给应用服务器。协调器进程名称是<code class="codeph">AP</code> <span class="italic"><code class="codeph">nn</code></span> ，其中<span class="italic"><code class="codeph">nn</code></span>可以包括字母和数字。协调程序进程是Oracle后台进程。
                           </p>
                           <p>您可以通过查询<code class="codeph">V$XSTREAM_APPLY_COORDINATOR</code>动态性能视图来查看协调程序进程的状态。
                           </p>
                        </li>
                        <li>
                           <p>一个或多个<span class="bold">应用服务器</span> ，将LCR作为DML或DDL语句应用于数据库对象，或者将LCR传递给相应的应用处理程序。应用服务器还可以将LCR排入<code class="codeph">DBMS_APPLY_ADM.SET_ENQUEUE_DESTINATION</code>过程指定的队列的持久队列部分。每个应用服务器都是一个进程。如果应用服务器遇到错误，则它会尝试使用用户指定的冲突处理程序或错误处理程序来解决错误。如果应用服务器无法解决错误，则它将回滚事务并将整个事务（包括其所有LCR）放入错误队列中。
                           </p>
                           <p>当应用服务器提交已完成的事务时，已应用此事务。当应用服务器将事务放入错误队列并提交时，也会应用此事务。</p>
                           <p>您可以通过查询<code class="codeph">V$XSTREAM_APPLY_SERVER</code>动态性能视图来查看入站服务器的每个应用服务器的状态。
                           </p>
                        </li>
                     </ul>
                     <p>读取器服务器和应用服务器进程名称是<code class="codeph">AS</code> <span class="italic"><code class="codeph">nn</code></span> ，其中<span class="italic"><code class="codeph">nn</code></span>可以包括字母和数字。如果由应用服务器处理的事务依赖于另一个未知应用的事务，则应用服务器会联系协调器进程并等待指令。协调器进程监视所有应用服务器，以确保以正确的顺序应用和提交事务。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-ECE67E2D-FC0E-4897-A9AE-709F25705B27__GUID-0BA67325-BB37-4AAC-A034-49E6FE5A553D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">V$XSTREAM_APPLY_READER</code>动态性能视图的详细信息，请<a href="../refrn/V-STREAMS_APPLY_READER.html#REFRN30267" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$XSTREAM_APPLY_COORDINATOR</code>动态性能视图的更多信息，请<a href="../refrn/V-STREAMS_APPLY_COORDINATOR.html#REFRN30266" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">V$XSTREAM_APPLY_SERVER</code>动态性能视图的更多信息，请<a href="../refrn/V-STREAMS_APPLY_SERVER.html#REFRN30268" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" title="使用XStream In，入站服务器从客户端应用程序接收数据库更改。">入站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM1633"></a><div class="props_rev_3"><a id="GUID-9AF938AA-3035-4D9B-9D7E-A8768D2364CB" name="GUID-9AF938AA-3035-4D9B-9D7E-A8768D2364CB"></a><h4 id="XSTRM-GUID-9AF938AA-3035-4D9B-9D7E-A8768D2364CB" class="sect4"><span class="enumeration_section">8.2.6</span>入站服务器的注意事项</h4>
                  <div>
                     <p>入站服务器有几个注意事项。</p>
                     <p>以下是XStream入站服务器的注意事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>您可以使用<code class="codeph">DBMS_DDL</code>包中的<code class="codeph">SET_TRIGGER_FIRING_PROPERTY</code>过程来控制DML或DDL触发器的触发属性。此过程允许您指定触发器是始终触发，触发一次还是仅针对入站服务器更改触发。当触发器设置为触发一次时，它会触发用户进程所做的更改，但不会触发入站服务器所做的更改。触发器的触发属性对应用进程和入站服务器的工作方式相同。
                           </p>
                        </li>
                        <li>
                           <p>入站服务器忽略<code class="codeph">ignore_transaction</code> apply参数的设置，因为客户端应用程序发送到入站服务器的LCR可能没有事务ID值。
                           </p>
                        </li>
                        <li>
                           <p>入站服务器忽略<code class="codeph">maximum_scn</code> apply参数的设置，因为客户端应用程序发送到入站服务器的LCR可能没有SCN值。
                           </p>
                           <div class="infoboxnotealso" id="GUID-9AF938AA-3035-4D9B-9D7E-A8768D2364CB__GUID-1162B42C-6E67-4994-8509-D683B92ADBB9">
                              <p class="notep1">也可以看看：</p>
                              <p>有关应用参数的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=ARPLS314" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" title="使用XStream In，入站服务器从客户端应用程序接收数据库更改。">入站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72712"></a><div class="props_rev_3"><a id="GUID-5602248A-8DE3-495B-B1E9-F1F61CC798C3" name="GUID-5602248A-8DE3-495B-B1E9-F1F61CC798C3"></a><h4 id="XSTRM-GUID-5602248A-8DE3-495B-B1E9-F1F61CC798C3" class="sect4"><span class="enumeration_section">8.2.7</span>入站服务器的错误队列</h4>
                  <div>
                     <p>错误队列包含数据库的所有当前应用错误。如果数据库中有多个入站服务器，则错误队列包含每个入站服务器的应用错误。</p>
                     <p>受信任的用户可以通过查询<code class="codeph">DBA_APPLY_ERROR</code>数据字典视图或使用Oracle Enterprise Manager Cloud Control来查看应用错误。<code class="codeph">DBA_APPLY_ERROR</code>数据字典视图使受信任用户可以查看有关其他用户的应用错误的信息。不受信任的用户可以通过查询<code class="codeph">ALL_APPLY_ERROR</code>数据字典视图来查看应用错误。此视图仅显示不受信任用户的应用错误。
                     </p>
                     <p>此外，受信任的用户可以通过查询<code class="codeph">DBA_APPLY_ERROR_MESSAGES</code>数据字典视图来查看有关应用错误的更多详细信息。不受信任的用户可以通过查询<code class="codeph">ALL_APPLY_ERROR_MESSAGES</code>数据字典视图来查看有关应用错误的更多详细信息。这些视图包含有关在错误事务中导致错误的行的信息。
                     </p>
                     <p>错误队列存储有关在数据库中运行的入站服务器无法成功应用的事务的信息。交易可以包括许多LCR。在应用期间发生未处理的错误时，入站服务器会自动将事务中满足入站服务器规则集的所有LCR移动到错误队列。</p>
                     <p>您可以更正导致错误的条件，然后重新执行导致错误的事务。例如，您可以修改表中的行以更正导致错误的条件。</p>
                     <p>如果更正了导致错误的条件，则可以使用<code class="codeph">EXECUTE_ERROR</code>或<code class="codeph">EXECUTE_ALL_ERRORS</code>过程在错误队列中重新执行事务，也可以使用<code class="codeph">DELETE_ERROR</code>或<code class="codeph">DELETE_ALL_ERRORS</code>过程从错误队列中删除事务。这些过程位于<code class="codeph">DBMS_APPLY_ADM</code>包中。
                     </p>
                     <p>在错误队列中重新执行事务时，可以指定事务由最初将错误放入错误队列的用户执行，或者由重新执行事务的用户执行。此外，当您在错误队列中重新执行事务时，将使用入站服务器的当前标记。</p>
                     <p>重新执行的事务使用任何相关的应用处理程序和冲突解决处理程序。如果要解决错误，必须在执行错误队列之前修改错误队列中的行LCR，然后可以配置过程DML处理程序来处理导致错误队列中的错误的行LCR。在这种情况下，DML处理程序可以修改行LCR以避免重复相同的错误。当您重新执行包含行LCR的错误时，行LCR将传递给DML处理程序。例如，语句DML处理程序可能插入与插入行LCR中存在的值不同的值，而过程DML处理程序可能会修改行LCR中的一个或多个列以避免重复相同的错误。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" title="使用XStream In，入站服务器从客户端应用程序接收数据库更改。">入站服务器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="XSTRM1487"></a><a id="XSTRM1102"></a><div class="props_rev_3"><a id="GUID-25617A91-D3E3-4848-9B28-90F5C00743C9" name="GUID-25617A91-D3E3-4848-9B28-90F5C00743C9"></a><h3 id="XSTRM-GUID-25617A91-D3E3-4848-9B28-90F5C00743C9" class="sect3"><span class="enumeration_section">8.3</span> LCR和XStream的位置</h3>
               <div>
                  <p>客户端应用程序将LCR流式传输到入站服务器中的XStream。</p>
                  <p>本节介绍与入站服务器的LCR位置相关的概念。</p>
                  <p>每个位置必须以支持字节比较的格式（例如base-16编码）进行编码。该位置对于客户端应用程序使用XStream In接口发送的事务流的总顺序至关重要。</p>
                  <p>以下位置对于入站服务器很重要：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">应用的低位</span>表示已应用小于或等于该值的LCR。
                        </p>
                        <p>当LCR已执行，发送到应用处理程序或移动到错误队列时，入站服务器将应用LCR。</p>
                     </li>
                     <li>
                        <p><span class="bold">溢出位置</span>表示位置小于或等于此值的LCR已应用或从内存溢出到硬盘。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">应用的高位</span>表示已应用的LCR的最高位置。
                        </p>
                        <p>当<code class="codeph">commit_serialization</code> apply参数设置为入站服务器的<code class="codeph">DEPENDENT_TRANSACTIONS</code> ，可能会在具有较低提交位置的LCR之前应用具有较高提交位置的LCR。发生这种情况时，应用的高位置与应用的低位置不同。
                        </p>
                     </li>
                     <li>
                        <p>处理后的低位置是应用的低位置或溢出位置的较高值。</p>
                        <p>处理后的低位是入站服务器不再需要任何LCR的位置。此位置对应于应用捕获过程捕获的更改的Oracle Apply流程的最旧SCN。</p>
                        <p>处理后的低位表示入站服务器已处理位置小于或等于此位置的LCR。如果客户端重新连接到入站服务器，则它必须仅发送位置大于处理的低位置的LCR，因为入站服务器丢弃位置小于或等于处理的低位置的任何LCR。</p>
                     </li>
                  </ul>
                  <p>如果客户端应用程序异常停止，则客户端应用程序与入站服务器之间的连接将自动中断。重新启动后，客户端应用程序从入站服务器检索已处理的低位置，并指示其捕获代理程序从此处理的低位置开始检索更改。</p>
                  <p>要使用XStream In界面限制客户端应用程序的恢复时间，客户端应用程序可以定期向入站服务器发送活动（如空事务）。行LCR可以包括提交事务控制指令。当没有LCR要发送到服务器时，客户端应用程序可以发送带有commit指令的行LCR，以提前入站服务器处理的低位置。此活动充当确认，以便提前入站服务器处理的低位置。</p>
                  <p>在位置3之后，没有相关更改要发送到入站服务器。如果入站服务器在客户端应用程序处理完所有更改到位置101时重新启动，则在重新启动后，客户端应用程序必须从位置4向前重新检查所有外部数据库更改。重新检查是必需的，因为入站服务器处理的低位是3。</p>
                  <p>相反，假设客户端应用程序定期向入站服务器发送提交，即使<code class="codeph">hr.employees</code>表没有相关更改：</p>
                  <div class="tblformal" id="GUID-25617A91-D3E3-4848-9B28-90F5C00743C9__GUID-637D4986-A16D-4797-A2D0-1C845488D3B8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table illustrates several changes to the external data source and the position for each change." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d42775e2864">位置</th>
                              <th align="left" valign="bottom" width="33%" id="d42775e2867">更改</th>
                              <th align="left" valign="bottom" width="44%" id="d42775e2870">客户申请活动</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2875" headers="d42775e2864 ">
                                 <p>1</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2875 d42775e2867 ">
                                 <p>插入<code class="codeph">hr.employees</code>表</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2875 d42775e2870 ">
                                 <p>发送行LCR，包括对入站服务器的更改</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2888" headers="d42775e2864 ">
                                 <p>2</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2888 d42775e2867 ">
                                 <p>插入<code class="codeph">oe.orders</code>表</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2888 d42775e2870 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2901" headers="d42775e2864 ">
                                 <p>3</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2901 d42775e2867 ">
                                 <p>承诺</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2901 d42775e2870 ">
                                 <p>将带有commit指令的行LCR发送到入站服务器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2911" headers="d42775e2864 ">
                                 <p>4</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2911 d42775e2867 ">
                                 <p>插入<code class="codeph">oe.orders</code>表</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2911 d42775e2870 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2924" headers="d42775e2864 ">
                                 <p>五</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2924 d42775e2867 ">
                                 <p>更新<code class="codeph">oe.orders</code>表</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2924 d42775e2870 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2937" headers="d42775e2864 ">
                                 <p>6</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2937 d42775e2867 ">
                                 <p>承诺</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2937 d42775e2870 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2947" headers="d42775e2864 ">
                                 <p>7</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2947 d42775e2867 ">
                                 <p>承诺</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2947 d42775e2870 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2957" headers="d42775e2864 ">
                                 <p>...</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2957 d42775e2867 ">
                                 <p>...（外部数据源上的活动，但<code class="codeph">hr.employees</code>表没有更改）</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2957 d42775e2870 ">
                                 <p>将多个行LCR（每个都带有commit指令）发送到入站服务器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2970" headers="d42775e2864 ">
                                 <p>100</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2970 d42775e2867 ">
                                 <p>插入<code class="codeph">oe.orders</code>表</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2970 d42775e2870 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d42775e2983" headers="d42775e2864 ">
                                 <p>101</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d42775e2983 d42775e2867 ">
                                 <p>承诺</p>
                              </td>
                              <td align="left" valign="top" width="44%" headers="d42775e2983 d42775e2870 ">
                                 <p>将带有commit指令的行LCR发送到入站服务器</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>在这种情况下，当入站服务器处理了客户端应用程序发送的所有行LCR时，它将处理后的低位置移动到101。如果入站服务器重新启动，则其处理的低位置为101，并且客户端应用程序不需要将所有更改检查回位置3。</p>
                  <p><a href="sample-xstream-client-application.html#GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8" title="Examples illustrate how to configure the Oracle Database components that are used by XStream. The examples configure sample client applications that communicate with an XStream outbound server and inbound server.">Sample XStream Client Application中</a>的示例应用<a href="sample-xstream-client-application.html#GUID-B914FF75-92AA-4270-BF71-E9A5AA9228F8" title="示例说明如何配置XStream使用的Oracle数据库组件。这些示例配置与XStream出站服务器和入站服务器通信的示例客户端应用程序。">程序</a>包含将带有commit指令的行LCR发送到入站服务器的代码。这些提交指令有时称为“ping LCR”。在示例XStream客户端应用程序中搜索单词“ping”，以查找包含此代码的应用程序部分。
                  </p>
                  <div class="example" id="GUID-25617A91-D3E3-4848-9B28-90F5C00743C9__GUID-699FC33A-6DAE-4AE4-84A4-3A5B1AA2A8ED">
                     <p class="titleinexample">示例8-1推进入站服务器的已处理低位置</p>
                     <p>考虑客户端应用程序和外部数据源。客户端应用程序将对<code class="codeph">hr.employees</code>表所做的更改发送到入站服务器进行处理，但外部数据源包括许多其他表，包括<code class="codeph">oe.orders</code>表。
                     </p>
                     <p>假设对外部数据源进行了以下更改：</p>
                     <div class="tblformal" id="GUID-25617A91-D3E3-4848-9B28-90F5C00743C9__GUID-817B0D93-9326-4D36-ABE7-134E0E10514A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table illustrates several changes to the external data source and the position for each change." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d42775e3025">位置</th>
                                 <th align="left" valign="bottom" width="33%" id="d42775e3028">更改</th>
                                 <th align="left" valign="bottom" width="44%" id="d42775e3031">客户申请活动</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3036" headers="d42775e3025 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3036 d42775e3028 ">
                                    <p>插入<code class="codeph">hr.employees</code>表</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3036 d42775e3031 ">
                                    <p>发送行LCR，包括对入站服务器的更改</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3049" headers="d42775e3025 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3049 d42775e3028 ">
                                    <p>插入<code class="codeph">oe.orders</code>表</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3049 d42775e3031 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3062" headers="d42775e3025 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3062 d42775e3028 ">
                                    <p>承诺</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3062 d42775e3031 ">
                                    <p>将带有commit指令的行LCR发送到入站服务器</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3072" headers="d42775e3025 ">
                                    <p>4</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3072 d42775e3028 ">
                                    <p>插入<code class="codeph">oe.orders</code>表</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3072 d42775e3031 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3085" headers="d42775e3025 ">
                                    <p>五</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3085 d42775e3028 ">
                                    <p>更新<code class="codeph">oe.orders</code>表</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3085 d42775e3031 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3098" headers="d42775e3025 ">
                                    <p>6</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3098 d42775e3028 ">
                                    <p>承诺</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3098 d42775e3031 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3108" headers="d42775e3025 ">
                                    <p>7</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3108 d42775e3028 ">
                                    <p>承诺</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3108 d42775e3031 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3118" headers="d42775e3025 ">
                                    <p>...</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3118 d42775e3028 ">
                                    <p>...（外部数据源上的活动，但<code class="codeph">hr.employees</code>表没有更改）</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3118 d42775e3031 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3131" headers="d42775e3025 ">
                                    <p>100</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3131 d42775e3028 ">
                                    <p>插入<code class="codeph">oe.orders</code>表</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3131 d42775e3031 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d42775e3144" headers="d42775e3025 ">
                                    <p>101</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d42775e3144 d42775e3028 ">
                                    <p>承诺</p>
                                 </td>
                                 <td align="left" valign="top" width="44%" headers="d42775e3144 d42775e3031 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>客户端应用程序从外部数据源获取更改，生成适当的LCR，并将LCR发送到入站服务器。因此，入站服务器接收以下LCR：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将LCR排在第1位</p>
                        </li>
                        <li>
                           <p>排名LCR为第3位</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-25617A91-D3E3-4848-9B28-90F5C00743C9__GUID-A5E33DDE-9182-4506-8E6E-D599C2EBA2D7">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="general-xstream-concepts.html#GUID-077AAE24-54CF-4102-9969-9540608FFB65" title="每个LCR都有一个位置属性。LCR的位置标识其在交易中的LCR流中的位置。">在LCR流中定位订单</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="monitoring-xstream-in.html#GUID-00B0D22F-CD20-4404-AE18-5E7FB6E972BF" title="示例说明了显示入站服务器的位置信息。">显示入站服务器的位置信息</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-D2C787E8-E16F-4286-921E-93195265E4F7" title="熟悉与XStream In相关的概念。">概念中的XStream</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="XSTRM72954"></a><div class="props_rev_3"><a id="GUID-C2804BE9-6FDD-4024-910D-1B17176CA655" name="GUID-C2804BE9-6FDD-4024-910D-1B17176CA655"></a><h3 id="XSTRM-GUID-C2804BE9-6FDD-4024-910D-1B17176CA655" class="sect3"><span class="enumeration_section">8.4</span> XStream In和性能考虑因素</h3>
               <p>有关XStream In和性能的注意事项。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-F4C53B30-8D18-4E52-BC9A-91F5A4A422A8">在大型事务的性能中优化XStream</a><br>对于小事务，XStream In不会开始应用逻辑更改记录（LCR），直到入站服务器从源接收事务的提交LCR。作为性能优化，入站服务器可以使用eager apply在接收提交LCR之前开始应用大型事务。</li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-CEDD3CA1-3361-462C-A02C-27AD81A225EE">避免交易跟踪中的潜在瓶颈</a><br>XStream In跟踪它应用于数据库的更改，以避免在重新启动入站服务器时重新应用事务。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-81DB9E3D-8528-4E08-8572-F2B4C16DD0EC">优化事务应用调度</a><br>当目标表上的约束与源表上的约束匹配时，可以通过将入站服务器的<code class="codeph">compute_lcr_dep_on_arrival</code> apply参数设置为<code class="codeph">Y</code>来优化依赖性计算。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-D2C787E8-E16F-4286-921E-93195265E4F7" title="熟悉与XStream In相关的概念。">概念中的XStream</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72982"></a><div class="props_rev_3"><a id="GUID-F4C53B30-8D18-4E52-BC9A-91F5A4A422A8" name="GUID-F4C53B30-8D18-4E52-BC9A-91F5A4A422A8"></a><h4 id="XSTRM-GUID-F4C53B30-8D18-4E52-BC9A-91F5A4A422A8" class="sect4"><span class="enumeration_section">8.4.1</span>在大型事务的性能中优化XStream</h4>
                  <div>
                     <p>对于小事务，XStream In不会开始应用逻辑更改记录（LCR），直到入站服务器从源接收事务的提交LCR。作为性能优化，入站服务器可以使用eager apply在接收提交LCR之前开始应用大型事务。</p>
                     <p><code class="codeph">eager_size</code> apply参数控制在eager apply开始之前入站服务器接收的最小LCR数。当事务中的LCR数超过<code class="codeph">eager_size</code> apply参数的值时，入站服务器开始应用LCR。此参数的默认值为9500。您可以修改参数值以优化XStream在您的环境中的性能。
                     </p>
                     <p>大型事务可能需要额外的应用服务器来应用LCR。在为事务启动eager之后，入站服务器可以自动创建其他应用服务器以应用LCR。<code class="codeph">max_parallelism</code> apply参数控制入站服务器的最大应用服务器数。
                     </p>
                     <p>如果入站服务器自动创建其他应用服务器，并且其中一些服务器在一段时间内处于空闲状态，则XStream In会确定不再需要它们并自动将其删除。但是，应用服务器的数量永远不会低于<code class="codeph">parallelism</code> apply参数指定的值。这些应用服务器的任何统计信息都聚合为应用服务器0（零）。
                     </p>
                     <p>对于使用急于申请大额交易的入站服务器，该值<code class="codeph">eager_size</code>应用参数必须小于该值<code class="codeph">txn_lcr_spill_threshold</code>适用参数。当<code class="codeph">txn_lcr_spill_threshold</code>的值低于<code class="codeph">eager_size</code> ，事务在eager apply开始之前溢出到磁盘，并且入站服务器无法使用eager申请已溢出到磁盘的事务。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F4C53B30-8D18-4E52-BC9A-91F5A4A422A8__GUID-B3ECCA50-374E-4164-8C6D-36FBC2CB638E">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../arpls/DBMS_APPLY_ADM.html#ARPLS314" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-xstream-in.html#GUID-0C9A2E32-C6CF-4EBD-AF77-254043F82024" title="作为性能优化，入站服务器可以使用eager apply在接收提交LCR之前开始应用大型事务。">管理入站服务器遇到的急切错误</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-C2804BE9-6FDD-4024-910D-1B17176CA655" title="有关XStream In和性能的注意事项。">XStream In和性能注意事项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72955"></a><div class="props_rev_3"><a id="GUID-CEDD3CA1-3361-462C-A02C-27AD81A225EE" name="GUID-CEDD3CA1-3361-462C-A02C-27AD81A225EE"></a><h4 id="XSTRM-GUID-CEDD3CA1-3361-462C-A02C-27AD81A225EE" class="sect4"><span class="enumeration_section">8.4.2</span>避免事务跟踪中的潜在瓶颈</h4>
                  <div>
                     <p>XStream In跟踪它应用于数据库的更改，以避免在重新启动入站服务器时重新应用事务。</p>
                     <p>当<code class="codeph">optimize_progress_table</code> apply参数设置为<code class="codeph">TRUE</code> ，默认的XStream In会在重做日志中跟踪其进度。使用重做日志可以避免进度表中DML更改导致的潜在瓶颈和争用。
                     </p>
                     <p>当<code class="codeph">optimize_progress_table</code>参数设置为<code class="codeph">FALSE</code> ，XStream In使用表进行跟踪。在高容量环境中，此表可能是潜在的瓶颈。
                     </p>
                     <p>应用数据库必须处于存档日志模式，然后才能在重做日志中执行应用跟踪。如果<code class="codeph">optimize_progress_table</code>参数设置为<code class="codeph">TRUE</code>但apply数据库未处于存档日志模式，则忽略<code class="codeph">optimize_progress_table</code>的设置，并且XStream In使用表进行跟踪。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CEDD3CA1-3361-462C-A02C-27AD81A225EE__GUID-1C73C36F-F431-4F22-A3DB-4FCDFB990569">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/xstrm&amp;id=ARPLS314" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-C2804BE9-6FDD-4024-910D-1B17176CA655" title="有关XStream In和性能的注意事项。">XStream In和性能注意事项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72956"></a><div class="props_rev_3"><a id="GUID-81DB9E3D-8528-4E08-8572-F2B4C16DD0EC" name="GUID-81DB9E3D-8528-4E08-8572-F2B4C16DD0EC"></a><h4 id="XSTRM-GUID-81DB9E3D-8528-4E08-8572-F2B4C16DD0EC" class="sect4"><span class="enumeration_section">8.4.3</span>优化事务应用调度</h4>
                  <div>
                     <p>当目标表上的约束与源表上的约束匹配时，可以通过将入站服务器的<code class="codeph">compute_lcr_dep_on_arrival</code> apply参数设置为<code class="codeph">Y</code>来优化依赖性计算。</p>
                     <p>如果约束不匹配，则将此apply参数设置为<code class="codeph">N</code> （默认值）。
                     </p>
                     <p>如果此apply参数设置为<code class="codeph">Y</code> ，则在接收到事务的LCR时计算依赖关系。如果此apply参数设置为<code class="codeph">N</code> ，则仅在接收到已提交事务的所有LCR之后才计算依赖关系。
                     </p>
                     <p>无论<code class="codeph">compute_lcr_dep_on_arrival</code>应用参数设置如何，密钥列的前映像必须在入站服务器接收的LCR中可用。键列包括主键列，外键列和唯一约束列。在XStream配置中，入站服务器在XStream Out配置中应用捕获进程捕获的更改，补充日志记录可确保所需信息位于LCR中。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-81DB9E3D-8528-4E08-8572-F2B4C16DD0EC__GUID-3970ED1E-E809-41EB-AAF7-867FCE565B26">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="configuring-xstream-out.html#GUID-56F322CB-1598-4FC8-92D9-A14CD4F7971B" title="使用捕获过程捕获更改时，必须为源数据库中的某些列指定补充日志记录，以更改要在目标数据库中成功应用的列。">如果需要，请配置补充日志记录</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_APPLY_ADM.html#ARPLS314" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-C2804BE9-6FDD-4024-910D-1B17176CA655" title="有关XStream In和性能的注意事项。">XStream In和性能注意事项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="XSTRM72864"></a><div class="props_rev_3"><a id="GUID-7020188C-8108-44E6-B6EF-9AFA035786C7" name="GUID-7020188C-8108-44E6-B6EF-9AFA035786C7"></a><h3 id="XSTRM-GUID-7020188C-8108-44E6-B6EF-9AFA035786C7" class="sect3"><span class="enumeration_section">8.5</span> XStream In和Security</h3>
               <div>
                  <p>了解与客户端应用程序和XStream组件相关的安全性，以及应用用户对入站服务器所需的权限。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-EB226929-CEA5-4223-889F-554B4CF1D1F7">客户端应用程序和安全性中的XStream</a><br>XStream In允许应用程序将LCR发送到入站服务器，入站服务器可以将LCR中的数据库更改应用于数据库。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-3853F5E6-981B-4094-A9B8-EFC65BE0D666">组件级安全性中的XStream</a><br>XStream In配置的所有组件都以同一用户身份运行。该用户是入站服务器的应用用户。此用户可以是具有高级别权限的受信任用户，也可以是仅具有执行某些任务所需权限的不受信任用户。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-4CA7A498-B5C1-4B02-9296-1D0BD66CE9E9">应用用户对入站服务器所需的权限</a><br>入站服务器在其应用用户的安全域中应用LCR。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-7020188C-8108-44E6-B6EF-9AFA035786C7__GUID-B3077B77-91F4-46E9-958F-6B0A266AC543">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="introduction-to-xstream.html#GUID-E7C2EC43-186F-4163-AAEB-1D119C9D1DF1" title="使用XStream，您可以实施最符合组织要求的安全模型。">XStream安全模型</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_XSTREAM_ADM.html#ARPLS70185" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-D2C787E8-E16F-4286-921E-93195265E4F7" title="熟悉与XStream In相关的概念。">概念中的XStream</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72929"></a><div class="props_rev_3"><a id="GUID-EB226929-CEA5-4223-889F-554B4CF1D1F7" name="GUID-EB226929-CEA5-4223-889F-554B4CF1D1F7"></a><h4 id="XSTRM-GUID-EB226929-CEA5-4223-889F-554B4CF1D1F7" class="sect4"><span class="enumeration_section">8.5.1</span>客户端应用程序和安全性中的XStream</h4>
                  <div>
                     <p>XStream In允许应用程序将LCR发送到入站服务器，入站服务器可以将LCR中的数据库更改应用于数据库。</p>
                     <p>Java和OCI客户端应用程序必须连接到Oracle数据库，然后才能连接到在该数据库上创建的XStream入站服务器。连接的用户必须与为入站服务器配置的应用用户相同。否则，会引发错误。</p>
                     <p>XStream Java层API依赖于Oracle JDBC安全性，因为XStream接受由<code class="codeph">XStreamIn</code>类中的XStream <code class="codeph">attach</code>方法中的客户端应用程序创建的Oracle JDBC连接实例。已连接的用户被验证为XStream用户。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EB226929-CEA5-4223-889F-554B4CF1D1F7__GUID-DCF3B387-0C86-46A2-932E-DD89E0FB68E1">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关XStream的OCI接口的信息，请参阅<a href="../lnoci/intro-to-oci-interface-for-XStream.html#LNOCI72903" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关XStream的Java接口的信息，请<a href="../stxjv/index.html" target="_blank"><span><cite>参见Oracle Database XStream Java API参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-7020188C-8108-44E6-B6EF-9AFA035786C7" title="了解与客户端应用程序和XStream组件相关的安全性，以及应用用户对入站服务器所需的权限。">XStream In和Security</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72930"></a><div class="props_rev_3"><a id="GUID-3853F5E6-981B-4094-A9B8-EFC65BE0D666" name="GUID-3853F5E6-981B-4094-A9B8-EFC65BE0D666"></a><h4 id="XSTRM-GUID-3853F5E6-981B-4094-A9B8-EFC65BE0D666" class="sect4"><span class="enumeration_section">8.5.2</span>组件级安全性中的XStream</h4>
                  <div>
                     <p>XStream In配置的所有组件都以同一用户身份运行。该用户是入站服务器的应用用户。此用户可以是具有高级别权限的受信任用户，也可以是仅具有执行某些任务所需权限的不受信任用户。</p>
                     <p>XStream管理员的安全模型还确定此用户可以查询以监视XStream配置的数据字典视图。受信任的管理员可以使用<code class="codeph">DBA_</code>视图监视XStream。不受信任的管理员可以使用<code class="codeph">ALL_</code>视图监视XStream。
                     </p>
                     <p>您可以使用<code class="codeph">DBMS_XSTREAM_AUTH</code>包中的<code class="codeph">GRANT_ADMIN_PRIVILEGE</code>过程创建XStream管理员。当您运行此过程为XStream In创建XStream管理员时， <code class="codeph">privilege_type</code>参数确定授予用户的权限类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果XStream管理员仅管理数据库上的XStream In配置，请为<code class="codeph">privilege_type</code>参数指定<code class="codeph">APPLY</code> 。
                           </p>
                        </li>
                        <li>
                           <p>如果XStream管理员同时管理数据库上的XStream Out和XStream In配置，则为<code class="codeph">privilege_type</code>参数指定<code class="codeph">*</code> 。
                           </p>
                        </li>
                     </ul>
                     <p><code class="codeph">GRANT_ADMIN_PRIVILEGE</code>过程为在XStream In或XStream Out配置中运行组件所需的Oracle提供的视图和包授予特权。此过程不授予用户拥有的数据库对象的权限。如果需要此类权限，则必须单独授予它们。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3853F5E6-981B-4094-A9B8-EFC65BE0D666__GUID-E9A231E2-C655-4108-B6DA-B888EF991FF0">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="configuring-xstream-in.html#GUID-445DEEE0-6449-490B-8264-87CDB0183E1F" title="XStream管理员在XStream In环境中配置和管理XStream组件。">配置XStream管理员</a> ”</span>以获取有关配置XStream管理员的详细信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-7020188C-8108-44E6-B6EF-9AFA035786C7" title="了解与客户端应用程序和XStream组件相关的安全性，以及应用用户对入站服务器所需的权限。">XStream In和Security</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72710"></a><div class="props_rev_3"><a id="GUID-4CA7A498-B5C1-4B02-9296-1D0BD66CE9E9" name="GUID-4CA7A498-B5C1-4B02-9296-1D0BD66CE9E9"></a><h4 id="XSTRM-GUID-4CA7A498-B5C1-4B02-9296-1D0BD66CE9E9" class="sect4"><span class="enumeration_section">8.5.3</span>应用用户对入站服务器所需的权限</h4>
                  <div>
                     <p>入站服务器在其应用用户的安全域中应用LCR。</p>
                     <p>入站服务器从XStream客户端应用程序接收LCR，并应用满足入站服务器规则集的LCR。apply用户可以将LCR直接应用于数据库对象。此外，apply用户还运行这些规则集中的规则指定的所有基于规则的自定义转换。apply用户还运行用户定义的应用处理程序。XStream In不假定入站服务器的apply用户是可信的。</p>
                     <p>apply用户必须具有应用更改所需的权限，包括以下权限：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>应用数据操作语言（DML）所需的权限更改为其他模式中的表（当入站服务器接收对其他模式中的表的DML更改时）</p>
                        </li>
                        <li>
                           <p>将数据定义语言（DDL）更改所需的权限更改为数据库（当入站服务器接收DDL更改时）</p>
                        </li>
                        <li>
                           <p>对入站服务器使用的规则集的<code class="codeph">EXECUTE</code>特权</p>
                        </li>
                        <li>
                           <p>对为正规则集中的规则指定的所有基于规则的自定义转换函数的<code class="codeph">EXECUTE</code>特权</p>
                        </li>
                        <li>
                           <p>任何应用处理程序的<code class="codeph">EXECUTE</code>特权</p>
                        </li>
                     </ul>
                     <p>入站服务器只能与一个用户关联，但一个用户可以与许多入站服务器关联。</p>
                     <p>通过为<code class="codeph">GRANT_ADMIN_PRIVILEGE</code>过程中的<code class="codeph">privilege_type</code>参数指定<code class="codeph">APPLY</code>为具有<code class="codeph">DBMS_XSTREAM_AUTH</code>包的apply用户授予权限。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4CA7A498-B5C1-4B02-9296-1D0BD66CE9E9__GUID-8D91CA08-3E13-49ED-BC3B-AE4B9C0B79F4">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="configuring-xstream-in.html#GUID-445DEEE0-6449-490B-8264-87CDB0183E1F" title="XStream管理员在XStream In环境中配置和管理XStream组件。">配置XStream管理员</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="managing-xstream-in.html#GUID-C34DBCAC-F217-4752-856B-F4811BEA81F4" title="入站服务器在其应用用户的安全域中应用LCR，并且客户端应用程序必须作为应用用户附加到入站服务器。您可以使用DBMS_XSTREAM_ADM程序包中的ALTER_INBOUND过程更改入站服务器的应用用户。">更改入站服务器的应用用户</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">GRANT_ADMIN_PRIVILEGE</code>过程的详细信息，请<code class="codeph">GRANT_ADMIN_PRIVILEGE</code> <a href="../arpls/DBMS_XSTREAM_AUTH.html#ARPLS73653" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-7020188C-8108-44E6-B6EF-9AFA035786C7" title="了解与客户端应用程序和XStream组件相关的安全性，以及应用用户对入站服务器所需的权限。">XStream In和Security</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="XSTRM72865"></a><div class="props_rev_3"><a id="GUID-B2EF8B86-FFF0-4251-9FE3-577BF3F214CE" name="GUID-B2EF8B86-FFF0-4251-9FE3-577BF3F214CE"></a><h3 id="XSTRM-GUID-B2EF8B86-FFF0-4251-9FE3-577BF3F214CE" class="sect3"><span class="enumeration_section">8.6</span> XStream In和其他Oracle数据库组件</h3>
               <p>XStream In可以与其他Oracle数据库组件一起使用。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-C1C9C821-B69B-47A0-BD00-6E160792EE82">XStream In和Oracle Real Application Clusters</a><br>您可以配置入站服务器以在Oracle Real Application Clusters（Oracle RAC）环境中应用更改。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-A1327AD6-ADB5-4B4B-9855-43B31FBB509C">XStream In和闪回数据存档</a><br>入站服务器可以将封装在逻辑更改记录（LCR）中的更改应用于闪回数据存档中的表。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-4D586440-012D-4BA5-A2ED-D7A17C87978E">XStream In和可传输表空间</a><br>您可以使用可传输表空间将数据导入XStream复制环境中涉及的数据库。
                     </li>
                     <li class="ulchildlink"><a href="xstream-in-concepts.html#GUID-4E7FDA7C-002C-41D3-8E7C-2918913C2B13">XStream In和多租户环境</a><br>多租户环境使Oracle数据库能够包含一组可移植的模式，对象和相关结构，这些模式在逻辑上作为单独的数据库出现在应用程序中。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-D2C787E8-E16F-4286-921E-93195265E4F7" title="熟悉与XStream In相关的概念。">概念中的XStream</a></p>
                     </div>
                  </div>
               </div>
               <a id="XSTRM72866"></a><div class="props_rev_3"><a id="GUID-C1C9C821-B69B-47A0-BD00-6E160792EE82" name="GUID-C1C9C821-B69B-47A0-BD00-6E160792EE82"></a><h4 id="XSTRM-GUID-C1C9C821-B69B-47A0-BD00-6E160792EE82" class="sect4"><span class="enumeration_section">8.6.1</span> XStream In和Oracle Real Application Clusters</h4>
                  <div>
                     <p>您可以配置入站服务器以在Oracle Real Application Clusters（Oracle RAC）环境中应用更改。</p>
                     <p>入站服务器在您连接的Oracle RAC实例中运行。如果此实例失败，您可以连接到正常运行的实例并再次启动入站服务器。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C1C9C821-B69B-47A0-BD00-6E160792EE82__GUID-163F5076-F671-4105-BEF5-EA88D9B72E9A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" title="使用XStream In，入站服务器从客户端应用程序接收数据库更改。">入站服务器</a></p>
                           </li>
                           <li>
                              <p><a href="../racad/index.html" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B2EF8B86-FFF0-4251-9FE3-577BF3F214CE" title="XStream In可以与其他Oracle数据库组件一起使用。">XStream In和其他Oracle数据库组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72867"></a><div class="props_rev_3"><a id="GUID-A1327AD6-ADB5-4B4B-9855-43B31FBB509C" name="GUID-A1327AD6-ADB5-4B4B-9855-43B31FBB509C"></a><h4 id="XSTRM-GUID-A1327AD6-ADB5-4B4B-9855-43B31FBB509C" class="sect4"><span class="enumeration_section">8.6.2</span> XStream In和闪回数据存档</h4>
                  <div>
                     <p>入站服务器可以将封装在逻辑更改记录（LCR）中的更改应用于闪回数据存档中的表。</p>
                     <p>入站服务器还支持以下DDL语句：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code></p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code>子句<code class="codeph">CREATE</code> <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p>带有<code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code>子句的<code class="codeph">ALTER</code> <code class="codeph">TABLE</code></p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A1327AD6-ADB5-4B4B-9855-43B31FBB509C__GUID-2AF3EF4A-E31B-4368-A922-3BA05E7D8FED">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="xstream-in-concepts.html#GUID-B02EE427-CCBB-408C-9907-3B54E9A45D1C" title="使用XStream In，入站服务器从客户端应用程序接收数据库更改。">入站服务器</a></p>
                           </li>
                           <li>
                              <p>有关闪回数据存档的信息，请参见<a href="../adfns/flashback.html#ADFNS01011" target="_blank"><span><cite>“Oracle数据库开发指南</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B2EF8B86-FFF0-4251-9FE3-577BF3F214CE" title="XStream In可以与其他Oracle数据库组件一起使用。">XStream In和其他Oracle数据库组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM73033"></a><div class="props_rev_3"><a id="GUID-4D586440-012D-4BA5-A2ED-D7A17C87978E" name="GUID-4D586440-012D-4BA5-A2ED-D7A17C87978E"></a><h4 id="XSTRM-GUID-4D586440-012D-4BA5-A2ED-D7A17C87978E" class="sect4"><span class="enumeration_section">8.6.3</span> XStream In和可传输表空间</h4>
                  <div>
                     <p>您可以使用可传输表空间将数据导入XStream复制环境中涉及的数据库。</p>
                     <div class="section">
                        <p>当满足以下条件时，本节中的说明适用：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>复制配置是入站服务器在XStream Out配置中应用捕获进程捕获的更改的配置。</p>
                           </li>
                           <li>
                              <p>使用可传输表空间导入的数据必须包含在复制环境中的每个数据库中。</p>
                           </li>
                           <li>
                              <p>导入操作完成后，将复制对导入数据的更改。</p>
                           </li>
                        </ul>
                        <p>此外，规则应指示复制环境避免复制标记的LCR。</p>
                        <p>满足这些条件时，请完成以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>停止复制。</span></li>
                        <li><span>使用可传输表空间将数据导入复制环境中的每个数据库。</span></li>
                        <li><span>重启复制。</span></li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4D586440-012D-4BA5-A2ED-D7A17C87978E__GUID-48E0D91E-5958-4FAF-8289-06607E7E2E50">
                        <p class="notep1">也可以看看：</p>
                        <p>有关可传输表空间的详细信息，请参见<a href="../admin/transporting-data.html#ADMIN11394" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B2EF8B86-FFF0-4251-9FE3-577BF3F214CE" title="XStream In可以与其他Oracle数据库组件一起使用。">XStream In和其他Oracle数据库组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="XSTRM72931"></a><div class="props_rev_3"><a id="GUID-4E7FDA7C-002C-41D3-8E7C-2918913C2B13" name="GUID-4E7FDA7C-002C-41D3-8E7C-2918913C2B13"></a><h4 id="XSTRM-GUID-4E7FDA7C-002C-41D3-8E7C-2918913C2B13" class="sect4"><span class="enumeration_section">8.6.4</span> XStream In和多租户环境</h4>
                  <div>
                     <p>多租户环境使Oracle数据库能够包含一组可移植的模式，对象和相关结构，这些模式在逻辑上作为单独的数据库出现在应用程序中。</p>
                     <p>这个自包含的集合称为可插拔数据库（PDB）。多租户容器数据库（CDB）包含PDB。它还可以包含应用程序容器。应用程序容器是CDB的可选组件，它由应用程序根目录和与之关联的所有应用程序PDB组成。应用程序容器存储一个或多个应用程序的数据。应用程序容器共享应用程序元数据和公共数据在CDB中，以下各项都是容器：CDB根，每个PDB，每个应用程序根和每个应用程序PDB。</p>
                     <p>在CDB中，入站服务器仅限于从一个源数据库接收LCR，并且仅在当前容器中执行更改（一个PDB，一个应用程序根，一个应用程序PDB或CDB根）。单个入站服务器无法将更改应用于CDB中的多个容器。</p>
                     <p>当入站服务器位于CDB根目录中时，应用用户必须是普通用户。当入站服务器位于应用程序根目录中时，应用用户必须是普通用户或应用程序公共用户。当入站服务器位于PDB或应用程序PDB中时，应用用户可以是普通用户或本地用户。</p>
                     <div class="infoboxnote" id="GUID-4E7FDA7C-002C-41D3-8E7C-2918913C2B13__GUID-72FF3C44-9583-4898-B869-1B6183E5CEEC">
                        <p class="notep1">注意：</p>
                        <p>XStream不会同步应用程序根容器中所做的更改。不要使用XStream In复制来复制在应用程序根容器中完成的操作。您可以在目标中的应用程序根容器中手动应用这些更改。请注意，仍可以复制在PDB中完成的操作。</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="general-xstream-concepts.html#GUID-CBD258F9-D53D-4DA8-98CE-D87232D06655" title="多租户环境使Oracle数据库能够包含一组可移植的模式，对象和相关结构，这些模式在逻辑上作为单独的数据库出现在应用程序中。这个自包含的集合称为可插拔数据库（PDB）。CDB包含PDB。">系统创建的规则和多租户环境</a></li>
                           <li><a href="../multi/multitenant-architecture.html#MULTI-GUID-BBAD3448-8A5A-4397-BD3A-F05D945DB7F8" target="_blank"><span><cite>Oracle多租户管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="xstream-in-concepts.html#GUID-B2EF8B86-FFF0-4251-9FE3-577BF3F214CE" title="XStream In可以与其他Oracle数据库组件一起使用。">XStream In和其他Oracle数据库组件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>