<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>OLAP_TABLE SQL函数</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="DML Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="DML Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="olap-dml-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T13:59:56-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1994, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96403-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="olap-dml-commands-h-z.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_AW-plsql-package.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP DML Reference"></meta>
    <meta name="dcterms.isVersionOf" content="OLADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="olap-dml-commands-h-z.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_AW-plsql-package.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">DML参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OLAP_TABLE SQL函数</li>
            </ol>
            <a id="GUID-7A3B0D7D-4B11-48FD-8A58-A6EF8084F85D" name="GUID-7A3B0D7D-4B11-48FD-8A58-A6EF8084F85D"></a><a id="OLADM930"></a><a id="olapdml_olap_table_funcs"></a>
            
            <h2 id="OLADM-GUID-7A3B0D7D-4B11-48FD-8A58-A6EF8084F85D" class="sect2"><span class="enumeration_chapter">一个</span> OLAP_TABLE SQL函数</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录包含以下SQL函数的参考文档，您可以使用这些函数从分析工作区提取多维数据并以关系表的二维格式呈现它：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">使用OLAP_TABLE创建关系视图</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">在SELECT FROM OLAP_TABLE语句中使用OLAP DML表达式</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511">OLAP_TABLE</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A">OLAP_CONDITION</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a></p>
                  </li>
                  <li>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a></p>
                  </li>
               </ul>
            </div><a id="OLADM931"></a><a id="olapdml_olaptable_createviews"></a><div class="props_rev_3"><a id="GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722" name="GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722"></a><h3 id="OLADM-GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722" class="sect3"><span class="enumeration_section">A.1</span>使用OLAP_TABLE创建关系视图</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">OLAP_TABLE</code>是一个SQL函数，它返回一个对象表，这些对象可以连接到关系表和视图，以及由<code class="codeph">OLAP_TABLE</code>填充的其他对象表。在SQL语句中，您可以在提供表或视图名称的任何位置指定<code class="codeph">OLAP_TABLE</code>函数调用。
                     </p>
                     <p><code class="codeph">OLAP_TABLE</code> <a id="d248156e106" class="indexterm-anchor"></a> <a id="d248156e108" class="indexterm-anchor"></a>使用<span class="bold">限制映射</span>将分析工作区中定义的维度和度量<span class="bold">映射</span>到逻辑表中的列。限制映射与SQL <code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句组合，以生成在分析工作区中执行的一系列OLAP DML LIMIT命令。
                     </p>
                     <p><code class="codeph">OLAP_TABLE</code>可以使用带有预定义逻辑表的限制映射，也可以使用限制映射中的信息在运行时动态生成逻辑表。
                     </p>
                     <div class="infoboxnotealso" id="GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722__GUID-9D9813A4-12B6-463C-9457-C846E6B11535">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="olap-dml-commands-h-z.html#GUID-C84F165D-930A-461C-976B-F4C28F6DCA14">LIMIT命令</a></p>
                           </li>
                           <li>
                              <p>讨论<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511">OLAP_TABLE</a>的<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHCGCBF">“limit_map”</a>参数</p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-18A04504-CC0B-4B59-8007-BD88818A6F99">创建供OLAP_TABLE使用的逻辑表</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252">必需的OLAP DML对象</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-18A04504-CC0B-4B59-8007-BD88818A6F99">创建供OLAP_TABLE使用的逻辑表</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-18A04504-CC0B-4B59-8007-BD88818A6F99">创建供OLAP_TABLE使用的逻辑表</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-18A04504-CC0B-4B59-8007-BD88818A6F99">创建供OLAP_TABLE使用的逻辑表</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="OLADM932"></a><div class="props_rev_3"><a id="GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252" name="GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252"></a><h4 id="OLADM-GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252" class="sect4"><span class="enumeration_section">A.1.1</span>必需的OLAP DML对象</h4>
                  <div>
                     <div class="section">
                        <p>必须在分析工作区中预定义多个对象，以支持在限制图中映射维层次结构：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">父关系</span> ，用于标识层次结构中每个维度成员的父级。有关更多信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73">Parentrel关系</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">层次结构维度</span> ，列出<span class="bold">维度</span>的层次结构。有关详细信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-C549C23C-B212-46F3-9554-7EF66DED9843">Hierlist维度</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>一个<span class="bold">inhierarchy</span>变量或valueset，它指定哪些维度成员属于层次结构的每个级别。有关详细信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9">Inhier值集或变量</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">分组ID</span>变量，用于标识每个维度成员的层次结构中的深度。有关更多信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29">Gidrel关系</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">族关系</span> ，它提供层次结构中每个维度成员的完整父级。有关更多信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C">Familyrel关系</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">级别维度</span> ，列出<span class="bold">维度</span>的级别。有关详细信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290">Levellist Dimension</a> ”</span> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLADM933"></a><div class="props_rev_3"><a id="GUID-18A04504-CC0B-4B59-8007-BD88818A6F99" name="GUID-18A04504-CC0B-4B59-8007-BD88818A6F99"></a><h4 id="OLADM-GUID-18A04504-CC0B-4B59-8007-BD88818A6F99" class="sect4"><span class="enumeration_section">A.1.2</span>创建供OLAP_TABLE使用的逻辑表</h4>
                  <div>
                     <div class="section">
                        <p>由<code class="codeph">OLAP_TABLE</code>填充的逻辑表实际上是一种表类型，其行是用户定义的对象类型，也称为<span class="bold">抽象数据类型</span>或<span class="bold">ADT</span> 。
                        </p>
                        <p>一个<a id="d248156e303" class="indexterm-anchor"></a>用户定义的对象类型由属性组成，这些属性等同于表的列。定义行的基本语法如下。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE <span class="italic">object_name</span> AS OBJECT（ <span class="italic">attribute1</span> <span class="italic">数据类型</span> ， <span class="italic">attribute2</span> <span class="italic">数据类型</span> ， <span class="italic">属性</span> n <span class="italic">数据类型</span> ）;</pre><p>一个<a id="d248156e334" class="indexterm-anchor"></a>表类型是对象类型的集合;此集合相当于表的行。创建表类型的基本语法如下。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE <span class="italic">table_name</span> AS TABLE OF <span class="italic">object_name</span> ;</pre><p><code class="codeph">OLAP_TABLE</code>可以使用带有预定义逻辑表的限制映射，也可以使用限制映射中的信息在运行时动态生成逻辑表。
                        </p>
                        <div class="infoboxnotealso" id="GUID-18A04504-CC0B-4B59-8007-BD88818A6F99__GUID-1AC77CDB-431C-496B-A631-0E9A04F06CB3">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2">使用带有预定义ADT的OLAP_TABLE</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">使用带自动ADT的OLAP_TABLE</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../adobj/key-features-object-relational-model.html#ADOBJ-GUID-0C7CE261-467B-4F8B-A04D-B0900E1FB284" target="_blank">关于对象类型</a> <span><cite>Oracle数据库对象关系开发者指南</cite></span>中关于对象类型的信息</p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/CREATE-TYPE.html#SQLRF01506" target="_blank">“</a> <span class="italic">Oracle数据库SQL语言参考”中的“</span> <a href="../sqlrf/CREATE-TYPE.html#SQLRF01506" target="_blank">创建类型”</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OLADM2951"></a><a id="OLADM2952"></a><a id="OLADM934"></a><div class="props_rev_3"><a id="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2" name="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2"></a><h5 id="OLADM-GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2" class="sect5"><span class="enumeration_section">A.1.2.1</span>使用带有预定义ADT的OLAP_TABLE</h5>
                     <div>
                        <div class="section">
                           <p>您可以预定义对象表或动态生成它。当您预先创建表类型时，它可在数据库中使用，以供任何<code class="codeph">OLAP_TABLE</code>调用使用。使用预定义对象的查询通常比动态生成对象的查询执行得更好。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2__GUID-AB1A0506-22DF-45FB-AA26-AC512A484457">例子</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2__CHDHJDBA">
                           <p class="titleinexample">示例A-1使用预定义ADT创建视图的模板</p>
                           <p>此示例显示如何使用预定义的ADT创建分析工作区的视图。</p><pre class="oac_no_warn" dir="ltr">SET ECHO ON SET SERVEROUT ON DROP TYPE <span class="italic">table_obj</span> ; DROP TYPE <span class="italic">row_obj</span> ; CREATE TYPE <span class="italic">row_obj</span> AS <span class="italic">OBJECT（column_first</span> <span class="italic">数据类型</span> ， <span class="italic">数据类型</span> <span class="italic"><span class="italic">column_next，column_Ñ</span></span> <span class="italic">数据类型</span> ）; / CREATE TYPE <span class="italic">table_obj</span> AS TABLE OF <span class="italic">row_obj</span> ; / CREATE OR REPLACE VIEW <span class="italic">view_name</span> AS SELECT <span class="italic">column_first</span> ， <span class="italic">column_next</span> ， <span class="italic">column_</span> n FROM TABLE（OLAP_TABLE（' <span class="italic">analytic_workspace</span> '，' <span class="italic">table_obj</span> '，' <span class="italic">olap_command</span> '，' <span class="italic">limit_map</span> '））; / COMMIT; / GRANT SELECT on <span class="italic">view_name</span> TO PUBLIC;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2__CHDFJHHA">
                           <p class="titleinexample">示例A-2使用预定义ADT的时间维度的示例视图</p>
                           <p>此示例使用具有预定义表类型的<code class="codeph">OLAP_TABLE</code>在<code class="codeph">MYAW_AW</code>模式中名为<code class="codeph">MYAW</code>的分析工作区中创建<code class="codeph">TIME</code>维的关系视图。
                           </p>
                           <p><code class="codeph">OLAP_TABLE</code>调用中的第一个参数是分析工作区的名称。第二个是预定义表类型的名称。第四个是限制图，指定如何将工作空间维度映射到预定义表类型的列。未指定第三个参数。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE time_cal_row AS OBJECT（time_id varchar2（32），cal_short_label varchar2（32），cal_end_date date，cal_timespan number（6））; CREATE TYPE time_cal_table AS TABLE of time_cal_row;创建或替换视图time_cal_view AS SELECT time_id，cal_short_label，cal_end_date，cal_timespan FROM TABLE（OLAP_TABLE（'myaw_aw.myaw duration session'，'time_cal_table'，''，'DIMENSION time_id，时间与HIERARCHY time_parentrel INHIERARCHY time_inhier ATTRIBUTE cal_short_label from time_short_description ATTRIBUTE cal_end_date from time_end_date ATTRIBUTE cal_timespan from time_time_span'））;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLADM2953"></a><a id="OLADM2954"></a><a id="OLADM935"></a><div class="props_rev_3"><a id="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D" name="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D"></a><h5 id="OLADM-GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D" class="sect5"><span class="enumeration_section">A.1.2.2</span>使用带自动ADT的OLAP_TABLE</h5>
                     <div>
                        <div class="section">
                           <p>如果你<a id="d248156e577" class="indexterm-anchor"></a>不提供表类型的名称作为参数， <code class="codeph">OLAP_TABLE</code>使用限制映射中的信息自动生成逻辑表。在这种情况下，表类型仅在调用SQL <code class="codeph">SELECT</code>语句的上下文中的运行时可用。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D__GUID-FFBF7713-508C-4E43-99C4-7A2037BB95EC">例子</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D__CIHICBCD">
                           <p class="titleinexample">示例A-3使用自动ADT创建视图的模板</p>
                           <p>此示例显示如何使用自动ADT创建分析工作区的视图。</p><pre class="oac_no_warn" dir="ltr">SET ECHO ON SET SERVEROUT ON CREATE或REPLACE VIEW <span class="italic">view_name</span> AS SELECT <span class="italic">column_first</span> ， <span class="italic">column_next</span> ， <span class="italic">column_</span> n FROM TABLE（OLAP_TABLE（' <span class="italic">analytic_workspace</span> '，''，' <span class="italic">olap_command</span> '，' <span class="italic">limit_map</span> '））; / COMMIT; / GRANT SELECT on <span class="italic">view_name</span> TO PUBLIC;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D__CIHDHDDB">
                           <p class="titleinexample">示例A-4使用自动ADT查看TIME尺寸</p>
                           <p>此示例创建前一个示例生成的相同视图，但它自动生成ADT而不是使用预定义的表类型。它使用限制映射中的<code class="codeph">AS</code>子句来指定目标列的数据类型。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE或REPLACE VIEW time_cal_view AS SELECT time_id，cal_short_label，cal_end_date，cal_timespan FROM TABLE（OLAP_TABLE（'myaw_aw.myaw duration session'，null，null，'DIMENSION time_id AS varchar2（32）FROM FROM WITH HIERARCHY time_parentrel INHIERARCHY time_inhier ATTRIBUTE cal_short_label AS VARCHAR2 （32）from time_short_description ATTRIBUTE cal_end_date AS DATE from time_end_date ATTRIBUTE cal_timespan AS NUMBER（6）from time_time_span'））;</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <p>自动生成ADT时， <code class="codeph">OLAP_TABLE</code>使用目标列的默认关系数据类型，除非您使用限制映射中的<code class="codeph">AS</code>子句覆盖它们。<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAFCIEA" title="OLAP_TABLE默认数据类型转换">表A-2</a>中描述了<code class="codeph">OLAP_TABLE</code>使用的默认数据类型转换。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OLADM936"></a><div class="props_rev_3"><a id="GUID-02689531-77D8-4136-98A8-68B96DE01EC4" name="GUID-02689531-77D8-4136-98A8-68B96DE01EC4"></a><h4 id="OLADM-GUID-02689531-77D8-4136-98A8-68B96DE01EC4" class="sect4"><span class="enumeration_section">A.1.3</span>将计算列添加到关系视图</h4>
                  <div>
                     <div class="section">
                        <p><code class="codeph">OLAP_TABLE</code>使用限制映射以表格形式显示分析工作区中的多维数据。限制图指定逻辑表的列。您可以通过在查询的选择列表中指定<code class="codeph">OLAP_EXPRESSION</code>函数或相关的布尔，文本或日期函数，将计算列添加到关系视图。在选择列表中指定其中一个函数时， <code class="codeph">OLAP_TABLE</code>会为函数的结果生成其他列。
                        </p>
                        <p>在使用其中一个表达式之前，必须在<code class="codeph">OLAP_TABLE</code>使用的限制映射中指定<code class="codeph">ROW2CELL</code>子句，以标识<code class="codeph">OLAP_TABLE</code>使用OLAP单行函数使用的信息填充的<code class="codeph">RAW</code>列。
                        </p>
                        <div class="infoboxnotealso" id="GUID-02689531-77D8-4136-98A8-68B96DE01EC4__GUID-170B0826-F8C5-4B0A-BACE-4C7309F5FD2E">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-00A7C470-939E-4240-B089-B179CDE05252">使用OLAP DML表达式作为单行函数</a> ”</span>和<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL子句</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OLADM937"></a><a id="olapdml_in_selectfrom"></a><div class="props_rev_3"><a id="GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F" name="GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F"></a><h3 id="OLADM-GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F" class="sect3"><span class="enumeration_section">A.2</span>在SELECT FROM OLAP_TABLE语句中使用OLAP DML表达式</h3>
               <div>
                  <p>您可以在SELECT FROM OLAP_TABLE语句中使用OLAP DML命令，如下所述：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-00A7C470-939E-4240-B089-B179CDE05252">将OLAP DML表达式用作单行函数</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8">从SELECT FROM OLAP_TABLE语句中修改分析工作区</a> ”</span></p>
                     </li>
                  </ul>
               </div><a id="OLADM938"></a><div class="props_rev_3"><a id="GUID-00A7C470-939E-4240-B089-B179CDE05252" name="GUID-00A7C470-939E-4240-B089-B179CDE05252"></a><h4 id="OLADM-GUID-00A7C470-939E-4240-B089-B179CDE05252" class="sect4"><span class="enumeration_section">A.2.1</span>将OLAP DML表达式用作单行函数</h4>
                  <div>
                     <p>SQL函数通常是单行的<a id="d248156e786" class="indexterm-anchor"></a>为查询的表或视图的每一行返回单个结果行的函数。Oracle支持多种预定义的SQL <a id="d248156e789" class="indexterm-anchor"></a>单行函数，例如返回数字数据的<code class="codeph">COS</code> ， <code class="codeph">LOG</code>和<code class="codeph">ROUND</code> ，以及返回字符数据的<code class="codeph">UPPER</code>和<code class="codeph">LOWER</code> 。
                     </p>
                     <p>在<code class="codeph">SELECT FROM OLAP_TABLE</code>语句的上下文中，有四个SQL函数可用于包装OLAP DML函数，以便OLAP DML函数充当单行函数。有四个返回不同的OLAP DML数据类型的表达式的结果： <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a>为Oracle OLAP数字表达式， <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a>为Oracle OLAP布尔表达式， <a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a>为Oracle OLAP日期时间表达式，并<a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a>为Oracle OLAP的文本表述。每个SQL函数的一个参数是OLAP DML函数。
                     </p>
                     <p>您可以像指定其他Oracle单行函数一样指定OLAP_EXPRESSION函数及其变体，特别是在选择列表， <code class="codeph">WHERE</code>和<code class="codeph">ORDER BY</code>子句中。
                     </p>
                  </div>
               </div><a id="OLADM939"></a><div class="props_rev_3"><a id="GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8" name="GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8"></a><h4 id="OLADM-GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8" class="sect4"><span class="enumeration_section">A.2.2</span>在SELECT FROM OLAP_TABLE语句中修改分析工作区</h4>
                  <div>
                     <p>在执行<code class="codeph">OLAP_TABLE</code>期间，有几种机制可以动态修改分析工作区。</p>
                     <p>您可以使用<code class="codeph">OLAP_CONDITION</code> SQL函数在<code class="codeph">SELECT FROM OLAP_TABLE</code>语句的上下文中修改分析工作区。您可以像其他Oracle函数一样指定<code class="codeph">OLAP_CONDITION</code> ，通常在<code class="codeph">WHERE</code>子句中。使用<code class="codeph">OLAP_CONDITION</code> ，您可以设置选项，执行<code class="codeph">LIMIT</code>命令，执行OLAP模型或预测，或运行程序。对工作空间所做的更改可能是暂时的，也可能在查询完成后持续存在于会话中。
                     </p>
                     <p>除了<code class="codeph">OLAP_CONDITION</code> ，您还可以使用<code class="codeph">OLAP_TABLE</code>函数本身支持的语法：限制映射中的<code class="codeph">PREDMLCMD</code>和<code class="codeph">POSTDMLCMD</code>子句以及<span class="italic">olap_command</span>参数。<code class="codeph">OLAP_CONDITION</code>具有可移植性的优点，因为它不嵌入在<code class="codeph">OLAP_TABLE</code> ，并且具有多功能性，因为它可以应用于不同的入口点。
                     </p>
                     <p><code class="codeph">OLAP_TABLE</code>在执行生成查询结果集的<code class="codeph">LIMIT</code>命令之前，将维度的状态保存在限制映射中。获取数据后， <code class="codeph">OLAP_TABLE</code>将恢复维度的状态。您可以在限制映射中指定<code class="codeph">PREDMLCMD</code>子句，以便在保存维度状态之前执行OLAP DML命令。执行<code class="codeph">OLAP_TABLE</code>后， <code class="codeph">PREDMLCMD</code>子句产生的修改仍保留在工作空间中，除非使用<code class="codeph">POSTDMLCMD</code>子句进行反转。有关更多信息，请参阅<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHCGCBF">“limit_map”</a> 。
                     </p>
                     <p><code class="codeph">OLAP_TABLE</code>的<span class="italic">olap_command</span>参数指定在获取结果集之前立即执行的OLAP DML命令。在某些情况下， <span class="italic">olap_command</span>参数可能包含OLAP DML <a href="olap-dml-commands-a-g.html#GUID-D3B20F03-6C0D-4F6D-A63D-22130EF8956F">FETCH</a>命令，该命令本身管理提取。<span class="italic">olap_command</span>参数设置的限制仅在执行<code class="codeph">OLAP_TABLE</code>期间有效。有关更多信息，请参阅<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFFIBI">“olap_command”</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OLADM940"></a><a id="OLADM3031"></a><a id="OLADM2955"></a><a id="OLADM2956"></a><a id="OLADM2957"></a><a id="OLADM2958"></a><a id="OLADM2959"></a><a id="OLADM2960"></a><a id="OLADM2961"></a><a id="OLADM2962"></a><a id="OLADM2963"></a><a id="OLADM2964"></a><a id="OLADM2965"></a><a id="OLADM2966"></a><a id="OLADM2967"></a><a id="olapdml_OLAP_TABLE"></a><div class="sect2"><a id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511" name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511"></a><h3 id="OLADM-GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511" class="sect3"><span class="enumeration_section">A.3</span> OLAP_TABLE</h3>
               <div>
                  <p><a id="d248156e1022" class="indexterm-anchor"></a> <code class="codeph">OLAP_TABLE</code>是一个SQL函数，它从分析工作区中提取多维数据，并以关系表的二维格式呈现它。
                  </p>
                  <div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-D64F379C-F786-4541-B791-DA9B89601FFC">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">使用OLAP_TABLE创建关系视图</a> ”</span>和<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">在SELECT FROM OLAP_TABLE语句中使用OLAP DML表达式</a> ”</span></p>
                  </div>
                  <p><code class="codeph">OLAP_TABLE</code>函数将分析工作区中的多维数据作为逻辑表返回。
                  </p>
                  <p>在该命令<code class="codeph">OLAP_TABLE</code>处理在其输入参数指定的信息在<span class="q">“</span>中描述<span class="q"><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">的处理的顺序在OLAP_TABLE</a> ”。</span>
                  </p>
                  <p><code class="codeph">OLAP_TABLE</code>是数据库中用于查询分析工作区的基本机制。在SQL语句中，您可以在提供表或视图名称的任何位置指定<code class="codeph">OLAP_TABLE</code>函数调用。
                  </p>
                  <p><code class="codeph">OLAP_TABLE</code>返回一个对象表，该表可以连接到关系表和视图，以及由<code class="codeph">OLAP_TABLE</code>填充的其他对象表。</p>
                  <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-95F5C8B7-58FE-4D1D-A001-C95C10CB61EB">
                     <p class="notep1">注意：</p>
                     <p>您无法在OLAP工作表中执行此功能。您必须在SQL工具（如SQL Worksheet）中执行它。</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-1C7BEC66-4153-40C0-B056-E7F260A026E3">返回</p>
                     <p>一种表类型，其行是标识所选工作空间数据的对象（ADT）。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">使用OLAP_TABLE创建关系视图</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-6BC7169F-F479-4DD2-BF10-AA4163612BC4">句法</p><pre class="oac_no_warn" dir="ltr">OLAP_TABLE（analytic_workspace IN VARCHAR2，table_object IN VARCHAR2，olap_command IN VARCHAR2，limit_map1 IN VARCHAR2，limit_map2 IN VARCHAR2 ,.。。limit_map8 IN VARCHAR2）返回类型;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-A37C6246-A36A-4771-8980-8C1E9DA38AEB">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-D0FE8604-12A2-44E9-A75D-31BFB6CB10B2"><!-- --></a> <span class="italic">analytic_workspace</span></dt>
                        <dd>
                           <p><a id="d248156e1092" class="indexterm-anchor"></a>提供存储源数据的分析工作空间的名称。它还指定分析工作区连接到OLAP会话的时间，该会话在您第一次调用<code class="codeph">OLAP_TABLE</code>打开。</p>
                           <p><code class="codeph">OLAP_TABLE</code>始终需要此参数。</p>
                           <p>该参数的语法是：</p><pre class="oac_no_warn" dir="ltr">'[ <span class="italic">老板。</span> ] <span class="italic">aw_name</span> DURATION QUERY | SESSION”</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">'olapuser.xademo DURATION SESSION'</pre><ul style="list-style-type:disc">
                              <li>
                                 <p><span class="italic"><span class="bold">所有者</span></span></p>
                                 <p>在创建要由其他用户访问的视图时指定<span class="italic">所有者</span> 。否则，如果您拥有分析工作区，则可以省略<span class="italic">所有者</span> 。仅当您使用与所有者不同的用户名登录时才需要它。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">QUERY</span></p>
                                 <p>在单个查询的持续时间内附加分析工作区。仅在必须查看在其他会话中对分析工作区进行的更新时才使用<code class="codeph">QUERY</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">SESSION</span></p>
                                 <p>附加分析工作区并在查询后将其保持连接。它提供比<code class="codeph">QUERY</code>更好的性能，因为它使OLAP会话保持打开状态。在没有限制映射中的<span class="italic">table_object</span>参数或<code class="codeph">AS</code>子句的情况下调用函数时，此性能差异很大;在这种情况下， <code class="codeph">OLAP_TABLE</code>函数必须确定适当的表定义。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">使用带自动ADT的OLAP_TABLE</a> ”</span> 。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-8D2CAFE2-F6AD-46CE-AD6A-658FD2254DE4"><!-- --></a> <span class="italic">table_object</span></dt>
                        <dd>
                           <p><a id="d248156e1170" class="indexterm-anchor"></a><a id="d248156e1174" class="indexterm-anchor"></a>预定义对象表的名称，如<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2">使用带有预定义ADT的OLAP_TABLE</a> ”中所述</span> 。
                           </p>
                           <p>此参数是可选的。使用自动ADT时省略此参数。</p>
                           <p>该参数的语法是：</p><pre class="oac_no_warn" dir="ltr">' <span class="italic">table_name</span> '</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">'product_dim_tbl'</pre><p>指定<span class="italic">table_name</span>参数时，将预定义返回数据的列数据类型。在这种情况下，您不能在限制图中使用<code class="codeph">AS</code>子句。
                           </p>
                           <p>省略<span class="italic">table_name</span>参数时，将在运行时生成返回数据的列数据类型。您可以在限制映射中提供具有<code class="codeph">AS</code>子句的目标数据类型，也可以使用<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAFCIEA" title="OLAP_TABLE默认数据类型转换">表A-2中</a>所述的默认数据类型。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">使用带自动ADT的OLAP_TABLE</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFFIBI"><!-- --></a> <span class="italic">olap_command</span></dt>
                        <dd>
                           <p>单个OLAP DML命令。要执行多个命令，请在分析工作区中创建一个程序，然后在此参数中调用该程序。该参数的强大功能和灵活性来自于它几乎可以处理OLAP DML中可用的任何数据操作命令。</p>
                           <p>在该命令<code class="codeph">OLAP_TABLE</code>处理<span class="italic">olap_command</span>参数在<span class="q">“</span>指定<span class="q"><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">处理的顺序在OLAP_TABLE</a> ”。</span>
                           </p>
                           <p>该参数的语法是：</p><pre class="oac_no_warn" dir="ltr">' <span class="italic">olap_command</span> '</pre><p>使用<span class="italic">olap_command</span>参数有两种不同的方法：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在提取数据之前立即更改工作区会话（在应用了所有限制之后），如<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJADBF">在olap_command参数中使用FETCH”中所述</a></span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>要直接指定源数据，而不是使用<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHICDGB">使用带有限制映射的olap_command”中所述的限制映射</a></span> 。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHCGCBF"><!-- --></a> <span class="italic">limit_map</span></dt>
                        <dd>
                           <p>将工作空间对象映射到关系列，并标识每个对象的角色。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">使用OLAP_TABLE创建关系视图</a> ”</span> 。
                           </p>
                           <p>限制映射还可以指定<code class="codeph">OLAP_TABLE</code>要执行的特殊指令。例如：它可以导致OLAP DML命令在处理限制映射之前或之后执行;它可以为<code class="codeph">OLAP_CONDITION</code>和<code class="codeph">OLAP_EXPRESSION</code>函数指定<code class="codeph">ROW2CELL</code>列。（参见<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A">OLAP_CONDITION</a> ”</span>和<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a> ”</span> 。）
                           </p>
                           <p>在该命令<code class="codeph">OLAP_TABLE</code>处理在极限地图信息中的<span class="q">“</span>指定<span class="q"><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">处理的顺序在OLAP_TABLE</a> ”。</span>
                           </p>
                           <p>限制图参数通常是必需参数。在<span class="italic">olap_command</span>参数中指定<code class="codeph">FETCH</code>命令时，只能省略它。请参阅<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFFIBI">“olap_command”</a>的讨论。
                           </p>
                           <p>您可以将限制图的整个文本作为参数提供给<code class="codeph">OLAP_TABLE</code> ，也可以将全部或部分限制图存储在分析工作区的文本变量中，并使用＆符号替换来引用它。例如，以下<code class="codeph">OLAP_TABLE</code>查询使用存储在<code class="codeph">MYAW_AW</code>模式的<code class="codeph">MYAW</code>分析工作区中名为<code class="codeph">limitmapvar</code>的变量中的限制映射。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM TABLE（OLAP_TABLE（'myaw_aw.myaw DURATION SESSION'，''，''，'＆（myaw_aw.myaw！）limitmapvar）'）;</pre><p>如果在<code class="codeph">OLAP_TABLE</code>调用中将限制映射作为文本提供，则其最大长度为4,000个字符，这是由PL / SQL强加的。如果将限制图存储在分析工作区中，则限制图没有最大长度。
                           </p>
                           <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-ADDC89FE-9897-4ABB-A4B3-3856AE2B0C77">
                              <p class="notep1">注意：</p>
                              <p>必须在工作空间中预定义多个分析工作空间对象，以支持限制图中维度层次结构的映射。有关更多信息，请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-14F21C1D-20A6-45C8-B3D9-3DCACBE89252">必需的OLAP DML对象</a> ”</span> 。
                              </p>
                           </div>
                           <p><a id="d248156e1356" class="indexterm-anchor"></a>限制图的语法有许多子句，主要用于定义维层次结构。密切注意逗号的存在与否，因为语法错误会阻止您的限制映射被解析。
                           </p><pre class="oac_no_warn" dir="ltr">'[MEASURE <span class="italic">列</span> [AS <span class="italic">数据类型</span> ] FROM { <span class="italic">measure</span> | AW_EXPR <span class="italic">表达式</span> }]。。DIMENSION [ <span class="italic">column</span> [AS <span class="italic">datatype</span> ] FROM] <span class="italic">dimension</span> [WITH [HIERARCHY [ <span class="italic">column</span> [AS <span class="italic">datatype</span> ] FROM] <span class="italic">parent_relation</span> [ <span class="italic">（</span> <span class="italic">hierarchy_dimension''hierarchis_name</span> ''）] [INHIERARCHY <span class="italic">inhierarchy_obj</span> ] [GID <span class="italic">列</span> [AS <span class="italic">数据类型</span> ] FROM <span class="italic">gid_relation</span> ] [PARENTGID <span class="italic">列</span> [AS <span class="italic">数据类型</span> ] FROM <span class="italic">gid_relation</span> ] [FAMILYREL <span class="italic">column1</span> [AS <span class="italic">数据类型</span> ]， <span class="italic">column2</span> [AS <span class="italic">数据类型</span> ]，... <span class="italic">列</span> n [AS <span class="italic">数据类型</span> ] FROM { <span class="italic">expression1，expression2，... expression</span> n | <span class="italic">family_relation</span>使用<span class="italic">level_dimension</span> } [LABEL <span class="italic">label_variable</span> ]] [HATTRIBUTE <span class="italic">列</span> [AS <span class="italic">数据类型</span> ] FROM <span class="italic">hier_attribute_variable]</span> 。。] [ATTRIBUTE <span class="italic">列</span> [AS <span class="italic">数据类型</span> ] FROM <span class="italic">attribute_variable</span> ]。。] [ROW2CELL <span class="italic">列</span> ] [LOOP <span class="italic">loop-clause</span> ] [PREDMLCMD <span class="italic">olap_command</span> ] [POSTDMLCMD <span class="italic">olap_command</span> ]'</pre><p>哪里：</p>
                           <p><span class="italic">column</span>是目标表中<span class="italic">列</span>的名称。
                           </p>
                           <p><span class="italic">datatype</span>是<span class="italic">列</span>的数据类型。
                           </p>
                           <p><span class="italic">measure</span>是分析工作区中的变量，公式或关系。
                           </p>
                           <p><span class="italic">expression</span>是分析工作区中对象的公式或限定数据引用。
                           </p>
                           <p><span class="italic">dimension</span>是分析工作区中的维度。
                           </p>
                           <p><span class="italic">parent_relation</span>是分析工作空间中的自我关系，用于定义<span class="italic">维度</span>的层次结构。有关更多信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73">Parentrel关系</a> ”</span> 。
                           </p>
                           <p><span class="italic">hierarchy_dimension</span>是分析工作空间中的维度，包含<span class="italic">维度</span>层次结构的名称。有关详细信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-C549C23C-B212-46F3-9554-7EF66DED9843">Hierlist维度</a> ”</span></p>
                           <p><span class="italic">hierarchy_name</span>是<span class="italic">hierarchy_dimension</span>的成员。
                           </p>
                           <p><span class="italic">inhierarchy_obj</span>是分析工作空间中的变量或值集，用于标识层次结构的每个级别中的维度成员。有关详细信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9">Inhier值集或变量</a> ”</span></p>
                           <p><span class="italic">gid_relation</span>是分析工作空间中的一种关系，它包含层次结构中每个维度成员的分组ID。有关更多信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29">Gidrel关系</a> ”</span></p>
                           <p><span class="italic">family_relation</span>是一种自我关系，它提供层次结构中每个维度成员的完整<span class="italic">父级</span> 。有关更多信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C">Familyrel关系</a> ”</span></p>
                           <p><span class="italic">level_dimension</span>是分析工作区中的一个维，包含层次结构的级别名称。有关详细信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290">Levellist Dimension</a> ”</span></p>
                           <p><span class="italic">label_variable</span>是分析工作区中的一个变量，包含<span class="italic">维度的</span>描述性文本值。
                           </p>
                           <p><span class="italic">hier_attribute_variable</span>是分析工作区中的一个变量，它包含<span class="italic">hierarchy_name的</span>属性值。
                           </p>
                           <p><span class="italic">attribute_variable</span>是分析工作区中的一个变量，包含<span class="italic">维度的</span>属性值。
                           </p>
                           <p><span class="italic">loop_clause</span>指定Oracle OLAP如何确定它如何循环数据值以及在关系表中创建哪些行。排除LOOP子句时，Oracle OLAP会遍历由限制映射中DIMENSION子句中的维度标识的所有数据值。
                           </p>
                           <p>有关LOOP子句的完整语法，请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJHCFC">LOOP子句</a> ”</span> 。
                           </p>
                           <p><span class="italic">olap_command</span>是OLAP DML命令。
                           </p>
                           <p>下面是<span class="italic">limit-map</span>参数的每个子句的详细语法。
                           </p>
                           <ul style="list-style-type:disc">
                              <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">
                                 <p><span class="bold">测量条款</span> 
                                 </p>
                                 <p><code class="codeph">MEASURE</code>子句将分析工作空间中的变量，公式或关系映射到目标表中的列。您可以列出任意数量的<code class="codeph">MEASURE</code>子句。例如，当您要创建维度视图时，此子句是可选的。
                                 </p>
                                 <p><code class="codeph">AS</code>子条款指定目标列的数据类型。您可以在未预定义对象表时指定<code class="codeph">AS</code>子条款。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">使用带自动ADT的OLAP_TABLE</a> ”</span> 。
                                 </p>
                                 <p>在<code class="codeph">FROM</code>子句中，您可以指定变量，公式或关系的名称，也可以指定评估为其中一个对象的OLAP表达式。例如：</p><pre class="oac_no_warn" dir="ltr">AW_EXPR analytic_cube_sales  -  analytic_cube_cost <span class="italic">或</span> AW_EXPR LOGDIF（analytic_cube_sales，1，time，LEVELREL time.lvlrel）</pre></li>
                              <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHECIBG">
                                 <p><span class="bold">维度条款</span></p>
                                 <p><code class="codeph">DIMENSION</code>子句标识分析工作空间中的维度或联合，用于标注一个或多个度量或属性，或者为限制映射中的一个或多个层次结构提供维度成员。
                                 </p>
                                 <p>如果不希望在表中表示维成员本身，则<span class="italic">列</span>子句是可选的。在这种情况下，请包含可用于数据选择的维度属性。
                                 </p>
                                 <p>有关<code class="codeph">AS</code>子条款的说明，请参见<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">MEASURE子句</a> ”</span> 。
                                 </p>
                                 <p>每个限制图应至少有一个<code class="codeph">DIMENSION</code>子句。如果限制图包含<code class="codeph">MEASURE</code>子句，则除了维度限制为单个值之外，它还应包含度量的每个维度的单个<code class="codeph">DIMENSION</code>子句。如果度量由复合量标注，则必须使用<code class="codeph">DIMENSION</code>子句标识复合中的每个维度。为了在获取大型结果集时获得最佳性能，请在<code class="codeph">LOOP</code>子句中标识复合。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJHCFC">LOOP子句</a> ”</span> 。
                                 </p>
                                 <p>维度只能在一个<code class="codeph">DIMENSION</code>子句中命名。<code class="codeph">DIMENSION</code>子句的子条款标识维层次结构和属性。
                                 </p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">使用维度层次结构和属性的子条款</span></p>
                                       <p><code class="codeph">WITH</code>子条款引入了<code class="codeph">HIERARCHY</code>或<code class="codeph">ATTRIBUTE</code>子条款。如果未指定层次结构或属性，则省略<code class="codeph">WITH</code>关键字。如果同时指定层次结构和属性，则在它们前面加上一个<code class="codeph">WITH</code>关键字。
                                       </p>
                                    </li>
                                    <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIABAB">
                                       <p><span class="bold">与HIERARCHY子条款</span></p>
                                       <p><code class="codeph">HIERARCHY</code>子条款标识分析工作空间中的父自我关系，该自我关系定义维度的层次结构。有关更多信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73">Parentrel关系</a> ”</span> ，</p>
                                       <p>当维度没有层次结构时，或者维度的状态仅限于层次结构的单个级别时， <code class="codeph">HIERARCHY</code>子句是可选的。当维度具有多个层次结构时，请为每个维度指定一个<code class="codeph">HIERARCHY</code>子句，并指定<span class="italic">hierarchy_dimension</span>短语。<span class="italic">hierarchy_dimension</span>标识分析工作空间中的维度，该维度包含此维度的层次结构的名称。有关详细信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-C549C23C-B212-46F3-9554-7EF66DED9843">Hierlist维度</a> ”</span> 。
                                       </p>
                                       <p><span class="italic">hierarchy_name</span>是<span class="italic">hierarchy_dimension</span>的成员。对于此层次结构的后续子条目中引用的所有工作空间对象（即<code class="codeph">INHIERARCHY</code> ， <code class="codeph">GID</code> ， <code class="codeph">PARENTGID</code> ， <code class="codeph">FAMILYREL</code>和<code class="codeph">HATTRIBUTE</code> ），层次结构维度仅限于<span class="italic">hierarchy_name</span> 。
                                       </p>
                                       <p>有关列子条款的说明，请参见<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHECIBG">DIMENSION子句</a> ”</span> 。
                                       </p>
                                       <p>下表列出了<code class="codeph">HIERARCHY</code>子句中的关键字：</p>
                                       <div class="tblformal" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CHDCFCGC">
                                          <p class="titleintable">表A-1 HIERARCHY子条款的关键词</p>
                                          <table cellpadding="4" cellspacing="0" class="Formal" title="HIERARCHY子句的关键词" width="90%" border="1" summary="This table lists the keywords of the Hierarchy subclause." frame="hsides" rules="rows">
                                             <thead>
                                                <tr align="left" valign="top">
                                                   <th align="left" valign="bottom" width="31%" id="d248156e1807">关键词</th>
                                                   <th align="left" valign="bottom" width="69%" id="d248156e1810">描述</th>
                                                </tr>
                                             </thead>
                                             <tbody>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1815" headers="d248156e1807 ">
                                                      <p><code class="codeph">INHIERARCHY</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1815 d248156e1810 ">
                                                      <p><code class="codeph">INHIERARCHY</code>子条款标识分析工作空间中的布尔变量或值集，用于标识层次结构中每个级别的维度成员。有关详细信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9">Inhier值集或变量</a> ”</span> 。
                                                      </p>
                                                      <p>优良做法是包含<code class="codeph">INHIERARCHY</code>子句，因为<code class="codeph">OLAP_TABLE</code>在处理限制映射期间使用<code class="codeph">INHIERARCHY</code>子条保存所有维的状态。当从层次结构中省略维度的成员时，它是必需的。
                                                      </p>
                                                   </td>
                                                </tr>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1841" headers="d248156e1807 ">
                                                      <p><code class="codeph">GID</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1841 d248156e1810 ">
                                                      <p><code class="codeph">GID</code>子句将分析工作空间中的整数变量（包含每个维成员的分组ID）映射到目标表中的列。分组ID变量由OLAP DML <a href="olap-dml-commands-a-g.html#GUID-A147822E-532F-4448-A91A-F7E5FBEFB94B">GROUPINGID命令</a>填充。有关更多信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29">Gidrel关系</a> ”</span> 。
                                                      </p>
                                                      <p>使用OLAP API的Java应用程序需要<code class="codeph">GID</code>子条款。</p>
                                                      <p>有关<code class="codeph">AS</code>子条款的说明，请参见<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">MEASURE子句</a> ”</span> 。
                                                      </p>
                                                   </td>
                                                </tr>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1874" headers="d248156e1807 ">
                                                      <p><code class="codeph">PARENTGID</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1874 d248156e1810 ">
                                                      <p><code class="codeph">PARENTGID</code>子条款使用分析工作区中的GID变量计算父关系的分组ID。父GID不存储在分析工作空间对象中。而是为GID子句中使用的PARENTGID子句指定相同的GID变量。对于使用OLAP API的Java应用程序，建议使用PARENTGID子句。</p>
                                                      <p>有关<code class="codeph">AS</code>子条款的说明，请参见<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">MEASURE子句</a> ”</span> 。
                                                      </p>
                                                   </td>
                                                </tr>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1895" headers="d248156e1807 ">
                                                      <p><code class="codeph">FAMILYREL</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1895 d248156e1810 ">
                                                      <p><code class="codeph">FAMILYREL</code>子条款主要用于将分析工作空间中的族关系映射到目标表中的多个列。有关更多信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C">Familyrel关系</a> ”</span> 。您可以为每个层次结构使用多个<code class="codeph">FAMILYREL</code>子句。
                                                      </p>
                                                      <p>按<span class="italic">level_dimension</span>的顺序列出列，该维度是分析工作区中的维度，其中包含维度的所有级别的名称。有关详细信息，请参阅<span class="q">“ <a href="olap-dml-basic-concepts.html#GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290">Levellist Dimension</a> ”</span> 。
                                                      </p>
                                                      <p>如果您不想包含特定级别，则为目标列指定null。有关<code class="codeph">AS</code>子条款的说明，请参见<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFHAGF">MEASURE子句</a> ”</span> 。
                                                      </p>
                                                      <p><code class="codeph">LABEL</code>关键字标识文本属性，为维度成员提供更有意义的名称。
                                                      </p>
                                                      <p>由<code class="codeph">FAMILYREL</code>子句生成的表格数据是<span class="bold">汇总形式</span> ，其中层次结构的每个级别在单独的列中表示，并且每个维度成员的完整<code class="codeph">FAMILYREL</code>级在该行中标识。见<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I82078">例A-7</a> 。
                                                      </p>
                                                   </td>
                                                </tr>
                                                <tr align="left" valign="top">
                                                   <td align="left" valign="top" width="31%" id="d248156e1947" headers="d248156e1807 ">
                                                      <p><code class="codeph">HATTRIBUTE</code></p>
                                                   </td>
                                                   <td align="left" valign="top" width="69%" headers="d248156e1947 d248156e1810 ">
                                                      <p>所述<code class="codeph">HATTRIBUTE</code>小节映射特定层次结构属性的变量，通过<span class="italic">hierarchy_dimension</span>在分析工作区的尺寸，以在所述目标表中的列。
                                                      </p>
                                                   </td>
                                                </tr>
                                             </tbody>
                                          </table>
                                       </div>
                                       <!-- class="inftblhruleinformal" -->
                                    </li>
                                    <li>
                                       <p><span class="bold">与ATTRIBUTE子条款</span></p>
                                       <p><code class="codeph">ATTRIBUTE</code>子条款将分析工作空间中的属性变量映射到目标表中的列。
                                       </p>
                                       <p>如果<span class="italic">attribute_variable</span>具有多个维度，则会为<span class="italic">维度的</span>所有成员映射值，但仅针对其他维度的当前状态中的第一个成员。例如，如果您的属性具有语言维度，则必须将该维度的状态设置为特定语言。您可以在<code class="codeph">PREDMLCMD</code>子句中设置维度的状态。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">
                                 <p><span class="bold">ROW2CELL条款</span></p>
                                 <p><code class="codeph">ROW2CELL</code>子句<a id="d248156e1989" class="indexterm-anchor"></a><a id="d248156e1993" class="indexterm-anchor"></a>在目标表中创建一个16到32个字符宽的<code class="codeph">RAW</code>列，并使用OLAP表达式函数使用的信息填充它。<code class="codeph">OLAP_CONDITION</code>函数也使用<code class="codeph">ROW2CELL</code>列。在创建要由这些函数使用的视图时指定<code class="codeph">ROW2CELL</code>列。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">在SELECT FROM OLAP_TABLE语句中使用OLAP DML表达式</a> ”</span>和<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">将计算列添加到关系视图</a> ”</span> 。
                                 </p>
                              </li>
                              <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJHCFC">
                                 <p><span class="bold">循环条款</span></p>
                                 <p><code class="codeph">LOOP</code>子句指定Oracle OLAP在检索值时如何循环数据。省略限制映射中的LOOP子句时，Oracle OLAP使用该限制映射中的DIMENSION子句来确定要循环的值。Oracle OLAP仅循环那些标识不包含NA或null的度量单元格的元组。包含LOOP子句时，请指定以下类型的子句之一： <span class="italic">optimized_subclause</span>或<span class="italic">union_subclause</span> 。
                                 </p>
                                 <p><span class="italic"><span class="bold">optimize_subclause</span></span>指定Oracle OLAP自动创建<span class="italic">union_subclause，</span>通过该工作循环数据。创建的<span class="italic">union_subclause</span>从不包含任何DENSE短语。因此，当您指定<span class="italic">optimized_subclause时</span> ，Oracle OLAP仅循环那些标识不包含NA或null的度量单元格的元组。<span class="italic">optimized_subclause</span>具有以下语法。
                                 </p>
                                 <p>优化[措施]</p>
                                 <p>其中可选的MEASURES关键字指定在识别要循环的元组之后，Oracle OLAP将删除任何值，这些值不是限制映射的MEASURES子句中标识的对象的维度。</p>
                                 <div class="infobox-tip" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-BBEC70B0-5288-4CBB-9B61-D01C129C7FEA">
                                    <p class="notep1">小费：</p>
                                    <p>您可以使用<a href="olap-dml-properties.html#GUID-55A25E72-1052-41A9-B3E8-185FD7F4BB04" title="$ LOOP_AGGMAP属性用于确定在执行带有LOOP OPTIMIZED子句的SQL OLAP_TABLE函数时如何循环分配它的公式。它指定当Oracle OLAP生成包含公式的UNION子句时要使用的aggmap对象的名称。您为此属性指定的值将覆盖与变量关联的所有其他aggmaps（例如，变量具有$ AGGMAP属性的aggmaps），并且可用于阐明Oracle OLAP在公式的基础变量时应使用哪个aggmap与不同的aggmaps相关联。">$ LOOP_AGGMAP</a> ， <a href="olap-dml-properties.html#GUID-41A3F437-7593-498B-ABFC-EF57536C4A7F" title="$ LOOP_DENSE属性用于确定在执行带有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数时如何循环分配它的公式。">$ LOOP_DENSE</a>和<a href="olap-dml-properties.html#GUID-C7539160-640F-4C9E-8119-ACC06277E477" title="$ LOOP_VAR属性指定当执行带有LOOP OPTIMIZED子句的OLAP_TABLE SQL函数时，分配它的公式将以与属性中指定的变量或QDR相同的方式循环。">$ LOOP_VAR</a>属性来指定有关OLAP_TABLE如何循环公式的更多信息。
                                    </p>
                                 </div>
                                 <p><span class="italic"><span class="bold">union_subclause</span></span>确切地指定Oracle OLAP如何确定它用于标识要循环的数据值的基本维度。为了成功发生联合，本子条款中引用的对象必须具有相同的基本维度。<span class="italic">union_subclause</span>具有以下语法。
                                 </p>
                                 <p>[ <span class="italic">ignore_phrase</span> ] [ <span class="italic">dense_phrase</span> ] UNION（{ <span class="italic">aggmap_phrase</span> | <span class="italic">list_phrase</span> } ...）]
                                 </p>
                                 <p>哪里：</p>
                                 <p><span class="italic"><span class="bold">aggmap_phrase</span></span>指定Oracle OLAP如何循环聚合变量的值。它具有以下语法。
                                 </p>
                                 <p>AGGMAP（ <span class="italic">ignore_phrase</span> ）[ <span class="italic">dense_phrase</span> ] <span class="italic">aggmap</span> { <span class="italic">variable</span> | <span class="italic">dimension_list</span> }）</p>
                                 <p><span class="italic"><span class="bold">list_phrase</span></span>指定Oracle OLAP如何循环复合，分区模板或维度的值。它具有以下语法。
                                 </p>
                                 <p>列表（[ <span class="italic">ignore_phrase</span> ] [ <span class="italic">dense_phrase</span> ] <span class="italic">dimension_list</span> ）</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="italic"><span class="bold">ignore_phrase</span></span>指定您不希望Oracle OLAP循环的维度值。它具有以下语法。
                                       </p>
                                       <p>IGNORE（ <span class="italic">ignore_list</span> ）</p>
                                       <p>对于<span class="italic">ignore_list，</span>您可以指定以逗号分隔的以下一个或多个。
                                       </p><pre class="oac_no_warn" dir="ltr">  <span class="italic">dimension_name</span> <span class="italic">valueset_name</span> COMPLEMENT（ <span class="italic">valueset_name</span> ）</pre><p>在单个<span class="italic">ignore_list中，</span>您无法以多种方式指定维度。换句话说，您不能为同一维度指定维度和值集;您不能为同一维度指定两个值集。
                                       </p>
                                       <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-0FCC00B0-138B-47A5-BB76-DB67B6D6BC17">
                                          <p class="notep1">注意：</p>
                                          <p>指定IGNORE <span class="italic">valueset-name</span>的结果类似于指定LIMIT REMOVE <span class="italic">valueset-name</span> （请参阅<a href="olap-dml-commands-h-z.html#GUID-C84F165D-930A-461C-976B-F4C28F6DCA14">LIMIT命令</a> ）。
                                          </p>
                                       </div>
                                    </li>
                                    <li>
                                       <p><span class="italic"><span class="bold">dense_phrase</span></span>指定Oracle OLAP循环的值，即使这些值标识的度量单元格包含NA或null。在DENSE短语中指定维度类似于请求关系外部联接。通常，您在DENSE短语中包含维值以执行时间序列处理（例如，滞后时间）。DENSE短语具有以下语法。
                                       </p>
                                       <p>DENSE（ <span class="italic">dense_list</span> ）</p>
                                       <p>对于<span class="italic">dense_list，</span>您可以指定以逗号分隔的以下一个或多个。
                                       </p><pre class="oac_no_warn" dir="ltr">  <span class="italic">dimension_name</span> <span class="italic">valueset_name</span> COMPLEMENT（ <span class="italic">valueset_name</span> ）</pre><p>在单个<span class="italic">dense_list中，</span>您无法以多种方式指定维度。换句话说，您不能为同一维度指定维度和值集;您不能为同一维度指定两个值集。
                                       </p>
                                       <p>但是，您可以为外部<code class="codeph">DENSE</code>短语中的维度设置一个值集，为内部<code class="codeph">DENSE</code>短语中的相同维度设置另一个值集。如果在内部和外部<code class="codeph">DENSE</code>短语中都指定了维度的维度或值集，则Oracle OLAP会在密集区域的并集上密集循环。如果维度本身出现在任何一个位置，则Oracle OLAP会在整个维度上密集循环。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><span class="bold">aggmap</span></span>是aggmap对象的名称。当您仅指定aggmap对象的名称时，Oracle OLAP使用aggmap的PRECOMPUTE短语中的值来标识要循环的值</p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><span class="bold">variable</span></span>是<span class="italic">aggmap_name</span>聚合的变量的名称。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="italic"><span class="bold">dimension_list</span></span>是一个或多个合成，分区模板或维度的列表。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p><span class="bold">PREDMLCMD条款</span></p>
                                 <p><code class="codeph">PREDMLCMD</code>条款<a id="d248156e2257" class="indexterm-anchor"></a>指定在将数据从分析工作空间提取到目标表之前执行的OLAP DML命令。例如，它可用于执行OLAP模型或预测，其结果将被提取到表中。该命令的结果在执行限制映射期间生效，并在<code class="codeph">OLAP_TABLE</code>执行完成后继续进入您的会话。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">OLAP_TABLE中的处理顺序</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">POSTDMLCMD条款</span></p>
                                 <p><code class="codeph">POSTDMLCMD</code>子句指定在将数据从分析工作空间提取到目标表之后执行的OLAP DML命令。例如，它可用于删除<code class="codeph">PREDMLCMD</code>子句中的命令创建的对象或数据，或者用于恢复<code class="codeph">PREDMLCMD</code>子句中更改的维度状态。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">OLAP_TABLE中的处理顺序</a> ”</span> 。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-F78C7120-9D6A-4E62-9F6F-1D8DF5B1B4E0">使用说明</p>
                     <p><span class="bold">限制地图</span></p>
                     <p><code class="codeph">OLAP_TABLE</code> <a id="d248156e2300" class="indexterm-anchor"></a> <a id="d248156e2302" class="indexterm-anchor"></a>使用<span class="bold">限制映射</span>将分析工作区中定义的维度和度量<span class="bold">映射</span>到逻辑表中的列。限制映射与SQL <code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句组合，以生成在分析工作区中执行的一系列OLAP DML <a href="olap-dml-commands-h-z.html#GUID-C84F165D-930A-461C-976B-F4C28F6DCA14">LIMIT命令</a> 。
                     </p>
                     <p><code class="codeph">OLAP_TABLE</code>可以使用带有预定义逻辑表的限制映射，也可以使用限制映射中的信息在运行时动态生成逻辑表。
                     </p>
                     <div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-998C6DA2-09ED-4B4E-A6CE-2FD9B66F5B49">
                        <p class="notep1">也可以看看：</p>
                        <p>讨论<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHCGCBF">“limit_map”</a>参数。
                        </p>
                     </div>
                     <p><span class="bold">逻辑表</span></p>
                     <p>由<code class="codeph">OLAP_TABLE</code>填充的逻辑表实际上是一种表类型，其行是用户定义的对象类型，也称为<span class="bold">抽象数据类型</span>或<span class="bold">ADT</span> 。
                     </p>
                     <p>一个<a id="d248156e2347" class="indexterm-anchor"></a>用户定义的对象类型由属性组成，这些属性等同于表的列。定义行的基本语法如下。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE <span class="italic">object_name</span> AS OBJECT（ <span class="italic">attribute1</span> <span class="italic">数据类型</span> ， <span class="italic">attribute2</span> <span class="italic">数据类型</span> ， <span class="italic">属性</span> n <span class="italic">数据类型</span> ）;</pre><p>一个<a id="d248156e2378" class="indexterm-anchor"></a>表类型是对象类型的集合;此集合相当于表的行。创建表类型的基本语法如下。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE <span class="italic">table_name</span> AS TABLE OF <span class="italic">object_name</span> ;</pre><div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-E70A92CB-FA6A-40BF-B7A7-2F306B9DB838">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../adobj/key-features-object-relational-model.html#ADOBJ-GUID-0C7CE261-467B-4F8B-A04D-B0900E1FB284" target="_blank">关于对象类型</a> <span><cite>Oracle数据库对象关系开发者指南</cite></span>中关于对象类型的信息</p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TYPE.html#SQLRF01506" target="_blank">“</a> <span class="italic">Oracle数据库SQL语言参考”中的“</span> <a href="../sqlrf/CREATE-TYPE.html#SQLRF01506" target="_blank">创建类型”</a></p>
                           </li>
                        </ul>
                     </div>
                     <p><span class="bold">使用带有预定义ADT的OLAP_TABLE</span></p>
                     <p><a id="d248156e2416" class="indexterm-anchor"></a>您<a id="d248156e2421" class="indexterm-anchor"></a><a id="d248156e2425" class="indexterm-anchor"></a><a id="d248156e2429" class="indexterm-anchor"></a>能够<a id="d248156e2434" class="indexterm-anchor"></a>预定义对象表或动态生成它。<a id="d248156e2439" class="indexterm-anchor"></a>当您预先创建表类型时，它可在数据库中使用，以供任何<code class="codeph">OLAP_TABLE</code>调用使用。使用预定义对象的查询通常比动态生成对象的查询执行得更好。请参见<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2">使用带预定义ADT的OLAP_TABLE</a> ”</span> 。
                     </p>
                     <p><span class="bold">使用OLAP_TABLE与自动ADT</span></p>
                     <p>如果你<a id="d248156e2457" class="indexterm-anchor"></a>不提供表类型的名称作为参数， <code class="codeph">OLAP_TABLE</code>使用限制映射中的信息自动生成逻辑表。在这种情况下，表类型仅在调用SQL <code class="codeph">SELECT</code>语句的上下文中的运行时可用。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">使用带自动ADT的OLAP_TABLE</a> ”</span> 。
                     </p>
                     <p>自动生成ADT时， <code class="codeph">OLAP_TABLE</code>使用目标列的默认关系数据类型，除非您使用限制映射中的<code class="codeph">AS</code>子句覆盖它们。<code class="codeph">OLAP_TABLE</code>使用的默认数据类型转换如下表所述：</p>
                     <div class="tblformal" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAFCIEA">
                        <p class="titleintable">表A-2默认数据类型转换</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="默认数据类型转换" width="100%" border="1" summary="OLAP_TABLE default data type conversions" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d248156e2493">分析工作区数据类型</th>
                                 <th align="left" valign="bottom" width="50%" id="d248156e2496">SQL数据类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2501" headers="d248156e2493 ">
                                    <p><code class="codeph">ID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2501 d248156e2496 ">
                                    <p><code class="codeph">CHAR（8）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2510" headers="d248156e2493 ">
                                    <p><code class="codeph">文本</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2510 d248156e2496 ">
                                    <p><code class="codeph">VARCHAR2（4000）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2519" headers="d248156e2493 ">
                                    <p><code class="codeph">TEXT</code> <span class="italic"><code class="codeph">(n)</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2519 d248156e2496 ">
                                    <p><code class="codeph">VARCHAR2</code> <span class="italic"><code class="codeph">(n)</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2534" headers="d248156e2493 ">
                                    <p><code class="codeph">NTEXT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2534 d248156e2496 ">
                                    <p><code class="codeph">NVARCHAR2（4000）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2543" headers="d248156e2493 ">
                                    <p><code class="codeph">NTEXT</code> <span class="italic"><code class="codeph">(n)</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2543 d248156e2496 ">
                                    <p><code class="codeph">NVARCHAR2</code> <span class="italic"><code class="codeph">(n)</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2558" headers="d248156e2493 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2558 d248156e2496 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2567" headers="d248156e2493 ">
                                    <p><code class="codeph">NUMBER</code> <span class="italic"><code class="codeph">(p,s)</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2567 d248156e2496 ">
                                    <p><code class="codeph">NUMBER</code> <span class="italic"><code class="codeph">(p,s)</code></span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2582" headers="d248156e2493 ">
                                    <p><code class="codeph">长整型</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2582 d248156e2496 ">
                                    <p><code class="codeph">NUMBER（19）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2591" headers="d248156e2493 ">
                                    <p><code class="codeph">整数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2591 d248156e2496 ">
                                    <p><code class="codeph">NUMBER（10）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2600" headers="d248156e2493 ">
                                    <p><code class="codeph">SHORTINTEGER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2600 d248156e2496 ">
                                    <p><code class="codeph">NUMBER（5）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2609" headers="d248156e2493 ">
                                    <p><code class="codeph">整数宽度1</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2609 d248156e2496 ">
                                    <p><code class="codeph">NUMBER（3）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2619" headers="d248156e2493 ">
                                    <p><code class="codeph">布尔</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2619 d248156e2496 ">
                                    <p><code class="codeph">1号）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2628" headers="d248156e2493 ">
                                    <p><code class="codeph">DECIMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2628 d248156e2496 ">
                                    <p><code class="codeph">BINARY_DOUBLE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2637" headers="d248156e2493 ">
                                    <p><code class="codeph">SHORTDECIMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2637 d248156e2496 ">
                                    <p><code class="codeph">BINARY_FLOAT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2646" headers="d248156e2493 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2646 d248156e2496 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2655" headers="d248156e2493 ">
                                    <p><code class="codeph">DAY</code> ， <code class="codeph">WEEK</code> ， <code class="codeph">MONTH</code> ， <code class="codeph">QUARTER</code> ， <code class="codeph">YEAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2655 d248156e2496 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2676" headers="d248156e2493 ">
                                    <p><code class="codeph">约会时间</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2676 d248156e2496 ">
                                    <p><code class="codeph">TIMESTAMP</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2685" headers="d248156e2493 ">
                                    <p><code class="codeph">综合</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2685 d248156e2496 ">
                                    <p><code class="codeph">VARCHAR2（4000）</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d248156e2694" headers="d248156e2493 ">
                                    <p>其他</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d248156e2694 d248156e2496 ">
                                    <p><code class="codeph">VARCHAR2（4000）</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHICDGB"><span class="bold">将olap_command与限制映射一起使用</span></p>
                     <p><a id="d248156e2705" class="indexterm-anchor"></a><a id="d248156e2707" class="indexterm-anchor"></a>您可能希望应用程序在执行<code class="codeph">OLAP_TABLE</code>期间动态修改分析工作区。</p>
                     <p><span class="italic">olap_command</span>参数的常见用法是限制一个或多个维度。如果限制在限制图中具有<code class="codeph">INHIERARCHY</code>子句的<code class="codeph">INHIERARCHY</code> ，则仅在执行对<code class="codeph">OLAP_TABLE</code>的此调用期间更改这些维的状态。限制不会影响OLAP会话的其余部分。但是，其他命令（例如，限制<span class="italic">未</span>使用<code class="codeph">INHIERARCHY</code>子句引用的维度的命令）可能会影响您的会话。
                     </p>
                     <p>如果您希望限制映射中的维度限制在会话的其余部分保持有效，而不仅仅是在命令期间，请在限制映射的<code class="codeph">PREDMLCMD</code>子句中指定它或指定<a id="d248156e2737" class="indexterm-anchor"></a> <code class="codeph">SQL SELECT</code>语句中的<code class="codeph">OLAP_CONDITION</code>函数。
                     </p>
                     <p>以下是<span class="italic">olap_command</span>参数中<code class="codeph">LIMIT</code>命令的<span class="italic">示例</span> 。
                     </p><pre class="oac_no_warn" dir="ltr">'限制产品到product_member_levelrel''L2'''</pre><div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-1D151489-7232-48D0-B2E9-E151EDC1BBA9">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A">OLAP_CONDITION</a> ”</span></p>
                     </div>
                     <p id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJADBF"><span class="bold">在olap_command参数中使用FETCH</span></p>
                     <p><a id="d248156e2766" class="indexterm-anchor"></a>如果在<span class="italic">olap_command中</span>指定OLAP DML <a href="olap-dml-commands-a-g.html#GUID-D3B20F03-6C0D-4F6D-A63D-22130EF8956F">FETCH</a>命令<a id="d248156e2774" class="indexterm-anchor"></a>参数， <code class="codeph">OLAP_TABLE</code>使用它而不是限制映射中的指令来获取表对象的源数据。由于这种用法， <span class="italic">olap_command</span>参数有时被称为<span class="bold">数据映射</span> 。通常，如果指定<code class="codeph">FETCH</code>命令，请不要指定限制映射。
                     </p>
                     <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-EBFBC6F0-0430-4B37-8963-F3693BFC4791">
                        <p class="notep1">注意：</p>
                        <p>通常，仅当您要升级使用<code class="codeph">FETCH</code>命令进行SNAPI的Express应用程序时，才将<code class="codeph">FETCH</code>命令与<code class="codeph">OLAP_TABLE</code>使用。如果要升级，请注意Oracle中的完整语法与Express 6.3中的完整语法相同。您可以在先前在SNAPI中使用的<code class="codeph">OLAP_TABLE</code>中使用相同的<code class="codeph">FETCH</code>命令。有关<code class="codeph">FETCH</code>命令的语法，请参见<span class="q">“ <a href="olap-dml-commands-a-g.html#GUID-D3B20F03-6C0D-4F6D-A63D-22130EF8956F">FETCH</a> ”</span> 。
                        </p>
                     </div>
                     <p><code class="codeph">FETCH</code>明确指定分析工作区数据如何映射到表对象。基本语法是：</p><pre class="oac_no_warn" dir="ltr">FETCH <span class="italic">表达式</span> ......
</pre><p>为每个目标列输入一个表达式，按照它们在行定义中出现的顺序列出表达式。用空格或逗号分隔表达式。您必须在一行中输入整个语句，不带任何类型的换行符或连续标记。</p>
                     <div class="infoboxnotealso" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-B07245AC-0057-4733-88A4-BAFD41FC78EE">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJADBF">在olap_command参数中使用FETCH</a> ”</span> 
                        </p>
                     </div>
                     <p id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ"><span class="bold">OLAP_TABLE中的处理顺序</span></p>
                     <p>该<a id="d248156e2842" class="indexterm-anchor"></a>以下列表标识<code class="codeph">OLAP_TABLE</code>函数处理限制映射中可以更改分析工作空间中维度状态的指令的顺序。
                     </p>
                     <ol>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAECJAA">
                           <p>执行在限制映射的<code class="codeph">PREDMLCMD</code>参数中指定的任何OLAP DML命令。
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAJBFFG">
                           <p>将所有维度的当前状态保存在限制图中，以便以后可以恢复（ <code class="codeph">PUSH</code>状态）。
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAHDEIJ">
                           <p>仅保留状态仅限于由限制映射（ <code class="codeph">LIMIT KEEP</code> ）中的<code class="codeph">INHIERARCHY</code>子条款指定的维度成员。
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAEHGAJ">
                           <p>在步骤<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAHDEIJ">3中</a>设置的状态内，仅保留满足包含<code class="codeph">OLAP_TABLE</code>函数（ <code class="codeph">LIMIT KEEP</code> ）的SQL <code class="codeph">SELECT</code>语句的<code class="codeph">WHERE</code>子句的维度成员。
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIABCEHE">
                           <p>执行<code class="codeph">OLAP_TABLE</code>函数的<span class="italic">olap_command</span>参数中指定的任何OLAP DML命令。（如果<span class="italic">olap_command</span>包含<code class="codeph">FETCH</code> ，则获取数据。）
                           </p>
                        </li>
                        <li>
                           <p>获取数据（除非在<span class="italic">olap_command</span>参数中指定了OLAP DML <code class="codeph">FETCH</code>命令）。
                           </p>
                        </li>
                        <li>
                           <p>恢复限制图中所有维的状态（ <code class="codeph">POP</code>状态）。
                           </p>
                        </li>
                        <li id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAGIIEA">
                           <p>执行在限制映射的<code class="codeph">POSTDMLCMD</code>参数中指定的任何OLAP DML命令。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-4DEA4DA9-DA54-4975-8651-1CC9F571F79C">例子</p>
                     <p>由于不同的应用程序有不同的要求，因此通常使用几种不同的格式从分析工作区将数据提取到SQL中。<a id="d248156e2932" class="indexterm-anchor"></a>本节中的示例显示了如何使用各种不同的格式创建视图。
                     </p>
                     <p>虽然这些示例显示为视图，但<code class="codeph">SELECT</code>语句可以从它们中提取并直接用于将数据从分析工作区提取到应用程序中。
                     </p>
                     <div class="infoboxnote" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-77745BEC-E8E7-45C3-A28F-B0199ED11A5F">
                        <p class="notep1">注意：</p>
                        <p>本节中的示例使用预定义的ADT。您可以修改它们以使用自动ADT。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-CB0FB839-E243-4F41-8414-0BEB62CDC23D">使用带自动ADT的OLAP_TABLE</a> ”</span> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I81531">
                     <p class="titleinexample">示例A-5使用OLAP_TABLE的嵌入式总维度视图的脚本</p>
                     <p><a id="d248156e2953" class="indexterm-anchor"></a><a id="d248156e2955" class="indexterm-anchor"></a>此示例显示了用于在名为MYAW的分析工作区中创建<code class="codeph">TIME</code>维的嵌入式总视图的PL / SQL脚本。此视图类似于<a href="OLAP_TABLE-sql-functions.html#GUID-4B8C0175-AA21-4F75-A318-C3149DC02AD2__CHDFJHHA">示例A-2中</a>的视图，但它同时指定了日历和财务层次结构，并且它包含<code class="codeph">HATTRIBUTE</code>于层次结构的结束日期属性的<code class="codeph">HATTRIBUTE</code>子条款。
                     </p>
                     <p><code class="codeph">INHIERARCHY</code>子条款标识分析工作空间中的值集，该值列出维度的每个层次结构中的所有维度成员。<code class="codeph">OLAP_TABLE</code>在处理限制映射期间保存限制映射中具有<code class="codeph">INHIERARCHY</code>子条款的所有维的状态。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">OLAP_TABLE中的处理顺序</a> ”</span> 。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE awtime_row AS OBJECT（awtime_id VARCHAR2（12），awtime_short_label VARCHAR2（12），awtime_cal_end_date DATE，awtime_fis_end_date DATE）; / CREATE TYPE awtime_table AS表的awtime_row; / CREATE OR REPLACE VIEW awtime_view AS SELECT awtime_id，awtime_short_label，awtime_cal_end_date，awtime_fis_end_date FROM TABLE（OLAP_TABLE（'myaw DURATION SESSION'，'awtime_table'，''，'DIMENSION awtime_id FROM time with HIERARCHY time_parentrel（time_hierlist''ADDENDAR''）INHIERARCHY time_inhier HATTRIBUTE awtime_cal_end_date FROM time_cal_end_date HIERARCHY time_parentrel（time_hierlist''FISCAL''）INHIERARCHY time_inhier HATTRIBUTE awtime_fis_end_date FROM time_fis_end_date ATTRIBUTE awtime_short_label FROM time_short_description'））; / SQL&gt; SELECT * FROM awtime_view; AWTIME_ID AWTIME_SHORT_LABEL AWTIME_CAL_END_DATE AWTIME_FIS_END_DATE --------- ------------------ ------------------- ------------------- 1月19日 -  98 31-JAN-98 31-JAN-98 20 Feb-98 28-FEB-98 28-FEB-98 21 Mar- 98 31-MAR-98 31-MAR-98 22 Apr-98 30-APR-98 30-APR-98 23 May-98 31-MAY-98 31-MAY-98 24 Jun-98 30-JUN-98 30- JUN-98。。。。98 Q1-03 31-MAR-03 30-SEP-03 99 Q2-03 30-JUN-03 31-DEC-03 1 1998 31-DEC-98 30-JUN-99 102 2003 31-DEC-03 30-JUN -04 119 2004 31-DEC-04 30-JUN-05 2 1999 31-DEC-99 30-JUN-00 3 2000 31-DEC-00 30-JUN-01 4 2001 31-DEC-01 30-JUN-02 85 2002 31-DEC-02 30-JUN-03</pre><p>请注意，必须确保通过针对它们发出<code class="codeph">SELECT</code>语句来验证是否已正确创建了视图。只有在那时才会出现对<code class="codeph">OLAP_TABLE</code>的调用中的任何错误。
                     </p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__GUID-F85ED6D0-91CD-41D3-89C4-146720C6DAB9">
                     <p class="titleinexample">示例A-6使用OLAP_TABLE创建嵌入式总测量的视图</p>
                     <p><a id="d248156e2998" class="indexterm-anchor"></a>在<a id="d248156e3003" class="indexterm-anchor"></a>星型模式，需要一个单独的度量视图，可以连接到每个维度视图的列。此示例显示用于创建度量视图的PL / SQL脚本，其中列由<code class="codeph">ROW2CELL</code>子句填充以支持自定义度量。有关ROW2CELL的信息， <span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL条款</a> ”</span> 。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE awunits_row AS OBJECT（awtime VARCHAR2（12），awcustomer VARCHAR2（30），awproduct VARCHAR2（30），awchannel VARCHAR2（30），awunits NUMBER（16），r2c RAW（32））; / CREATE TYPE awunits_table AS表格awunits_row; /创建或替换视图awunits_view AS SELECT awunits，awtime，awcustomer，awproduct，awchannel，r2c FROM TABLE（OLAP_TABLE（'myaw DURATION SESSION'，'awunits_table'，''，'MEASURE awunits FROM units_cube_units DIMENSION awtime FROM time with HIERARCHY time_parentrel DIMENSION awcustomer FROM customer WITH HIERARCHY customer_parentrel（customer_hierlist''MARKET_ROLLUP''）INHIERARCHY customer_inhier DIMENSION awproduct FROM product WITH HIERARCHY product_parentrel DIMENSION channel with HIERARCHY channel_parentrel ATTRIBUTE awchannel FROM channel_short_description ROW2CELL r2c'））WHERE awunits IS NOT NULL; SQL&gt; SELECT awchannel，awunits FROM awunits_view WHERE awproduct ='1'AND awcustomer ='7'AND awtime ='4'; AWCHANNEL AWUNITS --------- -------所有频道415392直销43783目录315737互联网55872</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I82078">
                     <p class="titleinexample">示例A-7使用OLAP_TABLE的产品汇总视图的脚本</p>
                     <p><a id="d248156e3020" class="indexterm-anchor"></a>汇总表单为每个层次结构级别使用一列，以显示每个维度成员的完整父项。汇总表单的语法与嵌入的总表单的语法之间的唯一区别是在限制映射中的每个维度的定义中添加了<code class="codeph">FAMILYREL</code>子句。有关<code class="codeph">FAMILYREL</code>信息，请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIABAB">WITH HIERARCHY子条款</a> ”</span> 。
                     </p>
                     <p>此示例显示用于创建<code class="codeph">PRODUCT</code>维度的汇总视图的PL / SQL脚本。它显示了一个维度视图，用于突出显示限制映射语法与嵌入式总表单的语法差异，如<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I81531">示例A-5所示</a> 。请注意，这些级别的目标列在<code class="codeph">FAMILYREL</code>子句中列出，从大多数聚合（ <code class="codeph">CLASS</code> ）到最小聚合（ <code class="codeph">ITEM</code> ），这是它们在级别列表维度中列出的顺序。家庭关系返回四列。通过将其映射为null，可以从视图中省略最多聚合级别（所有产品）。
                     </p>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I84331">示例A-8</a>显示了<code class="codeph">FAMILYREL</code>子句的替代语法，该子句使用QDR确切地标识从族关系映射的列。
                     </p>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I82078">示例A-7</a>和<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I84331">示例A-8中</a>的极限映射生成相同的视图。
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE awproduct_row AS OBJECT（类VARCHAR2（50），系列VARCHAR2（50），项目VARCHAR2（50））; / CREATE TYPE awproduct_table AS table of awproduct_row; /创建或替换视图awproduct_view AS SELECT类，系列，项目FROM TABLE（OLAP_TABLE（'myaw DURATION QUERY'，'awproduct_table'，''，'DIMENSION product WITH HIERARCHY product_parentrel FAMILYREL null，class，family，item FROM product_familyrel USING product_levellist LABEL product_short_description'））; SQL&gt; SELECT * FROM awproduct_view ORDER BY class，family，item; CLASS FAMILY ITEM -------------- ---------------- ----------------- -------硬件CD-ROM Envoy外置6X CD-ROM硬件CD-ROM Envoy外置8X CD-ROM硬件CD-ROM外置6X CD-ROM硬件CD-ROM外置8X CD-ROM硬件CD-ROM内部6X CD-ROM硬件CD-ROM内置8X CD-ROM硬件CD-ROM硬件台式机Sentinel金融硬件台式机Sentinel多媒体。。。软件/其他操作系统UNIX / Windows 1用户包软件/其他操作系统UNIX / Windows 5用户包软件/其他操作系统软件/其他</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__I84331">
                     <p class="titleinexample">示例A-8脚本在OLAP_TABLE的FAMILYREL子句中使用QDR</p><pre class="oac_no_warn" dir="ltr">创建或替换类型awproduct_row AS OBJECT（类VARCHAR2（50），系列VARCHAR2（50），项目VARCHAR2（50））; / CREATE TYPE awproduct_table AS table of awproduct_row; /创建或替换视图awproduct_view AS SELECT类，系列，项目FROM TABLE（OLAP_TABLE（'myaw DURATION QUERY'，'awproduct_table'，''，'DIMENSION product WITH HIERARCHY product_parentrel FAMILYREL类，系列，项目FROM product_familyrel（product_levellist''CLASS ''），product_familyrel（product_levellist''FAMILY''），product_familyrel（product_levellist''ITEM''）LABEL product_short_description'））; SQL&gt; SELECT * FROM awproduct_view ORDER BY by class，family，item; CLASS FAMILY ITEM -------------- ---------------- ----------------- -------硬件CD-ROM Envoy外置6X CD-ROM硬件CD-ROM Envoy外置8X CD-ROM硬件CD-ROM外置6X CD-ROM硬件CD-ROM外置8X CD-ROM硬件CD-ROM内部6X CD-ROM硬件CD-ROM内置8X CD-ROM硬件CD-ROM硬件台式机Sentinel金融硬件台式机Sentinel多媒体。。。软件/其他操作系统UNIX / Windows 1用户包软件/其他操作系统UNIX / Windows 5用户包软件/其他操作系统软件/其他</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAEAGIH">
                     <p class="titleinexample">示例A-9脚本使用FETCH和OLAP_TABLE</p>
                     <p><a id="d248156e3075" class="indexterm-anchor"></a><a id="d248156e3077" class="indexterm-anchor"></a>正在修订以与Oracle数据库一起使用的Oracle Express Server应用程序可以使用OLAP DML <a href="olap-dml-commands-a-g.html#GUID-D3B20F03-6C0D-4F6D-A63D-22130EF8956F">FETCH</a>命令而不是限制映射来将工作空间对象映射到关系列。
                     </p>
                     <p><code class="codeph">FETCH</code>命令在<code class="codeph">OLAP_TABLE</code>的第三个参数中提供，该参数指定单个OLAP DML命令。请参阅<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHFFIBI">“olap_command”</a> 。
                     </p>
                     <p><code class="codeph">MYAW</code>的脚本从名为<code class="codeph">MYAW</code>的分析工作区中的两个变量（ <code class="codeph">SALES</code>和<code class="codeph">COST</code> ）中提取数据，并计算两个自定义度量（ <code class="codeph">COST_PRIOR_PERIOD</code>和<code class="codeph">PROFIT</code> ）。此示例还显示了应用程序直接使用<code class="codeph">OLAP_TABLE</code> ，而不创建视图。
                     </p>
                     <p>请注意，以下示例中的<code class="codeph">FETCH</code>语句的格式为缩进以提高可读性。实际上，必须在一行上输入整个<code class="codeph">FETCH</code>语句，而不使用换行符或连续符</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE measure_row AS OBJECT（时间VARCHAR2（20），地理VARCHAR2（30），产品VARCHAR2（30），渠道VARCHAR2（30），销售NUMBER（16），成本NUMBER（16），cost_prior_period NUMBER（16），利润NUMBER （16））; / CREATE TYPE measure_table AS TABLE OF measure_row; / SELECT time，geography，product，channel，sales，cost，cost_prior_period，profit FROM TABLE（OLAP_TABLE（'xademo DURATION SESSION'，'measure_table'，'FETCH time，geography，product，channel，analytic_cube_f.sales，analytic_cube_f.costs， LAG（analytic_cube_f.costs，1，time，LEVELREL time_member_levelrel），analytic_cube_f.sales  -  analytic_cube_f.costs'，''））WHERE channel ='STANDARD_2。TOTALCHANNEL'和产品='L1。TOTALPROD'和地理='L1。世界秩序的时间;</pre><p>此SQL <code class="codeph">SELECT</code>语句返回以下结果集：</p><pre class="oac_no_warn" dir="ltr">时间地理产品渠道销售成本COST_PRIOR_PERIOD利润--------- --------- ------------ ------------ ----------- --------- --------- ------------------ --- ----- L1.1996 L1。世界L1。TOTALPROD STANDARD_2。TOTALCHANNEL 118247112 2490243 115756869 L1.1997 L1。世界L1。TOTALPROD STANDARD_2。TOTALCHANNEL 46412113 1078031 2490243 45334082 L2。Q1.96 L1。世界L1。TOTALPROD STANDARD_2。TOTALCHANNEL 26084848 560379 25524469 L2。Q1.97 L1。世界L1。TOTALPROD STANDARD_2。TOTALCHANNEL 26501765 615399 560379 25886367 L2。Q2.96 L1。世界L1。TOTALPROD STANDARD_2。TOTALCHANNEL 30468054 649004 615399 29819049 L2。Q2.97 L1。世界L1。TOTALPROD STANDARD_2。TOTALCHANNEL 19910347 462632 649004 19447715 L2。Q3.96 L1。世界L1。TOTALPROD STANDARD_2。TOTALCHANNEL 27781702 582693 462632 27199009 L2。Q4.96 L1。世界L1。TOTALPROD STANDARD_2。TOTALCHANNEL 33912508 698166 582693 33214342 L3。APR96 L1。世界L1。TOTALPROD STANDARD_2。TOTALCHANNEL 8859808 188851 8670957。。。选择了27行。</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLADM941"></a><a id="OLADM2968"></a><a id="OLADM2969"></a><a id="OLADM2970"></a><a id="OLADM2971"></a><a id="olapdml_olap_condition"></a><div class="sect2"><a id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A" name="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A"></a><h3 id="OLADM-GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A" class="sect3"><span class="enumeration_section">A.4</span> OLAP_CONDITION</h3>
               <div>
                  <p><a id="d248156e3170" class="indexterm-anchor"></a> <code class="codeph">OLAP_CONDITION</code>是一个SQL <a id="d248156e3177" class="indexterm-anchor"></a>在查询分析工作区期间动态执行OLAP DML命令的函数。<a id="d248156e3180" class="indexterm-anchor"></a></p>
                  <div class="infoboxnotealso" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-898E85C1-B66F-4B86-923A-27A9D436C96A">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511">OLAP_TABLE</a>和<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-CAF827B8-8E19-4330-BC3F-D339DD0F1AE8">从SELECT FROM OLAP_TABLE语句中修改分析工作区</a> ”</span></p>
                  </div>
                  <p><code class="codeph">OLAP_CONDITION</code>函数在<code class="codeph">OLAP_TABLE</code>调用中使用的限制映射中的三个入口点之一处执行OLAP DML命令，如<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CHDFHEID">OLAP_TABLE Limit Map中的OLAP_CONDITION的入口点</a> ”中所述</span> 。
                  </p>
                  <div class="infoboxnote" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-0CDC1DF5-BC6B-46B2-B733-761757695E84">
                     <p class="notep1">注意：</p>
                     <p>您无法在OLAP工作表中执行此功能。您必须在SQL工具（如SQL Worksheet）中执行它。</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-93ACB2D6-116F-4357-ADFE-BFB7517CC856">返回</p>
                     <p>数字<code class="codeph">1</code>表示成功调用<code class="codeph">OLAP_CONDITION</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-BE7F69EB-2AC2-415B-8E56-8855FC603C7F">句法</p><pre class="oac_no_warn" dir="ltr">OLAP_CONDITION（r2c IN RAW（32），表达式IN VARCHAR2，事件IN NUMBER DEFAULT 1）;返回号码;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-B5CA16E8-33AE-4853-8559-17D16F5407B9">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-89A9E70E-214E-4CBF-8F56-D5906B84B885"><!-- --></a> <span class="italic">r2c</span></dt>
                        <dd>
                           <p>由<code class="codeph">ROW2CELL</code>指定的列的名称<a id="d248156e3238" class="indexterm-anchor"></a>限制图中的子句。<code class="codeph">OLAP_CONDITION</code>使用此参数来标识<code class="codeph">OLAP_TABLE</code>的特定调用。</p>
                           <p><code class="codeph">ROW2CELL</code>列用于处理单行函数。（请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a> ”</span> ） <code class="codeph">OLAP_CONDITION</code>仅将其用作标识符。
                           </p>
                           <p>有关创建<code class="codeph">ROW2CELL</code>列的信息，请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL子句</a> ”</span> 。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-191A8064-4E82-4FE0-BB85-9038E47C16CE"><!-- --></a> <span class="italic">表达式</span></dt>
                        <dd>
                           <p>要在由<span class="italic">r2c</span>参数标识的<code class="codeph">OLAP_TABLE</code>函数的上下文中执行的单个OLAP DML命令</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-3A2D3163-9845-41E7-9F3A-61D2F551C1DF"><!-- --></a> <span class="italic">事件</span></dt>
                        <dd>
                           <p><code class="codeph">OLAP_TABLE</code>处理期间触发执行由<span class="italic">expression</span>参数指定的OLAP DML命令的事件。此参数的值可以是0,1或2，如<a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHFDFAG" title="OLAP_CONDITION函数使用的OLAP_TABLE限制映射中的入口点">表A-3中所述</a></p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-61157466-70BE-4875-94BD-AF697EA005BD">使用说明</p>
                     <p id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CHDFHEID">OLAP_TABLE限制图中OLAP_CONDITION的入口点</p>
                     <p><code class="codeph">OLAP_CONDITION</code>参数标识<code class="codeph">OLAP_TABLE</code>的调用，在限制映射中指定入口点，并提供要在该入口点执行的OLAP DML命令。
                     </p>
                     <p>目标限制图必须包含<code class="codeph">ROW2CELL</code>列。<code class="codeph">OLAP_CONDITION</code>使用此列标识<code class="codeph">OLAP_TABLE</code>的实例。在该实例中， <code class="codeph">OLAP_CONDITION</code>在三个可能的入口点之一<code class="codeph">OLAP_CONDITION</code>执行OLAP DML命令。您指定的入口点确定条件是否影响查询返回的数据以及条件是否在查询完成后仍然有效。
                     </p>
                     <p><code class="codeph">OLAP_CONDITION</code>可以在以下任何一点触发：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在保存限制图中的尺寸状态之前（在计算结果集之前发生）。</p>
                        </li>
                        <li>
                           <p>在计算结果集之后并在获取结果集之前。（默认）</p>
                        </li>
                        <li>
                           <p>获取结果集并恢复限制图中的维度状态后。</p>
                        </li>
                     </ul>
                     <p><code class="codeph">OLAP_CONDITION</code>的入口点如下表所述。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">OLAP_TABLE中的处理顺序</a> ”</span>以确定每个入口点的出现位置。
                     </p>
                     <div class="tblformal" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHFDFAG">
                        <p class="titleintable">表A-3 OLAP_TABLE限制图中OLAP_CONDITION的入口点</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="OLAP_TABLE限制图中OLAP_CONDITION的入口点" width="100%" border="1" summary="The entry points in the OLAP_TABLE limit map used by the OLAP_CONDITION function" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="14%" id="d248156e3360">入口点</th>
                                 <th align="left" valign="bottom" width="86%" id="d248156e3363">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d248156e3368" headers="d248156e3360 ">
                                    <p>0</p>
                                 </td>
                                 <td align="left" valign="top" width="86%" headers="d248156e3368 d248156e3363 ">
                                    <p>在处理极限映射的<code class="codeph">PREDMLCMD</code>子句之后并且在保存极限映射中的维度状态之前，执行OLAP DML命令。
                                    </p>
                                    <p>入口点位于<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">OLAP_TABLE中的处理顺序</a> ”中的</span>步骤<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAECJAA">1</a>和<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAJBFFG">2</a>之间。
                                    </p>
                                    <p>如果<code class="codeph">OLAP_CONDITION</code>限制了限制映射中的任何维度，则在执行<code class="codeph">OLAP_TABLE</code>后，限制将保留在工作空间中（除非限制映射的<code class="codeph">POSTDMLCMD</code>子句中的命令更改状态）。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d248156e3402" headers="d248156e3360 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="86%" headers="d248156e3402 d248156e3363 ">
                                    <p>在满足<code class="codeph">WHERE</code>子句的条件之后以及在获取数据之前执行OLAP DML命令。（默认。）
                                    </p>
                                    <p>入口点位于<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">OLAP_TABLE中的处理顺序</a> ”中的</span>步骤<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAEHGAJ">4</a>和<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIABCEHE">5</a>之间。
                                    </p>
                                    <p>如果OLAP DML命令（比其他<code class="codeph">FETCH</code>中的<span class="italic">olap_command</span>参数指定） <code class="codeph">OLAP_TABLE</code> ，它之后执行<code class="codeph">OLAP_CONDITION</code>并且数据被取出之前。（通常不建议在<span class="italic">olap_command</span>参数或<code class="codeph">OLAP_CONDITION</code>本身中使用<code class="codeph">FETCH</code>命令。请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHJADBF">在olap_command参数中使用FETCH</a> ”</span> 。）
                                    </p>
                                    <p>如果<code class="codeph">OLAP_CONDITION</code>限制限制图中的任何维，则限制仅在查询期间保持有效。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d248156e3459" headers="d248156e3360 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="86%" headers="d248156e3459 d248156e3363 ">
                                    <p>获取数据并恢复限制图中的维度状态后，执行OLAP DML命令。</p>
                                    <p>入口点在<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHIHFHJ">OLAP_TABLE中的处理顺序</a> ”中的</span>步骤<a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIAGIIEA">8</a>之后。
                                    </p>
                                    <p>如果<code class="codeph">OLAP_CONDITION</code>限制任何维度，则在查询完成后，限制将保留在分析工作区中。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__GUID-3DC05152-98BC-4441-A113-A6FA4E33AB7F">例子</p>
                     <p>使用<code class="codeph">OLAP_CONDITION</code>几个示例查询显示在<a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGDABH">示例A-11中</a> 。这些示例使用<code class="codeph">PRICE_CUBE</code>名为分析工作区<code class="codeph">MYAW</code> 。多维数据集具有时间维度，产品维度以及单位成本和单价的度量。
                     </p>
                     <p>这些示例基于名为<code class="codeph">unit_cost_price_view</code>的视图。用于创建此视图的SQL显示在<a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGHICF">示例A-10中</a> 。有关创建分析工作区视图的信息，请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">使用OLAP_TABLE创建关系视图</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGHICF">
                     <p class="titleinexample">示例A-10 PRICE_CUBE的视图</p><pre class="oac_no_warn" dir="ltr">- 创建逻辑行SQL&gt; CREATE TYPE unit_cost_price_row AS OBJECT（aw_unit_cost NUMBER，aw_unit_price NUMBER，aw_product VARCHAR2（50），aw_product_gid NUMBER（10），aw_time VARCHAR2（20），aw_time_gid NUMBER（10），r2c RAW（32）） ; - 创建逻辑表SQL&gt; CREATE TYPE unit_cost_price_table AS TABLE OF unit_cost_price_row; - 创建视图SQL&gt; CREATE OR REPLACE VIEW unit_cost_price_view AS SELECT aw_unit_cost，aw_unit_price，aw_product，aw_product_gid，aw_time，aw_time_gid，r2c FROM TABLE（OLAP_TABLE（'myaw DURATION SESSION'，'unit_cost_price_table'，''，'MEASURE aw_unit_cost FROM price_cube_unit_cost MEASURE aw_unit_price FROM price_cube_unit_price DIMENSION product WITH HIERARCHY product_parentrel INHIERARCHY product_inhier GID aw_product_gid FROM product_gid ATTRIBUTE aw_product FROM product_short_description DIMENSION time WITH HIERARCHY time_parentrel INHIERARCHY time_inhier GID aw_time_gid FROM time_gid ATTRIBUTE aw_time FROM time_short_description ROW2CELL r2c'））; - 查询视图SQL&gt; SELECT * FROM unit_cost_price_view WHERE aw_product ='硬件'和aw_time in（'2000'，'2001'，'2002'，'2003'）ORDER BY aw_time; AW_UNIT_COST AW_UNIT_PRICE AW_PRODUCT AW_PRODUCT_GID AW_TIME AW_TIME_GID R2C ------------ ------------- ---------- -------- ------ ------- ----------- ----- 211680.12 224713.71硬件3 2000 3 00 ......195591.60 207513.16硬件3 2001 3 00 ......184413.05 194773.78硬件3 2002 3 00 ...73457.31 77275.06硬件3 2003 3 00 ...</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGDABH">
                     <p class="titleinexample">示例A-11使用OLAP_CONDITION查询UNIT_COST_PRICE_VIEW</p>
                     <p>此示例中的查询使用<code class="codeph">OLAP_CONDITION</code>修改<a href="OLAP_TABLE-sql-functions.html#GUID-90AD59F8-4A02-439F-8B9F-C85668F4829A__CIHGHICF">示例A-10中</a>的<code class="codeph">UNIT_COST_PRICE_VIEW</code>查询。在每个查询中， <code class="codeph">OLAP_CONDITION</code>使用不同的入口点将<code class="codeph">TIME</code>维度限制为2000年。
                     </p>
                     <p>在第一个查询中， <code class="codeph">OLAP_CONDIITON</code>使用入口点0。<code class="codeph">OLAP_TABLE</code>返回有限的数据，限制在分析工作区中保持有效。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM unit_cost_price_view WHERE aw_product ='硬件'和aw_time在（'2000'，'2001'，'2002'，'2003'）和OLAP_CONDITION（r2c，'限制时间到time_short_description eq''2000'''， 0）= 1 ORDER BY aw_time; AW_UNIT_COST AW_UNIT_PRICE AW_PRODUCT AW_PRODUCT_GID AW_TIME AW_TIME_GID R2C ------------ ------------- ---------- -------- ------ ------- ----------- ----- 211680.12 224713.71硬件3 2000 3 00 ......- 检查分析工作区中的状态SQL&gt; exec dbms_aw.execute（'rpr time_short_description'）; TIME TIME_SHORT_DESCRIPTION ---- ---------------------- 3 2000  - 重置状态SQL&gt; exec dbms_aw.execute（'allstat'）;</pre><p>在下一个查询中， <code class="codeph">OLAP_CONDIITON</code>使用入口点1。<code class="codeph">OLAP_TABLE</code>返回有限的数据，但该限制在分析工作区中不会保持有效。
                     </p>
                     <p>请注意，在这种情况下不需要第三个参数，因为入口点1是默认值。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM unit_cost_price_view WHERE aw_product ='硬件'和aw_time在（'2000'，'2001'，'2002'，'2003'）和OLAP_CONDITION（r2c，'限制时间到time_short_description eq''2000'''， 1）= 1 ORDER BY aw_time; AW_UNIT_COST AW_UNIT_PRICE AW_PRODUCT AW_PRODUCT_GID AW_TIME AW_TIME_GID R2C ------------ ------------- ---------- -------- ------ ------- ----------- ----- 211680.12 224713.71硬件3 2000 3 00 ......- 检查分析工作区中的状态SQL&gt; exec dbms_aw.execute（'rpr time_short_description'）; TIME TIME_SHORT_DESCRIPTION ---- ---------------------- 1月19日-98 20 Feb-98 21 Mar-98 22 Apr-98。。。1 1998 2 1999 3 2000 4 2001 85 2002 102 2003 119 2004  - 重置状态SQL&gt; exec dbms_aw.execute（'allstat'）;</pre><p>在最终查询中， <code class="codeph">OLAP_CONDIITON</code>使用入口点2。该限制不会影响<code class="codeph">OLAP_TABLE</code>返回的数据，但该限制在分析工作区中仍然有效。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM unit_cost_price_view WHERE aw_product ='硬件'和aw_time在（'2000'，'2001'，'2002'，'2003'）和OLAP_CONDITION（r2c，'限制时间到time_short_description eq''2000'''， 2）= 1 ORDER BY aw_time; AW_UNIT_COST AW_UNIT_PRICE AW_PRODUCT AW_PRODUCT_GID AW_TIME AW_TIME_GID R2C ------------ ------------- ---------- -------- ------ ------- ----------- ----- 211680.12 224713.71硬件3 2000 3 00 ......195591.60 207513.16硬件3 2001 3 00 ......184413.05 194773.78硬件3 2002 3 00 ...73457.31 77275.06硬件3 2003 3 00 ...- 检查分析工作区中的状态SQL&gt; exec dbms_aw.execute（'rpr time_short_description'）; TIME TIME_SHORT_DESCRIPTION ---- ---------------------- 3 2000</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLADM942"></a><a id="OLADM2972"></a><a id="OLADM2973"></a><a id="OLADM2974"></a><a id="olapdml_olap_expression"></a><div class="sect2"><a id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8" name="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8"></a><h3 id="OLADM-GUID-18F0AC33-837B-40F8-923B-20058C4A99E8" class="sect3"><span class="enumeration_section">A.5</span> OLAP_EXPRESSION</h3>
               <div>
                  <p><a id="d248156e3597" class="indexterm-anchor"></a><a id="d248156e3601" class="indexterm-anchor"></a><a id="d248156e3602" class="indexterm-anchor"></a><a id="d248156e3606" class="indexterm-anchor"></a> <code class="codeph">OLAP_EXPRESSION</code>是一个SQL函数，它在<code class="codeph">OLAP_TABLE</code>函数的上下文中动态执行OLAP DML布尔表达式。除了返回自定义度量之外，还可以在<code class="codeph">WHERE</code>和<code class="codeph">ORDER BY</code>子句中使用此函数来修改分析工作区查询的结果集。
                  </p>
                  <div class="infoboxnotealso" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-2410D1EF-84EF-4478-832B-42823EAE1B38">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">在SELECT FROM OLAP_TABLE语句中使用OLAP DML表达式</a> ”</span>和<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">将计算列添加到关系视图</a> ”</span></p>
                  </div>
                  <p><code class="codeph">OLAP_EXPRESSION_TEXT</code>返回字符数据。要返回text，boolean或date数据，请使用<a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a> ， <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a>或<a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a> SQL函数。
                  </p>
                  <p>在使用此函数之前，必须在<code class="codeph">OLAP_TABLE</code>使用的限制映射中指定<code class="codeph">ROW2CELL</code>子句。 <code class="codeph">ROW2CELL</code>标识<code class="codeph">RAW</code>该列<code class="codeph">OLAP_TABLE</code>与由OLAP单行函数所使用的信息填充。
                  </p>
                  <div class="infoboxnote" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-AB2DF1B5-1E86-4E99-A52E-7EA075271ED7">
                     <p class="notep1">注意：</p>
                     <p>您无法在OLAP工作表中执行此功能。您必须在SQL工具（如SQL Worksheet）中执行它。</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-B16C62FE-EBAB-41CB-97B4-193FC96F734C">返回</p>
                     <p>对<code class="codeph">OLAP_TABLE</code>函数返回的表对象的每一行的<span class="italic">numeric_expression</span>的评估。
                     </p>
                     <p><code class="codeph">OLAP_EXPRESSION</code>返回数字数据。要返回text，boolean或date数据，请使用<code class="codeph">OLAP_EXPRESSION_TEXT</code> ， <code class="codeph">OLAP_EXPRESSION_BOOL</code>或<code class="codeph">OLAP_EXPRESSION_DATE</code>函数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-F2B2DF40-6763-4D76-B5D6-C3705D1287F9">句法</p><pre class="oac_no_warn" dir="ltr">OLAP_EXPRESSION（r2c IN RAW（32），numeric_expression IN VARCHAR2）返回数字;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-B0D41C83-0A7E-459E-A1E8-0638D11DAC74">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-884E54E8-A9A1-4CDA-9C20-E3E67560C594"><!-- --></a> <span class="italic">r2c</span></dt>
                        <dd>
                           <p>由限制映射中的<code class="codeph">ROW2CELL</code>子句指定的列的名称。 <a id="d248156e3705" class="indexterm-anchor"></a> 请参阅OLAP_TABLE的<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL子句</a> ”</span> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-BF562FBE-56CB-4DB2-B8B8-8C34E7A2B257"><!-- --></a> <span class="italic">numeric_expression</span></dt>
                        <dd>
                           <p>返回数值结果的OLAP DML表达式。</p>
                           <div class="infoboxnotealso" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-A9D34E89-FBB6-43A3-93E7-6FC11735400C">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="data-types-operators-and-expressions.html#GUID-ABEC18A1-F373-48FF-B3BD-2FB45E4CF006">数字表达式</a> ”</span> ， <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML函数：A  -  K</a> ， <a href="olap-dml-functions-l-z.html#GUID-B01E26A8-F738-4D2C-A274-6B0B3941A2A7">OLAP DML函数：L  -  Z</a> ，以及<span class="q">“ <a href="DBMS_AW-plsql-package.html#GUID-394C3B1D-9323-4A42-B090-0276A8E8F446">在OLAP DML命令中使用引号的指南</a> ”</span></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__GUID-906CB7B9-EFA9-442F-8013-8304966C06AA">例子</p>
                     <p>该<a id="d248156e3742" class="indexterm-anchor"></a>以下脚本用于创建视图<code class="codeph">unit_cost_price_view</code> ，在<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDHDGAA">示例A-12</a>和<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDFFBHI">示例A-13</a>中使用它来说明<code class="codeph">OLAP_EXPRESSION</code>的使用。有关创建分析工作区视图的信息，请参阅<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-3EABE7C7-E10B-4795-85EB-D87205AFB722">使用OLAP_TABLE创建关系视图</a> ”</span> 。
                     </p>
                     <p id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDCJFDB">示例视图：MYAW.UNIT_COST_PRICE_VIEW</p><pre class="oac_no_warn" dir="ltr">- 创建逻辑行CREATE TYPE unit_cost_price_row AS OBJECT（aw_unit_cost NUMBER，aw_unit_price NUMBER，aw_product VARCHAR2（50），aw_time VARCHAR2（20），r2c RAW（32））; /  - 创建逻辑表CREATE TYPE unit_cost_price_table AS TABLE OF unit_cost_price_row; /  - 创建视图CREATE OR REPLACE VIEW unit_cost_price_view AS SELECT aw_unit_cost，aw_unit_price，aw_product，aw_time，r2c FROM TABLE（OLAP_TABLE（'myaw DURATION SESSION'，'unit_cost_price_table'，''，'MEASURE aw_unit_cost FROM price_cube_unit_cost MEASURE aw_unit_price FROM price_cube_unit_price DIMENSION产品WITH HIERARCHY product_parentrel INHIERARCHY product_inhier ATTRIBUTE aw_product FROM product_short_description DIMENSION time WITH HIERARCHY time_parentrel INHIERARCHY time_inhier ATTRIBUTE aw_time FROM time_short_description ROW2CELL r2c'））; /</pre><p>以下查询显示视图中的一些聚合数据。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM unit_cost_price_view WHERE aw_product ='硬件'和aw_time in（'2000'，'2001'，'2002'，'2003'）ORDER BY aw_time; AW_UNIT_COST AW_UNIT_PRICE AW_PRODUCT AW_TIME R2C ------------ ------------- ---------- ------- --- -  211680.12 224713.71硬件2000 00 ......195591.60 207513.16硬件2001 00 ...184413.05 194773.78硬件2002 00 ...73457.31 77275.06硬件2003 00 ...</pre><p></p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDHDGAA">
                     <p class="titleinexample">示例A-12 OLAP_EXPRESSION：WHERE子句中的时间序列函数</p>
                     <p>此示例使用<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDCJFDB">示例视图：MYAW.UNIT_COST_PRICE_VIEW</a> ”中</span>描述的视图。
                     </p>
                     <p>以下<code class="codeph">SELECT</code>语句计算别名为<code class="codeph">PERIODAGO</code>的表达式，并将结果集限制为大于50,000的计算值。计算使用<code class="codeph">LAG</code>函数返回上一时间段的值。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT aw_time time，aw_unit_cost unit_cost，OLAP_EXPRESSION（r2c，'LAG（price_cube_unit_cost，1，time，LEVELREL time_levelrel）'）periodago FROM unit_cost_price_view WHERE aw_product ='Hardware'AND OLAP_EXPRESSION（r2c，'LAG（price_cube_unit_cost，1，time， LEVELREL time_levelrel）'）&gt; 50000;</pre><p>此<code class="codeph">SELECT</code>语句生成这些结果。
                     </p><pre class="oac_no_warn" dir="ltr">TIME UNIT_COST PERIODAGO -------------------- ---------- ---------- 2003 73457.31 184413.05 2004 73457.31 1999 231095.4 162526.92 2000 211680.12 231095.4 2001 195591.6 211680.12 2002 184413.05 195591.6 Q2-99 57587.34 57856.76 Q3-99 59464.25 57587.34 Q4-99 56187.05 59464.25 Q1-00 53982.32 56187.05 Q2-00 53629.74 53982.32 Q3-00 53010.65 53629.74 Q4-00 51057.41 53010.65 Q1-01 49691.22 51057.41</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDFFBHI">
                     <p class="titleinexample">示例A-13 OLAP_EXPRESSION：ORDER BY CLause中的数值计算</p>
                     <p>此示例使用<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8__CHDCJFDB">示例视图：MYAW.UNIT_COST_PRICE_VIEW</a> ”中</span>描述的视图。
                     </p>
                     <p>此示例从price中减去成本，并为此表达式提供<code class="codeph">MARKUP</code>的别名。这些行按标记从最高到最低排序。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT aw_time time，aw_unit_cost unit_cost，aw_unit_price unit_price，OLAP_EXPRESSION（r2c，'PRICE_CUBE_UNIT_PRICE  -  PRICE_CUBE_UNIT_COST'）标记FROM unit_cost_price_view WHERE aw_product ='硬件'和aw_time in（'1998'，'1999'，'2000'，'2001' ）ORDER BY OLAP_EXPRESSION（r2c，'PRICE_CUBE_UNIT_PRICE  -  PRICE_CUBE_UNIT_COST'）DESC;</pre><p>此<code class="codeph">SELECT</code>语句生成这些结果。
                     </p><pre class="oac_no_warn" dir="ltr">TIME UNIT_COST UNIT_PRICE MARKUP -------------------- ---------- ---------- ------ --- 1999 231095.40 245412.91 14317.51 2000 211680.12 224713.71 13033.59 2001 195591.60 207513.16 11921.56 1998 162526.92 173094.41 10567.49</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLADM943"></a><a id="OLADM2975"></a><a id="OLADM2976"></a><a id="olapdml_olap_exp_bool"></a><div class="sect2"><a id="GUID-C0E54517-804D-4B13-96A5-11647516EF54" name="GUID-C0E54517-804D-4B13-96A5-11647516EF54"></a><h3 id="OLADM-GUID-C0E54517-804D-4B13-96A5-11647516EF54" class="sect3"><span class="enumeration_section">A.6</span> OLAP_EXPRESSION_BOOL</h3>
               <div>
                  <p><a id="d248156e3858" class="indexterm-anchor"></a><a id="d248156e3862" class="indexterm-anchor"></a> <code class="codeph">OLAP_EXPRESSION_BOOL</code>是一个SQL函数，它在<code class="codeph">OLAP_TABLE</code>函数的上下文中动态执行OLAP DML布尔表达式。除了返回自定义度量之外，还可以在<code class="codeph">WHERE</code>和<code class="codeph">ORDER BY</code>子句中使用此函数来修改分析工作区查询的结果集。
                  </p>
                  <div class="infoboxnotealso" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-6B5AA63F-E221-4751-8A33-A302B3CEC908">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">在SELECT FROM OLAP_TABLE语句中使用OLAP DML表达式</a> ”</span>和<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">将计算列添加到关系视图</a> ”</span></p>
                  </div>
                  <p><code class="codeph">OLAP_EXPRESSION_TEXT</code>返回字符数据。若要返回数字，文本或日期数据，请使用<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a> ， <a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a>或<a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a> SQL函数。
                  </p>
                  <p>在使用此函数之前，必须在<code class="codeph">OLAP_TABLE</code>使用的限制映射中指定<code class="codeph">ROW2CELL</code>子句。 <code class="codeph">ROW2CELL</code>标识<code class="codeph">RAW</code>该列<code class="codeph">OLAP_TABLE</code>与由OLAP单行函数所使用的信息填充。
                  </p>
                  <div class="infoboxnote" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-15EC0B64-6510-4410-8CC8-D47CF786DE57">
                     <p class="notep1">注意：</p>
                     <p>您无法在OLAP工作表中执行此功能。您必须在SQL工具（如SQL Worksheet）中执行它。</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-4141E933-9B99-4603-812A-2D8CB2A6DD0A">返回</p>
                     <p>对<code class="codeph">OLAP_TABLE</code>函数返回的表对象的每一行的<span class="italic">boolean_expression</span>的评估。
                     </p>
                     <p><code class="codeph">OLAP_EXPRESSION_BOOL</code>返回布尔数据，格式为0表示false，1表示true。若要返回数字，日期或文本数据，请使用<code class="codeph">OLAP_EXPRESSION</code> ， <code class="codeph">OLAP_EXPRESSION_DATE</code>或<code class="codeph">OLAP_EXPRESSION_TEXT</code>函数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-32C93D46-3301-43EC-A08E-916AB7ADF422">句法</p><pre class="oac_no_warn" dir="ltr">OLAP_EXPRESSION_BOOL（r2c IN RAW（32），boolean_expression IN VARCHAR2）返回数字;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-3B43126B-DAFB-4E41-A3E7-2686A51C2ED3">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-339E7E82-DDF0-4F8C-A1AB-F7F79B02BDEB"><!-- --></a> <span class="italic">r2c</span></dt>
                        <dd>
                           <p>由限制映射中的<code class="codeph">ROW2CELL</code>子句指定的列的名称。 <a id="d248156e3961" class="indexterm-anchor"></a> 请参阅OLAP_TABLE的<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL子句</a> ”</span></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-E1E73B33-678D-4FB5-B2F4-6E814D66326C"><!-- --></a> <span class="italic">boolean_expression</span></dt>
                        <dd>
                           <p>返回布尔结果的OLAP DML表达式。</p>
                           <div class="infoboxnotealso" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-AA1B7D44-CC0A-44E7-9EDC-3709475A7B12">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="data-types-operators-and-expressions.html#GUID-682136BD-B3FA-40E8-A2A2-3C5AE979CBC8">布尔表达式</a> ”</span> ， <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML函数：A  -  K</a> ， <a href="olap-dml-functions-l-z.html#GUID-B01E26A8-F738-4D2C-A274-6B0B3941A2A7">OLAP DML函数：L  -  Z</a> ，以及<span class="q">“ <a href="DBMS_AW-plsql-package.html#GUID-394C3B1D-9323-4A42-B090-0276A8E8F446">在OLAP DML命令中使用引号的指南</a> ”</span></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__GUID-17DB731D-E52C-4864-AECF-0FE72E8EC3F9">例子</p>
                     <p>以下脚本用于创建视图<code class="codeph">awunits_view</code> ，在<a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54__BHBDFIHH">示例A-14</a>中使用该脚本来说明<code class="codeph">OLAP_EXPRESSION_BOOL</code>的使用。</p>
                     <p id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__BHBBCDCH">示例视图：MYAW_AW.AWUNITS_VIEW</p><pre class="oac_no_warn" dir="ltr">- 创建逻辑行CREATE TYPE awunits_row AS OBJECT（awtime VARCHAR2（12），awcustomer VARCHAR2（30），awproduct VARCHAR2（30），awchannel VARCHAR2（30），awunits NUMBER（16），r2c RAW（32））; /  - 创建逻辑表CREATE TYPE awunits_table AS TABLE OF awunits_row; /  - 创建视图CREATE OR REPLACE VIEW awunits_view AS SELECT awunits，awtime，awcustomer，awproduct，awchannel，r2c FROM TABLE（OLAP_TABLE（'myaw_aw.myawaw DURATION SESSION'，'awunits_table'，''，'MEASURE awunits FROM units_cube_aw_units_aw DIMENSION awtime从与层次time_aw_parentrel DIMENSION awcustomer FROM customer_aw以多层次customer_aw_parentrel（customer_aw_hierlist '' MARKET_ROLLUP_AW ''）INHIERARCHY customer_aw_inhier DIMENSION awproduct FROM以多层次channel_aw_parentrel ATTRIBUTE awchannel FROM channel_aw_short_description ROW2CELL R2C'）层次product_aw_parentrel DIMENSION channel_aw product_aw）WHERE awunits IS NOT NULL time_aw; /</pre><p>以下查询显示视图中的一些聚合数据。对于2001年所有市场中的所有产品，它显示了通过每个渠道销售的单位数量。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT awchannel，awunits FROM awunits_view WHERE awproduct ='1'AND awcustomer ='7'AND awtime ='4'; AWCHANNEL AWUNITS --------- -------所有频道415392直销43783目录315737互联网55872</pre><p>以下语句显示查询中使用的Product，Customer和Time维成员的描述。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; execute dbms_aw.execute（'limit product_aw to''1'''）; SQL&gt; execute dbms_aw.execute（'rpr product_aw_short_description'）; PRODUCT_AW PRODUCT_AW_SHORT_DESCRIPTION --------------- --------------------------------- ----------------- 1总产品SQL&gt;执行dbms_aw.execute（'将customer_aw限制为''7'''）; SQL&gt; execute dbms_aw.execute（'rpr customer_aw_short_description'）; CUSTOMER_AW CUSTOMER_AW_SHORT_DESCRIPTION --------------- --------------------------------- ----------------- 7总市场SQL&gt;执行dbms_aw.execute（'将time_aw限制为''4'''）; SQL&gt; execute dbms_aw.execute（'rpr time_aw_short_description'）; TIME_AW TIME_AW_SHORT_DESCRIPTION --------------- --------------------------------- ----------------- 4 2001</pre><p></p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-C0E54517-804D-4B13-96A5-11647516EF54__BHBDFIHH">
                     <p class="titleinexample">示例A-14 SELECT列表中的OLAP_EXPRESSION_BOOL函数</p>
                     <p>此示例使用<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54__BHBBCDCH">示例视图：MYAW_AW.AWUNITS_VIEW</a> ”中</span>描述的视图。以下<code class="codeph">SELECT</code>语句计算别名为<code class="codeph">lowest_units</code>的表达式，该表达式指示每个产品的单位数是否小于500。
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT awproduct products，olap_expression_bool（r2c，'units_cube_aw_units_aw le 500'）lowest_units FROM awunits_view WHERE awproduct&gt; 39 AND awproduct &lt;46 AND awcustomer ='7'AND awchannel ='Internet'AND awtime ='4';产品LOWEST_UNITS --------------- ------------ 40 0 41 1 42 1 43 1 44 1 45 0</pre><p>此查询显示产品41-44都少于500个单位。这些产品是德语，法语，西班牙语和意大利语的文档集。所选产品如下所示。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; execute dbms_aw.execute（'limit product_aw to product_aw gt 39 and product_aw lt 46'）; SQL&gt; execute dbms_aw.execute（'rpr product_aw_short_description'）; PRODUCT_AW PRODUCT_AW_SHORT_DESCRIPTION --------------- --------------------------------- ----------------- 40 O / S文档集 - 英语41 O / S文档集 - 德语42 O / S文档集 - 法语43 O / S文档集 - 西班牙语44 O / S文档集 - 意大利语45 O / S文档集 - 汉字</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLADM944"></a><a id="olapdml_olap_exp_date"></a><div class="sect2"><a id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9" name="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9"></a><h3 id="OLADM-GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9" class="sect3"><span class="enumeration_section">A.7</span> OLAP_EXPRESSION_DATE</h3>
               <div>
                  <p><a id="d248156e4071" class="indexterm-anchor"></a><a id="d248156e4075" class="indexterm-anchor"></a> <code class="codeph">OLAP_EXPRESSION_DATE</code>是一个SQL函数，它在<code class="codeph">OLAP_TABLE</code>函数的上下文中动态执行OLAP DML日期时表达式。除了返回自定义度量之外，还可以在<code class="codeph">WHERE</code>和<code class="codeph">ORDER BY</code>子句中使用此函数来修改分析工作区查询的结果集。
                  </p>
                  <div class="infoboxnotealso" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-E409DF82-B5A4-43E9-A03A-FD7120B1D0ED">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">在SELECT FROM OLAP_TABLE语句中使用OLAP DML表达式</a> ”</span>和<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">将计算列添加到关系视图</a> ”</span></p>
                  </div>
                  <p><code class="codeph">OLAP_EXPRESSION_TEXT</code>返回字符数据。若要返回数字，布尔或文本数据，请使用<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a> ， <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a>或<a href="OLAP_TABLE-sql-functions.html#GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0">OLAP_EXPRESSION_TEXT</a> SQL函数。
                  </p>
                  <p>在使用此函数之前，必须在<code class="codeph">OLAP_TABLE</code>使用的限制映射中指定<code class="codeph">ROW2CELL</code>子句。 <code class="codeph">ROW2CELL</code>标识<code class="codeph">RAW</code>该列<code class="codeph">OLAP_TABLE</code>与由OLAP单行函数所使用的信息填充。
                  </p>
                  <div class="infoboxnote" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-B82EF2AA-897A-48C6-843D-17956E32A960">
                     <p class="notep1">注意：</p>
                     <p>您无法在OLAP工作表中执行此功能。您必须在SQL工具（如SQL Worksheet）中执行它。</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-87CB2051-366E-439C-ABE3-105F8FE418F8">返回</p>
                     <p>对<code class="codeph">OLAP_TABLE</code>函数返回的表对象的每一行的<span class="italic">date_expression</span>进行评估。
                     </p>
                     <p><code class="codeph">OLAP_EXPRESSION_DATE</code>返回日期数据。要返回数字，布尔或文本数据，请使用<code class="codeph">OLAP_EXPRESSION</code> ， <code class="codeph">OLAP_EXPRESSION_BOOL</code>或<code class="codeph">OLAP_EXPRESSION_TEXT</code>函数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-808AA022-154C-4212-AC87-E04A0BCAD23A">句法</p><pre class="oac_no_warn" dir="ltr">OLAP_EXPRESSION_DATE（r2c IN RAW（32），date_expression IN VARCHAR2）返回数字;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-EC25F896-8EBD-405A-ABCB-E7D4150F0D6F">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-AD98B818-E964-4ADE-BE8B-B8E5413D3B81"><!-- --></a> <span class="italic">r2c</span></dt>
                        <dd>
                           <p>由限制映射中的<code class="codeph">ROW2CELL</code>子句指定的列的名称。 <a id="d248156e4174" class="indexterm-anchor"></a> 请参阅OLAP_TABLE的<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL子句</a> ”</span></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-1443DF7A-66EE-4780-BA79-E662EBE3D87E"><!-- --></a> <span class="italic">date_expression</span></dt>
                        <dd>
                           <p>返回OLAP DML日期时间结果的OLAP DML表达式。</p>
                           <div class="infoboxnotealso" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-A743F4A7-44FD-4269-9DC7-605F72D2919D">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="data-types-operators-and-expressions.html#GUID-B5F257DF-65F7-4F2A-B536-0E8C6EA86824">日期时间和间隔表达式</a> ”</span> ， <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML函数：A  -  K</a> ， <a href="olap-dml-functions-l-z.html#GUID-B01E26A8-F738-4D2C-A274-6B0B3941A2A7">OLAP DML函数：L  -  Z</a>和<span class="q">“ <a href="DBMS_AW-plsql-package.html#GUID-394C3B1D-9323-4A42-B090-0276A8E8F446">在OLAP DML命令中使用引号的指南</a> ”</span></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9__GUID-ECDC04BE-7212-40D4-9FBF-35B34F72A43C">例子</p>
                     <p>有关OLAP单行函数的示例，请参阅<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a>和<a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a>中的示例。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OLADM945"></a><a id="olapdml_olap_exp_text"></a><div class="sect2"><a id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0" name="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0"></a><h3 id="OLADM-GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0" class="sect3"><span class="enumeration_section">A.8</span> OLAP_EXPRESSION_TEXT</h3>
               <div>
                  <p><a id="d248156e4247" class="indexterm-anchor"></a><a id="d248156e4249" class="indexterm-anchor"></a> <code class="codeph">OLAP_EXPRESSION_TEXT</code>是一个SQL函数，它在<code class="codeph">OLAP_TABLE</code>函数的上下文中动态执行OLAP DML文本表达式。除了返回自定义度量之外，还可以在<code class="codeph">WHERE</code>和<code class="codeph">ORDER BY</code>子句中使用此函数来修改分析工作区查询的结果集。
                  </p>
                  <div class="infoboxnotealso" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-C86E8158-985A-4143-91EB-50467018A25E">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-B43B9D10-89D7-4A4F-8136-D40A9AE4AC7F">在SELECT FROM OLAP_TABLE语句中使用OLAP DML表达式</a> ”</span>和<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-02689531-77D8-4136-98A8-68B96DE01EC4">将计算列添加到关系视图</a> ”</span></p>
                  </div>
                  <p><code class="codeph">OLAP_EXPRESSION_TEXT</code>返回字符数据。要返回数字，布尔值或日期数据，请使用<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a> ， <a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a>或<a href="OLAP_TABLE-sql-functions.html#GUID-5EA8B4E5-4CD1-4D38-809D-1F540CCDCFB9">OLAP_EXPRESSION_DATE</a> SQL函数。
                  </p>
                  <p>在使用此函数之前，必须在<code class="codeph">OLAP_TABLE</code>使用的限制映射中指定<code class="codeph">ROW2CELL</code>子句。 <code class="codeph">ROW2CELL</code>标识<code class="codeph">RAW</code>该列<code class="codeph">OLAP_TABLE</code>与由OLAP单行函数所使用的信息填充。
                  </p>
                  <div class="infoboxnote" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-859FE52C-AF25-4D17-A55A-9C29AD550FCC">
                     <p class="notep1">注意：</p>
                     <p>您无法在OLAP工作表中执行此功能。您必须在SQL工具（如SQL Worksheet）中执行它。</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-2C57C8CD-C6F9-46DE-8AD8-8F99AE40D8A1">返回</p>
                     <p>对<code class="codeph">OLAP_TABLE</code>函数返回的表对象的每一行的<span class="italic">text_expression</span>的评估。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-ECB8A49D-84C3-47CA-8429-E97026B0A013">句法</p><pre class="oac_no_warn" dir="ltr">OLAP_EXPRESSION_TEXT（r2c IN RAW（32），text_expression IN VARCHAR2）返回数字;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-2C1F4DA0-9B86-4F96-8FB6-410962FD0B72">参数</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-F9D9F7B8-3C39-4CDC-911F-505B66B15291"><!-- --></a> <span class="italic">r2c</span></dt>
                        <dd>
                           <p>由限制映射中的<code class="codeph">ROW2CELL</code>子句指定的列的名称。 <a id="d248156e4337" class="indexterm-anchor"></a> 请参阅OLAP_TABLE的<span class="q">“ <a href="OLAP_TABLE-sql-functions.html#GUID-63C7F91B-893D-4A43-BAB6-9BEF5FEAB511__CIHGCEGC">ROW2CELL子句</a> ”</span></p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-6A46F48F-7BA0-4D40-B838-8BAD95B35D87"><!-- --></a> <span class="italic">text_expression</span></dt>
                        <dd>
                           <p>返回文本结果的OLAP DML表达式。</p>
                           <div class="infoboxnotealso" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-5E54F476-79DB-4633-B1D4-81A3007AC7E9">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="data-types-operators-and-expressions.html#GUID-3B623B2A-07EC-4090-B0E3-A6A6539A54EB">文本表达式</a> ”</span> ， <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML函数：A  -  K</a> ， <a href="olap-dml-functions-l-z.html#GUID-B01E26A8-F738-4D2C-A274-6B0B3941A2A7">OLAP DML函数：L  -  Z</a> ，以及<span class="q">“ <a href="DBMS_AW-plsql-package.html#GUID-394C3B1D-9323-4A42-B090-0276A8E8F446">在OLAP DML命令中使用引号的指南</a> ”</span></p>
                           </div>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1B116025-8ED9-4D91-B725-F43BFF5034F0__GUID-13AE162A-6DF4-44FD-83F1-910AAA84F4CA">例</p>
                     <p><a id="d248156e4373" class="indexterm-anchor"></a>有关OLAP单行函数的示例，请参阅<a href="OLAP_TABLE-sql-functions.html#GUID-18F0AC33-837B-40F8-923B-20058C4A99E8">OLAP_EXPRESSION</a>和<a href="OLAP_TABLE-sql-functions.html#GUID-C0E54517-804D-4B13-96A5-11647516EF54">OLAP_EXPRESSION_BOOL</a>中的示例。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>