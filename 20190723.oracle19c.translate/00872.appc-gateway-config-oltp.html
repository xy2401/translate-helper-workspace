<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置OLTP</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), and HP-UX Itanium"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:10:33-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-appc-gateway-sna.html" title="Previous" type="text/html"></link>
      <link rel="next" href="config-appc-gateway-using-tcp-ip.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64"></meta>
    <meta name="dcterms.isVersionOf" content="APPCI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-appc-gateway-sna.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="config-appc-gateway-using-tcp-ip.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置OLTP</li>
            </ol>
            <a id="GUID-EFADA61F-0D52-4536-BAF8-F4E8E06D3043" name="GUID-EFADA61F-0D52-4536-BAF8-F4E8E06D3043"></a><a id="APPCI210"></a>
            
            <h2 id="APPCI-GUID-EFADA61F-0D52-4536-BAF8-F4E8E06D3043" class="sect2"><span class="enumeration_chapter">10</span>配置OLTP</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d13356e29" class="indexterm-anchor"></a><a id="d13356e33" class="indexterm-anchor"></a>以下部分介绍如何配置联机事务处理OLTP。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><span class="bold">如果您的通信协议是SNA</span> ：继续<a href="appc-gateway-config-oltp.html#GUID-EA4AF387-229D-498B-9DE0-ABEB7204D409">为SNA环境配置OLTP</a> 。
                     </p>
                  </li>
                  <li>
                     <p><span class="bold">如果您的通信协议是TCP / IP</span> ：继续<a href="appc-gateway-config-oltp.html#GUID-1B85615E-CBCC-4710-BD71-2C36BA090D8D">为TCP / IP环境配置OLTP</a> 。
                     </p>
                     <div class="infoboxnote" id="GUID-EFADA61F-0D52-4536-BAF8-F4E8E06D3043__GUID-ADE76F57-4ACD-453C-AC9F-2576611F31CC">
                        <p class="notep1">注意：</p>
                        <p>在使用TCP / IP支持IMS Connect的网关上，如果需要输入区分大小写，则必须在IMS <code class="codeph">TRANSACT</code>宏中指定<code class="codeph">EDIT=ULC</code> 。使用SNA支持时，无需在IMS <code class="codeph">TRANSACT</code>宏中指定<code class="codeph">EDIT=ULC</code> 。
                        </p>
                     </div>
                  </li>
               </ul>
            </div><a id="APPCI211"></a><div class="props_rev_3"><a id="GUID-EA4AF387-229D-498B-9DE0-ABEB7204D409" name="GUID-EA4AF387-229D-498B-9DE0-ABEB7204D409"></a><h3 id="APPCI-GUID-EA4AF387-229D-498B-9DE0-ABEB7204D409" class="sect3">配置SNA环境的OLTP</h3>
               <div>
                  <p>配置OLTP以与APPC的Oracle Database Gateway通信的步骤取决于您使用的OLTP以及运行OLTP的平台。适用于z / OS，IMS / TM，APPC / MVS和的CICS Transaction Server <a id="d13356e108" class="indexterm-anchor"></a> z / OS是目前支持的<a id="d13356e111" class="indexterm-anchor"></a> OLTPs。从以下部分中选择与OLTP相对应的说明：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="appc-gateway-config-oltp.html#GUID-0B8F15B5-BC85-4DD9-81F3-7B9FD7B8B623">为z / OS配置CICS Transaction Server</a></p>
                     </li>
                     <li>
                        <p><a href="appc-gateway-config-oltp.html#GUID-6C4A80D8-F3A5-4C49-8113-D12DF4AA442B">配置IMS / TM</a></p>
                     </li>
                     <li>
                        <p><a href="appc-gateway-config-oltp.html#GUID-EE331C45-6724-4C5E-94F7-F9FE6BF3DBCC">配置APPC / MVS</a></p>
                        <div class="infoboxnote" id="GUID-EA4AF387-229D-498B-9DE0-ABEB7204D409__GUID-A0D9EC6E-7F08-4D68-A188-70260211ED67">
                           <p class="notep1">注意：</p>
                           <p>如果这是您第一次配置OLTP，则只需执行OLTP的配置步骤。</p>
                        </div>
                     </li>
                  </ul>
               </div><a id="APPCI212"></a><div class="props_rev_3"><a id="GUID-0B8F15B5-BC85-4DD9-81F3-7B9FD7B8B623" name="GUID-0B8F15B5-BC85-4DD9-81F3-7B9FD7B8B623"></a><h4 id="APPCI-GUID-0B8F15B5-BC85-4DD9-81F3-7B9FD7B8B623" class="sect4">为z / OS配置CICS Transaction Server</h4>
                  <div>
                     <div class="section">
                        <p>如果您的OLTP是用于z / OS的CICS Transaction Server，则执行以下步骤以配置与网关的通信：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>配置MVS <a id="d13356e177" class="indexterm-anchor"></a>用于SNA通信包的VTAM，它将使APPC连接到您的系统。至少一个独立的<a id="d13356e182" class="indexterm-anchor"></a><a id="d13356e188" class="indexterm-anchor"></a> LU必须可用于网关。</span></li>
                        <li class="stepexpand"><span>检查<a id="d13356e194" class="indexterm-anchor"></a> CICS Transaction Server for z / OS使用的VTAM日志模式表。 （表名在CICS的VTAM APPL定义中的<code class="codeph">MODETAB</code>参数中指定。）确保具有并行会话和同步级别支持的APPC会话存在条目。</span><div>
                              <p><code class="codeph">$ORACLE_HOME/dg4appc/sna</code>目录中的<code class="codeph">oraplu62.asm</code>文件包含一个示例模式条目，包括指示模式条目中所需值的注释。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用文件传输工具，将以下文件从<code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS</code>目录传输到<a id="d13356e217" class="indexterm-anchor"></a>运行CICS Transaction Server for z / OS的z / OS系统：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">dfhcsdup.jcl</code> <a id="d13356e226" class="indexterm-anchor"></a> <a id="d13356e228" class="indexterm-anchor"></a> ：JCL运行CICS <code class="codeph">DFHCSDUP</code>实用程序</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">pgaflip.asm</code> ：CICS <code class="codeph">FLIP</code>事务的汇编源</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">pgaflip.jcl</code> ：用于汇编和链接CICS <code class="codeph">FLIP</code>事务的JCL</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用中的注释<a id="d13356e255" class="indexterm-anchor"></a><a id="d13356e257" class="indexterm-anchor"></a> <code class="codeph">dfhcsdup.jcl</code>文件，定制JCL和输入语句以匹配您的系统设置，并提交它以进行批量执行。执行此步骤将更新Transaction Server for z / OS系统定义。</span></li>
                        <li class="stepexpand"><span>使用<code class="codeph">pgaflip.jcl</code>文件注释中的说明，定制JCL以匹配您的系统设置，并将其提交以进行批量执行。执行此步骤将<code class="codeph">pgaflip.asm</code>文件组装并链接到您的Transaction Server for z / OS可访问的加载模块库中。 <a id="d13356e273" class="indexterm-anchor"></a><a id="d13356e275" class="indexterm-anchor"></a> CICS启动过程中的<code class="codeph">DFHRPL</code> DD语句。</span></li>
                        <li class="stepexpand"><span>登录到您的CICS Transaction Server for z / OS并输入以下事务：</span><div><pre class="oac_no_warn" dir="ltr">CEDA INSTALL GROUP（ORAPGA）</pre><p>此事务将安装与UNIX上的网关进行APPC通信的CICS连接和会话定义。它还安装了随网关提供的示例CICS程序和事务的定义。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>您的CICS Transaction Server for z / OS配置现已完成。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI213"></a><div class="props_rev_3"><a id="GUID-6C4A80D8-F3A5-4C49-8113-D12DF4AA442B" name="GUID-6C4A80D8-F3A5-4C49-8113-D12DF4AA442B"></a><h4 id="APPCI-GUID-6C4A80D8-F3A5-4C49-8113-D12DF4AA442B" class="sect4">配置IMS / TM</h4>
                  <div>
                     <div class="section">
                        <p>如果您的OLTP是IMS / TM，则执行以下步骤以配置IMS / TM和z / OS以与网关通信：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>为APPC配置IMS系统。</span></li>
                        <li class="stepexpand"><span>为SNA APPC连接到UNIX配置MVS VTAM。除非您使用适用于LU6.2应用程序的IMS LU6.1适配器，否则网关必须至少使用一个独立的LU。在这种情况下，您必须为每个并发会话定义一个从属LU。例如，如果要支持10个并发会话，则必须定义10个相关LU。</span></li>
                        <li class="stepexpand"><span>检查IMS / TM使用的VTAM logmode表。表名由VTAM APPL定义中的<code class="codeph">MODETAB</code>参数指定。对于APPC / IMS，请确保具有同步级支持和并行会话支持的APPC会话存在条目。<code class="codeph">$ORACLE_HOME/dg4appc/sna</code>目录中的<code class="codeph">oralu62.asm</code>和<code class="codeph">oraplu62.asm</code>文件分别包含单会话和并行会话支持的样本模式条目。样本包含指示模式条目中所需值的注释。</span></li>
                        <li class="stepexpand"><span>使用文件传输工具，将以下文件从<code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>目录传输到运行IMS / TM的z / OS系统：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">pgaflip.asm</code>是IMS <code class="codeph">FLIP</code>事务的汇编源</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">pgaflip.jcl</code>是用于汇编和链接IMS <code class="codeph">FLIP</code>事务的JCL</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">imsgen.asm</code>是IMS <code class="codeph">FLIP</code>事务的IMS阶段1 gen定义</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将<code class="codeph">imsgen.asm</code>文件中的语句添加到IMS stage 1 gen并运行IMS stage 1和stage 2 gens。使用联机更改实用程序启用新的事务定义。</span></li>
                        <li class="stepexpand"><span>使用<code class="codeph">pgaflip.jcl</code>文件中的注释，定制JCL以匹配您的系统设置并提交它以进行批量执行。这会将<code class="codeph">pgaflip.asm</code>文件组装并链接到您的IMS / TM系统可访问的加载模块库，并为<code class="codeph">FLIP</code>事务创建PSB和ACB。</span></li>
                        <li class="stepexpand"><span>执行系统上所需的任务，以使新事务可用于IMS / TM。根据您的系统设置，您可能必须重新启动IMS。</span></li>
                     </ol>
                     <div class="section">
                        <p>IMS / TM配置现已完成。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI214"></a><div class="props_rev_3"><a id="GUID-EE331C45-6724-4C5E-94F7-F9FE6BF3DBCC" name="GUID-EE331C45-6724-4C5E-94F7-F9FE6BF3DBCC"></a><h4 id="APPCI-GUID-EE331C45-6724-4C5E-94F7-F9FE6BF3DBCC" class="sect4">配置APPC / MVS</h4>
                  <div>
                     <div class="section">
                        <p>如果您的OLTP是APPC / MVS，请执行以下步骤以配置APPC / MVS以与网关通信：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>配置MVS <a id="d13356e453" class="indexterm-anchor"></a>用于SNA APPC连接到UNIX的VTAM。至少有一个独立的LU必须可供网关使用。</span></li>
                        <li class="stepexpand"><span>检查<a id="d13356e468" class="indexterm-anchor"></a> APPC / MVS使用的VTAM日志模式表。 （表名由APPC / MVS的VTAM APPL定义中的<code class="codeph">MODETAB</code>参数指定。）确保具有<code class="codeph">SYNCLEVEL</code>和并行会话支持的APPC会话存在条目。<code class="codeph">oraplu62.asm</code>文件中<a id="d13356e480" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/sna</code>目录包含一个示例模式条目，包括指示模式条目中所需值的注释。</span></li>
                        <li class="stepexpand"><span>分配分区数据集（ <a id="d13356e488" class="indexterm-anchor"></a>放置样本文件的z / OS系统上的PDS）。PDS应分配<code class="codeph">RECFM=FB</code> ， <code class="codeph">RECFM=FB</code> <code class="codeph">LRECL=80</code> ，以及适合<code class="codeph">BLKSIZE</code>在设备类型的<code class="codeph">BLKSIZE</code> 。一个目录块需要大约两个3390磁盘空间的磁道。Oracle建议命名此分区数据集（PDS） <code class="codeph">ORAPGA.APPCMVS.SAMPLIB</code> 。</span></li>
                        <li class="stepexpand"><span>使用文件传输工具，从中传输以下文件<a id="d13356e508" class="indexterm-anchor"></a> <code class="codeph">$ORACLE_HOME/dg4appc/demo/MVS</code>目录到您在上一步中分配的z / OS PDS，使用以下指定的成员名称：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">pgaflip.jcl</code> ：JCL，用于添加APPC / MVS <code class="codeph">TP</code>配置文件并定义事务的执行环境。将此文件作为成员<code class="codeph">PGAFLIPJ</code>存储在z / OS PDS中。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">pgaflip.rex</code> ：APPC / MVS PGAFLIP事务的REXX源。将此文件作为成员<code class="codeph">PGAFLIP</code>存储在z / OS PDS中。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">pgaflip.jcl</code>文件中的注释，定制JCL以匹配您的系统设置并提交它以进行批量执行。执行此步骤定义<code class="codeph">PGAFLIP</code>事务的APPC / MVS <code class="codeph">TP</code>配置文件，并将其存储在APPC / MVS配置文件数据集中。确保更改JCL中的数据集名称以匹配在步骤3中分配的z / OS PDS的名称。</span></li>
                     </ol>
                     <div class="section">
                        <p>APPC / MVS配置现已完成。</p>
                        <p>现在您已使用SNA协议在网关上完成了网络配置，请参阅<a href="configuring-appc-gateway-sna.html#GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3">使用SNA通信协议的网关配置</a> 。有关配置commit-confirm的更多信息，请参阅<span class="q">“ <a href="configuring-appc-gateway-sna.html#GUID-544B3014-8746-41E6-9132-12E473D38254">配置Commit-Confirm</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCI215"></a><div class="props_rev_3"><a id="GUID-1B85615E-CBCC-4710-BD71-2C36BA090D8D" name="GUID-1B85615E-CBCC-4710-BD71-2C36BA090D8D"></a><h3 id="APPCI-GUID-1B85615E-CBCC-4710-BD71-2C36BA090D8D" class="sect3">为TCP / IP环境配置OLTP</h3>
               <div>
                  <div class="section">
                     <p>这些是配置OLTP以使用TCP / IP for IMS Connect与Oracle Database Gateway for APPC进行通信的步骤。IMS / TM，通过IMS Connect，是此版本网关唯一支持的OLTP。</p>
                     <p>执行以下步骤以配置IMS / TM和z / OS以与网关通信：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>配置IMS系统。</span></li>
                     <li class="stepexpand"><span>配置IMS Connect</span><div>
                           <p>有关如何配置IMS Connect的信息，请参阅IBM手册“ <span class="italic">IMS Connect指南和参考”</span> 。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>使用文件传输工具，将以下文件从<code class="codeph">$ORACLE_HOME/dg4appc/demo/IM</code> S目录传输到运行IMS / TM的z / OS系统：</span><div>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">pgaflip.asm</code> ：汇编程序源代码<a id="d13356e623" class="indexterm-anchor"></a><a id="d13356e625" class="indexterm-anchor"></a> IMS <code class="codeph">FLIP</code>事务</p>
                              </li>
                              <li>
                                 <p><code class="codeph">pgaflip.jcl</code> ：用于汇编和链接IMS <code class="codeph">FLIP</code>事务的JCL</p>
                              </li>
                              <li>
                                 <p><code class="codeph">imsgen.asm</code> ：IMS <code class="codeph">FLIP</code>事务的IMS阶段1 gen定义</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>将<code class="codeph">imsgen.asm</code>文件中的语句添加到IMS stage 1 gen并运行IMS stage 1和stage 2 gens。使用联机更改实用程序启用新的事务定义。</span></li>
                     <li class="stepexpand"><span>使用<code class="codeph">pgaflip.jcl</code>文件中的注释，定制JCL以匹配您的系统设置并提交它以进行批量执行。这会将<code class="codeph">pgaflip.asm</code>文件组装并链接到您的IMS / TM系统可访问的加载模块库，并为FLIP事务创建PSB和ACB。</span></li>
                     <li class="stepexpand"><span>执行系统上所需的任务，以使新事务可用于IMS / TM。根据您的系统设置，您可能必须重新启动IMS。</span></li>
                  </ol>
                  <div class="section">
                     <p>IMS / TM配置现已完成。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>此时，请继续<a href="config-appc-gateway-using-tcp-ip.html#GUID-04DEC93D-F75C-4490-8759-EBA02099B48E">使用TCP / IP通信协议</a>进行网关配置，以完成网关及其组件的配置。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>