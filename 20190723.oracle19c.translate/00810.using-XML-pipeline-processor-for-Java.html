<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An explanation is given of how to use the Extensible Markup Language (XML) pipeline processor for Java."></meta>
      <meta name="description" content="An explanation is given of how to use the Extensible Markup Language (XML) pipeline processor for Java."></meta>
      <title>使用XML Pipeline Processor for Java</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="An explanation is given of how to use the Extensible Markup Language (XML) pipeline processor for Java."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-developers-kit-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:58:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96292-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-JAXB-class-generator.html" title="Previous" type="text/html"></link>
      <link rel="next" href="determining-XML-differences-using-Java.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML Developers Kit Programmers Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDK"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-JAXB-class-generator.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="determining-XML-differences-using-Java.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XDK-for-Java.html" property="item" typeof="WebPage"><span property="name">Oracle XML Developer's Kit for Java</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用XML Pipeline Processor for Java</li>
            </ol>
            <a id="GUID-B701FC56-68EB-4DB3-B198-357341B5223E" name="GUID-B701FC56-68EB-4DB3-B198-357341B5223E"></a><a id="ADXDK1001"></a><a id="ADXDK7000"></a>
            
            <h2 id="ADXDK-GUID-B701FC56-68EB-4DB3-B198-357341B5223E" class="sect2"><span class="enumeration_chapter">19</span>使用XML Pipeline Processor for Java</h2>
         </header>
         <div class="ind">
            <div>
               <p>给出了如何使用Java的可扩展标记语言（XML）管道处理器的解释。</p>
               <div class="section"> </div>
               <!-- class="section" -->
            </div><a id="ADXDK1002"></a><a id="ADXDK19322"></a><div class="props_rev_3"><a id="GUID-D52B346A-3EC7-4D7C-8A2E-4E110715C826" name="GUID-D52B346A-3EC7-4D7C-8A2E-4E110715C826"></a><h3 id="ADXDK-GUID-D52B346A-3EC7-4D7C-8A2E-4E110715C826" class="sect3">XML管道处理器简介</h3>
               <div>
                  <p>这里的主题包括先决条件，标准和规范，多阶段处理和自定义管道处理。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19323"></a><div class="props_rev_3"><a id="GUID-FE136E1F-66F2-4B85-BE5F-27803082848E" name="GUID-FE136E1F-66F2-4B85-BE5F-27803082848E"></a><h4 id="ADXDK-GUID-FE136E1F-66F2-4B85-BE5F-27803082848E" class="sect4">使用XML Pipeline Processor for Java的先决条件</h4>
                  <div>
                     <p>列出了使用XML Pipeline处理器的先决条件。</p>
                     <p>本章假定您熟悉以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="glossary.html#GUID-DEA2D6E1-4C5C-443F-A4C8-1AF13EE01841" title="W3C建议，使您能够描述XML资源之间的处理关系。"><span class="xrefglossterm">XML管道定义语言</span></a> 。此XML词汇表使您能够描述XML资源之间的处理关系。有关管道定义语言的更全面介绍，请参阅<a href="preface.html#GUID-2CD1F6B6-C8EC-42E3-97F2-589AABF9AFFB" title="列出了与此文档相关的Oracle资源。">相关文档中</a>列出的XML资源。
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-0969F796-24C8-4A02-B671-B2EE8BD49F5B"><span class="xrefglossterm">文档对象模型（DOM）</span></a> 。DOM是XML文档结构的内存树表示。
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-6B57591D-3889-4BCD-8598-58ED2DC9E9EE"><span class="xrefglossterm">简单的XML API（SAX）</span></a> 。SAX是基于事件的XML解析的标准。
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-B1E6F2C9-39D7-42D5-817B-6210231ABF97" title="XML Schema语言也称为XML Schema，是一种W3C建议，用于在XML文档中使用简单数据类型和复杂结构。它解决了目前DTD中缺乏的领域，包括数据类型的定义和验证。"><span class="xrefglossterm">XML Schema语言</span></a> 。有关概述和建议阅读的链接，请参阅<a href="using-XML-schema-processor-for-Java.html#GUID-F41C7DA2-A3DF-463B-A08C-24E8F0621450" title="这里的主题介绍了如何使用Java的可扩展标记语言（XML）模式处理器。">使用XML Schema Processor for Java</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADXDK19324"></a><div class="props_rev_3"><a id="GUID-E153833F-1D1F-476F-BB8B-5C630454136E" name="GUID-E153833F-1D1F-476F-BB8B-5C630454136E"></a><h4 id="ADXDK-GUID-E153833F-1D1F-476F-BB8B-5C630454136E" class="sect4">用于Java的XML管道处理器的标准和规范</h4>
                  <div>
                     <p>Oracle XML Pipeline处理器基于万维网联盟（W3C）XML管道定义语言版本1.0注释。W3C Note定义了XML词汇表而不是应用程序编程接口（API）。</p>
                     <p><a href="XDK-standards.html#GUID-B121CAD1-05B4-43F1-B022-E764F90B0B0D" title="介绍了XML Pipeline处理器和W3C Note之间的差异。">XDK for Java的管道定义语言标准</a>描述了W3C Note与Oracle XML Pipeline处理器的Oracle XML Developer Kit（XDK）实现之间的差异。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E153833F-1D1F-476F-BB8B-5C630454136E__GUID-998CD51F-9674-4021-96FC-81C90283A4E7">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_xml_pipeline" target="_blank"><span class="italic">XML管道定义语言版本1.0</span></a></p>
                           </li>
                           <li>
                              <p><a href="XDK-standards.html#GUID-5FBC4319-4B8E-4547-9585-F498B71A3F18__DCGBIDIF" title="列是标准，Java，C和C ++。">表34-1</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADXDK19326"></a><a id="ADXDK19325"></a><div class="props_rev_3"><a id="GUID-944781D8-B63C-4947-BB1B-CEAEFF9C184B" name="GUID-944781D8-B63C-4947-BB1B-CEAEFF9C184B"></a><h4 id="ADXDK-GUID-944781D8-B63C-4947-BB1B-CEAEFF9C184B" class="sect4">多级XML处理</h4>
                  <div>
                     <p>Oracle XML Pipeline处理器基于XML管道定义语言构建。处理器可以获取输入XML管道文档并根据派生的依赖性执行管道处理。</p>
                     <p>以XML编写的<strong class="term">管道文档</strong>以声明方式指定要执行的进程。您可以使用管道文档中的<code class="codeph">&lt;processdef/&gt;</code>元素将Java类与进程相关联。
                     </p>
                     <p>使用Pipeline处理器进行多级处理，这是在顺序或并行处理XML组件时发生的。一个处理阶段的输出可以成为另一个处理阶段的输入。您可以编写一个管道文档来定义流程的输入和输出。<a href="using-XML-pipeline-processor-for-Java.html#GUID-944781D8-B63C-4947-BB1B-CEAEFF9C184B__CHDDCHID">图19-1</a>显示了可能的流水线序列。
                     </p>
                     <div class="figure" id="GUID-944781D8-B63C-4947-BB1B-CEAEFF9C184B__CHDDCHID">
                        <p class="titleinfigure">图19-1管道处理</p><img src="img/adxdk116.gif" width="451" alt="下面是图19-1的描述" title="下面是图19-1的描述" longdesc="img_text/adxdk116.html"><br><a href="img_text/adxdk116.html">“图19-1管道处理”的描述</a></div>
                     <!-- class="figure" -->
                     <p>除了XML Pipeline处理器本身之外，XDK还为可以在管道文档中管道连接的进程提供API。<a href="using-XML-pipeline-processor-for-Java.html#GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9__CHDFCBHA" title="列出oracle.xml.pipeline.processes包中的类。">表19-2</a>总结了<code class="codeph">oracle.xml.pipeline.processes</code>包中提供的类。
                     </p>
                     <p>在管道中处理XML的典型阶段是：</p>
                     <ol>
                        <li>
                           <p>解析输入的XML文档。<code class="codeph">oracle.xml.pipeline.processes</code>包中包含用于DOM解析的<code class="codeph">DOMParserProcess</code>和用于SAX解析的<code class="codeph">SAXParserProcess</code> 。
                           </p>
                        </li>
                        <li>
                           <p>验证输入XML文档。</p>
                        </li>
                        <li>
                           <p>序列化或转换输入文档。Pipeline处理器不允许您将SAX解析器连接到需要DOM的可扩展样式表语言转换（XSLT）处理器。</p>
                        </li>
                     </ol>
                     <p>在多级处理中，SAX非常适合过滤和搜索大型XML文档。使用DOM可以高效，动态地更改或访问XML内容。</p>
                     <div class="infoboxnotealso" id="GUID-944781D8-B63C-4947-BB1B-CEAEFF9C184B__GUID-308C0DCB-5F4F-46B1-BE94-14EFC8B85741">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="using-XML-pipeline-processor-for-Java.html#GUID-5AE2F9CB-3EE2-438E-9CC1-F4268B827342" title="这里的主题包括创建管道文档，编写管道处理器应用程序以及编写管道错误处理程序。">处理管道中的XML</a>以了解如何编写为管道应用程序提供输入的管道文档</p>
                     </div>
                  </div>
               </div><a id="ADXDK19328"></a><a id="ADXDK19327"></a><div class="props_rev_3"><a id="GUID-9D74C9DA-3884-42D0-8B42-C9A0EC678A74" name="GUID-9D74C9DA-3884-42D0-8B42-C9A0EC678A74"></a><h4 id="ADXDK-GUID-9D74C9DA-3884-42D0-8B42-C9A0EC678A74" class="sect4">定制的管道流程</h4>
                  <div>
                     <p>类<code class="codeph">oracle.xml.pipeline.controller.Process</code>是所有管道流程定义的基类。包<code class="codeph">oracle.xml.pipeline.processes</code>的类扩展了这个基类。要创建自定义管道流程，您必须创建一个扩展类<code class="codeph">Process</code>类。
                     </p>
                     <p>至少，每个自定义进程必须覆盖<code class="codeph">Process</code>类的do-nothing <code class="codeph">initialize()</code>和<code class="codeph">execute()</code>方法。如果自定义进程接受SAX事件作为输入，则它应覆盖<code class="codeph">SAXContentHandler()</code>方法以返回处理传入SAX事件的相应<code class="codeph">ContentHandler</code> 。它还应该覆盖<code class="codeph">SAXErrorHandler()</code>方法以返回相应的<code class="codeph">ErrorHandler</code> 。<a href="using-XML-pipeline-processor-for-Java.html#GUID-9D74C9DA-3884-42D0-8B42-C9A0EC678A74__CHDFABEH" title="列出Process类中的方法。">表19-1</a>提供了对前述方法的进一步描述。
                     </p>
                     <div class="tblformalwide" id="GUID-9D74C9DA-3884-42D0-8B42-C9A0EC678A74__CHDFABEH">
                        <p class="titleintable">表19-1类oracle.xml.pipeline.controller中的方法。处理</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="类oracle.xml.pipeline.controller中的方法。处理" width="100%" border="1" summary="Lists methods in the Process class." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d72516e647">类</th>
                                 <th align="left" valign="bottom" width="75%" id="d72516e650">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d72516e655" headers="d72516e647 ">
                                    <p><code class="codeph">初始化（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d72516e655 d72516e650 ">
                                    <p>在执行之前初始化进程。</p>
                                    <p>调用<code class="codeph">getInput()</code>以获取与process元素关联的特定输入对象，并调用<code class="codeph">supportType()</code>以指示支持的输入类型。类似地，为输出调用<code class="codeph">getOutput()</code>和<code class="codeph">supportType()</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d72516e677" headers="d72516e647 ">
                                    <p><code class="codeph">执行（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d72516e677 d72516e650 ">
                                    <p>执行该过程。</p>
                                    <p>调用<code class="codeph">getInParaValue()</code> ， <code class="codeph">getInput()</code>或<code class="codeph">getInputSource()</code>来获取进程的输入。如果自定义过程输出SAX事件，那么它应该调用<code class="codeph">getSAXContentHandler()</code>和<code class="codeph">getSAXErrorHandler()</code>的方法<code class="codeph">execute()</code>来获得在管道这些过程的SAX处理程序：</p>
                                    <p>调用<code class="codeph">setOutputResult()</code> ， <code class="codeph">getOutputStream()</code> ， <code class="codeph">getOutputWriter()</code>或<code class="codeph">setOutParam()</code>来设置此进程生成的输出或outparams。
                                    </p>
                                    <p>调用<code class="codeph">getErrorSource()</code> ， <code class="codeph">getErrorStream()</code>或<code class="codeph">getErrorDocument()</code>以访问与此process元素关联的管道错误元素。如果在<code class="codeph">execute()</code>期间发生异常，则调用<code class="codeph">error()</code>或<code class="codeph">info()</code>将其传播到<code class="codeph">PipelineErrorHandler</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d72516e744" headers="d72516e647 ">
                                    <p><code class="codeph">SAXContentHandler（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d72516e744 d72516e650 ">
                                    <p>返回SAX <code class="codeph">ContentHandler</code> 。
                                    </p>
                                    <p>如果其他进程的依赖项不可用，则返回<code class="codeph">null</code> 。当这些依赖项可用时，该方法将执行到最后。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d72516e760" headers="d72516e647 ">
                                    <p><code class="codeph">SAXErrorHandler（）</code></p>
                                 </td>
                                 <td align="left" valign="top" width="75%" headers="d72516e760 d72516e650 ">
                                    <p>返回SAX <code class="codeph">ErrorHandler</code> 。
                                    </p>
                                    <p>如果不重写此方法，则JAXB处理器使用此类实现的缺省错误处理程序来处理SAX错误。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-9D74C9DA-3884-42D0-8B42-C9A0EC678A74__GUID-AC792866-BA9A-4934-A331-04E1416BF803">
                        <p class="notep1">也可以看看：</p>
                        <p>有关包<code class="codeph">oracle.xml.pipeline.processes</code>信息，请参阅<a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API参考</cite></span></a> 
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="ADXDK1003"></a><a id="ADXDK19329"></a><div class="props_rev_3"><a id="GUID-C8D1362E-FB72-4D12-AF3E-0879CA473818" name="GUID-C8D1362E-FB72-4D12-AF3E-0879CA473818"></a><h3 id="ADXDK-GUID-C8D1362E-FB72-4D12-AF3E-0879CA473818" class="sect3">使用XML Pipeline Processor for Java：概述</h3>
               <div>
                  <p>这里的主题包括基本过程，运行演示程序以及使用XML管道处理器命令行实用程序。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19331"></a><a id="ADXDK19332"></a><a id="ADXDK19333"></a><a id="ADXDK19330"></a><div class="props_rev_3"><a id="GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9" name="GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9"></a><h4 id="ADXDK-GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9" class="sect4">使用Java Pipeline Processor for Java：基本过程</h4>
                  <div>
                     <p>描述了用于Java的XML管道处理器的基本过程。</p>
                     <div class="section">
                        <p>可以通过以下包访问用于Java的XML Pipeline处理器：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">oracle.xml.pipeline.controller</code> ，它提供了一个XML Pipeline控制器，它根据依赖关系在管道中执行XML进程。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.xml.pipeline.processes</code> ，它提供可由XML Pipeline控制器执行的XML进程的包装类。<code class="codeph">oracle.xml.pipeline.processes</code>包中包含可用于设计管道应用程序框架的类。每个类都扩展了<code class="codeph">oracle.xml.pipeline.controller.Process</code>类。
                              </p>
                              <p><a href="using-XML-pipeline-processor-for-Java.html#GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9__CHDFCBHA" title="列出oracle.xml.pipeline.processes包中的类。">表19-2</a>列出了包中的组件。您可以通过XML Pipeline处理器和管道文档的组合来连接这些组件和进程。
                              </p>
                           </li>
                        </ul>
                        <div class="tblformalwide" id="GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9__CHDFCBHA">
                           <p class="titleintable">表19-2 oracle.xml.pipeline.processes中的类</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="oracle.xml.pipeline.processes中的类" width="100%" border="1" summary="Lists classes in the oracle.xml.pipeline.processes package." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d72516e988">类</th>
                                    <th align="left" valign="bottom" width="74%" id="d72516e991">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d72516e996" headers="d72516e988 ">
                                       <p><code class="codeph">CompressReaderProcess</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d72516e996 d72516e991 ">
                                       <p>接收压缩的XML并输出解析的XML。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d72516e1004" headers="d72516e988 ">
                                       <p><code class="codeph">CompressWriterProcess</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d72516e1004 d72516e991 ">
                                       <p>接收使用DOM或SAX解析的XML并输出压缩的XML。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d72516e1012" headers="d72516e988 ">
                                       <p><code class="codeph">DOMParserProcess</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d72516e1012 d72516e991 ">
                                       <p>解析传入的XML并输出DOM树。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d72516e1020" headers="d72516e988 ">
                                       <p><code class="codeph">SAXParserProcess</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d72516e1020 d72516e991 ">
                                       <p>解析传入的XML并输出SAX事件。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d72516e1028" headers="d72516e988 ">
                                       <p><code class="codeph">XPathProcess</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d72516e1028 d72516e991 ">
                                       <p>接受DOM作为输入，使用XPath模式从XML <code class="codeph">Document</code>或XML <code class="codeph">DocumentFragment</code>选择一个或多个节点，并输出<code class="codeph">Document</code>或<code class="codeph">DocumentFragment</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d72516e1048" headers="d72516e988 ">
                                       <p><code class="codeph">XSDSchemaBuilder</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d72516e1048 d72516e991 ">
                                       <p>解析XML模式并输出模式对象以进行验证。此过程内置于XML Pipeline处理器中，并构建用于验证XML文档的模式对象。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d72516e1056" headers="d72516e988 ">
                                       <p><code class="codeph">XSDValProcess</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d72516e1056 d72516e991 ">
                                       <p>根据本地模式进行验证，分析结果，并在必要时报告错误。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d72516e1064" headers="d72516e988 ">
                                       <p><code class="codeph">XSLProcess</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d72516e1064 d72516e991 ">
                                       <p>接受DOM作为输入，应用XSL样式表，并输出转换结果。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d72516e1072" headers="d72516e988 ">
                                       <p><code class="codeph">XSLStylesheetProcess</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d72516e1072 d72516e991 ">
                                       <p>接收XSL样式表作为流或DOM并创建<code class="codeph">XSLStylesheet</code>对象。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a href="using-XML-pipeline-processor-for-Java.html#GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9__CHDFJCEJ">图19-2</a>显示了如何将管道文档传递给使用XML Pipeline处理器，配置处理器和执行管道的Java应用程序。
                        </p>
                        <div class="figure" id="GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9__CHDFJCEJ">
                           <p class="titleinfigure">图19-2使用Java流水线处理器</p><img src="img/adxdk120.gif" width="528" alt="下面是图19-2的描述" title="下面是图19-2的描述" longdesc="img_text/adxdk120.html"><br><a href="img_text/adxdk120.html">“图19-2使用Java流水线处理器”的描述</a></div>
                        <!-- class="figure" -->
                        <p>基本步骤是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>实例化管道文档，该文档构成管道执行的输入。通过将<code class="codeph">FileReader</code>传递给构造函数来创建对象：</span><div><pre class="pre codeblock"><code>PipelineDoc管道; FileReader f; pipe = new PipelineDoc（（Reader）f，false）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>实例化管道处理器。<code class="codeph">PipelineProcessor</code>是执行<code class="codeph">PipelineProcessor</code>的顶级类。<a href="using-XML-pipeline-processor-for-Java.html#GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9__CHDBAAEF" title="此表描述了PipelineProcessor类中的方法。">表19-3</a>介绍了一些可用的方法。</span><div>
                              <div class="tblformal" id="GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9__CHDBAAEF">
                                 <p class="titleintable">表19-3 PipelineProcessor方法</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="PipelineProcessor方法" width="90%" border="1" summary="This table describes the methods in the PipelineProcessor class." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="28%" id="d72516e1124">方法</th>
                                          <th align="left" valign="bottom" width="72%" id="d72516e1127">描述</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="28%" id="d72516e1132" headers="d72516e1124 ">
                                             <p><code class="codeph">executePipeline（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="72%" headers="d72516e1132 d72516e1127 ">
                                             <p>通过调用<code class="codeph">setPipelineDoc()</code>设置基于<code class="codeph">PipelineDoc</code> 。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="28%" id="d72516e1146" headers="d72516e1124 ">
                                             <p><code class="codeph">getExecutionMode（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="72%" headers="d72516e1146 d72516e1127 ">
                                             <p>获取执行模式的类型： <code class="codeph">PIPELINE_SEQUENTIAL</code>或<code class="codeph">PIPELINE_PARALLEL</code> 。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="28%" id="d72516e1160" headers="d72516e1124 ">
                                             <p><code class="codeph">的setErrorHandler（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="72%" headers="d72516e1160 d72516e1127 ">
                                             <p>设置管道的错误处理程序。执行管道时必须执行此调用。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="28%" id="d72516e1168" headers="d72516e1124 ">
                                             <p><code class="codeph">setExecutionMode（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="72%" headers="d72516e1168 d72516e1127 ">
                                             <p>设置执行模式。<code class="codeph">PIPELINE_PARALLEL</code>是缺省值，它指定管道中的进程必须并行执行。<code class="codeph">PIPELINE_SEQUENTIAL</code>指定<code class="codeph">PIPELINE_SEQUENTIAL</code>中的进程必须按顺序执行。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="28%" id="d72516e1182" headers="d72516e1124 ">
                                             <p><code class="codeph">setForce（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="72%" headers="d72516e1182 d72516e1127 ">
                                             <p>设置执行行为。如果为<code class="codeph">TRUE</code> ，则无论目标是否与管道输入是最新的，管道都会执行。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="28%" id="d72516e1193" headers="d72516e1124 ">
                                             <p><code class="codeph">setPipelineDoc（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="72%" headers="d72516e1193 d72516e1127 ">
                                             <p>设置<code class="codeph">PipelineDoc</code>对象。
                                             </p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>此语句实例化管道处理器：</p><pre class="pre codeblock"><code>proc = new PipelineProcessor（）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>将处理器设置为管道文档。例如：</span><div><pre class="pre codeblock"><code>proc.setPipelineDoc（管道）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>设置处理器的执行模式并执行任何其他所需的配置。例如，通过将常量传递给<code class="codeph">PipelineProcessor.setExecutionMode()</code>来设置模式。</span><div>
                              <p>此语句指定顺序执行：</p><pre class="pre codeblock"><code>proc.setExecutionMode（PipelineConstants。PIPELINE_SEQUENTIAL）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>实例化错误处理程序。错误处理程序必须实现<code class="codeph">PipelineErrorHandler</code>接口。例如：</span><div><pre class="pre codeblock"><code>errHandler = new PipelineSampleErrHdlr（logname）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>通过调用<code class="codeph">setErrorHandler()</code>为处理器设置错误处理程序。例如：</span><div><pre class="pre codeblock"><code>proc.setErrorHandler（errHandler）;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>执行管道。例如：</span><div><pre class="pre codeblock"><code>proc.executePipeline（）;</code></pre><div class="infoboxnotealso" id="GUID-4C4B30D9-17B2-4B9F-825F-72174FA2EEE9__GUID-F0F5D564-14C5-4601-B642-FBC706D3277E">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API参考</cite></span></a> ，了解<code class="codeph">oracle.xml.pipeline</code>子包</p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-XML-pipeline-processor-for-Java.html#GUID-3D56CF61-86A1-4DBD-AF42-7F284901EF3D" title="要使用Oracle XML Pipeline处理器，必须根据W3C Note中指定的管道定义语言的规则创建XML文档。W3C规范定义了XML处理组件以及这些过程的输入和输出。">创建管道文档</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="ADXDK19335"></a><a id="ADXDK19334"></a><div class="props_rev_3"><a id="GUID-43CE03CE-C2AB-40F3-90E6-3832F80BF455" name="GUID-43CE03CE-C2AB-40F3-90E6-3832F80BF455"></a><h4 id="ADXDK-GUID-43CE03CE-C2AB-40F3-90E6-3832F80BF455" class="sect4">运行XML管道处理器演示程序</h4>
                  <div>
                     <p>XML Pipeline处理器的演示程序包含在<code class="codeph">$ORACLE_HOME/xdk/demo/java/pipeline</code> 。
                     </p>
                     <div class="section">
                        <p><a href="using-XML-pipeline-processor-for-Java.html#GUID-43CE03CE-C2AB-40F3-90E6-3832F80BF455__CHDICHJA" title="此表描述了可用于测试实用程序的XML文件和Java源文件。文件和描述是列。">表19-4</a>说明了可用于测试实用程序的XML文件和Java源文件。
                        </p>
                        <div class="tblformal" id="GUID-43CE03CE-C2AB-40F3-90E6-3832F80BF455__CHDICHJA">
                           <p class="titleintable">表19-4管道处理器示例文件</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="管道处理器示例文件" width="100%" border="1" summary="This table describes the XML files and Java source files that you can use to test the utility. File and Description are the Columns." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="39%" id="d72516e1378">文件</th>
                                    <th align="left" valign="bottom" width="61%" id="d72516e1381">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1386" headers="d72516e1378 ">
                                       <p><code class="codeph">自述</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1386 d72516e1381 ">
                                       <p>一个文本文件，描述如何设置Pipeline处理器演示。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1394" headers="d72516e1378 ">
                                       <p><code class="codeph">PipelineSample.java</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1394 d72516e1381 ">
                                       <p>一个示例管道处理器应用程序。该程序将<code class="codeph">pipedoc.xml</code>作为其第一个参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1405" headers="d72516e1378 ">
                                       <p><code class="codeph">PipelineSampleErrHdlr.java</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1405 d72516e1381 ">
                                       <p>用于创建<code class="codeph">PipelineSample</code>使用的错误处理程序的示例程序。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1416" headers="d72516e1378 ">
                                       <p><code class="codeph">是book.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1416 d72516e1381 ">
                                       <p>描述一系列书籍的示例XML文档。此文档由<code class="codeph">pipedoc.xml</code> ， <code class="codeph">pipedoc2.xml</code>和<code class="codeph">pipedocerr.xml</code>指定为输入。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1433" headers="d72516e1378 ">
                                       <p><code class="codeph">book.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1433 d72516e1381 ">
                                       <p>一个XSLT样式表，用于将<code class="codeph">book.xml</code>中的书籍列表转换为HTML表格。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1444" headers="d72516e1378 ">
                                       <p><code class="codeph">book_err.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1444 d72516e1381 ">
                                       <p>由<code class="codeph">pipedocerr.xml</code>管道文档指定为输入的XSLT样式表。此样式表包含故意错误。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1455" headers="d72516e1378 ">
                                       <p><code class="codeph">id.xsl</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1455 d72516e1381 ">
                                       <p>由<code class="codeph">pipedoc3.xml</code>管道文档指定为输入的XSLT样式表。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1466" headers="d72516e1378 ">
                                       <p><code class="codeph">items.xsd</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1466 d72516e1381 ">
                                       <p>由<code class="codeph">pipedoc3.xml</code>管道文档指定为输入的XML模式文档。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1477" headers="d72516e1378 ">
                                       <p><code class="codeph">pipedoc.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1477 d72516e1381 ">
                                       <p>管道文件。本文档指定进程p1必须使用DOM解析<code class="codeph">book.xml</code> ，进程p2必须解析<code class="codeph">book.xsl</code>并创建样式表对象，并且进程p3必须将样式表应用于DOM以生成<code class="codeph">myresult.html</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1494" headers="d72516e1378 ">
                                       <p><code class="codeph">pipedoc2.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1494 d72516e1381 ">
                                       <p>管道文件。本文档指定进程p1必须使用SAX解析<code class="codeph">book.xml</code> ，进程p2必须从SAX事件生成压缩XML <code class="codeph">compxml</code> ，进程p3必须从压缩流中重新生成XML作为<code class="codeph">myresult2.html</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1511" headers="d72516e1378 ">
                                       <p><code class="codeph">pipedoc3.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1511 d72516e1381 ">
                                       <p>管道文件。本文档指定进程p5必须使用DOM解析<code class="codeph">po.xml</code> ，进程p1必须从DOM树中选择具有XPath表达式的单个节点，进程p4必须解析<code class="codeph">items.xsd</code>并生成模式对象，进程p6必须验证所选针对模式的节点，进程p3必须解析<code class="codeph">id.xsl</code>并生成样式表对象，并验证节点以生成<code class="codeph">myresult3.html</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1532" headers="d72516e1378 ">
                                       <p><code class="codeph">pipedocerr.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1532 d72516e1381 ">
                                       <p>管道文件。本文档指定进程p1必须使用DOM解析<code class="codeph">book.xml</code> ，进程p2必须解析<code class="codeph">book_err.xsl</code>并在遇到没有错误时生成样式表对象，如果遇到错误则应用内联样式表，并且进程p3必须将样式表应用于DOM生成<code class="codeph">myresulterr.html</code> 。由于<code class="codeph">book_err.xsl</code>包含错误，因此程序必须将输入XML的文本内容写入<code class="codeph">myresulterr.html</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d72516e1555" headers="d72516e1378 ">
                                       <p><code class="codeph">PO.xml而</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d72516e1555 d72516e1381 ">
                                       <p>描述采购订单的示例XML文档。<code class="codeph">pipedoc3.xml</code>将此文档指定为输入。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>有关如何编译和运行示例程序的文档位于<code class="codeph">README</code> 。基本步骤是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>转到<code class="codeph">$ORACLE_HOME/xdk/demo/java/pipeline</code>目录（UNIX）或<code class="codeph">%ORACLE_HOME%\xdk\demo\java\pipeline</code>目录（Windows）。</span></li>
                        <li class="stepexpand"><span>确保按照<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="You can set up the XDK for Java environment using either an environment variable or a command-line option.">设置XDK for Java环境中的</a>描述<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="您可以使用环境变量或命令行选项设置XDK for Java环境。">设置</a>环境变量。</span></li>
                        <li class="stepexpand"><span>在系统提示符下运行<code class="codeph">make</code> （UNIX）或<code class="codeph">Make.bat</code> （Windows）以生成<code class="codeph">PipelineSample.java</code>和<code class="codeph">PipelineSampleErrHdler.java</code>类文件并运行演示程序。程序将输出文件写入<code class="codeph">log</code>子目录。</span><div>
                              <p>或者，您可以使用以下语法手动运行演示程序：</p><pre class="oac_no_warn" dir="ltr">java PipelineSample <span class="italic">pipedoc</span> <span class="italic">pipelog</span> [seq | para]</pre><p><span class="italic"><code class="codeph">pipedoc</code></span>选项指定要使用的管道文档。<span class="italic"><code class="codeph">pipelog</code></span>选项指定管道日志文件的名称，除非您指定<code class="codeph">seq</code>或<code class="codeph">para</code> ，否则这是可选的，在这种情况下需要文件名。如果未指定日志文件，则程序默认生成<code class="codeph">pipeline.log</code> 。<code class="codeph">seq</code>选项按顺序处理线程; <code class="codeph">para</code>并行处理。如果既未指定<code class="codeph">seq</code>或<code class="codeph">para</code> ，则默认为并行处理。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>查看从管道生成的文件，这些文件都使用初始字符串<code class="codeph">myresult</code>和日志文件命名。</span></li>
                     </ol>
                  </div>
               </div><a id="ADXDK19337"></a><a id="ADXDK19336"></a><div class="props_rev_3"><a id="GUID-612A465F-72B4-4019-A8BE-4863D9E1D52B" name="GUID-612A465F-72B4-4019-A8BE-4863D9E1D52B"></a><h4 id="ADXDK-GUID-612A465F-72B4-4019-A8BE-4863D9E1D52B" class="sect4">使用XML Pipeline Processor命令行实用程序</h4>
                  <div>
                     <p>XML Pipeline处理器的命令行界面名为<code class="codeph">orapipe</code> 。Pipeline处理器与Oracle数据库打包在一起。默认情况下，Oracle Universal Installer会在<code class="codeph">$ORACLE_HOME/bin</code>磁盘上安装该实用程序。
                     </p>
                     <div class="section">
                        <p>在首次运行该实用程序之前，请确保按照<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="You can set up the XDK for Java environment using either an environment variable or a command-line option.">设置XDK for Java环境</a>中的说明<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="您可以使用环境变量或命令行选项设置XDK for Java环境。">设置</a>环境变量。使用以下语法在操作系统命令行运行<code class="codeph">orapipe</code> ：</p><pre class="oac_no_warn" dir="ltr">orapipe <span class="italic">选项pipedoc</span>
</pre><p><span class="italic"><code class="codeph">pipedoc</code></span>是管道文档，这是必需的。<a href="using-XML-pipeline-processor-for-Java.html#GUID-612A465F-72B4-4019-A8BE-4863D9E1D52B__CHDCHJDE" title="此表描述了orapipe实用程序的可用选项。选项和目的是列。">表19-5</a>介绍了<code class="codeph">orapipe</code>实用程序的可用选项。
                        </p>
                        <div class="tblformal" id="GUID-612A465F-72B4-4019-A8BE-4863D9E1D52B__CHDCHJDE">
                           <p class="titleintable">表19-5 orapipe命令行选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="orapipe命令行选项" width="100%" border="1" summary="This table describes the available options for the orapipe utility. Option and Purpose are the columns." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d72516e1782">选项</th>
                                    <th align="left" valign="bottom" width="75%" id="d72516e1785">目的</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d72516e1790" headers="d72516e1782 ">
                                       <p><code class="codeph">-救命</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d72516e1790 d72516e1785 ">
                                       <p>打印帮助信息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d72516e1798" headers="d72516e1782 ">
                                       <p><code class="codeph">-log</code> <span class="italic"><code class="codeph">logfile</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d72516e1798 d72516e1785 ">
                                       <p>将错误和消息写入指定的日志文件。默认值是<code class="codeph">pipeline.log</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d72516e1813" headers="d72516e1782 ">
                                       <p><code class="codeph">-noinfo</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d72516e1813 d72516e1785 ">
                                       <p>不记录信息项。默认打开。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d72516e1821" headers="d72516e1782 ">
                                       <p><code class="codeph">-nowarning</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d72516e1821 d72516e1785 ">
                                       <p>不记录警告。默认打开。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d72516e1829" headers="d72516e1782 ">
                                       <p><code class="codeph">-validate</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d72516e1829 d72516e1785 ">
                                       <p>使用管道模式验证输入<code class="codeph">pipedoc</code> 。默认情况下，验证处于关闭状态。如果使用<code class="codeph">outparam</code>功能，则<code class="codeph">validate</code>失败并显示当前管道架构，因为这是一项附加功能。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d72516e1846" headers="d72516e1782 ">
                                       <p><code class="codeph">-版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d72516e1846 d72516e1785 ">
                                       <p>打印发行版。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d72516e1854" headers="d72516e1782 ">
                                       <p><code class="codeph">-sequential</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d72516e1854 d72516e1785 ">
                                       <p>以顺序模式执行管道。默认为并行。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d72516e1862" headers="d72516e1782 ">
                                       <p><code class="codeph">-力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d72516e1862 d72516e1785 ">
                                       <p>即使目标是最新的，也执行管道。默认情况下，不指定强制。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d72516e1870" headers="d72516e1782 ">
                                       <p><code class="codeph">-attr</code> <span class="italic"><code class="codeph">name</code></span> <span class="italic"><code class="codeph">value</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d72516e1870 d72516e1785 ">
                                       <p>将<code class="codeph">$</code> <span class="italic"><code class="codeph">name</code></span>的值设置为指定的<span class="italic"><code class="codeph">value</code></span> 。例如，如果属性名称为<code class="codeph">source</code>且值为<code class="codeph">book.xml</code> ，则可以将此值传递给管道文档中的元素： <code class="codeph">&lt;input ... label="$source"&gt;</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADXDK1004"></a><a id="ADXDK19338"></a><div class="props_rev_4"><a id="GUID-5AE2F9CB-3EE2-438E-9CC1-F4268B827342" name="GUID-5AE2F9CB-3EE2-438E-9CC1-F4268B827342"></a><h3 id="ADXDK-GUID-5AE2F9CB-3EE2-438E-9CC1-F4268B827342" class="sect3">处理管道中的XML</h3>
               <div>
                  <p>这里的主题包括创建管道文档，编写管道处理器应用程序以及编写管道错误处理程序。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19339"></a><div class="props_rev_3"><a id="GUID-3D56CF61-86A1-4DBD-AF42-7F284901EF3D" name="GUID-3D56CF61-86A1-4DBD-AF42-7F284901EF3D"></a><h4 id="ADXDK-GUID-3D56CF61-86A1-4DBD-AF42-7F284901EF3D" class="sect4">创建管道文档</h4>
                  <div>
                     <p>要使用Oracle XML Pipeline处理器，必须根据W3C Note中指定的管道定义语言的规则创建XML文档。W3C规范定义了XML处理组件以及这些过程的输入和输出。</p>
                     <p>XML Pipeline处理器包括对这些XDK组件的支持：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>XML解析器</p>
                        </li>
                        <li>
                           <p>XML压缩器</p>
                        </li>
                        <li>
                           <p>XML Schema验证器</p>
                        </li>
                        <li>
                           <p>XSLT处理器</p>
                        </li>
                     </ul>
                  </div><a id="ADXDK19341"></a><a id="ADXDK19340"></a><div class="props_rev_3"><a id="GUID-E64DBAED-1345-42E0-8EBE-360969CE7576" name="GUID-E64DBAED-1345-42E0-8EBE-360969CE7576"></a><h5 id="ADXDK-GUID-E64DBAED-1345-42E0-8EBE-360969CE7576" class="sect5">管道文档的示例</h5>
                     <div>
                        <p>XML Pipeline处理器根据管道文档中的规则执行一系列XML处理并返回结果。将显示演示目录中包含的示例管道文档。</p>
                        <div class="example" id="GUID-E64DBAED-1345-42E0-8EBE-360969CE7576__CHDHECFH">
                           <p class="titleinexample">例19-1 pipedoc.xml</p><pre class="oac_no_warn" dir="ltr">&lt;pipeline xmlns =“http://www.w3.org/2002/02/xml-pipeline”xml：base =“http://example.org/”&gt; &lt;param name =“target”select =“myresult。 html“/&gt; &lt;processdef name =”domparser.p“definition =”oracle.xml.pipeline.processes。DOMParserProcess“/&gt; &lt;processdef name =”xslstylesheet.p“definition =”oracle.xml.pipeline.processes。XSLStylesheetProcess“/&gt; &lt;processdef name =”xslprocess.p“definition =”oracle.xml.pipeline.processes。XSLProcess“/&gt; &lt;process id =”p2“type =”xslstylesheet.p“ignore-errors =”false“&gt; &lt;input name =”xsl“label =”book.xsl“/&gt; &lt;outparam name =”stylesheet“label =“xslstyle”/&gt; &lt;/ process&gt; &lt;process id =“p3”type =“xslprocess.p”ignore-errors =“false”&gt; &lt;param name =“stylesheet”label =“xslstyle”/&gt; &lt;input name = “document”label =“xmldoc”/&gt; &lt;output name =“result”label =“myresult.html”/&gt; &lt;/ process&gt; &lt;process id =“p1”type =“domparser.p”ignore-errors =“true “&gt; &lt;input name =”xmlsource“label =”book.xml“/&gt; &lt;output name =”dom“label =”xmldoc“/&gt; &lt;param name =”preserveWhitespace“select =”true“&gt; &lt;/ param&gt; &lt;错误名称=“dom”&gt; &lt;html xmlns =“http：// www / w3 / org / 1999 / xhtml”&gt; &lt;head&gt; &lt;title&gt; DOMParser失败！&lt;/ title&gt; &lt;/ head&gt; &lt;body&gt; &lt;h1&gt;解析文档时出错&lt;/ h1&gt; &lt;/ body&gt; &lt;/ html&gt; &lt;/ error&gt; &lt;/ process&gt; &lt;/ pipeline&gt;</pre></div>
                        <!-- class="example" -->
                     </div><a id="ADXDK19342"></a><div class="props_rev_3"><a id="GUID-A6E98D4E-0737-46FB-B531-BFBF5A4B222E" name="GUID-A6E98D4E-0737-46FB-B531-BFBF5A4B222E"></a><h6 id="ADXDK-GUID-A6E98D4E-0737-46FB-B531-BFBF5A4B222E" class="sect6">管道文档中指定的进程</h6>
                        <div>
                           <p>描述了管道文档中指定的过程。</p>
                           <p>在<a href="using-XML-pipeline-processor-for-Java.html#GUID-E64DBAED-1345-42E0-8EBE-360969CE7576__CHDHECFH">例19-1中</a> ，调用了三个进程，并与<code class="codeph">oracle.xml.pipeline.processes</code>包中的Java类相关联。管道文档使用元素<code class="codeph">processdef</code>来建立这些关联：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">domparser.p</code>与<code class="codeph">DOMParserProcess</code>类相关联</p>
                              </li>
                              <li>
                                 <p><code class="codeph">xslstylesheet.p</code>与<code class="codeph">XSLStylesheetProcess</code>类相关联</p>
                              </li>
                              <li>
                                 <p><code class="codeph">xslprocess.p</code>与<code class="codeph">XSLProcess</code>类关联</p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="ADXDK19343"></a><div class="props_rev_3"><a id="GUID-6B675595-08E3-4F7F-BFD9-4326A07E023A" name="GUID-6B675595-08E3-4F7F-BFD9-4326A07E023A"></a><h6 id="ADXDK-GUID-6B675595-08E3-4F7F-BFD9-4326A07E023A" class="sect6">管道文档中指定的处理体系结构</h6>
                        <div>
                           <p>描述了管道的基本设计和处理架构。</p>
                           <div class="section">
                              <p><code class="codeph">PipelineSample</code>程序接受<a href="using-XML-pipeline-processor-for-Java.html#GUID-E64DBAED-1345-42E0-8EBE-360969CE7576__CHDHECFH">示例19-1中</a>显示的<code class="codeph">pipedoc.xml</code>文档作为输入以及XML文档<code class="codeph">book.xml</code>和<code class="codeph">book.xsl</code> 。管道的基本设计是：</p>
                           </div>
                           <!-- class="section" -->
                           <ol>
                              <li><span>解析传入的<code class="codeph">book.xml</code>文档并生成DOM树。此任务由<code class="codeph">DOMParserProcess</code>执行。</span></li>
                              <li><span>将<code class="codeph">book.xsl</code>解析为流并生成<code class="codeph">XSLStylesheet</code>对象。此任务由<code class="codeph">XSLStylesheetProcess</code>执行。</span></li>
                              <li><span>接收<code class="codeph">book.xml</code>的DOM作为输入，应用样式表对象，并将结果写入<code class="codeph">myresult.html</code> 。此任务由<code class="codeph">XSLProcess</code>执行。</span></li>
                           </ol>
                           <div class="section">
                              <p>请注意管道文档中使用的处理体系结构的这些方面：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>目标信息集<code class="codeph">http://example.org/myresult.html</code>是从<code class="codeph">target</code>参数的默认值和<code class="codeph">xml:base</code>设置推断出来的。
                                    </p>
                                 </li>
                                 <li>
                                    <p>进程<code class="codeph">p2</code>的输入为<code class="codeph">book.xsl</code> ，输出参数的标签为<code class="codeph">xslstyle</code> ，因此必须运行以生成<code class="codeph">p3</code>的输入。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">p3</code>进程取决于输入参数<code class="codeph">xslstyle</code>和文档<code class="codeph">xmldoc</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">p3</code>进程有一个输出参数，标签为<code class="codeph">http://example.org/myresult.html</code> ，因此必须运行才能生成目标。
                                    </p>
                                 </li>
                                 <li>
                                    <p>进程<code class="codeph">p1</code>依赖于输入文档<code class="codeph">book.xml</code>并输出<code class="codeph">xmldoc</code> ，因此必须运行它才能生成<code class="codeph">p3</code>的输入。
                                    </p>
                                 </li>
                              </ul>
                              <p>在<a href="using-XML-pipeline-processor-for-Java.html#GUID-E64DBAED-1345-42E0-8EBE-360969CE7576__CHDHECFH">例19-1中</a> ，多个处理顺序可以满足所有依赖性。根据规则，XML Pipeline处理器必须最后处理<code class="codeph">p3</code>但可以按任意顺序处理<code class="codeph">p1</code>和<code class="codeph">p2</code> ，也可以并行处理它们。
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
               </div><a id="ADXDK19344"></a><div class="props_rev_3"><a id="GUID-8094F1B4-8834-4417-802E-A63555F193B6" name="GUID-8094F1B4-8834-4417-802E-A63555F193B6"></a><h4 id="ADXDK-GUID-8094F1B4-8834-4417-802E-A63555F193B6" class="sect4">编写管道处理器应用程序</h4>
                  <div>
                     <p><code class="codeph">PipelineSample.java</code>源文件显示基本管道应用程序。
                     </p>
                     <div class="section">
                        <p>您可以将该应用程序与<a href="using-XML-pipeline-processor-for-Java.html#GUID-43CE03CE-C2AB-40F3-90E6-3832F80BF455__CHDICHJA" title="此表描述了可用于测试实用程序的XML文件和Java源文件。文件和描述是列。">表19-4中的</a>任何管道文档一起使用来解析和转换输入XML文档。
                        </p>
                        <p>该计划的基本步骤是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>执行初始设置。该程序声明类型<code class="codeph">FileReader</code> （用于输入XML文件）， <code class="codeph">PipelineDoc</code> （用于输入管道文档）和<code class="codeph">PipelineProcessor</code> （用于处理器）的引用。第一个参数是管道文档，这是必需的。如果收到第二个参数，则它将存储在<code class="codeph">logname</code>字符串中。此代码片段显示了此技术：</span><div><pre class="oac_no_warn" dir="ltr">public static void main（String [] args）{FileReader f; PipelineDoc管道; PipelineProcessor proc; if（args.length &lt;1）{System.out.println（“需要第一个参数，其他参数是”。“可选的：”）; System.out.println（“pipedoc.xml &lt;output_log&gt; &lt;'seq'&gt;”）;返回; } if（args.length&gt; 1）logname = args [1]; ...
</pre></div>
                        </li>
                        <li class="stepexpand"><span>通过将第一个命令行参数作为文件名传递给构造函数来创建<code class="codeph">FileReader</code>对象。例如：</span><div><pre class="oac_no_warn" dir="ltr">f = new FileReader（args [0]）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>通过将引用传递给<code class="codeph">FileReader</code>对象来创建<code class="codeph">PipelineDoc</code>对象。此示例将<code class="codeph">FileReader</code>强制转换为<code class="codeph">Reader</code>并指定不进行验证：</span><div><pre class="oac_no_warn" dir="ltr">pipe = new PipelineDoc（（Reader）f，false）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>实例化XML Pipeline处理器。此语句实例化管道处理器：</span><div><pre class="oac_no_warn" dir="ltr">proc = new PipelineProcessor（）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>将处理器设置为管道文档。例如：</span><div><pre class="oac_no_warn" dir="ltr">proc.setPipelineDoc（管道）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>设置处理器的执行模式并执行任何其他配置。此代码片段使用条件来确定执行模式。如果将三个或更多参数传递给程序，则它将模式设置为顺序或并行，具体取决于传递的参数。例如：</span><div><pre class="oac_no_warn" dir="ltr">String execMode = null; if（args.length&gt; 2）{execMode = args [2]; if（execMode.startsWith（“seq”））proc.setExecutionMode（PipelineConstants。PIPELINE_SEQUENTIAL）; else if（execMode.startsWith（“para”））proc.setExecutionMode（PipelineConstants。PIPELINE_PARALLEL）; }</pre></div>
                        </li>
                        <li class="stepexpand"><span>实例化错误处理程序。错误处理程序必须实现<code class="codeph">PipelineErrorHandler</code>接口。该程序使用<code class="codeph">PipelineSampleErrHdler</code>显示的<code class="codeph">PipelineSampleErrHdlr.java</code> 。此代码片段显示了此技术：</span><div><pre class="oac_no_warn" dir="ltr">errHandler = new PipelineSampleErrHdlr（logname）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>通过调用<code class="codeph">setErrorHandler()</code>为处理器设置错误处理程序。该声明显示了这种技术：</span><div><pre class="oac_no_warn" dir="ltr">proc.setErrorHandler（errHandler）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>执行管道。该声明显示了这种技术：</span><div><pre class="oac_no_warn" dir="ltr">proc.executePipeline（）;</pre><div class="infoboxnotealso" id="GUID-8094F1B4-8834-4417-802E-A63555F193B6__GUID-6986C242-3F8F-40B2-8C2F-50197E392BDB">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API参考</cite></span></a> ，了解<code class="codeph">oracle.xml.pipeline</code>子包</p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19346"></a><a id="ADXDK19345"></a><div class="props_rev_3"><a id="GUID-5588D2AB-4904-4E0D-A6E9-B4E249DE1E77" name="GUID-5588D2AB-4904-4E0D-A6E9-B4E249DE1E77"></a><h4 id="ADXDK-GUID-5588D2AB-4904-4E0D-A6E9-B4E249DE1E77" class="sect4">编写管道错误处理程序</h4>
                  <div>
                     <p>调用XML Pipeline处理器的应用程序必须实现<code class="codeph">PipelineErrorHandler</code>接口来处理从处理器接收的错误。通过调用<code class="codeph">setErrorHandler()</code>在处理器中设置错误处理程序。编写错误处理程序时，您可以选择针对不同类型的错误抛出异常。
                     </p>
                     <div class="section">
                        <p><code class="codeph">oracle.xml.pipeline.controller.PipelineErrorHandler</code>接口声明<a href="using-XML-pipeline-processor-for-Java.html#GUID-5588D2AB-4904-4E0D-A6E9-B4E249DE1E77__CHDCGFIH" title="列出PipelineErrorHandler接口中的方法。">表19-6中</a>显示的方法，所有方法都返回<code class="codeph">void</code> 。
                        </p>
                        <div class="tblformalwide" id="GUID-5588D2AB-4904-4E0D-A6E9-B4E249DE1E77__CHDCGFIH">
                           <p class="titleintable">表19-6 PipelineErrorHandler方法</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="PipelineErrorHandler方法" width="100%" border="1" summary="Lists methods in the PipelineErrorHandler interface." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="64%" id="d72516e2791">方法</th>
                                    <th align="left" valign="bottom" width="36%" id="d72516e2794">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="64%" id="d72516e2799" headers="d72516e2791 ">
                                       <p><code class="codeph">错误（java.lang中。字符串消息，PipelineException e）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72516e2799 d72516e2794 ">
                                       <p>处理<code class="codeph">PipelineException</code>错误。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="64%" id="d72516e2810" headers="d72516e2791 ">
                                       <p><code class="codeph">fatalError（java.lang中。字符串消息，PipelineException e）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72516e2810 d72516e2794 ">
                                       <p>处理致命的<code class="codeph">PipelineException</code>错误。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="64%" id="d72516e2821" headers="d72516e2791 ">
                                       <p><code class="codeph">警告（java.lang中。字符串消息，PipelineException e）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72516e2821 d72516e2794 ">
                                       <p>处理<code class="codeph">PipelineException</code>警告。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="64%" id="d72516e2832" headers="d72516e2791 ">
                                       <p><code class="codeph">信息（java.lang中。字符串消息）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="36%" headers="d72516e2832 d72516e2794 ">
                                       <p>打印有关错误的可选附加信息。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a href="using-XML-pipeline-processor-for-Java.html#GUID-5588D2AB-4904-4E0D-A6E9-B4E249DE1E77__CHDCGFIH" title="Lists methods in the PipelineErrorHandler interface.">表19-6中</a>的前三个方法接收对<a href="using-XML-pipeline-processor-for-Java.html#GUID-5588D2AB-4904-4E0D-A6E9-B4E249DE1E77__CHDCGFIH" title="列出PipelineErrorHandler接口中的方法。">oracle.xml.pipeline.controller</a>的引用<code class="codeph">oracle.xml.pipeline.controller.PipelineException</code>对象。<code class="codeph">PipelineException</code>类的这些方法特别有用：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">getExceptionType()</code> ，它获取抛出的异常类型</p>
                           </li>
                           <li>
                              <p><code class="codeph">getProcessId()</code> ，它获取发生异常的进程ID</p>
                           </li>
                           <li>
                              <p><code class="codeph">getMessage()</code> ，返回此<code class="codeph">Throwable</code>错误的消息字符串</p>
                           </li>
                        </ul>
                        <p><code class="codeph">PipelineSampleErrHdler.java</code>源文件实现了一个用于<code class="codeph">PipelineSample</code>程序的基本错误处理程序。基本步骤是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>实现构造函数。构造函数接受日志文件的名称并将其包装在<code class="codeph">FileWriter</code>对象中：</span><div><pre class="oac_no_warn" dir="ltr">PipelineSampleErrHdlr（String logFile）抛出IOException {log = new PrintWriter（new FileWriter（logFile））; }</pre></div>
                        </li>
                        <li class="stepexpand"><span>实现<code class="codeph">error()</code>方法。此实现打印进程ID，异常类型和错误消息。它还会增加一个包含错误计数的变量。例如：</span><div><pre class="oac_no_warn" dir="ltr">public void error（String msg，PipelineException e）throws Exception {log.println（“\ n Error in：”+ e.getProcessId（））; log.println（“Type：”+ e.getExceptionType（））; log.println（“Message：”+ e.getMessage（））; log.println（“错误消息：”+ msg）; log.flush（）; errCount ++; }</pre></div>
                        </li>
                        <li class="stepexpand"><span>实现<code class="codeph">fatalError()</code>方法。此实现遵循<code class="codeph">error()</code>的模式。例如：</span><div><pre class="oac_no_warn" dir="ltr">public void fatalError（String msg，PipelineException e）抛出异常{log.println（“\ n &lt;nFatalError in：”+ e.getProcessId（））; log.println（“Type：”+ e.getExceptionType（））; log.println（“Message：”+ e.getMessage（））; log.println（“错误消息：”+ msg）; log.flush（）; errCount ++; }</pre></div>
                        </li>
                        <li class="stepexpand"><span>实现<code class="codeph">warning()</code>方法。此实现遵循<code class="codeph">error()</code>的基本模式，除了它增加<code class="codeph">warnCount</code>变量而不是<code class="codeph">errCount</code>变量。例如：</span><div><pre class="oac_no_warn" dir="ltr">public void warning（String msg，PipelineException e）抛出异常{log.println（“\ n警告：”+ e.getProcessId（））; log.println（“Message：”+ e.getMessage（））; log.println（“错误消息：”+ msg）; log.flush（）; warnCount ++; }</pre></div>
                        </li>
                        <li class="stepexpand"><span>实现<code class="codeph">info()</code>方法。与前面的方法不同，此方法不接收<code class="codeph">PipelineException</code>引用作为输入。此实现打印方法接收的<code class="codeph">String</code> ，并递增<code class="codeph">warnCount</code>变量的值：</span><div><pre class="oac_no_warn" dir="ltr">public void info（String msg）{log.println（“\ nInfo：”+ msg）; log.flush（）; warnCount ++; }</pre></div>
                        </li>
                        <li class="stepexpand"><span>实现关闭<code class="codeph">PrintWriter</code>的方法。此代码实现<code class="codeph">closeLog()</code>方法，该方法打印错误和警告的数量并调用<code class="codeph">PrintWriter.close()</code> ：</span><div><pre class="oac_no_warn" dir="ltr">public void closeLog（）{log.println（“\ nTotal Errors：”+ errCount +“\ nTotal Warnings：”+ warnCount）; log.flush（）; log.close（）; }</pre><div class="infoboxnotealso" id="GUID-5588D2AB-4904-4E0D-A6E9-B4E249DE1E77__GUID-4F0AC0EA-0B5B-4430-88E9-EA4CBBADEC16">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API参考</cite></span></a> ，了解<code class="codeph">PipelineErrorHandler</code>接口和<code class="codeph">PipelineException</code>类</p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>