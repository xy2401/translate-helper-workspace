<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>配置Oracle Connection Manager</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Net Services Administrator&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Net Services Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="net-services-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-24T04:25:53-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96313-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-and-administering-oracle-net-listener.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-shared-server-architecture.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Net Services Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="NETAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-and-administering-oracle-net-listener.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-shared-server-architecture.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">网络服务管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-config-and-admin-of-oracle-net-services.html" property="item" typeof="WebPage"><span property="name">Oracle Net Services的配置和管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置Oracle Connection Manager</li>
            </ol>
            <a id="GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4" name="GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4"></a><a id="NETAG011"></a>
            
            <h2 id="NETAG-GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4" class="sect2"><span class="enumeration_chapter">10</span>配置Oracle Connection Manager</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Connection Manager是一个<a id="d30937e45" class="indexterm-anchor"></a> <a href="glossary.html#GUID-F16B648D-3DED-48CF-9B3C-AD5D0963BA9E"><span class="xrefglossterm">代理服务器</span></a> ，用于将连接请求转发到数据库或其他代理服务器。它在会话级别上运行。它通常驻留在与数据库服务器和客户端计算机分开的计算机上。Oracle Connection Manager可与Oracle Database 12 <span class="italic">c</span>企业版一起安装。它是客户端磁盘上的自定义安装选项。
               </p>
               <p>Oracle Connection Manager的主要功能是：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>访问控制：使用基于规则的配置来过滤用户指定的客户端请求并接受其他请求。</p>
                  </li>
                  <li>
                     <p>会话多路复用：通过与<a href="glossary.html#GUID-1217C512-0795-497A-BE6B-13D8E18E08CA"><span class="xrefglossterm">共享服务器</span></a>目标的网络连接来汇集多个客户端会话。
                     </p>
                  </li>
               </ul>
               <p>了解如何配置Oracle Connection Manager功能。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-E599547C-2AE3-4383-93A4-DC45C707467D">关于cman.ora文件</a><br></li>
                  <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-B4C6B1DC-7A17-4C6D-B8E0-B559926A20D1">如何配置Oracle Connection Manager</a><br></li>
                  <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84">使用Oracle Connection Manager作为IPv4和IPv6的桥梁</a><br></li>
                  <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-E1A7D32F-E386-4964-AB90-DADB7B92ED71">使用Oracle Connection Manager控制实用程序管理Oracle Connection Manager</a><br></li>
                  <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-18E96DB7-00D4-44C6-B541-0B61B488A2DF">关于在Traffic Director模式下使用Oracle Connection Manager</a><br>Traffic Director Mode中的Oracle Connection Manager是一个放置在支持的数据库客户端和数据库实例之间的代理。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-9009A638-7335-49C0-9C64-3EBBEE17F1A9">Oracle Connection Manager增强功能</a><br></li>
               </ul>
               <div class="infoboxnotealso" id="GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4__GUID-5F44ED77-64B5-474C-B555-0FA4E1C505ED">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="introducing-oracle-net-services.html#GUID-7A30E150-8CB3-44BA-8966-FC8F28C1638B">介绍Oracle Net Services</a>以了解Oracle Connection Manager概念</p>
                     </li>
                     <li>
                        <p><a href="understanding-communication-layers.html#GUID-E526745C-2F76-46F0-9365-99EA762949C6">了解通信层</a>以获取Oracle Connection Manager的体系结构概述</p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part-II-config-and-admin-of-oracle-net-services.html#GUID-18C53DE7-28A6-4D01-AEA4-56A5F42B1B2A">Oracle Net Services的配置和管理</a></p>
                  </div>
               </div>
            </div>
            <a id="NETAG1165"></a><a id="NETAG1167"></a><a id="NETAG1582"></a><div class="sect2"><a id="GUID-E599547C-2AE3-4383-93A4-DC45C707467D" name="GUID-E599547C-2AE3-4383-93A4-DC45C707467D"></a><h3 id="NETAG-GUID-E599547C-2AE3-4383-93A4-DC45C707467D" class="sect3"><span class="enumeration_section">10.1</span>关于cman.ora文件</h3>
               <div>
                  <p>您可以通过在中设置参数来配置承载Oracle Connection Manager的计算机<a id="d30937e182" class="indexterm-anchor"></a> <code class="codeph">cman.ora</code>文件。<code class="codeph">cman.ora</code>文件驻留在托管Oracle Connection Manager的计算机上，位于<code class="codeph">ORACLE_HOME/network/admin</code>目录中。如果<code class="codeph">cman.ora</code>文件不存在，Oracle Connection Manager将无法启动。该文件包含以下组件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>听力端点</p>
                     </li>
                     <li>
                        <p>访问控制规则列表</p>
                     </li>
                     <li>
                        <p>参数列表</p>
                     </li>
                  </ul>
                  <p>每个Oracle Connection Manager配置都封装在一个名称 - 值（NV）字符串中，该字符串由前面的组件组成。</p>
                  <p>一台计算机可以托管任意数量的Oracle连接管理器，每个管理器在<code class="codeph">cman.ora</code>文件中都有自己的条目。在文件中定义多个Oracle Connection Manager时，可以通过仅提供一个完全限定的主机名来指定默认值。
                  </p>
                  <p>您可以为客户端和Oracle Connection Manager控制实用程序（CMCTL）连接指定多个规则。进行更改时，以下准则适用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您必须至少输入一个客户端连接规则和一个CMCTL连接规则。省略规则会导致拒绝所有连接。</p>
                     </li>
                     <li>
                        <p>Oracle Connection Manager不支持部分IP地址的通配符。如果使用通配符，则使用它代替完整的IP地址。客户端的IP地址可以是例如（ <code class="codeph">SRV=*</code> ）。
                        </p>
                     </li>
                     <li>
                        <p>Oracle Connection Manager仅支持子网地址的<code class="codeph">/nn</code>表示法。在<a href="configuring-oracle-connection-manager.html#GUID-E599547C-2AE3-4383-93A4-DC45C707467D__CDCHICGC">示例10-1中</a> ，在第一规则中， <code class="codeph">/24</code>表示包括24个最左位的子网掩码。仅将客户端IP地址中的前24位与规则中的IP地址进行比较。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-E599547C-2AE3-4383-93A4-DC45C707467D__GUID-3D79DBDB-3CEB-4C61-A207-7A4B5999393E">
                     <p class="notep1">注意：</p>
                     <p>Oracle Connection Manager支持IPv6寻址。请参阅<span class="q">“ <a href="configuring-oracle-connection-manager.html#GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84">将Oracle Connection Manager用作IPv4和IPv6的桥接</a> ”</span> 。
                     </p>
                  </div>
                  <p><a href="configuring-oracle-connection-manager.html#GUID-E599547C-2AE3-4383-93A4-DC45C707467D__CDCHICGC">例10-1</a>显示了一个<code class="codeph">cman.ora</code>文件，其中包含一个名为<code class="codeph">CMAN1</code>的Oracle连接管理器的配置条目。
                  </p>
                  <div class="example" id="GUID-E599547C-2AE3-4383-93A4-DC45C707467D__CDCHICGC">
                     <p class="titleinexample">例10-1示例cman.ora文件</p><pre class="oac_no_warn" dir="ltr">CMAN1 =（CONFIGURATION =（ADDRESS =（PROTOCOL = tcp）（HOST = proxysvr）（PORT = 1521））（RULE_LIST =（RULE =（SRC = 192.0.2.32 / 24）（DST =销售服务器）（SRV = * ）（ACT =接受）（ACTION_LIST =（AUT = on）（MCT = 120）（MIT = 30）））（RULE =（SRC = 192.0.2.32）（DST = proxysvr）（SRV = cmon）（ACT =接受） ）））（PARAMETER_LIST =（MAX_GATEWAY_PROCESSES = 8）（MIN_GATEWAY_PROCESSSES = 3）））</pre></div>
                  <!-- class="example" -->
                  <p><a href="configuring-oracle-connection-manager.html#GUID-E599547C-2AE3-4383-93A4-DC45C707467D__CDCHICGC">例10-1</a>显示了以下规则：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在示例的第一个规则中，设置了以下参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SRC=192.0.2.32/24</code>用于客户端连接。它指定客户端或源的IP地址。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DST=sales-server</code>指定目标主机名。ACT参数指定操作，即接受，拒绝或删除。ACTION_LIST <a id="d30937e278" class="indexterm-anchor"></a><a id="d30937e280" class="indexterm-anchor"></a>参数设置连接的属性（如果已接受），使您可以逐个连接覆盖默认参数设置。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>在第二个规则中，设置以下参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SRC=192.0.2.32</code>和<code class="codeph">DST=proxysvr</code>表示同一服务器，表示Oracle Connection Manager和CMCTL必须位于同一台计算机上。
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-E599547C-2AE3-4383-93A4-DC45C707467D__GUID-EE0407B9-7D66-477D-AB2B-0816A79CEEE2">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="configuring-oracle-connection-manager.html#GUID-A2467AF0-7C0C-4D6C-946B-6EFF9FF8907E">启用访问控制</a> ”</span></p>
                        </div>
                     </li>
                  </ul>
                  <p><a href="configuring-oracle-connection-manager.html#GUID-E599547C-2AE3-4383-93A4-DC45C707467D__G498966" title="规则级参数">表10-1</a>介绍了<code class="codeph">cman.ora</code>文件中的规则级参数。
                  </p>
                  <div class="tblformal" id="GUID-E599547C-2AE3-4383-93A4-DC45C707467D__G498966">
                     <p class="titleintable">表10-1 cman.ora文件中的规则级参数</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="cman.ora文件中的规则级参数" width="100%" border="1" summary="Rule-Level Parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d30937e325">参数</th>
                              <th align="left" valign="bottom" width="69%" id="d30937e328">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d30937e333" headers="d30937e325 ">
                                 <p>SRC</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d30937e333 d30937e328 ">
                                 <p>客户端的源主机名或IP地址。IP地址可以是子网，例如<code class="codeph">192.0.2.62/24</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d30937e343" headers="d30937e325 ">
                                 <p>DST</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d30937e343 d30937e328 ">
                                 <p>数据库服务器的目标主机名或IP地址。IP地址可以是子网，例如<code class="codeph">192.0.2.62/24</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d30937e353" headers="d30937e325 ">
                                 <p>SRV</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d30937e353 d30937e328 ">
                                 <p>从初始化参数文件（ <code class="codeph">init.ora</code> ）中的SERVICE_NAMES参数获取的Oracle数据库的服务名称。
                                 </p>
                                 <p>当连接到侦听器时，服务名称由客户端作为连接描述符的一部分给出。此服务名称将与规则列表中指定的服务名称进行比较。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d30937e365" headers="d30937e325 ">
                                 <p>法案</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d30937e365 d30937e328 ">
                                 <p>根据前面的三个参数接受，拒绝或丢弃传入的请求。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>您可以在RULE_LIST中定义多个规则。第一个匹配的<code class="codeph">RULE</code>的动作（ <code class="codeph">ACT</code> ）应用于连接请求。如果未定义任何规则，则拒绝所有连接。
                  </p>
                  <p>在以下示例中，拒绝客户端计算机<code class="codeph">client1-pc</code>访问服务<code class="codeph">sales.us.example.com</code> ，但客户端<code class="codeph">192.0.2.45</code>被授予对服务<code class="codeph">db1</code>访问权限。
                  </p><pre class="oac_no_warn" dir="ltr">（RULE_LIST =（RULE =（SRC = client1-pc）（DST = sales-server）（SRV = sales.us.example.com）（ACT =拒绝））（RULE =（SRC = 192.0.2.45）（DST = 192.0.2.200）（SRV = DB1）（ACT =接受）））</pre></div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E599547C-2AE3-4383-93A4-DC45C707467D__GUID-DD023156-4043-43D4-851D-AA99B638D9DB">
                     <p class="notep1">也可以看看：</p>
                     <p> 有关Oracle Connection Manager参数的其他信息，请<a href="../netrf/oracle-connection-manager-parameters.html#NETRF-GUID-B9A10876-DF34-4994-9843-FC9D983317A9" target="_blank"><span class="italic">参见Oracle数据库网络服务参考</span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4">配置Oracle Connection Manager</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG1555"></a><a id="NETAG1556"></a><a id="NETAG1557"></a><a id="NETAG310"></a><div class="sect2"><a id="GUID-B4C6B1DC-7A17-4C6D-B8E0-B559926A20D1" name="GUID-B4C6B1DC-7A17-4C6D-B8E0-B559926A20D1"></a><h3 id="NETAG-GUID-B4C6B1DC-7A17-4C6D-B8E0-B559926A20D1" class="sect3"><span class="enumeration_section">10.2</span>如何配置Oracle Connection Manager</h3>
               <div>
                  <p>要配置Oracle Connection Manager，您必须配置代理服务器，数据库和客户端。以下主题描述了一般过程：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-3A8BC060-2CB7-4092-B6CB-636FC604D753">为Oracle Connection Manager主机配置cman.ora文件</a><br></li>
                     <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-A37427A9-8D37-42E8-980B-4A76C210616C">为Oracle Connection Manager配置客户端</a><br></li>
                     <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-FC03FA50-05E7-4A38-972B-242DF9E40392">为Oracle Connection Manager配置Oracle数据库服务器</a><br></li>
                     <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4">配置Oracle Connection Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="NETAG311"></a><div class="sect3"><a id="GUID-3A8BC060-2CB7-4092-B6CB-636FC604D753" name="GUID-3A8BC060-2CB7-4092-B6CB-636FC604D753"></a><h4 id="NETAG-GUID-3A8BC060-2CB7-4092-B6CB-636FC604D753" class="sect4"><span class="enumeration_section">10.2.1</span>配置Oracle Connection Manager主机的cman.ora文件</h4>
                  <div>
                     <p>您手动更改<code class="codeph">cman.ora</code>文件。以下过程介绍了如何在<code class="codeph">cman.ora</code>文件中设置参数：</p>
                     <ol>
                        <li>
                           <p>导航到<a id="d30937e562" class="indexterm-anchor"></a> <code class="codeph">ORACLE_HOME/network/admin</code>目录中的<code class="codeph">cman.ora</code>文件。
                           </p>
                        </li>
                        <li>
                           <p>使用文本编辑器打开<code class="codeph">cman.ora</code>文件。
                           </p>
                        </li>
                        <li>
                           <p>配置侦听端点（ADDRESS）。</p>
                           <p>侦听端点指定Oracle Connection Manager侦听器的协议地址。Oracle连接管理器监控进程CMON使用此地址向侦听器注册有关网关进程的信息。数据库使用该地址在Oracle Connection Manager节点上注册服务信息。</p>
                           <p>Oracle Connection Manager侦听器始终侦听TCP / IP协议。</p><pre class="oac_no_warn" dir="ltr"><a id="d30937e586" class="indexterm-anchor"></a><a id="d30937e588" class="indexterm-anchor"></a> （ADDRESS =（PROTOCOL = TCP）（HOST = proxysvr）（PORT = 1521））</pre><div class="infoboxnote" id="GUID-3A8BC060-2CB7-4092-B6CB-636FC604D753__GUID-24EF6939-4119-4C4E-86E4-E0952F6B747D">
                              <p class="notep1">注意：</p>
                              <p>Oracle Connection Manager可以使用TCP / IP（版本4和版本6）等协议连接到数据库。从Oracle Database 12 <span class="italic">c第</span> 2版（12.2）开始，还支持TCPS协议</p>
                           </div>
                        </li>
                        <li>
                           <p>配置访问控制规则列表（RULE_LIST）。</p>
                           <p>访问控制规则列表指定侦听器接受，拒绝或删除哪些连接。</p>
                        </li>
                        <li>
                           <p>配置参数列表（PARAMETER_LIST）。</p>
                           <p>参数列表设置Oracle Connection Manager的属性。参数采用以下形式：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果为global，则该参数适用于所有Oracle Connection Manager连接，除非规则级参数覆盖它。要更改全局参数默认设置，请使用允许值将其输入PARAMETER_LIST。</p>
                              </li>
                              <li>
                                 <p>如果在ACTION_LIST中启用了规则级参数<a id="d30937e618" class="indexterm-anchor"></a><a id="d30937e620" class="indexterm-anchor"></a> RULE_LIST的一部分，则它仅适用于规则指定的连接。它凌驾于全球同行之上。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-35D6C031-2F35-44FE-AA80-747777AE5AAF">在Oracle连接管理器（CMAN）上配置安全套接字层</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-A2467AF0-7C0C-4D6C-946B-6EFF9FF8907E">启用访问控制</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-B4C6B1DC-7A17-4C6D-B8E0-B559926A20D1">如何配置Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-35D6C031-2F35-44FE-AA80-747777AE5AAF" name="GUID-35D6C031-2F35-44FE-AA80-747777AE5AAF"></a><h5 id="NETAG-GUID-35D6C031-2F35-44FE-AA80-747777AE5AAF" class="sect5"><span class="enumeration_section">10.2.1.1</span>在Oracle Connection Manager（CMAN）上配置安全套接字层</h5>
                     <div>
                        <p><span class="bold">步骤1：确认已创建CMAN钱包并且其具有证书。</span></p>
                        <div class="p">在继续下一步之前，请确认已创建钱包并且其具有证书。执行以下步骤：<ol>
                              <li>
                                 <p>启动Oracle Wallet Manager。</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>在UNIX上：从<code class="codeph">$ORACLE_HOME/bin</code>输入以下命令：</p>
                                       <p><code class="codeph">OWM</code></p>
                                    </li>
                                    <li>
                                       <p>在Windows上：选择<span class="bold">开始</span> ，转到<span class="bold">程序</span> ，单击<span class="bold">Oracle- <span class="variable" translate="no">HOME_NAME</span></span> ，选择<span class="bold">集成管理工具</span> ，然后单击<span class="bold">电子钱包管理器</span> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>从电子钱包菜单中，选择<span class="bold">打开</span> 。
                                 </p>
                                 <p>钱包应包含具有就绪状态的证书并启用自动登录。如果未启用自动登录，请从电子钱包菜单中选择它并再次保存钱包。这会打开自动登录。</p>
                              </li>
                           </ol>
                        </div>
                        <p><span class="bold">步骤2：创建使用TCP / IP和SSL（TCPS）的侦听端点，并在cman.ora中指定CMAN端的CMAN钱包位置。</span></p>
                        <p>以下示例显示<code class="codeph">cman.ora</code>带有<code class="codeph">TCPS</code>协议的<code class="codeph">cman.ora</code> ：</p><pre class="pre codeblock"><code>CMAN_1 =（CONFIGURATION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcps）（HOST = proxysvr）（PORT = 1522））（ADDRESS =（PROTOCOL = tcp）（HOST = proxysvr）（PORT = 1523）））（RULE_LIST = （RULE =（SRC = *）（DST = *）（SRV = *）（ACT = accept）））（PARAMETER_LIST =（MAX_GATEWAY_PROCESSES = 8）（MIN_GATEWAY_PROCESSSES = 3）））wallet_location =（SOURCE =（METHOD = File） （METHOD_DATA =（DIRECTORY = wallet_location）））</code></pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3A8BC060-2CB7-4092-B6CB-636FC604D753">为Oracle Connection Manager主机配置cman.ora文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG321"></a><div class="sect4"><a id="GUID-A2467AF0-7C0C-4D6C-946B-6EFF9FF8907E" name="GUID-A2467AF0-7C0C-4D6C-946B-6EFF9FF8907E"></a><h5 id="NETAG-GUID-A2467AF0-7C0C-4D6C-946B-6EFF9FF8907E" class="sect5"><span class="enumeration_section">10.2.1.2</span>启用访问控制</h5>
                     <div>
                        <p>使用RULE_LIST参数控制客户端对TCP / IP环境中指定数据库服务器的访问。通过在此参数下输入过滤规则，您可以允许或限制特定客户端对数据库服务器的访问。</p>
                        <p>以下过程介绍了如何配置访问控制：</p>
                        <ol>
                           <li>
                              <p>使用文本编辑器打开<code class="codeph">cman.ora</code>文件。
                              </p>
                           </li>
                           <li>
                              <p>更新RULE_LIST <a id="d30937e854" class="indexterm-anchor"></a><a id="d30937e860" class="indexterm-anchor"></a>参数使用以下格式：</p><pre class="oac_no_warn" dir="ltr">（RULE_LIST =（RULE =（SRC = <span class="italic"><code class="codeph">source_host</code></span> ）（DST = <span class="italic"><code class="codeph">destination_host</code></span> ）（SRV = <span class="italic"><code class="codeph">service</code></span> ）（ACT =接受|拒绝）））</pre><div class="infoboxnotealso" id="GUID-A2467AF0-7C0C-4D6C-946B-6EFF9FF8907E__GUID-3754D187-D9B9-4DFD-ACAF-E2401CF64991">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="configuring-oracle-connection-manager.html#GUID-E599547C-2AE3-4383-93A4-DC45C707467D__G498966" title="规则级参数">表10-1</a></p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3A8BC060-2CB7-4092-B6CB-636FC604D753">为Oracle Connection Manager主机配置cman.ora文件</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="NETAG315"></a><div class="sect3"><a id="GUID-A37427A9-8D37-42E8-980B-4A76C210616C" name="GUID-A37427A9-8D37-42E8-980B-4A76C210616C"></a><h4 id="NETAG-GUID-A37427A9-8D37-42E8-980B-4A76C210616C" class="sect4"><span class="enumeration_section">10.2.2</span>配置Oracle Connection Manager的客户端</h4>
                  <div>
                     <p>要通过Oracle Connection Manager将客户端路由到数据库服务器，请使用指定Oracle Connection Manager协议地址的<a href="glossary.html#GUID-1662D2D4-17E4-4C1B-8150-0A9AC1588932"><span class="xrefglossterm">连接描述符</span></a>配置<code class="codeph">tnsnames.ora</code>文件。此地址使客户端能够连接到Oracle Connection Manager计算机。连接描述符类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">sales =（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = cman-pc）（PORT = 1521））（CONNECT_DATA =（SERVICE_NAME = example.com）））</pre><p>以下过程介绍了如何为Oracle Connection Manager配置协议地址：</p>
                     <ol>
                        <li>
                           <p>启动Oracle Net Manager。</p>
                           <div class="infoboxnotealso" id="GUID-A37427A9-8D37-42E8-980B-4A76C210616C__GUID-8A593287-3722-4F71-A029-522C11CC75AA">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="managing-oracle-net-services.html#GUID-2294BF67-B05F-44A2-9584-6CF0855A0F56">使用Oracle Net Manager配置Oracle Net服务</a> ”</span></p>
                           </div>
                        </li>
                        <li>
                           <p>在导航器窗格中，从“目录”或“本地”菜单中选择“ <span class="bold">服务命名”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>单击工具栏上的加号（+），或从“编辑”菜单中选择“ <span class="bold">创建</span> ”。
                           </p>
                           <p>将出现“网络服务名称”向导的“欢迎”页面。</p>
                        </li>
                        <li>
                           <p>在“网络服务名称”字段中输入名称。</p>
                        </li>
                        <li>
                           <p>单击<span class="bold">下一步</span> 。
                           </p>
                           <p>出现“协议”页面。</p>
                        </li>
                        <li>
                           <p>选择Oracle Connection Manager的TCP / IP协议。</p>
                        </li>
                        <li>
                           <p>单击<span class="bold">下一步</span> 。
                           </p>
                           <p>将出现“协议设置”页面。</p>
                        </li>
                        <li>
                           <p>指定Oracle Connection Manager端口和协议。Oracle Connection Manager的默认端口号为1521，协议为TCP / IP。</p>
                           <div class="infoboxnotealso" id="GUID-A37427A9-8D37-42E8-980B-4A76C210616C__GUID-F1CD4846-C3CD-4D67-833D-99958603A27D">
                              <p class="notep1">也可以看看：</p>
                              <p> 协议参数设置的<a href="../netrf/protocol-address-configuration.html#NETRF-GUID-71A0702F-A5C6-4122-907D-5E9BFA1DCE45" target="_blank"><span class="italic">Oracle数据库网络服务参考</span></a></p>
                           </div>
                        </li>
                        <li>
                           <p>单击<span class="bold">下一步</span> 。
                           </p>
                           <p>将显示“服务”页面。</p>
                        </li>
                        <li>
                           <p>在“ <span class="bold">服务名称”</span>字段中输入<span class="bold">服务名称</span> ，然后选择连接类型。
                           </p>
                           <div class="infoboxnotealso" id="GUID-A37427A9-8D37-42E8-980B-4A76C210616C__GUID-0FF9715C-8A0C-4B50-AE4F-1CA300F068C1">
                              <p class="notep1">也可以看看：</p>
                              <p>有关设置服务名称字符串的其他信息，请参阅<span class="q">“ <a href="identifying-and-accessing-database.html#GUID-8D28E91B-CB72-4DC8-AEFC-F5D583626CF6">关于连接描述符</a> ”</span></p>
                           </div>
                        </li>
                        <li>
                           <p>单击<span class="bold">下一步</span> 。
                           </p>
                           <div class="infoboxnote" id="GUID-A37427A9-8D37-42E8-980B-4A76C210616C__GUID-8CC628F4-1E79-4EAD-A82E-F0816B94BC82">
                              <p class="notep1">注意：</p>
                              <p>不要单击“ <span class="bold">测试”</span> ，因为此时无法<span class="bold">测试</span>连接。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>单击“ <span class="bold">完成”</span>以保存配置并关闭“网络服务名称”向导。
                           </p>
                           <p>新的网络服务名称和Oracle Connection Manager协议地址将添加到“服务命名”文件夹中。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-B4C6B1DC-7A17-4C6D-B8E0-B559926A20D1">如何配置Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="NETAG316"></a><div class="sect3"><a id="GUID-FC03FA50-05E7-4A38-972B-242DF9E40392" name="GUID-FC03FA50-05E7-4A38-972B-242DF9E40392"></a><h4 id="NETAG-GUID-FC03FA50-05E7-4A38-972B-242DF9E40392" class="sect4"><span class="enumeration_section">10.2.3</span>为Oracle Connection Manager配置Oracle数据库服务器</h4>
                  <div>
                     <p>配置数据库服务器涉及使用Oracle Connection Manager远程注册数据库信息，以及（可选）配置服务器以进行多路复用。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-9E6A55D0-1030-4F44-BB3F-17A30F741970">配置服务注册以与Oracle Connection Manager配合使用</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-69E3AA3F-FA05-4E94-9DD4-10A6E5C834F2">为Oracle Connection Manager启用会话多路复用</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-B4C6B1DC-7A17-4C6D-B8E0-B559926A20D1">如何配置Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="NETAG317"></a><div class="sect4"><a id="GUID-9E6A55D0-1030-4F44-BB3F-17A30F741970" name="GUID-9E6A55D0-1030-4F44-BB3F-17A30F741970"></a><h5 id="NETAG-GUID-9E6A55D0-1030-4F44-BB3F-17A30F741970" class="sect5"><span class="enumeration_section">10.2.3.1</span>配置与Oracle Connection Manager一起使用的服务注册</h5>
                     <div>
                        <p>要使数据库服务器与Oracle Connection Manager通信， <code class="codeph">tnsnames.ora</code>文件必须包含服务名称条目，初始化参数文件<code class="codeph">(init.ora)</code>必须包含指定Oracle Connection Manager的侦听地址的描述符。以下过程介绍了如何配置服务注册：</p>
                        <ol>
                           <li>
                              <p>将Oracle Connection Manager别名解析为<code class="codeph">tnsnames.ora</code>文件中的服务名称条目，如下所示：</p><pre class="oac_no_warn" dir="ltr"><span class="italic"><code class="codeph">cman_listener_address</code></span> =（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCL = tcp）（HOST = <span class="italic"><code class="codeph">proxy_server_name</code></span> ）（PORT = 1521））））</pre><p>例如，别名<code class="codeph">listener_cman</code>将解析为<code class="codeph">tnsnames.ora</code>文件中的以下条目：</p><pre class="oac_no_warn" dir="ltr">listener_cman =（DESCRIPTION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcp）（HOST = proxyserver1）（PORT = 1521））））</pre></li>
                           <li>
                              <p>在<code class="codeph">init.ora</code>文件中为Oracle Connection Manager指定别名，如下所示。此别名是步骤1中<code class="codeph">tnsnames.ora</code>文件中指定的别名。
                              </p><pre class="oac_no_warn" dir="ltr">REMOTE_LISTENER = <span class="italic"><code class="codeph">cman_listener_address</code></span>
</pre><p>必须指定别名，因为此地址是TCP，端口1521但它不是TCP的默认本地侦听地址，即数据库服务器的端口1521。</p>
                              <p>例如，在步骤1中指定的主机<code class="codeph">proxyserver1</code>上运行的Oracle Connection Manager侦听器的别名可能类似于<code class="codeph">init.ora</code>文件中的以下内容：</p><pre class="oac_no_warn" dir="ltr">REMOTE_LISTENER = <code class="codeph">listener_cman</code>
</pre></li>
                           <li>
                              <p>如果数据库驻留在远程节点上，请在<code class="codeph">cman.ora</code>配置<code class="codeph">REGISTRATION_INVITED_NODES</code> 。例如：</p>
                              <p><code class="codeph">（registration_invited_nodes = sales.us.example.com，10.245.129.60）</code></p>
                           </li>
                           <li>
                              <p>初始化参数文件配置了Oracle Connection Manager的别名后， <a id="d30937e1306" class="indexterm-anchor"></a>监听器注册（LREG）进程可以使用Oracle Connection Manager侦听器注册数据库信息。使用以下命令注册更改：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM REGISTER</pre></li>
                        </ol>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9E6A55D0-1030-4F44-BB3F-17A30F741970__GUID-51637C89-E7CF-47E4-80D8-D99452A06BBA">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-09139A19-5265-4216-9054-3237B225E09D">使用远程监听器注册信息</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-FC03FA50-05E7-4A38-972B-242DF9E40392">为Oracle Connection Manager配置Oracle数据库服务器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="NETAG1166"></a><a id="NETAG320"></a><div class="sect4"><a id="GUID-69E3AA3F-FA05-4E94-9DD4-10A6E5C834F2" name="GUID-69E3AA3F-FA05-4E94-9DD4-10A6E5C834F2"></a><h5 id="NETAG-GUID-69E3AA3F-FA05-4E94-9DD4-10A6E5C834F2" class="sect5"><span class="enumeration_section">10.2.3.2</span>为Oracle Connection Manager启用会话多路复用</h5>
                     <div>
                        <p>要使Oracle Connection Manager能够利用会话多路复用，请使用<code class="codeph">PROTOCOL</code>和<code class="codeph">MULTIPLEX</code>属性在初始化参数文件（ <code class="codeph">init.ora</code> ）中设置DISPATCHERS参数，类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">DISPATCHERS = “（PROTOCOL = TCP）（MULTIPLEX = ON）”</pre><p><a href="configuring-oracle-connection-manager.html#GUID-69E3AA3F-FA05-4E94-9DD4-10A6E5C834F2__G498668" title="会话多路复用参数">表10-2</a>列出了设置不同复用级别的参数。
                        </p>
                        <div class="tblformal" id="GUID-69E3AA3F-FA05-4E94-9DD4-10A6E5C834F2__G498668">
                           <p class="titleintable">表10-2会话复用参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="会话多路复用参数" width="100%" border="1" summary="Session Multiplexing Parameters" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d30937e1438">属性</th>
                                    <th align="left" valign="bottom" width="71%" id="d30937e1441">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d30937e1446" headers="d30937e1438 ">
                                       <p>协议</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d30937e1446 d30937e1441 ">
                                       <p>调度程序为其生成侦听端点的网络协议。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d30937e1453" headers="d30937e1438 ">
                                       <p>MULTIPLEX</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d30937e1453 d30937e1441 ">
                                       <p>此参数用于启用会话多路复用，如下所示：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>如果指定了<code class="codeph">1</code> ， <code class="codeph">on</code> ， <code class="codeph">yes</code> ， <code class="codeph">true</code>或<code class="codeph">both</code> ，则为传入和传出网络会话启用多路复用。
                                             </p>
                                          </li>
                                          <li>
                                             <p>如果指定了<code class="codeph">in</code>则为来自客户端的传入网络会话启用多路复用。
                                             </p>
                                          </li>
                                          <li>
                                             <p>如果指定<code class="codeph">out</code> ，则为传出网络会话启用多路复用。
                                             </p>
                                          </li>
                                          <li>
                                             <p>如果指定了<code class="codeph">0</code> ， <code class="codeph">off</code> ， <code class="codeph">no</code>或<code class="codeph">false</code> ，则对传入和传出网络会话都禁用多路复用。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-69E3AA3F-FA05-4E94-9DD4-10A6E5C834F2__GUID-3AA5DCEC-DE60-466C-B0CA-DBF479A9AF2F">
                           <p class="notep1">也可以看看：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-shared-server-architecture.html#GUID-CAF99423-AFB9-4141-A36B-5EAF6B2CA7C0">配置共享服务器体系结构</a>的其他信息有关配置共享服务器</p>
                              </li>
                              <li>
                                 <p><a href="../netrf/index.html" target="_blank"><span class="italic">Oracle数据库网络服务参考</span></a> ，以获取参数及其默认值和允许值的完整列表</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-FC03FA50-05E7-4A38-972B-242DF9E40392">为Oracle Connection Manager配置Oracle数据库服务器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8" name="GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8"></a><h4 id="NETAG-GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8" class="sect4"><span class="enumeration_section">10.2.4</span>在Traffic Director模式下配置Oracle Connection Manager</h4>
                  <div>
                     <p>流量控制器模式中的Oracle连接管理器是放置在数据库客户端和数据库实例之间的代理。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-41BD3DBB-2467-4819-96AA-21E262416F50">在流量控制器模式下为Oracle Connection Manager配置cman.ora文件</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-83B2C58E-0C37-4397-AEFE-FF2B3C81E00C">在Traffic Director模式代理身份验证中为Oracle Connection Manager配置钱包</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-58847B76-3836-41DB-9EB6-A81D5C397024">在Traffic Director模式代理身份验证中为Oracle Connection Manager配置数据库</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-CBCD6492-9C7A-4E00-A0DC-808C5F7CA383">在Traffic Director模式下使用Oracle Connection Manager配置服务注册</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-15756B12-5ED5-4EDE-9D4B-6B890D5BE9AF">在流量控制器模式下在Oracle Connection Manager中配置代理驻留连接池</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-96FA23BA-F32B-4D47-9CBB-69D27E8D94F6">在流量控制器模式下为未计划事件配置Oracle Connection Manager</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-E73658E7-BBF7-4C13-AAD5-70D32062AD8D">在流量控制器模式下为计划的关闭事件配置Oracle Connection Manager</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-0F9EB7CE-108A-45BD-993B-A165F15C4AF0">在流量控制器模式下在Oracle Connection Manager上配置安全套接字层</a><br></li>
                        <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-FC833F8F-CE5A-4C02-A962-244954158853">流量控制器模式限制中的Oracle连接管理器</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-B4C6B1DC-7A17-4C6D-B8E0-B559926A20D1">如何配置Oracle Connection Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-41BD3DBB-2467-4819-96AA-21E262416F50" name="GUID-41BD3DBB-2467-4819-96AA-21E262416F50"></a><h5 id="NETAG-GUID-41BD3DBB-2467-4819-96AA-21E262416F50" class="sect5"><span class="enumeration_section">10.2.4.1</span>在流量控制器模式下为Oracle Connection Manager配置cman.ora文件</h5>
                     <div>
                        <p>必须在<code class="codeph">cman.ora</code>文件中设置<code class="codeph">TDM = YES</code>才能在Traffic Director模式下设置Oracle Connection Manager。
                        </p>
                        <div class="example" id="GUID-41BD3DBB-2467-4819-96AA-21E262416F50__GUID-552E3587-9D91-4D63-BB18-8EDAFF6748F6">在Traffic Director模式下为Oracle Connection Manager示例<code class="codeph">cman.ora</code>配置</div>
                        <!-- class="example" --><pre class="oac_no_warn" dir="ltr">CMAN_1 =（CONFIGURATION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcp）（HOST = TDMHOST）（PORT = 1522）））（RULE_LIST =（RULE =（SRC = *）（DST = *）（SRV = *）（ ACT = accept）））（PARAMETER_LIST =（TDM = YES）（TDM_THREADING_MODE = DEDICATED）（MAX_GATEWAY_PROCESSES = 8）（MIN_GATEWAY_PROCESSSES = 3）））wallet_location =（SOURCE =（METHOD = File）（METHOD_DATA =（DIRECTORY = wallet_location）） ）SQLNET.WALLET_OVERRIDE = TRUE</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-83B2C58E-0C37-4397-AEFE-FF2B3C81E00C" name="GUID-83B2C58E-0C37-4397-AEFE-FF2B3C81E00C"></a><h5 id="NETAG-GUID-83B2C58E-0C37-4397-AEFE-FF2B3C81E00C" class="sect5"><span class="enumeration_section">10.2.4.2</span>在Traffic Director模式代理验证中为Oracle Connection Manager配置电子钱包</h5>
                     <div>
                        <p>流量控制器模式中的Oracle连接管理器使用必须使用<code class="codeph">cman.ora</code>文件配置的钱包连接到数据库。此钱包具有Oracle Connection Manager在Traffic Director模式中用于代理身份验证的<span class="variable" translate="no">tdm</span>用户的用户名和密码信息。此<span class="italic">tdm</span>用户必须存在于Traffic Director模式中的Oracle Connection Manager连接到的所有数据库上。
                        </p>
                        <div class="infoboxnotealso" id="GUID-83B2C58E-0C37-4397-AEFE-FF2B3C81E00C__GUID-E2BD4543-0E51-40C7-85F4-DA1E4B4552C8">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../dbimi/using-oracle-wallet-manager.html#DBIMI-GUID-D0AA8373-B0AC-4DD8-9FA9-403E345E5A71" target="_blank"><span><cite>Oracle数据库企业用户安全管理员指南</cite></span></a> 
                           </p>
                        </div>
                        <p>以下设置会导致流量控制器模式中Oracle Connection Manager的所有出站连接使用指定位置的钱包中的凭据进行代理身份验证：</p><pre class="pre codeblock"><code>WALLET_LOCATION =（SOURCE =（METHOD = FILE）（METHOD_DATA =（DIRECTORY = wallet_location）））SQLNET.WALLET_OVERRIDE = TRUE</code></pre><p>必须为每项服务配置钱包。如果添加了新服务，则必须使用相同的钱包提供新服务的凭据。</p>
                        <div class="infoboxnote" id="GUID-83B2C58E-0C37-4397-AEFE-FF2B3C81E00C__GUID-35CA0DCA-D091-408A-8B30-EBD58C9682D5">
                           <p class="notep1">注意：</p>每当添加新服务并将新服务的凭据添加到钱包时，都应重新启动Oracle Cloud Traffic Manager以使更改生效。
                        </div>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="configuring-oracle-connection-manager.html#GUID-A7FD6F49-D31E-4314-8CE3-DC6FA6381722">在Traffic Director模式下启用Oracle Connection Manager以使用外部密码存储</a><br></li>
                        </ul>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-oracle-connection-manager.html#GUID-58847B76-3836-41DB-9EB6-A81D5C397024">在Traffic Director模式代理身份验证中为Oracle Connection Manager配置数据库</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a></p>
                           </div>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-A7FD6F49-D31E-4314-8CE3-DC6FA6381722" name="GUID-A7FD6F49-D31E-4314-8CE3-DC6FA6381722"></a><h6 id="NETAG-GUID-A7FD6F49-D31E-4314-8CE3-DC6FA6381722" class="sect6"><span class="enumeration_section">10.2.4.2.1</span>在Traffic Director模式下启用Oracle Connection Manager以使用外部密码存储</h6>
                        <div>
                           <p><span class="bold">步骤1：使用命令行中的以下语法在Traffic Director模式下在Oracle Connection Manager上创建钱包：</span></p><pre class="pre codeblock"><code>mkstore -wrl <span class="italic">wallet_location -create</span></code></pre><p><code class="codeph"><span class="codeinlineitalic">wallet_location</span></code>是您要创建和存储钱包的目录的路径。此命令创建一个Oracle钱包，并在指定位置启用自动登录功能。自动登录功能使流量控制器模式下的Oracle连接管理器可以访问钱包内容而无需提供密码。
                           </p>
                           <div class="infoboxnotealso" id="GUID-A7FD6F49-D31E-4314-8CE3-DC6FA6381722__GUID-7D69C90C-43DE-4123-AA05-E388758EAC48">
                              <p class="notep1">也可以看看：</p>
                           </div>
                           <p><span class="bold">步骤2：在命令行中使用以下语法在钱包中创建数据库连接凭据：</span></p><pre class="pre codeblock"><code>mkstore -wrl <span class="italic">wallet_location</span> -createCredential <span class="italic">db_service_name</span> <span class="italic">用户名</span> <span class="italic">密码</span></code></pre><p><code class="codeph"><span class="codeinlineitalic">wallet_location</span></code>是您在步骤1中创建钱包的目录的路径。<code class="codeph"><span class="codeinlineitalic">db_service_name</span></code>是用于标识Oracle网络上的数据库的任何服务名称。<span class="variable" translate="no">username</span>和<span class="variable" translate="no">password</span>是数据库登录凭据。
                           </p>
                           <p>对于必须在Traffic Director模式下使用Oracle Connection Manager访问的每个数据库服务，重复此步骤。</p>
                           <div class="infoboxnote" id="GUID-A7FD6F49-D31E-4314-8CE3-DC6FA6381722__GUID-4F101E75-C2F3-483F-B380-E839C3343FC7">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>可以在给定数据库的所有服务中使用相同的<span class="variable" translate="no">tdm</span>用户。但是，如果需要，还可以为每个服务关联不同的<span class="variable" translate="no">tdm</span>用户。
                                    </p>
                                 </li>
                                 <li>
                                    <p>对于可插拔数据库（PDB）服务，设置<span class="italic">tdm</span>用户有两种选择：</p>
                                    <p>常见的<span class="italic">tdm</span>用户： <span class="italic">tdm</span>用户可以是普通用户，在这种情况下，流量控制器模式中的Oracle连接管理器使用一组凭据进行代理，以验证来自多租户容器数据库（CDB）中不同PDB的用户。
                                    </p>
                                    <p>每个PDB <span class="italic">tdm</span>用户： <span class="italic">tdm</span>用户可以是特定于PDB的用户，在这种情况下，流量控制器模式中的Oracle连接管理器使用特定于PDB的代理用户对特定PDB中的用户进行身份验证。</p>
                                 </li>
                                 <li>
                                    <p>对于具有<code class="codeph">SSL (TCPS)</code>配置的<code class="codeph">TCP/IP</code> ，已创建Traffic Director Mode钱包中的Oracle Connection Manager。如此，则跳过步骤1，并指定<code class="codeph"><span class="codeinlineitalic">wallet_location</span></code>在<code class="codeph">mkstore</code>作为用于相同的位置<code class="codeph">TCPS</code>配置。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-83B2C58E-0C37-4397-AEFE-FF2B3C81E00C">在Traffic Director模式代理身份验证中配置Oracle Connection Manager的Wallet</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-58847B76-3836-41DB-9EB6-A81D5C397024" name="GUID-58847B76-3836-41DB-9EB6-A81D5C397024"></a><h5 id="NETAG-GUID-58847B76-3836-41DB-9EB6-A81D5C397024" class="sect5"><span class="enumeration_section">10.2.4.3</span>在Traffic Director模式代理验证中为Oracle Connection Manager配置数据库</h5>
                     <div>
                        <p>应用程序通过Oracle Director Manager在Traffic Director模式下连接的每个数据库都必须有一个用户，例如<code class="codeph">tdm</code> 。流量控制器模式中的Oracle连接管理器使用代理身份验证，并以<code class="codeph">tdm</code>用户身份连接到数据库。必须通过流量控制器模式通过Oracle Connection Manager连接的所有用户都被授予<code class="codeph">CONNECT THROUGH</code> <span class="variable" translate="no">tdm</span>权限，如下所示：</p><pre class="pre codeblock"><code>ALTER用户SCOTT GRANT通过<span class="variable" translate="no">tdm</span>连接
</code></pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-CBCD6492-9C7A-4E00-A0DC-808C5F7CA383" name="GUID-CBCD6492-9C7A-4E00-A0DC-808C5F7CA383"></a><h5 id="NETAG-GUID-CBCD6492-9C7A-4E00-A0DC-808C5F7CA383" class="sect5"><span class="enumeration_section">10.2.4.4</span>在流量控制器模式下使用Oracle Connection Manager配置服务注册</h5>
                     <div>
                        <p>请参阅<a href="configuring-oracle-connection-manager.html#GUID-9E6A55D0-1030-4F44-BB3F-17A30F741970">配置服务注册以与Oracle Connection Manager配合使用</a> 。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-15756B12-5ED5-4EDE-9D4B-6B890D5BE9AF" name="GUID-15756B12-5ED5-4EDE-9D4B-6B890D5BE9AF"></a><h5 id="NETAG-GUID-15756B12-5ED5-4EDE-9D4B-6B890D5BE9AF" class="sect5"><span class="enumeration_section">10.2.4.5</span>在流量控制器模式下配置Oracle Connection Manager中的代理驻留连接池</h5>
                     <div>
                        <p>Traffic Director模式18.1中的Oracle Connection Manager支持代理驻留连接池（PRCP）。PRCP为使用连接池路由的大量客户端连接提供连接服务，该连接池包含与目标数据库的较少数量的服务器连接。PRCP可以减少数据库层上的连接负载（连接内存使用），还可以执行运行时负载平衡（RLB）以提供更好的性能。这有助于减少数据库上的连接负载。</p>
                        <div class="p">通过在<code class="codeph">oraaccess.xml</code>配置文件中指定以下参数集来配置代理驻留连接池。
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">&lt;session_pool&gt;</code> - 设置会话池参数。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;enable&gt;</code> - <code class="codeph">true</code>或<code class="codeph">false</code>以使会话池配置生效。它必须具有参数，这意味着如果配置了<code class="codeph">&lt;session_pool&gt;</code> ，则必须配置<code class="codeph">&lt;enable&gt;</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;min_size&gt;</code> - 池中的最小连接数。默认值为<code class="codeph">0</code> 。由于流量控制器模式中的Oracle连接管理器是异构池方案，因此将忽略所有其他值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;max_size&gt;</code> - 池中的最大连接数。没有默认参数，因为它是必须参数。这意味着如果配置了<code class="codeph">&lt;session_pool&gt;</code> ，则必须配置<code class="codeph">&lt;max_size&gt;</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;increment&gt;</code> - 池扩展时池中连接数的增加量。默认值为<code class="codeph">1</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;inactivity_timeout&gt;</code> - 连接在池中保持空闲的最长时间（以秒为单位），之后终止。默认值为<code class="codeph">0</code> 。这意味着没有限制。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;max_use_session&gt;</code> - 可以获取和释放连接到池的最大次数。默认值为<code class="codeph">0</code> 。这意味着没有限制。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">&lt;max_life_time_session&gt;</code> - 池中连接的生存时间（以秒为单位）。默认值为<code class="codeph">0</code> 。这意味着没有限制。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="p">使用<code class="codeph">oraaccess.xml</code>文件可以为每个所需的连接服务配置代理驻留连接池。以下示例显示了与其各自的配置别名<code class="codeph">sales_config</code>和<code class="codeph">hr_config</code>关联的两组连接参数，其中应用程序使用的每个连接字符串都使用其各自的配置别名进行映射，从而提供两个代理驻留连接池。<pre class="pre codeblock"><code>&lt;oraaccess xmlns =“http://xmlns.oracle.com/oci/oraaccess”xmlns：oci =“http://xmlns.oracle.com/oci/oraaccess”schemaLocation =“http://xmlns.oracle.com / oci / oraaccess http://xmlns.oracle.com/oci/oraaccess.xsd“&gt; &lt;default_parameters&gt; &lt;/ default_parameters&gt; &lt;！ - 创建配置描述，这些描述是与config_alias关联的连接参数组。- &gt; &lt;config_descriptions&gt; &lt;config_description&gt; &lt;config_alias&gt; sales_config &lt;/ config_alias&gt; &lt;parameters&gt; &lt;session_pool&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;min_size&gt; 10 &lt;/ min_size&gt; &lt;max_size&gt; 100 &lt;/ max_size&gt; &lt;increment&gt; 5 &lt;/ increment&gt; &lt;/ session_pool&gt; &lt;/ parameters&gt; &lt;/ config_description&gt; &lt;config_description&gt; &lt;config_alias&gt; hr_config &lt;/ config_alias&gt; &lt;parameters&gt; &lt;session_pool&gt; &lt;enable&gt; true &lt;/ enable&gt; &lt;max_size&gt; 10 &lt;/ max_size&gt; &lt;/ session_pool&gt; &lt;/ parameters&gt; &lt;/ config_description&gt; &lt;/ config_descriptions&gt; &lt;！ - 现在使用config_alias映射应用程序使用的连接字符串。- &gt; &lt;connection_configs&gt; &lt;connection_config&gt; &lt;connection_string&gt; sales.us.example.com &lt;/ connection_string&gt; &lt;config_alias&gt; sales_config &lt;/ config_alias&gt; &lt;/ connection_config&gt; &lt;connection_config&gt; &lt;connection_string&gt; hr.us.example.com &lt;/ connection_string&gt; &lt;config_alias&gt; hr_config &lt;/ config_alias&gt; &lt;/ connection_config&gt; &lt;/ connection_configs&gt; &lt;/ oraaccess&gt;</code></pre></div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-15756B12-5ED5-4EDE-9D4B-6B890D5BE9AF__GUID-BCE3D741-385E-4176-BC52-8122874735C6">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../netrf/oracle-connection-manager-parameters.html#NETRF-GUID-0DEF7475-4B6A-4984-B4C6-9C276C007B10" target="_blank"><span><cite>Oracle Database Net Services Reference中</cite></span></a>的Oracle CMAN配置文件概述</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-96FA23BA-F32B-4D47-9CBB-69D27E8D94F6" name="GUID-96FA23BA-F32B-4D47-9CBB-69D27E8D94F6"></a><h5 id="NETAG-GUID-96FA23BA-F32B-4D47-9CBB-69D27E8D94F6" class="sect5"><span class="enumeration_section">10.2.4.6</span>在流量控制器模式下为计划外事件配置Oracle Connection Manager</h5>
                     <div>
                        <p>流量控制器模式中的Oracle连接管理器隐式订阅快速应用程序通知（FAN）事件。对于此<code class="codeph">events</code>必须在<code class="codeph">oraaccess.xml.</code>启用<code class="codeph">oraaccess.xml.</code></p>
                        <p>使用<code class="codeph">DBMS_SERVICE</code>或<code class="codeph">SRVCTL</code> （对于Oracle RAC数据库）为此特定服务指定<code class="codeph">COMMIT_OUTCOME</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-96FA23BA-F32B-4D47-9CBB-69D27E8D94F6__GUID-5226FA77-5A55-4665-95B6-24AC8EEBCCF8">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">DBMS_SERVICE</code>信息，请<code class="codeph">DBMS_SERVICE</code> <a href="../arpls/DBMS_SERVICE.html#ARPLS-GUID-C11449DC-EEDE-4BB8-9D2C-0A45198C1928" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关SRVCTL的信息，请参阅<a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-E73658E7-BBF7-4C13-AAD5-70D32062AD8D" name="GUID-E73658E7-BBF7-4C13-AAD5-70D32062AD8D"></a><h5 id="NETAG-GUID-E73658E7-BBF7-4C13-AAD5-70D32062AD8D" class="sect5"><span class="enumeration_section">10.2.4.7</span>在流量控制器模式下为计划的关闭事件配置Oracle Connection Manager</h5>
                     <div>
                        <p>流量控制器模式中的Oracle连接管理器隐式订阅快速应用程序通知（FAN）事件。对于此<code class="codeph">events</code>必须在<code class="codeph">oraaccess.xml.</code>启用<code class="codeph">oraaccess.xml.</code></p>
                        <p>对于计划的关闭事件，使用<code class="codeph">DBMS_SERVICE</code>或<code class="codeph">SRVCTL</code>配置服务并将<code class="codeph">failover_mode</code>设置为<code class="codeph">select</code> ， <code class="codeph">commit_outcome</code>为<code class="codeph">TRUE</code> ，将<code class="codeph">failover_restore</code>为<code class="codeph">LEVEL1</code> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-E73658E7-BBF7-4C13-AAD5-70D32062AD8D__GUID-463D0604-7DBB-42DB-A6ED-5899EFF82762">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">DBMS_SERVICE</code>信息，请<code class="codeph">DBMS_SERVICE</code> <a href="../arpls/DBMS_SERVICE.html#ARPLS-GUID-C11449DC-EEDE-4BB8-9D2C-0A45198C1928" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关SRVCTL的信息，请参阅<a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-0F9EB7CE-108A-45BD-993B-A165F15C4AF0" name="GUID-0F9EB7CE-108A-45BD-993B-A165F15C4AF0"></a><h5 id="NETAG-GUID-0F9EB7CE-108A-45BD-993B-A165F15C4AF0" class="sect5"><span class="enumeration_section">10.2.4.8</span>在流量控制器模式下在Oracle Connection Manager上配置安全套接字层</h5>
                     <div>
                        <p><span class="bold">步骤1：确认已创建Traffic Director Mode钱包中的Oracle Connection Manager并且它具有证书。</span></p>
                        <div class="p">在继续下一步之前，请确认已创建钱包并且其具有证书。执行以下步骤：<ol>
                              <li>
                                 <p>启动Oracle Wallet Manager。</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>在UNIX上：从<code class="codeph">$ORACLE_HOME/bin</code>输入以下命令：</p>
                                       <p><code class="codeph">OWM</code></p>
                                    </li>
                                    <li>
                                       <p>在Windows上：选择<span class="bold">开始</span> ，转到<span class="bold">程序</span> ，单击<span class="bold">Oracle- <span class="variable" translate="no">HOME_NAME</span></span> ，选择<span class="bold">集成管理工具</span> ，然后单击<span class="bold">电子钱包管理器</span> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>从电子钱包菜单中，选择<span class="bold">打开</span> 。
                                 </p>
                                 <p>钱包应包含具有就绪状态的证书并启用自动登录。如果未启用自动登录，请从电子钱包菜单中选择它并再次保存钱包。这会打开自动登录。</p>
                              </li>
                           </ol>
                        </div>
                        <p><span class="bold">步骤2：创建使用TCP / IP和SSL（TCPS）的侦听端点，并在cman.ora中的CMAN端指定流量控制器模式钱包位置中的Oracle连接管理器。</span></p>
                        <p>以下示例显示<code class="codeph">cman.ora</code>带有<code class="codeph">TCPS</code>协议的<code class="codeph">cman.ora</code> ：</p><pre class="pre codeblock"><code>CMAN_1 =（CONFIGURATION =（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcps）（HOST = proxysvr）（PORT = 1522））（ADDRESS =（PROTOCOL = tcp）（HOST = proxysvr）（PORT = 1523）））（RULE_LIST = （RULE =（SRC = *）（DST = *）（SRV = *）（ACT = accept）））（PARAMETER_LIST =（MAX_GATEWAY_PROCESSES = 8）（MIN_GATEWAY_PROCESSSES = 3）））wallet_location =（SOURCE =（METHOD = File） （METHOD_DATA =（DIRECTORY = wallet_location）））SQLNET.WALLET_OVERRIDE = TRUE</code></pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-FC833F8F-CE5A-4C02-A962-244954158853" name="GUID-FC833F8F-CE5A-4C02-A962-244954158853"></a><h5 id="NETAG-GUID-FC833F8F-CE5A-4C02-A962-244954158853" class="sect5"><span class="enumeration_section">10.2.4.9</span>流量控制器模式限制中的Oracle连接管理器</h5>
                     <div>
                        <p>所有驱动程序的流量控制器模式限制中的Oracle连接管理器不支持以下功能：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>分布式事务</p>
                           </li>
                           <li>
                              <p>高级排队（AQ）</p>
                           </li>
                           <li>
                              <p>数据库启动或数据库关闭调用</p>
                           </li>
                           <li>
                              <p>拆分</p>
                           </li>
                           <li>
                              <p>XML</p>
                           </li>
                           <li>
                              <p>SQL翻译</p>
                           </li>
                           <li>
                              <p>代理身份验证和SSL外部身份验证（例如DN）</p>
                           </li>
                           <li>
                              <p>对象REF</p>
                           </li>
                           <li>
                              <p>会话切换</p>
                           </li>
                           <li>
                              <p>OCIObject *调用导航访问</p>
                           </li>
                           <li>
                              <p>OCIPickerImage *调用</p>
                           </li>
                           <li>
                              <p>OCIAnyData *调用</p>
                           </li>
                           <li>
                              <p>OCIDirPath *调用</p>
                           </li>
                           <li>
                              <p>OCISubscription *电话</p>
                           </li>
                           <li>
                              <p>OCILCR *，OCIXStream *调用</p>
                           </li>
                           <li>
                              <p>OCIStmtExecute：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>可滚动光标</p>
                                 </li>
                                 <li>
                                    <p>隐含的结果</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>变更通知（CQN）</p>
                           </li>
                           <li>
                              <p>客户端结果缓存</p>
                           </li>
                           <li>
                              <p>OCI_MIGRATE模式</p>
                           </li>
                           <li>
                              <p>DRCP：多属性标记和PLSQL回调</p>
                           </li>
                           <li>
                              <p>应用程序连续性</p>
                           </li>
                           <li>
                              <p>OCIConnectionPool</p>
                           </li>
                           <li>
                              <p>身份验证为SYSDBA，SYSOPER等</p>
                           </li>
                           <li>
                              <p>真正的应用程序安全性（仅限Java）</p>
                           </li>
                           <li>
                              <p>数据类型</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>PL / SQL索引表绑定</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>批量复制（仅限ODP.Net）</p>
                           </li>
                           <li>
                              <p>自我调整（仅限ODP.Net）</p>
                           </li>
                           <li>
                              <p>ASO加密和支持的算法（仅限ASO）</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8">在Traffic Director模式下配置Oracle Connection Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="NETAG1169"></a><a id="NETAG1168"></a><div class="sect2"><a id="GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84" name="GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84"></a><h3 id="NETAG-GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84" class="sect3"><span class="enumeration_section">10.3</span>使用Oracle Connection Manager作为IPv4和IPv6的桥接器</h3>
               <div>
                  <p>在某些数据库连接环境中，客户端和数据库可能使用不同版本的IP协议，因此不存在完整的连接。在这种情况下，连接中至少有两个跃点使用不同版本的IP协议。例如，请求从IPv4源传递到IPv6目标，从IPv6源传递到IPv4目标，或通过IPv4网络从IPv6传递到IPv6。</p>
                  <p>您可以使用Oracle Connection Manager作为<a href="glossary.html#GUID-7E31744D-D388-452F-91A6-803CB53DFF53"><span class="xrefglossterm">IPv4</span></a>和<a href="glossary.html#GUID-7C78B13A-DE3B-492E-A1E8-837E170CB2CF"><span class="xrefglossterm">IPv6</span></a>之间的网桥。要充当桥接器，Oracle Connection Manager必须在配置有至少一个IPv4接口和至少一个IPv6接口的双栈主机上运行。
                  </p>
                  <p>使用Oracle Connection Manager筛选功能根据IPv6地址进行筛选。您可以基于完整或部分IP地址建立规则。<a href="configuring-oracle-connection-manager.html#GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84__CACBCHGH">图10-1</a>显示了IPv6地址的格式。
                  </p>
                  <div class="figure" id="GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84__CACBCHGH">
                     <p class="titleinfigure">图10-1 IPv6地址格式</p><img src="img/netag138.gif" width="566" alt="下面是图10-1的描述" title="下面是图10-1的描述" longdesc="img_text/netag138.html"><br><a href="img_text/netag138.html">“图10-1 IPv6地址格式”的说明</a></div>
                  <!-- class="figure" -->
                  <p>图顶部的数字表示地址中的位数。IPv6地址中的每个十六进制字符代表4位。位4-16是地址的顶级聚合标识符（TLA ID）部分。比特25-49是下一级聚合标识符（NLA ID）。</p>
                  <p>例如，在地址<code class="codeph">2001:0db8::203:BAFF:FE0F:C74B</code> ，前四个十六进制字符（ <code class="codeph">2001</code> ）的二进制表示如下：</p><pre class="oac_no_warn" dir="ltr">0010000000000001</pre><p>因此，地址中的前3位是<code class="codeph">001</code> 。地址的TLA ID部分是<code class="codeph">0000000000001</code> 。
                  </p>
                  <p>以下过程介绍了如何为IPv6地址创建规则过滤器：</p>
                  <ol>
                     <li>
                        <p>导航到位于<code class="codeph">ORACLE_HOME/network/admin</code>目录中的<code class="codeph">cman.ora</code>文件。
                        </p>
                     </li>
                     <li>
                        <p>使用文本编辑器打开<code class="codeph">cman.ora</code>文件。
                        </p>
                     </li>
                     <li>
                        <p>根据IPv6地址格式在<code class="codeph">RULE_LIST</code>创建<code class="codeph">RULE</code> 。
                        </p>
                        <p>例如，假设源主机是仅具有IPv6的主机，地址为<code class="codeph">2001:0db8::203:BAFF:FE0F:C74B</code> ，而目标是仅限IPv4的主机，名为<code class="codeph">SALESL1593</code> 。通过创建以下规则之一，将Oracle Connection Manager配置为IPv6到IPv4网桥：</p>
                        <div class="tblformal" id="GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84__GUID-C0215D94-336B-430D-B2A6-B40C13A8BF68">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="IPv6 to IPv4 bridge rules." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d30937e2930">规则类型</th>
                                    <th align="left" valign="bottom" width="31%" id="d30937e2933">描述</th>
                                    <th align="left" valign="bottom" width="45%" id="d30937e2936">例</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d30937e2941" headers="d30937e2930 ">
                                       <p>根据子网ID过滤</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d30937e2941 d30937e2933 ">
                                       <p>过滤基于64位，包括子网ID</p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d30937e2941 d30937e2936 "><pre class="oac_no_warn" dir="ltr">（RULE =（SRC = 2001：0db8 :: 203：BAFF：FE0F：C74B / <span class="bold"><code class="codeph">64</code></span> ）（DST = SALESL1593）（SRV = SALES）（ACT = ACCEPT）（ACTION_LIST =（AUT = ON）（MOCT = 10）（ MIT = 30）（CONN_STATE = YES）））</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d30937e2955" headers="d30937e2930 ">
                                       <p>根据NLA ID过滤</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d30937e2955 d30937e2933 ">
                                       <p>过滤基于48位，包括NLA ID</p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d30937e2955 d30937e2936 "><pre class="oac_no_warn" dir="ltr">（RULE =（SRC = 2001：0db8 :: 203：BAFF：FE0F：C74B / <span class="bold"><code class="codeph">48</code></span> ）（DST = SALESL1593）（SRV = SALES）（ACT = ACCEPT）（ACTION_LIST =（AUT = ON）（MOCT = 10）（ MIT = 30）（CONN_STATE = YES）））</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d30937e2969" headers="d30937e2930 ">
                                       <p>根据TLA ID过滤</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d30937e2969 d30937e2933 ">
                                       <p>过滤基于16位，包括TLA ID</p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d30937e2969 d30937e2936 "><pre class="oac_no_warn" dir="ltr">（RULE =（SRC = 2001：0db8 :: 203：BAFF：FE0F：C74B / <span class="bold"><code class="codeph">16</code></span> ）（DST = SALESL1593）（SRV = SALES）（ACT = ACCEPT）（ACTION_LIST =（AUT = ON）（MOCT = 10）（ MIT = 30）（CONN_STATE = YES）））</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d30937e2983" headers="d30937e2930 ">
                                       <p>根据位数进行过滤</p>
                                    </td>
                                    <td align="left" valign="top" width="31%" headers="d30937e2983 d30937e2933 ">
                                       <p>过滤基于地址的前60位</p>
                                    </td>
                                    <td align="left" valign="top" width="45%" headers="d30937e2983 d30937e2936 "><pre class="oac_no_warn" dir="ltr">（RULE =（SRC = 2001：0db8 :: 203：BAFF：FE0F：C74B / <span class="bold"><code class="codeph">60</code></span> ）（DST = SALESL1593）（SRV = SALES）（ACT = ACCEPT）（ACTION_LIST =（AUT = ON）（MOCT = 10）（ MIT = 30）（CONN_STATE = YES）））</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-92C75A33-CAC6-4778-87CC-EE0E81459A84__GUID-DBADF686-EB9E-4F48-A5A8-02C370B67E11">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="understanding-communication-layers.html#GUID-CCA2C3B6-DDFD-4C64-9CBA-626019386424">关于TCP / IP协议</a> ”</span>以了解有关IPv6的更多信息</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="identifying-and-accessing-database.html#GUID-E1DAC03A-1DD4-4A13-8505-67C55B5B4340">关于连接描述符中的IPv6地址</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="configuring-and-administering-oracle-net-listener.html#GUID-B16FD816-5871-4AD7-86D1-55DDD8531322">配置侦听协议地址</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4">配置Oracle Connection Manager</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="NETAG220"></a><div class="sect2"><a id="GUID-E1A7D32F-E386-4964-AB90-DADB7B92ED71" name="GUID-E1A7D32F-E386-4964-AB90-DADB7B92ED71"></a><h3 id="NETAG-GUID-E1A7D32F-E386-4964-AB90-DADB7B92ED71" class="sect3"><span class="enumeration_section">10.4</span>使用Oracle Connection Manager控制实用程序管理Oracle Connection Manager</h3>
               <div>
                  <p>Oracle Connection Manager Control实用程序使您可以管理Oracle Connection Manager。从操作系统发出命令时，此实用程序的基本语法如下：</p><pre class="oac_no_warn" dir="ltr">cmctl [ <span class="italic">command</span> ] [ <span class="italic">argument1</span> 。 。 。 <span class="italic">argumentN</span> ] [-c <span class="italic">instance_name</span> ]</pre><p>在上面的命令中， <code class="codeph">-c</code>指定Oracle Connection Manager实例。如果已设置密码，系统将提示您输入密码。
                  </p>
                  <div class="infoboxnote" id="GUID-E1A7D32F-E386-4964-AB90-DADB7B92ED71__GUID-D70DA4EB-A47C-4553-9C49-EDB93D7498DA">
                     <p class="notep1">警告：</p>
                     <p>可以选择在命令行上指定密码。但是，这会在屏幕上显示密码，并且存在潜在的安全风险。Oracle建议不要在命令行上使用密码选项（ <code class="codeph">-p</code> ）。
                     </p>
                  </div>
                  <p>例如，以下命令启动名为<code class="codeph">cman1</code>的实例的侦听器，连接管理器管理（CMADMIN）和网关进程：</p><pre class="oac_no_warn" dir="ltr">cmctl STARTUP -c cman1</pre><p>您还可以在<code class="codeph">CMCTL</code>提示符下发出Oracle Connection Manager实用程序命令。要获取提示，请在操作系统命令行中输入<code class="codeph">cmctl</code>带参数的<code class="codeph">cmctl</code> 。如果使用安全安装选项安装Oracle Connection Manager，该实用程序可能会提示输入密码。运行<code class="codeph">CMCTL</code> ，将启动该实用程序，您可以从CMCTL提示符输入必要的命令。以下是CMCTL提示的示例：</p><pre class="oac_no_warn" dir="ltr">cmctl CMCTL&gt; STARTUP</pre><div class="infoboxnote" id="GUID-E1A7D32F-E386-4964-AB90-DADB7B92ED71__GUID-BF10E546-F74F-4D45-B111-45CB752955A3">
                     <p class="notep1">注意：</p>
                     <p>在发出<code class="codeph">STARTUP</code>命令之前，请执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>创建<code class="codeph">cman.ora</code>文件。安装Oracle Connection Manager后，示例文件位于<code class="codeph">ORACLE_HOME/network/admin/samples</code>目录中。
                           </p>
                        </li>
                        <li>
                           <p>运行<code class="codeph">ADMINISTER</code>命令以选择要启动的实例。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E1A7D32F-E386-4964-AB90-DADB7B92ED71__GUID-2D3E8764-42F3-4CF6-857D-70ADC87C526A">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p> <span class="q">“ <a href="understanding-oracle-net-architecture.html#GUID-AAEEC927-9A69-4012-AC2C-8423274F94C6">了解Oracle Connection Manager体系结构</a> ”</span>以获取Oracle Connection Manager流程的概述</p>
                        </li>
                        <li>
                           <p> 有关Oracle Connection Manager控制实用程序命令的完整说明，请<a href="../netrf/oracle-connection-manager-control-utility.html#NETRF170" target="_blank"><span class="italic">参见Oracle数据库网络服务参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4">配置Oracle Connection Manager</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-18E96DB7-00D4-44C6-B541-0B61B488A2DF" name="GUID-18E96DB7-00D4-44C6-B541-0B61B488A2DF"></a><h3 id="NETAG-GUID-18E96DB7-00D4-44C6-B541-0B61B488A2DF" class="sect3"><span class="enumeration_section">10.5</span>关于在Traffic Director模式下使用Oracle Connection Manager</h3>
               <div>
                  <p>Traffic Director Mode中的Oracle Connection Manager是一个放置在支持的数据库客户端和数据库实例之间的代理。</p>
                  <p>当前数据库OCI客户端或受支持的旧版OCI客户端（Oracle Database <span class="italic">11g</span>第2版（11.2）及更高版本）可以在流量控制器模式下连接到Oracle Connection Manager。流量控制器模式中的Oracle连接管理器提供改进的高可用性（HA）（计划内和计划外），连接多路复用支持和负载平衡。此功能还提供带内客户端通知机制，以将Oracle Connection Manager（CMAN）关闭和服务关闭事件的计划关闭提供给OCI客户端。必须在<code class="codeph">cman.ora</code>配置文件中指定其他CMAN参数，才能在Traffic Director模式下配置Oracle Connection Manager。
                  </p>
                  <p>要将CMAN配置为在Traffic Director模式下充当Oracle连接管理器，必须在<code class="codeph">cman.ora</code>配置文件中添加新参数，如<code class="codeph">tdm</code>和<code class="codeph">tdm_threading_model</code> 。Oracle Connection Manager（CMAN）是Oracle RAC和非RAC数据库的标准Oracle Net代理。
                  </p>
                  <p>流量控制器模式中的Oracle连接管理器连接到的数据库必须具有用户，例如， <span class="variable" translate="no">tdm</span>具有授予连接作为应用程序用户的<code class="codeph">CONNECT THROUGH</code>权限。Traffic Director模式中的Oracle Connection Manager使用代理身份验证并以此用户身份进行连接。
                  </p>
                  <div class="infoboxnotealso" id="GUID-18E96DB7-00D4-44C6-B541-0B61B488A2DF__GUID-4AF428AF-F9F4-4DEF-9C51-F7E06B2E448D">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services参考，</cite></span></a>了解在流量控制器模式下支持Oracle Connection Manager的<code class="codeph">cman.ora</code>文件中的现有参数。
                     </p>
                     <p>有关CONNECT THROUGH的详细信息，请参见<a href="https://docs.oracle.com/cd/E11882_01/network.112/e36292/authentication.htm#CHDEHGJJ" target="_blank"><span class="italic">“Oracle数据库安全指南”</span></a> 。</p>
                  </div>
                  <p>在此版本中，流量控制器模式中的Oracle连接管理器提供以下支持：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>透明的性能增强和连接多路复用</p>
                     </li>
                     <li>
                        <p>零应用停机时间</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>计划数据库维护或PDB重定位</p>
                           </li>
                           <li>
                              <p>针对大多数读取工作负载的计划外数据库中断</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>流量控制器模式下Oracle Connection Manager的高可用性，这意味着没有单点故障</p>
                     </li>
                     <li>
                        <p>安全和隔离</p>
                     </li>
                  </ul>
                  <p><span class="bold">运作模式</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>池化连接模式</p>
                        <div class="p">这包括使用以下数据库客户端版本的任何应用程序<ul style="list-style-type:disc">
                              <li>
                                 <p>OCI和开源驱动程序（11.2.0.4及更高版本）</p>
                              </li>
                              <li>
                                 <p>JDBC（12.1及更高版本）</p>
                              </li>
                              <li>
                                 <p>ODP.NET（12.2及更高版本）</p>
                              </li>
                           </ul>此外，应用程序必须能够识别数据库驻留连接池（DRCP）。这意味着在应用程序的连接字符串中指定（SERVER = POOLED）。
                        </div>
                     </li>
                     <li>
                        <p>非池化连接（或专用）模式</p>
                        <p>这包括使用数据库客户端版本11.2.0.4及更高版本的任何应用程序。在此模式下，某些功能（如连接多路复用）不可用。</p>
                     </li>
                  </ul>
                  <p><span class="bold">透明的性能增强和会话多路复用</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对所有操作模式自动启用语句缓存，行预取和结果集缓存。</p>
                     </li>
                     <li>
                        <p>使用代理驻留连接池（PRCP，DRCP的代理模式）进行数据库会话多路复用（仅限池模式）。应用程序在TDM和数据库之间获得透明的连接时负载平衡和运行时负载平衡。</p>
                     </li>
                     <li>
                        <p>流量控制器模式实例中的多个Oracle连接管理器：应用程序通过客户端连接时间负载平衡或负载平衡器（BigIP，NGINX，其他）获得更高的可伸缩性</p>
                     </li>
                  </ul>
                  <p><span class="bold">零应用程序停机时间 - 计划数据库维护或PDB重定位</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>合并模式</p>
                        <p>流量控制器模式中的Oracle连接管理器响应ONS事件以计划中断并重定向工作。请求完成后，将在流量控制器模式下从Oracle连接管理器中的池中排出连接。</p>
                        <p>数据库版本11.2.0.4及更高版本提供服务重定位支持。</p>
                        <p>PDB重定位：当PDB重新定位时，流量控制器模式中的Oracle连接管理器会响应带内通知，即使未配置ONS（仅限服务器为18.1及更高版本）</p>
                     </li>
                     <li>
                        <p>非合并或专用模式</p>
                        <div class="p">没有从客户端收到请求边界信息。流量控制器模式中的Oracle连接管理器支持许多应用程序的计划中断（只要在请求或事务边界上只需要保留简单的会话状态和游标状态）。这涉及以下内容：<ul style="list-style-type:disc">
                              <li>
                                 <p>在事务边界停止服务或PDB或利用Oracle数据库18c“连续应用程序可用性”在请求边界停止服务。</p>
                              </li>
                              <li>
                                 <p>流量控制器模式中的Oracle连接管理器利用“TAF故障转移恢复”重新连接和恢复简单状态。</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
                  <p><span class="bold">计划外数据库中断</span></p>
                  <p>对于池化和非池化（专用）模式，流量控制器模式中的Oracle连接管理器通过利用“TAF故障转移恢复”恢复简单的会话状态或游标状态并重放SELECT语句和第一个DML语句，支持读取主要应用程序的计划外中断。</p>
                  <p><span class="bold">安全和隔离</span></p>
                  <p>流量控制器模式中的Oracle Connection Manager提供：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据库代理支持TCP / TCPS和协议转换</p>
                     </li>
                     <li>
                        <p>防火墙基于IP地址，服务名称和SSL / TLS钱包</p>
                     </li>
                     <li>
                        <p>多租户环境中的租户隔离</p>
                     </li>
                     <li>
                        <p>防止拒绝服务和模糊测试攻击</p>
                     </li>
                     <li>
                        <p>跨本地数据库和Oracle Cloud安全地隧道传输数据库流量</p>
                     </li>
                  </ul>
                  <p><span class="bold">流量控制器模式下Oracle Connection Manager的高可用性</span></p>
                  <div class="p">这包括：<ul style="list-style-type:disc">
                        <li>
                           <p>使用Load Balancer的流量控制器模式中的多个Oracle连接管理器实例或连接字符串中的客户端负载平衡或故障转移</p>
                        </li>
                        <li>
                           <p>在Traffic Director模式实例中滚动升级Oracle Connection Manager</p>
                        </li>
                        <li>
                           <p>针对计划中断，在流量控制器模式下关闭从客户端到Oracle Connection Manager的现有连接</p>
                        </li>
                        <li>
                           <p>带有Oracle数据库版本18c及更高版本客户端的带内通知。对于早期版本的客户端，将使用当前请求的响应发送通知。</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4">配置Oracle Connection Manager</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-9009A638-7335-49C0-9C64-3EBBEE17F1A9" name="GUID-9009A638-7335-49C0-9C64-3EBBEE17F1A9"></a><h3 id="NETAG-GUID-9009A638-7335-49C0-9C64-3EBBEE17F1A9" class="sect3"><span class="enumeration_section">10.6</span> Oracle Connection Manager增强功能</h3>
               <div>
                  <div class="p">Oracle Connection Manager代理和筛选Oracle数据库服务器的请求。从Oracle Database 12 <span class="italic">c第</span> 2版（12.2）开始，Oracle Connection Manager显示以下增强功能：<ul style="list-style-type:disc">
                        <li>
                           <p>它通过支持SSL协议提供对服务器的更安全访问。通过此支持，数据库客户端可以通过TCPS协议通过Oracle Connection Manager与服务器进行通信。您还可以将Oracle Connection Manager配置为在一侧具有SSL连接，在另一侧具有非SSL连接。这也可以作为一种安全的方式来隐藏从Internet连接的外部客户端的内部数据库服务器。</p>
                           <p>多路复用：如果网关已经与数据库客户端请求的端点建立了TCPS连接，则它会在同一连接上多路复用新的连接请求。</p>
                        </li>
                        <li>
                           <div class="p">它可以侦听多个协议地址。通过多个侦听端点，Oracle Connection Manager现在可以同时支持TCP和TCPS。仍支持现有的单协议地址配置。例如：<pre class="pre codeblock"><code>CMAN_ALIAS =（configuration =（address_list =（address =（protocol = TCP）（host = abcd）（port = 12522））（address =（protocol = TCPS）（host = abcd）（port = 12523）））..）</code></pre></div>
                        </li>
                        <li>
                           <p>它增加了网络数据压缩工具，以提高网络吞吐量，并使Oracle数据库客户端和Oracle数据库服务器之间的数据传输更快。这是根据数据库客户端，数据库服务器和下一跳压缩能力以不同方式完成的。如果由它们协商，则在任何两个节点之间启用压缩</p>
                           <p>如果两个以上的连续节点支持并协商压缩，则以中间节点仅将压缩数据中继到下一节点而不执行解压缩的方式处理这种情况。</p>
                           <p>即使Oracle数据库客户端早于Oracle Database <span class="italic">12c</span>发行版并且不支持压缩，Oracle Connection Manager和服务器之间也支持压缩。
                           </p>
                        </li>
                        <li>
                           <p>它支持最多2 MB SDU，使Oracle数据库客户端和Oracle数据库服务器在通过Oracle Connection Manager建立连接时协商更高的SDU。</p>
                        </li>
                        <li>
                           <p>从此版本开始，Oracle Connection Manager中默认启用有效的注册节点检查。默认情况下，只允许本地节点上的数据库向Oracle Connection Manager注册。允许或拒绝远程节点上的数据库通过使用参数<code class="codeph">REGISTRATION_INVITED_NODES</code>和<code class="codeph">REGISTRATION_EXCLUDED_NODES</code>向Oracle Connection Manager <code class="codeph">REGISTRATION_EXCLUDED_NODES</code> 。 <a href="../netrf/index.html" target="_blank"><span class="italic">Oracle Database Net Services Reference</span></a>中记录了这些参数</p>。
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-connection-manager.html#GUID-AF8A511E-9AE6-4F4D-8E58-F28BC53F64E4">配置Oracle Connection Manager</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>