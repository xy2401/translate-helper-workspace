<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Important design choices for your application include what XMLType storage model to use and which indexing approaches to use."></meta>
      <meta name="description" content="Important design choices for your application include what XMLType storage model to use and which indexing approaches to use."></meta>
      <title>选择XMLType存储和索引</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Important design choices for your application include what XMLType storage model to use and which indexing approaches to use."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="XML-Schema-and-object-relational-XMLType.html" title="Previous" type="text/html"></link>
      <link rel="next" href="XML-Schema-and-query-basic.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XML-Schema-and-object-relational-XMLType.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="XML-Schema-and-query-basic.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-Schema-and-object-relational-XMLType.html" property="item" typeof="WebPage"><span property="name">XML Schema和Object-Relational XMLType</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">选择XMLType存储和索引</li>
            </ol>
            <a id="GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" name="GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1"></a><a id="ADXDB6348"></a>
            
            <h2 id="ADXDB-GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" class="sect2"><span class="enumeration_chapter">16</span> XMLType存储和索引的选择</h2>
         </header>
         <div class="ind">
            <div>
               <p>应用程序的重要设计选择包括要使用的<code class="codeph">XMLType</code>存储模型以及要使用的索引方法。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-60132193-FCBB-4A7F-AA11-53CB660F67AF">选择XMLType存储模型和索引方法简介</a><br><code class="codeph">XMLType</code>是一种抽象的SQL数据类型，它提供了不同的存储和索引模型，以最好地适应您的XML数据及其使用。因为它是一种抽象数据类型，所以您的应用程序和数据库查询可以获得灵活性：所有<code class="codeph">XMLType</code>操作都可以使用相同的接口。
                  </li>
                  <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-D91AC581-73C0-4211-AA20-E524CCDCB285">XMLType用例谱：以数据为中心到以文档为中心</a><br>选择<code class="codeph">XMLType</code>存储模型时，请考虑XML数据的性质以及使用它的方式。有大量用例，从大多数以数据为中心到大多数以文档为中心。
                  </li>
                  <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-DA44C914-8E2C-4ED0-89E6-91E852592604">XML数据的常见用例存储为XMLType</a><br>针对与<code class="codeph">XMLType</code>存储的XML数据的常见用例相对应的应用程序用例提供了建议。
                  </li>
                  <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-320807FC-DB58-4600-8F92-A1247A354AE5">XMLType存储模型注意事项</a><br>对于大多数用例，Oracle建议您使用<code class="codeph">XMLType</code>二进制XML存储。对象关系存储在特殊情况下是适当的。
                  </li>
                  <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-93D32688-B8F8-4AD9-BD39-3E4A861FD780">XMLType索引注意事项</a><br>对于以对象方式存储的<code class="codeph">XMLType</code>数据，就像创建关系数据一样创建B树和位图索引。对存储为二进制XML的<code class="codeph">XMLType</code>数据使用<code class="codeph">XMLIndex</code>索引。</li>
                  <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-DFD4521D-3733-4C2A-BBC2-22D0CC74A7D7">XMLType存储选项：相对优势</a><br>每种<code class="codeph">XMLType</code>存储模型都有特定的优点和缺点。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="XML-Schema-and-object-relational-XMLType.html#GUID-817F95DE-D604-41DC-BCDE-76CDE30F9176" title="涵盖了XML Schema的使用和XMLType数据的对象关系存储。">XML模式和对象关系XMLType</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB6349"></a><div class="props_rev_3"><a id="GUID-60132193-FCBB-4A7F-AA11-53CB660F67AF" name="GUID-60132193-FCBB-4A7F-AA11-53CB660F67AF"></a><h3 id="ADXDB-GUID-60132193-FCBB-4A7F-AA11-53CB660F67AF" class="sect3"><span class="enumeration_section">16.1</span>选择XMLType存储模型和索引方法简介</h3>
               <div>
                  <p><code class="codeph">XMLType</code>是一种抽象的SQL数据类型，它提供了不同的存储和索引模型，以最好地适应您的XML数据及其使用。因为它是一种抽象数据类型，所以您的应用程序和数据库查询可以获得灵活性：所有<code class="codeph">XMLType</code>操作都可以使用相同的接口。
                  </p>
                  <p>不同的应用程序以不同的方式使用XML数据有时它是由关系数据源构建的，因此它是相对结构化的。有时它用于提取，转换和加载（ETL）操作，在这种情况下它也是非常结构化的。有时它用于自由格式文档（非结构化或半结构化），如书籍和文章。</p>
                  <p>对于不同类型的数据，检索方法也可以是不同的。以数据为中心的用例通常涉及一组固定的查询，而以文档为中心的用例通常涉及任意（ad-hoc）查询。</p>
                  <p>由于XML的使用范围很广，因此没有一种通用的存储模型可以为每个用例提供最佳性能和灵活性。Oracle XML DB为<code class="codeph">XMLType</code>提供了两种存储模型，以及适用于这些不同存储模型的几种索引方法。您可以定制性能和功能，以最好地适应您拥有的XML数据类型以及使用它的方式。
                  </p>
                  <p>因此，要做出的一个关键决定是使用哪种<code class="codeph">XMLType</code>存储模型来处理哪些XML数据。本章帮助您为给定的用例选择最佳存储选项。
                  </p>
                  <p><code class="codeph">XMLType</code>表和列可以通过以下方式存储：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">二进制XML存储</span> - 这也称为<strong class="term">解析后持久性</strong> 。它是Oracle XML DB的默认存储模型。它是一种专为XML数据设计的解析后二进制格式。二进制XML是紧凑的，并且支持XML模式。二进制XML存储的最大优点是<span class="italic">灵活性</span> ：您可以将其用于基于XML模式的文档或不基于XML模式的文档。您可以将其与XML模式一起使用，该模式允许高数据可变性或者显着或意外地发展。此存储模型还提供有效的部分更新和可流式查询评估。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">对象关系存储</span> - 这也称为<a id="d79426e186" class="indexterm-anchor"></a> <strong class="term">结构化</strong>存储和<strong class="term">基于对象的持久性</strong> 。该存储模型表示XML数据的实体关系（ER）分解。它通过已知的或多或少固定的查询集为高度结构化数据提供最佳性能。查询性能与关系数据的性能相匹配，可以在适当的位置执行更新。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-60132193-FCBB-4A7F-AA11-53CB660F67AF__GUID-23E8420B-C100-4F76-A389-F9FB801864A6">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 12c第1版（12.1.0.1）开始， <span class="italic">不推荐使用</span> <code class="codeph">XMLType</code>的非结构化（ <code class="codeph">CLOB</code> ）存储模型。请改用二进制XML存储。
                     </p>
                     <p>如果您拥有存储为<code class="codeph">CLOB</code>数据的<code class="codeph">XMLType</code>数据，请考虑使用Oracle GoldenGate将其移至二进制XML存储格式。如果文档保真度对于特定XML文档很重要，则将其副本存储在关系<code class="codeph">CLOB</code>列中。
                     </p>
                  </div>
                  <p>Oracle XML DB支持<code class="codeph">XMLType</code>数据的以下索引类型。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对象关系存储的B树功能索引</p>
                     </li>
                     <li>
                        <p>二进制XML存储上的XML搜索索引</p>
                     </li>
                     <li>
                        <p><code class="codeph">XMLIndex</code>包含二进制XML存储上的结构化和非结构化组件</p>
                     </li>
                     <li>
                        <p>在二进制XML存储上为<code class="codeph">XMLIndex</code> （结构化和非结构化组件）自动创建的辅助表上的B树索引</p>
                     </li>
                  </ul>
                  <p>不同的用例需要<code class="codeph">XMLType</code>存储模型和索引的不同组合。
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="indexes-for-XMLType-data.html#GUID-FE16BE28-035C-49EE-9683-6ED37876C3FC" title="您可以在XML数据上创建索引，专注于经常查询的特定部分，从而提高性能。您可以通过多种方式索引XMLType数据，无论是基于XML模式还是非基于模式，无论您使用何种XMLType存储模型。">XMLType数据的索引</a></li>
                        <li><a href="choice-of-XMLType-storage-and-indexing.html#GUID-DFD4521D-3733-4C2A-BBC2-22D0CC74A7D7" title="每种XMLType存储模型都有特定的优点和缺点。">XMLType存储选项：相对优势</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" title="应用程序的重要设计选择包括要使用的XMLType存储模型以及要使用的索引方法。">XMLType存储和索引的选择</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB3979"></a><a id="ADXDB6350"></a><div class="props_rev_3"><a id="GUID-D91AC581-73C0-4211-AA20-E524CCDCB285" name="GUID-D91AC581-73C0-4211-AA20-E524CCDCB285"></a><h3 id="ADXDB-GUID-D91AC581-73C0-4211-AA20-E524CCDCB285" class="sect3"><span class="enumeration_section">16.2</span> XMLType用例谱：以数据为中心到以文档为中心</h3>
               <div>
                  <p>选择<code class="codeph">XMLType</code>存储模型时，请考虑XML数据的性质以及使用它的方式。有大量用例，从大多数以数据为中心到大多数以文档为中心。
                  </p>
                  <p><a href="choice-of-XMLType-storage-and-indexing.html#GUID-D91AC581-73C0-4211-AA20-E524CCDCB285__CHDGBEFE">图16-1</a>说明了这一点，它显示了左侧大多数以数据为中心的案例以及右侧以文档为中心的大多数案例。
                  </p>
                  <div class="figure" id="GUID-D91AC581-73C0-4211-AA20-E524CCDCB285__CHDGBEFE">
                     <p class="titleinfigure">图16-1 XML用例和XMLType存储模型</p><img src="img/adxdb057.png" width="584" alt="下面是图16-1的描述" title="下面是图16-1的描述" longdesc="img_text/adxdb057.html"><br><a href="img_text/adxdb057.html">“图16-1 XML用例和XMLType存储模型”的说明</a></div>
                  <!-- class="figure" -->
                  <p><strong class="term">以</strong>数据为<strong class="term">中心的</strong>数据是高度结构化的，具有相对静态和可预测的结构，您的应用程序利用了这种结构。数据符合XML架构。
                  </p>
                  <p><strong class="term">以文档为中心的</strong>数据可分为两种情况：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据通常没有结构或具有可变结构。这包括具有结构化和非结构化部分的文档的情况。文档结构可以随时间变化（演变），内容可以<strong class="term">混合</strong> （ <strong class="term">半结构化</strong> ），许多元素包含文本节点和子元素。许多XML元素可能不存在或可以以不同的顺序出现。文档可能符合也可能不符合XML架构。
                        </p>
                     </li>
                     <li>
                        <p>数据是相对结构化的，但您的应用程序不利用该结构：它们将数据视为没有结构。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" title="应用程序的重要设计选择包括要使用的XMLType存储模型以及要使用的索引方法。">XMLType存储和索引的选择</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6351"></a><div class="props_rev_3"><a id="GUID-DA44C914-8E2C-4ED0-89E6-91E852592604" name="GUID-DA44C914-8E2C-4ED0-89E6-91E852592604"></a><h3 id="ADXDB-GUID-DA44C914-8E2C-4ED0-89E6-91E852592604" class="sect3"><span class="enumeration_section">16.3</span>存储为XMLType的XML数据的常见用例</h3>
               <div>
                  <p>针对与<code class="codeph">XMLType</code>存储的XML数据的常见用例相对应的应用程序用例提供了建议。
                  </p>
                  <p>如果您的用例<span class="italic">不是</span>常见的，因此此处未涉及，请参阅本章的其余部分以获取有关特殊情况的信息。
                  </p>
                  <div class="infoboxnote" id="GUID-DA44C914-8E2C-4ED0-89E6-91E852592604__GUID-B4579E66-655F-4C5E-9676-B1B950172DC0">
                     <p class="notep1">注意：</p>
                     <p>这部分是关于使用XML数据的持久化作为<code class="codeph">XMLType</code> 。XML数据的一个常见用例涉及从关系数据生成XML数据。这种情况不在此处，因为它涉及关系存储，并且生成的XML数据不一定是持久的。
                     </p>
                     <p>（对于生成的XML数据作为<code class="codeph">XMLType</code>持久化的情况，请参阅<a href="choice-of-XMLType-storage-and-indexing.html#GUID-F3243F0A-6541-4607-AF7F-D2C69DFE253D" title="在此用例中，数据从外部源提取，转换为适合操作需求（通常是关系），然后加载到数据库中：提取，转换，加载（ETL）。特别是，转换区分了这个用例。">XMLType用例：ETL的分阶段XML数据</a> 。）
                     </p>
                  </div>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-54A1AD97-7AB8-4880-99FC-26EB35545B23">XMLType用例：没有XML片段更新或查询</a><br>在此用例中，不需要更新或查询存储在数据库中的XML数据的片段。
                     </li>
                     <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-2871EBBB-4724-46B6-BB91-13C76014A263">XMLType用例：来自具有不同XML模式的不同源的数据集成</a><br>如果您的XML数据来自使用不同XML模式的多个数据源，则使用<span class="italic">二进制XML存储</span> 。
                     </li>
                     <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-F3243F0A-6541-4607-AF7F-D2C69DFE253D">XMLType用例：ETL的分阶段XML数据</a><br>在此用例中，数据从外部源提取，转换为适合操作需求（通常是关系），然后加载到数据库中： <span class="italic">提取</span> ， <span class="italic">转换</span> ， <span class="italic">加载</span> （ETL）。特别是，转换区分了这个用例。
                     </li>
                     <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-D5020A68-9D12-4EDB-9315-7F027C008226">XMLType用例：半结构化XML数据</a><br>在这个用例中，您的XML数据是可变形式的，或者大部分数据都没有很好地定义。可能没有关联的XML架构，或者XML架构可能允许高数据可变性或显着或以意外方式发展。
                     </li>
                     <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-FA28FA05-1E8B-4EB5-BEB4-6B6482ED5BE6">XMLType用例：商业智能查询</a><br>要通过XML数据启用业务智能（BI）查询，可以使用SQL / XML函数<code class="codeph">XMLTable</code>将数据中包含的值作为虚拟表的列进行投影。然后使用分析函数窗口以及SQL <code class="codeph">ORDER BY</code>和<code class="codeph">GROUP BY</code>来操作虚拟表的列。
                     </li>
                     <li class="ulchildlink"><a href="choice-of-XMLType-storage-and-indexing.html#GUID-681F290F-581D-4344-BDE4-6FF98CD890FA">XMLType用例：涉及全文搜索的XML查询</a><br>如果您的应用程序需要对XML数据执行全文搜索，则使用<span class="italic">二进制XML存储</span>并创建与您的查询对应的XML搜索索引。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="choice-of-XMLType-storage-and-indexing.html#GUID-93D32688-B8F8-4AD9-BD39-3E4A861FD780" title="对于以对象方式存储的XMLType数据，就像创建关系数据一样创建B树和位图索引。对存储为二进制XML的XMLType数据使用XMLIndex索引。">XMLType索引注意事项</a></li>
                        <li><a href="choice-of-XMLType-storage-and-indexing.html#GUID-DFD4521D-3733-4C2A-BBC2-22D0CC74A7D7" title="每种XMLType存储模型都有特定的优点和缺点。">XMLType存储选项：相对优势</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" title="应用程序的重要设计选择包括要使用的XMLType存储模型以及要使用的索引方法。">XMLType存储和索引的选择</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6352"></a><div class="props_rev_3"><a id="GUID-54A1AD97-7AB8-4880-99FC-26EB35545B23" name="GUID-54A1AD97-7AB8-4880-99FC-26EB35545B23"></a><h4 id="ADXDB-GUID-54A1AD97-7AB8-4880-99FC-26EB35545B23" class="sect4"><span class="enumeration_section">16.3.1</span> XMLType用例：没有XML片段更新或查询</h4>
                  <div>
                     <p>在此用例中，不需要更新或查询存储在数据库中的XML数据的片段。</p>
                     <p>这个用例有以下选项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<span class="italic">二进制XML存储将其存储</span>为<code class="codeph">XMLType</code> 。
                           </p>
                        </li>
                        <li>
                           <p>将其存储在<span class="italic">关系</span> <code class="codeph">BLOB</code>或<code class="codeph">CLOB</code>列中，最好是SecureFiles LOB。</p>
                        </li>
                     </ul>
                     <p>如果将XML数据存储在关系LOB列中而不是<code class="codeph">XMLType</code> ，则Oracle数据库不会解析数据，也无法保证其有效性。（并且您无法对数据执行<code class="codeph">XMLType</code>操作。）
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-DA44C914-8E2C-4ED0-89E6-91E852592604" title="针对与XMLType存储的XML数据的常见用例相对应的应用程序用例提供了建议。">存储为XMLType的XML数据的常见用例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6353"></a><div class="props_rev_3"><a id="GUID-2871EBBB-4724-46B6-BB91-13C76014A263" name="GUID-2871EBBB-4724-46B6-BB91-13C76014A263"></a><h4 id="ADXDB-GUID-2871EBBB-4724-46B6-BB91-13C76014A263" class="sect4"><span class="enumeration_section">16.3.2</span> XMLType用例：来自具有不同XML模式的不同源的数据集成</h4>
                  <div>
                     <p>如果您的XML数据来自使用不同XML模式的多个数据源，则使用<span class="italic">二进制XML存储</span> 。
                     </p>
                     <p>这个用例有三个子类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果XML数据包含结构化，可预测数据的孤岛，并且您的查询是已知的，则使用带有<span class="italic">结构化组件的</span> <code class="codeph">XMLIndex</code>来索引结构化岛屿（即使这些岛周围的数据是非结构化的）。结构化索引组件反映您使用的查询。RSS新闻聚合器就是这种用例的一个例子。
                           </p>
                        </li>
                        <li>
                           <p>如果没有这样的结构化岛屿或者您的查询提前未知（ad hoc），则使用<code class="codeph">XMLIndex</code>和非结构化组件。
                           </p>
                        </li>
                        <li>
                           <p>如果您使用涉及全文搜索的查询，则使用XML搜索索引以及XQuery pragma <code class="codeph">ora:no_schema</code> 。
                           </p>
                        </li>
                     </ul>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="indexes-for-XMLType-data.html#GUID-2DC9E402-5C06-4AED-B04B-C37B687DB6BB" title="您可以为XML内容的固定结构化岛屿项目的查询创建和使用XMLIndex索引的结构化组件，即使周围数据相对非结构化也是如此。">XMLIndex结构化组件</a></li>
                           <li><a href="indexes-for-XMLType-data.html#GUID-4A427DE6-21F9-45F6-8045-FF37C466A05C" title="与为表示单个XML元素或属性的特定数据库列定义的B树索引或应用于特定结构化文档部分的XMLIndex结构化组件不同，XMLIndex索引的非结构化组件默认为，非常一般。">XMLIndex非结构化组件</a></li>
                           <li><a href="indexes-for-XMLType-data.html#GUID-FAB7C619-902A-40CF-98B7-6D358E1AD49C" title="当您需要对XML数据进行全文搜索时，Oracle建议您将XMLType数据存储为二进制XML，并使用XQuery Full Text（XQFT）。您可以使用XML搜索索引。这是本节的主题。">为全文查询索引XML数据</a></li>
                           <li><a href="xquery-and-XML-DB.html#GUID-09066C46-8272-461A-ADE7-2F1B0FCDA948" title="W3C XQuery规范允许实现提供实现定义的扩展表达式。XQuery扩展表达式是一个XQuery表达式，它包含在大括号（{，}）中，并以实现定义的pragma为前缀。Oracle实现提供了几个这样的编译指示。">Oracle XQuery扩展 - 表达式编译</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-DA44C914-8E2C-4ED0-89E6-91E852592604" title="针对与XMLType存储的XML数据的常见用例相对应的应用程序用例提供了建议。">存储为XMLType的XML数据的常见用例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6354"></a><div class="props_rev_3"><a id="GUID-F3243F0A-6541-4607-AF7F-D2C69DFE253D" name="GUID-F3243F0A-6541-4607-AF7F-D2C69DFE253D"></a><h4 id="ADXDB-GUID-F3243F0A-6541-4607-AF7F-D2C69DFE253D" class="sect4"><span class="enumeration_section">16.3.3</span> XMLType用例：ETL的分阶段XML数据</h4>
                  <div>
                     <p>在此用例中，数据从外部源提取，转换为适合操作需求（通常是关系），然后加载到数据库中： <span class="italic">提取</span> ， <span class="italic">转换</span> ， <span class="italic">加载</span> （ETL）。特别是，转换区分了这个用例。
                     </p>
                     <p>ETL用例通常集成来自多个应用程序的数据，这些应用程序由多方使用不同的软件和硬件系统维护或托管。提取的数据通常是除了转换或转换后使用它的人之外的其他方的责任。</p>
                     <p>涉及的XML数据通常是高度结构化的，并且符合XML模式。该用例包括从XML数据生成关系数据和从关系数据生成XML数据。</p>
                     <p>ETL用例的子集涉及有效<span class="italic">更新</span> XML数据的需要。更新可能涉及替换整个XML文档或仅更改文档的片段（部分更新）。
                     </p>
                     <p><code class="codeph">XMLType</code>数据的<span class="italic">对象关系存储</span>通常适用于此用例。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="relational-views-over-XML-data.html#GUID-420496CE-D62F-4EBE-A76E-861B932AE1E6" title="XML数据的关系数据库视图提供对XML内容的传统关系访问。">XML数据的关系视图</a></li>
                           <li><a href="generation-of-XML-data-from-relational-data.html#GUID-3BEB9A88-8B44-4AA3-89F4-8CBF6F8FA686" title="Oracle XML DB提供了从数据库中的关系数据生成（构造）XML数据的功能。有SQL / XML标准函数和Oracle特定的函数和包，用于从关系内容生成XML数据。">从关系数据生成XML数据</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-DA44C914-8E2C-4ED0-89E6-91E852592604" title="针对与XMLType存储的XML数据的常见用例相对应的应用程序用例提供了建议。">存储为XMLType的XML数据的常见用例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6355"></a><div class="props_rev_3"><a id="GUID-D5020A68-9D12-4EDB-9315-7F027C008226" name="GUID-D5020A68-9D12-4EDB-9315-7F027C008226"></a><h4 id="ADXDB-GUID-D5020A68-9D12-4EDB-9315-7F027C008226" class="sect4"><span class="enumeration_section">16.3.4</span> XMLType用例：半结构化XML数据</h4>
                  <div>
                     <p>在这个用例中，您的XML数据是可变形式的，或者大部分数据都没有很好地定义。可能没有关联的XML架构，或者XML架构可能允许高数据可变性或显着或以意外方式发展。</p>
                     <p><code class="codeph">XMLType</code>数据的<span class="italic">二进制XML存储</span>通常适用于此用例。
                     </p>
                     <p>在查询路径已知时使用结构化组件<code class="codeph">XMLIndex</code>索引，并在事先不知道路径时使用路径子集化的非结构化组件<code class="codeph">XMLIndex</code>索引（即席查询）。使用XML搜索索引进行XQuery全文查询。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="indexes-for-XMLType-data.html#GUID-2DC9E402-5C06-4AED-B04B-C37B687DB6BB" title="您可以为XML内容的固定结构化岛屿项目的查询创建和使用XMLIndex索引的结构化组件，即使周围数据相对非结构化也是如此。">XMLIndex结构化组件</a></li>
                           <li><a href="indexes-for-XMLType-data.html#GUID-4A427DE6-21F9-45F6-8045-FF37C466A05C" title="与为表示单个XML元素或属性的特定数据库列定义的B树索引或应用于特定结构化文档部分的XMLIndex结构化组件不同，XMLIndex索引的非结构化组件默认为，非常一般。">XMLIndex非结构化组件</a></li>
                           <li><a href="indexes-for-XMLType-data.html#GUID-FAB7C619-902A-40CF-98B7-6D358E1AD49C" title="当您需要对XML数据进行全文搜索时，Oracle建议您将XMLType数据存储为二进制XML，并使用XQuery Full Text（XQFT）。您可以使用XML搜索索引。这是本节的主题。">为全文查询索引XML数据</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-DA44C914-8E2C-4ED0-89E6-91E852592604" title="针对与XMLType存储的XML数据的常见用例相对应的应用程序用例提供了建议。">存储为XMLType的XML数据的常见用例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6356"></a><div class="props_rev_3"><a id="GUID-FA28FA05-1E8B-4EB5-BEB4-6B6482ED5BE6" name="GUID-FA28FA05-1E8B-4EB5-BEB4-6B6482ED5BE6"></a><h4 id="ADXDB-GUID-FA28FA05-1E8B-4EB5-BEB4-6B6482ED5BE6" class="sect4"><span class="enumeration_section">16.3.5</span> XMLType用例：商业智能查询</h4>
                  <div>
                     <p>要通过XML数据启用业务智能（BI）查询，可以使用SQL / XML函数<code class="codeph">XMLTable</code>将数据中包含的值作为虚拟表的列进行投影。然后使用分析函数窗口以及SQL <code class="codeph">ORDER BY</code>和<code class="codeph">GROUP BY</code>来操作虚拟表的列。
                     </p>
                     <p>对于商业智能查询，您通常会执行以下所有操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将<code class="codeph">XMLType</code>数据存储为二进制XML。</p>
                        </li>
                        <li>
                           <p>将<code class="codeph">XMLIndex</code>索引与结构化组件一起使用。
                           </p>
                        </li>
                        <li>
                           <p>使用SQL / XML函数<code class="codeph">XMLTable</code>创建数据的关系视图，其中视图投影BI应用程序感兴趣的所有列。
                           </p>
                        </li>
                        <li>
                           <p>根据这些关系视图编写应用程序查询。</p>
                        </li>
                     </ul>
                     <p>如果<code class="codeph">XMLIndex</code>索引是与这些视图一一对应创建的，则Oracle数据库会自动将视图上的查询转换为结构化<code class="codeph">XMLIndex</code>组件的关系表上的查询，从而提供关系性能。
                     </p>
                     <p>在虚拟表的列上使用分析函数窗口， <code class="codeph">ORDER BY</code>或<code class="codeph">GROUP BY</code>时，这些操作将转换为结构化组件<code class="codeph">XMLIndex</code>表的相应物理列上的窗口， <code class="codeph">ORDER BY</code>和<code class="codeph">GROUP BY</code>操作。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="indexes-for-XMLType-data.html#GUID-2DC9E402-5C06-4AED-B04B-C37B687DB6BB" title="您可以为XML内容的固定结构化岛屿项目的查询创建和使用XMLIndex索引的结构化组件，即使周围数据相对非结构化也是如此。">XMLIndex结构化组件</a></li>
                           <li><a href="relational-views-over-XML-data.html#GUID-420496CE-D62F-4EBE-A76E-861B932AE1E6" title="XML数据的关系数据库视图提供对XML内容的传统关系访问。">XML数据的关系视图</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-DA44C914-8E2C-4ED0-89E6-91E852592604" title="针对与XMLType存储的XML数据的常见用例相对应的应用程序用例提供了建议。">存储为XMLType的XML数据的常见用例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6357"></a><div class="props_rev_3"><a id="GUID-681F290F-581D-4344-BDE4-6FF98CD890FA" name="GUID-681F290F-581D-4344-BDE4-6FF98CD890FA"></a><h4 id="ADXDB-GUID-681F290F-581D-4344-BDE4-6FF98CD890FA" class="sect4"><span class="enumeration_section">16.3.6</span> XMLType用例：涉及全文搜索的XML查询</h4>
                  <div>
                     <p>如果您的应用程序需要对XML数据执行全文搜索，则使用<span class="italic">二进制XML存储</span>并创建与您的查询对应的XML搜索索引。
                     </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="indexes-for-XMLType-data.html#GUID-FAB7C619-902A-40CF-98B7-6D358E1AD49C" title="当您需要对XML数据进行全文搜索时，Oracle建议您将XMLType数据存储为二进制XML，并使用XQuery Full Text（XQFT）。您可以使用XML搜索索引。这是本节的主题。">为全文查询索引XML数据</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-DA44C914-8E2C-4ED0-89E6-91E852592604" title="针对与XMLType存储的XML数据的常见用例相对应的应用程序用例提供了建议。">存储为XMLType的XML数据的常见用例</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB6361"></a><a id="ADXDB6360"></a><div class="props_rev_3"><a id="GUID-320807FC-DB58-4600-8F92-A1247A354AE5" name="GUID-320807FC-DB58-4600-8F92-A1247A354AE5"></a><h3 id="ADXDB-GUID-320807FC-DB58-4600-8F92-A1247A354AE5" class="sect3"><span class="enumeration_section">16.4</span> XMLType存储模型注意事项</h3>
               <div>
                  <p>对于大多数用例，Oracle建议您使用<code class="codeph">XMLType</code>二进制XML存储。对象关系存储在特殊情况下是适当的。
                  </p>
                  <p>除非满足以下<span class="italic">所有条件</span> ，否则对象关系存储是不合适的：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您有一个XML模式，它严格指定您要存储在给定<code class="codeph">XMLType</code>列或表中的所有XML文档的详细数据格式。您的应用程序是以数据为中心的。
                        </p>
                     </li>
                     <li>
                        <p>您不希望XML模式经常以不允许就地模式演变的方式发展。</p>
                     </li>
                     <li>
                        <p>您的数据不是特别稀疏（不包括许多空或缺少的元素）。</p>
                     </li>
                     <li>
                        <p>您不必一次插入和选择整个XML文档。部分更新和选择很常见。</p>
                     </li>
                     <li>
                        <p>您不需要文档保真度（DOM保真度就足够了）。</p>
                     </li>
                  </ul>
                  <p><a href="choice-of-XMLType-storage-and-indexing.html#GUID-320807FC-DB58-4600-8F92-A1247A354AE5__BABCJHFI" title="此表显示了选择XMLType存储模型的准则。">表16-1</a>提供了有关此的更多详细信息。它提出了一个选择的准则<code class="codeph">XMLType</code>存储模型<span class="italic">不是</span>独立的：跟随他们<span class="italic">呈现出的顺序</span> ，逐列，直到要求在列<span class="bold">。如果......</span>是满意的。
                  </p>
                  <div class="tblformal" id="GUID-320807FC-DB58-4600-8F92-A1247A354AE5__BABCJHFI">
                     <p class="titleintable">表16-1 XMLType存储模型注意事项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="XMLType存储模型注意事项" width="100%" border="1" summary="This table shows guidelines for selecting an XMLType storage model." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d79426e1130">如果...</th>
                              <th align="left" valign="bottom" width="50%" id="d79426e1133">然后...</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1138" headers="d79426e1130 ">
                                 <p>1。您需要文档保真度的属性，保留所有原始空白。</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1138 d79426e1133 ">
                                 <p>使用二进制XML存储来进行数据库使用和XML处理。但是也要将原始文档的副本存储在<code class="codeph">CLOB</code> （关系）列中。
                                 </p>
                                 <p>（如果更新数据，则有责任保持两个版本同步。）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1150" headers="d79426e1130 ">
                                 <p>2。您很少需要选择或仅更新部分XML数据。相反，您通常一次插入并选择整个XML文档。</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1150 d79426e1133 ">
                                 <p>使用二进制XML存储。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1157" headers="d79426e1130 ">
                                 <p>3。您需要在<span class="italic">同一</span> <code class="codeph">XMLType</code>表或列中存储符合不同XML模式的<code class="codeph">XMLType</code>实例。
                                 </p>
                                 <p>（Oracle一般<span class="italic">不</span>推荐这种做法，因为它禁止Oracle XML DB使用XML模式来优化XML查询和其他操作。）
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1157 d79426e1133 ">
                                 <p>使用二进制XML存储。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1178" headers="d79426e1130 ">
                                 <p>4。您<span class="italic">没有</span>数据的XML架构。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1178 d79426e1133 ">
                                 <p>使用二进制XML存储。</p>
                                 <p>如果您认为您的数据可以从XML模式验证中受益，那么还要考虑是否可以使用模式生成工具为其生成XML模式。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1190" headers="d79426e1130 ">
                                 <p>5。您希望XML模式经常或以意想不到的方式发展，并且您<span class="italic">无法</span>利用就地XML模式演变。
                                 </p>
                                 <p>仅当更改不会使现有文档无效且它们不涉及更改存储模型时，通常才允许就地演变。请参阅<a href="XML-Schema-evolution.html#GUID-F2E920B3-C6D7-428B-9E75-5CE9C21F9B5F" title="在向Oracle XML DB注册XML模式后，可以使用XML模式演变来更新XML模式。">XML Schema Evolution</a> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1190 d79426e1133 ">
                                 <p>使用二进制XML存储。</p>
                                 <p>使用PL / SQL过程<code class="codeph">DBMS_XMLSCHEMA.copyEvolve</code>更新XML模式。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1213" headers="d79426e1130 ">
                                 <p>6。您的XML数据非常稀疏。</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1213 d79426e1133 ">
                                 <p>使用二进制XML存储。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1220" headers="d79426e1130 ">
                                 <p>7。XML模式<span class="italic">不</span>使用结构，如元素<code class="codeph">any</code>和<code class="codeph">choice</code> ，不提供数据格式的详细规范。
                                 </p>
                                 <p>（XML模式生成器通常在生成的模式中包含此类构造。）</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1220 d79426e1133 ">
                                 <p>使用对象关系存储。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1238" headers="d79426e1130 ">
                                 <p>8。您可以修改XML模式以删除<code class="codeph">any</code>阻止严格定义XML数据结构的构造，例如<code class="codeph">any</code>和<code class="codeph">choice</code> 。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1238 d79426e1133 ">
                                 <p>删除此类构造，然后使用对象关系存储。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1251" headers="d79426e1130 ">
                                 <p>9。你无法删除这样的结构。</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1251 d79426e1133 ">
                                 <p>使用二进制XML存储。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" title="应用程序的重要设计选择包括要使用的XMLType存储模型以及要使用的索引方法。">XMLType存储和索引的选择</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6363"></a><a id="ADXDB6362"></a><div class="props_rev_3"><a id="GUID-93D32688-B8F8-4AD9-BD39-3E4A861FD780" name="GUID-93D32688-B8F8-4AD9-BD39-3E4A861FD780"></a><h3 id="ADXDB-GUID-93D32688-B8F8-4AD9-BD39-3E4A861FD780" class="sect3"><span class="enumeration_section">16.5</span> XMLType索引注意事项</h3>
               <div>
                  <p>对于以对象方式存储的<code class="codeph">XMLType</code>数据，就像创建关系数据一样创建B树和位图索引。对存储为二进制XML的<code class="codeph">XMLType</code>数据使用<code class="codeph">XMLIndex</code>索引。</p>
                  <p>对于以文档为中心的XML数据的常规索引， <code class="codeph">XMLIndex</code>与<span class="italic">非结构化组件一起使用</span> 。这适用于临时（任意）查询。
                  </p>
                  <p>对于包含经常查询的可预测，固定部分的数据，请对这些部分使用带有<span class="italic">结构化组件的</span> <code class="codeph">XMLIndex</code> 。此用例的一个示例是通常为自由格式但具有作者，日期和标题的固定字段的规范。
                  </p>
                  <p>要在通常非结构化内容中处理结构岛，请创建具有结构化和非结构化组件的<code class="codeph">XMLIndex</code>索引。您可以使用这两个组件的用例是支持在存在某些结构化数据时从文档中提取XML片段的查询。索引的结构化组件将用于检查结构化数据的查询<code class="codeph">WHERE</code>子句条件。非结构化组件将用于片段提取。
                  </p>
                  <p><a href="choice-of-XMLType-storage-and-indexing.html#GUID-93D32688-B8F8-4AD9-BD39-3E4A861FD780__BABDBDBA" title="此表是用于索引二进制XML数据的核对表。">表16-2</a>提供了索引<code class="codeph">XMLType</code>数据的简单指南，该数据存储为二进制XML。这些指南是<span class="italic">独立的</span> ： <span class="bold">如果</span>满足<span class="bold">If ...</span>条件，则可以使用索引方法的组合。
                  </p>
                  <div class="tblformal" id="GUID-93D32688-B8F8-4AD9-BD39-3E4A861FD780__BABDBDBA">
                     <p class="titleintable">表16-2 XMLType索引注意事项</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="XMLType索引注意事项" width="100%" border="1" summary="This table is a checklist for indexing binary XML data." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="50%" id="d79426e1353">如果...</th>
                              <th align="left" valign="bottom" width="50%" id="d79426e1356">然后...</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1361" headers="d79426e1353 ">
                                 <p>您的数据包含可预测的结构化数据孤岛。</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1361 d79426e1356 ">
                                 <p>使用<code class="codeph">XMLIndex</code> ，为每个结构化岛屿提供结构化组件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1371" headers="d79426e1353 ">
                                 <p>您需要支持全文查询。</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1371 d79426e1356 ">
                                 <p>使用XML搜索索引。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="50%" id="d79426e1378" headers="d79426e1353 ">
                                 <p>您需要支持涉及谓词的临时XML查询。</p>
                              </td>
                              <td align="left" valign="top" width="50%" headers="d79426e1378 d79426e1356 ">
                                 <p>使用带有非结构化组件的<code class="codeph">XMLIndex</code> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" title="应用程序的重要设计选择包括要使用的XMLType存储模型以及要使用的索引方法。">XMLType存储和索引的选择</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6365"></a><a id="ADXDB6364"></a><div class="props_rev_3"><a id="GUID-DFD4521D-3733-4C2A-BBC2-22D0CC74A7D7" name="GUID-DFD4521D-3733-4C2A-BBC2-22D0CC74A7D7"></a><h3 id="ADXDB-GUID-DFD4521D-3733-4C2A-BBC2-22D0CC74A7D7" class="sect3"><span class="enumeration_section">16.6</span> XMLType存储选项：相对优势</h3>
               <div>
                  <p>每种<code class="codeph">XMLType</code>存储模型都有特定的优点和缺点。
                  </p>
                  <p><a href="choice-of-XMLType-storage-and-indexing.html#GUID-DFD4521D-3733-4C2A-BBC2-22D0CC74A7D7__BIHIIJBA" title="该表有3列8行。它总结了结构化和非结构化存储选项及其优点。第一行总结了整个输出功能，第二行，灵活性等等。">表16-3</a>总结了每种<code class="codeph">XMLType</code>存储模型的优缺点。符号+和 - 分别提供强度和弱点的粗略指示。
                  </p>
                  <div class="tblformalwide" id="GUID-DFD4521D-3733-4C2A-BBC2-22D0CC74A7D7__BIHIIJBA">
                     <p class="titleintable">表16-3 XMLType存储模型：相对优势</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="XMLType存储模型：相对优势" width="100%" border="1" summary="This table has 3 columns and 8 rows. It summarizes structured and unstructured storage options and their benefits. The first row summarizes throughoutput features, the second row, flexibility, and so on." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="21%" id="d79426e1447">质量</th>
                              <th align="left" valign="bottom" width="40%" id="d79426e1450">二进制XML存储</th>
                              <th align="left" valign="bottom" width="40%" id="d79426e1453">对象关系存储</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d79426e1458" headers="d79426e1447 ">
                                 <p>吞吐量</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1458 d79426e1450 ">
                                 <p>（+）高吞吐量。快速DOM加载。二进制编码器/解码器有一点点开销。</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1458 d79426e1453 ">
                                 <p>（ - ）XML分解在摄取或检索XML文档的整个内容时可能导致吞吐量降低。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d79426e1468" headers="d79426e1447 ">
                                 <p>索引支持</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1468 d79426e1450 ">
                                 <p><code class="codeph">XMLIndex</code>和XML搜索索引。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1468 d79426e1453 ">
                                 <p>特定元素或属性的B树，位图和Oracle Text索引。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d79426e1480" headers="d79426e1447 ">
                                 <p>查询</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1480 d79426e1450 ">
                                 <p>（+）使用<code class="codeph">XMLIndex</code>时速度快。无法使用索引的查询使用流式XPath评估，这也可以很快。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1480 d79426e1453 ">
                                 <p>（++）关系查询性能。您可以在基础对象关系列上创建B树索引。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d79426e1493" headers="d79426e1447 ">
                                 <p>更新操作（DML）</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1493 d79426e1450 ">
                                 <p>（+）SecureFiles LOB存储的就地，分段更新。</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1493 d79426e1453 ">
                                 <p>（++）关系更新性能。列已更新到位。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d79426e1503" headers="d79426e1447 ">
                                 <p>数据灵活性</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1503 d79426e1450 ">
                                 <p>（+）可以存储在<code class="codeph">XMLType</code>列或表中的XML文档结构的灵活性。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1503 d79426e1453 ">
                                 <p>（ - ）灵活性有限。只能存储符合XML模式的文档。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d79426e1516" headers="d79426e1447 ">
                                 <p>XML架构灵活性</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1516 d79426e1450 ">
                                 <p>（++）可以存储基于XML模式和非基于模式的文档。符合已注册的任何XML模式的文档可以存储在同一<code class="codeph">XMLType</code>表或列中。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1516 d79426e1453 ">
                                 <p>（ - ）只有符合相同XML模式的文档才能存储在给定的<code class="codeph">XMLType</code>表或列中。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d79426e1532" headers="d79426e1447 ">
                                 <p>插入时验证</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1532 d79426e1450 ">
                                 <p>（++）基于XML模式的数据在插入时可以完全验证，但这需要时间。</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1532 d79426e1453 ">
                                 <p>（+）XML数据在插入时会部分验证。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="21%" id="d79426e1542" headers="d79426e1447 ">
                                 <p>压缩和加密</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1542 d79426e1450 ">
                                 <p>（+）带SecureFiles的二进制XML可以压缩/加密LOB存储。</p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d79426e1542 d79426e1453 ">
                                 <p>（++）每个XML元素/属性都可以单独压缩/加密。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="choice-of-XMLType-storage-and-indexing.html#GUID-F1EE5B88-69E1-47B4-97FC-92F184C0CBA1" title="应用程序的重要设计选择包括要使用的XMLType存储模型以及要使用的索引方法。">XMLType存储和索引的选择</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>