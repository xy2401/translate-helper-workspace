<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can improve your query application with a thesaurus.">
      <meta name="description" content="You can improve your query application with a thesaurus.">
      <title>Working with a Thesaurus in Oracle Text</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Application Developer's Guide ">
      <meta property="og:description" content="You can improve your query application with a thesaurus.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Application Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96275-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-oracle-text-name-search.html" title="Previous" type="text/html">
      <link rel="next" href="using-faceted-navigation.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer's Guide">
    <meta name="dcterms.isVersionOf" content="CCAPP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-oracle-text-name-search.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-faceted-navigation.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Application Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Working with a Thesaurus in Oracle Text</li>
            </ol>
            <a id="GUID-05C24323-568D-4952-9358-7C98D68B19BF" name="GUID-05C24323-568D-4952-9358-7C98D68B19BF"></a><a id="CCAPP0900"></a>
            
            <h2 id="CCAPP-GUID-05C24323-568D-4952-9358-7C98D68B19BF" class="sect2"><span class="enumeration_chapter">13 </span> Working with a Thesaurus in Oracle Text
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can improve your query application with a thesaurus.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-977262E7-D52B-4E4C-AF59-0EB36446F975">Overview of Oracle Text Thesaurus Features</a></p>
                  </li>
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-241A1449-F84B-4C47-97C0-376EA68DCC88">Defining Terms in a Thesaurus</a></p>
                  </li>
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-C17963C5-1201-4243-952A-91C0C9EE4B15">Using a Thesaurus in a Query Application</a></p>
                  </li>
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-8251B968-DB73-4125-9A2E-E19F1FA03EDD">Loading a Custom Thesaurus and Issuing Thesaurus-Based Queries</a></p>
                  </li>
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-63336C63-95D9-45FB-8824-A166A44E1370">Augmenting the Knowledge Base with a Custom Thesaurus</a></p>
                  </li>
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-45C350FA-B73A-468C-9727-E4EE8A40244D">Linking New Terms to Existing Terms</a></p>
                  </li>
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A">Example of Loading a Thesaurus with ctxload</a></p>
                  </li>
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-D9CB1033-F36E-480F-9A31-A1B26A9B9C76">Example of Loading a Thesaurus with the CTX_THES.IMPORT_THESAURUS PL/SQL procedure</a></p>
                  </li>
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3">Compiling a Loaded Thesaurus</a></p>
                  </li>
                  <li>
                     <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-F35BEFA4-494B-4DD4-AD5E-836C5C1E29B5">About the Supplied Knowledge Base</a></p>
                  </li>
               </ul>
            </div><a id="CCAPP9325"></a><div class="props_rev_3"><a id="GUID-977262E7-D52B-4E4C-AF59-0EB36446F975" name="GUID-977262E7-D52B-4E4C-AF59-0EB36446F975"></a><h3 id="CCAPP-GUID-977262E7-D52B-4E4C-AF59-0EB36446F975" class="sect3"><span class="enumeration_section">13.1 </span>Overview of Oracle Text Thesaurus Features
               </h3>
               <div>
                  <p>Users of your query application looking for information on a given topic might not know which words have been used in documents that refer to that topic.</p>
                  <p>Oracle Text enables you to create case-sensitive or case-insensitive thesauruses that define synonym and hierarchical relationships between words and phrases. You can then retrieve documents that contain relevant text by expanding queries to include similar or related terms as defined in the thesaurus.</p>
                  <p>You can create a thesaurus and load it into the system.</p>
                  <p>This section contains the following topics.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-C1DB8E0C-B8F7-4833-8257-B0FD3B57636A">Oracle Text Thesaurus Creation and Maintenance</a></p>
                     </li>
                     <li>
                        <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-66D658A7-C05F-457B-9F66-69DE01C00FA8">Using a Case-sensitive Thesaurus</a></p>
                     </li>
                     <li>
                        <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-52DBAEB0-B436-43AC-A360-8C8AF15A3C12">Using a Case-insensitive Thesaurus</a></p>
                     </li>
                     <li>
                        <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-331B8430-2527-4BD7-9712-1070E2770EA6">Default Thesaurus</a></p>
                     </li>
                     <li>
                        <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-131EF4B1-A74F-4891-AF68-BEB0D719D594">Supplied Thesaurus</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-977262E7-D52B-4E4C-AF59-0EB36446F975__GUID-51F8B817-C187-4F33-9E09-49FAF7583C05">
                     <p class="notep1">Note:</p>
                     <p>Oracle Text thesaurus formats and functionality are compliant with both the ISO-2788 and ANSI Z39.19 (1993) standards.</p>
                  </div>
               </div><a id="CCAPP9326"></a><div class="props_rev_3"><a id="GUID-C1DB8E0C-B8F7-4833-8257-B0FD3B57636A" name="GUID-C1DB8E0C-B8F7-4833-8257-B0FD3B57636A"></a><h4 id="CCAPP-GUID-C1DB8E0C-B8F7-4833-8257-B0FD3B57636A" class="sect4"><span class="enumeration_section">13.1.1 </span>Oracle Text Thesaurus Creation and Maintenance
                  </h4>
                  <div>
                     <p>If you have the <code class="codeph">CTXAPP</code> role, you can create, modify, delete, import, and export thesauruses and thesaurus entries. 
                     </p>
                     <p>This section contains the following topics.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">CTX_THES Package:</span> To maintain and browse your thesaurus programatically, you can use the <code class="codeph">CTX_THES</code> PL/SQL package. With this package, you can browse terms and hierarchical relationships, add and delete terms, add and remove thesaurus relations, and import and export thesauruses in and out of the thesaurus tables.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Thesaurus Operators:</span> To expand query terms according to your loaded thesaurus, you can use the thesaurus operators in the <code class="codeph">CONTAINS</code> clause. For example, use the <code class="codeph">SYN</code> operator to expand a term such as <span class="italic">dog</span> to its synonyms:
                           </p>
                           <p><code class="codeph">'syn(dog)'</code></p>
                        </li>
                        <li>
                           <p><span class="bold">ctxload Utility:</span> You can use the <code class="codeph">ctxload</code> utility to load thesauruses from a plain-text file into the thesaurus tables, and to dump thesauruses from the tables into output (or dump) files.
                           </p>
                           <p>You can print the thesaurus dump files, you can use them as input for other applications, and you can use them to load a thesaurus into the thesaurus tables (useful when you want to use an existing thesaurus as the basis for a new thesaurus).</p>
                           <div class="infoboxnotewarn" id="GUID-C1DB8E0C-B8F7-4833-8257-B0FD3B57636A__GUID-2D582C48-D4CB-4B86-BAB8-1AD4BC87C7A3">
                              <p class="notep1">WARNING:</p>
                              <p>To ensure sound security practices, Oracle recommends that you enter the password for <code class="codeph">ctxload</code> by using the interactive mode, which prompts you for the user password. Oracle strongly recommends that you do not enter a password on the command line.
                              </p>
                           </div>
                           <div class="infoboxnote" id="GUID-C1DB8E0C-B8F7-4833-8257-B0FD3B57636A__GUID-95C42E0C-A13B-4894-9B95-38A2755BAD0B">
                              <p class="notep1">Note:</p>
                              <p>You can also programatically import and export thesauruses in and out of the thesaurus tables using the PL/SQL package <code class="codeph">CTX_THES</code> procedures <code class="codeph">IMPORT_THESAURUS</code> and <code class="codeph">EXPORT_THESAURUS</code>.
                              </p>
                              <p>Refer to <a href="../ccref/CTX_THES-package.html#CCREF-GUID-154829CA-8B78-4F17-9D05-4A6049C14E1D" target="_blank"><span class="italic">Oracle Text Reference</span></a> for more information about these procedures.
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="CCAPP9330"></a><div class="props_rev_3"><a id="GUID-66D658A7-C05F-457B-9F66-69DE01C00FA8" name="GUID-66D658A7-C05F-457B-9F66-69DE01C00FA8"></a><h4 id="CCAPP-GUID-66D658A7-C05F-457B-9F66-69DE01C00FA8" class="sect4"><span class="enumeration_section">13.1.2 </span>Using a Case-Sensitive Thesaurus
                  </h4>
                  <div>
                     <p>In a case-sensitive thesaurus, terms (words and phrases) are stored exactly as you enter them. For example, if you enter a term in mixed case (using either the <code class="codeph">CTX_THES</code> package or a thesaurus load file), then the thesaurus stores the entry in mixed case.
                     </p>
                     <div class="infoboxnote" id="GUID-66D658A7-C05F-457B-9F66-69DE01C00FA8__GUID-BFB3F8A3-AAF3-4DDB-B4B8-E4513212EA80">
                        <p class="notep1">Note:</p>
                        <p>To take full advantage of query expansions that result from a case-sensitive thesaurus, your index must also be case-sensitive.</p>
                     </div>
                     <p>When loading a thesaurus, you can specify a case-sensitive thesaurus by using the <code class="codeph">-thescase</code> parameter.
                     </p>
                     <p>When creating a thesaurus with either <code class="codeph">CTX_THES.CREATE_THESAURUS</code> or <code class="codeph">CTX_THES.IMPORT_THESAURUS,</code> you can specify a case-sensitive thesaurus.
                     </p>
                     <p>In addition, when you specify a case-sensitive thesaurus in a query, the thesaurus lookup uses the query terms exactly as you enter them in the query. Therefore, queries that use case-sensitive thesauruses allow for a higher level of precision in the query expansion, which helps lookup when and only when you have a case-sensitive index.</p>
                     <p>For example, a case-sensitive thesaurus is created with different entries for the distinct meanings of the terms <span class="italic">Turkey</span> (the country) and <span class="italic">turkey</span> (the type of bird). Using the thesaurus, a query for <span class="italic">Turkey</span> expands to include only the entries associated with <span class="italic">Turkey. </span></p>
                  </div>
               </div><a id="CCAPP9331"></a><div class="props_rev_3"><a id="GUID-52DBAEB0-B436-43AC-A360-8C8AF15A3C12" name="GUID-52DBAEB0-B436-43AC-A360-8C8AF15A3C12"></a><h4 id="CCAPP-GUID-52DBAEB0-B436-43AC-A360-8C8AF15A3C12" class="sect4"><span class="enumeration_section">13.1.3 </span>Using a Case-Insensitive Thesaurus
                  </h4>
                  <div>
                     <p>In a case-insensitive thesaurus, terms are stored in all uppercase, regardless of the case in which they were originally entered. </p>
                     <p>The <code class="codeph">ctxload</code> program loads a thesaurus in case-insensitive mode by default.
                     </p>
                     <p>When creating a thesaurus with either <code class="codeph">CTX_THES</code>.<code class="codeph">CREATE_THESAURUS</code> or <code class="codeph">CTX_THES.IMPORT_THESAURUS,</code> the thesaurus is created as case-insensitive by default. 
                     </p>
                     <p>In addition, when you specify a case-insensitive thesaurus in a query, the query terms are converted to all uppercase for thesaurus lookup. As a result, Oracle Text is unable to distinguish between terms that have different meanings when they are in mixed case.</p>
                     <p>For example, a case-insensitive thesaurus is created with different entries for the two distinct meanings of the term <span class="italic">TURKEY</span> (the country or the type of bird). Using the thesaurus, a query for either <span class="italic">Turkey</span> or <span class="italic">turkey</span> is converted to <span class="italic">TURKEY</span> for thesaurus lookup and then expanded to include all the entries associated with both meanings.
                     </p>
                  </div>
               </div><a id="CCAPP9332"></a><div class="props_rev_3"><a id="GUID-331B8430-2527-4BD7-9712-1070E2770EA6" name="GUID-331B8430-2527-4BD7-9712-1070E2770EA6"></a><h4 id="CCAPP-GUID-331B8430-2527-4BD7-9712-1070E2770EA6" class="sect4"><span class="enumeration_section">13.1.4 </span>Default Thesaurus
                  </h4>
                  <div>
                     <p>If you do not specify a thesaurus by name in a query, by default, the thesaurus operators use a thesaurus named <span class="italic">DEFAULT.</span> However, Oracle Text does not provide a <span class="italic">DEFAULT</span> thesaurus.
                     </p>
                     <p>As a result, if you want to use a default thesaurus for the thesaurus operators, you must create a thesaurus named <span class="italic">DEFAULT.</span> You can create the thesaurus through any of the thesaurus creation methods supported by Oracle Text:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CTX_THES</code>.<code class="codeph">CREATE_THESAURUS</code> (PL/SQL)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_THES</code>.<code class="codeph">IMPORT_THESAURUS</code> (PL/SQL)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ctxload</code> utility
                           </p>
                           <div class="infoboxnotealso" id="GUID-331B8430-2527-4BD7-9712-1070E2770EA6__GUID-8B4D74A5-0764-42B9-A3A5-6E94A21C2E14">
                              <p class="notep1">See Also:</p>
                              <p><a href="../ccref/CTX_THES-package.html#CCREF-GUID-154829CA-8B78-4F17-9D05-4A6049C14E1D" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about using <code class="codeph">ctxload</code> and the <code class="codeph">CTX_THES</code> package
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="CCAPP9333"></a><div class="props_rev_3"><a id="GUID-131EF4B1-A74F-4891-AF68-BEB0D719D594" name="GUID-131EF4B1-A74F-4891-AF68-BEB0D719D594"></a><h4 id="CCAPP-GUID-131EF4B1-A74F-4891-AF68-BEB0D719D594" class="sect4"><span class="enumeration_section">13.1.5 </span>Supplied Thesaurus
                  </h4>
                  <div>
                     <p>Although Oracle Text does not provide a default thesaurus, Oracle Text does supply a thesaurus, in the form of a file that you load with <code class="codeph">ctxload,</code> you can use to create a general-purpose, English-language thesaurus.
                     </p>
                     <p>You can use the thesaurus load file to create a default thesaurus for Oracle Text, or you can use it as the basis for thesauruses tailored to a specific subject or range of subjects.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Supplied Thesaurus Structure and Content:</span> The supplied thesaurus is similar to a traditional thesaurus, such as Roget's Thesaurus, in that it provides a list of synonymous and semantically related terms.
                           </p>
                           <p>It provides additional value by organizing the terms into a hierarchy that defines real-world, practical relationships between narrower terms and their broader terms.</p>
                           <p>Additionally, cross-references are established between terms in different areas of the hierarchy. </p>
                        </li>
                        <li>
                           <p><span class="bold">Supplied Thesaurus Location:</span> The exact name and location of the thesaurus load file depends on the operating system; however, the file is generally named <code class="codeph">dr0thsus</code> (with an appropriate extension for text files) and is generally located in the following directory structure:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;Oracle_home_directory&gt;
    &lt;Oracle_Text_directory&gt;
       sample
           thes</pre></li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-131EF4B1-A74F-4891-AF68-BEB0D719D594__GUID-7CE4B494-A3A1-4F6D-83EA-390F4DC4F16A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Database Installation Guide</span></a> for the installation documentation specific to your operating system for more information about the directory structure of Oracle Text
                              </p>
                           </li>
                           <li>
                              <p><a href="../ccref/CTX_THES-package.html#CCREF-GUID-154829CA-8B78-4F17-9D05-4A6049C14E1D" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about using <code class="codeph">ctxload</code> and the <code class="codeph">CTX_THES</code> package
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CCAPP9336"></a><div class="props_rev_3"><a id="GUID-241A1449-F84B-4C47-97C0-376EA68DCC88" name="GUID-241A1449-F84B-4C47-97C0-376EA68DCC88"></a><h3 id="CCAPP-GUID-241A1449-F84B-4C47-97C0-376EA68DCC88" class="sect3"><span class="enumeration_section">13.2 </span>Defining Terms in a Thesaurus
               </h3>
               <div>
                  <p>You can create synonyms, related terms, and hierarchical relationships with a thesaurus.</p>
                  <p>This section contains the following topics.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-84FD0E8E-9C85-4314-BD21-AC70CDA94212">Defining Synonyms</a></p>
                     </li>
                     <li>
                        <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-21F87742-1F77-401B-BF40-9CCD7F5DC726">Defining Hierarchical Relations</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9337"></a><div class="props_rev_3"><a id="GUID-84FD0E8E-9C85-4314-BD21-AC70CDA94212" name="GUID-84FD0E8E-9C85-4314-BD21-AC70CDA94212"></a><h4 id="CCAPP-GUID-84FD0E8E-9C85-4314-BD21-AC70CDA94212" class="sect4"><span class="enumeration_section">13.2.1 </span>Defining Synonyms
                  </h4>
                  <div>
                     <p>If you have a thesaurus of computer science terms, then you might define a synonym for the term <span class="italic">XML</span> as <span class="italic">extensible markup language.</span> This synonym enables queries on either of these terms to return the same documents.
                     </p><pre class="oac_no_warn" dir="ltr">XML</pre><pre class="oac_no_warn" dir="ltr">SYN Extensible Markup Language
</pre><p>You can use the <code class="codeph">SYN</code> operator to expand XML into its synonyms:
                     </p><pre class="oac_no_warn" dir="ltr">'SYN(XML)'
</pre><p>is expanded to:</p><pre class="oac_no_warn" dir="ltr">'XML, Extensible Markup Language'</pre></div>
               </div><a id="CCAPP9338"></a><div class="props_rev_3"><a id="GUID-21F87742-1F77-401B-BF40-9CCD7F5DC726" name="GUID-21F87742-1F77-401B-BF40-9CCD7F5DC726"></a><h4 id="CCAPP-GUID-21F87742-1F77-401B-BF40-9CCD7F5DC726" class="sect4"><span class="enumeration_section">13.2.2 </span>Defining Hierarchical Relations
                  </h4>
                  <div>
                     <p>If your document set consists of news articles, you can use a thesaurus to define a hierarchy of geographical terms. Consider the following that describes a geographical hierarchy for the state of California: </p><pre class="oac_no_warn" dir="ltr">California
   NT Northern California
       NT San Francisco
       NT San Jose
   NT Central Valley
       NT Fresno
   NT Southern California
       NT Los Angeles
</pre><p>You can use the <code class="codeph">NT</code> operator to expand a query on California:
                     </p><pre class="oac_no_warn" dir="ltr">'NT(California)'
</pre><p>is expanded to:</p><pre class="oac_no_warn" dir="ltr">'California, Northern California, San Francisco, San Jose, Central Valley,
  Fresno, Southern California, Los Angeles'
</pre><p>The resulting hitlist shows all documents related to the state of California regions and cities.</p>
                  </div>
               </div>
            </div><a id="CCAPP9339"></a><div class="props_rev_3"><a id="GUID-C17963C5-1201-4243-952A-91C0C9EE4B15" name="GUID-C17963C5-1201-4243-952A-91C0C9EE4B15"></a><h3 id="CCAPP-GUID-C17963C5-1201-4243-952A-91C0C9EE4B15" class="sect3"><span class="enumeration_section">13.3 </span>Using a Thesaurus in a Query Application
               </h3>
               <div>
                  <p>When you define a custom thesaurus, you can process queries more intelligently. Because users of your application might not know which words represent a topic, you can define synonyms or narrower terms for likely query terms. You can use the thesaurus operators to expand your query into your thesaurus terms.</p>
                  <p>There are two ways that you can enhance your query application with a custom thesaurus so that you can process queries more intelligently. Each approach has its advantages and disadvantages.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Load your custom thesaurus and enter queries with thesaurus operators</p>
                     </li>
                     <li>
                        <p>Augment the knowledge base with your custom thesaurus (English only) and use the <code class="codeph">ABOUT</code> operator to expand your query.
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="CCAPP9340"></a><div class="props_rev_3"><a id="GUID-8251B968-DB73-4125-9A2E-E19F1FA03EDD" name="GUID-8251B968-DB73-4125-9A2E-E19F1FA03EDD"></a><h3 id="CCAPP-GUID-8251B968-DB73-4125-9A2E-E19F1FA03EDD" class="sect3"><span class="enumeration_section">13.4 </span>Loading a Custom Thesaurus and Issuing Thesaurus-Based Queries
               </h3>
               <div>
                  <div class="section">
                     <p>You can build and load a custom thesaurus. </p>
                     <p>The advantage of this method is that you can modify the thesaurus after indexing. </p>
                     <p>The limitation of this method is that you must use thesaurus expansion operators in your query. Long queries can cause extra overhead in the thesaurus expansion and slow your query down.</p>
                     <p>To build a custom thesaurus:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Create your thesaurus. See <span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-241A1449-F84B-4C47-97C0-376EA68DCC88">Defining Terms in a Thesaurus</a>"</span>. </span></li>
                     <li class="stepexpand"><span>Load the thesaurus with <code class="codeph">ctxload.</code> The following example imports a thesaurus named <code class="codeph">tech_doc</code> from an import file named <code class="codeph">tech_thesaurus.txt:</code></span><div><pre class="oac_no_warn" dir="ltr">ctxload -thes -name tech_doc -file tech_thesaurus.txt </pre><pre class="oac_no_warn" dir="ltr"></pre></div>
                     </li>
                     <li class="stepexpand"><span>At the prompt, enter your user name and password. To ensure security, do not enter a password at the command line.</span></li>
                     <li class="stepexpand"><span>Use <code class="codeph">THES</code> operators to query. For example, you can find all documents that contain XML and its synonyms as defined in <code class="codeph">tech_doc:</code></span><div><pre class="oac_no_warn" dir="ltr">'SYN(XML, tech_doc)'</pre></div>
                     </li>
                  </ol>
               </div>
            </div><a id="CCAPP9343"></a><div class="props_rev_3"><a id="GUID-63336C63-95D9-45FB-8824-A166A44E1370" name="GUID-63336C63-95D9-45FB-8824-A166A44E1370"></a><h3 id="CCAPP-GUID-63336C63-95D9-45FB-8824-A166A44E1370" class="sect3"><span class="enumeration_section">13.5 </span>Augmenting the Knowledge Base with a Custom Thesaurus
               </h3>
               <div>
                  <div class="section">
                     <p>You can add your custom thesaurus to a branch in the existing knowledge base. The knowledge base is a hierarchical tree of concepts used for theme indexing, <code class="codeph">ABOUT</code> queries, and derived themes for document services. 
                     </p>
                     <p>When you augment the existing knowledge base with your new thesaurus, you query with the <code class="codeph">ABOUT</code> operator. The query implicitly expands to synonyms and narrower terms. You do not query with the thesaurus operators.
                     </p>
                     <p>To augment the existing knowledge base with your custom thesaurus:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Create your custom thesaurus, linking new terms to existing knowledge base terms.</span></li>
                     <li class="stepexpand"><span>Load the thesaurus one of the following ways:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Using the <code class="codeph">ctxload</code> utility. See <span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A">Example of Loading a Thesaurus with ctxload</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Using the PL/SQL procedure <code class="codeph">CTX_THES.IMPORT_THESAURUS.</code> See <span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-D9CB1033-F36E-480F-9A31-A1B26A9B9C76">Example of Loading a Thesaurus with the CTX_THES.IMPORT_THESAURUS PL/SQL procedure</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Compile the loaded thesaurus with the <code class="codeph">ctxkbtc</code> compiler.</span></li>
                     <li class="stepexpand"><span>Index your documents. By default the system creates a theme component for your index.</span></li>
                     <li class="stepexpand"><span>Use the <code class="codeph">ABOUT</code> operator to query. For example, to find all documents that are related to the term <span class="italic">politics,</span> including any synonyms or narrower terms as defined in the knowledge base, enter this query:</span><div><pre class="oac_no_warn" dir="ltr">'about(politics)'</pre><div class="infoboxnotealso" id="GUID-63336C63-95D9-45FB-8824-A166A44E1370__GUID-DD7033B3-6B30-4672-AB23-C9667DC81376">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-241A1449-F84B-4C47-97C0-376EA68DCC88">Defining Terms in a Thesaurus</a>"</span> and <span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-45C350FA-B73A-468C-9727-E4EE8A40244D">Linking New Terms to Existing Terms</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3">Compiling a Loaded Thesaurus</a>"</span></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </li>
                  </ol>
               </div><a id="CCAPP9344"></a><div class="props_rev_3"><a id="GUID-CFCDE045-2B61-494B-8B35-42CDDD71A01C" name="GUID-CFCDE045-2B61-494B-8B35-42CDDD71A01C"></a><h4 id="CCAPP-GUID-CFCDE045-2B61-494B-8B35-42CDDD71A01C" class="sect4"><span class="enumeration_section">13.5.1 </span>Advantages
                  </h4>
                  <div>
                     <p>Compiling your custom thesaurus with the existing knowledge base before indexing enables faster and simpler queries with the <code class="codeph">ABOUT</code> operator. Document services can also take full advantage of the customized information to create theme summaries and gists.
                     </p>
                  </div>
               </div><a id="CCAPP9345"></a><div class="props_rev_3"><a id="GUID-F5C612D5-AF53-46BE-B171-930CCE1C8B84" name="GUID-F5C612D5-AF53-46BE-B171-930CCE1C8B84"></a><h4 id="CCAPP-GUID-F5C612D5-AF53-46BE-B171-930CCE1C8B84" class="sect4"><span class="enumeration_section">13.5.2 </span>Limitations
                  </h4>
                  <div>
                     <p>Use of the <code class="codeph">ABOUT</code> operator requires a theme component in the index, which requires slightly more disk space. You must also define the thesaurus before indexing your documents. If you change the thesaurus, you must recompile your thesaurus and reindex your documents.
                     </p>
                  </div>
               </div>
            </div><a id="CCAPP9346"></a><div class="props_rev_3"><a id="GUID-45C350FA-B73A-468C-9727-E4EE8A40244D" name="GUID-45C350FA-B73A-468C-9727-E4EE8A40244D"></a><h3 id="CCAPP-GUID-45C350FA-B73A-468C-9727-E4EE8A40244D" class="sect3"><span class="enumeration_section">13.6 </span>Linking New Terms to Existing Terms
               </h3>
               <div>
                  <p>When you add terms to the knowledge base, for best results in theme proving, Oracle recommends that you links new terms to one of the categories in the knowledge base.</p>
                  <div class="infoboxnotealso" id="GUID-45C350FA-B73A-468C-9727-E4EE8A40244D__GUID-5FA935D0-975F-4B9C-A63D-B1D205244E24">
                     <p class="notep1">See Also:</p>
                     <p> <a href="../ccref/oracle-text-utilities.html#CCREF-GUID-C652982F-B2AB-4DF3-9CF1-ADF00EF7C528" target="_blank"><span class="italic">Oracle Text Reference</span></a> for more information about the supplied English knowledge base
                     </p>
                  </div>
                  <p>If you keep new terms separate from existing categories, fewer themes from new terms are proven. The result is poor precision and recall with <code class="codeph">ABOUT</code> queries, as well as poor quality of gists and theme highlighting.
                  </p>
                  <p>You link new terms to existing terms by making an existing term the broader term for the new terms.</p>
                  <p>Consider the example: You purchase a <code class="codeph">medthes</code> medical thesaurus containing a hierarchy of medical terms. The following are the top four terms in the thesaurus:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Anesthesia and Analgesia</p>
                     </li>
                     <li>
                        <p>Anti-Allergic and Respiratory System Agents</p>
                     </li>
                     <li>
                        <p>Anti-Inflammatory Agents, Antirheumatic Agents, and Inflammation Mediators</p>
                     </li>
                     <li>
                        <p>Antineoplastic and Immunosuppressive Agents</p>
                     </li>
                  </ul>
                  <p> To map these terms to the existing <span class="italic">health and medicine</span> branch in the knowledge base, add the following entries to the medical thesaurus: 
                  </p><pre class="oac_no_warn" dir="ltr">health and medicine
 NT Anesthesia and Analgesia
 NT Anti-Allergic and Respiratory System Agents
 NT Anti-Inflamammatory Agents, Antirheumatic Agents, and Inflamation Mediators
 NT Antineoplastic and Immunosuppressive Agents</pre></div>
            </div><a id="CCAPP9348"></a><div class="props_rev_3"><a id="GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A" name="GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A"></a><h3 id="CCAPP-GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A" class="sect3"><span class="enumeration_section">13.7 </span>Example of Loading a Thesaurus with ctxload
               </h3>
               <div>
                  <p>Assuming the medical thesaurus is in the <code class="codeph">med.thes</code> file, you load the thesaurus as <code class="codeph">medthes</code> with <code class="codeph">ctxload</code> as follows:
                  </p><pre class="oac_no_warn" dir="ltr">ctxload -thes -thescase y -name medthes -file med.thes -user ctxsys
</pre><p>When you enter the <code class="codeph">ctxload</code> command line, you are prompted for the user password. For best security practices, never enter the password at the command line. Alternatively, you may omit <code class="codeph">-user</code> and let <code class="codeph">ctxload</code> prompt you for your user name and password.
                  </p>
               </div>
            </div><a id="CCAPP9558"></a><div class="props_rev_3"><a id="GUID-D9CB1033-F36E-480F-9A31-A1B26A9B9C76" name="GUID-D9CB1033-F36E-480F-9A31-A1B26A9B9C76"></a><h3 id="CCAPP-GUID-D9CB1033-F36E-480F-9A31-A1B26A9B9C76" class="sect3"><span class="enumeration_section">13.8 </span>Example of Loading a Thesaurus with the CTX_THES.IMPORT_THESAURUS PL/SQL procedure
               </h3>
               <div>
                  <p>This example creates a case-sensitive thesaurus named <code class="codeph">mythesaurus</code> and imports the thesaurus content in <code class="codeph">myclob</code> into the Oracle Text thesaurus tables:
                  </p><pre class="oac_no_warn" dir="ltr">declare 
 myclob clob; 
begin 
 myclob := to_clob('peking SYN beijing BT capital country NT beijing tokyo');
 ctx_thes.import_thesaurus(‘mythesaurus', myclob, ‘Y');
end;</pre><p>The format of the thesaurus to be imported (<code class="codeph">myclob</code> in this example) should be the same as the format in the <code class="codeph">ctxload</code> utility. If the format of the thesaurus to be imported is not correct, then <code class="codeph">IMPORT_THESAURUS</code> raises an exception.
                  </p>
               </div>
            </div><a id="CCAPP9349"></a><div class="props_rev_3"><a id="GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3" name="GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3"></a><h3 id="CCAPP-GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3" class="sect3"><span class="enumeration_section">13.9 </span>Compiling a Loaded Thesaurus
               </h3>
               <div>
                  <p>To link the loaded <code class="codeph">medthes</code> thesaurus to the knowledge base, use <code class="codeph">ctxkbtc</code> as follows:
                  </p><pre class="oac_no_warn" dir="ltr">ctxkbtc -user ctxsys -name medthes 
</pre><p>When you enter the <code class="codeph">ctxkbtc</code> command line, you are prompted for the user password. As with <code class="codeph">ctxload,</code> for best security practices, do not enter the password at the command line. 
                  </p>
                  <div class="infoboxnotewarn" id="GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3__GUID-751CEC24-DA5A-45F8-A89F-A8D29DCB3D4E">
                     <p class="notep1">WARNING:</p>
                     <p>To ensure sound security practices, Oracle recommends that you enter the password for <code class="codeph">ctxload</code> and <code class="codeph">ctxkbtc</code> in the interactive mode. This mode prompts you for the user password. Oracle strongly recommends that you do not enter a password on the command line.
                     </p>
                  </div>
               </div>
            </div><a id="CCAPP9350"></a><div class="props_rev_3"><a id="GUID-F35BEFA4-494B-4DD4-AD5E-836C5C1E29B5" name="GUID-F35BEFA4-494B-4DD4-AD5E-836C5C1E29B5"></a><h3 id="CCAPP-GUID-F35BEFA4-494B-4DD4-AD5E-836C5C1E29B5" class="sect3"><span class="enumeration_section">13.10 </span>About the Supplied Knowledge Base
               </h3>
               <div>
                  <p>Oracle Text supplies a knowledge base for English and French. The supplied knowledge contains the information used to perform theme analysis. Theme analysis includes theme indexing, <code class="codeph">ABOUT</code> queries, and theme extraction with the <code class="codeph">CTX_DOC</code> package.
                  </p>
                  <p>The knowledge base is a hierarchical tree of concepts and categories. It has six main branches:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Science and technology</p>
                     </li>
                     <li>
                        <p>Business and economics</p>
                     </li>
                     <li>
                        <p>Government and military</p>
                     </li>
                     <li>
                        <p>Social environment</p>
                     </li>
                     <li>
                        <p>Geography</p>
                     </li>
                     <li>
                        <p>Abstract ideas and concepts</p>
                     </li>
                  </ul>
                  <p>The supplied knowledge base is like a thesaurus in that it is hierarchical and contains broader terms, narrower terms, and related terms. As such, to improve the accuracy of theme analysis, augment the knowledge base with your industry-specific thesaurus by linking new terms to existing terms.</p>
                  <div class="infoboxnotealso" id="GUID-F35BEFA4-494B-4DD4-AD5E-836C5C1E29B5__GUID-2646A434-B590-4A6D-AD9C-1A27F59FFA3E">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-63336C63-95D9-45FB-8824-A166A44E1370">Augmenting Knowledge Base with Custom Thesaurus</a>"</span></p>
                  </div>
                  <p>You can also extend theme functionality to other languages by compiling a language-specific thesaurus into a knowledge base.</p>
                  <div class="infoboxnotealso" id="GUID-F35BEFA4-494B-4DD4-AD5E-836C5C1E29B5__GUID-770B7582-E2F1-4DA8-A3B7-AAA9747F209F">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-3CA88B53-4519-4C3B-96F2-2C8A20BCB74D">Adding a Language-Specific Knowledge Base</a>"</span></p>
                  </div>
                  <p>Knowledge bases can be in any single-byte character set. Supplied knowledge bases are in WE8ISO8859P1. You can store an extended knowledge base in another character set such as US7ASCII.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-3CA88B53-4519-4C3B-96F2-2C8A20BCB74D">Adding a Language-Specific Knowledge Base</a></p>
                     </li>
                     <li>
                        <p><a href="working-with-thesaurus-in-oracle-text.html#GUID-C13BBA1B-59CE-4844-8994-C47943C95195">Limitations for Adding Knowledge Bases</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9351"></a><div class="props_rev_3"><a id="GUID-3CA88B53-4519-4C3B-96F2-2C8A20BCB74D" name="GUID-3CA88B53-4519-4C3B-96F2-2C8A20BCB74D"></a><h4 id="CCAPP-GUID-3CA88B53-4519-4C3B-96F2-2C8A20BCB74D" class="sect4"><span class="enumeration_section">13.10.1 </span>Adding a Language-Specific Knowledge Base
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can extend theme functionality to languages other than English or French by loading your own knowledge base for any single-byte whitespace-delimited language, including Spanish.</p>
                        <p>Theme functionality includes theme indexing, <code class="codeph">ABOUT</code> queries, theme highlighting, and the generation of themes, gists, and theme summaries with <code class="codeph">CTX_DOC.</code></p>
                        <p>You extend theme functionality by adding a user-defined knowledge base. For example, you can create a Spanish knowledge base from a Spanish thesaurus.</p>
                        <p>To load your language-specific knowledge base:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Load your custom thesaurus by using <code class="codeph">ctxload.</code></span></li>
                        <li class="stepexpand"><span>Set <code class="codeph">NLS_LANG</code> so that the language portion is the target language. The charset portion must be a single-byte character set.</span></li>
                        <li class="stepexpand"><span>Compile the loaded thesaurus by using <code class="codeph">ctxkbtc</code> and then enter the password for -user when you are prompted. This statement compiles your language-specific knowledge base from the loaded thesaurus.</span><div><pre class="pre codeblock"><code>ctxkbtc -user ctxsys -name my_lang_thes</code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>To use this knowledge base for theme analysis during indexing and <code class="codeph">ABOUT</code> queries, specify the <code class="codeph">NLS_LANG</code> language as the <code class="codeph">THEME_LANGUAGE</code> attribute value for the <code class="codeph">BASIC_LEXER</code> preference.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3CA88B53-4519-4C3B-96F2-2C8A20BCB74D__GUID-DE2A111F-E4EF-426B-A111-A43E520DC3EC">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-2AC136CB-E0D9-4DC9-B3DD-95D8CAEB1D3A">Example of Loading a Thesaurus with ctxload</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="working-with-thesaurus-in-oracle-text.html#GUID-7E518BD6-F58A-45CB-A311-FDA14093D7A3">Compiling a Loaded Thesaurus</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CCAPP9352"></a><div class="props_rev_3"><a id="GUID-C13BBA1B-59CE-4844-8994-C47943C95195" name="GUID-C13BBA1B-59CE-4844-8994-C47943C95195"></a><h4 id="CCAPP-GUID-C13BBA1B-59CE-4844-8994-C47943C95195" class="sect4"><span class="enumeration_section">13.10.2 </span>Limitations for Adding Knowledge Bases
                  </h4>
                  <div>
                     <p>Here are the limitations for adding knowledge bases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle supplies knowledge bases only in English and French. You must provide your own thesaurus for any other language.</p>
                        </li>
                        <li>
                           <p>You can add knowledge bases only for languages with single-byte character sets. You cannot create a knowledge base for languages that can be expressed only in multibyte character sets. If the database is a multibyte universal character set, such as UTF-8, you must still set the <code class="codeph">NLS_LANG</code> parameter to a compatible single-byte character set when you compile the thesaurus.
                           </p>
                        </li>
                        <li>
                           <p>Adding a knowledge base works best for whitespace-delimited languages. </p>
                        </li>
                        <li>
                           <p>Only one knowledge base is allowed for each <code class="codeph">NLS_LANG</code> language.
                           </p>
                        </li>
                        <li>
                           <p>Obtaining hierarchical query feedback information (for example, broader terms, narrower terms, and related terms) does not work in languages other than English and French. In other languages, the knowledge bases are derived entirely from your thesauruses. In such cases, Oracle recommends that you obtain hierarchical information directly from your thesauruses.</p>
                           <div class="infoboxnotealso" id="GUID-C13BBA1B-59CE-4844-8994-C47943C95195__GUID-1E81D68B-F33E-4ABC-B52D-B7D89EC19EBE">
                              <p class="notep1">See Also:</p>
                              <p><a href="../ccref/oracle-text-utilities.html#CCREF-GUID-C652982F-B2AB-4DF3-9CF1-ADF00EF7C528" target="_blank"><span class="italic">Oracle Text Reference</span></a> for more information about theme indexing, <code class="codeph">ABOUT</code> queries, using the <code class="codeph">CTX_DOC</code> package, and the supplied English knowledge base
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>