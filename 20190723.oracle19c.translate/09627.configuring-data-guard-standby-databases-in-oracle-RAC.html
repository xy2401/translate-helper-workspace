<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An Oracle Data Guard configuration can consist of any combination of single-instance and Oracle Real Application Clusters (Oracle RAC) multiple-instance databases."></meta>
      <meta name="description" content="An Oracle Data Guard configuration can consist of any combination of single-instance and Oracle Real Application Clusters (Oracle RAC) multiple-instance databases."></meta>
      <title>Oracle Data Guard和Oracle Real Application Clusters</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Concepts and Administration "></meta>
      <meta property="og:description" content="An Oracle Data Guard configuration can consist of any combination of single-instance and Oracle Real Application Clusters (Oracle RAC) multiple-instance databases."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Concepts and Administration"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96244-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="data-type-ddl-support-on-logical-standby-databases.html" title="Previous" type="text/html"></link>
      <link rel="next" href="creating-data-guard-standby-database-using-RMAN.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration"></meta>
    <meta name="dcterms.isVersionOf" content="SBYDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="data-type-ddl-support-on-logical-standby-databases.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="creating-data-guard-standby-database-using-RMAN.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">概念和管理</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-supplemental-information.html" property="item" typeof="WebPage"><span property="name">附录</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Data Guard和Oracle Real Application Clusters</li>
            </ol>
            <a id="GUID-084DF97B-5524-401A-BAA4-65BA279F5B11" name="GUID-084DF97B-5524-401A-BAA4-65BA279F5B11"></a><a id="SBYDB01700"></a>
            
            <h2 id="SBYDB-GUID-084DF97B-5524-401A-BAA4-65BA279F5B11" class="sect2"><span class="enumeration_chapter">D</span> Oracle Data Guard和Oracle Real Application Clusters</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Data Guard配置可以包含单实例和Oracle Real Application Clusters（Oracle RAC）多实例数据库的任意组合。</p>
               <p>本附录总结了将Oracle Data Guard与Oracle RAC数据库一起使用时所适用的配置要求和注意事项。它包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-3140A293-DDD8-4559-8493-B6C21646E90F" title="您可以使用Oracle Real Application Clusters（Oracle RAC）配置备用数据库以保护主数据库。">在Oracle RAC环境中配置备用数据库</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-E754F226-C5EC-4A93-A506-C699581AA2AF" title="Oracle Real Application Clusters（Oracle RAC）具有关于归档重做日志文件名的格式以及数据保护模式的特定Oracle Data Guard配置要求。">Oracle RAC环境中的配置注意事项</a></p>
                  </li>
               </ul>
            </div><a id="SBYDB4960"></a><div class="props_rev_3"><a id="GUID-3140A293-DDD8-4559-8493-B6C21646E90F" name="GUID-3140A293-DDD8-4559-8493-B6C21646E90F"></a><h3 id="SBYDB-GUID-3140A293-DDD8-4559-8493-B6C21646E90F" class="sect3"><span class="enumeration_section">D.1</span>在Oracle RAC环境中配置备用数据库</h3>
               <div>
                  <p>您可以使用Oracle Real Application Clusters（Oracle RAC）配置备用数据库以保护主数据库。</p>
                  <div class="section">
                     <p>下表描述了主数据库和备用数据库中实例的可能组合：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-3140A293-DDD8-4559-8493-B6C21646E90F__GUID-62C7974A-995F-4232-A981-809C8F6C180D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This 3 column table describes all possible combinations of single-instance and Real Application Clusters multi-instance databases in a Data Guard configuration." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d66977e185">实例组合</th>
                              <th align="left" valign="bottom" width="29%" id="d66977e189">单实例备用数据库</th>
                              <th align="left" valign="bottom" width="26%" id="d66977e192">多实例备用数据库</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d66977e197" headers="d66977e185 ">
                                 <p><span class="bold">单实例主数据库</span></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d66977e197 d66977e189 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d66977e197 d66977e192 ">
                                 <p>没有</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d66977e208" headers="d66977e185 ">
                                 <p><span class="bold">多实例主数据库</span></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d66977e208 d66977e189 ">
                                 <p>是</p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d66977e208 d66977e192 ">
                                 <p>是</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>在每个方案中，主数据库的每个实例都将其重做数据传输到备用数据库的实例。从Oracle Database 12c第2版（12.2.0.1）开始，您还可以执行多实例重做应用。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-00B72AF1-0453-4FBD-901F-A3764631BE1F" name="GUID-00B72AF1-0453-4FBD-901F-A3764631BE1F"></a><h4 id="SBYDB-GUID-00B72AF1-0453-4FBD-901F-A3764631BE1F" class="sect4"><span class="enumeration_section">D.1.1</span>设置多实例重做应用</h4>
                  <div>
                     <p>从Oracle Database 12 <code class="codeph">c</code>第2版（12.2.0.1）开始，新的<code class="codeph">INSTANCES [ ALL | <span class="variable" translate="no">integer</span> ]</code> SQL <code class="codeph">ALTER DATABASE RECOVER MANAGED STANDBY DATABASE</code>命令提供了<code class="codeph">INSTANCES [ ALL | <span class="variable" translate="no">integer</span> ]</code>子句。
                     </p>
                     <p></p>
                     <p>要在Active Data Guard环境中使用具有多实例重做的内存中列存储，请将<code class="codeph">enable_imc_with_mira</code>初始化参数设置为<code class="codeph">TRUE</code> 。</p>
                     <p>以下限制适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>该子句仅适用于Oracle Real Application Clusters（Oracle RAC）或Oracle RAC One Node数据库。</p>
                        </li>
                        <li>
                           <p>在主数据库上启用<code class="codeph">STANDBY NOLOGGING FOR DATA AVAILABILITY</code>或<code class="codeph">STANDBY NOLOGGING FOR LOAD PERFORMANCE</code>时，不能使用多实例重做应用。
                           </p>
                        </li>
                     </ul>
                     <p><code class="codeph">ALL</code>选项使重做应用在Oracle RAC备用数据库中的所有实例上运行，这些实例在启动恢复时处于打开或挂载状态。所有实例必须处于相同状态 - 打开或挂载。不允许混合状态。
                     </p>
                     <p><code class="codeph"><span class="variable" translate="no">integer</span></code>选项将重做应用的实例数限制为您指定的数字。对于integer，请指定从1到备用数据库中的实例数的整数值。数据库选择要执行重做应用的实例;您无法指定特定实例。
                     </p>
                     <p><code class="codeph">V$RECOVERY_PROGRESS</code>视图仅在启动恢复的实例（MRP0进程所在的位置）上填充。
                     </p>
                     <p>如果省略<code class="codeph">INSTANCES</code>子句，则只在发出命令的一个实例上进行恢复。
                     </p>
                     <p>由于恢复过程在实例之间发送重做，因此重做应用性能与网络带宽和延迟直接相关。</p>
                  </div>
               </div><a id="SBYDB5098"></a><a id="SBYDB5099"></a><a id="SBYDB5100"></a><a id="SBYDB4961"></a><div class="props_rev_3"><a id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26" name="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26"></a><h4 id="SBYDB-GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26" class="sect4"><span class="enumeration_section">D.1.2</span>使用单实例待机设置多实例主节点</h4>
                  <div>
                     <p>此图说明了具有两个主数据库实例（多实例主数据库）的Oracle RAC数据库，该数据库实例将重做数据传输到单实例备用数据库。</p>
                     <div class="section">
                        <div class="figure" id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__I635256">
                           <p class="titleinfigure">图D-1从多实例主数据库传输重做数据</p><img src="img/sbydb056.gif" alt="下面是图D-1的描述" title="下面是图D-1的描述" longdesc="img_text/sbydb056.html"><br><a href="img_text/sbydb056.html">“图D-1从多实例主数据库传输重做数据”的描述</a></div>
                        <!-- class="figure" -->
                        <p>在这种情况下，主数据库的实例1将重做数据归档到本地归档重做日志文件1,2,3,4,5，并将重做数据传输到备用数据库目标，而实例2将重做数据归档到本地归档重做日志文件32,33,34,35,36将重做数据发送到同一备用数据库目的地。备用数据库自动确定应用归档重做日志文件的正确顺序。</p>
                        <p>尽管<a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__I635256">图D-1</a>未显示备用重做日志，但最佳做法是在备用服务器上为主服务器的两个实例配置备用重做日志。然后，将分别在实例1和实例2的备用重做日志中首先接收来自实例1和实例2的主要联机重做日志文件的重做，然后进行归档。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__GUID-32B1DFFE-C28B-4292-98D2-16864768F3DE">在Oracle RAC环境中配置主数据库</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在创建备用数据库之前，必须首先确保已正确配置主数据库。为此，您必须执行一些准备步骤，之后数据库准备充当一个或多个备用数据库的主数据库。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__GUID-E50903D9-AD90-4261-A854-A5797DFAFBDE">配置单实例备用数据库</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要指定归档重做日志文件和备用重做日志文件的位置，请定义<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span>和<code class="codeph">LOG_ARCHIVE_FORMAT</code>参数。
                        </p>
                        <div class="infoboxnotealso" id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__GUID-7EAC46AE-84F4-4DF7-82E8-63F8F4B04A0B">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="oracle-data-guard-redo-transport-services.html#GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937">管理备用重做日志</a>以获取有关备用重做日志的更多信息</p>
                              </li>
                              <li>
                                 <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-B511FB6E-E3E7-436D-94B5-071C37550170" title="您可以使用异步重做传输和实时应用（默认的Oracle Data Guard配置）以最高性能模式手动创建物理备用数据库。">创建物理备用数据库，</a>以获取有关在创建物理备用数据库时配置主数据库的信息。
                                 </p>
                              </li>
                              <li>
                                 <p><a href="creating-oracle-data-guard-logical-standby.html#GUID-3666CA35-D993-44B6-8D70-A2B8B9EC8B2E" title="创建逻辑备用数据库涉及许多步骤，包括先决条件和创建后任务。">创建逻辑备用数据库，</a>以获取有关在创建逻辑备用数据库时配置主数据库的信息。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4962"></a><div class="props_rev_3"><a id="GUID-65F87F2F-6602-4673-B971-4AEE3B4F7B4D" name="GUID-65F87F2F-6602-4673-B971-4AEE3B4F7B4D"></a><h4 id="SBYDB-GUID-65F87F2F-6602-4673-B971-4AEE3B4F7B4D" class="sect4"><span class="enumeration_section">D.1.3</span>设置Oracle RAC主数据库和备用数据库</h4>
                  <div>
                     <p>必须设置Oracle RAC主数据库以将重做数据发送到Oracle RAC备用数据库，并且必须设置Oracle RAC备用数据库以接收重做数据。</p>
                  </div><a id="SBYDB4963"></a><div class="props_rev_3"><a id="GUID-54BEB161-7125-4879-98B4-ED1F61BC3E9E" name="GUID-54BEB161-7125-4879-98B4-ED1F61BC3E9E"></a><h5 id="SBYDB-GUID-54BEB161-7125-4879-98B4-ED1F61BC3E9E" class="sect5"><span class="enumeration_section">D.1.3.1</span>配置Oracle RAC备用数据库以接收重做数据</h5>
                     <div>
                        <p>这些步骤描述了如何配置Oracle RAC备用数据库以从主数据库接收重做数据。</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>在备用数据库上创建备用重做日志。备用重做日志中的重做日志文件必须位于所有备用数据库实例都可以访问的位置，例如在群集文件系统或Oracle ASM实例上。有关创建<a href="oracle-data-guard-redo-transport-services.html#GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937">备用重做日志</a>的详细信息，请参阅<a href="oracle-data-guard-redo-transport-services.html#GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937">管理</a>备用重做日志。</span></li>
                           <li><span>在每个备用数据库实例上配置备用重做日志存档。必须将备用重做日志存档到可由所有备用数据库实例访问的位置，并且必须将每个备用数据库实例配置为将备用重做日志存档到同一位置。</span></li>
                        </ol>
                     </div>
                  </div><a id="SBYDB4964"></a><div class="props_rev_3"><a id="GUID-AD6594AC-6F4B-4EC0-84DD-54CEF3A6C1A7" name="GUID-AD6594AC-6F4B-4EC0-84DD-54CEF3A6C1A7"></a><h5 id="SBYDB-GUID-AD6594AC-6F4B-4EC0-84DD-54CEF3A6C1A7" class="sect5"><span class="enumeration_section">D.1.3.2</span>配置Oracle RAC主数据库以发送重做数据</h5>
                     <div>
                        <div>配置Oracle RAC主数据库的每个实例，以将其重做数据发送到Oracle RAC备用数据库。<span>这些是Oracle建议您在配置Oracle RAC主数据库以将重做数据发送到Oracle RAC备用数据库时遵循的最佳实践。</span></div>
                        <ol>
                           <li>
                              <p>在每个主数据库实例上使用相同的<code class="codeph">LOG_ARCHIVE_DEST_n</code>参数将重做数据发送到给定的备用数据库。
                              </p>
                           </li>
                           <li>
                              <p>将与给定备用数据库对应的每个<code class="codeph">LOG_ARCHIVE_DEST_n</code>参数的<code class="codeph">SERVICE</code>属性设置为相同的网络服务名称。
                              </p>
                           </li>
                           <li>
                              <p>网络服务名称应解析为包含地址列表的Oracle Net连接描述符，该地址列表应包含每个备用数据库实例的连接数据。</p>
                           </li>
                        </ol>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74" title="要指定重做传输目标，请使用LOG_ARCHIVE_DEST_n数据库初始化参数（其中n是1到31之间的整数）。">配置Oracle数据库以发送重做数据</a>描述了如何配置Oracle数据库实例以将重做数据发送到另一个数据库。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB4965"></a><div class="props_rev_3"><a id="GUID-E754F226-C5EC-4A93-A506-C699581AA2AF" name="GUID-E754F226-C5EC-4A93-A506-C699581AA2AF"></a><h3 id="SBYDB-GUID-E754F226-C5EC-4A93-A506-C699581AA2AF" class="sect3"><span class="enumeration_section">D.2</span> Oracle RAC环境中的配置注意事项</h3>
               <div>
                  <p>Oracle Real Application Clusters（Oracle RAC）具有关于归档重做日志文件名的格式以及数据保护模式的特定Oracle Data Guard配置要求。</p>
                  <p>请参阅以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-1D0678E0-160E-4097-8D51-10563838FB98" title="归档重做日志文件名的格式采用log_％参数的形式。">存档重做日志文件名的格式</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-7920893D-D3D2-44F4-A640-F68B6D516B1C" title="如果Oracle RAC主数据库的任何实例失去与备用数据库的连接，则所有其他主数据库实例将停止向备用数据库发送重做达LOG_ARCHIVE_DEST_n REOPEN属性上指定的秒数，之后所有主数据库实例都尝试重新连接到备用数据库。">数据保护模式</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB5101"></a><a id="SBYDB4966"></a><div class="props_rev_3"><a id="GUID-1D0678E0-160E-4097-8D51-10563838FB98" name="GUID-1D0678E0-160E-4097-8D51-10563838FB98"></a><h4 id="SBYDB-GUID-1D0678E0-160E-4097-8D51-10563838FB98" class="sect4"><span class="enumeration_section">D.2.1</span>存档重做日志文件名的格式</h4>
                  <div>
                     <p>归档重做日志文件名的格式采用log_％ <span class="variable" translate="no">parameter</span>的形式。
                     </p>
                     <div class="section">
                        <p>％ <span class="variable" translate="no">parameter</span>可以包括<a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-1D0678E0-160E-4097-8D51-10563838FB98__G649139" title="此2列表描述了您在LOG_ARCHIVE_FORMAT初始化参数上设置的log_％参数指令，以格式化存档的重做日志文件名。">表D-1中的</a>一个或多个参数。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-1D0678E0-160E-4097-8D51-10563838FB98__G649139">
                        <p class="titleintable">表D-1 LOG_ARCHIVE_FORMAT初始化参数的指令</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="LOG_ARCHIVE_FORMAT初始化参数的指令" width="100%" border="1" summary="This 2 column table describes the log_%parameter directives you set on the LOG_ARCHIVE_FORMAT initialization parameter to format archived redo log filenames." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d66977e964">指令</th>
                                 <th align="left" valign="bottom" width="69%" id="d66977e967">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e972" headers="d66977e964 ">
                                    <p><code class="codeph">％一个</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e972 d66977e967 ">
                                    <p>数据库激活ID。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e980" headers="d66977e964 ">
                                    <p><code class="codeph">％一个</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e980 d66977e967 ">
                                    <p>数据库激活ID，零填充。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e988" headers="d66977e964 ">
                                    <p><code class="codeph">％d</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e988 d66977e967 ">
                                    <p>数据库ID。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e996" headers="d66977e964 ">
                                    <p><code class="codeph">％d</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e996 d66977e967 ">
                                    <p>数据库ID，零填充。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1004" headers="d66977e964 ">
                                    <p><code class="codeph">％T</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1004 d66977e967 ">
                                    <p>实例线程号。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1012" headers="d66977e964 ">
                                    <p><code class="codeph">％T</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1012 d66977e967 ">
                                    <p>实例线程编号，零填充。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1020" headers="d66977e964 ">
                                    <p><code class="codeph">％S</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1020 d66977e967 ">
                                    <p>日志文件序列号。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1028" headers="d66977e964 ">
                                    <p><code class="codeph">％S</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1028 d66977e967 ">
                                    <p>日志文件序列号，填零。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1036" headers="d66977e964 ">
                                    <p><code class="codeph">％R</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1036 d66977e967 ">
                                    <p>重置日志ID。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1044" headers="d66977e964 ">
                                    <p><code class="codeph">％R</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1044 d66977e967 ">
                                    <p>重置日志ID，零填充。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_FORMAT = log％d_％t_％s_％r.arc</pre><p>线程参数％t或％T是Oracle RAC必须使用<code class="codeph">LOG_ARCHIVE_FORMAT</code>参数唯一标识存档的重做日志文件。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4967"></a><div class="props_rev_3"><a id="GUID-7920893D-D3D2-44F4-A640-F68B6D516B1C" name="GUID-7920893D-D3D2-44F4-A640-F68B6D516B1C"></a><h4 id="SBYDB-GUID-7920893D-D3D2-44F4-A640-F68B6D516B1C" class="sect4"><span class="enumeration_section">D.2.2</span>数据保护模式</h4>
                  <div>
                     <p>如果Oracle RAC主数据库的任何实例失去与备用数据库的连接，则所有其他主数据库实例将停止向备用数据库发送重做达<code class="codeph">LOG_ARCHIVE_DEST_</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">REOPEN</code>属性上指定的秒数，之后所有主数据库实例都尝试重新连接到备用数据库。
                     </p>
                     <p>以下列表描述了Oracle RAC环境中保护模式的行为：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>最大保护配置</p>
                           <p>如果丢失的目标是<span class="italic">最后一个</span>参与的<code class="codeph">SYNC</code>目标，则该实例将失去连接并被关闭。Oracle RAC配置中仍与备用目标连接的其他实例会恢复丢失的实例并继续将重做发送到备用目标。仅当Oracle RAC配置中的每个实例都失去与最后一个备用目标的连接时，主数据库才会关闭。
                           </p>
                        </li>
                        <li>
                           <p>最高可用性和最高性能配置</p>
                           <p>Oracle RAC配置中仍与备用目标连接的其他实例将恢复丢失的实例并继续将重做发送到其备用目标。当Oracle RAC配置中的每个实例都失去与备用目标的连接时，主数据库将继续以最高性能模式运行。最大性能模式确保非常小的数据丢失，除非整个备用数据库失败。</p>
                           <p>最大可用性保护模式可确保零数据丢失，但某些双重故障除外，例如所有备用数据库发生故障后主数据库出现故障。</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>