<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can migrate Oracle Text applications into a new Oracle Database release."></meta>
      <meta name="description" content="You can migrate Oracle Text applications into a new Oracle Database release."></meta>
      <title>迁移Oracle文本应用程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Application Developer&#39;s Guide "></meta>
      <meta property="og:description" content="You can migrate Oracle Text applications into a new Oracle Database release."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Application Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96275-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="administering-oracle-text.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CONTEXT-query-application.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="CCAPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="administering-oracle-text.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CONTEXT-query-application.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">迁移Oracle文本应用程序</li>
            </ol>
            <a id="GUID-2D2548BE-879D-4B44-BF01-AC62CACA4782" name="GUID-2D2548BE-879D-4B44-BF01-AC62CACA4782"></a><a id="CCAPP2001"></a>
            
            <h2 id="CCAPP-GUID-2D2548BE-879D-4B44-BF01-AC62CACA4782" class="sect2"><span class="enumeration_chapter">18</span>迁移Oracle文本应用程序</h2>
         </header>
         <div class="ind">
            <div>
               <p>您可以将Oracle Text应用程序迁移到新的Oracle Database版本中。</p>
               <p>升级到Oracle数据库的新版本时，可能无法从早期版本的Oracle Text迁移应用程序。在适用的情况下，Oracle提供有关将Oracle Text应用程序迁移到新版本的迁移步骤的信息。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="migrating-oracle-text-applications.html#GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219">使用逻辑备用的Oracle文本和滚动升级</a></p>
                  </li>
                  <li>
                     <p><a href="migrating-oracle-text-applications.html#GUID-AB687163-AD3B-4AED-B1F3-342E1C980CC8" title="要升级Oracle Text，请使用此过程来识别现有Oracle主目录所需的文件并将其复制到新版本的Oracle主目录。升级Oracle数据库后完成此任务。">识别Oracle文件并将其复制到新的Oracle Home</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-2D2548BE-879D-4B44-BF01-AC62CACA4782__GUID-E2EEBF28-BB73-4101-BE3A-72FD3A429861">
                  <p class="notep1">也可以看看：</p>
                  <p>有关升级Oracle数据库的信息以及有关迁移应用程序的主题的<a href="../upgrd/intro-to-upgrading-oracle-database.html#UPGRD-GUID-FA024F34-A61A-4C4B-AA60-C123A9191A16" target="_blank"><span class="italic">Oracle数据库升级指南</span></a></p>
               </div>
            </div><a id="CCAPP9559"></a><div class="props_rev_3"><a id="GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219" name="GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219"></a><h3 id="CCAPP-GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219" class="sect3"><span class="enumeration_section">18.1</span>使用逻辑备用数据库执行滚动升级</h3>
               <div>
                  <p>您可以使用逻辑备用数据库执行Oracle数据库的滚动升级。为了最大限度地减少主数据库的停机时间，您可以在升级数据库的同时在主数据库和逻辑备用数据库上运行不同版本的Oracle数据库，一次一个。Oracle Text充分利用升级Oracle Text索引的优势。</p>
                  <p>所有CTX PL / SQL过程都完全复制到备用数据库并进行升级，但这些过程存在某些限制：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="migrating-oracle-text-applications.html#GUID-2063FE6E-4986-4486-8694-04DDB3FD8821">CTX_DDL PL / SQL过程</a></p>
                     </li>
                     <li>
                        <p><a href="migrating-oracle-text-applications.html#GUID-223CF3E0-58E3-4174-AD67-CBAEF0FF7402">CTX_OUTPUT PL / SQL过程</a></p>
                     </li>
                     <li>
                        <p><a href="migrating-oracle-text-applications.html#GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47">CTX_DOC PL / SQL程序</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1AE2D629-E0B1-49DB-96B3-2758B69E0219__GUID-E9C5B0FF-15CE-4A8C-9D39-670448714C42">
                     <p class="notep1">也可以看看：</p>
                     <p>有关创建逻辑备用数据库以执行滚动升级的信息，请参阅<a href="../sbydb/creating-oracle-data-guard-logical-standby.html#SBYDB00300" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a></p>
                  </div>
               </div><a id="CCAPP9560"></a><div class="props_rev_3"><a id="GUID-2063FE6E-4986-4486-8694-04DDB3FD8821" name="GUID-2063FE6E-4986-4486-8694-04DDB3FD8821"></a><h4 id="CCAPP-GUID-2063FE6E-4986-4486-8694-04DDB3FD8821" class="sect4"><span class="enumeration_section">18.1.1</span> CTX_DDL PL / SQL过程</h4>
                  <div>
                     <p>Oracle数据库在内部使用rowid来构建索引。以下<code class="codeph">CTX_DDL</code>过程未完全复制到备用数据库：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ADD_MDATA</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">REMOVE_MDATA</code></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CCAPP9561"></a><div class="props_rev_3"><a id="GUID-223CF3E0-58E3-4174-AD67-CBAEF0FF7402" name="GUID-223CF3E0-58E3-4174-AD67-CBAEF0FF7402"></a><h4 id="CCAPP-GUID-223CF3E0-58E3-4174-AD67-CBAEF0FF7402" class="sect4"><span class="enumeration_section">18.1.2</span> CTX_OUTPUT PL / SQL过程</h4>
                  <div>
                     <p>仅复制<code class="codeph">CTX_OUTPUT.ENABLE_QUERY_STATS</code>和<code class="codeph">CTX_OUTPUT.DISABLE_QUERY_STATS</code> 。如果在运行导致日志记录的操作之前在主数据库上启用Oracle Text日志记录，则该操作将在登录主数据库的情况下运行，而无需登录辅助数据库。
                     </p>
                  </div>
               </div><a id="CCAPP9562"></a><div class="props_rev_3"><a id="GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47" name="GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47"></a><h4 id="CCAPP-GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47" class="sect4"><span class="enumeration_section">18.1.3</span> CTX_DOC PL / SQL程序</h4>
                  <div>
                     <p>将以下<code class="codeph">CTX_DOC</code>过程与Oracle Text Result Tables一起使用时，将复制存储在表中的数据。如果在没有结果表的情况下使用这些过程，则不会复制它们。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CTX_DOC.SET_KEY_TYPE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.FILTER</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.GIST</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.MARKUP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.TOKENS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.THEMES</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.HIGHLIGHT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.FILTER_CLOB_QUERY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.MARKUP_CLOB_QUERY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DOC.HIGHLIGHT_CLOB_QUERY</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-59A5CDC4-30E9-43FA-B5A8-FF8BE1392F47__GUID-54CF573C-20DC-447C-82F6-D86520E4612F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关在主数据库上执行滚动升级以实现最短停机时间的信息，请参阅<a href="../sbydb/using-sql-apply-to-perform-rolling-upgrade.html#SBYDB00830" target="_blank"><span class="italic">Oracle Data Guard概念和管理</span></a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-AB687163-AD3B-4AED-B1F3-342E1C980CC8" name="GUID-AB687163-AD3B-4AED-B1F3-342E1C980CC8"></a><h3 id="CCAPP-GUID-AB687163-AD3B-4AED-B1F3-342E1C980CC8" class="sect3"><span class="enumeration_section">18.2</span>识别Oracle文件并将其复制到新的Oracle主目录</h3>
               <div>
                  <p>要升级Oracle Text，请使用此过程来识别现有Oracle主目录所需的文件并将其复制到新版本的Oracle主目录。升级Oracle数据库后完成此任务。</p>
                  <div class="section">
                     <p>某些Oracle Text功能依赖于已配置的Oracle主目录下的文件。手动升级到新的Oracle数据库发行版之后，或者在更改Oracle主目录的任何进程之后，您必须手动识别并移动这些文件。这些文件包括用户筛选器，邮件筛选器配置文件和所有知识库扩展文件。识别文件后，将文件从现有Oracle主目录复制到新的Oracle主目录。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="p">要从现有Oracle主目录中识别所需文件并将其复制到新版Oracle主目录：</div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>使用早期版本数据库的<code class="codeph">SYS,</code> <code class="codeph">SYSTEM,</code>或<code class="codeph">CTXSYS</code>系统特权登录。</span></li>
                     <li class="stepexpand"><span>在早期版本数据库的Oracle主目录下，运行<code>$ORACLE_HOME/ctx/admin/ctx_oh.sql</code> SQL脚本。</span><div>
                           <p>例如：</p><pre class="pre codeblock"><code>sqlplus / as sysdba连接SQL&gt; @？/ CTX /管理/ ctx_oh_files</code></pre></div>
                     </li>
                     <li class="stepexpand"><span>查看<code>ctx_oh_files.sql</code>命令的输出，并将文件复制到新的Oracle主目录。</span></li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>