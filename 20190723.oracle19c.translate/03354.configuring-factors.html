<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Factors enable you to base Database Vault restrictions on attributes such as a client IP address or a domain."></meta>
      <meta name="description" content="Factors enable you to base Database Vault restrictions on attributes such as a client IP address or a domain."></meta>
      <title>配置因素</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="Factors enable you to base Database Vault restrictions on attributes such as a client IP address or a domain."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-command-rules.html" title="Previous" type="text/html"></link>
      <link rel="next" href="configuring-secure-application-roles-for-oracle-database-vault.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-command-rules.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="configuring-secure-application-roles-for-oracle-database-vault.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置因素</li>
            </ol>
            <a id="GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" name="GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822"></a><a id="DVADM004"></a>
            
            <h2 id="DVADM-GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" class="sect2"><span class="enumeration_chapter">7</span>配置因素</h2>
         </header>
         <div class="ind">
            <div>
               <p>因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-B8410E32-B6A5-4850-9FDB-9B31018FE95F">有什么因素？</a><br>因子是Oracle Database Vault可识别的命名变量或属性，例如数据库IP地址。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-F4B06A72-933C-43B6-82CC-B7273B7F2696">默认因素</a><br>Oracle Database Vault提供了一组默认因子。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A">创造一个因素</a><br>通常，要创建因子，首先要创建因子本身，然后编辑因子以包含其标识。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA">向因子添加标识</a><br>创建新因子后，您可以选择为其添加标识。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-7330B098-C9AB-4C28-848D-27CA6BA5B2C5">删除因子</a><br>在删除因子之前，必须删除对因子的引用。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-E1D7B84F-57AD-4FBA-B99F-47E3BC64B91F">因素如何运作</a><br>Oracle Database Vault在建立会话时处理因素。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-9A320C0A-12D7-4414-B79F-512AD76FF436">教程：防止对数据库的Ad Hoc工具访问</a><br>本教程演示了如何使用因子来防止临时工具（如SQL * Plus）访问数据库。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B">教程：基于会话数据限制用户活动</a><br>本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-F197EA7C-8AC2-4D7B-B5CB-7326CA1FABA7">设计因素指南</a><br>Oracle提供了设计因素的指南。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-F6EB02AD-18A4-4005-B3AA-89B23F31AC6B">因素如何影响绩效</a><br>因素的复杂性会影响Oracle数据库实例的性能。
                  </li>
                  <li class="ulchildlink"><a href="configuring-factors.html#GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA">因子相关报告和数据字典视图</a><br>Oracle Database Vault提供报告和数据字典视图，显示有关因子及其身份的信息。
                  </li>
               </ul>
            </div>
            <a id="DVADM70224"></a><div class="props_rev_3"><a id="GUID-B8410E32-B6A5-4850-9FDB-9B31018FE95F" name="GUID-B8410E32-B6A5-4850-9FDB-9B31018FE95F"></a><h3 id="DVADM-GUID-B8410E32-B6A5-4850-9FDB-9B31018FE95F" class="sect3">有什么因素？</h3>
               <div>
                  <p>因子是Oracle Database Vault可识别的命名变量或属性，例如数据库IP地址。</p>
                  <p>您可以使用因子进行活动，例如授权数据库帐户连接到数据库或创建过滤逻辑以限制数据的可见性和可管理性。</p>
                  <p>Oracle Database Vault提供了一系列因子，可用于设置对站点域，IP地址，数据库等组件的控制。您还可以使用自己的PL / SQL检索方法创建自定义因子。</p>
                  <p>请注意以下事项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以将因子与规则集中的规则结合使用。<code class="codeph">DVF</code>因子函数是特定于因子的函数，可以在规则表达式中使用。
                        </p>
                     </li>
                     <li>
                        <p>因素具有价值（身份），并根据其因素类型进一步分类。有关因子类型的信息，请参阅<a href="configuring-factors.html#GUID-45162827-2A09-4C62-BBFD-5710685583D9" title="在“常规”页面中，您必须输入因子的常规标识信息，例如其名称。">完成因子创建的常规页面中的</a> “因子类型”。
                        </p>
                     </li>
                     <li>
                        <p>您还可以将因子与Oracle Label Security标签集成在一起。</p>
                     </li>
                     <li>
                        <p>您可以运行有关在Oracle Database Vault中创建的因素的报告。有关更多信息，请参阅</p>
                     </li>
                     <li>
                        <p>在多租户环境中，您只能在PDB中创建因子，而不能在CDB根目录或应用程序根目录中创建因子。</p>
                     </li>
                  </ul>
                  <p>本章介绍如何使用Oracle Database Vault Administrator配置因子。或者，您可以使用Oracle Database Vault factor API来配置因子。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-database-vault-factor-apis.html#GUID-364245B9-C339-488A-8D49-B8B01B667857" title="使用DBMS_MACADM PL / SQL程序包管理各种因素时，Oracle Database Vault维护DVF架构功能。">Oracle Database Vault DVF PL / SQL因子函数</a></li>
                        <li><a href="oracle-database-vault-factor-apis.html#GUID-75586A2C-ADCF-4421-A5C3-267E0AA878B2" title="DBMS_MACADM PL / SQL包具有与因子相关的Oracle Database Vault规则过程和函数，DVF具有管理因子的功能。">Oracle Database Vault Factor API</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="DVADM70225"></a><div class="props_rev_3"><a id="GUID-F4B06A72-933C-43B6-82CC-B7273B7F2696" name="GUID-F4B06A72-933C-43B6-82CC-B7273B7F2696"></a><h3 id="DVADM-GUID-F4B06A72-933C-43B6-82CC-B7273B7F2696" class="sect3">默认因素</h3>
               <div>
                  <p>Oracle Database Vault提供了一组默认因子。</p>
                  <div class="section">
                     <p>对于这些因素中的每一个，都有一个相关函数来检索因子的值。有关这些功能的列表，请参阅<a href="oracle-database-vault-factor-apis.html#GUID-364245B9-C339-488A-8D49-B8B01B667857" title="使用DBMS_MACADM PL / SQL程序包管理各种因素时，Oracle Database Vault维护DVF架构功能。">Oracle Database Vault DVF PL / SQL因子</a>函数。
                     </p>
                     <p>您可以使用自己的PL / SQL检索方法创建自定义因子。您可以使用的有用的PL / SQL函数（用于许多默认因子）是<code class="codeph">SYS_CONTEXT</code> SQL函数，它检索有关用户会话的数据。例如，你可以使用<code class="codeph">CLIENT_PROGRAM_NAME</code>的属性<code class="codeph">SYS_CONTEXT</code>找到用于数据库会话的程序的名称。创建自定义因子后，您可以查询其值，类似于用于查询默认因子的函数。
                     </p>
                     <p>有关<code class="codeph">SYS_CONTEXT</code>函数的更多信息，请参见<a href="../sqlrf/SYS_CONTEXT.html#SQLRF06117" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。
                     </p>
                     <p>您可以在自己的安全配置中使用默认因子。如果您不需要它们，可以将它们删除。（也就是说，Oracle Database Vault内部使用它们不需要它们。）</p>
                     <p>默认因子如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">Authentication_Method：</span>是<span class="bold">身份验证</span>的方法。在下面的列表中，用户的类型后跟返回的方法：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>经过密码验证的企业用户，本地数据库用户，使用密码文件的具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>管理权限的用户;使用密码的用户名代理： <code class="codeph">PASSWORD</code></p>
                              </li>
                              <li>
                                 <p>经过Kerberos身份验证的企业用户或外部用户（没有管理权限）： <code class="codeph">KERBEROS</code></p>
                              </li>
                              <li>
                                 <p>经过Kerberos身份验证的企业用户（具有管理权限）： <code class="codeph">KERBEROS_GLOBAL</code></p>
                              </li>
                              <li>
                                 <p>经过Kerberos身份验证的外部用户（具有管理权限）： <code class="codeph">KERBEROS_EXTERNAL</code></p>
                              </li>
                              <li>
                                 <p>经过SSL身份验证的企业或外部用户（没有管理权限）： <code class="codeph">SSL</code></p>
                              </li>
                              <li>
                                 <p>经过SSL身份验证的企业用户（具有管理权限）： <code class="codeph">SSL_GLOBAL</code></p>
                              </li>
                              <li>
                                 <p>经过SSL身份验证的外部用户（具有管理权限）： <code class="codeph">SSL_EXTERNAL</code></p>
                              </li>
                              <li>
                                 <p>Radius身份验证的外部用户： <code class="codeph">RADIUS</code></p>
                              </li>
                              <li>
                                 <p>经过OS身份验证的外部用户或具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>管理权限的用户： <code class="codeph">OS</code></p>
                              </li>
                              <li>
                                 <p>使用证书，DN或用户名而不使用密码的代理： <code class="codeph">NONE</code></p>
                              </li>
                              <li>
                                 <p>后台进程（作业队列从属进程）： <code class="codeph">JOB</code></p>
                              </li>
                              <li>
                                 <p>并行查询从属进程： <code class="codeph">PQ_SLAVE</code></p>
                              </li>
                           </ul>
                           <p>对于非管理连接，当身份验证方法为<code class="codeph">PASSWORD</code> ， <code class="codeph">KERBEROS</code>或<code class="codeph">SSL</code>时，您可以使用Identification_Type因子来区分外部用户和企业用户。对于管理连接，Authentication_Method因子足以用于<code class="codeph">PASSWORD</code> ， <code class="codeph">SSL_EXTERNAL</code>和<code class="codeph">SSL_GLOBAL</code>身份验证方法。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">客户端标识符：</span>应用程序通过<code class="codeph">DBMS_SESSION.SET_IDENTIFIER</code>过程，Oracle调用接口（OCI）属性<code class="codeph">OCI_ATTR_CLIENT_IDENTIFIER</code>或Oracle动态监视服务（DMS）设置的标识符。各种Oracle数据库组件使用此属性来标识作为同一数据库用户进行身份验证的轻量级应用程序用户。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Client_IP：</span>客户端所连接的计算机的IP地址。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Database_Domain：</span> <code class="codeph">DB_DOMAIN</code>初始化参数中指定的数据库域。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Database_Hostname：</span>运行实例的计算机的主机名。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Database_Instance：</span>是当前实例的实例标识号。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Database_IP：</span>运行实例的计算机的IP地址。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Database_Name：</span> <code class="codeph">DB_NAME</code>初始化参数中指定的数据库名称。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">DBlink_Info：</span>数据库链接会话的来源。该字符串具有以下形式：</p>
                           <p><code class="codeph">SOURCE_GLOBAL_NAME= <span class="codeinlineitalic">dblink_src_global_name</span> , <code class="codeph">DBLINK_NAME= <span class="codeinlineitalic">dblink_name</span> ,</code></code> <code class="codeph">SOURCE_AUDIT_SESSIONID= <span class="codeinlineitalic">dblink_src_audit_sessionid</span></code></p>
                           <p>在本规范中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph"><span class="codeinlineitalic">dblink_src_global_name</span></code>是源数据库的唯一全局名称</p>
                              </li>
                              <li>
                                 <p><code class="codeph"><span class="codeinlineitalic">dblink_name</span></code>是源数据库上数据库链接的名称</p>
                              </li>
                              <li>
                                 <p><code class="codeph"><span class="codeinlineitalic">dblink_src_audit_sessionid</span></code>源数据库，它启动了使用<code class="codeph"><span class="codeinlineitalic">dblink_name</span></code>启动与远程数据库的连接的源数据库</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">域：</span>是在特定敏感度级别运行的运行时环境（例如，网络IT环境或其子集）中的物理，配置或实现特定因素的命名集合。您可以使用数据库的安全访问路径中的数据库保管库节点的主机名，IP地址和数据库实例名等因素来标识域。可以使用标识域的因子标识符的组合来唯一地确定每个域。您可以使用这些标识因素和可能的其他因素来定义域中的最大安全标签。这会限制数据访问和命令，具体取决于有关Database Vault会话的物理因素。感兴趣的示例域可以是企业敏感，内部公众，合作伙伴和客户。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Enterprise_Identity：</span>用户的企业级身份：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于企业用户：Oracle Internet Directory可分辨名称（DN）。</p>
                              </li>
                              <li>
                                 <p>对于外部用户：外部标识（Kerberos主体名称，Radius和DCE模式名称，操作系统用户名，证书DN）。</p>
                              </li>
                              <li>
                                 <p>对于本地用户以及<code class="codeph">SYSDBA</code>和<code class="codeph">SYSOPER</code>登录：NULL。</p>
                              </li>
                           </ul>
                           <p>属性的值因代理方法而异：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于具有DN的代理：客户端的Oracle Internet Directory DN。</p>
                              </li>
                              <li>
                                 <p>对于具有证书的代理：外部用户的客户端证书DN;全球用户的Oracle Internet Directory DN。</p>
                              </li>
                              <li>
                                 <p>对于具有用户名的代理：如果客户端是企业用户，则为Oracle Internet Directory DN;如果客户端是本地数据库用户，则为NULL。</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">Identification_Type：</span>是否在数据库中创建用户模式的方式。具体来说，它反映了<code class="codeph">CREATE USER</code>和<code class="codeph">ALTER USER</code>语法中的<code class="codeph">IDENTIFIED</code>子句。在下面的列表中，模式创建期间使用的语法后跟返回的标识类型：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span> <code class="codeph">IDENTIFIED BY</code> ： <code class="codeph">LOCAL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">IDENTIFIED EXTERNALLY</code> <code class="codeph">EXTERNAL</code> <code class="codeph">IDENTIFIED EXTERNALLY</code> ： <code class="codeph">EXTERNAL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">GLOBAL SHARED</code> <code class="codeph">IDENTIFIED GLOBALLY</code> ： <code class="codeph">GLOBAL SHARED</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">IDENTIFIED GLOBALLY</code> <code class="codeph">AS DN</code> ： <code class="codeph">GLOBAL PRIVATE</code></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">Lang：</span>是语言名称的ISO缩写，是比现有<code class="codeph">LANGUAGE</code>参数更短的形式。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">语言：</span>会话当前使用的语言和区域以及数据库字符集，采用以下格式：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">language_territory</span> 。 <span class="italic">字符集</span>
</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">AMERICAN_AMERICA.WE8MSWIN1252</pre><p>有关语言，区域和字符集的详细信息，请参阅“ <a href="../nlspg/overview-of-globalization-support.html#NLSPG147" target="_blank"><span><cite>Oracle数据库全球化支持指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Machine：</span>是建立当前会话的数据库客户端的主机名。如果必须确定计算机是用于客户端还是服务器会话，则可以将此设置与Database_Hostname因子进行比较以进行确定。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">模块：</span>通过<code class="codeph">DBMS_APPLICATION_INFO</code> PL / SQL包或OCI设置的应用程序名称（模块）。</p>
                        </li>
                        <li>
                           <p><span class="bold">Network_Protocol：</span>网络协议是否用于通信，如连接字符串的<code class="codeph">PROTOCOL=protocol</code>部分所指定。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Proxy_Enterprise_Identity：</span>代理用户是企业用户时是Oracle Internet Directory DN。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Proxy_User：</span>是代表<code class="codeph">SESSION_USER</code>打开当前会话的数据库用户的名称。</p>
                        </li>
                        <li>
                           <p><span class="bold">Session_User：</span>用于验证当前用户的数据库用户名。该值在整个会话期间保持不变。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70226"></a><div class="props_rev_3"><a id="GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A" name="GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A"></a><h3 id="DVADM-GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A" class="sect3">创造一个因素</h3>
               <div>
                  <p>通常，要创建因子，首先要创建因子本身，然后编辑因子以包含其标识。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-4DBC72EA-1308-4569-B9F6-462F349B0B09">访问创建因素页面</a><br>使用“创建因子”页面可以创建因子，从要创建的因子的一般定义开始。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-45162827-2A09-4C62-BBFD-5710685583D9">完成因子创建的常规页面</a><br>在“常规”页面中，您必须输入因子的常规标识信息，例如其名称。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30">因子创建的配置页面</a><br>“配置”页面定义了因子的标识和评估方法等设置。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-C66D5BDA-2AE4-433E-ABFC-6C04561B4683">因子创造的选项页面</a><br>“选项”页面将规则集分配给因子，设置错误选项，对于非统一审计，设置审计选项。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71442"></a><div class="props_rev_3"><a id="GUID-4DBC72EA-1308-4569-B9F6-462F349B0B09" name="GUID-4DBC72EA-1308-4569-B9F6-462F349B0B09"></a><h4 id="DVADM-GUID-4DBC72EA-1308-4569-B9F6-462F349B0B09" class="sect4">访问创建因素页面</h4>
                  <div>
                     <p>使用“创建因子”页面可以创建因子，从要创建的因子的一般定义开始。</p>
                     <ol>
                        <li class="stepexpand"><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                        <li class="stepexpand"><span>在“管理”页面的“数据库Vault组件”下，单击“ <span class="bold">因子”</span> 。</span></li>
                        <li class="stepexpand"><span>在“因子”页面中，单击“ <span class="bold">创建”</span>以显示“创建因子”页面。</span><div><br><img src="img/create_factor122.png" alt="下面是create_factor122.png的描述" title="下面是create_factor122.png的描述" longdesc="img_text/create_factor122.html"><br><a href="img_text/create_factor122.html">插图描述create_factor122.png</a><br></div>
                        </li>
                        <li class="stepexpand"><span>从“常规”页面开始，输入以下信息，单击“ <span class="bold">下一步”</span>转到每个后续页面，然后在“因子定义<span class="bold">”</span> <span class="bold">完成</span>时单击<span class="bold">“完成”</span>和“ <span class="bold">完成</span> ”。</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="configuring-factors.html#GUID-45162827-2A09-4C62-BBFD-5710685583D9" title="在“常规”页面中，您必须输入因子的常规标识信息，例如其名称。">完成因子创建的常规页面</a> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="configuring-factors.html#GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" title="“配置”页面定义了因子的标识和评估方法等设置。">因子创建的配置页面</a></p>
                                 </li>
                                 <li>
                                    <p><a href="configuring-factors.html#GUID-C66D5BDA-2AE4-433E-ABFC-6C04561B4683" title="“选项”页面将规则集分配给因子，设置错误选项，对于非统一审计，设置审计选项。">因子创造的选项页面</a></p>
                                 </li>
                                 <li>
                                    <p><a href="configuring-factors.html#GUID-AA6DA56D-EE20-4BB7-AB59-18466A7E8EF0" title="您可以在Oracle Database Vault Administrator中创建和配置因子标识。">创建和配置因子身份</a></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A" title="通常，要创建因子，首先要创建因子本身，然后编辑因子以包含其标识。">创建因子</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71281"></a><div class="props_rev_3"><a id="GUID-45162827-2A09-4C62-BBFD-5710685583D9" name="GUID-45162827-2A09-4C62-BBFD-5710685583D9"></a><h4 id="DVADM-GUID-45162827-2A09-4C62-BBFD-5710685583D9" class="sect4">完成因子创建的常规页面</h4>
                  <div>
                     <p>在“常规”页面中，您必须输入因子的常规标识信息，例如其名称。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在“常规”页面中，输入以下信息：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">名称：</span>以大小写形式输入最多28个字符的名称，不能包含空格。Oracle Database Vault根据所选因子的名称为要在<code class="codeph">DVF</code>模式中创建的因子函数创建有效的Oracle标识符。例如，如果创建名为<code class="codeph">GetNetworkIP</code>的因子，Oracle Database Vault将创建<code class="codeph">DVF.F$GETNETWORKIP</code>函数。此属性是必需的。
                                    </p>
                                    <p>Oracle建议您使用名词开始名称，并使用派生值的简短描述填写名称。</p>
                                    <p><a href="oracle-database-vault-factor-apis.html#GUID-364245B9-C339-488A-8D49-B8B01B667857" title="使用DBMS_MACADM PL / SQL程序包管理各种因素时，Oracle Database Vault维护DVF架构功能。">Oracle Database Vault DVF PL / SQL因子功能</a>描述了<code class="codeph">DVF</code>因子功能。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">描述：</span>输入因子的文本描述。混合大小写最多可包含1024个字符。此属性是可选的。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">因子类型：</span>从列表中选择因子的类型或类别。此属性是必需的。
                                    </p>
                                    <p>因子类型具有名称和描述，仅用于帮助分类因子。因子类型是用于对因子进行分类的类别名称。默认物理因子类型包括身份验证方法，主机名，主机IP地址，实例标识符，数据库帐户信息等。除了已安装的因子类型（如时间和身份验证方法）之外，您还可以创建用户定义的因子类型，例如应用程序名称，证书信息等。</p>
                                    <p>您可以通过查询<code class="codeph">DBA_DV_FACTOR</code>数据字典视图找到与特定因子类型关联的因子。例如：</p><pre class="oac_no_warn" dir="ltr">从DBA_DV_FACTOR中选择名称WHERE FACTOR_TYPE_NAME ='验证方法';</pre><p>输出是：</p><pre class="oac_no_warn" dir="ltr">NAME ------------------------------ Network_Protocol Authentication_Method Identification_Type</pre></li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A" title="通常，要创建因子，首先要创建因子本身，然后编辑因子以包含其标识。">创建因子</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71282"></a><div class="props_rev_3"><a id="GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" name="GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30"></a><h4 id="DVADM-GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" class="sect4">因子创建的配置页面</h4>
                  <div>
                     <p>“配置”页面定义了因子的标识和评估方法等设置。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-6FD3B138-AAFB-455A-B9F6-5F58CD06219E">设置因子识别信息</a><br>在“因子标识”下，您必须选择如何解析因子的标识。此属性是必需的。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-8C84E045-A973-4E90-9682-6A607BE745D0">因子身份如何运作</a><br>因子标识是因子的实际值（例如，使用IP_Address类型的因子的IP地址）。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-46146713-138D-4C56-A624-0E7C8D9EE221">设置因子的评估信息</a><br>在“评估”下，您必须选择要如何评估因子并为其分配标识。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-76A0178F-E6EB-4589-B908-C96071CFCCCE">为因子设置Oracle Label Security标签信息</a><br>在“因子标记”下，您必须选择因子标识检索Oracle Label Security（OLS）标签的方式。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-9B14F55D-CE57-48FA-9BD5-0D9E551E77D6">设置因子的检索方法</a><br>在“检索方法”下，必须输入一个PL / SQL表达式，用于检索因子或常量的标识。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-402C3F02-8F7F-4FB8-BA2B-0C8AC07D9F3E">检索方法如何工作</a><br>检索方法通过方法或常量识别因子识别的因素。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-24020798-C139-4BF2-8E3C-1CD2EB6BCDC9">设置因子的验证方法</a><br>验证方法使用PL / SQL表达式返回布尔值以验证因子的标识。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A" title="通常，要创建因子，首先要创建因子本身，然后编辑因子以包含其标识。">创建因子</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DVADM70228"></a><div class="props_rev_3"><a id="GUID-6FD3B138-AAFB-455A-B9F6-5F58CD06219E" name="GUID-6FD3B138-AAFB-455A-B9F6-5F58CD06219E"></a><h5 id="DVADM-GUID-6FD3B138-AAFB-455A-B9F6-5F58CD06219E" class="sect5">设置因子识别信息</h5>
                     <div>
                        <p>在“因子标识”下，您必须选择如何解析因子的标识。此属性是必需的。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在“配置”页面的“因子标识”下，输入以下信息：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">按常量：</span>通过检索“ <span class="bold">检索方法”</span>字段中找到的常量值来解析因子标识。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">方法：</span>通过执行“ <span class="bold">检索方法”</span>字段中指定的PL / SQL表达式来设置因子标识。
                                       </p>
                                       <p>例如，假设表达式检索系统日期：</p><pre class="oac_no_warn" dir="ltr">TO_CHAR（SYSDATE， 'YYYY-MM-DD'）</pre><p>在2015年12月15日，“ <span class="bold">按方法”</span>选项将返回以下值：</p><pre class="oac_no_warn" dir="ltr">2015年12月15日</pre></li>
                                    <li>
                                       <p><span class="bold">因子：</span>通过将子因子的身份映射到其父因子来确定因子身份。父因子是基于第二因子（称为子因子）解析其值的因子。为了建立他们的关系，你可以映射他们的身份。（您无需为此选项指定<span class="bold">Retrieval Method</span>表达式。）
                                       </p>
                                       <p>有关映射标识的详细信息，请参阅<a href="configuring-factors.html#GUID-08304327-0072-4170-AC13-CBE1DDB6D136" title="您可以使用标识映射来使用一组因子来管理标识值。">使用标识映射配置标识以使用其他因素</a> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" title="“配置”页面定义了因子的标识和评估方法等设置。">因子创建的配置页面</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DVADM71443"></a><div class="props_rev_3"><a id="GUID-8C84E045-A973-4E90-9682-6A607BE745D0" name="GUID-8C84E045-A973-4E90-9682-6A607BE745D0"></a><h5 id="DVADM-GUID-8C84E045-A973-4E90-9682-6A607BE745D0" class="sect5">因子身份如何运作</h5>
                     <div>
                        <p>因子标识是因子的实际值（例如，使用IP_Address类型的因子的IP地址）。</p>
                        <p>根据其检索方法或其身份映射逻辑，因子可以具有多个身份。例如，诸如Database_Hostname之类的因素在Oracle Real Application Clusters环境中可能具有多个标识; Client_IP等因素在任何RDBMS环境中都可以具有多个身份。这些类型因子的检索方法可能返回不同的值，因为检索方法基于数据库会话。有几个报告允许您跟踪因子身份配置。</p>
                        <p>您可以通过以下方式配置因子的分配：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在建立数据库会话时分配因子。</p>
                           </li>
                           <li>
                              <p>配置各个请求以检索因子的标识。</p>
                           </li>
                        </ul>
                        <p>通过Oracle Label Security集成，您可以使用Oracle Label Security标签标记身份。您还可以分配身份<span class="italic">信任级别</span> ，这些<span class="italic">级别</span>是指示相对于同一因子的其他身份的<span class="italic">信任量</span>的数字。通常，设置的信任级别数越高，信任度越高。负信任级别不受信任。
                        </p>
                        <p>在数据库会话中，Oracle Database Vault以及<code class="codeph">DVF</code>架构中存在可公开访问的PL / SQL函数的任何应用程序（包含检索因子值的函数）都可以使用因子分配的标识，如下所示：</p>
                        <p><code class="codeph">dvf.f$</code> <span class="italic"><code class="codeph">factor_name</code></span></p>
                        <p>这允许从Oracle数据库中全局访问因子的标识符（使用PL / SQL，SQL，Oracle虚拟专用数据库，触发器等）。例如，在SQL * Plus中：</p><pre class="oac_no_warn" dir="ltr">CONNECT leo_dvowner输入密码： <span class="italic">password</span> SELECT DVF.F $ DATABASE_IP FROM DUAL;</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">从DUAL中选择DVF.F $ DATABASE_IP; F $ DATABASE_IP ----------------------------------------------- -------------- 192.0.2.1</pre><p>您还可以使用<code class="codeph">GET_FACTOR</code>函数查找可用于公共访问的因子的标识。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT GET_FACTOR（'DATABASE_IP'）FROM DUAL;</pre><p>出现以下输出：</p><pre class="oac_no_warn" dir="ltr">GET_FACTOR（'DATABASE_IP'）-------------------------------------------- ----------------- 192.0.2.1</pre></div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-factors.html#GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" title="创建新因子后，您可以选择为其添加标识。">向因子添加标识</a></li>
                              <li><a href="configuring-factors.html#GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA" title="Oracle Database Vault提供报告和数据字典视图，显示有关因子及其身份的信息。">因子相关报告和数据字典视图</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" title="“配置”页面定义了因子的标识和评估方法等设置。">因子创建的配置页面</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DVADM70229"></a><div class="props_rev_3"><a id="GUID-46146713-138D-4C56-A624-0E7C8D9EE221" name="GUID-46146713-138D-4C56-A624-0E7C8D9EE221"></a><h5 id="DVADM-GUID-46146713-138D-4C56-A624-0E7C8D9EE221" class="sect5">设置因子的评估信息</h5>
                     <div>
                        <p>在“评估”下，您必须选择要如何评估因子并为其分配标识。</p>
                        <div class="section">
                           <p>请参阅<a href="configuring-factors.html#GUID-F6EB02AD-18A4-4005-B3AA-89B23F31AC6B" title="因素的复杂性会影响Oracle数据库实例的性能。">因素如何影响</a>会话因素的性能影响。此属性是必需的。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在“配置”页面的“评估”下，输入以下信息：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">对于会话：</span>在创建数据库会话时评估因子。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">按访问：</span>每次访问时（例如，由应用程序引用）以及首次创建数据库会话时评估因子。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">启动时：</span>在数据库会话启动时评估因子。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" title="“配置”页面定义了因子的标识和评估方法等设置。">因子创建的配置页面</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DVADM70230"></a><div class="props_rev_3"><a id="GUID-76A0178F-E6EB-4589-B908-C96071CFCCCE" name="GUID-76A0178F-E6EB-4589-B908-C96071CFCCCE"></a><h5 id="DVADM-GUID-76A0178F-E6EB-4589-B908-C96071CFCCCE" class="sect5">为因子设置Oracle Label Security标签信息</h5>
                     <div>
                        <p>在“因子标记”下，您必须选择因子标识检索Oracle Label Security（OLS）标签的方式。</p>
                        <div class="section">
                           <p>如果您计划使用Oracle Label Security集成，则此设置适用。如果要使用OLS标签，则必须使用此属性。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在“配置”页面的“因子标签”下，输入以下信息：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">自我：</span>直接从与Oracle Label Security策略关联的标签中标记因子的标识。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">因素：</span>如果有多个子因子标签，则Oracle Database Vault将使用与适用的Oracle Label Security策略关联的Oracle Label Security算法合并标签。对于每个适用的Oracle Label Security策略，因子标识可以具有指定的标签。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="integrating-database-vault-with-other-oracle-products.html#GUID-41CF584E-84D5-4912-A113-043D52C9EF06" title="您可以将Oracle Database Vault与Oracle Label Security集成，并检查与报告和数据字典视图的集成。">将Oracle Database Vault与Oracle Label Security集成</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" title="“配置”页面定义了因子的标识和评估方法等设置。">因子创建的配置页面</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DVADM70231"></a><div class="props_rev_3"><a id="GUID-9B14F55D-CE57-48FA-9BD5-0D9E551E77D6" name="GUID-9B14F55D-CE57-48FA-9BD5-0D9E551E77D6"></a><h5 id="DVADM-GUID-9B14F55D-CE57-48FA-9BD5-0D9E551E77D6" class="sect5">设置因子的检索方法</h5>
                     <div>
                        <p>在“检索方法”下，必须输入一个PL / SQL表达式，用于检索因子或常量的标识。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在“配置”页面的“检索方法”下，输入PL / SQL检索方法。在混合大小写中最多可以使用255个字符。</p>
                              </li>
                           </ul>
                           <p>以下检索方法通过从用户会话中的<code class="codeph">USERENV</code>命名空间检索数据库名称（DB_NAME）来设置DB_NAME因子的值。
                           </p><pre class="oac_no_warn" dir="ltr">UPPER（SYS_CONTEXT（ 'USERENV'， 'DB_NAME'））</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" title="“配置”页面定义了因子的标识和评估方法等设置。">因子创建的配置页面</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DVADM71444"></a><div class="props_rev_3"><a id="GUID-402C3F02-8F7F-4FB8-BA2B-0C8AC07D9F3E" name="GUID-402C3F02-8F7F-4FB8-BA2B-0C8AC07D9F3E"></a><h5 id="DVADM-GUID-402C3F02-8F7F-4FB8-BA2B-0C8AC07D9F3E" class="sect5">检索方法如何工作</h5>
                     <div>
                        <p>检索方法通过方法或常量识别因子识别的因素。</p>
                        <p>如果因子标识是因子，则Oracle Database Vault通过其标识映射来标识它。您可以创建自己的PL / SQL检索方法，也可以使用Oracle Database Vault提供的功能。有关可用于构建检索方法的因子特定和常规实用程序函数，请参阅以下部分：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="oracle-database-vault-factor-apis.html#GUID-364245B9-C339-488A-8D49-B8B01B667857" title="使用DBMS_MACADM PL / SQL程序包管理各种因素时，Oracle Database Vault维护DVF架构功能。">Oracle Database Vault DVF PL / SQL因子函数</a></p>
                           </li>
                           <li>
                              <p><a href="oracle-database-vault-factor-apis.html#GUID-D7C3A134-8B39-4352-AFCC-DDDE6DB5DC30" title="DBMS_MACADM PL / SQL包提供了配置因子的过程和函数。">DBMS_MACADM因子过程和函数</a></p>
                           </li>
                           <li>
                              <p><a href="oracle-database-vault-utility-apis.html#GUID-5A0CB405-9A3C-48ED-B18F-3A8013D436E3" title="Oracle Database Vault在DBMS_MACUTL PL / SQL包中提供了一组实用程序API。">Oracle Database Vault Utility API</a></p>
                           </li>
                        </ul>
                        <p>有关检索方法的示例，另请参阅Oracle Database Vault提供的默认因子。<a href="configuring-factors.html#GUID-F4B06A72-933C-43B6-82CC-B7273B7F2696" title="Oracle Database Vault提供了一组默认因子。">默认因素</a>描述了这些因素。
                        </p>
                        <p>如果您在因子识别下选择了以下设置，则必须使用“ <span class="bold">检索方法”</span>字段：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">按方法：</span>在“检索方法”字段中输入方法。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">按常量：</span>在“检索方法”字段中输入常量。
                              </p>
                           </li>
                        </ul>
                        <p>作为因子标识返回的值必须是<code class="codeph">VARCHAR2</code>字符串或以其他方式可转换为1。
                        </p>
                        <p>您可以在表达式中包含任何包函数或独立函数。确保表达式是完全限定的函数，例如<span class="italic"><code class="codeph">schema</code></span> 。 <span class="italic"><code class="codeph">function_name</code></span> 。不要包含完整的SQL语句。如果您使用的是应用程序包或函数，则必须为<code class="codeph">DVSYS</code>提供对象的<code class="codeph">EXECUTE</code>特权。
                        </p>
                        <p>使用以下格式编写函数签名：</p><pre class="oac_no_warn" dir="ltr">功能GET_FACTOR RETURN VARCHAR2</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" title="“配置”页面定义了因子的标识和评估方法等设置。">因子创建的配置页面</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DVADM70232"></a><div class="props_rev_3"><a id="GUID-24020798-C139-4BF2-8E3C-1CD2EB6BCDC9" name="GUID-24020798-C139-4BF2-8E3C-1CD2EB6BCDC9"></a><h5 id="DVADM-GUID-24020798-C139-4BF2-8E3C-1CD2EB6BCDC9" class="sect5">设置因子的验证方法</h5>
                     <div>
                        <p>验证方法使用PL / SQL表达式返回布尔值以验证因子的标识。</p>
                        <div class="section">
                           <p>在验证方法下，您必须输入一个PL / SQL表达式，该表达式返回一个布尔值（ <code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> ）以验证要检索的因子的标识（使用<code class="codeph">GET_FACTOR</code>函数）或要分配给因子的值（使用<code class="codeph">SET_FACTOR</code>功能）。
                           </p>
                           <p>如果对于要检索或要分配的值将方法评估为false，则将因子标识设置为null。此可选功能提供了额外的保证，可以正确检索和设置因子。在混合大小写中，此字段最多可包含255个字符。</p>
                           <p>您可以在表达式中包含任何包函数或独立函数。确保表达式是完全限定的函数，例如<span class="italic"><code class="codeph">schema</code></span> 。 <span class="italic"><code class="codeph">function_name</code></span> 。不要包含完整的SQL语句。如果您正在使用应用程序包或函数，则必须为<code class="codeph">DVSYS</code>提供对象的<code class="codeph">EXECUTE</code>特权。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在“配置”页面的“验证方法”下，创建一个使用以下任何格式的函数：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">FUNCTION</code> <code class="codeph">IS_VALID</code> <code class="codeph">RETURN BOOLEAN</code></p>
                                       <p>在此表单中，您可以在函数逻辑中使用<code class="codeph">DVF.F$</code> <span class="italic"><code class="codeph">factor_name</code></span>函数。这更适合会话评估的因素。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">FUNCTION</code> <code class="codeph">IS_VALID</code> <code class="codeph">(</code> <span class="italic"><code class="codeph">p_factor_value</code></span> <code class="codeph">VARCHAR2</code> <code class="codeph">)</code> <code class="codeph">RETURN BOOLEAN</code></p>
                                       <p>在这种形式中，因子值直接传递给验证函数。这更适合通过访问评估的因素。它也适用于会话评估的因素。</p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="oracle-database-vault-factor-apis.html#GUID-D7C3A134-8B39-4352-AFCC-DDDE6DB5DC30" title="DBMS_MACADM PL / SQL包提供了配置因子的过程和函数。">DBMS_MACADM因子过程和函数</a></li>
                              <li><a href="oracle-database-vault-factor-apis.html#GUID-CC99DA3D-72F9-400A-854B-FED379B07ABE" title="Oracle Database Vault提供了用于管理Database Vault安全选项和管理Database Vault安全强制实施的过程接口。">Oracle Database Vault运行时PL / SQL过程和函数</a></li>
                              <li><a href="oracle-database-vault-factor-apis.html#GUID-364245B9-C339-488A-8D49-B8B01B667857" title="使用DBMS_MACADM PL / SQL程序包管理各种因素时，Oracle Database Vault维护DVF架构功能。">Oracle Database Vault DVF PL / SQL因子函数</a></li>
                              <li><a href="oracle-database-vault-utility-apis.html#GUID-5A0CB405-9A3C-48ED-B18F-3A8013D436E3" title="Oracle Database Vault在DBMS_MACUTL PL / SQL包中提供了一组实用程序API。">Oracle Database Vault Utility API</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9AE18686-4A5C-4462-BBC7-CCA120887D30" title="“配置”页面定义了因子的标识和评估方法等设置。">因子创建的配置页面</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71283"></a><div class="props_rev_3"><a id="GUID-C66D5BDA-2AE4-433E-ABFC-6C04561B4683" name="GUID-C66D5BDA-2AE4-433E-ABFC-6C04561B4683"></a><h4 id="DVADM-GUID-C66D5BDA-2AE4-433E-ABFC-6C04561B4683" class="sect4">因子创造的选项页面</h4>
                  <div>
                     <p>“选项”页面将规则集分配给因子，设置错误选项，对于非统一审计，设置审计选项。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-37860E55-BDD7-48D7-9842-979858E19817">将规则集分配给因子</a><br>在“分配规则集”下，如果要使用规则集来控制设置因子标识，则选择规则集。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-9BF6F8E1-69E0-44FF-819C-30B41CF97259">设置因子的错误选项</a><br>在“错误选项”下，设置无法解析因子标识时必须进行的处理。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-D4BA8031-3ED5-4274-AA21-E6B7B7B1076E">设置因子的审计选项</a><br>在“审核选项”下，如果未使用统一审核环境，则可以生成审核跟踪。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-98E4446D-4283-42A9-A739-90253C723F60">因素审计如何运作</a><br>是否启用统一审核会影响审核因素的处理方式。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A" title="通常，要创建因子，首先要创建因子本身，然后编辑因子以包含其标识。">创建因子</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DVADM70233"></a><div class="props_rev_3"><a id="GUID-37860E55-BDD7-48D7-9842-979858E19817" name="GUID-37860E55-BDD7-48D7-9842-979858E19817"></a><h5 id="DVADM-GUID-37860E55-BDD7-48D7-9842-979858E19817" class="sect5">将规则集分配给因子</h5>
                     <div>
                        <p>在“分配规则集”下，如果要使用规则集来控制设置因子标识，则选择规则集。</p>
                        <div class="section">
                           <p>例如，您可以使用规则集来确定数据库会话何时来自已知的应用程序服务器或程序。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在“选项”页面的“ <span class="bold">分配规则集”</span>菜单中，从列表中选择一个规则集。
                                 </p>
                              </li>
                           </ul>
                           <p>对于数据库应用程序（如使用JDBC连接池的Web应用程序）必须为当前数据库会话动态设置因子标识的情况，此属性特别有用。例如，Web应用程序可能希望为登录Web应用程序的数据库帐户分配地理位置。为此，Web应用程序可以使用JDBC Callable Statement或Oracle Data Provider for .NET（ODP.NET）来执行PL / SQL函数<code class="codeph">SET_FACTOR</code> ，例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN SET_FACTOR（'GEO_STATE'，'VIRGINIA'）;结束;</pre><p>然后，您可以为GEO_STATE因子创建分配规则，以允许或禁止基于其他因素或规则表达式设置GEO_STATE因子。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-rule-sets.html#GUID-41914FF0-20E0-4878-8124-C6C976C19104" title="规则集将一个或多个规则组合在一起;规则确定用户是否可以对对象执行操作。">配置规则集</a></li>
                              <li><a href="configuring-factors.html#GUID-5334920A-604E-47A8-B265-BBE51097E022" title="您可以在数据库会话期间随时分配因子标识，但前提是因子分配规则集的计算结果为true。">如何设定因素</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-C66D5BDA-2AE4-433E-ABFC-6C04561B4683" title="“选项”页面将规则集分配给因子，设置错误选项，对于非统一审计，设置审计选项。">因子创建的选项页面</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DVADM70235"></a><div class="props_rev_3"><a id="GUID-9BF6F8E1-69E0-44FF-819C-30B41CF97259" name="GUID-9BF6F8E1-69E0-44FF-819C-30B41CF97259"></a><h5 id="DVADM-GUID-9BF6F8E1-69E0-44FF-819C-30B41CF97259" class="sect5">设置因子的错误选项</h5>
                     <div>
                        <p>在“错误选项”下，设置无法解析因子标识时必须进行的处理。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在“选项”页面的“错误选项”下，从以下值中进行选择：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">显示错误消息：</span>显示数据库会话的错误消息。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">不显示错误消息：</span>不显示错误消息。
                                       </p>
                                       <p>选择<span class="bold">“不显示错误消息”</span>然后启用审核的一个优点是您可以跟踪潜在入侵者的活动。审计报告揭示了入侵者的活动，但是入侵者并不知道您这样做是因为他或她没有看到任何错误消息。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p>创建新因子后，即可配置其身份。为此，请编辑因子，然后添加其标识。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-C66D5BDA-2AE4-433E-ABFC-6C04561B4683" title="“选项”页面将规则集分配给因子，设置错误选项，对于非统一审计，设置审计选项。">因子创建的选项页面</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DVADM70234"></a><div class="props_rev_3"><a id="GUID-D4BA8031-3ED5-4274-AA21-E6B7B7B1076E" name="GUID-D4BA8031-3ED5-4274-AA21-E6B7B7B1076E"></a><h5 id="DVADM-GUID-D4BA8031-3ED5-4274-AA21-E6B7B7B1076E" class="sect5">设置因子的审计选项</h5>
                     <div>
                        <p>在“审核选项”下，如果未使用统一审核环境，则可以生成审核跟踪。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在“选项”页面的“审核选项”下，从以下值中进行选择：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">从不：</span>不审核。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">始终：</span>始终在评估因子时创建审核记录。您可以从下面描述的条件中进行选择。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">验证错误：</span>验证方法（如果提供）返回<code class="codeph">FALSE</code>时创建审计记录。</p>
                                    </li>
                                    <li>
                                       <p><span class="bold">检索错误：</span>由于错误（例如<code class="codeph">No data found</code>或<code class="codeph">Too many rows</code> ）而无法解析和分配因子的标识时创建审核记录。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">信任级别NULL：</span>当因子的已解析标识具有指定的信任级别<code class="codeph">NULL</code>时，创建审计记录。</p>
                                       <p>有关信任级别的详细信息，请参阅<a href="configuring-factors.html#GUID-AA6DA56D-EE20-4BB7-AB59-18466A7E8EF0" title="您可以在Oracle Database Vault Administrator中创建和配置因子标识。">创建和配置因子标识</a> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">信任级别小于零：</span>当因子的已解析标识具有小于零的指定信任级别时，创建审计记录。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">验证错误：</span>验证方法（如果提供）返回错误时创建审核记录。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-C66D5BDA-2AE4-433E-ABFC-6C04561B4683" title="“选项”页面将规则集分配给因子，设置错误选项，对于非统一审计，设置审计选项。">因子创建的选项页面</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DVADM71445"></a><div class="props_rev_3"><a id="GUID-98E4446D-4283-42A9-A739-90253C723F60" name="GUID-98E4446D-4283-42A9-A739-90253C723F60"></a><h5 id="DVADM-GUID-98E4446D-4283-42A9-A739-90253C723F60" class="sect5">因素审计如何运作</h5>
                     <div>
                        <p>是否启用统一审核会影响审核因素的处理方式。</p>
                        <p>在非统一审计环境中，Oracle Database Vault将审计跟踪写入<code class="codeph">DVSYS.AUDIT_TRAIL$</code>表，如<a href="auditing-oracle-database-vault.html#GUID-9E9C7DBE-A8C5-4F02-8E90-F7311D47AB92" title="您可以审核Oracle Database Vault中的活动，例如对策略配置的更改。">审计Oracle Database Vault中所述</a> 。
                        </p>
                        <p>如果已启用统一审核，则此设置不会捕获审核记录。相反，您可以创建审核策略来捕获此信息，如“ <a href="../dbseg/configuring-audit-policies.html#DBSEG419" target="_blank"><span><cite>Oracle数据库安全指南”中所述</cite></span></a> 。
                        </p>
                        <p>您可以使用“因子审计报告”显示生成的审计记录。（有关详细信息，请参阅<a href="configuring-factors.html#GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA" title="Oracle Database Vault提供报告和数据字典视图，显示有关因子及其身份的信息。">因子相关报告和数据字典视图</a> 。）此外，您可以一次选择多个审核选项。每个选项都转换为位掩码并添加以确定聚合行为。请注意，除非因素有误，否则对审核的性能影响很小。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-C66D5BDA-2AE4-433E-ABFC-6C04561B4683" title="“选项”页面将规则集分配给因子，设置错误选项，对于非统一审计，设置审计选项。">因子创建的选项页面</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="DVADM70237"></a><div class="props_rev_3"><a id="GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" name="GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA"></a><h3 id="DVADM-GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" class="sect3">向因子添加标识</h3>
               <div>
                  <p>创建新因子后，您可以选择为其添加标识。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-36900DF7-CA06-49B7-B97B-2C0BE9614734">关于因素身份</a><br>标识是因子的实际值，例如IP_Address因子标识为192.0.2.4。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-6C6DCCB1-50BA-4B02-ABA7-D4AA3E5BB01C">关于信任级别</a><br>信任级别使您可以分配数值以指示允许的信任度量。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-F267392C-0157-44EA-8FDC-124D2BA50F4A">关于标签身份</a><br>您可以将Oracle Label Label（OLS）标签分配给因子身份。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-AA6DA56D-EE20-4BB7-AB59-18466A7E8EF0">创建和配置因子身份</a><br>您可以在Oracle Database Vault Administrator中创建和配置因子标识。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-69BF3FBE-84D3-43DF-B9FE-22D4BC63059C">删除因子身份</a><br>如果要删除因子标识，可以通过查询与因子相关的Oracle Database Vault视图来查找对它的引用。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-08304327-0072-4170-AC13-CBE1DDB6D136">使用标识映射配置标识以使用其他因素</a><br>您可以使用标识映射来使用一组因子来管理标识值。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70238"></a><div class="props_rev_3"><a id="GUID-36900DF7-CA06-49B7-B97B-2C0BE9614734" name="GUID-36900DF7-CA06-49B7-B97B-2C0BE9614734"></a><h4 id="DVADM-GUID-36900DF7-CA06-49B7-B97B-2C0BE9614734" class="sect4">关于因素身份</h4>
                  <div>
                     <p>标识是因子的实际值，例如IP_Address因子标识为192.0.2.4。</p>
                     <p>使用<a href="configuring-factors.html#GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A" title="通常，要创建因子，首先要创建因子本身，然后编辑因子以包含其标识。">创建因子中</a>描述的<span class="bold">因子标识</span>和<span class="bold">检索方法</span>字段在运行时分配给定数据库会话的<span class="bold">因子标识</span> 。您可以进一步配置身份，原因如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>定义因子的已知标识</p>
                        </li>
                        <li>
                           <p>向因子标识添加信任级别</p>
                        </li>
                        <li>
                           <p>将Oracle Label Security标签添加到因子标识</p>
                        </li>
                        <li>
                           <p>通过使用身份映射来解决因子因素而导致的因子身份</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" title="创建新因子后，您可以选择为其添加标识。">向因子添加标识</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71229"></a><div class="props_rev_3"><a id="GUID-6C6DCCB1-50BA-4B02-ABA7-D4AA3E5BB01C" name="GUID-6C6DCCB1-50BA-4B02-ABA7-D4AA3E5BB01C"></a><h4 id="DVADM-GUID-6C6DCCB1-50BA-4B02-ABA7-D4AA3E5BB01C" class="sect4">关于信任级别</h4>
                  <div>
                     <p>信任级别使您可以分配数值以指示允许的信任度量。</p>
                     <p>信任值为1表示某种信任。值越高表示信任程度越高。负值或零表示不信任。当在身份中未定义从因子检索方法返回的因子身份时，Oracle Database Vault会自动为身份分配负信任级别。</p>
                     <p>要在运行时确定因子标识的信任级别，可以在<code class="codeph">DVSYS</code>模式中使用<code class="codeph">GET_TRUST_LEVEL</code>和<code class="codeph">GET_TRUST_LEVEL_FOR_IDENTITY</code>函数。
                     </p>
                     <p>例如，假设您已创建名为Network的因子。您可以为网络因素创建以下身份：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Intranet，信任级别为10</p>
                        </li>
                        <li>
                           <p>VPN（虚拟专用网络），信任级别为5</p>
                        </li>
                        <li>
                           <p>公开，信任级别为1</p>
                        </li>
                     </ul>
                     <p>然后，您可以创建基于信任级别的策略决策的规则表达式（或自定义应用程序代码）。例如，您可以使用<code class="codeph">GET_TRUST_LEVEL</code>函数查找大于5的信任级别：</p><pre class="oac_no_warn" dir="ltr">GET_TRUST_LEVEL（'网络'）&gt; 5</pre><p>或者，您可以在<code class="codeph">DBA_DV_IDENTITY</code>数据字典视图上使用<code class="codeph">SELECT</code>语句来查找网络因子大于或等于5的信任级别：</p><pre class="oac_no_warn" dir="ltr">SELECT VALUE，TRUST_LEVEL FROM DBA_DV_IDENTITY WHERE TRUST_LEVEL&gt; = 5 AND FACTOR_NAME ='Network'</pre><p>输出类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">F $ NETWORK GET_TRUST_LEVEL（'NETWORK'）------------------------------------ VPN 5 INTRANET 10</pre><p>在前面的示例中，VPN的网络因子标识是可信的（值等于5），INTRANET域的标识是10，这意味着更大的信任。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-realm-apis.html#GUID-8C2577B4-2DA0-4169-B801-0BA02A523CAB" title="DBMS_MACADM PL / SQL包使您可以配置Oracle Database Vault领域。">Oracle Database Vault领域API</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" title="创建新因子后，您可以选择为其添加标识。">向因子添加标识</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM71230"></a><div class="props_rev_3"><a id="GUID-F267392C-0157-44EA-8FDC-124D2BA50F4A" name="GUID-F267392C-0157-44EA-8FDC-124D2BA50F4A"></a><h4 id="DVADM-GUID-F267392C-0157-44EA-8FDC-124D2BA50F4A" class="sect4">关于标签身份</h4>
                  <div>
                     <p>您可以将Oracle Label Label（OLS）标签分配给因子身份。</p>
                     <p>简而言之，标签充当数据库表行的标识符，以便为该行分配权限。<span class="bold">因子的</span> “ <span class="bold">因子标签”</span>属性确定因子是标记为<span class="bold">“自我”</span>还是“ <span class="bold">按因子”</span> 。如果将“ <span class="bold">因子标签”</span>属性设置为<span class="bold">“自我”</span> ，则可以将OLS标签与因子标识相关联。如果将“ <span class="bold">因子标记”</span>属性设置为“ <span class="bold">按因子”</span> ，则Oracle Database Vault会从子因子标识的标签中获取因子标识标签。当带有标签的多个子因子标识时，Oracle Database Vault会使用与适用因子Oracle Label Security策略关联的OLS算法合并标签。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F267392C-0157-44EA-8FDC-124D2BA50F4A__GUID-2ACCA60D-1ED0-44B2-B58E-4598E149CE59">
                        <p class="notep1">也可以看看：</p>有关标签的详细信息，请参阅<a href="../olsag/understanding-data-labels-and-user-labels.html#OLSAG007" target="_blank"><span><cite>“Oracle Label Security管理员指南”</cite></span></a></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" title="创建新因子后，您可以选择为其添加标识。">向因子添加标识</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70239"></a><div class="props_rev_3"><a id="GUID-AA6DA56D-EE20-4BB7-AB59-18466A7E8EF0" name="GUID-AA6DA56D-EE20-4BB7-AB59-18466A7E8EF0"></a><h4 id="DVADM-GUID-AA6DA56D-EE20-4BB7-AB59-18466A7E8EF0" class="sect4">创建和配置因子身份</h4>
                  <div>
                     <p>您可以在Oracle Database Vault Administrator中创建和配置因子标识。</p>
                     <ol>
                        <li class="stepexpand"><span>在“创建因子”页面的“选择标识”页面中，选择“ <span class="bold">添加新标识”。</span></span><div>
                              <p>将出现“添加新标识”窗口。</p><br><img src="img/factor_identity122.png" alt="factor_identity122.png的描述如下" title="factor_identity122.png的描述如下" longdesc="img_text/factor_identity122.html"><br><a href="img_text/factor_identity122.html">说明factor_identity122.png的说明</a><br></div>
                        </li>
                        <li class="stepexpand"><span>在“身份”子页面中，输入以下值：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">值：</span>输入标识的值，混合大小写最多1024个字符。此属性是必需的。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">信任级别：</span>选择以下信任级别之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><span class="bold">非常可信：</span>指定信任级别值为10</p>
                                       </li>
                                       <li>
                                          <p><span class="bold">可信：</span>指定信任级别值为5</p>
                                       </li>
                                       <li>
                                          <p><span class="bold">Somewhat Trusted：</span>将信任级别值指定为1</p>
                                       </li>
                                       <li>
                                          <p><span class="bold">不受信任：</span>将信任级别值指定为-1</p>
                                       </li>
                                       <li>
                                          <p><span class="bold">信任级别未定义：</span>将信任级别值指定为<code class="codeph">NULL</code> （默认值）</p>
                                       </li>
                                    </ul>
                                    <p>有关<a href="configuring-factors.html#GUID-6C6DCCB1-50BA-4B02-ABA7-D4AA3E5BB01C" title="Trust levels enable you to assign a numeric value to indicate the measure of trust allowed.">信任级别</a>的详细信息，请参阅<a href="configuring-factors.html#GUID-6C6DCCB1-50BA-4B02-ABA7-D4AA3E5BB01C" title="信任级别使您可以分配数值以指示允许的信任度量。">关于</a>信任级别。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">标签标识：</span>可以选择从可用的Oracle Label Security策略列表中进行选择，然后单击“ <span class="bold">移动”</span>按钮将它们移动到“ <span class="bold">选定的OLS策略”</span>列表中。
                                    </p>
                                    <p>该列表显示了站点的Oracle Label Security安装中的数据标签。有关更多信息，请参阅<a href="../olsag/understanding-data-labels-and-user-labels.html#OLSAG007" target="_blank"><span><cite>Oracle Label Security管理员指南</cite></span></a> 。
                                    </p>
                                    <p>有关<a href="configuring-factors.html#GUID-F267392C-0157-44EA-8FDC-124D2BA50F4A" title="You can assign You Oracle Label Security (OLS) labels to factor identities.">标签标识</a>的详细信息，请参阅<a href="configuring-factors.html#GUID-F267392C-0157-44EA-8FDC-124D2BA50F4A" title="您可以将Oracle Label Label（OLS）标签分配给因子身份。">关于</a>标签标识。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击“ <span class="bold">确定”</span>返回“创建因子：身份”页面。</span></li>
                        <li class="stepexpand"><span>单击“ <span class="bold">下一步”</span>以查看因子设置。</span></li>
                        <li class="stepexpand"><span>单击<span class="bold">完成</span> 。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" title="创建新因子后，您可以选择为其添加标识。">向因子添加标识</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71231"></a><div class="props_rev_3"><a id="GUID-69BF3FBE-84D3-43DF-B9FE-22D4BC63059C" name="GUID-69BF3FBE-84D3-43DF-B9FE-22D4BC63059C"></a><h4 id="DVADM-GUID-69BF3FBE-84D3-43DF-B9FE-22D4BC63059C" class="sect4">删除因子身份</h4>
                  <div>
                     <p>如果要删除因子标识，可以通过查询与因子相关的Oracle Database Vault视图来查找对它的引用。</p>
                     <ol>
                        <li><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                        <li><span>在“管理”页面的“数据库Vault组件”下，单击“ <span class="bold">因子”</span> 。</span></li>
                        <li><span>选择要删除其身份的因子，然后单击“ <span class="bold">编辑”</span> 。</span></li>
                        <li><span>在“编辑因子”页面中，单击“ <span class="bold">下一步”，</span>直到到达“身份”页面。</span></li>
                        <li><span>选择要删除的因子标识。</span></li>
                        <li><span>单击<span class="bold">删除</span> 。</span></li>
                        <li><span>单击<span class="bold">“完成”</span> ，然后单击“ <span class="bold">完成”</span> 。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-database-vault-data-dictionary-views.html#GUID-C0CEF4FC-DB4C-4AD5-9671-C0861A647183" title="您可以通过查询特定于Database Vault的数据字典视图来查找有关Oracle Database Vault配置设置的信息。">Oracle Database Vault数据字典视图</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" title="创建新因子后，您可以选择为其添加标识。">向因子添加标识</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DVADM70244"></a><div class="props_rev_3"><a id="GUID-08304327-0072-4170-AC13-CBE1DDB6D136" name="GUID-08304327-0072-4170-AC13-CBE1DDB6D136"></a><h4 id="DVADM-GUID-08304327-0072-4170-AC13-CBE1DDB6D136" class="sect4">使用标识映射配置标识以使用其他因素</h4>
                  <div>
                     <p>您可以使用标识映射来使用一组因子来管理标识值。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-4112AA85-F3B4-4FF5-9548-639D662D6181">关于身份映射</a><br>在创建工厂标识时，可以映射它。
                        </li>
                        <li class="ulchildlink"><a href="configuring-factors.html#GUID-37F292BD-C4E4-4CB9-A3F7-D3498E6279FF">将身份映射到因子</a><br>您可以通过创建具有两个因子的父子关系将身份映射到因子。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-3317EBF9-3261-4D4C-8E46-51700CBEC4EA" title="创建新因子后，您可以选择为其添加标识。">向因子添加标识</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DVADM71232"></a><div class="props_rev_3"><a id="GUID-4112AA85-F3B4-4FF5-9548-639D662D6181" name="GUID-4112AA85-F3B4-4FF5-9548-639D662D6181"></a><h5 id="DVADM-GUID-4112AA85-F3B4-4FF5-9548-639D662D6181" class="sect5">关于身份映射</h5>
                     <div>
                        <p>在创建工厂标识时，可以映射它。</p>
                        <p>身份映射是通过使用其他（子）因子来识别因子的过程。这是一种将因子组合转换为因子的逻辑标识或将连续标识值（例如，温度）或大的离散标识值（例如，IP地址范围）转换为逻辑集的方法。要检查身份映射中的配置问题，可以运行“身份配置问题”报告。</p>
                        <p>您可以将父因子的不同身份映射到贡献因子的不同身份。例如，INTRANET标识映射到IP地址范围192.0.2.1到192.0.2.24。REMOTE标识可以映射到排除地址范围192.0.2.1到192.0.2.24的IP地址范围。</p>
                        <p>基于身份映射，您可以创建安全策略。例如，您可以为通过VPN连接的员工（使用REMOTE）定义一组简化的权限，而不是从公司网络内部（使用INTRANET）连接的员工。</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-08304327-0072-4170-AC13-CBE1DDB6D136" title="您可以使用标识映射来使用一组因子来管理标识值。">使用标识映射配置标识以使用其他因素</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DVADM71233"></a><div class="props_rev_3"><a id="GUID-37F292BD-C4E4-4CB9-A3F7-D3498E6279FF" name="GUID-37F292BD-C4E4-4CB9-A3F7-D3498E6279FF"></a><h5 id="DVADM-GUID-37F292BD-C4E4-4CB9-A3F7-D3498E6279FF" class="sect5">将身份映射到因子</h5>
                     <div>
                        <p>您可以通过创建具有两个因子的父子关系将身份映射到因子。</p>
                        <div class="section">
                           <ol>
                              <li>
                                 <p>按照<a href="configuring-factors.html#GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A" title="In general, to create a factor, you first create the factor itself, and then you edit the factor to include its identity.">创建因子中</a>的说明<a href="configuring-factors.html#GUID-84E260F7-FB2E-490A-997F-DDD7F4BD220A" title="通常，要创建因子，首先要创建因子本身，然后编辑因子以包含其标识。">创建</a>父因子，并将属性<span class="bold">因子识别</span>设置为<span class="bold">按因子</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在“身份”页面中，按照<a href="configuring-factors.html#GUID-AA6DA56D-EE20-4BB7-AB59-18466A7E8EF0" title="您可以在Oracle Database Vault Administrator中创建和配置因子标识。">创建和配置因子</a>身份中的说明为父因子创建身份。
                                 </p>
                              </li>
                              <li>
                                 <p>将父元素的因子 - 同一性对映射到其子元素的因子 - 同一性对。使用以下过程：</p>
                                 <ol type="a">
                                    <li>
                                       <p>在“身份”页面中，选择现有身份并单击“ <span class="bold">编辑”</span> ，或单击“ <span class="bold">添加新身份”</span>以创建新身份。
                                       </p>
                                    </li>
                                    <li>
                                       <p>在“编辑标识”窗口（或“添加新标识”窗口）中，确保至少在标识子页面中填写“ <span class="bold">值”</span>字段。
                                       </p>
                                    </li>
                                    <li>
                                       <p>单击“ <span class="bold">映射标识”</span>选项卡。
                                       </p><br><img src="img/identity_mapping122.png" alt="identity_mapping122.png的描述如下" title="identity_mapping122.png的描述如下" longdesc="img_text/identity_mapping122.html"><br><a href="img_text/identity_mapping122.html">identity_mapping122.png插图的描述</a><br></li>
                                    <li>
                                       <p>单击<span class="bold">添加映射</span> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p>输入以下信息：</p>
                                       <p><span class="bold">子因素名称：</span>从列表中选择子因子名称。
                                       </p>
                                       <p><span class="bold">操作员：</span>从列表中选择操作员。
                                       </p>
                                       <p><span class="bold">最小值：</span>输入最小值。
                                       </p>
                                       <p><span class="bold">最大值：</span>输入最大值。
                                       </p>
                                       <p>例如，考虑将因子网络的贡献因子设置为Client_IP，将<span class="bold">运算符</span>设置为<code class="codeph">Between</code> ， <span class="bold">最小值</span>设置为192.0.2.1并将<span class="bold">Max Value</span>设置为192.0.2.24的方案。这意味着只要客户端IP地址位于192.0.2.1到192.0.2.24的指定地址范围内，父因子就会计算为预定义的标识（例如，INTRANET）。
                                       </p>
                                    </li>
                                    <li>
                                       <p>单击“ <span class="bold">确定”</span>退出“添加新标识映射”窗口。
                                       </p>
                                    </li>
                                    <li>
                                       <p>单击“ <span class="bold">确定”</span>退出“添加新标识和映射”窗口。
                                       </p>
                                    </li>
                                 </ol>
                              </li>
                              <li>
                                 <p>单击<span class="bold">“完成”</span> ，然后单击“ <span class="bold">完成”</span> 。
                                 </p>
                              </li>
                           </ol>
                           <p>重复此过程以为父因子标识添加更多因素。例如，当程序因子解析为“Oracle General Ledger”且Client_IP位于192.0.2.1和192.0.2.24之间时，您可以将网络因子配置为解析为值ACCOUNTING-SENSITIVE。因此，如果在IP地址为192.0.2.12的客户端上运行的授权会计财务应用程序访问数据库，则网络因子将解析为ACCOUNTING-SENSITIVE。具有ACCOUNTING-SENSITIVE网络值的数据库会话将具有比具有INTRANET网络值的数据库会话更多的访问权限。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-08304327-0072-4170-AC13-CBE1DDB6D136" title="您可以使用标识映射来使用一组因子来管理标识值。">使用标识映射配置标识以使用其他因素</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="DVADM70245"></a><div class="props_rev_3"><a id="GUID-7330B098-C9AB-4C28-848D-27CA6BA5B2C5" name="GUID-7330B098-C9AB-4C28-848D-27CA6BA5B2C5"></a><h3 id="DVADM-GUID-7330B098-C9AB-4C28-848D-27CA6BA5B2C5" class="sect3">删除因子</h3>
               <div>
                  <p>在删除因子之前，必须删除对因子的引用。</p>
                  <div class="section">
                     <p>您可以通过查询与因子相关的Oracle Database Vault视图来查找对因子及其身份的各种引用。有关更多信息，请参见<a href="oracle-database-vault-data-dictionary-views.html#GUID-C0CEF4FC-DB4C-4AD5-9671-C0861A647183" title="您可以通过查询特定于Database Vault的数据字典视图来查找有关Oracle Database Vault配置设置的信息。">Oracle Database Vault数据字典视图</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>删除对该因子的任何引用，例如规则集，因子标识和Oracle Label Security策略关联。</span><div>
                           <p>为此，请编辑因子。您可以从“选项”页面中找到并删除规则集，并从“身份”页面中找到Oracle Label Security策略关联和身份。</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>在“Oracle Database Vault管理”页面中，选择“ <span class="bold">因子”</span> 。</span></li>
                     <li class="stepexpand"><span>在“因子”页面中，选择要删除的因子。</span></li>
                     <li class="stepexpand"><span>单击<span class="bold">删除</span> 。</span></li>
                     <li class="stepexpand"><span>在“确认”窗口中，单击“ <span class="bold">是”</span> 。</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70246"></a><div class="props_rev_3"><a id="GUID-E1D7B84F-57AD-4FBA-B99F-47E3BC64B91F" name="GUID-E1D7B84F-57AD-4FBA-B99F-47E3BC64B91F"></a><h3 id="DVADM-GUID-E1D7B84F-57AD-4FBA-B99F-47E3BC64B91F" class="sect3">因素如何运作</h3>
               <div>
                  <p>Oracle Database Vault在建立会话时处理因素。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D">如何在建立会话时处理因子</a><br>Oracle Database Vault根据会话开始时间来评估因子。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-1F1BF07B-5453-4362-8BF6-6C70A7A7E492">如何检索因子</a><br>您可以使用<code class="codeph">DVF</code>因子函数或<code class="codeph">GET_FACTOR</code>函数随时检索数据库会话中的因子。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-5334920A-604E-47A8-B265-BBE51097E022">如何设定因素</a><br>您可以在数据库会话期间随时分配因子标识，但前提是因子分配规则集的计算结果为true。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM70247"></a><div class="props_rev_3"><a id="GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D" name="GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D"></a><h4 id="DVADM-GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D" class="sect4">如何在建立会话时处理因子</h4>
                  <div>
                     <p>Oracle Database Vault根据会话开始时间来评估因子。</p>
                     <p>建立数据库会话时，会发生以下操作：</p>
                     <ol>
                        <li>
                           <p>在每个数据库会话开始时，Oracle Database Vault开始评估数据库实例中的所有缺省和用户创建的因子。</p>
                           <p>此评估在会话的正常数据库身份验证和Oracle Label Security会话信息的初始化（如果适用）之后进行。</p>
                        </li>
                        <li id="GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D__BABJGGCA">
                           <p>在因子评估阶段，因子初始化过程对由方法或常量识别的所有因子执行检索方法，以解析会话的因子身份。</p>
                           <p>因子错误选项设置对因子初始化过程没有影响。</p>
                        </li>
                        <li>
                           <p>如果因子定义了验证方法，Oracle Database Vault将通过执行此验证方法来验证因子的标识（值）。如果验证方法失败或返回false，则因子的标识未定义（ <code class="codeph">NULL</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>如果某个因子具有为其定义的任何标识，Oracle Database Vault将根据定义的标识解析该因子的信任级别。如果在此已定义标识列表中定义了该因子的标识，则Oracle Database Vault会根据配置分配信任级别;否则将其设置为-1。如果没有为因子定义身份，则信任级别未定义（ <code class="codeph">NULL</code> ）。
                           </p>
                        </li>
                        <li id="GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D__CIHJFJJD">
                           <p>根据此因子评估，因子验证和信任级别解决方案的结果，Database Vault将根据因子审计配置审核评估的详细信息。</p>
                        </li>
                        <li id="GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D__BABHEHBJ">
                           <p>当对方法或常量标识的所有因子的评估完成时，Oracle Database Vault将使用为因子配置的标识定义的标识映射来解析由其他因素标识的因子。</p>
                           <p>因子配置标识的评估顺序是通过身份值的ASCII排序：Oracle Database Vault使用它评估的第一个按字母顺序排序的标识映射。例如，假设因子TEST具有身份X和Y.此外，身份X和Y具有依赖于因子A，B和C的身份的身份映射。发生以下映射：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>当A = 1且B = 1时，映射X.</p>
                              </li>
                              <li>
                                 <p>当A = 1，B = 1和C = 2时映射Y.</p>
                              </li>
                           </ul>
                           <p>在这种情况下，第一个评估的是X.Y不被评估，但是如果它的C映射满足TEST因子成功所需的标准怎么办？您需要反转映射，即在X之前映射Y，以便首先评估A，B和C.要反转映射，请将Y重命名为V（或在X之前排序的某个字母值），以便可以正确解析。</p>
                           <p>如果ASCII排序顺序正确并且标识在某个级别映射相同的数字因子，则此算法有效。</p>
                        </li>
                        <li>
                           <p>因子初始化完成后，将发生Oracle Database Vault与Oracle Label Security的集成。</p>
                        </li>
                     </ol>
                     <p>完成此过程后，Oracle Database Vault将检查命令规则是否与<code class="codeph">CONNECT</code>事件关联。如果与<code class="codeph">CONNECT</code>事件关联的规则集，则Oracle Database Vault会评估规则集。如果规则集的计算结果为false或导致错误，则会话终止。Oracle Database Vault在会话终止之前执行与规则集关联的任何审计或调用处理程序。
                     </p>
                     <div class="infoboxnote" id="GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D__GUID-123F53A8-A452-406C-9CA5-72F91938240C">
                        <p class="notep1">注意：</p>
                        <p>注意将命令规则与<code class="codeph">CONNECT</code>事件相关联，因为您可能无意中将其他用户从数据库中锁定。通常，如果为<code class="codeph">CONNECT</code>创建命令规则，请将关联规则集的评估选项设置为<code class="codeph">Any True</code> 。
                        </p>
                        <p>如果您无意中锁定了用户，则应暂时禁用Oracle Database Vault，禁用CONNECT命令规则，重新启用Oracle Database Vault，然后修复导致问题的因子代码。<a href="configuring-factors.html#GUID-506DBBB2-CC2D-42AF-9A98-8BCBCCB4EF7A__CIHCJAFG">如果测试失败</a>提供了如何完成此操作的示例。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-E1D7B84F-57AD-4FBA-B99F-47E3BC64B91F" title="Oracle Database Vault在建立会话时处理因素。">因子的工作原理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70249"></a><a id="DVADM70248"></a><div class="props_rev_3"><a id="GUID-1F1BF07B-5453-4362-8BF6-6C70A7A7E492" name="GUID-1F1BF07B-5453-4362-8BF6-6C70A7A7E492"></a><h4 id="DVADM-GUID-1F1BF07B-5453-4362-8BF6-6C70A7A7E492" class="sect4">如何检索因子</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DVF</code>因子函数或<code class="codeph">GET_FACTOR</code>函数随时检索数据库会话中的因子。
                     </p>
                     <p></p>
                     <p>为了找到可用的因素的列表，查询<code class="codeph">DBA_DV_FACTOR</code>数据字典视图，在描述<a href="oracle-database-vault-data-dictionary-views.html#GUID-5B6C4B1F-57EE-4F51-A042-645C902A43BA" title="DBA_DV_FACTOR数据字典视图列出了当前数据库实例中的现有因子。">DBA_DV_FACTOR查看</a> 。
                     </p>
                     <p><a href="configuring-factors.html#GUID-1F1BF07B-5453-4362-8BF6-6C70A7A7E492__CIHEDHHG">例7-1</a>显示了使用<code class="codeph">GET_FACTOR</code>函数的示例。
                     </p>
                     <div class="example" id="GUID-1F1BF07B-5453-4362-8BF6-6C70A7A7E492__CIHEDHHG">
                        <p class="titleinexample">例7-1使用GET_FACTOR检索因子</p><pre class="oac_no_warn" dir="ltr">SELECT GET_FACTOR（'client_ip'）FROM DUAL;</pre><p>您可以通过以下方式使用从<code class="codeph">DVF</code>因子函数或<code class="codeph">GET_FACTOR</code>检索的因子值：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Oracle Database Vault规则表达式</p>
                           </li>
                           <li>
                              <p>自定义应用程序代码，可供Oracle Database Vault环境中的所有数据库会话使用</p>
                           </li>
                        </ul>
                        <p><a href="oracle-database-vault-factor-apis.html#GUID-364245B9-C339-488A-8D49-B8B01B667857" title="使用DBMS_MACADM PL / SQL程序包管理各种因素时，Oracle Database Vault维护DVF架构功能。">Oracle Database Vault DVF PL / SQL因子功能</a>详细描述了<code class="codeph">DVF</code>因子功能。
                        </p>
                        <p>如果您已将因子评估设置为<span class="bold">按会话</span> ，则Oracle Database Vault将从建立的会话上下文中检索值，如会话建立时<a href="configuring-factors.html#GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D" title="Oracle Database Vault根据会话开始时间来评估因子。">如何处理因子中</a>所述。
                        </p>
                        <p>如果您已将因子评估设置为<span class="bold">按访问</span> ，那么Oracle Database Vault将执行步骤2到步骤5（或步骤6），如在检索因子时， <a href="configuring-factors.html#GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D" title="Oracle Database Vault根据会话开始时间来评估因子。">如何在建立会话</a>时处理因子中所述。
                        </p>
                        <p>如果已为该因子定义了错误选项，并且发生错误，则Oracle Database Vault将显示错误消息。</p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-E1D7B84F-57AD-4FBA-B99F-47E3BC64B91F" title="Oracle Database Vault在建立会话时处理因素。">因子的工作原理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70250"></a><div class="props_rev_3"><a id="GUID-5334920A-604E-47A8-B265-BBE51097E022" name="GUID-5334920A-604E-47A8-B265-BBE51097E022"></a><h4 id="DVADM-GUID-5334920A-604E-47A8-B265-BBE51097E022" class="sect4">如何设定因素</h4>
                  <div>
                     <p>您可以在数据库会话期间随时分配因子标识，但前提是因子分配规则集的计算结果为true。</p>
                     <p>您可以使用<code class="codeph">SET_FACTOR</code>函数在应用程序代码中执行此操作。在Java代码中，您可以使用JDBC类<code class="codeph">java.sql.CallableStatement</code>设置此值。例如：</p><pre class="oac_no_warn" dir="ltr">java.sql中。连接连接; ...java.sql中。CallableStatement语句= connection.prepareCall（“{call SET_FACTOR（'FACTOR_X'，？）}“）; statement.setString（1，”MyValue“）; boolean result = statement.execute（）; ...
</pre><p>可以执行Oracle PL / SQL函数的应用程序可以使用此过程（例如，使用Oracle Data Provider for .NET（ODP.NET）编写的应用程序）。</p>
                     <p>此概念类似于标准Oracle <code class="codeph">DBMS_SESSION.SET_IDENTIFIER</code>过程，其附加功能是规则集控制何时可以设置因子值。如果规则集的计算结果为true，则会出现<a href="configuring-factors.html#GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D" title="Oracle Database Vault根据会话开始时间来评估因子。">在建立会话时如何处理因子的</a>步骤<a href="configuring-factors.html#GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D__BABJGGCA">2</a>到<a href="configuring-factors.html#GUID-D2CECCAD-CB9D-46D6-88DE-63E2D363936D__CIHJFJJD">5</a> 。
                     </p>
                     <p>如果尚未为因子关联分配规则集，或者规则集返回false（或返回错误），则在尝试使用<code class="codeph">SET_FACTOR</code>函数设置因子时，Oracle Database Vault会发送错误消息。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-E1D7B84F-57AD-4FBA-B99F-47E3BC64B91F" title="Oracle Database Vault在建立会话时处理因素。">因子的工作原理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70078"></a><div class="props_rev_3"><a id="GUID-9A320C0A-12D7-4414-B79F-512AD76FF436" name="GUID-9A320C0A-12D7-4414-B79F-512AD76FF436"></a><h3 id="DVADM-GUID-9A320C0A-12D7-4414-B79F-512AD76FF436" class="sect3">教程：防止对数据库的Ad Hoc工具访问</h3>
               <div>
                  <p>本教程演示了如何使用因子来防止临时工具（如SQL * Plus）访问数据库。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-AD2CE5EE-5A68-4075-9BA1-9DCC36141012">关于本教程</a><br>许多数据库应用程序包含显式控制用户操作的功能。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-D44A9156-1FC6-4063-8771-3801002354BC">步骤1：启用HR和OE用户帐户</a><br>在测试本教程的Oracle Database Vault组件时，必须稍后使用<code class="codeph">HR</code>和<code class="codeph">OE</code>帐户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-E97E3E83-24B2-4DA7-9A65-D5733CCE5EAB">第2步：创建因子</a><br>确保<code class="codeph">HR</code>和<code class="codeph">OE</code>帐户处于活动状态后，您可以创建一个因子。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-7B61A799-BAD1-4A5D-97D3-1FCBEED81180">第3步：创建规则集和规则</a><br>创建因子后，您可以创建规则集和规则以使用该因子。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-869EE4FA-3C9E-4C6D-9D59-AC32B0C776B4">第4步：创建CONNECT命令规则</a><br>CONNECT命令规则控制<code class="codeph">CONNECT</code> SQL语句。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-506DBBB2-CC2D-42AF-9A98-8BCBCCB4EF7A">第5步：测试Ad Hoc工具访问限制</a><br>您无需重新启动SQL * Plus会话即可使Oracle Database Vault更改生效。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-8049D286-C6D9-4355-8139-D1D470AAB14E">第6步：删除本教程的组件</a><br>如果不再需要，可以删除为本教程创建的组件。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71118"></a><div class="props_rev_3"><a id="GUID-AD2CE5EE-5A68-4075-9BA1-9DCC36141012" name="GUID-AD2CE5EE-5A68-4075-9BA1-9DCC36141012"></a><h4 id="DVADM-GUID-AD2CE5EE-5A68-4075-9BA1-9DCC36141012" class="sect4">关于本教程</h4>
                  <div>
                     <p>许多数据库应用程序包含显式控制用户操作的功能。</p>
                     <p>但是，特殊查询工具（如SQL * Plus）可能没有这些控件。结果，用户可以使用临时工具在数据库中执行他或她通常将被阻止在数据库应用程序中执行的操作。您可以结合使用Oracle Database Vault因子，规则集和命令规则来防止通过即席查询工具对数据库进行未经授权的访问。</p>
                     <p>在以下教程中，您将阻止用户HR和OE使用SQL * Plus。要实现此目的，您必须创建一个因子来查找系统上的应用程序，并创建规则和规则集以将SQL * Plus限制为这四个用户。然后，为<code class="codeph">CONNECT</code> SQL语句创建一个命令规则，该规则与规则集关联。此因子Client_Prog_Name使用<code class="codeph">SYS_CONTEXT</code> SQL函数<code class="codeph">USERENV</code>命名空间的<code class="codeph">CLIENT_PROGRAM_NAME</code>属性来查找用于访问当前Oracle数据库实例的应用程序的名称。<code class="codeph">SYS_CONTEXT</code> SQL函数提供了许多用于查找用户会话状态的有用方法。<code class="codeph">SYS_CONTEXT</code>是用于创建自定义因子的有用工具。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AD2CE5EE-5A68-4075-9BA1-9DCC36141012__GUID-AEDAAA26-5E6B-4F7D-857B-C75847AF582B">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">SYS_CONTEXT</code>函数的更多信息，请<a href="../sqlrf/SYS_CONTEXT.html#SQLRF06117" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a> 。
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9A320C0A-12D7-4414-B79F-512AD76FF436" title="本教程演示了如何使用因子来防止临时工具（如SQL * Plus）访问数据库。">教程：防止对数据库的Ad Hoc工具访问</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70251"></a><div class="props_rev_3"><a id="GUID-D44A9156-1FC6-4063-8771-3801002354BC" name="GUID-D44A9156-1FC6-4063-8771-3801002354BC"></a><h4 id="DVADM-GUID-D44A9156-1FC6-4063-8771-3801002354BC" class="sect4">步骤1：启用HR和OE用户帐户</h4>
                  <div>
                     <p>在测试本教程的Oracle Database Vault组件时，必须稍后使用<code class="codeph">HR</code>和<code class="codeph">OE</code>帐户。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">DV_ACCTMGR</code>角色的用户身份登录数据库实例。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus bea_dvacctmgr输入密码： <span class="italic">密码</span>
</pre><p>在多租户环境中，您必须连接到相应的可插拔数据库（PDB）。</p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus bea_dvacctmgr @hrpdb输入密码： <span class="italic">密码</span>
</pre><p>要查找可用的PDB，请运行<code class="codeph">show pdbs</code>命令。要检查当前PDB，请运行<code class="codeph">show con_name</code>命令。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>检查<code class="codeph">HR</code>帐户的状态。</span><div><pre class="oac_no_warn" dir="ltr">SELECT USERNAME，ACCOUNT_STATUS FROM DBA_USERS WHERE USERNAME ='HR';</pre></div>
                        </li>
                        <li class="stepexpand"><span>如果<code class="codeph">HR</code>帐户已过期并已锁定，请输入以下语句以使其处于活动状态：</span><div><pre class="oac_no_warn" dir="ltr">通过<span class="italic">密码</span>识别的ALTER USER HR帐户解锁;</pre><p>请遵循“ <a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span><cite>Oracle数据库安全指南”中</cite></span></a>的准则，将<span class="italic"><code class="codeph">password</code></span>替换为安全的密码。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>对<code class="codeph">OE</code>帐户重复这些步骤。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9A320C0A-12D7-4414-B79F-512AD76FF436" title="本教程演示了如何使用因子来防止临时工具（如SQL * Plus）访问数据库。">教程：防止对数据库的Ad Hoc工具访问</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM71382"></a><div class="props_rev_3"><a id="GUID-E97E3E83-24B2-4DA7-9A65-D5733CCE5EAB" name="GUID-E97E3E83-24B2-4DA7-9A65-D5733CCE5EAB"></a><h4 id="DVADM-GUID-E97E3E83-24B2-4DA7-9A65-D5733CCE5EAB" class="sect4">第2步：创建因子</h4>
                  <div>
                     <p>确保<code class="codeph">HR</code>和<code class="codeph">OE</code>帐户处于活动状态后，您可以创建一个因子。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色的用户身份进行连接。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT leo_dvowner  - <span class="italic">或者，CONNECT leo_dvowner @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>创建因子。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_FACTOR（factor_name =&gt;'Client_Prog_Name'，factor_type_name =&gt;'Application'，description =&gt;'存储连接到数据库的客户端程序名'，rule_set_name =&gt; NULL，validate_expr =&gt; NULL，get_expr =&gt;'UPPER（SYS_CONTEXT （ '' USERENV ''， '' CLIENT_PROGRAM_NAME ''））”，identify_by =&gt; DBMS_MACUTL.G_IDENTIFY_BY_METHOD，labeled_by =&gt; DBMS_MACUTL.G_LABELED_BY_SELF，eval_options =&gt; DBMS_MACUTL.G_EVAL_ON_SESSION，audit_options =&gt; DBMS_MACUTL.G_AUDIT_ON_GET_ERROR，fail_options =&gt; DBMS_MACUTL.G_FAIL_SILENTLY ）;结束; /</pre><p>在本规范中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">factor_type_name</code>指定这是基于应用程序的因子。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">get_expr</code>定义因子的表达式。此表达式使用<code class="codeph">USERENV</code>命名空间和<code class="codeph">CLIENT_PROGRAM_NAME</code>属性调用<code class="codeph">SYS_CONTEXT</code>函数，以查找登录到Oracle数据库的程序。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">identify_by</code>通过方法识别因子。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">labeled_by</code>直接从与Oracle Label Security策略关联的标签中标记因子的标识（默认）。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">eval_options</code>在创建数据库会话时评估因子。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">audit_options</code>审核<code class="codeph">get_expr</code>返回错误。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">fail_silently</code>不显示该因子的任何错误消息。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9A320C0A-12D7-4414-B79F-512AD76FF436" title="本教程演示了如何使用因子来防止临时工具（如SQL * Plus）访问数据库。">教程：防止对数据库的Ad Hoc工具访问</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70253"></a><div class="props_rev_3"><a id="GUID-7B61A799-BAD1-4A5D-97D3-1FCBEED81180" name="GUID-7B61A799-BAD1-4A5D-97D3-1FCBEED81180"></a><h4 id="DVADM-GUID-7B61A799-BAD1-4A5D-97D3-1FCBEED81180" class="sect4">第3步：创建规则集和规则</h4>
                  <div>
                     <p>创建因子后，您可以创建规则集和规则以使用该因子。</p>
                     <ol>
                        <li class="stepexpand"><span>创建Limit SQL * Plus Access规则集，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE_SET（rule_set_name =&gt;'限制SQL * Plus访问'，description =&gt;'限制对Apps Schemas的SQL * Plus访问'，启用=&gt; DBMS_MACUTL.G_YES，eval_options =&gt; DBMS_MACUTL.G_RULESET_EVAL_ANY，audit_options =&gt; DBMS_MACUTL。 G_RULESET_AUDIT_OFF，fail_options =&gt; DBMS_MACUTL.G_RULESET_FAIL_SHOW，fail_message =&gt;'不允许用于Apps Schemas的SQL * Plus访问'，fail_code =&gt; 20461，handler_options =&gt; DBMS_MACUTL.G_RULESET_HANDLER_OFF，handler =&gt; NULL，is_static =&gt; FALSE）;结束; /</pre><p>在本规范中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">fail_options</code>使错误消息，通过设置<code class="codeph">fail_message</code> ，和错误代码，由设置<code class="codeph">fail_code</code> ，如果有错误出现。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">is_static</code>在用户会话期间评估规则集一次。之后，重新使用该值。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>根据<code class="codeph">CLIENT_PROGRAM_NAME</code>属性将返回的内容， <code class="codeph">CLIENT_PROGRAM_NAME</code>要应用策略的计算机的确切设置。</span><div><pre class="oac_no_warn" dir="ltr">SELECT SYS_CONTEXT（'USERENV'，'CLIENT_PROGRAM_NAME'）FROM DUAL;</pre><p>输出应类似于以下内容：</p><pre class="oac_no_warn" dir="ltr">SYS_CONTEXT（'USERENV'，'CLIENT_PROGRAM_NAME'）---------------------------------------- ----------------------- sqlplus @ nemosity（TNS V1-V3）</pre><p>对于本教程，计算机的名称是<code class="codeph">nemosity</code> 。<code class="codeph">(TN V1-V3)</code>输出是指TNS连接器的版本。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>创建以下规则。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'阻止应用程序架构访问SQL * Plus'，rule_expr =&gt;'UPPER（DVF.F $ CLIENT_PROG_NAME）！='''SQLPLUS @NEMOSITY（TNS V1-V3）''和DVF.F $ SESSION_USER IN（''HR''，''OE''）'）;结束; / BEGIN DBMS_MACADM.CREATE_RULE（rule_name =&gt;'允许非应用程序模式访问SQL * Plus'，rule_expr =&gt;'DVF.F $ SESSION_USER NOT IN（''HR''，''OE''）'）;结束; /</pre><p>规则转换为：“阻止用户<code class="codeph">HR</code>和<code class="codeph">OE</code>登录SQL * Plus，但允许其他用户访问。”</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将规则添加到Limit SQL * Plus Access规则集。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.ADD_RULE_TO_RULE_SET（rule_set_name =&gt;'限制SQL * Plus访问'，rule_name =&gt;'阻止应用程序模式访问SQL * Plus'，rule_order =&gt; 1）;结束; / BEGIN DBMS_MACADM.ADD_RULE_TO_RULE_SET（rule_set_name =&gt;'限制SQL * Plus访问'，rule_name =&gt;'允许非应用程序模式访问SQL * Plus'，rule_order =&gt; 1）;结束; /</pre><p>需要<code class="codeph">rule_order</code>设置才能使过程正常工作。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9A320C0A-12D7-4414-B79F-512AD76FF436" title="本教程演示了如何使用因子来防止临时工具（如SQL * Plus）访问数据库。">教程：防止对数据库的Ad Hoc工具访问</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70254"></a><div class="props_rev_3"><a id="GUID-869EE4FA-3C9E-4C6D-9D59-AC32B0C776B4" name="GUID-869EE4FA-3C9E-4C6D-9D59-AC32B0C776B4"></a><h4 id="DVADM-GUID-869EE4FA-3C9E-4C6D-9D59-AC32B0C776B4" class="sect4">第4步：创建CONNECT命令规则</h4>
                  <div>
                     <p>CONNECT命令规则控制<code class="codeph">CONNECT</code> SQL语句。
                     </p>
                     <div class="section">
                        <p>此命令规则也适用于从命令行或您的站点可用于访问SQL * Plus的其他工具登录到SQL * Plus。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>创建CONNECT命令规则，如下所示：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_MACADM.CREATE_COMMAND_RULE（command =&gt;'CONNECT'，rule_set_name =&gt;'Limit SQL * Plus Access'，object_owner =&gt;'％'，object_name =&gt;'％'，enabled =&gt; DBMS_MACUTL.G_YES）;结束; /</pre></li>
                        </ul>
                        <p>在本规范中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">rule_set_name</code>将Limit SQL * Plus Access规则集与CONNECT命令规则相关联。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">object_owner</code>设置为<code class="codeph">%</code>以便命令规则适用于所有用户。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">object_name</code>设置为<code class="codeph">%</code>以便命令规则适用于所有对象。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">enabled</code>启用命令规则，以便可以立即使用它。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9A320C0A-12D7-4414-B79F-512AD76FF436" title="本教程演示了如何使用因子来防止临时工具（如SQL * Plus）访问数据库。">教程：防止对数据库的Ad Hoc工具访问</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70256"></a><a id="DVADM70255"></a><div class="props_rev_3"><a id="GUID-506DBBB2-CC2D-42AF-9A98-8BCBCCB4EF7A" name="GUID-506DBBB2-CC2D-42AF-9A98-8BCBCCB4EF7A"></a><h4 id="DVADM-GUID-506DBBB2-CC2D-42AF-9A98-8BCBCCB4EF7A" class="sect4">第5步：测试Ad Hoc工具访问限制</h4>
                  <div>
                     <p>您无需重新启动SQL * Plus会话即可使Oracle Database Vault更改生效。</p>
                     <div class="section">
                        <ol>
                           <li>
                              <p>在SQL * Plus中，尝试以用户<code class="codeph">HR</code>身份进行连接：</p><pre class="oac_no_warn" dir="ltr">CONNECT HR  - <span class="italic">或者，CONNECT HR @ hrpdb</span>输入密码： <span class="italic">密码</span>
</pre><p>应出现以下输出：</p><pre class="oac_no_warn" dir="ltr">错误：ORA-47306：20461：限制SQL * Plus访问规则集失败</pre><p>应阻止用户<code class="codeph">HR</code>使用SQL * Plus。
                              </p>
                           </li>
                           <li>
                              <p>接下来，尝试以用户<code class="codeph">OE</code>身份进行连接：</p><pre class="oac_no_warn" dir="ltr">CONNECT OE  - <span class="italic">或者，连接OE @hrpdb</span>输入密码： <span class="italic">密码</span>
</pre><p>应出现以下输出：</p><pre class="oac_no_warn" dir="ltr">错误：ORA-47306：20461：限制SQL * Plus访问规则集失败</pre><p>还应阻止用户<code class="codeph">OE</code>使用SQL * Plus。
                              </p>
                           </li>
                           <li>
                              <p>现在尝试以用户<code class="codeph">SYSTEM</code>连接：</p><pre class="oac_no_warn" dir="ltr">CONNECT SYSTEM  - <span class="italic">或者，CONNECT SYSTEM @ hrpdb</span>输入密码： <span class="italic">密码</span>已连接。
</pre><p>用户<code class="codeph">SYSTEM</code>应该能够登录数据库实例。<code class="codeph">SYS</code> ，Database Vault Owner帐户和Database Vault Account Manager帐户也应如此。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-506DBBB2-CC2D-42AF-9A98-8BCBCCB4EF7A__CIHCJAFG">
                        <p class="subhead3" id="GUID-506DBBB2-CC2D-42AF-9A98-8BCBCCB4EF7A__GUID-3FAD006E-29A3-494C-8FA6-12259E1BEBF8">如果测试失败</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果您无法以<code class="codeph">SYSTEM</code> （或规则表达式中列出的任何其他管理用户）身份登录数据库实例，则会阻止您使用SQL * Plus。
                        </p>
                        <p>您可以按如下方式解决问题：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色的用户身份登录数据库实例。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin_owen  - <span class="italic">或者，对于PDB，连接sec_admin_owen @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>输入以下语句以删除CONNECT命令规则。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_COMMAND_RULE（'CONNECT'，'％'，'％'）;</pre><p>即使您已禁用Oracle Database Vault，您仍然可以使用其PL / SQL包和Database Vault Administrator。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>检查策略组件是否有任何错误，然后更正它们。重新创建CONNECT命令规则，然后对其进行测试。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9A320C0A-12D7-4414-B79F-512AD76FF436" title="本教程演示了如何使用因子来防止临时工具（如SQL * Plus）访问数据库。">教程：防止对数据库的Ad Hoc工具访问</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70257"></a><div class="props_rev_3"><a id="GUID-8049D286-C6D9-4355-8139-D1D470AAB14E" name="GUID-8049D286-C6D9-4355-8139-D1D470AAB14E"></a><h4 id="DVADM-GUID-8049D286-C6D9-4355-8139-D1D470AAB14E" class="sect4">第6步：删除本教程的组件</h4>
                  <div>
                     <p>如果不再需要，可以删除为本教程创建的组件。</p>
                     <ol>
                        <li class="stepexpand"><span>删除CONNECT命令规则。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_COMMAND_RULE（'CONNECT'，'％'，'％'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>删除Client_Prog_Name因子。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_FACTOR（'Client_Prog_Name'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>删除限制SQL * Plus访问规则集。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_RULE_SET（'限制SQL * Plus访问'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>删除规则。</span><div><pre class="oac_no_warn" dir="ltr">EXEC DBMS_MACADM.DELETE_RULE（'防止应用程序模式访问SQL * Plus'）; EXEC DBMS_MACADM.DELETE_RULE（'允许非应用程序模式访问SQL * Plus'）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>如有必要，作为已被授予<code class="codeph">DBV_ACCTMGR</code>角色的用户，锁定<code class="codeph">HR</code>和<code class="codeph">OE</code>帐户。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT bea_dvacctmgr  - <span class="italic">或者，CONNECT amalcolumn_dbacctmgr @hrpdb</span>输入密码： <span class="italic">password</span> ALTER USER HR ACCOUNT LOCK;更改用户OE帐户锁定;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-9A320C0A-12D7-4414-B79F-512AD76FF436" title="本教程演示了如何使用因子来防止临时工具（如SQL * Plus）访问数据库。">教程：防止对数据库的Ad Hoc工具访问</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70258"></a><div class="props_rev_3"><a id="GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" name="GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B"></a><h3 id="DVADM-GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" class="sect3">教程：基于会话数据限制用户活动</h3>
               <div>
                  <p>本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-6122D69D-91A3-40AC-8012-AACDDAC33D27">关于本教程</a><br>您可以使用因子标识映射为数据库活动设置基于会话的用户限制。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-EDE5443B-0ADA-4AE3-B2F8-DAC02697FF07">第1步：创建管理用户</a><br>在使用本教程之前，必须先创建一个管理用户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-4EA09558-D730-4851-A1F1-C6D8D85C9353">第2步：将标识添加到域因子</a><br>接下来，您必须将身份标识添加到域因子，这是默认因子。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-8D459AAC-2F56-46F6-9C45-8347DBC4468F">步骤3：将域因子身份映射到Client_IP因子</a><br>将身份添加到域工厂后，可以将它们映射到Client_IP因子。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-A89A6D8D-78AD-49B9-AFEC-18F42BB13DAC">步骤4：创建规则集以设置小时数并选择因子标识</a><br>您必须创建一个规则集以使用您修改的因子。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-33FD3BD0-72EF-43BC-924E-4CA79BA88192">步骤5：创建使用规则集的命令规则</a><br>您必须创建使用您创建的规则集的命令规则。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-A2B6E7D8-CAA3-44BE-8904-0CF157898960">步骤6：测试因子身份设置</a><br>通过重置系统时钟来测试设置，以<code class="codeph">mwaldron</code>管理用户身份登录，然后尝试创建表。
                     </li>
                     <li class="ulchildlink"><a href="configuring-factors.html#GUID-0F089748-289A-455B-B22A-DE3952789A51">第7步：删除本教程的组件</a><br>如果不再需要，可以删除为本教程创建的组件。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               <a id="DVADM71119"></a><div class="props_rev_3"><a id="GUID-6122D69D-91A3-40AC-8012-AACDDAC33D27" name="GUID-6122D69D-91A3-40AC-8012-AACDDAC33D27"></a><h4 id="DVADM-GUID-6122D69D-91A3-40AC-8012-AACDDAC33D27" class="sect4">关于本教程</h4>
                  <div>
                     <p>您可以使用因子标识映射为数据库活动设置基于会话的用户限制。</p>
                     <p>例如，假设您要使用以下条件限制对数据库的管理访问：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>确保管理员正在从正确的IP地址访问数据库。</p>
                        </li>
                        <li>
                           <p>将数据库访问限制为管理员的标准工作时间。</p>
                        </li>
                     </ul>
                     <p>此类配置对于限制不同类型的管理员非常有用：不仅是本地管理员，还有内部管理员，还有离岸和合同管理员。</p>
                     <p>在本教程中，您将修改域因子以包含安全和非安全网络访问的标识，这些标识基于管理员使用的计算机的IP地址。如果管理员尝试在标准工作时间之外或从不同的IP地址执行操作，则Oracle Database Vault会阻止他执行此操作。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70259"></a><div class="props_rev_3"><a id="GUID-EDE5443B-0ADA-4AE3-B2F8-DAC02697FF07" name="GUID-EDE5443B-0ADA-4AE3-B2F8-DAC02697FF07"></a><h4 id="DVADM-GUID-EDE5443B-0ADA-4AE3-B2F8-DAC02697FF07" class="sect4">第1步：创建管理用户</h4>
                  <div>
                     <p>在使用本教程之前，必须先创建一个管理用户。</p>
                     <ol>
                        <li class="stepexpand"><span>在SQL * Plus中，以已被授予<code class="codeph">DV_ACCTMGR</code>角色的用户身份<code class="codeph">mwaldron</code> ，然后创建用户帐户<code class="codeph">mwaldron</code> 。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus bea_dvacctmgr输入密码： <span class="italic">密码</span> CREATE USER mwaldron IDENTIFIED BY <span class="italic">password</span> ;</pre><p>请遵循“ <a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span><cite>Oracle数据库安全指南”中</cite></span></a>的准则，将<span class="italic"><code class="codeph">password</code></span>替换为安全的密码。
                              </p>
                              <p>在多租户环境中，您必须连接到相应的可插拔数据库（PDB）。</p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus bea_dvacctmgr @hrpdb输入密码： <span class="italic">密码</span>
</pre><p>要查找可用的PDB，请查询<code class="codeph">DBA_PDBS</code>数据字典视图。要检查当前PDB，请运行<code class="codeph">show con_name</code>命令。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>以具有授予<code class="codeph">CREATE SESSION</code>权限和<code class="codeph">DBA</code>角色权限的用户身份进行连接，然后向用户<code class="codeph">mwaldron</code>授予这些权限。此用户还必须被授权为Oracle System Privilege和Role Management领域的所有者。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT dba_psmith <span class="italic">- 或者，CONNECT dba_psmith @hrpdb</span>输入密码： <span class="italic">密码</span> GRANT CREATE SESSION，DBA to mwaldron;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70260"></a><div class="props_rev_3"><a id="GUID-4EA09558-D730-4851-A1F1-C6D8D85C9353" name="GUID-4EA09558-D730-4851-A1F1-C6D8D85C9353"></a><h4 id="DVADM-GUID-4EA09558-D730-4851-A1F1-C6D8D85C9353" class="sect4">第2步：将标识添加到域因子</h4>
                  <div>
                     <p>接下来，您必须将身份标识添加到域因子，这是默认因子。</p>
                     <ol>
                        <li class="stepexpand"><span>以已授予<code class="codeph">DV_OWNER</code>或<code class="codeph">DV_ADMIN</code>角色和<code class="codeph">SELECT ANY DICTIONARY</code>权限的用户身份从Cloud Control登录Oracle Database Vault Administrator。<a href="getting-started-with-oracle-database-vault.html#GUID-FD5C6859-EF01-49F7-B6D6-4E5ACB7FC0C6" title="Oracle Enterprise Manager云控制（云控制）提供用于管理Oracle Database Vault的页面。">从Oracle Enterprise Cloud Control登录Oracle Database Vault</a>说明了如何登录。</span></li>
                        <li class="stepexpand"><span>在“管理”页面的“数据库Vault组件”下，单击“ <span class="bold">因子”</span> 。</span><div>
                              <p>出现“因素”页面。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>选中“ <span class="bold">显示Oracle定义因子”</span>复选框以显示默认因子。</span></li>
                        <li class="stepexpand"><span>选择“域因子”，然后选择“ <span class="bold">编辑”</span> 。</span><div>
                              <p>域因子将是父因子。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击“ <span class="bold">下一步”</span>按钮，直到到达“身份”页面。</span></li>
                        <li class="stepexpand"><span>选择“ <span class="bold">添加新标识”</span>按钮。</span></li>
                        <li class="stepexpand"><span>在“添加新标识和映射”页面的“标识”选项卡中，输入以下信息：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">值：</span>进入<code class="codeph">HIGHLY SECURE INTERNAL NETWORK</code></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">信任级别：</span>选择<span class="bold">非常可信</span></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span></li>
                        <li class="stepexpand"><span>重复这些步骤以创建名为<code class="codeph">NOT SECURE</code>的第二个标识，然后将其信任级别设置为“ <span class="bold">不可信”</span> 。</span><div><br><img src="img/add_identities_tutorial122.png" alt="add_identities_tutorial122.png的描述如下" title="add_identities_tutorial122.png的描述如下" longdesc="img_text/add_identities_tutorial122.html"><br><a href="img_text/add_identities_tutorial122.html">add_identities_tutorial122.png插图的描述</a><br></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70261"></a><div class="props_rev_3"><a id="GUID-8D459AAC-2F56-46F6-9C45-8347DBC4468F" name="GUID-8D459AAC-2F56-46F6-9C45-8347DBC4468F"></a><h4 id="DVADM-GUID-8D459AAC-2F56-46F6-9C45-8347DBC4468F" class="sect4">步骤3：将域因子身份映射到Client_IP因子</h4>
                  <div>
                     <p>将身份添加到域工厂后，可以将它们映射到Client_IP因子。</p>
                     <div class="section">Client_IP因子是默认因子。</div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在“身份”页面中，选择“高度安全的内部网络”标识，然后选择“ <span class="bold">编辑”</span> 。</span></li>
                        <li class="stepexpand"><span>在“添加新标识和映射”窗口中，选择“ <span class="bold">映射标识”</span>子页面。</span></li>
                        <li class="stepexpand"><span>选择<span class="bold">Map Identity</span>选项卡，然后选择<span class="bold">Add Mapping</span> 。</span></li>
                        <li class="stepexpand"><span>在“添加新标识映射”页面中，输入以下信息：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">子因素：</span>选择<span class="bold">Client_IP</span>作为子因子。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">操作员：</span>选择“ <span class="bold">等于”</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">最小值：</span>输入虚拟机的IP地址（例如， <code class="codeph">192.0.2.12</code> ）。（这是用户<code class="codeph">mwaldron</code>使用的计算机。在本教程中，您可以输入自己计算机的IP地址。如果您使用的是Microsoft Windows，请使用分配给Loopback Adapter的IP地址。）
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">最大值：</span>将此字段留空。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击“ <span class="bold">确定”</span> ，然后再次单击“ <span class="bold">确定”</span>返回“身份”页面。</span></li>
                        <li class="stepexpand"><span>通过编辑此标识，为NOT SECURE标识创建以下两个标识映射：</span><div>
                              <div class="tblformal" id="GUID-8D459AAC-2F56-46F6-9C45-8347DBC4468F__GUID-D3A68B5C-BF86-4E26-B393-F89B7BDD1C4C">
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="SECURE NETWORK EXTERNAL DBA identity mappings, listed top to bottom, left to right" frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="28%" id="d31905e7372">儿童因素</th>
                                          <th align="left" valign="bottom" width="26%" id="d31905e7376">操作者</th>
                                          <th align="left" valign="bottom" width="24%" id="d31905e7380">最低价值</th>
                                          <th align="left" valign="bottom" width="22%" id="d31905e7384">最大价值</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="28%" id="d31905e7390" headers="d31905e7372 ">
                                             <p><code class="codeph">CLIENT_IP</code></p>
                                          </td>
                                          <td align="left" valign="top" width="26%" headers="d31905e7390 d31905e7376 ">
                                             <p><code class="codeph">减</code></p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d31905e7390 d31905e7380 ">
                                             <p><code class="codeph">192.0.2.5</code></p>
                                          </td>
                                          <td align="left" valign="top" width="22%" headers="d31905e7390 d31905e7384 ">
                                             <p>（留着空白）</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="28%" id="d31905e7406" headers="d31905e7372 ">
                                             <p><code class="codeph">CLIENT_IP</code></p>
                                          </td>
                                          <td align="left" valign="top" width="26%" headers="d31905e7406 d31905e7376 ">
                                             <p><code class="codeph">大</code></p>
                                          </td>
                                          <td align="left" valign="top" width="24%" headers="d31905e7406 d31905e7380 ">
                                             <p><code class="codeph">192.0.2.20</code> 
                                             </p>
                                          </td>
                                          <td align="left" valign="top" width="22%" headers="d31905e7406 d31905e7384 ">
                                             <p>（留着空白）</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>NOT SECURE标识中的标识映射位于用户<code class="codeph">mwaldron</code>使用的IP地址之外的IP地址范围内（192.0.2.12）。这里的IP地址必须在<code class="codeph">mwaldron</code>的IP地址<span class="italic">之外的</span>任何范围内。
                              </p>
                              <p>此标识映射会创建以下条件：如果用户从正确的IP地址登录，则Oracle Database Vault会通过HIGHLY SECURE INTERNAL NETWORK标识确定连接是安全的。但是，如果用户从小于192.0.2.5或大于192.0.2.20的IP地址登录，则通过NO SECURE标识认为连接不安全。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span></li>
                        <li class="stepexpand"><span>单击<span class="bold">“完成”</span> ，然后单击“ <span class="bold">完成”</span> 。</span></li>
                        <li class="stepexpand" id="GUID-8D459AAC-2F56-46F6-9C45-8347DBC4468F__CIHCJBAH"><span>测试因素身份。</span><div id="GUID-8D459AAC-2F56-46F6-9C45-8347DBC4468F__FIRSTINSQLPLUSCONNECTASUSERMWALDRON-B1556126">
                              <p>首先，在SQL * Plus中，以用户<code class="codeph">mwaldron</code>连接，但不指定数据库实例。
                              </p><pre class="oac_no_warn" dir="ltr">CONNECT mwaldron <span class="italic">- 或者，CONNECT mwaldron @ hrpdb</span>输入密码： <span class="italic">password</span> SELECT DVF.F $ CLIENT_IP FROM DUAL;</pre><p>应出现以下输出：</p><pre class="oac_no_warn" dir="ltr">F $ CLIENT_IP -------------------------------------</pre><p>下一个：</p><pre class="oac_no_warn" dir="ltr">从DUAL中选择DVF.F $ DOMAIN;</pre><p>应出现以下输出：</p><pre class="oac_no_warn" dir="ltr">F $ DOMAIN -------------------------------------不安全</pre><p>由于用户<code class="codeph">mwaldron</code>未直接连接到数据库实例，因此Oracle Database Vault无法识别要连接的IP地址。在这种情况下，Oracle数据库使用IPC协议来执行连接，该连接将IP值设置为null。因此，此连接的标识设置为NOT SECURE。</p>
                              <p>现在通过指定数据库实例（例如， <code class="codeph">orcl</code> ）连接到SQL * Plus，然后再次检查因子身份：</p><pre class="oac_no_warn" dir="ltr">CONNECT mwaldron @ orcl输入密码： <span class="italic">password</span> SELECT DVF.F $ CLIENT_IP FROM DUAL;</pre><p>应出现以下输出：</p><pre class="oac_no_warn" dir="ltr">F $ CLIENT_IP ------------------------------------- 192.0.2.12</pre><p>下一个：</p><pre class="oac_no_warn" dir="ltr">从DUAL中选择DVF.F $ DOMAIN;</pre><p>应出现以下输出：</p><pre class="oac_no_warn" dir="ltr">F $ DOMAIN -------------------------------------高度安全的内部网络</pre><p>现在用户<code class="codeph">mwaldron</code>正在连接到<code class="codeph">orcl</code>数据库实例，他的IP地址被识别。这是因为数据库使用TCP协议，因此现在可以适当地填充主机IP值。由于IP地址在正确的范围内，因子标识设置为HIGHLY SECURE INTERNAL NETWORK。</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70262"></a><div class="props_rev_3"><a id="GUID-A89A6D8D-78AD-49B9-AFEC-18F42BB13DAC" name="GUID-A89A6D8D-78AD-49B9-AFEC-18F42BB13DAC"></a><h4 id="DVADM-GUID-A89A6D8D-78AD-49B9-AFEC-18F42BB13DAC" class="sect4">步骤4：创建规则集以设置小时数并选择因子标识</h4>
                  <div>
                     <p>您必须创建一个规则集以使用您修改的因子。</p>
                     <ol>
                        <li class="stepexpand"><span>在“管理”页面的“数据库Vault组件”下，选择“ <span class="bold">规则集”</span> 。</span></li>
                        <li class="stepexpand"><span>在“规则集”页面中，选择“ <span class="bold">创建”</span> 。</span></li>
                        <li class="stepexpand"><span>在“创建规则集”页面中，输入以下设置：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">名称：</span>输入<code class="codeph">Internal DBA Standard Working Hours</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">状态：</span>选择已<span class="bold">启用</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">评估选项：</span>选择<span class="bold">全部为真</span> 。
                                    </p>
                                 </li>
                              </ul>
                              <p>将其余设置保留为默认值。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击“ <span class="bold">下一步”</span>以显示“与规则关联”页面。</span></li>
                        <li class="stepexpand"><span>选择<span class="bold">创建规则</span> 。</span></li>
                        <li class="stepexpand"><span>在“创建规则”窗口中，输入以下设置：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">名称：</span> <code class="codeph">Internal DBA</code></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">表达式：</span> <code class="codeph">DVF.F$SESSION_USER='MWALDRON'</code></p>
                                    <p>（当您使用用户名创建表达式时，请以大写字母输入用户名，因为这是数据库存储用户名的方式。）</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span></li>
                        <li class="stepexpand"><span>使用“ <span class="bold">创建规则”</span>页面创建以下附加规则：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">名称：</span> <code class="codeph">Internal Network Only</code></p>
                                    <p><span class="bold">规则表达式：</span> <code class="codeph">DVF.F$DOMAIN='HIGHLY SECURE INTERNAL NETWORK'</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">名称：</span> <code class="codeph">Week Day</code> 
                                    </p>
                                    <p><span class="bold">规则表达式：</span> <code class="codeph">TO_CHAR(SYSDATE, 'D') BETWEEN '2' AND '6'</code></p>
                                 </li>
                                 <li>
                                    <p><span class="bold">名称：</span> <code class="codeph">Week Working Day Hours</code></p>
                                    <p><code class="codeph">TO_CHAR(SYSDATE, 'HH24') BETWEEN '08' AND '19'</code> <span class="bold">规则表达式：</span> <code class="codeph">TO_CHAR(SYSDATE, 'HH24') BETWEEN '08' AND '19'</code></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<span class="bold">“完成”</span> ，然后单击“ <span class="bold">完成”</span> 。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70263"></a><div class="props_rev_3"><a id="GUID-33FD3BD0-72EF-43BC-924E-4CA79BA88192" name="GUID-33FD3BD0-72EF-43BC-924E-4CA79BA88192"></a><h4 id="DVADM-GUID-33FD3BD0-72EF-43BC-924E-4CA79BA88192" class="sect4">步骤5：创建使用规则集的命令规则</h4>
                  <div>
                     <p>您必须创建使用您创建的规则集的命令规则。</p>
                     <ol>
                        <li class="stepexpand"><span>在“管理”页面中，选择“ <span class="bold">命令规则”</span> 。</span></li>
                        <li class="stepexpand"><span>在“命令规则”页面中，选择“ <span class="bold">创建”</span> 。</span></li>
                        <li class="stepexpand"><span>在“创建命令规则”页面中，输入以下设置：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">命令</span> ：从列表中选择<span class="bold">CREATE TABLE</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">状态：</span>选择已<span class="bold">启用</span> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">适用对象所有者：</span>确保将其设置为<span class="bold">％</span> （默认值）。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">适用对象名称：</span>确保将其设置为<span class="bold">％</span> （默认值）。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">评估规则集</span> ：从列表中选择<span class="bold">内部DBA标准工作时间</span> 。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>单击<span class="bold">确定</span> 。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70264"></a><div class="props_rev_3"><a id="GUID-A2B6E7D8-CAA3-44BE-8904-0CF157898960" name="GUID-A2B6E7D8-CAA3-44BE-8904-0CF157898960"></a><h4 id="DVADM-GUID-A2B6E7D8-CAA3-44BE-8904-0CF157898960" class="sect4">步骤6：测试因子身份设置</h4>
                  <div>
                     <p>通过重置系统时钟来测试设置，以<code class="codeph">mwaldron</code>管理用户身份登录，然后尝试创建表。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>将系统时间设置为晚上9点</span><div>
                              <p><span class="bold">UNIX：</span>以root身份登录并使用<code class="codeph">date</code>命令设置时间。例如，假设今天的日期是2013年8月15日，您将输入以下内容：</p><pre class="oac_no_warn" dir="ltr">su root密码： <span class="italic">密码</span> date --set =“2013年8月15日21:00:00”</pre><p><span class="bold">Windows：</span>双击时钟图标，该图标通常位于屏幕的右下角。在“日期和时间属性”窗口中，将时间设置为晚上9点，然后单击“ <span class="bold">确定”</span> 。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在SQL * Plus中，以用户<code class="codeph">mwaldron</code>连接并尝试创建表。在下面，将<code class="codeph">orcl</code>替换为数据库实例的名称。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT mwaldron @ orcl输入密码： <span class="italic">密码</span> CREATE TABLE TEST（num number）;</pre><p>应出现以下输出：</p><pre class="oac_no_warn" dir="ltr">ORA-47400：MWALDRON.TEST上的create table命令规则违规</pre><p>因为用户<code class="codeph">mwaldron</code>在工作时间之外创建一个表，所以Database Vault会阻止他。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将系统时间重置为当地时间。</span></li>
                        <li class="stepexpand"><span>在SQL * Plus中，作为用户<code class="codeph">mwaldron</code> ，尝试再次创建表。</span><div><pre class="oac_no_warn" dir="ltr">CREATE TABLE TEST（num number）;表创建。DROP TABLE TEST;表丢了。
</pre><p>现在，用户<code class="codeph">mwaldron</code>正在当地时间工作，并且从与HIGHLY SECURE INTERNAL NETWORK身份相关联的IP地址开始工作，他可以创建表格。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>以用户<code class="codeph">mwaldron</code>重新连接，但不将数据库实例名称添加到连接命令，然后再次尝试创建表。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT mwaldron <span class="italic">- 或者，CONNECT mwaldron @hrpdb</span>输入密码： <span class="italic">password</span> CREATE TABLE TEST（num number）;</pre><p>应出现以下输出：</p><pre class="oac_no_warn" dir="ltr">ORA-47400：MWALDRON.TEST上的create table命令规则违规</pre><p>即使用户<code class="codeph">mwaldron</code>正在尝试在正确的时间内创建表，他也不能因为没有直接登录到<code class="codeph">orcl</code>数据库实例。Oracle Database Vault认为他使用的是NOT SECURE标识，然后拒绝他访问。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DVADM70265"></a><div class="props_rev_3"><a id="GUID-0F089748-289A-455B-B22A-DE3952789A51" name="GUID-0F089748-289A-455B-B22A-DE3952789A51"></a><h4 id="DVADM-GUID-0F089748-289A-455B-B22A-DE3952789A51" class="sect4">第7步：删除本教程的组件</h4>
                  <div>
                     <p>如果不再需要，可以删除为本教程创建的组件。</p>
                     <ol>
                        <li class="stepexpand"><span>以<code class="codeph">DV_ACCTMGR</code>用户身份登录数据库实例，并删除用户<code class="codeph">mwaldron</code> 。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus bea_dvacctmgr <span class="italic">- 或者，CONNECT bea_dvacctmgr @hrpdb</span>输入密码： <span class="italic">password</span> DROP USER mwaldron CASCADE;</pre></div>
                        </li>
                        <li class="stepexpand"><span>删除CREATE TABLE命令规则。</span><div>
                              <p>返回“管理”页面并选择“ <span class="bold">命令规则”</span> 。选择CREATE TABLE命令规则，然后单击“ <span class="bold">删除”</span> 。在“确认”窗口中，选择“ <span class="bold">是”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>删除内部DBA标准工作时间规则集。</span><div>
                              <p>在“管理”页面中选择“ <span class="bold">规则集</span> ”。在“规则集”页面中，选择“内部DBA标准工作时间”规则集，然后选择“ <span class="bold">删除”</span> 。在“确认”窗口中，选中“ <span class="bold">删除与规则集关联的规则”</span>复选框，然后选择“ <span class="bold">是”</span> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>删除与“内部DBA标准工作时间”规则集关联的规则。</span><div>
                              <p>在“管理”页面中选择<span class="bold">“规则”</span>在“规则”页面中，选择“内部DBA”，“仅内部网络”，“工作日”和“工作日工作时间”规则，然后选择“ <span class="bold">删除”</span> 。在“确认”窗口中选择“是”。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>从域因子中删除高度安全的内部网络而不是安全因子身份。</span><div>
                              <p>在“管理”页面中，选择“ <span class="bold">因子”</span> 。选择域因子，选择<span class="bold">编辑</span> 。单击“ <span class="bold">下一步”，</span>直到到达“身份”页面。选择HIGHIGH SECURE INTERNAL NETWORK和NOT SECURE factor identity，然后单击<span class="bold">Remove</span>删除每个。（按住<span class="bold">Control</span>键可选择多个项目。）在“确认”窗口中，选择“ <span class="bold">是”</span> 。单击<span class="bold">“完成”</span> ，然后单击“ <span class="bold">完成”</span> 。
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-33BAA236-2C0E-49AB-803A-89A3C2945A8B" title="本教程介绍如何根据会话数据限制用户活动，例如用户正在使用的域。">教程：基于会话数据限制用户活动</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DVADM70266"></a><div class="props_rev_3"><a id="GUID-F197EA7C-8AC2-4D7B-B5CB-7326CA1FABA7" name="GUID-F197EA7C-8AC2-4D7B-B5CB-7326CA1FABA7"></a><h3 id="DVADM-GUID-F197EA7C-8AC2-4D7B-B5CB-7326CA1FABA7" class="sect3">设计因素指南</h3>
               <div>
                  <p>Oracle提供了设计因素的指南。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以使用Oracle实用程序包（如<code class="codeph">UTL_TCP</code> ， <code class="codeph">UTL_HTTP</code> ， <code class="codeph">DBMS_LDAP</code>和<code class="codeph">DBMS_PIPE</code>从外部系统集成有关会话的安全性或其他上下文信息。
                        </p>
                     </li>
                     <li>
                        <p>如果因子标识设置为<span class="bold">Identified By Factors，请</span>不要指定检索方法。只有将因子设置为“ <span class="bold">按方法”</span>或“ <span class="bold">按常量”时，</span>才需要检索方法。
                        </p>
                     </li>
                     <li>
                        <p>如果因子具有分配规则集，请考虑使用验证方法。这样做有助于验证是否未提交无效身份。</p>
                     </li>
                     <li>
                        <p>请谨慎使用客户端提供的因素，例如Program，OS User和其他因素，因为只有当客户端软件受信任且客户端软件的通信通道是安全的时，才能信任所提供的值。</p>
                     </li>
                     <li>
                        <p>如果检索方法返回的值可能在同一会话中从一次调用更改为下一次调用（例如，基于时间的因子），则仅指定“ <span class="bold">按访问”</span>的评估选项。
                        </p>
                     </li>
                     <li>
                        <p>使用传统的SQL和PL / SQL优化技术优化用于因子检索方法的函数的内部逻辑。有关性能和优化的更多信息，请参见“ <a href="../tgsql/introduction-to-sql-tuning.html#TGSQL112" target="_blank"><span><cite>Oracle数据库SQL调优指南”</cite></span></a> 。
                        </p>
                     </li>
                     <li>
                        <p>如果检索方法返回的离散值是已知的，请确保为每个值定义标识，以便为它们分配信任级别。信任级别为因素增加了价值，因为您还可以根据因素在应用程序逻辑中使用信任级别。</p>
                     </li>
                     <li>
                        <p>基于更多因素的安全策略通常被认为比基于更少因素的安全策略更强。您可以创建一个由其他因素标识的新因子，以使用标识映射将因子组合存储到逻辑分组中。当您将因子与Oracle Label Security标签集成时，这也可以更容易地标记父因子。（有关详细信息，请参阅<a href="integrating-database-vault-with-other-oracle-products.html#GUID-41CF584E-84D5-4912-A113-043D52C9EF06" title="您可以将Oracle Database Vault与Oracle Label Security集成，并检查与报告和数据字典视图的集成。">将Oracle Database Vault与Oracle Label Security集成</a> 。）
                        </p>
                     </li>
                     <li>
                        <p>在集成Oracle Label Security时，通常更容易配置和调试标记为<span class="bold">Self</span>的因子而不是标记为<span class="bold">By Factors的因子</span> 。
                        </p>
                     </li>
                     <li>
                        <p>您可以设计数据库客户端应用程序以传递一个或多个安全性，最终用户或环境属性，以便它们可用于关联的数据库会话。为此，请为每个属性创建单个因子，然后使用分配规则集来控制何时可以分配这些属性（例如，仅在指定的命名应用程序服务器计算机上使用特定Web应用程序时）。以这种方式使用的Oracle Database Vault因子非常类似于Oracle过程<code class="codeph">DBMS_SESSION.SET_IDENTIFIER</code>但也包括控制何时可以设置它们的功能。有关<code class="codeph">DBMS_SESSION</code>程序包的更多信息，请参阅<a href="../arpls/DBMS_SESSION.html#ARPLS054" target="_blank"><span><cite>Oracle Database PL / SQL程序包和类型参考</cite></span></a> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70267"></a><div class="props_rev_3"><a id="GUID-F6EB02AD-18A4-4005-B3AA-89B23F31AC6B" name="GUID-F6EB02AD-18A4-4005-B3AA-89B23F31AC6B"></a><h3 id="DVADM-GUID-F6EB02AD-18A4-4005-B3AA-89B23F31AC6B" class="sect3">因素如何影响绩效</h3>
               <div>
                  <p>因素的复杂性会影响Oracle数据库实例的性能。</p>
                  <p>每个因子都包含已处理的元素，例如其验证方法，信任级别等。对于会话评估的因素，例如Database_Hostname和<code class="codeph">Proxy_User</code> ，Oracle Database Vault会在会话初始化期间执行此处理，然后为后续的该值请求缓存结果。
                  </p>
                  <p>默认因子中列出的<a href="configuring-factors.html#GUID-F4B06A72-933C-43B6-82CC-B7273B7F2696" title="Oracle Database Vault提供了一组默认因子。">默认因子</a>是缓存的，因为它们可能是典型安全策略的候选者。但是，如果仅使用五个因子（例如，在规则集或其他组件中），则其他因素会消耗可能在其他地方使用的资源。在这种情况下，您应该删除不必要的因素。（Oracle Database Vault在内部不使用任何这些因素，因此如果您不需要它们，可以将其删除。）
                  </p>
                  <p>如果您拥有大量用户，或者您的应用程序服务器经常必须创建和销毁连接，则使用的资源可能会影响系统性能。您可以删除不必要的因素。</p>
                  <p>您可以通过运行Oracle Enterprise Manager（包括Oracle Enterprise Manager云控制，默认情况下随Oracle Database安装），自动工作负载存储库（AWR）和<code class="codeph">TKPROF</code>等工具来检查系统性能。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-F6EB02AD-18A4-4005-B3AA-89B23F31AC6B__ORACLEDATABASEPERFORMANCETUNINGGUID-630F19C8">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../tgdba/performance-tuning-overview.html#TGDBA025" target="_blank"><span><cite>Oracle数据库性能调优指南</cite></span></a> ，了解如何监控数据库性能</p>
                        </li>
                        <li>
                           <p><a href="../tgsql/performing-application-tracing.html#TGSQL809" target="_blank"><span><cite>Oracle数据库SQL调优指南，</cite></span></a>用于监控单个SQL和PL / SQL语句的性能</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM70269"></a><a id="DVADM70270"></a><a id="DVADM70268"></a><div class="props_rev_3"><a id="GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA" name="GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA"></a><h3 id="DVADM-GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA" class="sect3">因子相关报告和数据字典视图</h3>
               <div>
                  <p>Oracle Database Vault提供报告和数据字典视图，显示有关因子及其身份的信息。</p>
                  <div class="section">
                     <p><a href="configuring-factors.html#GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA__CIHECJFB" title="因素报告">表7-1</a>列出了Oracle Database Vault报告。有关如何运行这些报告的信息，请参阅<a href="oracle-database-vault-reports.html#GUID-1B6D02DE-3FB2-4ADB-9916-4491B37FDECD" title="Oracle Database Vault提供跟踪活动的报告，例如Database Vault配置设置。">Oracle Database Vault Reports</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA__CIHECJFB">
                     <p class="titleintable">表7-1与因子及其身份相关的报告</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="与因素及其身份相关的报道" width="100%" border="1" summary="factor reports" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="46%" id="d31905e8723">报告</th>
                              <th align="left" valign="bottom" width="54%" id="d31905e8726">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d31905e8731" headers="d31905e8723 ">
                                 <p><a href="oracle-database-vault-reports.html#GUID-334C779A-3BBC-4C57-A6F9-0C3EF9D44F37" title="因素审计报告显示未能评估或设置为在各种条件下创建审计记录的因素。">因素审计报告</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d31905e8731 d31905e8726 ">
                                 <p>审核因素（例如，查找无法评估的因素）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d31905e8742" headers="d31905e8723 ">
                                 <p><a href="oracle-database-vault-reports.html#GUID-A94B0EFE-DF5E-4E3E-B952-EF9047348370" title="“因子配置问题报告”显示Oracle Database Vault因子配置问题。">因素配置问题报告</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d31905e8742 d31905e8726 ">
                                 <p>列出配置问题，例如已禁用或不完整的规则集，或审核可能影响该因素的问题</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d31905e8753" headers="d31905e8723 ">
                                 <p><a href="oracle-database-vault-reports.html#GUID-CDB7ACBE-8C0E-4D36-93F5-CF0E206A18FA" title="“无标识因子”报告显示未配置标识的Oracle Database Vault因子。">没有身份报告的因素</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d31905e8753 d31905e8726 ">
                                 <p>列出尚未分配身份的因素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d31905e8764" headers="d31905e8723 ">
                                 <p><a href="oracle-database-vault-reports.html#GUID-4BB1C655-BCBA-4C9D-8793-10E9AFD9F51D" title="Identity Configuration Issues报告显示Oracle Database Vault因子身份配置问题。">身份配置问题报告</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d31905e8764 d31905e8726 ">
                                 <p>列出具有无效标签标识或没有标识映射的因素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="46%" id="d31905e8775" headers="d31905e8723 ">
                                 <p><a href="oracle-database-vault-reports.html#GUID-162BB69D-9C1F-4FB8-959E-1B8C21FE6FF9" title="规则集配置问题报告显示Oracle Database Vault规则集配置问题。">规则集配置问题报告</a></p>
                              </td>
                              <td align="left" valign="top" width="54%" headers="d31905e8775 d31905e8726 ">
                                 <p>列出未定义或启用规则的规则集，这可能会影响使用它们的因素</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p><a href="configuring-factors.html#GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA__CIHCDBII" title="因子数据字典视图">表7-2</a>列出了提供有关现有因素和因子身份的信息的数据字典视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-1404DAD0-47FD-46D8-946F-1685C1AD5ADA__CIHCDBII">
                     <p class="titleintable">表7-2用于因子和因子标识的数据字典视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="用于因子和因子身份的数据字典视图" width="100%" border="1" summary="Factor Data Dictionary Views" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d31905e8802">数据字典视图</th>
                              <th align="left" valign="bottom" width="53%" id="d31905e8805">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d31905e8810" headers="d31905e8802 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-5B6C4B1F-57EE-4F51-A042-645C902A43BA" title="DBA_DV_FACTOR数据字典视图列出了当前数据库实例中的现有因子。">DBA_DV_FACTOR查看</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d31905e8810 d31905e8805 ">
                                 <p>列出当前数据库实例中的现有因子</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d31905e8824" headers="d31905e8802 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-1E0E07FF-D8F3-44EE-9662-2756F6E1F49A" title="DBA_DV_FACTOR_LINK数据字典视图显示每个因素的关系，其身份由子因素的关联确定。">DBA_DV_FACTOR_LINK查看</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d31905e8824 d31905e8805 ">
                                 <p>显示每个因子的关系，其身份由子因素的关联决定</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d31905e8838" headers="d31905e8802 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-19313BA1-4127-41B4-8CFB-70B62B836328" title="DBA_DV_FACTOR_TYPE数据字典视图列出了系统中使用的因子类型的名称和描述。">DBA_DV_FACTOR_TYPE查看</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d31905e8838 d31905e8805 ">
                                 <p>列出系统中使用的因子类型的名称和描述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d31905e8852" headers="d31905e8802 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-CEC74E3E-E65C-4A56-A672-DD9CE7522020" title="DBA_DV_IDENTITY数据字典视图列出了每个因子的标识。">DBA_DV_IDENTITY查看</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d31905e8852 d31905e8805 ">
                                 <p>列出每个因素的身份</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d31905e8866" headers="d31905e8802 ">
                                 <p><a href="oracle-database-vault-data-dictionary-views.html#GUID-BC732C4B-A260-45A3-AB65-1D0B9A6F9ED3" title="DBA_DV_IDENTITY_MAP数据字典视图列出了每个因子标识的映射。">DBA_DV_IDENTITY_MAP查看</a></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d31905e8866 d31905e8805 ">
                                 <p>列出每个因子标识的映射</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-factors.html#GUID-26DF59FF-D0BF-496A-8D5B-6B2B6AC99822" title="因素使您能够基于客户端IP地址或域等属性建立Database Vault限制。">配置因子</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>