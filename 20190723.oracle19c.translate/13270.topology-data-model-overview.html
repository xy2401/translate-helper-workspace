<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The Topology Data Model feature of Oracle Spatial and Graph lets you work with data about nodes, edges, and faces in a topology."></meta>
      <meta name="description" content="The Topology Data Model feature of Oracle Spatial and Graph lets you work with data about nodes, edges, and faces in a topology."></meta>
      <title>拓扑数据模型概述</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Topology Data Model and Network Data Model Graph Developer&#39;s Guide"></meta>
      <meta property="og:description" content="The Topology Data Model feature of Oracle Spatial and Graph lets you work with data about nodes, edges, and faces in a topology."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Topology Data Model and Network Data Model Graph Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-topology-data-model-and-network-data-model-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T12:24:53-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94802-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="topology-data-model.html" title="Previous" type="text/html"></link>
      <link rel="next" href="editing-topologies.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Topology Data Model and Network Data Model Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="TOPOL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="topology-data-model.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="editing-topologies.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">拓扑数据模型和网络数据模型图开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="topology-data-model.html" property="item" typeof="WebPage"><span property="name">拓扑数据模型</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">拓扑数据模型概述</li>
            </ol>
            <a id="GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" name="GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D"></a><a id="TOPOL100"></a>
            
            <h2 id="TOPOL-GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" class="sect2"><span class="enumeration_chapter">1</span>拓扑数据模型概述</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。</p>
               <p>例如，根据节点，链和多边形提供美国人口普查地理数据，并且可以使用空间和图形拓扑数据模型特征来表示该数据。您可以在Oracle Spatial and Graph表和元数据视图中存储有关拓扑元素和几何图层的信息。然后，您可以执行引用拓扑元素的某些空间操作，例如，查找哪些链（例如街道）与特定多边形实体（例如公园）进行任何空间交互。</p>
               <p>本章介绍支持拓扑数据模型功能的空间数据结构和数据类型，以及填充和操作结构所需执行的操作。您可以使用此信息编写程序，将拓扑数据转换为可用于Spatial和Graph的格式。</p>
               <div class="infoboxnote" id="GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D__GUID-C5C9ABF2-94FC-4814-86C2-6FD610D81309">
                  <p class="notep1">注意：</p>
                  <p>虽然本章讨论了与Oracle Spatial和Graph相关的一些拓扑术语，但它假定您熟悉基本拓扑概念。</p>
                  <p>它还假定您熟悉<a href="../spatl/spatial-concepts-usage.html#SPATL-GUID-EEEED709-34A1-46EA-9AF3-869FD06E3076" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide中</span></a>记录的主要概念，数据类型和操作。
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-F6F34EB5-B232-438A-954F-6C60BC1F7ADC">使用拓扑数据的主要步骤</a><br>本主题总结了使用拓扑数据的主要步骤。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B">拓扑数据模型概念</a><br>拓扑是与空间中的物体有关的数学分支。拓扑关系包括诸如<span class="italic">包含</span> ， <span class="italic">内部</span> ， <span class="italic">覆盖</span> ， <span class="italic">覆盖</span> ， <span class="italic">触摸</span>和<span class="italic">与交叉边界重叠的关系</span> 。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-5DCF62BD-2B74-49F7-968D-D4CD6787C9E4">拓扑几何和图层</a><br><span class="bold">拓扑</span> <span class="bold">几何</span> （也称为<span class="bold">特征</span> ）是现实世界对象的空间表示。例如， <span class="italic">Main Street</span>和<span class="italic">Walden State Park</span>可能是拓扑几何的名称。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F">拓扑几何图层层次结构</a><br>在某些拓扑中，拓扑几何图层（要素图层）在<span class="bold">拓扑层次结构中</span>具有一个或多个父子关系。也就是说，最顶层的层由层次结构中下一层的子层中的特征组成;子图层可能包含其子层中下一层更远的特征;等等。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99">拓扑数据模型表</a><br>要使用空间和图形拓扑功能，必须首先将数据插入特殊的边，节点和面图表，这些表由创建拓扑时由空间和图形创建。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD">拓扑数据类型</a><br>与拓扑数据模型关联的主要数据类型是SDO_TOPO_GEOMETRY，它描述了拓扑几何。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-2FB6ED4F-3FBB-40D4-AF34-330890315290">拓扑元数据视图</a><br>每个模式（用户）有两组拓扑元数据视图：xxx_SDO_TOPO_INFO和xxx_SDO_TOPO_METADATA，其中<span class="italic">xxx</span>可以是USER或ALL。这些视图对用户是只读的;它们由Spatial和Graph创建和维护。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-7FD02739-8A8E-4700-8CE2-F4D513A90A38">拓扑应用程序编程接口</a><br>拓扑数据模型应用程序编程接口（API）包括以下内容。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-2D284F68-529F-4772-9C96-2E2FCC72AA70">导出和导入拓扑数据</a><br>您可以从一个数据库导出拓扑，并将其导入到另一个数据库中具有相同名称，结构和数据的新拓扑中，只要目标数据库尚未包含与导出的拓扑同名的拓扑。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-7C1445F9-CBF6-4E86-A3F6-3500A08A56FD">跨模式拓扑使用和编辑</a><br>本主题包含在涉及多个数据库用户（模式）时使用和编辑拓扑的要求和指南。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-8F1AD378-4C16-4E64-9BA8-68D825029C8C">不支持基于函数的索引</a><br>您无法在SDO_TOPO_GEOMETRY类型的列上创建基于函数的索引。</li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3">拓扑示例（PL / SQL）</a><br>本主题介绍了执行拓扑数据模型操作的简化PL / SQL示例。
                  </li>
                  <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-43C622BE-1149-4A40-9368-67C7D1EF13E9">用于空间和图形以及相关功能的自述文件</a><br><code class="codeph">README.txt</code>文件补充了以下手册中的信息：</li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="topology-data-model.html#GUID-568DB747-C605-43E8-A8B4-8FA268B9D687" title="本部分介绍Oracle Spatial and Graph的拓扑数据模型功能。">拓扑数据模型</a></p>
                  </div>
               </div>
            </div>
            <a id="TOPOL724"></a><div class="props_rev_3"><a id="GUID-F6F34EB5-B232-438A-954F-6C60BC1F7ADC" name="GUID-F6F34EB5-B232-438A-954F-6C60BC1F7ADC"></a><h3 id="TOPOL-GUID-F6F34EB5-B232-438A-954F-6C60BC1F7ADC" class="sect3"><span class="enumeration_section">1.1</span>使用拓扑数据的主要步骤</h3>
               <div>
                  <p>本主题总结了使用拓扑数据的主要步骤。</p>
                  <p>它指的是其他主题中详细描述的重要概念，结构和操作。</p>
                  <p>具体的主要步骤取决于您遵循的两种基本方法中的哪一种，这取决于您将用于构建拓扑的数据类型：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果您有关于边，节点和面的数据（但不包含空间几何数据），请按照<a href="topology-data-model-overview.html#GUID-87358F41-995F-46A6-87D7-79D183268506">使用拓扑数据构建的拓扑中</a>的步骤操作。
                        </p>
                     </li>
                     <li>
                        <p>如果要从将成为拓扑要素的空间几何构建拓扑，请按照<a href="topology-data-model-overview.html#GUID-9B4C1443-116E-40AB-A633-4CB101A59461">使用</a>从空间几何构建的拓扑中的步骤进行操作。
                        </p>
                     </li>
                  </ul>
                  <p>您可以使用拓扑数据模型PL / SQL和Java API来更新拓扑（例如，更改有关边，节点或面的数据）。大多数编辑操作的PL / SQL API是SDO_TOPO_MAP包，它包含在<a href="SDO_TOPO_MAP-reference.html#GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0" title="MDSYS.SDO_TOPO_MAP包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。">SDO_TOPO_MAP包子程序中</a> 。Java API在<a href="topology-data-model-overview.html#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">拓扑数据模型Java接口中</a>描述。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-87358F41-995F-46A6-87D7-79D183268506">使用拓扑数据构建的拓扑</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-9B4C1443-116E-40AB-A633-4CB101A59461">使用从空间几何构建的拓扑</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL725"></a><div class="props_rev_3"><a id="GUID-87358F41-995F-46A6-87D7-79D183268506" name="GUID-87358F41-995F-46A6-87D7-79D183268506"></a><h4 id="TOPOL-GUID-87358F41-995F-46A6-87D7-79D183268506" class="sect4"><span class="enumeration_section">1.1.1</span>使用拓扑数据构建的拓扑</h4>
                  <div>
                     <div class="section">
                        <p>使用从拓扑数据构建的拓扑的主要步骤如下：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>使用<a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a>过程创建拓扑。这会导致创建&lt;topology-name&gt; _EDGE $，&lt;topology-name&gt; _NODE $，&lt;topology-name&gt; _FACE $和&lt;topology-name&gt; _HISTORY $表。（这些表分别在<a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627">边缘信息表</a> ， <a href="topology-data-model-overview.html#GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F">节点信息表</a> ， <a href="topology-data-model-overview.html#GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3">面部信息表</a>和<a href="topology-data-model-overview.html#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">历史信息表中进行了描述</a> 。）</span></li>
                        <li><span>将拓扑数据加载到步骤1中创建的节点，边和面。这通常使用批量装入实用程序完成，但可以使用SQL INSERT语句完成。</span></li>
                        <li><span>为拓扑中的每种拓扑几何图层创建要素表。例如，城市数据拓扑可能具有用于地块，街道和交通标志的单独要素表。</span></li>
                        <li><span>使用每个要素表的<a href="SDO_TOPO-reference.html#GUID-56C1B565-72E4-43BD-B46C-096D3C878B30">SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER</a>过程将要素表与拓扑相关<a href="SDO_TOPO-reference.html#GUID-56C1B565-72E4-43BD-B46C-096D3C878B30">联</a> 。这会导致创建&lt;topology-name&gt; _RELATION $表。（此表在<a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191">关系信息表中</a>描述。）</span></li>
                        <li><span>使用<a href="SDO_TOPO-reference.html#GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1">SDO_TOPO.INITIALIZE_METADATA</a>过程初始化拓扑元数据。（此过程还在&lt;topology-name&gt; _EDGE $，&lt;topology-name&gt; _NODE $和&lt;topology-name&gt; _FACE $表上创建空间索引，并在&lt;topology-name&gt; _EDGE $上创建其他B树索引和&lt;topology-name&gt; _NODE $ tables。）</span></li>
                        <li><span>使用SDO_TOPO_GEOMETRY构造函数加载要素表。（此构造函数在<a href="topology-data-model-overview.html#GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B">SDO_TOPO_GEOMETRY构造</a>函数中描述。）</span></li>
                        <li><span>查询拓扑数据（例如，使用拓扑运算符中描述的<a href="topology-data-model-overview.html#GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C">拓扑运算符之一</a> ）。</span></li>
                        <li><span>（可选）使用PL / SQL或Java应用程序编程接口（API）编辑拓扑数据。</span></li>
                     </ol>
                     <div class="section">
                        <p><a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">从拓扑数据构建的拓扑</a>包含执行这些主要步骤的PL / SQL示例。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-F6F34EB5-B232-438A-954F-6C60BC1F7ADC" title="本主题总结了使用拓扑数据的主要步骤。">使用拓扑数据的主要步骤</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL726"></a><div class="props_rev_3"><a id="GUID-9B4C1443-116E-40AB-A633-4CB101A59461" name="GUID-9B4C1443-116E-40AB-A633-4CB101A59461"></a><h4 id="TOPOL-GUID-9B4C1443-116E-40AB-A633-4CB101A59461" class="sect4"><span class="enumeration_section">1.1.2</span>使用从空间几何构建的拓扑</h4>
                  <div>
                     <div class="section">
                        <p>要从空间几何构建拓扑，必须首先执行标准操作以准备用于Oracle Spatial和Graph的数据，如<a href="../spatl/spatial-concepts-usage.html#SPATL-GUID-EEEED709-34A1-46EA-9AF3-869FD06E3076" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide中所述</span></a> ：</p>
                        <ol>
                           <li>
                              <p>创建空间表。</p>
                           </li>
                           <li>
                              <p>更新空间元数据（USER_SDO_GEOM_METADATA视图）。</p>
                           </li>
                           <li>
                              <p>将数据加载到空间表中。</p>
                           </li>
                           <li>
                              <p>验证空间数据。</p>
                           </li>
                           <li>
                              <p>创建空间索引。</p>
                           </li>
                        </ol>
                        <p>使用从Oracle Spatial和Graph几何构建的拓扑的主要步骤如下：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>使用<a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a>过程创建拓扑。这会导致创建&lt;topology-name&gt; _EDGE $，&lt;topology-name&gt; _NODE $，&lt;topology-name&gt; _FACE $和&lt;topology-name&gt; _HISTORY $表。（这些表分别在<a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627">边缘信息表</a> ， <a href="topology-data-model-overview.html#GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F">节点信息表</a> ， <a href="topology-data-model-overview.html#GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3">面部信息表</a>和<a href="topology-data-model-overview.html#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">历史信息表中进行了描述</a> 。）</span></li>
                        <li><span>创建Universe面（F0，在<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B" title="拓扑是与空间中的物体有关的数学分支。拓扑关系包括诸如包含，内部，覆盖，覆盖，触摸和与交叉边界重叠的关系。">拓扑数据模型概念中</a>定义）。</span></li>
                        <li><span>为拓扑中的每种拓扑几何图层创建要素表。例如，城市数据拓扑可能具有用于地块，街道和交通标志的单独要素表。</span></li>
                        <li><span>使用每个要素表的<a href="SDO_TOPO-reference.html#GUID-56C1B565-72E4-43BD-B46C-096D3C878B30">SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER</a>过程将要素表与拓扑相关<a href="SDO_TOPO-reference.html#GUID-56C1B565-72E4-43BD-B46C-096D3C878B30">联</a> 。这会导致创建&lt;topology-name&gt; _RELATION $表。（此表在<a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191">关系信息表中</a>描述。）</span></li>
                        <li><span>使用<a href="SDO_TOPO-reference.html#GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1">SDO_TOPO.INITIALIZE_METADATA</a>过程初始化拓扑元数据。（此过程还在&lt;topology-name&gt; _EDGE $，&lt;topology-name&gt; _NODE $和&lt;topology-name&gt; _FACE $表上创建空间索引，并在&lt;topology-name&gt; _EDGE $上创建其他B树索引和&lt;topology-name&gt; _NODE $ tables。）</span></li>
                        <li><span>创建TopoMap对象并将整个拓扑加载到缓存中。</span></li>
                        <li><span>加载要素表，从空间表插入数据并使用<a href="SDO_TOPO_MAP-reference.html#GUID-61D5CD35-01C4-4051-8E06-B5AFB0B74A2D">SDO_TOPO_MAP.CREATE_FEATURE</a>函数。</span></li>
                        <li><span>查询拓扑数据（使用拓扑运算符中描述的<a href="topology-data-model-overview.html#GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C">拓扑运算符之一</a> ）。</span></li>
                        <li><span>（可选）使用PL / SQL或Java应用程序编程接口（API）编辑拓扑数据。</span></li>
                     </ol>
                     <div class="section">
                        <p><a href="topology-data-model-overview.html#GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567">从Spatial Geometries构建的拓扑</a>包含执行这些主要步骤的PL / SQL示例。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-F6F34EB5-B232-438A-954F-6C60BC1F7ADC" title="本主题总结了使用拓扑数据的主要步骤。">使用拓扑数据的主要步骤</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL728"></a><a id="TOPOL729"></a><a id="TOPOL727"></a><div class="props_rev_3"><a id="GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B" name="GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B"></a><h3 id="TOPOL-GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B" class="sect3"><span class="enumeration_section">1.2</span>拓扑数据模型概念</h3>
               <div>
                  <p>拓扑是与空间中的物体有关的数学分支。拓扑关系包括诸如<span class="italic">包含</span> ， <span class="italic">内部</span> ， <span class="italic">覆盖</span> ， <span class="italic">覆盖</span> ， <span class="italic">触摸</span>和<span class="italic">与交叉边界重叠的关系</span> 。
                  </p>
                  <p>当坐标空间变形时，例如通过扭曲或拉伸，拓扑关系保持不变。（非拓扑关系的例子包括<span class="italic">长度</span> ， <span class="italic">距离</span>和<span class="italic">面积</span> 。）
                  </p>
                  <p>拓扑中的基本元素是其节点，边和面。</p>
                  <p><a id="d4087e648" class="indexterm-anchor"></a>由点表示的<span class="bold">节点</span>可以是孤立的，也可以用于绑定边缘。两个或多个边缘在非隔离节点处相遇。节点具有与之关联的坐标对，用于描述该节点的空间位置。可以表示为节点的地理实体的示例包括街道的起点和终点，历史感兴趣的地点和机场（如果地图比例足够大）。
                  </p>
                  <p><a id="d4087e657" class="indexterm-anchor"></a> <span class="bold">边缘</span>由两个节点限定：起始（起始）节点和结束（终端）节点。边具有关联的几何对象，通常是描述边的空间表示的坐标字符串。边可以具有构成线串的若干顶点。（拓扑不支持圆弧。）可以表示为边缘的地理实体的示例包括街道和河流的片段。
                  </p>
                  <p><a id="d4087e666" class="indexterm-anchor"></a><a id="d4087e670" class="indexterm-anchor"></a>坐标的顺序给出了边缘的<span class="bold">方向</span> ，并且方向对于确定拓扑关系很重要。正方向与下边缘的方向一致，负方向反转该方向。边缘的每个方向被称为有<span class="bold">向边缘</span> ，并且每个有向边缘是其另一个有向边缘的镜像。正有向边的起始节点是负有向边的末端节点。边缘也位于两个面之间，并且具有对它们的引用。每个有向边包含对其左侧面的连续周边中的下一个边的引用。对应于多边形的<span class="bold">面</span>具有对其外边界的一个有向边的引用。如果存在任何岛节点或岛边缘，则该面也具有对每个岛的边界上的一个有向边的引用。可以表示为面部的地理实体的示例包括公园，湖泊，县和州。
                  </p>
                  <p><a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__BABCJFAD">图1-1</a>显示了包含节点，边和面的简化拓扑。每个边缘上的箭头指示边缘的正方向（或者更确切地说，下面的线串的方向或边缘的正方向的曲线几何形状）。
                  </p>
                  <div class="figure" id="GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__BABCJFAD">
                     <p class="titleinfigure">图1-1简化拓扑</p><img src="img/topo_node_edge_face.gif" width="554" alt="下面是图1-1的描述" title="下面是图1-1的描述" longdesc="img_text/topo_node_edge_face.html"><br><a href="img_text/topo_node_edge_face.html">“图1-1简化拓扑”的描述</a></div>
                  <!-- class="figure" -->
                  <p><a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__BABCJFAD">图1-1</a>注释：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic">E</span>元素（E1，E2等）是边， <span class="italic">F</span>元素（F0，F1等）是面， <span class="italic">N个</span>元素（N1，N2等）是节点。
                        </p>
                     </li>
                     <li>
                        <p>为每个拓扑创建<span class="bold">F0</span> （面零）。Universe面包含拓扑中的所有其他内容。没有与Universe面相关联的几何体。F0的面ID值为-1（负1）。
                        </p>
                     </li>
                     <li>
                        <p>为每个点几何体以及边的每个起点和终点节点创建一个节点。例如，面F1仅具有边缘（闭合边缘）E1，其具有与起始节点和结束节点（N1）相同的节点。F1还具有边E25，具有起始节点N21和末端节点N22。</p>
                     </li>
                     <li>
                        <p><span class="bold">孤立的节点</span> （也称为<a id="d4087e720" class="indexterm-anchor"></a><a id="d4087e724" class="indexterm-anchor"></a><a id="d4087e728" class="indexterm-anchor"></a><a id="d4087e732" class="indexterm-anchor"></a> <span class="bold">岛节点</span> ）是一个面部隔离的节点。例如，节点N4是面F2中的孤立节点。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">孤立的边缘</span> （也称为<span class="bold">岛边缘</span> ）是在面部中隔离的边缘。例如，边缘E25是面F1中的孤立边缘。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">循环边缘</span>是与其起始节点和结束节点具有相同节点的边缘。例如，边缘E1是在节点N1处开始和结束的循环边缘。
                        </p>
                     </li>
                     <li>
                        <p>边缘上不能有孤立的（岛）节点。通过在边缘上添加节点，可以将边缘分解为两个边缘。例如，如果在节点N16和N18之间最初存在单个边缘，则添加节点N17导致两个边缘：E6和E7。</p>
                     </li>
                     <li>
                        <p>有关拓扑关系的信息存储在特殊的边，面和节点信息表中。例如，边缘信息表包含关于边缘E9和E10的以下信息。（注意每条边的箭头方向。）下一个和上一个边缘基于边缘的左右面。</p>
                        <p>对于边E9，起始节点为N15，结束节点为N14，下一个左边为E19，左边为-E21，右边为-E22，右边为E20，左边为F3和右脸是F6。</p>
                        <p>对于边E10，起始节点为N13，结束节点为N14，下一个左边为-E20，前一个左边为E18，右边为E17，右边为-E19，左边为F7和右脸是F4。</p>
                        <p>有关边缘相关数据的其他示例（包括插图和说明），请参阅<a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627">边缘信息表</a> 。
                        </p>
                     </li>
                  </ul>
                  <p><a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__CIHDGFGC">图1-2</a>显示了与<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__BABCJFAD">图1-1中</a>相同的拓扑结构，但它沿x轴和y轴添加了网格和单元编号。<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__CIHDGFGC">图1-2</a>有助于理解<a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="MDSYS.SDO_TOPO包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。该软件包主要包含用于创建和管理拓扑的子程序。">SDO_TOPO包子程序</a>和<a href="SDO_TOPO_MAP-reference.html#GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0" title="MDSYS.SDO_TOPO_MAP包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。">SDO_TOPO_MAP包子程序</a>中某些示例的输出。
                  </p>
                  <div class="figure" id="GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__CIHDGFGC">
                     <p class="titleinfigure">图1-2简化拓扑，带网格线和单元号</p><img src="img/topo_xy_axes.gif" width="611" alt="下面是图1-2的描述" title="下面是图1-2的描述" longdesc="img_text/topo_xy_axes.html"><br><a href="img_text/topo_xy_axes.html">“图1-2简化拓扑，网格线和单元编号”的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36">拓扑数据模型中的容差</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL730"></a><div class="props_rev_3"><a id="GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36" name="GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36"></a><h4 id="TOPOL-GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36" class="sect4"><span class="enumeration_section">1.2.1</span>拓扑数据模型中的容差</h4>
                  <div>
                     <p>容差用于将精度水平与空间数据相关联。<span class="bold">容差</span>反映了<span class="italic">两个点可以分开</span>的<span class="italic">距离，并且仍然被认为是相同的</span> （例如，为了适应舍入误差）。公差值必须是大于零的正数。
                     </p>
                     <p>但是，在拓扑数据模型中，容差可以有两种含义，具体取决于正在执行的操作：一种含义是传统的Oracle Spatial and Graph容差定义，另一种是固定容差值10E-15。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在调用<a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a>过程中指定的容差值是指传统的Oracle Spatial和Graph定义，如<a href="../spatl/spatial-concepts.html#SPATL450" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide中所述</span></a> 。在节点，边和面表中创建索引时，以及使用空间运算符查询这些表时，将使用此值。
                           </p>
                        </li>
                        <li>
                           <p>在拓扑编辑操作期间用于内部计算的公差值（例如，查找边缘交点）始终为10E-15（基于Java双精度算术）。在<a href="SDO_TOPO_MAP-reference.html#GUID-0B1B7F60-E0C0-4D5F-9EF5-96EF14E4E4B1">SDO_TOPO_MAP.VALIDATE_TOPO_MAP</a>和<a href="SDO_TOPO_MAP-reference.html#GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3">SDO_TOPO_MAP.VALIDATE_TOPOLOGY</a>函数执行的验证检查期间使用此值。
                           </p>
                        </li>
                     </ul>
                     <p>因此，例如，如果将该几何图形传递给SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT函数，则<a href="SDO_TOPO_MAP-reference.html#GUID-0B1B7F60-E0C0-4D5F-9EF5-96EF14E4E4B1">SDO_TOPO_MAP.VALIDATE_TOPO_MAP</a>或<a href="SDO_TOPO_MAP-reference.html#GUID-819011B8-8B86-4E0A-B2DE-DEF6F8B23EC3">SDO_TOPO_MAP.VALIDATE_TOPOLOGY</a>函数认为有效的边几何可能无效。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B" title="拓扑是与空间中的物体有关的数学分支。拓扑关系包括诸如包含，内部，覆盖，覆盖，触摸和与交叉边界重叠的关系。">拓扑数据模型概念</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL731"></a><div class="props_rev_3"><a id="GUID-5DCF62BD-2B74-49F7-968D-D4CD6787C9E4" name="GUID-5DCF62BD-2B74-49F7-968D-D4CD6787C9E4"></a><h3 id="TOPOL-GUID-5DCF62BD-2B74-49F7-968D-D4CD6787C9E4" class="sect3"><span class="enumeration_section">1.3</span>拓扑几何和图层</h3>
               <div>
                  <p><span class="bold">拓扑</span> <span class="bold">几何</span> （也称为<span class="bold">特征</span> ）是现实世界对象的空间表示。例如， <span class="italic">Main Street</span>和<span class="italic">Walden State Park</span>可能是拓扑几何的名称。
                  </p>
                  <p>几何图形存储为一组<span class="bold">拓扑元素</span> （节点，边和面），有时也称为<span class="italic">基元</span> 。每个拓扑几何都具有唯一的ID（在导入或加载记录时由空间和图形指定）与其关联。
                  </p>
                  <p>一个<a id="d4087e978" class="indexterm-anchor"></a><a id="d4087e982" class="indexterm-anchor"></a><a id="d4087e986" class="indexterm-anchor"></a> <span class="bold">拓扑几何图层</span>由<span class="bold">拓扑几何图形</span>组成，通常具有特定的拓扑几何类型，但它可以是多种类型的集合（有关<a href="topology-data-model-overview.html#GUID-FA12BEF0-DF4F-4206-A434-1A8918B7ACE6">集合图层</a>的信息，请参阅<a href="topology-data-model-overview.html#GUID-FA12BEF0-DF4F-4206-A434-1A8918B7ACE6">集合图层</a> ）。例如， <span class="italic">Streets</span>可能是包含<span class="italic">Main Street</span>拓扑几何的拓扑几何图层， <span class="italic">State Parks</span>可能是包含<span class="italic">Walden State Park</span>拓扑几何的拓扑几何图层。每个拓扑几何图层都具有与之关联的唯一ID（由空间和图形指定）。每个拓扑几何图层的数据都存储在a中<a id="d4087e1010" class="indexterm-anchor"></a> <span class="bold">特征表</span> 。例如，名为CITY_STREETS的要素表可能包含有关<span class="italic">Streets</span>拓扑几何图层中所有拓扑几何（单个道路或街道）的信息。
                  </p>
                  <p>每个拓扑几何（要素）都定义为<a href="topology-data-model-overview.html#GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37">SDO_TOPO_GEOMETRY类型</a>的对象（在<a href="topology-data-model-overview.html#GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37">SDO_TOPO_GEOMETRY类型中</a>描述），该对象标识拓扑的拓扑几何类型，拓扑几何ID，拓扑几何图层ID和拓扑ID。
                  </p>
                  <p>拓扑元数据由空间和图形在USER_SDO_TOPO_METADATA和ALL_SDO_TOPO_METADATA视图中自动维护，这些<a href="topology-data-model-overview.html#GUID-9455CD8B-BBC7-4826-9F2F-143FC8E4D52D">视图</a>在<a href="topology-data-model-overview.html#GUID-9455CD8B-BBC7-4826-9F2F-143FC8E4D52D">xxx_SDO_TOPO_METADATA视图</a>中描述。USER_SDO_TOPO_INFO和ALL_SDO_TOPO_INFO视图（在<a href="topology-data-model-overview.html#GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67">xxx_SDO_TOPO_INFO视图中</a>描述）包含此拓扑元数据的子集。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14">特征</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-FA12BEF0-DF4F-4206-A434-1A8918B7ACE6">收集图层</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL733"></a><a id="TOPOL732"></a><div class="props_rev_3"><a id="GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14" name="GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14"></a><h4 id="TOPOL-GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14" class="sect4"><span class="enumeration_section">1.3.1</span>功能</h4>
                  <div>
                     <p>通常，拓扑中的特征比拓扑元素（节点，边和面）少。例如，道路要素可以包括许多边缘，诸如公园的区域特征可以由许多面部组成，并且一些节点可以不与点要素相关联。<a href="topology-data-model-overview.html#GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14__CIHHABGI">图1-3</a>显示了<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B" title="Topology is a branch of mathematics concerned with objects in space. Topological relationships include such relationships as contains, inside, covers, covered by, touch, and overlap with boundaries intersecting.">拓扑数据模型概念</a>中<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__BABCJFAD">图1-1</a>中显示的拓扑关联的点，线和面<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B" title="拓扑是与空间中的物体有关的数学分支。拓扑关系包括诸如包含，内部，覆盖，覆盖，触摸和与交叉边界重叠的关系。">要素</a> 。
                     </p>
                     <div class="figure" id="GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14__CIHHABGI">
                        <p class="titleinfigure">图1-3拓扑中的功能</p><img width="480" src="img/topo_features.gif" alt="下面是图1-3的描述" title="下面是图1-3的描述" longdesc="img_text/topo_features.html"><br><a href="img_text/topo_features.html">“图1-3拓扑中的特征”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="topology-data-model-overview.html#GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14__CIHHABGI">图1-3</a>显示了拓扑中的以下几种功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>点特征（交通标志），显示为黑圈： <code class="codeph">S1</code> ， <code class="codeph">S2</code> ， <code class="codeph">S3</code>和<code class="codeph">S4</code></p>
                        </li>
                        <li>
                           <p>线性要素（道路或街道），如虚线所示： <code class="codeph">R1</code> ， <code class="codeph">R2</code> ， <code class="codeph">R3</code>和<code class="codeph">R4</code></p>
                        </li>
                        <li>
                           <p>区域特征（地块），显示为矩形： <code class="codeph">P1</code> ， <code class="codeph">P2</code> ， <code class="codeph">P3</code> ， <code class="codeph">P4</code>和<code class="codeph">P5</code></p>
                           <p>地块<code class="codeph">P5</code>不包括其区域内的阴影区域。（具体地， <code class="codeph">P5</code>包括面部<code class="codeph">F1</code>但不包括面部<code class="codeph">F9</code> 。这些面在<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B" title="拓扑是与空间中的物体有关的数学分支。拓扑关系包括诸如包含，内部，覆盖，覆盖，触摸和与交叉边界重叠的关系。">拓扑数据模型概念</a>中的<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__BABCJFAD">图1-1</a>中显示。）
                           </p>
                        </li>
                     </ul>
                     <p><a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">拓扑结构</a>中的<a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">拓扑</a> <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285__CIHDDJBA">示例1-12</a>定义了这些功能。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-5DCF62BD-2B74-49F7-968D-D4CD6787C9E4" title="拓扑几何（也称为特征）是现实世界对象的空间表示。例如，Main Street和Walden State Park可能是拓扑几何的名称。">拓扑几何和图层</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL735"></a><a id="TOPOL734"></a><div class="props_rev_3"><a id="GUID-FA12BEF0-DF4F-4206-A434-1A8918B7ACE6" name="GUID-FA12BEF0-DF4F-4206-A434-1A8918B7ACE6"></a><h4 id="TOPOL-GUID-FA12BEF0-DF4F-4206-A434-1A8918B7ACE6" class="sect4"><span class="enumeration_section">1.3.2</span>收集层</h4>
                  <div>
                     <p><span class="bold">集合层</span>是拓扑几何图层，可以包含不同拓扑几何类型的拓扑元素。例如，使用<a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3" title="本主题介绍了执行拓扑数据模型操作的简化PL / SQL示例。">拓扑示例（PL / SQL）中</a>的示例中的<code class="codeph">CITY_DATA</code>拓扑，您可以创建一个包含特定地块，城市街道和交通标志元素的集合层。
                     </p>
                     <p>要创建集合层，请按照基本相同的步骤创建其他类型的图层。为图层创建要素表，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE gather_features（ - 选定的异构功能feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）;</pre><p>将要素表与拓扑<code class="codeph">topo_geometry_layer_type</code> ，在调用<a href="SDO_TOPO-reference.html#GUID-56C1B565-72E4-43BD-B46C-096D3C878B30">SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER</a>过程中为<code class="codeph">topo_geometry_layer_type</code>参数指定<code class="codeph">COLLECTION</code> ，如下例所示：</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'CITY_DATA'，COLLECTED_FEATURES'，'FEATURE'，'COLLECTION'）;</pre><p>要加载集合层的要素表，请插入必要的行，如<a href="topology-data-model-overview.html#GUID-FA12BEF0-DF4F-4206-A434-1A8918B7ACE6__CIHDJHIJ">示例1-1</a>所示。
                     </p>
                     <div class="example" id="GUID-FA12BEF0-DF4F-4206-A434-1A8918B7ACE6__CIHDJHIJ">
                        <p class="titleinexample">示例1-1加载集合层的功能表</p><pre class="oac_no_warn" dir="ltr">- 从CITY_STREETS图层中取R5。INSERT INTO gather_features VALUES（'C_R5'，SDO_TOPO_GEOMETRY（'CITY_DATA'，2， -  tg_type = line / multiline 4， -  tg_layer_id SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（20,2），SDO_TOPO_OBJECT（-9,2））））; - 从TRAFFIC_SIGNS图层获取S3。INSERT INTO gather_features VALUES（'C_S3'，SDO_TOPO_GEOMETRY（'CITY_DATA'，1， -  tg_type = point / multipoint 4， -  topo layer id SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（6,1））））; - 从LAND_PARCELS图层中取P3。INSERT INTO gather_features VALUES（'C_P3'，SDO_TOPO_GEOMETRY（'CITY_DATA'，3， -  tg_type =（多）多边形4，SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（5,3），SDO_TOPO_OBJECT（8,3））））; - 从多边形和点创建集合。INSERT INTO gather_features VALUES（'C1'，SDO_TOPO_GEOMETRY（'CITY_DATA'，4， -  tg_type =集合4，SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（5,3），SDO_TOPO_OBJECT（6,1））））; - 从多边形和线创建集合。INSERT INTO gather_features VALUES（'C2'，SDO_TOPO_GEOMETRY（'CITY_DATA'，4， -  tg_type = collection 4，SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（8,3），SDO_TOPO_OBJECT（10,2））））; - 从线和点创建集合。INSERT INTO gather_features VALUES（'C3'，SDO_TOPO_GEOMETRY（'CITY_DATA'，4， -  tg_type = collection 4，SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（-5,2），SDO_TOPO_OBJECT（10,1））））;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-5DCF62BD-2B74-49F7-968D-D4CD6787C9E4" title="拓扑几何（也称为特征）是现实世界对象的空间表示。例如，Main Street和Walden State Park可能是拓扑几何的名称。">拓扑几何和图层</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL737"></a><a id="TOPOL738"></a><a id="TOPOL736"></a><div class="props_rev_3"><a id="GUID-048DC942-FC27-4977-AB98-2451E4A4910F" name="GUID-048DC942-FC27-4977-AB98-2451E4A4910F"></a><h3 id="TOPOL-GUID-048DC942-FC27-4977-AB98-2451E4A4910F" class="sect3"><span class="enumeration_section">1.4</span>拓扑几何层次结构</h3>
               <div>
                  <p>在某些拓扑中，拓扑几何图层（要素图层）在<span class="bold">拓扑层次结构中</span>具有一个或多个父子关系。也就是说，最顶层的层由层次结构中下一层的子层中的特征组成;子图层可能包含其子层中下一层更远的特征;等等。
                  </p>
                  <p>例如，土地利用拓扑可能在不同层次结构中具有以下拓扑几何图层：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>最高级别的国家，包括其子层，县的特征</p>
                     </li>
                     <li>
                        <p>下一级的县，包括其子层，Tracts的功能</p>
                     </li>
                     <li>
                        <p>下一级的下一级，包括其子层，块组的功能</p>
                     </li>
                     <li>
                        <p>阻止下一级别的组，其中包含来自其子级图层Land Parcels的要素</p>
                     </li>
                     <li>
                        <p>地块位于层次结构的最低层</p>
                     </li>
                  </ul>
                  <p>如果拓扑中的拓扑几何图层具有此层次关系，则将图层建模为层次结构比在单个级别指定所有拓扑几何图层（即没有层次结构）时效率更高。例如，通过仅指定县中的区域而不是指定县中所有区域中所有区块组中的所有地块，为县构建SDO_TOPO_GEOMETRY对象更有效。</p>
                  <p><a id="d4087e1405" class="indexterm-anchor"></a><a id="d4087e1407" class="indexterm-anchor"></a>层次结构中的最低级别（对于包含最小类型的要素的拓扑几何图层）是级别0，连续的更高级别编号为1,2，依此类推。层次结构的相邻级别的拓扑几何图层具有父子关系。较高级别的每个拓扑几何图层是较低级别的一个图层的<span class="bold">父图层</span> ，即其<span class="bold">子图层</span> 。父图层只能有一个子图层，但子图层可以有一个或多个父图层。使用前面的示例，Counties图层只能有一个子图层Tracts;但是，Tracts图层可以包含名为Counties和Water Districts的父图层。
                  </p>
                  <div class="infoboxnote" id="GUID-048DC942-FC27-4977-AB98-2451E4A4910F__GUID-5D7FC5D5-BFFB-4A41-90D1-B4AB36A5D878">
                     <p class="notep1">注意：</p>
                     <p>拓扑几何层层次结构有点类似于网络的层次结构，其描述在<a href="network-data-model-graph-overview.html#GUID-9DAFED69-BD14-4375-B053-4879F50D54CB" title="某些网络应用程序需要不同抽象级别的表示。例如，两个主要进程可能表示为在最高抽象级别之间具有链接的节点，并且每个主要进程可能具有若干从属进程，这些进程在下一级别表示为节点和链接。">网络层次</a> ;但是，存在显着差异，你不应该混淆两者。例如，最低拓扑几何图层层次结构级别为0，最低网络层次结构级别为1;在拓扑几何图层层次结构中，每个父级必须有一个子级，每个子级可以有多个父级，而在网络层次结构中，每个父级可以有多个子级，每个子级必须有一个父级。
                     </p>
                  </div>
                  <p><a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F__CIHIFGJE">图1-4</a>显示了上述示例拓扑几何图层层次结构。层次结构的每个级别都显示该级别中的级别编号和拓扑几何图层。
                  </p>
                  <div class="figure" id="GUID-048DC942-FC27-4977-AB98-2451E4A4910F__CIHIFGJE">
                     <p class="titleinfigure">图1-4拓扑几何图层层次结构</p><img src="img/topo_hier.gif" width="261" alt="下面是图1-4的描述" title="下面是图1-4的描述" longdesc="img_text/topo_hier.html"><br><a href="img_text/topo_hier.html">“图1-4拓扑几何层次结构”的说明</a></div>
                  <!-- class="figure" -->
                  <div class="example" id="GUID-048DC942-FC27-4977-AB98-2451E4A4910F__CIHGEIDI">
                     <p class="titleinexample">示例1-2建模拓扑几何图层层次结构</p>
                     <p>要将拓扑几何图形层建模为分层，请在调用<a href="SDO_TOPO-reference.html#GUID-56C1B565-72E4-43BD-B46C-096D3C878B30">SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER</a>过程以在拓扑中添加父拓扑几何图层时，在<code class="codeph">child_layer_id</code>参数中指定子图层。首先添加最低级别（级别0）拓扑几何图层;然后添加1级图层，指定0级图层作为其子图层;然后添加2级图层，指定1级图层作为其子图层;等等。<a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F__CIHGEIDI">示例1-2</a>显示了添加的五个拓扑几何图层，以便建立5级层次结构。
                     </p><pre class="oac_no_warn" dir="ltr">- 创建拓扑。（在此示例中为空SRID。）EXECUTE SDO_TOPO.CREATE_TOPOLOGY（'LAND_USE_HIER'，0.00005）; - 创建要素表。CREATE TABLE land_parcels（ - 地块（选定的面）feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; CREATE TABLE block_groups（feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; CREATE TABLE tracts（feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; CREATE TABLE县（feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; CREATE TABLE状态（feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; - （此处未显示的其他步骤，例如填充要素表 - 以及初始化元数据。）。 。 。- 将特征表与拓扑相关联;包括层次结构信息DECLARE land_parcels_id NUMBER; block_groups_id NUMBER; tracts_id NUMBER; counties_id NUMBER; BEGIN SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'LAND_USE_HIER'，'LAND_PARCELS'，'FEATURE'，'POLYGON'）; SELECT tg_layer_id INTO land_parcels_id FROM user_sdo_topo_info WHERE topology ='LAND_USE_HIER'AND table_name ='LAND_PARCELS'; SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'LAND_USE_HIER'，'BLOCK_GROUPS'，'FEATURE'，'POLYGON'，NULL，land_parcels_id）; SELECT tg_layer_id INTO block_groups_id FROM user_sdo_topo_info WHERE topology ='LAND_USE_HIER'AND table_name ='BLOCK_GROUPS'; SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'LAND_USE_HIER'，'TRACTS'，'FEATURE'，'POLYGON'，NULL，block_groups_id）; SELECT tg_layer_id INTO tracts_id FROM user_sdo_topo_info WHERE topology ='LAND_USE_HIER'AND table_name ='TRACTS'; SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'LAND_USE_HIER'，'COUNTIES'，'FEATURE'，'POLYGON'，NULL，tracts_id）; SELECT tg_layer_id INTO counties_id FROM user_sdo_topo_info WHERE topology ='LAND_USE_HIER'AND table_name ='COUNTIES'; SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'LAND_USE_HIER'，'STATES'，'FEATURE'，'POLYGON'，NULL，counties_id）;结束;/</pre><p>在0级以上的每个级别中，每个层都可以包含根据下一个较低级别的要素构建的要素（如<a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F__CIHGEIDI">示例1-2中</a>所做），从拓扑要素（面，节点，边）或这些要素的组合构建的要素。例如，tracts图层可以包含从块组构建的区域或从面构建的区域，或两者。但是，图层中的每个要素必须仅来自下一个较低级别的要素或拓扑要素。例如，特定区域可以由块组组成，也可以由面组成，但不能由块组和面组合组成。
                     </p>
                     <p>要在层次结构中的级别的要素表中插入或更新拓扑几何对象，请使用相应形式的SDO_TOPO_GEOMETRY构造函数。<a href="topology-data-model-overview.html#GUID-5DCF62BD-2B74-49F7-968D-D4CD6787C9E4" title="拓扑几何（也称为特征）是现实世界对象的空间表示。例如，Main Street和Walden State Park可能是拓扑几何的名称。">拓扑几何和图层</a>中描述了要素表，SDO_TOPO_GEOMETRY构造函数中描述了<a href="topology-data-model-overview.html#GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B">SDO_TOPO_GEOMETRY构造函数</a> 。
                     </p>
                     <p>请注意，当应用于具有拓扑几何图层层次结构的拓扑中的父图层时，关系信息表中的TOPO_ID和TOPO_TYPE属性具有特殊含义。请参阅<a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191">关系信息表</a> <a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191__CIHHEAAE" title="&lt;topology-name&gt; _RELATION $ Table中的列">中表1-5</a>中对这些属性的说明。
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL740"></a><a id="TOPOL739"></a><div class="props_rev_3"><a id="GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" name="GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99"></a><h3 id="TOPOL-GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" class="sect3"><span class="enumeration_section">1.5</span>拓扑数据模型表</h3>
               <div>
                  <p>要使用空间和图形拓扑功能，必须首先将数据插入特殊的边，节点和面图表，这些表由创建拓扑时由空间和图形创建。</p>
                  <p>边缘，节点和面部表分别在<a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627">边缘信息表</a> ， <a href="topology-data-model-overview.html#GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F">节点信息表</a>和<a href="topology-data-model-overview.html#GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3">面部信息表中描述</a> 。
                  </p>
                  <p>Spatial和Graph自动维护每个拓扑的关系信息（&lt;topology-name&gt; _RELATION $）表，该表是在第一次将要素表与拓扑关联时创建的（即，第一次调用<a href="SDO_TOPO-reference.html#GUID-56C1B565-72E4-43BD-B46C-096D3C878B30">SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER时</a>指定拓扑的过程）。关系信息表在<a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191">关系信息表中</a>描述。
                  </p>
                  <p><a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99__CIHIBGIJ">图1-5</a>显示了关系信息表在将要素表中的信息与其关联的节点，边或面表中的信息相关联中的作用。
                  </p>
                  <div class="figure" id="GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99__CIHIBGIJ">
                     <p class="titleinfigure">图1-5功能表和拓扑表之间的映射</p><img src="img/feat_topo_rel.gif" width="488" alt="下面是图1-5的描述" title="下面是图1-5的描述" longdesc="img_text/feat_topo_rel.html"><br><a href="img_text/feat_topo_rel.html">“图1-5特征表和拓扑表之间的映射”的描述</a></div>
                  <!-- class="figure" -->
                  <p><a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99__CIHIBGIJ">如图1-5</a>所示，要素表与拓扑节点，边和面表之间的映射通过&lt;topology-name&gt; _RELATION $表进行。特别是：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>每个要素表都包含一个类型为SDO_TOPO_GEOMETRY的列。此类型包括TG_LAYER_ID属性（创建图层时由Oracle Spatial and Graph分配的唯一ID），以及TG_ID属性（分配给图层中每个要素的唯一ID）。这两列中的值在&lt;topology-name&gt; _RELATION $表的TG_LAYER_ID和TG_ID列中具有相应的值。</p>
                     </li>
                     <li>
                        <p>每个要素在&lt;topology-name&gt; _RELATION $表中都有一行或多行。</p>
                     </li>
                     <li>
                        <p>给定要素的TG_LAYER_ID和TG_ID值，可以通过匹配&lt;topology-name&gt; _RELATION $中的TOPO_ID值（节点，边或面ID）来确定与要素关联的节点，面和边集。具有&lt;topology-name&gt; _NODE $，&lt;topology-name&gt; _EDGE $或&lt;topology-name&gt; _FACE $表中的相应ID值的表。</p>
                     </li>
                  </ul>
                  <p><a id="d4087e1576" class="indexterm-anchor"></a>以下注意事项适用于存储在任何Oracle Spatial和Graph元数据视图中的架构，表和列名称。例如，这些注意事项适用于边，节点，面，关系和历史信息表的名称，以及这些表中的任何列的名称以及存储在拓扑元数据中描述的<a href="topology-data-model-overview.html#GUID-2FB6ED4F-3FBB-40D4-AF34-330890315290" title="There are two sets of topology metadata views for each schema (user): xxx_SDO_TOPO_INFO and xxx_SDO_TOPO_METADATA, where xxx can be USER or ALL. These views are read-only to users; they are created and maintained by Spatial and Graph.">拓扑元</a>数据视图中的这些表的模式。 <a href="topology-data-model-overview.html#GUID-2FB6ED4F-3FBB-40D4-AF34-330890315290" title="每个模式（用户）有两组拓扑元数据视图：xxx_SDO_TOPO_INFO和xxx_SDO_TOPO_METADATA，其中xxx可以是USER或ALL。这些视图对用户是只读的;它们由Spatial和Graph创建和维护。">意见</a> 。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>名称必须仅包含字母，数字和下划线。例如，名称不能包含空格（ <code class="codeph"> </code> ），撇号（ <code class="codeph">'</code> ），引号（ <code class="codeph">"</code> ）或逗号（ <code class="codeph">,</code> ）。
                        </p>
                     </li>
                     <li>
                        <p>在名称存储在元数据视图中或访问表之前，名称中的所有字母都将转换为大写。此转换也适用于使用表名指定的任何模式名称。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627">边缘信息表</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F">节点信息表</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3">面部信息表</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191">关系信息表</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">历史信息表</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL742"></a><a id="TOPOL743"></a><a id="TOPOL744"></a><a id="TOPOL741"></a><div class="props_rev_3"><a id="GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627" name="GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627"></a><h4 id="TOPOL-GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627" class="sect4"><span class="enumeration_section">1.5.1</span>边缘信息表</h4>
                  <div>
                     <p>必须在&lt;topology-name&gt; _EDGE $表中存储拓扑中有关边的信息，其中<span class="italic">&lt;topology-name&gt;</span>是在调用<a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a>过程中指定的拓扑的名称。每个边缘信息表具有<a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__BABBEDCB" title="&lt;topology-name&gt; _EDGE表中的列">表1-1中</a>所示的列。
                     </p>
                     <div class="tblformal" id="GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__BABBEDCB">
                        <p class="titleintable">表1-1 &lt;topology-name&gt; _EDGE $ Table中的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="&lt;topology-name&gt; _EDGE $ Table中的列" width="100%" border="1" summary="Columns in the &lt;topology-name&gt;_EDGE Table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d4087e1710">列名称</th>
                                 <th align="left" valign="bottom" id="d4087e1713">数据类型</th>
                                 <th align="left" valign="bottom" id="d4087e1716">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1721" headers="d4087e1710 ">
                                    <p>EDGE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1721 d4087e1713 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1721 d4087e1716 ">
                                    <p>此边缘的唯一ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1731" headers="d4087e1710 ">
                                    <p>START_NODE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1731 d4087e1713 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1731 d4087e1716 ">
                                    <p>此边的起始节点的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1741" headers="d4087e1710 ">
                                    <p>END_NODE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1741 d4087e1713 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1741 d4087e1716 ">
                                    <p>此边的结束节点的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1751" headers="d4087e1710 ">
                                    <p>NEXT_LEFT_EDGE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1751 d4087e1713 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1751 d4087e1716 ">
                                    <p>此边的下一个左边的ID号（带签名）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1761" headers="d4087e1710 ">
                                    <p>PREV_LEFT_EDGE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1761 d4087e1713 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1761 d4087e1716 ">
                                    <p>此边缘的上一个左边缘的ID号（带符号）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1771" headers="d4087e1710 ">
                                    <p>NEXT_RIGHT_EDGE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1771 d4087e1713 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1771 d4087e1716 ">
                                    <p>此边缘的下一个右边缘的ID号（带签名）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1781" headers="d4087e1710 ">
                                    <p>PREV_RIGHT_EDGE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1781 d4087e1713 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1781 d4087e1716 ">
                                    <p>此边缘的前一个右边缘的ID号（带符号）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1791" headers="d4087e1710 ">
                                    <p>LEFT_FACE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1791 d4087e1713 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1791 d4087e1716 ">
                                    <p>此边缘的左侧面的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1801" headers="d4087e1710 ">
                                    <p>RIGHT_FACE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1801 d4087e1713 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1801 d4087e1716 ">
                                    <p>此边缘的右脸的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e1811" headers="d4087e1710 ">
                                    <p>几何</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1811 d4087e1713 ">
                                    <p>SDO_GEOMETRY</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e1811 d4087e1716 ">
                                    <p>表示此边的几何对象（线串），以正向边的自然顺序列出坐标</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>NEXT_LEFT_EDGE_ID和NEXT_RIGHT_EDGE_ID值分别指左右面的周边的逆时针描绘中的下一个有向边。PREV_LEFT_EDGE_ID和PREV_RIGHT_EDGE_ID值分别指左右面的周边的逆时针描绘中的先前有向边。LEFT_FACE_ID值指的是正向边缘左侧的面，RIGHT_FACE_ID值指的是负指向边缘左侧的面。对于任何数字ID值，符号指示目标边缘的哪个方向被引用。</p>
                     <p><a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__CIHDGGDF">图1-6</a>显示了节点，边和面，它们说明了边信息表中各种ID列之间的关系。（在<a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__CIHDGGDF">图1-6中</a> ，粗线表示边缘，带箭头的细线表示每条边的方向。）
                     </p>
                     <div class="figure" id="GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__CIHDGGDF">
                        <p class="titleinfigure">图1-6节点，边缘和面</p><img src="img/edge_table.gif" width="291" alt="下面描述图1-6" title="下面描述图1-6" longdesc="img_text/edge_table.html"><br><a href="img_text/edge_table.html">“图1-6节点，边缘和面”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__CIHDFHFF" title="边缘表ID列值">表1-2</a>显示了<a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__CIHDGGDF">图1-6中</a>边E4和E8的边信息表中的ID列值。（为清楚起见， <a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__CIHDFHFF" title="边缘表ID列值">表1-2</a>显示了具有字母字符的ID列值，例如E4和N1;但是，ID列实际上仅包含数值，特别是与每个命名对象关联的数字ID值。）
                     </p>
                     <div class="tblformal" id="GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__CIHDFHFF">
                        <p class="titleintable">表1-2边缘表ID列值</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="边缘表ID列值" width="100%" border="1" summary="Edge Table ID Column Values" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="11%" id="d4087e1862">EDGE_ID</th>
                                 <th align="left" valign="bottom" width="12%" id="d4087e1865">START_NODE_ID</th>
                                 <th align="left" valign="bottom" width="11%" id="d4087e1868">END_NODE_ID</th>
                                 <th align="left" valign="bottom" width="11%" id="d4087e1871">NEXT_LEFT_EDGE_ID</th>
                                 <th align="left" valign="bottom" width="11%" id="d4087e1874">PREV_LEFT_EDGE_ID</th>
                                 <th align="left" valign="bottom" width="11%" id="d4087e1877">NEXT_RIGHT_EDGE_ID</th>
                                 <th align="left" valign="bottom" width="12%" id="d4087e1880">PREV_RIGHT_EDGE_ID</th>
                                 <th align="left" valign="bottom" width="10%" id="d4087e1883">LEFT_FACE_ID</th>
                                 <th align="left" valign="bottom" width="11%" id="d4087e1886">RIGHT_FACE_ID</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d4087e1891" headers="d4087e1862 ">
                                    <p>E4</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d4087e1891 d4087e1865 ">
                                    <p>N1</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1891 d4087e1868 ">
                                    <p>N2</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1891 d4087e1871 ">
                                    <p>-E5</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1891 d4087e1874 ">
                                    <p>E3</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1891 d4087e1877 ">
                                    <p>E2</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d4087e1891 d4087e1880 ">
                                    <p>-E 6</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d4087e1891 d4087e1883 ">
                                    <p>F1</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1891 d4087e1886 ">
                                    <p>F2</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="11%" id="d4087e1919" headers="d4087e1862 ">
                                    <p>E8</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d4087e1919 d4087e1865 ">
                                    <p>N4</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1919 d4087e1868 ">
                                    <p>N3</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1919 d4087e1871 ">
                                    <p>-E8</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1919 d4087e1874 ">
                                    <p>-E8</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1919 d4087e1877 ">
                                    <p>E8</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d4087e1919 d4087e1880 ">
                                    <p>E8</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d4087e1919 d4087e1883 ">
                                    <p>F2</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d4087e1919 d4087e1886 ">
                                    <p>F2</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>在<a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__CIHDGGDF">图1-6</a>和<a href="topology-data-model-overview.html#GUID-8B9601CA-F743-48EA-B3C3-442D22A0C627__CIHDFHFF" title="边缘表ID列值">表1-2中</a> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>边E4的起始节点和结束节点分别是N1和N2。边E4的下一个左边是E5，但是它的方向与边E4相反，因此E4的下一个左边存储为-E5（负E5）。</p>
                        </li>
                        <li>
                           <p>边缘E4的前一个左边缘是E3，并且因为它与边缘E4具有相同的方向，所以E4的前一个左边缘存储为E3。</p>
                        </li>
                        <li>
                           <p>使用E4的负有向边确定下一个右脸。这可以被视为反转边缘方向并获取下一个左边缘和前一个左边缘。在这种情况下，下一个右边缘是E2，前一个右边缘是-E6（边缘E6的方向与边缘E4的负方向相反）。对于边E4，左面为F1，右面为F2。</p>
                        </li>
                        <li>
                           <p>边缘E1和E7相对于边缘E4既不是最左边缘也不是最右边缘，因此它们不出现在与边缘E4相关联的边缘表行中。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" title="要使用空间和图形拓扑功能，必须首先将数据插入特殊的边，节点和面图表，这些表由创建拓扑时由空间和图形创建。">拓扑数据模型表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL746"></a><a id="TOPOL745"></a><div class="props_rev_3"><a id="GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F" name="GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F"></a><h4 id="TOPOL-GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F" class="sect4"><span class="enumeration_section">1.5.2</span>节点信息表</h4>
                  <div>
                     <p>您必须在&lt;topology-name&gt; _NODE $表中存储拓扑中的节点信息，其中<span class="italic">&lt;topology-name&gt;</span>是在调用<a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a>过程中指定的拓扑名称。每个节点信息表具有<a href="topology-data-model-overview.html#GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F__BABCDIBA" title="&lt;topology-name&gt; _NODE $ Table中的列">表1-3中</a>所示的列。
                     </p>
                     <div class="tblformal" id="GUID-E08A62FC-ABF2-4672-94A0-EC28C9C13D4F__BABCDIBA">
                        <p class="titleintable">表1-3 &lt;topology-name&gt; _NODE $ Table中的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="&lt;topology-name&gt; _NODE $ Table中的列" width="100%" border="1" summary="Columns in the &lt;topology-name&gt;_NODE$ Table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d4087e2036">列名称</th>
                                 <th align="left" valign="bottom" id="d4087e2039">数据类型</th>
                                 <th align="left" valign="bottom" id="d4087e2042">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2047" headers="d4087e2036 ">
                                    <p>NODE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2047 d4087e2039 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2047 d4087e2042 ">
                                    <p>此节点的唯一ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2057" headers="d4087e2036 ">
                                    <p>EDGE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2057 d4087e2039 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2057 d4087e2042 ">
                                    <p>与此节点关联的边（如果有）的ID号（带符号）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2067" headers="d4087e2036 ">
                                    <p>FACE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2067 d4087e2039 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2067 d4087e2042 ">
                                    <p>与此节点关联的面（如果有）的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2077" headers="d4087e2036 ">
                                    <p>几何</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2077 d4087e2039 ">
                                    <p>SDO_GEOMETRY</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2077 d4087e2042 ">
                                    <p>表示此节点的几何对象（点）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>对于每个节点，EDGE_ID或FACE_ID值（但不是两者）必须为null：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果EDGE_ID值为null，则节点是隔离节点（即，在面中隔离）。</p>
                        </li>
                        <li>
                           <p>如果FACE_ID值为null，则该节点不是孤立节点，而是边缘的起始节点或结束节点。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" title="要使用空间和图形拓扑功能，必须首先将数据插入特殊的边，节点和面图表，这些表由创建拓扑时由空间和图形创建。">拓扑数据模型表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL748"></a><a id="TOPOL747"></a><div class="props_rev_3"><a id="GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3" name="GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3"></a><h4 id="TOPOL-GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3" class="sect4"><span class="enumeration_section">1.5.3</span>面部信息表</h4>
                  <div>
                     <p>您必须在&lt;topology-name&gt; _FACE $表中的拓扑中存储有关面的信息，其中<span class="italic">&lt;topology-name&gt;</span>是在调用<a href="SDO_TOPO-reference.html#GUID-FCF18F45-89D5-4394-9339-323DBA235147">SDO_TOPO.CREATE_TOPOLOGY</a>过程中指定的拓扑的名称。每个面部信息表具有<a href="topology-data-model-overview.html#GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3__BABFDFIA" title="&lt;topology-name&gt; _FACE $ Table中的列">表1-4中</a>所示的列。
                     </p>
                     <div class="tblformal" id="GUID-FDD3C33D-B85C-4270-8F6E-BDF3F74512E3__BABFDFIA">
                        <p class="titleintable">表1-4 &lt;topology-name&gt; _FACE $ Table中的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="&lt;topology-name&gt; _FACE $ Table中的列" width="100%" border="1" summary="Columns in the &lt;topology-name&gt;_FACE$ Table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d4087e2162">列名称</th>
                                 <th align="left" valign="bottom" id="d4087e2165">数据类型</th>
                                 <th align="left" valign="bottom" id="d4087e2168">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2173" headers="d4087e2162 ">
                                    <p>FACE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2173 d4087e2165 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2173 d4087e2168 ">
                                    <p>此脸部的唯一ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2183" headers="d4087e2162 ">
                                    <p>BOUNDARY_EDGE_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2183 d4087e2165 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2183 d4087e2168 ">
                                    <p>此面的边界边的ID号。此数字的符号（被忽略用作键）表示该边界组件使用哪个方向（正数表示边缘的左侧，负数表示边缘的右侧）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2193" headers="d4087e2162 ">
                                    <p>ISLAND_EDGE_ID_LIST</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2193 d4087e2165 ">
                                    <p>SDO_LIST_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2193 d4087e2168 ">
                                    <p>这张脸上的岛边（如果有的话）。（SDO_LIST_TYPE类型中描述了<a href="topology-data-model-overview.html#GUID-2D2023B2-5324-4B88-AB72-A2C241BF7E37">SDO_LIST_TYPE类型</a> 。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2207" headers="d4087e2162 ">
                                    <p>ISLAND_NODE_ID_LIST</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2207 d4087e2165 ">
                                    <p>SDO_LIST_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2207 d4087e2168 ">
                                    <p>这个面上的岛节点（如果有的话）。（SDO_LIST_TYPE类型中描述了<a href="topology-data-model-overview.html#GUID-2D2023B2-5324-4B88-AB72-A2C241BF7E37">SDO_LIST_TYPE类型</a> 。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2221" headers="d4087e2162 ">
                                    <p>MBR_GEOMETRY</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2221 d4087e2165 ">
                                    <p>SDO_GEOMETRY</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2221 d4087e2168 ">
                                    <p>包含此面的最小边界矩形（MBR）。（这是必需的，除了宇宙面。）MBR必须存储为优化矩形（矩形，其中仅指定左下角和右上角）。<a href="SDO_TOPO-reference.html#GUID-AFBA8147-9A4F-4B0F-9617-7D435A5D37A1">SDO_TOPO.INITIALIZE_METADATA</a>过程在此列上创建空间索引。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" title="要使用空间和图形拓扑功能，必须首先将数据插入特殊的边，节点和面图表，这些表由创建拓扑时由空间和图形创建。">拓扑数据模型表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL750"></a><a id="TOPOL749"></a><div class="props_rev_3"><a id="GUID-46B81706-7812-4E79-972A-7024D0A28191" name="GUID-46B81706-7812-4E79-972A-7024D0A28191"></a><h4 id="TOPOL-GUID-46B81706-7812-4E79-972A-7024D0A28191" class="sect4"><span class="enumeration_section">1.5.4</span>关系信息表</h4>
                  <div>
                     <p>在使用拓扑元素时，Spatial和Graph会自动维护&lt;topology-name&gt; _RELATION $ tables中每个对象的信息，其中<span class="italic">&lt;topology-name&gt;</span>是<span class="italic">拓扑的名称</span> ，每个拓扑都有一个这样的表。表中的每一行都相对于其拓扑几何图层和拓扑唯一地标识拓扑几何。每个关系信息表具有<a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191__CIHHEAAE" title="&lt;topology-name&gt; _RELATION $ Table中的列">表1-5中</a>所示的列。
                     </p>
                     <div class="tblformal" id="GUID-46B81706-7812-4E79-972A-7024D0A28191__CIHHEAAE">
                        <p class="titleintable">表1-5 &lt;topology-name&gt; _RELATION $ Table中的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="&lt;topology-name&gt; _RELATION $ Table中的列" width="100%" border="1" summary="Columns in the &lt;topology-name&gt;_RELATION$ Table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d4087e2293">列名称</th>
                                 <th align="left" valign="bottom" id="d4087e2296">数据类型</th>
                                 <th align="left" valign="bottom" id="d4087e2299">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2304" headers="d4087e2293 ">
                                    <p>TG_LAYER_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2304 d4087e2296 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2304 d4087e2299 ">
                                    <p>拓扑几何所属的拓扑几何图层的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2314" headers="d4087e2293 ">
                                    <p>TG_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2314 d4087e2296 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2314 d4087e2299 ">
                                    <p>拓扑几何的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2324" headers="d4087e2293 ">
                                    <p>TOPO_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2324 d4087e2296 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2324 d4087e2299 ">
                                    <p>对于没有拓扑几何图层层次结构的拓扑：拓扑几何中拓扑元素的ID编号</p>
                                    <p>对于具有拓扑几何图层层次结构的拓扑：保留供Oracle使用</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2336" headers="d4087e2293 ">
                                    <p>TOPO_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2336 d4087e2296 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2336 d4087e2299 ">
                                    <p>对于没有拓扑几何图层层次结构的拓扑：1 =节点，2 =边缘，3 =面</p>
                                    <p>对于具有拓扑几何图层层次结构的拓扑：保留供Oracle使用</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2348" headers="d4087e2293 ">
                                    <p>TOPO_ATTRIBUTE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2348 d4087e2296 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2348 d4087e2299 ">
                                    <p>保留供Oracle使用</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" title="要使用空间和图形拓扑功能，必须首先将数据插入特殊的边，节点和面图表，这些表由创建拓扑时由空间和图形创建。">拓扑数据模型表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL752"></a><a id="TOPOL751"></a><div class="props_rev_3"><a id="GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF" name="GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF"></a><h4 id="TOPOL-GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF" class="sect4"><span class="enumeration_section">1.5.5</span>历史信息表</h4>
                  <div>
                     <p>拓扑的历史信息表包含有关未记录在其他信息表中的编辑操作的信息。因此，历史信息表不是拓扑修改的综合记录。相反，仅当一个或多个要素表与拓扑关联并满足以下任何条件时，它才包含用于节点，边或面编辑操作的行：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>作为操作的结果，现有的面或边缘被分开。</p>
                        </li>
                        <li>
                           <p>作为操作的结果，通过合并两个面或两个边来创建单个面或边。</p>
                        </li>
                     </ul>
                     <p>Spatial和Graph在&lt;topology-name&gt; _HISTORY $ tables中自动维护有关这些操作的信息，其中<span class="italic">&lt;topology-name&gt;</span>是<span class="italic">拓扑的名称</span> ，每个拓扑都有一个这样的表。尽管编辑操作（例如使用<a href="SDO_TOPO_MAP-reference.html#GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY</a>函数）可以添加多行，但表中的每一行都唯一地标识拓扑元素上的编辑操作。（ <a href="editing-topologies.html#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" title="Node and edge data in a topology can be edited. The operations include adding, moving, and removing nodes and edges, and updating the coordinates of an edge.">编辑拓扑中</a>讨论了<a href="editing-topologies.html#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" title="可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。">拓扑编辑</a> 。）每个历史信息表都具有<a href="topology-data-model-overview.html#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF__CIHEEGEF" title="&lt;topology-name&gt; _HISTORY $ Table中的列">表1-6中</a>所示的列。
                     </p>
                     <div class="tblformal" id="GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF__CIHEEGEF">
                        <p class="titleintable">表1-6 &lt;topology-name&gt; _HISTORY $ Table中的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="&lt;topology-name&gt; _HISTORY $ Table中的列" width="100%" border="1" summary="Columns in the &lt;topology-name&gt;_HISTORY$ Table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d4087e2437">列名称</th>
                                 <th align="left" valign="bottom" id="d4087e2440">数据类型</th>
                                 <th align="left" valign="bottom" id="d4087e2443">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2448" headers="d4087e2437 ">
                                    <p>TOPO_TX_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2448 d4087e2440 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2448 d4087e2443 ">
                                    <p>通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>函数或过程或loadWindow或loadTopology Java方法启动的事务的ID号。每个事务可以包含多个编辑操作。您可以通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-563778C3-3948-45A5-9A2D-53E4E75DFD3C">SDO_TOPO_MAP.GET_TOPO_TRANSACTION_ID</a>函数来获取当前可更新TopoMap对象的事务ID号。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2466" headers="d4087e2437 ">
                                    <p>TOPO_SEQUENCE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2466 d4087e2440 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2466 d4087e2443 ">
                                    <p>分配给事务中的编辑操作的序列号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2476" headers="d4087e2437 ">
                                    <p>拓扑</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2476 d4087e2440 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2476 d4087e2443 ">
                                    <p>包含正在编辑的对象的拓扑的ID</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2486" headers="d4087e2437 ">
                                    <p>TOPO_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2486 d4087e2440 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2486 d4087e2443 ">
                                    <p>拓扑几何中拓扑元素的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2496" headers="d4087e2437 ">
                                    <p>TOPO_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2496 d4087e2440 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2496 d4087e2443 ">
                                    <p>拓扑元素的类型：1 =节点，2 =边缘，3 =面</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2506" headers="d4087e2437 ">
                                    <p>TOPO_OP</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2506 d4087e2440 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2506 d4087e2443 ">
                                    <p>在拓扑元素上执行的编辑操作的类型： <code class="codeph">I</code>表示插入， <code class="codeph">D</code>表示删除</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2522" headers="d4087e2437 ">
                                    <p>PARENT_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2522 d4087e2440 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2522 d4087e2443 ">
                                    <p>对于插入操作，从中导出当前拓扑元素的父拓扑元素的ID;对于删除操作，生成的拓扑元素的ID</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>请考虑以下示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>添加节点到中断边E2，生成边E3：新边的TOPO_ID值是E3的ID，TOPO_TYPE值是2，PARENT_ID值是E2的ID，TOPO_OP值是<code class="codeph">I</code></p>
                        </li>
                        <li>
                           <p>删除节点以合并边E6和E7，得到E7：TOPO_ID值是E6的ID，TOPO_TYPE值是2，PARENT_ID值是E7的ID，TOPO_OP值是<code class="codeph">D</code></p>
                        </li>
                     </ul>
                     <p>为了进一步说明编辑操作对历史信息表的影响，创建了一个测试过程以在简单拓扑上执行各种编辑操作，并检查对拓扑的历史信息表的影响。该程序执行了以下主要步骤：</p>
                     <ol>
                        <li>
                           <p>它使用Universe面创建并初始化了非大地测量拓扑，并在拓扑中添加了线要素图层和区域要素图层。</p>
                        </li>
                        <li>
                           <p>它通过添加四个隔离节点和连接隔离节点的四条边创建了一个矩形区域。这会导致创建一个面（由矩形组成），并且它会将一行添加到历史信息表中：新面的插入操作，其父级是Universe面。</p>
                           <p>以下语句显示此插入添加的历史信息表行：</p><pre class="oac_no_warn" dir="ltr">SELECT topo_id，topo_type，topo_op，parent_id FROM hist_test_history $ ORDER BY topo_tx_id，topo_sequence，topology; TOPO_ID TOPO_TYPE TOP PARENT_ID ---------- ---------- --- ---------- 1 3 I -1选择1行。
</pre></li>
                        <li>
                           <p>它通过添加两个节点和连接这些节点的垂直边缘将矩形面分成两个较小的矩形面（并排），这导致两个边（顶边和底边）和面被分割。在历史信息表中添加了三行：两个新边中的每一个的插入操作（每个新边的父节点是已拆分的现有边），以及新面的插入操作（其父节点是被拆分的原始矩形面）。</p>
                           <p>以下语句显示到目前为止添加的历史信息表行。此步骤添加的行以粗体显示：</p><pre class="oac_no_warn" dir="ltr">SELECT topo_id，topo_type，topo_op，parent_id FROM hist_test_history $ ORDER BY topo_tx_id，topo_sequence，topology; TOPO_ID TOPO_TYPE TOP PARENT_ID ---------- ---------- --- ---------- 1 3 I -1 <span class="bold">6 2 I 2</span> <span class="bold">7 2 I 4</span> <span class="bold">选择2 3 I 1</span> 4行。
</pre></li>
                        <li>
                           <p>它在左侧的小矩形面上添加了对角线边缘（使用现有节点），并删除了在步骤3中添加的垂直边缘。在历史信息表中添加了两行：作为边添加的结果创建的新面的插入操作（每个新面的父级是左侧的小矩形面被拆分），以及删除操作作为边缘移除的结果（结果面从其中一个合并的“父”面获取其拓扑对象ID）。</p>
                           <p>以下语句显示到目前为止添加的历史信息表行。此步骤添加的行以粗体显示：</p><pre class="oac_no_warn" dir="ltr">SELECT topo_id，topo_type，topo_op，parent_id FROM hist_test_history $ ORDER BY topo_tx_id，topo_sequence，topology; TOPO_ID TOPO_TYPE TOP PARENT_ID ---------- ---------- --- ---------- 1 3 I -1 6 2 I 2 7 2 I 4选择2 3 I 1 <span class="bold">3 3 I 2</span> <span class="bold">1 3 D 2</span> 6行。</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-86DFC29E-32D2-4F6C-9A17-6493B5946A99" title="要使用空间和图形拓扑功能，必须首先将数据插入特殊的边，节点和面图表，这些表由创建拓扑时由空间和图形创建。">拓扑数据模型表</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL120"></a><div class="props_rev_3"><a id="GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD" name="GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD"></a><h3 id="TOPOL-GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD" class="sect3"><span class="enumeration_section">1.6</span>拓扑数据类型</h3>
               <div>
                  <p>与拓扑数据模型关联的主要数据类型是SDO_TOPO_GEOMETRY，它描述了拓扑几何。</p>
                  <p>SDO_TOPO_GEOMETRY类型具有多个构造函数和成员函数。本节介绍拓扑模型类型，构造函数和成员函数。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37">SDO_TOPO_GEOMETRY类型</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B">SDO_TOPO_GEOMETRY构造函数</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-9D252A72-1D12-474E-BE1D-306C7EAF3DBA">GET_GEOMETRY成员函数</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-8A14A819-FA60-4DD3-AFCF-2C445A9A0F3A">GET_TGL_OBJECTS成员函数</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-2A6C4F56-B69D-417F-8E3E-CB9B94A0B3ED">GET_TOPO_ELEMENTS会员功能</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-2D2023B2-5324-4B88-AB72-A2C241BF7E37">SDO_LIST_TYPE类型</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-CC31A2D6-2225-492F-B930-B8C438E28E3B">SDO_EDGE_ARRAY和SDO_NUMBER_ARRAY类型</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL754"></a><a id="TOPOL755"></a><a id="TOPOL753"></a><div class="props_rev_3"><a id="GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37" name="GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37"></a><h4 id="TOPOL-GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37" class="sect4"><span class="enumeration_section">1.6.1</span> SDO_TOPO_GEOMETRY类型</h4>
                  <div>
                     <p>拓扑几何的描述存储在单个行中，在用户定义的表中的对象类型SDO_TOPO_GEOMETRY的单个列中。对象类型SDO_TOPO_GEOMETRY定义为：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_topo_geometry AS OBJECT（tg_type NUMBER，tg_id NUMBER，tg_layer_id NUMBER，topology_id NUMBER）;</pre><p>SDO_TOPO_GEOMETRY类型具有<a href="topology-data-model-overview.html#GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37__BABEFGAJ" title="SDO_TOPO_GEOMETRY类型属性">表1-7中</a>所示的属性。
                     </p>
                     <div class="tblformal" id="GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37__BABEFGAJ">
                        <p class="titleintable">表1-7 SDO_TOPO_GEOMETRY类型属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_TOPO_GEOMETRY类型属性" width="100%" border="1" summary="SDO_TOPO_GEOMETRY Type Attributes" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d4087e2732">属性</th>
                                 <th align="left" valign="bottom" id="d4087e2735">说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2740" headers="d4087e2732 ">
                                    <p><a id="d4087e2742" class="indexterm-anchor"></a> TG_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2740 d4087e2735 ">
                                    <p>拓扑几何类型：1 =点或多点，2 =线串或多线串，3 =多边形或多边形，4 =异构集合</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2749" headers="d4087e2732 ">
                                    <p><a id="d4087e2751" class="indexterm-anchor"></a> TG_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2749 d4087e2735 ">
                                    <p>拓扑几何的唯一ID号（由空间和图形生成）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2758" headers="d4087e2732 ">
                                    <p><a id="d4087e2760" class="indexterm-anchor"></a> TG_LAYER_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2758 d4087e2735 ">
                                    <p>拓扑几何所属的拓扑几何图层的ID号。（此数字由空间和图形生成，并且在拓扑几何图层中是唯一的。）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e2767" headers="d4087e2732 ">
                                    <p><a id="d4087e2769" class="indexterm-anchor"></a> TOPOLOGY_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e2767 d4087e2735 ">
                                    <p>拓扑的唯一ID号（由空间和图形生成）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>拓扑中的每个拓扑几何都由其TG_ID和TG_LAYER_ID值的组合唯一标识。</p>
                     <p>您可以在查询SDO_TOPO_GEOMETRY的对象上使用属性名称。 <a href="topology-data-model-overview.html#GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37__CIHBHFBB">示例1-3</a>显示了查询CITY_STREETS表的FEATURE列的每个属性的SELECT语句，该表在<a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3" title="本主题介绍了执行拓扑数据模型操作的简化PL / SQL示例。">拓扑示例（PL / SQL）的</a> <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285__CIHDDJBA">示例1-12</a>中定义。
                     </p>
                     <div class="example" id="GUID-5016A2AB-D1A7-45C6-ADB5-A2D5EB9E4C37__CIHBHFBB">
                        <p class="titleinexample">示例1-3查询中的SDO_TOPO_GEOMETRY属性</p><pre class="oac_no_warn" dir="ltr">SELECT s.feature.tg_type FROM city_streets s; SELECT s.feature.tg_id FROM city_streets s; SELECT s.feature.tg_layer_id FROM city_streets s; SELECT s.feature.topology_id FROM city_streets s;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD" title="与拓扑数据模型关联的主要数据类型是SDO_TOPO_GEOMETRY，它描述了拓扑几何。">拓扑数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL756"></a><div class="props_rev_3"><a id="GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B" name="GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B"></a><h4 id="TOPOL-GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B" class="sect4"><span class="enumeration_section">1.6.2</span> SDO_TOPO_GEOMETRY构造函数</h4>
                  <div>
                     <p>SDO_TOPO_GEOMETRY类型具有用于插入和更新拓扑几何对象的构造函数。构造函数可以分为两种类型，具体取决于它们使用的对象类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>指定最低级别拓扑元素（节点，边和面）的构造函数。这些构造函数至少有一个类型为SDO_TOPO_OBJECT_ARRAY的属性，并且没有类型为SDO_TGL_OBJECT_ARRAY的属性。</p>
                        </li>
                        <li>
                           <p>指定子级别中元素的构造函数。这些构造函数至少有一个类型为SDO_TGL_OBJECT_ARRAY的属性，并且没有类型为SDO_TOPO_OBJECT_ARRAY的属性。</p>
                        </li>
                     </ul>
                     <p>要在拓扑没有拓扑几何图层层次结构时或者当操作影响层次结构中的最低级别（级别0）时插入和更新拓扑几何对象，必须使用指定最低级别拓扑元素的构造函数（节点，边缘）和面孔）。（拓扑几何图层层次结构在<a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F" title="在某些拓扑中，拓扑几何图层（要素图层）在拓扑层次结构中具有一个或多个父子关系。也就是说，最顶层的层由层次结构中下一层的子层中的特征组成;子图层可能包含其子层中下一层更远的特征;等等。">拓扑几何图层层次</a>结构中进行了解释。）
                     </p>
                     <p>要在拓扑具有拓扑几何图层层次结构并且操作影响层次结构中最低级别以外的级别时插入和更新拓扑几何对象，可以使用其中一种或两种类型的构造函数。也就是说，对于要插入或更新的每个拓扑几何对象，您可以使用以下任一方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要插入和更新由最低级别拓扑元素组成的拓扑几何对象（例如，从面创建管道），请使用至少具有一个类型为SDO_TOPO_OBJECT_ARRAY的属性且不具有类型为SDO_TGL_OBJECT_ARRAY的属性的格式。</p>
                        </li>
                        <li>
                           <p>要插入和更新由下一个较低级别的要素组成的拓扑几何对象（例如，从块组创建一个扇区），请使用至少具有一个类型为SDO_TGL_OBJECT_ARRAY的属性且不具有类型为SDO_TOPO_OBJECT_ARRAY的属性的格式。</p>
                        </li>
                     </ul>
                     <p>本节介绍可用的SDO_TOPO_GEOMETRY构造函数。</p>
                     <div class="infoboxnote" id="GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B__GUID-2A4749BE-8A99-4B07-AD1E-C1F75CC573A1">
                        <p class="notep1">注意：</p>
                        <p>与类型定义（ <code class="codeph">tg_type, tg_id, tg_layer_id, topology_id</code> ）具有相同属性的附加SDO_TOPO_GEOMETRY构造函数仅供Oracle内部使用。
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514">插入操作的构造函数：指定拓扑元素</a><br></li>
                        <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-F07BB6E5-1845-4899-9B3F-03863E7FD303">插入操作的构造函数：指定较低级别的功能</a><br></li>
                        <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-887B3430-55AC-45C8-BB6F-6E971658BF64">更新操作的构造函数：指定拓扑元素</a><br></li>
                        <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-49D42128-ACF8-4E71-9B7E-066E9C45AC95">更新操作的构造函数：指定较低级别的功能</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD" title="与拓扑数据模型关联的主要数据类型是SDO_TOPO_GEOMETRY，它描述了拓扑几何。">拓扑数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TOPOL758"></a><a id="TOPOL757"></a><div class="props_rev_3"><a id="GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514" name="GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514"></a><h5 id="TOPOL-GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514" class="sect5"><span class="enumeration_section">1.6.2.1</span>插入操作的构造函数：指定拓扑元素</h5>
                     <div>
                        <p>SDO_TOPO_GEOMETRY类型具有以下用于插入操作的构造函数，您可以在其中指定拓扑元素（面，节点或边）。当拓扑没有拓扑几何图层层次结构或操作影响层次结构中的最低级别（级别0）时，必须使用这些格式之一来创建新的拓扑几何对象，并且可以使用这些格式之一来创建当操作影响层次结构中高于级别0的级别时，新拓扑几何对象：</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO_GEOMETRY（拓扑VARCHAR2，tg_type NUMBER，tg_layer_id NUMBER，topo_ids SDO_TOPO_OBJECT_ARRAY）SDO_TOPO_GEOMETRY（拓扑VARCHAR2，table_name VARCHAR2，column_name VARCHAR2，tg_type NUMBER，topo_ids SDO_TOPO_OBJECT_ARRAY）</pre><p><a id="d4087e2935" class="indexterm-anchor"></a><a id="d4087e2937" class="indexterm-anchor"></a> SDO_TOPO_OBJECT_ARRAY类型定义为SDO_TOPO_OBJECT对象的VARRAY。
                        </p>
                        <p>SDO_TOPO_OBJECT类型具有以下两个属性：</p><pre class="oac_no_warn" dir="ltr">（topo_id NUMBER，topo_type NUMBER）</pre><p>TG_TYPE和TOPO_IDS属性值必须在指定拓扑的&lt;topology-name&gt; _RELATION $表（在<a href="topology-data-model-overview.html#GUID-46B81706-7812-4E79-972A-7024D0A28191">关系信息表中</a>描述）的值范围内。
                        </p>
                        <p><a href="topology-data-model-overview.html#GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514__CIHDAFBG">例1-4</a>显示了两个SDO_TOPO_GEOMETRY构造函数，每种格式一个。每个构造函数都将拓扑几何插入到LAND_PARCELS表中，该表在<a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3" title="本主题介绍了执行拓扑数据模型操作的简化PL / SQL示例。">拓扑示例（PL / SQL）的</a> <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285__CIHDDJBA">示例1-12</a>中定义。
                        </p>
                        <div class="example" id="GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514__CIHDAFBG">
                           <p class="titleinexample">示例1-4使用带有SDO_TOPO_OBJECT_ARRAY的构造函数INSERT</p><pre class="oac_no_warn" dir="ltr">INSERT INTO land_parcels VALUES（'P1'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称3， - 拓扑几何类型（多边形/多边形）1， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT （3,3）， -  face_id = 3 SDO_TOPO_OBJECT（6,3））） -  face_id = 6）; INSERT INTO land_parcels VALUES（'P1A'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称'LAND_PARCELS'， - 表名'FEATURE'， - 列名3， - 拓扑几何类型（多边形/多边形） ）SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（3,3）， -  face_id = 3 SDO_TOPO_OBJECT（6,3））） -  face_id = 6）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B">SDO_TOPO_GEOMETRY构造函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TOPOL760"></a><a id="TOPOL759"></a><div class="props_rev_3"><a id="GUID-F07BB6E5-1845-4899-9B3F-03863E7FD303" name="GUID-F07BB6E5-1845-4899-9B3F-03863E7FD303"></a><h5 id="TOPOL-GUID-F07BB6E5-1845-4899-9B3F-03863E7FD303" class="sect5"><span class="enumeration_section">1.6.2.2</span>插入操作的构造函数：指定较低级别的功能</h5>
                     <div>
                        <p>SDO_TOPO_GEOMETRY类型具有以下用于插入操作的构造函数，您可以在其中指定层次结构的下一个较低级别中的要素。当操作影响层次结构中高于级别0的级别时，可以使用以下格式之一创建新的拓扑几何对象：</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO_GEOMETRY（拓扑VARCHAR2，tg_type NUMBER，tg_layer_id NUMBER，topo_ids SDO_TGL_OBJECT_ARRAY）SDO_TOPO_GEOMETRY（拓扑VARCHAR2，table_name VARCHAR2，column_name VARCHAR2，tg_type NUMBER，topo_ids SDO_TGL_OBJECT_ARRAY）</pre><p><a id="d4087e3005" class="indexterm-anchor"></a><a id="d4087e3007" class="indexterm-anchor"></a> SDO_TGL_OBJECT_ARRAY类型定义为SDO_TGL_OBJECT对象的VARRAY。
                        </p>
                        <p>SDO_TGL_OBJECT类型具有以下两个属性：</p><pre class="oac_no_warn" dir="ltr">（tgl_id NUMBER，tg_id NUMBER）</pre><p><a href="topology-data-model-overview.html#GUID-F07BB6E5-1845-4899-9B3F-03863E7FD303__CIHCABII">示例1-5</a>显示了一个SDO_TOPO_GEOMETRY构造函数，该构造函数将一行插入BLOCK_GROUPS表，该表是拓扑几何图层层次结构中“块组”级别的要素表。“块组”级别是层次结构底部的“地块”级别的父级。
                        </p>
                        <div class="example" id="GUID-F07BB6E5-1845-4899-9B3F-03863E7FD303__CIHCABII">
                           <p class="titleinexample">示例1-5使用带有SDO_TGL_OBJECT_ARRAY的构造函数INSERT</p><pre class="oac_no_warn" dir="ltr">INSERT INTO block_groups VALUES（'BG1'， - 功能名称SDO_TOPO_GEOMETRY（'LAND_USE_HIER'，3， - 拓扑几何类型（多边形/多边形）2， - 块组的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TGL_OBJECT_ARRAY（SDO_TGL_OBJECT（1,1） ）， - 地块ID = 1 SDO_TGL_OBJECT（1,2））） - 地块ID = 2）;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B">SDO_TOPO_GEOMETRY构造函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TOPOL762"></a><a id="TOPOL761"></a><div class="props_rev_3"><a id="GUID-887B3430-55AC-45C8-BB6F-6E971658BF64" name="GUID-887B3430-55AC-45C8-BB6F-6E971658BF64"></a><h5 id="TOPOL-GUID-887B3430-55AC-45C8-BB6F-6E971658BF64" class="sect5"><span class="enumeration_section">1.6.2.3</span>更新操作的构造函数：指定拓扑元素</h5>
                     <div>
                        <p>SDO_TOPO_GEOMETRY类型具有以下用于更新操作的构造函数，您可以在其中指定拓扑元素（面，节点或边）。当拓扑没有拓扑几何图层层次结构或操作影响层次结构中的最低级别（级别0）时，必须使用这些格式之一来更新拓扑几何对象，并且可以使用这些格式之一来更新拓扑当操作影响层次结构中高于级别0的级别时，几何对象：</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO_GEOMETRY（拓扑VARCHAR2，tg_type NUMBER，tg_layer_id NUMBER，add_topo_ids SDO_TOPO_OBJECT_ARRAY，delete_topo_ids SDO_TOPO_OBJECT_ARRAY）SDO_TOPO_GEOMETRY（拓扑VARCHAR2，TABLE_NAME VARCHAR2，列名VARCHAR2，tg_type NUMBER，add_topo_ids SDO_TOPO_OBJECT_ARRAY，delete_topo_ids SDO_TOPO_OBJECT_ARRAY）</pre><p>例如，您可以使用这些构造函数格式之一将边添加到线性要素或从要素中删除过时的边。</p>
                        <p>SDO_TOPO_OBJECT_ARRAY类型定义以及TG_TYPE和TOPO_IDS属性值的要求如<a href="topology-data-model-overview.html#GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514">“插入操作的构造函数：指定拓扑元素”中所述</a> 。
                        </p>
                        <p>您可以为ADD_TOPO_IDS和DELETE_TOPO_IDS属性指定值，也可以指定一个属性的值并将另一个属性指定为null;但是，您不能为ADD_TOPO_IDS和DELETE_TOPO_IDS指定空值。</p>
                        <p><a href="topology-data-model-overview.html#GUID-887B3430-55AC-45C8-BB6F-6E971658BF64__CIHCBJED">例1-6</a>显示了两个SDO_TOPO_GEOMETRY构造函数，每种格式一个。每个构造函数从LAND_PARCELS表中的<code class="codeph">CITY_DATA</code>拓扑中删除两个面，该表在<a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3" title="本主题介绍了执行拓扑数据模型操作的简化PL / SQL示例。">拓扑示例（PL / SQL）的</a> <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285__CIHDDJBA">示例1-12</a>中定义。
                        </p>
                        <div class="example" id="GUID-887B3430-55AC-45C8-BB6F-6E971658BF64__CIHCBJED">
                           <p class="titleinexample">示例1-6使用带有SDO_TOPO_OBJECT_ARRAY的构造函数更新</p><pre class="oac_no_warn" dir="ltr">UPDATE land_parcels l SET l.feature = SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称3， - 拓扑几何类型（多边形/多边形）1， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）NULL， - 没有拓扑元素到添加SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（3,3）， -  face_id = 3 SDO_TOPO_OBJECT（6,3））） -  face_id = 6 WHERE l.feature_name ='P1'; UPDATE land_parcels l SET l.feature = SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称'LAND_PARCELS'， - 表名'FEATURE'， - 列名3， - 拓扑几何类型（多边形/多边形）NULL， - 没有要添加的拓扑元素SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（3,3）， -  face_id = 3 SDO_TOPO_OBJECT（6,3））） -  face_id = 6 WHERE l.feature_name ='P1A';</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B">SDO_TOPO_GEOMETRY构造函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TOPOL764"></a><a id="TOPOL763"></a><div class="props_rev_3"><a id="GUID-49D42128-ACF8-4E71-9B7E-066E9C45AC95" name="GUID-49D42128-ACF8-4E71-9B7E-066E9C45AC95"></a><h5 id="TOPOL-GUID-49D42128-ACF8-4E71-9B7E-066E9C45AC95" class="sect5"><span class="enumeration_section">1.6.2.4</span>更新操作的构造函数：指定较低级别的功能</h5>
                     <div>
                        <p>SDO_TOPO_GEOMETRY类型具有以下用于更新操作的构造函数，您可以在其中指定层次结构的下一个较低级别中的功能。当操作影响层次结构中高于级别0的级别时，可以使用这些格式之一更新拓扑几何对象：</p><pre class="oac_no_warn" dir="ltr">SDO_TOPO_GEOMETRY（拓扑VARCHAR2，tg_type NUMBER，tg_layer_id NUMBER，add_topo_ids SDO_TGL_OBJECT_ARRAY，delete_topo_ids SDO_TGL_OBJECT_ARRAY）SDO_TOPO_GEOMETRY（拓扑VARCHAR2，table_name VARCHAR2，column_name VARCHAR2，tg_type NUMBER，add_topo_ids SDO_TGL_OBJECT_ARRAY，delete_topo_ids SDO_TGL_OBJECT_ARRAY）</pre><p>例如，您可以使用这些构造函数格式之一将边添加到线性要素或从要素中删除过时的边。</p>
                        <p>SDO_TGL_OBJECT_ARRAY类型定义及其属性值的要求如<a href="topology-data-model-overview.html#GUID-F07BB6E5-1845-4899-9B3F-03863E7FD303">插入操作的构造函数：指定较低级别的功能中所述</a> 。
                        </p>
                        <p>您可以为ADD_TOPO_IDS和DELETE_TOPO_IDS属性指定值，也可以指定一个属性的值并将另一个属性指定为null;但是，您不能为ADD_TOPO_IDS和DELETE_TOPO_IDS指定空值。</p>
                        <p><a href="topology-data-model-overview.html#GUID-49D42128-ACF8-4E71-9B7E-066E9C45AC95__CIHHCGFH">例1-7</a>显示了两个SDO_TOPO_GEOMETRY构造函数，每种格式一个。每个构造函数从BLOCK_GROUPS表中的<code class="codeph">CITY_DATA</code>拓扑中删除特征（第一种格式中名称为<code class="codeph">BG1</code> ，第二种格式中为<code class="codeph">BG1A</code> ，但每种特征具有相同定义）的ID值为2的地块，这是特征拓扑几何图层层次结构中“块组”级别的表。“块组”级别是层次结构底部的“地块”级别的父级。
                        </p>
                        <div class="example" id="GUID-49D42128-ACF8-4E71-9B7E-066E9C45AC95__CIHHCGFH">
                           <p class="titleinexample">示例1-7使用带有SDO_TGL_OBJECT_ARRAY的构造函数更新</p><pre class="oac_no_warn" dir="ltr">UPDATE block_groups b SET b.feature = SDO_TOPO_GEOMETRY（'LAND_USE_HIER'，3， - 拓扑几何类型（多边形/多边形）2， - 块组的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）null， - 没有要添加的ID SDO_TGL_OBJECT_ARRAY（SDO_TGL_OBJECT（ 1,2）） - 地块ID = 2）WHERE b.feature_name ='BG1'; UPDATE block_groups b SET b.feature = SDO_TOPO_GEOMETRY（'LAND_USE_HIER'，'BLOCK_GROUPS'， - 要素表'FEATURE'， - 要素列3， - 拓扑几何类型（多边形/多边形）null， - 无要添加的ID SDO_TGL_OBJECT_ARRAY（SDO_TGL_OBJECT（1,2）） - 地块ID = 2）WHERE b.feature_name ='BG1A';</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-991CB32A-5AF3-4477-BE51-374EF2EC3C8B">SDO_TOPO_GEOMETRY构造函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="TOPOL766"></a><a id="TOPOL765"></a><div class="props_rev_3"><a id="GUID-9D252A72-1D12-474E-BE1D-306C7EAF3DBA" name="GUID-9D252A72-1D12-474E-BE1D-306C7EAF3DBA"></a><h4 id="TOPOL-GUID-9D252A72-1D12-474E-BE1D-306C7EAF3DBA" class="sect4"><span class="enumeration_section">1.6.3</span> GET_GEOMETRY成员函数</h4>
                  <div>
                     <p>SDO_TOPO_GEOMETRY类型具有成员函数GET_GEOMETRY，可用于返回拓扑几何对象的SDO_GEOMETRY对象。</p>
                     <p><a href="topology-data-model-overview.html#GUID-9D252A72-1D12-474E-BE1D-306C7EAF3DBA__CIHFAEFB">示例1-8</a>使用GET_GEOMETRY成员函数返回与名为<code class="codeph">P1</code>地块关联的拓扑几何对象的SDO_GEOMETRY对象。
                     </p>
                     <div class="example" id="GUID-9D252A72-1D12-474E-BE1D-306C7EAF3DBA__CIHFAEFB">
                        <p class="titleinexample">例1-8 GET_GEOMETRY成员函数</p><pre class="oac_no_warn" dir="ltr">SELECT l.feature_name，l.feature.get_geometry（）FROM land_parcels l WHERE l.feature_name ='P1'; FEATURE_NAME ------------------------------ L.FEATURE.GET_GEOMETRY（）（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z） ），SDO_ELEM_INFO，---------------------------------------------- ---------------------------------- P1 SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,3,1） ），SDO_ORDINATE_ARRAY（21,14,21,22,9,22,9,14,9,6,21,6,21,14））</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD" title="与拓扑数据模型关联的主要数据类型是SDO_TOPO_GEOMETRY，它描述了拓扑几何。">拓扑数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL768"></a><a id="TOPOL767"></a><div class="props_rev_3"><a id="GUID-8A14A819-FA60-4DD3-AFCF-2C445A9A0F3A" name="GUID-8A14A819-FA60-4DD3-AFCF-2C445A9A0F3A"></a><h4 id="TOPOL-GUID-8A14A819-FA60-4DD3-AFCF-2C445A9A0F3A" class="sect4"><span class="enumeration_section">1.6.4</span> GET_TGL_OBJECTS成员函数</h4>
                  <div>
                     <p>SDO_TOPO_GEOMETRY类型具有成员函数GET_TGL_OBJECTS，可用于在具有拓扑几何图层层次结构的拓扑中为层次结构级别大于0（零）的几何图层中的拓扑几何对象返回SDO_TOPO_OBJECT_ARRAY对象。（如果图层位于层次结构级别0或位于不具有拓扑几何图层层次结构的拓扑中，则此方法返回空值。）</p>
                     <p>SDO_TGL_OBJECT_ARRAY类型在<a href="topology-data-model-overview.html#GUID-F07BB6E5-1845-4899-9B3F-03863E7FD303">插入操作的构造函数：指定较低级别的功能中进行了描述</a> 。
                     </p>
                     <p><a href="topology-data-model-overview.html#GUID-8A14A819-FA60-4DD3-AFCF-2C445A9A0F3A__CIHCDBEG">示例1-9</a>使用GET_TGL_OBJECTS成员函数返回与名为<code class="codeph">BG2</code>的块组关联的拓扑几何对象的SDO_TOPO_OBJECT_ARRAY对象。
                     </p>
                     <div class="example" id="GUID-8A14A819-FA60-4DD3-AFCF-2C445A9A0F3A__CIHCDBEG">
                        <p class="titleinexample">例1-9 GET_TGL_OBJECTS成员函数</p><pre class="oac_no_warn" dir="ltr">SELECT bg.feature_name，bg.feature.get_tgl_objects（）FROM block_groups bg WHERE bg.feature_name ='BG2'; FEATURE_NAME ------------------------------ BG.FEATURE.GET_TGL_OBJECTS（）（TGL_ID，TG_ID）------- -------------------------------------------------- ----------------------- BG2 SDO_TGL_OBJECT_ARRAY（SDO_TGL_OBJECT（1,3），SDO_TGL_OBJECT（1,4））</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD" title="与拓扑数据模型关联的主要数据类型是SDO_TOPO_GEOMETRY，它描述了拓扑几何。">拓扑数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL770"></a><a id="TOPOL769"></a><div class="props_rev_3"><a id="GUID-2A6C4F56-B69D-417F-8E3E-CB9B94A0B3ED" name="GUID-2A6C4F56-B69D-417F-8E3E-CB9B94A0B3ED"></a><h4 id="TOPOL-GUID-2A6C4F56-B69D-417F-8E3E-CB9B94A0B3ED" class="sect4"><span class="enumeration_section">1.6.5</span> GET_TOPO_ELEMENTS成员函数</h4>
                  <div>
                     <p>SDO_TOPO_GEOMETRY类型具有成员函数GET_TOPO_ELEMENTS，您可以使用该函数返回拓扑几何对象的SDO_TOPO_OBJECT_ARRAY对象。</p>
                     <p>SDO_TOPO_OBJECT_ARRAY类型在<a href="topology-data-model-overview.html#GUID-361B6FCB-898A-49EB-B7E6-A688D32AA514">“插入操作的构造函数：指定拓扑元素”中进行了描述</a> 。
                     </p>
                     <p><a href="topology-data-model-overview.html#GUID-9D252A72-1D12-474E-BE1D-306C7EAF3DBA__CIHFAEFB">示例1-8</a>使用GET_TOPO_ELEMENTS成员函数返回与名为<code class="codeph">P1</code>地块关联的拓扑几何对象的SDO_TOPO_OBJECT_ARRAY对象。
                     </p>
                     <div class="example" id="GUID-2A6C4F56-B69D-417F-8E3E-CB9B94A0B3ED__GUID-75C6D5A8-63F5-4435-99DB-74D8F83AAF5A">
                        <p class="titleinexample">例1-10 GET_TOPO_ELEMENTS成员函数</p><pre class="oac_no_warn" dir="ltr">SELECT l.feature_name，l.feature.get_topo_elements（）FROM land_parcels l WHERE l.feature_name ='P1'; FEATURE_NAME ------------------------------ L.FEATURE.GET_TOPO_ELEMENTS（）（TOPO_ID，TOPO_TYPE）------- -------------------------------------------------- ----------------------- P1 SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（3,3），SDO_TOPO_OBJECT（6,3））</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD" title="与拓扑数据模型关联的主要数据类型是SDO_TOPO_GEOMETRY，它描述了拓扑几何。">拓扑数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL771"></a><div class="props_rev_3"><a id="GUID-2D2023B2-5324-4B88-AB72-A2C241BF7E37" name="GUID-2D2023B2-5324-4B88-AB72-A2C241BF7E37"></a><h4 id="TOPOL-GUID-2D2023B2-5324-4B88-AB72-A2C241BF7E37" class="sect4"><span class="enumeration_section">1.6.6</span> SDO_LIST_TYPE类型</h4>
                  <div>
                     <p>SDO_LIST_TYPE类型用于存储面中岛岛边缘的EDGE_ID值和岛节点的NODE_ID值。SDO_LIST_TYPE类型定义为：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_list_type as VARRAY（2147483647）OF NUMBER;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD" title="与拓扑数据模型关联的主要数据类型是SDO_TOPO_GEOMETRY，它描述了拓扑几何。">拓扑数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL772"></a><div class="props_rev_3"><a id="GUID-CC31A2D6-2225-492F-B930-B8C438E28E3B" name="GUID-CC31A2D6-2225-492F-B930-B8C438E28E3B"></a><h4 id="TOPOL-GUID-CC31A2D6-2225-492F-B930-B8C438E28E3B" class="sect4"><span class="enumeration_section">1.6.7</span> SDO_EDGE_ARRAY和SDO_NUMBER_ARRAY类型</h4>
                  <div>
                     <p>SDO_EDGE_ARRAY类型用于指定受节点移动操作影响的附加边的坐标。SDO_EDGE_ARRAY类型定义为：</p><pre class="oac_no_warn" dir="ltr">创建类型sdo_edge_array为MDSYS.SDO_NUMBER_ARRAY的VARRAY（1000000）;</pre><p>SDO_NUMBER_ARRAY类型是Spatial和Graph用于数组的通用类型。SDO_NUMBER_ARRAY类型定义为：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_number_array为NUMR的VARRAY（1048576）;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3DFBD879-D267-4D69-B7AD-1A7CCA9424FD" title="与拓扑数据模型关联的主要数据类型是SDO_TOPO_GEOMETRY，它描述了拓扑几何。">拓扑数据类型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL773"></a><div class="props_rev_3"><a id="GUID-2FB6ED4F-3FBB-40D4-AF34-330890315290" name="GUID-2FB6ED4F-3FBB-40D4-AF34-330890315290"></a><h3 id="TOPOL-GUID-2FB6ED4F-3FBB-40D4-AF34-330890315290" class="sect3"><span class="enumeration_section">1.7</span>拓扑元数据视图</h3>
               <div>
                  <p>每个模式（用户）有两组拓扑元数据视图：xxx_SDO_TOPO_INFO和xxx_SDO_TOPO_METADATA，其中<span class="italic">xxx</span>可以是USER或ALL。这些视图对用户是只读的;它们由Spatial和Graph创建和维护。
                  </p>
                  <p>xxx_SDO_TOPO_METADATA视图包含最详细的信息，每个xxx_SDO_TOPO_INFO视图在其对应的xxx_SDO_TOPO_METADATA视图中包含信息的子集。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67">xxx_SDO_TOPO_INFO视图</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-9455CD8B-BBC7-4826-9F2F-143FC8E4D52D">xxx_SDO_TOPO_METADATA视图</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL775"></a><a id="TOPOL774"></a><div class="props_rev_3"><a id="GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67" name="GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67"></a><h4 id="TOPOL-GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67" class="sect4"><span class="enumeration_section">1.7.1</span> xxx_SDO_TOPO_INFO视图</h4>
                  <div>
                     <p>以下视图包含有关拓扑的基本信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d4087e3507" class="indexterm-anchor"></a> USER_SDO_TOPO_INFO包含用户拥有的所有要素表的拓扑信息。
                           </p>
                        </li>
                        <li>
                           <p><a id="d4087e3512" class="indexterm-anchor"></a> ALL_SDO_TOPO_INFO包含用户具有SELECT权限的所有要素表的拓扑信息。
                           </p>
                        </li>
                     </ul>
                     <p>USER_SDO_TOPO_INFO和ALL_SDO_TOPO_INFO视图包含相同的列，如<a href="topology-data-model-overview.html#GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67__BABFBAFF" title="xxx_SDO_TOPO_INFO视图中的列">表1-8</a>所示。（列在视图定义中按顺序列出。）
                     </p>
                     <div class="tblformal" id="GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67__BABFBAFF">
                        <p class="titleintable">表1-8 xxx_SDO_TOPO_INFO视图中的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="xxx_SDO_TOPO_INFO视图中的列" width="100%" border="1" summary="Columns in the xxx_SDO_TOPO_INFO Views" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d4087e3533">列名称</th>
                                 <th align="left" valign="bottom" id="d4087e3536">数据类型</th>
                                 <th align="left" valign="bottom" id="d4087e3539">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3544" headers="d4087e3533 ">
                                    <p>所有者</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3544 d4087e3536 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3544 d4087e3539 ">
                                    <p>拓扑的所有者</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3554" headers="d4087e3533 ">
                                    <p>拓扑</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3554 d4087e3536 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3554 d4087e3539 ">
                                    <p>拓扑的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3564" headers="d4087e3533 ">
                                    <p>TOPOLOGY_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3564 d4087e3536 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3564 d4087e3539 ">
                                    <p>拓扑的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3574" headers="d4087e3533 ">
                                    <p>公差</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3574 d4087e3536 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3574 d4087e3539 ">
                                    <p>与拓扑中的拓扑几何关联的容差值。（容差在<a href="topology-data-model-overview.html#GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36">拓扑数据模型</a>中的<a href="topology-data-model-overview.html#GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36">容差中</a>解释。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3588" headers="d4087e3533 ">
                                    <p>SRID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3588 d4087e3536 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3588 d4087e3539 ">
                                    <p>与拓扑中的所有拓扑几何图层关联的坐标系（空间参照系）。如果没有关联坐标系，则为null;否则，它包含MDSYS.CS_SRS表的SRID列中的值（在<a href="../spatl/coordinate-systems-concepts.html#SPATL695" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide中描述</span></a> ）。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3603" headers="d4087e3533 ">
                                    <p>TABLE_SCHEMA</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3603 d4087e3536 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3603 d4087e3539 ">
                                    <p>拥有包含拓扑几何图层列的表的架构的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3613" headers="d4087e3533 ">
                                    <p>TABLE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3613 d4087e3536 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3613 d4087e3539 ">
                                    <p>包含拓扑几何图层列的表的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3623" headers="d4087e3533 ">
                                    <p>COLUMN_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3623 d4087e3536 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3623 d4087e3539 ">
                                    <p>包含拓扑几何图层数据的列的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3633" headers="d4087e3533 ">
                                    <p>TG_LAYER_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3633 d4087e3536 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3633 d4087e3539 ">
                                    <p>拓扑几何图层的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3643" headers="d4087e3533 ">
                                    <p>TG_LAYER_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3643 d4087e3536 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3643 d4087e3539 ">
                                    <p>包含以下之一：POINT，LINE，CURVE，POLYGON或COLLECTION。 （LINE和CURVE具有相同的含义。）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3653" headers="d4087e3533 ">
                                    <p>TG_LAYER_LEVEL</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3653 d4087e3536 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3653 d4087e3539 ">
                                    <p>此拓扑几何图层的层次结构级别编号。（拓扑几何图层层次结构在<a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F" title="在某些拓扑中，拓扑几何图层（要素图层）在拓扑层次结构中具有一个或多个父子关系。也就是说，最顶层的层由层次结构中下一层的子层中的特征组成;子图层可能包含其子层中下一层更远的特征;等等。">拓扑几何图层层次</a>结构中进行了解释。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3674" headers="d4087e3533 ">
                                    <p>CHILD_LAYER_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3674 d4087e3536 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3674 d4087e3539 ">
                                    <p>拓扑几何图层的ID编号，它是拓扑几何图层层次结构中此图层的子图层。如果此图层没有子图层，或者拓扑没有拓扑几何图层层次结构，则为空。（拓扑几何图层层次结构在<a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F" title="在某些拓扑中，拓扑几何图层（要素图层）在拓扑层次结构中具有一个或多个父子关系。也就是说，最顶层的层由层次结构中下一层的子层中的特征组成;子图层可能包含其子层中下一层更远的特征;等等。">拓扑几何图层层次</a>结构中进行了解释。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3694" headers="d4087e3533 ">
                                    <p>DIGITS_RIGHT_OF_DECIMAL</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3694 d4087e3536 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3694 d4087e3539 ">
                                    <p>将要素添加到现有拓扑时，任何坐标位置表达式中小数点右侧允许的位数。所有传入的<code class="codeph">addLinearGeometry</code> （作为参数传递给Java API中的<code class="codeph">addLinearGeometry</code> ， <code class="codeph">addPolygonGeometry</code>或<code class="codeph">addPointGeometry</code>方法或等效的PL / SQL子程序）会自动捕捉（截断）到小数点右边的位数。默认值：16。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-2FB6ED4F-3FBB-40D4-AF34-330890315290" title="每个模式（用户）有两组拓扑元数据视图：xxx_SDO_TOPO_INFO和xxx_SDO_TOPO_METADATA，其中xxx可以是USER或ALL。这些视图对用户是只读的;它们由Spatial和Graph创建和维护。">拓扑元数据视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL777"></a><a id="TOPOL776"></a><div class="props_rev_3"><a id="GUID-9455CD8B-BBC7-4826-9F2F-143FC8E4D52D" name="GUID-9455CD8B-BBC7-4826-9F2F-143FC8E4D52D"></a><h4 id="TOPOL-GUID-9455CD8B-BBC7-4826-9F2F-143FC8E4D52D" class="sect4"><span class="enumeration_section">1.7.2</span> xxx_SDO_TOPO_METADATA视图</h4>
                  <div>
                     <p>以下视图包含有关拓扑的详细信息：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d4087e3755" class="indexterm-anchor"></a> USER_SDO_TOPO_METADATA包含用户拥有的所有表的拓扑信息。
                           </p>
                        </li>
                        <li>
                           <p><a id="d4087e3760" class="indexterm-anchor"></a> ALL_SDO_TOPO_METADATA包含用户具有SELECT权限的所有表的拓扑信息。
                           </p>
                        </li>
                     </ul>
                     <p>USER_SDO_TOPO_METADATA和ALL_SDO_TOPO_METADATA视图包含相同的列，如<a href="topology-data-model-overview.html#GUID-9455CD8B-BBC7-4826-9F2F-143FC8E4D52D__BABIAAAH" title="xxx_SDO_TOPO_METADATA视图中的列">表1-9</a>所示。（列在视图定义中按顺序列出。）
                     </p>
                     <div class="tblformal" id="GUID-9455CD8B-BBC7-4826-9F2F-143FC8E4D52D__BABIAAAH">
                        <p class="titleintable">表1-9 xxx_SDO_TOPO_METADATA视图中的列</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="xxx_SDO_TOPO_METADATA视图中的列" width="100%" border="1" summary="Columns in the xxx_SDO_TOPO_METADATA Views" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d4087e3781">列名称</th>
                                 <th align="left" valign="bottom" id="d4087e3784">数据类型</th>
                                 <th align="left" valign="bottom" id="d4087e3787">目的</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3792" headers="d4087e3781 ">
                                    <p>所有者</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3792 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3792 d4087e3787 ">
                                    <p>拓扑的所有者</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3802" headers="d4087e3781 ">
                                    <p>拓扑</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3802 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3802 d4087e3787 ">
                                    <p>拓扑的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3812" headers="d4087e3781 ">
                                    <p>TOPOLOGY_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3812 d4087e3784 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3812 d4087e3787 ">
                                    <p>拓扑的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3822" headers="d4087e3781 ">
                                    <p>公差</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3822 d4087e3784 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3822 d4087e3787 ">
                                    <p>与拓扑中的拓扑几何关联的容差值。（容差在<a href="topology-data-model-overview.html#GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36">拓扑数据模型</a>中的<a href="topology-data-model-overview.html#GUID-997D8EC4-F0D8-4978-B2D4-310E08C76F36">容差中</a>解释。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3836" headers="d4087e3781 ">
                                    <p>SRID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3836 d4087e3784 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3836 d4087e3787 ">
                                    <p>与拓扑中的所有拓扑几何图层关联的坐标系（空间参照系）。如果没有关联坐标系，则为null;否则，包含MDSYS.CS_SRS表的SRID列中的值（在<a href="../spatl/coordinate-systems-concepts.html#SPATL695" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide中描述</span></a> ）。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3851" headers="d4087e3781 ">
                                    <p>TABLE_SCHEMA</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3851 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3851 d4087e3787 ">
                                    <p>拥有包含拓扑几何图层列的表的架构的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3861" headers="d4087e3781 ">
                                    <p>TABLE_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3861 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3861 d4087e3787 ">
                                    <p>包含拓扑几何图层列的表的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3871" headers="d4087e3781 ">
                                    <p>COLUMN_NAME</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3871 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3871 d4087e3787 ">
                                    <p>包含拓扑几何图层数据的列的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3881" headers="d4087e3781 ">
                                    <p>TG_LAYER_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3881 d4087e3784 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3881 d4087e3787 ">
                                    <p>拓扑几何图层的ID号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3891" headers="d4087e3781 ">
                                    <p>TG_LAYER_TYPE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3891 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3891 d4087e3787 ">
                                    <p>包含以下之一：POINT，LINE，CURVE，POLYGON或COLLECTION。 （LINE和CURVE具有相同的含义。）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3901" headers="d4087e3781 ">
                                    <p>TG_LAYER_LEVEL</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3901 d4087e3784 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3901 d4087e3787 ">
                                    <p>此拓扑几何图层的层次结构级别编号。（拓扑几何图层层次结构在<a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F" title="在某些拓扑中，拓扑几何图层（要素图层）在拓扑层次结构中具有一个或多个父子关系。也就是说，最顶层的层由层次结构中下一层的子层中的特征组成;子图层可能包含其子层中下一层更远的特征;等等。">拓扑几何图层层次</a>结构中进行了解释。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3922" headers="d4087e3781 ">
                                    <p>CHILD_LAYER_ID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3922 d4087e3784 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3922 d4087e3787 ">
                                    <p>拓扑几何图层的ID编号，它是拓扑几何图层层次结构中此图层的子图层。如果此图层没有子图层或拓扑没有几何图层层次结构，则为空。（拓扑几何图层层次结构在<a href="topology-data-model-overview.html#GUID-048DC942-FC27-4977-AB98-2451E4A4910F" title="在某些拓扑中，拓扑几何图层（要素图层）在拓扑层次结构中具有一个或多个父子关系。也就是说，最顶层的层由层次结构中下一层的子层中的特征组成;子图层可能包含其子层中下一层更远的特征;等等。">拓扑几何图层层次</a>结构中进行了解释。）
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3942" headers="d4087e3781 ">
                                    <p>NODE_SEQUENCE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3942 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3942 d4087e3787 ">
                                    <p>包含下一个可用节点ID号的序列的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3952" headers="d4087e3781 ">
                                    <p>EDGE_SEQUENCE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3952 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3952 d4087e3787 ">
                                    <p>包含下一个可用边ID号的序列的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3962" headers="d4087e3781 ">
                                    <p>FACE_SEQUENCE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3962 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3962 d4087e3787 ">
                                    <p>包含下一个可用面部ID号的序列的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3972" headers="d4087e3781 ">
                                    <p>TG_SEQUENCE</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3972 d4087e3784 ">
                                    <p>VARCHAR2</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3972 d4087e3787 ">
                                    <p>包含下一个可用拓扑几何ID号的序列的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d4087e3982" headers="d4087e3781 ">
                                    <p>DIGITS_RIGHT_OF_DECIMAL</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3982 d4087e3784 ">
                                    <p>数</p>
                                 </td>
                                 <td align="left" valign="top" headers="d4087e3982 d4087e3787 ">
                                    <p>将要素添加到现有拓扑时，任何坐标位置表达式中小数点右侧允许的位数。所有传入的<code class="codeph">addLinearGeometry</code> （作为参数传递给Java API中的<code class="codeph">addLinearGeometry</code> ， <code class="codeph">addPolygonGeometry</code>或<code class="codeph">addPointGeometry</code>方法或等效的PL / SQL子程序）会自动捕捉（截断）到小数点右边的位数。默认值：16</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-2FB6ED4F-3FBB-40D4-AF34-330890315290" title="每个模式（用户）有两组拓扑元数据视图：xxx_SDO_TOPO_INFO和xxx_SDO_TOPO_METADATA，其中xxx可以是USER或ALL。这些视图对用户是只读的;它们由Spatial和Graph创建和维护。">拓扑元数据视图</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL778"></a><div class="props_rev_3"><a id="GUID-7FD02739-8A8E-4700-8CE2-F4D513A90A38" name="GUID-7FD02739-8A8E-4700-8CE2-F4D513A90A38"></a><h3 id="TOPOL-GUID-7FD02739-8A8E-4700-8CE2-F4D513A90A38" class="sect3"><span class="enumeration_section">1.8</span>拓扑应用程序编程接口</h3>
               <div>
                  <p>拓扑数据模型应用程序编程接口（API）包括以下内容。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>SDO_TOPO包中的PL / SQL函数和过程（在<a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="MDSYS.SDO_TOPO包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。该软件包主要包含用于创建和管理拓扑的子程序。">SDO_TOPO</a>包子程序中描述）和SDO_TOPO_MAP包（在<a href="SDO_TOPO_MAP-reference.html#GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0" title="MDSYS.SDO_TOPO_MAP包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。">SDO_TOPO_MAP</a>包子程序中描述）</p>
                     </li>
                     <li>
                        <p>PL / SQL拓扑运算符（在<a href="topology-data-model-overview.html#GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C">拓扑运算</a>符中描述）</p>
                     </li>
                     <li>
                        <p>Java API（在<a href="topology-data-model-overview.html#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">拓扑数据模型Java接口中</a>描述）</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C">拓扑运算符</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">拓扑数据模型Java接口</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL779"></a><a id="TOPOL300"></a><div class="props_rev_3"><a id="GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C" name="GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C"></a><h4 id="TOPOL-GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C" class="sect4"><span class="enumeration_section">1.8.1</span>拓扑运算符</h4>
                  <div>
                     <p>使用拓扑数据模型PL / SQL API，您可以使用Oracle Spatial和Graph运算符，但以下情况除外：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>SDO_RELATE（但您可以使用不使用<code class="codeph">mask</code>参数的SDO_RELATE便捷运算符）</p>
                        </li>
                        <li>
                           <p>SDO_NN</p>
                        </li>
                        <li>
                           <p>SDO_NN_DISTANCE</p>
                        </li>
                        <li>
                           <p>SDO_WITHIN_DISTANCE</p>
                        </li>
                     </ul>
                     <p>要将空间运算符与拓扑数据模型一起使用，您必须了解有关空间运算符的用法和参考信息，这些信息在<a href="../spatl/spatial-operators-reference.html#SPATL110" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide中有介绍</span></a> 。本主题仅描述适用于使用拓扑的空间运算符的其他信息或差异。否则，除非本节另有规定，否则<a href="../spatl/spatial-operators-reference.html#SPATL110" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide中</span></a>的操作员相关信息适用于使用具有拓扑数据的运算符。
                     </p>
                     <p>将空间运算符与拓扑结构一起使用时，前两个参数的格式可以是以下任何一种：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>两个拓扑几何对象（类型为SDO_TOPO_GEOMETRY）</p>
                           <p>例如，以下语句查找与名为P3的地块特征进行任何交互的所有城市街道要素。（此示例使用<a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">拓扑数据构建的拓扑中的</a>定义和数据。）
                           </p><pre class="oac_no_warn" dir="ltr">SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_ANYINTERACT（c.feature，l.feature）='TRUE'; FEATURE_NAME ------------------------------ R1</pre></li>
                        <li>
                           <p>拓扑几何对象（类型为SDO_TOPO_GEOMETRY）作为第一个参数，空间几何（类型为SDO_GEOMETRY）作为第二个参数</p>
                           <p>例如，以下语句查找与几何对象进行任何交互的所有城市街道要素，该几何对象恰好是与名为P3的地块要素边界相同的多边形。（此示例使用<a href="topology-data-model-overview.html#GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567">来自空间几何构建的拓扑的</a>定义和数据。）
                           </p><pre class="oac_no_warn" dir="ltr">SELECT c.feature_name FROM city_streets c WHERE SDO_ANYINTERACT（c.feature，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（35,6,47,6,47,14,47,22,35） ，22,35,14,35,6）））='正确'; FEATURE_NAME ------------------------------ R1</pre></li>
                        <li>
                           <p>拓扑几何对象（类型为SDO_TOPO_GEOMETRY）作为第一个参数，拓扑对象数组对象（类型为SDO_TOPO_OBJECT_ARRAY）作为第二个参数</p>
                           <p>例如，以下语句查找与SDO_TOPO_OBJECT_ARRAY对象进行任何交互的所有城市街道要素，这些对象恰好与名为P3的地块要素相同。（此示例使用<a href="topology-data-model-overview.html#GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567">来自空间几何构建的拓扑的</a>定义和数据。）
                           </p><pre class="oac_no_warn" dir="ltr">SELECT c.feature_name FROM city_streets c WHERE SDO_ANYINTERACT（c.feature，SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（5,3），SDO_TOPO_OBJECT（8,3）））='TRUE'; FEATURE_NAME ------------------------------ R1</pre></li>
                     </ul>
                     <p><a href="topology-data-model-overview.html#GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C__CIHCFHFD">示例1-11</a>显示了不同的拓扑运算符，用于检查城市街道要素与名为P3的地块之间的特定关系。第一个语句显示SDO_FILTER运算符，其余语句显示SDO_RELATE便捷运算符，其中包含运算符名称中的“掩码”。使用此示例中的便捷运算符，只有SDO_ANYINTERACT，SDO_OVERLAPBDYINTERSECT和SDO_OVERLAPS返回任何结果特征数据。（正如<a href="topology-data-model-overview.html#GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14__CIHHABGI">图1-3</a>中<a href="topology-data-model-overview.html#GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14">设有</a>节目，唯一街道要素具有与地块P3是R1的任何相互作用）。<a href="topology-data-model-overview.html#GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C__CIHCFHFD">例1-11中的</a>所有语句都使用前两个参数是拓扑几何对象的格式。
                     </p>
                     <div class="example" id="GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C__CIHCFHFD">
                        <p class="titleinexample">例1-11拓扑运算符</p><pre class="oac_no_warn" dir="ltr">-  SDO_FILTER SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_FILTER（c.feature，l.feature）='TRUE'; FEATURE_NAME ------------------------------ R1  -  SDO_RELATE方便操作符SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l。 feature_name ='P3'和SDO_ANYINTERACT（c.feature，l.feature）='TRUE'; FEATURE_NAME ------------------------------ R1 SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3' AND SDO_CONTAINS（c.feature，l.feature）='TRUE';没有选择行SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_COVEREDBY（c.feature，l.feature）='TRUE';没有选择行SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_COVERS（c.feature，l.feature）='TRUE';没有选择行SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_EQUAL（c.feature，l.feature）='TRUE';没有选择行SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_INSIDE（c.feature，l.feature）='TRUE';没有选择行SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_ON（c.feature，l.feature）='TRUE';没有选择行SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_OVERLAPBDYINTERSECT（c.feature，l.feature）='TRUE'; FEATURE_NAME ------------------------------ R1 SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3' AND SDO_OVERLAPBDYDISJOINT（c.feature，l.feature）='TRUE';没有选择行SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_OVERLAPS（c.feature，l.feature）='TRUE'; FEATURE_NAME ------------------------------ R1 SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3' AND SDO_TOUCH（c.feature，l.feature）='TRUE';没有选择任何行</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C__GUID-9E1AE525-7B51-47EC-93DF-888CE503C48E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="SDO_TOPO-reference.html#GUID-2131609B-F033-4712-9EA5-FC04B466DEF7">SDO_TOPO.RELATE</a>函数的使用说明</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-7FD02739-8A8E-4700-8CE2-F4D513A90A38" title="拓扑数据模型应用程序编程接口（API）包括以下内容。">拓扑应用程序编程接口</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL780"></a><div class="props_rev_3"><a id="GUID-961510D5-308C-4AFC-BED3-27E533F3522A" name="GUID-961510D5-308C-4AFC-BED3-27E533F3522A"></a><h4 id="TOPOL-GUID-961510D5-308C-4AFC-BED3-27E533F3522A" class="sect4"><span class="enumeration_section">1.8.2</span>拓扑数据模型Java接口</h4>
                  <div>
                     <p>拓扑数据模型的Java客户端接口包含以下类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">TopoMap</code> ：存储边，节点和面的类，并提供添加和删除元素的方法，同时在缓存和底层数据库表中保持拓扑一致性</p>
                        </li>
                        <li>
                           <p><code class="codeph">Edge</code> ： <code class="codeph">Edge</code>类</p>
                        </li>
                        <li>
                           <p><code class="codeph">Face</code> ：一张脸的课</p>
                        </li>
                        <li>
                           <p><code class="codeph">Node</code> ： <code class="codeph">Node</code>类</p>
                        </li>
                        <li>
                           <p><code class="codeph">Point2DD</code> ：一个点的类</p>
                        </li>
                        <li>
                           <p><code class="codeph">CompGeom</code> ：静态计算几何方法的类</p>
                        </li>
                        <li>
                           <p><code class="codeph">InvalidTopoOperationException</code> ：无效拓扑操作异常的类</p>
                        </li>
                        <li>
                           <p><code class="codeph">TopoValidationException</code> ：拓扑验证失败异常的类</p>
                        </li>
                        <li>
                           <p><code class="codeph">TopoEntityNotFoundException</code> ：实体未找到异常的类</p>
                        </li>
                        <li>
                           <p><code class="codeph">TopoDataException</code> ：无效输入异常的类</p>
                        </li>
                     </ul>
                     <p>Spatial和Graph Java类库位于<code class="codeph">&lt;ORACLE_HOME&gt;/md/jlib/</code>目录下的.jar文件中。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-961510D5-308C-4AFC-BED3-27E533F3522A__GUID-F58E7F09-2025-4A2D-90AA-7FBE15B8D68E">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../spajv/index.html" target="_blank"><span class="italic">Oracle Spatial and Graph Java API参考</span></a>有关拓扑数据模型类的详细参考信息，以及有关Java API的一些使用信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-7FD02739-8A8E-4700-8CE2-F4D513A90A38" title="拓扑数据模型应用程序编程接口（API）包括以下内容。">拓扑应用程序编程接口</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL781"></a><div class="props_rev_3"><a id="GUID-2D284F68-529F-4772-9C96-2E2FCC72AA70" name="GUID-2D284F68-529F-4772-9C96-2E2FCC72AA70"></a><h3 id="TOPOL-GUID-2D284F68-529F-4772-9C96-2E2FCC72AA70" class="sect3"><span class="enumeration_section">1.9</span>导出和导入拓扑数据</h3>
               <div>
                  <p>您可以从一个数据库导出拓扑，并将其导入到另一个数据库中具有相同名称，结构和数据的新拓扑中，只要目标数据库尚未包含与导出的拓扑同名的拓扑。</p>
                  <p>要从一个数据库导出拓扑数据并将其导入另一个数据库，请按照本节中的步骤操作。</p>
                  <div class="infoboxnote" id="GUID-2D284F68-529F-4772-9C96-2E2FCC72AA70__GUID-9497B454-8E66-46B1-9494-12A675E41D8E">
                     <p class="notep1">注意：</p>
                     <p>无论是否使用可传输表空间传输拓扑数据，都需要这些步骤。（有关可传输表空间和将表空间传输到其他数据库的详细信息，请参阅“ <a href="../admin/transporting-data.html#ADMIN13721" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。）
                     </p>
                  </div>
                  <p>在包含要导出的拓扑数据的数据库中，执行以下操作：</p>
                  <ol>
                     <li>
                        <p>以拓扑的所有者身份连接到数据库。</p>
                     </li>
                     <li>
                        <p>执行<a href="SDO_TOPO-reference.html#GUID-F49486FC-1125-4C51-8F23-4E8332C935AB">SDO_TOPO.PREPARE_FOR_EXPORT</a>过程（记录在<a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="MDSYS.SDO_TOPO包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。该软件包主要包含用于创建和管理拓扑的子程序。">SDO_TOPO包子程序中</a> ），以创建<a id="d4087e4403" class="indexterm-anchor"></a><a id="d4087e4407" class="indexterm-anchor"></a>拓扑导出信息表，其名称格式为&lt;topology-name&gt; _EXP $。（此表包含与USER_SDO_TOPO_INFO和ALL_SDO_TOPO_INFO视图相同的列。<a href="topology-data-model-overview.html#GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67__BABFBAFF" title="xxx_SDO_TOPO_INFO视图中的列">表1-8</a>中的<a href="topology-data-model-overview.html#GUID-56497D68-DA87-4F71-BDB0-44856FF1EF67">xxx_SDO_TOPO_INFO视图</a>中描述了这些列。）
                        </p>
                        <p>例如，准备要导出的示例<code class="codeph">CITY_DATA</code>拓扑会创建CITY_DATA_EXP $表。
                        </p>
                     </li>
                     <li>
                        <p>导出与拓扑相关的所有表，包括要素表和&lt;topology-name&gt; _EDGE $，&lt;topology-name&gt; _FACE $，&lt;topology-name&gt; _HISTORY $，&lt;topology-name&gt; _NODE $，&lt;topology-name &gt; _RELATION $和&lt;topology-name&gt; _EXP $ tables。要素表的名称（如果存在）存储在拓扑元数据中。</p>
                        <p>这将创建扩展名为<code class="codeph">.dmp</code>的文件（例如， <code class="codeph">city_data.dmp</code> ）。
                        </p>
                     </li>
                  </ol>
                  <p>在要导入拓扑数据的数据库中，执行以下操作：</p>
                  <ol>
                     <li>
                        <p>连接到目标数据库，即用于创建与从源数据库导出的拓扑具有相同名称，结构和数据的拓扑的数据库。以用户身份连接要拥有要创建的拓扑的架构。</p>
                     </li>
                     <li>
                        <p>确保目标数据库尚未包含与<code class="codeph">.dmp</code>文件中的拓扑同名的拓扑。
                        </p>
                     </li>
                     <li>
                        <p>从导出拓扑数据时创建的<code class="codeph">.dmp</code>文件中导入表。指定<code class="codeph">indexes=N</code>选项。
                        </p>
                     </li>
                     <li>
                        <p>如果已将拓扑表导入到与源数据库中的拓扑不同的模式中，请更新&lt;topology-name&gt; _EXP $表的所有行中的OWNER和TABLE_SCHEMA列中的值以反映表所有者和当前（目标）数据库中的模式名称。</p>
                     </li>
                     <li>
                        <p>执行<a href="SDO_TOPO-reference.html#GUID-3C5C023B-079D-4225-802B-CE9B952D82DC">SDO_TOPO.INITIALIZE_AFTER_IMPORT</a>过程，该过程创建拓扑并根据需要执行其他操作，以使拓扑可供使用。
                        </p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL782"></a><div class="props_rev_3"><a id="GUID-7C1445F9-CBF6-4E86-A3F6-3500A08A56FD" name="GUID-7C1445F9-CBF6-4E86-A3F6-3500A08A56FD"></a><h3 id="TOPOL-GUID-7C1445F9-CBF6-4E86-A3F6-3500A08A56FD" class="sect3"><span class="enumeration_section">1.10</span>跨模式拓扑的使用和编辑</h3>
               <div>
                  <p>本主题包含在涉及多个数据库用户（模式）时使用和编辑拓扑的要求和指南。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-3BBF43B5-F6F6-4DCD-89A5-8A72A8D80FA1">跨模式拓扑用法</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-C9C61D47-EE18-42E8-BC46-984CC8322566">跨模式拓扑编辑</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL783"></a><div class="props_rev_3"><a id="GUID-3BBF43B5-F6F6-4DCD-89A5-8A72A8D80FA1" name="GUID-3BBF43B5-F6F6-4DCD-89A5-8A72A8D80FA1"></a><h4 id="TOPOL-GUID-3BBF43B5-F6F6-4DCD-89A5-8A72A8D80FA1" class="sect4"><span class="enumeration_section">1.10.1</span>跨模式拓扑用法</h4>
                  <div>
                     <p>当一个用户拥有拓扑而另一个用户拥有拓扑几何图层表时，以下注意事项适用。在下文中，假设用户A拥有<code class="codeph">CITY_DATA</code>拓扑，并且用户B拥有CITY_STREETS拓扑几何图层表。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>拓扑的所有者必须创建拓扑并初始化元数据。在此示例中，用户A必须执行这些操作。</p>
                        </li>
                        <li>
                           <p>只有拓扑的所有者才能在拓扑中添加图层或从中删除图层。因此，如果将其他用户拥有的表添加到拓扑中，或者从拓扑中删除此类表，则必须使用模式名称限定表名。例如，用户A可以使用以下语句将用户B拥有的CITY_STREETS表添加到<code class="codeph">CITY_DATA</code>拓扑中：</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'CITY_DATA'，'B.CITY_STREETS'，'FEATURE'，'LINE'）;</pre><p>用户A可以使用以下语句从<code class="codeph">CITY_DATA</code>拓扑中删除用户B拥有的CITY_STREETS表：</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_TOPO.DELETE_TOPO_GEOMETRY_LAYER（'CITY_DATA'，'B.CITY_STREETS'，'FEATURE'）;</pre></li>
                        <li>
                           <p>拓扑的所有者应将节点，边和面信息表的SELECT或READ权限授予拓扑几何图层表的所有者。例如，用户A应该将CITY_DATA_NODE $，CITY_DATA_EDGE $和CITY_DATA_FACE $表的SELECT权限授予用户B.</p>
                        </li>
                        <li>
                           <p>拓扑几何图层表的所有者应将该表的SELECT和INDEX权限授予拓扑的所有者。例如，用户B应该将CITY_STREETS表的SELECT和INDEX权限授予用户A.</p>
                           <p>拓扑几何图层表的所有者还应向需要访问该表的其他用户授予适当的权限。对于只读访问，将表的SELECT权限授予用户;对于读/写访问，授予INSERT，SELECT和UPDATE权限。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-7C1445F9-CBF6-4E86-A3F6-3500A08A56FD" title="本主题包含在涉及多个数据库用户（模式）时使用和编辑拓扑的要求和指南。">跨模式拓扑用法和编辑</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL784"></a><div class="props_rev_3"><a id="GUID-C9C61D47-EE18-42E8-BC46-984CC8322566" name="GUID-C9C61D47-EE18-42E8-BC46-984CC8322566"></a><h4 id="TOPOL-GUID-C9C61D47-EE18-42E8-BC46-984CC8322566" class="sect4"><span class="enumeration_section">1.10.2</span>跨模式拓扑编辑</h4>
                  <div>
                     <p>当一个用户拥有拓扑而另一个用户想要编辑拓扑时，以下注意事项适用。在下文中，假设用户A拥有<code class="codeph">CITY_DATA</code>拓扑，并且用户B想要编辑该拓扑。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d4087e4633" class="indexterm-anchor"></a><a id="d4087e4639" class="indexterm-anchor"></a>该<a id="d4087e4644" class="indexterm-anchor"></a><a id="d4087e4648" class="indexterm-anchor"></a>拓扑的所有者应该为可以编辑拓扑的用户授予以下权限：节点，边，面和关系信息表上的INSERT，SELECT和UPDATE，以及用于生成的节点，边和面序列上的SELECT拓扑基元的ID号。例如，用户A可以向用户B授予以下权限，其中表名以<code class="codeph">$</code>结尾，序列名以<code class="codeph">_S</code>结尾：</p><pre class="oac_no_warn" dir="ltr">GRANT插入，选择，更新ON city_data_node $ TO b; GRANT插入，选择，更新ON city_data_edge $ TO b; GRANT插入，选择，更新ON city_data_face $ TO b; GRANT insert，select，update ON city_data_relation $ TO b; GRANT选择ON city_data_node_s TO b; GRANT选择ON city_data_edge_s TO b; GRANT选择ON city_data_face_s TO b;</pre></li>
                        <li>
                           <p>当不拥有拓扑的用户编辑该拓扑时，应使用接受拓扑名称作为输入参数的函数和过程中的拓扑名称指定所有者的模式名称。例如，用户B应将拓扑指定为<code class="codeph">A.CITY_DATA</code> ，而不仅仅是<code class="codeph">CITY_DATA</code> 。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C9C61D47-EE18-42E8-BC46-984CC8322566__GUID-BB388620-F820-459D-8971-20470E9D0C45">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="editing-topologies.html#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" title="可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。">编辑拓扑</a>以获取有关编辑拓扑的信息。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-7C1445F9-CBF6-4E86-A3F6-3500A08A56FD" title="本主题包含在涉及多个数据库用户（模式）时使用和编辑拓扑的要求和指南。">跨模式拓扑用法和编辑</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL785"></a><div class="props_rev_3"><a id="GUID-8F1AD378-4C16-4E64-9BA8-68D825029C8C" name="GUID-8F1AD378-4C16-4E64-9BA8-68D825029C8C"></a><h3 id="TOPOL-GUID-8F1AD378-4C16-4E64-9BA8-68D825029C8C" class="sect3"><span class="enumeration_section">1.11</span>不支持基于功能的索引</h3>
               <div>
                  <p>您无法在SDO_TOPO_GEOMETRY类型的列上创建基于函数的索引。</p>
                  <p>（ <a href="../adfns/indexes.html#ADFNS-GUID-44AD4D28-A056-4977-B2F7-AC1BC50EDC87" target="_blank"><span class="italic">Oracle数据库开发指南</span></a>和<a href="../admin/managing-indexes.html#ADMIN-GUID-EF5392C6-C38A-4206-BD47-353AD7793557" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a>中介绍了基于函数的索引。）
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TOPOL786"></a><div class="props_rev_3"><a id="GUID-637E97AE-C81B-444E-9683-89A143F803F3" name="GUID-637E97AE-C81B-444E-9683-89A143F803F3"></a><h3 id="TOPOL-GUID-637E97AE-C81B-444E-9683-89A143F803F3" class="sect3"><span class="enumeration_section">1.12</span>拓扑示例（PL / SQL）</h3>
               <div>
                  <p>本主题介绍了执行拓扑数据模型操作的简化PL / SQL示例。</p>
                  <p><a id="d4087e4771" class="indexterm-anchor"></a><a id="d4087e4775" class="indexterm-anchor"></a>这些示例涉及本章中介绍的概念。它们使用SDO_TOPO和SDO_TOPO_MAP函数和过程，这些函数和过程记录在<a href="SDO_TOPO-reference.html#GUID-6DEA5715-0B61-4C9C-BA3B-E258F7EB8E04" title="MDSYS.SDO_TOPO包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。该软件包主要包含用于创建和管理拓扑的子程序。">SDO_TOPO包子程序</a>和<a href="SDO_TOPO_MAP-reference.html#GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0" title="MDSYS.SDO_TOPO_MAP包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。">SDO_TOPO_MAP包子程序中</a> ，以及SDO_ANYINTERACT拓扑运算符（请参阅<a href="topology-data-model-overview.html#GUID-D658E5C8-7D9A-409F-90F2-E7A67C209C0C">拓扑运算符</a> ）。
                  </p>
                  <p>这两个示例均基于<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B" title="拓扑是与空间中的物体有关的数学分支。拓扑关系包括诸如包含，内部，覆盖，覆盖，触摸和与交叉边界重叠的关系。">拓扑数据模型概念</a>中<a href="topology-data-model-overview.html#GUID-77BD1C8C-D9A1-4165-B5BD-8B4A4B4F6D3B__BABCJFAD">图1-1</a>所示的“城市数据”拓扑，以及“功能”中<a href="topology-data-model-overview.html#GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14__CIHHABGI">图1-3</a>中所示的<a href="topology-data-model-overview.html#GUID-E72A0D11-FEC6-46EE-B752-67273BC76E14">功能</a> 。但是，创建的拓扑结构并不相同，因为根据空间和图形几何构建的拓扑（ <a href="topology-data-model-overview.html#GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567__CIHEIGCD">示例1-13</a> ）不包含为拓扑数据构建拓扑而定义的所有边，节点和面（ <a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285__CIHDDJBA">示例1-12）</a> ）。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285">拓扑数据构建的拓扑</a><br></li>
                     <li class="ulchildlink"><a href="topology-data-model-overview.html#GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567">从空间几何构建的拓扑</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL788"></a><a id="TOPOL787"></a><div class="props_rev_3"><a id="GUID-5CE0150C-4468-4AC9-9D80-78A17679C285" name="GUID-5CE0150C-4468-4AC9-9D80-78A17679C285"></a><h4 id="TOPOL-GUID-5CE0150C-4468-4AC9-9D80-78A17679C285" class="sect4"><span class="enumeration_section">1.12.1</span>拓扑数据构建的拓扑</h4>
                  <div>
                     <p><a href="topology-data-model-overview.html#GUID-5CE0150C-4468-4AC9-9D80-78A17679C285__CIHDDJBA">例1-12</a>使用从边数据，节点数据和面数据构建的拓扑。
                     </p>
                     <div class="example" id="GUID-5CE0150C-4468-4AC9-9D80-78A17679C285__CIHDDJBA">
                        <p class="titleinexample">例1-12拓扑数据构建的拓扑</p><pre class="oac_no_warn" dir="ltr">------------------------------  - 使用具有拓扑的拓扑数据模型的主要步骤 - 从边缘，节点构建和面部数据------------------------------  -  1。创建拓扑。-  2。加载（通常是批量加载）拓扑数据（节点，边和面）。-  3。创建要素表。-  4。将要素表与拓扑关联。-  5。初始化拓扑元数据。-  6。使用SDO_TOPO_GEOMETRY构造函数加载要素表。-  7。查询数据。-  8。（可选）使用PL / SQL或Java API编辑数据。 -  1。创建拓扑。（在此示例中为空SRID。）EXECUTE SDO_TOPO.CREATE_TOPOLOGY（'CITY_DATA'，0.00005）; -  2。加载拓扑数据（节点，边和面）。- 此处使用INSERT语句而不是批量加载实用程序。-  2A。将数据插入&lt;topology_name&gt; _EDGE $表。-  E1 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（1,1,1,1,1，-1，-1,1，-1 ，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（8,30,16,30,16,38,3,38,3,30,8,30）））; -  E2 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（2,2,2,3，-3，-2，-2,2， - 1，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（25,30,31,30,31,40,17,40,17,30,25,30）））; -  E3 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（3,2,3，-3,2,2,3,2,2，SDO_GEOMETRY） （2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（25,30,25,35）））; -  E4 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（4,5,6，-5，-4,4,5，-1， - 1，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（36,38,38,35,41,34,42,33,45,32,47,28,50,28,52 ，32,57,33）））; -  E5 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（5,7,6，-4，-5,5,4，-1， - 1，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（41,40,45,40,47,42,62,41,61,38,59,39,57,36,57 ，33）））; -  E6 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（6,16,17,7,21，-21,19，-1,3， SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（9,22,21,22）））; -  E7 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（7,17,18,8,6，-19,17，-1,4， SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（21,22,35,22）））; -  E8 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（8,18,19，-15,7，-17,15，-1,5 ，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（35,22,47,22）））; -  E9 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（9,15,14,19，-21，-22,20,3,6， SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（9,14,21,14）））; -  E10 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（10,13,14，-20,18,17，-19,7,4， SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（35,14,21,14）））; -  E11 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（11,13,12,15，-17，-18,16,5,8， SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（35,14,47,14）））; -  E12 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（12,8,9,20，-22,22，-13,6，-1） ，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（9,6,21,6）））; -  E13 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（13,9,10,18，-20，-12，-14,7， - 1，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（21,6,35,6）））; -  E14 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（14,10,11,16，-18，-13，-16,8， - 1，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（35,6,47,6）））; -  E15 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（15,12,19，-8,11，-16,8,5，-1 ，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（47,14,47,22）））; -  E16 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（16,11,12，-11,14，-14，-15,8， - 1，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（47,6,47,14）））; -  E17 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（17,13,18，-7，-10,11，-8,4,5） ，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（35,14,35,22）））; -  E18 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（18,10,13,10,13,14，-11,7,8，SDO_GEOMETRY） （2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（35,6,35,14）））; -  E19 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（19,14,17，-6,9,10，-7,3,4 ，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（21,14,21,22）））; -  E20 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（20,9,14，-9,12,13,10,6,7，SDO_GEOMETRY） （2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（21,6,21,14）））; -  E21 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（21,15,16,6,22,9，-6，-1,3， SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（9,14,9,22）））; -  E22 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（22,8,15,21，-12,12，-9，-1,6） ，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（9,6,9,14）））; -  E25 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（25,21,22，-25，-25,25,25,1,1， SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（9,35,13,35）））; -  E26 INSERT INTO city_data_edge $（edge_id，start_node_id，end_node_id，next_left_edge_id，prev_left_edge_id，next_right_edge_id，prev_right_edge_id，left_face_id，right_face_id，geometry）VALUES（26,20,20,26,26，-26，-26,9,1， SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（4,31,7,31,7,34,4,34,4,31）））; -  2B。将数据插入&lt;topology_name&gt; _NODE $表。-  N1 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（1,1，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（8,30，NULL），NULL，NULL））; -  N2 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（2,2，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（25,30，NULL），NULL，NULL））; -  N3 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（3，-3，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（25,35，NULL），NULL，NULL））; -  N4 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（4，NULL，2，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（20,37，NULL），NULL，NULL））; -  N5 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（5，4，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（36,38，NULL），NULL，NULL））; -  N6 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（6，-4，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（57,33，NULL），NULL，NULL））; -  N7 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（7,5，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（41,40，NULL），NULL，NULL））; -  N8 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（8,12，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（9,6，NULL），NULL，NULL））; -  N9 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（9,20，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（21,6，NULL），NULL，NULL））; -  N10 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（10,18，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（35,6，NULL），NULL，NULL））; -  N11 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（11，-14，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（47,6，NULL），NULL，NULL））; -  N12 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（12,15，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（47,14，NULL），NULL，NULL））; -  N13 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（13,17，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（35,14，NULL），NULL，NULL））; -  N14 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（14,19，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（21,14，NULL），NULL，NULL））; -  N15 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（15,21，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（9,14，NULL），NULL，NULL））; -  N16 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（16,6，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（9,22，NULL），NULL，NULL））; -  N17 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（17,7，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（21,22，NULL），NULL，NULL））; -  N18 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（18,8，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（35,22，NULL），NULL，NULL））; -  N19 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（19，-15，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（47,22，NULL），NULL，NULL））; -  N20 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（20,26，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（4,31，NULL），NULL，NULL））; -  N21 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（21,25，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（9,35，NULL），NULL，NULL））; -  N22 INSERT INTO city_data_node $（node_id，edge_id，face_id，geometry）VALUES（22，-25，NULL，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（13,35，NULL），NULL，NULL））; -  2C。将数据插入&lt;topology_name&gt; _FACE $表。-  F0（id = -1，而不是0）INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（-1，NULL，SDO_LIST_TYPE（-1，-2,4,6），SDO_LIST_TYPE（） ， 空值）; -  F1 INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（1,1，SDO_LIST_TYPE（25，-26），SDO_LIST_TYPE（），SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003， 3），SDO_ORDINATE_ARRAY（3,30,15,38）））; -  F2 INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（2,2，SDO_LIST_TYPE（），SDO_LIST_TYPE（4），SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3）， SDO_ORDINATE_ARRAY（17,30,31,40）））; -  F3 INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（3,19，SDO_LIST_TYPE（），SDO_LIST_TYPE（），SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY （9,14,21,22）））; -  F4 INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（4,17，SDO_LIST_TYPE（），SDO_LIST_TYPE（），SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY （21,14,35,22）））; -  F5 INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（5,15，SDO_LIST_TYPE（），SDO_LIST_TYPE（），SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY （35,14,47,22）））; -  F6 INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（6,20，SDO_LIST_TYPE（），SDO_LIST_TYPE（），SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY （9,6,21,14）））; -  F7 INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（7,10，SDO_LIST_TYPE（），SDO_LIST_TYPE（），SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY （21,6,35,14）））; -  F8 INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（8,16，SDO_LIST_TYPE（），SDO_LIST_TYPE（），SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY （35,6,47,14）））; -  F9 INSERT INTO city_data_face $（face_id，boundary_edge_id，island_edge_id_list，island_node_id_list，mbr_geometry）VALUES（9,26，SDO_LIST_TYPE（），SDO_LIST_TYPE（），SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY （4,31,7,34）））; -  3。创建要素表。CREATE TABLE land_parcels（ - 地块（选定的面）feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; CREATE TABLE city_streets（ - 城市街道（选定边）feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; CREATE TABLE traffic_signs（ - 交通标志（选定节点）feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; -  4。将要素表与拓扑关联。- 将三个拓扑几何图层添加到CITY_DATA拓扑中。- 任何订单都可以。 EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'CITY_DATA'，'LAND_PARCELS'，'FEATURE'，'POLYGON'）; EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'CITY_DATA'，'TRAFFIC_SIGNS'，'FEATURE'，'POINT'）; EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'CITY_DATA'，'CITY_STREETS'，'FEATURE'，'LINE'）; - 因此，Spatial和Graph为拓扑元数据（USER / ALL_SDO_TOPO_METADATA）中的每个层生成唯一的TG_LAYER_ID。-  5。初始化拓扑元数据。EXECUTE SDO_TOPO.INITIALIZE_METADATA（'CITY_DATA'）; -  6。使用SDO_TOPO_GEOMETRY构造函数加载要素表。- 每个拓扑特征可以包含一个或多个适当类型的对象（面，边，节点）。例如，地块可以包含一个面，或两个或更多个面，如SDO_TOPO_OBJECT_ARRAY中所指定。 - 通常比面，节点和边缘更少的特征。- 在此示例中，唯一的功能包括： - 区域要素（地块）：P1，P2，P3，P4，P5  - 点要素（交通标志）：S1，S2，S3，S4  - 线性要素（道路/街道）：R1，R2，R3，R4  -  6A。加载LAND_PARCELS表。-  P1 INSERT INTO land_parcels VALUES（'P1'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称3， - 拓扑几何类型（多边形/多边形）1， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA） SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（3,3）， -  face_id = 3 SDO_TOPO_OBJECT（6,3））） -  face_id = 6）; -  P2 INSERT INTO land_parcels VALUES（'P2'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称3， - 拓扑几何类型（多边形/多边形）1， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA） SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（4,3）， -  face_id = 4 SDO_TOPO_OBJECT（7,3））） -  face_id = 7）; -  P3 INSERT INTO land_parcels VALUES（'P3'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称3， - 拓扑几何类型（多边形/多边形）1， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA） SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（5,3）， -  face_id = 5 SDO_TOPO_OBJECT（8,3））） -  face_id = 8）; -  P4 INSERT INTO land_parcels VALUES（'P4'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称3， - 拓扑几何类型（多边形/多边形）1， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA） SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT（2,3））） -  face_id = 2）; -  P5（包括F1，但不包括F9。）INSERT INTO land_parcels VALUES（'P5'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称3， - 拓扑几何类型（多边形/多边形）1， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY（SDO_TOPO_OBJECT （1,3））） -  face_id = 1）; -  6B。加载TRAFFIC_SIGNS表。-  S1 INSERT INTO traffic_signs VALUES（'S1'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称1， - 拓扑几何类型（点）2， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY（ SDO_TOPO_OBJECT（14,1））） -  node_id = 14）; -  S2 INSERT INTO traffic_signs VALUES（'S2'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称1， - 拓扑几何类型（点）2， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY（ SDO_TOPO_OBJECT（13,1））） -  node_id = 13）; -  S3 INSERT INTO traffic_signs VALUES（'S3'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称1， - 拓扑几何类型（点）2， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY（ SDO_TOPO_OBJECT（6,1））） -  node_id = 6）; -  S4 INSERT INTO traffic_signs VALUES（'S4'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称1， - 拓扑几何类型（点）2， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY（ SDO_TOPO_OBJECT（4,1））） -  node_id = 4）; -  6C。加载CITY_STREETS表。- （注意：功能名称中的“R”表示“Road”，因为“S”用于标记。）-  R1 INSERT INTO city_streets VALUES（'R1'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称2， - 拓扑几何类型（线串）3， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY （SDO_TOPO_OBJECT（9,2），SDO_TOPO_OBJECT（-10,2），SDO_TOPO_OBJECT（11,2））） -  edge_ids = 9，-10,11）; -  R2 INSERT INTO city_streets VALUES（'R2'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称2， - 拓扑几何类型（线串）3， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY （SDO_TOPO_OBJECT（4,2），SDO_TOPO_OBJECT（-5,2））） -  edge_ids = 4，-5）; -  R3 INSERT INTO city_streets VALUES（'R3'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称2， - 拓扑几何类型（线串）3， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY （SDO_TOPO_OBJECT（25,2））） -  edge_id = 25）; -  R4 INSERT INTO city_streets VALUES（'R4'， - 功能名称SDO_TOPO_GEOMETRY（'CITY_DATA'， - 拓扑名称2， - 拓扑几何类型（线串）3， - 此拓扑的TG_LAYER_ID（来自ALL_SDO_TOPO_METADATA）SDO_TOPO_OBJECT_ARRAY （SDO_TOPO_OBJECT（3,2））） -  edge_id = 3）; -  7。查询数据。SELECT a.feature_name，a.feature.tg_id，a.feature.get_geometry（）FROM land_parcels a; / * Window是city_streets * / SELECT a.feature_name，b.feature_name FROM city_streets b，land_parcels a WHERE b.feature_name like'R％'AND sdo_anyinteract（a.feature，b.feature）='TRUE'ORDER BY b.feature_name ，a.feature_name; - 查找与地块P3有任何交互的所有街道。- （只应返回R1。）SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_ANYINTERACT（c.feature，l.feature）='TRUE'; - 查找与交通标志S1有任何交互的所有地块。- （应该返回P1和P2。）SELECT l.feature_name FROM land_parcels l，traffic_signs t WHERE t.feature_name ='S1'AND SDO_ANYINTERACT（l.feature，t.feature）='TRUE'; - 获取地块P1的几何图形。SELECT l.feature_name，l.feature.get_geometry（）FROM land_parcels l WHERE l.feature_name ='P1'; - 使用face_id 3获取面部边界。SELECT SDO_TOPO.GET_FACE_BOUNDARY（'CITY_DATA'，3）FROM DUAL; - 获取地块P2的拓扑元素。-  CITY_DATA图层，地块（tg_ layer_id = 1），地块P2（tg_id = 2）SELECT SDO_TOPO.GET_TOPO_OBJECTS（'CITY_DATA'，1,2）FROM DUAL;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3" title="本主题介绍了执行拓扑数据模型操作的简化PL / SQL示例。">拓扑示例（PL / SQL）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL790"></a><a id="TOPOL789"></a><div class="props_rev_3"><a id="GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567" name="GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567"></a><h4 id="TOPOL-GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567" class="sect4"><span class="enumeration_section">1.12.2</span>从空间几何构建的拓扑</h4>
                  <div>
                     <p><a href="topology-data-model-overview.html#GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567__CIHEIGCD">示例1-13</a>使用从Oracle Spatial和Graph几何数据构建的拓扑。
                     </p>
                     <div class="example" id="GUID-DBAC0970-11EF-4DB3-837F-C8FED33B2567__CIHEIGCD">
                        <p class="titleinexample">例1-13根据空间几何构建的拓扑</p><pre class="oac_no_warn" dir="ltr">------------------------------  - 使用具有拓扑的拓扑数据模型的主要步骤 - 从空间和图形构建几何数据------------------------------  -  1。创建拓扑。-  2。插入Universe面（F0）。 （id = -1，而不是0） -  3。创建要素表。-  4。将要素表与拓扑关联。-  5。初始化拓扑元数据。-  6。创建TopoMap对象并将整个拓扑加载到 -  cache以进行更新。-  7。加载要素表，从空间表插入数据，以及 - 使用SDO_TOPO_MAP.CREATE_FEATURE。 -  8。查询数据。-  9。（可选）使用PL / SQL或Java API编辑数据。 - 此示例的初步工作（通常要使用的东西 - 使用Oracle Spatial和Graph的数据）： -  *创建空间表。-  *更新空间元数据（USER_SDO_GEOM_METADATA）。-  *将数据加载到空间表中。-  *验证空间数据（验证图层）。-  *创建空间索引。- 创建几何要素的空间表：名称和几何。CREATE TABLE city_streets_geom（ - 城市街道/道路名称VARCHAR2（30）PRIMARY KEY，geometry SDO_GEOMETRY）; CREATE TABLE traffic_signs_geom（ - 交通标志名称VARCHAR2（30）PRIMARY KEY，geometry SDO_GEOMETRY）; CREATE TABLE land_parcels_geom（ - 地块名称VARCHAR2（30）PRIMARY KEY，几何SDO_GEOMETRY）; INSERT INTO user_sdo_geom_metadata（TABLE_NAME，COLUMN_NAME，DIMINFO，SRID）VALUES（'CITY_STREETS_GEOM'，'GEOMETRY'，SDO_DIM_ARRAY（SDO_DIM_ELEMENT（'X'，0,65,1.005），SDO_DIM_ELEMENT（'Y'，0,45,1.005）） ，NULL  -  SRID）; INSERT INTO user_sdo_geom_metadata（TABLE_NAME，COLUMN_NAME，DIMINFO，SRID）VALUES（'TRAFFIC_SIGNS_GEOM'，'GEOMETRY'，SDO_DIM_ARRAY（SDO_DIM_ELEMENT（'X'，0,65,1.005），SDO_DIM_ELEMENT（'Y'，0,45,1.005）） ，NULL  -  SRID）; INSERT INTO user_sdo_geom_metadata（TABLE_NAME，COLUMN_NAME，DIMINFO，SRID）VALUES（'LAND_PARCELS_GEOM'，'GEOMETRY'，SDO_DIM_ARRAY（SDO_DIM_ELEMENT（'X'，0,65,1.005），SDO_DIM_ELEMENT（'Y'，0,45,1.005）） ，NULL  -  SRID）; - 加载这些表格（城市街道/道路的名称和几何形状， - 交通标志和地块）。- 将数据插入城市街道几何线。-  R1 INSERT INTO city_streets_geom VALUES（'R1'，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（9,14,21,14,35,14,47,14）））; -  R2 INSERT INTO city_streets_geom VALUES（'R2'，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（36,38,38,35,41,34,42,33,45,32） ，47,28,50,28,52,32,57,33,57,36,59,39,61,38,62,41,47,42,45,40,41,40）））; -  R3 INSERT INTO city_streets_geom VALUES（'R3'，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（9,35,13,35）））; -  R4 INSERT INTO city_streets_geom VALUES（'R4'，SDO_GEOMETRY（2002，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,2,1），SDO_ORDINATE_ARRAY（25,30,25,35）））; - 将数据插入交通标志点几何图形。-  S1 INSERT INTO traffic_signs_geom VALUES（'S1'，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（21,14，NULL），NULL，NULL））; -  S2 INSERT INTO traffic_signs_geom VALUES（'S2'，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（35,14，NULL），NULL，NULL））; -  S3 INSERT INTO traffic_signs_geom VALUES（'S3'，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（57,33，NULL），NULL，NULL））; -  S4 INSERT INTO traffic_signs_geom VALUES（'S4'，SDO_GEOMETRY（2001，NULL，SDO_POINT_TYPE（20,37，NULL），NULL，NULL））; - 将数据插入到地块多边形几何中。-  P1 INSERT INTO land_parcels_geom VALUES（'P1'，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（9,6,21,6,21,14,21,22,9,22） ，9,14,9,6）））; -  P2 INSERT INTO land_parcels_geom VALUES（'P2'，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（21,6,35,6,35,14,35,22,21,22） ，21,14,21,6）））; -  P3 INSERT INTO land_parcels_geom VALUES（'P3'，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（35,6,47,6,47,14,47,22,35,22） ，35,14,35,6）））; -  P4 INSERT INTO land_parcels_geom VALUES（'P4'，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1），SDO_ORDINATE_ARRAY（17,30,31,30,31,40,17,40,17,30） ）））; -  P5（带孔的多边形;外环和一个内环）INSERT INTO land_parcels_geom VALUES（'P5'，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1,11,2003,1），SDO_ORDINATE_ARRAY（ 3,30,16,30,16,38,3,38,3,30,4,31,4,34,7,34,7,31,4,31）））; - 验证图层。create table val_results（sdo_rowid ROWID，result VARCHAR2（2000））;调用SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT（'CITY_STREETS_GEOM'，'GEOMETRY'，'VAL_RESULTS'）; SELECT *来自val_results; truncate table val_results;调用SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT（'TRAFFIC_SIGNS_GEOM'，'GEOMETRY'，'VAL_RESULTS'）; SELECT *来自val_results; truncate table val_results;调用SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT（'LAND_PARCELS_GEOM'，'GEOMETRY'，'VAL_RESULTS'）; SELECT *来自val_results; drop table val_results; - 创建空间索引。CREATE INDEX city_streets_geom_idx ON city_streets_geom（geometry）INDEXTYPE IS MDSYS.SPATIAL_INDEX; CREATE INDEX traffic_signs_geom_idx ON traffic_signs_geom（geometry）INDEXTYPE IS MDSYS.SPATIAL_INDEX; CREATE INDEX land_parcels_geom_idx ON land_parcels_geom（geometry）INDEXTYPE IS MDSYS.SPATIAL_INDEX; - 启动使用拓扑数据模型的主要步骤 - 从空间几何数据构建拓扑。-  1。创建拓扑。（在此示例中为空SRID。）EXECUTE SDO_TOPO.CREATE_TOPOLOGY（'CITY_DATA'，0.00005）; -  2。插入Universe面（F0）。 （id = -1，而不是0）INSERT INTO CITY_DATA_FACE $ values（-1，NULL，SDO_LIST_TYPE（），SDO_LIST_TYPE（），NULL）;承诺; -  3。创建要素表。CREATE TABLE city_streets（ - 城市街道/道路feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; CREATE TABLE traffic_signs（ -  Traffic signs feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; CREATE TABLE land_parcels（ -  Land parcels feature_name VARCHAR2（30）PRIMARY KEY，功能SDO_TOPO_GEOMETRY）; -  4。将要素表与拓扑关联。- 将三个拓扑几何图层添加到CITY_DATA拓扑中。- 任何订单都可以。 EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'CITY_DATA'，'CITY_STREETS'，'FEATURE'，'LINE'）; EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'CITY_DATA'，'TRAFFIC_SIGNS'，'FEATURE'，'POINT'）; EXECUTE SDO_TOPO.ADD_TOPO_GEOMETRY_LAYER（'CITY_DATA'，'LAND_PARCELS'，'FEATURE'，'POLYGON'）; - 因此，Spatial和Graph为拓扑元数据（USER / ALL_SDO_TOPO_METADATA）中的每个层生成唯一的TG_LAYER_ID。-  5。初始化拓扑元数据。EXECUTE SDO_TOPO.INITIALIZE_METADATA（'CITY_DATA'）; -  6。创建TopoMap对象并将整个拓扑加载到缓存中以进行更新。EXECUTE SDO_TOPO_MAP.CREATE_TOPO_MAP（'CITY_DATA'，'CITY_DATA_TOPOMAP'）; EXECUTE SDO_TOPO_MAP.LOAD_TOPO_MAP（'CITY_DATA_TOPOMAP'，'true'）; -  7。加载要素表，从空间表插入数据，以及 - 使用SDO_TOPO_MAP.CREATE_FEATURE。 BEGIN FOR street_rec IN（SELECT name，geometry FROM city_streets_geom）LOOP INSERT INTO city_streets VALUES（street_rec.name，SDO_TOPO_MAP.CREATE_FEATURE（'CITY_DATA'，'CITY_STREETS'，'FEATURE'，street_rec.geometry））;结束循环; FOR sign_rec IN（SELECT name，geometry FROM traffic_signs_geom）LOOP INSERT INTO traffic_signs VALUES（sign_rec.name，SDO_TOPO_MAP.CREATE_FEATURE（'CITY_DATA'，'TRAFFIC_SIGNS'，'FEATURE'，sign_rec.geometry））;结束循环; FOR parcel_rec IN（SELECT name，geometry FROM land_parcels_geom）LOOP INSERT INTO land_parcels VALUES（parcel_rec.name，SDO_TOPO_MAP.CREATE_FEATURE（'CITY_DATA'，'LAND_PARCELS'，'FEATURE'，parcel_rec.geometry））;结束循环;结束; / CALL SDO_TOPO_MAP.COMMIT_TOPO_MAP（）; CALL SDO_TOPO_MAP.DROP_TOPO_MAP（'CITY_DATA_TOPOMAP'）; -  8。查询数据。SELECT a.feature_name，a.feature.tg_id，a.feature.get_geometry（）FROM land_parcels a; SELECT a.feature_name，a.feature.tg_id，a.feature.get_geometry（）FROM city_streets a; SELECT a.feature_name，a.feature.tg_id，a.feature.get_geometry（）FROM traffic_signs a; SELECT sdo_topo.get_face_boundary（'CITY_DATA'，face_id），face_id FROM city_data_face $; SELECT sdo_topo.get_face_boundary（'CITY_DATA'，face_id），face_id FROM city_data_face $; SELECT sdo_topo.get_face_boundary（'CITY_DATA'，face_id，'TRUE'），face_id FROM city_data_face $; - 获取拓扑元素。选择一个。FEATURE_NAME，sdo_topo.get_topo_objects（'CITY_DATA'，a.feature。TG_LAYER_ID，a.feature。TG_ID）FROM land_parcels a;选择一个。FEATURE_NAME，sdo_topo.get_topo_objects（'CITY_DATA'，a.feature。TG_LAYER_ID，a.feature。TG_ID）FROM city_streets a;选择一个。FEATURE_NAME，sdo_topo.get_topo_objects（'CITY_DATA'，a.feature。TG_LAYER_ID，a.feature。TG_ID）FROM traffic_signs a; SELECT sdo_topo.get_topo_objects（'CITY_DATA'，sdo_geometry（2003，null，null，sdo_elem_info_array（1,1003,3），sdo_ordinate_array（1,1,20,20）））FROM DUAL; SELECT sdo_topo.get_topo_objects（'CITY_DATA'，sdo_geometry（2003，null，null，sdo_elem_info_array（1,1003,3），sdo_ordinate_array（17,30,31,40）））FROM DUAL; - 查找与查询窗口交互的所有城市街道。SELECT c.feature_name FROM city_streets c WHERE SDO_ANYINTERACT（c.feature，SDO_GEOMETRY（2003，NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,3），SDO_ORDINATE_ARRAY（5,5,30,40）））='TRUE'; - 查找与地块P3有任何交互的所有街道。- （只应返回R1。）SELECT c.feature_name FROM city_streets c，land_parcels l WHERE l.feature_name ='P3'AND SDO_ANYINTERACT（c.feature，l.feature）='TRUE'; - 查找与交通标志S1有任何交互的所有地块。- （应该返回P1和P2。）SELECT l.feature_name FROM land_parcels l，traffic_signs t WHERE t.feature_name ='S1'AND SDO_ANYINTERACT（l.feature，t.feature）='TRUE'; - 获取地块P1的几何图形。SELECT l.feature_name，l.feature.get_geometry（）FROM land_parcels l WHERE l.feature_name ='P1'; - 查询SDO_TOPO_GEOMETRY属性，SELECT s.feature.tg_type FROM city_streets s; SELECT s.feature.tg_id FROM city_streets s; SELECT s.feature.tg_layer_id FROM city_streets s; SELECT s.feature.topology_id FROM city_streets s; - 拓扑特定的函数 - 使用face_id 3获取面的边界。SELECT SDO_TOPO.GET_FACE_BOUNDARY（'CITY_DATA'，3）FROM DUAL; - 尝试'TRUE'作为第三个参数。从DUAL中选择SDO_TOPO.GET_FACE_BOUNDARY（'CITY_DATA'，3，'TRUE'）; - 使用face_id 2获取面部边界。SELECT SDO_TOPO.GET_FACE_BOUNDARY（'CITY_DATA'，2）FROM DUAL; - 尝试'TRUE'作为第三个参数。从DUAL中选择SDO_TOPO.GET_FACE_BOUNDARY（'CITY_DATA'，2，'TRUE'）; - 使用face_id 1获取面部边界。SELECT SDO_TOPO.GET_FACE_BOUNDARY（'CITY_DATA'，1）FROM DUAL; - 为all_edges参数指定“TRUE”。从DUAL中选择SDO_TOPO.GET_FACE_BOUNDARY（'CITY_DATA'，1，'TRUE'）; -  CITY_DATA图层，地块（tg_ layer_id = 1），地块P2（tg_id = 2）SELECT SDO_TOPO.GET_TOPO_OBJECTS（'CITY_DATA'，1,2）FROM DUAL; -  10。（可选）使用PL / SQL或Java API编辑数据。</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-637E97AE-C81B-444E-9683-89A143F803F3" title="本主题介绍了执行拓扑数据模型操作的简化PL / SQL示例。">拓扑示例（PL / SQL）</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL791"></a><div class="props_rev_3"><a id="GUID-43C622BE-1149-4A40-9368-67C7D1EF13E9" name="GUID-43C622BE-1149-4A40-9368-67C7D1EF13E9"></a><h3 id="TOPOL-GUID-43C622BE-1149-4A40-9368-67C7D1EF13E9" class="sect3"><span class="enumeration_section">1.13</span>空间和图形以及相关功能的自述文件</h3>
               <div>
                  <div><span><code class="codeph">README.txt</code>文件补充了以下手册中的信息：</span> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/topol&amp;id=SPATL" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a> ， <a href="../geors/index.html" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster开发人员指南</span></a> ，以及<span class="italic">Oracle Spatial and Graph拓扑数据模型和网络数据模型图开发人员指南</span> （本手册）。
                  </div>
                  <p>该文件位于：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">$ ORACLE_HOME</span> /md/doc/README.txt</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="topology-data-model-overview.html#GUID-3F069A32-CCDC-4DBA-87A5-21D501DBBD6D" title="Oracle Spatial and Graph的拓扑数据模型功能使您可以处理拓扑中有关节点，边和面的数据。">拓扑数据模型概述</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>