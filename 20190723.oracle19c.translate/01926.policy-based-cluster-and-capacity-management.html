<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>基于策略的集群和容量管理</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Clusterware Administration and Deployment Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Clusterware Administration and Deployment Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="clusterware-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-24T07:05:38-07:00"></meta>
      <meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95727-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-clusterware-administration.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-flex-clusters.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CWADD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-clusterware-administration.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-flex-clusters.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">“Clusterware管理和部署指南”</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">基于策略的集群和容量管理</li>
            </ol>
            <a id="GUID-B591A9DF-BEB1-4B72-B665-7416BEA27C7A" name="GUID-B591A9DF-BEB1-4B72-B665-7416BEA27C7A"></a><a id="CWADD92894"></a>
            
            <h2 id="CWADD-GUID-B591A9DF-BEB1-4B72-B665-7416BEA27C7A" class="sect2"><span class="enumeration_chapter">3</span>基于策略的集群和容量管理</h2>
         </header>
         <div class="ind">
            <div>
               <div>Oracle Clusterware使用<span class="italic">基于策略的</span> Oracle数据库或应用程序使用的服务器和资源<span class="italic">管理</span> 。
               </div>
               <p>本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="policy-based-cluster-and-capacity-management.html#GUID-42F6324B-8A51-4FDE-9E9B-38B058F227A5" title="Oracle Clusterware管理的资源包含在称为服务器池的逻辑服务器组中。这是在Oracle Clusterware 11g第2版（11.2）中引入的。">服务器池和基于策略的管理概述</a></p>
                  </li>
                  <li>
                     <p><a href="policy-based-cluster-and-capacity-management.html#GUID-C0D8A868-2AC4-485C-B558-E60E3977BB81">默认服务器池</a></p>
                  </li>
                  <li>
                     <p><a href="policy-based-cluster-and-capacity-management.html#GUID-F936D4CA-C277-4F22-A701-5DC28B6C5D49" title="通过服务器分类，您可以使用处理器类型，内存和其他区分系统功能等属性将服务器组织到特定类别中。">服务器分类概述</a></p>
                  </li>
                  <li>
                     <p><a href="policy-based-cluster-and-capacity-management.html#GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B" title="群集配置策略是一个文档，其中只包含群集配置策略集管理的每个服务器池的一个定义。群集配置策略集是一个文档，用于定义为群集配置的所有服务器池的名称以及所有策略的定义。">群集配置策略和策略集概述</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-clusterware-administration.html#GUID-3C3E0790-166E-4D94-B008-AEF8458FAF60" title="您可以配置Oracle Clusterware故障恢复机制，以选择在专用网络（群集互连）发生故障时终止或退出的群集节点。">基于服务器权重的节点驱逐</a></p>
                  </li>
                  <li>
                     <p><a href="policy-based-cluster-and-capacity-management.html#GUID-E2FF8C6E-DA09-442A-BFD4-6624A7725FA0" title="您可以配置数据库，以便Oracle Clusterware了解给定数据库的CPU要求和限制。">负载感知资源放置</a></p>
                  </li>
                  <li>
                     <p><a href="policy-based-cluster-and-capacity-management.html#GUID-FE8344A9-3133-4534-B91E-0E52FF9573FF" title="只要将服务器添加到群集，Oracle Clusterware就会为每个服务器分配一组属性。">服务器配置和服务器状态属性</a></p>
                  </li>
                  <li>
                     <p><a href="policy-based-cluster-and-capacity-management.html#GUID-C12500DD-8097-41C7-93E3-089A49CBE7F6" title="您将服务器定义为命名类别，并指定将服务器定义为该类别成员的属性。">服务器类别属性</a></p>
                  </li>
                  <li>
                     <p><a href="policy-based-cluster-and-capacity-management.html#GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9">示例策略集配置</a></p>
                  </li>
               </ul>
            </div><a id="CWADD92105"></a><div class="props_rev_3"><a id="GUID-42F6324B-8A51-4FDE-9E9B-38B058F227A5" name="GUID-42F6324B-8A51-4FDE-9E9B-38B058F227A5"></a><h3 id="CWADD-GUID-42F6324B-8A51-4FDE-9E9B-38B058F227A5" class="sect3">服务器池和基于策略的管理概述</h3>
               <div>
                  <p>Oracle Clusterware管理的资源包含在称为服务器池的逻辑服务器组中。这是在Oracle Clusterware <span class="italic">11g第</span> 2版（11.2）中引入的。
                  </p>
                  <p> <a href="glossary.html#GUID-B375E495-7564-43CB-898D-7596D72CEFD7"><span class="xrefglossterm">资源</span></a>托管在共享基础架构上，并包含在<a href="glossary.html#GUID-66A38066-F8A7-4689-8F5A-76BE2F05087D"><span class="xrefglossterm">服务器池中</span></a> 。Oracle Clusterware管理的资源示例包括数据库实例，数据库服务，应用程序VIP和应用程序组件。
                  </p>
                  <p>在Oracle Cluster中，您可以使用服务器池在集群成员节点上运行特定类型的工作负载，同时提供简化的管理选项。您可以使用<a href="glossary.html#GUID-E272281E-95DD-41CB-BE6D-960EFCEC2A89"><span class="xrefglossterm">群集配置策略集</span></a>来跨群集提供群集策略的动态管理。
                  </p>
                  <p>您可以使用Oracle Clusterware <span class="italic">11g第</span> 2版（11.2）服务器池模型继续管理Oracle Clusterware标准群集中的资源，也可以使用传统的固定非服务器池方法手动管理资源。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="policy-based-cluster-and-capacity-management.html#GUID-4BBA2ACF-DDCF-49EB-8914-53C9E72F540C">服务器池和服务器分类</a></p>
                     </li>
                     <li>
                        <p><a href="policy-based-cluster-and-capacity-management.html#GUID-F694B07D-EAF7-4E8A-B05A-125FEF3F0C23" title="通过基于策略的管理，管理员可以指定运行服务器的服务器池（不包括通用池和空闲池）。">服务器池和基于策略的管理</a></p>
                     </li>
                     <li>
                        <p><a href="policy-based-cluster-and-capacity-management.html#GUID-4473E9CE-8431-47E3-90F6-06181BA5A906">服务器池如何工作</a></p>
                     </li>
                     <li>
                        <p><a href="policy-based-cluster-and-capacity-management.html#GUID-C0D8A868-2AC4-485C-B558-E60E3977BB81">默认服务器池</a></p>
                     </li>
                     <li>
                        <p><a href="policy-based-cluster-and-capacity-management.html#GUID-E5103867-6683-4D5C-9343-1F1F2522FEF3" title="您可以使用SRVCTL或CRSCTL分别为数据库和其他应用程序创建服务器池。">服务器池属性</a></p>
                     </li>
                     <li>
                        <p><a href="policy-based-cluster-and-capacity-management.html#GUID-3D052F0B-D699-41FC-A882-0E445F0751DD">Oracle Clusterware如何使用服务器池分配新服务器</a></p>
                     </li>
                     <li>
                        <p><a href="policy-based-cluster-and-capacity-management.html#GUID-808ABE82-11E5-472A-995C-7B8095A0086F">使用默认属性管理服务器池</a></p>
                     </li>
                  </ul>
               </div><a id="CWADD92632"></a><div class="props_rev_3"><a id="GUID-4BBA2ACF-DDCF-49EB-8914-53C9E72F540C" name="GUID-4BBA2ACF-DDCF-49EB-8914-53C9E72F540C"></a><h4 id="CWADD-GUID-4BBA2ACF-DDCF-49EB-8914-53C9E72F540C" class="sect4">服务器池和服务器分类</h4>
                  <div>
                     <p>管理员可以通过识别由特定属性区分的服务器（称为<a href="glossary.html#GUID-AD369E87-BEDD-4CC3-AED6-E94B7DBDCFCF"><span class="xrefglossterm">服务器分类</span></a>的过程），使用服务器池动态部署和管理服务器。通过这种方式，您可以创建由异构节点组成的集群。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="policy-based-cluster-and-capacity-management.html#GUID-F936D4CA-C277-4F22-A701-5DC28B6C5D49" title="通过服务器分类，您可以使用处理器类型，内存和其他区分系统功能等属性将服务器组织到特定类别中。">服务器分类概述</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD92633"></a><div class="props_rev_3"><a id="GUID-F694B07D-EAF7-4E8A-B05A-125FEF3F0C23" name="GUID-F694B07D-EAF7-4E8A-B05A-125FEF3F0C23"></a><h4 id="CWADD-GUID-F694B07D-EAF7-4E8A-B05A-125FEF3F0C23" class="sect4">服务器池和基于策略的管理</h4>
                  <div>
                     <p>通过基于策略的管理，管理员可以指定运行服务器的服务器池（不包括通用池和空闲池）。</p>
                     <p>例如，数据库管理员使用SRVCTL为托管数据库或数据库服务的服务器创建服务器池。集群件管理员使用CRSCTL为非数据库使用创建服务器池，例如为托管应用程序的服务器创建服务器池。</p>
                     <p>基于政策的管理：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>根据定义的策略启用在线服务器重新分配，以满足工作负载容量要求</p>
                        </li>
                        <li>
                           <p>保证为策略定义的关键工作分配所需资源</p>
                        </li>
                        <li>
                           <p>确保在必要时进行隔离，以便您可以在群集中为应用程序和数据库提供专用服务器</p>
                        </li>
                        <li>
                           <p>允许将策略配置为根据业务需求或应用程序需求更改池，以便池在适当的时间提供所需的容量</p>
                        </li>
                     </ul>
                     <p>服务器池提供资源隔离，以防止在一个服务器池中运行的应用程序访问在另一个服Oracle Clusterware在服务器池之间提供细粒度的角色分离。此功能在具有由不同组管理的集群环境的组织中维护这些组之间所需的管理角色分离。</p>
                     <p>Oracle Clusterware可以有效地在群集中分配服务器。创建服务器池时定义的服务器池属性根据<code class="codeph">IMPORTANCE</code>服务器池属性指定服务器的放置和优先级。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-clusterware-resource-reference.html#GUID-9C074F34-F180-4200-A99B-72186DAB56E1" title="每个INSTANCE_COUNT个资源实例的整数不同。资源组属性，包含标记为资源组关键的资源列表。描述了SERVER_POOLS资源属性。属于资源组的资源列表。当资源添加到组时，Oracle Clusterware会填充和更新此属性。">Oracle Clusterware资源参考</a></li>
                           <li><a href="policy-based-cluster-and-capacity-management.html#GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B" title="群集配置策略是一个文档，其中只包含群集配置策略集管理的每个服务器池的一个定义。群集配置策略集是一个文档，用于定义为群集配置的所有服务器池的名称以及所有策略的定义。">群集配置策略和策略集概述</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD00100"></a><div class="props_rev_3"><a id="GUID-4473E9CE-8431-47E3-90F6-06181BA5A906" name="GUID-4473E9CE-8431-47E3-90F6-06181BA5A906"></a><h4 id="CWADD-GUID-4473E9CE-8431-47E3-90F6-06181BA5A906" class="sect4">服务器池如何工作</h4>
                  <div>
                     <p>服务器池将群集划分为托管单例和统一应用程序的逻辑服务器组。应用程序可以是数据库服务或非数据库应用程序。当应用程序工作负载分布在服务器池中的所有服务器上时，应用程序是<span class="italic">统一</span>的。当应用程序在服务器池中的单个服务器上运行时，它是<span class="italic">单例</span> 。Oracle Clusterware角色分离管理确定对服务器池的访问和使用。
                     </p>
                     <p>您使用服务器控制（SRVCTL）实用程序管理包含Oracle RAC数据库的服务器池。使用Oracle Clusterware Control（CRSCTL）实用程序来管理所有其他服务器池。只有群集管理员才有权创建顶级服务器池。</p>
                     <p>数据库管理员使用服务器控制（SRVCTL）实用程序来创建和管理将包含Oracle RAC数据库的服务器池。群集管理员使用Oracle Clusterware Control（CRSCTL）实用程序来创建和管理所有其他服务器池，例如非数据库应用程序的服务器池。只有群集管理员才有权创建顶级服务器池。</p>
                     <p>顶级服务器池：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>逻辑划分群集</p>
                        </li>
                        <li>
                           <p>始终是独占的，这意味着一个服务器在某个特定时间点只能驻留在一个特定的服务器池中</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CWADD92594"></a><div class="props_rev_3"><a id="GUID-C0D8A868-2AC4-485C-B558-E60E3977BB81" name="GUID-C0D8A868-2AC4-485C-B558-E60E3977BB81"></a><h4 id="CWADD-GUID-C0D8A868-2AC4-485C-B558-E60E3977BB81" class="sect4">默认服务器池</h4>
                  <div>
                     <p>安装Oracle Clusterware时，会自动创建两个内部服务器池： <a id="d19633e929" class="indexterm-anchor"></a><a id="d19633e933" class="indexterm-anchor"></a> <span class="italic">通用</span>和<a id="d19633e938" class="indexterm-anchor"></a><a id="d19633e942" class="indexterm-anchor"></a> <span class="italic">免费</span>最初，新安装中的所有服务器都分配给Free服务器池。服务器自动从Free迁移到新定义的服务器池。
                     </p>
                  </div><a id="CWADD00101"></a><div class="props_rev_3"><a id="GUID-6926010B-599E-49A4-BBE2-9DF02198CB8C" name="GUID-6926010B-599E-49A4-BBE2-9DF02198CB8C"></a><h5 id="CWADD-GUID-6926010B-599E-49A4-BBE2-9DF02198CB8C" class="sect5">免费服务器池</h5>
                     <div>
                        <p>该<a id="d19633e1065" class="indexterm-anchor"></a>空闲服务器池包含未分配给任何其他服务器池的服务器。Free服务器池的属性受到限制，如下所示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>用户无法编辑<code class="codeph">SERVER_NAMES</code> ， <code class="codeph">MIN_SIZE</code>和<code class="codeph">MAX_SIZE</code></p>
                           </li>
                           <li>
                              <p>用户可以编辑<code class="codeph">IMPORTANCE</code>和<code class="codeph">ACL</code></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CWADD91261"></a><div class="props_rev_3"><a id="GUID-7D6B445B-AB49-4B9B-A8AB-35276C32FED7" name="GUID-7D6B445B-AB49-4B9B-A8AB-35276C32FED7"></a><h5 id="CWADD-GUID-7D6B445B-AB49-4B9B-A8AB-35276C32FED7" class="sect5">通用服务器池</h5>
                     <div>
                        <p>该<a id="d19633e1208" class="indexterm-anchor"></a>通用服务器池存储不在顶级服务器池中且不受策略管理的任何服务器。托管非策略管理的应用程序的服务器（例如管理员管理的数据库）将静态分配给通用服务器池。
                        </p>
                        <p>通用服务器池的属性受到限制，如下所示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>没有人可以修改通用服务器池的配置属性（所有属性都是只读的）</p>
                           </li>
                           <li>
                              <p>如果要在其上创建数据库的服务器是以下之一，则只能在通用池中创建管理员管理的数据库：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>在线并存在于通用服务器池中</p>
                                 </li>
                                 <li>
                                    <p>在线并存在于免费服务器池中，在这种情况下，Oracle Clusterware将服务器移动到通用服务器池中</p>
                                 </li>
                                 <li>
                                    <p>在线并存在于任何其他服务器池中<span class="italic">，</span>并且用户是集群管理员或允许使用服务器池的服务器，在这种情况下，服务器将移动到通用服务器池中</p>
                                 </li>
                                 <li>
                                    <p>脱机，用户是群集管理员</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD91259"></a><a id="CWADD92637"></a><div class="props_rev_3"><a id="GUID-E5103867-6683-4D5C-9343-1F1F2522FEF3" name="GUID-E5103867-6683-4D5C-9343-1F1F2522FEF3"></a><h4 id="CWADD-GUID-E5103867-6683-4D5C-9343-1F1F2522FEF3" class="sect4">服务器池属性</h4>
                  <div>
                     <p>您可以使用SRVCTL或CRSCTL分别为数据库和其他应用程序创建服务器池。</p>
                     <div class="section">
                        <p>如果使用SRVCTL创建服务器池，则只能使用本节中描述的服务器池属性的子集。如果使用CRSCTL创建服务器池，则可以使用整组服务器池属性。</p>
                        <p>服务器池属性是您定义用于创建和管理服务器池的属性。</p>
                        <p>关于使用哪个实用程序的决定取决于服务器池中托管的资源类型。您必须使用SRVCTL来创建托管Oracle数据库的服务器池。必须使用CRSCTL创建承载非数据库资源（如中间层和应用程序）的服务器池。</p>
                        <p>使用SRVCTL创建服务器池时，可用的服务器池属性是：</p>
                        <ul class="simple" style="list-style-type:none;padding-left:0">
                           <li><code class="codeph">-类别</code></li>
                           <li><code class="codeph">-重要性</code></li>
                           <li><code class="codeph">-min</code></li>
                           <li><code class="codeph">-max</code></li>
                           <li><code class="codeph">-serverpool</code></li>
                           <li><code class="codeph">- 服务器</code></li>
                        </ul>
                        <p>SRVCTL以“ora”为前缀。到服务器池的名称。</p>
                        <p>使用CRSCTL创建服务器池时，可以使用下表中列出和描述的所有属性。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E5103867-6683-4D5C-9343-1F1F2522FEF3__CHDCIEJJ">
                        <p class="titleintable">表3-1服务器池属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="服务器池属性" width="100%" border="1" summary="This table lists and describes server pool attributes." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d19633e1406">属性</th>
                                 <th align="left" valign="bottom" width="71%" id="d19633e1409">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1414" headers="d19633e1406 "><code class="codeph">ACL</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1414 d19633e1409 ">
                                    <p>字符串格式如下：</p><pre class="pre codeblock"><code>owner： <span class="variable" translate="no">user</span> ：rwx，pgrp： <span class="variable" translate="no">group</span> ：rwx，other :: r-</code></pre><p>定义服务器池的所有者以及授予各种操作系统用户和组的权限。服务器池所有者定义所有者的操作系统用户以及授予该用户的权限。</p>
                                    <p>除非显式覆盖，否则在创建服务器池时，将根据创建服务器池的用户的ACL填充此可选属性的值。如果根据服务器池的现有权限允许此类更改，则可以随后更改该值。</p>
                                    <p>在字符串中：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">owner</code> ：服务器池所有者的操作系统用户，后跟所有者的权限</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">pgrp</code> ：操作系统组，它是服务器池所有者的主要组，后跟主要组成员的权限</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">other</code> ：其他人的特权</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">r</code> ：只读</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">w</code> ：修改池的属性或删除它</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">x</code> ：为此池分配资源</p>
                                       </li>
                                    </ul>
                                    <p>默认情况下，创建服务器池的客户端的标识是<code class="codeph">owner</code> 。此外，默认情况下， <code class="codeph">root</code> <code class="codeph"><span class="variable" translate="no">user</span></code>和<code class="codeph">owner</code>指定的<code class="codeph"><span class="variable" translate="no">user</span></code>具有完全权限。您可以通过向<code class="codeph">ACL</code>属性添加以下行来向所需的操作系统用户和操作系统组授予其权限：</p><pre class="pre codeblock"><code>user： <span class="variable" translate="no">user_name</span> ：rwx</code></pre><pre class="pre codeblock"><code>group： <span class="variable" translate="no">group_name</span> ：rwx</code></pre><p>创建服务器池的操作系统用户是服务器池的所有者，服务器池的<code class="codeph">ACL</code>属性反映了用户，主组，组和其他类似UNIX的读取，写入和执行ACL定义。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1499" headers="d19633e1406 "><code class="codeph">ACTIVE_SERVERS</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1499 d19633e1409 ">
                                    <p>一串服务器名称，格式如下：</p><pre class="pre codeblock"><code><span class="variable" translate="no">server_name1</span> <span class="variable" translate="no">server_name2</span> ...</code></pre><p>Oracle Clusterware自动管理此属性，该属性包含当前分配给服务器池的以空格分隔的服务器列表。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1515" headers="d19633e1406 "><code class="codeph">EXCLUSIVE_POOLS</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1515 d19633e1409 ">
                                    <p>此可选属性指示分配给此服务器池的服务器是否与其他服务器池共享。服务器池可以明确声明它与该属性具有相同值的任何其他服务器池互斥。当分配给它们的服务器组没有共同的单个服务器时，两个或多个服务器池是互斥的。例如，如果服务器池A和B都将此属性的值设置为相同的字符串（例如<code class="codeph">pools_A_B</code> ，则它们必须是互斥的。</p>
                                    <p>默认情况下，顶级服务器池是互斥的。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1527" headers="d19633e1406 "><code class="codeph">重要性</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1527 d19633e1409 ">
                                    <p>服务器池的相对重要性，表示为0到1000之间的整数，0表示最低重要级别，1000表示最高级别。此可选属性用于确定在节点加入或离开集群时如何重新配置服务器池。默认值为0。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1534" headers="d19633e1406 "><code class="codeph">MIN_SIZE</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1534 d19633e1409 ">
                                    <p>服务器池的最小大小，表示为任何非负整数。如果服务器池中包含的服务器数低于您在此属性中指定的数量，则Oracle Clusterware会自动将服务器从其他池移动到此服务器中，直到满足该数量。</p>
                                    <p><span class="bold">注意：</span>此可选属性的值未设置硬限制。它会在重新配置群集时控制服务器分配的优先级。默认值为<code class="codeph">0</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1548" headers="d19633e1406 "><code class="codeph">MAX_SIZE</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1548 d19633e1409 ">
                                    <p>服务器池可以包含的最大服务器数，表示为任何非负整数。此属性是可选的，默认情况下设置为<code class="codeph">-1</code> （无限制）。
                                    </p>
                                    <p><span class="bold">注意：</span>此属性的值<code class="codeph">-1</code>表示整个群集。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1565" headers="d19633e1406 "><code class="codeph">名称</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1565 d19633e1409 ">
                                    <p>服务器池的名称，您必须在创建服务器池时指定该名称。服务器池名称在用户创建的实体的名称域中必须是唯一的，例如资源，类型和服务器。服务器池名称具有254个字符的限制，并且可以包含除感叹号（！），波浪号（〜）和空格之外的任何平台支持的字符。服务器池名称不能以句点开头，也不能以<span class="italic">ora</span>开头。
                                    </p>
                                    <p><span class="bold">注意：</span>使用SRVCTL创建服务器池时，该实用程序会预先添加“ora”。到服务器池的名称。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1579" headers="d19633e1406 "><code class="codeph">PARENT_POOLS</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1579 d19633e1409 ">
                                    <p>使用此属性可以创建嵌套服务器池。在此属性中列为空格分隔的服务器池名称字符串的服务器池称为<span class="italic">父</span>服务器池。父服务器池中包含的服务器池称为<span class="italic">子</span>服务器池。
                                    </p>
                                    <p><span class="bold">注意：</span>如果使用SRVCTL创建服务器池，则无法指定此属性。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1596" headers="d19633e1406 "><code class="codeph">SERVER_CATEGORY</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1596 d19633e1409 ">
                                    <p>已注册服务器类别的名称，用作服务器分类的一部分。Oracle Clusterware标准集群和Oracle Flex集群具有默认的<code class="codeph">hub</code>类别。创建服务器池时，如果为<code class="codeph">SERVER_CATEGORY</code>设置了值，则无法为<code class="codeph">SERVER_NAMES</code>设置值。这些参数中只有一个可能具有非空值。
                                    </p>
                                    <p>使用<code class="codeph">SERVER_CATEGORY</code>属性根据服务器属性对分配给服务器池的服务器进行分类。您可以根据您定义的服务器属性，组织群集中的服务器和服务器池，以将特定工作负载与服务器和服务器池相匹配。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d19633e1617" headers="d19633e1406 "><code class="codeph">server_names配置</code></td>
                                 <td align="left" valign="top" width="71%" headers="d19633e1617 d19633e1409 ">
                                    <p>候选节点名称列表，表示为可以与服务器池关联的空格分隔的服务器名称字符串。如果没有为此可选属性提供一组服务器名称，则配置Oracle Clusterware，以便可以将任何服务器分配给任何服务器池，其他属性的值允许，例如<code class="codeph">PARENT_POOLS</code> 。</p>
                                    <p>标识为候选节点名称的服务器名称未经过验证，无法确认它们当前是活动的集群成员。使用此属性可将服务器定义为尚未添加到群集的候选项。</p>
                                    <p>如果为<code class="codeph">SERVER_NAMES</code>设置了值，则无法为<code class="codeph">SERVER_CATEGORY</code>设置值;这些属性中只有一个可能具有非空值。
                                    </p>
                                    <p><span class="bold">注意：</span>如果设置<code class="codeph">SERVER_CATEGORY</code>属性并且需要指定单个服务器，则可以使用<code class="codeph">EXPRESSION</code>服务器类别属性按名称列出服务器。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="oracle-clusterware-control-crsctl-utility-reference.html#GUID-21E75304-93F1-4AF2-8432-499321B00452">crsctl添加serverpool</a></li>
                           <li><a href="oracle-clusterware-control-crsctl-utility-reference.html#GUID-52D2DE9C-E39B-4922-9988-EB5A716B4357">crsctl状态服务器</a></li>
                           <li><a href="policy-based-cluster-and-capacity-management.html#GUID-C12500DD-8097-41C7-93E3-089A49CBE7F6">服务器类别属性</a></li>
                           <li><a href="../racad/server-control-utility-reference.html#RACAD-GUID-B0A2B0A9-68FD-44BA-A9BD-CCD74BCE60D0" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD91262"></a><a id="CWADD91263"></a><a id="CWADD91116"></a><div class="props_rev_3"><a id="GUID-3D052F0B-D699-41FC-A882-0E445F0751DD" name="GUID-3D052F0B-D699-41FC-A882-0E445F0751DD"></a><h4 id="CWADD-GUID-3D052F0B-D699-41FC-A882-0E445F0751DD" class="sect4">Oracle Clusterware如何使用服务器池分配新服务器</h4>
                  <div>
                     <p>Oracle Clusterware按以下顺序将新服务器分配给服务器池：</p>
                     <ol>
                        <li>
                           <p>通用服务器池</p>
                        </li>
                        <li>
                           <p>用户创建的服务器池</p>
                        </li>
                        <li>
                           <p>免费服务器池</p>
                        </li>
                     </ol>
                     <p>Oracle Clusterware继续将服务器分配给服务器池，直到满足以下条件：</p>
                     <ol>
                        <li>
                           <p>直到所有服务器池按其最小值（ <code class="codeph">MIN_SIZE</code> ）的重要性顺序填充。
                           </p>
                        </li>
                        <li>
                           <p>直到所有服务器池按其最大值（ <code class="codeph">MAX_SIZE</code> ）的重要性顺序填充。
                           </p>
                        </li>
                        <li>
                           <p>默认情况下，未放置在服务器池中的任何服务器都将进入免费服务器池。</p>
                           <p>您可以修改免费服务器池的<code class="codeph">IMPORTANCE</code>属性。如果空闲服务器池的<code class="codeph">IMPORTANCE</code>属性的值大于一个或多个其他服务器池，则一旦满足其<code class="codeph">MIN_SIZE</code>属性的值，空闲服务器池将接收任何剩余的服务器。
                           </p>
                        </li>
                     </ol>
                     <p><a id="d19633e1831" class="indexterm-anchor"></a>当服务器加入群集时，会发生一些事情。
                     </p>
                     <p>考虑<a href="policy-based-cluster-and-capacity-management.html#GUID-3D052F0B-D699-41FC-A882-0E445F0751DD__CHDHAFID" title="此表包含示例服务器组配置。">表3-2中</a>配置的服务器池：</p>
                     <div class="tblformal" id="GUID-3D052F0B-D699-41FC-A882-0E445F0751DD__CHDHAFID">
                        <p class="titleintable">表3-2服务器池属性配置示例</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="示例服务器池属性配置" width="100%" border="1" summary="This table contains a sample server group configuration." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="15%" id="d19633e1857">名称</th>
                                 <th align="left" valign="bottom" width="20%" id="d19633e1860">重要性</th>
                                 <th align="left" valign="bottom" width="17%" id="d19633e1863">MIN_SIZE</th>
                                 <th align="left" valign="bottom" width="16%" id="d19633e1866">MAX_SIZE</th>
                                 <th align="left" valign="bottom" width="16%" id="d19633e1869">PARENT_POOLS</th>
                                 <th align="left" valign="bottom" width="17%" id="d19633e1872">EXCLUSIVE_POOLS</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d19633e1877" headers="d19633e1857 "><pre class="oac_no_warn" dir="ltr">SP1</pre></td>
                                 <td align="left" valign="top" width="20%" headers="d19633e1877 d19633e1860 "><pre class="oac_no_warn" dir="ltr">1</pre></td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1877 d19633e1863 "><pre class="oac_no_warn" dir="ltr">1</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1877 d19633e1866 "><pre class="oac_no_warn" dir="ltr">10</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1877 d19633e1869 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1877 d19633e1872 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d19633e1896" headers="d19633e1857 "><pre class="oac_no_warn" dir="ltr">SP2</pre></td>
                                 <td align="left" valign="top" width="20%" headers="d19633e1896 d19633e1860 "><pre class="oac_no_warn" dir="ltr">3</pre></td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1896 d19633e1863 "><pre class="oac_no_warn" dir="ltr">1</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1896 d19633e1866 "><pre class="oac_no_warn" dir="ltr">6</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1896 d19633e1869 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1896 d19633e1872 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d19633e1915" headers="d19633e1857 "><pre class="oac_no_warn" dir="ltr">SP3</pre></td>
                                 <td align="left" valign="top" width="20%" headers="d19633e1915 d19633e1860 "><pre class="oac_no_warn" dir="ltr">2</pre></td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1915 d19633e1863 "><pre class="oac_no_warn" dir="ltr">1</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1915 d19633e1866 "><pre class="oac_no_warn" dir="ltr">2</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1915 d19633e1869 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1915 d19633e1872 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d19633e1934" headers="d19633e1857 "><pre class="oac_no_warn" dir="ltr">sp2_1</pre></td>
                                 <td align="left" valign="top" width="20%" headers="d19633e1934 d19633e1860 "><pre class="oac_no_warn" dir="ltr">2</pre></td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1934 d19633e1863 "><pre class="oac_no_warn" dir="ltr">1</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1934 d19633e1866 "><pre class="oac_no_warn" dir="ltr">五</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1934 d19633e1869 "><pre class="oac_no_warn" dir="ltr">SP2</pre></td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1934 d19633e1872 "><pre class="oac_no_warn" dir="ltr">S123</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="15%" id="d19633e1953" headers="d19633e1857 "><pre class="oac_no_warn" dir="ltr">sp2_2</pre></td>
                                 <td align="left" valign="top" width="20%" headers="d19633e1953 d19633e1860 "><pre class="oac_no_warn" dir="ltr">1</pre></td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1953 d19633e1863 "><pre class="oac_no_warn" dir="ltr">1</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1953 d19633e1866 "><pre class="oac_no_warn" dir="ltr">五</pre></td>
                                 <td align="left" valign="top" width="16%" headers="d19633e1953 d19633e1869 "><pre class="oac_no_warn" dir="ltr">SP2</pre></td>
                                 <td align="left" valign="top" width="17%" headers="d19633e1953 d19633e1872 "><pre class="oac_no_warn" dir="ltr">S123</pre></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>例如，假设群集中没有服务器;所有服务器池都是空的。</p>
                     <p>当名为<code class="codeph">server1</code>的服务器加入集群时：</p>
                     <ol>
                        <li>
                           <p>服务器到池的分配开始。</p>
                        </li>
                        <li>
                           <p>Oracle Clusterware首先仅处理顶级服务器池（没有父服务器池的服务器池）。在此示例中，顶级服务器池是<code class="codeph">sp1</code> ， <code class="codeph">sp2</code>和<code class="codeph">sp3</code> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle Clusterware按<code class="codeph">IMPORTANCE</code>顺序列出服务器池，如下所示： <code class="codeph">sp2</code> ， <code class="codeph">sp3</code> ， <code class="codeph">sp1</code> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle Clusterware将<code class="codeph">server1</code>分配给<code class="codeph">sp2</code>因为<code class="codeph">sp2</code>具有最高的<code class="codeph">IMPORTANCE</code>值，并且尚未满足其<code class="codeph">MIN_SIZE</code>值。
                           </p>
                        </li>
                        <li>
                           <p>Oracle Clusterware处理剩余的两个服务器池<code class="codeph">sp2_1</code>和<code class="codeph">sp2_2</code> 。两个服务器池的大小都低于<code class="codeph">MIN_SIZE</code>属性的值（两个服务器池都为空， <code class="codeph">MIN_SIZE</code>值为<code class="codeph">1</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>Oracle Clusterware按<code class="codeph">IMPORTANCE</code>顺序列出剩余的两个池，如下所示： <code class="codeph">sp2_1</code> ， <code class="codeph">sp2_2</code> 。
                           </p>
                        </li>
                        <li>
                           <p>Oracle Clusterware将<code class="codeph">server1</code>分配给<code class="codeph">sp2_1</code>但无法将<code class="codeph">server1</code>分配给<code class="codeph">sp2_2</code>因为<code class="codeph">sp2_1</code>配置为与<code class="codeph">sp2_2</code>独占。
                           </p>
                        </li>
                     </ol>
                     <p>处理完成后，将显示群集配置，如下所示</p>
                     <div class="tblformal" id="GUID-3D052F0B-D699-41FC-A882-0E445F0751DD__GUID-DCE6B9D8-7666-4937-9359-6CC3E160B62E">
                        <p class="titleintable">表3-3后处理服务器池配置</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="后处理服务器池配置" width="100%" border="1" summary="This table contains a sample server group configuration after processing is complete." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d19633e2092">服务器池名称</th>
                                 <th align="left" valign="bottom" width="69%" id="d19633e2095">分配的服务器</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d19633e2100" headers="d19633e2092 "><pre class="oac_no_warn" dir="ltr">SP1</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d19633e2100 d19633e2095 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d19633e2107" headers="d19633e2092 "><pre class="oac_no_warn" dir="ltr">SP2</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d19633e2107 d19633e2095 "><pre class="oac_no_warn" dir="ltr">服务器1</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d19633e2114" headers="d19633e2092 "><pre class="oac_no_warn" dir="ltr">SP3</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d19633e2114 d19633e2095 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d19633e2121" headers="d19633e2092 "><pre class="oac_no_warn" dir="ltr">sp2_1</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d19633e2121 d19633e2095 "><pre class="oac_no_warn" dir="ltr">服务器1</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d19633e2128" headers="d19633e2092 "><pre class="oac_no_warn" dir="ltr">sp2_2</pre></td>
                                 <td align="left" valign="top" width="69%" headers="d19633e2128 d19633e2095 ">
                                    <p> </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div><a id="CWADD92000"></a><div class="props_rev_3"><a id="GUID-2810AE42-58B6-4223-B35A-095FC2096BFE" name="GUID-2810AE42-58B6-4223-B35A-095FC2096BFE"></a><h5 id="CWADD-GUID-2810AE42-58B6-4223-B35A-095FC2096BFE" class="sect5">服务器从服务器池迁移到服务器池</h5>
                     <div>
                        <p>如果服务器池中的服务器数低于服务器池的<code class="codeph">MIN_SIZE</code>属性值（例如服务器出现故障时），则根据为所有服务器池的<code class="codeph">MIN_SIZE</code>和<code class="codeph">IMPORTANCE</code>属性设置的值，Oracle Clusterware可以移动服务器从其他服务器池进入服务器池，其服务器数量已低于<code class="codeph">MIN_SIZE</code>的值。 Oracle Clusterware从其他服务器池中选择服务器以进入符合以下条件的缺陷服务器池：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于<code class="codeph">IMPORTANCE</code>值低于缺陷服务器池的服务器池，Oracle Clusterware可以从这些服务器池中获取服务器，即使这意味着服务器数量低于<code class="codeph">MIN_SIZE</code>属性的值。
                              </p>
                           </li>
                           <li>
                              <p>对于具有相同或更高<code class="codeph">IMPORTANCE</code>服务器池，如果服务器池中的服务器数大于其<code class="codeph">MIN_SIZE</code>属性的值，则Oracle Clusterware仅从这些服务器池中获取服务器。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD92634"></a><div class="props_rev_3"><a id="GUID-808ABE82-11E5-472A-995C-7B8095A0086F" name="GUID-808ABE82-11E5-472A-995C-7B8095A0086F"></a><h4 id="CWADD-GUID-808ABE82-11E5-472A-995C-7B8095A0086F" class="sect4">使用默认属性管理服务器池</h4>
                  <div>
                     <p>默认情况下，每个服务器池都配置有以下用于管理服务器池的属性选项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">MIN_SIZE</code> ：服务器池应包含的最小服务器数。
                           </p>
                           <p>如果服务器池中的服务器数低于此属性的值，则Oracle Clusterware会自动将服务器从其他位置移动到服务器池中，直到服务器数达到属性值。</p>
                        </li>
                        <li>
                           <p><code class="codeph">MAX_SIZE</code> ：服务器池应包含的最大服务器数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">IMPORTANCE</code> ：从0到1000排名集群中的所有其他服务器池之间的服务器池中的号码（0为最重要的）。
                           </p>
                        </li>
                     </ul>
                     <p>此外，您还可以分配其他属性以提供更精细的服务器池管理，作为其中的一部分<a id="d19633e2421" class="indexterm-anchor"></a><a id="d19633e2425" class="indexterm-anchor"></a><a id="d19633e2427" class="indexterm-anchor"></a>群集配置策略。<code class="codeph">EXCLUSIVE_POOLS</code>和<code class="codeph">SERVER_CATEGORY</code>等属性可以帮助您为服务器池创建策略，从而提高性能并在服务器池中构建调优设计管理。
                     </p>
                  </div>
               </div>
            </div><a id="CWADD92635"></a><div class="props_rev_3"><a id="GUID-F936D4CA-C277-4F22-A701-5DC28B6C5D49" name="GUID-F936D4CA-C277-4F22-A701-5DC28B6C5D49"></a><h3 id="CWADD-GUID-F936D4CA-C277-4F22-A701-5DC28B6C5D49" class="sect3">服务器分类概述</h3>
               <div>
                  <p><span class="italic">通过服务器分类，</span>您可以使用处理器类型，内存和其他区分系统功能等属性将服务器组织到特定类别中。
                  </p>
                  <p>您可以配置服务器池以将池的合格成员限制为共享特定属性集的服务器类别。最初，服务器池被限制为一组基本属性，表征服务器属于给定池，无法区分服务器类型;所有服务器都被认为与其处理器，物理内存和其他特性相同。服务器分类现在提供了区分这些服务器的方法。</p>
                  <div class="infoboxnote" id="GUID-F936D4CA-C277-4F22-A701-5DC28B6C5D49__GUID-94237E9A-4B40-4B50-97E4-F4D2B51395C7">
                     <p class="notep1">注意：</p>
                     <p>如果创建服务管理（Oracle数据库QoS管理）的Oracle数据库质量方针，然后通过设置服务器池指令覆盖分类的服务器，并使用CRSCTL命令<code class="codeph">policy</code>和<code class="codeph">policyset</code>名词被禁用。此外，如果您从使用Oracle Clusterware策略切换到使用Oracle数据库QoS管理策略，则会替换Oracle Clusterware策略，因为这两种策略类型无法共存。Oracle建议您在切换策略之前使用<code class="codeph">crsctl status policyset -file <span class="variable" translate="no">file_name</span></code>创建备份。
                     </p>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-clusterware-control-crsctl-utility-reference.html#GUID-1A6774CF-FD5F-463E-817F-34E4466443C7" title="CRSCTL是您与Oracle Clusterware之间的接口，用于解析和调用Oracle Clusterware API的Oracle Clusterware API。有关使用CRSCTL命令行界面的信息。在Oracle RAC或Oracle Restart环境中使用这些命令。检查群集同步服务的状态。检查事件管理器的状态。检索本地服务器的主机名。注册要由Oracle Clusterware管理的资源。从Oracle Clusterware配置中删除资源。预测在不更改系统的情况下添加资源的效果。预测资源失败的后果。模拟重新定位资源而不更改系统。预测在不更改系统的情况下修改资源的效果。预测在不更改系统的情况下启动资源的影响。预测在不更改系统的情况下停止资源的效果。显示指定资源的用户和组权限。修改Oracle Clusterware中特定资源的属性。将资源重定位到群集中的另一台服务器。重新启动集群中的空闲资源，而不必运行两个命令来停止和启动资源。设置特定资源的权限。在群集中的特定服务器上启动空闲资源。获取任意数量的特定资源的状态和配置信息。停止运行资源。根据资源组类型创建资源组。对指定组的所有成员资源启动检查操作。从Oracle Clusterware中删除一个或多个资源组。预测添加资源组而不更改系统的影响。预测资源失败的后果。预测在不更改系统的情况下重新定位资源组的效果。预测启动资源组而不更改系统的影响。预测在不更改系统的情况下停止资源组的效果。将资源组及其成员资源的完整信息和属性导出到脚本文件。修改资源组以添加属性或更新现有属性的值。将联机资源组从源服务器重定位到目标服务器。在它们当前所在的服务器上重新启动资源组。在特定或预配置的服务器或服务器池上启动一个或多个资源组。显示资源组的状态。在可选指定的预配置服务器或服务器池上停止一个或多个资源组。在Oracle Clusterware中注册新的资源组类型。从Oracle Clusterware中删除一个或多个资源组类型。修改资源组类型以添加属性或更新现有属性的值。返回特定模块的跟踪设置。设置特定模块的跟踪参数。在Oracle Clusterware中创建资源类型。从Oracle Clusterware配置中删除资源类型。获得特定资源类型的权限。修改现有资源类型。设置特定资源类型的资源的权限。获取一个或多个特定资源类型的配置信息。创建并添加用户到钱包。从钱包中删除钱包或用户。修改特定钱包中特定用户的密码。从钱包中查询低权限用户。您只能在Oracle RAC环境中使用以下命令。对特定资源执行特定操作。添加服务器类别。删除服务器类别。修改现有服务器类别。获取有关服务器类别的信息。从群集中的任何节点检查Oracle Clusterware堆栈的状态。在群集中的任何节点上运行时启动Oracle Clusterware堆栈。在群集中的任何节点上运行命令时，停止群集中的所有服务器或特定服务器上的Oracle Clusterware堆栈。获取集群类信息。显示集群配置信息。从用于保护节点间通信的禁用密码套件列表添加密码套件或从中删除密码套件。确定群集是否为扩展群集。获取Oracle Flex Cluster中Hub节点的值。设置Oracle Flex Cluster的最大Hub节点数。确定是否为Oracle Flex Clusters配置了群集或获取当前状态。将标准群集更改为Oracle Flex群集。显示当前群集名称。使用crsctl add cluster site命令将站点添加到扩展群集。使用crsctl delete cluster site命令从扩展群集中删除特定站点。修改扩展群集中站点的配置。显示扩展群集中的站点信息。列出传输层安全性使用的可用密码套件，用于保护节点间通信。使用crsctl get cluster type命令确定群集是Oracle Flex群集还是应用程序群集。设置集群的类型。crsctl get cpu equivalency命令获取CPU_EQUIVALENCY服务器配置属性的值。crsctl set cpu equivalency命令为CPU_EQUIVALENCY服务器配置属性设置一个值。检查本地服务器上的Oracle高可用性服务和Oracle Clusterware堆栈的状态。显示Oracle高可用性服务自动启动配置。在服务器引导时阻止Oracle高可用性服务的自动启动。在服务器引导时启用Oracle高可用性服务的自动启动。在本地服务器上启动Oracle High Availability Services。在本地服务器上停止Oracle高可用性服务。显示群集中运行的Oracle Clusterware软件的活动版本和已配置的修补程序级别。将用户添加到群集管理员列表中。从Oracle Clusterware管理员列表中删除用户。显示具有Oracle Clusterware管理权限的用户列表。获取Oracle Clusterware自动资源启动条件的值。设置Oracle Clusterware自动资源启动条件。显示在修补节点时在Grid Home修补程序存储库中更新的修补程序级别。显示存储在本地节点上的二进制文件中的Oracle Clusterware软件的版本。使用crsctl query crs site命令确定特定主机或磁盘所属的站点。显示已安装的Oracle Clusterware的已配置修补程序级别。显示已在指定节点上成功启动的软件的最新版本。获取特定Cluster Synchronization Services参数的值。引发许多特定节点。设置Cluster Synchronization Services参数的值。取消许多服务器。取消设置Cluster Synchronization Services参数的值并将其恢复为默认值。检索存储在本地智能平台管理接口（IPMI）设备的Oracle本地注册表中的地址。存储Oracle本地注册表中本地智能平台管理接口（IPMI）设备的地址。存储Oracle本地注册表中智能平台管理界面（IPMI）管理员的登录凭据。确定本地服务器上的Oracle Clusterware是否已配置为使用IPMI进行故障隔离。清除Oracle本地注册表中以前存储的所有IPMI配置（登录凭据和IP地址）。确定本地系统上是否存在智能平台管理接口（IPMI）驱动程序。列出禁用自动重新启动群集同步服务的问题。发生特定问题时停止自动重新启动群集同步服务。从Oracle Clusterware配置中删除投票文件。显示群集同步服务使用的投票文件，投票文件的状态以及磁盘的位置，无论它们是存储在Oracle ASM中还是存储在其他位置。检查群集时间同步服务的状态。在指定端口的网络上发送DHCP发现数据包。如果网络上存在DHCP服务器，则它们会响应发现消息并且命令成功。显示Oracle Clusterware代理用于从DHCP服务器获取已配置群集资源的IP地址的客户端ID。VIP类型是必需的。向特定客户端ID发送DHCP租约释放请求，并将网络上的释放数据包发送到特定端口。将网络上的DHCP请求报文发送到指定端口。替换用于查找投票文件的现有发现字符串。获取DNS查找具有指定DNS服务器的名称返回的地址列表。使用指定的子网掩码在指定接口上启动给定的IP名称或IP地址。检查网络上的给定IP地址是否已启动。使用指定的子网掩码停止指定接口上的给定IP名称或IP地址。列出可以调试的模块的组件。为新成员集群创建配置部署文件。删除成员集群配置。显示成员集群的配置。从群集中删除节点。获取本地节点的名称。获取群集中节点的已配置节点角色。将配置策略添加到策略集。从策略集中删除配置策略。预测在不更改系统的情况下激活特定策略的效果。修改现有配置策略。获取配置策略的状态和定义。以文本文件的形式创建一个反映服务器池配置的策略集。修改现有策略集。获取策略集中的当前策略，包括访问控制列表，该列表管理谁可以修改集，最后激活的策略以及现在生效的配置（称为当前策略）。在特定资源的特定于应用程序的代理程序内启动检查操作。将资源重定位到群集中的另一台服务器。检查RESOURCE_USE_ENABLED服务器配置参数的当前设置值。为运行此命令的服务器设置RESOURCE_USE_ENABLED服务器配置参数的值。将Oracle Clusterware和Oracle ASM转换为滚动补丁模式。将Oracle Clusterware和Oracle ASM转换为滚动补丁模式。将Oracle Clusterware和Oracle ASM转换为滚动升级模式。模拟添加服务器而不更改系统。预测删除服务器而不更改系统的影响。预测在不更改系统的情况下将服务器重定位到其他服务器池的影响。修改特定服务器的配置。将服务器重定位到其他服务器池。获取一个或多个特定服务器的状态和配置信息。获取CSS_CRITICAL服务器属性的当前配置值设置CSS_CRITICAL服务器属性的配置值。检查SERVER_LABEL服务器属性的当前设置值。为运行此命令的服务器设置SERVER_LABEL服务器配置属性的配置值。添加用于将非数据库资源（例如应用程序服务器）托管到Oracle Clusterware的服务器池。从Oracle Clusterware配置中删除服务器池。预测添加服务器池而不更改系统的影响。模拟删除服务器池而不更改系统。使用crsctl eval modify serverpool命令可预测修改服务器池的效果，而无需更改系统。此命令可能对群集管理员有用。检索特定服务器池的权限。修改现有服务器池。设置特定服务器池的权限。检索一个或多个特定服务器池的状态和配置信息。验证守护程序是否可以侦听指定的地址和端口。启动将侦听指定IP地址和端口的测试DNS服务器。查询在指定地址和本地主机名上运行的测试DNS服务器。停止测试DNS服务器。移动或替换现有的投票文件。您只能在Oracle Restart环境中使用这些命令。检查ohasd的状态。显示服务器上Oracle高可用性服务堆栈的自动启动配置。在服务器启动时禁用Oracle High Availability Services堆栈的自动启动。在服务器启动时启用Oracle High Availability Services堆栈的自动启动。显示存储在本地节点上的二进制文件中的Oracle Clusterware软件的发行版本。显示本地节点上的软件版本。在本地服务器上启动Oracle High Availability Services。在本地服务器上停止Oracle高可用性服务。您可以使用crsctl set log命令作为root用户，以便为群集就绪服务（CRS），群集同步服务（CSS），事件管理器（EVM）和群集件子组件启用动态调试。设置Oracle Clusterware的日志级别。您可以通过设置环境变量或运行crsctl set log命令来启用Oracle Clusterware模块及其组件和资源的调试。">Oracle Clusterware Control（CRSCTL）实用程序参考</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="CWADD92636"></a><div class="props_rev_3"><a id="GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B" name="GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B"></a><h3 id="CWADD-GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B" class="sect3">群集配置策略和策略集概述</h3>
               <div>
                  <p>群集配置策略是一个文档，其中只包含群集配置策略集管理的每个服务器池的一个定义。群集配置策略集是一个文档，用于定义为群集配置的所有服务器池的名称以及所有策略的定义。</p>
                  <div class="infoboxnote" id="GUID-7FBE1007-3BA0-4DE5-A993-358E3423721B__GUID-717F32DE-4404-4F5C-B0B9-5D51880BB6B8">
                     <p class="notep1">注意：</p>
                     <p>Oracle Clusterware <span class="italic">11g第</span> 2版（11.2）仅支持单个服务器池配置。如果希望更改生效，则必须手动对服务器池配置进行任何更改。
                     </p>
                  </div>
                  <p>在Oracle集群<span class="italic">12℃，</span>使用中定义的策略<a href="glossary.html#GUID-E272281E-95DD-41CB-BE6D-960EFCEC2A89"><span class="xrefglossterm">设置群集配置策略</span></a>服务器池规范和管理，Oracle集群根据策略集中的策略管理服务器池。例如，通过集群配置策略集，您可以在每周工作时间内为OLTP工作负载分配更多服务器以响应电子邮件需求，在周末和晚上，将更多服务器分配给批处理工作负载，并执行服务器池配置的转换或服务器分配，原子地。
                  </p>
                  <p>在任何时间点，只有一个策略对群集有效。但您可以创建多个不同的策略，以便可以使用参数配置服务器池，以根据业务需求或需求或基于日历日期或时间来反映群集需求的差异。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="policy-based-cluster-and-capacity-management.html#GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9">示例策略集配置</a></li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-E2FF8C6E-DA09-442A-BFD4-6624A7725FA0" name="GUID-E2FF8C6E-DA09-442A-BFD4-6624A7725FA0"></a><h3 id="CWADD-GUID-E2FF8C6E-DA09-442A-BFD4-6624A7725FA0" class="sect3">负载感知资源放置</h3>
               <div>
                  <p>您可以配置数据库，以便Oracle Clusterware了解给定数据库的CPU要求和限制。</p>
                  <p>Oracle Clusterware使用此信息仅将数据库资源放置在具有足够CPU数，内存量或两者的服务器上。</p>
                  <p>如果已在Oracle Clusterware中配置了具有CPU或内存要求的资源，则Oracle Clusterware将仅尝试在满足这些要求的服务器上启动这些资源。对于数据库资源，具体而言，您可以将CPU或内存值分别配置为<code class="codeph">CPU_COUNT</code>和<code class="codeph">MEMORY_TARGET</code>实例参数。
                  </p>
                  <div class="infoboxnote" id="GUID-E2FF8C6E-DA09-442A-BFD4-6624A7725FA0__GUID-5D22C88E-33A8-4129-AF22-5C4636659BE9">
                     <p class="notep1">注意：</p>配置实例参数需要以下内容：<ul style="list-style-type:disc">
                        <li>
                           <p>对于CPU（实例囚笼），必须启用资源管理器</p>
                        </li>
                        <li>
                           <p>对于内存，必须为数据库使用自动内存管理</p>
                        </li>
                     </ul>
                  </div>
                  <p>添加或修改数据库实例时，可以配置负载感知资源放置，如下所示：</p><pre class="pre codeblock"><code>$ srvctl modify database -db <span class="variable" translate="no">db_unique_name</span> -cpucount <span class="variable" translate="no">cpu_count</span> -memorytarget <span class="variable" translate="no">memory_target</span></code></pre><p>在前面的示例中， <code class="codeph"><span class="variable" translate="no">cpu_count</span></code>指的是工作负载CPU的数量， <code class="codeph"><span class="variable" translate="no">memory_target</span></code>指的是资源使用的目标内存（MB）。
                  </p>
                  <p>如果资源管理器的数据库中启用，则Oracle集群设置CPU_COUNT参数的值<code class="codeph">-cpucount</code> 。此外，如果自动内存管理是为数据库启用，则Oracle集群设置MEMORY_TARGET数据库参数的值<code class="codeph">-memorytarget</code> 。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../refrn/CPU_COUNT.html#REFRN-GUID-78CDCDE7-5A1D-4AC1-B5BD-B185CB296416" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                        <li><a href="../refrn/MEMORY_TARGET.html#REFRN-GUID-186DE5CB-8104-4C8B-B673-6B831DFB42DB" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></li>
                        <li><a href="../admin/managing-memory.html#ADMIN-GUID-8F54391B-D42A-4FDA-9D12-E1F81FD113EA" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="CWADD91258"></a><a id="CWADD92934"></a><a id="CWADD91113"></a><div class="props_rev_3"><a id="GUID-FE8344A9-3133-4534-B91E-0E52FF9573FF" name="GUID-FE8344A9-3133-4534-B91E-0E52FF9573FF"></a><h3 id="CWADD-GUID-FE8344A9-3133-4534-B91E-0E52FF9573FF" class="sect3">服务器配置和服务器状态属性</h3>
               <div>
                  <p>只要将服务器添加到群集，Oracle Clusterware就会为每个服务器分配一组属性。</p>
                  <div class="section">
                     <p>其中一些属性描述服务器的物理特性，而其他属性描述服务器的状态条件。此外，您还可以修改其他服务器属性，以帮助进一步对服务器进行分类。如果从群集中删除服务器，则Oracle Clusterware将删除该服务器对象。</p>
                     <p>您可以使用服务器配置属性对服务器进行分类，作为服务器分类管理策略的一部分。</p>
                     <p>下表列出并描述了服务器配置属性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-FE8344A9-3133-4534-B91E-0E52FF9573FF__BAJBHJEB">
                     <p class="titleintable">表3-4服务器配置属性</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="服务器配置属性" width="100%" border="1" summary="This table lists and describes server configuration attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d19633e3119">属性</th>
                              <th align="left" valign="bottom" width="71%" id="d19633e3122">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3127" headers="d19633e3119 "><code class="codeph">ACTIVE_CSS_ROLE</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3127 d19633e3122 ">
                                 <p>服务器正在执行的角色。服务器可以具有<code class="codeph">hub</code>角色，该角色是Oracle Flex Cluster中服务器的指定角色，或Oracle Clusterware标准集群中任何节点的指定角色。
                                 </p>
                                 <p><span class="bold">注意：</span>您无法配置此属性。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3141" headers="d19633e3119 "><code class="codeph">CONFIGURED_CSS_ROLE</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3141 d19633e3122 ">
                                 <p>已配置服务器角色。服务器可以具有<code class="codeph">hub</code>角色，该角色是Oracle Flex Cluster中服务器的指定角色，或者是Oracle Clusterware标准集群中任何节点的指定角色。
                                 </p>
                                 <p><span class="bold">注意：</span>您无法配置此属性。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3155" headers="d19633e3119 "><code class="codeph">CPU_CLOCK_RATE</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3155 d19633e3122 ">
                                 <p>CPU时钟速率，以兆赫兹（MHz）为单位</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3162" headers="d19633e3119 "><code class="codeph">CPU_COUNT</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3162 d19633e3122 ">
                                 <p>处理器数量</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3169" headers="d19633e3119 "><code class="codeph">CPU_EQUIVALENCY</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3169 d19633e3122 ">
                                 <p>例如，Oracle Clusterware用于描述服务器提供的CPU功率的相对值（表示为大于或等于1的正整数）可能使用1000的基线偏离（正或负）其物理表示。低于1000的值描述了尽管<code class="codeph">CPU_COUNT</code>和<code class="codeph">CPU_CLOCK_RATE</code>参数具有特定值，但是该服务器提供的等效功率分别较低。
                                 </p>
                                 <p>使用以下命令分别在本地服务器上查看或修改此属性：</p><pre class="pre codeblock"><code>crsctl得到cpu等效crsctl设置cpu等价</code></pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3186" headers="d19633e3119 "><code class="codeph">CPU_HYPERTHREADING</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3186 d19633e3122 ">
                                 <p>CPU的超线程状态。值为<code class="codeph">0</code>表示超线程未使用。值为<code class="codeph">1</code>表示正在使用超线程。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3199" headers="d19633e3119 "><code class="codeph">MEMORY_SIZE</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3199 d19633e3122 ">
                                 <p>内存大小，以兆字节（MB）为单位</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3206" headers="d19633e3119 "><code class="codeph">名称</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3206 d19633e3122 ">
                                 <p>服务器的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3213" headers="d19633e3119 "><code class="codeph">RESOURCE_USE_ENABLED</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3213 d19633e3122 ">
                                 <p>服务器池资源管理参数。如果此属性的值为1（默认值），则可以将服务器用于资源放置。如果值为0，则Oracle Clusterware不允许在服务器上启动服务器池资源。服务器保留在空闲池中。</p>
                                 <p>您可以使用<code class="codeph">crsctl get resource use</code>和<code class="codeph">crsctl set resource use</code>命令查看设置并控制每个集群成员节点的此属性。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3228" headers="d19633e3119 "><code class="codeph">SERVER_LABEL</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3228 d19633e3122 ">
                                 <p>可用于标记服务器的任意值。您可以在设置服务器类别时使用此属性。例如，您可以指定一个位置（例如building_A或building_B），通过创建适当的服务器类别并将其用于服务器池，可以将服务器放入需要位置的池中。</p>
                                 <p>使用以下命令分别在本地服务器上查看或修改此属性：</p><pre class="pre codeblock"><code>crsctl获取服务器标签crsctl设置服务器标签</code></pre></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>下表列出并描述了只读服务器状态和配置属性：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-FE8344A9-3133-4534-B91E-0E52FF9573FF__BABFIHII">
                     <p class="titleintable">表3-5服务器状态属性</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="服务器状态属性" width="100%" border="1" summary="This table lists and describes read-only server state attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d19633e3251">属性</th>
                              <th align="left" valign="bottom" width="71%" id="d19633e3254">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3259" headers="d19633e3251 "><code class="codeph">ACTIVE_POOLS</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3259 d19633e3254 ">
                                 <p>以空格分隔的服务器所属服务器池名称列表。Oracle Clusterware自动管理此列表。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3266" headers="d19633e3251 "><code class="codeph">州</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3266 d19633e3254 ">
                                 <p>服务器可以处于以下状态之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">ONLINE</code> ：服务器是群集的成员，可用于资源放置。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">OFFLINE</code> ：服务器当前不是群集的成员。随后，它不可用于资源放置。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">JOINING</code> ：当服务器加入群集时，Oracle Clusterware会处理服务器以确保它对资源放置有效。Oracle Clusterware还会检查配置为在服务器上运行的资源的状态。一旦确定了服务器的有效性和资源的状态，服务器就会转换到此状态。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">LEAVING</code> ：当服务器的计划关闭开始时，服务器的状态转换为<code class="codeph">LEAVING</code> ，使其无法进行资源放置。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">VISIBLE</code> ：服务器有Oracle集群上运行，而不是集群就绪服务守护进程（CRSD），被放入<code class="codeph">VISIBLE</code>状态。这通常表示间歇性问题或故障，Oracle Clusterware尝试恢复（重新启动）守护程序。当服务器处于此状态时，Oracle Clusterware无法管理服务器上的资源。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">RECONFIGURING</code> ：当服务器池因服务器池重新配置而在服务器池之间移动时，如果必须停止并重新定位当前服务器池中在其上运行的资源，则服务器将处于此状态。发生这种情况是因为服务器上运行的资源可能未配置为在服务器正在移动的服务器池中运行。一旦资源成功重定位，服务器就会重新进入<code class="codeph">ONLINE</code>状态。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>使用<code class="codeph">crsctl status server</code>命令获取服务器信息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3318" headers="d19633e3251 "><code class="codeph">STATE_DETAILS</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3318 d19633e3254 ">
                                 <p>这是Oracle Clusterware管理的只读属性。该属性提供有关服务器状态的其他详细信息。有关服务器状态的其他可能的其他详细信</p>
                                 <p>服务器状态： <code class="codeph">ONLINE</code> ：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">自动生成资源</code></p>
                                       <p>指示资源自动启动过程（在服务器重新启动或Oracle Clusterware堆栈重新启动时执行）正在为服务器进行。</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">AUTOSTART QUEUED</code></p>
                                       <p>服务器正在等待资源自动启动开始。一旦发生这种情况，属性值将更改为<code class="codeph">AUTOSTARTING RESOURCES</code> 。</p>
                                    </li>
                                 </ul>
                                 <p>服务器状态： <code class="codeph">RECONFIGURING</code> ：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">停止资源</code></p>
                                       <p>限制在新服务器池中运行的资源正在停止。</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">启动资源</code></p>
                                       <p>可以在新服务器池中运行的资源正在启动。</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">RECONFIG失败</code></p>
                                       <p>一个或多个资源未停止，因此服务器无法转换为<code class="codeph">ONLINE</code>状态。此时，需要手动干预。您必须停止或取消注册未停止的资源。之后，服务器自动转换为<code class="codeph">ONLINE</code>状态。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>服务器状态： <code class="codeph">JOINING</code> ：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">检查资源</code></p>
                                       <p>每当服务器重新启动，Oracle Clusterware堆栈重新启动或服务器上的CRSD重新启动时，策略引擎都必须确定服务器上资源的当前状态。当该过程正在进行时，将返回此值。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="CWADD92997"></a><div class="props_rev_3"><a id="GUID-0BA8B489-9E15-429E-AF30-85825CE7DF84" name="GUID-0BA8B489-9E15-429E-AF30-85825CE7DF84"></a><h4 id="CWADD-GUID-0BA8B489-9E15-429E-AF30-85825CE7DF84" class="sect4">数据库服务器的内存压力管理</h4>
                  <div>
                     <p>由于过多的打开会话或失控的工作负载，企业数据库服务器可以使用所有可用内存。内存不足可能导致事务失败，或者在极端情况下，导致服务器重新启动以及丢失应用程序的宝贵资源。Oracle数据库QoS管理实时检测服务器上的内存压力，并将新会话重定向到其他服务器，以防止使用压力服务器上的所有可用内存。</p>
                     <p>启用Oracle数据库QoS管理并管理Oracle Clusterware服务器池时，Cluster Health Monitor会发送一个度量流，该群集流可将有关群集服务器的内存资源的实时信息提供给Oracle数据库QoS管理。此信息包括以下内容：<a id="d19633e3507" class="indexterm-anchor"></a></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>可用内存量</p>
                        </li>
                        <li>
                           <p>当前正在使用的内存量</p>
                        </li>
                     </ul>
                     <p>如果Oracle数据库QoS管理确定节点处于内存压力下，则Oracle Clusterware管理的数据库服务将在该节点上停止，从而阻止创建新连接。释放内存压力后，该节点上的服务将自动重新启动，并且侦听器开始向该服务器发送新连接。内存压力可以通过多种方式缓解（例如，通过关闭现有会话或通过用户干预）。</p>
                     <p>将新会话重新路由到不同的服务器可以保护内存压力服务器上的现有工作负载，并使服务器保持可用状态。管理服务器的内存压力为管理Oracle RAC数据库上托管的应用程序的服务级别增加了新的资源保护功能。</p>
                  </div>
               </div>
            </div><a id="CWADD92639"></a><a id="CWADD92638"></a><div class="props_rev_3"><a id="GUID-C12500DD-8097-41C7-93E3-089A49CBE7F6" name="GUID-C12500DD-8097-41C7-93E3-089A49CBE7F6"></a><h3 id="CWADD-GUID-C12500DD-8097-41C7-93E3-089A49CBE7F6" class="sect3">服务器类别属性</h3>
               <div>
                  <p>您将服务器定义为命名类别，并指定将服务器定义为该类别成员的属性。</p>
                  <div class="section">
                     <p>可用于定义类别成员的某些属性描述服务器的状态条件，其他属性描述服务器的物理特征。您还可以创建自己的特征，将服务器定义为特定类别的成员。</p>
                     <div class="infoboxnote" id="GUID-C12500DD-8097-41C7-93E3-089A49CBE7F6__GUID-DF5D706D-0D60-4F3F-9CC1-59029DB51304">
                        <p class="notep1">注意：</p>
                        <p>如果更改<code class="codeph">EXPRESSION</code>服务器类别属性中列出的任何服务器属性的值，则必须在新值生效之前在受影响的服务器上重新启动Oracle Clusterware技术堆栈。
                        </p>
                     </div>
                     <p>下表列出并描述了可能的服务器类别属性。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-C12500DD-8097-41C7-93E3-089A49CBE7F6__BAJEEIJE">
                     <p class="titleintable">表3-6服务器类别属性</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="服务器类别属性" width="100%" border="1" summary="This table lists and describes server category attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d19633e3664">属性</th>
                              <th align="left" valign="bottom" width="71%" id="d19633e3667">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3672" headers="d19633e3664 "><code class="codeph">名称</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3672 d19633e3667 ">
                                 <p>服务器类别的名称，您必须在创建服务器类别时指定该名称。服务器类别名称在用户创建的实体的名称域中必须是唯一的，例如资源，类型和服务器。服务器池名称限制为254个字符，并且可以包含除感叹号（！）之外的任何平台支持的字符和波浪号（〜）。服务器池名称不能以句点开头，也不能以<span class="italic">ora</span>开头。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3682" headers="d19633e3664 "><code class="codeph">ACTIVE_CSS_ROLE</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3682 d19633e3667 ">
                                 <p>对于服务器，这是积极的作用<code class="codeph">hub</code>因为这是一个集线器节点在任一个Oracle的Flex群集或Oracle集群标准群集的服务器。在任何一种情况下，这都是默认值。
                                 </p>
                                 <p></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d19633e3693" headers="d19633e3664 "><code class="codeph">表达</code></td>
                              <td align="left" valign="top" width="71%" headers="d19633e3693 d19633e3667 ">
                                 <p>可以为每个服务器评估的一组服务器属性名称，值和条件，以确定它是否属于该类别。<a href="policy-based-cluster-and-capacity-management.html#GUID-FE8344A9-3133-4534-B91E-0E52FF9573FF__BAJBHJEB" title="此表列出并描述了服务器配置属性。">表3-4</a>列出并描述了服务器属性。
                                 </p>
                                 <p>可接受的比较运营商包括：</p>
                                 <ul class="simple" style="list-style-type:none;padding-left:0">
                                    <li><span class="bold">=</span> ：相等</li>
                                    <li><span class="bold">eqi</span> ：平等，不区分大小写</li>
                                    <li><span class="bold">&gt;</span> ：大于</li>
                                    <li><span class="bold">&lt;</span> ：小于</li>
                                    <li><span class="bold">！</span>=：不相等</li>
                                    <li><span class="bold">co</span> ：包含</li>
                                    <li><span class="bold">coi</span> ：包含，不区分大小写</li>
                                    <li><span class="bold">st</span> ：从...开始</li>
                                    <li><span class="bold">恩</span> ：结束</li>
                                    <li><span class="bold">nc</span> ：不包含</li>
                                    <li><span class="bold">nci</span> ：不包含，不区分大小写</li>
                                 </ul>
                                 <p>可接受的布尔运算符包括：</p>
                                 <ul class="simple" style="list-style-type:none;padding-left:0">
                                    <li><span class="bold">和</span></li>
                                    <li><span class="bold">要么</span></li>
                                 </ul>
                                 <p><span class="bold">注意：</span>空格必须包围<code class="codeph">EXPRESSION</code>字符串中使用的运算符。
                                 </p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">EXPRESSION ='（（NAME = server1）OR（NAME = server2））'“</pre></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CWADD92889"></a><a id="CWADD92890"></a><a id="CWADD92640"></a><div class="props_rev_3"><a id="GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9" name="GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9"></a><h3 id="CWADD-GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9" class="sect3">示例策略集配置</h3>
               <div>
                  <div class="section">
                     <p>在这个例子中，你所使用的三种不同的应用程序<span class="italic"><span class="italic"><span class="italic">，APP1，APP2，APP3</span></span></span>和一个四节点群集，并且您已经创建了三个服务器池， <span class="italic">池<span class="italic">1，POOL2</span></span>和<span class="italic">pool3。</span>您配置服务器池，以便为每个应用程序分配在其自己的服务器池中运行，并且该<span class="italic">app1</span>希望拥有两个服务器，而<span class="italic">app2</span>和<span class="italic">app3</span>每个都需要一个服务器。
                     </p>
                     <p>服务器池配置如下：</p><pre class="pre codeblock"><code><span class="bold">$ crsctl status serverpool pool1 -p</span> NAME = pool1 IMPORTANCE = 0 MIN_SIZE = 2 MAX_SIZE = 2 SERVER_NAMES = PARENT_POOLS = EXCLUSIVE_POOLS = ACL = owner：mjk：rwx，pgrp：g900：rwx，other :: r-- SERVER_CATEGORY = <span class="bold">$ crsctl status serverpool pool2 -p</span> NAME = pool2 IMPORTANCE = 0 MIN_SIZE = 1 MAX_SIZE = 1 SERVER_NAMES = PARENT_POOLS = EXCLUSIVE_POOLS = ACL = owner：mjk：rwx，pgrp：g900：rwx，other :: r-- SERVER_CATEGORY = <span class="bold">$ crsctl status serverpool pool3  - p</span> NAME = pool3 IMPORTANCE = 0 MIN_SIZE = 1 MAX_SIZE = 1 SERVER_NAMES = PARENT_POOLS = EXCLUSIVE_POOLS = ACL = owner：mjk：rwx，pgrp：g900：rwx，other :: r-- SERVER_CATEGORY =</code></pre><div class="infoboxnote" id="GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9__GUID-966969B0-56AF-4B70-878F-943D7D1955AC">
                        <p class="notep1">注意：</p>
                        <p>如果使用CRSCTL创建服务器池，则前面示例中显示的<code class="codeph">crsctl status serverpool</code>命令仅起作用。</p>
                     </div>
                     <p>但是，此配置不考虑某些应用程序在一天，一周或一个月的不同时间需要服务器时间的事实。例如，电子邮件应用程序通常在工作时间使用更多资源，并在晚上和周末使用更少的资源。</p>
                     <p>进一步假设<span class="italic">app1</span>在工作时间需要两台服务器，但在晚上只需要一台服务器，周末不需要任何服务器。同时， <span class="italic">app2</span>和<span class="italic">app3</span>在工作时间都需要一台服务器，而在晚上， <span class="italic">app2</span>需要两台服务器而<span class="italic">app3</span>需要一台服务器。在周末， <span class="italic">app2</span>需要一台服务器而<span class="italic">app3</span>需要三台服务器。此方案建议您必须为群集配置三种配置：</p>
                     <ol>
                        <li>
                           <p><span class="bold">日间时间</span> ：</p>
                           <ul class="simple" style="list-style-type:none;padding-left:0">
                              <li><span class="italic">app1</span>使用两台服务器</li>
                              <li><span class="italic">app2</span>和<span class="italic">app3分别</span>使用一台服务器</li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">夜间时间</span> ：</p>
                           <ul class="simple" style="list-style-type:none;padding-left:0">
                              <li><span class="italic">app1</span>使用一台服务器</li>
                              <li><span class="italic">app2</span>使用两台服务器</li>
                              <li><span class="italic">app3</span>使用一台服务器</li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">周末</span> ：</p>
                           <ul class="simple" style="list-style-type:none;padding-left:0">
                              <li><span class="italic">app1</span>未运行（0台服务器）</li>
                              <li><span class="italic">app2</span>使用一台服务器</li>
                              <li><span class="italic">app3</span>使用三台服务器</li>
                           </ul>
                        </li>
                     </ol>
                     <p><span class="bold">策略集创建</span></p>
                     <p>根据这些假设，运行<code class="codeph">crsctl create policyset</code>命令以使用名为<code class="codeph">Default</code>的单个策略创建策略集，该策略集反映<code class="codeph">crsctl status serverpool</code>命令显示的配置。您可以使用<code class="codeph">Default</code>策略创建其他策略以满足此示例中假定的需求。<code class="codeph">crsctl create policyset</code>命令创建类似于<a href="policy-based-cluster-and-capacity-management.html#GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9__BHCHBAHI">Example 3-1</a>的文本文件。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9__BHCHBAHI">
                     <p class="titleinexample">示例3-1策略集文本文件</p><pre class="pre codeblock"><code>SERVER_POOL_NAMES =空闲pool1 pool2 pool3 POLICY NAME =默认SERVERPOOL NAME = pool1 IMPORTANCE = 0 MAX_SIZE = 2 MIN_SIZE = 2 SERVER_CATEGORY = SERVERPOOL NAME = pool2 IMPORTANCE = 0 MAX_SIZE = 1 MIN_SIZE = 1 SERVER_CATEGORY = SERVERPOOL NAME = pool3 IMPORTANCE = 0 MAX_SIZE = 1 MIN_SIZE = 1 SERVER_CATEGORY =</code></pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p><span class="bold">政策修改</span></p>
                     <p>要修改前面的策略集以满足此示例中假定的需求，请通过将策略名称从<code class="codeph">Default</code>更改为<code class="codeph">DayTime</code>来编辑文本文件以定义前面讨论的三种方案的策略。然后，复制策略并将其粘贴两次以形成两个后续策略，您将其命名为<code class="codeph">NightTime</code>和<code class="codeph">Weekend</code> ，如<a href="policy-based-cluster-and-capacity-management.html#GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9__BHCJHGCG">示例3-2</a>所示。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-B5EA4AB9-D9B6-4D8C-BCEF-1551607B2EA9__BHCJHGCG">
                     <p class="titleinexample">示例3-2修改的策略集文本文件</p><pre class="pre codeblock"><code>SERVER_POOL_NAMES = Free pool1 pool2 pool3 POLICY NAME = <span class="bold">DayTime</span> SERVERPOOL NAME = pool1 IMPORTANCE = 0 <span class="bold">MAX_SIZE = 2</span> <span class="bold">MIN_SIZE = 2</span> SERVER_CATEGORY = SERVERPOOL NAME = pool2 IMPORTANCE = 0 <span class="bold">MAX_SIZE = 1</span> <span class="bold">MIN_SIZE = 1</span> SERVER_CATEGORY = SERVERPOOL NAME = pool3 IMPORTANCE = 0 <span class="bold">MAX_SIZE = 1</span> <span class="bold">MIN_SIZE = 1</span> SERVER_CATEGORY = POLICY NAME = <span class="bold">NightTime</span> SERVERPOOL NAME = pool1 IMPORTANCE = 0 <span class="bold">MAX_SIZE = 1</span> <span class="bold">MIN_SIZE = 1</span> SERVER_CATEGORY = SERVERPOOL NAME = pool2 IMPORTANCE = 0 <span class="bold">MAX_SIZE = 2</span> <span class="bold">MIN_SIZE = 2</span> SERVER_CATEGORY = SERVERPOOL NAME = pool3 IMPORTANCE = 0 <span class="bold">MAX_SIZE = 1</span> <span class="bold">MIN_SIZE = 1</span> SERVER_CATEGORY = POLICY NAME = <span class="bold">周末</span> SERVERPOOL NAME = pool1 IMPORTANCE = 0 <span class="bold">MAX_SIZE = 0</span> <span class="bold">MIN_SIZE = 0</span> SERVER_CATEGORY = SERVERPOOL NAME = pool2 IMPORTANCE = 0 <span class="bold">MAX_SIZE = 1</span> <span class="bold">MIN_SIZE = 1</span> SERVER_CATEGORY = SERVERPOOL NAME = pool3 IMPORTANCE = 0 <span class="bold">MAX_SIZE = 3</span> <span class="bold">MIN_SIZE = 3</span> SERVER_CATEGORY =</code></pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>请注意，除了更改各个策略的名称之外，还根据应用程序的需要修改了每个策略中每个服务器池的<code class="codeph">MAX_SIZE</code>和<code class="codeph">MIN_SIZE</code>策略属性。
                     </p>
                     <p>以下命令使用Oracle Clusterware注册存储在文件中的策略集：</p><pre class="pre codeblock"><code>$ crsctl修改policyset -file <span class="variable" translate="no">file_name</span></code></pre><p>通过使用<code class="codeph">crsctl modify policyset</code>命令编辑<code class="codeph">Default</code>策略集，并使用<code class="codeph">crsctl modify serverpool</code>命令更改特定策略的各个服务器池属性，可以获得与前面示例中所示相同的结果。
                     </p>
                     <p>以下命令修改<code class="codeph">Default</code>策略集以管理三个服务器池：</p><pre class="pre codeblock"><code>$ crsctl修改策略集-attr“SERVER_POOL_NAMES = Free pool1 pool2 pool3”</code></pre><p>以下命令添加了三个策略：</p><pre class="pre codeblock"><code>$ crsctl add policy <span class="bold">DayTime</span> $ crsctl add policy <span class="bold">NightTime</span> $ crsctl add policy <span class="bold">Weekend</span></code></pre><p>以下命令根据策略的要求配置三个服务器池：</p><pre class="pre codeblock"><code>$ CRSCTL修改serverpool <span class="bold">POOL1</span> -attr “MIN_SIZE = 2，MAX_SIZE = 2” -policy白天$ CRSCTL修改serverpool <span class="bold">POOL1</span> -attr “MIN_SIZE = 1，MAX_SIZE = 1” -policy夜间$ CRSCTL修改serverpool <span class="bold">POOL1</span> -attr“MIN_SIZE = 0， MAX_SIZE = 0“-policy Weekend $ crsctl modify serverpool <span class="bold">pool2</span> -attr”MIN_SIZE = 1，MAX_SIZE = 1“-policy DayTime $ crsctl modify serverpool <span class="bold">pool2</span> -attr”MIN_SIZE = 2，MAX_SIZE = 2“-policy NightTime $ crsctl modify serverpool <span class="bold">pool2</span> -attr“MIN_SIZE = 1，MAX_SIZE = 1”-policy Weekend $ crsctl modify serverpool <span class="bold">pool3</span> -attr“MIN_SIZE = 1，MAX_SIZE = 1”-policy DayTime $ crsctl modify serverpool <span class="bold">pool3</span> -attr“MIN_SIZE = 1，MAX_SIZE = 1” - policy NightTime $ crsctl修改serverpool <span class="bold">pool3</span> -attr“MIN_SIZE = 3，MAX_SIZE = 3”-policy Weekend</code></pre><p>现在有三种不同的策略来管理服务器池以满足三个应用程序的要求。</p>
                     <p><span class="bold">政策激活</span></p>
                     <p>现在配置策略集并使用三种不同的策略控制三个服务器池。您可以在必要时激活策略，提示Oracle Clusterware根据每个策略的配置重新配置服务器池。</p>
                     <p>以下命令激活<code class="codeph">DayTime</code>策略：</p><pre class="pre codeblock"><code>$ crsctl修改策略集-attr“LAST_ACTIVATED_POLICY = <span class="bold">DayTime</span> ”</code></pre><p>资源的当前状态如下：</p><pre class="pre codeblock"><code>$ crsctl status resource -t -------------------------------------------- ------------------------------------名称目标状态服务器状态详细信息-------- -------------------------------------------------- ----------------------群集资源-------------------------- -------------------------------------------------- ---- app1 1 ONLINE ONLINE mjk_has3_2 STABLE 2 ONLINE ONLINE mjk_has3_0 STABLE app2 1 ONLINE ONLINE mjk_has3_1 STABLE app3 1 ONLINE ONLINE mjk_has3_3 STABLE</code></pre><p>服务器池的状态如下：</p><pre class="pre codeblock"><code>$ crsctl stat serverpool NAME = Free ACTIVE_SERVERS = NAME = Generic ACTIVE_SERVERS = NAME = pool1 ACTIVE_SERVERS = mjk_has3_0 mjk_has3_2 NAME = pool2 ACTIVE_SERVERS = mjk_has3_1 NAME = pool3 ACTIVE_SERVERS = mjk_has3_3</code></pre><p>根据<code class="codeph">DayTime</code>策略分配服务器，并在各自的服务器上运行应用程序。
                     </p>
                     <p>以下命令激活<code class="codeph">Weekend</code>策略（请记住，因为服务器池具有不同的大小，因为服务器在服务器池之间移动，某些应用程序将被停止而其他应用程序将被启动）：</p><pre class="pre codeblock"><code>$ crsctl修改策略集-attr“LAST_ACTIVATED_POLICY = <span class="bold">周末</span> ”CRS-2673：尝试在'mjk_has3_2'上停止'app1'CRS-2673：尝试在'mjk_has3_0'CRS-2677上停止'app1'：停止'app1''' mjk_has3_0'成功CRS-2672：尝试在'mjk_has3_0'CRS-2677上启动'app3'：'mjk_has3_2'上'app1'的停止成功CRS-2672：尝试在'mjk_has3_2'上启动'app3'CRS-2676：开始'mjk_has3_2'上的'app3'成功CRS-2676：'mjk_has3_0'上的'app3'开始成功</code></pre><p>资源的当前状态如下：</p><pre class="pre codeblock"><code>$ crsctl status resource -t -------------------------------------------- ------------------------------------名称目标状态服务器状态详细信息-------- -------------------------------------------------- ----------------------群集资源-------------------------- -------------------------------------------------- ---- app1 1 ONLINE OFFLINE STABLE 2 ONLINE OFFLINE STABLE app2 1 ONLINE ONLINE mjk_has3_1 STABLE app3 1 ONLINE ONLINE mjk_has3_0 STABLE 2 ONLINE ONLINE mjk_has3_2 STABLE 3 ONLINE ONLINE mjk_has3_3 STABLE --------------- -------------------------------------------------- ---------------</code></pre><p>服务器池的状态如下：</p><pre class="pre codeblock"><code>$ crsctl status serverpool NAME = Free ACTIVE_SERVERS = NAME = Generic ACTIVE_SERVERS = NAME = pool1 ACTIVE_SERVERS = NAME = pool2 ACTIVE_SERVERS = mjk_has3_1 NAME = pool3 ACTIVE_SERVERS = mjk_has3_0 mjk_has3_2 mjk_has3_3</code></pre><p>使用<code class="codeph">crsctl modify policyset</code>命令，Oracle Clusterware更改了服务器池配置，根据策略要求移动了服务器，并停止并启动了应用程序。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-clusterware-control-crsctl-utility-reference.html#GUID-1A6774CF-FD5F-463E-817F-34E4466443C7" title="CRSCTL是您与Oracle Clusterware之间的接口，用于解析和调用Oracle Clusterware API的Oracle Clusterware API。有关使用CRSCTL命令行界面的信息。在Oracle RAC或Oracle Restart环境中使用这些命令。检查群集同步服务的状态。检查事件管理器的状态。检索本地服务器的主机名。注册要由Oracle Clusterware管理的资源。从Oracle Clusterware配置中删除资源。预测在不更改系统的情况下添加资源的效果。预测资源失败的后果。模拟重新定位资源而不更改系统。预测在不更改系统的情况下修改资源的效果。预测在不更改系统的情况下启动资源的影响。预测在不更改系统的情况下停止资源的效果。显示指定资源的用户和组权限。修改Oracle Clusterware中特定资源的属性。将资源重定位到群集中的另一台服务器。重新启动集群中的空闲资源，而不必运行两个命令来停止和启动资源。设置特定资源的权限。在群集中的特定服务器上启动空闲资源。获取任意数量的特定资源的状态和配置信息。停止运行资源。根据资源组类型创建资源组。对指定组的所有成员资源启动检查操作。从Oracle Clusterware中删除一个或多个资源组。预测添加资源组而不更改系统的影响。预测资源失败的后果。预测在不更改系统的情况下重新定位资源组的效果。预测启动资源组而不更改系统的影响。预测在不更改系统的情况下停止资源组的效果。将资源组及其成员资源的完整信息和属性导出到脚本文件。修改资源组以添加属性或更新现有属性的值。将联机资源组从源服务器重定位到目标服务器。在它们当前所在的服务器上重新启动资源组。在特定或预配置的服务器或服务器池上启动一个或多个资源组。显示资源组的状态。在可选指定的预配置服务器或服务器池上停止一个或多个资源组。在Oracle Clusterware中注册新的资源组类型。从Oracle Clusterware中删除一个或多个资源组类型。修改资源组类型以添加属性或更新现有属性的值。返回特定模块的跟踪设置。设置特定模块的跟踪参数。在Oracle Clusterware中创建资源类型。从Oracle Clusterware配置中删除资源类型。获得特定资源类型的权限。修改现有资源类型。设置特定资源类型的资源的权限。获取一个或多个特定资源类型的配置信息。创建并添加用户到钱包。从钱包中删除钱包或用户。修改特定钱包中特定用户的密码。从钱包中查询低权限用户。您只能在Oracle RAC环境中使用以下命令。对特定资源执行特定操作。添加服务器类别。删除服务器类别。修改现有服务器类别。获取有关服务器类别的信息。从群集中的任何节点检查Oracle Clusterware堆栈的状态。在群集中的任何节点上运行时启动Oracle Clusterware堆栈。在群集中的任何节点上运行命令时，停止群集中的所有服务器或特定服务器上的Oracle Clusterware堆栈。获取集群类信息。显示集群配置信息。从用于保护节点间通信的禁用密码套件列表添加密码套件或从中删除密码套件。确定群集是否为扩展群集。获取Oracle Flex Cluster中Hub节点的值。设置Oracle Flex Cluster的最大Hub节点数。确定是否为Oracle Flex Clusters配置了群集或获取当前状态。将标准群集更改为Oracle Flex群集。显示当前群集名称。使用crsctl add cluster site命令将站点添加到扩展群集。使用crsctl delete cluster site命令从扩展群集中删除特定站点。修改扩展群集中站点的配置。显示扩展群集中的站点信息。列出传输层安全性使用的可用密码套件，用于保护节点间通信。使用crsctl get cluster type命令确定群集是Oracle Flex群集还是应用程序群集。设置集群的类型。crsctl get cpu equivalency命令获取CPU_EQUIVALENCY服务器配置属性的值。crsctl set cpu equivalency命令为CPU_EQUIVALENCY服务器配置属性设置一个值。检查本地服务器上的Oracle高可用性服务和Oracle Clusterware堆栈的状态。显示Oracle高可用性服务自动启动配置。在服务器引导时阻止Oracle高可用性服务的自动启动。在服务器引导时启用Oracle高可用性服务的自动启动。在本地服务器上启动Oracle High Availability Services。在本地服务器上停止Oracle高可用性服务。显示群集中运行的Oracle Clusterware软件的活动版本和已配置的修补程序级别。将用户添加到群集管理员列表中。从Oracle Clusterware管理员列表中删除用户。显示具有Oracle Clusterware管理权限的用户列表。获取Oracle Clusterware自动资源启动条件的值。设置Oracle Clusterware自动资源启动条件。显示在修补节点时在Grid Home修补程序存储库中更新的修补程序级别。显示存储在本地节点上的二进制文件中的Oracle Clusterware软件的版本。使用crsctl query crs site命令确定特定主机或磁盘所属的站点。显示已安装的Oracle Clusterware的已配置修补程序级别。显示已在指定节点上成功启动的软件的最新版本。获取特定Cluster Synchronization Services参数的值。引发许多特定节点。设置Cluster Synchronization Services参数的值。取消许多服务器。取消设置Cluster Synchronization Services参数的值并将其恢复为默认值。检索存储在本地智能平台管理接口（IPMI）设备的Oracle本地注册表中的地址。存储Oracle本地注册表中本地智能平台管理接口（IPMI）设备的地址。存储Oracle本地注册表中智能平台管理界面（IPMI）管理员的登录凭据。确定本地服务器上的Oracle Clusterware是否已配置为使用IPMI进行故障隔离。清除Oracle本地注册表中以前存储的所有IPMI配置（登录凭据和IP地址）。确定本地系统上是否存在智能平台管理接口（IPMI）驱动程序。列出禁用自动重新启动群集同步服务的问题。发生特定问题时停止自动重新启动群集同步服务。从Oracle Clusterware配置中删除投票文件。显示群集同步服务使用的投票文件，投票文件的状态以及磁盘的位置，无论它们是存储在Oracle ASM中还是存储在其他位置。检查群集时间同步服务的状态。在指定端口的网络上发送DHCP发现数据包。如果网络上存在DHCP服务器，则它们会响应发现消息并且命令成功。显示Oracle Clusterware代理用于从DHCP服务器获取已配置群集资源的IP地址的客户端ID。VIP类型是必需的。向特定客户端ID发送DHCP租约释放请求，并将网络上的释放数据包发送到特定端口。将网络上的DHCP请求报文发送到指定端口。替换用于查找投票文件的现有发现字符串。获取DNS查找具有指定DNS服务器的名称返回的地址列表。使用指定的子网掩码在指定接口上启动给定的IP名称或IP地址。检查网络上的给定IP地址是否已启动。使用指定的子网掩码停止指定接口上的给定IP名称或IP地址。列出可以调试的模块的组件。为新成员集群创建配置部署文件。删除成员集群配置。显示成员集群的配置。从群集中删除节点。获取本地节点的名称。获取群集中节点的已配置节点角色。将配置策略添加到策略集。从策略集中删除配置策略。预测在不更改系统的情况下激活特定策略的效果。修改现有配置策略。获取配置策略的状态和定义。以文本文件的形式创建一个反映服务器池配置的策略集。修改现有策略集。获取策略集中的当前策略，包括访问控制列表，该列表管理谁可以修改集，最后激活的策略以及现在生效的配置（称为当前策略）。在特定资源的特定于应用程序的代理程序内启动检查操作。将资源重定位到群集中的另一台服务器。检查RESOURCE_USE_ENABLED服务器配置参数的当前设置值。为运行此命令的服务器设置RESOURCE_USE_ENABLED服务器配置参数的值。将Oracle Clusterware和Oracle ASM转换为滚动补丁模式。将Oracle Clusterware和Oracle ASM转换为滚动补丁模式。将Oracle Clusterware和Oracle ASM转换为滚动升级模式。模拟添加服务器而不更改系统。预测删除服务器而不更改系统的影响。预测在不更改系统的情况下将服务器重定位到其他服务器池的影响。修改特定服务器的配置。将服务器重定位到其他服务器池。获取一个或多个特定服务器的状态和配置信息。获取CSS_CRITICAL服务器属性的当前配置值设置CSS_CRITICAL服务器属性的配置值。检查SERVER_LABEL服务器属性的当前设置值。为运行此命令的服务器设置SERVER_LABEL服务器配置属性的配置值。添加用于将非数据库资源（例如应用程序服务器）托管到Oracle Clusterware的服务器池。从Oracle Clusterware配置中删除服务器池。预测添加服务器池而不更改系统的影响。模拟删除服务器池而不更改系统。使用crsctl eval modify serverpool命令可预测修改服务器池的效果，而无需更改系统。此命令可能对群集管理员有用。检索特定服务器池的权限。修改现有服务器池。设置特定服务器池的权限。检索一个或多个特定服务器池的状态和配置信息。验证守护程序是否可以侦听指定的地址和端口。启动将侦听指定IP地址和端口的测试DNS服务器。查询在指定地址和本地主机名上运行的测试DNS服务器。停止测试DNS服务器。移动或替换现有的投票文件。您只能在Oracle Restart环境中使用这些命令。检查ohasd的状态。显示服务器上Oracle高可用性服务堆栈的自动启动配置。在服务器启动时禁用Oracle High Availability Services堆栈的自动启动。在服务器启动时启用Oracle High Availability Services堆栈的自动启动。显示存储在本地节点上的二进制文件中的Oracle Clusterware软件的发行版本。显示本地节点上的软件版本。在本地服务器上启动Oracle High Availability Services。在本地服务器上停止Oracle高可用性服务。您可以使用crsctl set log命令作为root用户，以便为群集就绪服务（CRS），群集同步服务（CSS），事件管理器（EVM）和群集件子组件启用动态调试。设置Oracle Clusterware的日志级别。您可以通过设置环境变量或运行crsctl set log命令来启用Oracle Clusterware模块及其组件和资源的调试。">Oracle Clusterware Control（CRSCTL）实用程序参考</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>