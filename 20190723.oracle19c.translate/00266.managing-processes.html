<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Databases uses several processes so that multiple users and applications can connect to a single database instance simultaneously."></meta>
      <meta name="description" content="Oracle Databases uses several processes so that multiple users and applications can connect to a single database instance simultaneously."></meta>
      <title>管理流程</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="Oracle Databases uses several processes so that multiple users and applications can connect to a single database instance simultaneously."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-automatic-restart-of-an-oracle-database.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-memory.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-automatic-restart-of-an-oracle-database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-memory.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="basic-database-administration.html" property="item" typeof="WebPage"><span property="name">基础数据库管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理流程</li>
            </ol>
            <a id="GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" name="GUID-9B3A136E-D275-417B-B6F4-59A45D42655F"></a><a id="ADMIN11000"></a>
            
            <h2 id="ADMIN-GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" class="sect2"><span class="enumeration_chapter">5</span>管理流程</h2>
         </header>
         <div class="ind">
            <p>Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D">关于专用和共享服务器进程</a><br>Oracle数据库创建服务器进程以处理连接到实例的用户进程的请求。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777">关于数据库驻留连接池</a><br>数据库驻留连接池（DRCP）在数据库服务器中为典型的Web应用程序使用方案提供连接池，其中应用程序获取数据库连接，在相对较短的时间内对其进行处理，然后将其释放。DRCP池“专用”服务器。<span class="bold">池化服务器</span>相当于服务器前台进程和数据库会话的组合。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8">关于代理驻留连接池</a><br>代理驻留连接池使用可在流量控制器模式下使用Oracle Connection Manager配置的代理驻留连接池。代理驻留连接池为数据库客户端提供高可用性，安全性和性能。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-84994723-F2E0-4098-A765-C100103E2DDF">为共享服务器配置Oracle数据库</a><br>您可以启用共享服务器并设置或更改共享服务器初始化参数。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924">配置数据库驻留连接池</a><br>数据库服务器已预先配置为允许数据库驻留连接池。但是，您必须通过启动连接池明确启用此功能。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF">关于Oracle数据库后台进程</a><br>为了最大限度地提高性能并适应许多用户，多<span class="bold">进程</span> Oracle数据库系统使用<span class="bold">后台进程</span> 。后台进程合并了由每个用户进程运行的多个数据库程序处理的函数。后台进程异步执行I / O并监视其他Oracle数据库进程，以提供更高的并行性，从而获得更好的性能和可靠性。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-22936BCB-87C5-492C-A533-EDC165B88B9A">管理Prespawned进程</a><br>Oracle数据库可以预先确定进程以获得更好的客户端连接性能。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C">管理并行SQL执行的进程</a><br>您可以管理SQL语句的并行处理。在此配置中，Oracle数据库可以在多个并行进程之间划分处理SQL语句的工作。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7">管理外部程序的流程</a><br>外部过程是用编程语言编写并存储在共享库中的过程或函数。Oracle服务器可以使用PL / SQL例程调用外部过程或函数。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615">终止会话</a><br>有时需要终止当前的用户会话。例如，您可能希望执行管理操作，并需要终止所有非管理会话。
                  </li>
                  <li class="ulchildlink"><a href="managing-processes.html#GUID-3FB00298-3914-4D01-A634-DD815E1FE1AB">进程和会话数据字典视图</a><br>您可以查询数据字典视图以获取有关进程和会话的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="basic-database-administration.html#GUID-1DF51F9B-86E9-4E40-A30E-00714E7C0003" title="数据库管理员具有特定的职责，必须了解如何完成数据库管理任务。">基本数据库管理</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11166"></a><div class="props_rev_3"><a id="GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D" name="GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D"></a><h3 id="ADMIN-GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D" class="sect3"><span class="enumeration_section">5.1</span>关于专用和共享服务器进程</h3>
               <div>
                  <p>Oracle数据库创建服务器进程以处理连接到实例的用户进程的请求。</p>
                  <p>服务器进程可以是以下任一项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">专用服务器进程</span> ，仅为一个用户进程提供服务</p>
                     </li>
                     <li>
                        <p><span class="bold">共享服务器进程</span> ，可以为多个用户进程提供服务</p>
                     </li>
                  </ul>
                  <p>始终启用数据库以允许专用服务器进程，但必须通过设置一个或多个初始化参数来专门配置和启用共享服务器。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5">专用服务器进程</a><br>专用服务器进程仅为一个用户进程提供服务。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50">共享服务器进程</a><br>共享服务器进程可以服务多个用户进程。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13013"></a><a id="ADMIN11167"></a><div class="props_rev_3"><a id="GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5" name="GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5"></a><h4 id="ADMIN-GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5" class="sect4"><span class="enumeration_section">5.1.1</span>专用服务器进程</h4>
                  <div>
                     <p>专用服务器进程仅为一个用户进程提供服务。</p>
                     <p><a href="managing-processes.html#GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5__i1007374">图5-1</a>说明了专用服务器进程的工作方式。在此图中，两个用户进程通过专用服务器进程连接到数据库。
                     </p>
                     <p>通常，最好通过<span class="bold">调度程序</span>连接并使用共享服务器进程。<a href="managing-processes.html#GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50__i1006182">如图5-2所示</a> 。共享服务器进程可以更高效，因为它可以使运行实例所需的进程数保持较低。
                     </p>
                     <p>但是，在以下情况下，用户和管理员应使用专用服务器进程显式连接到实例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>提交批处理作业（例如，当作业可以允许服务器进程很少或没有空闲时间时）</p>
                        </li>
                        <li>
                           <p>使用Recovery Manager（RMAN）备份，还原或恢复数据库</p>
                        </li>
                     </ul>
                     <p>要在为共享服务器配置Oracle数据库时请求专用服务器连接，用户必须使用配置为使用专用服务器的网络服务名称进行连接。具体来说，网络服务名称值应包含连接描述符中的<code class="codeph">SERVER=DEDICATED</code>子句。
                     </p>
                     <div class="infoboxnotealso" id="GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5__GUID-33E7D776-22ED-4052-A5F3-E364C4430E27">
                        <p class="notep1">也可以看看：</p>
                        <p>有关请求专用服务器连接的详细信息，请参见<a href="../netag/identifying-and-accessing-database.html#NETAG002" target="_blank"><span class="italic">“Oracle数据库网络服务管理员指南”</span></a></p>
                     </div>
                     <div class="figure" id="GUID-9FBA83EC-6298-4FA9-AA66-754D53DC1CB5__i1007374">
                        <p class="titleinfigure">图5-1 Oracle数据库专用服务器进程</p><img src="img/admin013.gif" width="431" alt="下面是图5-1的描述" title="下面是图5-1的描述" longdesc="img_text/admin013.html"><br><a href="img_text/admin013.html">“图5-1 Oracle数据库专用服务器进程”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D" title="Oracle数据库创建服务器进程以处理连接到实例的用户进程的请求。">关于专用和共享服务器进程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13014"></a><a id="ADMIN11168"></a><div class="props_rev_3"><a id="GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50" name="GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50"></a><h4 id="ADMIN-GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50" class="sect4"><span class="enumeration_section">5.1.2</span>共享服务器进程</h4>
                  <div>
                     <p>共享服务器进程可以服务多个用户进程。</p>
                     <p>考虑具有专用服务器进程的订单输入系统。客户给订单台打电话并下订单，接听电话的职员将订单输入数据库。对于大部分交易，职员在电话中与客户交谈。在此期间不需要服务器进程，因此专用于职员用户进程的服务器进程保持空闲状态。对于其他职员输入订单，系统较慢，因为空闲服务器进程正在保留系统资源。</p>
                     <p>共享服务器体系结构消除了对每个连接的专用服务器进程的需要（参见<a href="managing-processes.html#GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50__i1006182">图5-2</a> ）。
                     </p>
                     <div class="figure" id="GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50__i1006182">
                        <p class="titleinfigure">图5-2 Oracle数据库共享服务器进程</p><img src="img/admin011.gif" width="302" alt="下面是图5-2的描述" title="下面是图5-2的描述" longdesc="img_text/admin011.html"><br><a href="img_text/admin011.html">“图5-2 Oracle数据库共享服务器进程”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在共享服务器配置中，客户端用户进程连接到调度程序。调度程序可以同时支持多个客户端连接。每个客户端连接都绑定到一个<span class="bold">虚拟电路</span> ，该<span class="bold">虚拟电路</span>是调度程序用于客户端数据库连接请求和回复的一块共享内存。当请求到达时，调度程序将虚拟电路放置在公共队列上。
                     </p>
                     <p>空闲的共享服务器进程从公共队列中获取虚拟电路，为请求提供服务，并在尝试从公共队列中检索另一个虚拟电路之前放弃虚拟电路。这种方法使一小部分服务器进程能够为大量客户端提供服务。与专用服务器模型相比，共享服务器体系结构的一个显着优势是减少了系统资源，从而支持更多用户。</p>
                     <p>为了更好的资源管理，可以为共享服务器配置<span class="bold">会话多路复用</span> ，它将多个会话组合在一起，以便通过单个网络连接进行传输，从而节省操作系统的资源。
                     </p>
                     <p>共享服务器体系结构需要Oracle Net Services。定位共享服务器的用户进程必须通过Oracle Net Services连接，即使它们与Oracle数据库实例位于同一系统上。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A522BFBF-5452-4038-92DB-C5116A0B1B50__GUID-3362B621-1F2A-4F71-A942-AB7ED9EE7FE5">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../netag/introducing-oracle-net-services.html#NETAG154" target="_blank"><span class="italic">“Oracle数据库网络服务管理员指南”，</span></a>以获取有关共享服务器的更多详细信息，包括会话多路复用等功能</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D" title="Oracle数据库创建服务器进程以处理连接到实例的用户进程的请求。">关于专用和共享服务器进程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12549"></a><a id="ADMIN12550"></a><a id="ADMIN13400"></a><a id="ADMIN12347"></a><div class="props_rev_3"><a id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777" name="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777"></a><h3 id="ADMIN-GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777" class="sect3"><span class="enumeration_section">5.2</span>关于数据库驻留连接池</h3>
               <div>
                  <p>数据库驻留连接池（DRCP）在数据库服务器中为典型的Web应用程序使用方案提供连接池，其中应用程序获取数据库连接，在相对较短的时间内对其进行处理，然后将其释放。DRCP池“专用”服务器。<span class="bold">池化服务器</span>相当于服务器前台进程和数据库会话的组合。
                  </p>
                  <p>DRCP补充了在中间层进程中共享线程之间的连接的中间层连接池。此外，DRCP还允许在同一中间层主机上甚至跨中间层主机的中间层进程之间共享数据库连接。这样可以显着减少支持大量客户端连接所需的关键数据库资源，从而减少数据库层内存占用，并提高中间层和数据库层的可伸缩性。拥有一个随时可用的服务器池还具有降低创建和拆除客户端连接的成本的额外好处。</p>
                  <p>DRCP尤其适用于具有无法执行中间层连接池的多进程单线程应用程序服务器（如PHP / Apache）的体系结构。数据库仍然可以扩展到数万个与DRCP的同时连接。</p>
                  <div class="infoboxnote" id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777__GUID-B0C128E8-89DE-45FF-8FEB-332FE6E5D15D">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，可以共享属于同一用户的代理会话。
                           </p>
                        </li>
                        <li>
                           <p>在Windows平台上，DRCP不支持将<code class="codeph">SQLNET.AUTHENTICATION_SERVICES</code>参数值设置为<code class="codeph">nts</code> 。</p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777__GUID-12129C28-3F11-4575-A052-71AAEC38AD71">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关DRCP的更多详细信息，请参见<a href="../cncpt/application-and-networking-architecture.html#CNCPT1896" target="_blank"><span class="italic">Oracle Database Concepts</span></a></p>
                        </li>
                        <li>
                           <p>有关DRCP的更多信息，请参阅<a href="../adfns/performance-and-scalability.html#ADFNS228" target="_blank"><span class="italic">“Oracle数据库开发指南”</span></a> ，包括使用DRCP的限制</p>
                        </li>
                        <li>
                           <p><a href="../lnoci/session-and-connection-pooling.html#LNOCI9110" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> ，了解有关获取DRCP会话时可用选项的信息</p>
                        </li>
                        <li>
                           <p>有关共享代理会话的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ADFNS-GUID-015CA8C1-2386-4626-855D-CC546DDC1086" target="_blank"><span><cite>Oracle数据库开发指</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777__GUID-588701BE-308C-4CF3-987C-939696AECA5E">何时使用数据库驻留连接池</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>当多个客户端访问数据库并且以下任何一个适用时，数据库驻留连接池很有用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>需要以最少的内存使用来支持大量客户端连接。</p>
                        </li>
                        <li>
                           <p>客户端应用程序类似，可以共享或重用会话。</p>
                           <p>如果应用程序使用相同的数据库凭据连接并使用相同的模式，则应用程序类似</p>
                        </li>
                        <li>
                           <p>客户端应用程序获取数据库连接，在相对较短的时间内处理它，然后释放它。</p>
                        </li>
                        <li>
                           <p>客户端请求不需要会话关联。</p>
                        </li>
                        <li>
                           <p>客户端有多个进程和多个主机。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777__GUID-20633D5C-2637-456A-B127-CE2D0A05849F">数据库驻留连接池的优点</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>使用数据库驻留连接池具有以下优点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在多个中间层客户端应用程序之间实现资源共享。</p>
                        </li>
                        <li>
                           <p>通过减少资源使用来提高数据库和应用程序的可伸缩性。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777__GUID-92126C60-1C80-456C-BC60-4EEAC331C8BC">数据库驻留连接池和LOGON / LOGOFF触发器</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>每次在DRCP中创建新会话时， <code class="codeph">LOGON</code>触发每次身份验证。</p>
                     <p><code class="codeph">LOGOFF</code>会在每次注销时以及在DRCP中销毁会话时触发。因此，当会话因空闲时间限制而终止时，会触发<code class="codeph">LOGOFF</code>触发器。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-17E572DA-A048-410A-9C81-744D15867345">将DRCP与专用服务器和共享服务器进行比较</a><br>了解专用服务器，共享服务器和数据库驻留连接池之间的差异。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777__GUID-F19E7975-9422-406F-8784-4BE2D6404544">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../lnpls/plsql-triggers.html#LNPLS020" target="_blank"><span class="italic">Oracle数据库PL / SQL语言参考</span></a></p>
                        </li>
                        <li>
                           <p><a href="../dbseg/using-application-contexts-to-retrieve-user-information.html#DBSEG60634" target="_blank"><span class="italic">Oracle数据库安全指南</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13015"></a><a id="ADMIN12551"></a><a id="ADMIN12348"></a><div class="props_rev_3"><a id="GUID-17E572DA-A048-410A-9C81-744D15867345" name="GUID-17E572DA-A048-410A-9C81-744D15867345"></a><h4 id="ADMIN-GUID-17E572DA-A048-410A-9C81-744D15867345" class="sect4"><span class="enumeration_section">5.2.1</span>将DRCP与专用服务器和共享服务器进行比较</h4>
                  <div>
                     <p>了解专用服务器，共享服务器和数据库驻留连接池之间的差异。</p>
                     <p><a href="managing-processes.html#GUID-17E572DA-A048-410A-9C81-744D15867345__BABFCIEE" title="此表描述了共享服务器和数据库驻留连接池之间的差异。">表5-1</a>列出了专用服务器，共享服务器和数据库驻留连接池之间的差异。
                     </p>
                     <div class="tblformalwide" id="GUID-17E572DA-A048-410A-9C81-744D15867345__BABFCIEE">
                        <p class="titleintable">表5-1专用服务器，共享服务器和数据库驻留连接池</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="专用服务器，共享服务器和数据库驻留连接池" width="100%" border="1" summary="This table describes the differences between shared server and database resident connection pooling." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d97359e573">专用服务器</th>
                                 <th align="left" valign="bottom" width="33%" id="d97359e576">共享服务器</th>
                                 <th align="left" valign="bottom" width="33%" id="d97359e579">数据库驻留连接池</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d97359e584" headers="d97359e573 ">
                                    <p>收到客户端请求后，将为客户端创建新的服务器进程和会话。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d97359e584 d97359e576 ">
                                    <p>当从客户端收到第一个请求时，Dispatcher进程将此请求放在公共队列上。该请求由可用的共享服务器进程选取。然后，Dispatcher进程管理客户端与共享服务器进程之间的通信。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d97359e584 d97359e579 ">
                                    <p>当从客户端收到第一个请求时，Connection Broker会选择一个可用的池服务器并将客户端连接移交给池化服务器。</p>
                                    <p>如果没有可用的池服务器，则Connection Broker会创建一个。如果池已达到其最大大小，则客户机请求将置于等待队列中，直到池服务器可用。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d97359e596" headers="d97359e573 ">
                                    <p>释放数据库资源涉及终止会话和服务器进程。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d97359e596 d97359e576 ">
                                    <p>释放数据库资源涉及终止会话。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d97359e596 d97359e579 ">
                                    <p>释放数据库资源涉及将池化服务器释放到池中。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d97359e606" headers="d97359e573 ">
                                    <p>内存要求与服务器进程和会话数成正比。每个客户端都有一个服务器和一个会话。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d97359e606 d97359e576 ">
                                    <p>内存要求与共享服务器和会话的总和成比例。每个客户都有一个会话。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d97359e606 d97359e579 ">
                                    <p>内存要求与池化服务器及其会话的数量成正比。每个池化服务器都有一个会话。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d97359e616" headers="d97359e573 ">
                                    <p>会话存储器从PGA分配。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d97359e616 d97359e576 ">
                                    <p>会话内存从SGA分配。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d97359e616 d97359e579 ">
                                    <p>会话存储器从PGA分配。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-17E572DA-A048-410A-9C81-744D15867345__GUID-293F7898-A087-4D11-9835-BCF8B65D5D19">专用服务器，共享服务器和数据库驻留连接池的内存使用示例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>考虑一个应用程序，其中每个会话所需的内存为400 KB，每个服务器进程所需的内存为4 MB。池大小为100，使用的共享服务器数为100。</p>
                        <p>如果有5000个客户端连接，则每个配置使用的内存如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>专用服务器</p>
                              <p>使用的内存= 5000 X（400 KB + 4 MB）= 22 GB</p>
                           </li>
                           <li>
                              <p>共享服务器</p>
                              <p>使用的内存= 5000 X 400 KB + 100 X 4 MB = 2.5 GB</p>
                              <p>在2.5 GB中，从SGA分配2 GB。</p>
                           </li>
                           <li>
                              <p>数据库驻留连接池</p>
                              <p>使用的内存= 100 X（400 KB + 4 MB）+（5000 X 35KB）= 615 MB</p>
                              <p>与代理的每个连接的成本大约为35 KB。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777" title="数据库驻留连接池（DRCP）在数据库服务器中为典型的Web应用程序使用方案提供连接池，其中应用程序获取数据库连接，在相对较短的时间内对其进行处理，然后将其释放。DRCP池" dedicate="=" ="">关于数据库驻留连接池</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8" name="GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8"></a><h3 id="ADMIN-GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8" class="sect3"><span class="enumeration_section">5.3</span>关于代理驻留连接池</h3>
               <div>
                  <p>代理驻留连接池使用可在流量控制器模式下使用Oracle Connection Manager配置的代理驻留连接池。代理驻留连接池为数据库客户端提供高可用性，安全性和性能。</p>
                  <p>基于以下任何技术的数据库客户端可以使用代理驻留连接池连接到数据库实例 -  Oracle调用接口（OCI），Java数据库连接（JDBC），用于.NET的Oracle数据提供程序（ODP.Net） ，开放式数据库连接（ODBC），Pro * C，Pro * COBOL，PHP OCI8扩展，Node.js node-oracledb驱动程序，Python cx_Oracle，ROracle，Ruby-oci8，Perl DBD :: Oracle或Oracle C ++调用接口（OCCI） ）。</p>
                  <div class="infoboxnote" id="GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8__GUID-07C5E9FF-5B44-4398-A7DC-282D0A253935">
                     <p class="notep1">注意：</p>
                     <p>从Oracle Database 18c开始，可以使用代理驻留连接池。</p>
                  </div>
                  <div class="section" id="GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8__WHENTOUSEPROXYRESIDENTCONNECTIONPOO-1C42D46A">
                     <p class="subhead2" id="GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8__GUID-588701BE-308C-4CF3-987C-939696AECA5E">何时使用代理驻留连接池</p>
                     <p>当多个客户端访问数据库并且以下任何一个适用时，代理驻留连接池很有用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用较少数量的数据库连接需要支持大量客户端连接。</p>
                        </li>
                        <li>
                           <p>需要跨中间层连接池共享数据库连接。</p>
                        </li>
                        <li>
                           <p>需要支持超过64K的会话（当共享服务器不能使用时，因为它们具有64K会话的限制）。</p>
                        </li>
                        <li>
                           <p>不支持透明应用程序故障转移（TAF）和Oracle RAC的旧客户端或不使用Oracle数据库驻留连接池（DRCP）或快速应用程序通知（FAN）或应用程序连续性（AC）的客户端需要支持高可用性）。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8__ADVANTAGESOFPROXYRESIDENTCONNECTION-1C42D78D">
                     <p class="subhead2" id="GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8__GUID-20633D5C-2637-456A-B127-CE2D0A05849F">代理驻留连接池的优点</p>
                     <p>使用代理驻留连接池提供以下主要优点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>提高了高可用性（计划内和计划外）</p>
                        </li>
                        <li>
                           <p>提高数据库安全性</p>
                        </li>
                        <li>
                           <p>数据库连接多路复用</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8__GUID-F19E7975-9422-406F-8784-4BE2D6404544">
                     <p class="notep1">也可以看看：</p>
                     <p>有关在Traffic Director模式下使用Oracle Connection Manager启用代理驻留连接池的详细信息，请参阅<span><cite>“Oracle数据库网络服务管理员指南</cite></span> ”中的以下部分。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-18E96DB7-00D4-44C6-B541-0B61B488A2DF" target="_blank"><span class="q">“关于在Traffic Director模式下使用Oracle Connection Manager”</span></a></p>
                        </li>
                        <li>
                           <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8" target="_blank"><span class="q">“在Traffic Director模式下配置Oracle Connection Manager”</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN00502"></a><div class="props_rev_3"><a id="GUID-84994723-F2E0-4098-A765-C100103E2DDF" name="GUID-84994723-F2E0-4098-A765-C100103E2DDF"></a><h3 id="ADMIN-GUID-84994723-F2E0-4098-A765-C100103E2DDF" class="sect3"><span class="enumeration_section">5.4</span>为共享服务器配置Oracle数据库</h3>
               <div>
                  <p>您可以启用共享服务器并设置或更改共享服务器初始化参数。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-80E7E3D8-5033-495E-8F15-359D0E2AD5CA">共享服务器的初始化参数</a><br>一组初始化参数控制共享服务器操作。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-71B59149-13ED-4414-A08E-642E98A8D086">共享服务器的内存管理</a><br>共享服务器在共享池或大型池中需要一些用户全局区域（UGA）。对于具有少量同时会话的安装，这些系统全局区域（SGA）组件的默认大小通常就足够了。但是，如果您希望安装大量会话，则可能必须调整内存以支持共享服务器。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-1EC99B97-38DC-4061-A2F5-3890828616B5">启用共享服务器</a><br>通过将<code class="codeph">SHARED_SERVERS</code>初始化参数设置为大于0的值来启用共享服务器。不需要设置其他共享服务器初始化参数。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1">配置调度程序</a><br><code class="codeph">DISPATCHERS</code>初始化参数配置共享服务器体系结构中的调度程序进程。共享服务器至少需要一个调度程序才能运行。如果未指定调度程序，但通过将<code class="codeph">SHARED_SERVER</code>设置为非零值来启用共享服务器，则默认情况下Oracle Database会为TCP协议创建一个调度程序。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-1B23E09A-8E57-47A8-9436-57B272B1D3C3">禁用共享服务器</a><br>通过将<code class="codeph">SHARED_SERVERS</code>初始化参数设置为0来禁用共享服务器。您可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句动态执行此操作。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A">共享服务器数据字典视图</a><br>您可以查询数据字典视图，以获取有关共享服务器配置的信息并监视性能。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-84994723-F2E0-4098-A765-C100103E2DDF__GUID-B43D8BA0-5F9F-4CF9-B95A-1141F2F2CB21">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="managing-processes.html#GUID-CCC18A52-E47B-48AA-8811-4E87023DB99D" title="Oracle数据库创建服务器进程以处理连接到实例的用户进程的请求。">关于专用和共享服务器进程</a> ”</span></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句的更多信息，请<a href="../sqlrf/SQL-Statements-ALTER-LIBRARY-to-ALTER-SESSION.html#SQLRF009" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11169"></a><div class="props_rev_3"><a id="GUID-80E7E3D8-5033-495E-8F15-359D0E2AD5CA" name="GUID-80E7E3D8-5033-495E-8F15-359D0E2AD5CA"></a><h4 id="ADMIN-GUID-80E7E3D8-5033-495E-8F15-359D0E2AD5CA" class="sect4"><span class="enumeration_section">5.4.1</span>共享服务器的初始化参数</h4>
                  <div>
                     <p>一组初始化参数控制共享服务器操作。</p>
                     <p>以下初始化参数控制共享服务器操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">SHARED_SERVERS</code> ：指定要启动的共享服务器的初始数量以及要保留的最小共享服务器数。这是使用共享服务器的唯一必需参数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">MAX_SHARED_SERVERS</code> ：指定可以同时运行的最大共享服务器数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SHARED_SERVER_SESSIONS</code> ：指定可以同时运行的共享服务器用户会话的总数。通过设置此参数，您可以为专用服务器保留用户会话。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DISPATCHERS</code> ：配置共享服务器体系结构中的调度程序进程。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">MAX_DISPATCHERS</code> ：指定可以同时运行的最大调度程序进程数。此参数现在可以忽略。只有在根据并发连接数自动调整调度程序的数量时，它才会在将来的版本中有用。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CIRCUITS</code> ：指定可用于入站和出站网络会话的虚拟电路总数。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-80E7E3D8-5033-495E-8F15-359D0E2AD5CA__GUID-EE99994A-D0D3-4DEB-89A4-EE6CEADCC249">
                        <p class="notep1">也可以看看：</p>
                        <p>有关这些初始化参数的更多信息，请<a href="../refrn/initialization-parameters.html#REFRN001" target="_blank"><span class="italic">参见Oracle数据库</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-84994723-F2E0-4098-A765-C100103E2DDF" title="您可以启用共享服务器并设置或更改共享服务器初始化参数。">为共享服务器配置Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13345"></a><div class="props_rev_3"><a id="GUID-71B59149-13ED-4414-A08E-642E98A8D086" name="GUID-71B59149-13ED-4414-A08E-642E98A8D086"></a><h4 id="ADMIN-GUID-71B59149-13ED-4414-A08E-642E98A8D086" class="sect4"><span class="enumeration_section">5.4.2</span>共享服务器的内存管理</h4>
                  <div>
                     <p>共享服务器在共享池或大型池中需要一些用户全局区域（UGA）。对于具有少量同时会话的安装，这些系统全局区域（SGA）组件的默认大小通常就足够了。但是，如果您希望安装大量会话，则可能必须调整内存以支持共享服务器。</p>
                     <p>有关<a href="../tgdba/tuning-shared-pool-and-large-pool.html#TGDBA610" target="_blank"><span class="italic">指南</span></a> ，请参阅“ <a href="../tgdba/tuning-shared-pool-and-large-pool.html#TGDBA610" target="_blank"><span class="italic">Oracle数据库性能调整指南</span></a> ”的“配置和使用内存”一节。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-84994723-F2E0-4098-A765-C100103E2DDF" title="您可以启用共享服务器并设置或更改共享服务器初始化参数。">为共享服务器配置Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11170"></a><div class="props_rev_3"><a id="GUID-1EC99B97-38DC-4061-A2F5-3890828616B5" name="GUID-1EC99B97-38DC-4061-A2F5-3890828616B5"></a><h4 id="ADMIN-GUID-1EC99B97-38DC-4061-A2F5-3890828616B5" class="sect4"><span class="enumeration_section">5.4.3</span>启用共享服务器</h4>
                  <div>
                     <p>通过将<code class="codeph">SHARED_SERVERS</code>初始化参数设置为大于0的值来启用共享服务器。不需要设置其他共享服务器初始化参数。
                     </p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>通过使用<code class="codeph">ALTER SYSTEM</code>语句将<code class="codeph">SHARED_SERVERS</code>初始化参数设置为非零值，动态设置共享服务器。
                              </p>
                           </li>
                           <li>
                              <p>通过将<code class="codeph">SHARED_SERVERS</code>初始化参数包含在初始化参数文件中，将其在数据库启动时设置为非零值。
                              </p>
                           </li>
                        </ul>
                        <p>由于共享服务器至少需要一个调度程序才能工作，因此即使没有配置调度程序，调度程序也会启动。Dispatchers在<span class="q">“ <a href="managing-processes.html#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" title="DISPATCHERS初始化参数配置共享服务器体系结构中的调度程序进程。共享服务器至少需要一个调度程序才能运行。如果未指定调度程序，但通过将SHARED_SERVER设置为非零值来启用共享服务器，则默认情况下Oracle数据库会为TCP协议创建一个调度程序。">配置调度程序</a> ”</span>中讨论。
                        </p>
                        <p></p>
                        <div class="infoboxnote" id="GUID-1EC99B97-38DC-4061-A2F5-3890828616B5__GUID-89218DE3-3E2E-4214-98FD-23B80DE36410">
                           <p class="notep1">注意：</p>
                           <p>如果数据库启动时初始化参数文件中未包含<code class="codeph">SHARED_SERVERS</code> ，但包含<code class="codeph">DISPATCHERS</code>且指定至少一个调度程序，则启用共享服务器。在这种情况下， <code class="codeph">SHARED_SERVERS</code>的默认值为1。
                           </p>
                           <p>如果初始化文件中既不包含<code class="codeph">SHARED_SERVERS</code>也不包含<code class="codeph">DISPATCHERS</code>则只需更改<code class="codeph">DISPATCHERS</code>参数即可在启动实例后启动共享服务器。您必须专门将<code class="codeph">SHARED_SERVERS</code>更改为非零值才能启动共享服务器。
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-1EC99B97-38DC-4061-A2F5-3890828616B5__GUID-72BD3668-560D-490B-9EF6-9BE0E0ADCCB2">
                           <p class="notep1">注意：</p>
                           <p>如果使用Database Configuration Assistant（DBCA）创建Oracle数据库，DBCA将为Oracle XML DB（XDB）配置调度程序。这是因为HTTP和FTP等XDB协议需要共享服务器。这导致<code class="codeph">SHARED_SERVER</code>值为1。虽然启用了共享服务器，但此配置仅允许连接到XDB服务的会话使用共享服务器。要为常规数据库会话启用共享服务器（用于提交SQL语句），必须添加其他调度程序配置，或将现有配置替换为非特定于XDB的配置。有关说明，请参阅<span class="q">“ <a href="managing-processes.html#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" title="DISPATCHERS初始化参数配置共享服务器体系结构中的调度程序进程。共享服务器至少需要一个调度程序才能运行。如果未指定调度程序，但通过将SHARED_SERVER设置为非零值来启用共享服务器，则默认情况下Oracle数据库会为TCP协议创建一个调度程序。">配置调度程序</a> ”</span> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-227DE417-B75F-4468-8DEF-5CE2447C7973">关于确定SHARED_SERVERS的值</a><br><code class="codeph">The SHARED_SERVERS</code>初始化参数指定在启动实例时要创建的最小共享服务器数。实例启动后，Oracle数据库可以根据现有共享服务器的繁忙程度和请求队列的长度动态调整共享服务器的数量。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-8AB53F7E-3556-4F15-9E61-9EF2BCAF4FA2">减少共享服务器进程数</a><br>您可以通过将<code class="codeph">SHARED_SERVERS</code>参数动态设置为较低的值来减少必须保持活动的最小共享服务器数。此后，直到共享服务器的数量减少到<code class="codeph">SHARED_SERVERS</code>参数的值，任何变为非活动状态的共享服务器都会被PMON标记为终止。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-8CA4051B-28BC-4C97-9698-D07A00BAACC7">限制共享服务器进程数</a><br><code class="codeph">MAX_SHARED_SERVERS</code>初始化参数指定PMON可以自动创建的最大共享服务器数。它没有默认值。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-36BCDDCC-E868-4E9D-A8DC-37F61CF6AE20">限制共享服务器会话数</a><br><code class="codeph">SHARED_SERVER_SESSIONS</code>初始化参数指定最大并发共享服务器用户会话数。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-CF3BF2EA-1D90-4FFB-9A0B-28B6CC6D3BF4">保护共享内存</a><br><code class="codeph">CIRCUITS</code>初始化参数设置可在共享内存中创建的虚拟电路数量的最大限制。此参数没有默认值。如果未指定，则系统可以根据需要创建电路，受<code class="codeph">DISPATCHERS</code>初始化参数和系统资源的限制。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-84994723-F2E0-4098-A765-C100103E2DDF" title="您可以启用共享服务器并设置或更改共享服务器初始化参数。">为共享服务器配置Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11171"></a><div class="props_rev_3"><a id="GUID-227DE417-B75F-4468-8DEF-5CE2447C7973" name="GUID-227DE417-B75F-4468-8DEF-5CE2447C7973"></a><h5 id="ADMIN-GUID-227DE417-B75F-4468-8DEF-5CE2447C7973" class="sect5"><span class="enumeration_section">5.4.3.1</span>关于确定SHARED_SERVERS的值</h5>
                     <div>
                        <p><code class="codeph">The SHARED_SERVERS</code>初始化参数指定在启动实例时要创建的最小共享服务器数。实例启动后，Oracle数据库可以根据现有共享服务器的繁忙程度和请求队列的长度动态调整共享服务器的数量。
                        </p>
                        <p>在典型的系统中，共享服务器的数量稳定在每十个连接一个共享服务器的比率。对于OLTP应用程序，当请求率较低时，或者当服务器使用率与请求的比率较低时，连接到服务器的比率可能会更高。相反，在请求率较高或服务器使用请求率较高的应用程序中，连接与服务器的比率可能较低。</p>
                        <p>PMON（进程监视器）后台进程无法终止低于<code class="codeph">SHARED_SERVERS</code>指定的值的共享服务器。因此，您可以使用此参数来稳定负载并通过阻止PMON终止然后重新启动共享服务器来最小化系统的压力，因为负载会出现巧合的波动。
                        </p>
                        <p>如果您知道系统的平均负载，则可以将<code class="codeph">SHARED_SERVERS</code>设置为最佳值。以下示例显示了如何使用此参数：</p>
                        <p>假设由1000名代理人员组成的电话营销中心正在使用数据库。平均而言，每个代理商花90％的时间与客户交谈，只有10％的时间查找和更新记录。为了防止共享服务器在代理与客户通信时终止，然后在代理访问数据库时再次生成，DBA指定共享服务器的最佳数量为100。</p>
                        <p>但是，并非所有工作班次都配备在同一级别。在夜班，只需要200名代理人。由于<code class="codeph">SHARED_SERVERS</code>是一个动态参数，因此DBA在晚上将共享服务器的数量减少到20个，从而允许为其他任务（例如批处理作业）释放资源。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-1EC99B97-38DC-4061-A2F5-3890828616B5" title="通过将SHARED_SERVERS初始化参数设置为大于0的值来启用共享服务器。不需要设置其他共享服务器初始化参数。">启用共享服务器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11172"></a><div class="props_rev_3"><a id="GUID-8AB53F7E-3556-4F15-9E61-9EF2BCAF4FA2" name="GUID-8AB53F7E-3556-4F15-9E61-9EF2BCAF4FA2"></a><h5 id="ADMIN-GUID-8AB53F7E-3556-4F15-9E61-9EF2BCAF4FA2" class="sect5"><span class="enumeration_section">5.4.3.2</span>减少共享服务器进程数</h5>
                     <div>
                        <p>您可以通过将<code class="codeph">SHARED_SERVERS</code>参数动态设置为较低的值来减少必须保持活动的最小共享服务器数。此后，直到共享服务器的数量减少到<code class="codeph">SHARED_SERVERS</code>参数的值，任何变为非活动状态的共享服务器都会被PMON标记为终止。
                        </p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>通过使用<code class="codeph">ALTER SYSTEM</code>语句将<code class="codeph">SHARED_SERVERS</code>初始化参数设置为非零值，动态设置共享服务器。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，以下语句减少了共享服务器的数量：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SHARED_SERVERS = 5;</pre><p>将<code class="codeph">SHARED_SERVERS</code>设置为0将禁用共享服务器。有关更多信息，请参阅<span class="q">“ <a href="managing-processes.html#GUID-1B23E09A-8E57-47A8-9436-57B272B1D3C3" title="通过将SHARED_SERVERS初始化参数设置为0来禁用共享服务器。您可以使用ALTER SYSTEM语句动态执行此操作。">禁用共享服务器</a> ”</span> 。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-1EC99B97-38DC-4061-A2F5-3890828616B5" title="通过将SHARED_SERVERS初始化参数设置为大于0的值来启用共享服务器。不需要设置其他共享服务器初始化参数。">启用共享服务器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11173"></a><div class="props_rev_3"><a id="GUID-8CA4051B-28BC-4C97-9698-D07A00BAACC7" name="GUID-8CA4051B-28BC-4C97-9698-D07A00BAACC7"></a><h5 id="ADMIN-GUID-8CA4051B-28BC-4C97-9698-D07A00BAACC7" class="sect5"><span class="enumeration_section">5.4.3.3</span>限制共享服务器进程数</h5>
                     <div>
                        <p><code class="codeph">MAX_SHARED_SERVERS</code>初始化参数指定PMON可以自动创建的最大共享服务器数。它没有默认值。
                        </p>
                        <div class="section">
                           <p>如果未指定任何值，则PMON将启动负载所需的共享服务器数量，但受以下限制：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>进程限制（由<code class="codeph">PROCESSES</code>初始化参数设置）</p>
                              </li>
                              <li>
                                 <p>最小数量的空闲进程槽（至少占总进程槽的八分之一，如果<code class="codeph">PROCESSES</code>设置为小于24，则为两个槽）</p>
                              </li>
                              <li>
                                 <p>系统资源</p>
                              </li>
                           </ul>
                           <p>要限制共享服务器进程的数量：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>设置<code class="codeph">MAX_SHARED_SERVERS</code>初始化参数。
                                 </p>
                              </li>
                           </ul>
                           <p>值<code class="codeph">SHARED_SERVERS</code>覆盖的值<code class="codeph">MAX_SHARED_SERVERS</code> 。因此，您可以强制PMON启动比更多的共享服务器<code class="codeph">MAX_SHARED_SERVERS</code>通过设定值<code class="codeph">SHARED_SERVERS</code>为高于价值<code class="codeph">MAX_SHARED_SERVERS</code> 。随后，您可以通过将<code class="codeph">MAX_SHARED_SERVERS</code>动态更改为高于<code class="codeph">SHARED_SERVERS</code>的值来对共享服务器的数量设置新的上限。</p>
                           <p>限制共享服务器数量的主要原因是为其他进程保留资源，例如内存和CPU时间。例如，考虑前面讨论的电话营销中心的情况：</p>
                           <p>DBA希望在晚上保留三分之二的资源用于批处理作业。他将<code class="codeph">MAX_SHARED_SERVERS</code>设置为不到最大<code class="codeph">PROCESSES</code>数（ <code class="codeph">PROCESSES</code> ）的三分之一。通过这样做，DBA确保即使所有代理同时访问数据库，批处理作业也可以连接到专用服务器，而无需等待处理代理请求后关闭共享服务器。
                           </p>
                           <p>限制共享服务器数量的另一个原因是为了防止太多服务器进程的并发运行由于大量交换而导致系统速度变慢，尽管<code class="codeph">PROCESSES</code>可以作为其上限而不是<code class="codeph">MAX_SHARED_SERVERS</code> 。</p>
                           <p>限制共享服务器数量的其他原因还包括测试，调试，性能分析和调优。例如，要查看有效支持某个用户社区需要多少共享服务器，您可以将<code class="codeph">MAX_SHARED_SERVERS</code>从非常小的数字向上变化，直到用户注意到响应时间没有延迟。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-1EC99B97-38DC-4061-A2F5-3890828616B5" title="通过将SHARED_SERVERS初始化参数设置为大于0的值来启用共享服务器。不需要设置其他共享服务器初始化参数。">启用共享服务器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11174"></a><div class="props_rev_3"><a id="GUID-36BCDDCC-E868-4E9D-A8DC-37F61CF6AE20" name="GUID-36BCDDCC-E868-4E9D-A8DC-37F61CF6AE20"></a><h5 id="ADMIN-GUID-36BCDDCC-E868-4E9D-A8DC-37F61CF6AE20" class="sect5"><span class="enumeration_section">5.4.3.4</span>限制共享服务器会话数</h5>
                     <div>
                        <p><code class="codeph">SHARED_SERVER_SESSIONS</code>初始化参数指定最大并发共享服务器用户会话数。
                        </p>
                        <div class="section">
                           <p>设置此参数（动态参数）可以为专用服务器保留数据库会话。这反过来又确保需要专用服务器的管理任务（例如备份或恢复数据库）不会被共享服务器会话抢占。</p>
                           <p>要限制共享服务器会话的数量：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>设置<code class="codeph">SHARED_SERVER_SESSIONS</code>初始化参数。
                                 </p>
                              </li>
                           </ul>
                           <p>此参数没有默认值。如果未指定，系统可以根据需要创建共享服务器会话，受<code class="codeph">SESSIONS</code>初始化参数的限制。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-1EC99B97-38DC-4061-A2F5-3890828616B5" title="通过将SHARED_SERVERS初始化参数设置为大于0的值来启用共享服务器。不需要设置其他共享服务器初始化参数。">启用共享服务器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11175"></a><div class="props_rev_3"><a id="GUID-CF3BF2EA-1D90-4FFB-9A0B-28B6CC6D3BF4" name="GUID-CF3BF2EA-1D90-4FFB-9A0B-28B6CC6D3BF4"></a><h5 id="ADMIN-GUID-CF3BF2EA-1D90-4FFB-9A0B-28B6CC6D3BF4" class="sect5"><span class="enumeration_section">5.4.3.5</span>保护共享内存</h5>
                     <div>
                        <p><code class="codeph">CIRCUITS</code>初始化参数设置可在共享内存中创建的虚拟电路数量的最大限制。此参数没有默认值。如果未指定，则系统可以根据需要创建电路，受<code class="codeph">DISPATCHERS</code>初始化参数和系统资源的限制。
                        </p>
                        <div class="section">
                           <p>通过限制可在共享内存中创建的虚拟电路数来保护共享内存：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>设置<code class="codeph">CIRCUITS</code>初始化参数。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-1EC99B97-38DC-4061-A2F5-3890828616B5" title="通过将SHARED_SERVERS初始化参数设置为大于0的值来启用共享服务器。不需要设置其他共享服务器初始化参数。">启用共享服务器</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11176"></a><div class="props_rev_3"><a id="GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" name="GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1"></a><h4 id="ADMIN-GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" class="sect4"><span class="enumeration_section">5.4.4</span>配置调度程序</h4>
                  <div>
                     <p><code class="codeph">DISPATCHERS</code>初始化参数配置共享服务器体系结构中的调度程序进程。共享服务器至少需要一个调度程序才能运行。如果未指定调度程序，但通过将<code class="codeph">SHARED_SERVER</code>设置为非零值来启用共享服务器，则默认情况下Oracle Database会为TCP协议创建一个调度程序。
                     </p>
                     <div class="section">
                        <p>此配置的初始化参数的等效<code class="codeph">DISPATCHERS</code>显式设置为：</p><pre class="oac_no_warn" dir="ltr">调度员= “（PROTOCOL = TCP）”</pre><p>如果满足以下任一条件，则可以使用<code class="codeph">DISPATCHERS</code>初始化参数配置更多调度程序：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须配置TCP / IP以外的协议。使用DISPATCHERS参数的以下属性之一配置协议地址：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1012890">地址</a> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011323">描述</a> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011327">协议</a> 
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>您想要配置一个或多个可选的调度程序属性：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011780">DISPATCHERS</a> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011335">CONNECTIONS</a> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011339">SESSIONS</a> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011347">LISTENER</a></p>
                                 </li>
                                 <li>
                                    <p><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011351">MULTIPLEX</a></p>
                                 </li>
                                 <li>
                                    <p><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011359">服务</a></p>
                                    <div class="infoboxnote" id="GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1__GUID-38902ED6-37E6-456F-8A7B-F655733CAC9B">
                                       <p class="notep1">注意：</p>
                                       <p><a id="d97359e1667" class="indexterm-anchor"></a> Database Configuration Assistant可帮助您配置此参数。
                                       </p>
                                    </div>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>要配置TCP / IP以外的协议或配置其他调度程序，请执行以下操作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>设置<code class="codeph">DISPATCHERS</code>初始化参数并指定适当的属性。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561">DISPATCHERS初始化参数属性</a><br>您可以为<code class="codeph">DISPATCHERS</code>初始化参数设置多个属性。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-710DF15E-9EEA-4D77-9F30-E23EAC9A337A">确定调度员的数量</a><br>了解操作系统的每个进程的可能连接数后，计算每个网络协议在实例启动期间要创建的初始调度程序数。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-B2416115-2A05-4959-B963-E917B2C9482C">设置初始调度员数量</a><br>您可以通过将<code class="codeph">DISPATCHERS</code>设置为以逗号分隔的字符串列表，或者通过在初始化参数文件中指定多个<code class="codeph">DISPATCHERS</code>初始化参数来指定多个调度程序配置。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB">改变调度员的数量</a><br>您可以控制实例中的调度程序进程数。与共享服务器的数量不同，调度程序的数量不会自动更改。您可以使用<code class="codeph">ALTER SYSTEM</code>语句显式更改调度程序的数量。您可以将调度程序的数量增加到超过<code class="codeph">MAX_DISPATCHERS</code>参数指定的限制。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-74A1A3FF-83E6-4573-B32E-185EE2CF00F1">关闭特定的调度程序进程</a><br>使用<code class="codeph">ALTER SYSTEM SET DISPATCHERS</code>语句，您可以将其留给数据库以确定要关闭哪些调度程序以减少调度程序的数量。或者，可以关闭特定的调度程序进程。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-84994723-F2E0-4098-A765-C100103E2DDF" title="您可以启用共享服务器并设置或更改共享服务器初始化参数。">为共享服务器配置Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11177"></a><div class="props_rev_3"><a id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561" name="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561"></a><h5 id="ADMIN-GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561" class="sect5"><span class="enumeration_section">5.4.4.1</span> DISPATCHERS初始化参数属性</h5>
                     <div>
                        <p>您可以为<code class="codeph">DISPATCHERS</code>初始化参数设置多个属性。
                        </p>
                        <div class="section">
                           <p>协议地址是必需的，并使用以下一个或多个属性指定：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__GUID-C431832C-D005-4857-A366-07685495BB74">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="In the left column, this table lists the attributes of the DISPATCHERS initialization parameter that can be used can be used to specify a protocol address. The right column describes the attributes use." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d97359e1787">属性</th>
                                    <th align="left" valign="bottom" width="78%" id="d97359e1790">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d97359e1795" headers="d97359e1787 ">
                                       <p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1012890"><code class="codeph">地址</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d97359e1795 d97359e1790 ">
                                       <p>指定调度程序侦听的端点的网络协议地址。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d97359e1803" headers="d97359e1787 ">
                                       <p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011323"><code class="codeph">描述</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d97359e1803 d97359e1790 ">
                                       <p>指定调度程序侦听的端点的网络描述，包括网络协议地址。语法如下：</p><pre class="oac_no_warn" dir="ltr">（DESCRIPTION =（ADDRESS = ...））</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d97359e1813" headers="d97359e1787 ">
                                       <p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011327"><code class="codeph">协议</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d97359e1813 d97359e1790 ">
                                       <p>指定调度程序为其生成侦听端点的网络协议。例如：</p><pre class="oac_no_warn" dir="ltr">（PROTOCOL = TCP）</pre><p>有关协议地址语法的详细信息，请参阅<a href="../netrf/index.html" target="_blank"><span class="italic">Oracle数据库网络服务参考</span></a> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p>以下属性指定此配置应具有的调度程序数。它是可选的，默认为1。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__GUID-F2849C5A-BD3F-4097-9958-48EFFCDFE6C4">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the DISPATCHERS attribute of the DISPATCHERS initialization parameter." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d97359e1840">属性</th>
                                    <th align="left" valign="bottom" width="78%" id="d97359e1843">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d97359e1848" headers="d97359e1840 ">
                                       <p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011780"><code class="codeph">DISPATCHERS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d97359e1848 d97359e1843 ">
                                       <p>指定要启动的初始调度程序数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p>以下属性告诉实例此配置的每个调度程序的网络属性。它们都是可选的。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__GUID-877E574B-C75A-48F7-90E8-018DF86B456C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes the network attributes of the DISPATCHERS initialization parameter. The attribute is listed in the first column, the second column contains a description of the attribute." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d97359e1866">属性</th>
                                    <th align="left" valign="bottom" width="78%" id="d97359e1869">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d97359e1874" headers="d97359e1866 ">
                                       <p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011335"><code class="codeph">CONNECTIONS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d97359e1874 d97359e1869 ">
                                       <p>指定每个调度程序允许的最大网络连接数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d97359e1882" headers="d97359e1866 ">
                                       <p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011339"><code class="codeph">SESSIONS</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d97359e1882 d97359e1869 ">
                                       <p>指定允许每个调度程序的最大网络会话数。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d97359e1891" headers="d97359e1866 ">
                                       <p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011347"><code class="codeph">LISTENER</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d97359e1891 d97359e1869 ">
                                       <p>为LREG进程注册调度程序信息的侦听器指定别名。将别名设置为通过命名方法解析的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d97359e1900" headers="d97359e1866 ">
                                       <p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011351"><code class="codeph">MULTIPLEX</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d97359e1900 d97359e1869 ">
                                       <p>用于启用Oracle Connection Manager会话多路复用功能。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d97359e1908" headers="d97359e1866 ">
                                       <p id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__i1011359"><code class="codeph">服务</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d97359e1908 d97359e1869 ">
                                       <p>指定调度程序向侦听器注册的服务名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p>您可以指定整个属性名称，该子字符串至少包含前三个字符。例如，您可以指定<code class="codeph">SESSIONS=3,</code> <code class="codeph">SES=3</code> ， <code class="codeph">SESS=3</code>或<code class="codeph">SESSI=3</code> ，依此类推。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-E2EF4159-1B0F-49FB-B34B-3A7BB1A83561__GUID-F596B7E8-B54C-43B3-B26F-0436B7D264B8">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DISPATCHERS</code>初始化参数属性的更详细说明，请<a href="../refrn/DISPATCHERS.html#REFRN10049" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" title="DISPATCHERS初始化参数配置共享服务器体系结构中的调度程序进程。共享服务器至少需要一个调度程序才能运行。如果未指定调度程序，但通过将SHARED_SERVER设置为非零值来启用共享服务器，则默认情况下Oracle数据库会为TCP协议创建一个调度程序。">配置调度程序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11178"></a><div class="props_rev_3"><a id="GUID-710DF15E-9EEA-4D77-9F30-E23EAC9A337A" name="GUID-710DF15E-9EEA-4D77-9F30-E23EAC9A337A"></a><h5 id="ADMIN-GUID-710DF15E-9EEA-4D77-9F30-E23EAC9A337A" class="sect5"><span class="enumeration_section">5.4.4.2</span>确定调度员数量</h5>
                     <div>
                        <p>了解操作系统的每个进程的可能连接数后，计算每个网络协议在实例启动期间要创建的初始调度程序数。</p>
                        <div class="section">
                           <p>要计算在实例启动期间要创建的调度程序的初始数量，请使用以下公式：</p><pre class="oac_no_warn" dir="ltr">调度程序数= CEIL（每个调度程序的最大并发会话/连接数）</pre><pre class="oac_no_warn" dir="ltr"></pre><p><code class="codeph">CEIL</code>将结果最终返回到下一个整数。
                           </p>
                           <p>例如，假设一个系统可以为每个进程支持970个连接，并且具有：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>通过TCP / IP和最多同时连接4000个会话</p>
                              </li>
                              <li>
                                 <p>最多2,500个会话通过TCP / IP与SSL同时连接</p>
                              </li>
                           </ul>
                           <p>TCP / IP的<code class="codeph">DISPATCHERS</code>属性应设置为至少五个调度程序（4000/970），对于带有SSL三个调度程序的TCP / IP（2500/970：</p><pre class="oac_no_warn" dir="ltr">DISPATCHERS ='（PROT = tcp）（DISP = 5）'，'（PROT = tcps）（DISP = 3）'</pre><p>根据性能，您可能需要调整调度程序的数量。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" title="DISPATCHERS初始化参数配置共享服务器体系结构中的调度程序进程。共享服务器至少需要一个调度程序才能运行。如果未指定调度程序，但通过将SHARED_SERVER设置为非零值来启用共享服务器，则默认情况下Oracle数据库会为TCP协议创建一个调度程序。">配置调度程序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12552"></a><a id="ADMIN12553"></a><a id="ADMIN12554"></a><a id="ADMIN11179"></a><div class="props_rev_3"><a id="GUID-B2416115-2A05-4959-B963-E917B2C9482C" name="GUID-B2416115-2A05-4959-B963-E917B2C9482C"></a><h5 id="ADMIN-GUID-B2416115-2A05-4959-B963-E917B2C9482C" class="sect5"><span class="enumeration_section">5.4.4.3</span>设置调度员的初始数量</h5>
                     <div>
                        <p>您可以通过将<code class="codeph">DISPATCHERS</code>设置为以逗号分隔的字符串列表，或者通过在初始化参数文件中指定多个<code class="codeph">DISPATCHERS</code>初始化参数来指定多个调度程序配置。
                        </p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>设置<code class="codeph">DISPATCHERS</code>初始化参数。
                                 </p>
                              </li>
                           </ul>
                           <p>如果多次指定<code class="codeph">DISPATCHERS</code> ，则行必须在初始化参数文件中彼此相邻。在内部，Oracle数据库为每个<code class="codeph">DISPATCHERS</code>参数分配一个<code class="codeph">INDEX</code>值（以零开头）。您可以稍后通过其索引号在<code class="codeph">ALTER SYSTEM</code>语句中引用该<code class="codeph">DISPATCHERS</code>参数。
                           </p>
                           <p>下面是设置<code class="codeph">DISPATCHERS</code>初始化参数的一些示例。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B2416115-2A05-4959-B963-E917B2C9482C__GUID-E97C18EA-05E2-4816-8E59-911C900682DE">示例：典型</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>这是设置<code class="codeph">DISPATCHERS</code>初始化参数的典型示例。
                           </p><pre class="oac_no_warn" dir="ltr">DISPATCHERS = “（PROTOCOL = TCP）（DISPATCHERS = 2）”</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B2416115-2A05-4959-B963-E917B2C9482C__GUID-3DA568DC-399C-4C38-B00C-307E98AAD256">示例：强制用于调度程序的IP地址</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下假设示例将创建两个将侦听指定IP地址的调度程序。该地址必须是实例所在主机的有效IP地址。（主机可能配置了多个IP地址。）</p><pre class="oac_no_warn" dir="ltr">DISPATCHERS = “（ADDRESS =（PROTOCOL = TCP）（HOST = 144.25.16.201））（DISPATCHERS = 2）”</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-B2416115-2A05-4959-B963-E917B2C9482C__GUID-3D65FD41-C429-45F7-922D-AA9F6C5A44FD">示例：强制调度程序使用的端口</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>要强制调度程序使用特定端口作为侦听端点，请按如下方式添加<code class="codeph">PORT</code>属性：</p><pre class="oac_no_warn" dir="ltr">DISPATCHERS =“（ADDRESS =（PROTOCOL = TCP）（PORT = 5000））”DISPATCHERS =“（地址=（协议= TCP）（PORT = 5001））”</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" title="DISPATCHERS初始化参数配置共享服务器体系结构中的调度程序进程。共享服务器至少需要一个调度程序才能运行。如果未指定调度程序，但通过将SHARED_SERVER设置为非零值来启用共享服务器，则默认情况下Oracle数据库会为TCP协议创建一个调度程序。">配置调度程序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11180"></a><div class="props_rev_3"><a id="GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB" name="GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB"></a><h5 id="ADMIN-GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB" class="sect5"><span class="enumeration_section">5.4.4.4</span>改变调度员数量</h5>
                     <div>
                        <p>您可以控制实例中的调度程序进程数。与共享服务器的数量不同，调度程序的数量不会自动更改。您可以使用<code class="codeph">ALTER SYSTEM</code>语句显式更改调度程序的数量。您可以将调度程序的数量增加到超过<code class="codeph">MAX_DISPATCHERS</code>参数指定的限制。
                        </p>
                        <div class="section">
                           <ol>
                              <li>
                                 <div class="p">监视以下视图以确定调度程序进程的负载：<ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">V $ QUEUE</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">V $ DISPATCHER</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">V $ DISPATCHER_RATE</code></p>
                                          <p>如果这些视图指示调度程序进程上的负载一直很高，则可以通过启动其他调度程序进程来路由用户请求来提高性能。相反，如果调度员的负载一直很低，减少调度员的数量可能会提高性能。</p>
                                          <div class="infoboxnotealso" id="GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB__GUID-C1F85B47-03AE-47A2-B077-F50DDC044ADD">
                                             <p class="notep1">也可以看看：</p>
                                             <p>有关监视这些视图以确定调度程序负载和性能的信息，请<a href="../tgdba/configuring-database-for-performance.html#TGDBA021" target="_blank"><span class="italic">参见“Oracle数据库性能调整指南”</span></a></p>
                                          </div>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                              <li>
                                 <p>要在实例运行时动态更改调度程序的数量，请使用<code class="codeph">ALTER SYSTEM</code>语句修改现有调度程序配置的<code class="codeph">DISPATCHERS</code>属性设置。您还可以添加新的调度程序配置以启动具有不同网络属性的调度程序。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>当您减少特定调度程序配置的调度程序数时，不会立即删除调度程序。相反，当用户断开连接时，Oracle数据库会将调度程序终止到您在<code class="codeph">DISPATCHERS</code>指定的限制，</p>
                           <p>例如，假设在初始化参数文件中使用此<code class="codeph">DISPATCHERS</code>设置启动实例：</p><pre class="oac_no_warn" dir="ltr">DISPATCHERS ='（PROT = tcp）（DISP = 2）'，'（PROT = tcps）（DISP = 2）'</pre><p>要将TCP / IP协议的调度程序数从2增加到3，并将使用SSL协议的TCP / IP的调度程序数从2减少到1，可以发出以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DISPATCHERS ='（INDEX = 0）（DISP = 3）'，'（INDEX = 1）（DISP = 1）';</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DISPATCHERS ='（PROT = tcp）（DISP = 3）'，'（PROT = tcps）（DISP = 1）';</pre><div class="infoboxnote" id="GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB__GUID-11A09E7E-8A8B-4663-AAD7-D3F20323BD39">
                              <p class="notep1">注意：</p>
                              <p>您无需指定（ <code class="codeph">DISP=1</code> ）。它是可选的，因为1是<code class="codeph">DISPATCHERS</code>参数的默认值。
                              </p>
                           </div>
                           <p>如果TCP / IP当前存在的调度程序进程少于三个，则数据库会创建新的调度程序进程。如果当前存在多个带有SSL的TCP / IP的调度程序进程，则数据库会在连接的用户断开连接时终止额外的调度程序进程。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-processes.html#GUID-79FF4889-2B3D-4F86-B26E-2DEA13706BA6">关于改变调度员的注意事项</a><br>了解有关更改调度程序的详细信息。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" title="DISPATCHERS初始化参数配置共享服务器体系结构中的调度程序进程。共享服务器至少需要一个调度程序才能运行。如果未指定调度程序，但通过将SHARED_SERVER设置为非零值来启用共享服务器，则默认情况下Oracle数据库会为TCP协议创建一个调度程序。">配置调度程序</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11181"></a><div class="props_rev_3"><a id="GUID-79FF4889-2B3D-4F86-B26E-2DEA13706BA6" name="GUID-79FF4889-2B3D-4F86-B26E-2DEA13706BA6"></a><h6 id="ADMIN-GUID-79FF4889-2B3D-4F86-B26E-2DEA13706BA6" class="sect6"><span class="enumeration_section">5.4.4.4.1</span>关于改变调度员的说明</h6>
                        <div>
                           <p>了解有关更改调度程序的详细信息。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">INDEX</code>关键字可用于标识要修改的调度程序配置。如果未指定<code class="codeph">INDEX</code> ，则将修改与指定的<code class="codeph">DESCRIPTION</code> ， <code class="codeph">ADDRESS</code>或<code class="codeph">PROTOCOL</code>匹配的第一个调度程序配置。如果在现有调度程序配置中找不到匹配项，则将添加新的调度程序。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">INDEX</code>值的范围可以从0到<span class="italic"><code class="codeph">n</code></span> -1，其中<span class="italic"><code class="codeph">n</code></span>是当前的调度程序配置数。如果<code class="codeph">ALTER SYSTEM</code>语句指定<code class="codeph">INDEX</code>值等于<span class="italic"><code class="codeph">n</code></span> ，其中<span class="italic"><code class="codeph">n</code></span>是当前调度程序配置数，则将添加新的调度程序配置。
                                 </p>
                              </li>
                              <li>
                                 <p>要查看当前调度程序配置的值（即调度程序的数量等），请查询<code class="codeph">V$DISPATCHER_CONFIG</code>动态性能视图。要查看与调度程序关联的调度程序配置，请查询<code class="codeph">V$DISPATCHER</code>视图的<code class="codeph">CONF_INDX</code>列。
                                 </p>
                              </li>
                              <li>
                                 <p>更改调度程序配置的<code class="codeph">DESCRIPTION</code> ， <code class="codeph">ADDRESS</code> ， <code class="codeph">PROTOCOL</code> ， <code class="codeph">CONNECTIONS</code>和<code class="codeph">MULTIPLEX</code>属性时，更改不会对现有调度程序生效，但仅对新调度程序生效。因此，为了使更改对与配置关联的所有调度程序生效，必须在更改<code class="codeph">DISPATCHERS</code>参数后强制终止现有调度程序，并让数据库使用新指定的属性在其位置启动新的调度程序。
                                 </p>
                                 <p><code class="codeph">LISTENER</code>和<code class="codeph">SERVICES</code>属性不受相同约束。它们适用于与已修改配置关联的现有调度程序。仅当值减少时，属性<code class="codeph">SESSIONS</code>适用于现有调度程序。但是，如果其值增加，则仅应用于新启动的调度程序。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9E829B05-559C-40BD-B3F2-ED0F719DA5DB" title="您可以控制实例中的调度程序进程数。与共享服务器的数量不同，调度程序的数量不会自动更改。您可以使用ALTER SYSTEM语句显式更改调度程序的数量。您可以将调度程序的数量增加到超过MAX_DISPATCHERS参数指定的限制。">更改调度程序数</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11182"></a><div class="props_rev_3"><a id="GUID-74A1A3FF-83E6-4573-B32E-185EE2CF00F1" name="GUID-74A1A3FF-83E6-4573-B32E-185EE2CF00F1"></a><h5 id="ADMIN-GUID-74A1A3FF-83E6-4573-B32E-185EE2CF00F1" class="sect5"><span class="enumeration_section">5.4.4.5</span>关闭特定的调度程序进程</h5>
                     <div>
                        <p>使用<code class="codeph">ALTER SYSTEM SET DISPATCHERS</code>语句，您可以将其留给数据库以确定要关闭哪些调度程序以减少调度程序的数量。或者，可以关闭特定的调度程序进程。
                        </p>
                        <div class="section">
                           <ol>
                              <li>
                                 <div class="p">要标识要关闭的特定调度程序进程的名称，请使用<code class="codeph">V$DISPATCHER</code>动态性能视图。<pre class="oac_no_warn" dir="ltr">从V $ DISPATCHER中选择名称，网络;</pre>每个调度程序由D <span class="italic">nnn</span>形式的名称唯一标识。
                                 </div>
                              </li>
                              <li>
                                 <p>运行ALTER SYSTEM SHUTDOWN IMMEDIATE语句并指定调度程序名称。</p>
                                 <div class="p">例如，要关闭调度程序<code class="codeph">D002</code> ，请发出以下语句：<pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SHUTDOWN IMMEDIATE'D002';</pre><code class="codeph">IMMEDIATE</code>关键字阻止调度程序接受新连接，数据库立即终止通过该调度程序的所有现有连接。清理完所有会话后，调度程序进程将关闭。如果未指定<code class="codeph">IMMEDIATE</code> ，则调度程序将等待所有用户断开连接并且在关闭之前终止其所有连接。
                                 </div>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-0F9C8418-8FEC-4C41-AB55-C7C116DD87C1" title="DISPATCHERS初始化参数配置共享服务器体系结构中的调度程序进程。共享服务器至少需要一个调度程序才能运行。如果未指定调度程序，但通过将SHARED_SERVER设置为非零值来启用共享服务器，则默认情况下Oracle数据库会为TCP协议创建一个调度程序。">配置调度程序</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11183"></a><div class="props_rev_3"><a id="GUID-1B23E09A-8E57-47A8-9436-57B272B1D3C3" name="GUID-1B23E09A-8E57-47A8-9436-57B272B1D3C3"></a><h4 id="ADMIN-GUID-1B23E09A-8E57-47A8-9436-57B272B1D3C3" class="sect4"><span class="enumeration_section">5.4.5</span>禁用共享服务器</h4>
                  <div>
                     <p>通过将<code class="codeph">SHARED_SERVERS</code>初始化参数设置为0来禁用共享服务器。您可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句动态执行此操作。
                     </p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将<code class="codeph">SHARED_SERVERS</code>初始化参数设置为0。
                              </p>
                           </li>
                        </ul>
                        <p>禁用共享服务器时，没有新客户端可以在共享模式下连接。但是，Oracle Database会保留一些共享服务器，直到关闭所有共享服务器连接。保留的共享服务器数量是前面设置的<code class="codeph">SHARED_SERVERS</code>指定的<code class="codeph">SHARED_SERVERS</code>或<code class="codeph">MAX_SHARED_SERVERS</code>参数的值，以较小者为准。如果<code class="codeph">SHARED_SERVERS</code>和<code class="codeph">MAX_SHARED_SERVERS</code>都设置为0，则所有共享服务器将终止，来自其余共享服务器客户端的请求将排队，直到再次引发<code class="codeph">SHARED_SERVERS</code>或<code class="codeph">MAX_SHARED_SERVERS</code>的值。
                        </p>
                        <p>要在所有共享服务器客户端断开连接后终止调度程序，请输入以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DISPATCHERS ='';</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-84994723-F2E0-4098-A765-C100103E2DDF" title="您可以启用共享服务器并设置或更改共享服务器初始化参数。">为共享服务器配置Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11184"></a><div class="props_rev_3"><a id="GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A" name="GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A"></a><h4 id="ADMIN-GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A" class="sect4"><span class="enumeration_section">5.4.6</span>共享服务器数据字典视图</h4>
                  <div>
                     <p>您可以查询数据字典视图，以获取有关共享服务器配置的信息并监视性能。</p>
                     <div class="section">
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A__GUID-54A00BCF-DDA3-4C8A-8250-D52B09BE47F4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The left column contains the names of views, the right column contains the descriptions." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d97359e2621">视图</th>
                                 <th align="left" valign="bottom" width="71%" id="d97359e2624">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2629" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="../refrn/V-DISPATCHER.html#REFRN30063" target="_blank">V $ DISPATCHER</a> </code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2629 d97359e2624 ">
                                    <p>提供有关调度程序进程的信息，包括名称，网络地址，状态，各种使用情况统计信息和索引号。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2640" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30064" target="_blank">V $ DISPATCHER_CONFIG</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2640 d97359e2624 ">
                                    <p>提供有关调度程序的配置信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2650" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="../refrn/V-DISPATCHER_RATE.html#REFRN30065" target="_blank">V $ DISPATCHER_RATE</a> </code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2650 d97359e2624 ">
                                    <p>提供调度程序进程的速率统计信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2661" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="../refrn/V-QUEUE.html#REFRN30194" target="_blank">V $ QUEUE</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2661 d97359e2624 ">
                                    <p>包含有关共享服务器消息队列的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2671" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="../refrn/V-SHARED_SERVER.html#REFRN30241" target="_blank">V $ SHARED_SERVER</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2671 d97359e2624 ">
                                    <p>包含有关共享服务器的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2681" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="../refrn/V-CIRCUIT.html#REFRN30037" target="_blank">V $ CIRCUIT</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2681 d97359e2624 ">
                                    <p>包含有关虚拟电路的信息，虚拟电路是通过调度程序和服务器与数据库的用户连接。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2691" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="../refrn/V-SHARED_SERVER_MONITOR.html#REFRN30242" target="_blank">V $ SHARED_SERVER_MONITOR</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2691 d97359e2624 ">
                                    <p>包含调整共享服务器的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2701" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="../refrn/V-SGA.html#REFRN30233" target="_blank">V $ SGA</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2701 d97359e2624 ">
                                    <p>包含有关各种系统全局区域（SGA）组的大小信息。调整共享服务器时可能很有用。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2711" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="../refrn/V-SGASTAT.html#REFRN30238" target="_blank">V $ SGASTAT</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2711 d97359e2624 ">
                                    <p>包含有关SGA的详细统计信息，对调整很有用。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d97359e2721" headers="d97359e2621 ">
                                    <p><code class="codeph"><a href="../refrn/V-SHARED_POOL_RESERVED.html#REFRN30240" target="_blank">V $ SHARED_POOL_RESERVED</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d97359e2721 d97359e2624 ">
                                    <p>列出统计信息以帮助调整共享池中的保留池和空间。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6EBDB5D3-4BA0-4AE5-A690-AF46834AA36A__GUID-78540CE1-6F37-4CB5-837C-E53F58F9919D">
                        <p class="notep1">也可以看看：</p>
                        <p>有关监视和调整共享服务器的特定信息，请<a href="../tgdba/configuring-database-for-performance.html#TGDBA021" target="_blank"><span class="italic">参见“Oracle数据库性能调整指南</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-84994723-F2E0-4098-A765-C100103E2DDF" title="您可以启用共享服务器并设置或更改共享服务器初始化参数。">为共享服务器配置Oracle数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12349"></a><div class="props_rev_3"><a id="GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924" name="GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924"></a><h3 id="ADMIN-GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924" class="sect3"><span class="enumeration_section">5.5</span>配置数据库驻留连接池</h3>
               <div>
                  <p>数据库服务器已预先配置为允许数据库驻留连接池。但是，您必须通过启动连接池明确启用此功能。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC">启用数据库驻留连接池</a><br>Oracle数据库包含一个名为<code class="codeph">SYS_DEFAULT_CONNECTION_POOL</code>的默认连接池。默认情况下，此池已创建，但尚未启动。要启用数据库驻留连接池，必须显式启动连接池。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-08C884ED-0CFF-4AEC-9419-6597B2309391">配置数据库驻留连接池的连接池</a><br>使用默认参数值配置连接池。您可以使用<code class="codeph">DBMS_CONNECTION_POOL</code>包中的过程根据您的用法配置连接池。在Oracle Real Application Clusters（Oracle RAC）环境中，配置参数适用于每个Oracle RAC实例。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-68E90E5F-F1A5-45E5-9D44-B33D0DA87903">数据库驻留连接池的数据字典视图</a><br>您可以查询数据字典视图以获取有关连接池的信息并监视数据库驻留连接池的性能。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-6C99612A-B34C-4412-BBCD-1FFD72B253D3">确定连接池中的连接状态</a><br>您可以查询<code class="codeph">V$CPOOL_CONN_INFO</code>视图以确定连接池中每个连接的当前状态。
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924__GUID-05612ED8-F713-4ED2-9A6C-EF50F05CB44E">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="managing-processes.html#GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777" title="数据库驻留连接池（DRCP）在数据库服务器中为典型的Web应用程序使用方案提供连接池，其中应用程序获取数据库连接，在相对较短的时间内对其进行处理，然后将其释放。DRCP池" dedicate="=" ="">关于数据库驻留连接池</a> ”</span></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12555"></a><a id="ADMIN12556"></a><a id="ADMIN12557"></a><a id="ADMIN12558"></a><a id="ADMIN12350"></a><div class="props_rev_3"><a id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC" name="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC"></a><h4 id="ADMIN-GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC" class="sect4"><span class="enumeration_section">5.5.1</span>启用数据库驻留连接池</h4>
                  <div>
                     <p>Oracle数据库包含一个名为<code class="codeph">SYS_DEFAULT_CONNECTION_POOL</code>的默认连接池。默认情况下，此池已创建，但尚未启动。要启用数据库驻留连接池，必须显式启动连接池。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-68B8C2EC-C5D8-49B2-8684-C347538B5948">要启用数据库驻留连接池：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>启动数据库驻留连接池，如<span class="q">“ <a href="managing-processes.html#GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__CHDCACDA">启动数据库驻留连接池</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>将客户端连接请求路由到连接池，如<span class="q">“将<a href="managing-processes.html#GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__CHDIAIAA">客户端连接请求路由到连接池</a> ”中所述</span> 。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__CHDCACDA">
                        <p class="subhead3" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-345E3809-909A-4961-98A6-32AB951B8359">启动数据库驻留连接池</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要启动连接池：</p>
                        <ol>
                           <li>
                              <p>启动SQL * Plus并以<code class="codeph">SYS</code>用户身份连接到数据库。
                              </p>
                           </li>
                           <li>
                              <p>发出以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.START_POOL（）;</pre></li>
                        </ol>
                        <p>一旦启动，连接池将保持此状态，直到它被明确停止。如果在实例关闭时池处于活动状态，则在重新启动数据库实例时会自动重新启动连接池。</p>
                        <p>在Oracle Real Application Clusters（Oracle RAC）环境中，您可以使用任何实例来管理连接池。您对池配置所做的任何更改都适用于所有Oracle RAC实例。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__CHDIAIAA">
                        <p class="subhead3" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-D0B4CF51-5400-466C-B5DA-6AB762B38883">将客户端连接请求路由到连接池</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在客户端应用程序中，连接字符串必须将连接类型指定为<code class="codeph">POOLED</code> 。</p>
                        <p>以下示例显示了一个简单的连接字符串，使客户端能够连接到数据库驻留连接池：</p><pre class="oac_no_warn" dir="ltr">examplehost.company.com:1521/books.company.com:POOLED</pre><p>以下示例显示了一个TNS连接描述符，该描述符使客户端能够连接到数据库驻留连接池：</p><pre class="oac_no_warn" dir="ltr">（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = myhost）（PORT = 1521））（CONNECT_DATA =（SERVICE_NAME = sales）（SERVER = POOLED）））</pre><div class="infoboxnote" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-6B85CA35-FBEC-48C8-BC38-5233A9B2F88C">
                           <p class="notep1">注意：</p>客户端连接到数据库驻留连接池仅支持TCP协议。
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-66E0C5D8-896B-4EF1-8E80-170D37A43501">禁用数据库驻留连接池</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要禁用数据库驻留连接池，必须显式停止连接池。使用以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>启动SQL * Plus并以<code class="codeph">SYS</code>用户身份连接到数据库。</span></li>
                        <li class="stepexpand"><span>发出以下命令：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.STOP_POOL（）;</pre><div class="infoboxnotealso" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-BE482E26-EB44-4FD2-8B23-BA3593DADB0F">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关<code class="codeph">DBMS_CONNECTION_POOL</code>包的更多信息，请<code class="codeph">DBMS_CONNECTION_POOL</code> <a href="../arpls/DBMS_CONNECTION_POOL.html#ARPLS215" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                                 </p>
                              </div>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-BCBECBF1-D9BA-4D1B-885B-77140C8BB2DC__GUID-C5F80ABC-17EE-45BB-A87F-5FC7EDB7F925">
                           <p class="notep1">注意：</p>
                           <p>只有当已完成切换到服务器的所有客户端请求时，才能完成禁用数据库驻留连接池的操作。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924" title="数据库服务器已预先配置为允许数据库驻留连接池。但是，您必须通过启动连接池明确启用此功能。">配置数据库驻留连接池</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13016"></a><a id="ADMIN12559"></a><a id="ADMIN12560"></a><a id="ADMIN12561"></a><a id="ADMIN12351"></a><div class="props_rev_3"><a id="GUID-08C884ED-0CFF-4AEC-9419-6597B2309391" name="GUID-08C884ED-0CFF-4AEC-9419-6597B2309391"></a><h4 id="ADMIN-GUID-08C884ED-0CFF-4AEC-9419-6597B2309391" class="sect4"><span class="enumeration_section">5.5.2</span>配置数据库驻留连接池的连接池</h4>
                  <div>
                     <p>使用默认参数值配置连接池。您可以使用<code class="codeph">DBMS_CONNECTION_POOL</code>包中的过程根据您的用法配置连接池。在Oracle Real Application Clusters（Oracle RAC）环境中，配置参数适用于每个Oracle RAC实例。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-08C884ED-0CFF-4AEC-9419-6597B2309391__GUID-C6FF381E-493D-4816-9B55-98475734750E">使用CONFIGURE_POOL过程</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">DBMS_CONNECTION_POOL</code>包的<code class="codeph">CONFIGURE_POOL</code>过程使您可以使用高级选项配置连接池。必须修改连接池的所有参数时，通常会使用此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-08C884ED-0CFF-4AEC-9419-6597B2309391__GUID-CF1ADC49-89DD-433A-8FCC-C80C357AB7EF">使用ALTER_PARAM过程</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">DBMS_CONNECTION_POOL</code>包的<code class="codeph">ALTER_PARAM</code>过程使您可以更改特定的配置参数，而不会影响其他参数。例如，以下命令更改使用的最小池化服务器数：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.ALTER_PARAM（''，'MINSIZE'，'10'）;</pre><p>以下示例将每个连接代理可以处理的最大连接数更改为50000。</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.ALTER_PARAM（''，'MAXCONN_CBROK'，'50000'）;</pre><p>在执行此命令之前，请确保安装数据库的平台允许的最大连接数不小于为<code class="codeph">MAXCONN_CBROK</code>设置的值。</p>
                        <p>例如，在Linux中，/ <code class="codeph">/etc/security/limits.conf</code>文件中的以下条目表示用户<code class="codeph">test_user</code>允许的最大连接数为30000。
                        </p><pre class="oac_no_warn" dir="ltr">test_user HARD NOFILE 30000</pre><p>要将每个连接代理可以允许的最大连接数设置为50000，请首先将<code class="codeph">limits.conf</code>文件中的值更改为不小于50000的值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-08C884ED-0CFF-4AEC-9419-6597B2309391__GUID-EBF8CFD2-6418-45FB-8206-6C5226289801">恢复连接池默认设置</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果已对连接池参数进行了更改，但又想恢复为默认池设置，请使用<code class="codeph">DBMS_CONNECTION_POOL</code>程序包的<code class="codeph">RESTORE_DEFAULT</code>过程。将连接池还原为其默认设置的命令是：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; EXECUTE DBMS_CONNECTION_POOL.RESTORE_DEFAULTS（）;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-ABBE6941-73AC-4343-B320-A1400451B44F">数据库驻留连接池的配置参数</a><br>您可以在<code class="codeph">DBMS_CONNECTION_POOL</code>包中指定子程序的参数，以配置数据库驻留连接池。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-08C884ED-0CFF-4AEC-9419-6597B2309391__GUID-AE6E1098-25E9-4D6B-87E6-C9EB24692FD2">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DBMS_CONNECTION_POOL</code>包的更多信息，请<code class="codeph">DBMS_CONNECTION_POOL</code> <a href="../arpls/DBMS_CONNECTION_POOL.html#ARPLS215" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924" title="数据库服务器已预先配置为允许数据库驻留连接池。但是，您必须通过启动连接池明确启用此功能。">配置数据库驻留连接池</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-ABBE6941-73AC-4343-B320-A1400451B44F" name="GUID-ABBE6941-73AC-4343-B320-A1400451B44F"></a><h5 id="ADMIN-GUID-ABBE6941-73AC-4343-B320-A1400451B44F" class="sect5"><span class="enumeration_section">5.5.2.1</span>数据库驻留连接池的配置参数</h5>
                     <div>
                        <p>您可以在<code class="codeph">DBMS_CONNECTION_POOL</code>包中指定子程序的参数，以配置数据库驻留连接池。
                        </p>
                        <div class="section">
                           <p>下表列出了可以为连接池配置的参数。</p>
                           <div class="tblformal" id="GUID-ABBE6941-73AC-4343-B320-A1400451B44F__CHDEGEHJ">
                              <p class="titleintable">表5-2数据库驻留连接池的配置参数</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="数据库驻留连接池的配置参数" width="100%" border="1" summary="This table describes the configuration parameters used for database resident connection pooling." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="36%" id="d97359e3156">参数名称</th>
                                       <th align="left" valign="bottom" width="64%" id="d97359e3159">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3164" headers="d97359e3156 ">
                                          <p><code class="codeph">MINSIZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3164 d97359e3159 ">
                                          <p>池中池化服务器的最小数量。默认值为4。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3172" headers="d97359e3156 ">
                                          <p><code class="codeph">MAXSIZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3172 d97359e3159 ">
                                          <p>池中池化服务器的最大数量。默认值为40。</p>
                                          <p>连接池保留5％的池服务器进行身份验证，并且始终保留至少一个池服务器进行身份验证。设置此参数时，请确保有足够的池服务器用于身份验证和连接。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3182" headers="d97359e3156 ">
                                          <p><code class="codeph">INCRSIZE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3182 d97359e3159 ">
                                          <p>如果在收到客户端应用程序请求时服务器不可用，则池增加的池数量。默认值为2。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3190" headers="d97359e3156 ">
                                          <p><code class="codeph">SESSION_CACHED_CURSORS</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3190 d97359e3159 ">
                                          <p>要在每个池化服务器会话中缓存的会话游标数。默认值为20。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3198" headers="d97359e3156 ">
                                          <p><code class="codeph">INACTIVITY_TIMEOUT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3198 d97359e3159 ">
                                          <p>池化服务器在池中保持空闲的最长时间（以秒为单位）。在此之后，服务器终止。默认值为300。</p>
                                          <p>如果池处于<code class="codeph">MINSIZE</code>则此参数不适用。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3211" headers="d97359e3156 ">
                                          <p><code class="codeph">MAX_THINK_TIME</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3211 d97359e3159 ">
                                          <p>客户端从池中获取池化服务器且其中没有打开事务的最长不活动时间（以秒为单位）。从池中获取池化服务器后，如果客户端应用程序未在<code class="codeph">MAX_THINK_TIME</code>指定的时间内发出数据库调用，则释放池化服务器并终止客户端连接。默认值为120。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3222" headers="d97359e3156 ">
                                          <p><code class="codeph">MAX_TXN_THINK_TIME</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3222 d97359e3159 ">
                                          <p>客户端从打开事务的池中获取池化服务器后，不活动的最长时间（以秒为单位）。从池中获取池化服务器后，如果客户端应用程序未在<code class="codeph">MAX_TXN_THINK_TIME</code>指定的时间内发出数据库调用，则释放池化服务器，并终止客户端连接。此参数的默认值是<code class="codeph">MAX_THINK_TIME</code>参数的值。应用程序可以将<code class="codeph">MAX_TXN_THINK_TIME</code>参数的值设置为高于<code class="codeph">MAX_THINK_TIME</code>值的值，以便为打开事务的连接<code class="codeph">MAX_THINK_TIME</code>出更多时间。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3242" headers="d97359e3156 ">
                                          <p><code class="codeph">MAX_USE_SESSION</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3242 d97359e3159 ">
                                          <p>池化服务器可以被取出并释放到池中的次数。默认值为500000。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3250" headers="d97359e3156 ">
                                          <p><code class="codeph">MAX_LIFETIME_SESSION</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3250 d97359e3159 ">
                                          <p>池中池化服务器的生存时间（以秒为单位）。默认值为86400。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3258" headers="d97359e3156 ">
                                          <p><code class="codeph">NUM_CBROK</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3258 d97359e3159 ">
                                          <p>为处理客户端请求而创建的连接代理的数量。默认值为1。</p>
                                          <p>如果存在大量客户端应用程序，则创建多个Connection Broker进程有助于分发客户端连接请求的负载。</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="36%" id="d97359e3268" headers="d97359e3156 ">
                                          <p><code class="codeph">MAXCONN_CBROK</code></p>
                                       </td>
                                       <td align="left" valign="top" width="64%" headers="d97359e3268 d97359e3159 ">
                                          <p>每个Connection Broker可以处理的最大连接数。</p>
                                          <p>默认值为40000。但是，如果安装数据库的平台允许的最大连接数小于默认值，则此值将覆盖使用<code class="codeph">MAXCONN_CBROK</code>设置的值。</p>
                                          <p>将操作系统的每进程文件描述符限制设置得足够高，以便它支持<code class="codeph">MAXCONN_CBROK</code>指定的连接数。</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-ABBE6941-73AC-4343-B320-A1400451B44F__GUID-C2E23FDA-D9F0-454B-9D05-574C5C32A19A">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">DBMS_CONNECTION_POOL</code>包的更多信息，请<code class="codeph">DBMS_CONNECTION_POOL</code> <a href="../arpls/DBMS_CONNECTION_POOL.html#ARPLS215" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-08C884ED-0CFF-4AEC-9419-6597B2309391" title="使用默认参数值配置连接池。您可以使用DBMS_CONNECTION_POOL包中的过程根据您的用法配置连接池。在Oracle Real Application Clusters（Oracle RAC）环境中，配置参数适用于每个Oracle RAC实例。">为数据库驻留连接池配置连接池</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13017"></a><a id="ADMIN12352"></a><div class="props_rev_3"><a id="GUID-68E90E5F-F1A5-45E5-9D44-B33D0DA87903" name="GUID-68E90E5F-F1A5-45E5-9D44-B33D0DA87903"></a><h4 id="ADMIN-GUID-68E90E5F-F1A5-45E5-9D44-B33D0DA87903" class="sect4"><span class="enumeration_section">5.5.3</span>数据库驻留连接池的数据字典视图</h4>
                  <div>
                     <p>您可以查询数据字典视图以获取有关连接池的信息并监视数据库驻留连接池的性能。</p>
                     <div class="tblformal" id="GUID-68E90E5F-F1A5-45E5-9D44-B33D0DA87903__BABDGAFH">
                        <p class="titleintable">表5-3数据库驻留连接池的数据字典视图</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="数据库驻留连接池的数据字典视图" width="100%" border="1" summary="This table describes the data dictionary views that contain information about database resident connection pooling." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d97359e3354">视图</th>
                                 <th align="left" valign="bottom" width="67%" id="d97359e3357">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d97359e3362" headers="d97359e3354 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_CPOOL_INFO.html#REFRN23605" target="_blank">DBA_CPOOL_INFO</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d97359e3362 d97359e3357 ">
                                    <p>包含有关连接池的信息，例如池状态，最大和最小连接数以及空闲会话的超时。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d97359e3372" headers="d97359e3354 ">
                                    <p><code class="codeph"><a href="../refrn/V-CPOOL_CONN_INFO.html#REFRN30630" target="_blank">V $ CPOOL_CONN_INFO</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d97359e3372 d97359e3357 ">
                                    <p>包含有关连接代理的每个连接的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d97359e3382" headers="d97359e3354 ">
                                    <p><code class="codeph"><a href="../refrn/V-CPOOL_STATS.html#REFRN30487" target="_blank">V $ CPOOL_STATS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d97359e3382 d97359e3357 ">
                                    <p>包含池统计信息，例如会话请求数，在池中找到与请求匹配的会话的次数，以及会话请求的总等待时间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d97359e3392" headers="d97359e3354 ">
                                    <p><code class="codeph"><a href="../refrn/V-CPOOL_CC_INFO.html#REFRN30486" target="_blank">V $ CPOOL_CC_INFO</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d97359e3392 d97359e3357 ">
                                    <p>包含有关池的池到连接类映射的信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d97359e3402" headers="d97359e3354 ">
                                    <p><code class="codeph"><a href="../refrn/V-CPOOL_CC_STATS.html#REFRN30448" target="_blank">V $ CPOOL_CC_STATS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d97359e3402 d97359e3357 ">
                                    <p>包含池的连接类级别统计信息。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924" title="数据库服务器已预先配置为允许数据库驻留连接池。但是，您必须通过启动连接池明确启用此功能。">配置数据库驻留连接池</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-6C99612A-B34C-4412-BBCD-1FFD72B253D3" name="GUID-6C99612A-B34C-4412-BBCD-1FFD72B253D3"></a><h4 id="ADMIN-GUID-6C99612A-B34C-4412-BBCD-1FFD72B253D3" class="sect4"><span class="enumeration_section">5.5.4</span>确定连接池中的连接状态</h4>
                  <div>
                     <p>您可以查询<code class="codeph">V$CPOOL_CONN_INFO</code>视图以确定连接池中每个连接的当前状态。
                     </p>
                     <div class="section">
                        <p>您可以查询此视图以获取有关每个连接状态的详细信息。例如，您可以确定哪些连接忙或空闲。要确定此信息：</p>
                     </div>
                     <!-- class="section" -->
                     <ul>
                        <li><span>查询<code class="codeph">V$CPOOL_CONN_INFO</code>视图。</span></li>
                     </ul>
                     <div class="example" id="GUID-6C99612A-B34C-4412-BBCD-1FFD72B253D3__GUID-FA702097-090F-4334-AB59-D898B90FC747">
                        <p class="titleinexample">示例5-1确定连接等待的时间</p>
                        <p>以下查询显示处于<code class="codeph">WAITING</code>状态的连接的等待时间：</p><pre class="pre codeblock"><code>SELECT USERNAME，SERVICE，LAST_WAIT_TIME FROM V $ CPOOL_CONN_INFO WHERE CONNECTION_STATUS ='WAITING';</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-6C99612A-B34C-4412-BBCD-1FFD72B253D3__GUID-F3AFE120-1982-4720-BE00-921AFC740C39">
                        <p class="titleinexample">示例5-2确定连接已激活的时间</p>
                        <p>以下查询显示处于<code class="codeph">ACTIVE</code>状态的连接的每个连接都处于活动状态的时间量：</p><pre class="pre codeblock"><code>SELECT USERNAME，SERVICE，LAST_ACTIVE_TIME FROM V $ CPOOL_CONN_INFO WHERE CONNECTION_STATUS ='ACTIVE';</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-6C99612A-B34C-4412-BBCD-1FFD72B253D3__GUID-A7AC016D-F362-4775-A225-D7F7636BFAF7">
                        <p class="titleinexample">示例5-3列出运行时间最长的活动连接</p>
                        <p>以下查询显示已处于<code class="codeph">ACTIVE</code>状态的连接最长时间：</p><pre class="pre codeblock"><code>SELECT USERNAME，SERVICE，ACTIVE_TIME FROM V $ CPOOL_CONN_INFO WHERE CONNECTION_STATUS ='ACTIVE'ORDER BY ACTIVE_TIME DESC;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-6C99612A-B34C-4412-BBCD-1FFD72B253D3__GUID-E0927DA7-A37C-46A6-8E2B-DC2784DCC6FE">
                        <p class="titleinexample">例5-4确定等待队列中最旧连接的等待时间</p>
                        <p>以下查询显示处于<code class="codeph">WAITING</code>状态的会话的等待时间：</p><pre class="pre codeblock"><code>SELECT USERNAME，SERVICE，LAST_WAIT_TIME FROM V $ CPOOL_CONN_INFO WHERE LAST_WAIT_TIME =（SELECT max（LAST_WAIT_TIME）FROM V $ CPOOL_CONN_INFO WHERE CONNECTION_STATUS ='WAITING'）;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924" title="数据库服务器已预先配置为允许数据库驻留连接池。但是，您必须通过启动连接池明确启用此功能。">配置数据库驻留连接池</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13018"></a><a id="ADMIN11185"></a><div class="props_rev_3"><a id="GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF" name="GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF"></a><h3 id="ADMIN-GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF" class="sect3"><span class="enumeration_section">5.6</span>关于Oracle数据库后台进程</h3>
               <div>
                  <p>为了最大限度地提高性能并适应许多用户，多<span class="bold">进程</span> Oracle数据库系统使用<span class="bold">后台进程</span> 。后台进程合并了由每个用户进程运行的多个数据库程序处理的函数。后台进程异步执行I / O并监视其他Oracle数据库进程，以提供更高的并行性，从而获得更好的性能和可靠性。
                  </p>
                  <p> </p>
                  <p><a href="managing-processes.html#GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF__CIHIICBD" title="第一列列出了各种后台进程，第二列包含进程的简要说明。">表5-4</a>描述了基本的后台进程，其中许多将在本书的其他地方进行更详细的讨论。使用其他数据库功能或选项可能会导致出现更多后台进程。例如：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用Oracle数据库高级队列时，存在队列监视器（QMN <span class="italic">n</span> ）后台进程。
                        </p>
                     </li>
                     <li>
                        <p>将<code class="codeph">FILE_MAPPING</code>初始化参数设置为<code class="codeph">true</code>以将数据文件映射到存储子系统上的物理设备时，将显示FMON进程。
                        </p>
                     </li>
                     <li>
                        <p>如果使用Oracle自动存储管理（Oracle ASM），则会出现其他Oracle ASM特定的后台进程。</p>
                     </li>
                  </ul>
                  <div class="tblformalwide" id="GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF__CIHIICBD">
                     <p class="titleintable">表5-4 Oracle数据库后台进程</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle数据库后台进程" width="100%" border="1" summary="the first column lists the various background processes, the second column contains a brief description of the process." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d97359e3631">进程名称</th>
                              <th align="left" valign="bottom" width="75%" id="d97359e3634">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d97359e3639" headers="d97359e3631 ">
                                 <p>数据库写程序（DBW <span class="italic">n</span>或BW <span class="italic">nn</span> ）</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d97359e3639 d97359e3634 ">
                                 <p>数据库写程序将修改后的块从数据库缓冲区高速缓存写入数据文件。Oracle数据库最多允许100个数据库写程序进程。前36个数据库写程序进程的名称是DBW0-DBW9和DBWa-DBWz。第37到第100个数据库写程序进程的名称是BW36-BW99。</p>
                                 <p><code class="codeph">DB_WRITER_PROCESSES</code>初始化参数指定数据库写程序进程的数量。数据库为此初始化参数选择适当的默认设置，或根据CPU数和处理器组数调整用户指定的设置。
                                 </p>
                                 <p>有关设置<code class="codeph">DB_WRITER_PROCESSES</code>初始化参数的详细信息，请参阅<span class="q">“ <a href="../tgdba/index.html" target="_blank"><span class="italic">Oracle数据库性能调整指南</span></a> ”</span> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d97359e3668" headers="d97359e3631 ">
                                 <p>日志写入器（LGWR）</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d97359e3668 d97359e3634 ">
                                 <p>日志写入器进程将重做日志条目写入磁盘。重做日志条目在系统全局区域（SGA）的重做日志缓冲区中生成。LGWR将重做日志条目按顺序写入重做日志文件。如果数据库具有多路复用重做日志，则LGWR会将重做日志条目写入一组重做日志文件。有关日志写入器进程的信息，请参阅<span class="q">“ <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="您可以通过完成诸如创建重做日志组和成员，重定位和重命名重做日志成员，删除重做日志组和成员以及强制日志切换等任务来管理重做日志。">管理重做日志</a> ”</span> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d97359e3683" headers="d97359e3631 ">
                                 <p>检查站（CKPT）</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d97359e3683 d97359e3634 ">
                                 <p>在特定时间，系统全局区域中的所有已修改数据库缓冲区都由DBW <span class="italic">n</span>写入数据文件。此事件称为检查点。检查点进程负责在检查点发信号通知DBW <span class="italic">n</span>并更新数据库的所有数据文件和控制文件以指示最近的检查点。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d97359e3696" headers="d97359e3631 ">
                                 <p>系统监视器（SMON）</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d97359e3696 d97359e3634 ">
                                 <p>当故障实例再次启动时，系统监视器将执行恢复。在Oracle Real Application Clusters数据库中，一个实例的SMON进程可以为其他失败的实例执行实例恢复。SMON还会清除不再使用的临时段，并在系统故障和实例恢复期间因文件读取或脱机错误而恢复已终止的事务。当表空间或文件重新联机时，这些事务最终由SMON恢复。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d97359e3703" headers="d97359e3631 ">
                                 <p>过程监控器（PMON）</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d97359e3703 d97359e3634 ">
                                 <p>当用户进程失败时，进程监视器执行进程恢复。PMON负责检测失败的进程。然后，PMON负责协调CLMN进程和CL <code class="codeph"><span class="codeinlineitalic">nn</span></code>从站执行的清理。清理可释放进程正在使用的资源。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d97359e3714" headers="d97359e3631 ">
                                 <p>Archiver（ARC <span class="italic">n</span> ）</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d97359e3714 d97359e3634 ">
                                 <p>一个或多个归档程序进程在重做或发生日志切换时将重做日志文件复制到归档存储。Archiver进程是<span class="q">“ <a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="您可以通过完成NOARCHIVELOG或ARCHIVELOG模式之间的选择以及指定存档目标等任务来管理存档的重做日志文件。">管理存档重做日志文件</a> ”的主题</span> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d97359e3738" headers="d97359e3631 ">
                                 <p>回收者（RECO）</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d97359e3738 d97359e3634 ">
                                 <p>由于分布式数据库中的网络或系统故障，恢复程序进程用于解决待处理的分布式事务。在定时间隔，本地RECO尝试连接到远程数据库并自动完成任何挂起的分布式事务的本地部分的提交或回滚。有关此过程以及如何启动它的信息，请参阅<span class="italic"> </span> <span class="q">“ <a href="managing-distributed-transactions.html#GUID-AB19431E-BF9F-4181-BC57-699F8A06149D" title="管理分布式事务包括诸如指定节点的注释点强度，命名事务和管理不确定事务之类的任务。">管理分布式事务</a> ”</span> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d97359e3755" headers="d97359e3631 ">
                                 <p>调度员（D <span class="italic">nnn</span> ）</p>
                              </td>
                              <td align="left" valign="top" width="75%" headers="d97359e3755 d97359e3634 ">
                                 <p>调度程序是可选的后台进程，仅在使用共享服务器配置时才会出现。之前在<span class="q">“ <a href="managing-processes.html#GUID-84994723-F2E0-4098-A765-C100103E2DDF" title="You can enable shared server and set or alter shared server initialization parameters.">为共享服务器配置Oracle数据库</a> ”</span>中讨论<span class="q"><a href="managing-processes.html#GUID-84994723-F2E0-4098-A765-C100103E2DDF" title="您可以启用共享服务器并设置或更改共享服务器初始化参数。">了共享服务器</a></span> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-BBA0C387-6306-4B72-91B0-8EA581CFB9FF__GUID-FE1A346A-0888-446F-8191-5570B471F585">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/background-processes.html#REFRN104" target="_blank"><span class="italic">Oracle数据库参考</span></a> ，以获取Oracle数据库后台进程的完整列表</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-22936BCB-87C5-492C-A533-EDC165B88B9A" name="GUID-22936BCB-87C5-492C-A533-EDC165B88B9A"></a><h3 id="ADMIN-GUID-22936BCB-87C5-492C-A533-EDC165B88B9A" class="sect3"><span class="enumeration_section">5.7</span>管理Prespawned进程</h3>
               <div>
                  <p>Oracle数据库可以预先确定进程以获得更好的客户端连接性能。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-19124219-D1F2-418E-9209-C9B167A9D081">关于管理Prespawned进程</a><br>Oracle数据库可以预先确定进程池中的前台和后台进程。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-7B186E90-6F23-4010-8DF5-FB3AD7315C2E">管理Prespawned进程的池</a><br>您可以使用<code class="codeph">DBMS_PROCESS</code>程序包来配置和修改前台进程池中预先生成的进程数。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-19124219-D1F2-418E-9209-C9B167A9D081" name="GUID-19124219-D1F2-418E-9209-C9B167A9D081"></a><h4 id="ADMIN-GUID-19124219-D1F2-418E-9209-C9B167A9D081" class="sect4"><span class="enumeration_section">5.7.1</span>关于管理Prespawned进程</h4>
                  <div>
                     <p>Oracle数据库可以预先确定进程池中的前台和后台进程。</p>
                     <p>当启用专用代理或启用线程执行模式时，Oracle数据库会预先设置前台进程。当需要前台进程时，它会在内部使用预先生成的进程来减少创建时间。当<code class="codeph">THREADED_EXECUTION</code>初始化参数设置为<code class="codeph">TRUE</code>时，数据库以线程执行模式运行。当此参数设置为<code class="codeph">FALSE</code> （默认值）时，数据库将以进程模式运行，而Oracle数据库不会预先确定进程池中的前台和后台进程。
                     </p>
                     <p>当进程被预先确定时，客户端连接时间可以更有效。如果启用了线程执行模式，则Oracle数据库会默认在各种请求池中预先生成进程。每个请求池都用于不同类型的进程。<code class="codeph">V$PROCESS_POOL</code>视图显示有关这些池的信息，您可以使用<code class="codeph">DBMS_PROCESS</code>包管理这些池。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-22936BCB-87C5-492C-A533-EDC165B88B9A" title="Oracle数据库可以预先确定进程以获得更好的客户端连接性能。">管理Prespawned进程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-7B186E90-6F23-4010-8DF5-FB3AD7315C2E" name="GUID-7B186E90-6F23-4010-8DF5-FB3AD7315C2E"></a><h4 id="ADMIN-GUID-7B186E90-6F23-4010-8DF5-FB3AD7315C2E" class="sect4"><span class="enumeration_section">5.7.2</span>管理Prespawned进程的池</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DBMS_PROCESS</code>程序包来配置和修改前台进程池中预先生成的进程数。
                     </p>
                     <div class="section">
                        <p>Oracle数据库可以创建进程池以提高客户端连接的效率。您可以使用<code class="codeph">DBMS_PROCESS</code>程序包来管理这些池。您可以通过查询<code class="codeph">V$PROCESS_POOL</code>视图来查看当前进程池。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="p">仅当数据库在多线程Oracle数据库模型中运行时，才会创建进程池。</div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以具有所需权限的用户身份连接到数据库。</span><div>用户必须具有<code class="codeph">SYSDBA</code>管理权限，并且必须在连接时使用<code class="codeph">AS SYSDBA</code>执行此权限。
                           </div>
                        </li>
                        <li class="stepexpand"><span>在<code class="codeph">DBMS_PROCESS</code>包中运行子程序以管理进程池。</span></li>
                     </ol>
                     <div class="example" id="GUID-7B186E90-6F23-4010-8DF5-FB3AD7315C2E__GUID-8CF88DFB-E211-4641-98B8-276E6602FA9E">
                        <p class="titleinexample">示例5-5停止进程池</p>此示例停止<code class="codeph">SYS_DEFAULT_FOREGROUND_POOL</code>进程池。<pre class="pre codeblock"><code>exec DBMS_PROCESS.STOP_POOL（'SYS_DEFAULT_FOREGROUND_POOL'）;</code></pre><p>处理池停止时， <code class="codeph">V$PROCESS_POOL</code>视图中的<code class="codeph">ENABLED</code> <code class="codeph">V$PROCESS_POOL</code> <code class="codeph">FALSE</code> 。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7B186E90-6F23-4010-8DF5-FB3AD7315C2E__GUID-A5BF4D85-A3B4-4A2A-A639-DBB234834ADF">
                        <p class="titleinexample">示例5-6启动进程池</p>此示例启动<code class="codeph">SYS_DEFAULT_FOREGROUND_POOL</code>进程池。<pre class="pre codeblock"><code>exec DBMS_PROCESS.START_POOL（'SYS_DEFAULT_FOREGROUND_POOL'）;</code></pre><p><code class="codeph">ENABLED</code>时，进程池中<code class="codeph">V$PROCESS_POOL</code>视图中的<code class="codeph">ENABLED</code> <code class="codeph">V$PROCESS_POOL</code> <code class="codeph">TRUE</code> 。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-7B186E90-6F23-4010-8DF5-FB3AD7315C2E__GUID-D18CD094-679C-4AB4-8004-B261C6AD1C4E">
                        <p class="titleinexample">示例5-7配置进程池</p>
                        <p>您可以通过查询<code class="codeph">V$PROCESS_POOL</code>视图来检查进程池的当前配置。例如，以下查询显示了进程池的当前配置：</p><pre class="pre codeblock"><code>COLUMN POOL_NAME格式A30列启用格式A7列MIN_COUNT格式9999999 COLUMN BATCH_COUNT格式9999999 COLUMN INIT_COUNT格式9999999 SELECT POOL_NAME，ENABLED，MIN_COUNT，BATCH_COUNT，INIT_COUNT来自V $ PROCESS_POOL;</code></pre><p>假设结果如下：</p><pre class="pre codeblock"><code>POOL_NAME已启用MIN_COUNT个BATCH_COUNT INIT_COUNT ------------------------------ ------- -------- -  ----------- ---------- SYS_DEFAULT_FOREGROUND_POOL TRUE 10 20 29</code></pre><p>对于此进程池，要将预先生成的进程的最小数量更改为20，将批处理中创建的预先生成的进程数更改为30，将预先生成的进程的初始数更改为40，请运行以下过程：</p><pre class="pre codeblock"><code>BEGIN DBMS_PROCESS.CONFIGURE_POOL（POOL_NAME =&gt;'SYS_DEFAULT_FOREGROUND_POOL'，MIN_COUNT =&gt; 20，BATCH_COUNT =&gt; 30，INIT_COUNT =&gt; 40）;结束; /</code></pre><p>您可以通过再次运行查询来确认更改。</p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7B186E90-6F23-4010-8DF5-FB3AD7315C2E__GUID-D8B3A379-C258-4665-B1FD-413E389DEC47">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">THREADED_EXECUTION</code>初始化参数的详细信息，请<a href="../refrn/THREADED_EXECUTION.html#REFRN10335" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">DBMS_PROCESS</code>程序包的更多信息，请<code class="codeph">DBMS_PROCESS</code> <a href="../arpls/DBMS_PROCESS.html#ARPLS-GUID-3D1BA173-E9E8-4177-998A-A10D76B5BCAE" target="_blank"><span><cite>Oracle Database PL / SQL程序包和类型参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-22936BCB-87C5-492C-A533-EDC165B88B9A" title="Oracle数据库可以预先确定进程以获得更好的客户端连接性能。">管理Prespawned进程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11186"></a><div class="props_rev_3"><a id="GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C" name="GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C"></a><h3 id="ADMIN-GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C" class="sect3"><span class="enumeration_section">5.8</span>管理并行SQL执行的进程</h3>
               <div>
                  <p>您可以管理SQL语句的并行处理。在此配置中，Oracle数据库可以在多个并行进程之间划分处理SQL语句的工作。</p>
                  <div class="infoboxnote" id="GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C__GUID-EA7D9273-518D-4095-8230-1097E0563888">
                     <p class="notep1">注意：</p>
                     <p>本节中描述的并行执行功能随Oracle数据库企业版一起提供。</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-364B130D-8ADE-4904-9657-88EA639C6330">关于并行执行服务器</a><br>许多SQL语句的执行可以并行化。<span class="bold">并行度</span>是可以与单个操作关联的并行执行服务器的数量。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-B3798D1E-E259-4EDB-815E-8ED36205A5B5">改变会话的并行执行</a><br>您可以使用<code class="codeph">ALTER SESSION</code>语句控制会话的并行SQL执行。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11187"></a><div class="props_rev_3"><a id="GUID-364B130D-8ADE-4904-9657-88EA639C6330" name="GUID-364B130D-8ADE-4904-9657-88EA639C6330"></a><h4 id="ADMIN-GUID-364B130D-8ADE-4904-9657-88EA639C6330" class="sect4"><span class="enumeration_section">5.8.1</span>关于并行执行服务器</h4>
                  <div>
                     <p>许多SQL语句的执行可以并行化。<span class="bold">并行度</span>是可以与单个操作关联的并行执行服务器的数量。
                     </p>
                     <p>并行度由以下任何一个决定：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>声明中的<code class="codeph">PARALLEL</code>子句</p>
                        </li>
                        <li>
                           <p>对于查询中引用的对象，创建或更改对象时使用的<code class="codeph">PARALLEL</code>子句</p>
                        </li>
                        <li>
                           <p>并行提示插入到语句中</p>
                        </li>
                        <li>
                           <p>默认值由数据库确定</p>
                        </li>
                     </ul>
                     <p><span class="q">“ <a href="managing-tables.html#GUID-2C1E31D1-C0EE-48D6-8C11-31AE9AFF5440" title="指定AS SELECT子句以创建表并使用其他表中的数据填充表时，可以使用并行执行。">并行化表创建</a> ”中</span>包含使用并行SQL执行的示例。
                     </p>
                     <p>实例启动时，Oracle数据库会创建一个并行执行服务器池，可用于任何并行操作。称为<span class="bold">并行执行协调器的</span>进程调度<span class="bold">并行执行服务器</span>池的<span class="bold">执行，</span>并协调将所有这些并行执行服务器的结果发送回用户。
                     </p>
                     <p>默认情况下启用并行执行服务器，因为<code class="codeph">PARALLEL_MAX_SERVERS</code>初始化参数值默认设置为大于0。这些过程可供各种能够利用并行性的Oracle数据库功能使用。数据库为大多数用户调整了相关的初始化参数，但您可以根据需要更改它们以适应您的环境。为了便于调整，可以动态更改某些参数。
                     </p>
                     <p>并行性可以由多个功能使用，包括事务恢复，复制和SQL执行。在并行SQL执行的情况下，本书讨论的主题是并行执行服务器进程在整个执行阶段仍然与语句相关联。语句完全处理后，这些进程可用于处理其他语句。</p>
                     <div class="infoboxnote" id="GUID-364B130D-8ADE-4904-9657-88EA639C6330__GUID-BCFEAD08-B276-4EFB-A063-318983F5492C">
                        <p class="notep1">注意：</p>
                        <p>要在数据库中禁用并行SQL执行，请将<code class="codeph">PARALLEL_MAX_SERVERS</code>初始化参数值设置为0。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-364B130D-8ADE-4904-9657-88EA639C6330__GUID-C28054AD-AB46-4141-BD6B-8D8CE1B1BE9C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关使用并行提示的信息，请<a href="../tgsql/influencing-the-optimizer.html#TGSQL259" target="_blank"><span class="italic">参见“Oracle数据库SQL调优指南”</span></a><a id="d97359e4219" class="indexterm-anchor"></a><a id="d97359e4223" class="indexterm-anchor"></a></p>
                           </li>
                           <li>
                              <p>有关使用并行执行的更多信息<a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span class="italic">，请参见“Oracle数据库VLDB和分区指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C" title="您可以管理SQL语句的并行处理。在此配置中，Oracle数据库可以在多个并行进程之间划分处理SQL语句的工作。">管理并行SQL执行的进程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11188"></a><div class="props_rev_3"><a id="GUID-B3798D1E-E259-4EDB-815E-8ED36205A5B5" name="GUID-B3798D1E-E259-4EDB-815E-8ED36205A5B5"></a><h4 id="ADMIN-GUID-B3798D1E-E259-4EDB-815E-8ED36205A5B5" class="sect4"><span class="enumeration_section">5.8.2</span>改变会话的并行执行</h4>
                  <p>您可以使用<code class="codeph">ALTER SESSION</code>语句控制会话的并行SQL执行。
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-7A0C9553-7E42-442C-B8B9-5CCD07322379">禁用并行SQL执行</a><br>使用<code class="codeph">ALTER SESSION DISABLE PARALLEL DML|DDL|QUERY</code>语句禁用并行SQL执行。在发出此类语句之后，所有后续DML（ <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code> ），DDL（ <code class="codeph">CREATE</code> ， <code class="codeph">ALTER</code> ）或查询（ <code class="codeph">SELECT</code> ）操作都将按顺序执行。无论与所涉及的表或索引相关联的任何并行属性如何，它们都将以串行方式执行。但是，带有<code class="codeph">PARALLEL</code>提示的语句会覆盖会话设置。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-A39A946B-4E34-4017-A07E-EB6486220695">启用并行SQL执行</a><br>使用<code class="codeph">ALTER SESSION ENABLE PARALLEL DML|DDL|QUERY</code>语句启用并行SQL执行。随后，当<code class="codeph">PARALLEL</code>子句或并行提示与语句关联时，这些DML，DDL或查询语句将并行执行。默认情况下，为DDL和查询语句启用并行执行。
                        </li>
                        <li class="ulchildlink"><a href="managing-processes.html#GUID-FB5E8998-50ED-45E7-AFF5-FD29A2248DF5">强制并行SQL执行</a><br>您可以使用<code class="codeph">ALTER SESSION FORCE PARALLEL DML|DDL|QUERY</code>语句强制并行执行可以进行并行化的所有后续DML，DDL或查询语句。此外，您可以强制执行特定程度的并行操作，从而覆盖与后续语句关联的任何<code class="codeph">PARALLEL</code>子句。如果未在此语句中指定并行度，则使用默认的并行度。强制并行执行会覆盖SQL语句中的任何并行提示。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C" title="您可以管理SQL语句的并行处理。在此配置中，Oracle数据库可以在多个并行进程之间划分处理SQL语句的工作。">管理并行SQL执行的进程</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11189"></a><div class="props_rev_3"><a id="GUID-7A0C9553-7E42-442C-B8B9-5CCD07322379" name="GUID-7A0C9553-7E42-442C-B8B9-5CCD07322379"></a><h5 id="ADMIN-GUID-7A0C9553-7E42-442C-B8B9-5CCD07322379" class="sect5"><span class="enumeration_section">5.8.2.1</span>禁用并行SQL执行</h5>
                     <div>
                        <p>使用<code class="codeph">ALTER SESSION DISABLE PARALLEL DML|DDL|QUERY</code>语句禁用并行SQL执行。在发出此类语句之后，所有后续DML（ <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code> ， <code class="codeph">DELETE</code> ），DDL（ <code class="codeph">CREATE</code> ， <code class="codeph">ALTER</code> ）或查询（ <code class="codeph">SELECT</code> ）操作都将按顺序执行。无论与所涉及的表或索引相关联的任何并行属性如何，它们都将以串行方式执行。但是，带有<code class="codeph">PARALLEL</code>提示的语句会覆盖会话设置。
                        </p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行适当的<code class="codeph">ALTER SESSION DISABLE PARALLEL</code>语句以禁用DML，DDL或查询操作。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，要禁用并行DDL操作，请运行以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION DISABLE PARALLEL DDL;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-B3798D1E-E259-4EDB-815E-8ED36205A5B5" title="您可以使用ALTER SESSION语句控制会话的并行SQL执行。">更改会话的并行执行</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11190"></a><div class="props_rev_3"><a id="GUID-A39A946B-4E34-4017-A07E-EB6486220695" name="GUID-A39A946B-4E34-4017-A07E-EB6486220695"></a><h5 id="ADMIN-GUID-A39A946B-4E34-4017-A07E-EB6486220695" class="sect5"><span class="enumeration_section">5.8.2.2</span>启用并行SQL执行</h5>
                     <div>
                        <p>使用<code class="codeph">ALTER SESSION ENABLE PARALLEL DML|DDL|QUERY</code>语句启用并行SQL执行。随后，当<code class="codeph">PARALLEL</code>子句或并行提示与语句关联时，这些DML，DDL或查询语句将并行执行。默认情况下，为DDL和查询语句启用并行执行。
                        </p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行相应的A <code class="codeph">LTER SESSION DISABLE PARALLEL</code>语句以启用DML，DDL或查询操作。
                                 </p>
                              </li>
                           </ul>
                           <p></p>
                           <p>例如，只有在您专门发出<code class="codeph">ALTER SESSION</code>语句以启用并行DML时，才能并行化DML语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION ENABLE PARALLEL DML;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-B3798D1E-E259-4EDB-815E-8ED36205A5B5" title="您可以使用ALTER SESSION语句控制会话的并行SQL执行。">更改会话的并行执行</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11191"></a><div class="props_rev_3"><a id="GUID-FB5E8998-50ED-45E7-AFF5-FD29A2248DF5" name="GUID-FB5E8998-50ED-45E7-AFF5-FD29A2248DF5"></a><h5 id="ADMIN-GUID-FB5E8998-50ED-45E7-AFF5-FD29A2248DF5" class="sect5"><span class="enumeration_section">5.8.2.3</span>强制并行SQL执行</h5>
                     <div>
                        <p>您可以使用<code class="codeph">ALTER SESSION FORCE PARALLEL DML|DDL|QUERY</code>语句强制并行执行可以进行并行化的所有后续DML，DDL或查询语句。此外，您可以强制执行特定程度的并行操作，从而覆盖与后续语句关联的任何<code class="codeph">PARALLEL</code>子句。如果未在此语句中指定并行度，则使用默认的并行度。强制并行执行会覆盖SQL语句中的任何并行提示。
                        </p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行<code class="codeph">ALTER SESSION FORCE PARALLEL</code>语句。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，以下语句强制并行执行后续语句，并将最重要的并行度设置为5：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION FORCE PARALLEL DDL PARALLEL 5;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-B3798D1E-E259-4EDB-815E-8ED36205A5B5" title="您可以使用ALTER SESSION语句控制会话的并行SQL执行。">更改会话的并行执行</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN00501"></a><div class="props_rev_3"><a id="GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7" name="GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7"></a><h3 id="ADMIN-GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7" class="sect3"><span class="enumeration_section">5.9</span>管理外部程序的过程</h3>
               <div>
                  <p>外部过程是用编程语言编写并存储在共享库中的过程或函数。Oracle服务器可以使用PL / SQL例程调用外部过程或函数。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-DA5E72EA-46BF-4069-9185-393D939F1F77">关于外部程序</a><br>外部过程是用编程语言（如C，C ++或Java）编写，编译和存储在数据库外部，然后由用户会话调用的过程。例如，PL / SQL程序单元可以调用执行专用处理所需的一个或多个C例程。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-1302E117-D5C9-42E4-BD26-E228884D86F1">DBA任务以启用外部过程调用</a><br>要启用外部过程调用，必须修改侦听器并管理库。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13389"></a><div class="props_rev_3"><a id="GUID-DA5E72EA-46BF-4069-9185-393D939F1F77" name="GUID-DA5E72EA-46BF-4069-9185-393D939F1F77"></a><h4 id="ADMIN-GUID-DA5E72EA-46BF-4069-9185-393D939F1F77" class="sect4"><span class="enumeration_section">5.9.1</span>关于外部程序</h4>
                  <div>
                     <p>外部过程是用编程语言（如C，C ++或Java）编写，编译和存储在数据库外部，然后由用户会话调用的过程。例如，PL / SQL程序单元可以调用执行专用处理所需的一个或多个C例程。</p>
                     <p>这些可调用例程存储在动态链接库（DLL）中，或者在Java类方法的情况下存储在libunit中，并使用基本语言进行注册。Oracle数据库提供了一个专用接口，即<span class="bold">调用规范</span> （call spec），它使用户能够调用外部过程。
                     </p>
                     <p>当用户会话调用外部过程时，数据库将在数据库主机上启动外部过程代理。代理的默认名称是<code class="codeph">extproc</code> 。每个会话都有自己的专用代理。（可选）您可以创建凭据，以便代理作为特定的操作系统用户运行。会话终止时，数据库终止其代理。
                     </p>
                     <p>用户应用程序将DLL或libunit的名称，外部过程的名称以及任何相关参数传递给外部过程代理。然后，外部过程代理加载DLL或libunit，运行外部过程，并将外部过程返回的任何值传递回应用程序。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-DA5E72EA-46BF-4069-9185-393D939F1F77__GUID-2DEF1F5F-6ACF-4C5E-998D-EE1E3707F15F">
                        <p class="notep1">也可以看看：</p>
                        <p>有关外部过程的信息，请参阅<a href="../adfns/design_basics.html#ADFNS010" target="_blank"><span class="italic">Oracle Database Development Guide</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7" title="外部过程是用编程语言编写并存储在共享库中的过程或函数。Oracle服务器可以使用PL / SQL例程调用外部过程或函数。">管理外部过程的过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13390"></a><div class="props_rev_3"><a id="GUID-1302E117-D5C9-42E4-BD26-E228884D86F1" name="GUID-1302E117-D5C9-42E4-BD26-E228884D86F1"></a><h4 id="ADMIN-GUID-1302E117-D5C9-42E4-BD26-E228884D86F1" class="sect4"><span class="enumeration_section">5.9.2</span> DBA任务以启用外部过程调用</h4>
                  <div>
                     <p>要启用外部过程调用，必须修改侦听器并管理库。</p>
                     <p>启用外部过程调用可能涉及以下DBA任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>配置侦听器以启动<code class="codeph">extproc</code>代理</p>
                           <p>默认情况下，数据库启动<code class="codeph">extproc</code>进程。在下列情况下，您必须更改此默认配置，以便侦听器启动<code class="codeph">extproc</code>进程：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>您想使用多线程<code class="codeph">extproc</code>代理</p>
                              </li>
                              <li>
                                 <p>数据库在Windows上以共享服务器模式运行</p>
                              </li>
                              <li>
                                 <p>一个<code class="codeph">AGENT</code>在子句<code class="codeph">LIBRARY</code>规范或<code class="codeph">AGENT</code> <code class="codeph">IN</code>在子句<code class="codeph">PROCEDURE</code>或<code class="codeph">FUNCTION</code>说明书重定向外部程序，以不同的<code class="codeph">extproc</code>剂</p>
                              </li>
                           </ul>
                           <p>有关更改默认配置的说明，请参阅“ <a href="../adfns/external-procedures.html#ADFNS705" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>管理库或授予与管理库相关的权限</p>
                           <p>数据库要求通过称为库的模式对象访问DLL语句。出于安全考虑，默认情况下，只有具有<code class="codeph">DBA</code>角色的用户才能创建和管理库。因此，您可能会被要求：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a id="d97359e4732" class="indexterm-anchor"></a><a id="d97359e4736" class="indexterm-anchor"></a>使用<code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code>语句为库的位置创建目录对象。创建目录对象后， <code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code>语句可以指定库位置的目录对象。
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d97359e4755" class="indexterm-anchor"></a><a id="d97359e4757" class="indexterm-anchor"></a><a id="d97359e4759" class="indexterm-anchor"></a>使用<code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code> PL / SQL过程创建凭证。创建凭证后， <code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code>语句可以将凭证与库关联，以将<code class="codeph">extproc</code>代理作为特定的操作系统用户运行。
                                 </p>
                              </li>
                              <li>
                                 <p>使用<code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code>语句创建开发人员需要的库对象。
                                 </p>
                              </li>
                              <li>
                                 <p>授予开发人员以下权限： <code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code> ， <code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">LIBRARY</code> ， <code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">LIBRARY</code> ， <code class="codeph">EXECUTE</code> <code class="codeph">ANY</code> <code class="codeph">LIBRARY</code> ， <code class="codeph">EXECUTE</code> <code class="codeph">ON</code> <span class="italic"><code class="codeph">library_name</code></span>和<code class="codeph">EXECUTE</code> <code class="codeph">ON</code> <span class="italic"><code class="codeph">directory_object</code></span> 。
                                 </p>
                                 <p>仅向受信任的用户明确授予这些权限，而从不向<code class="codeph">PUBLIC</code>角色授予这些权限。如果您计划为库创建PL / SQL接口，则只将<code class="codeph">EXECUTE</code>特权授予PL / SQL接口。不要在底层库上授予<code class="codeph">EXECUTE</code> 。您必须具有库的<code class="codeph">EXECUTE</code>对象特权才能创建PL / SQL接口。但是，用户在自己的架构中自动拥有此权限。很少需要在库上显式授予<code class="codeph">EXECUTE</code>对象特权。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1302E117-D5C9-42E4-BD26-E228884D86F1__GUID-85B16494-0D69-4136-BA90-0C7AB7CDEB90">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">CREATE</code> <code class="codeph">LIBRARY</code>语句的信息，请<a href="../lnpls/CREATE-LIBRARY-statement.html#LNPLS99948" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关使用<code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code>过程创建凭据的信息，请<code class="codeph">DBMS_CREDENTIAL.CREATE_CREDENTIAL</code> <a href="../dbseg/managing-security-for-application-developers.html#DBSEG656" target="_blank"><span class="italic">“Oracle数据库安全指南”</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">DBMS_CREDENTIAL</code>包的信息，请<code class="codeph">DBMS_CREDENTIAL</code> <a href="../arpls/DBMS_CREDENTIAL.html#ARPLS73499" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="scheduling-jobs-with-oracle-scheduler.html#GUID-BCB91872-760D-43CA-A5E2-135C6A2DB2F5" title="Oracle Scheduler需要作业凭据才能在运行之前通过Oracle数据库或操作系统进行身份验证。">指定计划程序作业凭据</a> ”</span>以获取有关在Oracle Scheduler作业中使用凭据的信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7" title="外部过程是用编程语言编写并存储在共享库中的过程或函数。Oracle服务器可以使用PL / SQL例程调用外部过程或函数。">管理外部过程的过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11192"></a><div class="props_rev_3"><a id="GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" name="GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615"></a><h3 id="ADMIN-GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" class="sect3"><span class="enumeration_section">5.10</span>终止会话</h3>
               <p>有时需要终止当前的用户会话。例如，您可能希望执行管理操作，并需要终止所有非管理会话。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-1837277B-EF67-4D60-A1A2-F69520D27502">关于终止会话</a><br>当会话终止时，会话的所有活动事务都将回滚，并且会话保留的资源（例如锁和内存区域）将立即释放并可供其他会话使用。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-E7B691F0-77B3-450D-B6DD-183F6261F65F">确定要终止的会话</a><br>要标识要终止的会话，请指定会话索引号和序列号。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-23940E4B-7E24-4A93-AAC7-D77138E9C015">终止活动会话</a><br>终止活动会话将结束会话。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-7822F572-A101-4FED-8C7B-31F43626593E">终止非活动会话</a><br>如果会话在终止时未对Oracle数据库进行SQL调用（为<code class="codeph">INACTIVE</code> ），则不会立即返回<code class="codeph">ORA-00028</code>消息。在用户随后尝试使用已终止的会话之前，不会返回该消息。
                     </li>
                     <li class="ulchildlink"><a href="managing-processes.html#GUID-7D8E5E00-515D-4338-8B86-C2044F6D2957">取消会话中的SQL语句</a><br>您可以使用<code class="codeph">ALTER SYSTEM CANCEL SQL</code>语句在会话中<code class="codeph">ALTER SYSTEM CANCEL SQL</code>语句。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-1837277B-EF67-4D60-A1A2-F69520D27502" name="GUID-1837277B-EF67-4D60-A1A2-F69520D27502"></a><h4 id="ADMIN-GUID-1837277B-EF67-4D60-A1A2-F69520D27502" class="sect4"><span class="enumeration_section">5.10.1</span>关于终止会话</h4>
                  <div>
                     <p>当会话终止时，会话的所有活动事务都将回滚，并且会话保留的资源（例如锁和内存区域）将立即释放并可供其他会话使用。</p>
                     <p>使用SQL语句<code class="codeph">ALTER SYSTEM KILL SESSION</code>终止当前会话。以下语句终止系统标识符为7且序列号为15的会话：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM KILL会议'7,15';</pre><p>您还可以使用<code class="codeph">DBMS_SERVICE.DISCONNECT_SESSION</code>过程终止与当前实例上的命名服务的会话。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1837277B-EF67-4D60-A1A2-F69520D27502__GUID-747C55A5-5107-40AE-A9A8-75B384CC4608">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DISCONNECT_SESSION</code>过程的详细信息，请<a href="../arpls/DBMS_SERVICE.html#ARPLS68024" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" title="有时需要终止当前的用户会话。例如，您可能希望执行管理操作，并需要终止所有非管理会话。">终止会话</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11193"></a><div class="props_rev_3"><a id="GUID-E7B691F0-77B3-450D-B6DD-183F6261F65F" name="GUID-E7B691F0-77B3-450D-B6DD-183F6261F65F"></a><h4 id="ADMIN-GUID-E7B691F0-77B3-450D-B6DD-183F6261F65F" class="sect4"><span class="enumeration_section">5.10.2</span>确定要终止的会话</h4>
                  <div>
                     <p>要标识要终止的会话，请指定会话索引号和序列号。</p>
                     <div class="section">
                        <p>要标识会话的系统标识符（SID）和序列号：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>查询<code class="codeph">V$SESSION</code>动态性能视图。
                              </p>
                           </li>
                        </ul>
                        <p>例如，以下查询标识用户<code class="codeph">jward</code>所有会话：</p><pre class="oac_no_warn" dir="ltr">SELECT SID，SERIAL＃，来自V $ SESSION的状态，其中USERNAME ='JWARD'; SID SERIAL #STATUS ----- --------- -------- 7 15 ACTIVE 12 63 INACTIVE</pre><p>在对Oracle数据库进行SQL调用时，会话处于<code class="codeph">ACTIVE</code>状态。如果会话未对数据库进行SQL调用，则会话为<code class="codeph">INACTIVE</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E7B691F0-77B3-450D-B6DD-183F6261F65F__GUID-10785CE3-B7F8-4FDC-9FE6-8C9150196866">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="italic"> </span> <a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span class="italic">Oracle Database Reference，</span></a>用于描述会话的状态值</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" title="有时需要终止当前的用户会话。例如，您可能希望执行管理操作，并需要终止所有非管理会话。">终止会话</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11194"></a><div class="props_rev_3"><a id="GUID-23940E4B-7E24-4A93-AAC7-D77138E9C015" name="GUID-23940E4B-7E24-4A93-AAC7-D77138E9C015"></a><h4 id="ADMIN-GUID-23940E4B-7E24-4A93-AAC7-D77138E9C015" class="sect4"><span class="enumeration_section">5.10.3</span>终止活动会话</h4>
                  <div>
                     <p>终止活动会话将结束会话。</p>
                     <div class="section">
                        <p>如果用户会话在您终止会话时正在处理事务（ <code class="codeph">ACTIVE</code>状态），则回滚事务并且用户立即收到以下消息：</p><pre class="oac_no_warn" dir="ltr">ORA-00028：您的会话已被杀死</pre><p>如果在收到<code class="codeph">ORA-00028</code>消息后，用户在重新连接到数据库之前提交了其他语句，则Oracle数据库将返回以下消息：</p><pre class="oac_no_warn" dir="ltr">ORA-01012：未登录</pre><p>在执行网络I / O或回滚事务时，不能中断活动会话。在操作完成之前，不能终止此类会话。在这种情况下，会话将保留所有资源，直到它终止。此外，发出<code class="codeph">ALTER SYSTEM</code>语句以终止会话的会话最多等待60秒以终止会话。如果不能中断的操作持续超过一分钟，则<code class="codeph">ALTER SYSTEM</code>语句的发布者将收到一条消息，指示会话已标记为已终止。标记为终止的会话在<code class="codeph">V$SESSION</code>指示，状态为<code class="codeph">KILLED</code> ，服务器不是<code class="codeph">PSEUDO</code> 。</p>
                        <p>如果您正在使用应用程序连续性，则会话终止时将恢复活动会话的活动。如果您不希望在终止会话后恢复会话，则可以在<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句中包含<code class="codeph">NOREPLAY</code>关键字。例如，以下语句指定不会恢复会话：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM KILL会议'7,15'或其他地方;</pre><p>如果使用<code class="codeph">DBMS_SERVICE.DISCONNECT_SESSION</code>过程终止一个或多个会话， <code class="codeph">DBMS_SERVICE.NOREPLAY</code>以为<code class="codeph">disconnect_option</code>参数指定<code class="codeph">DBMS_SERVICE.NOREPLAY</code> ，以指示应用程序连续性不应恢复会话。例如，要断开与<code class="codeph">sales.example.com</code>服务的所有会话并指定不应恢复会话，请运行以下过程：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_SERVICE.DISCONNECT_SESSION（service_name =&gt;'sales.example.com'，disconnect_option =&gt; DBMS_SERVICE.NOREPLAY）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-23940E4B-7E24-4A93-AAC7-D77138E9C015__GUID-6BB7E286-244B-43B2-B40A-9857D6525782">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="creating-and-configuring-an-oracle-database.html#GUID-BDCC6539-F667-4DC8-8C12-B181AF9655BD" title="Transaction Guard使用逻辑事务ID来防止客户端应用程序在发生可恢复错误后提交重复事务的可能性。应用程序连续性使得在数据库会话不可用的可恢复错误之后，以无中断和快速方式重放对数据库的请求。">交易警卫和应用程序连续性</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">DISCONNECT_SESSION</code>过程的详细信息，请<a href="../arpls/DBMS_SERVICE.html#ARPLS68024" target="_blank"><span class="italic">参见Oracle Database PL / SQL包和类型参考</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" title="有时需要终止当前的用户会话。例如，您可能希望执行管理操作，并需要终止所有非管理会话。">终止会话</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11195"></a><div class="props_rev_3"><a id="GUID-7822F572-A101-4FED-8C7B-31F43626593E" name="GUID-7822F572-A101-4FED-8C7B-31F43626593E"></a><h4 id="ADMIN-GUID-7822F572-A101-4FED-8C7B-31F43626593E" class="sect4"><span class="enumeration_section">5.10.4</span>终止非活动会话</h4>
                  <div>
                     <p>如果会话在终止时未对Oracle数据库进行SQL调用（为<code class="codeph">INACTIVE</code> ），则不会立即返回<code class="codeph">ORA-00028</code>消息。在用户随后尝试使用已终止的会话之前，不会返回该消息。
                     </p>
                     <div class="section">
                        <p>当非活动会话终止时， <code class="codeph">V$SESSION</code>视图中会话的<code class="codeph">STATUS</code>为<code class="codeph">KILLED</code> 。在用户再次尝试使用会话并收到<code class="codeph">ORA-00028</code>消息后，将从<code class="codeph">V$SESSION</code>删除已终止会话的行。<a id="d97359e5326" class="indexterm-anchor"></a></p>
                        <p><a id="d97359e5329" class="indexterm-anchor"></a>在以下示例中，终止非活动会话。首先，查询<code class="codeph">V$SESSION</code>以识别<code class="codeph">V$SESSION</code>的<code class="codeph">SID</code>和<code class="codeph">SERIAL#</code> ，然后终止会话。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT SID，SERIAL＃，STATUS，SERVER FROM V $ SESSION WHERE USERNAME ='JWARD'; SID SERIAL #STATUS SERVER ----- -------- --------- --------- 7 15 INACTIVE DEDICATED 12 63选择非活动专用2行。ALTER SYSTEM KILL会议'7,15';声明已处理。SELECT SID，SERIAL＃，STATUS，SERVER FROM V $ SESSION WHERE USERNAME ='JWARD'; SID SERIAL #STATUS SERVER ----- -------- --------- --------- 7 15 KILLED PSEUDO 12 63选择非活动专用2行。</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" title="有时需要终止当前的用户会话。例如，您可能希望执行管理操作，并需要终止所有非管理会话。">终止会话</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7D8E5E00-515D-4338-8B86-C2044F6D2957" name="GUID-7D8E5E00-515D-4338-8B86-C2044F6D2957"></a><h4 id="ADMIN-GUID-7D8E5E00-515D-4338-8B86-C2044F6D2957" class="sect4"><span class="enumeration_section">5.10.5</span>取消会话中的SQL语句</h4>
                  <div>
                     <p>您可以使用<code class="codeph">ALTER SYSTEM CANCEL SQL</code>语句在会话中<code class="codeph">ALTER SYSTEM CANCEL SQL</code>语句。
                     </p>
                     <div class="section">
                        <p>您可以取消会话中的高负载SQL语句，而不是终止会话。取消DML语句时，将回滚该语句。</p>
                        <p><code class="codeph">ALTER SYSTEM CANCEL SQL</code>语句中需要以下子句：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">SID</code> - 会话ID</p>
                           </li>
                           <li>
                              <p><code class="codeph">SERIAL</code> - 会话序列号</p>
                           </li>
                        </ul>
                        <p>以下子句在<code class="codeph">ALTER SYSTEM CANCEL SQL</code>语句中是可选的：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">INST_ID</code> - 实例ID</p>
                           </li>
                           <li>
                              <p><code class="codeph">SQL_ID</code> -  SQL语句的SQL ID</p>
                           </li>
                        </ul>
                        <p>您可以通过查询<code class="codeph">GV$SESSION</code>视图来查看会话的此信息。
                        </p>
                        <p>以下是取消SQL语句的语法：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM取消SQL <span class="italic"><span class="italic">'SID，SERIAL，@</span></span> <span class="italic"><span class="italic">INST_ID，SQL_ID';</span></span></pre><p>以下示例取消会话标识符为<code class="codeph">20</code> ，会话序列号为<code class="codeph">51142</code> ，SQL ID为<code class="codeph">8vu7s907prbgr</code> SQL <code class="codeph">8vu7s907prbgr</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM CANCEL SQL '20,51142,8vu7s907prbgr';</pre><div class="infoboxnote" id="GUID-7D8E5E00-515D-4338-8B86-C2044F6D2957__GUID-9B859C74-D996-4400-BCAD-F94F5BF9F34F">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>如果未指定<code class="codeph">@INST_ID</code> ，则使用当前会话的实例ID。
                                 </p>
                              </li>
                              <li>
                                 <p>如果未指定<code class="codeph">SQL_ID</code> ，则终止指定会话中当前运行的SQL语句。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7D8E5E00-515D-4338-8B86-C2044F6D2957__GUID-6BB7E286-244B-43B2-B40A-9857D6525782">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关识别高负载SQL语句的信息，请<a href="../tdppt/identifying-high-load-sql-statements.html#TDPPT-GUID-D4D8C985-93B4-402C-A6C9-D5ABA980BEDB" target="_blank"><span><cite>参见“Oracle数据库2天+性能调整指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">GV$SESSION</code>视图的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-28E2DC75-E157-4C0A-94AB-117C205789B9" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-260EE1DC-D306-4B4E-B848-A94DA2F46615" title="有时需要终止当前的用户会话。例如，您可能希望执行管理操作，并需要终止所有非管理会话。">终止会话</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11196"></a><div class="props_rev_3"><a id="GUID-3FB00298-3914-4D01-A634-DD815E1FE1AB" name="GUID-3FB00298-3914-4D01-A634-DD815E1FE1AB"></a><h3 id="ADMIN-GUID-3FB00298-3914-4D01-A634-DD815E1FE1AB" class="sect3"><span class="enumeration_section">5.11</span>流程和会话数据字典视图</h3>
               <div>
                  <p>您可以查询数据字典视图以获取有关进程和会话的信息。</p>
                  <div class="tblformal" id="GUID-3FB00298-3914-4D01-A634-DD815E1FE1AB__GUID-8935122F-6D68-4F01-AB4D-3F4F4044007B">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="The first column lists views that can be used to monitor database activity. The second column describes each view." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d97359e5536">视图</th>
                              <th align="left" valign="bottom" width="66%" id="d97359e5539">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5544" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ PROCESS</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5544 d97359e5539 ">
                                 <p>包含有关当前活动进程的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5552" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ SESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5552 d97359e5539 ">
                                 <p>列出每个当前会话的会话信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5560" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ SESS_IO</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5560 d97359e5539 ">
                                 <p>包含每个用户会话的I / O统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5568" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ SESSION_LONGOPS</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5568 d97359e5539 ">
                                 <p>显示运行时间超过6秒（绝对时间）的各种操作的状态。这些操作目前包括许多备份和恢复功能，统计信息收集和查询执行。每个Oracle数据库版本都会添加更多操作。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5576" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ SESSION_WAIT</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5576 d97359e5539 ">
                                 <p>显示每个会话的当前或最后等待时间</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5584" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ SESSION_WAIT_HISTORY</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5584 d97359e5539 ">
                                 <p>列出每个活动会话的最后十个等待事件</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5592" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ WAIT_CHAINS</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5592 d97359e5539 ">
                                 <p>显示被阻止会话的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5600" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ SESSTAT</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5600 d97359e5539 ">
                                 <p>包含会话统计信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5608" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ RESOURCE_LIMIT</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5608 d97359e5539 ">
                                 <p>提供有关某些系统资源的当前和最大全局资源利用率的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d97359e5616" headers="d97359e5536 ">
                                 <p><code class="codeph">V $ SQLAREA</code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d97359e5616 d97359e5539 ">
                                 <p>包含有关共享SQL区域的统计信息。每个SQL字符串包含一行。提供有关内存中已解析并准备执行的SQL语句的统计信息</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-processes.html#GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" title="Oracle数据库使用多个进程，以便多个用户和应用程序可以同时连接到单个数据库实例。">管理进程</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>