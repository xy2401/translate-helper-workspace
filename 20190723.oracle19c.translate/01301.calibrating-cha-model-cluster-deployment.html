<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="As shipped with default node and database models, Oracle Cluster Health Advisor is designed not to generate false warning notifications."></meta>
      <meta name="description" content="As shipped with default node and database models, Oracle Cluster Health Advisor is designed not to generate false warning notifications."></meta>
      <title>为群集部署校准Oracle Cluster Health Advisor模型</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User’s Guide"></meta>
      <meta property="og:description" content="As shipped with default node and database models, Oracle Cluster Health Advisor is designed not to generate false warning notifications."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96320-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-cha-health-diagnosis.html" title="Previous" type="text/html"></link>
      <link rel="next" href="viewing-cha-model-details.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ATNMS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-cha-health-diagnosis.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="viewing-cha-model-details.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="analyzing-risks-and-complying-best-practices.html" property="item" typeof="WebPage"><span property="name">分析群集配置</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="purpose-cluster-health-advisor.html" property="item" typeof="WebPage"><span property="name">主动检测和诊断Oracle RAC的性能问题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">为群集部署校准Oracle Cluster Health Advisor模型</li>
            </ol>
            <a id="GUID-749C0751-6D4F-4B17-BCE4-13F24DB50667" name="GUID-749C0751-6D4F-4B17-BCE4-13F24DB50667"></a>
            
            <h2 id="ATNMS-GUID-749C0751-6D4F-4B17-BCE4-13F24DB50667" class="sect2"><span class="enumeration_section">3.4</span>为群集部署校准Oracle Cluster Health Advisor模型</h2>
         </header>
         <div class="ind">
            <div>
               <p>随着默认节点和数据库模型的提供，Oracle Cluster Health Advisor旨在不生成错误警告通知。</p>
               <div class="section">
                  <p>您可以使用<code class="codeph">chactl calibrate</code>命令提高特定工作负载的Oracle Cluster Health Advisor模型的灵敏度和准确性。
                  </p>
                  <p>Oracle建议至少提供6小时的数据，并且群集和数据库使用相同的时间范围进行校准。</p>
                  <p><code class="codeph">chactl calibrate</code>命令分析用户指定的时间间隔，该时间间隔包括正常运行的所有工作负载阶段。当Oracle Cluster Health Advisor监视群集和您要校准的所有数据库时，将收集此数据。
                  </p>
               </div>
               <!-- class="section" -->
               <ol>
                  <li class="stepexpand"><span>要检查是否有足够的数据，请运行<code class="codeph">query calibration</code>命令。</span><div>
                        <p>如果有720个或更多记录可用，则Oracle Cluster Health Advisor会成功执行校准。校准功能可能不会考虑正在使用的工作负载配置文件正常发生的某些数据记录。在这种情况下，使用<code class="codeph">query calibration</code>命令和<code class="codeph">calibrate</code>命令中的<code class="codeph">KPISET</code>参数过滤数据。
                        </p>
                        <div class="p">例如：<pre class="pre codeblock"><code>$ chactl查询校准-db oltpacdb -timeranges'start = 2016-07-26 01：00：00，end = 2016-07-26 02：00：00，start = 2016-07-26 03:00:00，结束= 2016-07-26 04：00：00'-kpiset'name = CPUPERCENT min = 20 max = 40，name = IOTHROUGHPUT min = 500 max = 9000'-interval 2</code></pre></div>
                     </div>
                  </li>
                  <li class="stepexpand"><span>开始校准并将模型存储在用户指定的名称下，以指定日期和时间范围。</span><div>
                        <div class="p">例如：<pre class="pre codeblock"><code>$ chactl calibrate cluster -model weekday -timeranges'start = 2016-07-03 20：50：00，end = 2016-07-04 15:00:00'</code></pre></div>
                        <p>完成校准后，Oracle Cluster Health Advisor会自动将新模型存储在GIMR中。</p>
                     </div>
                  </li>
                  <li class="stepexpand"><span>使用新模型监视群集，如下所示：</span><div>
                        <div class="p">例如：<pre class="pre codeblock"><code>$ chactl monitor cluster -model weekday</code></pre></div>
                     </div>
                  </li>
               </ol>
               <div class="example" id="GUID-749C0751-6D4F-4B17-BCE4-13F24DB50667__GUID-21A17F66-1FE9-44B7-AC9F-009D9DA406F5">
                  <p class="titleinexample">示例3-2 chactl query calibrate命令的输出</p><pre class="pre codeblock"><code>数据库名称：oltpacdb开始时间：2016-07-26 01:03:10结束时间：2016-07-26 01:57:25总样本：120过滤数据百分比：8.32％数据样本数量可能不足用于校准。1）磁盘读取（ASM）（Mbyte / sec）MEAN MEDIAN STDDEV MIN MAX 4.96 0.20 8.98 0.06 25.68 &lt;25 &lt;50 &lt;75 &lt;100&gt; = 100 97.50％2.50％0.00％0.00％0.00％2）磁盘写入（ASM） （Mbyte / sec）MEAN MEDIAN STDDEV MIN MAX 27.73 9.72 31.75 4.16 109.39 &lt;50 &lt;100 &lt;150 200 = 200 73.33％22.50％4.17％0.00％0.00％3）磁盘吞吐量（ASM）（IO / sec）平均值STDDEV MIN MAX 2407.50 1500.00 1978.55 700.00 7800.00 &lt;5000 &lt;10000 &lt;15000 &lt;20000&gt; = 20000 83.33％16.67％0.00％0.00％0.00％4）CPU利用率（总计）（％）MEAN MEDIAN STDDEV MIN MAX 21.99 21.75 1.36 20.00 26.80 &lt; 20 &lt;40 &lt;60 &lt;80&gt; = 80 0.00％100.00％0.00％0.00％0.00％5）每个用户呼叫的数据库时间（usec / call）MEAN MEDIAN STDDEV MIN MAX 267.39 264.87 32.05 205.80 484.57 &lt;10000000 &lt;20000000 &lt;30000000 &lt;40000000 &lt;50000000 &lt;60000000 &lt;70000000&gt; = 70000000 100.00％0.00％0.00％0.00％0.00％0.00％0.00％0.00％数据库名称：oltpacdb开始时间：2016-07-26 03:00:00结束时间：2016-07-26 03:53:30总样本：342过滤数据的百分比：23.72％数据样本数量ma y不足以进行校准。1）磁盘读取（ASM）（Mbyte / sec）MEAN MEDIAN STDDEV MIN MAX 12.18 0.28 16.07 0.05 60.98 &lt;25 &lt;50 &lt;75 &lt;100&gt; = 100 64.33％34.50％1.17％0.00％0.00％2）磁盘写入（ASM） （Mbyte / sec）MEAN MEDIAN STDDEV MIN MAX 57.57 51.14 34.12 16.10 135.29 &lt;50 &lt;100 &lt;150 &lt;200&gt; = 200 49.12％38.30％12.57％0.00％0.00％3）磁盘吞吐量（ASM）（IO / sec）平均值STDDEV MIN MAX 5048.83 4300.00 1730.17 2700.00 9000.00 &lt;5000 &lt;10000 &lt;15000 &lt;20000&gt; = 20000 63.74％36.26％0.00％0.00％0.00％4）CPU利用率（总计）（％）MEAN MEDIAN STDDEV MIN MAX 23.10 22.80 1.88 20.00 31.40 &lt; 20 &lt;40 &lt;60 &lt;80&gt; = 80 0.00％100.00％0.00％0.00％0.00％5）每个用户呼叫的数据库时间（usec / call）MEAN MEDIAN STDDEV MIN MAX 744.39 256.47 2892.71 211.45 45438.35 &lt;10000000 &lt;20000000 &lt;30000000 &lt;40000000 &lt;50000000 &lt;60000000 &lt;70000000&gt; = 70000000 100.00％0.00％0.00％0.00％0.00％0.00％0.00％0.00％</code></pre></div>
               <!-- class="example" -->
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="chactl-calibrate.html#GUID-868D37F5-F439-4E10-AFE3-3BED56FFC125" title="使用chactl calibrate命令创建具有更高灵敏度和准确度的新模型。">chactl校准</a></li>
                     <li><a href="chactl-query-calibration.html#GUID-7B21CB95-983B-4F64-AF4E-F1F82CC38412" title="使用chactl query calibration命令查看有关特定目标的校准数据的详细信息。">chactl查询校准</a></li>
                     <li><a href="chactl-command-reference.html#GUID-9AD6BC7D-F0F5-41E9-80CB-9BD911FCE586" title="Oracle Cluster Health Advisor命令使Oracle Grid Infrastructure用户能够管理目标上的基本监视功能。">chactl命令参考</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="purpose-cluster-health-advisor.html#GUID-78F409B6-7CB2-4103-9460-4E87F48DCEC2" title="Oracle Cluster Health Advisor为系统和数据库管理员提供待处理性能问题的早期警告，以及Oracle RAC数据库和集群节点的根本原因和纠正措施。">主动检测和诊断Oracle RAC的性能问题</a></p>
                  </div>
               </div>
            </div>
            
         </div>
      </article>
   </body>
</html>