<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>监控Oracle Messaging Gateway</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="omg-message-conversion.html" title="Previous" type="text/html"></link>
      <link rel="next" href="non-persistent-queues.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="omg-message-conversion.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="non-persistent-queues.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">监控Oracle Messaging Gateway</li>
            </ol>
            <a id="GUID-CFB0E5B4-1600-4AA0-AC7C-C9C971199AD6" name="GUID-CFB0E5B4-1600-4AA0-AC7C-C9C971199AD6"></a><a id="ADQUE2100"></a>
            
            <h2 id="ADQUE-GUID-CFB0E5B4-1600-4AA0-AC7C-C9C971199AD6" class="sect2"><span class="enumeration_chapter">21</span>监控Oracle Messaging Gateway</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题讨论了监视Oracle Messaging Gateway（MGW）代理的方法，您可能遇到的异常情况，有关Messaging Gateway错误和异常的几个信息源以及建议的补救措施。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="omg-monitoring.html#GUID-DF719916-282F-4252-87AC-F10349AA7115">Oracle Messaging Gateway日志文件</a></p>
                  </li>
                  <li>
                     <p><a href="omg-monitoring.html#GUID-A1E4EA13-5FDE-4FFB-ADA7-F5D36DCFB4D2">监视Oracle Messaging Gateway代理状态</a></p>
                  </li>
                  <li>
                     <p><a href="omg-monitoring.html#GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35">监控Oracle Messaging Gateway传播</a></p>
                  </li>
                  <li>
                     <p><a href="omg-monitoring.html#GUID-278D3D58-6696-4526-A47C-1850E696043D">Oracle Messaging Gateway代理错误消息</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE3384"></a><div class="props_rev_3"><a id="GUID-DF719916-282F-4252-87AC-F10349AA7115" name="GUID-DF719916-282F-4252-87AC-F10349AA7115"></a><h3 id="ADQUE-GUID-DF719916-282F-4252-87AC-F10349AA7115" class="sect3"><span class="enumeration_section">21.1</span> Oracle Messaging Gateway日志文件</h3>
               <div>
                  <p>Messaging Gateway代理状态，历史记录和错误记录在Messaging Gateway日志文件中。每次启动Messaging Gateway代理时都会创建一个不同的日志文件。您应该监视日志文件，因为任何错误，启动时读取的配置信息或动态配置信息都会写入日志。</p>
                  <p>默认代理的日志文件名格式为：</p><pre class="oac_no_warn" dir="ltr">oramgw主机名，时间戳processid.log</pre><p>命名代理的日志文件名的格式为：</p><pre class="oac_no_warn" dir="ltr">oramgw-AGENTNAME主机名，时间戳processid.log</pre><p>默认情况下，Messaging Gateway日志文件位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/mgw/log</code> 。此位置可以由代理程序使用的Messaging Gateway初始化文件中的参数<code class="codeph">log_directory</code>覆盖，通常为<code class="codeph">mgw.ora</code> 。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="omg-monitoring.html#GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F">Oracle Messaging Gateway日志文件示例</a></p>
                     </li>
                     <li>
                        <p><a href="omg-monitoring.html#GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF">解释Oracle Messaging Gateway日志文件中的异常消息</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3386"></a><a id="ADQUE3385"></a><div class="props_rev_3"><a id="GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F" name="GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F"></a><h4 id="ADQUE-GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F" class="sect4"><span class="enumeration_section">21.1.1</span> Oracle Messaging Gateway日志文件示例</h4>
                  <div>
                     <div class="section">
                        <p>以下示例日志文件显示Messaging Gateway代理程序启动。示例日志文件显示已添加消息传递链接，已注册的外部队列，传播作业以及与该作业关联的计划。日志文件显示已激活传播作业。最后一行表示Messaging Gateway已启动并正在运行并准备传播消息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-BBF6C978-EA38-4976-8672-7D24CE610B8F__GUID-CBB74609-34F7-4E33-8798-549E6DDFB9A3">
                        <p class="titleinexample">示例21-1示例消息传递网关日志文件</p><pre class="oac_no_warn" dir="ltr">&gt;&gt; 2007-01-16 15:04:49 MGW C-Bootstrap 0 LOG process-id = 11080 Bootstrap程序启动&gt;&gt; 2007-01-16 15:04:50 MGW C-Bootstrap 0 LOG process-id = 11080 JVM创建 -  heapsize = 64 &gt;&gt; 2007-01-16 15:04:53 MGW Engine 0 200主MGW代理版本：11.1.0.0 &gt;&gt; 2007-01-16 15:04:53 MGW AdminMgr 0 LOG main连接数据库使用connect string = jdbc：oracle：oci：@INST1 &gt;&gt; 2007-01-16 15:05:00 MGW Engine 0 200主MGW组件版本：11.1.0.3.0 &gt;&gt; 2007-01-16 15:05:01 MGW Engine 0 200主MGW代理名称：DEFAULT_AGENT，MGW作业实例id：273006EC6ED255F1E040578C6D021A8C，MGW数据库实例：1 &gt;&gt; 2007-01-16 15:05:09 MGW Engine 0 1主代理正在初始化。&gt;&gt; 2007-01-16 15:05:09 MGW Engine 0 23 main工作线程数设置为1。&gt;&gt; 2007-01-16 15:05:09 MGW Engine 0 22 main默认轮询间隔设置为5000ms。&gt;&gt; 2007-01-16 15:05:09 MGW MQD 0 LOG main创建MQSeries消息链接：链接：MQLINK链接类型：基本Java接口队列管理器：my.queue.manager通道：channel1主机：my.machine端口：1414 user：ccdt url：ssl cipherSuite：connections：1 inbound logQ：logq1 outbound logQ：logq2 &gt;&gt; 2007-01-16 15:05:09 MGW Engine 0 4主链接MQLINK已添加。&gt;&gt; 2007-01-16 15:05:09 MGW Engine 0 7主队列DESTQ @ MQLINK已注册;提供者队列：MGWUSER.MYQUEUE。 &gt;&gt; 2007-01-16 15:05:09 MGW Engine 0 9主要传播计划JOB_AQ2MQ（MGWUSER.MGW_BASIC_SRC  - &gt; DESTQ @ MQLINK）已添加。&gt;&gt; 2007-01-16 15:05:09 MGW AQN 0 LOG主要创建AQ消息链接：链接：oracleMgwAq链接类型：本机数据库：INST1用户：MGWAGENT连接类型：JDBC OCI连接：1入站logQ：SYS.MGW_RECV_LOG出站logQ：SYS.MGW_SEND_LOG &gt;&gt; 2007-01-16 15:05:10 MGW Engine 0 19主MGW传播作业JOB_AQ2MQ已激活。&gt;&gt; 2007-01-16 15:05:10已添加MGW引擎0 14主要MGW传播作业JOB_AQ2MQ（MGWUSER.MGW_BASIC_SRC  - &gt; DESTQ @ MQLINK）。&gt;&gt; 2007-01-16 15:05:11 MGW Engine 0 2主代理启动并运行。</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3388"></a><a id="ADQUE3387"></a><div class="props_rev_3"><a id="GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF" name="GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF"></a><h4 id="ADQUE-GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF" class="sect4"><span class="enumeration_section">21.1.2</span>解释Oracle Messaging Gateway日志文件中的异常消息</h4>
                  <div>
                     <div class="section">
                        <p>记录到Messaging Gateway日志文件的异常消息可能包含一个或多个链接的异常，由日志文件中的<code class="codeph">[Linked-exception]</code>标识。这些通常是确定问题原因的最有用方法。例如，链接的异常可以是<code class="codeph">java.sql.SQLException</code> ，可能包括Oracle错误消息，PL / SQL堆栈跟踪或两者。
                        </p>
                        <p>以下示例显示了为<code class="codeph">DBMS_MGWADM</code>的<code class="codeph">database</code>参数指定了无效值（ <code class="codeph">bad_service_name</code> ）时Messaging Gateway日志文件中的<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">CREATE_AGENT</code>或<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">ALTER_AGENT</code> 。这导致Messaging Gateway代理无法建立数据库连接。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7F825A17-4B58-4335-BEF0-91B7D49893EF__GUID-51E639BE-AFF8-40CE-AF27-B8AACF2704A4">
                        <p class="titleinexample">例21-2示例异常消息</p><pre class="oac_no_warn" dir="ltr">&gt;&gt; 2003-07-22 15:27:26 MGW AdminMgr 0 LOG main使用connect string = jdbc连接数据库：oracle：oci8：@BAD_SERVICE_NAME &gt;&gt; 2003-07-22 15:27:29 MGW Engine 0 EXCEPTION主要oracle .mgw.admin。MgwAdminException：[241]无法连接到数据库。SQL错误：12154，连接字符串：jdbc：oracle：oci8：@BAD_SERVICE_NAME [...这里有Java堆栈跟踪...] [Linked-exception] java.sql。SQLException：ORA-12154：TNS：无法解析指定的连接标识符[...这里的Java堆栈跟踪...] &gt;&gt; 2003-07-22 15:27:29 MGW Engine 0 25主代理正在关闭。</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE3389"></a><div class="props_rev_3"><a id="GUID-A1E4EA13-5FDE-4FFB-ADA7-F5D36DCFB4D2" name="GUID-A1E4EA13-5FDE-4FFB-ADA7-F5D36DCFB4D2"></a><h3 id="ADQUE-GUID-A1E4EA13-5FDE-4FFB-ADA7-F5D36DCFB4D2" class="sect3"><span class="enumeration_section">21.2</span>监控Oracle Messaging Gateway代理状态</h3>
               <div>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="omg-monitoring.html#GUID-E8202663-DA17-40C7-BF70-A95EE963D799">MGW_GATEWAY查看</a></p>
                     </li>
                     <li>
                        <p><a href="omg-monitoring.html#GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474">Oracle Messaging Gateway不可恢复的错误消息</a></p>
                     </li>
                     <li>
                        <p><a href="omg-monitoring.html#GUID-0490C4F4-829C-4BAC-A733-04A4F299075C">其他Oracle Messaging Gateway错误条件</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE3390"></a><div class="props_rev_3"><a id="GUID-E8202663-DA17-40C7-BF70-A95EE963D799" name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799"></a><h4 id="ADQUE-GUID-E8202663-DA17-40C7-BF70-A95EE963D799" class="sect4"><span class="enumeration_section">21.2.1</span> MGW_GATEWAY视图</h4>
                  <div>
                     <p><code class="codeph">MGW_GATEWAY</code>视图监视Messaging Gateway代理的进度。可用于监视代理的字段包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">代理名称</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">AGENT_INSTANCE</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">AGENT_PING</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">AGENT_STATUS</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">LAST_ERROR_MSG</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">服务</code></p>
                        </li>
                     </ul>
                     <p><code class="codeph">AGENT_STATUS</code>字段显示代理的状态。此列具有以下可能值：</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-C534F465-45EC-49FC-B637-3186DE241B84"><!-- --></a> NOT_STARTED</dt>
                        <dd>
                           <p>表示代理既未运行也未计划运行。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-ECA50B8B-0452-467E-9FD0-765735981BE1"><!-- --></a> START_SCHEDULED</dt>
                        <dd>
                           <p>表示代理作业正在等待作业计划程序运行。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-ABF23341-600A-4CF6-A8A3-E8645C1773F8"><!-- --></a>开始</dt>
                        <dd>
                           <p>表示代理正在启动过程中。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-0B1E6442-C264-43E4-9364-73FE4CC81F47"><!-- --></a> INITIALIZING</dt>
                        <dd>
                           <p>表示代理已启动并正在读取配置数据。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-67E252ED-20DF-456A-8A61-11969826ACCA"><!-- --></a>跑步</dt>
                        <dd>
                           <p>表示代理已准备好传播任何可用消息或处理动态配置更改。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-A399F9F6-3F00-427E-AF7C-2C98A612FAB1"><!-- --></a> SHUTTING_DOWN</dt>
                        <dd>
                           <p>表示代理正在关闭。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-289A273F-A8FC-4582-81C1-C2878353D8A2"><!-- --></a> BROKEN</dt>
                        <dd>
                           <p>表示在尝试启动代理进程时，Messaging Gateway已检测到另一个代理已在运行。在正常使用情况下不应出现这种情况。</p>
                        </dd>
                     </dl>
                     <p>查询<code class="codeph">AGENT_PING</code>字段ping Messaging Gateway代理。它的价值是<code class="codeph">REACHABLE</code>或<code class="codeph">UNREACHABLE</code> 。随着状态的代理<code class="codeph">RUNNING</code>几乎是可以<code class="codeph">REACHABLE</code> 。</p>
                     <p>如果发生启动或运行Messaging Gateway代理时出错，则列<code class="codeph">LAST_ERROR_MSG</code> ， <code class="codeph">LAST_ERROR_DATE</code>和<code class="codeph">LAST_ERROR_TIME</code>提供有价值的信息。<code class="codeph">AGENT_INSTANCE</code>表示启动Messaging Gateway实例的Oracle数据库实例。
                     </p>
                     <div class="infoboxnotealso" id="GUID-E8202663-DA17-40C7-BF70-A95EE963D799__GUID-3DDB0C25-5643-4EB1-87C6-7B0560EA07AF">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">MGW_GATEWAY</code>视图的更多信息，请<code class="codeph">MGW_GATEWAY</code> <a href="../arpls/DBMS_MGWADM.html#ARPLS364" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考中的</span></a> “DBMS_MGWADM”</p>
                     </div>
                  </div>
               </div><a id="ADQUE3392"></a><a id="ADQUE3393"></a><a id="ADQUE3394"></a><a id="ADQUE3395"></a><a id="ADQUE3396"></a><a id="ADQUE3397"></a><a id="ADQUE3398"></a><a id="ADQUE3399"></a><a id="ADQUE3400"></a><a id="ADQUE3401"></a><a id="ADQUE3402"></a><a id="ADQUE3403"></a><a id="ADQUE3404"></a><a id="ADQUE3405"></a><a id="ADQUE3406"></a><a id="ADQUE3407"></a><a id="ADQUE3408"></a><a id="ADQUE3391"></a><div class="props_rev_3"><a id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474" name="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474"></a><h4 id="ADQUE-GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474" class="sect4"><span class="enumeration_section">21.2.2</span> Oracle Messaging Gateway不可恢复的错误消息</h4>
                  <div>
                     <p><code class="codeph">MGW_GATEWAY</code>视图的<code class="codeph">AGENT_STATUS</code>字段中的状态为<code class="codeph">NOT_STARTED</code>表示Messaging Gateway代理未运行。如果<code class="codeph">AGENT_STATUS</code>为<code class="codeph">NOT_STARTED</code>且<code class="codeph">LAST_ERROR_MSG</code>字段不为NULL，则Messaging Gateway代理在启动或运行时遇到无法恢复的错误。检查是否已生成Messaging Gateway日志文件以及是否指示任何错误。如果日志文件不存在，则可能未启动Messaging Gateway代理进程。
                     </p>
                     <p>本节介绍可能出现在<code class="codeph">MGW_GATEWAY</code>视图的<code class="codeph">LAST_ERROR_MSG</code>字段中的某些错误消息的原因和解决方案。除非另有说明，否则当发生其中一个错误时，Messaging Gateway代理将不会尝试重新启动。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-EEEFB148-B285-4615-B4D6-B96E28231B38">ORA-01089：正在进行中断 - 不允许任何操作</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理已关闭，因为<code class="codeph">SHUTDOWN IMMEDIATE</code>命令用于关闭正在运行代理的正在运行的Oracle数据库实例。代理将在设置为运行它的下一个可用数据库实例上重新启动。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-0B422A74-B8F8-4637-BA9C-281F2072040D">ORA-06520：PL / SQL：加载外部库时出错</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理进程无法启动，因为未加载共享库。这可能是因为Java共享库不在库路径中。验证<code class="codeph">listener.ora</code>中的库路径是否已正确设置。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-C674DC58-9EFF-4D03-9701-589B94BA766D">ORA-28575：无法打开到外部过程代理的RPC连接</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理无法启动。它会尝试自动重新启动。</p>
                        <p>可能的原因包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>监听器未运行。如果已修改<code class="codeph">listener.ora</code> ，则必须先停止并重新启动<code class="codeph">listener.ora</code> ，然后才能使更改生效。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">tnsnames.ora</code> ， <code class="codeph">listener.ora</code>或两者中的值都不正确。
                              </p>
                              <p>特别是， <code class="codeph">tnsnames.ora</code>必须具有<code class="codeph">MGW_AGENT</code>的网络服务名称条目。 Windows上的Messaging Gateway不需要此条目。为<code class="codeph">tnsnames.ora</code>中的<code class="codeph">MGW_AGENT</code>网络服务名称的<code class="codeph">CONNECT_DATA</code>指定的SID值必须与<code class="codeph">listener.ora</code> <code class="codeph">SID_DESC</code>条目的<code class="codeph">SID_NAME</code>值匹配。如果为<a href="glossary.html#GUID-0318DCE6-62FD-4DF5-88E9-84139310F831"><span class="xrefglossterm">进程间通信</span></a> （IPC）连接设置了<code class="codeph">MGW_AGENT</code>网络服务名称，则<code class="codeph">tnsnames.ora</code>和<code class="codeph">listener.ora</code> <code class="codeph">ADDRESS</code>的<code class="codeph">KEY</code>值必须匹配。如果已使用<code class="codeph">sqlnet.ora</code>的<code class="codeph">names.default_domain</code>参数设置默认域，则必须将该域附加到<code class="codeph">tnsnames.ora</code>的<code class="codeph">MGW_AGENT</code>网络服务名称。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-BE75C21C-BF7E-4271-88D1-5EEDBB3BDB4A">ORA-28576：丢失与外部过程代理的RPC连接</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理进程提前结束。这可能是因为该过程被外部实体停止或因内部错误导致故障。代理将尝试自动重新启动。检查Messaging Gateway日志文件以确定是否有更多信息可用。如果问题仍然存在，请与Oracle支持服务联系以获取帮助。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-84E3D55E-C2D5-44F3-B4DE-51B80E61296D">ORA-32830：Messaging Gateway代理返回的结果代码-2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理尝试读取其初始化文件（通常为<code class="codeph">mgw</code>时发生错误。 <code class="codeph">ora</code> 。验证文件是否可读。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-E7F5AE4B-21E0-40A2-A8B8-2B93F4E9E7C6">ORA-32830：Messaging Gateway代理返回的结果代码-3</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>创建Messaging Gateway日志文件时出错。验证是否可以写入日志目录。默认位置是<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/mgw/log</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-C6ECC1AD-FBF1-4388-8131-5898CD4B57E4">ORA-32830：Messaging Gateway代理返回的结果代码-8</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>启动Java虚拟机（JVM）时发生错误。验证：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您使用的是正确的Java版本</p>
                           </li>
                           <li>
                              <p>您的操作系统版本和补丁级别足以支持JDK版本</p>
                           </li>
                           <li>
                              <p>您正在为JVM堆大小使用合理的值</p>
                              <p>堆的大小由指定<code class="codeph">max_memory</code>的参数<code class="codeph">DBMS_MGWADM.ALTER_AGENT</code></p>
                           </li>
                           <li>
                              <p>在Windows平台上，验证<code class="codeph">MGW_PRE_PATH</code>设置的<code class="codeph">mgw.ora</code>包含正确JVM库（ <code class="codeph">jvm.dll</code> ）的路径。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-6CCAA4B9-7676-475F-A6E7-B41613AD1EC1">ORA-32830：Messaging Gateway代理返回的结果代码-12</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>写入Messaging Gateway日志文件时发生错误。检查可用磁盘空间或可能导致文件I / O问题的任何其他问题。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-D271962A-9DD5-4CFE-9211-06C3D258E6DA">ORA-32830：Messaging Gateway代理返回的结果代码-17</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>JVM已成功创建，但尝试调用MGW Java代理程序时发生错误。验证<code class="codeph">mgw.ora</code>设置的CLASSPATH是否正确。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-6D06BCCD-0644-4BEE-8FEA-26F39DBF81FB">ORA-32830：Messaging Gateway代理返回的结果代码-19</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理配置为使用特定的初始化文件，但该文件不存在。<code class="codeph">MGW_GATEWAY</code>视图的<code class="codeph">INITFILE</code>字段显示管理员指定的文件的完整路径名。创建该初始化文件，或使用<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">ALTER_AGENT</code>将<code class="codeph">INITFILE</code>设置为另一个文件或<code class="codeph">NULL</code>以使用默认初始化文件。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-0DAD166F-2DC5-45A8-BB45-57D17A06E221">ORA-32830：Messaging Gateway代理返回的结果代码-100</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理JVM在写入日志文件之前遇到运行时异常或错误。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-E3B3B57E-B54F-467F-8E6A-A15FE0AC05DB">ORA-32830：Messaging Gateway代理返回的结果代码-101</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>无法恢复的错误导致Messaging Gateway代理关闭。检查Messaging Gateway日志文件以获取更多信息。验证<code class="codeph">mgw.ora</code>中指定的值是否正确。错误的值可能导致Messaging Gateway代理因异常错误情况而终止。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-78543847-6AA1-408A-8858-E7F9A9CEC4B5">ORA-32830：Messaging Gateway代理返回的结果代码-102</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理关闭，因为文件<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/mgw/jlib/mgw.jar</code>的版本与Messaging Gateway PL / SQL软件包的版本不匹配。验证所有Messaging Gateway组件是否来自同一版本。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-3A6AE6E5-6689-4BE9-91B1-C72DF821E6FC">ORA-32830：Messaging Gateway代理返回的结果代码-103</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理关闭，因为正在运行它的数据库实例正在关闭。代理应自动重新启动，如果设置为另一个实例，或者重新启动关闭的实例。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-92D1F97F-8465-4541-8474-14507B170EC2">ORA-32830：Messaging Gateway代理返回的结果代码-104</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>查看先前的错误。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-A64786E6-7AAA-45EB-947D-584D04943ACE">ORA-32830：Messaging Gateway代理返回的结果代码-105</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway代理检测到它不应运行时正在运行。这不应该发生。如果是这样， <code class="codeph">AGENT_STATUS</code>将<code class="codeph">BROKEN</code> ，代理将自动关闭。如果您遇到此错误：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>终止可能仍在运行的任何Messaging Gateway代理进程。该过程通常命名为<code class="codeph">extprocmgwextproc</code> 。
                              </p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">DBMS_MGWADM.CLEANUP_GATEWAY(DBMS_MGWADM.CLEAN_STARTUP_STATE)</code> 。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">DBMS_MGWADM.STARTUP</code>启动Messaging Gateway代理。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-F826FCC3-073D-415A-B3B3-48953D8F6A83">ORA-32830：Messaging Gateway代理返回的结果代码-106</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>查看先前的错误。</p>
                        <div class="infoboxnotealso" id="GUID-2CAAA620-3D8B-40E4-994B-922B7A0ED474__GUID-B19D0940-5F0A-4AEE-9C2F-CBE110CDEC75">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../arpls/DBMS_MGWADM.html#ARPLS364" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考中的</span></a> “DBMS_MGWADM”</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADQUE3410"></a><a id="ADQUE3411"></a><a id="ADQUE3412"></a><a id="ADQUE3413"></a><a id="ADQUE3409"></a><div class="props_rev_3"><a id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C" name="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C"></a><h4 id="ADQUE-GUID-0490C4F4-829C-4BAC-A733-04A4F299075C" class="sect4"><span class="enumeration_section">21.2.3</span>其他Oracle Messaging Gateway错误条件</h4>
                  <div>
                     <p>本节讨论<code class="codeph">START_SCHEDULED</code>在<code class="codeph">MGW_GATEWAY</code>视图中<code class="codeph">AGENT_STATUS</code>保持<code class="codeph">START_SCHEDULED</code>可能原因。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-AE169175-B381-4004-ACCB-9830F7D595C2">数据库服务未启动</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway使用Oracle Scheduler作业来启动Messaging Gateway代理。Oracle Scheduler允许您指定应在其下运行作业的数据库服务（服务关联）。Messaging Gateway允许管理员使用数据库服务配置Messaging Gateway代理，该数据库服务将用于配置与该代理关联的Scheduler作业类。</p>
                        <p>关闭数据库时，Oracle会停止对该数据库的所有服务。启动数据库时，可能需要手动重新启动服务。如果计划程序作业与服务关联，则在启动服务之前作业将不会运行。如果<code class="codeph">AGENT_STATUS</code>的消息网关代理仍然<code class="codeph">START_SCHEDULED</code>较长时间，可能表明数据库服务被禁用或与该服务相关联没有数据库实例正在运行。使用<code class="codeph">MGW_GATEWAY</code>视图，Oracle Scheduler视图和服务视图来确定代理的配置方式以及Scheduler作业和数据库服务的当前状态。
                        </p>
                        <div class="infoboxnote" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-62B24B10-3835-4DD1-9909-0A3A5A0C443E">
                           <p class="notep1">注意：</p>
                           <p>有关Messaging Gateway使用的Oracle Scheduler对象的信息，请参阅<a href="omg-working.html#GUID-55AD98C2-B431-4B2F-B2AE-0E686FCEBC22">Oracle Messaging Gateway Agent计划程序作业</a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-6CB2BE44-612E-427F-BE93-0C56BCF06424">太少的作业队列进程</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Messaging Gateway使用Oracle Scheduler启动Messaging Gateway外部进程。当<code class="codeph">AGENT_STATUS</code>为<code class="codeph">START_SCHEDULED</code> ，Messaging Gateway代理程序调度程序作业正在等待调度程序运行。在有可用的作业进程之前，Messaging Gateway作业将不会运行。Messaging Gateway在Messaging Gateway代理会话的生命周期内保留其Scheduler作业进程。如果已启动多个Messaging Gateway代理，则每个代理都使用自己的Scheduler作业并需要自己的作业进程。
                        </p>
                        <p>如果数据库初始化参数<code class="codeph">JOB_QUEUE_PROCESSES</code>值为零，则不会运行任何Oracle Scheduler作业。如果该值不为零，则它实际上将成为可以同时运行的最大Scheduler作业和作业队列作业数。
                        </p>
                        <p>如果消息网关状态保持<code class="codeph">START_SCHEDULED</code>的时间过长，则可能表明该数据库已开始为一个值<code class="codeph">JOB_QUEUE_PROCESSES</code>是零或过低，且所有工作的奴隶都很忙。验证该值是否为非零，并且已使用足够的作业队列进程启动数据库实例，以便每个Messaging Gateway代理都可以使用一个。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-70DEA51C-6EAE-4A18-B756-1D1E42658C17">调度程序作业已损坏或已禁用</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果与Messaging Gateway代理关联的Oracle Scheduler作业由于某种原因而被禁用或损坏，则Messaging Gateway代理状态将保持<code class="codeph">START_SCHEDULED</code>状态。要确定是否是这种情况，请使用<code class="codeph">DBA_SCHEDULER_JOBS</code>视图查看代理程序的Scheduler作业的<code class="codeph">STATE</code>字段。通常，当Messaging Gateway代理的Scheduler作业等待<code class="codeph">RUNNING</code>时，Scheduler作业状态将为<code class="codeph">SCHEDULED</code> ，或者当Messaging Gateway代理<code class="codeph">RUNNING</code>时为<code class="codeph">RUNNING</code> 。如果Messaging Gateway代理状态为<code class="codeph">NOT_STARTED</code>则代理的Scheduler作业不应存在。</p>
                        <p>有关Messaging Gateway Scheduler作业的其他信息，请检查其他Scheduler视图，例如<code class="codeph">DBA_SCHEDULER_JOB_RUN_DETAILS</code> 。还要检查<code class="codeph">MGW_GATEWAY</code>视图和Messaging Gateway日志文件，以查找可能表明存在问题的任何错误消息。
                        </p>
                        <div class="infoboxnote" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-BFE07A02-9204-4804-8E4D-341DD3E88004">
                           <p class="notep1">注意：</p>
                           <p>有关Messaging Gateway使用的Oracle Scheduler对象的信息，请参阅<a href="omg-working.html#GUID-55AD98C2-B431-4B2F-B2AE-0E686FCEBC22">Oracle Messaging Gateway Agent计划程序作业</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0490C4F4-829C-4BAC-A733-04A4F299075C__GUID-7A1AE8FF-02F1-4AE8-BB5F-3294B778F1A4">Oracle Real Application Clusters（Oracle RAC）环境</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果在Oracle RAC环境中使用Messaging Gateway并且代理已使用数据库服务进行配置但没有运行启用了服务的数据库实例，则Messaging Gateway <code class="codeph">AGENT_STATUS</code>将保持<code class="codeph">START_SCHEDULED</code>直到在正在运行的数据库上启动服务为止实例。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE3414"></a><div class="props_rev_3"><a id="GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35" name="GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35"></a><h3 id="ADQUE-GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35" class="sect3"><span class="enumeration_section">21.3</span>监控Oracle Messaging Gateway传播</h3>
               <div>
                  <div class="section">
                     <p>可以使用<code class="codeph">MGW_JOBS</code>视图和Messaging Gateway日志文件监视消息传递网关<a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">传播</span></a> 。该视图提供有关传播尝试期间可能发生的传播消息和错误的信息。日志文件可用于确定错误的原因。
                     </p>
                     <p>除了显示配置信息外， <code class="codeph">MGW_JOBS</code>视图还具有可用于监视<a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">消息</span></a>传播的动态信息。适用领域包括<code class="codeph">STATUS</code> ， <code class="codeph">ENABLED</code> ， <code class="codeph">PROPAGATED_MSGS</code> ， <code class="codeph">EXCEPTIONQ_MSGS</code> ， <code class="codeph">FAILURES</code> ， <code class="codeph">LAST_ERROR_MSG</code> ， <code class="codeph">LAST_ERROR_DATE</code>和<code class="codeph">LAST_ERROR_TIME</code> 。</p>
                     <p><code class="codeph">STATUS</code>字段指示作业的当前状态。<code class="codeph">READY</code>表示作业已准备好进行传播（但仅当<code class="codeph">ENABLED</code>字段为<code class="codeph">TRUE</code> ）。<code class="codeph">RETRY</code>表示发生传播失败，但将重试传播。<code class="codeph">FAILED</code>表示由于无法恢复的错误或已达到最大连续传播失败次数，代理已停止传播该作业。<code class="codeph">DELETE_PENDING</code>表示由于<code class="codeph">DBMS_MGWADM</code>而<code class="codeph">DBMS_MGWADM</code> 。正在调用<code class="codeph">REMOVE_JOB</code> ，但与工作相关的某些清理任务仍然很突出。<code class="codeph">SUBSCRIBER_DELETE_PENDING</code>表示<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">REMOVE_SUBSCRIBER</code>已在旧式传播作业上调用，但与作业相关的某些清理任务仍然很突出。
                     </p>
                     <p><code class="codeph">ENABLED</code>字段指示当前是否<code class="codeph">ENABLED</code>了传播作业。<code class="codeph">TRUE</code>表示作业已启用，而<code class="codeph">FALSE</code>表示作业已禁用。除非启用该作业，否则不会进行传播。
                     </p>
                     <p><code class="codeph">MGW_JOBS</code>视图的<code class="codeph">PROPAGATED_MSGS</code>字段指示已成功传播了多少消息。启动Messaging Gateway代理时，此字段将重置为零。
                     </p>
                     <p>如果已使用<a href="glossary.html#GUID-38CB652B-C8D2-49F4-92FD-926EB001284F"><span class="xrefglossterm">异常队列</span></a>配置了Messaging Gateway传播作业，则Messaging Gateway代理将在Messaging Gateway代理第一次遇到由消息转换失败导致的传播故障时将消息移动到该异常队列。<code class="codeph">oracle.mgw.common.指示消息转换失败<code class="codeph">oracle.mgw.common.Messaging Gateway日志文件中的MessageException</code> 。<code class="codeph">EXCEPTIONQ_MSGS</code>字段指示已将多少消息移动到异常队列。启动Messaging Gateway代理时，此字段将重置为零。
                     </p>
                     <p>如果在传播作业的消息传播期间发生错误，则计数将在<code class="codeph">FAILURES</code>字段中递增。此字段指示自上次成功传播消息以来遇到的故障数。每次发生故障时， <code class="codeph">LAST_ERROR_MSG</code> ， <code class="codeph">LAST_ERROR_DATE</code>和<code class="codeph">LAST_ERROR_TIME</code>都会显示错误消息及其发生的时间。当故障数达到16时，Messaging Gateway会暂停此传播作业的传播尝试。要恢复传播尝试，您必须调用<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">RESET_JOB</code>用于传播作业。
                     </p>
                     <p>如果发生错误，请检查Messaging Gateway日志文件以获取更多信息。</p>
                     <div class="infoboxnotealso" id="GUID-8904E8A1-B983-413B-9C8D-CF54730F9F35__GUID-254A84D6-5B72-45BF-99F2-AA45F71BDEFB">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_MGWADM.html#ARPLS364" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考中的</span></a> “DBMS_MGWADM”</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE3416"></a><a id="ADQUE3417"></a><a id="ADQUE3418"></a><a id="ADQUE3419"></a><a id="ADQUE3420"></a><a id="ADQUE3421"></a><a id="ADQUE3422"></a><a id="ADQUE3423"></a><a id="ADQUE3424"></a><a id="ADQUE3426"></a><a id="ADQUE3427"></a><a id="ADQUE3428"></a><a id="ADQUE3430"></a><a id="ADQUE3431"></a><a id="ADQUE3432"></a><a id="ADQUE3433"></a><a id="ADQUE3434"></a><a id="ADQUE3435"></a><a id="ADQUE3415"></a><div class="props_rev_3"><a id="GUID-278D3D58-6696-4526-A47C-1850E696043D" name="GUID-278D3D58-6696-4526-A47C-1850E696043D"></a><h3 id="ADQUE-GUID-278D3D58-6696-4526-A47C-1850E696043D" class="sect3"><span class="enumeration_section">21.4</span> Oracle Messaging Gateway代理错误消息</h3>
               <div>
                  <p>本节列出了<code class="codeph">MGW_JOBS</code>视图的<code class="codeph">LAST_ERROR_MSG</code>列中显示并记录到Messaging Gateway代理日志文件中的一些最常出现的错误。还显示了一些需要特殊操作的错误。当您注意到发生了故障时，请查看日志文件中的链接异常以确定问题的根本原因。
                  </p>
                  <p>将两种主要类型的错误记录到Messaging Gateway代理日志文件中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">oracle.mgw.common。MessageException</code> 
                        </p>
                        <p>发生消息转换失败时会记录此错误类型。Messaging Gateway代理可能无法传播导致失败的消息，并且最终将停止传播作业。</p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.mgw.common。GatewayException</code> 
                        </p>
                        <p>发生消息转换以外的某些故障时，将记录此错误类型。根据原因，问题可能会自行解决或需要用户采取措施。</p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-C6BD0F77-79DD-4E4C-B952-BCFFD41E6F62">[221]无法访问&lt; <span class="italic">messaging_system</span> &gt;队列：&lt; <span class="italic">queue</span> &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>尝试访问Oracle数据库高级队列队列或非Oracle队列时发生错误。检查日志文件中的链接异常错误代码和消息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-47D08C14-89BD-4ADE-9B7D-58C80CA232D2">[241]无法连接到数据库。SQL错误：&lt; <span class="italic">error</span> &gt;，连接字符串：&lt; <span class="italic">connect_string</span> &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>这可能是由为<code class="codeph">DBMS_MGWADM</code>指定的错误MGW代理连接信息<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">CREATE_AGENT</code>或<code class="codeph">DBMS_MGWADM</code> 。 <code class="codeph">ALTER_AGENT</code> 。 Messaging Gateway代理用户或密码不正确或数据库说明符（数据库参数）不正确。验证代理，JDBC OCI或JDBC Thin使用的连接类型的连接信息是否正确。
                     </p>
                     <p>如果<code class="codeph">database</code>参数为<code class="codeph">NULL</code> ，则检查Messaging Gateway日志文件以查找以下Oracle链接错误：</p><pre class="oac_no_warn" dir="ltr">ORA-01034：ORACLE不可用ORA-27101：共享内存域不存在</pre><p>这两个错误一起表明Messaging Gateway代理正在尝试使用本地IPC连接连接到数据库，但<code class="codeph">ORACLE_SID</code>值不正确。
                     </p>
                     <p>当database参数设置为<code class="codeph">NULL</code>时，将使用本地连接。如果需要本地连接，则必须在Messaging Gateway代理进程中设置正确的<code class="codeph">ORACLE_SID</code>值。这可以通过将以下行添加到MGW初始化文件来完成，通常是<code class="codeph">mgw</code> 。 <code class="codeph">ora</code> ：</p><pre class="oac_no_warn" dir="ltr">设置ORACLE_SID = <span class="italic">sid_value</span>
</pre><p>如果数据库参数不为<code class="codeph">NULL</code>则无需在MGW初始化文件中设置<code class="codeph">ORACLE_SID</code> 。</p>
                     <p>如果在MGW初始化文件中设置<code class="codeph">ORACLE_SID</code>不起作用，则必须将数据库参数设置为非<code class="codeph">NULL</code> 。</p>
                     <p>如果使用JDBC Thin连接，则database参数必须不为<code class="codeph">NULL</code> 。如果使用JDBC Thin连接且数据库参数是TNSNames别名，请确保<code class="codeph">oracle</code> 。 <code class="codeph">net</code> 。 <code class="codeph">tns_names</code> Java属性在MGW初始化文件中设置。可以通过将以下行添加到MGW初始化文件来设置该属性：</p><pre class="oac_no_warn" dir="ltr">setJavaProp oracle.net.tns_admin = &lt;包含tnsnames.ora的目录&gt;</pre><div class="infoboxnote" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-2F5A2404-EFE3-4AA7-8926-E4D593CDE9D6">
                        <p class="notep1">注意：</p>
                        <p><span class="q">“ <a href="omg-getting-started.html#GUID-00E3933A-C58D-4D4A-A7A2-7CDFF418163D__BABDFCFI">oracle.net.tns_admin</a> ”</span>了解更多信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-D9859083-72D2-4E9D-B5C2-00A0F793CD7D">[415]缺少来自作业&lt; <span class="italic">job_name</span> &gt;的源队列的消息</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>可能的原因包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>代理程序部分处理了由Messaging Gateway代理以外的其他人出列的持久性消息。</p>
                        </li>
                        <li>
                           <p>传播源队列已清除或重新创建。</p>
                        </li>
                        <li>
                           <p>消息已移至Oracle数据库高级队列异常队列。</p>
                        </li>
                     </ul>
                     <p>如果发生此错误，则在<code class="codeph">DBMS_MGWADM</code>包中调用过程<code class="codeph">CLEANUP_GATEWAY</code> ：</p><pre class="oac_no_warn" dir="ltr">DBMS_MGWADM.CLEANUP_GATEWAY（action =&gt; DBMS_MGWADM.RESET_SUB_MISSING_MESSAGE，sarg =&gt; &lt; <span class="italic">job_name</span> &gt;）;</pre><p>仅当传播作业遇到丢失的消息问题且代理正在运行时，调用才会生效。代理将丢失的消息视为<a href="glossary.html#GUID-A91ACE79-576B-49F6-BE03-D4A792B9B468"><span class="xrefglossterm">非持久</span></a>消息，并继续处理传播作业。
                     </p>
                     <div class="infoboxnotealso" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-7397B791-DA90-4635-8B0F-B7A11F4972C6">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Messaging Gateway异常队列的详细信息，请参阅<span class="q">“ <a href="omg-working.html#GUID-8FCCF044-35E5-4FFC-A14D-C0B91D6624C6">传播作业概述</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-8A7D59E6-E5D3-4D66-9DD9-36C884607DB0">[416]在接收作业&lt; <span class="italic">job_name</span> &gt;的日志队列时缺少日志记录</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>可能的原因包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>日志记录由Messaging Gateway代理以外的其他人从日志队列中出列。</p>
                        </li>
                        <li>
                           <p>清除或重新创建日志队列。</p>
                        </li>
                     </ul>
                     <p>如果发生此错误，则在<code class="codeph">DBMS_MGWADM</code>包中调用过程<code class="codeph">CLEANUP_GATEWAY</code> ：</p><pre class="oac_no_warn" dir="ltr">DBMS_MGWADM.CLEANUP_GATEWAY（action =&gt; DBMS_MGWADM.RESET_SUB_MISSING_LOG_REC，sarg =&gt; &lt;job_name&gt;）;</pre><p>仅当传播作业遇到丢失的日志记录问题且代理正在运行时，该调用才会生效。</p>
                     <div class="infoboxnote" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-62F31436-A57C-4381-9D70-093A9A5FB022">
                        <p class="notep1">注意：</p>
                        <p>如果丢失的消息已经传播到目标队列，则调用过程<code class="codeph">DBMS_MGWADM.CLEANUP_GATEWAY</code>可能会导致重复的消息。用户应检查源和目标队列中是否存在两个位置中存在的任何消息。如果存在此类消息，则应在调用此过程之前将其从源队列或目标队列中删除。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-84BFF75D-6C6C-4A9B-A607-22EBE2A5B609">[417]发送作业&lt; <span class="italic">job_name</span> &gt;的日志队列时缺少日志记录</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>查看先前的错误。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-0A6C8CD3-F864-4833-B4AA-B7D759CB3021">[421]警告：无法获得恢复作业&lt; <span class="italic">job_name</span> &gt;的连接</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此消息是一条警告消息，指示Messaging Gateway代理无法获得连接以恢复传播作业，因为其他传播作业正在全部使用它们。代理将继续尝试获取连接，直到成功为止。</p>
                     <p>如果对WebSphere MQ链接重复此消息多次，则增加与传播作业关联的Messaging Gateway链接使用的最大连接数。</p>
                     <div class="infoboxnotealso" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-EC0FD5E0-6251-4811-9D92-A257EF606736">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="omg-working.html#GUID-78F4D486-C0B2-4DE5-A366-110433ED3F8D">改变消息系统链接</a> ”</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-08C8D81E-6151-45B8-9948-2A16431DEB94">[434]无法访问队列&lt; <span class="italic">queue</span> &gt;;提供者队列&lt; <span class="italic">queue</span> &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>此消息表明无法访问邮件系统本机队列。队列可能已由<code class="codeph">DBMS_MGWADM.REGISTER_FOREIGN_QUEUE</code>注册，或者它可能是Oracle数据库高级队列队列。链接的异常应该提供更多信息。
                     </p>
                     <p>可能的原因包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>外部队列注册不正确，或者Messaging Gateway链接配置不正确。</p>
                           <p>验证配置信息。如果可能，请使用相同的配置信息来运行非Oracle邮件系统的示例应用程序。</p>
                        </li>
                        <li>
                           <p>无法访问非Oracle邮件系统。</p>
                           <p>检查非Oracle邮件系统是否正在运行，并且可以使用Messaging Gateway链接中提供的信息进行访问。</p>
                        </li>
                        <li>
                           <p>Oracle数据库高级队列队列不存在。创建Messaging Gateway传播作业后，可能已删除队列。</p>
                           <p>检查Oracle Database Advanced Queuing队列是否仍然存在。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-0D8464D0-8B8C-4144-AA28-1F10D85F66E4">[436]低内存警告：总内存= &lt;&gt;，free_mem = &lt;&gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Messaging Gateway代理JVM的内存不足。将调用Java垃圾收集，但这可能表示JVM堆大小太小。使用<code class="codeph">max_memory</code>的参数<code class="codeph">DBMS_MGWADM.ALTER_AGENT</code>增加JVM堆大小。如果Messaging Gateway代理正在运行，则必须重新启动它才能使此更改生效。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-C2B4846D-EDCD-46D8-8C10-3F6E450D99AD">[703]无法检索转换&lt; <span class="italic">transformation_id</span> &gt;的信息</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Messaging Gateway代理无法获取有关<a href="glossary.html#GUID-A668A987-B1D3-4330-97FD-0589DB780225"><span class="xrefglossterm">转换</span></a>所需的所有信息。<code class="codeph">DBMS_MGWADM.CREATE_JOB</code>的转换参数必须指定已注册转换的名称，而不是转换函数的名称。
                     </p>
                     <p>可能的原因包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>转型不存在。验证是否已创建转换。您可以从以SYS用户身份执行的以下查询中看到此信息：</p><pre class="oac_no_warn" dir="ltr">SELECT TRANSFORMATION_ID，来自DBA_TRANSFORMATIONS的所有者;</pre></li>
                        <li>
                           <p>Messaging Gateway注册了错误的转换。验证注册的转换是否是预期的转换。</p>
                        </li>
                        <li>
                           <p>Messaging Gateway代理用户对用于<code class="codeph">from_type</code>的<a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">对象类型</span></a>或异常中指示的转换的<code class="codeph">to_type</code>没有<code class="codeph">EXECUTE</code>特权。
                           </p>
                           <p>它不足以授予<code class="codeph">EXECUTE</code>到<code class="codeph">MGW_AGENT_ROLE</code>然后授予<code class="codeph">MGW_AGENT_ROLE</code>给代理用户。您必须直接向代理用户或<code class="codeph">PUBLIC</code>授予对象类型的<code class="codeph">EXECUTE</code>特权。</p>
                           <p>以下示例显示了<code class="codeph">from_type</code>这种情况。它还显示了使用链接的异常来确定错误的确切原因。
                           </p>
                           <p><span class="bold">对象类型没有EXECUTE特权</span></p><pre class="oac_no_warn" dir="ltr">处理作业JOB_AQ2MQ_2 oracle.mgw.common期间发生错误。GatewayException：[703]无法检索转换mgwuser的信息。SAMPLEADT_TO_MGW_BASIC_MSG [...这里有Java堆栈跟踪...] [Linked-exception] java.sql。SQLException：“from_type”为null [...这里的Java堆栈跟踪...]</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-8EBC1272-91EC-44FD-B424-5AAC66EAADE0">[720]不支持AQ有效载荷类型&lt; <span class="italic">类型</span> &gt;; queue：&lt; <span class="italic">queue</span> &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Messaging Gateway不直接支持Messaging Gateway传播作业使用的Oracle数据库高级队列队列的有效负载类型。对于非JMS传播，Messaging Gateway直接支持有效负载类型<code class="codeph">RAW</code> ， <code class="codeph">SYS.MGW_BASIC_MSG_T</code>和<code class="codeph">SYS.MGW_TIBRV_MSG_T</code> 。</p>
                     <p>可能的行动包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>配置Messaging Gateway传播作业以使用将队列有效内容类型转换为支持的类型的转换。</p>
                        </li>
                        <li>
                           <p>删除Messaging Gateway传播作业并创建一个新作业，该作业使用具有受支持的有效内容类型的Oracle数据库高级队列队列。</p>
                           <p>对于<a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java消息服务</span></a> （JMS）传播，必须删除Messaging Gateway传播作业，并创建一个新作业，其Oracle <a href="glossary.html#GUID-9885B911-8AC1-49F3-922E-1F8D64C4501D"><span class="xrefglossterm">Oracle消息服务</span></a> （Oracle JMS）支持其Oracle Database Advanced Queuing有效内容类型。JMS传播不支持转换。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-1705F06F-5FB7-4C31-9807-DA8AD0E2190F">[721]不支持转换类型&lt; <span class="italic">type</span> &gt;; queue：&lt; <span class="italic">queue_name</span> &gt;，transform：&lt; <span class="italic">transformation</span> &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Messaging Gateway传播作业配置了一个转换，该转换使用的对象类型不是Messaging Gateway <a href="glossary.html#GUID-F4F4838D-1672-4364-A9E8-EF21D7473749"><span class="xrefglossterm">规范</span></a>类型之一。
                     </p>
                     <p>对于出站作业，转换<code class="codeph">from_type</code>必须是Oracle数据库高级队列有效内容类型，并且<code class="codeph">to_type</code>必须是Messaging Gateway规范类型。对于入站作业，转换<code class="codeph">from_type</code>必须是Messaging Gateway规范类型， <code class="codeph">to_type</code>必须是Oracle Database Advanced Queuing有效内容类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-2C23ACD3-24C7-4D3F-A85D-B9562733B0BB">[722]消息转换失败; queue：&lt; <span class="italic">queue_name</span> &gt;，transform：&lt; <span class="italic">transformation</span> &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>尝试执行转换时发生错误。当转换函数引发PL / SQL异常或尝试使用转换时发生某些其他Oracle错误时，Oracle数据库高级队列通常会抛出ORA-25229。</p>
                     <p>可能的原因包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Messaging Gateway代理用户对转换功能没有<code class="codeph">EXECUTE</code>特权。以下示例说明了这一点。
                           </p>
                           <p>这是不够授予<code class="codeph">EXECUTE</code>到<code class="codeph">MGW_AGENT_ROLE</code>然后授予<code class="codeph">MGW_AGENT_ROLE</code>消息发送网关代理用户。您必须将转换功能的<code class="codeph">EXECUTE</code>特权直接授予Messaging Gateway代理用户或<code class="codeph">PUBLIC</code> 。</p>
                           <p><span class="bold">转换函数没有EXECUTE特权</span></p><pre class="oac_no_warn" dir="ltr">处理作业JOB_MQ2AQ_2 oracle.mgw.common期间发生错误。GatewayException：[722]消息转换失败队列：MGWUSER.DESTQ_SIMPLEADT，转换：MGWUSER.MGW_BASIC_MSG_TO_SIMPLEADT [...这里有Java堆栈跟踪...] [Linked-exception] oracle.mgw.common。MessageException：[722]消息转换失败; queue：MGWUSER.DESTQ_SIMPLEADT，transform：MGWUSER.MGW_BASIC_MSG_TO_SIMPLEADT [...这里的Java堆栈跟踪...] [Linked-exception] java.sql。SQLException：ORA-25229：消息转换时出错msgid：9749DB80C85B0BD4E03408002086745E ORA-00604：递归SQL级别1发生错误ORA-00904：列名无效[...此处为Java堆栈跟踪...]</pre></li>
                        <li>
                           <p>转换函数不存在，即使已注册的转换也存在。如果转换函数不存在，则必须重新创建。</p>
                        </li>
                        <li>
                           <p>Messaging Gateway代理用户对异常中指示的队列的有效内容对象类型没有<code class="codeph">EXECUTE</code>特权。
                           </p>
                           <p>这是不够授予<code class="codeph">EXECUTE</code>到<code class="codeph">MGW_AGENT_ROLE</code>然后授予<code class="codeph">MGW_AGENT_ROLE</code>消息发送网关代理用户。您必须将对象类型的<code class="codeph">EXECUTE</code>特权直接授予Messaging Gateway代理用户或<code class="codeph">PUBLIC</code> 。</p>
                        </li>
                        <li>
                           <p>转换函数引发了错误。验证转换函数是否可以处理它收到的所有消息。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-A661AE0D-1F0C-4FD9-B13A-6FDF2A042A8F">[724]不支持消息转换;到AQ有效负载类型：&lt; <span class="italic">type</span> &gt;，来自类型：&lt; <span class="italic">type</span> &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>消息传递网关传播作业配置为入站传播，其中非Oracle消息传递系统链接生成的规范消息类型与Oracle数据库高级队列队列有效内容类型不兼容。例如，从TIB /楼台邮件系统传播到Oracle数据库高级队列队列与<code class="codeph">SYS.MGW_BASIC_MSG_T</code>有效载荷类型，或传播从WebSphere MQ到Oracle数据库高级队列队列与<code class="codeph">SYS.MGW_TIBRV_MSG_T</code>有效载荷类型。
                     </p>
                     <p>可能的行动包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用将非Oracle消息传递链接生成的规范消息类型映射到Oracle数据库高级队列有效内容类型的转换配置Messaging Gateway传播作业。</p>
                        </li>
                        <li>
                           <p>删除Messaging Gateway传播作业并创建一个新作业，其Oracle数据库高级队列队列有效内容类型与非Oracle链接生成的规范消息类型匹配。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-FC15FE42-C413-46CD-95D9-6D020C2D6EDA">[725] RAW有效载荷不支持文本消息</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>消息传递网关传播作业配置为入站传播到具有<code class="codeph">RAW</code>有效负载类型的Oracle数据库高级队列目标。从源（非Oracle）队列收到文本消息，导致消息转换失败。
                     </p>
                     <p>如果需要支持文本数据，请删除Messaging Gateway传播作业，并为有效负载类型支持文本数据的Oracle数据库高级队列目标创建新作业。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-64656D8F-CC45-4108-8037-143E8D3C1A73">[726]消息大小&lt; <span class="italic">size</span> &gt;对于RAW有效载荷而言太大;最大尺寸为&lt; <span class="italic">尺寸</span> &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>消息传递网关传播作业配置为入站传播到具有<code class="codeph">RAW</code>有效负载类型的Oracle数据库高级队列目标。从源（非Oracle）队列收到包含大<code class="codeph">RAW</code>值的消息时，发生消息转换失败。
                     </p>
                     <p>如果需要大数据支持，请删除Messaging Gateway传播作业，并为Oracle数据库高级队列目标创建新作业，该目标的有效内容类型支持大数据，通常采用具有<a href="glossary.html#GUID-A62D4CF7-C903-40B3-89DC-0D6E4233D7C9"><span class="xrefglossterm">BLOB</span></a>属性的对象类型的形式。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-5E3814E1-EEC0-47AA-B405-E2B120D8939E">[728]消息包含太多大（BLOB）字段</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>源消息包含太多必须存储在<code class="codeph">BLOB</code>类型中的字段。<code class="codeph">SYS.MGW_TIBRV_MSG_T</code>限制为三个<code class="codeph">BLOB</code>字段。减少消息中的大字段数量，可能是将它们分成较小的字段或将它们组合成较少的大字段。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-13B569D0-FF35-4E87-A51F-49580C4EBAC1">[729]消息包含太多大（CLOB）字段</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>源消息包含太多字段，这些字段包含必须存储在<code class="codeph">CLOB</code>的大文本值。 <code class="codeph">SYS.MGW_TIBRV_MSG_T</code>限制为三个<code class="codeph">CLOB</code>字段。减少消息中的大字段数量，可能是将它们分成较小的字段或将它们组合成较少的大字段。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-278D3D58-6696-4526-A47C-1850E696043D__GUID-28BD0533-6C2C-4F0F-833F-AB337C881629">[805]排队到队列时出现MQSeries消息错误：&lt; <span class="italic">queue</span> &gt;</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>尝试将消息放入WebSphere MQ队列时，WebSphere MQ返回错误。检查日志文件中的链接异常错误代码和消息。请参阅WebSphere MQ文档。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>