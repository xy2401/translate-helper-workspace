<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads."></meta>
      <meta name="description" content="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads."></meta>
      <title>使用透明数据加密的一般注意事项</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Security Guide "></meta>
      <meta property="og:description" content="When you use Transparent Data Encryption, you should consider factors such as security, performance, and storage overheads."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="advanced-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-13T09:26:12-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96301-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-keystores-encryption-keys-in-isolated-mode.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-transparent-data-encryption-with-other-oracle-features.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Advanced Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ASOAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-keystores-encryption-keys-in-isolated-mode.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-transparent-data-encryption-with-other-oracle-features.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asopart1.html" property="item" typeof="WebPage"><span property="name">使用透明数据加密</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用透明数据加密的一般注意事项</li>
            </ol>
            <a id="GUID-F02C9CBF-0374-408B-8655-F7531B681D41" name="GUID-F02C9CBF-0374-408B-8655-F7531B681D41"></a><a id="ASOAG10478"></a>
            
            <h2 id="ASOAG-GUID-F02C9CBF-0374-408B-8655-F7531B681D41" class="sect2"><span class="enumeration_chapter">7</span>使用透明数据加密的一般注意事项</h2>
         </header>
         <div class="ind">
            <div>
               <p>使用透明数据加密时，应考虑安全性，性能和存储开销等因素。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB">加密数据的压缩和重复数据删除</a><br>通过表空间加密，Oracle数据库在加密表空间之前压缩表和索引。
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F">透明数据加密的安全注意事项</a><br>与所有Oracle数据库功能一样，您应该在创建TDE策略时考虑安全性。
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B">透明数据加密的性能和存储开销</a><br>透明数据加密的性能可能会有所不同。
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-401720E6-463B-4473-ACE8-AF1B6127821F">修改您的应用程序以使用透明数据加密</a><br>您可以修改应用程序以使用透明数据加密。
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245">ALTER SYSTEM和orapki如何映射到管理密钥管理</a><br><code class="codeph">ALTER SYSTEM</code>语句中的许多子句对应于<code class="codeph">ADMINISTER KEY MANAGEMENT</code>语句。
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-5600990E-F520-4F10-BF68-63756E595262">使用透明数据加密和PKI加密</a><br>PKI加密已弃用，但如果您仍在使用它，则必须考虑几个问题。
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-A29FA261-ECDB-4B99-A864-8FFD95568813">数据从外部文件加载到具有加密列的表</a><br>您可以使用SQL * Loader执行从文件到具有加密列的表的数据加载。
                  </li>
                  <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-A637AB50-2A54-4248-8DC2-F50729C38B97">透明数据加密和数据库关闭操作</a><br>在关闭数据库之前，应确保打开软件或硬件密钥库。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="asopart1.html" title="第一部分介绍了如何使用透明数据加密。">使用透明数据加密</a></p>
                  </div>
               </div>
            </div>
            <a id="ASOAG10358"></a><div class="props_rev_3"><a id="GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB" name="GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB"></a><h3 id="ASOAG-GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB" class="sect3">加密数据的压缩和重复数据删除</h3>
               <div>
                  <p>通过表空间加密，Oracle数据库在加密表空间之前压缩表和索引。</p>
                  <p>这可确保您从压缩中获得最大的空间和性能优势，同时还可以获得静态加密的安全性。在<code class="codeph">CREATE TABLESPACE</code> SQL语句中，包括<code class="codeph">COMPRESS</code>和<code class="codeph">ENCRYPT</code>子句。
                  </p>
                  <p>使用列加密，Oracle数据库在加密列后压缩数据。这意味着压缩对加密列的效果最小。有一个值得注意的例外：如果列是SecureFiles LOB，并且使用SecureFiles LOB加密实现加密，并且使用SecureFiles LOB压缩和重复数据删除实现压缩（可能还有重复数据删除），则在加密之前执行压缩。与表空间加密的<code class="codeph">CREATE TABLESPACE</code>语句类似，包括<code class="codeph">COMPRESS</code>和<code class="codeph">ENCRYPT</code>子句。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-2A7F5371-3F24-4956-8F51-3568DEF885EB__GUID-621659FF-09B0-4C4E-B9F4-515B9A97B448">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关高级压缩选件的详细信息<a href="../bradv/configuring-rman-client-advanced.html#BRADV187" target="_blank"><span><cite>，请参见“Oracle数据库备份和恢复用户指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关SecureFiles LOB存储的信息，请参见<a href="../adlob/using-oracle-LOBs-storage.html#ADLOB45162" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关SecureFiles压缩的信息，请参见<a href="../adlob/using-oracle-LOBs-storage.html#ADLOB46109" target="_blank"><span><cite>Oracle Database SecureFiles和Large Objects Developer's Guide</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="使用透明数据加密时，应考虑安全性，性能和存储开销等因素。">使用透明数据加密的一般注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG9552"></a><div class="props_rev_3"><a id="GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" name="GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F"></a><h3 id="ASOAG-GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" class="sect3">透明数据加密的安全注意事项</h3>
               <div>
                  <p>与所有Oracle数据库功能一样，您应该在创建TDE策略时考虑安全性。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-ED481093-51B0-42F2-BADB-E5E55889AD47">透明数据加密一般安全建议</a><br>透明数据加密（TDE）的安全考虑因素在更广泛的系统安全性范围内运行。
                     </li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-9E283E61-E4CA-4E3A-A99C-4F31ABE0787F">透明数据加密列加密特定建议</a><br>使用TDE时，其他安全注意事项适用于正常的数据库和网络操作。</li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-8DBBE636-3166-4828-92C1-12C93194C17D">管理明文片段的安全性</a><br>您应该删除随时间推移可能出现的旧明文片段。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="使用透明数据加密时，应考虑安全性，性能和存储开销等因素。">使用透明数据加密的一般注意事项</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10359"></a><div class="sect3"><a id="GUID-ED481093-51B0-42F2-BADB-E5E55889AD47" name="GUID-ED481093-51B0-42F2-BADB-E5E55889AD47"></a><h4 id="ASOAG-GUID-ED481093-51B0-42F2-BADB-E5E55889AD47" class="sect4">透明数据加密一般安全建议</h4>
                  <div>
                     <p>透明数据加密（TDE）的安全考虑因素在更广泛的系统安全性范围内运行。</p>
                     <p>请遵循以下一般准则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>确定数据库中数据的敏感程度，所需的保护以及要解决的风险级别。例如，可以使用AES256算法加密需要更强保护的高度敏感数据。可以使用无<a href="glossary.html#GUID-6803F75B-7883-4D0B-B1FF-0084AD65E001"><span class="xrefglossterm">盐</span></a>或<code class="codeph">nomac</code>选项来保护不那么敏感的数据库，以实现性能优势。
                           </p>
                        </li>
                        <li>
                           <p>评估数据和密钥库保护可接受的成本和收益。密钥保护决定了要使用的密钥库的类型：自动登录软件密钥库，基于密码的软件密钥库或硬件密钥库。</p>
                        </li>
                        <li>
                           <p>考虑为TDE和数据库分别设置安全管理员。</p>
                        </li>
                        <li>
                           <p>考虑为TDE提供单独的独占密钥库。</p>
                        </li>
                        <li>
                           <p>为加密数据实施受保护的备份过程。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" title="与所有Oracle数据库功能一样，您应该在创建TDE策略时考虑安全性。">透明数据加密的安全注意事项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10360"></a><div class="props_rev_3"><a id="GUID-9E283E61-E4CA-4E3A-A99C-4F31ABE0787F" name="GUID-9E283E61-E4CA-4E3A-A99C-4F31ABE0787F"></a><h4 id="ASOAG-GUID-9E283E61-E4CA-4E3A-A99C-4F31ABE0787F" class="sect4">透明数据加密列加密特定建议</h4>
                  <div>
                     <p>使用TDE时，其他安全注意事项适用于正常的数据库和网络操作。</p>
                     <p>加密列数据在数据文件，撤消日志，重做日志和系统全局区域（SGA）的缓冲区高速缓存中保持加密状态。但是，在表达式评估期间解密数据，使得解密数据可以出现在磁盘上的交换文件中。特权操作系统用户可以查看此数据。</p>
                     <p>使用TDE加密的列值以加密形式存储在数据文件中。但是，这些数据文件可能仍然包含一些<a href="glossary.html#GUID-268B0C3E-D1AD-482D-939C-A9A6522A8E8D"><span class="xrefglossterm">明文</span></a>片段，称为幻像拷贝，由表上的过去数据操作遗留下来。这类似于在操作系统删除文件后在磁盘上查找数据。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" title="与所有Oracle数据库功能一样，您应该在创建TDE策略时考虑安全性。">透明数据加密的安全注意事项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10361"></a><div class="props_rev_3"><a id="GUID-8DBBE636-3166-4828-92C1-12C93194C17D" name="GUID-8DBBE636-3166-4828-92C1-12C93194C17D"></a><h4 id="ASOAG-GUID-8DBBE636-3166-4828-92C1-12C93194C17D" class="sect4">管理明文片段的安全性</h4>
                  <div>
                     <p>您应该删除随时间推移可能出现的旧明文片段。</p>
                     <div class="section">
                        <p>旧的<a href="glossary.html#GUID-268B0C3E-D1AD-482D-939C-A9A6522A8E8D"><span class="xrefglossterm">明文</span></a>片段可能存在一段时间，直到数据库覆盖包含这些值的块。如果特权操作系统用户绕过数据库的访问控制，则他们可能能够直接访问包含表空间的数据文件中的这些值。
                        </p>
                        <p>为了最大限度地降低风</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>在新数据文件中创建新表空间。</p>
                              <p>您可以使用<code class="codeph">CREATE TABLESPACE</code>语句来创建此表空间。
                              </p>
                           </li>
                           <li>
                              <p>将包含加密列的表移动到新表空间。你可以使用<code class="codeph">ALTER TABLE.....MOVE</code>声明。
                              </p>
                              <p>对原始表空间中的所有对象重复此步骤。</p>
                           </li>
                           <li>
                              <p>删除原始表空间。</p>
                              <p>您可以使用<code class="codeph">DROP TABLESPACE</code> <span class="italic"><code class="codeph">tablespace</code></span> <code class="codeph">INCLUDING CONTENTS KEEP DATAFILES</code>语句。Oracle建议您使用特定于平台的实用程序安全地删除数据文件。
                              </p>
                           </li>
                           <li>
                              <p>使用特定于平台和特定于文件系统的实用程序来安全地删除旧数据文件。此类实用程序的示例包括<code class="codeph">shred</code> （在Linux上）和<code class="codeph">sdelete</code> （在Windows上）。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-0D1A22F0-8F5F-4EB6-8E37-84A6055A1D5F" title="与所有Oracle数据库功能一样，您应该在创建TDE策略时考虑安全性。">透明数据加密的安全注意事项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ASOAG9549"></a><div class="props_rev_3"><a id="GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B" name="GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B"></a><h3 id="ASOAG-GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B" class="sect3">透明数据加密的性能和存储开销</h3>
               <div>
                  <p>透明数据加密的性能可能会有所不同。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295">透明数据加密的性能开销</a><br>透明数据加密表空间加密具有较小的关联性能开销。
                     </li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-24F03ED5-D3E1-4868-879F-834A4440B94B">透明数据加密的存储开销</a><br>TDE表空间加密没有存储开销，但TDE列加密具有一些相关的存储开销。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="使用透明数据加密时，应考虑安全性，性能和存储开销等因素。">使用透明数据加密的一般注意事项</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG9550"></a><div class="props_rev_3"><a id="GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295" name="GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295"></a><h4 id="ASOAG-GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295" class="sect4">透明数据加密的性能开销</h4>
                  <div>
                     <p>透明数据加密表空间加密具有较小的关联性能开销。</p>
                     <p>对应用程序的实际性能影响可能有所不同仅当从加密列检索数据或将数据插入加密列时，TDE列加密才会影响性能。对于涉及未加密列的操作，即使这些列位于包含加密列的表中，也不会降低性能。访问加密列中的数据涉及较小的性能开销，并且您观察到的确切开销可能会有所不同。</p>
                     <p>总性能开销取决于加密列的数量及其访问频率。最适合加密的列是包含最敏感数据的列。</p>
                     <p>对现有表启用加密会导致完整表更新，就像修改表特性的任何其他<code class="codeph">ALTER TABLE</code>操作一样。在对大型现有表启用加密之前，请记住对数据库服务器的潜在性能和重做日志影响。
                     </p>
                     <p>在启用加密，重新生成<a href="glossary.html#GUID-78CFC3BC-9BDD-406E-A6E2-2374AC636269"><span class="xrefglossterm">TDE表键</span></a>或正在更改加密算法时，写入操作暂时无法访问<a href="glossary.html#GUID-78CFC3BC-9BDD-406E-A6E2-2374AC636269"><span class="xrefglossterm">表</span></a> 。您可以使用联机表重定义来确保该表在此类过程中可用于写入操作。
                     </p>
                     <p>如果在非常大的表上启用TDE列加密，则可能需要增加重做日志大小以适应操作。</p>
                     <p>加密索引列比加密没有索引的列需要更多时间。如果必须加密在其上构建索引的列，则可以尝试删除索引，使用<code class="codeph">NO SALT</code>加密列，然后重新创建索引。
                     </p>
                     <p>如果索引加密列，则会在加密值上创建索引。在查询加密列中的值时，Oracle数据库会透明地加密SQL查询中使用的值。然后，它使用加密值执行索引查找。</p>
                     <div class="infoboxnote" id="GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295__GUID-715968D0-7652-411E-94AD-A42AB225191D">
                        <p class="notep1">注意：</p>
                        <p>如果必须对索引的加密列执行范围扫描，则使用TDE表空间加密代替TDE列加密。</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-13FCC847-A665-4BE4-AF3F-AD9F455D6295__GUID-B4D8DE68-23D0-4843-B996-1438FE7B8382">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-transparent-data-encryption.html#GUID-936CC3D2-8102-454C-AC49-D0126929D738" title="外部表功能使您可以访问外部源中的数据，就像数据位于数据库表中一样。">在外部表中创建加密列</a></p>
                           </li>
                           <li>
                              <p>有关在线重新定义表的信息，请参见<a href="../admin/managing-tables.html#ADMIN01514" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B" title="透明数据加密的性能可能会有所不同。">透明数据加密的性能和存储开销</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG9551"></a><div class="props_rev_3"><a id="GUID-24F03ED5-D3E1-4868-879F-834A4440B94B" name="GUID-24F03ED5-D3E1-4868-879F-834A4440B94B"></a><h4 id="ASOAG-GUID-24F03ED5-D3E1-4868-879F-834A4440B94B" class="sect4">透明数据加密的存储开销</h4>
                  <div>
                     <p>TDE表空间加密没有存储开销，但TDE列加密具有一些相关的存储开销。</p>
                     <p>加密列数据必须具有比<a href="glossary.html#GUID-268B0C3E-D1AD-482D-939C-A9A6522A8E8D"><span class="xrefglossterm">明文</span></a>数据更多的存储空间。此外，TDE将加密值填充为16字节的倍数。这意味着如果信用卡号码需要9个字节进行存储，那么加密的信用卡值将需要额外的7个字节。
                     </p>
                     <p>每个加密值还与20字节完整性检查相关联。如果您使用<code class="codeph">NOMAC</code>参数的加密列，则不适用。如果数据是用<a href="glossary.html#GUID-6803F75B-7883-4D0B-B1FF-0084AD65E001"><span class="xrefglossterm">salt</span></a>加密的，那么每个加密值都需要额外的16个字节的存储空间。
                     </p>
                     <p>每个加密值的最大存储开销为1到52个字节。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-transparent-data-encryption.html#GUID-936CC3D2-8102-454C-AC49-D0126929D738" title="外部表功能使您可以访问外部源中的数据，就像数据位于数据库表中一样。">在外部表中创建加密列</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-2B082CD7-EDDA-4705-9B61-1B1015AB287B" title="透明数据加密的性能可能会有所不同。">透明数据加密的性能和存储开销</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="ASOAG10342"></a><div class="props_rev_3"><a id="GUID-401720E6-463B-4473-ACE8-AF1B6127821F" name="GUID-401720E6-463B-4473-ACE8-AF1B6127821F"></a><h3 id="ASOAG-GUID-401720E6-463B-4473-ACE8-AF1B6127821F" class="sect3">修改您的应用程序以使用透明数据加密</h3>
               <div>
                  <p>您可以修改应用程序以使用透明数据加密。</p>
                  <div class="section">
                     <ol>
                        <li>
                           <p>为TDE配置软件或硬件密钥库，然后设置主加密密钥。</p>
                           <p>有关更多信息，请参阅以下部分：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-1FA85E9E-5666-4CF3-A3C7-1F8A9230B0C9" title="软件密钥库是主加密密钥的容器，它驻留在软件文件系统中。">配置软件密钥库</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-753C4808-CC51-4DA1-A5C3-980417FDAB14" title="硬件密钥库位于硬件安全模块（HSM）中，该模块用于存储加密密钥。">配置硬件密钥库</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>通过查询<code class="codeph">V$ENCRYPTION_KEYS</code>视图的<code class="codeph">KEY_ID</code>列来验证是否已创建主加密密钥。
                           </p>
                        </li>
                        <li>
                           <p>识别需要透明数据加密保护的敏感列（例如包含信用卡数据的列）。</p>
                        </li>
                        <li>
                           <p>决定是使用TDE列加密还是TDE表空间加密。</p>
                           <p>有关更多信息，请参阅以下部分：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="introduction-to-transparent-data-encryption.html#GUID-547EA215-9576-4C61-A414-3DA3287692A4" title="透明数据加密（TDE）列加密可保护存储在表列中的机密数据，如信用卡和社会保险号。">透明数据加密列加密的工作原理</a></p>
                              </li>
                              <li>
                                 <p><a href="introduction-to-transparent-data-encryption.html#GUID-688B2CA5-EB00-4BEE-9486-9046670CCA70" title="透明数据加密（TDE）表空间加密使您可以加密整个表空间。">透明数据加密表空间加密的工作原理</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>打开密钥库。</p>
                           <p>有关更多信息，请参阅以下部分：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-37296947-18DB-4CFA-A112-794A55E942E2" title="根据您创建的密钥库的类型，您必须先手动打开密钥库，然后才能使用它。">第3步：打开软件密钥库</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-4FBC5088-A045-4306-88C0-FEBC07CA18AC" title="配置硬件安全模块后，必须先打开硬件密钥库，然后才能使用它。">第3步：打开硬件密钥库</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>加密列或表空间。</p>
                           <p>有关更多信息，请参阅以下部分：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-A0E2C279-10F6-48D9-AB92-C547529C06EE" title="您可以使用透明数据加密来加密数据库表中的各个列。">加密表中的列</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-transparent-data-encryption.html#GUID-1CA947A5-164A-4AA9-AD75-F7D9D4F6FFF8" title="您可以在脱机和联机表空间和数据库上执行加密操作。">表空间和数据库的加密转换</a></p>
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="使用透明数据加密时，应考虑安全性，性能和存储开销等因素。">使用透明数据加密的一般注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10467"></a><a id="ASOAG10408"></a><div class="props_rev_3"><a id="GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245" name="GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245"></a><h3 id="ASOAG-GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245" class="sect3">ALTER SYSTEM和orapki如何映射到管理密钥管理</h3>
               <div>
                  <p><code class="codeph">ALTER SYSTEM</code>语句中的许多子句对应于<code class="codeph">ADMINISTER KEY MANAGEMENT</code>语句。
                  </p>
                  <p><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245__CIHHJJCC" title="ALTER SYSTEM如何映射到管理密钥管理">表7-1</a>将<code class="codeph">ALTER SYSTEM</code>语句的透明数据加密用法与先前版本的<code class="codeph">orapki</code>实用程序与<code class="codeph">ADMINISTER KEY MANAGEMENT</code>语句进行了比较。
                  </p>
                  <div class="tblformalwide" id="GUID-AE301545-A8FF-4FDD-B493-F4D5ADF42245__CIHHJJCC">
                     <p class="titleintable">表7-1 ALTER SYSTEM和orapki如何映射到管理密钥管理</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="ALTER SYSTEM和orapki如何映射到管理密钥管理" width="100%" border="1" summary="How ALTER SYSTEM Maps to ADMINISTER KEY MANAGEMENT" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d45546e1303">行为</th>
                              <th align="left" valign="bottom" width="33%" id="d45546e1306">ALTER SYSTEM或orapki</th>
                              <th align="left" valign="bottom" width="45%" id="d45546e1309">管理员密钥管理</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1314" headers="d45546e1303 ">
                                 <p>创建密钥库</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1314 d45546e1306 ">
                                 <p>对于软件密钥库（在以前的版本中称为钱包）：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION KEY [“ <span class="italic">certificate_ID</span> ”]由<span class="italic">keystore_password</span>标识;</pre><p>对于硬件密钥库，配置硬件安全模块后可以使用密钥库。</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1314 d45546e1309 ">
                                 <p>对于软件密钥库：</p><pre class="oac_no_warn" dir="ltr">管理密钥管理密钥库创建<span class="italic">“keystore_location”</span> IDENTIFIED BY <span class="italic">software_keystore_password</span></pre><p>对于硬件密钥库，配置硬件安全模块后可以使用密钥库。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1343" headers="d45546e1303 ">
                                 <p>创建自动登录密钥库</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1343 d45546e1306 "><pre class="oac_no_warn" dir="ltr">orapki钱包创建-wallet <span class="italic">wallet_location</span> -auto_login [-pwd <span class="italic">密码</span> ]</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1343 d45546e1309 ">
                                 <p>对于软件密钥库：</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理CREATE [LOCAL] AUTO_LOGIN密钥库FROM IDENTIFIED BY <span class="italic">software_keystore_password</span>密钥库<span class="italic">'keystore_location';</span></pre><p>此类密钥库仅适用于软件密钥库。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1369" headers="d45546e1303 ">
                                 <p>打开密钥库</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1369 d45546e1306 "><pre class="oac_no_warn" dir="ltr">更改系统设置加密钱包由<span class="italic">密码</span>识别;</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1369 d45546e1309 "><pre class="oac_no_warn" dir="ltr">管理员密钥管理设置KEYSTORE OPEN由<span class="italic">keystore_password</span>标识[CONTAINER = ALL |当前];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1385" headers="d45546e1303 ">
                                 <p>关闭密钥库</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1385 d45546e1306 "><pre class="oac_no_warn" dir="ltr">更改系统设置加密钱包关闭由<span class="italic">密码</span>识别;</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1385 d45546e1309 ">
                                 <p>对于软件和硬件密钥库：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理设置KEYSTORE CLOSE由<span class="italic">keystore_password</span>识别[CONTAINER = ALL |当前];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1403" headers="d45546e1303 ">
                                 <p>从硬件密钥库迁移到软件密钥库</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1403 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1403 d45546e1309 "><pre class="oac_no_warn" dir="ltr">管理员密钥管理集由<span class="italic">software_keystore_password</span>标识的加密密钥REVERSE MIGRATE使用“ <span class="italic">user_name</span> ： <span class="italic">password</span> ”[WITH BACKUP [使用' <span class="italic">backup_identifier</span> ']];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1425" headers="d45546e1303 ">
                                 <p>从软件密钥库迁移到硬件密钥库</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1425 d45546e1306 "><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION KEY由“ <span class="italic">user_name</span> ： <span class="italic">password</span> ”标识MIGRATE使用<span class="italic">wallet_password</span> ;</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1425 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理集由“ <span class="italic">user_name</span> ： <span class="italic">password</span> ”标识的加密密钥MIGRATE使用<span class="italic">software_keystore_password</span> ;</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1453" headers="d45546e1303 ">
                                 <p>更改密钥库密码</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1453 d45546e1306 "><pre class="oac_no_warn" dir="ltr">orapki钱包change_pwd -wallet <span class="italic">wallet_location</span> [-oldpwd <span class="italic">密码</span> ] [-newpwd <span class="italic">密码</span> ]</pre></td>
                              <td align="left" valign="top" width="45%" headers="d45546e1453 d45546e1309 ">
                                 <p>对于基于密码的软件密钥库：</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理ALTER存储密码IDENTIFIED BY <span class="italic">software_keystore_old_password</span> SET <span class="italic">software_keystore_new_password</span> [WITH BACKUP [USING <span class="italic">'backup_identifier']];</span></pre><p>对于硬件密钥库，关闭密钥库，在硬件安全模块界面中更改密钥库，然后重新打开密钥库。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1485" headers="d45546e1303 ">
                                 <p>备份基于密码的软件密钥库</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1485 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1485 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理BACKUP密钥库[USING <span class="italic">'backup_identifier</span> '] IDENTIFIED BY <span class="italic">software_keystore_password</span> [TO' <span class="italic">keystore_location'];</span></pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1504" headers="d45546e1303 ">
                                 <p>将两个软件密钥库合并到第三个新密钥库中</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1504 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1504 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理MERGE密钥库<span class="italic">'keystore1_location'[IDENTIFIED</span> BY <span class="italic">software_keystore1_password]</span> AND密钥库<span class="italic">'keystore2_location'[IDENTIFIED</span> BY <span class="italic">software_keystore2_password]</span> INTO IDENTIFIED BY <span class="italic">software_keystore3_password</span>新的密钥库<span class="italic">'keystore3_location';</span></pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1533" headers="d45546e1303 ">
                                 <p>将一个软件密钥库合并到另一个现有密钥库中</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1533 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1533 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理MERGE密钥库<span class="italic">'keystore1_location'[IDENTIFIED</span> BY <span class="italic">software_keystore1_password]</span> INTO IDENTIFIED BY <span class="italic">software_keystore2_password</span> EXISTNG密钥库<span class="italic">'keystore2_location'[WITH</span> BACKUP [USING <span class="italic">'backup_identifier']];</span></pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1558" headers="d45546e1303 ">
                                 <p>设置或重新加密主加密密钥</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1558 d45546e1306 ">
                                 <p>对于软件钱包：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION KEY [“ <span class="italic">certificate_ID</span> ”]由<span class="italic">keystore_password</span>标识;</pre><p>对于硬件安全模块：</p><pre class="oac_no_warn" dir="ltr">由“ <span class="italic">user_name</span> ： <span class="italic">password</span> ”标识的ALTER SYSTEM SET ENCRYPTION键</pre><p><span class="bold">注意：重新生成</span> <code class="codeph">ALTER SYSTEM SET ENCRYPTION KEY</code> ， <code class="codeph">ALTER SYSTEM SET ENCRYPTION KEY</code>语句不会更新<code class="codeph">V$ENCRYPTION_KEYS</code>动态视图。
                                 </p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1558 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理集加密密钥[使用标记' <span class="italic">标记</span> ']由<span class="italic">keystore_password</span> IDENTIFIED WITH BACKUP [使用' <span class="italic">backup_identifier</span> '] [CONTAINER = ALL |当前];</pre><p>重新加密密钥后，将更新<code class="codeph">V$ENCRYPTION_KEYS</code>动态视图。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1611" headers="d45546e1303 ">
                                 <p>为以后的用户创建主加密密钥</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1611 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1611 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理创建密钥[使用标记' <span class="italic">标记</span> '] IDENTIFIED BY <span class="italic">keystore_password</span> [WITH BACKUP [ <span class="italic">USING'backup_identifier</span> ']] [CONTAINER =（ALL | CURRENT）];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1630" headers="d45546e1303 ">
                                 <p>激活主加密密钥</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1630 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1630 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理使用密钥' <span class="italic">key_identifier</span> '[使用标签' <span class="italic">标签</span> ']通过<span class="italic">keystore_password</span>标识[WITH BACKUP [使用' <span class="italic">backup_identifier</span> ']];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1652" headers="d45546e1303 ">
                                 <p>为主加密密钥创建自定义标记</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1652 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1652 d45546e1309 "><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理设置标记' <span class="italic">标记</span> ' <span class="italic">FOR'master_key_identifier</span> '标识为<span class="italic">keystore_password</span> [WITH BACKUP [ <span class="italic">USING'backup_identifier</span> ']];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1674" headers="d45546e1303 ">
                                 <p>导出主加密密钥</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1674 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1674 d45546e1309 "><pre class="oac_no_warn" dir="ltr">管理员密钥管理导出[加密]密钥“ <span class="italic">export_secret</span> ”到“ <span class="italic">file_path</span> ”由<span class="italic">software_keystore_password</span>识别[WITH IDENTIFIER <span class="italic">IN'key_id1</span> '，' <span class="italic">key_id2</span> '，' <span class="italic">key_idn</span> '| （ <span class="italic">SQL_query</span> ）]</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1706" headers="d45546e1303 ">
                                 <p>导入主加密密钥</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1706 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1706 d45546e1309 "><pre class="oac_no_warn" dir="ltr">管理员密钥管理导入[加密]密钥为“ <span class="italic">import_secret</span> ”| <span class="italic">FROM'file_name</span> '由<span class="italic">software_keystore_password</span>标识[WITH BACKUP [ <span class="italic">USING'backup_identifier</span> ']];</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d45546e1728" headers="d45546e1303 ">
                                 <p>将Oracle数据库机密存储在密钥库中</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d45546e1728 d45546e1306 ">
                                 <p>无法使用</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d45546e1728 d45546e1309 ">
                                 <p>对于软件密钥库：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理添加秘密|更新秘密|删除秘密“ <span class="italic">秘密</span> ”为客户' <span class="italic">client_identifier</span> '[使用标签' <span class="italic">标签</span> ']由<span class="italic">keystore_password</span>识别[WITH BACKUP [使用' <span class="italic">backup_identifier</span> '];</pre><p>对于硬件密钥库：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理添加秘密|更新秘密|删除秘密“ <span class="italic">秘密</span> ”为客户' <span class="italic">client_identifier</span> '[使用标签' <span class="italic">标签</span> ']标识为“ <span class="italic">user_name</span> ： <span class="italic">password</span> ”[WITH BACKUP [ <span class="italic">USING'backup_identifier</span> '];</pre></td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="使用透明数据加密时，应考虑安全性，性能和存储开销等因素。">使用透明数据加密的一般注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10447"></a><div class="props_rev_3"><a id="GUID-5600990E-F520-4F10-BF68-63756E595262" name="GUID-5600990E-F520-4F10-BF68-63756E595262"></a><h3 id="ASOAG-GUID-5600990E-F520-4F10-BF68-63756E595262" class="sect3">使用透明数据加密和PKI加密</h3>
               <div>
                  <p>PKI加密已弃用，但如果您仍在使用它，则必须考虑几个问题。</p>
                  <div class="infoboxnote" id="GUID-5600990E-F520-4F10-BF68-63756E595262__GUID-F51266EE-499D-43D0-B1D0-C84E1E6E0796">
                     <p class="notep1">注意：</p>
                     <p>不推荐使用PKI加密和透明数据加密。要配置透明数据加密，请使用<code class="codeph">ADMINISTER KEY MANAGEMENT</code> SQL语句。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-EE33CECD-B9A6-4996-8E87-612DBF60E489">软件主加密密钥与PKI密钥对一起使用</a><br>主加密密钥可以是指定用于加密的PKI证书的现有密钥对。
                     </li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-4A7209B9-0B3E-424E-AAE2-DE635D3AACD7">具有PKI加密的TDE表空间和硬件密钥库</a><br>PKI加密是一种加密系统，它使用两个密钥（公钥和私钥）来加密数据。
                     </li>
                     <li class="ulchildlink"><a href="general-considerations-of-using-transparent-data-encryption.html#GUID-72A07686-B782-40E3-99A6-9EF8E885EE87">备份和恢复PKI密钥对</a><br>对于软件密钥库，透明数据加密支持使用PKI非对称密钥对作为列加密的主加密密钥。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="使用透明数据加密时，应考虑安全性，性能和存储开销等因素。">使用透明数据加密的一般注意事项</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10448"></a><div class="props_rev_3"><a id="GUID-EE33CECD-B9A6-4996-8E87-612DBF60E489" name="GUID-EE33CECD-B9A6-4996-8E87-612DBF60E489"></a><h4 id="ASOAG-GUID-EE33CECD-B9A6-4996-8E87-612DBF60E489" class="sect4">软件主加密密钥与PKI密钥对一起使用</h4>
                  <div>
                     <p>主加密密钥可以是指定用于加密的PKI证书的现有密钥对。</p>
                     <p>请注意以下事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果您已在组织中部署PKI，则可以使用PKI服务，例如密钥托管和恢复。但是，使用当前PKI算法的加密比对称密钥加密需要更多的系统资源。在访问数据库中的加密列时，使用PKI密钥对作为主加密密钥可能会导致性能下降。</p>
                        </li>
                        <li>
                           <p>对于基于PKI的密钥，不会强制执行证书吊销列表，因为强制执行证书吊销可能会导致无法访问数据库中的所有加密信息。但是，您无法使用相同的证书再次创建主加密密钥。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-5600990E-F520-4F10-BF68-63756E595262" title="PKI加密已弃用，但如果您仍在使用它，则必须考虑几个问题。">使用透明数据加密和PKI加密</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10449"></a><div class="props_rev_3"><a id="GUID-4A7209B9-0B3E-424E-AAE2-DE635D3AACD7" name="GUID-4A7209B9-0B3E-424E-AAE2-DE635D3AACD7"></a><h4 id="ASOAG-GUID-4A7209B9-0B3E-424E-AAE2-DE635D3AACD7" class="sect4">具有PKI加密的TDE表空间和硬件密钥库</h4>
                  <div>
                     <p>PKI加密是一种加密系统，它使用两个密钥（公钥和私钥）来加密数据。</p>
                     <p></p>
                     <p>您不能将基于PKI的加密与TDE表空间加密或硬件密钥库一起使用。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-5600990E-F520-4F10-BF68-63756E595262" title="PKI加密已弃用，但如果您仍在使用它，则必须考虑几个问题。">使用透明数据加密和PKI加密</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG9547"></a><div class="props_rev_3"><a id="GUID-72A07686-B782-40E3-99A6-9EF8E885EE87" name="GUID-72A07686-B782-40E3-99A6-9EF8E885EE87"></a><h4 id="ASOAG-GUID-72A07686-B782-40E3-99A6-9EF8E885EE87" class="sect4">备份和恢复PKI密钥对</h4>
                  <div>
                     <p>对于软件密钥库，透明数据加密支持使用PKI非对称密钥对作为列加密的主加密密钥。</p>
                     <p>这使数据库能够使用领先的证书颁发机构供应商提供的现有密钥备份，托管和恢复功能。</p>
                     <p>在当前密钥托管或恢复系统中，具有密钥恢复功能的证书颁发机构通常存储私钥的版本或帮助恢复私钥的一条信息。如果私钥丢失，则可以通过联系证书颁发机构并启动密钥恢复过程来恢复原始密钥和证书。</p>
                     <p>通常，密钥恢复过程是自动的，并且要求用户向证书颁发机构提供某些认证凭证。除了恢复的密钥及其相关证书是可以导入密钥库的PKCS＃12文件之外，TDE对密钥恢复过程没有任何限制。此要求与主要证书颁发机构的密钥恢复机制一致。</p>
                     <p>获取具有原始证书和私钥的PKCS＃12文件后，必须在与前一个密钥库相同的位置创建一个空密钥库。然后，您可以使用相同的实用程序将PKCS＃12文件导入新的密钥库。选择一个强密码来保护密钥库。</p>
                     <p>使用<code class="codeph">ADMINISTER KEY MANAGEMENT</code>语句创建密钥库并导入正确的加密密钥后，登录到数据库并在SQL提示符下运行以下<code class="codeph">ALTER SYSTEM</code>语句以完成恢复过程：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET ENCRYPTION键“ <span class="italic">cert_id</span> ”由<span class="italic">keystore_password</span>标识;</pre><p>在本规范中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic"><code class="codeph">cert_id</code></span>是要用作主加密密钥的证书的证书ID。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><code class="codeph">keystore_password</code></span>是您创建的密码。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-72A07686-B782-40E3-99A6-9EF8E885EE87__GUID-EEB13062-BFCE-4E8D-9502-1E53CB8BD64D">
                        <p class="notep1">注意：</p>
                        <p>必须使用<code class="codeph">ALTER SYSTEM</code>语句仅为PKI密钥对重新生成加密密钥。此限制不适用于非PKI加密密钥。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-5600990E-F520-4F10-BF68-63756E595262" title="PKI加密已弃用，但如果您仍在使用它，则必须考虑几个问题。">使用透明数据加密和PKI加密</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-A29FA261-ECDB-4B99-A864-8FFD95568813" name="GUID-A29FA261-ECDB-4B99-A864-8FFD95568813"></a><h3 id="ASOAG-GUID-A29FA261-ECDB-4B99-A864-8FFD95568813" class="sect3">数据从外部文件加载到具有加密列的表</h3>
               <div>
                  <p>您可以使用SQL * Loader执行从文件到具有加密列的表的数据加载。</p>
                  <p>请注意，使用SQL * Loader时，不能在<code class="codeph">ORACLE_LOADER</code>类型的外部表的列定义中包含<code class="codeph">ENCRYPT</code>子句，但可以将其包含在<code class="codeph">ORACLE_DATAPUMP</code>类型的外部表的列定义中。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ORACLE_LOADER</code>类型的外部表</p>
                        <p>您不能在<code class="codeph">ORACLE_LOADER</code>类型的外部表的列定义中包含<code class="codeph">ENCRYPT</code>子句的原因是因为具有<code class="codeph">ORACLE_LOADER</code>类型的外部表的内容必须来自用户指定的明文“后备文件”，并且此类纯文本文件不能包含任何TDE加密数据。
                        </p>
                        <p>如果在<code class="codeph">ORACLE_LOADER</code>类型的外部表的定义中使用<code class="codeph">ENCRYPT</code>子句，则在查询此外部表中的TDE加密列时，查询将失败。这是因为TDE期望外部数据已加密，并在加载时自动尝试解密。此操作失败，因为“后备文件”仅包含明文。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">ORACLE_DATAPUMP</code>类型的外部表</p>
                        <p>您可以对<code class="codeph">ORACLE_DATAPUMP</code>类型的外部表使用TDE列加密。这是因为对于<code class="codeph">ORACLE_DATAPUMP</code>类型的外部表，“后备文件”始终由Oracle数据库创建（在卸载操作期间），因此支持填充加密数据。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="使用透明数据加密时，应考虑安全性，性能和存储开销等因素。">使用透明数据加密的一般注意事项</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-A637AB50-2A54-4248-8DC2-F50729C38B97" name="GUID-A637AB50-2A54-4248-8DC2-F50729C38B97"></a><h3 id="ASOAG-GUID-A637AB50-2A54-4248-8DC2-F50729C38B97" class="sect3">透明数据加密和数据库关闭操作</h3>
               <div>
                  <p>在关闭数据库之前，应确保打开软件或硬件密钥库。</p>
                  <p>在数据库关闭操作期间可能需要主加密密钥。数据库关闭操作会自动关闭软件或硬件密钥库。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="configuring-transparent-data-encryption.html#GUID-37296947-18DB-4CFA-A112-794A55E942E2" title="根据您创建的密钥库的类型，您必须先手动打开密钥库，然后才能使用它。">第3步：打开软件密钥库</a></li>
                        <li><a href="configuring-transparent-data-encryption.html#GUID-4FBC5088-A045-4306-88C0-FEBC07CA18AC" title="配置硬件安全模块后，必须先打开硬件密钥库，然后才能使用它。">第3步：打开硬件密钥库</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="general-considerations-of-using-transparent-data-encryption.html#GUID-F02C9CBF-0374-408B-8655-F7531B681D41" title="使用透明数据加密时，应考虑安全性，性能和存储开销等因素。">使用透明数据加密的一般注意事项</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>