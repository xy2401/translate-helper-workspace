<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML DB and its repository. You use the latter to perform other, non-configuration operations on the repository."></meta>
      <meta name="description" content="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML DB and its repository. You use the latter to perform other, non-configuration operations on the repository."></meta>
      <title>PL / SQL访问Oracle XML DB存储库</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML DB and its repository. You use the latter to perform other, non-configuration operations on the repository."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96222-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="resource-versions.html" title="Previous" type="text/html"></link>
      <link rel="next" href="repository-access-control.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDB"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="resource-versions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="repository-access-control.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-repository.html" property="item" typeof="WebPage"><span property="name">Oracle XML DB存储库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">PL / SQL访问Oracle XML DB存储库</li>
            </ol>
            <a id="GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" name="GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C"></a><a id="ADXDB2300"></a>
            
            <h2 id="ADXDB-GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" class="sect2"><span class="enumeration_chapter">26</span>对Oracle XML DB存储库的PL / SQL访问</h2>
         </header>
         <div class="ind">
            <div>
               <p>PL / SQL包<code class="codeph">DBMS_XDB_CONFIG</code>和<code class="codeph">DBMS_XDB_REPOS</code>一起为PL / SQL提供Oracle XML DB资源应用程序接口（API）。您可以使用前者配置Oracle XML DB及其存储库。您使用后者在存储库上执行其他非配置操作。
               </p>
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="PLSQL-access-to-XML-DB-repository.html#GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610">DBMS_XDB_REPOS：访问和管理存储库资源</a><br>您可以使用PL / SQL包<code class="codeph">DBMS_XDB_REPOS</code>来访问和管理Oracle XML DB存储库中的资源。它包括基于访问控制列表（ACL）管理资源安全性的方法。ACL是访问控制条目（ACE）的列表，用于确定哪些主体（用户和角色）可以访问哪些资源。
                  </li>
                  <li class="ulchildlink"><a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE">DBMS_XDB_REPOS：基于ACL的安全管理</a><br>PL / SQL包<code class="codeph">DBMS_XDB_REPOS</code>提供基于Oracle XML DB ACL的安全管理功能和过程。
                  </li>
                  <li class="ulchildlink"><a href="PLSQL-access-to-XML-DB-repository.html#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89">DBMS_XDB_CONFIG：配置管理</a><br>PL / SQL包<code class="codeph">DBMS_XDB_CONFIG</code>提供Oracle XML DB配置管理功能和过程。
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" title="描述了XMLType的PL / SQL应用程序编程接口（API）。">XMLType的PL / SQL API：参考</a></li>
                     <li><a href="administration-of-XML-DB.html#GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232" title="PL / SQL包DBMS_XDB_ADMIN具有用于管理和配置Oracle XML DB和Oracle XML DB存储库的子程序。">包DBMS_XDB_ADMIN</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML DB Repository允许您对数据进行版本控制，实现和管理安全性，并使用API来访问和操作存储库资源。">Oracle XML DB存储库</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5441"></a><a id="ADXDB5442"></a><a id="ADXDB5440"></a><div class="props_rev_3"><a id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610" name="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610"></a><h3 id="ADXDB-GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610" class="sect3"><span class="enumeration_section">26.1</span> DBMS_XDB_REPOS：访问和管理存储库资源</h3>
               <div>
                  <p>您可以使用PL / SQL包<code class="codeph">DBMS_XDB_REPOS</code>来访问和管理Oracle XML DB存储库中的资源。它包括基于访问控制列表（ACL）管理资源安全性的方法。ACL是访问控制条目（ACE）的列表，用于确定哪些主体（用户和角色）可以访问哪些资源。
                  </p>
                  <div class="infoboxnotealso" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__GUID-9A70CF7F-7864-4BFB-BEF2-A4DF79880688">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../arpls/DBMS_XDB_REPOS.html#ARPLS74188" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                  </div>
                  <p><a href="PLSQL-access-to-XML-DB-repository.html#GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__CHDIAHGI" title="此表描述了DBMS_XDB资源管理方法。">表26-1</a>介绍了<code class="codeph">DBMS_XDB_REPOS</code>包中的功能和过程。</p>
                  <div class="tblformalwide" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__CHDIAHGI">
                     <p class="titleintable">表26-1 DBMS_XDB_REPOS资源访问和管理子程序</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_XDB_REPOS资源访问和管理子程序" width="100%" border="1" summary="This table describes DBMS_XDB resource management methods." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d128094e160">功能/程序</th>
                              <th align="left" valign="bottom" width="70%" id="d128094e163">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e168" headers="d128094e160 ">
                                 <p><code class="codeph">addResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e168 d128094e163 ">
                                 <p>将新文件资源插入存储库层次结构，并将给定字符串作为其内容。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e176" headers="d128094e160 ">
                                 <p><code class="codeph">appendResourceMetadata</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e176 d128094e163 ">
                                 <p>将用户定义的元数据添加到资源。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e184" headers="d128094e160 ">
                                 <p><code class="codeph">创建文件夹</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e184 d128094e163 ">
                                 <p>创建一个新的文件夹资源。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e192" headers="d128094e160 ">
                                 <p><code class="codeph">createOIDPath</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e192 d128094e163 ">
                                 <p>根据资源的对象标识符（OID）创建资源的虚拟路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e200" headers="d128094e160 ">
                                 <p><code class="codeph">createResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e200 d128094e163 ">
                                 <p>创建一个新的文件资源。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e208" headers="d128094e160 ">
                                 <p><code class="codeph">deleteResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e208 d128094e163 ">
                                 <p>从存储库中删除资源。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e216" headers="d128094e160 ">
                                 <p><code class="codeph">deleteResourceMetadata</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e216 d128094e163 ">
                                 <p>从资源中删除特定的用户定义元数据。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e225" headers="d128094e160 ">
                                 <p><code class="codeph">existsResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e225 d128094e163 ">
                                 <p>指定资源是否存在，给定其绝对路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e233" headers="d128094e160 ">
                                 <p><code class="codeph">getContentBLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e233 d128094e163 ">
                                 <p>将资源的内容作为<code class="codeph">BLOB</code>实例返回。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e244" headers="d128094e160 ">
                                 <p><code class="codeph">getContentVARCHAR2</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e244 d128094e163 ">
                                 <p>将资源的内容作为<code class="codeph">VARCHAR2</code>值返回。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e255" headers="d128094e160 ">
                                 <p><code class="codeph">getContentXMLRef</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e255 d128094e163 ">
                                 <p>返回资源的内容作为对<code class="codeph">XMLType</code>实例的引用。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e267" headers="d128094e160 ">
                                 <p><code class="codeph">getContentXMLType</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e267 d128094e163 ">
                                 <p>将资源的内容作为<code class="codeph">XMLType</code>实例返回。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e278" headers="d128094e160 ">
                                 <p><code class="codeph">getLockToken</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e278 d128094e163 ">
                                 <p>在给定资源路径的情况下，为当前用户返回资源锁定令牌。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e286" headers="d128094e160 ">
                                 <p><code class="codeph">getResOID</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e286 d128094e163 ">
                                 <p>给定其绝对路径，返回资源的对象标识符（OID）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e294" headers="d128094e160 ">
                                 <p><code class="codeph">的getResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e294 d128094e163 ">
                                 <p>返回位于存储库中给定路径的类<code class="codeph">DBMS_XDBRESOURCE.XDBResource</code>的实例。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e305" headers="d128094e160 ">
                                 <p><code class="codeph">getXDB_tablespace</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e305 d128094e163 ">
                                 <p>返回数据库模式（用户帐户） <code class="codeph">XDB</code>的当前表空间。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e316" headers="d128094e160 ">
                                 <p><code class="codeph">hasBLOBContent</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e316 d128094e163 ">
                                 <p>如果给定资源具有<code class="codeph">BLOB</code>内容，则返回<code class="codeph">TRUE</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e330" headers="d128094e160 ">
                                 <p><code class="codeph">hasCharContent</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e330 d128094e163 ">
                                 <p>如果给定资源具有字符内容，则返回<code class="codeph">TRUE</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e341" headers="d128094e160 ">
                                 <p><code class="codeph">hasXMLContent</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e341 d128094e163 ">
                                 <p>如果给定资源具有<code class="codeph">XMLType</code>内容，则返回<code class="codeph">TRUE</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e355" headers="d128094e160 ">
                                 <p><code class="codeph">hasXMLReference</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e355 d128094e163 ">
                                 <p>如果给定资源具有对<code class="codeph">XMLType</code>内容的引用，则返回<code class="codeph">TRUE</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e369" headers="d128094e160 ">
                                 <p><code class="codeph">isFolder</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e369 d128094e163 ">
                                 <p>如果给定资源是文件夹，则返回<code class="codeph">TRUE</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e380" headers="d128094e160 ">
                                 <p><code class="codeph">链接</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e380 d128094e163 ">
                                 <p>创建指向现有资源的链接。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e389" headers="d128094e160 ">
                                 <p><code class="codeph">lockResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e389 d128094e163 ">
                                 <p>在给定资源路径的情况下，获取资源上的WebDAV样式锁。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e397" headers="d128094e160 ">
                                 <p><code class="codeph">processLinks</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e397 d128094e163 ">
                                 <p>处理文档或文件夹中的所有XLink（ <span class="italic">不建议使用</span> ）和XInclude链接。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e408" headers="d128094e160 ">
                                 <p><code class="codeph">purgeResourceMetadata</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e408 d128094e163 ">
                                 <p>从给定资源中删除所有用户定义的元数据。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e416" headers="d128094e160 ">
                                 <p><code class="codeph">refreshContentSize</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e416 d128094e163 ">
                                 <p>重新计算给定资源的内容大小。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e424" headers="d128094e160 ">
                                 <p><code class="codeph">renameResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e424 d128094e163 ">
                                 <p>重命名给定资源。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e432" headers="d128094e160 ">
                                 <p><code class="codeph">touchResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e432 d128094e163 ">
                                 <p>将上次修改时间更改为当前时间。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e440" headers="d128094e160 ">
                                 <p><code class="codeph">unlockResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e440 d128094e163 ">
                                 <p>解锁资源，给定其锁定令牌和路径。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e448" headers="d128094e160 ">
                                 <p><code class="codeph">updateResourceMetadata</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e448 d128094e163 ">
                                 <p>修改用户定义的资源元数据。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a href="PLSQL-access-to-XML-DB-repository.html#GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__I1028471">例26-1</a>使用包<code class="codeph">DBMS_XDB_REPOS</code>来管理存储库资源。它创建了以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>文件夹<code class="codeph">/public</code>下的文件夹<code class="codeph">mydocs</code></p>
                     </li>
                     <li>
                        <p>两个文件资源， <code class="codeph">emp_selby.xml</code>和<code class="codeph">emp_david.xml</code></p>
                     </li>
                     <li>
                        <p>指向文件资源<code class="codeph">person_selby.xml</code>和<code class="codeph">person_david.xml</code>两个链接</p>
                     </li>
                  </ul>
                  <p>然后删除每个新创建的资源和链接。文件夹内容在文件夹本身之前被删除。</p>
                  <div class="infoboxnotealso" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__GUID-7F794D70-9976-421A-9B6D-DF9D230809D8">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="您可以创建自己的元数据以与存储在Oracle XML DB Repository中的XML数据相关联。">用户定义的存储库元数据，</a>用于使用<code class="codeph">appendResourceMetadata</code>和<code class="codeph">deleteResourceMetadata</code>示例</p>
                  </div>
                  <div class="example" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__I1028471">
                     <p class="titleinexample">示例26-1使用DBMS_XDB_REPOS管理资源</p><pre class="oac_no_warn" dir="ltr">DECLARE retb BOOLEAN; BEGIN retb：= DBMS_XDB_REPOS.createfolder（'/ public / mydocs'）; retb：= DBMS_XDB_REPOS.createresource（'/ public / mydocs / emp_selby.xml'，'&lt;emp_name&gt; selby &lt;/ emp_name&gt;'）; retb：= DBMS_XDB_REPOS.createresource（'/ public / mydocs / emp_david.xml'，'&lt;emp_name&gt; david &lt;/ emp_name&gt;'）;结束; / PL / SQL过程成功完成。CALL DBMS_XDB_REPOS.link（'/ public / mydocs / emp_selby.xml'，'/ public / mydocs'，'person_selby.xml'）;通话完成。CALL DBMS_XDB_REPOS.link（'/ public / mydocs / emp_david.xml'，'/ public / mydocs'，'person_david.xml'）;通话完成。CALL DBMS_XDB_REPOS.deleteresource（'/ public / mydocs / emp_selby.xml'）;通话完成。CALL DBMS_XDB_REPOS.deleteresource（'/ public / mydocs / person_selby.xml'）;通话完成。CALL DBMS_XDB_REPOS.deleteresource（'/ public / mydocs / emp_david.xml'）;通话完成。CALL DBMS_XDB_REPOS.deleteresource（'/ public / mydocs / person_david.xml'）;通话完成。CALL DBMS_XDB_REPOS.deleteresource（'/ public / mydocs'）;通话完成。</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="PLSQL-access-to-XML-DB-repository.html#GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" title="PL / SQL包DBMS_XDB_CONFIG和DBMS_XDB_REPOS一起为PL / SQL提供Oracle XML DB资源应用程序接口（API）。您可以使用前者配置Oracle XML DB及其存储库。您使用后者在存储库上执行其他非配置操作。">对XML XML DB存储库的PL / SQL访问</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5444"></a><a id="ADXDB5445"></a><a id="ADXDB5446"></a><a id="ADXDB5447"></a><a id="ADXDB5448"></a><a id="ADXDB5443"></a><div class="props_rev_3"><a id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE" name="GUID-9560B205-943B-4159-9734-44B9B74F2ACE"></a><h3 id="ADXDB-GUID-9560B205-943B-4159-9734-44B9B74F2ACE" class="sect3"><span class="enumeration_section">26.2</span> DBMS_XDB_REPOS：基于ACL的安全管理</h3>
               <div>
                  <p>PL / SQL包<code class="codeph">DBMS_XDB_REPOS</code>提供基于Oracle XML DB ACL的安全管理功能和过程。
                  </p>
                  <div class="tblformal" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__G1029223">
                     <p class="titleintable">表26-2 DBMS_XDB_REPOS：安全管理子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_XDB_REPOS：安全管理子程序" width="100%" border="1" summary="This table describes DBMS_XDB security management methods." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d128094e565">功能/程序</th>
                              <th align="left" valign="bottom" width="73%" id="d128094e568">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e573" headers="d128094e565 ">
                                 <p><code class="codeph">ACLCheckPrivileges</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e573 d128094e568 ">
                                 <p>检查ACL授予当前用户的访问权限。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e581" headers="d128094e565 ">
                                 <p><code class="codeph">changeOwner</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e581 d128094e568 ">
                                 <p>将给定资源的所有者更改为给定用户。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e589" headers="d128094e565 ">
                                 <p><code class="codeph">changePrivileges</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e589 d128094e568 ">
                                 <p>将ACE添加到资源ACL。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e597" headers="d128094e565 ">
                                 <p><code class="codeph">checkPrivileges</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e597 d128094e568 ">
                                 <p>检查授予当前用户资源的访问权限。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e605" headers="d128094e565 ">
                                 <p><code class="codeph">getACLDocument</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e605 d128094e568 ">
                                 <p>在给定资源的路径名的情况下，返回保护资源的ACL文档。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e613" headers="d128094e565 ">
                                 <p><code class="codeph">getPrivileges</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e613 d128094e568 ">
                                 <p>返回授予当前用户资源的所有权限。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e621" headers="d128094e565 ">
                                 <p><code class="codeph">SETACL</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e621 d128094e568 ">
                                 <p>设置资源的ACL。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__GUID-CAF9EC0D-56C1-45B9-ABA1-467D7FC03B06">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../arpls/DBMS_XDB.html#ARPLS371" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                  </div>
                  <p>在<a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__I1028509">例26-2中</a> ，数据库用户<code class="codeph">HR</code>创建了两个资源：一个文件夹， <code class="codeph">/public/mydocs</code> ，其中包含一个文件<code class="codeph">emp_selby.xml</code> 。在文件资源上调用过程<code class="codeph">getACLDocument</code> ，表明该文档的<code class="codeph">&lt;principal&gt;</code>用户是<code class="codeph">PUBLIC</code> 。</p>
                  <p>在<a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBEHIFI">例26-3中</a> ，系统管理器连接并使用过程<code class="codeph">setACL</code>为所有者（数据库模式<code class="codeph">HR</code> ）授予对<a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__I1028509">例26-2中</a>创建的文件资源的所有特权。然后，程序<code class="codeph">getACLDocument</code>显示<code class="codeph">&lt;principal&gt;</code>用户是<code class="codeph">dav:owner</code> ，所有者（ <code class="codeph">HR</code> ）。
                  </p>
                  <p>在<a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBFGHDC">示例26-4中</a> ，用户<code class="codeph">HR</code>连接并使用函数<code class="codeph">changePrivileges</code>向ACL添加新的访问控制条目（ACE），这为资源<code class="codeph">emp_selby.xml</code>对用户<code class="codeph">oe</code>所有权限。过程<code class="codeph">getACLDocument</code>显示新ACE已添加到ACL。</p>
                  <p>在<a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBIEDGA">例26-5中</a> ，用户<code class="codeph">oe</code>连接并调用<code class="codeph">DBMS_XDB_REPOS.getPrivileges</code> ，它显示了在资源<code class="codeph">emp_selby.xml</code>上授予用户<code class="codeph">oe</code>所有权限。
                  </p>
                  <div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__I1028509">
                     <p class="titleinexample">示例26-2使用DBMS_XDB_REPOS.GETACLDOCUMENT</p><pre class="pre codeblock"><code>CONNECT hr输入密码： <span class="italic">密码</span>已连接。DECLARE retb BOOLEAN; BEGIN retb：= DBMS_XDB_REPOS.createFolder（'/ public / mydocs'）; retb：= DBMS_XDB_REPOS.createResource（'/ public / mydocs / emp_selby.xml'，'&lt;emp_name&gt; selby &lt;/ emp_name&gt;'）;结束; / PL / SQL过程成功完成。SELECT ResultSet.getString（column DOCUMENT DBMS_XDB_REPOS <span class="bold">getACLDocument（</span> '/public/mydocs/emp_selby.xml'）AS CLOB。）FROM DUAL; XMLSERIALIZE（DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT（'/ PUBLIC / MYDOCS / EMP_SELBY.XML ----------------------------------- --------------------------------------------- &lt;acl description =“公共：PUBLIC的所有权限“xmlns =”http://xmlns.oracle.co m / xdb / acl.xsd“xmlns：xsi =”http://www.w3.org/2001/XMLSchema-instance“xsi： schemaL ocation =“http://xmlns.oracle.com/xdb/acl.xsd http：// xm lns.oracle.com/xdb/acl.xsd”shared =“true”&gt; &lt;ace&gt; &lt;grant&gt; true &lt; / grant&gt; &lt;principal&gt; <span class="bold">PUBLIC</span> &lt;/ principal&gt; &lt;privilege&gt; &lt;all /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ acl&gt;选择了1行。</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBEHIFI">
                     <p class="titleinexample">示例26-3使用DBMS_XDB_REPOS.SETACL</p><pre class="pre codeblock"><code>连接系统输入密码： <span class="italic">密码</span>已连接。- 为所有者HR提供所有权限。 CALL DBMS_XDB_REPOS。 <span class="bold">setACL</span> （'/ <span class="bold">public</span> / <span class="bold">mydocs</span> / emp_selby.xml'，'/ sys / <span class="bold">acls</span> / <span class="bold">all_owner_acl</span> .xml'）;通话完成。承诺;提交完成。SELECT ResultSet.getString（column DOCUMENT DBMS_XDB_REPOS <span class="bold">getACLDocument（</span> '/public/mydocs/emp_selby.xml'）AS CLOB。）FROM DUAL; XMLSERIALIZE（DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT（'/ PUBLIC / MYDOCS / EMP_SELBY.XML ----------------------------------- --------------------------------------------- &lt;acl description =“私有：仅限OWNER的所有权限，并且其他人无法访问“xmlns =”http://xmlns.oracle.com/xdb/acl.xsd“xmlns：dav =”DAV：“xmlns：xsi =”htt p：/ /www.w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com / xdb / acl.xsd http://xmlns.oracle.com/xdb/acl.xsd“分享了=“true”&gt; &lt;ace&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; <span class="bold">dav：owner</span> &lt;/ principal&gt; &lt;privilege&gt; &lt;all /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; &lt;/ acl&gt;选择1行。
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBFGHDC">
                     <p class="titleinexample">示例26-4使用DBMS_XDB_REPOS.CHANGEPRIVILEGES</p><pre class="pre codeblock"><code>CONNECT hr输入密码： <span class="italic">密码</span>已连接。SET SERVEROUTPUT ON  - 添加一个ACE，为用户提供权限OE DECLARE r PLS_INTEGER; ace XMLType; ace_data VARCHAR2（2000）; BEGIN ace_data：='&lt;ace xmlns =“http://xmlns.oracle.com/xdb/acl.xsd”xmlns：xsi =“http://www.w3.org/2001/XMLSchema-instance”xsi：schemaLocation =“http://xmlns.oracle.com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd DAV：http：//xmlns.oracle.com/xdb/dav.xsd” &gt; &lt;principal&gt; <span class="bold">OE</span> &lt;/ principal&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;privilege&gt; &lt; <span class="bold">all /&gt;</span> &lt;/ privilege&gt; &lt;/ ace&gt;'; ace：= XMLType.createXML（ace_data）; r：= DBMS_XDB_REPOS。 <span class="bold">changePrivileges</span> （'/ public /mydocs / emp_selby.xml'，ace）;结束; / PL / SQL过程成功完成。承诺; SELECT ResultSet.getString（column DOCUMENT DBMS_XDB_REPOS <span class="bold">getACLDocument（</span> '/public/mydocs/emp_selby.xml'）AS CLOB。）FROM DUAL; XMLSERIALIZE（DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT（'/ PUBLIC / MYDOCS / EMP_SELBY.XML ----------------------------------- --------------------------------------------- &lt;acl description =“私有：仅限OWNER的所有权限，并且其他人无法访问“xmlns =”http://xmlns.oracle.com/xdb/acl.xsd“xmlns：dav =”DAV：“xmlns：xsi =”htt p：/ /www.w3.org/2001/XMLSchema-instance”的xsi：的schemaLocation = “http://xmlns.oracle COM / XDB / acl.xsd http://xmlns.oracle.com/xdb/acl.xsd” <span class="bold">S</span> <span class="bold">hared =“false”</span> &gt; &lt;ace&gt; &lt;grant&gt; true &lt;/ grant&gt; &lt;principal&gt; dav：owner &lt;/ principal&gt; &lt;privilege&gt; &lt;all /&gt; &lt;/ privilege&gt; &lt;/ ace&gt; <span class="bold">&lt;ace&gt;</span> <span class="bold">&lt;grant&gt; true &lt; / grant&gt;</span> <span class="bold">&lt;principal&gt; OE &lt;/ principal&gt;</span> <span class="bold">&lt;privilege&gt;</span> <span class="bold">&lt;all /&gt;</span> <span class="bold">&lt;/ privilege&gt;</span> <span class="bold">&lt;/ ace&gt;</span> &lt;/ acl&gt;选择了1行。
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBIEDGA">
                     <p class="titleinexample">示例26-5使用DBMS_XDB_REPOS.GETPRIVILEGES</p><pre class="pre codeblock"><code>CONNECT oe输入密码： <span class="italic">密码</span>已连接。SELECT XMLSerialize来FROM DUAL（DOCUMENT DBMS_XDB_REPOS <span class="bold">getPrivileges（</span> '/public/mydocs/emp_selby.xml'）AS CLOB。）; XMLSERIALIZE（DOCUMENTDBMS_XDB_REPOS.GETPRIVILEGES（'/ PUBLIC / MYDOCS / EMP_SELBY.XML'---------------------------------- ---------------------------------------------- &lt;privilege xmlns = “http://xmlns.oracle.com/xdb/acl.xsd”xmlns：xsi =“http：//www.w3..org / 2001 / XMLSchema-instance”xsi：schemaLocation =“http://xmlns.oracle .com / xdb / acl .xsd http://xmlns.oracle.com/xdb/acl.xsd DAV：http：//xmlns.oracle.com/xdb/dav.xs d“xmlns：xdbacl =”http：/ /xmlns.oracle.com/xdb/acl.xsd“xmlns：dav =”DAV：“&gt; &lt;read-properties /&gt; &lt;read-contents /&gt; &lt;write-config /&gt; &lt;link /&gt; &lt;unlink /&gt; &lt;read -acl /&gt; &lt;write-acl-ref /&gt; &lt;update-acl /&gt; &lt;resolve /&gt; &lt;link-to /&gt; &lt;unlink-from /&gt; &lt;dav：lock /&gt; &lt;dav：unlock /&gt; &lt;dav：write -properties /&gt; &lt;dav：write-content /&gt; &lt;dav：execute /&gt; &lt;dav：take-ownership /&gt; &lt;dav：read-current-user-privilege-set /&gt; &lt;/ privilege&gt;选择1行。</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="PLSQL-access-to-XML-DB-repository.html#GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" title="PL / SQL包DBMS_XDB_CONFIG和DBMS_XDB_REPOS一起为PL / SQL提供Oracle XML DB资源应用程序接口（API）。您可以使用前者配置Oracle XML DB及其存储库。您使用后者在存储库上执行其他非配置操作。">对XML XML DB存储库的PL / SQL访问</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5450"></a><a id="ADXDB5451"></a><a id="ADXDB5452"></a><a id="ADXDB5449"></a><div class="props_rev_3"><a id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89" name="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89"></a><h3 id="ADXDB-GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89" class="sect3"><span class="enumeration_section">26.3</span> DBMS_XDB_CONFIG：配置管理</h3>
               <div>
                  <p>PL / SQL包<code class="codeph">DBMS_XDB_CONFIG</code>提供Oracle XML DB配置管理功能和过程。
                  </p>
                  <div class="infoboxnote" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__GUID-687BE47D-11A3-4E31-956B-05EB6EBE9185">
                     <p class="notep1">注意：</p>
                     <p>Oracle建议您使用PL / SQL包<code class="codeph">DBMS_XDB_CONFIG</code>来设置或更改FTP或HTTP端口号。<span class="italic">不要</span>通过直接编辑配置文件设置端口<code class="codeph">xdbconfig.xml</code></p>
                  </div>
                  <div class="tblformalwide" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__G1029248">
                     <p class="titleintable">表26-3 DBMS_XDB_CONFIG：配置管理子程序</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_XDB_CONFIG：配置管理子程序" width="100%" border="1" summary="The first column lists DBMS_XDB_CONFIG subprograms. The second column lists their descriptions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d128094e887">子程序</th>
                              <th align="left" valign="bottom" width="67%" id="d128094e890">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e895" headers="d128094e887 ">
                                 <p><code class="codeph">addHTTPExpireMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e895 d128094e890 ">
                                 <p>将URL模式到过期日期的映射添加到表<code class="codeph">XDB$CONFIG</code> 。映射控制与模式匹配的URL的<code class="codeph">Expire</code>标头。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e909" headers="d128094e887 ">
                                 <p><code class="codeph">addMIMEMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e909 d128094e890 ">
                                 <p>将MIME映射添加到表<code class="codeph">XDB$CONFIG</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e920" headers="d128094e887 ">
                                 <p><code class="codeph">addSchemaLocMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e920 d128094e890 ">
                                 <p>将模式位置映射添加到表<code class="codeph">XDB$CONFIG</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e931" headers="d128094e887 ">
                                 <p><code class="codeph">addServlet</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e931 d128094e890 ">
                                 <p>将servlet添加到表<code class="codeph">XDB$CONFIG</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e942" headers="d128094e887 ">
                                 <p><code class="codeph">addServletMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e942 d128094e890 ">
                                 <p>将servlet映射添加到表<code class="codeph">XDB$CONFIG</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e953" headers="d128094e887 ">
                                 <p><code class="codeph">addServletSecRole</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e953 d128094e890 ">
                                 <p>向servlet添加安全角色引用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e961" headers="d128094e887 ">
                                 <p><code class="codeph">addXMLExtension</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e961 d128094e890 ">
                                 <p>向表<code class="codeph">XDB$CONFIG</code>添加XML扩展。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e972" headers="d128094e887 ">
                                 <p><code class="codeph">cfg_get</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e972 d128094e890 ">
                                 <p>返回当前会话的配置信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e980" headers="d128094e887 ">
                                 <p><code class="codeph">cfg_refresh</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e980 d128094e890 ">
                                 <p>使用当前Oracle XML DB配置文件<code class="codeph">xdbconfig.xml</code>刷新会话配置信息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e991" headers="d128094e887 ">
                                 <p><code class="codeph">cfg_update</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e991 d128094e890 ">
                                 <p>更新Oracle XML DB配置信息。这将写入配置文件<code class="codeph">xdbconfig.xml</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1002" headers="d128094e887 ">
                                 <p><code class="codeph">deleteHTTPExpireMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1002 d128094e890 ">
                                 <p>从表<code class="codeph">XDB$CONFIG</code>删除给定URL模式的<span class="italic">所有</span>映射到到期日期。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1017" headers="d128094e887 ">
                                 <p><code class="codeph">deleteMIMEMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1017 d128094e890 ">
                                 <p>从表<code class="codeph">XDB$CONFIG</code>删除MIME映射。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1028" headers="d128094e887 ">
                                 <p><code class="codeph">deleteSchemaLocMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1028 d128094e890 ">
                                 <p>从表<code class="codeph">XDB$CONFIG</code>删除模式位置映射。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1039" headers="d128094e887 ">
                                 <p><code class="codeph">deleteServlet</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1039 d128094e890 ">
                                 <p>从表<code class="codeph">XDB$CONFIG</code>删除一个servlet。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1050" headers="d128094e887 ">
                                 <p><code class="codeph">deleteServletMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1050 d128094e890 ">
                                 <p>从表<code class="codeph">XDB$CONFIG</code>删除servlet映射。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1061" headers="d128094e887 ">
                                 <p><code class="codeph">deleteServletSecRole</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1061 d128094e890 ">
                                 <p>从servlet中删除安全角色引用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1069" headers="d128094e887 ">
                                 <p><code class="codeph">deleteXMLExtension</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1069 d128094e890 ">
                                 <p>从表<code class="codeph">XDB$CONFIG</code>删除XML扩展。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1080" headers="d128094e887 ">
                                 <p><code class="codeph">启用摘要式验证</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1080 d128094e890 ">
                                 <p>启用摘要式验证。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1088" headers="d128094e887 ">
                                 <p><code class="codeph">getFTPPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1088 d128094e890 ">
                                 <p>返回当前的FTP端口号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1096" headers="d128094e887 ">
                                 <p><code class="codeph">getHTTPConfigRealm</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1096 d128094e890 ">
                                 <p>返回HTTP配置域。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1104" headers="d128094e887 ">
                                 <p><code class="codeph">getHTTPPort</code> ， <code class="codeph">getHTTPSPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1104 d128094e890 ">
                                 <p>返回当前的HTTP（S）端口号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1115" headers="d128094e887 ">
                                 <p><code class="codeph">getListenerEndPoint</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1115 d128094e890 ">
                                 <p>返回HTTP服务器的侦听器端点的参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1124" headers="d128094e887 ">
                                 <p><code class="codeph">GetRemoteHTTPPort</code> ， <code class="codeph">GetRemoteHTTPSPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1124 d128094e890 ">
                                 <p>返回当前远程HTTP（S）端口的编号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1135" headers="d128094e887 ">
                                 <p><code class="codeph">setFTPPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1135 d128094e890 ">
                                 <p>将Oracle XML DB FTP端口设置为指定的端口号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1143" headers="d128094e887 ">
                                 <p><code class="codeph">setHTTPConfigRealm</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1143 d128094e890 ">
                                 <p>设置HTTP配置域。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1151" headers="d128094e887 ">
                                 <p><code class="codeph">setHTTPPort</code> ， <code class="codeph">setHTTPSPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1151 d128094e890 ">
                                 <p>将Oracle XML DB HTTP（S）端口设置为指定的端口号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1162" headers="d128094e887 ">
                                 <p><code class="codeph">setListenerEndPoint</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1162 d128094e890 ">
                                 <p>设置HTTP服务器的侦听器端点的参数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1170" headers="d128094e887 ">
                                 <p><code class="codeph">setListenerLocalAccess</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1170 d128094e890 ">
                                 <p>（a）限制所有侦听器端点仅侦听<code class="codeph">localhost</code>接口或（b）允许所有侦听器端点侦听<code class="codeph">localhost</code>和非<code class="codeph">localhost</code>接口。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1187" headers="d128094e887 ">
                                 <p><code class="codeph">SetRemoteHTTPPort</code> ， <code class="codeph">SetRemoteHTTPSPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1187 d128094e890 ">
                                 <p>分别定义远程HTTP或HTTPS端口的端口号。远程端口号的存储方式与非远程HTTP（S）端口类似，但它们未在配置文件， <code class="codeph">xdbconfig.xml</code>文件或配置XML架构<code class="codeph">xdbconfig.xsd</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1204" headers="d128094e887 ">
                                 <p><code class="codeph">usedPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1204 d128094e890 ">
                                 <p>将其他可插拔数据库（PDB）使用的端口返回到同一多租户容器数据库（CDB）中。返回值是一个<code class="codeph">XMLType</code>实例，它按类型和编号按ID号及其关联的端口列出每个PDB。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__GUID-775D8986-7BB7-416F-9272-7211CDBC938B">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../arpls/DBMS_XDB_CONFIG.html#ARPLS73564" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a> ，“DBMS_XDB_CONFIG”一章</p>
                  </div>
                  <p><a href="PLSQL-access-to-XML-DB-repository.html#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__I1028520">例26-6</a>使用函数<code class="codeph">cfg_get</code>来检索Oracle XML DB配置文件<code class="codeph">xdbconfig.xml</code> 。
                  </p>
                  <p><a href="PLSQL-access-to-XML-DB-repository.html#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__BHBEDCGF">例26-7</a>说明了程序<code class="codeph">cfg_update</code>的使用。将当前配置检索为<code class="codeph">XMLType</code>实例并进行修改。然后使用<code class="codeph">cfg_update</code>重写它。
                  </p>
                  <div class="example" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__I1028520">
                     <p class="titleinexample">示例26-6使用DBMS_XDB_CONFIG.CFG_GET</p><pre class="oac_no_warn" dir="ltr">连接系统输入密码： <span class="italic">密码</span>已连接。SELECT DBMS_XDB_CONFIG.cfg_get（）FROM DUAL; DBMS_XDB_CONFIG.CFG_GET（）--------------------------------------------- ----------------------------------- &lt;xdbconfig xmlns =“http://xmlns.oracle.com/ xdb / xdbconfig.xsd“xmlns：xsi =”http：// w ww.w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/x db / xdbconfig.xsd http ：//xmlns.oracle.com/xdb /xdbconfig.xsd“&gt; &lt;sysconfig&gt; &lt;acl-max-age&gt; 19 &lt;/ acl-max-age&gt; &lt;acl-cache-size&gt; 32 &lt;/ acl-cache-size &gt; &lt;invalid-pathname-chars /&gt; &lt;区分大小写&gt; true &lt;/ case-sensitive&gt; &lt;call-timeout&gt; 6000 &lt;/ call-timeout&gt; &lt;max-link-queue&gt; 65536 &lt;/ max-link-queue&gt; &lt; max-session-use&gt; 100 &lt;/ max-session-use&gt; &lt;persistent-sessions&gt; false &lt;/ persistent-sessions&gt; &lt;default-lock-timeout&gt; 3600 &lt;/ default-lock-timeout&gt; &lt;xdbcore-logfile-path&gt; /sys/log/xdblog.xml &lt;/ xdbcore-logfile-path&gt; &lt;xdbcore-log-level&gt; 0 &lt;/ xdbcore-log-level&gt; &lt;resource-view-cache-size&gt; 1048576 &lt;/ resource-view-cache- size&gt; &lt;protocolconfig&gt; &lt;common&gt; <span class="bold">。 。 。</span>&lt;/ common&gt; &lt;ftpconfig&gt; <span class="bold">。 。 。</span>&lt;/ ftpconfig&gt; &lt;httpconfig&gt; &lt;http-port&gt; 0 &lt;/ http-port&gt; &lt;http-listener&gt; local_listener &lt;/ http-listener&gt; &lt;http-protocol&gt; tcp &lt;/ http-protocol&gt; &lt;max-http-headers&gt; 64 &lt;/ max-http-headers&gt; &lt;max-header-size&gt; 16384 &lt;/ max-header-size&gt; &lt;max-request-body&gt; 2000000000 &lt;/ max-request-body&gt; &lt;session-timeout&gt; 6000 &lt;/ session -timeout&gt; &lt;server-name&gt; XDB HTTP Server &lt;/ server-name&gt; &lt;logfile-path&gt; /sys/log/httplog.xml &lt;/ logfile-path&gt; &lt;log-level&gt; 0 &lt;/ log-level&gt; &lt;servlet -realm&gt; Basic realm =＆quot; XDB＆quot; &lt;/ servlet-realm&gt; &lt;webappconfig&gt; <span class="bold">。 。 。</span>&lt;/ webappconfig&gt; &lt;authentication&gt; <span class="bold">。 。 。</span>&lt;/ authentication&gt; &lt;/ protocolconfig&gt; &lt;xdbcore-xobmem-bound&gt; 1024 &lt;/ xdbcore-xobmem-bound&gt; &lt;xdbcore-loadableunit-size&gt; 16 &lt;/ xdbcore-loadableunit-size&gt; &lt;acl-evaluation-method&gt; ace-order &lt;/ acl-evaluation-method&gt; &lt;/ sysconfig&gt; &lt;/ xdbconfig&gt;选择了1行。
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__BHBEDCGF">
                     <p class="titleinexample">示例26-7使用DBMS_XDB_CONFIG.CFG_UPDATE</p><pre class="oac_no_warn" dir="ltr">DECLARE configxml SYS.XMLType; configxml2 SYS.XMLType; BEGIN  - 获取当前配置configxml：= DBMS_XDB_CONFIG.cfg_get（）; - 修改配置SELECT XMLQuery（'declare default element namespace“http://xmlns.oracle.com/xdb/xdbconfig.xsd”;（：:) copy $ i：= $ p1 modify（for $ j in $ i / xdbconfig / SYSCONFIG / protocolconfig / httpconfig / HTTP端口返回替换$ P2节点$ j的值）返回$ I”逝水CONFIGXML AS “P1”， <span class="bold">'8000'</span> AS “P2” RETURNING CONTENT）INTO configxml2 FROM DUAL; - 更新配置以使用修改后的版本DBMS_XDB_CONFIG。 <span class="bold">cfg_update</span> （configxml2）;结束; / PL / SQL过程成功完成。SELECT DBMS_XDB_CONFIG.cfg_get（）FROM DUAL; DBMS_XDB_CONFIG.CFG_GET（）--------------------------------------------- ----------------------------------- &lt;xdbconfig xmlns =“http://xmlns.oracle.com/ xdb / xdbconfig.xsd“xmlns：xsi =”http：// w ww.w3.org/2001/XMLSchema-instance“xsi：schemaLocation =”http://xmlns.oracle.com/x db / xdbconfig.xsd http ：//xmlns.oracle.com/xdb/xdbconfig.xsd“&gt; &lt;sysconfig&gt; &lt;acl-max-age&gt; 15 &lt;/ acl-max-age&gt; &lt;acl-cache-size&gt; 32 &lt;/ acl-cache-size &gt; &lt;invalid-pathname-chars /&gt; &lt;区分大小写&gt; true &lt;/ case-sensitive&gt; &lt;call-timeout&gt; 6000 &lt;/ call-timeout&gt; &lt;max-link-queue&gt; 65536 &lt;/ max-link-queue&gt; &lt; max-session-use&gt; 100 &lt;/ max-session-use&gt; &lt;persistent-sessions&gt; false &lt;/ persistent-sessions&gt; &lt;default-lock-timeout&gt; 3600 &lt;/ default-lock-timeout&gt; &lt;xdbcore-logfile-path&gt; /sys/log/xdblog.xml &lt;/ xdbcore-logfile-path&gt; &lt;resource-view-cache-size&gt; 1048576 &lt;/ resource-view-cache-size&gt; &lt;protocolconfig&gt; &lt;common&gt; <span class="bold">。 。 。</span>&lt;/ common&gt; &lt;ftpconfig&gt; <span class="bold">。 。 。</span>&lt;/ ftpconfig&gt; &lt;httpconfig&gt; &lt;http-port&gt; <span class="bold">8000</span> &lt;/ http-port&gt; <span class="bold">。 。 。</span>&lt;/ httpconfig&gt; &lt;/ protocolconfig&gt; &lt;xdbcore-xobmem-bound&gt; 1024 &lt;/ xdbcore-xobmem-bound&gt; &lt;xdbcore-loadableunit-size&gt; 16 &lt;/ xdbcore-loadableunit-size&gt; &lt;acl-evaluation-method&gt; ace-order &lt;/ acl-evaluation-method&gt; &lt;/ xdbconfig&gt;选择了1行。</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="PLSQL-access-to-XML-DB-repository.html#GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" title="PL / SQL包DBMS_XDB_CONFIG和DBMS_XDB_REPOS一起为PL / SQL提供Oracle XML DB资源应用程序接口（API）。您可以使用前者配置Oracle XML DB及其存储库。您使用后者在存储库上执行其他非配置操作。">对XML XML DB存储库的PL / SQL访问</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>