<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>管理全局数据服务配置</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Global Data Services Concepts and Administration Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Global Data Services Concepts and Administration Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="global-data-services-concepts-and-administration-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-22T15:50:03-08:00"></meta>
      <meta name="dcterms.title" content="Global Data Services Concepts and Administration Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2013, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96443-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="global-data-services-config.html" title="Previous" type="text/html"></link>
      <link rel="next" href="global-data-services-troubleshooting.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="GSMUG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="global-data-services-config.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="global-data-services-troubleshooting.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">全球数据服务概念和管理指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理全局数据服务配置</li>
            </ol>
            <a id="GUID-2B4F6218-309D-477C-9B57-48449D20BAAD" name="GUID-2B4F6218-309D-477C-9B57-48449D20BAAD"></a><a id="GSMUG140"></a>
            
            <h2 id="GSMUG-GUID-2B4F6218-309D-477C-9B57-48449D20BAAD" class="sect2"><span class="enumeration_chapter">3</span>管理全局数据服务配置</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">GDSCTL</code>实用程序用于创建，管理和监视全局数据服务配置及其所有组件。此实用程序与用于管理Oracle Real Application Cluster（Oracle RAC）的<code class="codeph">SRVCTL</code>实用程序非常相似。以下主题说明了如何管理GDS配置。
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-641E0795-3614-4994-BDDB-8B8CC1E9A22D">全球数据服务管理概述</a><br></li>
                  <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-EC9C0EB4-35A4-4423-BB49-1D5FD51EB920">管理数据库池</a><br></li>
                  <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-3A51492C-6214-4585-8609-56962180A12A">管理全球服务</a><br></li>
                  <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-DE212636-ED36-4CC9-AAF5-9C95C454CB18">管理GDS堆栈</a><br></li>
               </ul>
            </div>
            <a id="GSMUG652"></a><div class="props_rev_3"><a id="GUID-641E0795-3614-4994-BDDB-8B8CC1E9A22D" name="GUID-641E0795-3614-4994-BDDB-8B8CC1E9A22D"></a><h3 id="GSMUG-GUID-641E0795-3614-4994-BDDB-8B8CC1E9A22D" class="sect3"><span class="enumeration_section">3.1</span>全球数据服务管理概述</h3>
               <div>
                  <p>全局数据服务由全球数据服务管理员管理，其职责包括以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>安装和升级全局服务管理器软件</p>
                     </li>
                     <li>
                        <p>创建和维护全球数据服务目录</p>
                     </li>
                     <li>
                        <p>启动，停止和配置全局服务管理器</p>
                     </li>
                     <li>
                        <p>创建和管理全球数据服务区域和池</p>
                     </li>
                     <li>
                        <p>管理全球服务</p>
                     </li>
                     <li>
                        <p>监控全球数据服务框架组件</p>
                     </li>
                  </ul>
                  <p>每个全局数据服务配置至少需要一个全局数据服务管理员。一个小配置可以由执行所有管理职责的一个人管理。对于具有许多区域和池的大型配置，可能需要一组共享职责的全局数据服务管理员。所有全局数据服务管理员都有权执行给定全局数据服务配置的所有列出的管理任务。</p>
                  <p>应在全局服务管理器运行的所有计算机上为全局数据服务管理员提供操作系统帐户。帐户用户应具有安装和运行全局服务管理器软件的权限。只应授予全局数据服务管理员这些权限。</p>
                  <p>还必须将全局数据服务管理员作为用户添加到全局数据服务目录数据库，并授予<code class="codeph">GSMADMIN_ROLE</code>角色。全局数据服务管理员的数据库帐户应由目录数据库的数据库管理员创建。如果全局数据服务管理员恰好拥有此数据库的本地数据库管理员权限，则可以自行创建此帐户。
                  </p>
                  <p>如果全局数据服务配置包含多个池，则除了管理整个配置的全局数据服务管理员之外，每个池还可以有一个或多个全局数据服务池管理员。池管理员的职责仅限于特定池的管理，并包括以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>添加和删除池中的数据库</p>
                     </li>
                     <li>
                        <p>管理池中的全球服务</p>
                     </li>
                  </ul>
                  <p>要执行这些任务，全局数据服务池管理员必须是具有适当权限的全局数据服务目录数据库的用户。使用<code class="codeph">-USER</code>选项创建全局数据服务池时，将自动为池管理员创建数据库用户并授予权限。池管理员也可以在创建后使用<code class="codeph">gdsctl modify gdspool</code>命令添加到池中。全局数据服务管理员始终具有管理数据库配置中任何池的权限。
                  </p>
                  <p>应使用适当的GDSCTL命令执行所有管理操作。执行大多数GDSCTL命令需要访问全局数据服务目录。对于此类命令，必须使用适当的命令选项指定目录数据库的凭据。</p>
                  <p>许多管理操作（例如将数据库添加到全局数据服务池或启用全局服务）不仅需要更改全局数据服务目录，还需要更改全局数据服务配置中的数据库。此类命令的通用工作流程如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>GDSCTL使用管理员提供的凭据连接到目录数据库，并对目录进行适当的更改。</p>
                     </li>
                     <li>
                        <p>目录数据库通知全局数据服务配置中有关更改的所有全局服务管理器。使用每个全局服务管理器与目录数据库维护的Oracle Net Services连接发送通知。</p>
                     </li>
                     <li>
                        <p>收到通知后，其中一个全局服务管理器连接到需要配置的配置数据库并进行适当的更改。</p>
                     </li>
                  </ul>
                  <p>要支持此工作流，全局服务管理器应该能够连接到目录和配置数据库。使用GSMCATUSER帐户建立与目录数据库的连接，该帐户在数据库安装期间默认在任何Oracle数据库上创建。该帐户必须由目录数据库的数据库管理员和提供给Global Data Services管理员的密码解锁。每当将新的全局服务管理器添加到GDS配置时，全局数据服务管理员都必须指定GSMCATUSER帐户的密码。然后将密码加密并存储在全局服务管理器钱包中，以供将来全局服务管理器使用。</p>
                  <p>全局服务管理器使用GSMUSER帐户连接到池数据库，该帐户默认情况下也存在于任何Oracle数据库中。数据库安装后，帐户被锁定。在将数据库添加到全局数据服务池之前，应由本地数据库管理员解锁。GSMUSER帐户的密码将提供给池或全局数据服务管理员，后者将数据库添加到全局数据服务池，并且必须在<code class="codeph">gdsctl add database</code>命令中指定。密码存储在全局数据服务目录中，供将来所有全局服务管理员使用。
                  </p>
                  <p>GSMUSR密码使用PKCS 1加密/解密模式以加密形式存储在GDS目录中。您可以通过执行<code class="codeph">modify catalog</code>命令，使用新生成的密钥加密存储在GDS目录中的GSMUSR密码。例如：</p><pre class="oac_no_warn" dir="ltr">GDSCTL&gt;修改目录-newkeys</pre><p>GSMCATUSER和GSMUSER帐户由全球数据服务框架中的所有全球服务经理共享，并用于全球服务经理执行的所有管理操作，包括服务故障转移等自动操作。人类用户永远不应该使用这些帐户连接到数据库。</p>
                  <p>除GSMCATUSER和GSMUSER帐户外，GSMADMIN_INTERNAL帐户还用于目录和池数据库中的GDS配置。此帐户的唯一目的是拥有支持GDS安装所需的表，包和其他对象。它永远不应该被解锁，分配密码或用于交互式登录。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-2B4F6218-309D-477C-9B57-48449D20BAAD">管理全局数据服务配置</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="GSMUG148"></a><div class="props_rev_3"><a id="GUID-EC9C0EB4-35A4-4423-BB49-1D5FD51EB920" name="GUID-EC9C0EB4-35A4-4423-BB49-1D5FD51EB920"></a><h3 id="GSMUG-GUID-EC9C0EB4-35A4-4423-BB49-1D5FD51EB920" class="sect3"><span class="enumeration_section">3.2</span>管理数据库池</h3>
               <div>
                  <p>本节介绍与在全局数据服务框架中管理数据库池相关的管理任务。它包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-AB7D5C4B-B72C-4543-85AD-A8B2F77C4EF4">将Oracle Data Guard Broker托管数据库添加到数据库池</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-2B4F6218-309D-477C-9B57-48449D20BAAD">管理全局数据服务配置</a></p>
                     </div>
                  </div>
               </div>
               <a id="GSMUG149"></a><div class="props_rev_3"><a id="GUID-AB7D5C4B-B72C-4543-85AD-A8B2F77C4EF4" name="GUID-AB7D5C4B-B72C-4543-85AD-A8B2F77C4EF4"></a><h4 id="GSMUG-GUID-AB7D5C4B-B72C-4543-85AD-A8B2F77C4EF4" class="sect4"><span class="enumeration_section">3.2.1</span>将Oracle Data Guard Broker托管数据库添加到数据库池</h4>
                  <div>
                     <p>在全局数据服务配置中包含Oracle Data Guard代理配置时，您将代理配置作为一个单元进行管理。只能将整个Oracle Data Guard代理配置添加到数据库池（或从中删除）。配置不能跨越多个池。尝试向属于代理配置的池添加或删除单个数据库会导致错误。</p>
                     <p>将数据库添加到池的唯一方法是将数据库添加到代理配置（使用<code class="codeph">DGMGRL</code>实用程序）。将数据库添加到代理配置会导致其自动添加到此配置所属的数据库池中。从代理配置中删除数据库会导致从包含该配置的池中删除该数据库。这是从包含代理配置的池中删除数据库的唯一方法。
                     </p>
                     <p>另请注意以下限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库池中的数据库集可以是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>属于单个代理配置的数据库集</p>
                              </li>
                              <li>
                                 <p>一组属于无代理配置的数据库</p>
                              </li>
                           </ul>
                           <p>您只能将代理配置添加到空数据库池，如果池已包含代理配置，则要将数据库添加到数据库池，必须将数据库添加到数据库池中包含的代理配置。</p>
                        </li>
                        <li>
                           <p>仅对包含代理配置的数据库池支持基于角色的全局服务。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AB7D5C4B-B72C-4543-85AD-A8B2F77C4EF4__GUID-2F3C857F-6D86-44AF-A62B-EB982C28FF25">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">DGMGRL</code>实用程序的更多信息，请<code class="codeph">DGMGRL</code> <a href="../dgbkr/examples-using-data-guard-broker-DGMGRL-utility.html#DGBKR495" target="_blank"><span><cite>Oracle Data Guard Broker</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-EC9C0EB4-35A4-4423-BB49-1D5FD51EB920">管理数据库池</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GSMUG141"></a><div class="props_rev_3"><a id="GUID-3A51492C-6214-4585-8609-56962180A12A" name="GUID-3A51492C-6214-4585-8609-56962180A12A"></a><h3 id="GSMUG-GUID-3A51492C-6214-4585-8609-56962180A12A" class="sect3"><span class="enumeration_section">3.3</span>管理全球服务</h3>
               <div>
                  <p>本节介绍与全局服务关联的管理任务。它包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-1E72A97B-0FFA-461E-BD9E-9977F4E628D7">创建全球服务</a><br></li>
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-1D1EF829-27F3-4C45-981D-6C4A10EFB592">开始全球服务</a><br></li>
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-71F7D724-FC70-4CC7-A704-C7D74D5846BF">停止全球服务</a><br></li>
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-202FEE66-C4F9-4054-9E65-CD06509A4FE9">禁用全局服务</a><br></li>
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-AA968D97-F49E-43C1-9B22-F3B6DDACDA0F">启用全球服务</a><br></li>
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-19C84C27-ABC6-4A41-A940-1DFCFBE5BCE9">修改全局服务属性</a><br></li>
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-E8B327F1-148A-4067-BBE7-CA116BD8AE77">删除全球服务</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-2B4F6218-309D-477C-9B57-48449D20BAAD">管理全局数据服务配置</a></p>
                     </div>
                  </div>
               </div>
               <a id="GSMUG693"></a><div class="props_rev_3"><a id="GUID-1E72A97B-0FFA-461E-BD9E-9977F4E628D7" name="GUID-1E72A97B-0FFA-461E-BD9E-9977F4E628D7"></a><h4 id="GSMUG-GUID-1E72A97B-0FFA-461E-BD9E-9977F4E628D7" class="sect4"><span class="enumeration_section">3.3.1</span>创建全球服务</h4>
                  <div>
                     <p>通过执行<code class="codeph">add service</code>命令创建全局服务。此命令将全局服务与全局数据服务池相关联，并将服务的属性存储在全局数据服务目录中。如果使用指定的数据库<code class="codeph">—preferred</code>或<code class="codeph">—available</code>方案，服务于那些指定的数据库创建。如果使用<code class="codeph">—preferred_all</code>选项，则会在全局数据服务池中的所有数据库上创建服务。
                     </p>
                     <p>在以下情况下，还会在数据库上自动创建已存在于全局数据服务池中的服务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>修改该服务以添加属于池的数据库。</p>
                        </li>
                        <li>
                           <p>该服务具有<code class="codeph">—preferred_all</code>属性，并且将新数据库添加到池中。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1E72A97B-0FFA-461E-BD9E-9977F4E628D7__GUID-C6EBFDA4-1C0E-4F7D-8F9E-04924F37BFF1">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="gdsctl-reference.html#GUID-4409D426-7F68-4729-9BE9-7A7C268C907B" title="将全局服务添加到全局数据服务池。">添加服务</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-3A51492C-6214-4585-8609-56962180A12A">管理全局服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG694"></a><div class="props_rev_3"><a id="GUID-1D1EF829-27F3-4C45-981D-6C4A10EFB592" name="GUID-1D1EF829-27F3-4C45-981D-6C4A10EFB592"></a><h4 id="GSMUG-GUID-1D1EF829-27F3-4C45-981D-6C4A10EFB592" class="sect4"><span class="enumeration_section">3.3.2</span>启动全球服务</h4>
                  <div>
                     <p>全局服务在创建后立即自动启用。术语<span class="italic">启用</span>意味着如果数据库符合运行服务的条件，即满足以下条件时，可以在数据库上启动服务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>数据库已打开并向全局服务经理注册。</p>
                        </li>
                        <li>
                           <p>该数据库尚未禁用该服务。</p>
                        </li>
                        <li>
                           <p>数据库角色与服务的角色属性匹配。</p>
                        </li>
                        <li>
                           <p>数据库上的复制滞后不会超过为服务指定的最大值。</p>
                        </li>
                        <li>
                           <p>该服务尚未达到由首选数据库数量定义的基数。</p>
                        </li>
                        <li>
                           <p>池中没有其他数据库是启动服务的更好候选者，例如，只有在没有合格的首选数据库时才能在可用数据库上启动服务。</p>
                        </li>
                     </ul>
                     <p>在用户执行<code class="codeph">start service</code>命令之前，新创建的全局服务永远不会自动<code class="codeph">start service</code> 。这使池管理员可以控制初始服务启动，这对于将多个服务添加到池并且需要一定数量的服务启动时的情况可能很重要。
                     </p>
                     <p>必须首先通过执行不带<code class="codeph">-database</code>选项的<code class="codeph">start service</code>命令来<code class="codeph">start service</code>具有自动管理策略（默认选项）的<code class="codeph">start service</code> 。此命令不仅在池中的所有符合条件的数据库上启动服务，还在以下情况下启用自动服务启动：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在有资格运行它的数据库上自动创建服务之后。（上一节列出了两种自动服务创建案例。）</p>
                        </li>
                        <li>
                           <p>已关闭的数据库将重新启动并符合该服务的条件。</p>
                        </li>
                        <li>
                           <p>数据库有资格运行该服务。例如，这可能发生，因为数据库上的复制滞后已降低到可接受的值，或者用户已增加服务基数。</p>
                        </li>
                     </ul>
                     <p>带有<code class="codeph">-database</code>选项的<code class="codeph">start service</code>命令可用于在特定数据库上启动具有自动管理策略的服务（如果服务已通过<a href="global-data-services-admin.html#GUID-71F7D724-FC70-4CC7-A704-C7D74D5846BF">停止全局服务中</a>所述的<code class="codeph">stop service</code>命令关闭）。
                     </p>
                     <p>必须在每个单独的数据库上手动启动具有手动策略的服务，包括何时重新启动数据库或有资格运行该服务。使用手动策略对<code class="codeph">start service</code>执行时，不带<code class="codeph">-database</code>选项的<code class="codeph">start service</code>命令将在池中当前存在的所有符合条件的数据库上启动服务。如果与<code class="codeph">-database</code>选项一起使用，则该命令仅在指定的数据库上启动该服务（如果它们有资格运行它）。
                     </p>
                     <div class="infoboxnote" id="GUID-1D1EF829-27F3-4C45-981D-6C4A10EFB592__GUID-7C2782E2-312E-411F-824E-DA8949828D82">
                        <p class="notep1">注意：</p>
                        <p>本节中列出的自动服务启动的情况仅描述使用自动管理策略对服务执行<code class="codeph">start service</code>命令时发生的情况。它们不包括由于从另一个数据库进行故障转移而在数据库上自动启动服务的情况。服务故障转移与<code class="codeph">start service</code>命令无关，其行为与具有自动和手动管理策略的服务相同。
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1D1EF829-27F3-4C45-981D-6C4A10EFB592__GUID-78284BB3-E6FF-47AF-AF05-D6BEC5CA2606">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="gdsctl-reference.html#GUID-173DF8DC-148D-4275-B4D9-1CEAC587F53A" title="启动特定服务。">开始服务</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-3A51492C-6214-4585-8609-56962180A12A">管理全局服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG695"></a><div class="props_rev_3"><a id="GUID-71F7D724-FC70-4CC7-A704-C7D74D5846BF" name="GUID-71F7D724-FC70-4CC7-A704-C7D74D5846BF"></a><h4 id="GSMUG-GUID-71F7D724-FC70-4CC7-A704-C7D74D5846BF" class="sect4"><span class="enumeration_section">3.3.3</span>停止全球服务</h4>
                  <div>
                     <p>可以通过<code class="codeph">stop service</code>命令关闭在全局数据服务池中的数据库上运行的全局<code class="codeph">stop service</code> 。如果使用<code class="codeph">-database</code>选项执行<code class="codeph">stop service</code>命令，则在指定的数据库上停止服务;否则它将在池中的所有数据库上停止。
                     </p>
                     <div class="infoboxnote" id="GUID-71F7D724-FC70-4CC7-A704-C7D74D5846BF__GUID-3169E82A-BC82-4761-9432-986F5BDA71F6">
                        <p class="notep1">注意：</p>
                        <p>如果运行它的数据库重新启动并且有资格运行该服务，则会重新启动具有自动管理策略的已停止服务。此外，在全局数据服务池中的所有数据库上使用自动管理策略停止服务不会阻止在新数据库上创建服务时自动启动服务。要完全禁用服务的自动启动，应将其管理策略更改为手动。</p>
                     </div>
                     <p>当用户停止服务时，全局数据服务框架认为该数据库暂时不可用于此服务。停止全局服务不会导致服务故障转移事件;服务基数暂时降低，全局服务管理器不会尝试在池中的另一个数据库上启动该服务。</p>
                     <p>但是，具有已停止服务的数据库仍被视为此服务的故障转移目标;当服务在另一个数据库上失败时，如果它有资格运行该服务，则可以在该数据库上启动它。在服务故障转移到数据库之后，用户不再认为该数据库上的服务已停止。</p>
                     <p>可以通过执行<code class="codeph">start service</code>命令手动重新启动已停止的服务。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-71F7D724-FC70-4CC7-A704-C7D74D5846BF__GUID-04D2615B-1BD6-4602-A2BC-C3E77A73550C">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="gdsctl-reference.html#GUID-BAB9230B-EE57-4CFD-A05B-80FDE25D1A30" title="停止指定的全局服务。">停止服务</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-3A51492C-6214-4585-8609-56962180A12A">管理全局服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG696"></a><div class="props_rev_3"><a id="GUID-202FEE66-C4F9-4054-9E65-CD06509A4FE9" name="GUID-202FEE66-C4F9-4054-9E65-CD06509A4FE9"></a><h4 id="GSMUG-GUID-202FEE66-C4F9-4054-9E65-CD06509A4FE9" class="sect4"><span class="enumeration_section">3.3.4</span>禁用全球服务</h4>
                  <div>
                     <p>通过执行<code class="codeph">disable service</code>命令，可以在数据库或一组数据库上<code class="codeph">disable service</code> 。在重新启用之前，无法启动已禁用的服务。这包括来自另一个数据库的服务故障转移;具有已禁用服务的数据库永远不会被视为故障转移目标。
                     </p>
                     <p>必须停止服务才能禁用。如果对运行服务的数据库执行<code class="codeph">disable service</code>则会返回错误。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-202FEE66-C4F9-4054-9E65-CD06509A4FE9__GUID-43860E4E-FE9F-4D88-87CE-8184A04E3AC8">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="gdsctl-reference.html#GUID-DD436556-2EB4-4732-9088-0D1BF2921C19" title="启用指定的全局服务。">启用服务</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-3A51492C-6214-4585-8609-56962180A12A">管理全局服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG697"></a><div class="props_rev_3"><a id="GUID-AA968D97-F49E-43C1-9B22-F3B6DDACDA0F" name="GUID-AA968D97-F49E-43C1-9B22-F3B6DDACDA0F"></a><h4 id="GSMUG-GUID-AA968D97-F49E-43C1-9B22-F3B6DDACDA0F" class="sect4"><span class="enumeration_section">3.3.5</span>启用全球服务</h4>
                  <div>
                     <p>通过执行<code class="codeph">enable service</code>命令，可以在数据库上重新启用已禁用的全局服务。如果服务管理策略为AUTOMATIC且数据库符合运行服务的条件，则会在启用后自动启动。必须手动启动具有MANUAL管理策略的服务。在此处启用服务后，数据库可以成为故障转移目标。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AA968D97-F49E-43C1-9B22-F3B6DDACDA0F__GUID-409DD64D-D4DC-4F13-A76C-5C7C66DCBAE3">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="gdsctl-reference.html#GUID-4409D426-7F68-4729-9BE9-7A7C268C907B" title="将全局服务添加到全局数据服务池。">添加服务</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-3A51492C-6214-4585-8609-56962180A12A">管理全局服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG698"></a><div class="props_rev_3"><a id="GUID-19C84C27-ABC6-4A41-A940-1DFCFBE5BCE9" name="GUID-19C84C27-ABC6-4A41-A940-1DFCFBE5BCE9"></a><h4 id="GSMUG-GUID-19C84C27-ABC6-4A41-A940-1DFCFBE5BCE9" class="sect4"><span class="enumeration_section">3.3.6</span>修改全局服务属性</h4>
                  <div>
                     <p><code class="codeph">modify service</code>命令用于修改全局服务属性。除了指定服务属性（例如角色，最大延迟，负载平衡方法等）之外，服务属性还定义服务应在哪些数据库上运行。因此， <code class="codeph">modify service</code>可用于将数据库添加到服务，将其从服务中删除，或将服务从一个数据库移动到另一个数据库。作为命令执行的结果，可以在全局数据服务池中的一个或多个数据库上创建，删除，启动或停止服务。
                     </p>
                     <p>大多数全局服务属性是在<code class="codeph">add service</code>命令的服务创建时指定的，只有在必须进行某些更改时才需要进行修改。但是，必须通过在执行<code class="codeph">add service</code>命令后立即执行<code class="codeph">modify service</code>命令来设置与Oracle RAC数据库相关的一些服务属性。这些属性包括服务器池的名称，实例基数（UNIFORM /）以及特定于特定Oracle RAC数据库的一些其他参数。<code class="codeph">add service</code>命令无法设置此类属性，因为此命令仅用于指定全局数据服务池中所有数据库具有相同值的属性。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-19C84C27-ABC6-4A41-A940-1DFCFBE5BCE9__GUID-DCDE817C-1DDA-45E1-8169-A35D45ABB4EA">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="gdsctl-reference.html#GUID-93A6EE49-2A51-4187-A106-D6A345C0F613" title="修改服务属性。">修改服务</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-3A51492C-6214-4585-8609-56962180A12A">管理全局服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GSMUG699"></a><div class="props_rev_3"><a id="GUID-E8B327F1-148A-4067-BBE7-CA116BD8AE77" name="GUID-E8B327F1-148A-4067-BBE7-CA116BD8AE77"></a><h4 id="GSMUG-GUID-E8B327F1-148A-4067-BBE7-CA116BD8AE77" class="sect4"><span class="enumeration_section">3.3.7</span>删除全球服务</h4>
                  <div>
                     <p><code class="codeph">remove service</code>命令通过将全局服务从全局数据服务目录及其创建的所有数据库中删除，从全局数据服务池中删除全局服务。应在删除服务之前停止服务。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E8B327F1-148A-4067-BBE7-CA116BD8AE77__GUID-CE805573-5C1C-436E-B643-010F2EAF5E7D">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="gdsctl-reference.html#GUID-289A6029-A1A8-465A-AD21-57BCF8CD43C3" title="从数据库池中删除服务。">删除服务</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-3A51492C-6214-4585-8609-56962180A12A">管理全局服务</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-DE212636-ED36-4CC9-AAF5-9C95C454CB18" name="GUID-DE212636-ED36-4CC9-AAF5-9C95C454CB18"></a><h3 id="GSMUG-GUID-DE212636-ED36-4CC9-AAF5-9C95C454CB18" class="sect3"><span class="enumeration_section">3.4</span>管理GDS堆栈</h3>
               <div>
                  <p>本节介绍全局数据服务框架中组件的启动和关闭。它包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-82435C43-023A-4F75-8473-6B9F63709BED">启动GDS堆栈</a><br></li>
                     <li class="ulchildlink"><a href="global-data-services-admin.html#GUID-775619E3-FE10-455B-8805-3928C04AE76F">关闭GDS堆栈</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-2B4F6218-309D-477C-9B57-48449D20BAAD">管理全局数据服务配置</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-82435C43-023A-4F75-8473-6B9F63709BED" name="GUID-82435C43-023A-4F75-8473-6B9F63709BED"></a><h4 id="GSMUG-GUID-82435C43-023A-4F75-8473-6B9F63709BED" class="sect4"><span class="enumeration_section">3.4.1</span>启动GDS堆栈</h4>
                  <div>
                     <p>以下是GDS堆栈的推荐启动顺序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>启动全局数据服务目录数据库和本地侦听器。</p>
                        </li>
                        <li>
                           <p>启动全局服务管理器。</p>
                        </li>
                        <li>
                           <p>启动GDS池数据库和本地侦听器。</p>
                        </li>
                        <li>
                           <p>启动全球服务。</p>
                        </li>
                        <li>
                           <p>启动应用程序层和客户端。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-DE212636-ED36-4CC9-AAF5-9C95C454CB18">管理GDS堆栈</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-775619E3-FE10-455B-8805-3928C04AE76F" name="GUID-775619E3-FE10-455B-8805-3928C04AE76F"></a><h4 id="GSMUG-GUID-775619E3-FE10-455B-8805-3928C04AE76F" class="sect4"><span class="enumeration_section">3.4.2</span>关闭GDS协议栈</h4>
                  <div>
                     <p>以下是GDS堆栈的建议关闭顺序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>关闭应用程序层和客户端。</p>
                        </li>
                        <li>
                           <p>停止全球服务。</p>
                        </li>
                        <li>
                           <p>关闭GDS池数据库和本地侦听器。</p>
                        </li>
                        <li>
                           <p>停止全球服务经理。</p>
                        </li>
                        <li>
                           <p>停止全局数据服务目录数据库和本地侦听器。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="global-data-services-admin.html#GUID-DE212636-ED36-4CC9-AAF5-9C95C454CB18">管理GDS堆栈</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>