<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>自动数据库性能监控</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-2-day-performance-tuning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:50:24-08:00"></meta>
      <meta name="dcterms.title" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96346-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="part-II-proactive-database-tuning.html" title="Previous" type="text/html"></link>
      <link rel="next" href="monitoring-real-time-database-performance.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TDPPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part-II-proactive-database-tuning.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="monitoring-real-time-database-performance.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库2天+性能调整指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-proactive-database-tuning.html" property="item" typeof="WebPage"><span property="name">主动数据库调整</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">自动数据库性能监控</li>
            </ol>
            <a id="GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" name="GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9"></a><a id="TDPPT020"></a>
            
            <h2 id="TDPPT-GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" class="sect2"><span class="enumeration_chapter">3</span>自动数据库性能监控</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d5677e79" class="indexterm-anchor"></a><a id="d5677e83" class="indexterm-anchor"></a>自动数据库诊断监视器（ADDM）自动检测并报告数据库的性能问题。结果在Oracle Enterprise Manager云控制（云控制）中的数据库主页上显示为ADDM结果。通过查看ADDM结果，您可以快速确定需要引起注意的性能问题。在使用本指南中介绍的其他性能调整方法之前，请先查看ADDM分析的结果。
               </p>
               <p>每个ADDM发现都提供了一系列建议，以减少性能问题的影响。作为常规数据库维护的一部分，您应该每天查看ADDM结果并实施建议。即使数据库以最佳性能级别运行，您仍应继续使用ADDM持续监视数据库性能。</p>
               <p>本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="automatic-database-performance-monitoring.html#GUID-32E92AEC-AF1A-4602-B998-3250920CD3BE" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库诊断监视器概述</a></p>
                  </li>
                  <li>
                     <p><a href="automatic-database-performance-monitoring.html#GUID-DE45C80A-1825-4E24-A9C6-521610B63B07">配置自动数据库诊断监视器</a></p>
                  </li>
                  <li>
                     <p><a href="automatic-database-performance-monitoring.html#GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F">查看自动数据库诊断监视器分析</a></p>
                  </li>
                  <li>
                     <p><a href="automatic-database-performance-monitoring.html#GUID-3262CC73-BDB4-4315-907C-440307A0565C">解释自动数据库诊断监视器结果</a></p>
                  </li>
                  <li>
                     <p><a href="automatic-database-performance-monitoring.html#GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1">实施自动数据库诊断监视器建议</a></p>
                  </li>
                  <li>
                     <p><a href="automatic-database-performance-monitoring.html#GUID-F45A8EB8-CC26-4B7F-AAB6-E62A4E3FD505">查看快照统计信息</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9__GUID-9D31C1CB-BFF7-43CB-A5C5-87154B3170A9">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../tgdba/automatic-performance-diagnostics.html#TGDBA94245" target="_blank"><span class="italic">Oracle数据库性能调整指南</span></a> ，了解有关使用<code class="codeph">DBMS_ADVISOR</code>程序包通过自动数据库诊断监视器诊断和调整数据库的信息</p>
                     </li>
                  </ul>
               </div>
            </div><a id="TDPPT021"></a><div class="props_rev_3"><a id="GUID-32E92AEC-AF1A-4602-B998-3250920CD3BE" name="GUID-32E92AEC-AF1A-4602-B998-3250920CD3BE"></a><h3 id="TDPPT-GUID-32E92AEC-AF1A-4602-B998-3250920CD3BE" class="sect3"><span class="enumeration_section">3.1</span>自动数据库诊断监视器概述</h3>
               <div>
                  <p><a id="d5677e219" class="indexterm-anchor"></a><a id="d5677e223" class="indexterm-anchor"></a> ADDM是Oracle数据库中内置的诊断软件。ADDM检查并分析在自动工作负载存储库（AWR）中捕获的数据，以确定可能的数据库性能问题。ADDM然后执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>找出性能问题的根本原因</p>
                     </li>
                     <li>
                        <p>提供纠正它们的建议</p>
                     </li>
                     <li>
                        <p>量化预期收益</p>
                     </li>
                     <li>
                        <p>标识不需要采取任何措施的区域。</p>
                     </li>
                  </ul>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="automatic-database-performance-monitoring.html#GUID-C27597CA-8919-4916-A1A3-0FD4782E5787">ADDM分析</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-database-performance-monitoring.html#GUID-18978D21-AD5E-4E97-8FFA-C615D74C4A49">ADDM建议</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-database-performance-monitoring.html#GUID-32CF46D6-638B-4799-8BC2-735513FD9EBA">适用于Oracle Real Application Clusters的ADDM</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-database-performance-monitoring.html#GUID-837BAF6B-589B-449E-B0B9-38586D3D7D55" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">适用于多租户环境的ADDM</a></p>
                     </li>
                  </ul>
               </div><a id="TDPPT300"></a><div class="props_rev_3"><a id="GUID-C27597CA-8919-4916-A1A3-0FD4782E5787" name="GUID-C27597CA-8919-4916-A1A3-0FD4782E5787"></a><h4 id="TDPPT-GUID-C27597CA-8919-4916-A1A3-0FD4782E5787" class="sect4"><span class="enumeration_section">3.1.1</span> ADDM分析</h4>
                  <div>
                     <p>ADDM分析<a id="d5677e345" class="indexterm-anchor"></a>在每个AWR快照之后执行（默认情况下每小时执行一次），结果将保存在数据库中。然后，您可以使用Cloud Control查看结果。
                     </p>
                     <p>ADDM分析从上到下执行，首先识别症状，然后改进分析以找出性能问题的根本原因。ADDM使用DB时间统计来识别性能问题。数据库时间（DB）时间是数据库在处理用户请求时所花费的累积时间，包括非空闲的所有用户会话的等待时间和CPU时间。</p>
                     <p>数据库性能调优的目标是减少给定工作负载的系统DB时间。通过减少DB时间，数据库可以通过使用相同或更少的资源来支持更多用户请求。ADDM报告使用大部分数据库时间作为问题区域的系统资源，并按相关数据库时间花费的降序对其进行排序。</p>
                     <div class="infoboxnotealso" id="GUID-C27597CA-8919-4916-A1A3-0FD4782E5787__GUID-46795932-2A0C-45E7-9361-D660F64D9528">
                        <p class="notep1">也可以看看：</p>
                        <p>有关DB时间统计信息的更多信息，请参阅<span class="q">“ <a href="oracle-database-performance-method.html#GUID-8DEA5079-6AAB-47D8-857A-9B5301843290">时间模型统计</a></span>信息<span class="q">”</span></p>
                     </div>
                  </div>
               </div><a id="TDPPT301"></a><div class="props_rev_3"><a id="GUID-18978D21-AD5E-4E97-8FFA-C615D74C4A49" name="GUID-18978D21-AD5E-4E97-8FFA-C615D74C4A49"></a><h4 id="TDPPT-GUID-18978D21-AD5E-4E97-8FFA-C615D74C4A49" class="sect4"><span class="enumeration_section">3.1.2</span> ADDM建议</h4>
                  <div>
                     <p>除诊断性能问题外，ADDM还建议使用可能的解决方案。适当时，ADDM建议您选择多种解决方案。ADDM <a id="d5677e443" class="indexterm-anchor"></a>建议包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>硬件变化</p>
                           <p>添加CPU或更改I / O子系统配置</p>
                        </li>
                        <li>
                           <p>数据库配置</p>
                           <p>更改初始化参数设置</p>
                        </li>
                        <li>
                           <p>架构更改</p>
                           <p>散列分区表或索引，或使用自动分段空间管理（ASSM）</p>
                        </li>
                        <li>
                           <p>申请变更</p>
                           <p>使用序列的缓存选项或使用绑定变量</p>
                        </li>
                        <li>
                           <p>使用其他顾问</p>
                           <p>在高负载SQL语句上运行SQL Tuning Advisor或在热对象上运行Segment Advisor</p>
                        </li>
                     </ul>
                     <p>ADDM的优势适用于生产系统。即使在开发和测试系统上，ADDM也可以提供潜在性能问题的早期警告。</p>
                     <p>性能调优是一个迭代过程。解决一个问题可能会导致瓶颈转移到系统的另一部分。即使利用ADDM分析，也可能需要多个调整周期才能达到理想的性能水平。</p>
                  </div>
               </div><a id="TDPPT302"></a><div class="props_rev_3"><a id="GUID-32CF46D6-638B-4799-8BC2-735513FD9EBA" name="GUID-32CF46D6-638B-4799-8BC2-735513FD9EBA"></a><h4 id="TDPPT-GUID-32CF46D6-638B-4799-8BC2-735513FD9EBA" class="sect4"><span class="enumeration_section">3.1.3</span> Oracle Real Application Clusters的ADDM</h4>
                  <div>
                     <p><a id="d5677e562" class="indexterm-anchor"></a>在Oracle Real Application Clusters（Oracle RAC）环境中，您可以使用ADDM分析数据库集群的吞吐量性能。ADDM for Oracle RAC将DB时间视为所有数据库实例的数据库时间总和，并报告在群集级别具有重要意义的结果。例如，当单独考虑时，每个群集节点的DB时间可能是无关紧要的，但是聚合DB时间对于整个群集可能是一个重要问题。
                     </p>
                     <div class="infoboxnotealso" id="GUID-32CF46D6-638B-4799-8BC2-735513FD9EBA__GUID-E36EC5C0-A2CB-45BC-89DC-3AC7EE733E40">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关使用ADDM for Oracle RAC的信息，请参阅<a href="../racad/monitoring-performance.html#RACAD-GUID-42E1B55A-4685-4CED-98CA-1BB576650D1A" target="_blank"><span class="italic">“Oracle Real Application Clusters管理和部署指南”</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-837BAF6B-589B-449E-B0B9-38586D3D7D55" name="GUID-837BAF6B-589B-449E-B0B9-38586D3D7D55"></a><h4 id="TDPPT-GUID-837BAF6B-589B-449E-B0B9-38586D3D7D55" class="sect4"><span class="enumeration_section">3.1.4</span>多租户环境的ADDM</h4>
                  <div>
                     <p>从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。</p>
                     <p>要在PDB中使用ADDM，必须通过将<code class="codeph">AWR_PDB_AUTOFLUSH_ENABLED</code>初始化参数设置为<code class="codeph">TRUE</code>并将AWR快照间隔设置为大于0来启用PDB中的自动快照。
                     </p>
                     <div class="infoboxnotealso" id="GUID-837BAF6B-589B-449E-B0B9-38586D3D7D55__ORACLEDATABASEPERFORMANCETUNINGGUID-A12FB042">
                        <p class="notep1">也可以看看：</p>
                        <p>有关在多租户环境中使用ADDM的详细信息，请参见<a href="../tgdba/automatic-performance-diagnostics.html#TGDBA-GUID-B4B0899D-90A3-4E19-8654-1D5C34A48FD5" target="_blank"><span class="italic">“Oracle数据库性能调整指南”</span></a></p>
                     </div>
                  </div>
               </div>
            </div><a id="TDPPT022"></a><div class="props_rev_3"><a id="GUID-DE45C80A-1825-4E24-A9C6-521610B63B07" name="GUID-DE45C80A-1825-4E24-A9C6-521610B63B07"></a><h3 id="TDPPT-GUID-DE45C80A-1825-4E24-A9C6-521610B63B07" class="sect3"><span class="enumeration_section">3.2</span>配置自动数据库诊断监视器</h3>
               <div>
                  <p><a id="d5677e759" class="indexterm-anchor"></a>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="automatic-database-performance-monitoring.html#GUID-0A54A833-14B9-437A-8C2D-12B1A3FD1E7F">设置初始化参数以启用ADDM</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-database-performance-monitoring.html#GUID-AC6FE957-12A7-45A0-A508-6C37DDD872C9">设置DBIO_EXPECTED参数</a></p>
                     </li>
                     <li>
                        <p><a href="automatic-database-performance-monitoring.html#GUID-8FFE01C9-57C9-4A5B-A410-108E99319DA0">管理AWR快照</a></p>
                     </li>
                  </ul>
               </div><a id="TDPPT023"></a><div class="props_rev_3"><a id="GUID-0A54A833-14B9-437A-8C2D-12B1A3FD1E7F" name="GUID-0A54A833-14B9-437A-8C2D-12B1A3FD1E7F"></a><h4 id="TDPPT-GUID-0A54A833-14B9-437A-8C2D-12B1A3FD1E7F" class="sect4"><span class="enumeration_section">3.2.1</span>设置初始化参数以启用ADDM</h4>
                  <div>
                     <div class="section">
                        <p><a id="d5677e869" class="indexterm-anchor"></a><a id="d5677e873" class="indexterm-anchor"></a><a id="d5677e877" class="indexterm-anchor"></a><a id="d5677e881" class="indexterm-anchor"></a>默认情况下启用自动数据库诊断监视，并由<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>和<code class="codeph">STATISTICS_LEVEL</code>初始化参数控制。
                        </p>
                        <p>将<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>设置为<code class="codeph">DIAGNOSTIC+TUNING</code> （默认值）或<code class="codeph">DIAGNOSTIC</code>以启用自动数据库诊断监控。将<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>设置为<code class="codeph">NONE</code>将禁用许多Oracle数据库功能，包括ADDM，强烈建议不要这样做。
                        </p>
                        <p>将<code class="codeph">STATISTICS_LEVEL</code>设置为<code class="codeph">TYPICAL</code> （默认值）或<code class="codeph">ALL</code>以启用自动数据库诊断监视。将<code class="codeph">STATISTICS_LEVEL</code>设置为<code class="codeph">BASIC</code>会禁用许多Oracle数据库功能，包括ADDM，因此强烈建议不要这样做。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0A54A833-14B9-437A-8C2D-12B1A3FD1E7F__GUID-27F81ACE-7EE7-4B93-B746-EB585B55A078">要确定是否已启用ADDM：</p>
                        <ol>
                           <li>
                              <p>访问数据库主页。</p>
                              <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>从“ <span class="bold">管理”</span>菜单中，选择“ <span class="bold">初始化参数”</span> 。
                              </p>
                              <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将出现“初始化参数”页面。</p>
                           </li>
                           <li>
                              <p>在“ <span class="bold">名称”</span>字段中，输入<code class="codeph">statistics_level</code> ，然后单击<span class="bold">“执行”</span> 。</p>
                              <p>初始化参数表显示此初始化参数的设置。</p>
                              <div class="figure" id="GUID-0A54A833-14B9-437A-8C2D-12B1A3FD1E7F__GUID-735B025C-57DF-4061-B3CB-41CAC8D5F5E8"><img src="img/statistics_level.gif" alt="statistics_level.gif的描述如下" title="statistics_level.gif的描述如下" longdesc="img_text/statistics_level.html"><br><a href="img_text/statistics_level.html">说明statistics_level.gif的说明</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>执行以下操作之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果值列表显示<span class="bold">ALL</span>或<span class="bold">TYPICAL</span> ，则不执行任何操作。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果“值”列表显示“ <span class="bold">BASIC”</span> ，则选择“ <span class="bold">全部”</span>或“ <span class="bold">典型”</span> ，然后单击“ <span class="bold">应用”</span> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>在“ <span class="bold">名称”</span>字段中，输入<code class="codeph">control_management_pack_access</code> ，然后单击<span class="bold">“执行”</span> 。</p>
                              <p>该表显示了此初始化参数的设置。</p>
                           </li>
                           <li>
                              <p>执行以下操作之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果“值”列显示“ <span class="bold">DIAGNOSTIC”</span>或“ <span class="bold">DIAGNOSTIC + TUNING”</span> ，则不执行任何操作。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果Value列显示<span class="bold">NONE</span> ，则选择<span class="bold">DIAGNOSTIC</span>或<span class="bold">DIAGNOSTIC + TUNING</span> ，然后单击<span class="bold">Apply</span> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0A54A833-14B9-437A-8C2D-12B1A3FD1E7F__GUID-4D07777C-13F6-4867-B75F-062F995FF94C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">STATISTICS_LEVEL</code>初始化参数的信息，请<a href="../refrn/STATISTICS_LEVEL.html#REFRN10214" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code>初始化参数的信息，请<a href="../refrn/CONTROL_MANAGEMENT_PACK_ACCESS.html#REFRN10296" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT024"></a><div class="props_rev_3"><a id="GUID-AC6FE957-12A7-45A0-A508-6C37DDD872C9" name="GUID-AC6FE957-12A7-45A0-A508-6C37DDD872C9"></a><h4 id="TDPPT-GUID-AC6FE957-12A7-45A0-A508-6C37DDD872C9" class="sect4"><span class="enumeration_section">3.2.2</span>设置DBIO_EXPECTED参数</h4>
                  <div>
                     <div class="section">
                        <p>I / O性能的ADDM分析部分取决于单个参数<code class="codeph">DBIO_EXPECTED</code> ，它描述了I / O子系统的预期性能。<code class="codeph">DBIO_EXPECTED</code>的值是读取单个数据库块所需的平均时间（以微秒为单位）。Oracle数据库使用默认值10毫秒，这是大多数硬盘驱动器的适当值。您可以根据硬件的特性选择不同的值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AC6FE957-12A7-45A0-A508-6C37DDD872C9__GUID-B92EB04D-C46C-40B0-BCC6-8E50B7C146BF">要确定<span class="bold"><code class="codeph">DBIO_EXPECTED</code></span>初始化参数的正确设置：</p>
                        <ol>
                           <li>
                              <p>测量硬件的单个数据库块的平均读取时间。</p>
                              <p>必须对随机I / O进行此测量，如果使用标准硬盘驱动器，则包括寻道时间。硬盘驱动器的典型值介于5000和20000微秒之间。</p>
                              <div class="infoboxnotealso" id="GUID-AC6FE957-12A7-45A0-A508-6C37DDD872C9__GUID-9F0CCB92-98D2-43BC-A075-B2BCD640ADA1">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="../tgdba/IO-configuration-and-design.html#TGDBA015" target="_blank"><span class="italic">Oracle数据库性能调优指南</span></a> ，了解如何评估存储子系统的I / O功能</p>
                              </div>
                           </li>
                           <li>
                              <p>为所有后续ADDM执行设置一次值。</p>
                              <p>例如，如果测量值为8000微秒， <code class="codeph">SYS</code>用户身份执行以下PL / SQL代码：</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_ADVISOR.SET_DEFAULT_TASK_PARAMETER（'ADDM'，'DBIO_EXPECTED'，8000）;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT025"></a><div class="props_rev_3"><a id="GUID-8FFE01C9-57C9-4A5B-A410-108E99319DA0" name="GUID-8FFE01C9-57C9-4A5B-A410-108E99319DA0"></a><h4 id="TDPPT-GUID-8FFE01C9-57C9-4A5B-A410-108E99319DA0" class="sect4"><span class="enumeration_section">3.2.3</span>管理AWR快照</h4>
                  <div>
                     <p>默认情况下<a id="d5677e1278" class="indexterm-anchor"></a>自动工作负载存储库（AWR）每小时生成一次性能数据快照<a id="d5677e1283" class="indexterm-anchor"></a><a id="d5677e1287" class="indexterm-anchor"></a> ，并将工作负载存储库中的统计信息保留8天。您可以更改快照间隔和保留期的默认值。
                     </p>
                     <p>Oracle建议您将AWR保留期调整为至少一个月。您还可以将期间延长到一个业务周期，以便跨时间框架（例如财务季度结束）比较数据。您还可以创建AWR基准以在重要时间段内无限期地保留快照。</p>
                     <p>快照间隔中的数据由ADDM分析。 ADDM根据对系统负载的影响，比较快照之间的差异，以确定要捕获的SQL语句。ADDM分析显示了需要随时间捕获的SQL语句数。</p>
                     <p>本节包含以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="automatic-database-performance-monitoring.html#GUID-A92E1AE8-3CCC-4F37-88B3-FB6F6C45C510">创建快照</a></p>
                        </li>
                        <li>
                           <p><a href="automatic-database-performance-monitoring.html#GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4">修改快照设置</a></p>
                        </li>
                     </ul>
                  </div><a id="TDPPT026"></a><div class="props_rev_3"><a id="GUID-A92E1AE8-3CCC-4F37-88B3-FB6F6C45C510" name="GUID-A92E1AE8-3CCC-4F37-88B3-FB6F6C45C510"></a><h5 id="TDPPT-GUID-A92E1AE8-3CCC-4F37-88B3-FB6F6C45C510" class="sect5"><span class="enumeration_section">3.2.3.1</span>创建快照</h5>
                     <div>
                        <div class="section">
                           <p>通常不需要手动创建快照，因为AWR默认情况下每小时生成一次性能数据快照。但是，在某些情况下，可能需要手动创建快照以捕获不同的活动持续时间，例如，您希望在比快照间隔更短的时间段内比较性能数据。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A92E1AE8-3CCC-4F37-88B3-FB6F6C45C510__GUID-F1A7F6AC-B296-4D7C-8CE7-6F48DB46E8B4">要创建快照：</p>
                           <ol>
                              <li>
                                 <p>访问数据库主页。</p>
                                 <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>从<span class="bold">Performance</span>菜单中，选择<span class="bold">AWR</span> ，然后选择<span class="bold">AWR Administration</span> 。
                                 </p>
                                 <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将显示“自动工作负载存储库”页面。</p>
                              </li>
                              <li>
                                 <p>在“管理快照和基准”下，单击“快照”旁边的数字。</p>
                                 <p>将显示“快照”页面，其中包含最新快照的列表。</p>
                              </li>
                              <li>
                                 <p>单击“ <span class="bold">创建”</span>
                                 </p>
                                 <p>将出现“确认”页面。</p>
                              </li>
                              <li>
                                 <p>单击<span class="bold">是</span> 。
                                 </p>
                                 <p>正在拍摄快照时显示Processing：Create Snapshot页面。</p>
                                 <p>拍摄快照后，“快照”页面将重新显示，并显示“确认”消息。</p>
                                 <p>以下快照列表的屏幕截图显示快照是在上午9:24:25创建的。快照的ID为383。</p>
                                 <div class="figure" id="GUID-A92E1AE8-3CCC-4F37-88B3-FB6F6C45C510__GUID-F111D877-39AD-4386-AD8A-F9AB0C99564D"><img src="img/snapshots.gif" alt="snapshots.gif的描述如下" title="snapshots.gif的描述如下" longdesc="img_text/snapshots.html"><br><a href="img_text/snapshots.html">插图描述snapshots.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT027"></a><div class="props_rev_3"><a id="GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4" name="GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4"></a><h5 id="TDPPT-GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4" class="sect5"><span class="enumeration_section">3.2.3.2</span>修改快照设置</h5>
                     <div>
                        <div class="section">
                           <p>默认情况下，AWR每小时生成一次性能数据快照。您可以修改快照之间的间隔及其保留期的默认值。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4__GUID-FD11611F-A0D0-4602-B611-F4E7DC3FE8A6">要修改快照设置：</p>
                           <ol>
                              <li>
                                 <p>访问数据库主页。</p>
                                 <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>从<span class="bold">Performance</span>菜单中，选择<span class="bold">AWR</span> ，然后选择<span class="bold">AWR Administration</span> 。
                                 </p>
                                 <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将显示“自动工作负载存储库”页面。</p>
                                 <p>在页面“常规”部分的以下屏幕截图中，快照保留时间设置为8天，快照时间间隔设置为60分钟。</p>
                                 <div class="figure" id="GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4__GUID-6760F013-2D9A-4465-96E6-DCC5B45881DA"><img src="img/snapshot_settings.gif" alt="snapshot_settings.gif的描述如下" title="snapshot_settings.gif的描述如下" longdesc="img_text/snapshot_settings.html"><br><a href="img_text/snapshot_settings.html">说明snapshot_settings.gif的说明</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>单击<span class="bold">编辑</span> 。
                                 </p>
                                 <p>出现“编辑设置”页面。</p>
                                 <div class="figure" id="GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4__GUID-6B47AD0C-CF65-41D8-ACEC-FB4978E1A898"><img src="img/snap_edit_set.gif" alt="snap_edit_set.gif的描述如下" title="snap_edit_set.gif的描述如下" longdesc="img_text/snap_edit_set.html"><br><a href="img_text/snap_edit_set.html">插图说明snap_edit_set.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>对于<span class="bold">快照保留</span> ，请执行以下操作之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>选择“ <span class="bold">使用基于时间的保留期限（天）”</span> ，然后在关联字段中输入保留快照的天数。
                                       </p>
                                    </li>
                                    <li>
                                       <p>选择“ <span class="bold">永久保留”</span>以无限期保留快照。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>建议您将快照保留期增加到可用磁盘空间允许的最大值。</p>
                                 <p>在快照保留组的以下屏幕截图中，快照保留期更改为30天。</p>
                                 <div class="figure" id="GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4__GUID-77D82DA3-5C0A-487D-982B-8D2186067657"><img src="img/snapshot_retent.gif" alt="下面是对snapshot_retent.gif的描述" title="下面是对snapshot_retent.gif的描述" longdesc="img_text/snapshot_retent.html"><br><a href="img_text/snapshot_retent.html">插图描述snapshot_retent.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>对于<span class="bold">Snapshot Collection</span> ，请执行以下操作之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>选择<span class="bold">System Snapshot Interval</span> ，然后在<span class="bold">Interval</span>列表中，选择所需的间隔以更改快照之间的间隔。
                                       </p>
                                    </li>
                                    <li>
                                       <p>选择<span class="bold">“关闭快照集合”</span>以禁用快照收集。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>在Snapshot Collection组的以下屏幕截图中，快照收集时间间隔更改为30分钟。</p>
                                 <div class="figure" id="GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4__GUID-518E8009-4823-4AA0-9EF1-1826B42993AB"><img src="img/snapshot_collect.gif" alt="下面是snapshot_collect.gif的描述" title="下面是snapshot_collect.gif的描述" longdesc="img_text/snapshot_collect.html"><br><a href="img_text/snapshot_collect.html">插图描述snapshot_collect.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>单击<span class="bold">Collection Level</span>旁边的链接。
                                 </p>
                                 <p>将出现“初始化参数”页面。</p>
                                 <p>要更改统计级别，请在值列表中为<code class="codeph">statistics_level</code>参数选择<code class="codeph">TYPICAL</code>或<code class="codeph">ALL</code> 。单击“ <span class="bold">保存到文件”</span>以设置服务器参数文件中的值。
                                 </p>
                                 <p>在Initialization Parameters表的以下屏幕截图中，使用了Default的默认值。</p>
                                 <div class="figure" id="GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4__GUID-268F5BD1-B23E-4F50-A07E-5E54A8492735"><img src="img/snapshot_stat_lvl.gif" alt="下面是对snapshot_stat_lvl.gif的描述" title="下面是对snapshot_stat_lvl.gif的描述" longdesc="img_text/snapshot_stat_lvl.html"><br><a href="img_text/snapshot_stat_lvl.html">插图描述snapshot_stat_lvl.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>单击“ <span class="bold">确定”</span>以应用更改。
                                 </p>
                                 <p>将显示“自动工作负载存储库”页面并显示新设置。</p>
                                 <div class="figure" id="GUID-30B879E1-64F9-451A-91C6-8B32DAFD74C4__GUID-F948D733-79FF-40D0-8EF6-57CA9554D84A"><img src="img/snapshot_sett_mod.gif" alt="下面是snapshot_sett_mod.gif的描述" title="下面是snapshot_sett_mod.gif的描述" longdesc="img_text/snapshot_sett_mod.html"><br><a href="img_text/snapshot_sett_mod.html">说明snapshot_sett_mod.gif的说明</a></div>
                                 <!-- class="figure" -->
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="TDPPT511"></a><a id="TDPPT029"></a><div class="props_rev_3"><a id="GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F" name="GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F"></a><h3 id="TDPPT-GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F" class="sect3"><span class="enumeration_section">3.3</span>查看自动数据库诊断监视器分析</h3>
               <div>
                  <div class="section">
                     <p>默认情况下，ADDM每小时运行一次，以分析AWR在此期间拍摄的快照。如果数据库发现性能问题<a id="d5677e1774" class="indexterm-anchor"></a> ，然后它在Database Home页面的Summary部分的Diagnostics下显示分析结果。
                     </p>
                     <div class="figure" id="GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F__GUID-5B22DD71-A6C9-4ED6-A7D5-5DB5B641E982"><img src="img/diagnostic_sum.gif" alt="diagnostic_sum.gif的描述如下" title="diagnostic_sum.gif的描述如下" longdesc="img_text/diagnostic_sum.html"><br><a href="img_text/diagnostic_sum.html">说明diagnostic_sum.gif的描述</a></div>
                     <!-- class="figure" -->
                     <p>ADDM Findings链接显示在最近的ADDM分析中发现了多少ADDM结果。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F__GUID-32DB9AAA-BDA7-415B-A98B-6243A22371C9">要查看ADDM结果：</p>
                     <ol>
                        <li>
                           <p>访问数据库主页。</p>
                           <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>从“ <span class="bold">性能”</span>菜单中，选择“ <span class="bold">顾问主页”</span> 。
                           </p>
                           <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将显示Advisor Central页面。</p>
                        </li>
                        <li>
                           <p>在“顾问任务”的“结果”部分中，选择最新的ADDM结果，然后单击“ <span class="bold">查看结果”</span> 。
                           </p>
                           <p>将出现“自动数据库诊断监视器（ADDM）”页面。显示ADDM运行的结果。</p>
                           <div class="figure" id="GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F__BABHDFFI">
                              <p class="titleinfigure">图3-1自动数据库诊断监视器页面</p><img src="img/addm_page.gif" alt="下面是图3-1的描述" title="下面是图3-1的描述" longdesc="img_text/addm_page.html"><br><a href="img_text/addm_page.html">“图3-1自动数据库诊断监视器页面”的说明</a></div>
                           <!-- class="figure" -->
                           <p>在“自动数据库诊断监视器（ADDM）”页面上，“数据库活动”图表显示ADDM分析期间的数据库活动。数据库活动类型在图例中根据图表中对应的颜色定义。图表下方的每个图标代表不同的ADDM任务，后者又对应于AWR中保存的一对快照。</p>
                           <p>在<a href="automatic-database-performance-monitoring.html#GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F__BABHDFFI">图3-1中</a> ，“数据库活动”部分中的堆积区域图表显示，大多数数据库活动是在12月30日下午2:00到4:30之间。在此期间，活动由CPU和等待类主导，发生的I / O很少。
                           </p>
                           <p>在ADDM性能分析部分中，ADDM结果按降序列出，从最高影响到最小影响。“信息调查结果”部分列出了没有性能影响且仅供参考的区域。</p>
                           <div class="figure" id="GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F__GUID-1BC457B3-3C11-4979-9AEC-4B6A03E80EE9"><img src="img/information_findings.gif" alt="信息描述如下：information_findings.gif" title="信息描述如下：information_findings.gif" longdesc="img_text/information_findings.html"><br><a href="img_text/information_findings.html">说明information_findings.gif的描述</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>（可选）单击“缩放”图标以缩短或延长图表上显示的分析周期。</p>
                        </li>
                        <li>
                           <p>在报告中查看ADDM结果<a id="d5677e1839" class="indexterm-anchor"></a> ，单击<span class="bold">查看报告</span> 。
                           </p>
                           <p>将显示“查看报告”页面。</p>
                           <p>您可以单击“ <span class="bold">保存到文件”</span>以保存报告以供以后访问。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TDPPT030"></a><div class="props_rev_3"><a id="GUID-3262CC73-BDB4-4315-907C-440307A0565C" name="GUID-3262CC73-BDB4-4315-907C-440307A0565C"></a><h3 id="TDPPT-GUID-3262CC73-BDB4-4315-907C-440307A0565C" class="sect3"><span class="enumeration_section">3.4</span>自动数据库诊断监视器结果的解释</h3>
               <div>
                  <p>ADDM分析结果表示为一组<a id="d5677e1936" class="indexterm-anchor"></a>发现。每个ADDM发现都属于以下三种类型之一：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>问题</p>
                        <p>描述数据库性能问题根本原因的调查结果</p>
                     </li>
                     <li>
                        <p>症状</p>
                        <p>包含通常会导致一个或多个问题发现的信息的调查结果</p>
                     </li>
                     <li>
                        <p>信息</p>
                        <p>用于报告系统中没有性能影响的区域的结果</p>
                     </li>
                  </ul>
                  <p><a id="d5677e1960" class="indexterm-anchor"></a>通过估计DB时间的部分量化每个问题发现<a id="d5677e1965" class="indexterm-anchor"></a>这是由性能问题引起的。
                  </p>
                  <p>当特定问题有多种原因时，ADDM可能会报告多个结果。在这种情况下，这些多个发现的影响可能包含相同的DB时间部分。由于性能问题可能会重叠，因此总结报告结果的影响可能会产生高于DB时间100％的数字。例如，如果系统执行许多读取I / O操作，ADDM可能会报告由于I / O活动作为一个发现而导致50％DB时间的SQL语句，以及负责75％DB时间的小型缓冲区高速缓存。另一个发现。</p>
                  <p>问题发现可以与推荐列表相关联<a id="d5677e1974" class="indexterm-anchor"></a>减少性能问题的影响。每个建议都有一个好处，即在实施建议时可以保存的DB时间部分的估计值。当多个建议与ADDM发现相关联时，建议可能包含解决相同问题的替代方案。在这种情况下，收益的总和可能高于发现的影响。您无需应用所有建议来解决同一问题。
                  </p>
                  <p>建议由行动组成<a id="d5677e1983" class="indexterm-anchor"></a>和理由<a id="d5677e1990" class="indexterm-anchor"></a> 。您必须应用建议的所有操作才能获得预期收益。基本原理解释了为什么建议采取这些行动，并提供实施这些行动的其他信息。ADDM动作可以呈现多种解决方案。如果是这种情况，那么选择最简单的解决方案来实现。
                  </p>
               </div>
            </div><a id="TDPPT512"></a><a id="TDPPT031"></a><div class="props_rev_3"><a id="GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1" name="GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1"></a><h3 id="TDPPT-GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1" class="sect3"><span class="enumeration_section">3.5</span>实施自动数据库诊断监视器建议</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何实施ADDM建议。ADDM结果显示在ADDM性能分析下的自动数据库诊断监视器（ADDM）页面中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1__GUID-7A15B813-DBA1-4B08-885A-937A1D2A06D9">要实施ADDM建议：</p>
                     <ol>
                        <li>
                           <p>访问数据库主页。</p>
                           <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>从“ <span class="bold">性能”</span>菜单中，选择“ <span class="bold">顾问主页”</span> 。
                           </p>
                           <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将显示Advisor Central页面。</p>
                        </li>
                        <li>
                           <p>在“顾问任务”的“结果”部分中，选择最新的ADDM结果，然后单击“ <span class="bold">查看结果”</span> 。
                           </p>
                           <p>将出现“自动数据库诊断监视器（ADDM）”页面。</p>
                        </li>
                        <li>
                           <p>在“数据库活动”部分中，单击要调查的ADDM运行的图表图标。</p>
                           <p>ADDM性能分析部分中的数据会根据您选择的ADDM运行而更改。</p>
                        </li>
                        <li>
                           <p>在“ADDM性能分析”表中，单击影响最大的ADDM查找。</p>
                           <p>在ADDM性能分析表的以下屏幕截图中，影响最大的查找是Top SQL语句。</p>
                           <div class="figure" id="GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1__GUID-E4E8F8AF-07E0-4119-9C2B-FD3A461D7F8A"><img src="img/perf_analysis.gif" alt="perf_analysis.gif的描述如下" title="perf_analysis.gif的描述如下" longdesc="img_text/perf_analysis.html"><br><a href="img_text/perf_analysis.html">perf_analysis.gif插图的描述</a></div>
                           <!-- class="figure" -->
                           <p>将显示“性能查找详细信息”页面。</p>
                           <p>在“性能查找详细信息”页面的以下屏幕截图中，显示了五个建议。在分析期间，第一个估计最大利益高达DB时间的26.7％。估计第二个建议的最大收益最高可达DB时间的10.9％，第三个推荐最高可达10.9％，第四个最高可达9.9％，第五个最高可达5％。</p>
                           <div class="figure" id="GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1__GUID-FC1787C0-B465-4F0A-939A-B0F3BF1D4061"><img src="img/perf_finding_details.gif" alt="perf_finding_details.gif的描述如下" title="perf_finding_details.gif的描述如下" longdesc="img_text/perf_finding_details.html"><br><a href="img_text/perf_finding_details.html">perf_finding_details.gif插图的描述</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>在“建议”下，单击“ <span class="bold">显示”</span>以查看每个建议的建议和所需操作。
                           </p>
                           <p>“类别”列显示建议的类别。福利（％）列显示实施建议的估计收益。</p>
                           <p><a href="automatic-database-performance-monitoring.html#GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1__BABGDCBA">图3-2</a>显示了Recommendations表中第一项的建议。
                           </p>
                           <div class="figure" id="GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1__BABGDCBA">
                              <p class="titleinfigure">图3-2有关性能查找详细信息页面的建议</p><img src="img/addm_rec.gif" alt="下面是图3-2的描述" title="下面是图3-2的描述" longdesc="img_text/addm_rec.html"><br><a href="img_text/addm_rec.html">“图3-2有关性能查找详细信息页面的建议”的说明</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>如果有关于建议操作集的原因的<span class="bold">其他信息</span> ，请单击“ <span class="bold">其他信息”</span> ，或查看“其他信息”下显示的内容。
                           </p>
                           <p>例如，以下屏幕截图显示了一个Undersized Buffer Cache查找，其中包含指示<code class="codeph">DB_CACHE_SIZE</code>初始化参数的建议值的其他信息。
                           </p>
                           <div class="figure" id="GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1__GUID-4AFECEF7-5164-4F55-9167-EB1AB5F84066"><img src="img/addm_addit_info.gif" alt="addm_addit_info.gif的描述如下" title="addm_addit_info.gif的描述如下" longdesc="img_text/addm_addit_info.html"><br><a href="img_text/addm_addit_info.html">addm_addit_info.gif插图的描述</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>要查看<span class="bold">查找的历史记录</span> ，请单击“ <span class="bold">查找历史记录”</span> 。
                           </p>
                           <p>将显示“查找历史记录”页面。以下屏幕截图显示了顶级SQL语句的“查找历史记录”页面。</p>
                           <div class="figure" id="GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1__GUID-E7C06CF2-0164-4FB0-BDB1-8AC46AE512CA"><img src="img/finding_history.gif" alt="finds_history.gif的描述如下" title="finds_history.gif的描述如下" longdesc="img_text/finding_history.html"><br><a href="img_text/finding_history.html">插图描述finding_history.gif</a></div>
                           <!-- class="figure" -->
                           <p>“查找历史记录”页面显示在选定的3小时间隔内发生特定发现的频率。您可以使用此信息来确定发现是系统中的瞬态问题还是持久问题。根据此信息，您可以确定是否应实施与查找相关的操作。</p>
                           <p>活动会话堆积面积图显示了发现和其他负载对系统的影响。您可以按如下方式更改显示：</p>
                           <ol type="a">
                              <li>
                                 <p>要移动3小时间隔，请单击并拖动“活动会话”图表中的阴影框。</p>
                              </li>
                              <li>
                                 <p>要更改日期，请在“ <span class="bold">视图”</span>字段中输入所需的日期，然后单击<span class="bold">“执行”</span> 。</p>
                              </li>
                              <li>
                                 <p>要查看有关查找的详细信息，请在“详细选择3小时间隔”下，单击“ <span class="bold">查找详细信息”</span>列中的链接以显示相应ADDM查找的“性能查找详细信息”页面。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>（可选）创建过滤器以抑制已调整或无法进一步调整的已知结果。要为选定的ADDM查找创建过滤器：</p>
                           <ol type="a">
                              <li>
                                 <p>单击<span class="bold">过滤器</span> 。
                                 </p>
                                 <p>将显示“搜索过滤器”页面。</p>
                              </li>
                              <li>
                                 <p>单击“ <span class="bold">创建”</span>
                                 </p>
                                 <p>将出现“创建过滤器以查找”页面。</p>
                              </li>
                              <li>
                                 <p>在“ <span class="bold">名称”</span>字段中，输入ADDM筛选器的名称。
                                 </p>
                              </li>
                              <li>
                                 <p>在“ <span class="bold">活动会话”</span>字段中，根据<span class="bold">活动会话</span>数指定筛选条件。
                                 </p>
                                 <p>如果查找的活动会话数小于指定的筛选条件，则数据库会筛选ADDM查找以用于将来的ADDM运行。</p>
                              </li>
                              <li>
                                 <p>在<span class="bold">％Active Sessions</span>字段中，根据活动会话的百分比指定过滤条件。
                                 </p>
                                 <p>如果查找的活动会话数小于指定的筛选条件，则数据库会筛选ADDM查找以用于将来的ADDM运行。</p>
                              </li>
                              <li>
                                 <p>单击<span class="bold">确定</span> 。</p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>执行所选建议的必要操作。</p>
                           <p>根据您选择执行的操作类型，可能会提供各种选项，例如“ <span class="bold">实施”</span>或<span class="bold">“立即运行顾问”</span> 。通过这些选项，您只需单击鼠标即可立即实施建议。
                           </p>
                           <p>在<a href="automatic-database-performance-monitoring.html#GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1__BABGDCBA">图3-2</a>所示的示例中，最简单的解决方案是单击立即运行<span class="bold">Advisor</span>以立即在SQL语句上运行SQL Tuning Advisor任务。
                           </p>
                           <div class="infoboxnotealso" id="GUID-8CBEA3E7-7550-41D9-ACFF-13BACF9900F1__GUID-16E6CCFB-21EF-455A-91F2-BF8FC7002371">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">调整SQL语句</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TDPPT032"></a><div class="props_rev_3"><a id="GUID-F45A8EB8-CC26-4B7F-AAB6-E62A4E3FD505" name="GUID-F45A8EB8-CC26-4B7F-AAB6-E62A4E3FD505"></a><h3 id="TDPPT-GUID-F45A8EB8-CC26-4B7F-AAB6-E62A4E3FD505" class="sect3"><span class="enumeration_section">3.6</span>查看快照统计信息</h3>
               <div>
                  <div class="section">
                     <p>您可以使用Cloud Control查看AWR拍摄的快照中包含的数据。通常，没有必要检查快照数据，因为它主要包含原始统计信息。相反，依靠ADDM，ADDM分析统计数据以识别性能问题。快照统计信息主要面向高级用户，例如习惯使用Statspack进行性能分析的DBA。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F45A8EB8-CC26-4B7F-AAB6-E62A4E3FD505__GUID-D23C8A18-6C82-4BC1-85B9-E4F556DB9D69">要查看快照统计信息：</p>
                     <ol>
                        <li>
                           <p>访问数据库主页。</p>
                           <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>从<span class="bold">Performance</span>菜单中，选择<span class="bold">AWR</span> ，然后选择<span class="bold">AWR Administration</span> 。
                           </p>
                           <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将出现“性能”页面。</p>
                        </li>
                        <li>
                           <p>在“管理快照和基准”下，单击“快照”旁边的数字。</p>
                           <p>将显示“快照”页面，其中包含最新快照的列表。</p>
                        </li>
                        <li>
                           <p>要查看快照中收集的统计信息，请单击要查看的快照的<span class="bold">ID</span>链接。
                           </p>
                           <p>将显示“快照详细信息”，显示“详细信息”子页面。</p>
                           <p>以下详细信息子页面的屏幕截图显示了从上一个快照（快照386）收集到所选快照（快照387）的统计信息。</p>
                           <div class="figure" id="GUID-F45A8EB8-CC26-4B7F-AAB6-E62A4E3FD505__GUID-9D1B645C-B33B-4CC7-AA82-3786E751DC8B"><img src="img/snapshot_det.gif" alt="snapshot_det.gif的描述如下" title="snapshot_det.gif的描述如下" longdesc="img_text/snapshot_det.html"><br><a href="img_text/snapshot_det.html">插图描述snapshot_det.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>要查看统计信息的Workload Repository报告，请单击<span class="bold">“报告”</span> 。
                           </p>
                           <p>将显示“工作负载存储库”报告。</p>
                        </li>
                        <li>
                           <p>（可选）单击“ <span class="bold">保存到文件”</span>以保存报告以供以后访问。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-F45A8EB8-CC26-4B7F-AAB6-E62A4E3FD505__GUID-B4BFA787-A339-4620-8F0B-B6DA12290FFC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="resolving-performance-degradation-over-time.html#GUID-71C2B1BD-6906-47B0-9FF5-BD3268F0C7C8">随着时间的推移解决性能下降</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>