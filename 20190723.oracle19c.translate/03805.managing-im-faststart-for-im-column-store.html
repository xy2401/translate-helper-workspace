<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="When the IM column store is enabled, In-Memory FastStart (IM FastStart) enables the database to open faster by storing columnar data on disk."></meta>
      <meta name="description" content="When the IM column store is enabled, In-Memory FastStart (IM FastStart) enables the database to open faster by storing columnar data on disk."></meta>
      <title>管理IM列存储的IM FastStart</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database In-Memory Guide"></meta>
      <meta property="og:description" content="When the IM column store is enabled, In-Memory FastStart (IM FastStart) enables the database to open faster by storing columnar data on disk."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database In-Memory Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-memory-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-22T09:02:38-07:00"></meta>
      <meta name="dcterms.title" content="Database In-Memory Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96137-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="high-availability-and-the-im-column-store.html" title="Previous" type="text/html"></link>
      <link rel="next" href="deploying-in-memory-in-oracle-rac.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="INMEM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="high-availability-and-the-im-column-store.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="deploying-in-memory-in-oracle-rac.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库内存指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="high-availability-and-the-im-column-store.html" property="item" typeof="WebPage"><span property="name">高可用性和IM列存储</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理IM列存储的IM FastStart</li>
            </ol>
            <a id="GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79" name="GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79"></a>
            
            <h2 id="INMEM-GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79" class="sect2"><span class="enumeration_chapter">11</span>为IM列存储管理IM FastStart</h2>
         </header>
         <div class="ind">
            <div>
               <p>启用IM列存储后，内存中快速启动（IM FastStart）可通过在磁盘上存储柱状数据来更快地打开数据库。</p>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-im-faststart-for-im-column-store.html#GUID-54FAC938-78C2-487F-8E6E-016073C5B735">关于IM FastStart</a><br><span>IM FastStart通过将IMCU直接存储在磁盘上来优化IM列存储中的数据库对象的数量。</span></li>
                  <li class="ulchildlink"><a href="managing-im-faststart-for-im-column-store.html#GUID-682D850C-1387-48A9-A4EA-A332522E5F60">为IM列存储启用IM FastStart</a><br>使用<code class="codeph">DBMS_INMEMORY_ADMIN.FASTSTART_ENABLE</code>过程为FastStart区域指定表空间。
                  </li>
                  <li class="ulchildlink"><a href="managing-im-faststart-for-im-column-store.html#GUID-949A3B49-C8B9-4188-A565-77369F3C1C1B">检索当前IM FastStart表空间的名称</a><br>通过查询<code class="codeph">V$INMEMORY_FASTSTART_AREA</code>视图获取当前指定为FastStart区域的表空间的名称。
                  </li>
                  <li class="ulchildlink"><a href="managing-im-faststart-for-im-column-store.html#GUID-33F5A0CD-4459-446B-AA1B-C955BAFD2927">将FastStart区域迁移到不同的表空间</a><br>您可以通过运行中的FastStart区域迁移到不同的表空间<code class="codeph">FASTSTART_MIGRATE_STORAGE</code>在程序<code class="codeph">DBMS_INMEMORY_ADMIN</code>包。
                  </li>
                  <li class="ulchildlink"><a href="managing-im-faststart-for-im-column-store.html#GUID-566D88CD-D068-4794-88DA-5AFA373260C7">禁用IM列存储的IM FastStart</a><br>禁用IM FastStart时，数据库不再维护FastStart区域。数据库重新打开时，数据库不使用IM FastStart填充IM列存储。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="high-availability-and-the-im-column-store.html#GUID-744E10A1-D345-4F73-82BD-6690CFF333D4" title="本部分介绍如何使用具有高可用性功能的IM列存储，例如内存中快速启动（IM FastStart），Oracle Data Guard和Oracle Real Application Clusters（Oracle RAC）。">高可用性和IM列存储</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-54FAC938-78C2-487F-8E6E-016073C5B735" name="GUID-54FAC938-78C2-487F-8E6E-016073C5B735"></a><h3 id="INMEM-GUID-54FAC938-78C2-487F-8E6E-016073C5B735" class="sect3"><span class="enumeration_section">11.1</span>关于IM FastStart</h3>
               <div>
                  <p><span>IM FastStart通过将IMCU直接存储在磁盘上来优化IM列存储中的数据库对象的数量。</span></p>
                  <p>在实例故障和恢复之后，或在复制到其他Oracle RAC实例期间，数据库可以从IM FastStart区域读取数据。</p>
                  <div class="infoboxnote" id="GUID-54FAC938-78C2-487F-8E6E-016073C5B735__GUID-C34CC676-A2F7-4112-A18C-B9550F67E486">
                     <p class="notep1">注意：</p>
                     <p>备用数据库不支持IM FastStart，它是只读的。</p>
                  </div>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-im-faststart-for-im-column-store.html#GUID-9320CD93-B260-4C4C-BD15-5B120454B577">IM FastStart的目的</a><br>每当数据库实例重新启动时，都会填充IM列存储，这可能是I / O密集型和CPU密集型的慢速操作。
                     </li>
                     <li class="ulchildlink"><a href="managing-im-faststart-for-im-column-store.html#GUID-0D6BE0E3-4E99-466E-AD1A-18404241C670">IM FastStart如何工作</a><br>FastStart区域是指定的表空间，IM FastStart存储和管理<code class="codeph">INMEMORY</code>对象的数据。Oracle数据库管理FastStart表空间而无需DBA干预。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-im-faststart-for-im-column-store.html#GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79" title="启用IM列存储后，内存中快速启动（IM FastStart）可通过在磁盘上存储柱状数据来更快地打开数据库。">为IM列存储管理IM FastStart</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-9320CD93-B260-4C4C-BD15-5B120454B577" name="GUID-9320CD93-B260-4C4C-BD15-5B120454B577"></a><h4 id="INMEM-GUID-9320CD93-B260-4C4C-BD15-5B120454B577" class="sect4"><span class="enumeration_section">11.1.1</span> IM FastStart的目的</h4>
                  <div>
                     <p>每当数据库实例重新启动时，都会填充IM列存储，这可能是I / O密集型和CPU密集型的慢速操作。</p>
                     <p>启用IM FastStart后，数据库会定期将一列列数据保存到磁盘，以便在实例重新启动期间更快地重新填充。如果数据库在关闭后重新打开，则数据库将从FastStart区域读取列数据，然后将其填充到IM列存储中，从而确保维护所有事务一致性。</p>
                     <p>IM FastStart表空间在数据库打开并运行时需要间歇性I / O.数据库重新打开时会出现性能提升，因为数据库会避免CPU密集型压缩和数据格式化。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-im-faststart-for-im-column-store.html#GUID-54FAC938-78C2-487F-8E6E-016073C5B735" title="IM FastStart通过将IMCU直接存储在磁盘上来优化IM列存储中的数据库对象的数量。">关于IM FastStart</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-0D6BE0E3-4E99-466E-AD1A-18404241C670" name="GUID-0D6BE0E3-4E99-466E-AD1A-18404241C670"></a><h4 id="INMEM-GUID-0D6BE0E3-4E99-466E-AD1A-18404241C670" class="sect4"><span class="enumeration_section">11.1.2</span> IM FastStart的工作原理</h4>
                  <div>
                     <p>FastStart区域是指定的表空间，IM FastStart存储和管理<code class="codeph">INMEMORY</code>对象的数据。Oracle数据库管理FastStart表空间而无需DBA干预。
                     </p>
                     <p>每个PDB或非CDB只允许一个FastStart区域和一个指定的FastStart表空间。当表空间是指定的IM FastStart表空间时，您无法更改或删除它。在Oracle RAC数据库中，所有节点共享FastStart数据。</p>
                     <p>使用<code class="codeph">DBMS_INMEMORY_ADMIN.FASTSTART_ENABLE</code>过程启用FastStart表空间。Space Management Worker Processes（W <span class="italic">nnn</span> ）创建一个名为<code class="codeph">SYSDB <span class="codeinlineitalic">instance_name</span> _LOBSEG$</code>的空SecureFiles LOB。
                     </p>
                     <div class="infoboxnote" id="GUID-0D6BE0E3-4E99-466E-AD1A-18404241C670__GUID-E81DC064-48FB-43B3-8169-15948772CF3B">
                        <p class="notep1">注意：</p>
                        <p>启用IM FastStart区域不足以创建FastStart区域。需要数据<a href="glossary.html#GUID-B2C93CC9-AB1E-487A-8F86-99144CEFDB8B"><span class="xrefglossterm">填充</span></a>或<a href="glossary.html#GUID-9168517C-C8A2-4433-946A-037631B840E2"><span class="xrefglossterm">重新填充</span></a> 。
                        </p>
                     </div>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-im-faststart-for-im-column-store.html#GUID-8B47B9F8-97D4-4D75-8238-333661F3CA96">数据库如何管理FastStart区域</a><br>在启用FastStart区域后的第一次填充或重新填充期间，数据库将创建FastStart区域。
                        </li>
                        <li class="ulchildlink"><a href="managing-im-faststart-for-im-column-store.html#GUID-5ADACAB3-1D86-4894-A723-C32724A5A1A8">数据库如何从FastStart区域读取</a><br>该区域的FastStart定义<span class="italic">了</span>当数据库重新打开数据加载，但不加载<span class="italic">时</span> 。人口由优先级设置控制。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-0D6BE0E3-4E99-466E-AD1A-18404241C670__GUID-7221BEFF-5AE8-48A2-A091-95B23A8D68D8">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="in-memory-column-store-architecture.html#GUID-C91A11F9-CFB7-4919-A8D7-8572ED1CAEF3" title="空间管理工作者流程（Wnnn）代表IMCO填充或重新填充数据。">空间管理工作者流程（Wnnn）</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="repopulation-and-dml.html#GUID-857EFBD6-6D03-4543-9FAB-F66B5C16D0C7" title="重大修改后自动刷新柱状数据称为重新填充。">关于IM列存储的重新填充</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_INMEMORY_ADMIN.html#GUID-5432F0FD-525E-45D2-9C21-F09DFBB25A17" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_INMEMORY_ADMIN.FASTSTART_ENABLE</code>过程</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-im-faststart-for-im-column-store.html#GUID-54FAC938-78C2-487F-8E6E-016073C5B735" title="IM FastStart通过将IMCU直接存储在磁盘上来优化IM列存储中的数据库对象的数量。">关于IM FastStart</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-8B47B9F8-97D4-4D75-8238-333661F3CA96" name="GUID-8B47B9F8-97D4-4D75-8238-333661F3CA96"></a><h5 id="INMEM-GUID-8B47B9F8-97D4-4D75-8238-333661F3CA96" class="sect5"><span class="enumeration_section">11.1.2.1</span>数据库如何管理FastStart区域</h5>
                     <div>
                        <p>在启用FastStart区域后的第一次填充或重新填充期间，数据库将创建FastStart区域。</p>
                        <p>数据库自动管理FastStart区域，如下所示：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>无论何时发生对象的填充或重新填充，数据库都会将其列数据写入FastStart区域。</p>
                              <div class="infoboxnote" id="GUID-8B47B9F8-97D4-4D75-8238-333661F3CA96__GUID-98A35B86-E647-4E80-ADC2-272D46C3325D">
                                 <p class="notep1">注意：</p>
                                 <p>仅当FastStart表空间也已加密时，数据库才会将加密表空间中的段写入FastStart区域。</p>
                              </div>
                              <p>空间管理工作进程（W <span class="italic">nnn</span> ）将IMCU（不是IMEU或SMU）写入名为<code class="codeph">SYSDB <span class="codeinlineitalic">instance_name</span> _LOBSEG$</code>的SecureFiles LOB。数据库将FastStart元数据写入<code class="codeph">SYSAUX</code>表空间，该表空间必须在线。
                              </p>
                              <p>根据CU发生的DML活动量，FastStart区域中的CU与IM列存储中的CU之间可能存在滞后。CU越“热”，数据库在IM列存储中填充它并将其写入FastStart区域的频率就越低。如果数据库崩溃，则在IM列存储中填充的某些CU可能不存在于FastStart区域中。</p>
                              <div class="infoboxnote" id="GUID-8B47B9F8-97D4-4D75-8238-333661F3CA96__GUID-751D07F0-99B4-4A10-8F94-166CAF03C065">
                                 <p class="notep1">注意：</p>
                                 <p>如果FastStart区域暂时无法访问，则In-Memory填充不受影响。</p>
                              </div>
                           </li>
                           <li>
                              <p>如果在段上定义<a href="glossary.html#GUID-66F7095A-378A-4C56-88DA-3AC93A5F55DB"><span class="xrefglossterm">ADO策略</span></a> ，则数据库将根据策略中的规则管理FastStart区域中的段。例如，如果ADO指定对象根据策略将其属性更改为<code class="codeph">NO INMEMORY</code> ，则IM列存储将从FastStart区域中删除其数据。
                              </p>
                           </li>
                           <li>
                              <p>如果填充对象的属性更改为<code class="codeph">NOINMEMORY</code> ，则数据库会自动从FastStart区域中删除其IMCU。
                              </p>
                           </li>
                           <li>
                              <p>如果FastStart表空间空间不足，则数据库使用内部算法删除最旧的段，并继续写入FastStart区域。如果没有剩余空间，则数据库将停止写入FastStart区域。</p>
                           </li>
                        </ul>
                        <p>下图显示了IM列存储中填充的<code class="codeph">products</code> ， <code class="codeph">customers</code>和<code class="codeph">sales</code> 。
                        </p>
                        <div class="figure" id="GUID-8B47B9F8-97D4-4D75-8238-333661F3CA96__GUID-0A1F4213-5AE8-4A11-AA2C-F679FC2DA2E8">
                           <p class="titleinfigure">图11-1 FastStart区域</p><img src="img/cncpt_vm_385.png" alt="下面是图11-1的描述" title="下面是图11-1的描述" longdesc="img_text/cncpt_vm_385.html"><br><a href="img_text/cncpt_vm_385.html">“图11-1 FastStart区域”的描述</a></div>
                        <!-- class="figure" -->
                        <p>当启用的FastStart区域，数据库还经常为这些细分市场的的FastStart区域在IMCUs <code class="codeph">fs_tbs</code> 。如果数据库重新打开或实例重新启动，则数据库可以验证IMCU以进行修改以确保事务一致性，并重用IMCU。无论FastStart区域是否已启用，数据库都会在<code class="codeph">users</code>表空间中的磁盘上存储数据块和段。
                        </p>
                        <div class="infoboxnote" id="GUID-8B47B9F8-97D4-4D75-8238-333661F3CA96__GUID-D08A4C9F-3607-4247-9343-7B33B09BC7F4">
                           <p class="notep1">注意：</p>
                           <p>您无法手动强制IM列存储将数据写入FastStart表空间。</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8B47B9F8-97D4-4D75-8238-333661F3CA96__GUID-86079CBE-EF8A-4849-9FDA-55D01B84813C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="configuring-memory-management.html#GUID-895C9AF1-7FD3-47D2-B8E7-079A39A88068" title="自动数据优化（ADO）可根据这些策略创建策略并自动执行操作，以实施ILM策略。">为IM列存储启用ADO</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="deploying-in-memory-in-oracle-rac.html#GUID-5FCDE9BB-4285-4270-B1AE-FF9D3FF2400B" title="FastStart区域在所有Oracle RAC节点之间共享。此功能可实现群集中的最大共享和可重用性。">Oracle RAC中的FastStart区域</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="repopulation-and-dml.html#GUID-857EFBD6-6D03-4543-9FAB-F66B5C16D0C7" title="重大修改后自动刷新柱状数据称为重新填充。">关于IM列存储的重新填充</a> ”</span></p>
                              </li>
                              <li>
                                 <p><a href="../vldbg/ilm-strategy-heatmap-ado.html#VLDBG-GUID-59C132D6-D36B-4B5E-B0CA-948C1B0E6836" target="_blank"><span><cite>Oracle Database VLDB和分区指南</cite></span></a>了解有关ADO的更多信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-im-faststart-for-im-column-store.html#GUID-0D6BE0E3-4E99-466E-AD1A-18404241C670" title="FastStart区域是指定的表空间，IM FastStart存储和管理INMEMORY对象的数据。Oracle数据库管理FastStart表空间而无需DBA干预。">IM FastStart的工作原理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-5ADACAB3-1D86-4894-A723-C32724A5A1A8" name="GUID-5ADACAB3-1D86-4894-A723-C32724A5A1A8"></a><h5 id="INMEM-GUID-5ADACAB3-1D86-4894-A723-C32724A5A1A8" class="sect5"><span class="enumeration_section">11.1.2.2</span>数据库如何从FastStart区域读取</h5>
                     <div>
                        <p>该区域的FastStart定义<span class="italic">了</span>当数据库重新打开数据加载，但不加载<span class="italic">时</span> 。人口由优先级设置控制。
                        </p>
                        <p>数据库重新打开时，标准<code class="codeph">PRIORITY</code>规则确定填充。例如，数据库根据需要填充<code class="codeph">PRIORITY NONE</code>的对象。优先级为<code class="codeph">CRITICAL</code>对象在自动填充队列中比优先级为<code class="codeph">LOW</code>对象高。</p>
                        <p>例如，在单实例数据库中， <code class="codeph">sales</code> ， <code class="codeph">customers</code>和<code class="codeph">product</code>表在IM列存储中使用<code class="codeph">PRIORITY NONE</code>进行填充。在每次重新填充时，数据库都会将这些表的IMCU保存到FastStart区域。假设实例意外终止。重新打开数据库时，IM列存储为空。如果查询扫描<code class="codeph">sales</code> ， <code class="codeph">customers</code>或<code class="codeph">product</code>表，则数据库会将此表的IMCU从FastStart区域加载到IM列存储中。
                        </p>
                        <p>在大多数情况下，FastStart区域会增加人口的速度。但是，如果存储在FastStart区域中的任何CU达到DML活动的内部阈值，则数据库将从数据文件而不是从FastStart区域填充行数据。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5ADACAB3-1D86-4894-A723-C32724A5A1A8__GUID-86079CBE-EF8A-4849-9FDA-55D01B84813C">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="populating-objects-in-memory.html#GUID-DE12F0E2-8BEC-4326-A816-D812E54A3D12" title="DDL语句包括一个INMEMORY PRIORITY子句，它提供了对总体队列的更多控制。">记忆中人口的优先顺序</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="deploying-in-memory-in-oracle-rac.html#GUID-5FCDE9BB-4285-4270-B1AE-FF9D3FF2400B" title="FastStart区域在所有Oracle RAC节点之间共享。此功能可实现群集中的最大共享和可重用性。">Oracle RAC中的FastStart区域</a> ”</span></p>
                              </li>
                              <li>
                                 <p><code class="codeph">INMEMORY</code>子句语义的<a href="../sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__CEGIDFIC" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-im-faststart-for-im-column-store.html#GUID-0D6BE0E3-4E99-466E-AD1A-18404241C670" title="FastStart区域是指定的表空间，IM FastStart存储和管理INMEMORY对象的数据。Oracle数据库管理FastStart表空间而无需DBA干预。">IM FastStart的工作原理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-682D850C-1387-48A9-A4EA-A332522E5F60" name="GUID-682D850C-1387-48A9-A4EA-A332522E5F60"></a><h3 id="INMEM-GUID-682D850C-1387-48A9-A4EA-A332522E5F60" class="sect3"><span class="enumeration_section">11.2</span>为IM列存储启用IM FastStart</h3>
               <div>
                  <p>使用<code class="codeph">DBMS_INMEMORY_ADMIN.FASTSTART_ENABLE</code>过程为FastStart区域指定表空间。
                  </p>
                  <div class="section">（可选）设置为FastStart区域创建的LOB的日志记录模式。如果<code class="codeph">nologging</code>参数设置为<code class="codeph">TRUE</code> （默认值），则数据库将使用<code class="codeph">NOLOGGING</code>选项创建LOB。如果<code class="codeph">nologging</code>设置为<code class="codeph">FALSE</code> ，则数据库将使用<code class="codeph">LOGGING</code>选项创建FastStart LOB。
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682D850C-1387-48A9-A4EA-A332522E5F60__GUID-7919743E-D49F-41B8-9573-7A876B557CB1">先决条件</p>
                     <p>要创建FastStart区域，您必须满足以下先决条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将指定为FastStart区域的表空间必须存在。</p>
                        </li>
                        <li>
                           <p>此表空间必须有足够的空间来存储IM列存储的数据，并且在将其指定为FastStart区域之前，它不能包含任何其他数据。Oracle建议您创建两倍于<code class="codeph">INMEMORY_SIZE</code>设置大小的FastStart表空间。
                           </p>
                        </li>
                        <li>
                           <p>您必须具有管理员权限。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682D850C-1387-48A9-A4EA-A332522E5F60__GUID-C8CF246C-8BE5-4B7C-B22B-2DBBB3BE4F15">要创建IM FastStart区域：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">DBMS_INMEMORY_ADMIN.FASTSTART_ENABLE</code>过程。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-682D850C-1387-48A9-A4EA-A332522E5F60__GUID-1F895AE3-3A8E-43FE-A869-8FECB87C5455">
                     <p class="titleinexample">例11-1指定IM FastStart区域</p>
                     <p>此示例创建一个表空间并将其指定为FastStart区域。</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有管理权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>创建一个名为<code class="codeph">fs_tbs</code>的表空间：</p><pre class="pre codeblock"><code>CREATE TABLESPACE fs_tbs DATAFILE'fs_tbs.dbf'SIZE 500M REUSE AUTOEXTEND ON NEXT 500K MAXSIZE 1G;</code></pre></li>
                        <li>
                           <p>启用IM FastStart，并使用FastStart LOB的默认<code class="codeph">NOLOGGING</code>选项将<code class="codeph">fs_tbs</code>表空间指定为FastStart区域：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.FASTSTART_ENABLE（'fs_tbs'）;</code></pre></li>
                        <li>
                           <p>查询FastStart区域的状态和大小：</p><pre class="pre codeblock"><code>COL TABLESPACE_NAME FORMAT a15 SELECT TABLESPACE_NAME，STATUS，（（ALLOCATED_SIZE / 1024）/ 1024）AS ALLOC_MB，（（USED_SIZE / 1024）/ 1024）AS USED_MB FROM V $ INMEMORY_FASTSTART_AREA; TABLESPACE_NAME状态ALLOC_MB USED_MB --------------- -------------------- ----------- --------- FS_TBS ENABLE 500 .0625</code></pre><p>在此阶段，FastStart区域中没有用户数据。</p>
                        </li>
                        <li>
                           <p>查询FastStart LOB的日志记录模式：</p><pre class="pre codeblock"><code>COL SEGMENT_NAME FORMAT a20 SELECT SEGMENT_NAME，从DBA_LOBS登录，其中TABLESPACE_NAME ='FS_TBS'; SEGMENT_NAME LOGGING -------------------- ------- SYSDBIMFS_LOBSEG $ NO</code></pre></li>
                        <li>
                           <p>强制IM列存储重新填充任何当前填充的对象。</p>
                           <p>以下查询会强制重新填充<code class="codeph">sales</code> ， <code class="codeph">products</code>和<code class="codeph">customers</code>表：</p><pre class="pre codeblock"><code>SELECT / * + FULL（s）NO_PARALLEL（s）* / COUNT（*）FROM sh.sales s; SELECT / * + FULL（p）NO_PARALLEL（p）* / COUNT（*）FROM sh.products p; SELECT / * + FULL（c）NO_PARALLEL（c）* / COUNT（*）FROM sh.customers c;</code></pre></li>
                        <li>
                           <p>查询FastStart区域的大小：</p><pre class="pre codeblock"><code>COL TABLESPACE_NAME FORMAT a15 SELECT TABLESPACE_NAME，STATUS，（（ALLOCATED_SIZE / 1024）/ 1024）AS ALLOC_MB，（（USED_SIZE / 1024）/ 1024）AS USED_MB FROM V $ INMEMORY_FASTSTART_AREA; TABLESPACE_NAME状态ALLOC_MB USED_MB --------------- -------------------- ----------- --------- FS_TBS ENABLE 500 2.25</code></pre><p>现在相同的查询显示已填充2.25 MB的FastStart区域。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-682D850C-1387-48A9-A4EA-A332522E5F60__GUID-DFD8C9ED-6998-439A-92EB-86AC81A98337">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../arpls/DBMS_INMEMORY_ADMIN.html#GUID-398720DF-7D8D-4418-B395-5F7C5FC85BC5" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">DBMS_INMEMORY_ADMIN</code>包</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-im-faststart-for-im-column-store.html#GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79" title="启用IM列存储后，内存中快速启动（IM FastStart）可通过在磁盘上存储柱状数据来更快地打开数据库。">为IM列存储管理IM FastStart</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-949A3B49-C8B9-4188-A565-77369F3C1C1B" name="GUID-949A3B49-C8B9-4188-A565-77369F3C1C1B"></a><h3 id="INMEM-GUID-949A3B49-C8B9-4188-A565-77369F3C1C1B" class="sect3"><span class="enumeration_section">11.3</span>检索当前IM FastStart表空间的名称</h3>
               <div>
                  <p>通过查询<code class="codeph">V$INMEMORY_FASTSTART_AREA</code>视图获取当前指定为FastStart区域的表空间的名称。
                  </p>
                  <div class="section">如果未启用FastStart表空间，则<code class="codeph">STATUS</code>列显示<code class="codeph">NOT ENABLED</code> ;否则，该列显示表空间名称。
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-949A3B49-C8B9-4188-A565-77369F3C1C1B__GUID-9435C419-95C8-44CD-ADAB-B2808FE862AD">先决条件</p>
                     <p>要检索FastStart表空间的名称，您必须具有管理员权限。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-949A3B49-C8B9-4188-A565-77369F3C1C1B__GUID-D3E64894-8A71-4195-9680-774CAA4F9F71">要检索FastStart表空间的名称：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>查询<code class="codeph">V$INMEMORY_FASTSTART_AREA</code>视图。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-949A3B49-C8B9-4188-A565-77369F3C1C1B__GUID-AB70737C-C33C-4B3E-9EED-8C46F205C8E9">
                     <p class="titleinexample">例11-2获取当前IM FastStart表空间的名称</p>
                     <p>此示例查询FastStart表空间的名称和状态（包括示例输出）：</p><pre class="pre codeblock"><code>COL TABLESPACE_NAME格式化a20 SELECT TABLESPACE_NAME，状态来自V $ INMEMORY_FASTSTART_AREA; TABLESPACE_NAME状态-------------------- ---------- FS_TBS ENABLE</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-949A3B49-C8B9-4188-A565-77369F3C1C1B__GUID-D2DB0FE9-78AB-452F-B712-29347D1CF4BD">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../refrn/V-INMEMORY_FASTSTART_AREA.html#GUID-F50A1BC4-5C06-474F-8B53-D30593FE6343" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>了解<code class="codeph">V$INMEMORY_FASTSTART_AREA</code>视图</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-im-faststart-for-im-column-store.html#GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79" title="启用IM列存储后，内存中快速启动（IM FastStart）可通过在磁盘上存储柱状数据来更快地打开数据库。">为IM列存储管理IM FastStart</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-33F5A0CD-4459-446B-AA1B-C955BAFD2927" name="GUID-33F5A0CD-4459-446B-AA1B-C955BAFD2927"></a><h3 id="INMEM-GUID-33F5A0CD-4459-446B-AA1B-C955BAFD2927" class="sect3"><span class="enumeration_section">11.4</span>将FastStart区域迁移到不同的表空间</h3>
               <div>
                  <p>您可以通过运行中的FastStart区域迁移到不同的表空间<code class="codeph">FASTSTART_MIGRATE_STORAGE</code>在程序<code class="codeph">DBMS_INMEMORY_ADMIN</code>包。
                  </p>
                  <div class="section">在非CDB或PDB中，您一次只能指定一个表空间作为FastStart区域。</div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-33F5A0CD-4459-446B-AA1B-C955BAFD2927__GUID-7919743E-D49F-41B8-9573-7A876B557CB1">先决条件</p>
                     <p>要迁移FastStart区域，您必须满足以下先决条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将指定为新FastStart区域的表空间必须存在。</p>
                        </li>
                        <li>
                           <p>此表空间必须有足够的空间来存储IM列存储的数据，并且在将其指定为FastStart区域之前，它不能包含任何其他数据。</p>
                        </li>
                        <li>
                           <p>您必须具有管理员权限。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-33F5A0CD-4459-446B-AA1B-C955BAFD2927__GUID-C8CF246C-8BE5-4B7C-B22B-2DBBB3BE4F15">要迁移IM FastStart区域：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>运行<code class="codeph">DBMS_INMEMORY_ADMIN.FASTSTART_MIGRATE_STORAGE</code>过程。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-33F5A0CD-4459-446B-AA1B-C955BAFD2927__GUID-AB70737C-C33C-4B3E-9EED-8C46F205C8E9">
                     <p class="titleinexample">示例11-3将FastStart区域迁移到不同的表空间</p>
                     <p>此示例将IM FastStart区域迁移到<code class="codeph">new_fs_tbs</code>表空间。
                     </p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有管理权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>查询当前FastStart表空间的名称：</p><pre class="pre codeblock"><code>COL TABLESPACE_NAME格式化a15 SELECT TABLESPACE_NAME，状态来自V $ INMEMORY_FASTSTART_AREA; TABLESPACE_NAME状态--------------- ----------- FS_TBS ENABLE</code></pre></li>
                        <li>创建一个名为<code class="codeph">new_fs_tbs</code>的表空间：<pre class="pre codeblock"><code>CREATE TABLESPACE new_fs_tbs DATAFILE'new_fs_tbs.dbf'SIZE 500M REUSE AUTOEXTEND ON NEXT 500K MAXSIZE 1G;</code></pre></li>
                        <li>
                           <p>将FastStart区域迁移到新表空间：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.FASTSTART_MIGRATE_STORAGE（'new_fs_tbs'）;</code></pre></li>
                        <li>
                           <p>查询当前FastStart表空间的名称：</p><pre class="pre codeblock"><code>TABLESPACE_NAME STATUS -------------------- -------------------- NEW_FS_TBS ENABLE</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-33F5A0CD-4459-446B-AA1B-C955BAFD2927__GUID-40CC8006-5EAE-4841-BB1E-7B7B73D8AD3B">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../arpls/DBMS_INMEMORY_ADMIN.html#GUID-DE62E3C7-435D-472C-B11C-532D098D3A8D" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">FASTSTART_MIGRATE_STORAGE</code>过程</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-im-faststart-for-im-column-store.html#GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79" title="启用IM列存储后，内存中快速启动（IM FastStart）可通过在磁盘上存储柱状数据来更快地打开数据库。">为IM列存储管理IM FastStart</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-566D88CD-D068-4794-88DA-5AFA373260C7" name="GUID-566D88CD-D068-4794-88DA-5AFA373260C7"></a><h3 id="INMEM-GUID-566D88CD-D068-4794-88DA-5AFA373260C7" class="sect3"><span class="enumeration_section">11.5</span>禁用IM列存储的IM FastStart</h3>
               <div>
                  <p>禁用IM FastStart时，数据库不再维护FastStart区域。数据库重新打开时，数据库不使用IM FastStart填充IM列存储。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-566D88CD-D068-4794-88DA-5AFA373260C7__GUID-9435C419-95C8-44CD-ADAB-B2808FE862AD">先决条件</p>
                     <p>要禁用FastStart区域，必须满足以下条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>必须启用FastStart区域。</p>
                        </li>
                        <li>
                           <p>您必须具有管理员权限。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-566D88CD-D068-4794-88DA-5AFA373260C7__GUID-D3E64894-8A71-4195-9680-774CAA4F9F71">要禁用FastStart表空间：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有必要权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>查询<code class="codeph">V$INMEMORY_FASTSTART_AREA</code>以确认已启用IM FastStart区域。
                           </p>
                        </li>
                        <li>
                           <p>执行<code class="codeph">DBMS_INMEMORY_ADMIN.FASTSTART_DISABLE</code>过程。
                           </p>
                        </li>
                        <li>
                           <p>（可选）删除FastStart表空间。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-566D88CD-D068-4794-88DA-5AFA373260C7__GUID-AB70737C-C33C-4B3E-9EED-8C46F205C8E9">
                     <p class="titleinexample">示例11-4禁用IM FastStart</p>
                     <p>此示例禁用IM FastStart区域，然后删除<code class="codeph">fs_tbs</code>表空间。
                     </p>
                     <ol>
                        <li>
                           <p>在SQL * Plus或SQL Developer中，以具有管理权限的用户身份登录数据库。</p>
                        </li>
                        <li>
                           <p>查询FastStart区域的状态：</p><pre class="pre codeblock"><code>COL TABLESPACE_NAME格式化a15 SELECT TABLESPACE_NAME，状态来自V $ INMEMORY_FASTSTART_AREA; TABLESPACE_NAME状态--------------- ----------- FS_TBS ENABLE</code></pre></li>
                        <li>
                           <p>禁用FastStart区域：</p><pre class="pre codeblock"><code>EXEC DBMS_INMEMORY_ADMIN.FASTSTART_DISABLE;</code></pre></li>
                        <li>
                           <p>查询FastStart区域的状态：</p><pre class="pre codeblock"><code>SELECT TABLESPACE_NAME，状态来自V $ INMEMORY_FASTSTART_AREA; TABLESPACE_NAME STATUS -------------------- -------------------- INVALID_TABLESPACE DISABLE</code></pre><p>未启用IM FastStart时， <code class="codeph">TABLESPACE_NAME</code>值为<code class="codeph">INVALID_TABLESPACE</code> ， <code class="codeph">STATUS</code>值为<code class="codeph">DISABLE</code> 。</p>
                        </li>
                        <li>
                           <p>删除以前的FastStart表空间：</p><pre class="pre codeblock"><code>DROP TABLESPACE fs_tbs包括内容和数据文件;</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-566D88CD-D068-4794-88DA-5AFA373260C7__GUID-9480B22E-E9D1-46E1-B7C4-689E85F3131D">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../arpls/DBMS_INMEMORY_ADMIN.html#GUID-842A21B6-0E9D-45DC-9699-61C73A916FB2" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考，</cite></span></a>以了解<code class="codeph">FASTSTART_DISABLE</code>过程</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-im-faststart-for-im-column-store.html#GUID-CAA790EA-0CF6-44A8-A332-3CE23EC0FE79" title="启用IM列存储后，内存中快速启动（IM FastStart）可通过在磁盘上存储柱状数据来更快地打开数据库。">为IM列存储管理IM FastStart</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>