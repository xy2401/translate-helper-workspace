<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Managing Operating System Resources</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Performance Tuning Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Performance Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-performance-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-12T22:26:14-07:00">
      <meta name="dcterms.title" content="Database Performance Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96347-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="IO-configuration-and-design.html" title="Previous" type="text/html">
      <link rel="next" href="book-index.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGDBA">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="IO-configuration-and-design.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="book-index.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Performance Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-IV-managing-system-resources.html" property="item" typeof="WebPage"><span property="name">Managing System Resources </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Managing Operating System Resources</li>
            </ol>
            <a id="GUID-81614D0C-8C18-4808-8207-1447D511038E" name="GUID-81614D0C-8C18-4808-8207-1447D511038E"></a><a id="TGDBA016"></a>
            
            <h2 id="TGDBA-GUID-81614D0C-8C18-4808-8207-1447D511038E" class="sect2"><span class="enumeration_chapter">18 </span> Managing Operating System Resources
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains how to tune the operating system for optimal performance of Oracle Database.</p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="managing-operating-system-resources.html#GUID-88108E49-6093-42BB-A29A-8A5D25CF7E10">Understanding Operating System Performance Issues</a></p>
                  </li>
                  <li>
                     <p><a href="managing-operating-system-resources.html#GUID-F3647DCD-D2BF-499D-9F0C-88204E6D34DE">Resolving Operating System Issues</a></p>
                  </li>
                  <li>
                     <p><a href="managing-operating-system-resources.html#GUID-F548D17E-7175-4EEA-BF2E-93F5CB23E375">Understanding CPU</a></p>
                  </li>
                  <li>
                     <p><a href="managing-operating-system-resources.html#GUID-3FBB00B3-435A-4111-9A00-E41AD78B3873">Resolving CPU Issues</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-81614D0C-8C18-4808-8207-1447D511038E__GUID-CE59F018-C83C-4E33-9238-EE8F38783FAA">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Your operating system documentation</p>
                     </li>
                     <li>
                        <p>Your Oracle Database platform-specific documentation, which contains tuning information specific to your platform</p>
                     </li>
                  </ul>
               </div>
            </div><a id="TGDBA94409"></a><div class="props_rev_3"><a id="GUID-88108E49-6093-42BB-A29A-8A5D25CF7E10" name="GUID-88108E49-6093-42BB-A29A-8A5D25CF7E10"></a><h3 id="TGDBA-GUID-88108E49-6093-42BB-A29A-8A5D25CF7E10" class="sect3"><span class="enumeration_section">18.1 </span>Understanding Operating System Performance Issues
               </h3>
               <div>
                  <p>Operating system performance issues commonly involve process management, memory management, and scheduling. If you have tuned the Oracle database instance and still need to improve performance, verify your work or try to reduce system time. Ensure that there is enough I/O bandwidth, CPU power, and swap space. Do not expect, however, that further tuning of the operating system will have a significant effect on application performance. Changes in the Oracle Database configuration or in the application are likely to result in a more significant difference in operating system efficiency than simply tuning the operating system. </p>
                  <p>For example, if an application experiences excessive buffer busy waits, then the number of system calls increases. If you reduce the buffer busy waits by tuning the application, then the number of system calls decreases.</p>
                  <p>This section covers the following topics related to operating system performance issues:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="managing-operating-system-resources.html#GUID-69941C5D-A357-4216-AA88-AECE30164078">Using Operating System Caches</a></p>
                     </li>
                     <li>
                        <p><a href="managing-operating-system-resources.html#GUID-1C9C8D2D-AEB3-46C8-94D3-0BF24551870E">Memory Usage</a></p>
                     </li>
                     <li>
                        <p><a href="managing-operating-system-resources.html#GUID-7D091450-954B-4F21-8CFB-B9868899482D">Using Operating System Resource Managers</a></p>
                     </li>
                  </ul>
               </div><a id="TGDBA94410"></a><div class="props_rev_3"><a id="GUID-69941C5D-A357-4216-AA88-AECE30164078" name="GUID-69941C5D-A357-4216-AA88-AECE30164078"></a><h4 id="TGDBA-GUID-69941C5D-A357-4216-AA88-AECE30164078" class="sect4"><span class="enumeration_section">18.1.1 </span>Using Operating System Caches
                  </h4>
                  <div>
                     <p>Operating systems and device controllers provide <a id="d57722e202" class="indexterm-anchor"></a><a id="d57722e206" class="indexterm-anchor"></a>data caches that do not directly conflict with Oracle Database cache management. Nonetheless, these structures can consume resources while offering little or no performance benefit. This situation is most noticeable when database files are stored in a Linux or UNIX file system. By default, all database I/O goes through the file system cache. 
                     </p>
                     <p>On some Linux and UNIX systems, direct I/O is available to the filestore. This arrangement allows the database files to be accessed within the file system, bypassing the file system cache. Direct I/O saves CPU resources and allows the file system cache to be dedicated to non-database activity, such as program texts and spool files.</p>
                     <div class="infoboxnote" id="GUID-69941C5D-A357-4216-AA88-AECE30164078__GUID-7878B4CC-82A7-474D-A25D-B901D7F6F7EC">
                        <p class="notep1">Note:</p>
                        <p>This problem does not occur on Windows. All file requests by the database bypass the caches in the file system.</p>
                     </div>
                     <p>Although the operating system cache is often redundant because the Oracle Database buffer cache buffers blocks, in some cases the database does not use the database buffer cache. In these cases, using direct I/O or raw devices may yield worse performance than using operating system buffering. Examples include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Reads or writes to the <code class="codeph">TEMP</code> tablespace 
                           </p>
                        </li>
                        <li>
                           <p>Data stored in <code class="codeph">NOCACHE</code> LOBs 
                           </p>
                        </li>
                        <li>
                           <p>Parallel execution servers reading data</p>
                           <div class="infoboxnote" id="GUID-69941C5D-A357-4216-AA88-AECE30164078__GUID-8D3ABF6E-5E6B-4ACC-B169-45253F2E4ECB">
                              <p class="notep1">Note:</p>
                              <p>In some cases the database can cache parallel query data in the database buffer cache instead of performing direct reads from disk into the PGA. This configuration may be appropriate when the database servers have a large amount of memory. See <a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> to learn more using parallel execution.
                              </p>
                           </div>
                        </li>
                     </ul>
                     <p>You may want to cache but not all files at the operating system level.</p>
                  </div><a id="TGDBA94411"></a><div class="props_rev_3"><a id="GUID-88AEC6A1-C9D9-44C9-AA5D-D526713EE451" name="GUID-88AEC6A1-C9D9-44C9-AA5D-D526713EE451"></a><h5 id="TGDBA-GUID-88AEC6A1-C9D9-44C9-AA5D-D526713EE451" class="sect5"><span class="enumeration_section">18.1.1.1 </span>Asynchronous I/O
                     </h5>
                     <div>
                        <p>With synchronous I/O, when an I/O request is submitted to the operating system, the writing process blocks until the write is confirmed as complete. It can then continue processing. With asynchronous I/O, processing continues while the I/O request is submitted and processed. Use asynchronous I/O when possible to avoid bottlenecks.</p>
                        <p>Some platforms support asynchronous I/O by default, others need special configuration, and some only support asynchronous I/O for certain underlying file system types.</p>
                     </div>
                  </div><a id="TGDBA94412"></a><div class="props_rev_3"><a id="GUID-5F1FBA6E-2543-491A-BA61-B8CACDE1EFF7" name="GUID-5F1FBA6E-2543-491A-BA61-B8CACDE1EFF7"></a><h5 id="TGDBA-GUID-5F1FBA6E-2543-491A-BA61-B8CACDE1EFF7" class="sect5"><span class="enumeration_section">18.1.1.2 </span>FILESYSTEMIO_OPTIONS Initialization Parameter
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can use the <code class="codeph">FILESYSTEMIO_OPTIONS</code> initialization parameter to enable or disable asynchronous I/O or direct I/O on file system files. This parameter is platform-specific and has a default value that is best for a particular platform.
                           </p>
                           <p><code class="codeph">FILESYSTEMIO_OPTIONS</code> can be set to one of the following values:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">ASYNCH:</code> enable asynchronous I/O on file system files, which has no timing requirement for transmission.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DIRECTIO:</code> enable direct I/O on file system files, which bypasses the buffer cache.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SETALL:</code> enable both asynchronous and direct I/O on file system files.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">NONE:</code> disable both asynchronous and direct I/O on file system files.
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-5F1FBA6E-2543-491A-BA61-B8CACDE1EFF7__GUID-54E367DF-8C3C-4313-AC60-AA6B34DAAABE">
                                    <p class="notep1">See Also:</p>
                                    <p>Your platform-specific documentation for more details</p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TGDBA95342"></a><div class="sect4"><a id="GUID-C439F7EA-E77A-491A-B9D2-E17210FC881B" name="GUID-C439F7EA-E77A-491A-B9D2-E17210FC881B"></a><h5 id="TGDBA-GUID-C439F7EA-E77A-491A-B9D2-E17210FC881B" class="sect5"><span class="enumeration_section">18.1.1.3 </span>Limiting Asynchronous I/O in NFS Server Environments
                     </h5>
                     <div>
                        <p>In some Network File Storage (NFS) server environments, performance may be impaired if a large number of asynchronous I/O requests are made within a short period of time. In such cases, use the <code class="codeph">DNFS_BATCH_SIZE</code> initialization parameter to improve performance and increase stability on your system by limiting the number of I/Os issued by an Oracle process.
                        </p>
                        <p>The <code class="codeph">DNFS_BATCH_SIZE</code> initialization parameter controls the number of asynchronous I/Os that can be queued by an Oracle foreground process when Direct NFS Client is enabled. In environments where the NFS server cannot handle a large number of outstanding asynchronous I/O requests, Oracle recommends setting this parameter to a value of 128. You can then increase or decrease its value based on the performance of your NFS server.
                        </p>
                        <div class="infoboxnote" id="GUID-C439F7EA-E77A-491A-B9D2-E17210FC881B__GUID-7CA6E845-E668-426B-904C-63AEB72DA8B9">
                           <p class="notep1">Note:</p>
                           <p>The default setting for the <code class="codeph">DNFS_BATCH_SIZE</code> initialization parameter is 4096. The recommended value of 128 is only applicable on systems where the NFS server cannot handle a large number of asynchronous I/O requests and severe latency is detected.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-C439F7EA-E77A-491A-B9D2-E17210FC881B__GUID-A91F5B4D-ACAB-463A-A033-0E479AEEAD59">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/DNFS_BATCH_SIZE.html#REFRN10334" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">DNFS_BATCH_SIZE</code> initialization parameter
                           </p>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-E337EC42-31DF-40BB-BD2B-3DB479A5C34F" name="GUID-E337EC42-31DF-40BB-BD2B-3DB479A5C34F"></a><h5 id="TGDBA-GUID-E337EC42-31DF-40BB-BD2B-3DB479A5C34F" class="sect5"><span class="enumeration_section">18.1.1.4 </span>Improving I/O Performance Using Direct NFS Client
                     </h5>
                     <div>
                        <p>Direct NFS Client integrates the NFS client functionality directly in Oracle Database. Because Direct NFS Client is a specialized NFS client for Oracle Database, it is highly optimized. Direct NFS Client considerably improves database performance over NFS as compared to the traditional operating system NFS client.</p>
                        <p>Parallel NFS is an optional feature of Direct NFS Client that is introduced in NFS version 4.1 and is supported by Oracle Database 12<span class="italic">c</span> Release 2 (12.2) and later. Parallel NFS is a highly scalable distributed storage protocol, where clients, server, and storage devices are responsible for managing file access. In the NFS versions earlier to 4.1, only the server is responsible for managing file access. Thus, Parallel NFS enables highly scalable distributed NAS storage for better I/O performance.
                        </p>
                        <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), you can also use the Direct NFS dispatcher feature of Direct NFS Client. The Direct NFS dispatcher consolidates the TCP connections that are created from a database instance to an NFS server. In large database deployments, using Direct NFS dispatcher improves scalability and network performance. Therefore, for a large number of TCP connections, Oracle recommends using Direct NFS dispatcher along with Parallel NFS for a Direct NFS Client deployment.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E337EC42-31DF-40BB-BD2B-3DB479A5C34F__GUID-DA6FDEC2-BDA7-4AD6-BD8B-CF1A22BD11F3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><a href="../ladbi/creating-an-oranfstab-file-for-direct-nfs-client.html#LADBI-GUID-C16A1AF8-CCC5-46C2-875E-4276C2CCCF22" target="_blank">Oracle Database Installation Guide</a></span> for information about enabling the Parallel NFS feature for Direct NFS Client by setting the value for the <code class="codeph">nfs_version</code> parameter to <code class="codeph">pNFS</code> in the Direct NFS configuration file <code class="codeph">oranfstab</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><a href="../refrn/ENABLE_DNFS_DISPATCHER.html#REFRN-GUID-2209E40B-1280-4C38-ADD8-324EAACF3501" target="_blank">Oracle Database Reference</a></span> for information about enabling the Direct NFS dispatcher feature for the Direct NFS Client by setting the value for the <code class="codeph">ENABLE_DNFS_DISPATCHER</code> initialization parameter to <code class="codeph">true</code>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="TGDBA94413"></a><div class="props_rev_3"><a id="GUID-1C9C8D2D-AEB3-46C8-94D3-0BF24551870E" name="GUID-1C9C8D2D-AEB3-46C8-94D3-0BF24551870E"></a><h4 id="TGDBA-GUID-1C9C8D2D-AEB3-46C8-94D3-0BF24551870E" class="sect4"><span class="enumeration_section">18.1.2 </span>Memory Usage
                  </h4>
                  <div>
                     <p>Memory usage is affected by both buffer cache limits and initialization parameters.</p>
                  </div><a id="TGDBA94414"></a><div class="props_rev_3"><a id="GUID-89B9DE86-76F2-4200-A5B3-8E12DB5A81C0" name="GUID-89B9DE86-76F2-4200-A5B3-8E12DB5A81C0"></a><h5 id="TGDBA-GUID-89B9DE86-76F2-4200-A5B3-8E12DB5A81C0" class="sect5"><span class="enumeration_section">18.1.2.1 </span>Buffer Cache Limits
                     </h5>
                     <div>
                        <p>The UNIX buffer cache consumes operating system memory resources. Although in some versions of UNIX, the UNIX buffer cache may be allocated a set amount of memory, it is common today for more sophisticated memory management mechanisms to be used. Typically, these will allow free memory pages to be used to cache I/O. In such systems, it is common for operating system reporting tools to show that there is no free memory, which is not generally a problem. If processes require more memory, the memory caching I/O data is usually released to allow the process memory to be allocated.</p>
                     </div>
                  </div><a id="TGDBA94415"></a><div class="props_rev_3"><a id="GUID-4F3741AE-5E0E-48EE-AC23-584E01120A80" name="GUID-4F3741AE-5E0E-48EE-AC23-584E01120A80"></a><h5 id="TGDBA-GUID-4F3741AE-5E0E-48EE-AC23-584E01120A80" class="sect5"><span class="enumeration_section">18.1.2.2 </span>Parameters Affecting Memory Usage
                     </h5>
                     <div>
                        <p>The memory required by any one Oracle Database session depends on many factors. Typically the major contributing factors are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Number of open cursors</p>
                           </li>
                           <li>
                              <p>Memory used by PL/SQL, such as PL/SQL tables</p>
                           </li>
                           <li>
                              <p><code class="codeph">SORT_AREA_SIZE</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                        <p>In Oracle Database, the <code class="codeph">PGA_AGGREGATE_TARGET</code> initialization parameter gives greater control over a session's memory usage.
                        </p>
                     </div>
                  </div>
               </div><a id="TGDBA94416"></a><div class="props_rev_3"><a id="GUID-7D091450-954B-4F21-8CFB-B9868899482D" name="GUID-7D091450-954B-4F21-8CFB-B9868899482D"></a><h4 id="TGDBA-GUID-7D091450-954B-4F21-8CFB-B9868899482D" class="sect4"><span class="enumeration_section">18.1.3 </span>Using Operating System Resource Managers
                  </h4>
                  <div>
                     <p>Some platforms provide operating system resource managers. These are designed to reduce the impact of peak load use patterns by prioritizing access to system resources. They usually implement administrative policies that govern which resources users can access and how much of those resources each user is permitted to consume.</p>
                     <p>Operating system resource managers are different from domains or other similar facilities. Domains provide one or more completely separated environments within one system. Disk, CPU, memory, and all other resources are dedicated to each domain and cannot be accessed from any other domain. Other similar facilities completely separate just a portion of system resources into different areas, usually separate CPU or memory areas. Like domains, the separate resource areas are dedicated only to the processing assigned to that area; processes cannot migrate across boundaries. Unlike domains, all other resources (usually disk) are accessed by all partitions on a system.</p>
                     <p>Oracle Database runs within domains, and within these other less complete partitioning constructs, as long as the allocation of partitioned memory (RAM) resources is fixed, not dynamic.</p>
                     <p>Operating system resource managers prioritize resource allocation within a global pool of resources, usually a domain or an entire system. Processes are assigned to groups, which are in turn assigned resources anywhere within the resource pool.</p>
                     <div class="infoboxnote" id="GUID-7D091450-954B-4F21-8CFB-B9868899482D__GUID-79F750E5-DEE5-4232-8A8E-93DD9CE2BF01">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you have multiple instances on a node, and you want to distribute resources among them, then each instance should be assigned to a dedicated operating-system resource manager group or managed entity. To run multiple instances in the managed entity, use instance caging to manage how the CPU resources within the managed entity should be distributed among the instances. When Oracle Database Resource Manager is managing CPU resources, it expects a fixed amount of CPU resources for the instance. Without instance caging, it expects the available CPU resources to be equal to the number of CPUs in the managed entity. With instance caging, it expects the available CPU resources to be equal to the value of the <code class="codeph">CPU_COUNT</code> initialization parameter. If there are less CPU resources than expected, then Oracle Database Resource Manager is not as effective at enforcing the resource allocations in the resource plan.
                              </p>
                           </li>
                           <li>
                              <p>Oracle Database is not supported for use with any UNIX operating system resource manager's memory management and allocation facility. Oracle Database Resource Manager, which provides resource allocation capabilities within an Oracle database instance, cannot be used with any operating system resource manager.</p>
                              <p>For a complete list of operating system resource management and resource allocation and deallocation features that work with Oracle Database and Oracle Database Resource Manager, see your systems vendor and your Oracle representative. Oracle does not certify these system features for compatibility with specific release levels.</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7D091450-954B-4F21-8CFB-B9868899482D__GUID-1A699518-A375-431E-8C00-706E7845A1B9">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p> <a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN027" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about Oracle Database Resource Manager
                              </p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN13332" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about instance caging
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="TGDBA94417"></a><div class="props_rev_3"><a id="GUID-F3647DCD-D2BF-499D-9F0C-88204E6D34DE" name="GUID-F3647DCD-D2BF-499D-9F0C-88204E6D34DE"></a><h3 id="TGDBA-GUID-F3647DCD-D2BF-499D-9F0C-88204E6D34DE" class="sect3"><span class="enumeration_section">18.2 </span>Resolving Operating System Issues
               </h3>
               <div>
                  <p>This section provides hints for tuning various systems by explaining the following topics: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="managing-operating-system-resources.html#GUID-1B165BB2-6C4F-4C4A-B3E5-0BDE04469538">Performance Hints on UNIX-Based Systems</a></p>
                     </li>
                     <li>
                        <p><a href="managing-operating-system-resources.html#GUID-449A1A0E-DD0C-4A29-80D7-AA0CB0054250">Performance Hints on Windows Systems</a></p>
                     </li>
                     <li>
                        <p><a href="managing-operating-system-resources.html#GUID-F21868E0-C3FC-4914-82ED-72DA7915BE9F">Performance Hints on HP OpenVMS Systems</a></p>
                     </li>
                  </ul>
                  <p>Familiarize yourself with platform-specific issues so that you know what performance options the operating system provides.</p>
                  <div class="infoboxnotealso" id="GUID-F3647DCD-D2BF-499D-9F0C-88204E6D34DE__GUID-D9966618-8110-48C7-B188-DDAA80C133CA">
                     <p class="notep1">See Also:</p>
                     <p>Your Oracle platform-specific documentation and your operating system vendor's documentation</p>
                  </div>
               </div><a id="TGDBA94418"></a><div class="props_rev_3"><a id="GUID-1B165BB2-6C4F-4C4A-B3E5-0BDE04469538" name="GUID-1B165BB2-6C4F-4C4A-B3E5-0BDE04469538"></a><h4 id="TGDBA-GUID-1B165BB2-6C4F-4C4A-B3E5-0BDE04469538" class="sect4"><span class="enumeration_section">18.2.1 </span>Performance Hints on UNIX-Based Systems
                  </h4>
                  <div>
                     <p>On <a id="d57722e932" class="indexterm-anchor"></a><a id="d57722e934" class="indexterm-anchor"></a>UNIX systems, try to establish a good ratio between the amount of time the operating system spends fulfilling system calls and doing process scheduling and the amount of time the application runs. The goal should be to run most of the time in application mode, also called user mode, rather than system mode. 
                     </p>
                     <p>The ratio of time spent in each mode is only a symptom of the underlying problem, which might involve the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Paging or swapping</p>
                        </li>
                        <li>
                           <p>Executing too many operating system calls</p>
                        </li>
                        <li>
                           <p>Running too many processes</p>
                        </li>
                     </ul>
                     <p>If such conditions exist, then there is less time available for the application to run. The more time you can release from the operating system side, the more transactions an application can perform.</p>
                  </div>
               </div><a id="TGDBA94419"></a><div class="props_rev_3"><a id="GUID-449A1A0E-DD0C-4A29-80D7-AA0CB0054250" name="GUID-449A1A0E-DD0C-4A29-80D7-AA0CB0054250"></a><h4 id="TGDBA-GUID-449A1A0E-DD0C-4A29-80D7-AA0CB0054250" class="sect4"><span class="enumeration_section">18.2.2 </span>Performance Hints on Windows Systems
                  </h4>
                  <div>
                     <p><a id="d57722e1003" class="indexterm-anchor"></a><a id="d57722e1007" class="indexterm-anchor"></a>On Windows systems, as with UNIX-based systems, establish an appropriate ratio between time in application mode and time in system mode. You can easily monitor many factors with the Windows administrative performance tool: CPU, network, I/O, and memory are all displayed on the same graph to assist you in avoiding bottlenecks in any of these areas.
                     </p>
                  </div>
               </div><a id="TGDBA94420"></a><div class="props_rev_3"><a id="GUID-F21868E0-C3FC-4914-82ED-72DA7915BE9F" name="GUID-F21868E0-C3FC-4914-82ED-72DA7915BE9F"></a><h4 id="TGDBA-GUID-F21868E0-C3FC-4914-82ED-72DA7915BE9F" class="sect4"><span class="enumeration_section">18.2.3 </span>Performance Hints on HP OpenVMS Systems
                  </h4>
                  <div>
                     <p><a id="d57722e1061" class="indexterm-anchor"></a>Consider the paging parameters on a mainframe, and remember that Oracle Database can exploit a very large working set.
                     </p>
                     <p>Free memory in HP OpenVMS environments is actually memory that is not mapped to any operating system process. On a busy system, free memory likely contains a page belonging to one or more currently active process. When that access occurs, a <code class="codeph">soft page fault</code> takes place, and the page is included in the working set for the process. If the process cannot expand its working set, then one of the pages currently mapped by the process must be moved to the free set.
                     </p>
                     <p>Any number of processes might have pages of shared memory within their working sets. The sum of the sizes of the working sets can thus markedly exceed the available memory. When the Oracle server is running, the SGA, the Oracle Database kernel code, and the Oracle Forms run-time executable are normally all sharable and account for perhaps 80% or 90% of the pages accessed.</p>
                  </div>
               </div>
            </div><a id="TGDBA94422"></a><a id="TGDBA94421"></a><div class="props_rev_3"><a id="GUID-F548D17E-7175-4EEA-BF2E-93F5CB23E375" name="GUID-F548D17E-7175-4EEA-BF2E-93F5CB23E375"></a><h3 id="TGDBA-GUID-F548D17E-7175-4EEA-BF2E-93F5CB23E375" class="sect3"><span class="enumeration_section">18.3 </span>Understanding CPU
               </h3>
               <div>
                  <p>To address CPU problems, first establish appropriate expectations for the amount of CPU resources your system should be using. Then, determine whether sufficient CPU resources are available and recognize when your system is consuming too many resources. Begin by determining the amount of CPU resources the Oracle database instance utilizes with your system in the following three cases:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>System is idle, when little Oracle Database and non-Oracle activity exists</p>
                     </li>
                     <li>
                        <p>System at average workloads</p>
                     </li>
                     <li>
                        <p>System at peak workloads</p>
                     </li>
                  </ul>
                  <p>You can capture various workload snapshots using the Automatic Workload Repository, Statspack, or the <code class="codeph">UTLBSTAT</code>/<code class="codeph">UTLESTAT</code> utility. Operating system utilities—such as <code class="codeph">vmstat</code>, <code class="codeph">sar</code>, and <code class="codeph">iostat</code> on UNIX and the administrative performance monitoring tool on Windows—can be used along with the <code class="codeph">V$OSSTAT</code> or <code class="codeph">V$SYSMETRIC_HISTORY</code> view during the same time interval as Automatic Workload Repository, Statspack, or <code class="codeph">UTLBSTAT</code>/<code class="codeph">UTLESTAT</code> to provide a complimentary view of the overall statistics.
                  </p>
                  <p>Workload is an important factor when evaluating your system's level of CPU utilization. During peak workload hours, 90% CPU utilization with 10% idle and waiting time can be acceptable. Even 30% utilization at a time of low workload can be understandable. However, if your system shows high utilization at normal workload, then there is no room for a peak workload. For example, The following figure illustrates workload over time for an application having peak periods at 10:00 AM and 2:00 PM.</p>
                  <div class="figure" id="GUID-F548D17E-7175-4EEA-BF2E-93F5CB23E375__I4165">
                     <p class="titleinfigure">Figure 18-1 Average Workload and Peak Workload</p><img src="img/figure_181_average_workload_and_peak_workload.png" alt="Description of Figure 18-1 follows" title="Description of Figure 18-1 follows" longdesc="img_text/figure_181_average_workload_and_peak_workload.html"><br><a href="img_text/figure_181_average_workload_and_peak_workload.html">Description of "Figure 18-1 Average Workload and Peak Workload"</a></div>
                  <!-- class="figure" -->
                  <p>This example application has 100 users working 8 hours a day. Each user entering one transaction every 5 minutes translates into 9,600 transactions daily. Over an 8-hour period, the system must support 1,200 transactions an hour, which is an average of 20 transactions a minute. If the demand rate were constant, then you could build a system to meet this average workload. </p>
                  <p>However, usage patterns are not constant and in this context, 20 transactions a minute can be understood as merely a minimum requirement. If the peak rate you need to achieve is 120 transactions a minute, then you must configure a system that can support this peak workload. </p>
                  <p>For this example, assume that at peak workload, Oracle Database uses 90% of the CPU resource. For a period of average workload, then, Oracle Database uses no more than about 15% of the available CPU resource, as illustrated in the following equation: </p><pre class="oac_no_warn" dir="ltr">20 tpm / 120 tpm * 90% = 15% of available CPU resource</pre><p>where <code class="codeph">tpm</code> is transactions a minute. 
                  </p>
                  <p>If the system requires 50% of the CPU resource to achieve 20 tpm, then a problem exists: the system cannot achieve 120 transactions a minute using 90% of the CPU. However, if you tuned this system so that it achieves 20 tpm using only 15% of the CPU, then, assuming linear scalability, the system might achieve 120 transactions a minute using 90% of the CPU resources.</p>
                  <p>As users are added to an application, the workload can rise to what had previously been peak levels. No further CPU capacity is then available for the new peak rate, which is actually higher than the previous. </p>
               </div>
            </div><a id="TGDBA95150"></a><div class="props_rev_3"><a id="GUID-3FBB00B3-435A-4111-9A00-E41AD78B3873" name="GUID-3FBB00B3-435A-4111-9A00-E41AD78B3873"></a><h3 id="TGDBA-GUID-3FBB00B3-435A-4111-9A00-E41AD78B3873" class="sect3"><span class="enumeration_section">18.4 </span>Resolving CPU Issues
               </h3>
               <div>
                  <p>You can resolve CPU capacity issues by:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Detecting and solving CPU problems from excessive consumption, as described in <span class="q">"<a href="managing-operating-system-resources.html#GUID-054F55C9-0866-4D8D-8DB2-DD8FB88B1B04">Finding and Tuning CPU Utilization</a>"</span>.
                        </p>
                     </li>
                     <li>
                        <p>Reducing the impact of peak load use patterns by prioritizing CPU resource allocation using Oracle Database Resource Manager, as described in <span class="q">"<a href="managing-operating-system-resources.html#GUID-7015A597-1671-4CEB-A638-1F54C982882E">Managing CPU Resources Using Oracle Database Resource Manager</a>"</span>.
                        </p>
                     </li>
                     <li>
                        <p>Using <a id="d57722e1262" class="indexterm-anchor"></a>instance caging to limit the number of CPUs that a database instance can use simultaneously when running multiple database instances on a multi-CPU system, as described in <span class="q">"<a href="managing-operating-system-resources.html#GUID-1E26B939-BA92-4C4E-A50B-209B18C41C9C">Managing CPU Resources Using Instance Caging</a>"</span>.
                        </p>
                     </li>
                     <li>
                        <p>Increasing hardware capacity and improving the system architecture.</p>
                     </li>
                  </ul>
               </div><a id="TGDBA94423"></a><div class="props_rev_3"><a id="GUID-054F55C9-0866-4D8D-8DB2-DD8FB88B1B04" name="GUID-054F55C9-0866-4D8D-8DB2-DD8FB88B1B04"></a><h4 id="TGDBA-GUID-054F55C9-0866-4D8D-8DB2-DD8FB88B1B04" class="sect4"><span class="enumeration_section">18.4.1 </span>Finding and Tuning CPU Utilization
                  </h4>
                  <div>
                     <p>Every process running on your system affects the available <a id="d57722e1324" class="indexterm-anchor"></a>CPU resources. Therefore, tuning non-database factors can also improve database performance.
                     </p>
                     <p>Use the <code class="codeph">V$OSSTAT</code> or <code class="codeph">V$SYSMETRIC_HISTORY</code> view to monitor system utilization statistics from the operating system. Useful statistics contained in <code class="codeph">V$OSSTAT</code> and <code class="codeph">V$SYSMETRIC_HISTORY</code> include:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Number of CPUs</p>
                        </li>
                        <li>
                           <p>CPU utilization</p>
                        </li>
                        <li>
                           <p>Load</p>
                        </li>
                        <li>
                           <p>Paging</p>
                        </li>
                        <li>
                           <p>Physical memory</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-054F55C9-0866-4D8D-8DB2-DD8FB88B1B04__GUID-33D00472-0698-4A71-BD48-9D261AEDCC5A">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/V-OSSTAT.html#REFRN30321" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information on <code class="codeph">V$OSSTAT</code> and <code class="codeph">V$SYSMETRIC_HISTORY</code></p>
                     </div>
                     <p>You can use operating system monitoring tools to determine which processes run on the system as a whole. If the system is too heavily loaded, check the memory, I/O, and process management areas described later in this section.</p>
                     <p>You can use tools such as <code class="codeph">sar</code> <code class="codeph">-u</code><span class="bold"> </span>on many UNIX-based systems to examine the level of CPU utilization on the system. In UNIX, statistics show user time, system time, idle time, and time waiting for I/O. A CPU problem exists if idle time and time waiting for I/O are both close to zero (less than 5%) at a normal or low workload.
                     </p>
                     <p>On Windows, you can use the administrative performance tool to monitor CPU utilization. This utility provides statistics on processor time, user time, privileged time, interrupt time, and DPC time. </p>
                     <p>Related topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-operating-system-resources.html#GUID-A4DB0817-E022-4CD5-92F7-4FA45F7DD306">Checking Memory Management</a></p>
                        </li>
                        <li>
                           <p><a href="managing-operating-system-resources.html#GUID-DE2C4F83-4DA2-4AF6-A63E-BEAE263AA641">Checking I/O Management</a></p>
                        </li>
                        <li>
                           <p><a href="managing-operating-system-resources.html#GUID-11C97AF4-AFEA-46A6-91A3-BC263B0B3DD7">Checking Network Management</a></p>
                        </li>
                        <li>
                           <p><a href="managing-operating-system-resources.html#GUID-863002CD-9E38-4C52-8984-AF961976C4F4">Checking Process Management</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-054F55C9-0866-4D8D-8DB2-DD8FB88B1B04__GUID-3269F00E-858A-47FA-8E17-93E773242325">
                        <p class="notep1">Note:</p>
                        <p>This document describes how to check system CPU utilization on most UNIX-based and Windows systems. For other platforms, see your operating system documentation.</p>
                     </div>
                  </div><a id="TGDBA94424"></a><div class="props_rev_3"><a id="GUID-A4DB0817-E022-4CD5-92F7-4FA45F7DD306" name="GUID-A4DB0817-E022-4CD5-92F7-4FA45F7DD306"></a><h5 id="TGDBA-GUID-A4DB0817-E022-4CD5-92F7-4FA45F7DD306" class="sect5"><span class="enumeration_section">18.4.1.1 </span>Checking Memory Management
                     </h5>
                     <div>
                        <p>Check the following memory management areas:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="managing-operating-system-resources.html#GUID-0EDA2370-C65F-414E-9DBF-EA8711C7F4BD">Paging and Swapping </a></p>
                           </li>
                           <li>
                              <p><a href="managing-operating-system-resources.html#GUID-58D71159-D10B-4205-8835-04C5BF4E4B95">Oversize Page Tables </a></p>
                           </li>
                        </ul>
                     </div><a id="TGDBA94425"></a><div class="props_rev_3"><a id="GUID-0EDA2370-C65F-414E-9DBF-EA8711C7F4BD" name="GUID-0EDA2370-C65F-414E-9DBF-EA8711C7F4BD"></a><h6 id="TGDBA-GUID-0EDA2370-C65F-414E-9DBF-EA8711C7F4BD" class="sect6"><span class="enumeration_section">18.4.1.1.1 </span>Paging and Swapping 
                        </h6>
                        <div>
                           <p>Use the <code class="codeph">V$OSSTAT</code> view, utilities such as <code class="codeph">sar</code> or<a id="d57722e1530" class="indexterm-anchor"></a> <code class="codeph">vmstat</code> on UNIX, or the administrative <a id="d57722e1536" class="indexterm-anchor"></a>performance tool on Windows, to investigate the cause of paging and <a id="d57722e1542" class="indexterm-anchor"></a>swapping. 
                           </p>
                        </div>
                     </div><a id="TGDBA94426"></a><div class="props_rev_3"><a id="GUID-58D71159-D10B-4205-8835-04C5BF4E4B95" name="GUID-58D71159-D10B-4205-8835-04C5BF4E4B95"></a><h6 id="TGDBA-GUID-58D71159-D10B-4205-8835-04C5BF4E4B95" class="sect6"><span class="enumeration_section">18.4.1.1.2 </span>Oversize Page Tables 
                        </h6>
                        <div>
                           <p>On UNIX, if the processing space becomes too large, then it can result in the <a id="d57722e1596" class="indexterm-anchor"></a>page tables becoming too large. This is not an issue on Windows systems.
                           </p>
                        </div>
                     </div>
                  </div><a id="TGDBA94427"></a><div class="props_rev_3"><a id="GUID-DE2C4F83-4DA2-4AF6-A63E-BEAE263AA641" name="GUID-DE2C4F83-4DA2-4AF6-A63E-BEAE263AA641"></a><h5 id="TGDBA-GUID-DE2C4F83-4DA2-4AF6-A63E-BEAE263AA641" class="sect5"><span class="enumeration_section">18.4.1.2 </span>Checking I/O Management
                     </h5>
                     <div>
                        <p>Thrashing is an I/O management issue. Ensure that your workload fits into memory, so the computer is not <a id="d57722e1650" class="indexterm-anchor"></a>thrashing (<a id="d57722e1653" class="indexterm-anchor"></a>swapping and<a id="d57722e1656" class="indexterm-anchor"></a><a id="d57722e1658" class="indexterm-anchor"></a> paging processes in and out of memory). The operating system allocates fixed portions of time during which CPU resources are available to your process. If the process wastes a large portion of each time period checking to ensure that it can run and ensuring that all necessary components are in the computer, then the process might be using only 50% of the time allotted to actually perform work. 
                        </p>
                     </div>
                  </div><a id="TGDBA94428"></a><div class="props_rev_3"><a id="GUID-11C97AF4-AFEA-46A6-91A3-BC263B0B3DD7" name="GUID-11C97AF4-AFEA-46A6-91A3-BC263B0B3DD7"></a><h5 id="TGDBA-GUID-11C97AF4-AFEA-46A6-91A3-BC263B0B3DD7" class="sect5"><span class="enumeration_section">18.4.1.3 </span>Checking Network Management
                     </h5>
                     <div>
                        <p>Check client/server round trips. There is an overhead in processing messages. When an application generates many messages that need to be sent through the network, the latency of sending a message can result in CPU overload. To alleviate this problem, bundle multiple messages rather than perform lots of round trips. For example, you can use array inserts, array fetches, and so on.</p>
                     </div>
                  </div><a id="TGDBA94429"></a><div class="props_rev_3"><a id="GUID-863002CD-9E38-4C52-8984-AF961976C4F4" name="GUID-863002CD-9E38-4C52-8984-AF961976C4F4"></a><h5 id="TGDBA-GUID-863002CD-9E38-4C52-8984-AF961976C4F4" class="sect5"><span class="enumeration_section">18.4.1.4 </span>Checking Process Management
                     </h5>
                     <div>
                        <p>Several process management issues discussed in this section should be checked.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Scheduling and Switching</p>
                           </li>
                           <li>
                              <p>Context Switching</p>
                           </li>
                           <li>
                              <p>Starting New Operating System Processes</p>
                           </li>
                        </ul>
                     </div><a id="TGDBA94430"></a><div class="props_rev_3"><a id="GUID-3243F6CD-6618-4225-A197-47085F271657" name="GUID-3243F6CD-6618-4225-A197-47085F271657"></a><h6 id="TGDBA-GUID-3243F6CD-6618-4225-A197-47085F271657" class="sect6"><span class="enumeration_section">18.4.1.4.1 </span>Scheduling and Switching 
                        </h6>
                        <div>
                           <p>The operating system can spend excessive time <a id="d57722e1825" class="indexterm-anchor"></a>scheduling and<a id="d57722e1830" class="indexterm-anchor"></a> switching processes. Examine the way in which you are using the operating system, because it is possible that too many processes are in use. On Windows systems, do not overload the server with too many non-database processes.
                           </p>
                        </div>
                     </div><a id="TGDBA94431"></a><div class="props_rev_3"><a id="GUID-9E4A7B18-D174-4573-A9A9-6590B54405C1" name="GUID-9E4A7B18-D174-4573-A9A9-6590B54405C1"></a><h6 id="TGDBA-GUID-9E4A7B18-D174-4573-A9A9-6590B54405C1" class="sect6"><span class="enumeration_section">18.4.1.4.2 </span>Context Switching 
                        </h6>
                        <div>
                           <p>Due to operating system specific characteristics, your system could be spending a lot of time in <a id="d57722e1884" class="indexterm-anchor"></a>context switches. Context switching can be expensive, especially with a large SGA. Context switching is not an issue on Windows, which has only one process for each instance. All threads share the same page table. 
                           </p>
                           <p>Oracle Database has several features for context switching:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Post-wait driver</p>
                                 <p>An Oracle process must be able to post another Oracle process (give it a message) and also must be able to wait to be posted. For example, a foreground process may need to post LGWR to tell it to write out all blocks up to a given point so that it can acknowledge a commit.</p>
                                 <p>Often this post-wait mechanism is implemented through UNIX Semaphores, but these can be resource intensive. Therefore, some platforms supply a post-wait driver, typically a kernel device driver that is a lightweight method of implementing a post-wait interface.</p>
                              </li>
                              <li>
                                 <p>Memory-mapped system timer</p>
                                 <p>Oracle Database often needs to query the system time for timing information. This can involve an operating system call that incurs a relatively costly context switch. Some platforms implement a memory-mapped timer that uses an address within the processes virtual address space to contain the current time information. Reading the time from this memory-mapped timer is less expensive than the overhead of a context switch for a system call. </p>
                              </li>
                              <li>
                                 <p>List I/O interfaces to submit multiple asynchronous I/Os in One Call</p>
                                 <p>List I/O is an application programming interface that allows several asynchronous I/O requests to be submitted in a single system call, rather than submitting several I/O requests through separate system calls. The main benefit of this feature is to reduce the number of context switches required. </p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="TGDBA94435"></a><div class="props_rev_3"><a id="GUID-7A539AA9-F773-4B5A-A063-800B00599307" name="GUID-7A539AA9-F773-4B5A-A063-800B00599307"></a><h6 id="TGDBA-GUID-7A539AA9-F773-4B5A-A063-800B00599307" class="sect6"><span class="enumeration_section">18.4.1.4.3 </span>Starting New Operating System Processes
                        </h6>
                        <div>
                           <p>There is a high cost in starting new operating system processes. Developers often create a single-purpose process, exit the process, and then create a new one. This technique re-creates and destroys the process each time, consuming excessive amounts of CPU, especially in applications that have large SGAs. The CPU is needed to build the page tables each time. The problem is aggravated when you pin or lock shared memory because you must access every page.</p>
                           <p>For example, if you have a 1 gigabyte SGA, then you might have page table entries for every 4 KB, and a page table entry might be 8 bytes. You could end up with (1 GB&nbsp;/&nbsp;4 KB) * 8 byte entries. This becomes expensive, because you need to continually ensure that the page table is loaded.</p>
                        </div>
                     </div>
                  </div>
               </div><a id="TGDBA95151"></a><div class="props_rev_3"><a id="GUID-7015A597-1671-4CEB-A638-1F54C982882E" name="GUID-7015A597-1671-4CEB-A638-1F54C982882E"></a><h4 id="TGDBA-GUID-7015A597-1671-4CEB-A638-1F54C982882E" class="sect4"><span class="enumeration_section">18.4.2 </span>Managing CPU Resources Using Oracle Database Resource Manager
                  </h4>
                  <div>
                     <p>Oracle <a id="d57722e2012" class="indexterm-anchor"></a>Database Resource Manager allocates and manages CPU resources among database users and applications in the following ways:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Preventing CPU saturation</p>
                           <p>If the CPUs run at 100%, then you can use Oracle Database Resource Manager to allocate a maximum amount of CPU to sessions in each consumer group. This feature can ensure that high-priority sessions can run immediately and lower the CPU consumption of low-priority sessions.</p>
                        </li>
                        <li>
                           <p>Limiting CPU usage for a consumer group</p>
                           <p>You can use the Resource Manager directive <code class="codeph">max_utilization_limit</code> to place a hard limit on the percentage of CPU that a consumer group can use. This feature restricts the CPU consumption of low-priority sessions and can help provide more consistent performance for the workload in a consumer group.
                           </p>
                        </li>
                        <li>
                           <p>Limiting damage from runaway queries</p>
                           <p>Starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), Oracle Database Resource Manager can limit the damage from runaway queries by limiting the maximum execution time for a call, or by moving a long-running query to a lower-priority consumer group.
                           </p>
                        </li>
                        <li>
                           <p>Limiting the parallel statement activity for a consumer group</p>
                           <p>Starting with Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.2), you can use the Resource Manager directive <code class="codeph">parallel_target_percentage</code> to prevent one consumer group from monopolizing all parallel servers. The database queues parallel statements if they would cause this limit to be exceeded.
                           </p>
                           <p>For example, assume that the target number of parallel servers is 64, and the consumer group <code class="codeph">ETL</code> has this directive set to 50%. If consumer group <code class="codeph">ETL</code> is using 30 parallel servers, and if a new parallel statement needs 4 parallel servers, then the database would queue this statement.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-7015A597-1671-4CEB-A638-1F54C982882E__GUID-882252DA-5B75-4623-9C33-843EFE282531">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN027" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a><span class="italic"> </span>to learn how to use Oracle Database Resource Manager
                              </p>
                           </li>
                           <li>
                              <p><a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a><span class="italic"> </span>to learn how to use parallel query
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="TGDBA95152"></a><div class="props_rev_3"><a id="GUID-1E26B939-BA92-4C4E-A50B-209B18C41C9C" name="GUID-1E26B939-BA92-4C4E-A50B-209B18C41C9C"></a><h4 id="TGDBA-GUID-1E26B939-BA92-4C4E-A50B-209B18C41C9C" class="sect4"><span class="enumeration_section">18.4.3 </span>Managing CPU Resources Using Instance Caging
                  </h4>
                  <div>
                     <p>When running multiple database instances on a single system, the instances compete for CPU resources. One resource-intensive database instance may significantly degrade the performance of the other instances. To avoid this problem, you can use instance caging to limit the number of CPUs that can used by each instance. Oracle Database Resource Manager then allocates CPU among the various database sessions according to the resource plan that you set for the instance, thereby minimizing the likelihood of the instance becoming CPU-bound.</p>
                     <div class="infoboxnotealso" id="GUID-1E26B939-BA92-4C4E-A50B-209B18C41C9C__GUID-B1F6A604-0E8F-4D96-907E-F84A3BDFDCA8">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN13333" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about using instance caging
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>