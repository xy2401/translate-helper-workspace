<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This section explains how to install Oracle Trace File Analyzer on different operating systems."></meta>
      <meta name="description" content="This section explains how to install Oracle Trace File Analyzer on different operating systems."></meta>
      <title>Oracle Trace File Analyzer入门</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User’s Guide"></meta>
      <meta property="og:description" content="This section explains how to install Oracle Trace File Analyzer on different operating systems."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96320-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="diagnose-troubleshoot-issues-errors.html" title="Previous" type="text/html"></link>
      <link rel="next" href="automatic-diagnostic-collection.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ATNMS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="diagnose-troubleshoot-issues-errors.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="automatic-diagnostic-collection.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="diagnose-troubleshoot-issues-errors.html" property="item" typeof="WebPage"><span property="name">收集诊断数据和分类，诊断和解决问题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Trace File Analyzer入门</li>
            </ol>
            <a id="GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" name="GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA"></a>
            
            <h2 id="ATNMS-GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" class="sect2"><span class="enumeration_chapter">13</span> Oracle Trace File Analyzer入门</h2>
         </header>
         <div class="ind">
            <div>
               <p>本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-BAB39863-892E-450D-86EE-CEC1BECAF64B">Oracle跟踪文件分析器</a><br>Oracle Trace File Analyzer可帮助您收集和分析诊断数据。
                  </li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-EBFD7EEF-6B79-4030-A74C-5ADABEA3A883">支持的环境</a><br>您可以将Oracle Trace File Analyzer与所有受支持的Oracle数据库版本和Oracle Grid Infrastructure一起使用。
                  </li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-41689DF9-F81D-4C8C-992F-78CF48F9B6DF">在Linux或UNIX上以root用户身份在守护程序模式下安装Oracle跟踪文件分析器</a><br>要获得Oracle Trace File Analyzer的最全面功能，请以<code class="codeph">root</code>身份安装。
                  </li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-5E278850-32A1-4AE1-BF8E-A1F1D4278A70">在Linux或UNIX上以非root用户身份在非守护程序模式下安装Oracle跟踪文件分析器</a><br>如果您无法以<code class="codeph">root</code>身份安装，请将Oracle Trace File Analyzer安装为Oracle主人。
                  </li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-905DB23F-5082-4D9A-9604-BAD0307589C5">在Microsoft Windows上安装Oracle跟踪文件分析器</a><br></li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-8385B703-AF11-4DA0-AF19-8472FA53CD0A">在非守护进程模式下在Microsoft Windows上安装Oracle跟踪文件分析器</a><br></li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-CF8100E8-C6F9-4BB6-8089-B2F003035E32">Oracle跟踪文件分析器主要目录</a><br>根据您的安装类型， <code>ora_home</code>和<code>bin</code>目录可以不同。
                  </li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-0C12F9ED-A5EF-4FED-8B71-05F4225362AB">Oracle跟踪文件分析器命令接口</a><br><code class="codeph">tfactl</code>工具用作命令行界面，shell界面和菜单界面。
                  </li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-773A6978-424D-48D8-A214-E47E3D120454">掩盖敏感数据</a><br>屏蔽敏感数据是一项可选功能，您可以将Oracle跟踪文件分析器配置为屏蔽日志文件中的敏感数据。
                  </li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-5EB34BD2-E1A1-418C-95D1-30323523331B">保护对Oracle Trace File Analyzer的访问</a><br>运行<code class="codeph">tfactl</code>命令仅限于授权用户。
                  </li>
                  <li class="ulchildlink"><a href="quick-start-guide.html#GUID-45CD3866-E315-42D2-B527-472526928A8C">卸载Oracle Trace File Analyzer</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="diagnose-troubleshoot-issues-errors.html#GUID-DA02663E-305E-4DD2-9758-DCA883B54198" title="使用Autonomous Health Framework提供的工具来解决错误。">收集诊断数据和分类，诊断和解决问题</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-BAB39863-892E-450D-86EE-CEC1BECAF64B" name="GUID-BAB39863-892E-450D-86EE-CEC1BECAF64B"></a><h3 id="ATNMS-GUID-BAB39863-892E-450D-86EE-CEC1BECAF64B" class="sect3"><span class="enumeration_section">13.1</span> Oracle跟踪文件分析器</h3>
               <div>
                  <p>Oracle Trace File Analyzer可帮助您收集和分析诊断数据。</p>
                  <p>作为一名DBA，您需要始终以更少的资源完成更多的工作。您面临着保持关键任务应用程序正常运行的压力。当出现问题时，每个人都希望您了解出了什么问题以及如何解决问题。</p>
                  <p>这并不总是那么容易。您必须在正确的时间运行正确的工具。如果您使用的是Oracle Grid Infrastructure，则还必须从所有数据库节点收集诊断数据。收集此数据可能需要您使用很少使用的工具。不用说，每个工具都有自己的语法。</p>
                  <p>您收集的数据量可能很大。您收集的数据中只有一小部分是有用的，但您如何知道哪个部分是相关的？在覆盖数据之前，您必须快速收集所有内容。与此同时，您仍然遇到一个问题，这会花费您公司的时间和金钱。</p>
                  <p>Oracle Trace File Analyzer使您可以收集诊断数据。收集诊断数据是解决Oracle数据库问题的关键步骤。</p>
                  <p>Oracle Trace File Analyzer监视日志中是否存在可能影响您的服务的重大问题。Oracle Trace File Analyzer在检测到任何潜在问题时也会自动收集相关诊断信息。</p>
                  <p>Oracle Trace File Analyzer可以识别日志文件中的相关信息。它将日志文件修剪为仅解决问题所需的部分。Oracle Trace File Analyzer还可以跨群集节点收集数据，并将所有内容合并到一个位置。</p>
                  <p>使用Oracle Trace File Analyzer可以轻松使用重要的数据库诊断工具。Oracle Trace File Analyzer通过为所有人提供单一界面和语法来隐藏复杂性。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="introduction-oracle-trace-file-analyzer.html#GUID-6A08EA65-0F7A-459A-B418-6D812458DEC0" title="Oracle跟踪文件分析器是一种用于目标诊断收集的实用程序，它还简化了Oracle Clusterware，Oracle Grid Infrastructure和Oracle Real Application Clusters（Oracle RAC）系统的诊断数据收集，以及单实例非群集数据库。">Oracle Trace File Analyzer简介</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-EBFD7EEF-6B79-4030-A74C-5ADABEA3A883" name="GUID-EBFD7EEF-6B79-4030-A74C-5ADABEA3A883"></a><h3 id="ATNMS-GUID-EBFD7EEF-6B79-4030-A74C-5ADABEA3A883" class="sect3"><span class="enumeration_section">13.2</span>支持的环境</h3>
               <div>
                  <p>您可以将Oracle Trace File Analyzer与所有受支持的Oracle数据库版本和Oracle Grid Infrastructure一起使用。</p>
                  <p>Oracle Trace File Analyzer适用于以下操作系统：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Linux OEL</p>
                     </li>
                     <li>
                        <p>Linux RedHat</p>
                     </li>
                     <li>
                        <p>Linux SuSE</p>
                     </li>
                     <li>
                        <p>Linux Itanium</p>
                     </li>
                     <li>
                        <p>zLinux上</p>
                     </li>
                     <li>
                        <p>Oracle Solaris SPARC</p>
                     </li>
                     <li>
                        <p>Oracle Solaris x86-64</p>
                     </li>
                     <li>
                        <p>AIX</p>
                     </li>
                     <li>
                        <p>HPUX Itanium</p>
                     </li>
                     <li>
                        <p>HPUX PA-RISC</p>
                     </li>
                     <li>
                        <p>Microsoft Windows 64位</p>
                     </li>
                  </ul>
                  <p>Oracle数据库支持的操作系统版本支持Oracle Trace File Analyzer。使用1.8版的Java Runtime Edition。</p>
                  <p>自版本11.2.0.4和12.1.0.2以来，Oracle跟踪文件分析器随Oracle Gird基础结构一起提供。但是，此安装不包括许多Oracle数据库工具。Oracle每年多次发布新版本的Oracle Trace File Analyzer。这些新版本包括新功能和错误修复。</p>
                  <p>确保从My Oracle Support说明1513912.1获取最新的Oracle Trace File Analyzer和Oracle数据库支持工具包。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://support.oracle.com/rs?type=doc&amp;amp;amp;id=1513912.1" target="_blank">https://support.oracle.com/rs?type=doc&amp;amp;id=1513912.1</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-41689DF9-F81D-4C8C-992F-78CF48F9B6DF" name="GUID-41689DF9-F81D-4C8C-992F-78CF48F9B6DF"></a><h3 id="ATNMS-GUID-41689DF9-F81D-4C8C-992F-78CF48F9B6DF" class="sect3"><span class="enumeration_section">13.3</span>以root用户身份在Linux或UNIX上安装Oracle Trace File Analyzer守护进程模式</h3>
               <div>
                  <p>要获得Oracle Trace File Analyzer的最全面功能，请以<code class="codeph">root</code>身份安装。
                  </p>
                  <div class="section">
                     <p>Oracle跟踪文件分析器维护访问控制列表（ACL）以确定允许哪些用户访问。默认情况下， <code class="codeph">GRID_HOME</code>所有者和<code class="codeph">ORACLE_HOME</code>所有者可以访问其各自的诊断。没有其他用户可以执行诊断集合。
                     </p>
                     <p>如果已安装Oracle跟踪文件分析器，则重新安装将执行升级到现有位置。如果尚未安装Oracle Trace File Analyzer，则建议的位置为<code>/opt/oracle.tfa</code> 。
                     </p>
                     <p>要以<code class="codeph">root</code>身份安装：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>下载相应的Oracle Trace File Analyzer压缩文件，将下载的文件复制到所需的计算机，然后解压缩。</span></li>
                     <li class="stepexpand"><span>运行<code class="codeph">installTFA</code>命令：</span><div><pre class="pre codeblock"><code>$ ./installTFA- <span class="variable" translate="no">platform</span></code></pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>安装程序会提示您执行本地或群集安装。</p>
                     <p>群集安装要求无密码SSH用户等效，以便<code class="codeph">root</code>到所有群集节点。如果尚未配置，则安装可选择设置无密码SSH用户等效，然后在最后删除。
                     </p>
                     <p>如果您不希望使用无密码SSH，则使用本地安装在每台主机上安装。运行<code class="codeph">tfactl syncnodes</code>命令以生成和部署相关的SSL证书。
                     </p>
                     <p>群集就绪服务（CRS）不管理Oracle跟踪文件分析器，因为如果CRS关闭，Oracle跟踪文件分析器必须可用。</p>
                     <p>安装程序将Oracle Trace File Analyzer配置为自动启动。自动启动的实现取决于平台。Linux使用<code class="codeph">init</code>或<code class="codeph">init</code>替换，例如<code class="codeph">upstart</code>或<code class="codeph">systemd</code> 。Microsoft Windows使用Windows服务。
                     </p>
                     <p>在非工程系统上以Linux或Solaris的形式在root上安装Oracle跟踪文件分析器会自动设置并运行Oracle ORAchk守护程序。</p>
                     <p>守护进程每天凌晨1点重新启动，以发现任何环境变化。守护程序每天凌晨2点运行完整的本地Oracle ORAchk检查，并通过<code class="codeph">oratier1</code>配置文件每6小时运行一次最有效的检查。
                     </p>
                     <p>守护程序会自动清除任何超过2周的集合。</p>
                     <p>您可以在启用自动启动后更改守护程序设置。要随时删除自动启动，请运行<code class="codeph">tfactl run orachk -autostop</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="install-tfa-platform.html#GUID-F57C15E1-B82A-42A1-B064-B6C86639799F" title="了解可以提供给Oracle Trace File Analyzer安装程序脚本以自定义安装的选项。">安装Oracle跟踪文件分析器</a></li>
                        <li><a href="quick-start-guide.html#GUID-5EB34BD2-E1A1-418C-95D1-30323523331B" title="运行tfactl命令仅限于授权用户。">保护对Oracle Trace File Analyzer的访问</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-5E278850-32A1-4AE1-BF8E-A1F1D4278A70" name="GUID-5E278850-32A1-4AE1-BF8E-A1F1D4278A70"></a><h3 id="ATNMS-GUID-5E278850-32A1-4AE1-BF8E-A1F1D4278A70" class="sect3"><span class="enumeration_section">13.4</span>在非守护进程模式下以非root用户身份在Linux或UNIX上安装Oracle Trace File Analyzer</h3>
               <div>
                  <p>如果您无法以<code class="codeph">root</code>身份安装，请将Oracle Trace File Analyzer安装为Oracle主人。
                  </p>
                  <p>Oracle Trace File Analyzer在此安装模式下降低了功能。</p>
                  <p>您无法完成以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>自动化诊断集合</p>
                     </li>
                     <li>
                        <p>从远程主机收集诊断信息</p>
                     </li>
                     <li>
                        <p>收集Oracle主所有者无法读取的文件，例如<code>/var/log/messages</code>或某些Oracle Grid Infrastructure日志</p>
                     </li>
                  </ul>
                  <p>要作为Oracle主所有者安装，请使用<code class="codeph">–extractto</code>选项。使用<code class="codeph">–extractto</code>选项告知Oracle跟踪文件分析器安装到的位置。另外，使用<code class="codeph">–javahome</code>选项指示要使用的JRE。除非您有更高版本，否则请使用Oracle主目录中已有的JRE。
                  </p><pre class="pre codeblock"><code>./installTFA- <span class="variable" translate="no">platform</span> <span class="variable" translate="no">jre_home</span> <span class="variable" translate="no">install_dir</span> -javahome <span class="variable" translate="no">jre_home</span></code></pre></div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="install-tfa-platform.html#GUID-F57C15E1-B82A-42A1-B064-B6C86639799F" title="了解可以提供给Oracle Trace File Analyzer安装程序脚本以自定义安装的选项。">安装Oracle跟踪文件分析器</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-905DB23F-5082-4D9A-9604-BAD0307589C5" name="GUID-905DB23F-5082-4D9A-9604-BAD0307589C5"></a><h3 id="ATNMS-GUID-905DB23F-5082-4D9A-9604-BAD0307589C5" class="sect3"><span class="enumeration_section">13.5</span>在Microsoft Windows上安装Oracle Trace File Analyzer</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-905DB23F-5082-4D9A-9604-BAD0307589C5__GUID-B3F95C38-52C2-4888-B9B6-F1E816130F6A">
                        <p class="notep1">注意：</p>
                        <p>安装Oracle跟踪文件分析器需要.NET Framework 4.0.30319或更高版本。如果遇到安装错误，请确保安装了正确的.NET Framework版本。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>下载相应的Oracle Trace File Analyzer压缩文件，将下载的文件复制到其中一台所需的计算机，然后解压缩。</span></li>
                     <li class="stepexpand"><span>以管理员身份打开命令提示符，然后通过指定Perl主目录运行安装脚本。</span><div>
                           <p>例如：</p><pre class="pre codeblock"><code>install.bat -perlhome <span class="variable" translate="no">D:\oracle\product\12.2.0\dbhome_1\perl</span></code></pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>安装程序会提示您执行本地或群集安装。如果选择群集安装，则安装程序会在本地和远程群集节点上安装Oracle跟踪文件分析器。</p>
                     <p>或者，您可以在每台主机上执行本地安装。运行<code class="codeph">tfactl syncnodes</code>命令以生成和部署相关的SSL证书。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="https://docs.microsoft.com/en-us/dotnet/framework/migration-guide/how-to-determine-which-versions-are-installed" target="_blank">确定安装了哪些.NET Framework版本</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-8385B703-AF11-4DA0-AF19-8472FA53CD0A" name="GUID-8385B703-AF11-4DA0-AF19-8472FA53CD0A"></a><h3 id="ATNMS-GUID-8385B703-AF11-4DA0-AF19-8472FA53CD0A" class="sect3"><span class="enumeration_section">13.6</span>在非守护进程模式下在Microsoft Windows上安装Oracle跟踪文件分析器</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p>如果您不希望Oracle Trace File Analyzer作为Windows服务自动运行，请将其安装在非守护程序模式下。Oracle Trace File Analyzer在此安装模式下降低了功能。</p>
                     <p>您无法完成以下任务：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>自动化诊断集合</p>
                        </li>
                        <li>
                           <p>从远程主机收集诊断信息</p>
                        </li>
                        <li>
                           <p>收集Oracle房主无法读取的文件</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>下载相应的Oracle Trace File Analyzer压缩文件，将下载的文件复制到其中一台所需的计算机，然后解压缩。</span></li>
                     <li class="stepexpand"><span>以管理员身份打开命令提示符，然后运行安装脚本。</span><div><pre class="pre codeblock"><code>tfa_home \ bin \ tfactl.bat -setupnd</code></pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-CF8100E8-C6F9-4BB6-8089-B2F003035E32" name="GUID-CF8100E8-C6F9-4BB6-8089-B2F003035E32"></a><h3 id="ATNMS-GUID-CF8100E8-C6F9-4BB6-8089-B2F003035E32" class="sect3"><span class="enumeration_section">13.7</span> Oracle跟踪文件分析器主要目录</h3>
               <div>
                  <p>根据您的安装类型， <code>ora_home</code>和<code>bin</code>目录可以不同。
                  </p>
                  <p>如果已将Oracle Trace File Analyzer与Oracle Grid Infrastructure一起安装，则<code>TFA_HOME</code>将为<code>GRID_HOME/tfa/ <span class="variable" translate="no">hostname</span> /tfa_home</code> 。
                  </p>
                  <div class="tblformal" id="GUID-CF8100E8-C6F9-4BB6-8089-B2F003035E32__GUID-8B1F5EA9-A666-4252-8A8F-65ED6B4AFE66">
                     <p class="titleintable">表13-1关键Oracle跟踪文件分析器目录</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="关键Oracle跟踪文件分析器目录" border="1" summary="This table lists and describes key Oracle Trace File Analyzer directories." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d38305e593">目录</th>
                              <th align="left" valign="bottom" id="d38305e595">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d38305e599" headers="d38305e593 ">
                                 <p><code>TFA /箱</code></p>
                              </td>
                              <td align="left" valign="top" headers="d38305e599 d38305e595 ">
                                 <p>包含命令行界面<code class="codeph">tfactl</code> 
                                 </p>
                                 <p>如果安装了Oracle Grid Infrastructure，则还会在<code class="codeph">tfactl</code> <code>GRID_HOME/bin</code>目录中安装<code class="codeph">tfactl</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d38305e618" headers="d38305e593 ">
                                 <p><code>TFA /存储库</code></p>
                              </td>
                              <td align="left" valign="top" headers="d38305e618 d38305e595 ">
                                 <p>Oracle Trace File Analyzer存储诊断集合的目录。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d38305e626" headers="d38305e593 ">
                                 <p><code>tfa / <span class="variable" translate="no">node</span> / tfa_home / database</code></p>
                              </td>
                              <td align="left" valign="top" headers="d38305e626 d38305e595 ">
                                 <p>包含存储有关系统数据的Berkeley数据库。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d38305e637" headers="d38305e593 ">
                                 <p><code>tfa / <span class="variable" translate="no">node</span> / tfa_home / diag</code></p>
                              </td>
                              <td align="left" valign="top" headers="d38305e637 d38305e595 ">
                                 <p>Oracle Trace File Analyzer故障排除工具。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d38305e648" headers="d38305e593 ">
                                 <p><code>tfa / <span class="variable" translate="no">node</span> / tfa_home / diagnostics_to_collect</code></p>
                              </td>
                              <td align="left" valign="top" headers="d38305e648 d38305e595 ">
                                 <p>将文件放在此处以将其包含在下一个集合中，然后将其删除。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d38305e659" headers="d38305e593 ">
                                 <p><code>tfa / <span class="variable" translate="no">node</span> / tfa_home / log</code></p>
                              </td>
                              <td align="left" valign="top" headers="d38305e659 d38305e595 ">
                                 <p>包含有关Oracle Trace File Analyzer操作的日志。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d38305e670" headers="d38305e593 ">
                                 <p><code>tfa / <span class="variable" translate="no">node</span> / tfa_home / resources</code></p>
                              </td>
                              <td align="left" valign="top" headers="d38305e670 d38305e595 ">
                                 <p>包含资源文件，例如，日志屏蔽控制文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d38305e681" headers="d38305e593 ">
                                 <p><code>tfa / <span class="variable" translate="no">node</span> / tfa_home / output</code></p>
                              </td>
                              <td align="left" valign="top" headers="d38305e681 d38305e595 ">
                                 <p>包含有关环境的额外元数据。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-0C12F9ED-A5EF-4FED-8B71-05F4225362AB" name="GUID-0C12F9ED-A5EF-4FED-8B71-05F4225362AB"></a><h3 id="ATNMS-GUID-0C12F9ED-A5EF-4FED-8B71-05F4225362AB" class="sect3"><span class="enumeration_section">13.8</span> Oracle跟踪文件分析器命令接口</h3>
               <div>
                  <p><code class="codeph">tfactl</code>工具用作命令行界面，shell界面和菜单界面。
                  </p>
                  <div class="tblformal" id="GUID-0C12F9ED-A5EF-4FED-8B71-05F4225362AB__GUID-1298CB09-C86C-4C89-B2DA-D7381FB75B8F">
                     <p class="titleintable">表13-2 Oracle跟踪文件接口</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle跟踪文件接口" border="1" summary="This table lists and describes Oracle Trace File Analyzer interfaces." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d38305e731">接口</th>
                              <th align="left" valign="bottom" width="20%" id="d38305e733">命令</th>
                              <th align="left" valign="bottom" width="20%" id="d38305e735">如何使用</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d38305e739" headers="d38305e731 ">
                                 <p>命令行</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d38305e739 d38305e733 ">
                                 <p><code class="codeph">$ tfactl <span class="variable" translate="no">command</span></code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d38305e739 d38305e735 ">
                                 <p>在命令行中指定所有命令选项。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d38305e752" headers="d38305e731 ">
                                 <p>Shell界面</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d38305e752 d38305e733 ">
                                 <p><code class="codeph">$ tfactl</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d38305e752 d38305e735 ">
                                 <p>设置并更改上下文，然后从shell中运行命令。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d38305e763" headers="d38305e731 ">
                                 <p>菜单界面</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d38305e763 d38305e733 ">
                                 <p><code class="codeph">$ tfactl <span class="variable" translate="no">menu</span></code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d38305e763 d38305e735 ">
                                 <p>选择菜单导航选项，然后选择要运行的命令。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-773A6978-424D-48D8-A214-E47E3D120454" name="GUID-773A6978-424D-48D8-A214-E47E3D120454"></a><h3 id="ATNMS-GUID-773A6978-424D-48D8-A214-E47E3D120454" class="sect3"><span class="enumeration_section">13.9</span>屏蔽敏感数据</h3>
               <div>
                  <p>屏蔽敏感数据是一项可选功能，您可以将Oracle跟踪文件分析器配置为屏蔽日志文件中的敏感数据。</p>
                  <div class="section">Oracle跟踪文件分析器屏蔽主机名或IP地址等信息，并在所有文件中一致地替换敏感数据。一致地替换意味着信息仍然与诊断目的相关且有用，而不共享任何敏感数据。</div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-773A6978-424D-48D8-A214-E47E3D120454__GUID-FB467372-B051-419F-9ED9-1420AC1C1A33">配置掩码：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>在目录<code>tfa_home/resources</code>创建名为<code>mask_strings.xml</code>的文件。</span></li>
                     <li class="stepexpand"><span>定义一个<code class="codeph"><span class="variable" translate="no">mask_strings</span></code>元素，然后内一<code class="codeph"><span class="variable" translate="no">mask_string</span></code>元素，与<code class="codeph"><span class="variable" translate="no">original</span></code>和<code class="codeph"><span class="variable" translate="no">replacement</span></code>的每个要更换的字符串：</span><div>
                           <div class="p">例如：<pre class="pre codeblock"><code>&lt;mask_strings&gt; &lt;mask_string&gt; &lt;original&gt; WidgetNode1 &lt;/ original&gt; &lt;replacement&gt; Node1 &lt;/ replacement&gt; &lt;/ mask_string&gt; &lt;mask_string&gt; &lt;original&gt; 192.168.5.1 &lt;/ original&gt; &lt;replacement&gt; Node1-IP &lt;/ replacement&gt; &lt; / mask_string&gt; &lt;mask_string&gt; &lt;original&gt; WidgetNode2 &lt;/ original&gt; &lt;replacement&gt; Node2 &lt;/ replacement&gt; &lt;/ mask_string&gt; &lt;mask_string&gt; &lt;original&gt; 192.168.5.2 &lt;/ original&gt; &lt;replacement&gt; Node2-IP &lt;/ replacement&gt; &lt; / mask_string&gt; &lt;/ mask_strings&gt;</code></pre></div>
                           <p>Oracle Trace File Analyzer自动定位<code>mask_strings.xml</code>文件，并开始替换它收集的诊断中的敏感数据。
                           </p>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-5EB34BD2-E1A1-418C-95D1-30323523331B" name="GUID-5EB34BD2-E1A1-418C-95D1-30323523331B"></a><h3 id="ATNMS-GUID-5EB34BD2-E1A1-418C-95D1-30323523331B" class="sect3"><span class="enumeration_section">13.10</span>保护对Oracle Trace File Analyzer的访问</h3>
               <div>
                  <p>运行<code class="codeph">tfactl</code>命令仅限于授权用户。
                  </p>
                  <div class="section">
                     <p><code class="codeph">tfactl</code>提供了一个命令行界面和shell来执行以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>运行诊断程序并从您选择的时间收集所有相关的日志数据</p>
                        </li>
                        <li>
                           <p>修剪日志文件，只收集诊断所需的内容</p>
                        </li>
                        <li>
                           <p>从群集中的任何所需节点收集并打包所有修剪的诊断，并将一个包中的所有内容合并到一个节点上</p>
                        </li>
                     </ul>
                     <p>授权的非root用户可以运行<code class="codeph">tfactl</code>命令的子集。所有其他<code class="codeph">tfactl</code>命令都需要<code class="codeph">root</code>访问权限。未经授权的用户无法运行任何<code class="codeph">tfactl</code>命令。
                     </p>
                     <p>默认情况下，以下用户有权访问<code class="codeph">tfactl</code>命令的子集：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle Grid Infrastructure的业主</p>
                        </li>
                        <li>
                           <p>Oracle数据库主目录</p>
                        </li>
                     </ul>
                     <p>仅当在Linux和UNIX上以<code class="codeph">root</code>身份安装Oracle Trace File Analyzer时，用户访问才适用。如果Oracle Trace File Analyzer以非root用户身份安装，或在Microsoft Windows上，则不适用用户访问权限。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5EB34BD2-E1A1-418C-95D1-30323523331B__GUID-185C302F-0763-41E9-9F2B-9CA0678EDFBA">要为tfactl提供用户访问权限：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>列出有权访问<code class="codeph">tfactl</code>的用户：</p><pre class="pre codeblock"><code>tfactl访问lsusers</code></pre></li>
                        <li>
                           <p>要添加用户以访问<code class="codeph">tfactl</code> ：</p><pre class="pre codeblock"><code>tfactl access add -user <span class="variable" translate="no">user</span> [-local]</code></pre><p>默认情况下，访问命令适用于群集范围，除非使用<code class="codeph">–local</code>限制到本地节点。
                           </p>
                        </li>
                        <li>
                           <p>要删除用户访问<code class="codeph">tfactl</code> ：</p><pre class="pre codeblock"><code>tfactl访问删除-user <span class="variable" translate="no">user</span> [-local]</code></pre></li>
                        <li>
                           <p>要删除所有用户访问<code class="codeph">tfactl</code> ：</p><pre class="pre codeblock"><code>tfactl access removeall [-local]</code></pre></li>
                        <li>
                           <p>要重置用户对默认的访问权限：</p><pre class="pre codeblock"><code>tfactl访问重置</code></pre></li>
                        <li>
                           <p>要启用用户访问权限：</p><pre class="pre codeblock"><code>tfactl访问启用</code></pre></li>
                        <li>
                           <p>要禁用用户访问权限：</p><pre class="pre codeblock"><code>tfactl访问禁用</code></pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-administration-commands.html#GUID-AA2A2AAA-04B4-441F-B27A-9312E7A07993" title="使用tfactl access命令允许非root用户拥有对Oracle Trace File Analyzer的受控访问权限，以及运行诊断集合。">tfactl访问</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-45CD3866-E315-42D2-B527-472526928A8C" name="GUID-45CD3866-E315-42D2-B527-472526928A8C"></a><h3 id="ATNMS-GUID-45CD3866-E315-42D2-B527-472526928A8C" class="sect3"><span class="enumeration_section">13.11</span>卸载Oracle Trace File Analyzer</h3>
               <div>
                  <p></p>
                  <ol>
                     <li class="stepexpand"><span>要卸载Oracle Trace File Analyzer，请以<code class="codeph">root</code>身份运行<code class="codeph">uninstall</code>命令，或者安装user。</span><div><pre class="pre codeblock"><code>$ tfactl卸载</code></pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="quick-start-guide.html#GUID-A1DBE3D4-6501-47D3-854E-E9978F19F7BA" title="本节介绍如何在不同的操作系统上安装Oracle Trace File Analyzer。">Oracle Trace File Analyzer入门</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>