<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_FILE_TRANSFER package provides procedures to copy a binary file within a database or to transfer a binary file between databases."></meta>
      <meta name="description" content="The DBMS_FILE_TRANSFER package provides procedures to copy a binary file within a database or to transfer a binary file between databases."></meta>
      <title>DBMS_FILE_TRANSFER</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_FILE_TRANSFER package provides procedures to copy a binary file within a database or to transfer a binary file between databases."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_FILE_GROUP.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_FLASHBACK.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_FILE_GROUP.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_FLASHBACK.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_FILE_TRANSFER</li>
            </ol>
            <a id="GUID-9E206058-78CB-4028-8883-7C28B845F86C" name="GUID-9E206058-78CB-4028-8883-7C28B845F86C"></a><a id="ARPLS095"></a><a id="ARPLS095"></a>
            
            <h2 id="ARPLS-GUID-9E206058-78CB-4028-8883-7C28B845F86C" class="sect2"><span class="enumeration_chapter">68</span> DBMS_FILE_TRANSFER</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_FILE_TRANSFER</code>包提供了复制数据库中的二进制文件或在数据库之间传输二进制文件的过程。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_FILE_TRANSFER.html#GUID-4403737E-04D0-4590-9F02-A49E4ACCA00E" title="DBMS_FILE_TRANSFER包提供了复制数据库中的二进制文件或在数据库之间传输二进制文件的过程。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_FILE_TRANSFER.html#GUID-81A3CB77-C556-4A6D-B014-F2E77F6DCC79" title="必须在SYS（CONNECT INTERNAL）下创建DBMS_FILE_TRANSFER包。此程序包提供的操作在当前调用用户下执行，而不是在程序包所有者（SYS）下执行。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_FILE_TRANSFER.html#GUID-0AC4DCD4-4771-463C-AE1B-6048A9366BEE" title="DBMS_FILE_TRANSFER支持在线备份。因此，您应该小心复制或传输数据库正在修改的文件，因为这可能导致文件不一致，并且需要恢复。为了保证一致性，请在使用数据库时使文件脱机。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_FILE_TRANSFER.html#GUID-B38D5F75-B9BD-4B1B-A8A5-93DB961C5E02" title="该表列出了DBMS_FILE_TRANSFER子程序并简要描述了它们。">DBMS_FILE_TRANSFER子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-9E206058-78CB-4028-8883-7C28B845F86C__GUID-4E115BD2-5AB4-4951-84E9-8EE411E0DDB6">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN01201" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关使用文件传输的说明</p>
               </div>
            </div><a id="ARPLS74536"></a><a id="ARPLS74536"></a><div class="props_rev_3"><a id="GUID-4403737E-04D0-4590-9F02-A49E4ACCA00E" name="GUID-4403737E-04D0-4590-9F02-A49E4ACCA00E"></a><h3 id="ARPLS-GUID-4403737E-04D0-4590-9F02-A49E4ACCA00E" class="sect3"><span class="enumeration_section">68.1</span> DBMS_FILE_TRANSFER概述</h3>
               <div>
                  <p><code class="codeph">DBMS_FILE_TRANSFER</code>包提供了复制数据库中的二进制文件或在数据库之间传输二进制文件的过程。
                  </p>
                  <div class="section">
                     <p>目标数据库在从具有不同字节顺序的平台接收文件时转换每个块。数据文件在作为可传输操作的一部分移动到目标数据库之后可以导入，而无需RMAN转换。<code class="codeph">GET</code>和<code class="codeph">PUT</code>操作都将在目标上跨平台差异转换文件。但是， <code class="codeph">COPY</code>是本地操作，因此不需要转换。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS74537"></a><a id="ARPLS74537"></a><div class="props_rev_3"><a id="GUID-81A3CB77-C556-4A6D-B014-F2E77F6DCC79" name="GUID-81A3CB77-C556-4A6D-B014-F2E77F6DCC79"></a><h3 id="ARPLS-GUID-81A3CB77-C556-4A6D-B014-F2E77F6DCC79" class="sect3"><span class="enumeration_section">68.2</span> DBMS_FILE_TRANSFER安全模型</h3>
               <div>
                  <p>必须在<code class="codeph">SYS</code> （ <code class="codeph">CONNECT INTERNAL</code> ）下创建<code class="codeph">DBMS_FILE_TRANSFER</code>包。此程序包提供的操作在当前调用用户下执行，而不是在程序包所有者（ <code class="codeph">SYS</code> ）下执行。
                  </p>
                  <div class="section">
                     <p>要使用此界面，以下用户必须具有以下权限：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>本地数据库中的当前用户必须对<code class="codeph">source_directory_object</code>参数中指定的目录对象具有<code class="codeph">READ</code>权限。
                           </p>
                        </li>
                        <li>
                           <p>目标数据库中的已连接用户必须具有对<code class="codeph">destination_directory_object</code>参数中指定的目录对象的<code class="codeph">WRITE</code>特权。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS66381"></a><a id="ARPLS66381"></a><div class="props_rev_3"><a id="GUID-0AC4DCD4-4771-463C-AE1B-6048A9366BEE" name="GUID-0AC4DCD4-4771-463C-AE1B-6048A9366BEE"></a><h3 id="ARPLS-GUID-0AC4DCD4-4771-463C-AE1B-6048A9366BEE" class="sect3"><span class="enumeration_section">68.3</span> DBMS_FILE_TRANSFER操作说明</h3>
               <div>
                  <p><code class="codeph">DBMS_FILE_TRANSFER</code>支持在线备份。因此，您应该小心复制或传输数据库正在修改的文件，因为这可能导致文件不一致，并且需要恢复。为了保证一致性，请在使用数据库时使文件脱机。
                  </p>
                  <div class="section">
                     <p>如果要使用<code class="codeph">DBMS_FILE_TRANSFER</code>执行备份，请注意您正在实施自我管理的备份，因此应将文件置于热备份模式。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS66382"></a><a id="ARPLS66383"></a><a id="ARPLS66383"></a><a id="ARPLS66382"></a><div class="props_rev_3"><a id="GUID-B38D5F75-B9BD-4B1B-A8A5-93DB961C5E02" name="GUID-B38D5F75-B9BD-4B1B-A8A5-93DB961C5E02"></a><h3 id="ARPLS-GUID-B38D5F75-B9BD-4B1B-A8A5-93DB961C5E02" class="sect3"><span class="enumeration_section">68.4</span> DBMS_FILE_TRANSFER子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_FILE_TRANSFER</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-B38D5F75-B9BD-4B1B-A8A5-93DB961C5E02__GUID-6806FD28-CD4B-4404-8802-FFC0B04C6B26">
                     <p class="titleintable">表68-1 DBMS_FILE_TRANSFER包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_FILE_TRANSFER包子程序" width="100%" border="1" summary="This table lists the DBMS_FILE_TRANSFER subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="44%" id="d432953e570">子程序</th>
                              <th align="left" valign="bottom" width="56%" id="d432953e573">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d432953e578" headers="d432953e570 ">
                                 <p><a href="DBMS_FILE_TRANSFER.html#GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957" title="此过程从源目录中读取文件，并在目标目录中创建它的副本。源目录和目标目录都可以位于本地文件系统中，或者都位于自动存储管理（ASM）磁盘组中，或者位于本地文件系统和ASM之间，并且可以在任一方向上进行复制。">COPY_FILE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d432953e578 d432953e573 ">
                                 <p>从源目录中读取文件，并在目标目录中创建它的副本。源目录和目标目录都可以位于本地文件系统中，或者都位于自动存储管理（ASM）磁盘组中，或者位于本地文件系统和ASM之间，并且可以在任一方向上进行复制。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d432953e590" headers="d432953e570 ">
                                 <p><a href="DBMS_FILE_TRANSFER.html#GUID-DEB8DC39-EB79-49B5-BA2B-D861522D7876" title="此过程与远程数据库联系以读取远程文件，然后在本地文件系统或ASM中创建该文件的副本。复制的文件是源文件，由副本生成的新文件是目标文件。在过程成功完成之前，目标文件不会关闭。">GET_FILE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d432953e590 d432953e573 ">
                                 <p>联系远程数据库以读取远程文件，然后在本地文件系统或ASM中创建该文件的副本</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="44%" id="d432953e602" headers="d432953e570 ">
                                 <p><a href="DBMS_FILE_TRANSFER.html#GUID-8462B9D2-D14E-4FB2-9996-0D1E4590F356" title="此过程读取本地文件或ASM并联系远程数据库以在远程文件系统中创建该文件的副本。">PUT_FILE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="56%" headers="d432953e602 d432953e573 ">
                                 <p>读取本地文件或ASM并联系远程数据库以在远程文件系统中创建该文件的副本</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS66384"></a><a id="ARPLS66385"></a><a id="ARPLS66385"></a><a id="ARPLS66384"></a><div class="props_rev_3"><a id="GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957" name="GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957"></a><h4 id="ARPLS-GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957" class="sect4"><span class="enumeration_section">68.4.1</span> COPY_FILE过程</h4>
                  <div>
                     <p>此过程从源目录中读取文件，并在目标目录中创建它的副本。源目录和目标目录都可以位于本地文件系统中，或者都位于自动存储管理（ASM）磁盘组中，或者位于本地文件系统和ASM之间，并且可以在任一方向上进行复制。</p>
                     <div class="section">
                        <p>您可以在本地文件系统中复制任何类型的文件。但是，您只能将数据库文件（如数据文件，临时文件，控制文件等）复制到ASM磁盘组或从ASM磁盘组复制。</p>
                        <p>在过程成功完成之前，目标文件不会关闭。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957__GUID-06741061-A871-4C1A-9434-0A9641EF215E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_FILE_TRANSFER.COPY_FILE（source_directory_object IN VARCHAR2，source_file_name IN VARCHAR2，destination_directory_object IN VARCHAR2，destination_file_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957__GUID-66A443A6-8817-4654-BA5F-B7CFFF0D465D">参数</p>
                        <div class="tblformal" id="GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957__GUID-CDC2C8FE-FAB9-4A1F-82C5-DED6DD5F6FAF">
                           <p class="titleintable">表68-2 <span class="italic"><span class="bold">COPY_FILE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="COPY_FILE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_FILE_TRANSFER.COPY_FILE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="43%" id="d432953e730">参数</th>
                                    <th align="left" valign="bottom" width="57%" id="d432953e733">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e738" headers="d432953e730 ">
                                       <p><code class="codeph">source_directory_object</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e738 d432953e733 ">
                                       <p>指定源目录的目录对象。目录对象必须已存在。（使用<code class="codeph">CREATE</code> <code class="codeph">DIRECTORY</code>命令创建目录对象）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e752" headers="d432953e730 ">
                                       <p><code class="codeph">source_file_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e752 d432953e733 ">
                                       <p>要复制的文件的名称。该文件必须存在于源目录中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e760" headers="d432953e730 ">
                                       <p><code class="codeph">destination_directory_object</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e760 d432953e733 ">
                                       <p>指定目标目录的目录对象。目录对象必须已存在。如果目标是ASM，则目录对象必须指定磁盘组名称（例如，+ <code class="codeph">diskgroup1</code> ）或为别名创建的目录。对于目录，必须指定目录的完整路径（例如： <code class="codeph">+diskgroup1/dbs/control</code> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e774" headers="d432953e730 ">
                                       <p><code class="codeph">destination_file_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e774 d432953e733 ">
                                       <p>要分配给目标目录中的文件的名称。目标目录中不能存在具有相同名称的文件。如果目的地是ASM：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p>该文件被赋予一个完全限定的ASM文件名，并在相应的目录中创建（取决于数据库名称和文件类型）</p>
                                          </li>
                                          <li>
                                             <p>分配给该文件的文件类型标记是<code class="codeph">COPY_FILE</code> 
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">destination_file_name</code>参数的值将成为指定目标目录中文件的别名</p>
                                          </li>
                                       </ul>
                                       <p>文件名后面可以跟括括号中的ASM模板名称。然后为该文件提供模板指定的属性。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957__GUID-BAD80179-0DBB-4795-B9BB-E2682AA2F1B2">使用说明</p>
                        <p>要成功运行此过程，当前用户必须具有以下权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对<code class="codeph">source_directory_object</code>参数中指定的目录对象的<code class="codeph">READ</code>特权</p>
                           </li>
                           <li>
                              <p>对<code class="codeph">destination_directory_object</code>参数中指定的目录对象的<code class="codeph">WRITE</code>特权</p>
                           </li>
                        </ul>
                        <p>此过程将目录对象参数转换为大写，除非它们被双引号括起，但此过程不会将文件名转换为大写。</p>
                        <p>此外，复制的文件必须满足以下要求：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>复制文件的大小必须是512字节的倍数。</p>
                           </li>
                           <li>
                              <p>复制文件的大小必须小于或等于2 TB。</p>
                           </li>
                        </ul>
                        <p>该<code class="codeph">source_file_name</code>参数必须指定一个文件，是由指定的目录<code class="codeph">source_directory_object</code>运行程序之前的参数，以及<code class="codeph">destination_file_name</code>参数必须在指定的新位置的文件的新名称<code class="codeph">destination_directory_object</code>参数。<code class="codeph">source_directory_object</code>和<code class="codeph">destination_directory_object</code>参数的目录对象中不允许使用相对路径和符号链接。
                        </p>
                        <p>传输文件不是事务性的。要监视长文件副本的进度，请查询<code class="codeph">V$SESSION_LONGOPS</code>动态性能视图。
                        </p>
                        <div class="infoboxnotealso" id="GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957__GUID-DC2EAF86-952C-4F90-8BF4-037C31FD182E">
                           <p class="notep1">也可以看看：</p>
                           <p>有关使用文件传输的说明，请<a href="../ostmg/asm-files-directories-templates.html#OSTMG-GUID-02A2C5A4-38B1-40F7-8329-EA3187D24F1A" target="_blank"><span><cite>参见“Oracle自动存储管理管理员指南”</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-ECC02A66-FAFD-4085-841C-E0B0A988E957__GUID-6D62902F-5B12-4D43-9EB9-2527BBAFFABB">例子</p><pre class="oac_no_warn" dir="ltr">SQL&gt;创建目录DGROUP为'+ diskgroup1 / dbs / backup';目录已创建。SQL&gt; BEGIN 2 DBMS_FILE_TRANSFER.COPY_FILE（'SOURCEDIR'，'t_xdbtmp.f'，'DGROUP'，'t_xdbtmp.f'）; 3结束; 4 / PL / SQL过程成功完成。SQL&gt; EXIT $ ASMCMD ASMCMD&gt; ls DISKGROUP1 / ASMCMD&gt; cd diskgroup1 / dbs / backup ASMCMD&gt; ls t_xdbtmp.f =&gt; + DISKGROUP1 / ORCL / TEMPFILE / COPY_FILE.267.546546525</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66386"></a><a id="ARPLS66387"></a><a id="ARPLS66387"></a><a id="ARPLS66386"></a><div class="props_rev_3"><a id="GUID-DEB8DC39-EB79-49B5-BA2B-D861522D7876" name="GUID-DEB8DC39-EB79-49B5-BA2B-D861522D7876"></a><h4 id="ARPLS-GUID-DEB8DC39-EB79-49B5-BA2B-D861522D7876" class="sect4"><span class="enumeration_section">68.4.2</span> GET_FILE过程</h4>
                  <div>
                     <p>此过程与远程数据库联系以读取远程文件，然后在本地文件系统或ASM中创建该文件的副本。复制的文件是源文件，由副本生成的新文件是目标文件。在过程成功完成之前，目标文件不会关闭。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DEB8DC39-EB79-49B5-BA2B-D861522D7876__GUID-2C973D37-06CB-4784-B3F9-CD4BAFCA6EC6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_FILE_TRANSFER.GET_FILE source_directory_object IN VARCHAR2，source_file_name IN VARCHAR2，source_database IN VARCHAR2，destination_directory_object IN VARCHAR2，destination_file_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DEB8DC39-EB79-49B5-BA2B-D861522D7876__GUID-210B29C7-B977-41BE-B478-A35D50F3F5E3">参数</p>
                        <div class="tblformal" id="GUID-DEB8DC39-EB79-49B5-BA2B-D861522D7876__GUID-91E1D0CA-2F9F-4762-AE84-82387AF84099">
                           <p class="titleintable">表68-3 GET_FILE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_FILE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_FILE_TRANSFER.GET_FILE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="43%" id="d432953e982">参数</th>
                                    <th align="left" valign="bottom" width="57%" id="d432953e985">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e990" headers="d432953e982 ">
                                       <p><code class="codeph">source_directory_object</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e990 d432953e985 ">
                                       <p>从源站点复制文件的目录对象。此目录对象必须存在于源站点。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e998" headers="d432953e982 ">
                                       <p><code class="codeph">source_file_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e998 d432953e985 ">
                                       <p>在远程文件系统中复制的文件的名称。此文件必须存在于与源目录对象关联的目录中的远程文件系统中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e1006" headers="d432953e982 ">
                                       <p><code class="codeph">source_database</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e1006 d432953e985 ">
                                       <p>指向文件所在的远程数据库的数据库链接的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e1014" headers="d432953e982 ">
                                       <p><code class="codeph">destination_directory_object</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e1014 d432953e985 ">
                                       <p>文件放置在目标站点的目录对象。此目录对象必须存在于本地文件系统中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e1022" headers="d432953e982 ">
                                       <p><code class="codeph">destination_file_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e1022 d432953e985 ">
                                       <p>复制到本地文件系统的文件的名称。本地文件系统的目标目录中不得存在具有相同名称的文件。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DEB8DC39-EB79-49B5-BA2B-D861522D7876__GUID-387DB0BF-D5ED-45E3-9052-1799113DCAA4">使用说明</p>
                        <p>要成功运行此过程，以下用户必须具有以下权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>源数据库中的已连接用户必须对<code class="codeph">source_directory_object</code>参数中指定的目录对象具有读取权限。
                              </p>
                           </li>
                           <li>
                              <p>本地数据库的当前用户必须对<code class="codeph">destination_directory_object</code>参数中指定的目录对象具有写权限。
                              </p>
                           </li>
                        </ul>
                        <p>此过程将目录对象参数转换为大写，除非它们被双引号括起，但此过程不会将文件名转换为大写。</p>
                        <p>此外，复制的文件必须满足以下要求：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>复制文件的大小必须是512字节的倍数。</p>
                           </li>
                           <li>
                              <p>复制文件的大小必须小于或等于2 TB。</p>
                           </li>
                        </ul>
                        <p>传输文件不是事务性的。要监视长文件传输的进度，请查询<code class="codeph">V$SESSION_LONGOPS</code>动态性能视图。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DEB8DC39-EB79-49B5-BA2B-D861522D7876__GUID-B8B1114E-32FB-4A5C-842A-E4D9968836AD">例子</p><pre class="oac_no_warn" dir="ltr">创建或替换DIRECTORY df AS'+ datafile';授予“用户”目录的权限;创建目录DSK_FILES AS''^ t_work ^''; GRANT在DIR_ORY上写入dsk_files给“用户”; - 假设已创建dbs2链接并且我们已连接到实例。-  dbs2可能是一个环回或指向另一个实例。BEGIN  -  asm文件到os文件 - 从dbs1.asm / a1到dbs2获取asm文件。^ t_work ^ / oa5.dat DBMS_FILE_TRANSFER.GET_FILE（'df'，'a1'，'dbs1'，'dsk_files' ，'oa5.dat'）; -  os文件到os文件 - 从dbs1获取一个os文件。^ t_work ^ / a2.dat到dbs2。^ t_work ^ / a2back.dat DBMS_FILE_TRANSFER.GET_FILE（'dsk_files'，'a2.dat'，'dbs1 '，'dsk_files'，'a2back.dat'）;结束 ; /</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS66388"></a><a id="ARPLS66389"></a><a id="ARPLS66389"></a><a id="ARPLS66388"></a><div class="props_rev_3"><a id="GUID-8462B9D2-D14E-4FB2-9996-0D1E4590F356" name="GUID-8462B9D2-D14E-4FB2-9996-0D1E4590F356"></a><h4 id="ARPLS-GUID-8462B9D2-D14E-4FB2-9996-0D1E4590F356" class="sect4"><span class="enumeration_section">68.4.3</span> PUT_FILE过程</h4>
                  <div>
                     <p>此过程读取本地文件或ASM并联系远程数据库以在远程文件系统中创建该文件的副本。</p>
                     <div class="section">
                        <p>复制的文件是源文件，由副本生成的新文件是目标文件。在过程成功完成之前，目标文件不会关闭。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8462B9D2-D14E-4FB2-9996-0D1E4590F356__GUID-82EC8A5F-FE77-4789-A780-AC7AE33422F8">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_FILE_TRANSFER.PUT_FILE（source_directory_object IN VARCHAR2，source_file_name IN VARCHAR2，destination_directory_object IN VARCHAR2，destination_file_name IN VARCHAR2，destination_database IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8462B9D2-D14E-4FB2-9996-0D1E4590F356__GUID-48E9E170-1893-44A0-B65A-31D97D346410">参数</p>
                        <div class="tblformal" id="GUID-8462B9D2-D14E-4FB2-9996-0D1E4590F356__GUID-B0B5686F-7E5E-4413-BFDE-8163C9CEFE57">
                           <p class="titleintable">表68-4 PUT_FILE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PUT_FILE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_FILE_TRANSFER.PUT_FILE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="43%" id="d432953e1181">参数</th>
                                    <th align="left" valign="bottom" width="57%" id="d432953e1184">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e1189" headers="d432953e1181 ">
                                       <p><code class="codeph">source_directory_object</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e1189 d432953e1184 ">
                                       <p>从本地源站点复制文件的目录对象。此目录对象必须存在于源站点。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e1197" headers="d432953e1181 ">
                                       <p><code class="codeph">source_file_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e1197 d432953e1184 ">
                                       <p>从本地文件系统复制的文件的名称。此文件必须存在于与源目录对象关联的目录中的本地文件系统中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e1205" headers="d432953e1181 ">
                                       <p><code class="codeph">destination_directory_object</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e1205 d432953e1184 ">
                                       <p>文件放置在目标站点的目录对象。此目录对象必须存在于远程文件系统中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e1213" headers="d432953e1181 ">
                                       <p><code class="codeph">destination_file_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e1213 d432953e1184 ">
                                       <p>放置在远程文件系统中的文件的名称。远程文件系统的目标目录中不得存在具有相同名称的文件。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="43%" id="d432953e1221" headers="d432953e1181 ">
                                       <p><code class="codeph">destination_database的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d432953e1221 d432953e1184 ">
                                       <p>指向要将文件复制到的远程数据库的数据库链接的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8462B9D2-D14E-4FB2-9996-0D1E4590F356__GUID-D0B9FD18-E98B-4EF1-BEB4-F3A67DF4DAD8">使用说明</p>
                        <p>要成功运行此过程，以下用户必须具有以下权限：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>本地数据库中的当前用户必须对<code class="codeph">source_directory_object</code>参数中指定的目录对象具有读取权限。
                              </p>
                           </li>
                           <li>
                              <p>目标数据库中的已连接用户必须具有<code class="codeph">destination_directory_object</code>参数中指定的目录对象的写权限。
                              </p>
                           </li>
                        </ul>
                        <p>此过程将目录对象参数转换为大写，除非它们被双引号括起，但此过程不会将文件名转换为大写。</p>
                        <p>此外，复制的文件必须满足以下要求：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>复制文件的大小必须是512字节的倍数。</p>
                           </li>
                           <li>
                              <p>复制文件的大小必须小于或等于2 TB。</p>
                           </li>
                        </ul>
                        <p>传输文件不是事务性的。要监视长文件传输的进度，请查询<code class="codeph">V$SESSION_LONGOPS</code>动态性能视图。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8462B9D2-D14E-4FB2-9996-0D1E4590F356__GUID-2271ECE0-5819-4E84-B1E7-74565E689D55">例子</p><pre class="oac_no_warn" dir="ltr">创建或替换DIRECTORY df AS'+ datafile';授予“用户”目录的权限;创建或替换目录ft1 AS'+ datafile / ft1'; GRANT READ，在目录ft1上写入“用户”;创建或替换目录ft1_1 AS'+ datafile / ft1 / ft1_1'; CONNECT用户;输入密码： <span class="italic">密码</span> -   - 将a1.dat放到a4.dat（使用dbs2 dblink） -   -  2级子目录到父目录 - 用户在dbs1上读取ft1_1上的priv并在dbs2中写入dbs2 BEGIN DBMS_FILE_TRANSFER。 PUT_FILE（'ft1_1'，'a2.dat'，'df'，'a4.dat'，'dbs2'）;结束 ;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>