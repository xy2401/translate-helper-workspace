<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>MEDIAN</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="MAX.html" title="Previous" type="text/html"></link>
      <link rel="next" href="MIN.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="MAX.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="MIN.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">功能</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">MEDIAN</li>
            </ol>
            <a id="GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A" name="GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A"></a><a id="SQLRF51516"></a><a id="SQLRF51517"></a><a id="SQLRF51518"></a><a id="SQLRF51519"></a><a id="SQLRF06315"></a>
            
            <h2 id="SQLRF-GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A" class="sect2">MEDIAN</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A__GUID-1DA93E92-3172-438C-8649-8924204785F8">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A__GUID-F258545A-578A-4521-B15C-65E5117834AC"><img src="img/median.gif" alt="中位数说明如下" title="中位数说明如下" longdesc="img_text/median.html"><br><a href="img_text/median.html">说明median.eps的说明</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A__GUID-6688FDA0-8CC5-416E-A164-AE47F678340B">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="Analytic-Functions.html#GUID-527832F7-63C0-4445-8C16-307FA5084056">分析函数</a> ”，</span>用于获取有关语法，语义和限制的信息</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A__GUID-ADAF5607-F1EF-40AD-A4DE-C0B5B742C177">目的</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">MEDIAN</code>是一个逆分布函数，它假设一个连续的分布模型。它采用数字或日期时间值，并返回中间值或内插值，一旦值被排序，它将是中间值。在计算中忽略空值。
                  </p>
                  <p>此函数将任何数值数据类型或任何可以隐式转换为数字数据类型的非数字数据类型作为参数。如果仅指定<span class="italic"><code class="codeph">expr</code></span> ，则该函数返回与参数的数值数据类型相同的数据类型。如果指定<code class="codeph">OVER</code>子句，则Oracle数据库确定具有最高数字优先级的参数，将其余参数隐式转换为该数据类型，并返回该数据类型。
                  </p>
                  <div class="infoboxnotealso" id="GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A__GUID-1393BA89-0664-4E8E-A167-90B4B8BCA040">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="Data-Type-Comparison-Rules.html#GUID-98BE3A78-6E33-4181-B5CB-D96FD9DC1694__G195937" title="此矩阵列出了每个后续列的第一列和标题单元格中的数据类型。单元格中的X表示在该列的标题和该行的第1列中指定的数据类型的隐式转换。">表2-8</a>了解有关隐式转换的更多信息，有关<span class="q"><a href="Data-Types.html#GUID-4C0B65DB-E751-4957-A1ED-5044BAFA7812">数值优先级</a></span>的信息，请参见<span class="q">“ <a href="Data-Types.html#GUID-4C0B65DB-E751-4957-A1ED-5044BAFA7812">数值优先级</a> ”</span></p>
                  </div>
                  <p><code class="codeph">MEDIAN</code>的结果是通过首先排序行来计算的。使用<code class="codeph">N</code>作为组中的行的数目，甲骨文计算行数（ <code class="codeph">RN</code>的利息）与式<code class="codeph">RN</code> =（ <code class="codeph">1</code> +（0. <code class="codeph">5</code> *（ <code class="codeph">N</code> - <code class="codeph">1</code> ））。通过行号<code class="codeph">CRN</code> = <code class="codeph">CEILING</code> （ <code class="codeph">RN</code> ）和<code class="codeph">FRN</code> = <code class="codeph">FLOOR</code> （ <code class="codeph">RN</code> ）的行之间的线性插值来计算聚合函数的最终结果。
                  </p>
                  <p>最终结果将是：</p><pre class="oac_no_warn" dir="ltr">if（CRN = FRN = RN）则（来自RN的行的表达式的值）else（CRN-RN）*（FRN处的行的表达式的值）+（RN-FRN）*（CRN处的行的表达式的值）</pre><p>您可以使用<code class="codeph">MEDIAN</code>作为分析函数。您只能在其<code class="codeph">OVER</code>子句中指定<span class="italic"><code class="codeph">query_partition_clause</code></span> 。对于每一行，它返回在每个分区中的一组值中间的值。
                  </p>
                  <p>将此功能与以下功能进行比较：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="PERCENTILE_CONT.html#GUID-CA259452-A565-41B3-A4F4-DD74B66CEDE0">PERCENTILE_CONT</a> ，对于给定的百分位数，返回通过插值对应于该百分位数的值。<code class="codeph">MEDIAN</code>是<code class="codeph">PERCENTILE_CONT</code>的特定情况，百分位数值默认为0.5。
                        </p>
                     </li>
                     <li>
                        <p><a href="PERCENTILE_DISC.html#GUID-7C34FDDA-C241-474F-8C5C-50CC0182E005">PERCENTILE_DISC</a> ，用于在没有插值的情况下查找给定百分位数的值。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A__GUID-1ABF7CF2-31B5-4A39-840D-3E664EF67F5E">聚合示例</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>以下查询返回<code class="codeph">hr.employees</code>表中每个部门的工资中位数：</p><pre class="oac_no_warn" dir="ltr">SELECT department_id，MEDIAN（薪水）FROM employees GROUP BY department_id ORDER BY department_id; DEPARTMENT_ID MEDIAN（SALARY）------------- -------------- 10 4400 20 9500 30 2850 40 6500 50 3100 60 4800 70 10000 80 8900 90 17000 100 8000 110 10154 7000</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-DE15705A-AC18-4416-8487-B9E1D70CE01A__GUID-6B15D4FE-D323-4F17-8F1B-52742A423ACC">分析实例</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>以下查询返回<code class="codeph">hr.employees</code>表中部门子集中每个经理的工资中位数：</p><pre class="oac_no_warn" dir="ltr">SELECT manager_id，employee_id，salary，MEDIAN（salary）OVER（PARTITION BY manager_id）“Mgr中位数”来自员工WHERE department_id&gt; 60 ORDER BY manager_id，employee_id; MANAGER_ID EMPLOYEE_ID SALARY经理人的中位数---------- ----------- ---------- ------------- 100 101 17000 13500 100 102 17000 13500 100 145 14000 13500 100 146 13500 13500 100 147 12000 13500 100 148 11000 13500 100 149 10500 13500 101 108 12008 12008 101 204 10000 12008 101 205 12008 12008 108 109 9000 7800 108 110 8200 7800 108 111 7700 7800 108 112 7800 7800 108 113 6900 7800 145 150 10000 8500 145 151 9500 8500 145 152 9000 8500。 。 。</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>