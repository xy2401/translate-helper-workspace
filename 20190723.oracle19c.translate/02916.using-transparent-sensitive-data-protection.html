<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">
      <meta name="description" content="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">
      <title>Using Transparent Sensitive Data Protection</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Security Guide ">
      <meta property="og:description" content="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96299-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-oracle-vpd-to-control-data-access.html" title="Previous" type="text/html">
      <link rel="next" href="encrypt-sensitive-data.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide">
    <meta name="dcterms.isVersionOf" content="DBSEG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-oracle-vpd-to-control-data-access.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="encrypt-sensitive-data.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_3.html" property="item" typeof="WebPage"><span property="name">Controlling Access to Data</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using Transparent Sensitive Data Protection </li>
            </ol>
            <a id="GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" name="GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5"></a><a id="DBSEG1055"></a><a id="DBSEG855"></a>
            
            <h2 id="DBSEG-GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" class="sect2"><span class="enumeration_chapter">13 </span>Using Transparent Sensitive Data Protection 
            </h2>
         </header>
         <div class="ind">
            <div>
               <div><span>Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data. </span></div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0CE739D4-D424-4034-B039-70937F5A42AE">About Transparent Sensitive Data Protection</a><br>Transparent sensitive data protection is a way to find and classify table columns that hold sensitive information. 
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA">General Steps for Using Transparent Sensitive Data Protection</a><br>To use TSDP with Oracle Data Redaction, you must follow a set of general steps.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CA2E4121-66F6-4ACE-8466-AFFA207158A8">Use Cases for Transparent Sensitive Data Protection Policies</a><br>Transparent sensitive data protection has several benefits.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-1AE9A460-A540-4C90-A01A-0C989688E301">Privileges Required for Using Transparent Sensitive Data Protection</a><br>To use transparent sensitive data protection, you must have the <code class="codeph">EXECUTE</code> privilege for several PL/SQL packages.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0AC97E6B-9B00-4D20-8F26-8B23896DDD3C">How a Multitenant Environment Affects Transparent Sensitive Data Protection</a><br><span>In a multitenant environment, you can apply Transparent Sensitive Data Protection policies to the current PDB or current application PDB only.</span></li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005">Creating Transparent Sensitive Data Protection Policies</a><br>You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database. 
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-5F832A16-DA46-4A12-A9BD-4AD5C6518556">Altering Transparent Sensitive Data Protection Policies</a><br>The <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure can alter a TSDP policy.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-2D2FFBE5-0A93-4540-824F-5FC99A027EF0">Disabling Transparent Sensitive Data Protection Policies</a><br>The <code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code> procedure disables one or all TSDP policies.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CE169445-2AC5-4E45-8537-D731496DBCCC">Dropping Transparent Sensitive Data Protection Policies</a><br>You can drop an entire TSDP policy or a condition-enable-options combination from the policy.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB">Using the Predefined REDACT_AUDIT Policy to Mask Bind Values</a><br>The predefined <code class="codeph">REDACT_AUDIT</code> policy masks bind values, which can appear in trace files when an event is set. 
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74">Transparent Sensitive Data Protection Policies with Data Redaction</a><br>Oracle Data Redaction features work with transparent sensitive data protection policies. 
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65">Using Transparent Sensitive Data Protection Policies with Oracle VPD Policies</a><br>You can combine protections from TSDP and Oracle Virtual Private Database into one policy.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687">Using Transparent Sensitive Data Protection Policies with Unified Auditing</a><br>The transparent sensitive data protection and unified auditing procedures can combine the protections of these two features.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8">Using Transparent Sensitive Data Protection Policies with Fine-Grained Auditing</a><br>The transparent sensitive data protection and fine-grained auditing procedures can combine the protections of these two features.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5">Using Transparent Sensitive Data Protection Policies with TDE Column Encryption</a><br>The TSDP procedures and Transparent Data Encryption column encryption statements can combine the protections of these two features.
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E">Transparent Sensitive Data Protection Data Dictionary Views</a><br>Oracle Database provides data dictionary views that list information about transparent sensitive data protection policies.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part_3.html" title="Part III describes how to control access to data.">Controlling Access to Data</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG856"></a><div class="props_rev_3"><a id="GUID-0CE739D4-D424-4034-B039-70937F5A42AE" name="GUID-0CE739D4-D424-4034-B039-70937F5A42AE"></a><h3 id="DBSEG-GUID-0CE739D4-D424-4034-B039-70937F5A42AE" class="sect3">About Transparent Sensitive Data Protection</h3>
               <div>
                  <p>Transparent sensitive data protection is a way to find and classify table columns that hold sensitive information. </p>
                  <p>This feature enables you to quickly find the table columns in a database that hold sensitive data, classify this data, and then create a policy that protects this data as a whole for a given class. Examples of this type of sensitive data are credit card numbers or Social Security numbers.</p>
                  <p>The TSDP policy then protects the sensitive data in these table columns by using either Oracle Data Redaction or Oracle Virtual Private Database settings. The TSDP policy applies at the column level of the table that you want to protect, targeting a specific column data type, such as all <code class="codeph">NUMBER</code> data types of columns that contain credit card information. You can create a uniform TSDP policy for all of the data that you classify, and then modify this policy as necessary, as compliance regulations change. Optionally, you can export the TSDP policies for use in other databases. 
                  </p>
                  <p>The benefits of TSDP policies are enormous: You easily can create and apply TSDP policies throughout a large organization with numerous databases. This helps auditors greatly by enabling them to estimate the protection for the data that the TSDP policies target. TSDP is particularly useful for government environments, in which you may have a lot of data with similar security restrictions and you must apply a policy to all of this data consistently. The policy could be to redact it, encrypt it, control access to it, audit access to it, and mask it in the audit trail. Without TSDP, you would have to configure every redaction policy, column-level encryption configuration, and Virtual Private Database policy column by column. </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG399"></a><div class="props_rev_3"><a id="GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA" name="GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA"></a><h3 id="DBSEG-GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA" class="sect3">General Steps for Using Transparent Sensitive Data Protection</h3>
               <div>
                  <p>To use TSDP with Oracle Data Redaction, you must follow a set of general steps.</p>
                  <ol>
                     <li class="stepexpand"><span>Create a sensitive type to classify the types of columns that you want to protect.</span><div>
                           <p>For example, you can create a sensitive type for classify all Social Security numbers or credit card numbers. To create the sensitive type, either use the <code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE</code> PL/SQL procedure or use an Enterprise Manager Cloud Control Application Data Model. To add multiple sensitive types in one operation from an Application Data Model, you can use the <code class="codeph">DBMS_TSDP_MANAGE.IMPORT_SENSITIVE_TYPES</code> procedure.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand" id="GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA__CACDCJJB"><span>Identify a list of sensitive columns that are associated with the sensitive types. </span><div>
                           <p>To determine and generate this list, you can use either of the following methods:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN</code> procedure individually identifies sensitive columns.
                                 </p>
                              </li>
                              <li>
                                 <p>An Oracle Enterprise Manager Cloud Control Application Data Model enables you to identify a group of sensitive columns. It then prepares this list of sensitive columns in XML format, which you then import into your database. </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>If you used an Application Data Model for Step <a href="using-transparent-sensitive-data-protection.html#GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA__CACDCJJB">2</a>, then import the list of sensitive columns from the Application Data Model into your database by using the <code class="codeph">DBMS_TSDP_MANAGE.IMPORT_DISCOVERY_RESULT</code> procedure.</span></li>
                     <li class="stepexpand"><span>Create the TSDP policy by using the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure within an anonymous block that defines the Data Redaction or Virtual Private Database settings that you want to use.</span></li>
                     <li class="stepexpand"><span>Associate the TSDP policy with one or more sensitive types by using the <code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code> procedure.</span></li>
                     <li class="stepexpand"><span>Enable the TSDP policy protections by using the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_SOURCE</code>, <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_COLUMN</code>, or the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_TYPE</code> procedure.</span></li>
                     <li class="stepexpand"><span>Optionally, export the TSDP policy to other databases by using Oracle Data Pump to perform a full database export. (You cannot individually export TSDP policies.)</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG857"></a><div class="props_rev_3"><a id="GUID-CA2E4121-66F6-4ACE-8466-AFFA207158A8" name="GUID-CA2E4121-66F6-4ACE-8466-AFFA207158A8"></a><h3 id="DBSEG-GUID-CA2E4121-66F6-4ACE-8466-AFFA207158A8" class="sect3">Use Cases for Transparent Sensitive Data Protection Policies</h3>
               <div>
                  <p>Transparent sensitive data protection has several benefits.</p>
                  <p>These benefits are as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">You configure the sensitive data protection once, and then deploy this protection as necessary. </span>You can configure transparent sensitive data protection policies to designate how a class of data (for example, credit card columns) must be protected without actually having to specify the target data. In other words, when you create the transparent sensitive data protection policy, you do not need to include references to the actual target columns that you want to protect. The transparent sensitive data protection policy finds these target columns based on a list of sensitive columns in the database and the policy's associations with the specified sensitive types. This can be useful when you add more sensitive data to your databases after you have created the transparent sensitive data protection policies. After you create the policy, you can enable protection for the sensitive data in a single step (for example, enable protection based on the entire source database). The sensitive type of the new data and the sensitive type and policy associations determine how the sensitive data is protected. In this way, as new sensitive data is added, you do not need to configure its protection, as long as it meets the current transparent sensitive data protection policy's requirements.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">You can manage protection of multiple sensitive columns.</span> You can enable or disable protection for multiple sensitive columns based on a suitable attribute (such as the source database of the identification, the sensitive type itself, or a specific schema, table, or column). This granularity provides a high level of control over data security. The design of this feature enables you to manage data security based on specific compliance needs for large data sets that fall under the purview of these compliance regulations. You can configure data security based on a specific category rather than for each individual column. For example, you can configure protection for credit card numbers or Social Security numbers, but you do not need to configure protection for each and every column in the database that contains this data.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">You can protect the sensitive columns identified using the Oracle Enterprise Manager Cloud Control Application Data Modeling (ADM) feature.</span> You can use the Cloud Control ADM feature to create sensitive types and discover a list of sensitive columns. Then you can import this list of sensitive columns and their corresponding sensitive types into your database. From there, you can create and manage transparent sensitive data protection policies using this information. 
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG858"></a><div class="props_rev_3"><a id="GUID-1AE9A460-A540-4C90-A01A-0C989688E301" name="GUID-1AE9A460-A540-4C90-A01A-0C989688E301"></a><h3 id="DBSEG-GUID-1AE9A460-A540-4C90-A01A-0C989688E301" class="sect3">Privileges Required for Using Transparent Sensitive Data Protection</h3>
               <div>
                  <p>To use transparent sensitive data protection, you must have the <code class="codeph">EXECUTE</code> privilege for several PL/SQL packages.
                  </p>
                  <p>These privileges are as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">DBMS_TSDP_MANAGE</code>, which enables you to import and manage sensitive columns and sensitive types into your database. The procedures in this package execute with invoker's rights. Typically, an application database administrator will be granted privileges for this package.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_TSDP_PROTECT</code>, which you use to create the TSDP policy. The procedures in this package execute with invoker's rights. Typically, a security database administrator will be granted privileges for this package.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_REDACT</code>, if you plan to create Data Redaction policies. Typically, a security database administrator will be granted privileges for this package.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_RLS</code>, if you plan to incorporate Oracle Virtual Private Database functionality into your TSDP policies. Typically, a security database administrator will be granted privileges for this package.
                        </p>
                     </li>
                  </ul>
                  <p>For better separation of duty, these packages are designed so that either an application database administrator has control over one area of the TSDP policy creation (as in the case of the <code class="codeph">DBMS_TSDP_MANAGE</code> package) or a security database administrator (for the <code class="codeph">DBMS_TSDP_PROTECT</code>, <code class="codeph">DBMS_REDACT</code>, and <code class="codeph">DBMS_RLS</code> packages). 
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG1017"></a><div class="props_rev_3"><a id="GUID-0AC97E6B-9B00-4D20-8F26-8B23896DDD3C" name="GUID-0AC97E6B-9B00-4D20-8F26-8B23896DDD3C"></a><h3 id="DBSEG-GUID-0AC97E6B-9B00-4D20-8F26-8B23896DDD3C" class="sect3">How a Multitenant Environment Affects Transparent Sensitive Data Protection</h3>
               <div>
                  <p><span>In a multitenant environment, you can apply Transparent Sensitive Data Protection policies to the current PDB or current application PDB only.</span></p>
                  <p>If you are using Enterprise Manager Cloud Control Application Data Model, then you can find sensitive columns that belong to both local and common application objects (that is, common objects that are visible and accessible in the current PDB) inside the PDB. This enables you to use a TSDP policy to protect both local objects to the PDB and common objects that are accessible from the PDB.</p>
                  <p>In an application root:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For application containers in general: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When you create scripts for application install, upgrade, patch, or uninstall operations, you can include SQL statements within the <code class="codeph">ALTER PLUGGABLE DATABASE <span class="codeinlineitalic">app_name</span> BEGIN INSTALL</code> and <code class="codeph">ALTER PLUGGABLE DATABASE <span class="codeinlineitalic">app_name</span> END INSTALL</code> blocks to perform various operations. If you include TSDP statements within these blocks, then the TSDP statements will fail. You can, however, include TSDP statements outside these blocks in the script. 
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>In the application root:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can perform TSDP operations in both application common objects and application root local objects. </p>
                           </li>
                           <li>
                              <p>A TSDP policy that is defined in the application root container behaves as if it is a local policy to the application root. That is, the policy is effective only in the application root container. </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p>In an application PDB:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The security policies that protect an application PDB apply to TSDP operations that are performed on local application objects. </p>
                     </li>
                     <li>
                        <p>The security policies that protect an application PDB apply to TSDP operations that are performed on application common objects that are accessed from the PDB. However, access to the application common object outside the application PDB is not governed by the security policy that protects the application PDB. </p>
                     </li>
                  </ul>
                  <p>You can find a listing of TSDP policies and the security features that are associated with them by querying the <span class="apiname" translate="no">DBA_TSDP_POLICY_FEATURE</span> data dictionary views. To find all PDBs, query the <span class="apiname" translate="no">DBA_PDBS</span> view.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG859"></a><div class="props_rev_3"><a id="GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" name="GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005"></a><h3 id="DBSEG-GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" class="sect3">Creating Transparent Sensitive Data Protection Policies</h3>
               <div>
                  <p>You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894">Step 1: Create a Sensitive Type</a><br>The sensitive type is a class of data that you designate as sensitive. 
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-3DFB5495-BBC7-4CC7-BA7D-430B8110809E">Step 2: Identify the Sensitive Columns to Protect</a><br>After you define a sensitive column, you are ready to identify the columns to protect.
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-AC59785C-31C0-4176-9E9C-7882BB8E9794">Step 3: Import the Sensitive Columns List from ADM into Your Database</a><br>Next, you are ready to import the sensitive columns list from ADM into your database. 
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1">Step 4: Create the Transparent Sensitive Data Protection Policy</a><br>After you have created the list of sensitive columns and imported this list into your database, you can create the transparent sensitive data protection policy.
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-29C112CD-7BF0-4CEB-AC4D-FBE907FBF1A4">Step 5: Associate the Policy with a Sensitive Type</a><br>The <code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code> procedure associates a TSDP policy with a sensitive type. 
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-77BF7446-243A-493B-A3FC-E889268A6289">Step 6: Enable the Transparent Sensitive Data Protection Policy</a><br>You can enable the TSDP policy for the current database in a protected source, a specific table column, or a specific column type.
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-B75AD559-F252-4241-BC50-8646F0755A68">Step 7: Optionally, Export the Policy to Other Databases</a><br>You can export or import the policy to or from another database. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG861"></a><div class="props_rev_3"><a id="GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894" name="GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894"></a><h4 id="DBSEG-GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894" class="sect4">Step 1: Create a Sensitive Type</h4>
                  <div>
                     <p>The sensitive type is a class of data that you designate as sensitive. </p>
                     <div class="section">
                        <p>For example, you can create a <code class="codeph">credit_card_type</code> sensitive type for all credit card numbers. 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To create a sensitive type, either create it from an Enterprise Manager Cloud Control Application Data Model or use the <code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE</code> PL/SQL procedure. 
                              </p>
                              <p>To drop a sensitive type, you can use the <code class="codeph">DBMS_TSDP_MANAGE.DROP_SENSITIVE_TYPE</code> procedure.
                              </p>
                           </li>
                        </ul>
                        <p>For example, to create the sensitive type <code class="codeph">credit_card_num_type</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE (
  sensitive_type  =&gt; 'credit_card_num_type',
  user_comment    =&gt; 'Type for credit card columns using a number data type');
END;
/</pre><p>In this example: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">sensitive_type</code>: Create a name that describes the sensitive type that you want to capture. This value is case sensitive, so when you reference it later on, ensure that you use the case in which you created it. You can find existing sensitive types by querying the <code class="codeph">DBA_SENSITIVE_COLUMN_TYPES</code> data dictionary view.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">user_comment</code>: Optionally, enter a description for the sensitive type.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894__GUID-959BEF35-6553-44BF-8EAB-EFF1DDCE5DFC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../ratug/index.html" target="_blank"><span><cite>Oracle Database Testing Guide</cite></span></a> for detailed information about Application Data Models
                              </p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_TSDP_MANAGE.html#ARPLS74654" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> information about the <code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE</code> PL/SQL procedure
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database.">Creating Transparent Sensitive Data Protection Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG860"></a><div class="props_rev_3"><a id="GUID-3DFB5495-BBC7-4CC7-BA7D-430B8110809E" name="GUID-3DFB5495-BBC7-4CC7-BA7D-430B8110809E"></a><h4 id="DBSEG-GUID-3DFB5495-BBC7-4CC7-BA7D-430B8110809E" class="sect4">Step 2: Identify the Sensitive Columns to Protect</h4>
                  <div>
                     <p>After you define a sensitive column, you are ready to identify the columns to protect.</p>
                     <div class="section">
                        <p>To identify the columns to protect, based on the sensitive type that you defined, you either can use an Enterprise Manager Cloud Control Application Data Model to identify these columns, or you can use the <code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN</code> procedure. 
                        </p>
                        <p>To remove the column from the list of sensitive columns for the database, you can use the <code class="codeph">DBMS_TSDP_MANAGE.DROP_SENSITIVE_COLUMN</code> procedure.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Find the sensitive type that you want to use.</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">SELECT NAME FROM DBA_SENSITIVE_COLUMN_TYPES;

NAME
---------------------
credit_card_num_type
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN</code> procedure to associate the sensitive type with a table column. Ensure that you enter the <code class="codeph">sensitive_type</code> parameter using the case in which you used to create the sensitive type.</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN(
 schema_name        =&gt; 'OE',
 table_name         =&gt; 'CUST_CC',
 column_name        =&gt; 'CREDIT_CARD',
 sensitive_type     =&gt; 'credit_card_num_type',
 user_comment       =&gt; 'Sensitive column addition of credit_card_num_type');
END;
/</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database.">Creating Transparent Sensitive Data Protection Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG862"></a><div class="props_rev_3"><a id="GUID-AC59785C-31C0-4176-9E9C-7882BB8E9794" name="GUID-AC59785C-31C0-4176-9E9C-7882BB8E9794"></a><h4 id="DBSEG-GUID-AC59785C-31C0-4176-9E9C-7882BB8E9794" class="sect4">Step 3: Import the Sensitive Columns List from ADM into Your Database</h4>
                  <div>
                     <p>Next, you are ready to import the sensitive columns list from ADM into your database. </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you had used an Application Data Model to create the list of sensitive columns, then import this list into your database by running the <code class="codeph">DBMS_TSDP_MANAGE.IMPORT_DISCOVERY_RESULT</code> procedure. 
                              </p>
                              <p>If you had used the <code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN</code> procedure to identify these columns, then you can bypass this step.
                              </p>
                           </li>
                        </ul>
                        <p>For example, to import the Cloud Control Application Data Model into the current database:</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_MANAGE.IMPORT_DISCOVERY_RESULT (
 discovery_result      =&gt; xml_adm_result,
 discovery_source      =&gt; 'ADM_Demo');
END;
/
</pre><p>In this example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">discovery_result</code> refers to the list of sensitive columns and their associated sensitive types. This list is in XML format. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">discover_source</code> refers to the name of the Application Data Model that contains the list of sensitive columns referred by the <code class="codeph">discovery_result</code> setting. You can find a list of the Application Data Models from the Data Discovery and Modeling page in Enterprise Manager Cloud Control. (To access this page, from the <span class="bold">Enterprise</span> menu, select <span class="bold">Quality Management</span>, and then <span class="bold">Data Discovery and Modeling</span>. You can find a list of the sensitive columns and their associated types in the <span class="bold">Sensitive Columns</span> tab.)
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database.">Creating Transparent Sensitive Data Protection Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG863"></a><div class="props_rev_3"><a id="GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" name="GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1"></a><h4 id="DBSEG-GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" class="sect4">Step 4: Create the Transparent Sensitive Data Protection Policy</h4>
                  <div>
                     <p>After you have created the list of sensitive columns and imported this list into your database, you can create the transparent sensitive data protection policy.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CA684B8E-4ACA-4322-B148-7DAC1F6717E8">About Creating the Transparent Sensitive Data Protection Policy</a><br>The <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure creates the transparent sensitive data protection policy. 
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737">Creating the Transparent Sensitive Data Protection Policy</a><br>You can create a transparent sensitive data protection policy that uses a partial number data type-based Data Redaction policy.
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F">Setting the Oracle Data Redaction or Virtual Private Database Feature Options</a><br>The TSDP feature options describe the Oracle Data Redaction or Virtual Private Database settings to use for the transparent sensitive data protection policy. 
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-604308CD-C50A-4918-BEC7-474B437F0920">Setting Conditions for the Transparent Sensitive Data Protection Policy</a><br>Optionally, you can specify conditions for the transparent sensitive data protection policy. 
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8">Specifying the DBMS_TSDP_PROTECT.ADD_POLICY Procedure</a><br>The <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure names the TSDP policy and executes the <code class="codeph">FEATURE_OPTIONS</code> and <code class="codeph">POLICY_CONDITIONS</code> settings. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database.">Creating Transparent Sensitive Data Protection Policies</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG1072"></a><div class="props_rev_3"><a id="GUID-CA684B8E-4ACA-4322-B148-7DAC1F6717E8" name="GUID-CA684B8E-4ACA-4322-B148-7DAC1F6717E8"></a><h5 id="DBSEG-GUID-CA684B8E-4ACA-4322-B148-7DAC1F6717E8" class="sect5">About Creating the Transparent Sensitive Data Protection Policy</h5>
                     <div>
                        <p>The <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure creates the transparent sensitive data protection policy. 
                        </p>
                        <p>After you have identified the sensitive columns, and if you had used an Application Data Model to create the list of sensitive columns, and imported this list into your database, you are ready to create the transparent sensitive data protection policy. To create the transparent sensitive data protection policy, you must configure it for the Virtual Private Database or Oracle Data Redaction settings that you want to use, and then apply these settings to a transparent sensitive data protection policy defined by <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>.
                        </p>
                        <p>You can create the policy by defining an anonymous block that has the following components: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you are using Oracle Data Redaction for your policy, a specification of the type of Data Redaction that you want to use, such as partial Data Redaction</p>
                           </li>
                           <li>
                              <p>If you are using Oracle Virtual Private Database for your policy, a specification of the VPD settings that you want to use</p>
                           </li>
                           <li>
                              <p>Conditions to test when the policy is enabled. For example, the data type of the column which should be satisfied before the policy can be enabled.</p>
                           </li>
                           <li>
                              <p>A named transparent sensitive data protection policy to tie these components together, by using the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure
                              </p>
                           </li>
                        </ul>
                        <p>After you create the sensitive type, it resides in the <code class="codeph">SYS</code> schema.
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="This tutorial demonstrates how to incorporate Oracle Virtual Private Database protection with a transparent sensitive data protection policy.">Tutorial: Creating a TSDP Policy That Uses Virtual Private Database Protection</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="After you have created the list of sensitive columns and imported this list into your database, you can create the transparent sensitive data protection policy.">Step 4: Create the Transparent Sensitive Data Protection Policy</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG868"></a><a id="DBSEG1073"></a><div class="props_rev_3"><a id="GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737" name="GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737"></a><h5 id="DBSEG-GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737" class="sect5">Creating the Transparent Sensitive Data Protection Policy</h5>
                     <div>
                        <p>You can create a transparent sensitive data protection policy that uses a partial number data type-based Data Redaction policy.</p>
                        <div class="section">
                           <p><a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">Example 13-1</a> shows how to create this type of policy.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To create the policy, use the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure, as shown in <a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">Example 13-1</a>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">
                           <p class="titleinexample">Example 13-1 Creating a Transparent Sensitive Data Protection Policy</p><pre class="pre codeblock"><code>DECLARE
  redact_feature_options DBMS_TSDP_PROTECT.FEATURE_OPTIONS;
  policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS;
BEGIN
  redact_feature_options ('expression') := 
   'SYS_CONTEXT(''USERENV'',''SESSION_USER'') =''APPUSER''';
  redact_feature_options ('function_type') := 'DBMS_REDACT.PARTIAL';
  redact_feature_options ('function_parameters') := '0,1,6';
  policy_conditions(DBMS_TSDP_PROTECT.DATATYPE) := 'NUMBER';
  policy_conditions(DBMS_TSDP_PROTECT.LENGTH) := '16';
 DBMS_TSDP_PROTECT.ADD_POLICY ('redact_partial_cc', 
  DBMS_TSDP_PROTECT.REDACT,redact_feature_options,
   policy_conditions);
END;
/</code></pre><p>In this example:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">redact_feature_options DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code> creates the variable <code class="codeph">redact_feature_options</code>, which uses the <code class="codeph">FEATURE_OPTIONS</code> data type. See <a href="using-transparent-sensitive-data-protection.html#GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F" title="The TSDP feature options describe the Oracle Data Redaction or Virtual Private Database settings to use for the transparent sensitive data protection policy.">Setting the Oracle Data Redaction or Virtual Private Database Feature Options</a> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS</code> creates the variable <code class="codeph">policy_conditions</code>, which uses the <code class="codeph">POLICY_CONDITIONS</code> data type. See <a href="using-transparent-sensitive-data-protection.html#GUID-604308CD-C50A-4918-BEC7-474B437F0920" title="Optionally, you can specify conditions for the transparent sensitive data protection policy.">Setting Conditions for the Transparent Sensitive Data Protection Policy</a> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">redact_feature_options</code> lines (3) write the Data Redaction policy settings to the <code class="codeph">redact_feature_option</code> variable. This example applies the Data Redaction policy to the user <code class="codeph">APPUSER</code> and defines the policy as a partial data redaction for number data types. See <a href="../asoag/configuring-oracle-data-redaction-policies.html#ASOAG817" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> for information about how the <code class="codeph">function_parameters</code> parameter works for this case.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">policy_conditions</code> lines (2) write the TSDP policy conditions to the <code class="codeph">policy_conditions</code> variable (that is, the data type and length) for the protected <code class="codeph">NUMBER</code> data type column. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> executes the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure, which creates the <code class="codeph">redact_partial_cc</code> TSDP policy. See <a href="using-transparent-sensitive-data-protection.html#GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8" title="The DBMS_TSDP_PROTECT.ADD_POLICY procedure names the TSDP policy and executes the FEATURE_OPTIONS and POLICY_CONDITIONS settings.">Specifying the DBMS_TSDP_PROTECT.ADD_POLICY Procedure</a> for more information.
                                 </p>
                              </li>
                           </ul>
                           <p>If you want to see an example of a similar policy for VPD, see <a href="using-transparent-sensitive-data-protection.html#GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00" title="After you have created the VPD policy function, you can associate it with a transparent sensitive data protection policy.">Step 4: Create and Enable a Transparent Sensitive Data Protection Policy</a>. 
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="After you have created the list of sensitive columns and imported this list into your database, you can create the transparent sensitive data protection policy.">Step 4: Create the Transparent Sensitive Data Protection Policy</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1074"></a><div class="props_rev_3"><a id="GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F" name="GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F"></a><h5 id="DBSEG-GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F" class="sect5">Setting the Oracle Data Redaction or Virtual Private Database Feature Options</h5>
                     <div>
                        <p>The TSDP feature options describe the Oracle Data Redaction or Virtual Private Database settings to use for the transparent sensitive data protection policy. </p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>For Data Redaction, define the feature options by using the name <code class="codeph">redact_feature_options</code> variable and for the type, you must use the type <code class="codeph">DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code>, which is an associative array of the data type <code class="codeph">VARCHAR2(TSDP_PARAM_MAX</code>). Initialize these options with the parameter-value pairs that correspond with the <code class="codeph">DBMS_REDACT.ADD_POLICY</code> parameters. 
                                 </p>
                              </li>
                           </ul>
                           <p>For example, to specify a TSDP policy that uses partial Data Redaction, <a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">Example 13-1</a> shows the following parameter-value pair:
                           </p><pre class="oac_no_warn" dir="ltr">redact_feature_options ('function_type')       := 'DBMS_REDACT.PARTIAL';
</pre><p>For a partial Data Redaction policy that uses a number data type for the protected column, <a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">Example 13-1</a> specifies the following additional parameter-value pairs:
                           </p><pre class="oac_no_warn" dir="ltr">redact_feature_options ('expression')          := '<span class="italic">expression</span>';
redact_feature_options ('function_parameters') := '<span class="italic">values</span>';
</pre><p>Similarly, for Virtual Private Database, you use the <code class="codeph">vpd_feature_options</code> variable to define the VPD feature options. For example:
                           </p><pre class="oac_no_warn" dir="ltr">vpd_feature_options ('statement_types')   := 'SELECT, INSERT, UPDATE, DELETE';
</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F__GUID-0A56B778-1A0F-462D-9AA7-0B0A7203A206">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../asoag/configuring-oracle-data-redaction-policies.html#ASOAG608" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for more information about Data Redaction policy creation parameters
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-transparent-sensitive-data-protection.html#GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901" title="Oracle Database provides a set of parameters for fine-tuning the behavior of TSDP policies.">DBMS_RLS.ADD_POLICY Parameters That Are Used for TSDP Policies</a> for more information about available VPD parameters
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="After you have created the list of sensitive columns and imported this list into your database, you can create the transparent sensitive data protection policy.">Step 4: Create the Transparent Sensitive Data Protection Policy</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1075"></a><div class="props_rev_3"><a id="GUID-604308CD-C50A-4918-BEC7-474B437F0920" name="GUID-604308CD-C50A-4918-BEC7-474B437F0920"></a><h5 id="DBSEG-GUID-604308CD-C50A-4918-BEC7-474B437F0920" class="sect5">Setting Conditions for the Transparent Sensitive Data Protection Policy</h5>
                     <div>
                        <p>Optionally, you can specify conditions for the transparent sensitive data protection policy. </p>
                        <div class="section">
                           <p>However, if you choose to omit conditions, you still must include the following line in the <code class="codeph">DECLARE</code> variables. (In this case, the default value for <code class="codeph">policy_conditions</code> is an empty associative array.)
                           </p><pre class="oac_no_warn" dir="ltr">policy_conditions SYS.DBMS_TSDP_PROTECT.POLICY_CONDITIONS;
</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To define the conditions, use the name <code class="codeph">policy_conditions</code> for the variable and for the type, use type <code class="codeph">DBMS_TSDP_PROTECT.POLICY_CONDITIONS</code>, which is an associative array of the data type <code class="codeph">VARCHAR2(TSDP_PARAM_MAX)</code>. Ensure that no two conditions are satisfied by a single target sensitive column. The target column's properties should satisfy all the condition properties for the corresponding <code class="codeph">DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code> settings to be applied on the column
                                 </p>
                              </li>
                           </ul>
                           <p><a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">Example 13-1</a> shows the policy conditions as follows:
                           </p><pre class="oac_no_warn" dir="ltr">policy_conditions(DBMS_TSDP_PROTECT.DATATYPE) := 'NUMBER';
policy_conditions(DBMS_TSDP_PROTECT.LENGTH)   := '16';
</pre><p>Optionally, you can specify one or more of the following keys for the <code class="codeph">POLICY_CONDITIONS</code> settings:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.DATATYPE</code> enables you to specify a data type. 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.LENGTH</code> enables you to specify a data type length for the <code class="codeph">DBMS_TSDP_PROTECT.DATATYPE</code> key.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.PARENT_SCHEMA</code> enables you to restrict the policy to a specific schema. If you omit this setting, then the policy applies to all schemas in the database.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.PARENT_TABLE</code> enables you to restrict the policy to a table specified by the <code class="codeph">DBMS_TSDP_PROTECT.PARENT_SCHEMA</code> key. If you omit this setting, then the policy applies to all tables within the specified schema.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="After you have created the list of sensitive columns and imported this list into your database, you can create the transparent sensitive data protection policy.">Step 4: Create the Transparent Sensitive Data Protection Policy</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1076"></a><div class="props_rev_3"><a id="GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8" name="GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8"></a><h5 id="DBSEG-GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8" class="sect5">Specifying the DBMS_TSDP_PROTECT.ADD_POLICY Procedure</h5>
                     <div>
                        <p>The <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure names the TSDP policy and executes the <code class="codeph">FEATURE_OPTIONS</code> and <code class="codeph">POLICY_CONDITIONS</code> settings. 
                        </p>
                        <div class="section">
                           <p>In the policy, the <code class="codeph">redact_feature_options</code> and the <code class="codeph">policy_conditions</code> settings work together: When the policy is enabled (using any of the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION</code>* procedures) on the target object, then the <code class="codeph">redact_feature_options</code> settings apply only if the corresponding <code class="codeph">policy_condition</code> settings are satisfied. You must enter the following parameters: 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To specify a procedure that names the transparent sensitive data protection policy and executes the necessary settings, include the following parameters: </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">policy_name</code> creates a name for the TSDP policy. The name that you enter is stored in the database using the case sensitivity that you used when you created it. For example, if you had entered <code class="codeph">redact_partial_cc</code>, then the database stores it as <code class="codeph">redact_partial_cc</code>, not <code class="codeph">redact_partial_cc</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">security_feature</code> refers to the security feature the TSDP policy will use. Enter <code class="codeph">DBMS_TSDP_PROTECT.REDACT</code> to specify Oracle Data Redaction.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">policy_enable_options</code> refers to the variable that you defined for the <code class="codeph">DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code> type.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">policy_apply_condition</code> refers to the variable that you defined for the <code class="codeph">DBMS_TSDP_PROTECT.POLICY_CONDITIONS</code> type.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p><a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">Example 13-1</a> shows the policy set as follows:
                           </p><pre class="oac_no_warn" dir="ltr">DBMS_TSDP_PROTECT.ADD_POLICY('redact_partial_cc', DBMS_TSDP_PROTECT.REDACT, redact_feature_options, policy_conditions);</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="After you have created the list of sensitive columns and imported this list into your database, you can create the transparent sensitive data protection policy.">Step 4: Create the Transparent Sensitive Data Protection Policy</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG872"></a><div class="props_rev_3"><a id="GUID-29C112CD-7BF0-4CEB-AC4D-FBE907FBF1A4" name="GUID-29C112CD-7BF0-4CEB-AC4D-FBE907FBF1A4"></a><h4 id="DBSEG-GUID-29C112CD-7BF0-4CEB-AC4D-FBE907FBF1A4" class="sect4">Step 5: Associate the Policy with a Sensitive Type</h4>
                  <div>
                     <p>The <code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code> procedure associates a TSDP policy with a sensitive type. 
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Find the sensitive type that you want to use.</span><div>
                              <p>For example, to find a list of all sensitive types: </p><pre class="oac_no_warn" dir="ltr">SELECT NAME FROM DBA_SENSITIVE_COLUMN_TYPES ORDER BY NAME;

NAME
--------------------
credit_card_num_type
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code> procedure to associate the policy with a sensitive column type.</span><div>
                              <p>For example: </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.ASSOCIATE_POLICY(
 policy_name        =&gt; 'redact_partial_cc',
 sensitive_type     =&gt; 'credit_card_num_type',
 associate          =&gt; true);
END;
/</pre><p>The following query shows that the <code class="codeph">credit_card_num_type</code> is now associated with the <code class="codeph">redact_partial_cc</code> policy. 
                              </p><pre class="oac_no_warn" dir="ltr">SELECT POLICY_NAME, SENSITIVE_TYPE FROM DBA_TSDP_POLICY_TYPE ORDER BY SENSITIVE_TYPE;

POLICY_NAME       SENSITIVE_TYPE
----------------- --------------------
redact_partial_cc  credit_card_num_type</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database.">Creating Transparent Sensitive Data Protection Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG873"></a><div class="props_rev_3"><a id="GUID-77BF7446-243A-493B-A3FC-E889268A6289" name="GUID-77BF7446-243A-493B-A3FC-E889268A6289"></a><h4 id="DBSEG-GUID-77BF7446-243A-493B-A3FC-E889268A6289" class="sect4">Step 6: Enable the Transparent Sensitive Data Protection Policy</h4>
                  <div>
                     <p>You can enable the TSDP policy for the current database in a protected source, a specific table column, or a specific column type.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-30D4D369-00F8-4785-9BAC-2F3EE1FB7530">Enabling Protection for the Current Database in a Protected Source</a><br>You can enable transparent sensitive data protection for the current database in a protected source.
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0AFF5E8F-0010-4A1A-88C0-4C961BBCF487">Enabling Protection for a Specific Table Column</a><br>You can enable transparent sensitive data protection for a specific column in a table.
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CFF73F1F-30DD-4D1A-9D1C-B5DB2411E477">Enabling Protection for a Specific Column Type</a><br>You can enable transparent sensitive data protection for a specific column type, such as all columns that use the <code class="codeph">VARCHAR2</code> data type.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database.">Creating Transparent Sensitive Data Protection Policies</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG874"></a><div class="props_rev_3"><a id="GUID-30D4D369-00F8-4785-9BAC-2F3EE1FB7530" name="GUID-30D4D369-00F8-4785-9BAC-2F3EE1FB7530"></a><h5 id="DBSEG-GUID-30D4D369-00F8-4785-9BAC-2F3EE1FB7530" class="sect5">Enabling Protection for the Current Database in a Protected Source</h5>
                     <div>
                        <p>You can enable transparent sensitive data protection for the current database in a protected source.</p>
                        <div class="section">
                           <p>If you must disable the protection, then you can run the <code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_SOURCE</code> procedure.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Run the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_SOURCE</code> procedure to enable this type of protection. 
                                 </p>
                              </li>
                           </ul>
                           <p>For example, to enable transparent sensitive data protection policies for the <code class="codeph">orders_db</code> database.
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.ENABLE_PROTECTION_SOURCE(
  discovery_source       =&gt; 'orders_db');
END;
/</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-77BF7446-243A-493B-A3FC-E889268A6289" title="You can enable the TSDP policy for the current database in a protected source, a specific table column, or a specific column type.">Step 6: Enable the Transparent Sensitive Data Protection Policy</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG876"></a><div class="props_rev_3"><a id="GUID-0AFF5E8F-0010-4A1A-88C0-4C961BBCF487" name="GUID-0AFF5E8F-0010-4A1A-88C0-4C961BBCF487"></a><h5 id="DBSEG-GUID-0AFF5E8F-0010-4A1A-88C0-4C961BBCF487" class="sect5">Enabling Protection for a Specific Table Column</h5>
                     <div>
                        <p>You can enable transparent sensitive data protection for a specific column in a table.</p>
                        <div class="section">
                           <p>Remember that you can enable only one policy per table. If you must disable the protection, then you can run the <code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code> procedure.
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Run the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_COLUMN</code> procedure to enable this type of protection. 
                                 </p>
                              </li>
                           </ul>
                           <p>For example, to enable the transparent sensitive data protection policy <code class="codeph">redact_partial_cc</code> for a specific table column:
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.ENABLE_PROTECTION_COLUMN(
  schema_name          =&gt; 'OE',
  table_name           =&gt; 'CUST_CC',
  column_name          =&gt; 'CREDIT_CARD',
  policy               =&gt; 'redact_partial_cc');
END;
/
</pre><p>If an <code class="codeph">ORA-45622: warnings generated during policy enforcement</code> error appears, then check the configuration of the policy. In this example, the <code class="codeph">redact_partial_cc</code> policy is enabled on a column if this column is of the <code class="codeph">NUMBER</code> data type and has a length of <code class="codeph">16</code>. Even though the <code class="codeph">OE.CUST_CC.CREDIT_CARD</code> column is associated with the <code class="codeph">redact_partial_cc</code> policy, the policy is not enabled if this column fails to satisfy the conditions (data type and length). 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-77BF7446-243A-493B-A3FC-E889268A6289" title="You can enable the TSDP policy for the current database in a protected source, a specific table column, or a specific column type.">Step 6: Enable the Transparent Sensitive Data Protection Policy</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG878"></a><div class="props_rev_3"><a id="GUID-CFF73F1F-30DD-4D1A-9D1C-B5DB2411E477" name="GUID-CFF73F1F-30DD-4D1A-9D1C-B5DB2411E477"></a><h5 id="DBSEG-GUID-CFF73F1F-30DD-4D1A-9D1C-B5DB2411E477" class="sect5">Enabling Protection for a Specific Column Type</h5>
                     <div>
                        <p>You can enable transparent sensitive data protection for a specific column type, such as all columns that use the <code class="codeph">VARCHAR2</code> data type.
                        </p>
                        <div class="section">
                           <p> If you must disable the protection, then you can run the <code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_TYPE</code> procedure.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Run the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_TYPE</code> procedure to enable this type of protection. 
                                 </p>
                              </li>
                           </ul>
                           <p>For example, to enable transparent sensitive data protection for all columns that use the <code class="codeph">credit_card_num_type</code> sensitive type:
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.ENABLE_PROTECTION_TYPE(
  sensitive_type           =&gt; 'credit_card_num_type');
END;
/</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-77BF7446-243A-493B-A3FC-E889268A6289" title="You can enable the TSDP policy for the current database in a protected source, a specific table column, or a specific column type.">Step 6: Enable the Transparent Sensitive Data Protection Policy</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG865"></a><div class="props_rev_3"><a id="GUID-B75AD559-F252-4241-BC50-8646F0755A68" name="GUID-B75AD559-F252-4241-BC50-8646F0755A68"></a><h4 id="DBSEG-GUID-B75AD559-F252-4241-BC50-8646F0755A68" class="sect4">Step 7: Optionally, Export the Policy to Other Databases</h4>
                  <div>
                     <p>You can export or import the policy to or from another database. </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To export or import the TSDP policy to or from another database, use Oracle Data Pump to perform a full export or import of the database that contains the policy.</p>
                           </li>
                        </ul>
                        <p>Remember that the export and import operations apply to the entire database, not just the transparent sensitive data protection policy. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B75AD559-F252-4241-BC50-8646F0755A68__GUID-EE8AA13A-7DF5-4EDE-8170-042FC94DE42C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL100" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for information about using Oracle Data Pump
                              </p>
                           </li>
                           <li>
                              <p><a href="../dvadm/dba-operations-in-an-oracle-database-vault-environment.html#DVADM70314" target="_blank"><span><cite>Oracle Database Vault Administrator’s Guide</cite></span></a> for information about using Oracle Data Pump in an Oracle Database Vault environment
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database.">Creating Transparent Sensitive Data Protection Policies</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG866"></a><div class="props_rev_3"><a id="GUID-5F832A16-DA46-4A12-A9BD-4AD5C6518556" name="GUID-5F832A16-DA46-4A12-A9BD-4AD5C6518556"></a><h3 id="DBSEG-GUID-5F832A16-DA46-4A12-A9BD-4AD5C6518556" class="sect3">Altering Transparent Sensitive Data Protection Policies</h3>
               <div>
                  <p>The <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure can alter a TSDP policy.
                  </p>
                  <div class="section">When you alter a transparent data protection policy, you must define how the Data Redaction settings must change, and then apply these changes to the transparent sensitive data protection policy itself. </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You can find a list of existing policies and their protection definitions by querying the <code class="codeph">DBA_TSDP_POLICY_FEATURE</code> data dictionary view.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>To alter a transparent sensitive data protection policy, use the <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure. 
                           </p>
                        </li>
                     </ul>
                     <p>For example, to alter an existing transparent sensitive data protection policy:</p><pre class="oac_no_warn" dir="ltr">DECLARE
  redact_feature_options SYS.DBMS_TSDP_PROTECT.FEATURE_OPTIONS;
  policy_conditions SYS.DBMS_TSDP_PROTECT.POLICY_CONDITIONS;
  BEGIN
  redact_feature_options ('expression') := 
   'SYS_CONTEXT(''USERENV'',''SESSION_ USER'') =''APPUSER''';
  redact_feature_options ('function_type') := 'DBMS_REDACT.PARTIAL';
  redact_feature_options ('function_parameters') := '9,1,6';
  policy_conditions(DBMS_TSDP_PROTECT.DATATYPE) := 'NUMBER';
  policy_conditions(DBMS_TSDP_PROTECT.LENGTH) := '22';
 DBMS_TSDP_PROTECT.ALTER_POLICY ('redact_partial_cc',  
  redact_feature_options, policy_conditions);
END;
/</pre><p>In this example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">redact_feature_options SYS.DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code> creates the variable <code class="codeph">redact_feature_options</code>, which uses the <code class="codeph">FEATURE_OPTIONS</code> data type.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">policy_conditions SYS.DBMS_TSDP_PROTECT.POLICY_CONDITIONS</code> creates the variable <code class="codeph">policy_conditions</code>, which uses the <code class="codeph">POLICY_CONDITIONS</code> data type.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">redact_feature_options ... redact_feature_options</code>writes the Data Redaction policy settings to the <code class="codeph">redact_feature_option</code> variable. This example applies the Data Redaction policy to the user <code class="codeph">APPUSER</code>, defines the policy as a partial data redaction for number data types. See <a href="../asoag/configuring-oracle-data-redaction-policies.html#ASOAG817" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for information about how the <code class="codeph">function_parameters</code> parameter works for this case.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">policy_conditions ... policy_conditions</code> writes the TSDP policy conditions to the <code class="codeph">policy_conditions</code> variable (that is, the data type and length) for the protected <code class="codeph">NUMBER</code> data type column. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY ...</code> executes the <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure, which alters the <code class="codeph">redact_partial_cc</code> TSDP policy to use the definitions set in the <code class="codeph">redact_feature_options</code> and <code class="codeph">policy_conditions</code> variables. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG751"></a><div class="props_rev_3"><a id="GUID-2D2FFBE5-0A93-4540-824F-5FC99A027EF0" name="GUID-2D2FFBE5-0A93-4540-824F-5FC99A027EF0"></a><h3 id="DBSEG-GUID-2D2FFBE5-0A93-4540-824F-5FC99A027EF0" class="sect3">Disabling Transparent Sensitive Data Protection Policies</h3>
               <div>
                  <p>The <code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code> procedure disables one or all TSDP policies.
                  </p>
                  <ol>
                     <li class="stepexpand"><span>Query the <code class="codeph">DBA_TSDP_POLICY_PROTECTION</code> data dictionary view to find the protected columns and their associated transparent sensitive data protection policies. </span><div>
                           <p>For example: </p><pre class="oac_no_warn" dir="ltr">SELECT COLUMN_NAME, TSDP_POLICY FROM DBA_TSDP_POLICY_PROTECTION WHERE TABLE_NAME = 'CUST_CC';

COLUMN_NAME   TSDP_POLICY
------------  ------------------
CREDIT_CARD   redact_partial_cc
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Run the <code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code> procedure. </span><div>
                           <p>For example, to disable the <code class="codeph">redact_partial_cc</code> policy on the <code class="codeph">CREDIT_CARD</code> column of the <code class="codeph">CUST_CC</code> table: 
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN(
  schema_name          =&gt; 'OE',
  table_name           =&gt; 'CUST_CC',
  column_name          =&gt; 'CREDIT_CARD',
  policy               =&gt; 'redact_partial_cc');
END;
/
</pre><p>You can use the <code class="codeph">%</code> wildcard in this procedure to specify multiple items. For example, to disable protection for any columns that begin with <code class="codeph">CREDIT</code>, you could enter the following:
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN(
  schema_name          =&gt; 'OE',
  table_name           =&gt; 'CUST_CC',
  column_name          =&gt; 'CREDIT%',
  policy               =&gt; 'redact_partial_cc');
END;
/
</pre><p>To disable all transparent sensitive data protection policies for a table, you can omit the <code class="codeph">policy</code> parameter. For example:
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN(
  schema_name          =&gt; 'OE',
  table_name           =&gt; 'CUST_CC',
  column_name          =&gt; '%');
END;
/</pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG867"></a><div class="props_rev_3"><a id="GUID-CE169445-2AC5-4E45-8537-D731496DBCCC" name="GUID-CE169445-2AC5-4E45-8537-D731496DBCCC"></a><h3 id="DBSEG-GUID-CE169445-2AC5-4E45-8537-D731496DBCCC" class="sect3">Dropping Transparent Sensitive Data Protection Policies</h3>
               <div>
                  <p>You can drop an entire TSDP policy or a condition-enable-options combination from the policy.</p>
                  <div class="section">
                     <p>If the policy only has one condition-enable-options combination, then Oracle Database drops the entire policy. You do not need to disable a policy before dropping it, but you do need to drop its associated sensitive column first, then its sensitive type.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Query the <code class="codeph">POLICY_NAME</code> column of the <code class="codeph">DBA_TSDP_POLICY_FEATURE</code> data dictionary view to find the policy that you want to drop. </span><div><pre class="oac_no_warn" dir="ltr">SELECT POLICY_NAME FROM DBA_TSDP_POLICY_FEATURE;

POLICY_NAME
-----------------
redact_partial_cc
</pre><p>Remember that you must be granted the <code class="codeph">SELECT_CATALOG_ROLE </code>role to query the transparent sensitive data protection data dictionary views.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Find the sensitive column that is associated with this policy. </span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">SELECT COLUMN_NAME FROM DBA_TSDP_POLICY_PROTECTION WHERE TSDP_POLICY = 'redact_partial_cc';

COLUMN_NAME
-----------------
CREDIT_CARD
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Drop this sensitive column. </span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_MANAGE.DROP_SENSITIVE_COLUMN (
   schema_name        =&gt; 'OE',
   table_name         =&gt; 'CUST_CC',
   column_name        =&gt; 'CREDIT_CARD');
END;
/
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Find the sensitive type that is associated with this policy. </span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">SELECT SENSITIVE_TYPE FROM DBA_TSDP_POLICY_TYPE WHERE POLICY_NAME = 'redact_partial_cc'; 

SENSITIVE_TYPE
--------------------
credit_card_num_type
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Drop this sensitive type. </span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_MANAGE.DROP_SENSITIVE_TYPE (   sensitive_type     =&gt; 'credit_card_num_type');END;
/
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Run the <code class="codeph">DBMS_TSDP_PROTECT.DROP_POLICY</code> procedure to drop the policy.</span><div>
                           <p>For example, to completely drop the policy:</p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.DROP_POLICY(
   policy_name     =&gt; 'redact_partial_cc');
END;
/
</pre><p>To drop the default condition-enable options combination from the policy:</p><pre class="oac_no_warn" dir="ltr">DECLARE
   policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS;
BEGIN
   DBMS_TSDP_PROTECT.DROP_POLICY ('redact_partial_cc', policy_conditions);
END;
/
</pre><p>To drop the default condition-enable options combination from the policy based on a specific condition:</p><pre class="oac_no_warn" dir="ltr">DECLARE
   policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS;
BEGIN
   policy_conditions (DBMS_TSDP_PROTECT.DATATYPE) := 'NUMBER';
   DBMS_TSDP_PROTECT.DROP_POLICY ('redact_partial_cc', policy_conditions);
END;
/</pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG779"></a><div class="props_rev_3"><a id="GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" name="GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB"></a><h3 id="DBSEG-GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" class="sect3">Using the Predefined REDACT_AUDIT Policy to Mask Bind Values</h3>
               <div>
                  <p>The predefined <code class="codeph">REDACT_AUDIT</code> policy masks bind values, which can appear in trace files when an event is set. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-C8DA804D-F744-4B97-B174-5D11B436BDC4">About the REDACT_AUDIT Policy</a><br>The predefined <code class="codeph">REDACT_AUDIT</code> transparent sensitive data protection policy masks bind values. 
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9">Variables Associated with Sensitive Columns</a><br>Bind variables affect the use of sensitive columns with conditions, <code class="codeph">SELECT</code> items, and <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> operations.
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-706B4851-2D16-4549-90C0-E7E5560159CF">How Bind Variables on Sensitive Columns Behave with Views</a><br>A bind variable that appears in a query on a view is considered sensitive if the view column references a sensitive column.
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0739A076-04B5-4768-9EF4-CD66C549A9F7">Disabling the REDACT_AUDIT Policy</a><br>By default, the <code class="codeph">REDACT_AUDIT</code> policy is enabled for all sensitive columns. 
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-AD4A3497-5B38-4548-8809-7F919CB49DEA">Enabling the REDACT_AUDIT Policy</a><br>You can enable the <code class="codeph">REDACT_AUDIT</code> policy for a specific sensitive column or for all columns in the database.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG810"></a><div class="props_rev_3"><a id="GUID-C8DA804D-F744-4B97-B174-5D11B436BDC4" name="GUID-C8DA804D-F744-4B97-B174-5D11B436BDC4"></a><h4 id="DBSEG-GUID-C8DA804D-F744-4B97-B174-5D11B436BDC4" class="sect4">About the REDACT_AUDIT Policy</h4>
                  <div>
                     <p>The predefined <code class="codeph">REDACT_AUDIT</code> transparent sensitive data protection policy masks bind values. 
                     </p>
                     <p>The bind values of the bind variables that are used in SQL statements can appear in audit records when auditing is configured. Similarly, bind values can appear in trace files when the appropriate event is set. Bind values can also appear when you query the <code class="codeph">V$SQL_BIND_DATA</code> dynamic view.
                     </p>
                     <p>The <code class="codeph">REDACT_AUDIT</code> transparent sensitive data protection policy displays the data as an asterisk (<code class="codeph">*</code>) in audit records, trace files, and in <code class="codeph">V$SQL_BIND_DATA</code> view queries. By default the <code class="codeph">REDACT_AUDIT</code> policy is associated with every sensitive type in the database. When you identify a column as sensitive, by default, the <code class="codeph">REDACT_AUDIT</code> policy is enabled for it.
                     </p>
                     <p>You can disable and enable the <code class="codeph">REDACT_AUDIT</code> policy, but you cannot alter or drop it.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="The predefined REDACT_AUDIT policy masks bind values, which can appear in trace files when an event is set.">Using the Predefined REDACT_AUDIT Policy to Mask Bind Values</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG811"></a><div class="props_rev_3"><a id="GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" name="GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9"></a><h4 id="DBSEG-GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" class="sect4">Variables Associated with Sensitive Columns</h4>
                  <div>
                     <p>Bind variables affect the use of sensitive columns with conditions, <code class="codeph">SELECT</code> items, and <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> operations.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-047A8A6B-A926-4ED1-8742-B151B1B90E85">About Variables Associated with Sensitive Columns</a><br>You can associate variables with sensitive columns in TSDP policies.
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-E2683BB6-3E17-4FEC-9623-9F2AC646AD8C">Bind Variables and Sensitive Columns in the Expressions of Conditions</a><br>You can include sensitive columns in SQL queries that have <code class="codeph">WHERE</code> clauses.
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-D829F51B-496D-4932-957C-D160B4F638F6">A Bind Variable and a Sensitive Column Appearing in the Same SELECT Item</a><br>If a column in a <code class="codeph">SELECT</code> item is sensitive, then all the binds in the <code class="codeph">SELECT</code> item are considered sensitive. 
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-7BDF4F33-568A-4A76-9D66-64BB99E8C5C6">Bind Variables in Expressions Assigned to Sensitive Columns in INSERT or UPDATE Operations</a><br>You can assign multiple bind variables to different columns in one <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> statement. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="The predefined REDACT_AUDIT policy masks bind values, which can appear in trace files when an event is set.">Using the Predefined REDACT_AUDIT Policy to Mask Bind Values</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-047A8A6B-A926-4ED1-8742-B151B1B90E85" name="GUID-047A8A6B-A926-4ED1-8742-B151B1B90E85"></a><h5 id="DBSEG-GUID-047A8A6B-A926-4ED1-8742-B151B1B90E85" class="sect5">About Variables Associated with Sensitive Columns</h5>
                     <div>
                        <p>You can associate variables with sensitive columns in TSDP policies.</p>
                        <p>A bind variable can be considered to be sensitive or "associated" with a sensitive column if the bind variable occurs in the same comparison condition as a sensitive column, if it occurs in a <code class="codeph">SELECT</code> statement alongside a sensitive column, or if it occurs in an <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> operation that involves a sensitive column.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" title="Bind variables affect the use of sensitive columns with conditions, SELECT items, and INSERT or UPDATE operations.">Variables Associated with Sensitive Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG812"></a><div class="props_rev_3"><a id="GUID-E2683BB6-3E17-4FEC-9623-9F2AC646AD8C" name="GUID-E2683BB6-3E17-4FEC-9623-9F2AC646AD8C"></a><h5 id="DBSEG-GUID-E2683BB6-3E17-4FEC-9623-9F2AC646AD8C" class="sect5">Bind Variables and Sensitive Columns in the Expressions of Conditions</h5>
                     <div>
                        <p>You can include sensitive columns in SQL queries that have <code class="codeph">WHERE</code> clauses.
                        </p>
                        <p>A SQL query that contains a <code class="codeph">WHERE</code> clause can include sensitive columns and bind variables for use with comparison operators such as <code class="codeph">=</code>, <code class="codeph">IS</code>, <code class="codeph">IS NOT</code>, <code class="codeph">LIKE</code>, <code class="codeph">BETWEEN</code>, and <code class="codeph">IN</code>, as well as in subqueries. 
                        </p>
                        <p>In the following comparison query, the bind value in <code class="codeph">VAR1</code> is masked because <code class="codeph">VAR1</code> and the sensitive column <code class="codeph">SALARY</code> appear in the expression that is compared using the comparison condition <code class="codeph">&gt;</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT EMPLOYEE_ID FROM HR.EMPLOYEES WHERE SALARY &gt; :VAR1;
</pre><p>In the next query, the bind values in <code class="codeph">VAR1</code> and <code class="codeph">VAR2</code> are masked because  <code class="codeph">VAR1</code>, <code class="codeph">VAR2</code>, and the sensitive column <code class="codeph">SALARY</code> appear in the expression that uses the comparison equality condition <code class="codeph">=</code>. 
                        </p><pre class="oac_no_warn" dir="ltr">SELECT EMPLOYEE_ID FROM HR.EMPLOYEES WHERE SALARY + :VAR1 = TO_NUMBER(:VAR2, '9G999D99');
</pre><p>For floating point conditions, the sensitive column and the bind variable appear in the expression that is evaluated. In the following example, the bind value in <code class="codeph">VAR1</code> is masked because <code class="codeph">VAR1</code> and the sensitive column <code class="codeph">SALARY</code> appear in the expression for the <code class="codeph">IS NOT NAN</code> condition.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT( ) FROM HR.EMPLOYEES WHERE (SALARY * :VAR1) IS NOT NAN;
</pre><p>In pattern matching conditions, the sensitive column and the bind variable appear as arguments. In the following example, the bind value in <code class="codeph">VAR1</code> is masked because <code class="codeph">VAR1</code> and the sensitive column <code class="codeph">LAST_NAME</code> are the arguments for the <code class="codeph">LIKE</code> condition.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT LAST_NAME FROM HR.EMPLOYEES WHERE LAST_NAME LIKE :VAR1;
</pre><p>For <code class="codeph">BETWEEN</code> conditions, the sensitive column and the bind variable appear in the expressions that are arguments. In the following example, bind values in <code class="codeph">VAR1</code> and <code class="codeph">VAR2</code> are masked because <code class="codeph">VAR1</code>, <code class="codeph">VAR2</code>, and <code class="codeph">SALARY</code> appear in expressions that are arguments to the <code class="codeph">BETWEEN</code> condition. 
                        </p><pre class="oac_no_warn" dir="ltr">SELECT EMPLOYEE_ID FROM HR.EMPLOYEES WHERE SALARY BETWEEN :VAR1 AND :VAR2;
</pre><p>In the next example, the sensitive column and the bind variable are the arguments of the <code class="codeph">IN</code> condition. Here, the bind values in <code class="codeph">VAR1</code> and <code class="codeph">VAR2</code> are masked because <code class="codeph">VAR1</code>, <code class="codeph">VAR2</code>, and the sensitive column <code class="codeph">SALARY</code> appear as arguments to the <code class="codeph">IN</code> condition.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT( ) FROM HR.EMPLOYEES WHERE SALARY IN ( :VAR1, :VAR2);
</pre><p>When a condition has a nested subquery as an argument, the bind variables and sensitive columns that appear in the nested subquery are not considered to be associated with the condition. In the following query, the sensitive column <code class="codeph">SALARY</code> and the subquery are expressions for the greater-than condition <code class="codeph">&gt;</code>. 
                        </p><pre class="oac_no_warn" dir="ltr">SELECT EMPLOYEE_ID FROM HR.EMPLOYEES WHERE SALARY &gt; (SELECT SALARY FROM HR.EMPLOYEES WHERE MANAGER_ID = :VAR1);
</pre><p>However, variable <code class="codeph">VAR1</code> is associated with column <code class="codeph">MANAGER_ID</code> as variable <code class="codeph">VAR1</code> and <code class="codeph">MANAGER_ID</code> appears in expressions being compared using the condition <code class="codeph">=</code>. Because <code class="codeph">MANAGER_ID</code> is not a sensitive column, variable <code class="codeph">VAR1</code> is not considered sensitive. The variable <code class="codeph">VAR1</code> is not considered to be associated with the sensitive column <code class="codeph">SALARY</code>.
                        </p>
                        <p>In the case of the logical conditions, model conditions, multiset conditions, XML conditions, compound conditions, <code class="codeph">IS OF</code> type conditions, and <code class="codeph">EXISTS</code> conditions, there can be no cases where a bind variable and a sensitive column are associated with each other. This is due to the structure or the nature of these conditions.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" title="Bind variables affect the use of sensitive columns with conditions, SELECT items, and INSERT or UPDATE operations.">Variables Associated with Sensitive Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG813"></a><div class="props_rev_3"><a id="GUID-D829F51B-496D-4932-957C-D160B4F638F6" name="GUID-D829F51B-496D-4932-957C-D160B4F638F6"></a><h5 id="DBSEG-GUID-D829F51B-496D-4932-957C-D160B4F638F6" class="sect5">A Bind Variable and a Sensitive Column Appearing in the Same SELECT Item</h5>
                     <div>
                        <p>If a column in a <code class="codeph">SELECT</code> item is sensitive, then all the binds in the <code class="codeph">SELECT</code> item are considered sensitive. 
                        </p>
                        <p>For example, assume that <code class="codeph">HR.EMPLOYEES.SALARY</code> and <code class="codeph">HR.EMPLOYEES.COMMISSION_PCT</code> are sensitive columns. In the following query, the bind variable <code class="codeph">VAR1</code> is considered sensitive because it appears in the same <code class="codeph">SELECT</code> item as the sensitive column <code class="codeph">SALARY</code>, so its bind value is masked. 
                        </p><pre class="oac_no_warn" dir="ltr">SELECT (SALARY * :VAR1) AS BONUS AS FROM HR.EMPLOYEES WHERE EMPLOYEE_ID = :VAR2;
</pre><p>In the next example, the bind variable <code class="codeph">VAR1</code> is considered sensitive because it appears in the same <code class="codeph">SELECT</code> item as <code class="codeph">SALARY</code>. <code class="codeph">VAR2</code> is considered sensitive because it appears in the same <code class="codeph">SELECT</code> item as the sensitive column <code class="codeph">COMMISSION_PCT</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT (SALARY * :VAR1), (COMMISSION_PCT * :VAR2), (EMPNO + :VAR3) AS BONUS AS FROM PAYROLL.ACCOUNT;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" title="Bind variables affect the use of sensitive columns with conditions, SELECT items, and INSERT or UPDATE operations.">Variables Associated with Sensitive Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG814"></a><div class="props_rev_3"><a id="GUID-7BDF4F33-568A-4A76-9D66-64BB99E8C5C6" name="GUID-7BDF4F33-568A-4A76-9D66-64BB99E8C5C6"></a><h5 id="DBSEG-GUID-7BDF4F33-568A-4A76-9D66-64BB99E8C5C6" class="sect5">Bind Variables in Expressions Assigned to Sensitive Columns in INSERT or UPDATE Operations</h5>
                     <div>
                        <p>You can assign multiple bind variables to different columns in one <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> statement. 
                        </p>
                        <p>Consider the following <code class="codeph">INSERT</code> statement: 
                        </p><pre class="oac_no_warn" dir="ltr">INSERT INTO PAYROLL.ACCOUNT (ACCOUNT_NUM, SALARY) VALUES (:VAR1 * :VAR2 , :VAR3); 
</pre><p>In this <code class="codeph">INSERT</code> statement, the following takes place:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The bind variables <code class="codeph">VAR1</code> and <code class="codeph">VAR2</code> appear in the expression (<code class="codeph">:VAR1 * :VAR2</code>), which is assigned to the sensitive column <code class="codeph">ACCOUNT_NUM</code>.
                              </p>
                           </li>
                           <li>
                              <p>The bind variable <code class="codeph">VAR3</code> is assigned to sensitive column <code class="codeph">SALARY</code>. 
                              </p>
                           </li>
                        </ul>
                        <p>Consider the following <code class="codeph">UPDATE</code> statement:
                        </p><pre class="oac_no_warn" dir="ltr">UPDATE PAYROLL.ACCOUNT SET ACCOUNT_NUM = :VAR1, SALARY = :VAR2;
</pre><p>In this <code class="codeph">UPDATE</code> statement, the following takes place:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The bind variable <code class="codeph">VAR1</code> is assigned to sensitive column <code class="codeph">ACCOUNT_NUM</code>. 
                              </p>
                           </li>
                           <li>
                              <p>The bind variable <code class="codeph">VAR2</code> is assigned to sensitive column <code class="codeph">SALARY</code>. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" title="Bind variables affect the use of sensitive columns with conditions, SELECT items, and INSERT or UPDATE operations.">Variables Associated with Sensitive Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG815"></a><div class="props_rev_3"><a id="GUID-706B4851-2D16-4549-90C0-E7E5560159CF" name="GUID-706B4851-2D16-4549-90C0-E7E5560159CF"></a><h4 id="DBSEG-GUID-706B4851-2D16-4549-90C0-E7E5560159CF" class="sect4">How Bind Variables on Sensitive Columns Behave with Views</h4>
                  <div>
                     <p>A bind variable that appears in a query on a view is considered sensitive if the view column references a sensitive column.</p>
                     <p>For example, suppose you identify the <code class="codeph">SALARY</code> column in the <code class="codeph">HR.EMPLOYEES</code> table as sensitive. Then you create the view <code class="codeph">EMPLOYEES_VIEW</code> as follows: 
                     </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE VIEW HR.EMPLOYEES_VIEW AS SELECT * FROM HR.EMPLOYEES;
</pre><p>When a user references the <code class="codeph">SALARY</code> column from this view in a SQL statement, any bind variable that has been associated with the <code class="codeph">SALARY</code> column is considered sensitive and its bind value then masked. 
                     </p><pre class="oac_no_warn" dir="ltr">SELECT EMPLOYEE_ID FROM HR.EMPLOYEES_VIEW WHERE SALARY = :VAR1;
</pre><p>In this case, the bind variable <code class="codeph">VAR1</code> is masked because it is associated with the <code class="codeph">HR.EMPLOYEES_VIEW.SALARY</code> column, which references the sensitive column <code class="codeph">HR.EMPLOYEES.SALARY</code>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="The predefined REDACT_AUDIT policy masks bind values, which can appear in trace files when an event is set.">Using the Predefined REDACT_AUDIT Policy to Mask Bind Values</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG816"></a><div class="props_rev_3"><a id="GUID-0739A076-04B5-4768-9EF4-CD66C549A9F7" name="GUID-0739A076-04B5-4768-9EF4-CD66C549A9F7"></a><h4 id="DBSEG-GUID-0739A076-04B5-4768-9EF4-CD66C549A9F7" class="sect4">Disabling the REDACT_AUDIT Policy</h4>
                  <div>
                     <p>By default, the <code class="codeph">REDACT_AUDIT</code> policy is enabled for all sensitive columns. 
                     </p>
                     <p>You can disable it for a specific sensitive column or all sensitive columns, and when needed, re-enable it. Remember that you cannot alter or delete the <code class="codeph">REDACT_AUDIT</code> policy.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>To disable the <code class="codeph">REDACT_AUDIT</code> policy, use the <code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code> procedure.
                           </p>
                        </li>
                     </ul>
                     <p>For example, to disable the <code class="codeph">REDACT_AUDIT</code> policy for the <code class="codeph">SALARY</code> column of <code class="codeph">HR.EMPLOYEES</code>: 
                     </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN(
  schema_name          =&gt; 'HR',
  table_name           =&gt; 'EMPLOYEES',
  column_name          =&gt; 'SALARY',
  policy               =&gt; 'REDACT_AUDIT');
END;
/
</pre><p>The following example shows how to disable the <code class="codeph">REDACT_AUDIT</code> policy for all sensitive columns in the current database.
                     </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN(
  policy               =&gt; 'REDACT_AUDIT');
END;
/
</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="The predefined REDACT_AUDIT policy masks bind values, which can appear in trace files when an event is set.">Using the Predefined REDACT_AUDIT Policy to Mask Bind Values</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-AD4A3497-5B38-4548-8809-7F919CB49DEA" name="GUID-AD4A3497-5B38-4548-8809-7F919CB49DEA"></a><h4 id="DBSEG-GUID-AD4A3497-5B38-4548-8809-7F919CB49DEA" class="sect4">Enabling the REDACT_AUDIT Policy</h4>
                  <div>
                     <p>You can enable the <code class="codeph">REDACT_AUDIT</code> policy for a specific sensitive column or for all columns in the database.
                     </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To enable the <code class="codeph">REDACT_AUDIT</code> policy, use the <code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code> procedure.
                              </p>
                           </li>
                        </ul>
                        <p>For example, to re-enable the <code class="codeph">REDACT_AUDIT</code> policy for the <code class="codeph">SALARY</code> column of <code class="codeph">HR.EMPLOYEES</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.ENABLE_PROTECTION_COLUMN(
  schema_name          =&gt; 'HR',
  table_name           =&gt; 'EMPLOYEES',
  column_name          =&gt; 'SALARY',
  policy               =&gt; 'REDACT_AUDIT');
END;
/
</pre><p>The following example shows how to enable the <code class="codeph">REDACT_AUDIT</code> policy for all sensitive columns in the current database.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.ENSABLE_PROTECTION_COLUMN(
  policy               =&gt; 'REDACT_AUDIT');
END;
/
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="The predefined REDACT_AUDIT policy masks bind values, which can appear in trace files when an event is set.">Using the Predefined REDACT_AUDIT Policy to Mask Bind Values</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG949"></a><div class="props_rev_3"><a id="GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74" name="GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74"></a><h3 id="DBSEG-GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74" class="sect3">Transparent Sensitive Data Protection Policies with Data Redaction</h3>
               <div>
                  <p>Oracle Data Redaction features work with transparent sensitive data protection policies. </p>
                  <p>The Data Redaction function types, function parameters, and expressions can be used in the TSDP policy definition. For example, you can set the enable the TSDP policy to use <code class="codeph">FULL</code> or <code class="codeph">PARTIAL</code> data redaction. This chapter uses Data Redaction for examples of managing TSDP policies.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74__GUID-5A516553-89EF-403A-A90C-D75AC6168BA8">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="You must create a sensitive type, find the sensitive columns to be protected, and then import these columns from ADM into your database.">Creating Transparent Sensitive Data Protection Policies</a> for an example of how to create TSDP policies that use Data Redaction function types
                           </p>
                        </li>
                        <li>
                           <p><a href="../asoag/introduction-to-oracle-data-redaction.html#ASOAG594" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for details about Oracle Data Redaction
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG991"></a><div class="props_rev_3"><a id="GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" name="GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65"></a><h3 id="DBSEG-GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" class="sect3">Using Transparent Sensitive Data Protection Policies with Oracle VPD Policies</h3>
               <div>
                  <p>You can combine protections from TSDP and Oracle Virtual Private Database into one policy.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79">About Using TSDP Policies with Oracle Virtual Private Database Policies</a><br>To incorporate Oracle Virtual Private Database protection with transparent sensitive data protection policies, you must use the <code class="codeph">DBMS_TSDP_PROTECT</code> and <code class="codeph">DBMS_RLS</code> packages. 
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901">DBMS_RLS.ADD_POLICY Parameters That Are Used for TSDP Policies</a><br>Oracle Database provides a set of parameters for fine-tuning the behavior of TSDP policies.
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F">Tutorial: Creating a TSDP Policy That Uses Virtual Private Database Protection</a><br>This tutorial demonstrates how to incorporate Oracle Virtual Private Database protection with a transparent sensitive data protection policy. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG618"></a><div class="props_rev_3"><a id="GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79" name="GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79"></a><h4 id="DBSEG-GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79" class="sect4">About Using TSDP Policies with Oracle Virtual Private Database Policies</h4>
                  <div>
                     <p>To incorporate Oracle Virtual Private Database protection with transparent sensitive data protection policies, you must use the <code class="codeph">DBMS_TSDP_PROTECT</code> and <code class="codeph">DBMS_RLS</code> packages. 
                     </p>
                     <p>This feature works as follows: </p>
                     <ol>
                        <li id="GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79__CHDFFCGC">
                           <p>You create a VPD policy function with a suitable predicate. Later on, when you create the TSDP policy, you will refer to this VPD policy function by using the <code class="codeph">policy_function</code> setting of the <code class="codeph">DBMS_RLS.ADD_POLICY</code> procedure for the <code class="codeph">feature_options</code> parameter of the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p>You create a TSDP policy with the necessary VPD settings similar to the VPD policy function.</p>
                           <p>The TSDP policy uses parameter settings from the <code class="codeph">DBMS_RLS.ADD_POLICY</code> procedure to provide VPD protection. <a href="using-transparent-sensitive-data-protection.html#GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901__CHDBCBFJ" title="DBMS_RLS.ADD_POLICY Parameters Used for TSDP Policies">Table 13-1</a> lists these parameters. Be aware that parameters from the <code class="codeph">DBMS_RLS.ADD_GROUPED_POLICY</code> policy are not supported.
                           </p>
                        </li>
                        <li>
                           <p>You associate the TSDP policy with the necessary sensitive types by using the <code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p>You then enable TSDP protection by using any of the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code>* procedures.
                           </p>
                        </li>
                        <li>
                           <p>You enable the TSDP policy. At this point, Oracle Database creates an internal VPD policy that uses the function that you created in Step <a href="using-transparent-sensitive-data-protection.html#GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79__CHDFFCGC">1</a>.
                           </p>
                           <p>The name of the internal policy begins with <code class="codeph">ORA$VPD</code> followed by an identifier (for example, <code class="codeph">ORA$VPD_6J6L3RSJSN2VAN0XF)</code>. You can find this policy by querying the <code class="codeph">POLICY_NAME</code> column of the <code class="codeph">DBA_POLICIES</code> data dictionary view. 
                           </p>
                        </li>
                        <li>
                           <p>When users query the table, the output for the column is based on both the VPD protections and the TSDP policy that are now in place. </p>
                        </li>
                        <li>
                           <p>These protections remain in place until you disable the TSDP policy for this column. At that point, Oracle Database automatically drops the internal VPD policy, because it is no longer needed. If you reenable the TSDP policy, then the internal VPD policy is recreated. </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-oracle-vpd-to-control-data-access.html#GUID-532B05E7-2E08-4D8A-96B0-7F6EDD75DD14" title="The Oracle Virtual Private Database (VPD) function defines the restrictions that you want to enforce.">Function to Generate the Dynamic WHERE Clause</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" title="You can combine protections from TSDP and Oracle Virtual Private Database into one policy.">Using Transparent Sensitive Data Protection Policies with Oracle VPD Policies</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG742"></a><a id="DBSEG490"></a><div class="props_rev_3"><a id="GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901" name="GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901"></a><h4 id="DBSEG-GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901" class="sect4">DBMS_RLS.ADD_POLICY Parameters That Are Used for TSDP Policies</h4>
                  <div>
                     <p>Oracle Database provides a set of parameters for fine-tuning the behavior of TSDP policies.</p>
                     <p><a href="using-transparent-sensitive-data-protection.html#GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901__CHDBCBFJ" title="DBMS_RLS.ADD_POLICY Parameters Used for TSDP Policies">Table 13-1</a> describes the <code class="codeph">DBMS_RLS.ADD_POLICY</code> parameters that are permissible in the <code class="codeph">FEATURE_OPTIONS</code> parameter when you use the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> or <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure.
                     </p>
                     <div class="tblformal" id="GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901__CHDBCBFJ">
                        <p class="titleintable">Table 13-1 DBMS_RLS.ADD_POLICY Parameters Used for TSDP Policies</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_RLS.ADD_POLICY Parameters Used for TSDP Policies" summary="DBMS_RLS.ADD_POLICY Parameters Used for TSDP Policies" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d105132e6509">Parameter</th>
                                 <th align="left" valign="bottom" width="56%" id="d105132e6512">Description</th>
                                 <th align="left" valign="bottom" width="14%" id="d105132e6515">Default</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6520" headers="d105132e6509 ">
                                    <p><code class="codeph">function_schema</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6520 d105132e6512 ">
                                    <p>Schema of the policy function (current default schema, if <code class="codeph">NULL</code>). If no <code class="codeph">function_schema</code> is specified, then the current user's schema is assumed.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6520 d105132e6515 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6538" headers="d105132e6509 ">
                                    <p><code class="codeph">policy_function</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6538 d105132e6512 ">
                                    <p>Name of a function that generates a predicate for the policy. If the function is defined within a package, then you must include the name of the package (for example, <code class="codeph">my_package.my_function</code>).
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6538 d105132e6515 ">
                                    <p><code class="codeph">NULL </code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6553" headers="d105132e6509 ">
                                    <p><code class="codeph">statement_types</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6553 d105132e6512 ">
                                    <p>Statement types to which the policy applies. It can be any combination of <code class="codeph">INDEX</code>, <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code>. The default is to apply to most of these types except <code class="codeph">INDEX</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6553 d105132e6515 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6584" headers="d105132e6509 ">
                                    <p><code class="codeph">update_check</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6584 d105132e6512 ">
                                    <p>Optional argument for <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> statement types. Setting <code class="codeph">update_check</code> to <code class="codeph">TRUE</code> sets Oracle Database to check the policy against the value after an <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> operation. 
                                    </p>
                                    <p>The check applies only to the security relevant columns that are included in the policy definition. In other words, the <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> operation will fail only if the security relevant column that is defined in the policy is added or updated in the <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> statement.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6584 d105132e6515 ">
                                    <p><code class="codeph">FALSE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6629" headers="d105132e6509 ">
                                    <p><code class="codeph">static_policy</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6629 d105132e6512 ">
                                    <p>If you set this value to <code class="codeph">TRUE</code>, then Oracle Database assumes that the policy function for the static policy produces the same predicate string for anyone accessing the object, except for <code class="codeph">SYS</code> or the privileged user who has the <code class="codeph">EXEMPT ACCESS POLICY</code> privilege.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6629 d105132e6515 ">
                                    <p><code class="codeph">FALSE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6650" headers="d105132e6509 ">
                                    <p><code class="codeph">policy_type</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6650 d105132e6512 ">
                                    <p>Default is <code class="codeph">NULL</code>, which means <code class="codeph">policy_type</code> is decided by the value of the <code class="codeph">static_policy</code> parameter. Specifying any of these policy types overrides the value of <code class="codeph">static_policy</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6650 d105132e6515 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6674" headers="d105132e6509 ">
                                    <p><code class="codeph">long_predicate</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6674 d105132e6512 ">
                                    <p>Default is <code class="codeph">FALSE</code>, which means the policy function can return a predicate with a length of up to 4000 bytes. <code class="codeph">TRUE</code> means the predicate text string length can be up to 32K bytes. Policies existing before the availability of the <code class="codeph">long_predicate</code> parameter retain a 32K limit.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6674 d105132e6515 ">
                                    <p><code class="codeph">FALSE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6695" headers="d105132e6509 ">
                                    <p><code class="codeph">sec_relevant_cols_opt</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6695 d105132e6512 ">
                                    <p>If you specify this parameter, then transparent sensitive data protection inputs the sensitive column on which the protection is enabled to the <code class="codeph">sec_relevant_cols</code> parameter of the <code class="codeph">DBMS_RLS.ADD_POLICY</code> procedure.
                                    </p>
                                    <p>Allowed values are for <code class="codeph">sec_relevant_cols_opt</code> are as follows:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">NULL</code> enables the filtering defined with <code class="codeph">sec_relevant_cols</code> to take effect.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_RLS.ALL_ROWS</code> displays all rows, but with sensitive column values, which are filtered by the <code class="codeph">sec_relevant_cols</code> parameter, they display as <code class="codeph">NULL</code>.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6695 d105132e6515 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="using-oracle-vpd-to-control-data-access.html#GUID-FEEE8343-84E9-4BE7-B638-7DBE0C6ED815" title="The DBMS_RLS PL/SQL package can attach a policy to a table, view, or synonym.">Attaching a Policy to a Database Table, View, or Synonym</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" title="You can combine protections from TSDP and Oracle Virtual Private Database into one policy.">Using Transparent Sensitive Data Protection Policies with Oracle VPD Policies</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG852"></a><div class="props_rev_3"><a id="GUID-698EE572-4229-42C2-94F5-A67A7888808F" name="GUID-698EE572-4229-42C2-94F5-A67A7888808F"></a><h4 id="DBSEG-GUID-698EE572-4229-42C2-94F5-A67A7888808F" class="sect4">Tutorial: Creating a TSDP Policy That Uses Virtual Private Database Protection</h4>
                  <div>
                     <p>This tutorial demonstrates how to incorporate Oracle Virtual Private Database protection with a transparent sensitive data protection policy. </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-740DCF6C-48F4-41C5-9773-4D57C1E09C77">Step 1: Create the hr_appuser User Account</a><br>First, you must create a sample user account and then grant this user the appropriate privileges.
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-DA0DC2BD-4769-449F-82A4-FEA43C02F8DA">Step 2: Identify the Sensitive Columns</a><br>As the sample user <code class="codeph">tsdp_admin</code>, you are ready to identify sensitive columns to protect.
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-8D0D922E-8880-443D-B9A7-98FBD913F29A">Step 3: Create an Oracle Virtual Private Database Function</a><br>TSDP will associate the Oracle VPD policy function with the VPD policy that is automatically created when the TSDP policy is enabled.
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00">Step 4: Create and Enable a Transparent Sensitive Data Protection Policy</a><br>After you have created the VPD policy function, you can associate it with a transparent sensitive data protection policy.
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-9E067DCF-5105-41E9-A1A8-5CE49EB469B0">Step 5: Test the Transparent Sensitive Data Protection Policy</a><br>Now, you are ready to test the transparent sensitive data protection policy. 
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-8C0A8FE7-6DBD-466B-981F-3857C5AE344A">Step 6: Remove the Components of This Tutorial</a><br>If you no longer need the components of this tutorial, then you can remove them.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" title="You can combine protections from TSDP and Oracle Virtual Private Database into one policy.">Using Transparent Sensitive Data Protection Policies with Oracle VPD Policies</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG853"></a><div class="props_rev_3"><a id="GUID-740DCF6C-48F4-41C5-9773-4D57C1E09C77" name="GUID-740DCF6C-48F4-41C5-9773-4D57C1E09C77"></a><h5 id="DBSEG-GUID-740DCF6C-48F4-41C5-9773-4D57C1E09C77" class="sect5">Step 1: Create the hr_appuser User Account</h5>
                     <div>
                        <p>First, you must create a sample user account and then grant this user the appropriate privileges.</p>
                        <ol>
                           <li class="stepexpand"><span>Log into the database instance as user <code class="codeph">SYS</code> with the <code class="codeph">SYSDBA</code> administrative privilege. </span><div><pre class="oac_no_warn" dir="ltr">sqlplus sys as sysdba
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>If you are using a multitenant environment, then connect to the appropriate pluggable database (PDB). </span><div>
                                 <p>For example:</p><pre class="oac_no_warn" dir="ltr">CONNECT SYS@hrpdb AS SYSDBA
Enter password: <span class="italic">password</span>
</pre><p>To find the available PDBs, run the <code class="codeph">show pdbs</code> command. To check the current PDB, run the <code class="codeph">show con_name</code> command. 
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Create the following user accounts: </span><div><pre class="oac_no_warn" dir="ltr">GRANT CREATE SESSION TO hr_appuser IDENTIFIED BY <span class="italic">password</span>;
GRANT CREATE SESSION TO tsdp_admin IDENTIFIED BY <span class="italic">password</span>;
</pre><p>Follow the guidelines in <a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle provides a set of minimum requirements for passwords.">Minimum Requirements for Passwords</a> to replace <span class="italic"><code class="codeph">password</code></span> with a password that is secure.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Grant user <code class="codeph">tsdp_admin</code> the following privileges: </span><div><pre class="oac_no_warn" dir="ltr">GRANT CREATE PROCEDURE TO tsdp_admin;
GRANT EXECUTE ON DBMS_TSDP_MANAGE TO tsdp_admin;
GRANT EXECUTE ON DBMS_TSDP_PROTECT TO tsdp_admin; 
GRANT EXECUTE ON DBMS_RLS to tsdp_admin;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">SCOTT</code>. </span><div><pre class="oac_no_warn" dir="ltr">CONNECT SCOTT <span class="italic">-- Or, CONNECT SCOTT@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Grant the <code class="codeph">hr_appuser</code> the <code class="codeph">READ</code> object privilege for the <code class="codeph">EMP</code> table.</span><div><pre class="oac_no_warn" dir="ltr">GRANT READ ON EMP TO hr_appuser;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="This tutorial demonstrates how to incorporate Oracle Virtual Private Database protection with a transparent sensitive data protection policy.">Tutorial: Creating a TSDP Policy That Uses Virtual Private Database Protection</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG887"></a><div class="props_rev_3"><a id="GUID-DA0DC2BD-4769-449F-82A4-FEA43C02F8DA" name="GUID-DA0DC2BD-4769-449F-82A4-FEA43C02F8DA"></a><h5 id="DBSEG-GUID-DA0DC2BD-4769-449F-82A4-FEA43C02F8DA" class="sect5">Step 2: Identify the Sensitive Columns</h5>
                     <div>
                        <p>As the sample user <code class="codeph">tsdp_admin</code>, you are ready to identify sensitive columns to protect.
                        </p>
                        <ol>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">tsdp_admin</code>.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT tsdp_admin <span class="italic">-- Or, CONNECT tsdb_admin@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create the <code class="codeph">salary_type</code> sensitive type:</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE (
  sensitive_type  =&gt; 'salary_type',
  user_comment    =&gt; 'Type for SCOTT.EMP column');
END;
/
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Associate the <code class="codeph">salary_type</code> sensitive type with the <code class="codeph">SCOTT.EMP</code> table.</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN (
 schema_name        =&gt; 'SCOTT',
 table_name         =&gt; 'EMP',
 column_name        =&gt; 'SAL',
 sensitive_type     =&gt; 'salary_type',
 user_comment       =&gt; 'Sensitive column addition of SALARY_TYPE');
END;
/</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="This tutorial demonstrates how to incorporate Oracle Virtual Private Database protection with a transparent sensitive data protection policy.">Tutorial: Creating a TSDP Policy That Uses Virtual Private Database Protection</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG891"></a><div class="props_rev_3"><a id="GUID-8D0D922E-8880-443D-B9A7-98FBD913F29A" name="GUID-8D0D922E-8880-443D-B9A7-98FBD913F29A"></a><h5 id="DBSEG-GUID-8D0D922E-8880-443D-B9A7-98FBD913F29A" class="sect5">Step 3: Create an Oracle Virtual Private Database Function</h5>
                     <div>
                        <p>TSDP will associate the Oracle VPD policy function with the VPD policy that is automatically created when the TSDP policy is enabled.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To create the VPD policy function, use the <code class="codeph">CREATE OR REPLACE FUNCTION</code> procedure, as follows: 
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION vpd_function (
  v_schema IN VARCHAR2, 
  v_objname IN VARCHAR2) 
 RETURN VARCHAR2 AS 
BEGIN
 RETURN 'SYS_CONTEXT(''USERENV'',''SESSION_USER'') = ''HR_APPUSER'''; 
END vpd_function;
/</pre></li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="This tutorial demonstrates how to incorporate Oracle Virtual Private Database protection with a transparent sensitive data protection policy.">Tutorial: Creating a TSDP Policy That Uses Virtual Private Database Protection</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG892"></a><div class="props_rev_3"><a id="GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00" name="GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00"></a><h5 id="DBSEG-GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00" class="sect5">Step 4: Create and Enable a Transparent Sensitive Data Protection Policy</h5>
                     <div>
                        <p>After you have created the VPD policy function, you can associate it with a transparent sensitive data protection policy.</p>
                        <ol>
                           <li class="stepexpand"><span>Create the Transparent Sensitive Data Protection policy. </span><div><pre class="oac_no_warn" dir="ltr">DECLARE 
 vpd_feature_options DBMS_TSDP_PROTECT.FEATURE_OPTIONS;
 policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS;
BEGIN
 vpd_feature_options ('policy_function') := 'vpd_function';   
 vpd_feature_options ('sec_relevant_cols_opt') := 'DBMS_RLS.ALL_ROWS';   
 dbms_tsdp_protect.add_policy('tsdp_vpd', DBMS_TSDP_PROTECT.VPD, vpd_feature_options, policy_conditions); 
END; 
/
</pre><p>In this example, the <code class="codeph">vpd_feature_options</code> parameter refers to the <code class="codeph">sec_relevant_cols_opt</code> parameter from the <code class="codeph">DBMS_RLS.ADD_POLICY</code> procedure. When the TSDP policy is enabled, the VPD policy that is automatically created will have its <code class="codeph">sec_relevant_cols</code> parameter (of <code class="codeph">DBMS_RLS.ADD_POLICY</code>) set to the name of the sensitive column on which TSDP enables the VPD policy. If you had not used the  <code class="codeph">sec_relevant_cols_opt</code> parameter, then TSDP would not have used the <code class="codeph">DBMS_RLS.ADD_POLICY</code> <code class="codeph">sec_relevant_cols_opt</code> parameter.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Associate the <code class="codeph">tsdp_vpd1</code> TSDP policy with the <code class="codeph">salary_type</code> sensitive type. </span><div><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.ASSOCIATE_POLICY(
 policy_name        =&gt; 'tsdp_vpd',
 sensitive_type     =&gt; 'salary_type',
 associate          =&gt; TRUE);
END;
/
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Enable protection to enforce the Virtual Private Database policy on all columns identified as <code class="codeph">SALARY_TYPE</code>:</span><div><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_PROTECT.ENABLE_PROTECTION_TYPE(
  sensitive_type           =&gt; 'salary_type');
END;
/</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="This tutorial demonstrates how to incorporate Oracle Virtual Private Database protection with a transparent sensitive data protection policy.">Tutorial: Creating a TSDP Policy That Uses Virtual Private Database Protection</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG893"></a><div class="props_rev_3"><a id="GUID-9E067DCF-5105-41E9-A1A8-5CE49EB469B0" name="GUID-9E067DCF-5105-41E9-A1A8-5CE49EB469B0"></a><h5 id="DBSEG-GUID-9E067DCF-5105-41E9-A1A8-5CE49EB469B0" class="sect5">Step 5: Test the Transparent Sensitive Data Protection Policy</h5>
                     <div>
                        <p>Now, you are ready to test the transparent sensitive data protection policy. </p>
                        <ol>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">hr_appuser</code>. </span><div><pre class="oac_no_warn" dir="ltr">CONNECT hr_appuser <span class="italic">-- Or, CONNECT hr_appuser@hrpdb</span>
Enter password: <code class="codeph">password</code>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Query the <code class="codeph">SCOTT.EMP</code> table as follows:</span><div><pre class="oac_no_warn" dir="ltr">SELECT SAL, COMM, EMPNO FROM SCOTT.EMP;
</pre><p>The following output appears:</p><pre class="oac_no_warn" dir="ltr">    SAL   COMM   EMPNO
--------- ------ ----------
    800          7369
   1600    300   7499
   1250    500   7521
   2975          7566
   1250   1400   7654
   2850          7698
   2450          7782
   3000          7788
   5000          7839
   1500     0    7844
   1100          7876
    950          7900
   3000          7902
   1300          7934
14 rows selected. 
</pre><p>The <code class="codeph">vpd_function</code> function enables user <code class="codeph">hr_appuser</code> to see the salaries in the <code class="codeph">SAL</code> column of the <code class="codeph">EMP</code> table. 
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">SCOTT</code> and then perform the same query. </span><div><pre class="oac_no_warn" dir="ltr">CONNECT SCOTT <span class="italic">-- Or, CONNECT SCOTT@hrpdb</span>
Enter password: <span class="italic">password</span>

SELECT SAL, COMM, EMPNO FROM SCOTT.EMP;
</pre><p>The following output appears:</p><pre class="oac_no_warn" dir="ltr">    SAL   COMM   EMPNO
--------- ------ ----------
                 7369
           300   7499
           500   7521
                 7566
          1400   7654
                 7698
                 7782
                 7788
                 7839
            0    7844
                 7876
                 7900
                 7902
                 7934
14 rows selected. 
</pre><p>Even though <code class="codeph">SCOTT</code> owns the <code class="codeph">EMP</code> table, the <code class="codeph">vpd_function</code> function prevents him from seeing the salaries in the <code class="codeph">SAL</code> column of this table
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="This tutorial demonstrates how to incorporate Oracle Virtual Private Database protection with a transparent sensitive data protection policy.">Tutorial: Creating a TSDP Policy That Uses Virtual Private Database Protection</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG894"></a><div class="props_rev_3"><a id="GUID-8C0A8FE7-6DBD-466B-981F-3857C5AE344A" name="GUID-8C0A8FE7-6DBD-466B-981F-3857C5AE344A"></a><h5 id="DBSEG-GUID-8C0A8FE7-6DBD-466B-981F-3857C5AE344A" class="sect5">Step 6: Remove the Components of This Tutorial</h5>
                     <div>
                        <p>If you no longer need the components of this tutorial, then you can remove them.</p>
                        <ol>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">tsdp_admin</code>. </span><div><pre class="oac_no_warn" dir="ltr">CONNECT tsdp_admin <span class="italic">-- Or, CONNECT tsdp_admin@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Execute the following statements in the order shown. </span><div><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_MANAGE.DROP_SENSITIVE_COLUMN (
   schema_name        =&gt; 'SCOTT',
   table_name         =&gt; 'EMP',
   column_name        =&gt; 'SAL');
END;
/
</pre><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_TSDP_MANAGE.DROP_SENSITIVE_TYPE(
 sensitive_type     =&gt; 'salary_type');
END;
/

BEGIN
 DBMS_TSDP_PROTECT.DROP_POLICY(
   policy_name     =&gt; 'tsdp_vpd');
END;
/
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Connect as user <code class="codeph">SYSTEM</code>. </span><div><pre class="oac_no_warn" dir="ltr">CONNECT SYSTEM <span class="italic">-- Or, CONNECT SYSTEM@hrpdb</span>
Enter password: <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Drop the <code class="codeph">tsdp_admin</code> and <code class="codeph">hr_appuser</code> accounts.</span><div><pre class="oac_no_warn" dir="ltr">DROP USER tsdp_admin CASCADE;
DROP USER hr_appuser</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="This tutorial demonstrates how to incorporate Oracle Virtual Private Database protection with a transparent sensitive data protection policy.">Tutorial: Creating a TSDP Policy That Uses Virtual Private Database Protection</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687" name="GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687"></a><h3 id="DBSEG-GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687" class="sect3">Using Transparent Sensitive Data Protection Policies with Unified Auditing</h3>
               <div>
                  <p>The transparent sensitive data protection and unified auditing procedures can combine the protections of these two features.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1">About Using TSDP Policies with Unified Audit Policies</a><br>You can configure transparent sensitive data protection policies to audit object actions using unified auditing. 
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105">Unified Audit Policy Settings That Are Used with TSDP Policies</a><br>Audit policy settings can be used in the <code class="codeph">POLICY_ENABLE_OPTIONS</code> parameter for the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> or <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1" name="GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1"></a><h4 id="DBSEG-GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1" class="sect4">About Using TSDP Policies with Unified Audit Policies</h4>
                  <div>
                     <p>You can configure transparent sensitive data protection policies to audit object actions using unified auditing. </p>
                     <p>The <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> and <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedures enable you to specify settings from the <code class="codeph">CREATE AUDIT POLICY</code>, <code class="codeph">ALTER AUDIT POLICY</code>, <code class="codeph">AUDIT POLICY</code>, and <code class="codeph">COMMENT</code> SQL statements. The TSDP policy enables the creation of action audit-options for object-specific options in the policy, such as <code class="codeph">INSERT</code> or <code class="codeph">DELETE</code> operations. System-wide audit options are not supported. Therefore, the audited object type is always <code class="codeph">TABLE</code>. Only standard actions (such as <code class="codeph">INSERT</code>) are permitted. Component actions, such as creating policies for Oracle Label Security or other Oracle Database features, are not supported. 
                     </p>
                     <p>This feature works as follows:</p>
                     <ol>
                        <li id="GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1__YOUCREATEATSDPPOLICYWITHTHENECESSAR-229E4661">
                           <p>You create a TSDP policy with the necessary unified audit settings.</p>
                           <p>The TSDP policy uses parameter settings from the <code class="codeph">CREATE AUDIT POLICY</code>, <code class="codeph">AUDIT POLICY</code>, and <code class="codeph">COMMENT</code> statements. <a href="using-transparent-sensitive-data-protection.html#GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105" title="Audit policy settings can be used in the POLICY_ENABLE_OPTIONS parameter for the DBMS_TSDP_PROTECT.ADD_POLICY or DBMS_TSDP_PROTECT.ALTER_POLICY procedure.">Unified Audit Policy Settings That Are Used with TSDP Policies</a> lists these settings. 
                           </p>
                        </li>
                        <li>
                           <p>You associate the TSDP policy with the necessary sensitive types by using the <code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p>You then enable TSDP protection by using any of the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code>* procedures.
                           </p>
                        </li>
                        <li>
                           <p>You enable the TSDP policy. As part of the TSDP policy enablement process, Oracle Database internally creates a unified audit policy and then enables it on the list of target users and roles that you specified in the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure from Step <a href="using-transparent-sensitive-data-protection.html#GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1__YOUCREATEATSDPPOLICYWITHTHENECESSAR-229E4661">1</a>.
                           </p>
                           <p>The name of the internal policy begins with <code class="codeph">ORA$UNIFIED_AUDIT_</code> followed by a random alpha-numeric string (for example, <code class="codeph">ORA$UNIFIED_AUDIT_6J6L3RSJSN2VAN0XF</code>). You can find this policy by querying the <code class="codeph">POLICY_NAME</code> column of the <code class="codeph">AUDIT_UNIFIED_POLICIES</code> data dictionary view. To find the names of the users and roles on which this internally created TSDP unified audit policy is enforced, query the <code class="codeph">AUDIT_UNIFIED_ENABLED_POLICIES</code> view.
                           </p>
                        </li>
                        <li>
                           <p>When users try to perform an action on the table that is being protected by the TSDP policy, then based on the TSDP unified audit policy configuration, a unified audit record is written to the unified audit trail for this object access. You can then query the <code class="codeph">UNIFIED_AUDIT_TRAIL</code> view to see the unified audit record that was created because of the TSDP unified audit policy enforcement.
                           </p>
                        </li>
                        <li>
                           <p>These protections remain in place until you disable the TSDP policy for this column. At that point, Oracle Database automatically disables and then drops the internal policy, because it is no longer necessary. (A unified audit policy must be disabled before it can be dropped.) If you re-enable the TSDP policy, then the internal policy is recreated.</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687" title="The transparent sensitive data protection and unified auditing procedures can combine the protections of these two features.">Using Transparent Sensitive Data Protection Policies with Unified Auditing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105" name="GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105"></a><h4 id="DBSEG-GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105" class="sect4">Unified Audit Policy Settings That Are Used with TSDP Policies</h4>
                  <div>
                     <p>Audit policy settings can be used in the <code class="codeph">POLICY_ENABLE_OPTIONS</code> parameter for the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> or <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure.
                     </p>
                     <p>These audit policy settings are from the <code class="codeph">AUDIT</code>, <code class="codeph">CREATE AUDIT POLICY</code>, and <code class="codeph">ALTER AUDIT POLICY</code> statements.
                     </p>
                     <p>The following table describes these settings.</p>
                     <div class="tblformal" id="GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105__UNIFIEDAUDITPOLICYSETTINGSUSEDFORTS-69CF0274">
                        <p class="titleintable">Table 13-2 Unified Audit Policy Settings Used for TSDP Policies</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Unified Audit Policy Settings Used for TSDP Policies" summary="This table describes the unified audit policy settings that are used for TSDP policies. From left to right are the SQL Statement, Clause, Description, and Default columns." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d105132e8412">Parameter</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e8414">Description</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e8416">Default</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8420" headers="d105132e8412 ">
                                    <p><code class="codeph">ACTION_AUDIT_OPTIONS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8420 d105132e8414 ">
                                    <p>A string containing a comma-separated list of SQL actions. </p>
                                    <p>Valid actions are: <code class="codeph">ALTER</code>, <code class="codeph">AUDIT</code>, <code class="codeph">COMMENT</code>, <code class="codeph">DELETE</code>, <code class="codeph">FLASHBACK</code>, <code class="codeph">GRANT</code>, <code class="codeph">INDEX</code>, <code class="codeph">INSERT</code>, <code class="codeph">LOCK</code>, <code class="codeph">RENAME</code>, <code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code></p>
                                    <p>To configure the policy to audit all of these actions, specify the keyword <code class="codeph">ALL</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8420 d105132e8416 ">
                                    <p><code class="codeph">ALL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8476" headers="d105132e8412 ">
                                    <p><code class="codeph">AUDIT_CONDITION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8476 d105132e8414 ">
                                    <p><code class="codeph">SYS_CONTEXT (<span class="codeinlineitalic">namespace</span>, <span class="codeinlineitalic">attribute</span>) &nbsp;<span class="codeinlineitalic">operation</span>&nbsp; <span class="codeinlineitalic">value-list</span></code></p>
                                    <p>In this syntax, <code class="codeph"><span class="codeinlineitalic">operation</span></code>&nbsp; can be any of the following operators: <code class="codeph">IN</code>,| <code class="codeph">NOT IN</code>, <code class="codeph">=</code>, <code class="codeph">&lt;</code>, <code class="codeph"> &gt;</code>, or <code class="codeph">&lt;&gt;</code></p>
                                    <p>If the audit condition contains a single quotation mark, then specify two single quotation marks instead of one, and enclose the <code class="codeph">SYS_CONTEXT</code> in single quotations. For example: 
                                    </p><pre class="oac_no_warn" dir="ltr">'SYS_CONTEXT(''USERENV'', ''CLIENT_IDENTIFIER'') = ''myclient'''</pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8476 d105132e8416 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8531" headers="d105132e8412 ">
                                    <p><code class="codeph">EVALUATE_PER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8531 d105132e8414 ">
                                    <p>Can be one of the following:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">STATEMENT</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">SESSION</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">INSTANCE</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8531 d105132e8416 ">
                                    <p><code class="codeph">STATEMENT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8556" headers="d105132e8412 ">
                                    <p><code class="codeph">ENTITY_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8556 d105132e8414 ">
                                    <p>A string that contains a comma-separated list of users or roles. If you omit this parameter, then the audit policy is enabled for all users.</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8556 d105132e8416 ">
                                    <p><code class="codeph">NULL</code> (that is, all database users)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8569" headers="d105132e8412 ">
                                    <p><code class="codeph">ENABLE_OPTION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8569 d105132e8414 ">
                                    <p>Applies only if the <code class="codeph">ENTITY_NAME</code>&nbsp;parameter is used. It specifies if the <code class="codeph">ENTITY_NAME</code> is a <code class="codeph">BY</code> user list, an <code class="codeph">EXCEPT</code> user list, or a <code class="codeph">BY USERS WITH GRANTED ROLES</code> role list. Valid settings are:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">BY</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">EXCEPT</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">BY USERS WITH GRANTED ROLES</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8569 d105132e8416 ">
                                    <p><code class="codeph">BY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8609" headers="d105132e8412 ">
                                    <p><code class="codeph">UNIFIED_AUDIT_POLICY_COMMENT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8609 d105132e8414 ">
                                    <p>A string that describes the unified audit policy that will be created</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8609 d105132e8416 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687" title="The transparent sensitive data protection and unified auditing procedures can combine the protections of these two features.">Using Transparent Sensitive Data Protection Policies with Unified Auditing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8" name="GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8"></a><h3 id="DBSEG-GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8" class="sect3">Using Transparent Sensitive Data Protection Policies with Fine-Grained Auditing</h3>
               <div>
                  <p>The transparent sensitive data protection and fine-grained auditing procedures can combine the protections of these two features.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914">About Using TSDP Policies with Fine-Grained Auditing</a><br>You can configure a Transparent Sensitive Data Protection policy for fine-grained auditing. 
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-F852F1BE-D835-426C-9779-89139B066EEE">Fine-Grained Auditing Parameters That Are Used with TSDP Policies</a><br><code class="codeph">DBMS_FGA.ADD_POLICY</code> settings can be used in the <code class="codeph">POLICY_ENABLE_OPTIONS</code> parameter for the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> or <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914" name="GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914"></a><h4 id="DBSEG-GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914" class="sect4">About Using TSDP Policies with Fine-Grained Auditing</h4>
                  <div>
                     <p>You can configure a Transparent Sensitive Data Protection policy for fine-grained auditing. </p>
                     <p>The <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> and <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedures enable you to specify settings from the <code class="codeph">DBMS_FGA.ADD_POLICY</code> procedure. 
                     </p>
                     <p>This feature works as follows:</p>
                     <ol>
                        <li id="GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914__YOUCREATEATSDPPOLICYWITHTHENECESSAR-22A1CABF">
                           <p>You create a TSDP policy with the necessary fine-grained audit settings.</p>
                           <p>The TSDP policy uses parameter settings from the <code class="codeph">DBMS_FGA.ADD_POLICY</code> procedure. <a href="using-transparent-sensitive-data-protection.html#GUID-F852F1BE-D835-426C-9779-89139B066EEE" title="DBMS_FGA.ADD_POLICY settings can be used in the POLICY_ENABLE_OPTIONS parameter for the DBMS_TSDP_PROTECT.ADD_POLICY or DBMS_TSDP_PROTECT.ALTER_POLICY procedure.">Fine-Grained Auditing Parameters That Are Used with TSDP Policies</a> lists these settings. 
                           </p>
                        </li>
                        <li>
                           <p>You associate the TSDP policy with the necessary sensitive types by using the <code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p>You then enable TSDP protection by using any of the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code>* procedures.
                           </p>
                        </li>
                        <li>
                           <p>You enable the TSDP policy. As part of the TSDP policy enablement process, Oracle Database internally creates a fine-grained audit policy that you specified in the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure from Step <a href="using-transparent-sensitive-data-protection.html#GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914__YOUCREATEATSDPPOLICYWITHTHENECESSAR-22A1CABF">1</a>.
                           </p>
                           <p>The name of the internal policy begins with <code class="codeph">ORA$FGA_</code> followed by a random alpha-numeric string (for example, <code class="codeph">ORA$FGA_6J6L3RSJSN2VAN0XF</code>). You can find this policy by querying the <code class="codeph">POLICY_NAME</code> column of the <code class="codeph">DBA_POLICIES</code> data dictionary view.
                           </p>
                        </li>
                        <li>
                           <p>When users try to perform an action on the table that is being protected by the TSDP policies, then based on the policy configuration, a fine-grained audit record is generated in the <code class="codeph">DBA_FGA_AUDIT_TRAIL</code> data dictionary view for this object access.
                           </p>
                        </li>
                        <li>
                           <p>These protections remain in place until you disable the TSDP policy for this column. At that point, Oracle Database automatically drops the internal policy, because it is no longer needed. If you reenable the TSDP policy, then the internal policy is recreated.</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8" title="The transparent sensitive data protection and fine-grained auditing procedures can combine the protections of these two features.">Using Transparent Sensitive Data Protection Policies with Fine-Grained Auditing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F852F1BE-D835-426C-9779-89139B066EEE" name="GUID-F852F1BE-D835-426C-9779-89139B066EEE"></a><h4 id="DBSEG-GUID-F852F1BE-D835-426C-9779-89139B066EEE" class="sect4">Fine-Grained Auditing Parameters That Are Used with TSDP Policies</h4>
                  <div>
                     <p><code class="codeph">DBMS_FGA.ADD_POLICY</code> settings can be used in the <code class="codeph">POLICY_ENABLE_OPTIONS</code> parameter for the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> or <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure.
                     </p>
                     <p>The following table describes these settings.</p>
                     <div class="tblformal" id="GUID-F852F1BE-D835-426C-9779-89139B066EEE__UNIFIEDAUDITPOLICYSETTINGSUSEDFORTS-69D5F836">
                        <p class="titleintable">Table 13-3 Fine-Grained Audit Policy Settings Used for TSDP Policies</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Fine-Grained Audit Policy Settings Used for TSDP Policies" summary="The following table describes the FGA policy settings that are used for TSDP policies. From left to right are the Parameter, Description, and Default columns." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d105132e9102">Parameter</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e9104">Description</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e9106">Default</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9110" headers="d105132e9102 ">
                                    <p><code class="codeph">audit_condition</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9110 d105132e9104 ">
                                    <p>Specifies a Boolean value to indicate a monitoring condition, using the following syntax:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">operator value</span></pre><p>For example:<code class="codeph"> &lt; 1000</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9110 d105132e9106 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9129" headers="d105132e9102 ">
                                    <p><code class="codeph">handler_schema</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9129 d105132e9104 ">
                                    <p>Schema that contains the event handler. The default, <code class="codeph">NULL</code>, enables the current schema to be used.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9129 d105132e9106 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9144" headers="d105132e9102 ">
                                    <p><code class="codeph">handler_module</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9144 d105132e9104 ">
                                    <p>Function name of the event handler. Include the package name if necessary. This function is invoked only after the first row that matches the audit condition in the query is processed. If the procedure fails with an exception, then the user’s SQL statement fails as well. </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9144 d105132e9106 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9156" headers="d105132e9102 ">
                                    <p><code class="codeph">statement_types</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9156 d105132e9104 ">
                                    <p>You can specify one of the following statement types: <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">SELECT</code>, or <code class="codeph">DELETE</code>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9156 d105132e9106 ">
                                    <p><code class="codeph">SELECT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9180" headers="d105132e9102 ">
                                    <p><code class="codeph">audit_trail</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9180 d105132e9104 ">
                                    <p>If you have not yet migrated the database to full unified auditing, then use this setting to set the destination of the audit records: <code class="codeph">DB</code> for the database or XML for XML records. This setting also specifies whether to populate the <code class="codeph">LSQLTEXT</code> and <code class="codeph">LSQLBIND</code> columns in the <code class="codeph">FGA_LOG$</code> system table. 
                                    </p>
                                    <p>If full unified auditing is enabled, then Oracle Database ignores this parameter and writes the audit records to the unified audit trail.</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9180 d105132e9106 ">
                                    <p><code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9206" headers="d105132e9102 ">
                                    <p><code class="codeph">object_schema</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9206 d105132e9104 ">
                                    <p>The schema that corresponds to the sensitive column</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9206 d105132e9106 ">
                                    <p>Schema that contains the sensitive column</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9217" headers="d105132e9102 ">
                                    <p><code class="codeph">object_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9217 d105132e9104 ">
                                    <p>The table that contains the sensitive column</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9217 d105132e9106 ">
                                    <p>The object (table or view) that contains the sensitive column</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9228" headers="d105132e9102 ">
                                    <p><code class="codeph">policy_name</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9228 d105132e9104 ">
                                    <p>A system-generated name for the internal fine-grained audit policy</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9228 d105132e9106 ">
                                    <p>Internal fine-grained audit policy system-generated name</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9239" headers="d105132e9102 ">
                                    <p><code class="codeph">audit_column</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9239 d105132e9104 ">
                                    <p>The sensitive column</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9239 d105132e9106 ">
                                    <p>The sensitive column</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9250" headers="d105132e9102 ">
                                    <p><code class="codeph">audit_column_opts</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9250 d105132e9104 ">
                                    <p>Determines whether to audit all or specific columns</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9250 d105132e9106 ">
                                    <p><code class="codeph">DBMS_FGA.ANY_COLUMN</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9262" headers="d105132e9102 ">
                                    <p><code class="codeph">enable</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9262 d105132e9104 ">
                                    <p>Enable status for the TSDP policy; can be either <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9262 d105132e9106 ">
                                    <p><code class="codeph">TRUE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9280" headers="d105132e9102 ">
                                    <p><code class="codeph">policy_owner</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9280 d105132e9104 ">
                                    <p>User who invokes the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code>* procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9280 d105132e9106 ">
                                    <p>Current user</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8" title="The transparent sensitive data protection and fine-grained auditing procedures can combine the protections of these two features.">Using Transparent Sensitive Data Protection Policies with Fine-Grained Auditing</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5" name="GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5"></a><h3 id="DBSEG-GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5" class="sect3">Using Transparent Sensitive Data Protection Policies with TDE Column Encryption</h3>
               <div>
                  <p>The TSDP procedures and Transparent Data Encryption column encryption statements can combine the protections of these two features.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-D6F908B0-3E55-463D-85DE-90E99979D31C">About Using TSDP Policies with TDE Column Encryption</a><br>A TSDP policy can enable the encryption of columns that use Transparent Data Encryption. 
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5">TDE Column Encryption ENCRYPT Clause Settings Used with TSDP Policies</a><br>The <code class="codeph">CREATE TABLE</code> and <code class="codeph">ALTER TABLE</code> statement <code class="codeph">ENCRYPT</code> clause settings can be used in the <code class="codeph">POLICY_ENABLE_OPTIONS</code> parameter for the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> or <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-D6F908B0-3E55-463D-85DE-90E99979D31C" name="GUID-D6F908B0-3E55-463D-85DE-90E99979D31C"></a><h4 id="DBSEG-GUID-D6F908B0-3E55-463D-85DE-90E99979D31C" class="sect4">About Using TSDP Policies with TDE Column Encryption</h4>
                  <div>
                     <p>A TSDP policy can enable the encryption of columns that use Transparent Data Encryption. </p>
                     <p>The <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> and <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedures enable you to specify the <code class="codeph">ENCRYPT</code> clause settings from the <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> statement. 
                     </p>
                     <p>This feature works as follows:</p>
                     <ol>
                        <li>
                           <p>You can create a TSDP policy by using the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> procedure. In the <code class="codeph">ADD_POLICY</code> procedure, you can configure the policy for column encryption by setting the <code class="codeph">SECURITY_FEATURE</code> parameter to <code class="codeph">DBMS_TSDP_PROTECT.COLUMN_ENCRYPTION</code>. This setting enables encryption on the sensitive column when the TSDP policy is enabled on the object.
                           </p>
                        </li>
                        <li>
                           <p>You create a TSDP policy with the necessary table encryption settings.</p>
                           <p>The TSDP policy uses parameter settings from the <code class="codeph">CREATE TABLE</code> or <code class="codeph">ALTER TABLE</code> SQL statement. <a href="using-transparent-sensitive-data-protection.html#GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5" title="The CREATE TABLE and ALTER TABLE statement ENCRYPT clause settings can be used in the POLICY_ENABLE_OPTIONS parameter for the DBMS_TSDP_PROTECT.ADD_POLICY or DBMS_TSDP_PROTECT.ALTER_POLICY procedure.">TDE Column Encryption ENCRYPT Clause Settings Used with TSDP Policies</a> lists these settings. 
                           </p>
                        </li>
                        <li>
                           <p>You associate the TSDP policy with the necessary sensitive types by using the <code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p>You then enable TSDP protection by using any of the <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code>* procedures.
                           </p>
                        </li>
                        <li>
                           <p>You enable the TSDP policy. At this point, Oracle Database creates an internal TSDP policy that uses the encrypted table settings that you created earlier in this procedure.</p>
                           <p>The name of the internal policy begins with <code class="codeph">ORA$TDECE_</code> followed by a random alpha-numeric string (for example, <code class="codeph">ORA#TDECE_6J6L3RSJSN2VAN0XF</code>). You can find this policy by querying the <code class="codeph">TSDP_POLICY</code> column of <code class="codeph">DBA_TSDP_POLICY_PROTECTION</code> view.
                           </p>
                        </li>
                        <li>
                           <p>When users try to perform an action on the table that is being protected by the policies, the output for the column is based on both the TDE column protections and the TSDP policy that are now in place. You can check if the column has been encrypted after you enabled the TSDP policy by querying the <code class="codeph">ENCRYPTION_ALG</code> column of the <code class="codeph">DBA_ENCRYPTED_COLUMNS</code> view.
                           </p>
                        </li>
                        <li>
                           <p>These protections remain in place until you disable the TSDP policy for this column. At that point, Oracle Database internally issues an <code class="codeph">ALTER TABLE</code> statement on the table that contains the sensitive column, so that the sensitive column is decrypted. If you reenable the TSDP policy, then TSDP internally executes the <code class="codeph">ALTER TABLE</code> statement with the <code class="codeph">ENCRYPT</code> clause for the column.
                           </p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-D6F908B0-3E55-463D-85DE-90E99979D31C__GUID-65BEC7D7-E469-4585-8E33-3A7350962FD8">
                        <p class="notep1">Note:</p>
                        <p>It is possible to create two policies on the same column with each policy specifying a different encryption algorithm. In this case, the stronger of the two algorithms is enforced on the sensitive column. </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5" title="The TSDP procedures and Transparent Data Encryption column encryption statements can combine the protections of these two features.">Using Transparent Sensitive Data Protection Policies with TDE Column Encryption</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5" name="GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5"></a><h4 id="DBSEG-GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5" class="sect4">TDE Column Encryption ENCRYPT Clause Settings Used with TSDP Policies</h4>
                  <div>
                     <p>The <code class="codeph">CREATE TABLE</code> and <code class="codeph">ALTER TABLE</code> statement <code class="codeph">ENCRYPT</code> clause settings can be used in the <code class="codeph">POLICY_ENABLE_OPTIONS</code> parameter for the <code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code> or <code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code> procedure.
                     </p>
                     <p>The following table describes these settings.</p>
                     <div class="tblformal" id="GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5__UNIFIEDAUDITPOLICYSETTINGSUSEDFORTS-69DA65CC">
                        <p class="titleintable">Table 13-4 TDE Column Encryption ENCRYPT Settings Used for TSDP Policies</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="TDE Column Encryption ENCRYPT Settings Used for TSDP Policies" summary="This table describes the TDE column encryption ENCRYPT settings that are used for TSDP policies. From left to right are the Encrypt Setting Type, Description, and Default columns." frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d105132e9831">Parameter</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e9833">Description</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e9835">Default</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9839" headers="d105132e9831 ">
                                    <p><code class="codeph">encrypt_algorithm</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9839 d105132e9833 ">
                                    <p>Available values</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">3DES168</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AES128</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AES192</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AES256</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ARIA128</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ARIA192</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ARIA256</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">SEED128</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">GOST256</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9839 d105132e9835 ">
                                    <p><code class="codeph">AES192</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9888" headers="d105132e9831 ">
                                    <p><code class="codeph">salt</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9888 d105132e9833 ">
                                    <p>Available values:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">SALT</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NO SALT</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9888 d105132e9835 ">
                                    <p><code class="codeph">SALT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9909" headers="d105132e9831 ">
                                    <p><code class="codeph">integrity_algorithm</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9909 d105132e9833 ">
                                    <p>Available values:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">SHA-1</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NOMAC</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9909 d105132e9835 ">
                                    <p><code class="codeph">SHA-1</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5" title="The TSDP procedures and Transparent Data Encryption column encryption statements can combine the protections of these two features.">Using Transparent Sensitive Data Protection Policies with TDE Column Encryption</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG957"></a><a id="DBSEG956"></a><div class="props_rev_3"><a id="GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E" name="GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E"></a><h3 id="DBSEG-GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E" class="sect3">Transparent Sensitive Data Protection Data Dictionary Views</h3>
               <div>
                  <p>Oracle Database provides data dictionary views that list information about transparent sensitive data protection policies.</p>
                  <div class="section">
                     <p><a href="using-transparent-sensitive-data-protection.html#GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E__CHDDAAAB" title="TSDP Views">Table 13-5</a> describes these views. Before you can use these views, you must be granted the <code class="codeph">SELECT_CATALOG_ROLE</code> role.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E__CHDDAAAB">
                     <p class="titleintable">Table 13-5 Transparent Sensitive Data Protection Views</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Transparent Sensitive Data Protection Views" summary="TSDP Views" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="40%" id="d105132e10068">View</th>
                              <th align="left" valign="bottom" width="60%" id="d105132e10071">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10076" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_DISCOVERY_SOURCE</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10076 d105132e10071 ">
                                 <p>Describes discovery import information with regard to transparent sensitive data protection policies</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10084" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_SENSITIVE_COLUMN_TYPES</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10084 d105132e10071 ">
                                 <p>Describes the sensitive column types that have been defined for the current database</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10092" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_SENSITIVE_DATA</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10092 d105132e10071 ">
                                 <p>Describes the sensitive columns in the database</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10100" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_IMPORT_ERRORS</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10100 d105132e10071 ">
                                 <p>Shows information regarding the errors encountered during import of discovery result. It shows information with regard to the error code, schema name, table name, column name, and sensitive type.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10108" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_CONDITION</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10108 d105132e10071 ">
                                 <p>Describes the transparent sensitive data protection policy and condition mapping. This view also lists the property-value pairs for the condition.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10116" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_FEATURE</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10116 d105132e10071 ">
                                 <p>Shows the transparent sensitive data protection policy security feature mapping. (At this time, only Oracle Data Redaction and Oracle Virtual Private Database are supported.)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10124" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_PARAMETER</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10124 d105132e10071 ">
                                 <p>Describes the parameters of transparent sensitive data protection policies</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10132" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_PROTECTION</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10132 d105132e10071 ">
                                 <p>Shows the list of columns that have been protected through transparent sensitive data protection </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10140" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_TYPE</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10140 d105132e10071 ">
                                 <p>Shows the policy to sensitive column type mapping</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E__GUID-F9E14249-6728-41AF-9D0A-3E42AACF6BAB">
                     <p class="notep1">See Also:</p><a href="../refrn/index.html" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about these views
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data.">Using Transparent Sensitive Data Protection</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>