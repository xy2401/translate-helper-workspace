<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data."></meta>
      <meta name="description" content="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data."></meta>
      <title>使用透明敏感数据保护</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="Transparent sensitive data protection enables you to find all table columns in a database that hold sensitive data."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-oracle-vpd-to-control-data-access.html" title="Previous" type="text/html"></link>
      <link rel="next" href="encrypt-sensitive-data.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-oracle-vpd-to-control-data-access.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="encrypt-sensitive-data.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_3.html" property="item" typeof="WebPage"><span property="name">控制对数据的访问</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用透明敏感数据保护</li>
            </ol>
            <a id="GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" name="GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5"></a><a id="DBSEG1055"></a><a id="DBSEG855"></a>
            
            <h2 id="DBSEG-GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" class="sect2"><span class="enumeration_chapter">13</span>使用透明敏感数据保护</h2>
         </header>
         <div class="ind">
            <div>
               <div><span>透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。</span></div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0CE739D4-D424-4034-B039-70937F5A42AE">关于透明敏感数据保护</a><br>透明敏感数据保护是一种查找和分类包含敏感信息的表列的方法。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA">使用透明敏感数据保护的一般步骤</a><br>要将TSDP与Oracle Data Redaction一起使用，您必须遵循一组常规步骤。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CA2E4121-66F6-4ACE-8466-AFFA207158A8">透明敏感数据保护策略的用例</a><br>透明的敏感数据保护有几个好处。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-1AE9A460-A540-4C90-A01A-0C989688E301">使用透明敏感数据保护所需的权限</a><br>要使用透明敏感数据保护，您必须具有多个PL / SQL包的<code class="codeph">EXECUTE</code>特权。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0AC97E6B-9B00-4D20-8F26-8B23896DDD3C">多租户环境如何影响透明敏感数据保护</a><br><span>在多租户环境中，您可以将透明敏感数据保护策略仅应用于当前PDB或当前应用程序PDB。</span></li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005">创建透明的敏感数据保护策略</a><br>您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-5F832A16-DA46-4A12-A9BD-4AD5C6518556">改变透明敏感数据保护政策</a><br><code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程可以更改<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>策略。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-2D2FFBE5-0A93-4540-824F-5FC99A027EF0">禁用透明敏感数据保护策略</a><br><code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code>过程禁用一个或所有<code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code>策略。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CE169445-2AC5-4E45-8537-D731496DBCCC">删除透明敏感数据保护策略</a><br>您可以从策略中删除整个TSDP策略或条件启用选项组合。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB">使用预定义的REDACT_AUDIT策略来屏蔽绑定值</a><br>预定义的<code class="codeph">REDACT_AUDIT</code>策略掩码绑定值，这些值可在设置事件时显示在跟踪文件中。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74">具有数据编辑功能的透明敏感数据保护策略</a><br>Oracle Data Redaction功能可与透明的敏感数据保护策略配合使用。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65">将透明敏感数据保护策略与Oracle VPD策略配合使用</a><br>您可以将TSDP和Oracle虚拟专用数据库的保护组合到一个策略中。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687">将透明敏感数据保护策略与统一审计结合使用</a><br>透明的敏感数据保护和统一的审计程序可以结合这两个功能的保护。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8">使用具有细粒度审计的透明敏感数据保护策略</a><br>透明的敏感数据保护和细粒度的审计程序可以结合这两个功能的保护。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5">使用透明敏感数据保护策略和TDE列加密</a><br>TSDP过程和透明数据加密列加密语句可以结合这两个功能的保护。
                  </li>
                  <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E">透明敏感数据保护数据字典视图</a><br>Oracle数据库提供数据字典视图，列出有关透明敏感数据保护策略的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_3.html" title="第III部分介绍了如何控制对数据的访问。">控制对数据的访问</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG856"></a><div class="props_rev_3"><a id="GUID-0CE739D4-D424-4034-B039-70937F5A42AE" name="GUID-0CE739D4-D424-4034-B039-70937F5A42AE"></a><h3 id="DBSEG-GUID-0CE739D4-D424-4034-B039-70937F5A42AE" class="sect3">关于透明敏感数据保护</h3>
               <div>
                  <p>透明敏感数据保护是一种查找和分类包含敏感信息的表列的方法。</p>
                  <p>通过此功能，您可以快速查找包含敏感数据的数据库中的表列，对此数据进行分类，然后创建一个策略来保护给定类的整个数据。此类敏感数据的示例是信用卡号或社会保险号。</p>
                  <p>然后，TSDP策略使用Oracle Data Redaction或Oracle Virtual Private Database设置保护这些表列中的敏感数据。TSDP策略适用于要保护的表的列级别，以特定列数据类型为目标，例如包含信用卡信息的列的所有<code class="codeph">NUMBER</code>数据类型。您可以为所分类的所有数据创建统一的TSDP策略，然后在合规性规则发生变化时根据需要修改此策略。（可选）您可以导出TSDP策略以在其他数据库中使用。
                  </p>
                  <p>TSDP策略的好处是巨大的：您可以轻松地在具有大量数据库的大型组织中创建和应用TSDP策略。这有助于审计人员估计对TSDP策略所针对的数据的保护，从而极大地帮助审计人员。TSDP对于政府环境特别有用，在这些环境中，您可能拥有大量具有类似安全限制的数据，并且必须始终如一地对所有这些数据应用策略。策略可以是编辑它，加密它，控制对它的访问，审计对它的访问，并在审计跟踪中屏蔽它。如果没有TSDP，则必须逐列配置每个编校策略，列级加密配置和虚拟专用数据库策略。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG399"></a><div class="props_rev_3"><a id="GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA" name="GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA"></a><h3 id="DBSEG-GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA" class="sect3">使用透明敏感数据保护的一般步骤</h3>
               <div>
                  <p>要将TSDP与Oracle Data Redaction一起使用，您必须遵循一组常规步骤。</p>
                  <ol>
                     <li class="stepexpand"><span>创建敏感类型以对要保护的列类型进行分类。</span><div>
                           <p>例如，您可以创建一种敏感类型，用于对所有社会安全号码或信用卡号码进行分类。要创建敏感类型，请使用<code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE</code> PL / SQL过程或使用企业管理器云控制应用程序数据模型。要从应用程序数据模型在一个操作中添加多个敏感类型，可以使用<code class="codeph">DBMS_TSDP_MANAGE.IMPORT_SENSITIVE_TYPES</code>过程。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand" id="GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA__CACDCJJB"><span>标识与敏感类型关联的敏感列的列表。</span><div>
                           <p>要确定并生成此列表，可以使用以下任一方法：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN</code>过程分别标识敏感列。
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle Enterprise Manager云控制应用程序数据模型使您可以识别一组敏感列。然后，它以XML格式准备此敏感列列表，然后将其导入数据库。</p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>如果您使用步骤<a href="using-transparent-sensitive-data-protection.html#GUID-C13D17AA-5304-4FCC-9C5A-324ABEA297FA__CACDCJJB">2</a>的应用程序数据模型，则使用<code class="codeph">DBMS_TSDP_MANAGE.IMPORT_DISCOVERY_RESULT</code>过程将敏感列的列表从应用程序数据模型导入到数据库中。</span></li>
                     <li class="stepexpand"><span>使用匿名块中的<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程创建<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>策略，该过程定义要使用的数据编辑或虚拟专用数据库设置。</span></li>
                     <li class="stepexpand"><span>使用<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>过程将<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>策略与一个或多个敏感类型相关<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code> 。</span></li>
                     <li class="stepexpand"><span>使用<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_SOURCE</code> ， <code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_COLUMN</code>或<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_TYPE</code>过程启用<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_SOURCE</code>策略保护。</span></li>
                     <li class="stepexpand"><span>（可选）使用Oracle Data Pump将TSDP策略导出到其他数据库以执行完整数据库导出。（您无法单独导出TSDP策略。）</span></li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG857"></a><div class="props_rev_3"><a id="GUID-CA2E4121-66F6-4ACE-8466-AFFA207158A8" name="GUID-CA2E4121-66F6-4ACE-8466-AFFA207158A8"></a><h3 id="DBSEG-GUID-CA2E4121-66F6-4ACE-8466-AFFA207158A8" class="sect3">透明敏感数据保护策略的用例</h3>
               <div>
                  <p>透明的敏感数据保护有几个好处。</p>
                  <p>这些好处如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">您配置一次敏感数据保护，然后根据需要部署此保护。</span>您可以配置透明的敏感数据保护策略，以指定必须如何保护一类数据（例如，信用卡列），而无需实际指定目标数据。换句话说，在创建透明敏感数据保护策略时，不需要包含对要保护的实际目标列的引用。透明敏感数据保护策略根据数据库中敏感列的列表以及策略与指定敏感类型的关联来查找这些目标列。在创建透明敏感数据保护策略后向数据库中添加更多敏感数据时，这非常有用。创建策略后，您可以在一个步骤中启用对敏感数据的保护（例如，基于整个源数据库启用保护）。敏感类型的新数据以及敏感类型和策略关联决定了敏感数据的保护方式。这样，添加新的敏感数据时，只要满足当前透明敏感数据保护策略的要求，就不需要配置其保护。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">您可以管理多个敏感列的保护。</span> 您可以根据合适的属性（例如标识的源数据库，敏感类型本身或特定的架构，表或列）启用或禁用对多个敏感列的保护。这种粒度提供了对数据安全性的高级控制。通过此功能的设计，您可以根据符合这些合规性法规的大型数据集的特定合规性需求来管理数据安全性。您可以根据特定类别而不是每个列配置数据安全性。例如，您可以配置信用卡号或社会保险号的保护，但不需要为包含此数据的数据库中的每个列配置保护。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">您可以保护使用Oracle Enterprise Manager云控制应用程序数据建模（ADM）功能标识的敏感列。</span> 您可以使用Cloud Control ADM功能创建敏感类型并发现敏感列的列表。然后，您可以将此敏感列及其相应的敏感类型列表导入数据库。从那里，您可以使用此信息创建和管理透明的敏感数据保护策略。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG858"></a><div class="props_rev_3"><a id="GUID-1AE9A460-A540-4C90-A01A-0C989688E301" name="GUID-1AE9A460-A540-4C90-A01A-0C989688E301"></a><h3 id="DBSEG-GUID-1AE9A460-A540-4C90-A01A-0C989688E301" class="sect3">使用透明敏感数据保护所需的权限</h3>
               <div>
                  <p>要使用透明敏感数据保护，您必须具有多个PL / SQL包的<code class="codeph">EXECUTE</code>特权。
                  </p>
                  <p>这些权限如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">DBMS_TSDP_MANAGE</code> ，使您可以将敏感列和敏感类型导入和管理到数据库中。此包中的过程使用调用者的权限执行。通常，应用程序数据库管理员将被授予此程序包的权限。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_TSDP_PROTECT</code> ，用于创建<code class="codeph">DBMS_TSDP_PROTECT</code>策略。此包中的过程使用调用者的权限执行。通常，安全数据库管理员将被授予此程序包的权限。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_REDACT</code> ，如果您计划创建数据编辑策略。通常，安全数据库管理员将被授予此程序包的权限。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">DBMS_RLS</code> ，如果您计划将Oracle虚拟专用数据库功能合并到TSDP策略中。通常，安全数据库管理员将被授予此程序包的权限。
                        </p>
                     </li>
                  </ul>
                  <p>对于责任更好地分离，这些包的设计使得无论是应用程序数据库管理员对TSDP策略创建的一个区域控制（如在的情况下<code class="codeph">DBMS_TSDP_MANAGE</code>或包装）安全数据库管理员（用于<code class="codeph">DBMS_TSDP_PROTECT</code> ， <code class="codeph">DBMS_REDACT</code>和<code class="codeph">DBMS_RLS</code>包）。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG1017"></a><div class="props_rev_3"><a id="GUID-0AC97E6B-9B00-4D20-8F26-8B23896DDD3C" name="GUID-0AC97E6B-9B00-4D20-8F26-8B23896DDD3C"></a><h3 id="DBSEG-GUID-0AC97E6B-9B00-4D20-8F26-8B23896DDD3C" class="sect3">多租户环境如何影响透明敏感数据保护</h3>
               <div>
                  <p><span>在多租户环境中，您可以将透明敏感数据保护策略仅应用于当前PDB或当前应用程序PDB。</span></p>
                  <p>如果您使用的是企业管理器云控制应用程序数据模型，则可以在PDB中找到属于本地和公共应用程序对象（即，当前PDB中可见和可访问的公共对象）的敏感列。这使您可以使用TSDP策略来保护PDB的本地对象和可从PDB访问的公共对象。</p>
                  <p>在应用程序根目录中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于一般的应用程序容器：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为应用程序安装，升级，修补或卸载操作创建脚本时，可以在<code class="codeph">ALTER PLUGGABLE DATABASE <span class="codeinlineitalic">app_name</span> BEGIN INSTALL</code>和<code class="codeph">ALTER PLUGGABLE DATABASE <span class="codeinlineitalic">app_name</span> END INSTALL</code>块中包含SQL语句以执行各种操作。如果在这些块中包含TSDP语句，则TSDP语句将失败。但是，您可以在脚本中的这些块之外包含TSDP语句。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>在应用程序根目录中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您可以在应用程序公共对象和应用程序根本地对象中执行TSDP操作。</p>
                           </li>
                           <li>
                              <p>在应用程序根容器中定义的TSDP策略的行为就像它是应用程序根目录的本地策略一样。也就是说，该策略仅在应用程序根容器中有效。</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p>在应用程序PDB中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>保护应用程序PDB的安全策略适用于在本地应用程序对象上执行的TSDP操作。</p>
                     </li>
                     <li>
                        <p>保护应用程序PDB的安全策略适用于对从PDB访问的应用程序公共对象执行的TSDP操作。但是，对应用程序PDB外部的应用程序公共对象的访问不受保护应用程序PDB的安全策略的控制。</p>
                     </li>
                  </ul>
                  <p>您可以通过查询<span class="apiname" translate="no">DBA_TSDP_POLICY_FEATURE</span>数据字典视图<span class="apiname" translate="no">DBA_TSDP_POLICY_FEATURE</span>策略列表以及与之关联的安全功能。要查找所有PDB，请查询<span class="apiname" translate="no">DBA_PDBS</span>视图。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG859"></a><div class="props_rev_3"><a id="GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" name="GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005"></a><h3 id="DBSEG-GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" class="sect3">创建透明的敏感数据保护策略</h3>
               <div>
                  <p>您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894">第1步：创建敏感类型</a><br>敏感类型是您指定为敏感的一类数据。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-3DFB5495-BBC7-4CC7-BA7D-430B8110809E">第2步：确定要保护的敏感列</a><br>定义敏感列后，您就可以识别要保护的列。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-AC59785C-31C0-4176-9E9C-7882BB8E9794">第3步：将敏感列列表从ADM导入您的数据库</a><br>接下来，您可以将ADM中的敏感列列表导入数据库。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1">第4步：创建透明敏感数据保护策略</a><br>创建敏感列列表并将此列表导入数据库后，可以创建透明敏感数据保护策略。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-29C112CD-7BF0-4CEB-AC4D-FBE907FBF1A4">步骤5：将策略与敏感类型相关联</a><br><code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>过程将<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>策略与敏感类型相关联。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-77BF7446-243A-493B-A3FC-E889268A6289">步骤6：启用透明敏感数据保护策略</a><br>您可以在受保护的源，特定的表列或特定的列类型中为当前数据库启用TSDP策略。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-B75AD559-F252-4241-BC50-8646F0755A68">步骤7：（可选）将策略导出到其他数据库</a><br>您可以将策略导出或导入到其他数据库或从其导入。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG861"></a><div class="props_rev_3"><a id="GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894" name="GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894"></a><h4 id="DBSEG-GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894" class="sect4">第1步：创建敏感类型</h4>
                  <div>
                     <p>敏感类型是您指定为敏感的一类数据。</p>
                     <div class="section">
                        <p>例如，您可以为所有信用卡号创建<code class="codeph">credit_card_type</code>敏感类型。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要创建敏感类型，请从企业管理器云控制应用程序数据模型创建它，或使用<code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE</code> PL / SQL过程。
                              </p>
                              <p>要删除敏感类型，可以使用<code class="codeph">DBMS_TSDP_MANAGE.DROP_SENSITIVE_TYPE</code>过程。
                              </p>
                           </li>
                        </ul>
                        <p>例如，要创建敏感类型<code class="codeph">credit_card_num_type</code> ：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE（sensitive_type =&gt;'credit_card_num_type'，user_comment =&gt;'使用数字数据类型的信用卡列类型'）;结束; /</pre><p>在这个例子中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">sensitive_type</code> ：创建一个描述要捕获的敏感类型的名称。此值区分大小写，因此稍后引用时，请确保使用创建它的大小写。您可以通过查询<code class="codeph">DBA_SENSITIVE_COLUMN_TYPES</code>数据字典视图来查找现有的敏感类型。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">user_comment</code> :(可选）输入敏感类型的描述。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-878B9AB0-DBE6-4F2D-8FF5-9A5F82546894__GUID-959BEF35-6553-44BF-8EAB-EFF1DDCE5DFC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关应用程序数据模型的详细信息，请参阅<a href="../ratug/index.html" target="_blank"><span><cite>Oracle Database Testing Guide</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_TSDP_MANAGE.html#ARPLS74654" target="_blank"><span><cite>Oracle Database PL / SQL包和类型</cite></span></a>有关<code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE</code> PL / SQL过程的<a href="../arpls/DBMS_TSDP_MANAGE.html#ARPLS74654" target="_blank"><span><cite>参考</cite></span></a>信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。">创建透明敏感数据保护策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG860"></a><div class="props_rev_3"><a id="GUID-3DFB5495-BBC7-4CC7-BA7D-430B8110809E" name="GUID-3DFB5495-BBC7-4CC7-BA7D-430B8110809E"></a><h4 id="DBSEG-GUID-3DFB5495-BBC7-4CC7-BA7D-430B8110809E" class="sect4">第2步：确定要保护的敏感列</h4>
                  <div>
                     <p>定义敏感列后，您就可以识别要保护的列。</p>
                     <div class="section">
                        <p>要根据您定义的敏感类型识别要保护的列，您可以使用企业管理器云控制应用程序数据模型来标识这些列，也可以使用<code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN</code>过程。
                        </p>
                        <p>要从数据库的敏感列列表中删除该列，可以使用<code class="codeph">DBMS_TSDP_MANAGE.DROP_SENSITIVE_COLUMN</code>过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>找到要使用的敏感类型。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">从DBA_SENSITIVE_COLUMN_TYPES中选择名称; NAME --------------------- credit_card_num_type</pre></div>
                        </li>
                        <li class="stepexpand"><span>执行<code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN</code>过程以将敏感类型与表列关联。确保使用用于创建敏感类型的大小写输入<code class="codeph">sensitive_type</code>参数。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN（schema_name =&gt;'OE'，table_name =&gt;'CUST_CC'，column_name =&gt;'CREDIT_CARD'，sensitive_type =&gt;'credit_card_num_type'，user_comment =&gt;'credit_card_num_type'的敏感列添加'）;结束; /</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。">创建透明敏感数据保护策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG862"></a><div class="props_rev_3"><a id="GUID-AC59785C-31C0-4176-9E9C-7882BB8E9794" name="GUID-AC59785C-31C0-4176-9E9C-7882BB8E9794"></a><h4 id="DBSEG-GUID-AC59785C-31C0-4176-9E9C-7882BB8E9794" class="sect4">第3步：将敏感列列表从ADM导入您的数据库</h4>
                  <div>
                     <p>接下来，您可以将ADM中的敏感列列表导入数据库。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果已使用应用程序数据模型创建敏感列的列表，则通过运行<code class="codeph">DBMS_TSDP_MANAGE.IMPORT_DISCOVERY_RESULT</code>过程将此列表导入数据库。
                              </p>
                              <p>如果您已使用<code class="codeph">DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN</code>过程来标识这些列，则可以绕过此步骤。
                              </p>
                           </li>
                        </ul>
                        <p>例如，要将Cloud Control应用程序数据模型导入当前数据库：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_MANAGE.IMPORT_DISCOVERY_RESULT（discovery_result =&gt; xml_adm_result，discovery_source =&gt;'ADM_Demo'）;结束; /</pre><p>在这个例子中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">discovery_result</code>是指敏感列及其相关敏感类型的列表。此列表采用XML格式。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">discover_source</code>是指包含<code class="codeph">discovery_result</code>设置引用的敏感列列表的应用程序数据模型的名称。您可以从Enterprise Manager Cloud Control中的“数据发现和建模”页面中找到应用程序数据模型的列表。（要访问此页面，请从“ <span class="bold">企业”</span>菜单中选择“ <span class="bold">质量管理”</span> ，然后选择“ <span class="bold">数据发现和建模”</span> 。您可以在“ <span class="bold">敏感列”</span>选项卡中找到敏感列及其关联类型的列表。）
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。">创建透明敏感数据保护策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG863"></a><div class="props_rev_3"><a id="GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" name="GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1"></a><h4 id="DBSEG-GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" class="sect4">第4步：创建透明敏感数据保护策略</h4>
                  <div>
                     <p>创建敏感列列表并将此列表导入数据库后，可以创建透明敏感数据保护策略。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CA684B8E-4ACA-4322-B148-7DAC1F6717E8">关于创建透明敏感数据保护策略</a><br><code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程创建透明敏感数据保护策略。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737">创建透明的敏感数据保护策略</a><br>您可以创建透明的敏感数据保护策略，该策略使用基于部分号数据类型的数据编辑策略。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F">设置Oracle数据编辑或虚拟专用数据库功能选项</a><br>TSDP功能选项描述了用于透明敏感数据保护策略的Oracle数据编辑或虚拟专用数据库设置。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-604308CD-C50A-4918-BEC7-474B437F0920">设置透明敏感数据保护策略的条件</a><br>（可选）您可以指定透明敏感数据保护策略的条件。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8">指定DBMS_TSDP_PROTECT.ADD_POLICY过程</a><br><code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程命名<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>策略并执行<code class="codeph">FEATURE_OPTIONS</code>和<code class="codeph">POLICY_CONDITIONS</code>设置。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。">创建透明敏感数据保护策略</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG1072"></a><div class="props_rev_3"><a id="GUID-CA684B8E-4ACA-4322-B148-7DAC1F6717E8" name="GUID-CA684B8E-4ACA-4322-B148-7DAC1F6717E8"></a><h5 id="DBSEG-GUID-CA684B8E-4ACA-4322-B148-7DAC1F6717E8" class="sect5">关于创建透明敏感数据保护策略</h5>
                     <div>
                        <p><code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程创建透明敏感数据保护策略。
                        </p>
                        <p>确定敏感列后，如果已使用应用程序数据模型创建敏感列列表，并将此列表导入数据库，则可以创建透明敏感数据保护策略。要创建透明敏感数据保护策略，必须为要使用的虚拟专用数据库或Oracle数据编辑设置配置该策略，然后将这些设置应用于由<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>定义的透明敏感数据保护策略。</p>
                        <p>您可以通过定义具有以下组件的匿名块来创建策略：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果您正在为策略使用Oracle Data Redaction，那么您要使用的数据编辑类型的规范，例如部分数据编辑</p>
                           </li>
                           <li>
                              <p>如果您使用Oracle虚拟专用数据库作为策略，则需要使用的VPD设置规范</p>
                           </li>
                           <li>
                              <p>启用策略时要测试的条件。例如，可以启用策略之前应该满足的列的数据类型。</p>
                           </li>
                           <li>
                              <p>一种命名的透明敏感数据保护策略，通过使用<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程将这些组件绑定在一起</p>
                           </li>
                        </ul>
                        <p>创建敏感类型后，它将驻留在<code class="codeph">SYS</code>架构中。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="本教程演示了如何将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合。">教程：创建使用虚拟专用数据库保护的TSDP策略</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="创建敏感列列表并将此列表导入数据库后，可以创建透明敏感数据保护策略。">步骤4：创建透明敏感数据保护策略</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG868"></a><a id="DBSEG1073"></a><div class="props_rev_3"><a id="GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737" name="GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737"></a><h5 id="DBSEG-GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737" class="sect5">创建透明的敏感数据保护策略</h5>
                     <div>
                        <p>您可以创建透明的敏感数据保护策略，该策略使用基于部分号数据类型的数据编辑策略。</p>
                        <div class="section">
                           <p><a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">例13-1</a>显示了如何创建此类策略。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要创建策略，请使用<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程，如<a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">例13-1</a>所示。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">
                           <p class="titleinexample">示例13-1创建透明的敏感数据保护策略</p><pre class="pre codeblock"><code>DECLARE redact_feature_options DBMS_TSDP_PROTECT.FEATURE_OPTIONS; policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS; BEGIN redact_feature_options（'expression'）：='SYS_CONTEXT（''USERENV''，''SESSION_USER''）=''APPUSER'''; redact_feature_options（'function_type'）：='DBMS_REDACT.PARTIAL'; redact_feature_options（'function_parameters'）：='0,1,6'; policy_conditions（DBMS_TSDP_PROTECT.DATATYPE）：='NUMBER'; policy_conditions（DBMS_TSDP_PROTECT.LENGTH）：='16'; DBMS_TSDP_PROTECT.ADD_POLICY（'redact_partial_cc'，DBMS_TSDP_PROTECT.REDACT，redact_feature_options，policy_conditions）;结束; /</code></pre><p>在这个例子中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">redact_feature_options DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code>创建变量<code class="codeph">redact_feature_options</code> ，它使用<code class="codeph">FEATURE_OPTIONS</code>数据类型。有关更多信息，请参阅<a href="using-transparent-sensitive-data-protection.html#GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F" title="TSDP功能选项描述了用于透明敏感数据保护策略的Oracle数据编辑或虚拟专用数据库设置。">设置Oracle数据编辑或虚拟专用数据库功能选项</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS</code>创建变量<code class="codeph">policy_conditions</code> ，它使用<code class="codeph">POLICY_CONDITIONS</code>数据类型。有关详细信息，请参阅<a href="using-transparent-sensitive-data-protection.html#GUID-604308CD-C50A-4918-BEC7-474B437F0920" title="（可选）您可以指定透明敏感数据保护策略的条件。">设置透明敏感数据保护策略的</a>条件。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">redact_feature_options</code>行（3）将数据编辑策略设置写入<code class="codeph">redact_feature_option</code>变量。此示例将数据编辑策略应用于用户<code class="codeph">APPUSER</code> ，并将策略定义为数字数据类型的部分数据编校。有关<code class="codeph">function_parameters</code>参数如何适用于此案例的信息，请参见“ <a href="../asoag/configuring-oracle-data-redaction-policies.html#ASOAG817" target="_blank"><span class="italic">Oracle数据库高级安全性指南”</span></a> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">policy_conditions</code>行（2）将<code class="codeph">policy_conditions</code>策略条件写入受保护的<code class="codeph">NUMBER</code>数据类型列的<code class="codeph">policy_conditions</code>变量（即数据类型和长度）。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>执行<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程，该过程创建<code class="codeph">redact_partial_cc</code>策略。有关更多信息，请参阅<a href="using-transparent-sensitive-data-protection.html#GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8" title="DBMS_TSDP_PROTECT.ADD_POLICY过程命名TSDP策略并执行FEATURE_OPTIONS和POLICY_CONDITIONS设置。">指定DBMS_TSDP_PROTECT.ADD_POLICY过程</a> 。
                                 </p>
                              </li>
                           </ul>
                           <p>如果要查看VPD类似策略的示例，请参阅<a href="using-transparent-sensitive-data-protection.html#GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00" title="创建VPD策略功能后，可以将其与透明的敏感数据保护策略相关联。">步骤4：创建并启用透明敏感数据保护策略</a> 。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="创建敏感列列表并将此列表导入数据库后，可以创建透明敏感数据保护策略。">步骤4：创建透明敏感数据保护策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1074"></a><div class="props_rev_3"><a id="GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F" name="GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F"></a><h5 id="DBSEG-GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F" class="sect5">设置Oracle数据编辑或虚拟专用数据库功能选项</h5>
                     <div>
                        <p>TSDP功能选项描述了用于透明敏感数据保护策略的Oracle数据编辑或虚拟专用数据库设置。</p>
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于数据编辑，使用名称<code class="codeph">redact_feature_options</code>变量定义功能选项，对于类型，必须使用类型<code class="codeph">DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code> ，它是数据类型<code class="codeph">VARCHAR2(TSDP_PARAM_MAX</code> ）的关联数组。使用与<code class="codeph">DBMS_REDACT.ADD_POLICY</code>参数对应的参数值对初始化这些选项。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，要指定使用部分数据编辑的TSDP策略， <a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">示例13-1</a>显示以下参数值对：</p><pre class="oac_no_warn" dir="ltr">redact_feature_options（'function_type'）：='DBMS_REDACT.PARTIAL';</pre><p>对于使用受保护列的数字数据类型的部分数据编辑策略， <a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">示例13-1</a>指定了以下附加参数 - 值对：</p><pre class="oac_no_warn" dir="ltr">redact_feature_options（'expression'）：=' <span class="italic">expression</span> '; redact_feature_options（'function_parameters'）：=' <span class="italic">values</span> ';</pre><p>同样，对于虚拟专用数据库，您可以使用<code class="codeph">vpd_feature_options</code>变量来定义VPD功能选项。例如：</p><pre class="oac_no_warn" dir="ltr">vpd_feature_options（'statement_types'）：='SELECT，INSERT，UPDATE，DELETE';</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3F6E8B18-D825-4C3C-AC12-1542B773AE3F__GUID-0A56B778-1A0F-462D-9AA7-0B0A7203A206">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关Data Redaction策略创建参数的详细信息，请参见<a href="../asoag/configuring-oracle-data-redaction-policies.html#ASOAG608" target="_blank"><span><cite>“Oracle数据库高级安全性指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="using-transparent-sensitive-data-protection.html#GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901" title="Oracle数据库提供了一组用于微调TSDP策略行为的参数。">DBMS_RLS.ADD_POLICY用于TSDP策略</a>的参数，以获取有关可用VPD参数的更多信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="创建敏感列列表并将此列表导入数据库后，可以创建透明敏感数据保护策略。">步骤4：创建透明敏感数据保护策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1075"></a><div class="props_rev_3"><a id="GUID-604308CD-C50A-4918-BEC7-474B437F0920" name="GUID-604308CD-C50A-4918-BEC7-474B437F0920"></a><h5 id="DBSEG-GUID-604308CD-C50A-4918-BEC7-474B437F0920" class="sect5">设置透明敏感数据保护策略的条件</h5>
                     <div>
                        <p>（可选）您可以指定透明敏感数据保护策略的条件。</p>
                        <div class="section">
                           <p>但是，如果选择省略条件，则仍必须在<code class="codeph">DECLARE</code>变量中包含以下行。（在这种情况下， <code class="codeph">policy_conditions</code>的默认值是一个空的关联数组。）
                           </p><pre class="oac_no_warn" dir="ltr">policy_conditions SYS.DBMS_TSDP_PROTECT.POLICY_CONDITIONS;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要定义条件， <code class="codeph">policy_conditions</code>为变量和类型使用名称<code class="codeph">policy_conditions</code> ，使用类型<code class="codeph">DBMS_TSDP_PROTECT.POLICY_CONDITIONS</code> ，它是数据类型<code class="codeph">VARCHAR2(TSDP_PARAM_MAX)</code>的关联数组。确保单个目标敏感列不满足两个条件。目标列的属性应满足要在列上应用的相应<code class="codeph">DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code>设置的所有条件属性</p>
                              </li>
                           </ul>
                           <p><a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">例13-1</a>显示了如下的策略条件：</p><pre class="oac_no_warn" dir="ltr">policy_conditions（DBMS_TSDP_PROTECT.DATATYPE）：='NUMBER'; policy_conditions（DBMS_TSDP_PROTECT.LENGTH）：='16';</pre><p>（可选）您可以为<code class="codeph">POLICY_CONDITIONS</code>设置指定以下一个或多个键：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.DATATYPE</code>使您可以指定数据类型。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.LENGTH</code>使您可以为<code class="codeph">DBMS_TSDP_PROTECT.DATATYPE</code>键指定数据类型长度。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.PARENT_SCHEMA</code>使您可以将策略限制为特定架构。如果省略此设置，则策略将应用于数据库中的所有模式。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DBMS_TSDP_PROTECT.PARENT_TABLE</code>使您可以将策略限制为<code class="codeph">DBMS_TSDP_PROTECT.PARENT_SCHEMA</code>键指定的表。如果省略此设置，则策略将应用于指定架构中的所有表。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="创建敏感列列表并将此列表导入数据库后，可以创建透明敏感数据保护策略。">步骤4：创建透明敏感数据保护策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1076"></a><div class="props_rev_3"><a id="GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8" name="GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8"></a><h5 id="DBSEG-GUID-53E3CA3C-047D-456C-87AC-2489175DD5C8" class="sect5">指定DBMS_TSDP_PROTECT.ADD_POLICY过程</h5>
                     <div>
                        <p><code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程命名<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>策略并执行<code class="codeph">FEATURE_OPTIONS</code>和<code class="codeph">POLICY_CONDITIONS</code>设置。
                        </p>
                        <div class="section">
                           <p>在政策方面， <code class="codeph">redact_feature_options</code>和<code class="codeph">policy_conditions</code>设置一起工作：当策略已启用（使用任何的<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION</code> *程序）在目标对象上，那么<code class="codeph">redact_feature_options</code>设置应用只有在相应的<code class="codeph">policy_condition</code>设置感到满意。您必须输入以下参数：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要指定命名透明敏感数据保护策略并执行必要设置的过程，请包括以下参数：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">policy_name</code>为TSDP策略创建名称。您输入的名称使用您在创建时使用的区分大小写存储在数据库中。例如，如果您输入了<code class="codeph">redact_partial_cc</code> ，则数据库将其存储为<code class="codeph">redact_partial_cc</code> ，而不是<code class="codeph">redact_partial_cc</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">security_feature</code>是指TSDP策略将使用的安全功能。输入<code class="codeph">DBMS_TSDP_PROTECT.REDACT</code>以指定Oracle数据编辑。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">policy_enable_options</code>指的是您为<code class="codeph">DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code>类型定义的变量。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">policy_apply_condition</code>指的是您为<code class="codeph">DBMS_TSDP_PROTECT.POLICY_CONDITIONS</code>类型定义的变量。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p><a href="using-transparent-sensitive-data-protection.html#GUID-CD6EEC83-B8F1-4821-B5D1-1C6A49708737__CACDHDGJ">例13-1</a>显示了如下策略集：</p><pre class="oac_no_warn" dir="ltr">DBMS_TSDP_PROTECT.ADD_POLICY（'redact_partial_cc'，DBMS_TSDP_PROTECT.REDACT，redact_feature_options，policy_conditions）;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-C302C5BB-572C-4F9B-865E-563063C4CCF1" title="创建敏感列列表并将此列表导入数据库后，可以创建透明敏感数据保护策略。">步骤4：创建透明敏感数据保护策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG872"></a><div class="props_rev_3"><a id="GUID-29C112CD-7BF0-4CEB-AC4D-FBE907FBF1A4" name="GUID-29C112CD-7BF0-4CEB-AC4D-FBE907FBF1A4"></a><h4 id="DBSEG-GUID-29C112CD-7BF0-4CEB-AC4D-FBE907FBF1A4" class="sect4">步骤5：将策略与敏感类型相关联</h4>
                  <div>
                     <p><code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>过程将<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>策略与敏感类型相关联。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>找到要使用的敏感类型。</span><div>
                              <p>例如，要查找所有敏感类型的列表：</p><pre class="oac_no_warn" dir="ltr">按名称从DBA_SENSITIVE_COLUMN_TYPES中选择名称; NAME -------------------- credit_card_num_type</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>过程以将策略与敏感列类型相关联。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.ASSOCIATE_POLICY（policy_name =&gt;'redact_partial_cc'，sensitive_type =&gt;'credit_card_num_type'，associate =&gt; true）;结束; /</pre><p>以下查询显示<code class="codeph">credit_card_num_type</code>现在与<code class="codeph">redact_partial_cc</code>策略相关联。
                              </p><pre class="oac_no_warn" dir="ltr">SELECT POLICY_NAME，SENSITIVE_TYPE FROM DBA_TSDP_POLICY_TYPE ORDER BY SENSITIVE_TYPE; POLICY_NAME SENSITIVE_TYPE ----------------- -------------------- redact_partial_cc credit_card_num_type</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。">创建透明敏感数据保护策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG873"></a><div class="props_rev_3"><a id="GUID-77BF7446-243A-493B-A3FC-E889268A6289" name="GUID-77BF7446-243A-493B-A3FC-E889268A6289"></a><h4 id="DBSEG-GUID-77BF7446-243A-493B-A3FC-E889268A6289" class="sect4">步骤6：启用透明敏感数据保护策略</h4>
                  <div>
                     <p>您可以在受保护的源，特定的表列或特定的列类型中为当前数据库启用TSDP策略。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-30D4D369-00F8-4785-9BAC-2F3EE1FB7530">为受保护源中的当前数据库启用保护</a><br>您可以为受保护源中的当前数据库启用透明敏感数据保护。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0AFF5E8F-0010-4A1A-88C0-4C961BBCF487">启用特定表列的保护</a><br>您可以为表中的特定列启用透明敏感数据保护。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-CFF73F1F-30DD-4D1A-9D1C-B5DB2411E477">启用特定列类型的保护</a><br>您可以为特定列类型启用透明敏感数据保护，例如使用<code class="codeph">VARCHAR2</code>数据类型的所有列。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。">创建透明敏感数据保护策略</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG874"></a><div class="props_rev_3"><a id="GUID-30D4D369-00F8-4785-9BAC-2F3EE1FB7530" name="GUID-30D4D369-00F8-4785-9BAC-2F3EE1FB7530"></a><h5 id="DBSEG-GUID-30D4D369-00F8-4785-9BAC-2F3EE1FB7530" class="sect5">为受保护源中的当前数据库启用保护</h5>
                     <div>
                        <p>您可以为受保护源中的当前数据库启用透明敏感数据保护。</p>
                        <div class="section">
                           <p>如果必须禁用保护，则可以运行<code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_SOURCE</code>过程。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_SOURCE</code>过程以启用此类保护。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，为<code class="codeph">orders_db</code>数据库启用透明敏感数据保护策略。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.ENABLE_PROTECTION_SOURCE（discovery_source =&gt;'orders_db'）;结束; /</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-77BF7446-243A-493B-A3FC-E889268A6289" title="您可以在受保护的源，特定的表列或特定的列类型中为当前数据库启用TSDP策略。">步骤6：启用透明敏感数据保护策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG876"></a><div class="props_rev_3"><a id="GUID-0AFF5E8F-0010-4A1A-88C0-4C961BBCF487" name="GUID-0AFF5E8F-0010-4A1A-88C0-4C961BBCF487"></a><h5 id="DBSEG-GUID-0AFF5E8F-0010-4A1A-88C0-4C961BBCF487" class="sect5">启用特定表列的保护</h5>
                     <div>
                        <p>您可以为表中的特定列启用透明敏感数据保护。</p>
                        <div class="section">
                           <p>请记住，每个表只能启用一个策略。如果必须禁用保护，则可以运行<code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code>过程。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_COLUMN</code>过程以启用此类保护。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，要为特定表列启用透明敏感数据保护策略<code class="codeph">redact_partial_cc</code> ：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.ENABLE_PROTECTION_COLUMN（schema_name =&gt;'OE'，table_name =&gt;'CUST_CC'，column_name =&gt;'CREDIT_CARD'，policy =&gt;'redact_partial_cc'）;结束; /</pre><p>如果出现<code class="codeph">ORA-45622: warnings generated during policy enforcement</code>错误<code class="codeph">ORA-45622: warnings generated during policy enforcement</code>的<code class="codeph">ORA-45622: warnings generated during policy enforcement</code> ，请检查策略的配置。在此示例中，如果此列属于<code class="codeph">NUMBER</code>数据类型且长度为<code class="codeph">16</code> ， <code class="codeph">redact_partial_cc</code>对列启用<code class="codeph">redact_partial_cc</code>策略。即使<code class="codeph">OE.CUST_CC.CREDIT_CARD</code>列与<code class="codeph">redact_partial_cc</code>策略关联，如果此列无法满足条件（数据类型和长度），则不会启用该策略。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-77BF7446-243A-493B-A3FC-E889268A6289" title="您可以在受保护的源，特定的表列或特定的列类型中为当前数据库启用TSDP策略。">步骤6：启用透明敏感数据保护策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG878"></a><div class="props_rev_3"><a id="GUID-CFF73F1F-30DD-4D1A-9D1C-B5DB2411E477" name="GUID-CFF73F1F-30DD-4D1A-9D1C-B5DB2411E477"></a><h5 id="DBSEG-GUID-CFF73F1F-30DD-4D1A-9D1C-B5DB2411E477" class="sect5">启用特定列类型的保护</h5>
                     <div>
                        <p>您可以为特定列类型启用透明敏感数据保护，例如使用<code class="codeph">VARCHAR2</code>数据类型的所有列。
                        </p>
                        <div class="section">
                           <p>如果必须禁用保护，则可以运行<code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_TYPE</code>过程。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>运行<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_TYPE</code>过程以启用此类保护。
                                 </p>
                              </li>
                           </ul>
                           <p>例如，要为使用<code class="codeph">credit_card_num_type</code>敏感类型的所有列启用透明敏感数据保护：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.ENABLE_PROTECTION_TYPE（sensitive_type =&gt;'credit_card_num_type'）;结束; /</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-77BF7446-243A-493B-A3FC-E889268A6289" title="您可以在受保护的源，特定的表列或特定的列类型中为当前数据库启用TSDP策略。">步骤6：启用透明敏感数据保护策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG865"></a><div class="props_rev_3"><a id="GUID-B75AD559-F252-4241-BC50-8646F0755A68" name="GUID-B75AD559-F252-4241-BC50-8646F0755A68"></a><h4 id="DBSEG-GUID-B75AD559-F252-4241-BC50-8646F0755A68" class="sect4">步骤7：（可选）将策略导出到其他数据库</h4>
                  <div>
                     <p>您可以将策略导出或导入到其他数据库或从其导入。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要将TSDP策略导出到另一个数据库或从另一个数据库导入TSDP策略，请使用Oracle Data Pump执行包含该策略的数据库的完全导出或导入。</p>
                           </li>
                        </ul>
                        <p>请记住，导出和导入操作适用于整个数据库，而不仅仅是透明的敏感数据保护策略。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B75AD559-F252-4241-BC50-8646F0755A68__GUID-EE8AA13A-7DF5-4EDE-8170-042FC94DE42C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关使用Oracle Data Pump的信息，请<a href="../sutil/oracle-data-pump-overview.html#SUTIL100" target="_blank"><span><cite>参见Oracle数据库实用程序</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关在Oracle Database Vault环境中使用Oracle Data Pump的信息，请参见<a href="../dvadm/dba-operations-in-an-oracle-database-vault-environment.html#DVADM70314" target="_blank"><span><cite>“Oracle Database Vault管理员指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。">创建透明敏感数据保护策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG866"></a><div class="props_rev_3"><a id="GUID-5F832A16-DA46-4A12-A9BD-4AD5C6518556" name="GUID-5F832A16-DA46-4A12-A9BD-4AD5C6518556"></a><h3 id="DBSEG-GUID-5F832A16-DA46-4A12-A9BD-4AD5C6518556" class="sect3">改变透明敏感数据保护政策</h3>
               <div>
                  <p><code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程可以更改<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>策略。
                  </p>
                  <div class="section">更改透明数据保护策略时，必须定义数据编辑设置必须更改的方式，然后将这些更改应用于透明敏感数据保护策略本身。</div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您可以通过查询<code class="codeph">DBA_TSDP_POLICY_FEATURE</code>数据字典视图找到现有策略及其保护定义的列表。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要更改透明的敏感数据保护策略，请使用<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程。
                           </p>
                        </li>
                     </ul>
                     <p>例如，要更改现有的透明敏感数据保护策略：</p><pre class="oac_no_warn" dir="ltr">DECLARE redact_feature_options SYS.DBMS_TSDP_PROTECT.FEATURE_OPTIONS; policy_conditions SYS.DBMS_TSDP_PROTECT.POLICY_CONDITIONS; BEGIN redact_feature_options（'expression'）：='SYS_CONTEXT（''USERENV''，''SESSION_ USER''）=''APPUSER'''; redact_feature_options（'function_type'）：='DBMS_REDACT.PARTIAL'; redact_feature_options（'function_parameters'）：='9,1,6'; policy_conditions（DBMS_TSDP_PROTECT.DATATYPE）：='NUMBER'; policy_conditions（DBMS_TSDP_PROTECT.LENGTH）：='22'; DBMS_TSDP_PROTECT.ALTER_POLICY（'redact_partial_cc'，redact_feature_options，policy_conditions）;结束; /</pre><p>在这个例子中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">redact_feature_options SYS.DBMS_TSDP_PROTECT.FEATURE_OPTIONS</code>创建变量<code class="codeph">redact_feature_options</code> ，它使用<code class="codeph">FEATURE_OPTIONS</code>数据类型。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">policy_conditions SYS.DBMS_TSDP_PROTECT.POLICY_CONDITIONS</code>创建变量<code class="codeph">policy_conditions</code> ，它使用<code class="codeph">POLICY_CONDITIONS</code>数据类型。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">redact_feature_options ... redact_feature_options</code>将数据编辑策略设置写入<code class="codeph">redact_feature_option</code>变量。此示例将数据编辑策略应用于用户<code class="codeph">APPUSER</code> ，将策略定义为数字数据类型的部分数据编辑。有关<code class="codeph">function_parameters</code>参数如何适用于此案例的信息，请参见“ <a href="../asoag/configuring-oracle-data-redaction-policies.html#ASOAG817" target="_blank"><span><cite>Oracle数据库高级安全性指南”</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">policy_conditions ... policy_conditions</code>将<code class="codeph">policy_conditions ... policy_conditions</code>策略条件写入受保护的<code class="codeph">NUMBER</code>数据类型列的<code class="codeph">policy_conditions</code>变量（即数据类型和长度）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY ...</code>执行<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程，该过程改变<code class="codeph">redact_partial_cc</code>策略以使用<code class="codeph">redact_feature_options</code>和<code class="codeph">policy_conditions</code>变量中设置的定义。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG751"></a><div class="props_rev_3"><a id="GUID-2D2FFBE5-0A93-4540-824F-5FC99A027EF0" name="GUID-2D2FFBE5-0A93-4540-824F-5FC99A027EF0"></a><h3 id="DBSEG-GUID-2D2FFBE5-0A93-4540-824F-5FC99A027EF0" class="sect3">禁用透明敏感数据保护策略</h3>
               <div>
                  <p><code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code>过程禁用一个或所有<code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code>策略。
                  </p>
                  <ol>
                     <li class="stepexpand"><span>查询<code class="codeph">DBA_TSDP_POLICY_PROTECTION</code>数据字典视图以查找受保护列及其关联的透明敏感数据保护策略。</span><div>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">SELECT COLUMN_NAME，TSDP_POLICY FROM DBA_TSDP_POLICY_PROTECTION WHERE TABLE_NAME ='CUST_CC'; COLUMN_NAME TSDP_POLICY ------------ ------------------ CREDIT_CARD redact_partial_cc</pre></div>
                     </li>
                     <li class="stepexpand"><span>运行<code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code>过程。</span><div>
                           <p>例如，要禁用<code class="codeph">CUST_CC</code>表的<code class="codeph">CREDIT_CARD</code>列上的<code class="codeph">redact_partial_cc</code>策略：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN（schema_name =&gt;'OE'，table_name =&gt;'CUST_CC'，column_name =&gt;'CREDIT_CARD'，policy =&gt;'redact_partial_cc'）;结束; /</pre><p>您可以在此过程中使用<code class="codeph">%</code>通配符指定多个项目。例如，要禁用对以<code class="codeph">CREDIT</code>开头的任何列的保护，可以输入以下内容：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN（schema_name =&gt;'OE'，table_name =&gt;'CUST_CC'，column_name =&gt;'CREDIT％'，policy =&gt;'redact_partial_cc'）;结束; /</pre><p>要禁用表的所有透明敏感数据保护策略，可以省略<code class="codeph">policy</code>参数。例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN（schema_name =&gt;'OE'，table_name =&gt;'CUST_CC'，column_name =&gt;'％'）;结束; /</pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG867"></a><div class="props_rev_3"><a id="GUID-CE169445-2AC5-4E45-8537-D731496DBCCC" name="GUID-CE169445-2AC5-4E45-8537-D731496DBCCC"></a><h3 id="DBSEG-GUID-CE169445-2AC5-4E45-8537-D731496DBCCC" class="sect3">删除透明敏感数据保护策略</h3>
               <div>
                  <p>您可以从策略中删除整个TSDP策略或条件启用选项组合。</p>
                  <div class="section">
                     <p>如果策略只有一个condition-enable-options组合，则Oracle Database将删除整个策略。在删除策略之前不需要禁用策略，但是您需要首先删除其关联的敏感列，然后删除其敏感类型。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>查询<code class="codeph">DBA_TSDP_POLICY_FEATURE</code>数据字典视图的<code class="codeph">POLICY_NAME</code>列，以查找要删除的策略。</span><div><pre class="oac_no_warn" dir="ltr">SELECT POLICY_NAME FROM DBA_TSDP_POLICY_FEATURE; POLICY_NAME ----------------- redact_partial_cc</pre><p>请记住，必须授予您<code class="codeph">SELECT_CATALOG_ROLE</code>角色才能查询透明敏感数据保护数据字典视图。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>查找与此策略关联的敏感列。</span><div>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">SELECT COLUMN_NAME FROM DBA_TSDP_POLICY_PROTECTION WHERE TSDP_POLICY ='redact_partial_cc'; COLUMN_NAME ----------------- CREDIT_CARD</pre></div>
                     </li>
                     <li class="stepexpand"><span>删除此敏感列。</span><div>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_MANAGE.DROP_SENSITIVE_COLUMN（schema_name =&gt;'OE'，table_name =&gt;'CUST_CC'，column_name =&gt;'CREDIT_CARD'）;结束; /</pre></div>
                     </li>
                     <li class="stepexpand"><span>查找与此策略关联的敏感类型。</span><div>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">SELECT SENSITIVE_TYPE FROM DBA_TSDP_POLICY_TYPE WHERE POLICY_NAME ='redact_partial_cc'; SENSITIVE_TYPE -------------------- credit_card_num_type</pre></div>
                     </li>
                     <li class="stepexpand"><span>删除此敏感类型。</span><div>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_MANAGE.DROP_SENSITIVE_TYPE（sensitive_type =&gt;'credit_card_num_type'）; END; /</pre></div>
                     </li>
                     <li class="stepexpand"><span>运行<code class="codeph">DBMS_TSDP_PROTECT.DROP_POLICY</code>过程以删除策略。</span><div>
                           <p>例如，要完全删除策略：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.DROP_POLICY（policy_name =&gt;'redact_partial_cc'）;结束; /</pre><p>要从策略中删除默认的条件启用选项组合：</p><pre class="oac_no_warn" dir="ltr">DECLARE policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS; BEGIN DBMS_TSDP_PROTECT.DROP_POLICY（'redact_partial_cc'，policy_conditions）;结束; /</pre><p>要根据特定条件从策略中删除默认的条件启用选项组合：</p><pre class="oac_no_warn" dir="ltr">DECLARE policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS; BEGIN policy_conditions（DBMS_TSDP_PROTECT.DATATYPE）：='NUMBER'; DBMS_TSDP_PROTECT.DROP_POLICY（'redact_partial_cc'，policy_conditions）;结束; /</pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG779"></a><div class="props_rev_3"><a id="GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" name="GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB"></a><h3 id="DBSEG-GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" class="sect3">使用预定义的REDACT_AUDIT策略来屏蔽绑定值</h3>
               <div>
                  <p>预定义的<code class="codeph">REDACT_AUDIT</code>策略掩码绑定值，这些值可在设置事件时显示在跟踪文件中。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-C8DA804D-F744-4B97-B174-5D11B436BDC4">关于REDACT_AUDIT政策</a><br>预定义的<code class="codeph">REDACT_AUDIT</code>透明敏感数据保护策略屏蔽绑定值。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9">与敏感列相关的变量</a><br>绑定变量会影响使用条件， <code class="codeph">SELECT</code>项和<code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>操作的敏感列的使用。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-706B4851-2D16-4549-90C0-E7E5560159CF">灵敏列的绑定变量如何与视图一起表现</a><br>如果视图列引用敏感列，则视图中查询中显示的绑定变量将被视为敏感变量。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0739A076-04B5-4768-9EF4-CD66C549A9F7">禁用REDACT_AUDIT政策</a><br>默认情况下，为所有敏感列启用<code class="codeph">REDACT_AUDIT</code>策略。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-AD4A3497-5B38-4548-8809-7F919CB49DEA">启用REDACT_AUDIT政策</a><br>您可以为特定敏感列或数据库中的所有列启用<code class="codeph">REDACT_AUDIT</code>策略。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG810"></a><div class="props_rev_3"><a id="GUID-C8DA804D-F744-4B97-B174-5D11B436BDC4" name="GUID-C8DA804D-F744-4B97-B174-5D11B436BDC4"></a><h4 id="DBSEG-GUID-C8DA804D-F744-4B97-B174-5D11B436BDC4" class="sect4">关于REDACT_AUDIT政策</h4>
                  <div>
                     <p>预定义的<code class="codeph">REDACT_AUDIT</code>透明敏感数据保护策略屏蔽绑定值。
                     </p>
                     <p>配置审计时，SQL语句中使用的绑定变量的绑定值可以显示在审计记录中。同样，当设置了适当的事件时，绑定值可以出现在跟踪文件中。查询<code class="codeph">V$SQL_BIND_DATA</code>动态视图时，也会出现绑定值。
                     </p>
                     <p><code class="codeph">REDACT_AUDIT</code>透明敏感数据保护策略在审计记录，跟踪文件和<code class="codeph">V$SQL_BIND_DATA</code>视图查询中将数据显示为星号（ <code class="codeph">*</code> ）。默认情况下， <code class="codeph">REDACT_AUDIT</code>策略与数据库中的每个敏感类型相关联。将列标识为敏感列时，默认情况下会<code class="codeph">REDACT_AUDIT</code>启用<code class="codeph">REDACT_AUDIT</code>策略。
                     </p>
                     <p>您可以禁用并启用<code class="codeph">REDACT_AUDIT</code>策略，但不能更改或删除它。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="预定义的REDACT_AUDIT策略掩码绑定值，这些值可在设置事件时显示在跟踪文件中。">使用预定义的REDACT_AUDIT策略来屏蔽绑定值</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG811"></a><div class="props_rev_3"><a id="GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" name="GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9"></a><h4 id="DBSEG-GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" class="sect4">与敏感列相关的变量</h4>
                  <div>
                     <p>绑定变量会影响使用条件， <code class="codeph">SELECT</code>项和<code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>操作的敏感列的使用。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-047A8A6B-A926-4ED1-8742-B151B1B90E85">关于与敏感列相关的变量</a><br>您可以将变量与TSDP策略中的敏感列关联。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-E2683BB6-3E17-4FEC-9623-9F2AC646AD8C">在条件表达中绑定变量和敏感列</a><br>您可以在具有<code class="codeph">WHERE</code>子句的SQL查询中包含敏感列。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-D829F51B-496D-4932-957C-D160B4F638F6">绑定变量和敏感列出现在同一SELECT项中</a><br>如果在一列<code class="codeph">SELECT</code>项目是敏感的，那么在所有的绑定<code class="codeph">SELECT</code>项目被认为是敏感的。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-7BDF4F33-568A-4A76-9D66-64BB99E8C5C6">在INSERT或UPDATE操作中分配给敏感列的表达式中绑定变量</a><br>您可以在一个<code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>语句中将多个绑定变量分配给不同的列。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="预定义的REDACT_AUDIT策略掩码绑定值，这些值可在设置事件时显示在跟踪文件中。">使用预定义的REDACT_AUDIT策略来屏蔽绑定值</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-047A8A6B-A926-4ED1-8742-B151B1B90E85" name="GUID-047A8A6B-A926-4ED1-8742-B151B1B90E85"></a><h5 id="DBSEG-GUID-047A8A6B-A926-4ED1-8742-B151B1B90E85" class="sect5">关于与敏感列相关的变量</h5>
                     <div>
                        <p>您可以将变量与TSDP策略中的敏感列关联。</p>
                        <p>如果绑定变量出现在与敏感列相同的比较条件中，如果它出现在敏感列旁边的<code class="codeph">SELECT</code>语句中，或者如果它出现在敏感列中，则绑定变量可以被认为是敏感的或与敏感列“关联”。涉及敏感列的<code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>操作。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" title="绑定变量会影响使用条件，SELECT项和INSERT或UPDATE操作的敏感列的使用。">与敏感列关联的变量</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG812"></a><div class="props_rev_3"><a id="GUID-E2683BB6-3E17-4FEC-9623-9F2AC646AD8C" name="GUID-E2683BB6-3E17-4FEC-9623-9F2AC646AD8C"></a><h5 id="DBSEG-GUID-E2683BB6-3E17-4FEC-9623-9F2AC646AD8C" class="sect5">在条件表达中绑定变量和敏感列</h5>
                     <div>
                        <p>您可以在具有<code class="codeph">WHERE</code>子句的SQL查询中包含敏感列。
                        </p>
                        <p>包含<code class="codeph">WHERE</code>子句的SQL查询可以包含敏感列和绑定变量，以便与比较运算符（如<code class="codeph">=</code> ， <code class="codeph">IS</code> ， <code class="codeph">IS NOT</code> ， <code class="codeph">LIKE</code> ， <code class="codeph">BETWEEN</code>和<code class="codeph">IN</code> ）以及子查询一起使用。
                        </p>
                        <p>在以下比较查询中， <code class="codeph">VAR1</code>的绑定值被屏蔽，因为<code class="codeph">VAR1</code>和敏感列<code class="codeph">SALARY</code>出现在使用比较条件<code class="codeph">&gt;</code>进行比较的表达式中。
                        </p><pre class="oac_no_warn" dir="ltr">从HR.EMPLOYEES WHERE SALARY&gt;：VAR1;中选择EMPLOYEE_ID;</pre><p>在下一个查询中， <code class="codeph">VAR1</code>和<code class="codeph">VAR2</code>中的绑定值被屏蔽，因为<code class="codeph">VAR1</code> ， <code class="codeph">VAR2</code>和敏感列<code class="codeph">SALARY</code>出现在使用比较相等条件<code class="codeph">=</code>的表达式中。
                        </p><pre class="oac_no_warn" dir="ltr">选择EMPLOYEE_ID来自HR.EMPLOYEES WHERE SALARY +：VAR1 = TO_NUMBER（：VAR2，'9G999D99'）;</pre><p>对于浮点条件，敏感列和绑定变量出现在计算的表达式中。在以下示例中， <code class="codeph">VAR1</code>的绑定值被屏蔽，因为<code class="codeph">VAR1</code>和敏感列<code class="codeph">SALARY</code>出现在<code class="codeph">IS NOT NAN</code>条件的表达式中。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（）FROM HR.EMPLOYEES WHERE（SALARY *：VAR1）不是NAN;</pre><p>在模式匹配条件中，敏感列和绑定变量显示为参数。在以下示例中， <code class="codeph">VAR1</code>的绑定值被屏蔽，因为<code class="codeph">VAR1</code>和敏感列<code class="codeph">LAST_NAME</code>是<code class="codeph">LIKE</code>条件的参数。
                        </p><pre class="oac_no_warn" dir="ltr">选择LAST_NAME FROM HR.EMPLOYEES在哪里LAST_NAME喜欢：VAR1;</pre><p>对于<code class="codeph">BETWEEN</code>条件，敏感列和绑定变量出现在作为参数的表达式中。在以下示例中， <code class="codeph">VAR1</code>和<code class="codeph">VAR2</code>中的绑定值被屏蔽，因为<code class="codeph">VAR1</code> ， <code class="codeph">VAR2</code>和<code class="codeph">SALARY</code>出现在作为<code class="codeph">BETWEEN</code>条件参数的表达式中。
                        </p><pre class="oac_no_warn" dir="ltr">选择EMPLOYEE_ID来自HR.EMPLOYEES WHERE SALARY BETWEEN：VAR1 AND：VAR2;</pre><p>在下一个示例中，敏感列和绑定变量是<code class="codeph">IN</code>条件的参数。这里， <code class="codeph">VAR1</code>和<code class="codeph">VAR2</code>中的绑定值被屏蔽，因为<code class="codeph">VAR1</code> ， <code class="codeph">VAR2</code>和敏感列<code class="codeph">SALARY</code>显示为<code class="codeph">IN</code>条件的参数。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（）FROM HR.EMPLOYEES WHERE SALARY IN（：VAR1，：VAR2）;</pre><p>当条件具有嵌套子查询作为参数时，嵌套子查询中出现的绑定变量和敏感列不被视为与条件相关联。在以下查询中，敏感列<code class="codeph">SALARY</code>和子查询是大于条件<code class="codeph">&gt;</code>表达式。
                        </p><pre class="oac_no_warn" dir="ltr">从HR.EMPLOYEES WHERE SALARY&gt;中选择EMPLOYEE_ID（从HR.EMPLOYEES WHERE MANAGER_ID = VAR1中选择SALARY）;</pre><p>但是，变量<code class="codeph">VAR1</code>与列<code class="codeph">MANAGER_ID</code>关联为变量<code class="codeph">VAR1</code>而<code class="codeph">MANAGER_ID</code>出现在使用condition <code class="codeph">=</code>进行比较的表达式中。由于<code class="codeph">MANAGER_ID</code>不是敏感列，因此变量<code class="codeph">VAR1</code>不被视为敏感列。变量<code class="codeph">VAR1</code>不被视为与敏感列<code class="codeph">SALARY</code>相关联。</p>
                        <p>在逻辑条件，模型条件，多集条件，XML条件，复合条件， <code class="codeph">IS OF</code>类型条件和<code class="codeph">EXISTS</code>条件的情况下，不存在绑定变量和敏感列彼此关联的情况。这是由于这些条件的结构或性质。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" title="绑定变量会影响使用条件，SELECT项和INSERT或UPDATE操作的敏感列的使用。">与敏感列关联的变量</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG813"></a><div class="props_rev_3"><a id="GUID-D829F51B-496D-4932-957C-D160B4F638F6" name="GUID-D829F51B-496D-4932-957C-D160B4F638F6"></a><h5 id="DBSEG-GUID-D829F51B-496D-4932-957C-D160B4F638F6" class="sect5">绑定变量和敏感列出现在同一SELECT项中</h5>
                     <div>
                        <p>如果在一列<code class="codeph">SELECT</code>项目是敏感的，那么在所有的绑定<code class="codeph">SELECT</code>项目被认为是敏感的。
                        </p>
                        <p>例如，假设<code class="codeph">HR.EMPLOYEES.SALARY</code>和<code class="codeph">HR.EMPLOYEES.COMMISSION_PCT</code>是敏感列。在以下查询中，绑定变量<code class="codeph">VAR1</code>被认为是敏感的，因为它出现在与敏感列<code class="codeph">SALARY</code>相同的<code class="codeph">SELECT</code>项中，因此它的绑定值被屏蔽。
                        </p><pre class="oac_no_warn" dir="ltr">SELECT（SALARY *：VAR1）AS奖励来自HR.EMPLOYEES WHERE EMPLOYEE_ID =：VAR2;</pre><p>在下一个示例中，绑定变量<code class="codeph">VAR1</code>被认为是敏感的，因为它出现在与<code class="codeph">SALARY</code>相同的<code class="codeph">SELECT</code>项中。 <code class="codeph">VAR2</code>被认为是敏感的，因为它出现在与敏感列<code class="codeph">COMMISSION_PCT</code>相同的<code class="codeph">SELECT</code>项中。</p><pre class="oac_no_warn" dir="ltr">SELECT（SALARY *：VAR1），（COMMISSION_PCT *：VAR2），（EMPNO +：VAR3）AS BONUS AS PAYROLL.ACCOUNT;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" title="绑定变量会影响使用条件，SELECT项和INSERT或UPDATE操作的敏感列的使用。">与敏感列关联的变量</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG814"></a><div class="props_rev_3"><a id="GUID-7BDF4F33-568A-4A76-9D66-64BB99E8C5C6" name="GUID-7BDF4F33-568A-4A76-9D66-64BB99E8C5C6"></a><h5 id="DBSEG-GUID-7BDF4F33-568A-4A76-9D66-64BB99E8C5C6" class="sect5">在INSERT或UPDATE操作中分配给敏感列的表达式中绑定变量</h5>
                     <div>
                        <p>您可以在一个<code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>语句中将多个绑定变量分配给不同的列。
                        </p>
                        <p>请考虑以下<code class="codeph">INSERT</code>语句：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO PAYROLL.ACCOUNT（ACCOUNT_NUM，SALARY）VALUES（：VAR1 *：VAR2，：VAR3）;</pre><p>在此<code class="codeph">INSERT</code>语句中，发生以下情况：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>绑定变量<code class="codeph">VAR1</code>和<code class="codeph">VAR2</code>出现在表达式（ <code class="codeph">:VAR1 * :VAR2</code> ）中，该表达式分配给敏感列<code class="codeph">ACCOUNT_NUM</code> 。</p>
                           </li>
                           <li>
                              <p>绑定变量<code class="codeph">VAR3</code>分配给敏感列<code class="codeph">SALARY</code> 。</p>
                           </li>
                        </ul>
                        <p>请考虑以下<code class="codeph">UPDATE</code>语句：</p><pre class="oac_no_warn" dir="ltr">UPDATE PAYROLL.ACCOUNT SET ACCOUNT_NUM =：VAR1，SALARY =：VAR2;</pre><p>在此<code class="codeph">UPDATE</code>语句中，发生以下情况：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>绑定变量<code class="codeph">VAR1</code>分配给敏感列<code class="codeph">ACCOUNT_NUM</code> 。</p>
                           </li>
                           <li>
                              <p>绑定变量<code class="codeph">VAR2</code>分配给敏感列<code class="codeph">SALARY</code> 。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2249C7AB-9BCA-4084-8534-596EB698E9B9" title="绑定变量会影响使用条件，SELECT项和INSERT或UPDATE操作的敏感列的使用。">与敏感列关联的变量</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG815"></a><div class="props_rev_3"><a id="GUID-706B4851-2D16-4549-90C0-E7E5560159CF" name="GUID-706B4851-2D16-4549-90C0-E7E5560159CF"></a><h4 id="DBSEG-GUID-706B4851-2D16-4549-90C0-E7E5560159CF" class="sect4">灵敏列的绑定变量如何与视图一起表现</h4>
                  <div>
                     <p>如果视图列引用敏感列，则视图中查询中显示的绑定变量将被视为敏感变量。</p>
                     <p>例如，假设您将<code class="codeph">HR.EMPLOYEES</code>表中的<code class="codeph">SALARY</code>列标识为敏感列。然后按如下方式创建视图<code class="codeph">EMPLOYEES_VIEW</code> ：</p><pre class="oac_no_warn" dir="ltr">创建或替换HR.EMPLOYEES_VIEW作为选择*来自HR.EMPLOYEES;</pre><p>当用户在SQL语句中从此视图引用<code class="codeph">SALARY</code>列时，任何与<code class="codeph">SALARY</code>列关联的绑定变量都将被视为敏感，然后屏蔽其绑定值。
                     </p><pre class="oac_no_warn" dir="ltr">从HR.EMPLOYEES_VIEW中选择EMPLOYEE_ID WHERE SALARY =：VAR1;</pre><p>在这种情况下，绑定变量<code class="codeph">VAR1</code>被屏蔽，因为它与<code class="codeph">HR.EMPLOYEES_VIEW.SALARY</code>列相关联，该列引用敏感列<code class="codeph">HR.EMPLOYEES.SALARY</code> 。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="预定义的REDACT_AUDIT策略掩码绑定值，这些值可在设置事件时显示在跟踪文件中。">使用预定义的REDACT_AUDIT策略来屏蔽绑定值</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG816"></a><div class="props_rev_3"><a id="GUID-0739A076-04B5-4768-9EF4-CD66C549A9F7" name="GUID-0739A076-04B5-4768-9EF4-CD66C549A9F7"></a><h4 id="DBSEG-GUID-0739A076-04B5-4768-9EF4-CD66C549A9F7" class="sect4">禁用REDACT_AUDIT政策</h4>
                  <div>
                     <p>默认情况下，为所有敏感列启用<code class="codeph">REDACT_AUDIT</code>策略。
                     </p>
                     <p>您可以为特定敏感列或所有敏感列禁用它，并在需要时重新启用它。请记住，您无法更改或删除<code class="codeph">REDACT_AUDIT</code>政策。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要禁用<code class="codeph">REDACT_AUDIT</code>策略，请使用<code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code>过程。
                           </p>
                        </li>
                     </ul>
                     <p>例如，要为<code class="codeph">HR.EMPLOYEES</code>的<code class="codeph">SALARY</code>列禁用<code class="codeph">REDACT_AUDIT</code>策略：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN（schema_name =&gt;'HR'，table_name =&gt;'EMPLOYEES'，column_name =&gt;'SALARY'，policy =&gt;'REDACT_AUDIT'）;结束; /</pre><p>以下示例说明如何为当前数据库中的所有敏感列禁用<code class="codeph">REDACT_AUDIT</code>策略。
                     </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN（policy =&gt;'REDACT_AUDIT'）;结束; /</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="预定义的REDACT_AUDIT策略掩码绑定值，这些值可在设置事件时显示在跟踪文件中。">使用预定义的REDACT_AUDIT策略来屏蔽绑定值</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-AD4A3497-5B38-4548-8809-7F919CB49DEA" name="GUID-AD4A3497-5B38-4548-8809-7F919CB49DEA"></a><h4 id="DBSEG-GUID-AD4A3497-5B38-4548-8809-7F919CB49DEA" class="sect4">启用REDACT_AUDIT政策</h4>
                  <div>
                     <p>您可以为特定敏感列或数据库中的所有列启用<code class="codeph">REDACT_AUDIT</code>策略。
                     </p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要启用<code class="codeph">REDACT_AUDIT</code>策略，请使用<code class="codeph">DBMS_TSDP_PROTECT.DISABLE_PROTECTION_COLUMN</code>过程。
                              </p>
                           </li>
                        </ul>
                        <p>例如，要为<code class="codeph">HR.EMPLOYEES</code>的<code class="codeph">SALARY</code>列重新启用<code class="codeph">REDACT_AUDIT</code>策略：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.ENABLE_PROTECTION_COLUMN（schema_name =&gt;'HR'，table_name =&gt;'EMPLOYEES'，column_name =&gt;'SALARY'，policy =&gt;'REDACT_AUDIT'）;结束; /</pre><p>以下示例说明如何为当前数据库中的所有敏感列启用<code class="codeph">REDACT_AUDIT</code>策略。
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.ENSABLE_PROTECTION_COLUMN（policy =&gt;'REDACT_AUDIT'）;结束; /</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-FD939E0D-6BC2-4968-8D88-D5B3FBA970AB" title="预定义的REDACT_AUDIT策略掩码绑定值，这些值可在设置事件时显示在跟踪文件中。">使用预定义的REDACT_AUDIT策略来屏蔽绑定值</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG949"></a><div class="props_rev_3"><a id="GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74" name="GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74"></a><h3 id="DBSEG-GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74" class="sect3">具有数据编辑功能的透明敏感数据保护策略</h3>
               <div>
                  <p>Oracle Data Redaction功能可与透明的敏感数据保护策略配合使用。</p>
                  <p>可以在TSDP策略定义中使用数据编辑功能类型，功能参数和表达式。例如，您可以将启用TSDP策略设置为使用<code class="codeph">FULL</code>或<code class="codeph">PARTIAL</code>数据编校。本章使用Data Redaction作为管理TSDP策略的示例。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-8E8C28D2-16C4-489A-84F8-A46C2CE58F74__GUID-5A516553-89EF-403A-A90C-D75AC6168BA8">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="using-transparent-sensitive-data-protection.html#GUID-EF4D461A-2FA7-4F3D-82FC-EBCDBF122005" title="您必须创建敏感类型，找到要保护的敏感列，然后将这些列从ADM导入数据库。">创建透明敏感数据保护策略</a> ，以获取如何创建使用数据编辑功能类型的TSDP策略的示例</p>
                        </li>
                        <li>
                           <p>有关Oracle Data Redaction的详细信息，请参见<a href="../asoag/introduction-to-oracle-data-redaction.html#ASOAG594" target="_blank"><span><cite>“Oracle数据库高级安全指南</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG991"></a><div class="props_rev_3"><a id="GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" name="GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65"></a><h3 id="DBSEG-GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" class="sect3">将透明敏感数据保护策略与Oracle VPD策略配合使用</h3>
               <div>
                  <p>您可以将TSDP和Oracle虚拟专用数据库的保护组合到一个策略中。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79">关于将TSDP策略与Oracle虚拟专用数据库策略配合使用</a><br>要将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合，必须使用<code class="codeph">DBMS_TSDP_PROTECT</code>和<code class="codeph">DBMS_RLS</code>软件包。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901">DBMS_RLS.ADD_POLICY用于TSDP策略的参数</a><br>Oracle数据库提供了一组用于微调TSDP策略行为的参数。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F">教程：创建使用虚拟专用数据库保护的TSDP策略</a><br>本教程演示了如何将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG618"></a><div class="props_rev_3"><a id="GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79" name="GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79"></a><h4 id="DBSEG-GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79" class="sect4">关于将TSDP策略与Oracle虚拟专用数据库策略配合使用</h4>
                  <div>
                     <p>要将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合，必须使用<code class="codeph">DBMS_TSDP_PROTECT</code>和<code class="codeph">DBMS_RLS</code>软件包。
                     </p>
                     <p>此功能的工作原理如下：</p>
                     <ol>
                        <li id="GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79__CHDFFCGC">
                           <p>您可以使用合适的谓词创建VPD策略函数。稍后，在创建TSDP策略时，将使用<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程的<code class="codeph">feature_options</code>参数的<code class="codeph">DBMS_RLS.ADD_POLICY</code>过程的<code class="codeph">policy_function</code>设置来引用此VPD策略函数。
                           </p>
                        </li>
                        <li>
                           <p>使用与VPD策略功能类似的必要VPD设置创建TSDP策略。</p>
                           <p>TSDP策略使用<code class="codeph">DBMS_RLS.ADD_POLICY</code>过程中的参数设置来提供VPD保护。<a href="using-transparent-sensitive-data-protection.html#GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901__CHDBCBFJ" title="DBMS_RLS.ADD_POLICY用于TSDP策略的参数">表13-1</a>列出了这些参数。请注意，不支持<code class="codeph">DBMS_RLS.ADD_GROUPED_POLICY</code>策略中的参数。
                           </p>
                        </li>
                        <li>
                           <p>您可以使用<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>过程将<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>策略与必需的敏感类型相关联。
                           </p>
                        </li>
                        <li>
                           <p>然后，使用任何<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code> *过程启用<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code>保护。
                           </p>
                        </li>
                        <li>
                           <p>您启用TSDP策略。此时，Oracle数据库会创建一个内部VPD策略，该策略使用您在步骤<a href="using-transparent-sensitive-data-protection.html#GUID-C1F65A59-AD80-400B-8C58-C2727CA9ED79__CHDFFCGC">1中</a>创建的功能。
                           </p>
                           <p>内部策略的名称以<code class="codeph">ORA$VPD</code>开头，后跟一个标识符（例如， <code class="codeph">ORA$VPD_6J6L3RSJSN2VAN0XF)</code> 。您可以通过查询<code class="codeph">DBA_POLICIES</code>数据字典视图的<code class="codeph">POLICY_NAME</code>列来查找此策略。
                           </p>
                        </li>
                        <li>
                           <p>当用户查询表时，该列的输出基于VPD保护和现在的TSDP策略。</p>
                        </li>
                        <li>
                           <p>在您禁用此列的TSDP策略之前，这些保护将保持不变。此时，Oracle数据库会自动删除内部VPD策略，因为不再需要它。如果重新启用TSDP策略，则会重新创建内部VPD策略。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-oracle-vpd-to-control-data-access.html#GUID-532B05E7-2E08-4D8A-96B0-7F6EDD75DD14" title="Oracle虚拟专用数据库（VPD）功能定义了您要强制执行的限制。">生成动态WHERE子句的函数</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" title="您可以将TSDP和Oracle虚拟专用数据库的保护组合到一个策略中。">将透明敏感数据保护策略与Oracle VPD策略配合使用</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG742"></a><a id="DBSEG490"></a><div class="props_rev_3"><a id="GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901" name="GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901"></a><h4 id="DBSEG-GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901" class="sect4">DBMS_RLS.ADD_POLICY用于TSDP策略的参数</h4>
                  <div>
                     <p>Oracle数据库提供了一组用于微调TSDP策略行为的参数。</p>
                     <p><a href="using-transparent-sensitive-data-protection.html#GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901__CHDBCBFJ" title="DBMS_RLS.ADD_POLICY用于TSDP策略的参数">表13-1</a>介绍了使用<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>或<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程时<code class="codeph">FEATURE_OPTIONS</code>参数中允许的<code class="codeph">DBMS_RLS.ADD_POLICY</code>参数。
                     </p>
                     <div class="tblformal" id="GUID-856DEE6D-1E01-4D18-8E2B-72372F0ED901__CHDBCBFJ">
                        <p class="titleintable">表13-1用于TSDP策略的DBMS_RLS.ADD_POLICY参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_RLS.ADD_POLICY用于TSDP策略的参数" width="100%" border="1" summary="DBMS_RLS.ADD_POLICY Parameters Used for TSDP Policies" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d105132e6509">参数</th>
                                 <th align="left" valign="bottom" width="56%" id="d105132e6512">描述</th>
                                 <th align="left" valign="bottom" width="14%" id="d105132e6515">默认</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6520" headers="d105132e6509 ">
                                    <p><code class="codeph">function_schema</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6520 d105132e6512 ">
                                    <p>策略函数的模式（当前默认模式，如果为<code class="codeph">NULL</code> ）。如果未指定<code class="codeph">function_schema</code> ，则假定当前用户的架构。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6520 d105132e6515 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6538" headers="d105132e6509 ">
                                    <p><code class="codeph">policy_function</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6538 d105132e6512 ">
                                    <p>为策略生成谓词的函数的名称。如果函数是在包中定义的，则必须包含包的名称（例如， <code class="codeph">my_package.my_function</code> ）。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6538 d105132e6515 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6553" headers="d105132e6509 ">
                                    <p><code class="codeph">statement_types</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6553 d105132e6512 ">
                                    <p>策略适用的语句类型。它可以是<code class="codeph">INDEX</code> ， <code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>任意组合。默认设置是应用于除<code class="codeph">INDEX</code>之外的大多数类型。</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6553 d105132e6515 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6584" headers="d105132e6509 ">
                                    <p><code class="codeph">更新检查</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6584 d105132e6512 ">
                                    <p><code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>语句类型的可选参数。将<code class="codeph">update_check</code>设置为<code class="codeph">TRUE</code> <code class="codeph">update_check</code> Oracle数据库设置为在<code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>操作后根据值检查策略。
                                    </p>
                                    <p>该检查仅适用于策略定义中包含的安全相关列。换句话说，只有在<code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>语句中添加或更新策略中定义的安全相关列时， <code class="codeph">INSERT</code>或<code class="codeph">UPDATE</code>操作才会失败。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6584 d105132e6515 ">
                                    <p><code class="codeph">假</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6629" headers="d105132e6509 ">
                                    <p><code class="codeph">static_policy</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6629 d105132e6512 ">
                                    <p>如果将此值设置为<code class="codeph">TRUE</code> ，则Oracle数据库假定静态策略的策略函数为访问该对象的任何人生成相同的谓词字符串，但<code class="codeph">SYS</code>或具有<code class="codeph">EXEMPT ACCESS POLICY</code>特权的特权用户除外。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6629 d105132e6515 ">
                                    <p><code class="codeph">假</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6650" headers="d105132e6509 ">
                                    <p><code class="codeph">policy_type</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6650 d105132e6512 ">
                                    <p>默认值为<code class="codeph">NULL</code> ，这意味着<code class="codeph">policy_type</code>由<code class="codeph">static_policy</code>参数的值决定。指定任何这些策略类型将覆盖<code class="codeph">static_policy</code>的值。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6650 d105132e6515 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6674" headers="d105132e6509 ">
                                    <p><code class="codeph">long_predicate</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6674 d105132e6512 ">
                                    <p>默认值为<code class="codeph">FALSE</code> ，这意味着策略函数可以返回长度最多为4000字节的谓词。<code class="codeph">TRUE</code>表示谓词文本字符串长度最多可达32K字节。在<code class="codeph">long_predicate</code>参数可用之前存在的策略保留32K限制。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6674 d105132e6515 ">
                                    <p><code class="codeph">假</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d105132e6695" headers="d105132e6509 ">
                                    <p><code class="codeph">sec_relevant_cols_opt</code></p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d105132e6695 d105132e6512 ">
                                    <p>如果指定此参数，则透明敏感数据保护<code class="codeph">sec_relevant_cols</code>启用了保护的敏感列输入到<code class="codeph">DBMS_RLS.ADD_POLICY</code>过程的<code class="codeph">sec_relevant_cols</code>参数。
                                    </p>
                                    <p><code class="codeph">sec_relevant_cols_opt</code>允许值如下：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">NULL</code>使得使用<code class="codeph">sec_relevant_cols</code>定义的过滤生效。
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">DBMS_RLS.ALL_ROWS</code>显示所有行，但是使用敏感列值（由<code class="codeph">sec_relevant_cols</code>参数过滤）显示为<code class="codeph">NULL</code> 。</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d105132e6695 d105132e6515 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-oracle-vpd-to-control-data-access.html#GUID-FEEE8343-84E9-4BE7-B638-7DBE0C6ED815" title="DBMS_RLS PL / SQL包可以将策略附加到表，视图或同义词。">将策略附加到数据库表，视图或同义词</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" title="您可以将TSDP和Oracle虚拟专用数据库的保护组合到一个策略中。">将透明敏感数据保护策略与Oracle VPD策略配合使用</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG852"></a><div class="props_rev_3"><a id="GUID-698EE572-4229-42C2-94F5-A67A7888808F" name="GUID-698EE572-4229-42C2-94F5-A67A7888808F"></a><h4 id="DBSEG-GUID-698EE572-4229-42C2-94F5-A67A7888808F" class="sect4">教程：创建使用虚拟专用数据库保护的TSDP策略</h4>
                  <div>
                     <p>本教程演示了如何将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-740DCF6C-48F4-41C5-9773-4D57C1E09C77">第1步：创建hr_appuser用户帐户</a><br>首先，您必须创建一个示例用户帐户，然后授予该用户适当的权限。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-DA0DC2BD-4769-449F-82A4-FEA43C02F8DA">第2步：确定敏感列</a><br>作为示例用户<code class="codeph">tsdp_admin</code> ，您已准备好识别要保护的敏感列。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-8D0D922E-8880-443D-B9A7-98FBD913F29A">第3步：创建Oracle虚拟专用数据库功能</a><br>TSDP将Oracle VPD策略功能与启用TSDP策略时自动创建的VPD策略相关联。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00">第4步：创建并启用透明敏感数据保护策略</a><br>创建VPD策略功能后，可以将其与透明的敏感数据保护策略相关联。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-9E067DCF-5105-41E9-A1A8-5CE49EB469B0">步骤5：测试透明敏感数据保护策略</a><br>现在，您已准备好测试透明敏感数据保护策略。
                        </li>
                        <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-8C0A8FE7-6DBD-466B-981F-3857C5AE344A">第6步：删除本教程的组件</a><br>如果您不再需要本教程的组件，则可以删除它们。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1AA98458-5B97-46F5-94F7-2DB4ADDF9F65" title="您可以将TSDP和Oracle虚拟专用数据库的保护组合到一个策略中。">将透明敏感数据保护策略与Oracle VPD策略配合使用</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG853"></a><div class="props_rev_3"><a id="GUID-740DCF6C-48F4-41C5-9773-4D57C1E09C77" name="GUID-740DCF6C-48F4-41C5-9773-4D57C1E09C77"></a><h5 id="DBSEG-GUID-740DCF6C-48F4-41C5-9773-4D57C1E09C77" class="sect5">第1步：创建hr_appuser用户帐户</h5>
                     <div>
                        <p>首先，您必须创建一个示例用户帐户，然后授予该用户适当的权限。</p>
                        <ol>
                           <li class="stepexpand"><span>使用<code class="codeph">SYSDBA</code>管理权限以<code class="codeph">SYS</code>用户身份登录数据库实例。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus sys as sysdba输入密码： <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>如果您使用的是多租户环境，请连接到相应的可插拔数据库（PDB）。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT SYS @hrpdb AS SYSDBA输入密码： <span class="italic">password</span>
</pre><p>要查找可用的PDB，请运行<code class="codeph">show pdbs</code>命令。要检查当前PDB，请运行<code class="codeph">show con_name</code>命令。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>创建以下用户帐户：</span><div><pre class="oac_no_warn" dir="ltr">GRANT创建会话到hr_appuser IDENTIFIED BY <span class="italic">密码</span> ; GRANT创建会话到tsdp_admin通过<span class="italic">密码</span>识别;</pre><p>请遵循<a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle provides a set of minimum requirements for passwords.">密码最低要求中</a>的准则，使用安全<a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle提供了一组密码的最低要求。">密码</a>替换<span class="italic"><code class="codeph">password</code></span> 。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>授予用户<code class="codeph">tsdp_admin</code>以下权限：</span><div><pre class="oac_no_warn" dir="ltr">授予tsdp_admin的授予程序;对DBMS_TSDP_MANAGE执行GRANT EXECUTE到tsdp_admin; GRANT EXECUTE DBMS_TSDP_PROTECT到tsdp_admin; GRANT EXECUTE DBMS_RLS到tsdp_admin;</pre></div>
                           </li>
                           <li class="stepexpand"><span>以<code class="codeph">SCOTT</code>用户身份连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT SCOTT <span class="italic">- 或者，连接SCOTT @ hrpdb</span>输入密码： <span class="italic">密码</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>为<code class="codeph">hr_appuser</code>授予<code class="codeph">EMP</code>表的<code class="codeph">READ</code>对象权限。</span><div><pre class="oac_no_warn" dir="ltr">授权读取EMP到hr_appuser;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="本教程演示了如何将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合。">教程：创建使用虚拟专用数据库保护的TSDP策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG887"></a><div class="props_rev_3"><a id="GUID-DA0DC2BD-4769-449F-82A4-FEA43C02F8DA" name="GUID-DA0DC2BD-4769-449F-82A4-FEA43C02F8DA"></a><h5 id="DBSEG-GUID-DA0DC2BD-4769-449F-82A4-FEA43C02F8DA" class="sect5">第2步：确定敏感列</h5>
                     <div>
                        <p>作为示例用户<code class="codeph">tsdp_admin</code> ，您已准备好识别要保护的敏感列。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">tsdp_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT tsdp_admin <span class="italic">- 或者，CONNECT tsdb_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>创建<code class="codeph">salary_type</code>敏感类型：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_MANAGE.ADD_SENSITIVE_TYPE（sensitive_type =&gt;'salary_type'，user_comment =&gt;'SCOTT.EMP列的类型'）;结束; /</pre></div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">salary_type</code>敏感类型与<code class="codeph">SCOTT.EMP</code>表相关联。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_MANAGE.ADD_SENSITIVE_COLUMN（schema_name =&gt;'SCOTT'，table_name =&gt;'EMP'，column_name =&gt;'SAL'，sensitive_type =&gt;'salary_type'，user_comment =&gt;'SALARY_TYPE的敏感列添加'）;结束; /</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="本教程演示了如何将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合。">教程：创建使用虚拟专用数据库保护的TSDP策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG891"></a><div class="props_rev_3"><a id="GUID-8D0D922E-8880-443D-B9A7-98FBD913F29A" name="GUID-8D0D922E-8880-443D-B9A7-98FBD913F29A"></a><h5 id="DBSEG-GUID-8D0D922E-8880-443D-B9A7-98FBD913F29A" class="sect5">第3步：创建Oracle虚拟专用数据库功能</h5>
                     <div>
                        <p>TSDP将Oracle VPD策略功能与启用TSDP策略时自动创建的VPD策略相关联。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要创建VPD策略函数，请使用<code class="codeph">CREATE OR REPLACE FUNCTION</code>过程，如下所示：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数vpd_function（v_schema IN VARCHAR2，v_objname IN VARCHAR2）RETURN VARCHAR2 AS BEGIN RETURN'SYS_CONTEXT（''USERENV''，''SESSION_USER''）=''HR_APPUSER'''; END vpd_function; /</pre></li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="本教程演示了如何将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合。">教程：创建使用虚拟专用数据库保护的TSDP策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG892"></a><div class="props_rev_3"><a id="GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00" name="GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00"></a><h5 id="DBSEG-GUID-6CE7F5EA-18B7-40E9-9156-380F3E5F2A00" class="sect5">第4步：创建并启用透明敏感数据保护策略</h5>
                     <div>
                        <p>创建VPD策略功能后，可以将其与透明的敏感数据保护策略相关联。</p>
                        <ol>
                           <li class="stepexpand"><span>创建透明敏感数据保护策略。</span><div><pre class="oac_no_warn" dir="ltr">DECLARE vpd_feature_options DBMS_TSDP_PROTECT.FEATURE_OPTIONS; policy_conditions DBMS_TSDP_PROTECT.POLICY_CONDITIONS; BEGIN vpd_feature_options（'policy_function'）：='vpd_function'; vpd_feature_options（'sec_relevant_cols_opt'）：='DBMS_RLS.ALL_ROWS'; dbms_tsdp_protect.add_policy（'tsdp_vpd'，DBMS_TSDP_PROTECT.VPD，vpd_feature_options，policy_conditions）;结束; /</pre><p>在此示例中， <code class="codeph">vpd_feature_options</code>参数引用<code class="codeph">DBMS_RLS.ADD_POLICY</code>过程中的<code class="codeph">sec_relevant_cols_opt</code>参数。启用<code class="codeph">sec_relevant_cols</code>策略后，自动创建的VPD策略将其<code class="codeph">sec_relevant_cols</code>参数（ <code class="codeph">DBMS_RLS.ADD_POLICY</code> ）设置为<code class="codeph">sec_relevant_cols</code>启用VPD策略的敏感列的名称。如果您尚未使用<code class="codeph">sec_relevant_cols_opt</code>参数，则<code class="codeph">sec_relevant_cols_opt</code>将不会使用<code class="codeph">DBMS_RLS.ADD_POLICY</code> <code class="codeph">sec_relevant_cols_opt</code>参数。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">tsdp_vpd1</code>策略与<code class="codeph">salary_type</code>敏感类型相关联。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.ASSOCIATE_POLICY（policy_name =&gt;'tsdp_vpd'，sensitive_type =&gt;'salary_type'，associate =&gt; TRUE）;结束; /</pre></div>
                           </li>
                           <li class="stepexpand"><span>启用保护以对标识为<code class="codeph">SALARY_TYPE</code>所有列强制实施虚拟专用数据库策略：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_PROTECT.ENABLE_PROTECTION_TYPE（sensitive_type =&gt;'salary_type'）;结束; /</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="本教程演示了如何将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合。">教程：创建使用虚拟专用数据库保护的TSDP策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG893"></a><div class="props_rev_3"><a id="GUID-9E067DCF-5105-41E9-A1A8-5CE49EB469B0" name="GUID-9E067DCF-5105-41E9-A1A8-5CE49EB469B0"></a><h5 id="DBSEG-GUID-9E067DCF-5105-41E9-A1A8-5CE49EB469B0" class="sect5">步骤5：测试透明敏感数据保护策略</h5>
                     <div>
                        <p>现在，您已准备好测试透明敏感数据保护策略。</p>
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">hr_appuser</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT hr_appuser <span class="italic">- 或者，CONNECT hr_appuser @hrpdb</span>输入密码： <code class="codeph">password</code>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>查询<code class="codeph">SCOTT.EMP</code>表如下：</span><div><pre class="oac_no_warn" dir="ltr">从SCOTT.EMP中选择SAL，COMM，EMPNO;</pre><p>出现以下输出：</p><pre class="oac_no_warn" dir="ltr">SAL COMM EMPNO --------- ------ ---------- 800 7369 1600 300 7499 1250 500 7521 2975 7566 1250 1400 7654 2850 7698 2450 7782 3000 7788 5000 7839 1500 0 7844 1100 7876 950 7900 3000 7902 1300 7934选择14行。
</pre><p><code class="codeph">vpd_function</code>函数使用户<code class="codeph">hr_appuser</code>可以查看<code class="codeph">EMP</code>表的<code class="codeph">SAL</code>列中的工资。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>以用户<code class="codeph">SCOTT</code>身份连接，然后执行相同的查询。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT SCOTT <span class="italic">- 或者，连接SCOTT @ hrpdb</span>输入密码： <span class="italic">密码</span> SELECT SAL，COMM，EMPNO FROM SCOTT.EMP;</pre><p>出现以下输出：</p><pre class="oac_no_warn" dir="ltr">SAL COMM EMPNO --------- ------ ---------- 7369 300 7499 500 7521 7566 1400 7654 7698 7782 7788 7839 0 7844 7876 7900 7902 7934选择了14行。
</pre><p>即使<code class="codeph">SCOTT</code>拥有<code class="codeph">EMP</code>表， <code class="codeph">vpd_function</code>函数也阻止他看到此表的<code class="codeph">SAL</code>列中的工资</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="本教程演示了如何将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合。">教程：创建使用虚拟专用数据库保护的TSDP策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG894"></a><div class="props_rev_3"><a id="GUID-8C0A8FE7-6DBD-466B-981F-3857C5AE344A" name="GUID-8C0A8FE7-6DBD-466B-981F-3857C5AE344A"></a><h5 id="DBSEG-GUID-8C0A8FE7-6DBD-466B-981F-3857C5AE344A" class="sect5">第6步：删除本教程的组件</h5>
                     <div>
                        <p>如果您不再需要本教程的组件，则可以删除它们。</p>
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">tsdp_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT tsdp_admin <span class="italic">- 或者，CONNECT tsdp_admin @hrpdb</span>输入密码： <span class="italic">password</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>按所示顺序执行以下语句。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_MANAGE.DROP_SENSITIVE_COLUMN（schema_name =&gt;'SCOTT'，table_name =&gt;'EMP'，column_name =&gt;'SAL'）;结束; /</pre><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_TSDP_MANAGE.DROP_SENSITIVE_TYPE（sensitive_type =&gt;'salary_type'）;结束; / BEGIN DBMS_TSDP_PROTECT.DROP_POLICY（policy_name =&gt;'tsdp_vpd'）;结束; /</pre></div>
                           </li>
                           <li class="stepexpand"><span>以用户<code class="codeph">SYSTEM</code>身份连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT SYSTEM <span class="italic">- 或者，CONNECT SYSTEM @ hrpdb</span>输入密码： <span class="italic">密码</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>删除<code class="codeph">tsdp_admin</code>和<code class="codeph">hr_appuser</code>帐户。</span><div><pre class="oac_no_warn" dir="ltr">DROP USER tsdp_admin CASCADE; DROP USER hr_appuser</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-698EE572-4229-42C2-94F5-A67A7888808F" title="本教程演示了如何将Oracle虚拟专用数据库保护与透明的敏感数据保护策略相结合。">教程：创建使用虚拟专用数据库保护的TSDP策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687" name="GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687"></a><h3 id="DBSEG-GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687" class="sect3">将透明敏感数据保护策略与统一审计结合使用</h3>
               <div>
                  <p>透明的敏感数据保护和统一的审计程序可以结合这两个功能的保护。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1">关于将TSDP策略与统一审核策略配合使用</a><br>您可以使用统一审核来配置透明敏感数据保护策略以审核对象操作。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105">与TSDP策略一起使用的统一审核策略设置</a><br>可以在<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>或<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程的<code class="codeph">POLICY_ENABLE_OPTIONS</code>参数中使用审核策略设置。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1" name="GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1"></a><h4 id="DBSEG-GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1" class="sect4">关于将TSDP策略与统一审核策略配合使用</h4>
                  <div>
                     <p>您可以使用统一审核来配置透明敏感数据保护策略以审核对象操作。</p>
                     <p><code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>和<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程使您可以指定<code class="codeph">CREATE AUDIT POLICY</code> ， <code class="codeph">ALTER AUDIT POLICY</code> ， <code class="codeph">AUDIT POLICY</code>和<code class="codeph">COMMENT</code> SQL语句中的设置。TSDP策略允许为策略中特定于对象的选项创建操作审计选项，例如<code class="codeph">INSERT</code>或<code class="codeph">DELETE</code>操作。不支持系统范围的审计选项。因此，审计对象类型始终为<code class="codeph">TABLE</code> 。仅允许标准操作（例如<code class="codeph">INSERT</code> ）。不支持组件操作，例如为Oracle Label Security或其他Oracle数据库功能创建策略。
                     </p>
                     <p>此功能的工作原理如下：</p>
                     <ol>
                        <li id="GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1__YOUCREATEATSDPPOLICYWITHTHENECESSAR-229E4661">
                           <p>您可以使用必要的统一审核设置创建TSDP策略。</p>
                           <p>TSDP策略使用<code class="codeph">CREATE AUDIT POLICY</code> ， <code class="codeph">AUDIT POLICY</code>和<code class="codeph">COMMENT</code>语句中的参数设置。<a href="using-transparent-sensitive-data-protection.html#GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105" title="可以在DBMS_TSDP_PROTECT.ADD_POLICY或DBMS_TSDP_PROTECT.ALTER_POLICY过程的POLICY_ENABLE_OPTIONS参数中使用审核策略设置。">与TSDP策略一起使用的统一审核策略设置</a>列出了这些设置。
                           </p>
                        </li>
                        <li>
                           <p>您可以使用<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>过程将<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>策略与必需的敏感类型相关联。
                           </p>
                        </li>
                        <li>
                           <p>然后，使用任何<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code> *过程启用<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code>保护。
                           </p>
                        </li>
                        <li>
                           <p>您启用TSDP策略。作为TSDP策略启用过程的一部分，Oracle数据库在内部创建统一的审核策略，然后在步骤<a href="using-transparent-sensitive-data-protection.html#GUID-4F32E7A2-140C-4695-B60D-8D48E8AA7EF1__YOUCREATEATSDPPOLICYWITHTHENECESSAR-229E4661">1</a>的<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程中指定的目标用户和角色列表中启用它。
                           </p>
                           <p>内部策略的名称以<code class="codeph">ORA$UNIFIED_AUDIT_</code>开头，后跟随机字母数字字符串（例如， <code class="codeph">ORA$UNIFIED_AUDIT_6J6L3RSJSN2VAN0XF</code> ）。您可以通过查询<code class="codeph">AUDIT_UNIFIED_POLICIES</code>数据字典视图的<code class="codeph">POLICY_NAME</code>列来查找此策略。要查找强制执行此内部创建的<code class="codeph">AUDIT_UNIFIED_ENABLED_POLICIES</code>统一审核策略的用户和角色的名称，请查询<code class="codeph">AUDIT_UNIFIED_ENABLED_POLICIES</code>视图。
                           </p>
                        </li>
                        <li>
                           <p>当用户尝试对受TSDP策略保护的表执行操作时，则根据TSDP统一审计策略配置，将统一审计记录写入统一审计跟踪以进行此对象访问。然后，您可以查询<code class="codeph">UNIFIED_AUDIT_TRAIL</code>视图，以查看由于<code class="codeph">UNIFIED_AUDIT_TRAIL</code>统一审计策略实施而创建的统一审计记录。
                           </p>
                        </li>
                        <li>
                           <p>在您禁用此列的TSDP策略之前，这些保护将保持不变。此时，Oracle数据库会自动禁用然后删除内部策略，因为不再需要它。（必须先禁用统一的审核策略，然后才能删除它。）如果重新启用TSDP策略，则会重新创建内部策略。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687" title="透明的敏感数据保护和统一的审计程序可以结合这两个功能的保护。">将透明敏感数据保护策略与统一审计一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105" name="GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105"></a><h4 id="DBSEG-GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105" class="sect4">与TSDP策略一起使用的统一审核策略设置</h4>
                  <div>
                     <p>可以在<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>或<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程的<code class="codeph">POLICY_ENABLE_OPTIONS</code>参数中使用审核策略设置。
                     </p>
                     <p>这些审计策略设置来自<code class="codeph">AUDIT</code> ， <code class="codeph">CREATE AUDIT POLICY</code>和<code class="codeph">ALTER AUDIT POLICY</code>语句。
                     </p>
                     <p>下表介绍了这些设置。</p>
                     <div class="tblformal" id="GUID-0A3A7AE5-C44B-4B57-9DF6-F2FD06A88105__UNIFIEDAUDITPOLICYSETTINGSUSEDFORTS-69CF0274">
                        <p class="titleintable">表13-2用于TSDP策略的统一审核策略设置</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="用于TSDP策略的统一审核策略设置" border="1" summary="This table describes the unified audit policy settings that are used for TSDP policies. From left to right are the SQL Statement, Clause, Description, and Default columns." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d105132e8412">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e8414">描述</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e8416">默认</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8420" headers="d105132e8412 ">
                                    <p><code class="codeph">ACTION_AUDIT_OPTIONS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8420 d105132e8414 ">
                                    <p>包含以逗号分隔的SQL操作列表的字符串。</p>
                                    <p>有效的操作是： <code class="codeph">ALTER</code> ， <code class="codeph">AUDIT</code> ， <code class="codeph">COMMENT</code> ， <code class="codeph">DELETE</code> ， <code class="codeph">FLASHBACK</code> ， <code class="codeph">GRANT</code> ， <code class="codeph">INDEX</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">LOCK</code> ， <code class="codeph">RENAME</code> ， <code class="codeph">SELECT</code> ， <code class="codeph">UPDATE</code></p>
                                    <p>要配置策略以审核所有这些操作，请指定关键字<code class="codeph">ALL</code> 。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8420 d105132e8416 ">
                                    <p><code class="codeph">所有</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8476" headers="d105132e8412 ">
                                    <p><code class="codeph">AUDIT_CONDITION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8476 d105132e8414 ">
                                    <p><code class="codeph">SYS_CONTEXT（ <span class="codeinlineitalic">名称空间</span> ， <span class="codeinlineitalic">属性</span> ） <span class="codeinlineitalic">操作</span> <span class="codeinlineitalic">值列表</span></code></p>
                                    <p>在此语法中， <code class="codeph"><span class="codeinlineitalic">operation</span></code>可以是以下任何运算符： <code class="codeph">IN</code> ，| <code class="codeph">NOT IN</code> ， <code class="codeph">=</code> ， <code class="codeph">&lt;</code> ， <code class="codeph">&gt;</code>或<code class="codeph">&lt;&gt;</code></p>
                                    <p>如果审计条件包含单个引号，则指定两个单引号而不是一个，并将<code class="codeph">SYS_CONTEXT</code>括在单引号中。例如：</p><pre class="oac_no_warn" dir="ltr">'SYS_CONTEXT（''USERENV''，''CLIENT_IDENTIFIER''）='''myclient'''</pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8476 d105132e8416 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8531" headers="d105132e8412 ">
                                    <p><code class="codeph">EVALUATE_PER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8531 d105132e8414 ">
                                    <p>可以是以下之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">声明</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">SESSION</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">INSTANCE</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8531 d105132e8416 ">
                                    <p><code class="codeph">声明</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8556" headers="d105132e8412 ">
                                    <p><code class="codeph">实体名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8556 d105132e8414 ">
                                    <p>包含以逗号分隔的用户或角色列表的字符串。如果省略此参数，则会为所有用户启用审核策略。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8556 d105132e8416 ">
                                    <p><code class="codeph">NULL</code> （即所有数据库用户）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8569" headers="d105132e8412 ">
                                    <p><code class="codeph">ENABLE_OPTION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8569 d105132e8414 ">
                                    <p>仅在使用<code class="codeph">ENTITY_NAME</code>参数时适用。它指定<code class="codeph">ENTITY_NAME</code>是<code class="codeph">BY</code>用户列表， <code class="codeph">EXCEPT</code>用户列表还是<code class="codeph">BY USERS WITH GRANTED ROLES</code>角色列表。有效设置为：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">通过</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">除了</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">由具有授权角色的用户</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8569 d105132e8416 ">
                                    <p><code class="codeph">通过</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e8609" headers="d105132e8412 ">
                                    <p><code class="codeph">UNIFIED_AUDIT_POLICY_COMMENT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8609 d105132e8414 ">
                                    <p>描述将要创建的统一审核策略的字符串</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e8609 d105132e8416 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-398B7F3A-DE96-42DC-9F4F-91381D43A687" title="透明的敏感数据保护和统一的审计程序可以结合这两个功能的保护。">将透明敏感数据保护策略与统一审计一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8" name="GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8"></a><h3 id="DBSEG-GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8" class="sect3">使用具有细粒度审计的透明敏感数据保护策略</h3>
               <div>
                  <p>透明的敏感数据保护和细粒度的审计程序可以结合这两个功能的保护。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914">关于使用具有细粒度审计的TSDP策略</a><br>您可以配置透明敏感数据保护策略以进行细粒度审计。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-F852F1BE-D835-426C-9779-89139B066EEE">与TSDP策略一起使用的细粒度审计参数</a><br><code class="codeph">DBMS_FGA.ADD_POLICY</code>设置可以在<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>或<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程的<code class="codeph">POLICY_ENABLE_OPTIONS</code>参数中使用。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914" name="GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914"></a><h4 id="DBSEG-GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914" class="sect4">关于使用具有细粒度审计的TSDP策略</h4>
                  <div>
                     <p>您可以配置透明敏感数据保护策略以进行细粒度审计。</p>
                     <p><code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>和<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程使您可以从<code class="codeph">DBMS_FGA.ADD_POLICY</code>过程指定设置。
                     </p>
                     <p>此功能的工作原理如下：</p>
                     <ol>
                        <li id="GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914__YOUCREATEATSDPPOLICYWITHTHENECESSAR-22A1CABF">
                           <p>您可以使用必要的细粒度审核设置创建TSDP策略。</p>
                           <p><code class="codeph">DBMS_FGA.ADD_POLICY</code>策略使用<code class="codeph">DBMS_FGA.ADD_POLICY</code>过程中的参数设置。<a href="using-transparent-sensitive-data-protection.html#GUID-F852F1BE-D835-426C-9779-89139B066EEE" title="DBMS_FGA.ADD_POLICY设置可以在DBMS_TSDP_PROTECT.ADD_POLICY或DBMS_TSDP_PROTECT.ALTER_POLICY过程的POLICY_ENABLE_OPTIONS参数中使用。">与TSDP策略一起使用的细粒度审计参数</a>列出了这些设置。
                           </p>
                        </li>
                        <li>
                           <p>您可以使用<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>过程将<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>策略与必需的敏感类型相关联。
                           </p>
                        </li>
                        <li>
                           <p>然后，使用任何<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code> *过程启用<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code>保护。
                           </p>
                        </li>
                        <li>
                           <p>您启用TSDP策略。作为TSDP策略启用过程的一部分，Oracle数据库在内部创建了您在步骤<a href="using-transparent-sensitive-data-protection.html#GUID-0820E77A-F25D-4BD2-BEA5-AFF97E522914__YOUCREATEATSDPPOLICYWITHTHENECESSAR-22A1CABF">1</a>的<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程中指定的细粒度审计策略。
                           </p>
                           <p>内部策略的名称以<code class="codeph">ORA$FGA_</code>开头，后跟随机字母数字字符串（例如， <code class="codeph">ORA$FGA_6J6L3RSJSN2VAN0XF</code> ）。您可以通过查询<code class="codeph">DBA_POLICIES</code>数据字典视图的<code class="codeph">POLICY_NAME</code>列来查找此策略。
                           </p>
                        </li>
                        <li>
                           <p>当用户尝试对受TSDP策略保护的表执行操作时，则根据策略配置，在<code class="codeph">DBA_FGA_AUDIT_TRAIL</code>数据字典视图中生成用于此对象访问的细粒度审计记录。
                           </p>
                        </li>
                        <li>
                           <p>在您禁用此列的TSDP策略之前，这些保护将保持不变。此时，Oracle数据库会自动删除内部策略，因为不再需要它。如果重新启用TSDP策略，则会重新创建内部策略。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8" title="透明的敏感数据保护和细粒度的审计程序可以结合这两个功能的保护。">使用具有细粒度审计的透明敏感数据保护策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F852F1BE-D835-426C-9779-89139B066EEE" name="GUID-F852F1BE-D835-426C-9779-89139B066EEE"></a><h4 id="DBSEG-GUID-F852F1BE-D835-426C-9779-89139B066EEE" class="sect4">与TSDP策略一起使用的细粒度审计参数</h4>
                  <div>
                     <p><code class="codeph">DBMS_FGA.ADD_POLICY</code>设置可以在<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>或<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程的<code class="codeph">POLICY_ENABLE_OPTIONS</code>参数中使用。
                     </p>
                     <p>下表介绍了这些设置。</p>
                     <div class="tblformal" id="GUID-F852F1BE-D835-426C-9779-89139B066EEE__UNIFIEDAUDITPOLICYSETTINGSUSEDFORTS-69D5F836">
                        <p class="titleintable">表13-3用于TSDP策略的细粒度审计策略设置</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="用于TSDP策略的细粒度审核策略设置" border="1" summary="The following table describes the FGA policy settings that are used for TSDP policies. From left to right are the Parameter, Description, and Default columns." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d105132e9102">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e9104">描述</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e9106">默认</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9110" headers="d105132e9102 ">
                                    <p><code class="codeph">audit_condition</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9110 d105132e9104 ">
                                    <p>使用以下语法指定一个布尔值以指示监视条件：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">运营商价值</span></pre><p>例如： <code class="codeph">&lt; 1000</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9110 d105132e9106 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9129" headers="d105132e9102 ">
                                    <p><code class="codeph">handler_schema</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9129 d105132e9104 ">
                                    <p>包含事件处理程序的模式。默认值<code class="codeph">NULL</code>允许使用当前架构。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9129 d105132e9106 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9144" headers="d105132e9102 ">
                                    <p><code class="codeph">handler_module</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9144 d105132e9104 ">
                                    <p>事件处理程序的函数名称。如有必要，请包括包名称。只有在处理了与查询中的审计条件匹配的第一行后，才会调用此函数。如果过程因异常而失败，则用户的SQL语句也会失败。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9144 d105132e9106 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9156" headers="d105132e9102 ">
                                    <p><code class="codeph">statement_types</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9156 d105132e9104 ">
                                    <p>您可以指定以下语句类型之一： <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code> ， <code class="codeph">SELECT</code>或<code class="codeph">DELETE</code> 。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9156 d105132e9106 ">
                                    <p><code class="codeph">选择</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9180" headers="d105132e9102 ">
                                    <p><code class="codeph">AUDIT_TRAIL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9180 d105132e9104 ">
                                    <p>如果尚未将数据库迁移到完全统一审计，则使用此设置来设置审计记录的目标： <code class="codeph">DB</code>或XML记录的XML。此设置还指定是否填充<code class="codeph">FGA_LOG$</code>系统表中的<code class="codeph">LSQLTEXT</code>和<code class="codeph">LSQLBIND</code>列。
                                    </p>
                                    <p>如果启用了完全统一审核，则Oracle数据库会忽略此参数并将审核记录写入统一审核跟踪。</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9180 d105132e9106 ">
                                    <p><code class="codeph">空值</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9206" headers="d105132e9102 ">
                                    <p><code class="codeph">object_schema</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9206 d105132e9104 ">
                                    <p>与敏感列对应的架构</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9206 d105132e9106 ">
                                    <p>包含敏感列的架构</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9217" headers="d105132e9102 ">
                                    <p><code class="codeph">OBJECT_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9217 d105132e9104 ">
                                    <p>包含敏感列的表</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9217 d105132e9106 ">
                                    <p>包含敏感列的对象（表或视图）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9228" headers="d105132e9102 ">
                                    <p><code class="codeph">POLICY_NAME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9228 d105132e9104 ">
                                    <p>系统生成的内部细粒度审核策略的名称</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9228 d105132e9106 ">
                                    <p>内部细粒度审计策略系统生成的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9239" headers="d105132e9102 ">
                                    <p><code class="codeph">audit_column</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9239 d105132e9104 ">
                                    <p>敏感专栏</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9239 d105132e9106 ">
                                    <p>敏感专栏</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9250" headers="d105132e9102 ">
                                    <p><code class="codeph">audit_column_opts</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9250 d105132e9104 ">
                                    <p>确定是否审核所有列或特定列</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9250 d105132e9106 ">
                                    <p><code class="codeph">DBMS_FGA.ANY_COLUMN</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9262" headers="d105132e9102 ">
                                    <p><code class="codeph">启用</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9262 d105132e9104 ">
                                    <p>启用TSDP策略的状态;可以是<code class="codeph">TRUE</code>或<code class="codeph">FALSE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9262 d105132e9106 ">
                                    <p><code class="codeph">真正</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9280" headers="d105132e9102 ">
                                    <p><code class="codeph">policy_owner时</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9280 d105132e9104 ">
                                    <p>调用<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code> *过程的用户</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9280 d105132e9106 ">
                                    <p>当前用户</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-A352A0CD-C6BF-4554-95F1-256358C5EAA8" title="透明的敏感数据保护和细粒度的审计程序可以结合这两个功能的保护。">使用具有细粒度审计的透明敏感数据保护策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5" name="GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5"></a><h3 id="DBSEG-GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5" class="sect3">使用透明敏感数据保护策略和TDE列加密</h3>
               <div>
                  <p>TSDP过程和透明数据加密列加密语句可以结合这两个功能的保护。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-D6F908B0-3E55-463D-85DE-90E99979D31C">关于将TSDP策略与TDE列加密一起使用</a><br>TSDP策略可以对使用透明数据加密的列进行加密。
                     </li>
                     <li class="ulchildlink"><a href="using-transparent-sensitive-data-protection.html#GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5">TDE列加密ENCRYPT子句设置与TSDP策略一起使用</a><br>可以在<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>或<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程的<code class="codeph">POLICY_ENABLE_OPTIONS</code>参数中使用<code class="codeph">CREATE TABLE</code>和<code class="codeph">ALTER TABLE</code>语句<code class="codeph">ENCRYPT</code>子句设置。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-D6F908B0-3E55-463D-85DE-90E99979D31C" name="GUID-D6F908B0-3E55-463D-85DE-90E99979D31C"></a><h4 id="DBSEG-GUID-D6F908B0-3E55-463D-85DE-90E99979D31C" class="sect4">关于将TSDP策略与TDE列加密一起使用</h4>
                  <div>
                     <p>TSDP策略可以对使用透明数据加密的列进行加密。</p>
                     <p><code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>和<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程使您可以从<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code>语句指定<code class="codeph">ENCRYPT</code>子句设置。
                     </p>
                     <p>此功能的工作原理如下：</p>
                     <ol>
                        <li>
                           <p>您可以使用<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>过程创建<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>策略。在<code class="codeph">ADD_POLICY</code>过程中，您可以通过将<code class="codeph">SECURITY_FEATURE</code>参数设置为<code class="codeph">DBMS_TSDP_PROTECT.COLUMN_ENCRYPTION</code>来配置列加密策略。在对象上启用TSDP策略时，此设置可在敏感列上启用加密。
                           </p>
                        </li>
                        <li>
                           <p>您使用必要的表加密设置创建TSDP策略。</p>
                           <p>TSDP策略使用<code class="codeph">CREATE TABLE</code>或<code class="codeph">ALTER TABLE</code> SQL语句中的参数设置。<a href="using-transparent-sensitive-data-protection.html#GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5" title="可以在DBMS_TSDP_PROTECT.ADD_POLICY或DBMS_TSDP_PROTECT.ALTER_POLICY过程的POLICY_ENABLE_OPTIONS参数中使用CREATE TABLE和ALTER TABLE语句ENCRYPT子句设置。">TDE列加密ENCRYPT与TSDP策略一起使用的子句设置</a>列出了这些设置。
                           </p>
                        </li>
                        <li>
                           <p>您可以使用<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>过程将<code class="codeph">DBMS_TSDP_PROTECT.ASSOCIATE_POLICY</code>策略与必需的敏感类型相关联。
                           </p>
                        </li>
                        <li>
                           <p>然后，使用任何<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code> *过程启用<code class="codeph">DBMS_TSDP_PROTECT.ENABLE_PROTECTION_</code>保护。
                           </p>
                        </li>
                        <li>
                           <p>您启用TSDP策略。此时，Oracle数据库会创建一个内部TSDP策略，该策略使用您在此过程中先前创建的加密表设置。</p>
                           <p>内部策略的名称以<code class="codeph">ORA$TDECE_</code>开头，后跟随机字母数字字符串（例如， <code class="codeph">ORA#TDECE_6J6L3RSJSN2VAN0XF</code> ）。您可以通过查询<code class="codeph">DBA_TSDP_POLICY_PROTECTION</code>视图的<code class="codeph">TSDP_POLICY</code>列来查找此策略。
                           </p>
                        </li>
                        <li>
                           <p>当用户尝试对受策略保护的表执行操作时，该列的输出基于TDE列保护和现有的TSDP策略。通过查询<code class="codeph">DBA_ENCRYPTED_COLUMNS</code>视图的<code class="codeph">ENCRYPTION_ALG</code>列，可以在<code class="codeph">DBA_ENCRYPTED_COLUMNS</code>策略后检查列是否已加密。
                           </p>
                        </li>
                        <li>
                           <p>在您禁用此列的TSDP策略之前，这些保护将保持不变。此时，Oracle数据库在内部在包含敏感列的表上发出<code class="codeph">ALTER TABLE</code>语句，以便敏感列被解密。如果重新启用TSDP策略，则TSDP在内部执行带有该列的<code class="codeph">ENCRYPT</code>子句的<code class="codeph">ALTER TABLE</code>语句。
                           </p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-D6F908B0-3E55-463D-85DE-90E99979D31C__GUID-65BEC7D7-E469-4585-8E33-3A7350962FD8">
                        <p class="notep1">注意：</p>
                        <p>可以在同一列上创建两个策略，每个策略指定不同的加密算法。在这种情况下，两个算法中较强的一个在敏感列上强制执行。</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5" title="TSDP过程和透明数据加密列加密语句可以结合这两个功能的保护。">将透明敏感数据保护策略与TDE列加密一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5" name="GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5"></a><h4 id="DBSEG-GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5" class="sect4">TDE列加密ENCRYPT子句设置与TSDP策略一起使用</h4>
                  <div>
                     <p>可以在<code class="codeph">DBMS_TSDP_PROTECT.ADD_POLICY</code>或<code class="codeph">DBMS_TSDP_PROTECT.ALTER_POLICY</code>过程的<code class="codeph">POLICY_ENABLE_OPTIONS</code>参数中使用<code class="codeph">CREATE TABLE</code>和<code class="codeph">ALTER TABLE</code>语句<code class="codeph">ENCRYPT</code>子句设置。
                     </p>
                     <p>下表介绍了这些设置。</p>
                     <div class="tblformal" id="GUID-3F65576B-7621-40F5-AC1D-6AEF730891D5__UNIFIEDAUDITPOLICYSETTINGSUSEDFORTS-69DA65CC">
                        <p class="titleintable">表13-4 TDE列加密用于TSDP策略的ENCRYPT设置</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="TDE列加密用于TSDP策略的ENCRYPT设置" border="1" summary="This table describes the TDE column encryption ENCRYPT settings that are used for TSDP policies. From left to right are the Encrypt Setting Type, Description, and Default columns." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d105132e9831">参数</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e9833">描述</th>
                                 <th align="left" valign="bottom" width="20%" id="d105132e9835">默认</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9839" headers="d105132e9831 ">
                                    <p><code class="codeph">encrypt_algorithm</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9839 d105132e9833 ">
                                    <p>可用值</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">3DES168</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AES128</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AES192</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">AES256</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ARIA128</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ARIA192</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">ARIA256</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">SEED128</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">GOST256</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9839 d105132e9835 ">
                                    <p><code class="codeph">AES192</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9888" headers="d105132e9831 ">
                                    <p><code class="codeph">盐</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9888 d105132e9833 ">
                                    <p>可用值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">盐</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">没有盐</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9888 d105132e9835 ">
                                    <p><code class="codeph">盐</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105132e9909" headers="d105132e9831 ">
                                    <p><code class="codeph">integrity_algorithm</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9909 d105132e9833 ">
                                    <p>可用值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">SHA-1</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">NOMAC</code></p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105132e9909 d105132e9835 ">
                                    <p><code class="codeph">SHA-1</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-1626D36F-AD06-42E6-A70E-E6F440DA87F5" title="TSDP过程和透明数据加密列加密语句可以结合这两个功能的保护。">将透明敏感数据保护策略与TDE列加密一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG957"></a><a id="DBSEG956"></a><div class="props_rev_3"><a id="GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E" name="GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E"></a><h3 id="DBSEG-GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E" class="sect3">透明敏感数据保护数据字典视图</h3>
               <div>
                  <p>Oracle数据库提供数据字典视图，列出有关透明敏感数据保护策略的信息。</p>
                  <div class="section">
                     <p><a href="using-transparent-sensitive-data-protection.html#GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E__CHDDAAAB" title="TSDP视图">表13-5</a>介绍了这些视图。必须先授予<code class="codeph">SELECT_CATALOG_ROLE</code>角色，然后才能使用这些视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E__CHDDAAAB">
                     <p class="titleintable">表13-5透明敏感数据保护视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="透明的敏感数据保护视图" width="100%" border="1" summary="TSDP Views" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="40%" id="d105132e10068">视图</th>
                              <th align="left" valign="bottom" width="60%" id="d105132e10071">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10076" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_DISCOVERY_SOURCE</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10076 d105132e10071 ">
                                 <p>描述有关透明敏感数据保护策略的发现导入信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10084" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_SENSITIVE_COLUMN_TYPES</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10084 d105132e10071 ">
                                 <p>描述为当前数据库定义的敏感列类型</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10092" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_SENSITIVE_DATA</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10092 d105132e10071 ">
                                 <p>描述数据库中的敏感列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10100" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_IMPORT_ERRORS</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10100 d105132e10071 ">
                                 <p>显示有关导入发现结果期间遇到的错误的信息。它显示有关错误代码，架构名称，表名称，列名称和敏感类型的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10108" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_CONDITION</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10108 d105132e10071 ">
                                 <p>描述透明敏感数据保护策略和条件映射。此视图还列出了条件的属性 - 值对。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10116" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_FEATURE</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10116 d105132e10071 ">
                                 <p>显示透明的敏感数据保护策略安全功能映射。（目前，仅支持Oracle Data Redaction和Oracle虚拟专用数据库。）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10124" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_PARAMETER</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10124 d105132e10071 ">
                                 <p>描述透明敏感数据保护策略的参数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10132" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_PROTECTION</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10132 d105132e10071 ">
                                 <p>显示通过透明敏感数据保护受保护的列的列表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d105132e10140" headers="d105132e10068 ">
                                 <p><code class="codeph">DBA_TSDP_POLICY_TYPE</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d105132e10140 d105132e10071 ">
                                 <p>显示策略到敏感列类型映射</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-73223BC8-2028-464F-9A4A-4FB59CD5C87E__GUID-F9E14249-6728-41AF-9D0A-3E42AACF6BAB">
                     <p class="notep1">也可以看看：</p><a href="../refrn/index.html" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>有关这些视图的更多信息</div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="using-transparent-sensitive-data-protection.html#GUID-2C55E6BF-8FD9-4537-B649-88AB788002A5" title="透明的敏感数据保护使您可以查找包含敏感数据的数据库中的所有表列。">使用透明敏感数据保护</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>