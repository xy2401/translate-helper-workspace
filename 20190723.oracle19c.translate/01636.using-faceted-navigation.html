<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Become familiar with the faceted navigation feature."></meta>
      <meta name="description" content="Become familiar with the faceted navigation feature."></meta>
      <title>使用分面导航</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Application Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Become familiar with the faceted navigation feature."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Application Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96275-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="working-with-thesaurus-in-oracle-text.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-XML-query-result-set-interface.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="CCAPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="working-with-thesaurus-in-oracle-text.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-XML-query-result-set-interface.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用分面导航</li>
            </ol>
            <a id="GUID-0A60B54D-D3A5-4556-98D3-8D92C9870FFD" name="GUID-0A60B54D-D3A5-4556-98D3-8D92C9870FFD"></a>
            
            <h2 id="CCAPP-GUID-0A60B54D-D3A5-4556-98D3-8D92C9870FFD" class="sect2"><span class="enumeration_chapter">14</span>使用分面导航</h2>
         </header>
         <div class="ind">
            <div>
               <p>熟悉分面导航功能。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="using-faceted-navigation.html#GUID-C9FFB438-2643-4F75-9B5B-1210632DBE51">关于分面导航</a></p>
                  </li>
                  <li>
                     <p><a href="using-faceted-navigation.html#GUID-9E0500AD-B0C2-4C6F-96EA-4C1FEFB6EC39">将截面定义为构面</a></p>
                  </li>
                  <li>
                     <p><a href="using-faceted-navigation.html#GUID-FF3A4F21-AE73-4705-A4CC-65A38FFEE1A4">使用结果集界面查询构面</a></p>
                  </li>
                  <li>
                     <p><a href="using-faceted-navigation.html#GUID-189E71B5-6499-4E49-A2D1-A21482860172">使用构面作为过滤器来细化查询</a></p>
                  </li>
                  <li>
                     <p><a href="using-faceted-navigation.html#GUID-60EE2521-7ED4-45B2-9296-296EACB61792">多值方面</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-C9FFB438-2643-4F75-9B5B-1210632DBE51" name="GUID-C9FFB438-2643-4F75-9B5B-1210632DBE51"></a><h3 id="CCAPP-GUID-C9FFB438-2643-4F75-9B5B-1210632DBE51" class="sect3"><span class="enumeration_section">14.1</span>关于分面导航</h3>
               <div>
                  <p>此功能实现了组计数，也称为facet，它们经常用于电子商务或目录应用程序。在各种应用中，不仅优选地显示查询返回的命中列表，而且还优选地对结果进行分类。</p>
                  <p>例如，电子商务应用程序想要显示与术语<span class="italic">管理</span>的查询匹配的所有产品以及分面信息。方面包括“产品类型”（书籍或DVD），“作者”和“日期”。对于每个方面，应用程序显示唯一值（书籍或DVD）及其计数。您可以快速评估大多数感兴趣的产品都属于“书籍”类别。您可以通过选择“产品类型”下的“图书”值来进一步优化搜索。
                  </p>
                  <p>组计数定义为具有特定值的文档数。如果在同一文档中重复某个值，则该文档会为该值的总组计数提供1的计数。使用<span class="italic"><code class="codeph">optimized_for search</code></span> <code class="codeph">SDATA.</code> <code class="codeph">SDATA</code>部分支持组计数或方面<code class="codeph">SDATA.</code>要请求计算查询的构面，请使用结果集界面。
                  </p>
               </div>
            </div>
            <div class="sect2"><a id="GUID-9E0500AD-B0C2-4C6F-96EA-4C1FEFB6EC39" name="GUID-9E0500AD-B0C2-4C6F-96EA-4C1FEFB6EC39"></a><h3 id="CCAPP-GUID-9E0500AD-B0C2-4C6F-96EA-4C1FEFB6EC39" class="sect3"><span class="enumeration_section">14.2</span>将截面定义为构面</h3>
               <div>
                  <div class="section"><code class="codeph">SDATA</code>是指结构化数据。您使用设置为“搜索”或“排序和搜索”的<code class="codeph"><span class="codeinlineitalic">optimized_for</span></code>属性创建的<code class="codeph">SDATA</code>部分支持组计数或构面。在<code class="codeph">MULTI_COLUMN_DATASTORE</code>首选项中，当数据出现在指定为<code class="codeph"><span class="codeinlineitalic">optimized_for search</span></code> <code class="codeph">SDATA,</code>标记或列之间时<code class="codeph">SDATA,</code>数据会自动编入索引作为构面数据。任何与其声明类型不匹配的数据都是根据当前处理特定行的索引错误的相同框架来处理的。
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E0500AD-B0C2-4C6F-96EA-4C1FEFB6EC39__GUID-B7D0FC64-E95B-4322-BAB9-D66FB14DC0E0">例子</p>
                     <p>在以下语句中，某些标记数据将插入表的<code class="codeph">VARCHAR2</code>列中。您可以稍后定义<code class="codeph">SDATA</code>部分以根据此处使用的标记收集数据。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>带标签<span class="bold">价格的</span>二进制浮点数或二进制双：</p><code class="codeph">插入mytab值（1，'red marble'&lt;price&gt; 1.23 &lt;/ price&gt;'）;</code></li>
                        <li>
                           <p>标签<span class="bold">T的</span>时间戳：</p><code class="codeph">插入mytab值（1，'blue marbles &lt;T&gt; 2012-12-05T05：20：00 &lt;/ T&gt;'）;</code></li>
                     </ul>
                     <p>在以下语句中，将创建节组并添加各种<code class="codeph">SDATA</code>节组。节定义包括它所属的节组，节的名称，要查找的标签以及数据类型。
                     </p><pre class="pre codeblock"><code>exec ctx_ddl.create_section_group（'sg'，'BASIC_SECTION_GROUP'）exec ctx_ddl.add_SDATA_section（'sg'，'sec01'，'name'，'varchar2'）exec ctx_ddl.add_SDATA_section（'sg'，'sec02'，'count' ，'number'）exec ctx_ddl.add_SDATA_section（'sg'，'sec03'，'date'，'date'）exec ctx_ddl.add_SDATA_section（'sg'，'sec04'，'timestamp'，'timestamp'）exec ctx_ddl。 add_SDATA_section（'sg'，'sec05'，'new price'，'binary_double'）exec ctx_ddl.add_SDATA_section（'sg'，'sec06'，'old price'，'binary_float'）exec ctx_ddl.add_SDATA_section（'sg'， 'sec07'，'timestamp'，'带时区的时间戳'）</code></pre><p>给facet的名称是<code class="codeph">'sec01'</code> ， <code class="codeph">'name'</code>标签是在要编制索引的文档中发生的实际标记名称。<code class="codeph">'date'</code> ， <code class="codeph">'timestamp'</code>和<code class="codeph">'timestamp with time zone'</code>数据类型要求输入数据采用标准ISO格式。
                     </p>
                     <div class="infoboxnotealso" id="GUID-9E0500AD-B0C2-4C6F-96EA-4C1FEFB6EC39__GUID-B00C51B1-FE71-4251-ADCE-041E518F814C">
                        <p class="notep1">也可以看看：</p>
                        <p>有关标准ISO格式的更多信息，请<a href="../nlspg/datetime-data-types-and-time-zone-support.html#NLSPG-GUID-C2FD0A7D-974F-4C62-8210-1C356243E222" target="_blank"><span class="italic">参见“Oracle数据库全球化支持指南”</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-9E0500AD-B0C2-4C6F-96EA-4C1FEFB6EC39__EXAMPLE-F6E7DAB7">
                     <p class="titleinexample">示例14-1使用分面导航</p>
                     <p>以下语句创建一个名为<code class="codeph">products:</code>的表<code class="codeph">products:</code></p><pre class="pre codeblock"><code>滴桌产品;创建表产品（名称varchar2（60），供应商varchar2（60），评级号，价格号，mydate日期）;</code></pre><p>以下语句将值插入到<code class="codeph">products:</code></p><pre class="pre codeblock"><code>将所有产品值（'cherry red shoes'，'first vendor'，5,129，sysdate）插入产品值（'鲜红鞋'，'第一供应商'，4,109，sysdate）到产品值（'更多红鞋'，'第二供应商'，5,129，sysdate）进入产品价值（'鞋'，'第三供应商'，5,109，sysdate）select * from dual;</code></pre><p>以下语句创建名为<code class="codeph">ds</code>的<code class="codeph">MULTI_COLUMN_DATASTORE</code>首选项，以将各种其他列引入索引（ <code class="codeph">name</code> ）以用作构面：</p><pre class="pre codeblock"><code>/ * MULTI_COLUMN_DATASTORE默认自动添加标签，以便要编入索引的文本看起来像'&lt;name&gt; cherry red shoes &lt;/ name&gt; &lt;vendor&gt; first vendor &lt;/ vendor&gt; &lt;rating&gt; ....'* / exec ctx_ddl.drop_preference（'ds'）exec ctx_ddl.create_preference（'ds'，'MULTI_COLUMN_DATASTORE'）exec ctx_ddl.set_attribute（'ds'，'COLUMNS'，'name，vendor，rating，price，mydate'）</code></pre><div class="infoboxnote" id="GUID-9E0500AD-B0C2-4C6F-96EA-4C1FEFB6EC39__GUID-52518344-42D1-42BB-940B-05B55FE6DD4F">
                        <p class="notep1">注意：</p>
                        <p>Oracle不允许具有<code class="codeph">binary_float, binary_double, timestamp,</code>和<code class="codeph">timestamp with timezone</code>表列<code class="codeph">timestamp with timezone</code>数据类型。因此，使用<code class="codeph">MULTI_COLUMN_DATASTORE.</code>很难使用这些数据类型<code class="codeph">MULTI_COLUMN_DATASTORE.</code>如果文档包含这些数据类型的标记数据，您仍然可以创建构面。或者，您可以将'timestamp'列转换为'date'，并且可以将<code class="codeph">binary_float</code>和<code class="codeph">binary_double</code>存储为'number'。
                        </p>
                     </div>
                     <p>以下语句创建名为<code class="codeph">sg</code>的节组，并为每个列启用<code class="codeph">optimized_for search</code>属性以将其视为构面：</p><pre class="pre codeblock"><code>/ *创建一个Section Group来指定每列的数据类型（varchar2是默认值）以及如何使用每个列进入索引。* / exec ctx_ddl.drop_section_group（'sg'）exec ctx_ddl.create_section_group（'sg'，'BASIC_SECTION_GROUP'）exec ctx_ddl.add_sdata_section（'sg'，'vendor'，'vendor'，'VARCHAR2'）exec ctx_ddl.add_sdata_section（ 'sg'，'rating'，'rating'，'NUMBER'）exec ctx_ddl.add_sdata_section（'sg'，'price'，'price'，'NUMBER'）exec ctx_ddl.add_sdata_section（'sg'，'mydate'， 'mydate'，'DATE'）exec ctx_ddl.set_section_attribute（'sg'，'vendor'，'optimized_for'，'SEARCH'）exec ctx_ddl.set_section_attribute（'sg'，'rating'，'optimized_for'，'SEARCH'） exec ctx_ddl.set_section_attribute（'sg'，'price'，'optimized_for'，'SEARCH'）exec ctx_ddl.set_section_attribute（'sg'，'mydate'，'optimized_for'，'SEARCH'）</code></pre><p>以下语句在<code class="codeph">name</code>上创建索引，并使用<code class="codeph">PARAMETERS</code>子句指定首选项：</p><pre class="pre codeblock"><code>CREATE INDEX product_index ON产品（名称）INDEXTYPE IS ctxsys.context PARAMETERS（'datastore ds section group sg'）;</code></pre><p>可以指定以下语句查询产品名称，“red shoes”和计算方面。<code class="codeph">count</code>属性显示与产品查询匹配的项目总数。结果集界面指定了各种要求，例如具有最大匹配项数，最低可用价格和最新到货数的顶级供应商：</p><pre class="pre codeblock"><code>设置长500000设置pagesize 0变量显示器clob;宣告罗布;开始ctx_query.result_set（'product_index'，'red shoes'，'&lt;ctx_result_set_descriptor&gt; &lt;count /&gt; &lt;group sdata =“vendor”topn =“5”sortby =“count”order =“desc”&gt; &lt;count exact =“ true“/&gt; &lt;/ group&gt; &lt;group sdata =”price“topn =”3“sortby =”value“order =”asc“&gt; &lt;count exact =”true“/&gt; &lt;/ group&gt; &lt;group sdata =”mydate “topn =”3“sortby =”value“order =”desc“&gt; &lt;count exact =”true“/&gt; &lt;/ group&gt; &lt;/ ctx_result_set_descriptor&gt;'，rs）; / *漂亮打印结果集（rs）以用于显示目的。如果您要在XML中操作它，则不需要。* / select xmlserialize（Document XMLType（rs）as clob indent size = 2）into：display from dual; dbms_lob.freetemporary（RS）;结束; / select：双显示器;</code></pre><p>输出如下：</p><pre class="pre codeblock"><code>&lt;ctx_result_set&gt; &lt;count&gt; 3 &lt;/ count&gt; &lt;groups sdata =“VENDOR”&gt; &lt;group value =“first vendor”&gt; &lt;count&gt; 2 &lt;/ count&gt; &lt;/ group&gt; &lt;group value =“second vendor”&gt; &lt; count&gt; 1 &lt;/ count&gt; &lt;/ group&gt; &lt;/ groups&gt; &lt;groups sdata =“PRICE”&gt; &lt;group value =“109”&gt; &lt;count&gt; 1 &lt;/ count&gt; &lt;/ group&gt; &lt;group value =“129” &gt; &lt;count&gt; 2 &lt;/ count&gt; &lt;/ group&gt; &lt;/ groups&gt; &lt;groups sdata =“MYDATE”&gt; &lt;group value =“2017-12-06 05:44:54”&gt; &lt;count&gt; 3 &lt;/ count&gt; &lt;/ group&gt; &lt;/ groups&gt; &lt;/ ctx_result_set&gt;</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-FF3A4F21-AE73-4705-A4CC-65A38FFEE1A4" name="GUID-FF3A4F21-AE73-4705-A4CC-65A38FFEE1A4"></a><h3 id="CCAPP-GUID-FF3A4F21-AE73-4705-A4CC-65A38FFEE1A4" class="sect3"><span class="enumeration_section">14.3</span>使用结果集界面查询构面</h3>
               <div>
                  <div class="section">
                     <p>从Oracle Database Release 18c开始，提供了指定的构面列表的组计数操作。您可以使用<code class="codeph">bucketby</code>属性并将其值设置为<code class="codeph">single.</code>来获取每个值的组计数<code class="codeph">single.</code> 还支持<code class="codeph">topn,</code> <code class="codeph">sortby,</code>和<code class="codeph">order</code>属性。
                     </p>
                     <div class="p"><span class="bold">bucketby属性</span><ul style="list-style-type:disc">
                           <li>
                              <p>此版本中唯一有效的属性是<code class="codeph">single</code> 。
                              </p>
                           </li>
                           <li>
                              <p>“单一”模式生成构面的所有唯一值的列表以及每个值的文档计数。</p>
                           </li>
                        </ul>
                     </div>
                     <div class="p"><span class="bold">topn属性</span><ul style="list-style-type:disc">
                           <li>
                              <p>有效属性值是大于零的非负数。</p>
                           </li>
                           <li>
                              <p>此属性指定仅返回前<code class="codeph">n</code> facet值及其计数。
                              </p>
                           </li>
                           <li>
                              <p>除非<code class="codeph">sortby</code>属性设置为<code class="codeph">value.</code>否则组计数将确定要返回的前<code class="codeph">n</code>值<code class="codeph">value.</code> 在这种情况下，将根据数据类型对值进行排序，并返回排序的前<code class="codeph">n</code>结果。排序遵循order属性。
                              </p>
                           </li>
                           <li>
                              <p>默认情况下，结果按组计数按降序排序。</p>
                           </li>
                           <li>
                              <p>如果计数中出现平局，则无法保证此平局内的方面值的排序。</p>
                           </li>
                        </ul>
                     </div>
                     <p><span class="bold">单计数</span></p>
                     <p>以下语句在表<code class="codeph">mytab.</code>插入几行<code class="codeph">mytab.</code> 某些行具有facet <code class="codeph">&lt;B&gt;,</code>两个值<code class="codeph">&lt;B&gt;,</code>而某些行具有单个值。
                     </p><pre class="pre codeblock"><code>开始插入mytab值（1，'&lt;B&gt; 1.234 &lt;/ B&gt; &lt;B&gt; 5 &lt;/ B&gt;'）;插入mytab值（2，'&lt;B&gt; 1.432 &lt;/ B&gt;'）;插入mytab值（3，'&lt;B&gt; 2.432 &lt;/ B&gt; &lt;B&gt; 6 &lt;/ B&gt;'）;插入mytab值（4，'&lt;B&gt; 2.432 &lt;/ B&gt;'）;结束;</code></pre><p>单个计数显示每个唯一值和具有此值的文档数：</p><pre class="pre codeblock"><code>&lt;ctx_result_set&gt; &lt;groups sdata =“SEC01”&gt; &lt;group value =“2.432”&gt; &lt;count&gt; 2 &lt;/ count&gt; &lt;/ group&gt; &lt;group value =“1.234”&gt; &lt;count&gt; 1 &lt;/ count&gt; &lt;/ group &gt; &lt;group value =“5”&gt; &lt;count&gt; 1 &lt;/ count&gt; &lt;/ group&gt; &lt;group value =“6”&gt; &lt;count&gt; 1 &lt;/ count&gt; &lt;/ group&gt; &lt;group value =“1.432”&gt; &lt; count&gt; 1 &lt;/ count&gt; &lt;/ group&gt; &lt;/ groups&gt; &lt;/ ctx_result_set&gt;</code></pre><p>如果删除了文档1，则会看到以下结果：</p><pre class="pre codeblock"><code>&lt;ctx_result_set&gt; &lt;groups sdata =“SEC01”&gt; &lt;group value =“2.432”&gt; &lt;count&gt; 2 &lt;/ count&gt; &lt;/ group&gt; &lt;group value =“6”&gt; &lt;count&gt; 1 &lt;/ count&gt; &lt;/ group &gt; &lt;group value =“1.432”&gt; &lt;count&gt; 1 &lt;/ count&gt; &lt;/ group&gt; &lt;/ groups&gt; &lt;/ ctx_result_set&gt;</code></pre><div class="p"><span class="bold">排序和排序属性</span><ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">sortby</code>支持“count”和“value”属性值。
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">count</code>各种各样的组数（数字）。这是默认值。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">value</code>按<code class="codeph">value</code>排序，具体取决于数据类型。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">order</code>支持<code class="codeph">ASC</code> （升序）和<code class="codeph">DESC</code> （降序），这是默认值。
                              </p>
                           </li>
                           <li>
                              <p>如果没有选择，则默认为count <code class="codeph">DESC.</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-FF3A4F21-AE73-4705-A4CC-65A38FFEE1A4__GUID-5C990F9C-211E-4576-8644-2F3C75D750E5">
                     <p>如果<code class="codeph">bucketby</code>设置为<code class="codeph">single,</code>则此示例显示数字facet的分组<code class="codeph">single,</code>其中<code class="codeph">mytab_idx</code>是索引的名称， <code class="codeph">text</code>是查询， <code class="codeph">SDATA</code>组请求facet：</p><pre class="pre codeblock"><code>开始ctx_query.result_set（'mytab_idx'，'text'，'&lt;ctx_result_set_descriptor&gt; &lt;group sdata =“sec01”topn =“4”sortby =“value”order =“asc”bucketby =“single”&gt; &lt;/ group&gt; &lt; / ctx_result_set_descriptor&gt;'：rs）;结束;</code></pre><p>以下是一个示例输出，显示值按字母顺序列出，因为<code class="codeph">sortby</code>属性设置为<code class="codeph">value</code>而不是<code class="codeph">count.</code> 值也以升序显示（ABC到XYZ），因为<code class="codeph">order</code>属性设置为<code class="codeph">asc.</code> 仅显示四个值，因为<code class="codeph">topn</code>属性设置为<code class="codeph">4.</code></p><pre class="pre codeblock"><code>&lt;ctx_result_set&gt; &lt;group SDATA =“SEC01”&gt; &lt;group value =“ABC”&gt; &lt;count&gt; 2 &lt;/ count&gt; &lt;/ group&gt; &lt;group value =“DEF”&gt; &lt;count&gt; 1 &lt;/ count&gt; &lt;/ group &gt; &lt;group value =“GHI”&gt; &lt;count&gt; 10 &lt;/ count&gt; &lt;/ group&gt; &lt;group value =“XYZ”&gt; &lt;count&gt; 1 &lt;/ count&gt; &lt;/ group&gt; &lt;/ ctx_result_set&gt;</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-189E71B5-6499-4E49-A2D1-A21482860172" name="GUID-189E71B5-6499-4E49-A2D1-A21482860172"></a><h3 id="CCAPP-GUID-189E71B5-6499-4E49-A2D1-A21482860172" class="sect3"><span class="enumeration_section">14.4</span>使用构面作为过滤器来细化查询</h3>
               <div>
                  <div class="section">facet实现现在支持使用可用于SDATA的标准数据库比较运算符集的<code class="codeph">CONTAINS</code>查询。以下示例基于'name'varchar2部分。将其与数字一起使用时，请勿在要搜索的数字术语周围使用引号。<pre class="pre codeblock"><code>contains（text，'SDATA（sec01 =“run”）'，1）&gt; 0包含（text，'SDATA（sec01&gt;“run”）'，1）&gt; 0包含（text，'SDATA（sec01&gt; =“run） “）'，1）&gt; 0包含（文本，'SDATA（sec01 &lt;”run“）'，1）&gt; 0包含（文本，'SDATA（sec01 &lt;=”run“）'，1）&gt; 0包含（文本，'SDATA（sec01 &lt;&gt;“run”）'，1）&gt; 0包含（文本，'SDATA（sec01！=“run”）'，1）&gt; 0包含（文本，'SDATA（在“run1”和“run2”之间的sec01）'，1）&gt; 0包含（文本，'SDATA（sec01不在“run1”和“run2之间） “）'，1）&gt; 0包含（文本，'SDATA（sec01为空）'，1）&gt; 0包含（文本，'SDATA（sec01不为空）'，1）&gt; 0包含（文本，'SDATA（ sec01喜欢“％run”）'，1）&gt; 0包含（text，'SDATA（sec01 like“run％”）'，1）&gt; 0包含（text，'SDATA（sec01 like“％run％”）'， 1）&gt; 0包含（文本，'SDATA（sec01不像“％run”）'，1）&gt; 0包含（文本，'SDATA（sec01不像“run％”）'，1）&gt; 0包含（文本， 'SDATA（sec01不像“％run％”）'，1）&gt; 0包含（文本，'SDATA（sec02 = 9）'，1）&gt; 0包含（文本，'SDATA（sec02 &lt;10）'，1） &gt; 0包含（文本，'SDATA（sec02在2和20之间）'，1）&gt; 0</code></pre><p>比较运算符根据各种数据类型的当前<code class="codeph"><span class="codeinlineitalic">optimized_for search</span></code> <code class="codeph">SDATA</code>行为进行操作。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-60EE2521-7ED4-45B2-9296-296EACB61792" name="GUID-60EE2521-7ED4-45B2-9296-296EACB61792"></a><h3 id="CCAPP-GUID-60EE2521-7ED4-45B2-9296-296EACB61792" class="sect3"><span class="enumeration_section">14.5</span>多值方面</h3>
               <div>
                  <p>如果在同一文档中<code class="codeph"><span class="codeinlineitalic">optimized for search</span> SDATA</code>部分<code class="codeph"><span class="codeinlineitalic">optimized for search SDATA</span></code>多个值，则如果该值包含在与SDATA部分对应的自己的标记中，则对每个值进行索引。未包含在单独的节标记内但在同一节标记内一起显示的值将被视为单个值。
                  </p>
                  <p>例如，在文档中， <code class="codeph">&lt;car&gt;First Car, Second Car&lt;/car&gt;</code>被视为单个字符串的值'First Car，Second Car'。但是， <code class="codeph">&lt;car&gt;First Car&lt;/car&gt;&lt;car&gt;Second Car&lt;/car&gt;</code>被视为文档的两个单独值。
                  </p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>