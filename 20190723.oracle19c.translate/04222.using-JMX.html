<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用JMX管理您的应用程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Java Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Java Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="java-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T00:55:24-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96468-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-Runtime-exec.html" title="Previous" type="text/html"></link>
      <link rel="next" href="threading-in-database.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JJDEV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-Runtime-exec.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="threading-in-database.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Java-applications-in-database.html" property="item" typeof="WebPage"><span property="name">Oracle数据库上的Java应用程序</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用JMX管理您的应用程序</li>
            </ol>
            <a id="GUID-DCBEAE2C-7C92-4AE5-8069-CD4E5FFDAFB4" name="GUID-DCBEAE2C-7C92-4AE5-8069-CD4E5FFDAFB4"></a><a id="JJDEV13114"></a>
            
            <h2 id="JJDEV-GUID-DCBEAE2C-7C92-4AE5-8069-CD4E5FFDAFB4" class="sect2"><span class="enumeration_section">2.11</span>使用JMX管理应用程序</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>本节包含以下主题：</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="using-JMX.html#GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554">JMX概述</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-FDE7091A-893B-4776-8ACB-036196C16CC8">在会话中启用和启动JMX</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA">设置Oracle JVM JMX默认值和可配置性</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-03FE6094-E90E-48A0-B170-12A53AE5398A">对dbms_java.start_jmx_agent的SQL调用示例</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57">使用JConsole监视和控制Oracle JVM</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE">重要安全说明</a></p>
                     </li>
                     <li>
                        <p><a href="using-JMX.html#GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273">JMX的共享服务器限制</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="JJDEV13115"></a><div class="props_rev_3"><a id="GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554" name="GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554"></a><h3 id="JJDEV-GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554" class="sect3"><span class="enumeration_section">2.11.1</span> JMX概述</h3>
               <div>
                  <p>JMX（Java Management Extensions）是一种Java技术，提供用于管理和监视应用程序，系统对象，设备，面向服务的网络和JVM（Java虚拟机）的工具。此API允许动态构造和更改其类。因此，您可以使用此技术在创建，安装和实施资源时监视和管理资源。JMX API还包括远程访问，因此远程管理程序可以与正在运行的应用程序进行交互以实现这些目的。</p>
                  <p>在JMX中，给定资源由一个或多个称为MBean（Managed Beans）的Java对象进行检测。这些MBean在核心托管对象服务器（称为MBean服务器）中注册，该服务器充当管理代理程序，可以在为Java编程语言启用的大多数设备上运行。JMX代理由MBean服务器和一组用于处理MBean的服务组成，MBean服务器在其中注册MBean。</p>
                  <div class="infoboxnotealso" id="GUID-793A9AB1-EF01-49E5-89B6-9AC50FE07554__GUID-306923B2-2AED-4AF9-A289-74492BC782C5">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html</code></a></p>
                        </li>
                        <li>
                           <p><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html" target="_blank"><code class="codeph">http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html</code></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="JJDEV13116"></a><div class="props_rev_3"><a id="GUID-FDE7091A-893B-4776-8ACB-036196C16CC8" name="GUID-FDE7091A-893B-4776-8ACB-036196C16CC8"></a><h3 id="JJDEV-GUID-FDE7091A-893B-4776-8ACB-036196C16CC8" class="sect3"><span class="enumeration_section">2.11.2</span>在会话中启用和启动JMX</h3>
               <div>
                  <div class="section">
                     <p>为了帮助在运行Java的会话中启用和运行JMX服务，提供了<code class="codeph">JMXSERVER</code>角色和<code class="codeph">dbms_java.start_jmx_agent</code>过程。<code class="codeph">JMXSERVER</code>角色被授予特定的Java权限，使您可以在会话中启动和运行MBeanServer和JMX代理。过程<code class="codeph">dbms_java.start_jmx_agent</code>在特定会话中启动代理，该会话通常在会话期间保持活动状态。执行以下操作以启用和启动JMX：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>从<code class="codeph">SYS</code>或<code class="codeph">SYSTEM</code>获取<code class="codeph">JMXSERVER</code> ：</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt;将jmxserver授予HR;</pre><p>其中， <code class="codeph">HR</code>是用户名。
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>调用过程<code class="codeph">dbms_java.start_jmx_agent</code>以在会话中启动JMX。可以使用以下参数调用<code class="codeph">dbms_java.start_jmx_agent</code>过程：</span><div>
                           <p><code class="codeph">port</code> ：JMX侦听器的端口。此参数的值设置Java属性<code class="codeph">com.sun.management.jmxremote.port</code> 。
                           </p>
                           <p><code class="codeph">ssl</code> ：设置Java属性<code class="codeph">com.sun.management.jmxremote.ssl</code>的值。忽略<code class="codeph">true</code>和<code class="codeph">false</code>值的大小写。
                           </p>
                           <p><code class="codeph">auth</code> ：属性<code class="codeph">com.sun.management.jmxremote.authenticate</code>的值，否则是以分号分隔的Java身份验证和授权服务（JAAS）凭据列表。该值不区分大小写。
                           </p>
                           <p>这些参数中的每一个都可以为<code class="codeph">null</code>或省略，其中<code class="codeph">null</code>为默认值。当参数为<code class="codeph">null</code> ，它不会更改会话中相应属性的先前存在的值。
                           </p>
                           <div class="infoboxnote" id="GUID-FDE7091A-893B-4776-8ACB-036196C16CC8__GUID-62F0D3F7-FB22-49B3-954E-251D9FBD6F03">
                              <p class="notep1">注意：</p>
                              <p>与<code class="codeph">dbms_java.start_jmx_agent</code>参数对应的Java属性来自标准Java 5.0 JMX文档中指定的Java属性集。有关Java JMX属性的完整列表，请参阅</p>
                              <p><a href="http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html</code></a></p>
                           </div>
                           <p><code class="codeph">dbms_java.start_jmx_agent</code>过程启动代理程序，以激活OJVM JMX服务器和侦听程序。JMX服务器在当前会话中作为一个或多个守护程序线程运行，并且通常在会话期间可用。在会话中启动JMX代理后，可以监视在会话中运行的Java代码。
                           </p>
                           <p><code class="codeph">dbms_java.start_jmx_agent</code>过程是Java方法<code class="codeph">oracle.aurora.rdbms.的PL / SQL包装器<code class="codeph">oracle.aurora.rdbms.JMXAgent.startOJVMAgent</code> ，它本身也可以从Java存储过程以编程方式调用。<code class="codeph">startOJVMAgent</code>方法启动JMX Server和JMX连接守护程序线程，然后退出。在专用服务器上，这些线程可以在会话期间保持活动状态，但在呼叫之间的时间间隔内进入惰性状态。当这些间隔很短时，相同的套接字连接将以透明方式恢复。这使JConsole等客户端可以在多个调用之间保持连接。
                           </p>
                           <p>使用<code class="codeph">EXIT_CALL_WHEN_ALL_THREADS_TERMINATE</code>策略可以实现不同的JMX监视模式。通过将呼叫退出策略设置为<code class="codeph">OracleRuntime.EXIT_CALL_WHEN_ALL_THREADS_TERMINATE</code> ，您可以将会话配置为在调用<code class="codeph">startOJVMAgent</code>方法的调用中连续运行JMX服务器，直到以编程方式退出Java调用。当从JMX客户端作为特定MBean的操作启动各种Java任务时，此模式很方便。这样，连续JMX管理和监视由这些操作驱动。请参阅JVM JMX演示以获取此类bean，例如<code class="codeph">jmxserv.Load</code> 。
                           </p>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="using-JMX.html#GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273">JMX的共享服务器限制</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDEV13117"></a><div class="props_rev_3"><a id="GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA" name="GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA"></a><h3 id="JJDEV-GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA" class="sect3"><span class="enumeration_section">2.11.3</span>设置Oracle JVM JMX默认值和可配置性</h3>
               <div>
                  <div class="section">
                     <p>激活<code class="codeph">dbms_java.start_jmx_agent</code> ，属性<code class="codeph">com.sun.management.jmxremote</code>设置为<code class="codeph">true</code> 。在调用<code class="codeph">start_jmx_agent</code>之前，JMXSERVER特权用户可以通过以下方式预设各种管理属性：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用PL / SQL函数<code class="codeph">dbms_java.set_property</code></p>
                        </li>
                        <li>
                           <p>调用方法<code class="codeph">java.lang.System.setProperty</code></p>
                        </li>
                     </ul>
                     <p><code class="codeph">JMXSERVER</code>角色用户还可以预设Java属性<code class="codeph">com.sun.management.config.file</code>指定的数据库驻留Java资源中的属性。在未设置<code class="codeph">com.sun.management.config.file</code>时尝试的此资源的默认名称是<code class="codeph">lib.management.management.properties</code> 。此资源机制是基于标准文件的JMX配置管理的Oracle JVM扩展。这种机制对于Oracle JVM来说是优越的，因为它提供了更多的安全性和每个模式管理。当架构中不存在资源时，尝试将文件读取作为后备。未设置<code class="codeph">com.sun.management.config.file</code>时尝试的默认文件路径是<code class="codeph">$(java.home)/lib/management/management.properties</code> 。在Oracle Database 12 <span class="italic">c中，</span>此文件包含以下预设：</p><pre class="oac_no_warn" dir="ltr">com.sun.management.jmxremote.ssl.need.client.auth = true com.sun.management.jmxremote.authenticate = false</pre><p><code class="codeph">com.sun.management.jmxremote.ssl.need.client.auth</code>属性与<code class="codeph">com.sun.management.jmxremote.ssl</code>一起，将JMX设置为具有客户端和服务器证书的双向加密SSL身份验证。<code class="codeph">com.sun.management.jmxremote.ssl</code>的默认值为<code class="codeph">true</code> 。此配置是默认配置，优先于JAAS密码身份验证。
                     </p>
                     <div class="infoboxnote" id="GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA__GUID-20F891D5-C54A-482C-8746-1201DC7D57BD">
                        <p class="notep1">注意：</p>
                        <p>有关更多信息，请访问以下</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/java/javase/tech/javamanagement-140525.html</code></a></p>
                           </li>
                           <li>
                              <p><a href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html" target="_blank"><code class="codeph">http://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html</code></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-6C30D28C-D9C6-4C76-8A8A-A76DD73746DA__GUID-6B326810-D42F-4DBC-B5C6-3FE91E3680C5">
                        <p class="notep1">注意：</p>
                        <p>出于安全原因，Oracle JVM不支持为密码提供基于文件的存储的默认JMX登录模块。因此，如果必须使用JAAS密码身份验证而不是SSL客户端身份验证，则将临时JAAS凭据作为<code class="codeph">auth</code>参数安全地传递给<code class="codeph">dbms_java.start_jmx_agent</code>如本节所示，或者将JMX配置为使用安全的自定义LDAP登录模块。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDEV13118"></a><div class="props_rev_3"><a id="GUID-03FE6094-E90E-48A0-B170-12A53AE5398A" name="GUID-03FE6094-E90E-48A0-B170-12A53AE5398A"></a><h3 id="JJDEV-GUID-03FE6094-E90E-48A0-B170-12A53AE5398A" class="sect3"><span class="enumeration_section">2.11.4</span>对dbms_java.start_jmx_agent的SQL调用示例</h3>
               <div>
                  <div class="section">
                     <p>以下是启动JMX服务器的一些示例：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用前面部分中描述的默认设置或先前在同一会话中设置的值启动JMX服务器和侦听器：</p><pre class="oac_no_warn" dir="ltr">调用dbms_java.start_jmx_agent（）;</pre></li>
                        <li>
                           <p>使用前面部分中描述的默认设置或先前在同一会话中设置的值启动JMX服务器和侦听器：</p><pre class="oac_no_warn" dir="ltr">调用dbms_java.start_jmx_agent（null，null，null）;</pre></li>
                        <li>
                           <p>在端口9999上启动JMX服务器和侦听器，其他JMX设置具有默认值或在同一会话中先前设置的值：</p><pre class="oac_no_warn" dir="ltr">调用dbms_java.start_jmx_agent（'9999'）;</pre></li>
                        <li>
                           <p>在端口9999上启动JMX服务器和侦听器，其他JMX设置具有默认值或在同一会话中先前设置的值：</p><pre class="oac_no_warn" dir="ltr">调用dbms_java.start_jmx_agent（'9999'，null，null）;</pre></li>
                        <li>
                           <p>使用JMX设置启动JMX服务器和侦听器，该设置具有默认值或先前在同一会话中设置的值以及JAAS凭据<code class="codeph">monitorRole/1z2x</code>和<code class="codeph">controlRole/2p3o</code> ：</p><pre class="oac_no_warn" dir="ltr">调用dbms_java.start_jmx_agent（null，null，'monitorRole / 1z2x; controlRole / 2p3o'）;</pre><p>这些凭证是暂时的。属性<code class="codeph">com.sun.management.jmxremote.authenticate</code>设置为<code class="codeph">true</code> 。
                           </p>
                        </li>
                        <li>
                           <p>在没有SSL且没有JAAS身份验证的情况下在端口9999上启动JMX侦听器。仅用于开发或演示。</p><pre class="oac_no_warn" dir="ltr">调用dbms_java.start_jmx_agent（'9999'，'false'，'false'）;</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="using-JMX.html#GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE">重要安全说明</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDEV13119"></a><div class="props_rev_3"><a id="GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57" name="GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57"></a><h3 id="JJDEV-GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57" class="sect3"><span class="enumeration_section">2.11.5</span>使用JConsole监视和控制Oracle JVM</h3>
               <div>
                  <div class="section">
                     <p>本节介绍如何使用JConsole（一种标准JMX客户端工具）来监视和控制Oracle JVM。 JConsole是标准Java JDK的一部分。</p>
                     <p>本节讨论以下主题：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="using-JMX.html#GUID-399ADF16-AA1F-491E-8FAC-667E33B3D8E7">使用jconsole命令</a></p>
                        </li>
                        <li>
                           <p><a href="using-JMX.html#GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502">关于使用JConsole界面</a></p>
                        </li>
                        <li>
                           <p><a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8">OracleRuntime MBean</a></p>
                        </li>
                        <li>
                           <p><a href="using-JMX.html#GUID-78F07301-66B6-44A5-8F12-08C8406223B2">内存阈值</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-C8B6059B-0A46-418B-B64B-CCB2EBA7EB57__GUID-7E6C74C3-6944-456A-AAA1-2BCA338039BA">
                        <p class="notep1">注意：</p>
                        <p>要使用JConsole监视数据库中的Java，您应该有一个运行JMX Agent的服务器端Java会话。</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="using-JMX.html#GUID-FDE7091A-893B-4776-8ACB-036196C16CC8">在会话中启用和启动JMX</a></li>
                     </ul>
                  </div>
               </div>
               <a id="JJDEV13120"></a><div class="props_rev_3"><a id="GUID-399ADF16-AA1F-491E-8FAC-667E33B3D8E7" name="GUID-399ADF16-AA1F-491E-8FAC-667E33B3D8E7"></a><h4 id="JJDEV-GUID-399ADF16-AA1F-491E-8FAC-667E33B3D8E7" class="sect4"><span class="enumeration_section">2.11.5.1</span>使用jconsole命令</h4>
                  <div>
                     <div class="section">
                        <p>使用<code class="codeph">jconsole</code>命令语法启动JConsole。启动JConsole工具的最简单格式如下：</p><pre class="oac_no_warn" dir="ltr">jconsole [hostName：portNum]</pre><p>哪里：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">hostname</code>是运行应用程序的系统的名称</p>
                           </li>
                           <li>
                              <p><code class="codeph">portNum</code>是JMX侦听器的端口号</p>
                           </li>
                        </ul>
                        <p>在以下示例中，我们通过默认端口9999连接到名为<code class="codeph">example.com</code>的主机。此模式假定不进行身份验证和加密。此模式仅适用于演示或测试，可用于连接使用以下命令启动的Oracle JVM JMX会话：</p><pre class="oac_no_warn" dir="ltr">调用dbms_java.start_jmx_agent（ <span class="italic">portNum</span> ，false，false）;</pre><p>请记住，只有当服务器的守护程序线程正在运行且未处于休眠状态时，您才能从JConsole连接到Oracle JVM并与之交互。这意味着会话中应该有一个活动的Java调用，它在指定的端口上运行JMX服务器。在后续Java调用之间的时间间隔内，JMX服务器会保留其状态和统计信息，但无法与JConsole通信。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-JMX.html#GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE">重要安全说明</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDEV13121"></a><div class="props_rev_3"><a id="GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502" name="GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502"></a><h4 id="JJDEV-GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502" class="sect4"><span class="enumeration_section">2.11.5.2</span>关于使用JConsole接口</h4>
                  <div>
                     <div class="section">
                        <p>JConsole界面包含以下选项卡：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>摘要标签</p>
                              <p>它显示有关Oracle JVM的摘要信息以及JMX监视的值。</p>
                           </li>
                           <li>
                              <p>内存选项卡</p>
                              <p>它显示有关内存使用情况的信息</p>
                           </li>
                           <li>
                              <p>线程选项卡</p>
                              <p>它显示有关线程使用的信息。</p>
                           </li>
                           <li>
                              <p>“类”选项卡</p>
                              <p>它显示有关类加载的信息。</p>
                           </li>
                           <li>
                              <p>MBeans选项卡</p>
                              <p>它显示有关MBean的信息。</p>
                           </li>
                           <li>
                              <p>VM选项卡</p>
                              <p>它显示有关Oracle JVM的信息。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-22A8F168-81B8-4CFF-B2F9-1EE281BC1502__GUID-5C12EE87-218C-473F-A974-523F6EAA263A">
                           <p class="notep1">注意：</p>
                           <p>在Oracle Database <span class="italic">12c</span>第1版（12.1）中，收集并传递给JConsole的数据仅限于运行JMX代理的Oracle JVM会话。此数据不包括可能在Oracle JVM中运行的其他会话的属性。 <code class="codeph">OracleRuntime</code> MBean是一个例外，它提供有关Oracle JVM的许多WholeJVM_属性和操作的信息。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8">OracleRuntime MBean</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDEV13124"></a><a id="JJDEV13123"></a><div class="props_rev_3"><a id="GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800" name="GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800"></a><h4 id="JJDEV-GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800" class="sect4"><span class="enumeration_section">2.11.5.3</span>关于查看Oracle JVM摘要信息</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用JConsole接口的Summary选项卡查看Oracle JVM摘要信息。此选项卡显示有关线程使用情况，内存消耗，类加载以及其他VM和操作系统细节的关键监视信息。</p>
                        <p>如果JConsole成功连接到运行JMX代理的Oracle JVM会话，则“概述”选项卡将显示以下图像：</p>
                        <div class="figure" id="GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800__GUID-910ECBE3-BECD-4CF7-9830-AF68AB0B9FCE">
                           <p class="titleinfigure">图2-6 JConsole接口的Overview选项卡</p><img width="483" src="img/summary_tab.gif" alt="下面是图2-6的描述" title="下面是图2-6的描述" longdesc="img_text/summary_tab.html"><br><a href="img_text/summary_tab.html">“图2-6 JConsole界面的概述选项卡”的描述</a></div>
                        <!-- class="figure" -->
                        <p><a href="using-JMX.html#GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800__BABBHEFH" title="摘要选项卡字段的说明。">表2-10</a>提供了“概述”选项卡中显示的字段的说明。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-4C7FCC57-9A13-4BEA-8A2F-7500E1AE7800__BABBHEFH">
                        <p class="titleintable">表2-10 JConsole界面中“概述”选项卡字段的说明</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="JConsole界面中的Overview选项卡字段的描述" width="100%" border="1" summary="Description of the Summary tab field." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d14592e1286">领域</th>
                                 <th align="left" valign="bottom" width="69%" id="d14592e1289">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1294" headers="d14592e1286 ">
                                    <p>正常运行时间</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1294 d14592e1289 ">
                                    <p>Oracle JVM会话运行的持续时间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1301" headers="d14592e1286 ">
                                    <p>处理CPU时间</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1301 d14592e1289 ">
                                    <p>Oracle Database <span class="italic">12c</span>第1版（12.1）中的Oracle JVM会话未收集此信息。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1311" headers="d14592e1286 ">
                                    <p>直播线程</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1311 d14592e1289 ">
                                    <p>当前活动守护程序和非守护程序线程的数量。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1318" headers="d14592e1286 ">
                                    <p>峰</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1318 d14592e1289 ">
                                    <p>自Oracle JVM启动以来最多的活动线程数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1325" headers="d14592e1286 ">
                                    <p>守护程序线程</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1325 d14592e1289 ">
                                    <p>当前活动守护程序线程数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1332" headers="d14592e1286 ">
                                    <p>总计已开始</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1332 d14592e1289 ">
                                    <p>自Oracle JVM启动以来启动的线程总数。它包括守护进程，非守护进程和终止线程。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1339" headers="d14592e1286 ">
                                    <p>当前堆大小</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1339 d14592e1289 ">
                                    <p>堆当前占用的千字节数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1346" headers="d14592e1286 ">
                                    <p>承诺的记忆</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1346 d14592e1289 ">
                                    <p>分配给堆使用的内存总量。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1353" headers="d14592e1286 ">
                                    <p>最大堆大小</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1353 d14592e1289 ">
                                    <p>堆占用的最大千字节数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1360" headers="d14592e1286 ">
                                    <p>待完成的对象</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1360 d14592e1289 ">
                                    <p>待完成的对象数量。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1367" headers="d14592e1286 ">
                                    <p>垃圾收集器信息</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1367 d14592e1289 ">
                                    <p>有关垃圾收集器的信息，包括名称，执行的集合数以及执行垃圾收集所花费的总时间。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1375" headers="d14592e1286 ">
                                    <p>加载当前类</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1375 d14592e1289 ">
                                    <p>当前加载到内存中以供执行的类数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1382" headers="d14592e1286 ">
                                    <p>已加载的课程总数</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1382 d14592e1289 ">
                                    <p>自会话启动以来加载到会话内存中的类总数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1389" headers="d14592e1286 ">
                                    <p>卸载总类</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1389 d14592e1289 ">
                                    <p>从内存中卸载的类数。对于Oracle Database 12 <span class="italic">c</span>第1版（12.1），通常为零。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1399" headers="d14592e1286 ">
                                    <p>物理内存总量</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1399 d14592e1289 ">
                                    <p>Oracle Database <span class="italic">12c</span>第1版（12.1）中的Oracle JVM会话未收集此信息。因此，显示的值为零。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1409" headers="d14592e1286 ">
                                    <p>免费物理内存</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1409 d14592e1289 ">
                                    <p>Oracle Database <span class="italic">12c</span>第1版（12.1）中的Oracle JVM会话未收集此信息。因此，显示的值为零。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d14592e1419" headers="d14592e1286 ">
                                    <p>承诺的虚拟内存</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d14592e1419 d14592e1289 ">
                                    <p>Oracle Database <span class="italic">12c</span>第1版（12.1）中的Oracle JVM会话未收集此信息。因此，显示的值为零。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="JJDEV13126"></a><div class="props_rev_3"><a id="GUID-92C9ACC2-387F-432D-8D1A-6CDDA20B9AB9" name="GUID-92C9ACC2-387F-432D-8D1A-6CDDA20B9AB9"></a><h4 id="JJDEV-GUID-92C9ACC2-387F-432D-8D1A-6CDDA20B9AB9" class="sect4"><span class="enumeration_section">2.11.5.4</span>关于监视内存消耗</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用JConsole接口的Memory选项卡来监视内存消耗。此选项卡提供有关内存消耗和内存池的信息。Memory选项卡如图2-7所示。</p>
                        <div class="figure" id="GUID-92C9ACC2-387F-432D-8D1A-6CDDA20B9AB9__BABIJHFD">
                           <p class="titleinfigure">图2-7 JConsole接口的Memory选项卡</p><img src="img/memory_tab.gif" width="445" alt="下面是图2-7的描述" title="下面是图2-7的描述" longdesc="img_text/memory_tab.html"><br><a href="img_text/memory_tab.html">“图2-7 JConsole接口的Memory选项卡”的描述</a></div>
                        <!-- class="figure" -->
                        <p>“内存”选项卡上的图表显示了整个内存空间以及特定内存池的Oracle JVM内存使用情况与时间的关系。可用于Oracle JVM的内存池反映了Oracle JVM的内部组织，并对应于Oracle JVM内存管理器的对象内存。此版本的Oracle数据库中的可用内存池是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>新一代空间</p>
                              <p>这是最初为大多数对象分配内存的内存池。这个池也被称为伊甸园空间。</p>
                           </li>
                           <li>
                              <p>老一代空间</p>
                              <p>此内存池包含在Eden Space中的垃圾收集过程中幸存的对象。这个游泳池也被称为生存空间。</p>
                           </li>
                           <li>
                              <p>Malloc /自由空间</p>
                              <p>此内存池包含以malloc / free方式为其分配和释放内存的对象。</p>
                           </li>
                           <li>
                              <p>迁移空间结束</p>
                              <p>此内存池包含在会话结束迁移后仍然存在的对象。</p>
                           </li>
                           <li>
                              <p>专用会话空间</p>
                              <p>此内存池用于在Oracle Dedicated Sessions模式下为会话对象分配内存。</p>
                           </li>
                           <li>
                              <p>分页会话空间</p>
                              <p>此内存池用于将内存分配给大型和分页的会话对象。</p>
                           </li>
                           <li>
                              <p>运行空间</p>
                              <p>此内存池用于为临时和辅助对象分配内存。</p>
                           </li>
                           <li>
                              <p>堆栈空间</p>
                              <p>此内存池用于将内存分配给临时对象，为其分配内存并以类似堆栈的方式释放内存。</p>
                           </li>
                        </ul>
                        <p>“内存”选项卡中的“详细信息”区域显示包含以下内容的当前内存矩阵：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>用过的</p>
                              <p>此矩阵表示运行会话的进程当前使用的内存量。</p>
                           </li>
                           <li>
                              <p>承诺</p>
                              <p>此矩阵表示保证可供Oracle JVM使用的内存量，就好像已分配内存一样。承诺内存量可能会随时间而变化。但是，Committed内存总是大于或等于Used memory。</p>
                           </li>
                           <li>
                              <p>马克斯</p>
                              <p>此矩阵表示可用于内存管理的最大内存量。它通常对应于Oracle JVM的初始配置。</p>
                           </li>
                        </ul>
                        <p>“内存”选项卡右下角的条形图显示了各个内存池占用的内存。当使用的内存超过内存使用量阈值时，条形变为红色。您可以通过<code class="codeph">MemoryMXBean</code>的属性设置内存使用量阈值。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-JMX.html#GUID-78F07301-66B6-44A5-8F12-08C8406223B2">内存阈值</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDEV13128"></a><div class="props_rev_3"><a id="GUID-039B5F6A-E5EB-4D64-88EA-16E73677A903" name="GUID-039B5F6A-E5EB-4D64-88EA-16E73677A903"></a><h4 id="JJDEV-GUID-039B5F6A-E5EB-4D64-88EA-16E73677A903" class="sect4"><span class="enumeration_section">2.11.5.5</span>关于监视线程使用</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用JConsole接口的“线程”选项卡来监视线程使用情况。</p>
                        <div class="figure" id="GUID-039B5F6A-E5EB-4D64-88EA-16E73677A903__GUID-C855D29D-9925-4926-A54D-7F0D00470A2B">
                           <p class="titleinfigure">图2-8 JConsole接口的“线程”选项卡</p><img width="447" src="img/thread_tab.gif" alt="下面是图2-8的描述" title="下面是图2-8的描述" longdesc="img_text/thread_tab.html"><br><a href="img_text/thread_tab.html">“图2-8 JConsole接口的”线程“选项卡”的说明</a></div>
                        <!-- class="figure" -->
                        <p>“线程”选项卡上的图表显示了活动线程数与时间的关系，特定颜色代表特定类型的线程：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>洋红色表示线程总数</p>
                           </li>
                           <li>
                              <p>红色表示线程的峰值数</p>
                           </li>
                           <li>
                              <p>蓝色表示活动线程数</p>
                           </li>
                        </ul>
                        <p>此选项卡上的线程列表显示活动线程。在列表中选择一个线程，以在右窗格中显示有关该线程的信息。此信息包括线程的名称，状态和堆栈跟踪。</p>
                        <p>Filter字段有助于缩小线程。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13130"></a><div class="props_rev_3"><a id="GUID-0D4841B7-E7A8-4A4B-AE8F-9AE43E49EC2B" name="GUID-0D4841B7-E7A8-4A4B-AE8F-9AE43E49EC2B"></a><h4 id="JJDEV-GUID-0D4841B7-E7A8-4A4B-AE8F-9AE43E49EC2B" class="sect4"><span class="enumeration_section">2.11.5.6</span>关于监控类加载</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用JConsole接口的Classes选项卡来监视类加载。此选项卡上的图表显示了加载的类数与时间的关系。</p>
                        <div class="figure" id="GUID-0D4841B7-E7A8-4A4B-AE8F-9AE43E49EC2B__GUID-026CA565-9EE1-45B3-B640-2269D77E5A40">
                           <p class="titleinfigure">图2-9 JConsole接口的Classes选项卡</p><img width="451" src="img/classes_tab.gif" alt="下面是图2-9的描述" title="下面是图2-9的描述" longdesc="img_text/classes_tab.html"><br><a href="img_text/classes_tab.html">“图2-9 JConsole接口的Classes选项卡”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13133"></a><a id="JJDEV13134"></a><a id="JJDEV13135"></a><a id="JJDEV13132"></a><div class="props_rev_3"><a id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772" name="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772"></a><h4 id="JJDEV-GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772" class="sect4"><span class="enumeration_section">2.11.5.7</span>关于监视和管理MBean</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用MBeans选项卡来监视和管理MBean。此选项卡显示有关使用平台MBean服务器注册的所有MBean的信息。</p>
                        <p>MBean选项卡左窗格中的树称为MBean树，它显示所有MBean，根据其对象名称进行组织。在MBean树中选择MBean时，其属性，操作，通知和其他信息将显示在右窗格中。例如，在<a href="using-JMX.html#GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__CEGBGEDE">图2-10中</a> ，我们在左侧的MBean树中选择了<code class="codeph">Old Generation</code> MemoryPool MBean，并在右侧显示了<code class="codeph">Old Generation</code> MemoryPool MBean的属性。
                        </p>
                        <div class="figure" id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__CEGBGEDE">
                           <p class="titleinfigure">图2-10显示MBean的属性</p><img width="387" src="img/mbeans_tab.gif" alt="下面是图2-10的描述" title="下面是图2-10的描述" longdesc="img_text/mbeans_tab.html"><br><a href="img_text/mbeans_tab.html">“图2-10显示MBean的属性”的描述</a></div>
                        <!-- class="figure" -->
                        <p>您可以设置属性的值（如果它是可写的）。可写值以蓝色显示。例如，在<a href="using-JMX.html#GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__CEGBGEDE">图2-10中</a> ，属性<code class="codeph">CollectionUaageThreshold</code>和<code class="codeph">UsageThreshold</code>是可写的。
                        </p>
                        <p>您还可以通过双击属性值来显示属性值与时间的图表。例如，如果单击<code class="codeph">GCManager</code> MBean的<code class="codeph">CollectionTime</code>属性的值，则会看到类似于<a href="using-JMX.html#GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__BABHFJIC">图2-11</a>的图表：</p>
                        <div class="figure" id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__BABHFJIC">
                           <p class="titleinfigure">图2-11显示属性值的图表</p><img width="499" src="img/chart.gif" alt="下面是图2-11的描述" title="下面是图2-11的描述" longdesc="img_text/chart.html"><br><a href="img_text/chart.html">“图2-11显示属性值的图表”的描述</a></div>
                        <!-- class="figure" -->
                        <p>您可以通过单击属性来显示复杂属性的详细信息。例如，您可以显示Memory Pools的<code class="codeph">Usage</code>和<code class="codeph">PeakUsage</code>属性的详细信息， <a href="using-JMX.html#GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__BABEDCDH">如图2-12</a>所示：</p>
                        <div class="figure" id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__BABEDCDH">
                           <p class="titleinfigure">图2-12在MBeans选项卡中显示复杂属性的详细信息</p><img width="421" src="img/complex_attr.gif" alt="下面是图2-12的描述" title="下面是图2-12的描述" longdesc="img_text/complex_attr.html"><br><a href="img_text/complex_attr.html">“图2-12在MBeans选项卡中显示复杂属性的详细信息”的说明</a></div>
                        <!-- class="figure" -->
                        <p>MBean的Operations选项卡提供可管理性界面。例如，可以通过单击“ <span class="bold">执行垃圾收集”</span>在内存池或内存管理器上调用<span class="bold">垃圾收集</span> 。Oracle JVM的JMX演示，即<code class="codeph">javavm/demo/jmx/</code> ，提供了几个加载到Oracle JVM中的其他自定义MBean。下面是一个示例，显示了<code class="codeph">DBProps</code> Mbean的<code class="codeph">getProp</code>操作的结果：</p>
                        <div class="figure" id="GUID-6B3DB0B4-3FA4-47BD-B2BF-9EBB60709772__GUID-8B6367C5-8202-468F-9D33-7A08E7F0276B">
                           <p class="titleinfigure">图2-13 JConsole接口的MBeans选项卡的“操作”选项卡</p><img width="509" src="img/operations.gif" alt="下面是图2-13的描述" title="下面是图2-13的描述" longdesc="img_text/operations.html"><br><a href="img_text/operations.html">“图2-13 JConsole接口的MBeans选项卡的操作选项卡”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13137"></a><div class="props_rev_3"><a id="GUID-6D9785E9-0961-43AB-B9F7-49655A9150FC" name="GUID-6D9785E9-0961-43AB-B9F7-49655A9150FC"></a><h4 id="JJDEV-GUID-6D9785E9-0961-43AB-B9F7-49655A9150FC" class="sect4"><span class="enumeration_section">2.11.5.8</span>关于查看虚拟机信息</h4>
                  <div>
                     <div class="section">
                        <p>您可以使用JConsole界面的VM选项卡查看VM信息。</p>
                        <div class="figure" id="GUID-6D9785E9-0961-43AB-B9F7-49655A9150FC__GUID-09037EF2-8938-4AF3-B03E-0B8FF7ACB8A4">
                           <p class="titleinfigure">图2-14 JConsole接口的VM选项卡</p><img width="450" src="img/vm_tab.gif" alt="下面是图2-14的描述" title="下面是图2-14的描述" longdesc="img_text/vm_tab.html"><br><a href="img_text/vm_tab.html">“图2-14 JConsole接口的VM选项卡”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13139"></a><a id="JJDEV13140"></a><a id="JJDEV13141"></a><a id="JJDEV13142"></a><a id="JJDEV13138"></a><div class="props_rev_3"><a id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8" name="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8"></a><h4 id="JJDEV-GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8" class="sect4"><span class="enumeration_section">2.11.5.9</span> OracleRuntime MBean</h4>
                  <div>
                     <div class="section">
                        <p>从Oracle Database <span class="italic">11g</span>第2版（11.2）开始，在调用<code class="codeph">dbms_java.start_jmx_agent</code>过程时，将新的MBean <code class="codeph">OracleRuntime</code>添加到Oracle JVM平台MBean列表中。此MBean特定于Oracle JVM。</p>
                        <p><code class="codeph">OracleRuntime</code> MBean的Attributes选项卡公开了<code class="codeph">oracle.aurora.vm.操作的大多数参数<code class="codeph">oracle.aurora.vm.OracleRuntime</code>类。<a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABGEHFG">图2-15</a>显示了<code class="codeph">OracleRuntime</code> MBean的Attributes选项卡。
                        </p>
                        <div class="figure" id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABGEHFG">
                           <p class="titleinfigure">图2-15 OracleRuntime MBean的“属性”选项卡</p><img width="506" src="img/oracleruntimembean1.gif" alt="下面是图2-15的描述" title="下面是图2-15的描述" longdesc="img_text/oracleruntimembean1.html"><br><a href="img_text/oracleruntimembean1.html">“图2-15 OracleRuntime MBean的属性选项卡”的说明</a></div>
                        <!-- class="figure" -->
                        <p>以黑色显示的参数是只读的，不能修改。例如， <code class="codeph">JavaPoolSize</code> ， <code class="codeph">Platform</code>等。蓝色值是读/写，这意味着您可以修改它们。<code class="codeph">OracleRuntime</code> MBean的大多数属性都是本地会话的本地属性。
                        </p>
                        <p><code class="codeph">OracleRuntime</code> MBean的<code class="codeph">WholeJVM_</code>属性是全局的。这些属性反映了从<code class="codeph">v$session</code>和<code class="codeph">v$sesstat</code>性能视图收集的数据库实例中所有启用Java的会话的Oracle JVM内存使用情况统计信息的总数。<a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABICDGG">图2-16</a>显示了<code class="codeph">OracleRuntime</code> MBean的<code class="codeph">WholeJVM_</code>属性。
                        </p>
                        <div class="figure" id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABICDGG">
                           <p class="titleinfigure">图2-16 OracleRuntime MBean</p><img width="502" src="img/oracleruntimembean2.gif" alt="下面是图2-16的描述" title="下面是图2-16的描述" longdesc="img_text/oracleruntimembean2.html"><br><a href="img_text/oracleruntimembean2.html">“图2-16 OracleRuntime MBean”的说明</a></div>
                        <!-- class="figure" -->
                        <p><code class="codeph">OracleRuntime</code> MBean的Operations选项卡公开了<code class="codeph">OracleRuntime</code>许多操作<code class="codeph">oracle.aurora.vm.OracleRuntime</code>类。
                        </p>
                        <p>此外，可以使用<code class="codeph">sessionsRunningJava</code>和<code class="codeph">sessionDetailsBySID</code>操作监视特定Java活动数据库会话的各个内存消耗统计信息， <a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABJFCEC">如图2-17</a>和<a href="using-JMX.html#GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABHDBFC">图2-18所示</a> 。
                        </p>
                        <div class="figure" id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABJFCEC">
                           <p class="titleinfigure">图2-17操作sessionsRunningJava</p><img width="500" src="img/oracleruntimembean3.gif" alt="下面是图2-17的描述" title="下面是图2-17的描述" longdesc="img_text/oracleruntimembean3.html"><br><a href="img_text/oracleruntimembean3.html">“图2-17操作sessionsRunningJava”的描述</a></div>
                        <!-- class="figure" -->
                        <div class="figure" id="GUID-EEB89F85-D68D-48A7-B28D-59F40E1314C8__BABHDBFC">
                           <p class="titleinfigure">图2-18操作sessionDetailsBySID</p><img width="505" src="img/oracleruntimembean4.gif" alt="下面是图2-18的描述" title="下面是图2-18的描述" longdesc="img_text/oracleruntimembean4.html"><br><a href="img_text/oracleruntimembean4.html">“图2-18操作sessionDetailsBySID”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDEV13144"></a><a id="JJDEV13145"></a><a id="JJDEV13143"></a><div class="props_rev_3"><a id="GUID-78F07301-66B6-44A5-8F12-08C8406223B2" name="GUID-78F07301-66B6-44A5-8F12-08C8406223B2"></a><h4 id="JJDEV-GUID-78F07301-66B6-44A5-8F12-08C8406223B2" class="sect4"><span class="enumeration_section">2.11.5.10</span>内存阈值</h4>
                  <div>
                     <p>使用阈值是内存池的可管理属性。集合使用阈值是某些垃圾收集内存池的可管理属性。您可以将其中每个设置为正值，以启用池的相应阈值检查。将阈值设置为零会禁用内存池的阈值检查。默认情况下，禁用所有Oracle JVM池的阈值检查。</p>
                     <p>使用阈值和集合使用阈值在MBeans选项卡中设置。例如，如果从左窗格中的树中选择“旧生成”内存池，并将此内存池的使用率阈值设置为20兆字节，将集合阈值设置为1兆字节，则一段时间后，阈值计数将显示阈值交叉事件的数量<a href="using-JMX.html#GUID-78F07301-66B6-44A5-8F12-08C8406223B2__BABCIIBF">如图2-19</a>所示：</p>
                     <div class="figure" id="GUID-78F07301-66B6-44A5-8F12-08C8406223B2__BABCIIBF">
                        <p class="titleinfigure">图2-19在MBeans选项卡中设置使用率阈值和集合使用阈值</p><img width="486" src="img/memory_threshold.gif" alt="下面是图2-19的描述" title="下面是图2-19的描述" longdesc="img_text/memory_threshold.html"><br><a href="img_text/memory_threshold.html">“图2-19在MBeans选项卡中设置使用率阈值和集合使用阈值”的说明</a></div>
                     <!-- class="figure" -->
                     <p>当旧代内存池的内存使用量超过20兆字节时，表示JConsole界面中的旧代内存池的部分条形变为红色。红色部分表示已用内存超出使用阈值的部分。表示堆内存的条也变为红色， <a href="using-JMX.html#GUID-78F07301-66B6-44A5-8F12-08C8406223B2__BABHDHFJ">如图2-20</a>所示：</p>
                     <div class="figure" id="GUID-78F07301-66B6-44A5-8F12-08C8406223B2__BABHDHFJ">
                        <p class="titleinfigure">图2-20当使用的内存超过使用率阈值时，JConsole接口的“内存”选项卡</p><img width="485" src="img/exceed_usage.gif" alt="下面是图2-20的描述" title="下面是图2-20的描述" longdesc="img_text/exceed_usage.html"><br><a href="img_text/exceed_usage.html">“当使用的内存超过使用阈值时，图2-20 JConsole接口的内存选项卡”的说明</a></div>
                     <!-- class="figure" -->
                  </div>
               </div>
            </div><a id="JJDEV13146"></a><div class="props_rev_3"><a id="GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE" name="GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE"></a><h3 id="JJDEV-GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE" class="sect3"><span class="enumeration_section">2.11.6</span>重要安全说明</h3>
               <div>
                  <div class="section">
                     <p>通过使用禁用的SSL和身份验证启动远程侦听器，您违反了一般安全准则，从而使服务器容易受到攻击。因此，始终建议不要在生产环境中使用此类模式。支持此模式以与JDK兼容并进行开发; Oracle JVM中JMX的任何生产用途都必须使用安全的JMX连接。</p>
                     <p>向<code class="codeph">dbms_java.set_property</code> ， <code class="codeph">System.setProperty</code>或<code class="codeph">dbms_java.start_jmx_agent</code>提供与安全相关的属性值时，请使用非echo侦听器，或通过安全应用程序层（如Oracle Application Server）的加密JDBC连接调用这些值。不要将密码存储在明文文件中。使用Oracle Wallet创建和管理证书。使用客户端证书进行SSL身份验证以提高安全性
                     </p>
                     <div class="infoboxnotealso" id="GUID-3E6BB95F-9749-400C-A8BA-6677AB4FCDDE__GUID-97475714-5930-49AD-84A1-65DFAF47C48A">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../dbseg/introduction-to-oracle-database-security.html#DBSEG-GUID-41040F53-D7A6-48FA-A92A-0C23118BC8A0" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDEV13633"></a><div class="props_rev_3"><a id="GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273" name="GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273"></a><h3 id="JJDEV-GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273" class="sect3"><span class="enumeration_section">2.11.7</span> JMX的共享服务器限制</h3>
               <div>
                  <div class="section">
                     <p>在专用模式服务器上，会话期间支持JMX连接。共享服务器JMX连接通常仅限于一次调用。导致此限制的主要因素是JMX连接本质上依赖于操作系统资源（如线程和套接字）。这些资源不能在共享服务器调用边界中存在。因此，仅在单个呼叫期间完全支持JMX连接。</p>
                     <div class="infoboxnote" id="GUID-5C0D0285-3D74-43CF-A9B6-E220464C7273__GUID-F8524F4B-2029-4A26-BA5A-04B9A0C3D317">
                        <p class="notep1">注意：</p>
                        <p>此限制仅影响代理连接，而不影响在其中注册的MBeanSrver和Mbeans的状态。MBeanSrver和Mbeans的状态，特别是统计信息，在共享服务器调用边界之间是持久的。</p>
                     </div>
                     <p>如果使用专用服务器模式不可行，您仍可按照以下准则建立JMX连接并监视共享服务器：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>规划在单个Java调用中发生的所有JMX管理和监视活动。</p>
                        </li>
                        <li>
                           <p>不要通过调用<code class="codeph">DBMS_JAVA.set_property</code>函数来设置<code class="codeph">com.sun.management.jmxremote.port</code>属性，也不要使用<code class="codeph">DBMS_JAVA.start_jmx_agent</code>方法，因为这些调用会激活JMX并引入共享服务器调用边界。而是通过调用<code class="codeph">oracle.aurora.rdbms.启动JMX代理<code class="codeph">oracle.aurora.rdbms.JMXAgent.startOJVMAgent</code>方法直接来自要监视的Java代码。应将<code class="codeph">com.sun.management.jmxremote.port</code>属性的值传递给<code class="codeph">startOJVMAgent</code>方法。除<code class="codeph">com.sun.management.jmxremote.port</code>属性之外的与JMX相关的属性不会唤醒JMX代理，可以使用任何方法进行设置。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="shared-server-consideration.html#GUID-94B10C5C-91C0-48EC-9C41-98FE4C2E2F9E">共享服务器注意事项</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>