<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted."></meta>
      <meta name="description" content="Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted."></meta>
      <title>管理Oracle ASM筛选器驱动程序</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="manage-flex-asm.html" title="Previous" type="text/html"></link>
      <link rel="next" href="create-db-asm-sqlplus.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="manage-flex-asm.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="create-db-asm-sqlplus.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-advanced-topics.html" property="item" typeof="WebPage"><span property="name">高级主题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理Oracle ASM筛选器驱动程序</li>
            </ol>
            <a id="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" name="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123"></a>
            
            <h2 id="OSTMG-GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" class="sect2"><span class="enumeration_chapter">20</span>管理Oracle ASM筛选器驱动程序</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle ASM过滤器驱动程序（Oracle ASMFD）通过在每次重新启动系统时无需重新绑定与Oracle ASM一起使用的磁盘设备，从而简化了磁盘设备的配置和管理。</p>
               <p>本节包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9">关于Oracle ASM过滤器驱动程序</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A">配置Oracle ASM筛选器驱动程序</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0">关于从ASMLIB环境迁移到Oracle ASM筛选器驱动程序</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">确定是否已配置Oracle ASM筛选器驱动程序</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D">更新Oracle ASM筛选器驱动程序AFD_DISKSTRING参数</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">更新Oracle ASM过滤器驱动程序磁盘的Oracle ASM ASM_DISKSTRING参数</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-302F7233-B905-4D1E-A1AD-9A00EDC6A6F3">设置，清除和扫描Oracle ASM筛选器驱动程序标签</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71">取消配置Oracle ASM筛选器驱动程序</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-746AAA69-D7D9-4143-BE51-0BDFE9BB8DED">Oracle ASM筛选器驱动程序命令</a></p>
                  </li>
               </ul>
               <div class="infoboxnotewarn" id="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123__GUID-F35B0A80-40FC-4AA8-AAD2-C2394FE19604">
                  <p class="notep1">警告：</p>
                  <p>配置Oracle ASM（包括Oracle ASMFD）时，请勿修改或删除Oracle ASM磁盘的内容或修改任何文件，包括配置文件。</p>
               </div>
               <div class="infoboxnote" id="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123__GUID-92A93891-ECAD-4B85-BC59-F1E97C87AFE7">
                  <p class="notep1">注意：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>现在，可以使用复选框启用Oracle ASMFD的配置，以便在Oracle Grid Infrastructure安装期间成为自动过程。</p>
                     </li>
                     <li>
                        <p>如果为现有Oracle ASM安装安装并配置了ASMLIB，则必须在安装和配置Oracle ASMFD之前显式卸载现有ASMLIB配置。</p>
                     </li>
                     <li>
                        <p>Oracle ASM过滤器驱动程序（Oracle ASMFD）在Oracle系统上以Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开头提供。从Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）开始，Solaris ASMFD在Solaris系统上可用。
                        </p>
                     </li>
                     <li>
                        <p>在本节主题中描述的过程的步骤中， <code class="codeph">$ORACLE_HOME</code>环境变量设置为Oracle Grid Infrastructure主目录的目录路径。显示<code class="codeph">#</code>作为操作系统提示符的命令必须以root用户身份运行。显示<code class="codeph">$</code>作为操作系统提示的命令应作为Oracle Grid Infrastructure主目录运行</p>
                     </li>
                  </ul>
               </div>
               <div class="infoboxnotealso" id="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123__GUID-5F5B3631-D3F3-43A2-A369-812ECD0D2353">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关Oracle ASMFD的My Oracle Support文章可在<a href="https://support.oracle.com" target="_blank">My Oracle Support</a> （ <a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a> ）上获得，以获取有关Oracle ASMFD的其他信息，例如支持的操作系统平台（认证矩阵）或配置问题。
                        </p>
                     </li>
                     <li>
                        <p><a href="asmcmd-filterdriver-commands.html#GUID-C23690C6-0DE6-42A7-B9C7-4FB1FF13ED64" title="本主题提供ASMCMD Oracle ASM筛选器驱动程序（Oracle ASMFD）管理命令的摘要。">ASMCMD Oracle ASM过滤器驱动程序管理命令，</a>以获取有关用于管理Oracle ASMFD的ASMCMD命令的信息</p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-995198B7-9235-4FCF-988E-A48B3B62B405" title="在运行ASMCMD实用程序之前，您应该查看本主题中的信息。">关于ASMCMD</a>有关所有ASMCMD命令的信息</p>
                     </li>
                     <li>
                        <p><a href="admin-asm-em.html#GUID-31708A3A-44B4-4586-87C9-0A8B46D0D08F">使用Oracle Enterprise Manager管理Oracle ASM筛选器驱动程序，以</a>获取有关使用Oracle Enterprise Manager管理Oracle ASMFD的信息</p>
                     </li>
                     <li>
                        <p>有关安装和配置Oracle Grid Infrastructure的信息，请<a href="../install-and-upgrade.html" target="_blank"><span><cite>参见</cite></span></a>适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span></a></p>
                     </li>
                     <li>
                        <p>有关卸载Oracle ASMLIB的信息，请参见适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG95963"></a><div class="props_rev_3"><a id="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9" name="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9"></a><h3 id="OSTMG-GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9" class="sect3">关于Oracle ASM过滤器驱动程序</h3>
               <div>
                  <p>Oracle ASM筛选器驱动程序（Oracle ASMFD）是一个内核模块，驻留在Oracle ASM磁盘的I / O路径中。Oracle ASM使用筛选器驱动程序验证对Oracle ASM磁盘的写入I / O请求。</p>
                  <p>Oracle ASMFD通过在每次重新启动系统时无需重新绑定与Oracle ASM一起使用的磁盘设备，从而简化了磁盘设备的配置和管理。</p>
                  <p>Oracle ASM筛选器驱动程序拒绝任何无效的I / O请求。此操作可消除意外覆盖Oracle ASM磁盘，从而导致磁盘组中的磁盘和文件损坏。例如，Oracle ASM筛选器驱动程序筛选出可能导致意外覆盖的所有非Oracle I / O.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9__GUID-05E1EF83-EFA6-4155-9F9D-08F5077E4B27">关于Oracle ASMLIB和Oracle ASM过滤器驱动程序</p>
                     <p>从Oracle Grid Infrastructure 12 <span class="italic">c</span>第2版（12.2）开始，如果系统上已安装Oracle ASMLIB，则无法安装和配置Oracle ASM筛选器驱动程序（Oracle ASMFD）。如果要安装和配置Oracle ASMFD，必须先卸载Oracle ASMLIB。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9__GUID-AABA7E6F-B418-4600-9926-F015069AA9EF">关于分区表和Oracle ASM筛选器驱动程序</p>
                     <p>Oracle自动存储管理12.2第1版（12.2.0.1）中的Oracle ASM过滤器驱动程序（ASMFD）不支持扩展分区表。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9__ORACLEGRIDINFRASTRUCTUREINSTALLATIO-09FE4485">
                        <p class="notep1">也可以看看：</p>
                        <p>有关卸载Oracle ASMLIB的信息，请参见适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG95909"></a><div class="props_rev_3"><a id="GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A" name="GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A"></a><h3 id="OSTMG-GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A" class="sect3">配置Oracle ASM筛选器驱动程序</h3>
               <div>
                  <p>您可以在安装Oracle Grid Infrastructure期间或安装Oracle Grid Infrastructure之后为设备持久性配置Oracle ASM过滤器驱动程序（Oracle ASMFD）。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-6F16B5EC-BE7D-44FA-A05B-A62CF33763D3">在安装期间配置Oracle ASM筛选器驱动程序</a></p>
                     </li>
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2">安装后配置Oracle ASM筛选器驱动程序</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A__GUID-30135C2C-B1B1-49EA-A8F2-8B8160B5105E">
                     <p class="notep1">注意：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果为现有Oracle ASM安装安装并配置了ASMLIB，则必须在安装和配置Oracle ASMFD之前显式卸载现有ASMLIB配置。有关卸载Oracle ASMLIB和安装Oracle Grid Infrastructure的信息，请参阅适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>如果先前已在系统上安装了ASMLIB，则必须在运行ASMCMD <code class="codeph">afd_configure</code>以配置Oracle ASMFD之前将Oracle ASM磁盘字符串设置为<code class="codeph">''</code> （使用ASMCMD <code class="codeph">dsset ''</code> ）。</p>
                        </li>
                        <li>
                           <p>有关配置Oracle ASM筛选器驱动程序（ASMFD）的其他信息，请参阅<a href="https://support.oracle.com" target="_blank">My Oracle Support</a> （ <a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a> ）上提供的有关Oracle ASMFD的My Oracle Support文章。</p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A__ORACLEGRIDINFRASTRUCTUREINSTALLATIO-33B24573">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关安装和配置Oracle Grid Infrastructure的信息，请<a href="../install-and-upgrade.html" target="_blank"><span><cite>参见</cite></span></a>适用于您的操作系统的<a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure安装和升级指南</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-6F16B5EC-BE7D-44FA-A05B-A62CF33763D3" name="GUID-6F16B5EC-BE7D-44FA-A05B-A62CF33763D3"></a><h4 id="OSTMG-GUID-6F16B5EC-BE7D-44FA-A05B-A62CF33763D3" class="sect4">在安装期间配置Oracle ASM筛选器驱动程序</h4>
                  <div>
                     <div class="section">
                        <p>在安装Oracle Grid Infrastructure期间，您可以选择使用“ <span class="bold">创建</span> <span class="bold">ASM</span> <span class="bold">磁盘</span> <span class="bold">组”</span>向导页面上的“ <span class="bold">配置</span> <span class="bold">ASM</span> <span class="bold">筛选器</span> <span class="bold">驱动程序”</span>复选框为您的系统启用Oracle ASM筛选器驱动程序的自动安装和配置。启用“ <span class="bold">配置</span> <span class="bold">ASM</span> <span class="bold">筛选器</span> <span class="bold">驱动程序”</span>框后，Oracle Grid Infrastructure安装期间将启动Oracle ASMFD的自动流程。
                        </p>
                        <p>如果未在安装了Oracle Grid Infrastructure的系统上使用<code class="codeph">udev</code> ，则还可以在启动安装程序之前完成以下过程为Oracle ASMFD配置磁盘。必须在Oracle Grid Infrastructure安装zip文件在Oracle Grid Infrastructure主目录中解压缩之后执行此过程，但在安装过程中启用“ <span class="bold">配置</span> <span class="bold">ASM</span> <span class="bold">筛选器</span> <span class="bold">驱动程序”</span>复选框之前，必须执行此过程。
                        </p>
                        <ol>
                           <li>
                              <p>要配置共享磁盘以与Oracle ASM筛选器驱动程序一起使用，请以<code class="codeph">root</code>用户身份登录，并将环境变量<code class="codeph">$ORACLE_HOME</code>设置为Grid home的位置，并将环境变量<code class="codeph">$ORACLE_BASE</code>设置为临时位置</p><pre class="oac_no_warn" dir="ltr">su root #set ORACLE_HOME = / u01 / app / oracle / 12.2.0 / grid #set ORACLE_BASE = / tmp</pre><p><code class="codeph">ORACLE_BASE</code>变量设置为临时位置，以避免在安装Oracle Grid Infrastructure之前在Grid主目录中创建诊断或跟踪文件。
                              </p>
                              <p>在执行以下步骤中的命令之前，请确保您位于<code class="codeph">$ORACLE_HOME/bin</code>目录中。
                              </p>
                           </li>
                           <li>
                              <p>使用ASMCMD <code class="codeph">afd_label</code>命令配置磁盘设备以与Oracle ASM过滤器驱动程序一起使用，如下所示。
                              </p><pre class="oac_no_warn" dir="ltr">#asmcmd afd_label DATA1 / dev / disk1a --init</pre></li>
                           <li>
                              <p>使用ASMCMD <code class="codeph">afd_lslbl</code>命令验证设备是否已标记为与Oracle ASMFD一起使用。</p><pre class="oac_no_warn" dir="ltr">#asmcmd afd_lslbl / dev / disk1a</pre></li>
                           <li>
                              <p>完成为Oracle ASMFD配置磁盘后，取消设置<code class="codeph">ORACLE_BASE</code>变量。</p><pre class="oac_no_warn" dir="ltr">#unset ORACLE_BASE</pre></li>
                           <li>
                              <p>运行安装程序安装脚本（ <code class="codeph">gridSetup.sh</code> ）以安装Oracle Grid Infrastructure并启用Oracle ASM筛选器驱动程序配置。
                              </p>
                              <p>在安装过程中的“ <span class="bold">创建</span> <span class="bold">ASM</span> <span class="bold">磁盘</span> <span class="bold">组”</span>向导页上，选中“ <span class="bold">配置</span> <span class="bold">ASM</span> <span class="bold">筛选器</span> <span class="bold">驱动程序”</span>框以启用Oracle ASM筛选器驱动程序的配置，然后将配置的磁盘添加到初始磁盘组（通常名为<code class="codeph">DATA</code> ）。
                              </p>
                           </li>
                        </ol>
                        <p>有关用于管理Oracle ASMFD的ASMCMD命令的信息，请参阅<span class="q">“ <a href="asmcmd-filterdriver-commands.html#GUID-C23690C6-0DE6-42A7-B9C7-4FB1FF13ED64" title="本主题提供ASMCMD Oracle ASM筛选器驱动程序（Oracle ASMFD）管理命令的摘要。">ASMCMD Oracle ASM过滤器驱动程序管理命令</a> ”</span> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2" name="GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2"></a><h4 id="OSTMG-GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2" class="sect4">安装后配置Oracle ASM筛选器驱动程序</h4>
                  <div>
                     <div class="section">
                        <p>如果在安装期间未启用Oracle ASM筛选器驱动程序（ASMFD）的配置，则可以手动配置Oracle ASM设备以使用Oracle ASMFD，如以下主题中所述。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administer-filter-driver.html#GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8">在Oracle Grid Infrastructure Clusterware环境中配置Oracle ASM筛选器驱动程序</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administer-filter-driver.html#GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6">在Oracle Grid Infrastructure独立环境中配置Oracle ASM</a> ”</span></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2__GUID-C41D84C7-8960-4673-81B2-9362BB8B9619">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="https://support.oracle.com" target="_blank">我的Oracle支持</a> （ <a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a> ，了解有关配置Oracle ASM过滤器驱动程序（ASMFD）的文章</p>
                              </li>
                              <li>
                                 <p>有关使用CRSCTL命令的信息，请参见<a href="../cwadd/oracle-clusterware-control-crsctl-utility-reference.html#CWADD91142" target="_blank"><span class="italic">“Oracle Clusterware管理和部署指南”</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OSTMG95910"></a><div class="props_rev_3"><a id="GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8" name="GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8"></a><h5 id="OSTMG-GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8" class="sect5">在Oracle Grid Infrastructure Clusterware环境中配置Oracle ASM筛选器驱动程序</h5>
                     <div>
                        <div class="section">
                           <p>要在安装后在Oracle Clusterware环境中配置Oracle ASMFD，请执行以下步骤。</p>
                           <ol>
                              <li>
                                 <p>作为Oracle Grid Infrastructure所有者，更新Oracle ASM磁盘发现字符串以使Oracle ASMFD能够在将来发现设备。</p>
                                 <p>首先检索Oracle ASM磁盘发现字符串的当前值。</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd dsget</pre><p>上述命令中<span class="italic"><code class="codeph">disk_string</code></span>的值是<code class="codeph">dsget</code>检索的当前Oracle ASM磁盘发现字符串值。如果磁盘位于操作系统环境的默认位置，并且尚未设置磁盘发现字符串，则磁盘发现字符串为空。
                                 </p>
                                 <p>更新Oracle ASM磁盘发现字符串。如果字符串为空，请更新磁盘发现字符串的值以包括默认磁盘位置。</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd <span class="italic"><code class="codeph">disk_string</code></span> ，AFD：*'</pre></li>
                              <li>
                                 <p>作为Oracle Grid Infrastructure所有者，列出群集中的节点和节点角色。</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / olsnodes -a</pre></li>
                              <li>
                                 <p>在每个Hub和Leaf节点上，以滚动或非滚动模式执行此步骤。</p>
                                 <ol type="a">
                                    <li>
                                       <p>以<code class="codeph">root</code>用户身份登录并停止Oracle Grid Infrastructure。
                                       </p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl停止crs</pre><p>如果该命令返回错误，则强制停止Oracle Grid Infrastructure。</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl stop crs -f</pre></li>
                                    <li>
                                       <p>以<code class="codeph">root</code>用户身份配置Oracle ASMFD以在节点级别进行筛选。
                                       </p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / asmcmd afd_configure</pre></li>
                                    <li>
                                       <p>作为Oracle Grid Infrastructure所有者，验证Oracle ASMFD的状态。</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_state ASMCMD-9526：AFD状态为'LOADED'，主机'myhost'上的'ENABLED'过滤</pre></li>
                                    <li>
                                       <p>使用Oracle ASMFD标签标记所有Oracle ASM磁盘。</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin中/ ASMCMD <span class="italic">afd_label'LABEL_NAME</span> <span class="italic">'device_path'</span> --migrate</pre></li>
                                    <li>
                                       <p>以<code class="codeph">root</code>用户身份启动节点上的Oracle Clusterware堆栈。
                                       </p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl start crs</pre></li>
                                    <li>
                                       <p>作为Oracle Grid Infrastructure所有者，将Oracle ASMFD发现磁盘字符串设置为步骤1中更新的Oracle ASM磁盘发现字符串值。</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_dsset <span class="italic"><code class="codeph">disk_string</code></span>
</pre></li>
                                 </ol>
                              </li>
                           </ol>
                           <p>正确设置Oracle ASMFD发现磁盘字符串后，Oracle ASM过滤器驱动程序应识别并开始管理磁盘，包括以前由Oracle ASMLIB管理的磁盘。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8__GUID-DF273BDC-18C0-4D7B-BAFA-A31F9F786F24">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">更新Oracle ASM过滤器驱动程序磁盘的Oracle ASM ASM_DISKSTRING参数，</a>以获取有关更新Oracle ASM发现字符串的信息</p>
                                 </li>
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">确定是否已配置Oracle ASM筛选器驱动程序，</a>以获取有关检查Oracle ASM筛选器驱动程序状态的信息</p>
                                 </li>
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D">更新Oracle ASM筛选器驱动程序AFD_DISKSTRING参数</a>以获取有关更新Oracle ASM筛选器驱动程序发现磁盘发现字符串的信息</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OSTMG95911"></a><div class="props_rev_3"><a id="GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6" name="GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6"></a><h5 id="OSTMG-GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6" class="sect5">在Oracle Grid Infrastructure独立环境中配置Oracle ASM</h5>
                     <div>
                        <div class="section">
                           <p>要在独立（Oracle Restart）环境中配置Oracle ASM筛选器驱动程序（ASMFD），请执行以下步骤。</p>
                           <ol>
                              <li>
                                 <p>作为Oracle Grid Infrastructure独立服务器所有者，更新Oracle ASM磁盘发现字符串以使Oracle ASMFD能够在将来发现磁盘设备。</p>
                                 <p>首先检查Oracle ASM磁盘发现字符串的当前值，然后更新该值。</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd dsget $ $ ORACLE_HOME / bin / asmcmd <span class="italic"><code class="codeph">disk_string</code></span> ，AFD：*'</pre><p>上述命令中<span class="italic"><code class="codeph">disk_string</code></span>的值是<code class="codeph">dsget</code>检索的磁盘发现字符串值。
                                 </p>
                              </li>
                              <li>
                                 <p>以<code class="codeph">root</code>用户身份登录，并使用以下命令停止独立服务器的Oracle Grid Infrastructure：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl stop有-f</pre></li>
                              <li>
                                 <p>以<code class="codeph">root</code>用户身份配置Oracle ASMFD。</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / asmcmd afd_configure</pre><p>此命令配置Oracle ASMFD并取消配置Oracle ASMLIB（如果存在）。</p>
                              </li>
                              <li>
                                 <p>作为Oracle Grid Infrastructure独立服务器所有者，请验证Oracle ASMFD状态。</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_state ASMCMD-9526：AFD状态为'LOADED'，主机'myhost'上的'ENABLED'过滤</pre></li>
                              <li>
                                 <p>以<code class="codeph">root</code>用户身份启动独立服务器的Oracle Grid Infrastructure。
                                 </p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl start有</pre></li>
                              <li>
                                 <p>作为Oracle Grid Infrastructure独立服务器所有者，将Oracle ASMFD磁盘发现字符串设置为步骤1中更新的Oracle ASM磁盘发现字符串的值。</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_dsset <span class="italic"><code class="codeph">disk_string</code></span>
</pre></li>
                           </ol>
                           <p>Oracle ASM筛选器驱动程序应识别并开始管理以前由Oracle ASMLIB管理的磁盘。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6__FORINFORMATIONABOUTUPDATINGTHEORACL-DD1038A9">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">更新Oracle ASM过滤器驱动程序磁盘的Oracle ASM ASM_DISKSTRING参数，</a>以获取有关更新Oracle ASM发现字符串的信息</p>
                                 </li>
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">确定是否已配置Oracle ASM筛选器驱动程序，</a>以获取有关检查Oracle ASM筛选器驱动程序状态的信息</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="OSTMG95750"></a><div class="props_rev_3"><a id="GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0" name="GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0"></a><h3 id="OSTMG-GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0" class="sect3">关于从ASMLIB环境迁移到Oracle ASM筛选器驱动程序</h3>
               <div>
                  <p>如果为现有Oracle ASM安装安装并配置了ASMLIB，则必须在安装和配置Oracle ASMFD之前显式卸载现有ASMLIB配置。</p>
                  <p>Oracle建议您临时将Oracle Cluster Registry（OCR）和表决文件移动到另一个磁盘组（如果有），如<a href="administer-filter-driver.html#GUID-9C370239-C67D-4813-BE83-B0528397C02D">迁移不带Oracle Cluster Registry或Voting Files的Oracle ASM磁盘组中</a>所述，并迁移磁盘组以使用Oracle ASMFD。迁移磁盘组以使用Oracle ASMFD后，将OCR和表决文件移回磁盘组。如果它们包含OCR或投票文件，您可以类似地迁移任何其他磁盘组，以确保将所有磁盘组在线迁移到Oracle ASMFD。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-9C370239-C67D-4813-BE83-B0528397C02D">在没有Oracle Cluster Registry或Voting Files的情况下迁移Oracle ASM磁盘组</a></p>
                     </li>
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-6DB5A3A7-2F50-4918-A552-DFF7B5C9E7BF">使用Oracle Cluster Registry或Voting Files迁移Oracle ASM磁盘组</a></p>
                     </li>
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-ECAFF45E-CB7F-4C43-B8E2-7F6DBA77F964">在Oracle Grid Infrastructure独立环境中迁移Oracle ASM磁盘组</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0__GUID-0EEDE7F8-4A1C-4E79-A42A-05B2738270FF">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关替换Oracle Cluster Registry位置和迁移投票文件的信息，请参阅<a href="../cwadd/managing-oracle-cluster-registry-and-voting-files.html#CWADD92368" target="_blank"><span class="italic">“Oracle Clusterware管理和部署指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关使用CRSCTL命令的信息，请参见<a href="../cwadd/oracle-clusterware-control-crsctl-utility-reference.html#CWADD91142" target="_blank"><span class="italic">“Oracle Clusterware管理和部署指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关管理投票文件，Oracle Cluster Registry（OCR）和Oracle Local Registry（OLR）的信息，请参阅<a href="../cwadd/managing-oracle-cluster-registry-and-voting-files.html#CWADD70700" target="_blank"><span class="italic">“Oracle Clusterware管理和部署指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关SRVCTL命令的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>“</cite></span></a> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware管理和部署指南”</cite></span></a>和“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95912"></a><div class="props_rev_3"><a id="GUID-9C370239-C67D-4813-BE83-B0528397C02D" name="GUID-9C370239-C67D-4813-BE83-B0528397C02D"></a><h4 id="OSTMG-GUID-9C370239-C67D-4813-BE83-B0528397C02D" class="sect4">在没有Oracle Cluster Registry或Voting Files的情况下迁移Oracle ASM磁盘组</h4>
                  <div>
                     <div class="section">
                        <p>要将没有Oracle Cluster Registry（OCR）或投票文件的Oracle ASM磁盘组迁移到Oracle ASMFD，请执行以下操作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>在任何节点上以Oracle Grid Infrastructure所有者身份登录，以在此过程中运行命令。</span></li>
                        <li class="stepexpand"><span>列出现有磁盘组：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd lsdg</pre></div>
                        </li>
                        <li class="stepexpand"><span>列出关联的磁盘：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd lsdsk -G <span class="italic"><code class="codeph">diskgroup</code></span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>检查Oracle ASM是否处于活动状态：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / srvctl状态asm</pre></div>
                        </li>
                        <li class="stepexpand"><span>停止数据库并卸载所有节点上的磁盘组：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / srvctl stop diskgroup -diskgroup <span class="italic"><code class="codeph">diskgroup</code></span> -f</pre></div>
                        </li>
                        <li class="stepexpand"><span>通过对Hub节点上的每个磁盘运行以下命令，标记磁盘组中的所有现有磁盘：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_label <span class="italic">标签</span> <span class="italic"><code class="codeph">disk_path</code></span> --migrate</pre></div>
                        </li>
                        <li class="stepexpand"><span>扫描所有Hub节点上的磁盘：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_scan</pre></div>
                        </li>
                        <li class="stepexpand"><span>启动数据库并在所有节点上装入磁盘组：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / srvctl启动diskgroup -diskgroup <span class="italic"><code class="codeph">diskgroup</code></span></pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="OSTMG95913"></a><div class="props_rev_3"><a id="GUID-6DB5A3A7-2F50-4918-A552-DFF7B5C9E7BF" name="GUID-6DB5A3A7-2F50-4918-A552-DFF7B5C9E7BF"></a><h4 id="OSTMG-GUID-6DB5A3A7-2F50-4918-A552-DFF7B5C9E7BF" class="sect4">使用Oracle Cluster Registry或Voting Files迁移Oracle ASM磁盘组</h4>
                  <div>
                     <div class="section">
                        <p>要将Oracle ASM磁盘组与Oracle Cluster Registry（OCR）或投票文件一起迁移到Oracle ASM筛选器驱动程序（Oracle ASMFD），请执行以下操作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以<code class="codeph">root</code>用户身份登录，并通过在一个节点上运行以下命令，列出具有OCR和投票文件的磁盘组：</span><div><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / ocrcheck -config＃$ ORACLE_HOME / bin / crsctl query css votedisk</pre></div>
                        </li>
                        <li class="stepexpand"><span>由于Oracle Grid Infrastructure所有者列出与磁盘组关联的磁盘：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd lsdsk -G <span class="italic">disk_group</span> 
</pre></div>
                        </li>
                        <li class="stepexpand"><span>以<code class="codeph">root</code>身份，在所有节点上停止数据库和Oracle Clusterware：</span><div><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl stop cluster -all</pre></div>
                        </li>
                        <li class="stepexpand"><span>由于Oracle Grid Infrastructure所有者通过对Hub节点上的每个磁盘运行以下命令来标记磁盘组中的所有现有磁盘：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_label <span class="italic">标签</span> <span class="italic">disk_path</span> --migrate</pre></div>
                        </li>
                        <li class="stepexpand"><span>由于Oracle Grid Infrastructure所有者通过在所有Hub节点上运行以下命令来重新扫描所有Hub节点上的磁盘：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_scan</pre></div>
                        </li>
                        <li class="stepexpand"><span>以<code class="codeph">root</code>身份，在所有节点上启动Oracle Clusterware堆栈并挂载OCR和投票文件磁盘组和数据库：</span><div><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl start cluster -all</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="OSTMG95914"></a><div class="props_rev_3"><a id="GUID-ECAFF45E-CB7F-4C43-B8E2-7F6DBA77F964" name="GUID-ECAFF45E-CB7F-4C43-B8E2-7F6DBA77F964"></a><h4 id="OSTMG-GUID-ECAFF45E-CB7F-4C43-B8E2-7F6DBA77F964" class="sect4">在Oracle Grid Infrastructure独立环境中迁移Oracle ASM磁盘组</h4>
                  <div>
                     <div class="section">
                        <p>要在Oracle Grid Infrastructure独立（Oracle Restart）环境中将现有Oracle ASM磁盘组迁移到Oracle ASM筛选器驱动程序，请执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>以Oracle Grid Infrastructure独立服务器所有者身份登录，以运行此过程中的步骤。</span></li>
                        <li class="stepexpand"><span>列出现有磁盘组：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd lsdg</pre></div>
                        </li>
                        <li class="stepexpand"><span>列出现有磁盘：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd lsdsk -G <span class="italic"><code class="codeph">diskgroup_name</code></span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>检查Oracle ASM实例的状态是否处于活动状态：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / srvctl状态asm</pre></div>
                        </li>
                        <li class="stepexpand"><span>停止所有数据库并卸载所有磁盘组。对于每个数据库，请运行以下命令：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / srvctl stop database -db <span class="italic"><code class="codeph">db_unique_name</code></span> $ / $ ORACLE_HOME / bin / srvctl stop diskgroup -diskgroup <span class="italic"><code class="codeph">diskgroup_name</code></span> -f</pre></div>
                        </li>
                        <li class="stepexpand"><span>通过对每个磁盘运行以下命令来标记磁盘组中的所有现有磁盘：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_label <span class="italic"><code class="codeph">label</code></span> <span class="italic"><code class="codeph">disk_path</code></span> --migrate</pre></div>
                        </li>
                        <li class="stepexpand"><span>重新扫描磁盘：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_scan</pre></div>
                        </li>
                        <li class="stepexpand"><span>启动数据库并装入磁盘组：</span><div><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / srvctl启动diskgroup -diskgroup <span class="italic"><code class="codeph">diskgroup_name</code></span></pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="OSTMG95730"></a><div class="props_rev_3"><a id="GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9" name="GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9"></a><h3 id="OSTMG-GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9" class="sect3">确定是否已配置Oracle ASM筛选器驱动程序</h3>
               <div>
                  <p><a id="d213537e2555" class="indexterm-anchor"></a> <code class="codeph">AFD_STATE</code>参数的<code class="codeph">SYS_ASMFD_PROPERTIES</code>指定是否为Oracle ASM实例配置了Oracle ASMFD。
                  </p>
                  <p>您可以使用ASMCMD <code class="codeph">afd_state</code>命令检查Oracle ASMFD的状态。例如：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_state ASMCMD-9526：AFD状态为'LOADED'，主机'myhost'上的过滤为'DEFAULT'</pre><p>有关使用ASMCMD <code class="codeph">afd_state</code>命令确定Oracle ASMFD状态的信息，请参阅<span class="q">“ <a href="asmcmd-filterdriver-commands.html#GUID-347F0484-FE6C-4103-A73E-EE4733C3AA8E">afd_state</a> ”</span> 。
                  </p>
                  <p>要确定主机上是否存在Oracles ASMFD，还可以从<code class="codeph">SYS_CONTEXT</code>显示<code class="codeph">AFD_STATE</code>的值。您必须在Oracle ASM实例上运行查询。
                  </p>
                  <p>如果<code class="codeph">AFD_STATE</code>的值等于<code class="codeph">NOT</code> <code class="codeph">AVAILABLE</code> ，则不配置Oracle ASMFD。
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT SYS_CONTEXT（'SYS_ASMFD_PROPERTIES'，'AFD_STATE'）FROM DUAL; SYS_CONTEXT（'SYS_ASMFD_PROPERTIES'，'AFD_STATE'）---------------------------------------- -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  -  无法使用</pre><p>值<code class="codeph">CONFIGURED</code>表示Oracle ASMFD已完全设置，Oracle ASM实例可以向驱动程序注册。
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT SYS_CONTEXT（'SYS_ASMFD_PROPERTIES'，'AFD_STATE'）FROM DUAL; SYS_CONTEXT（'SYS_ASMFD_PROPERTIES'，'AFD_STATE'）---------------------------------------- ----------------------------------------配置</pre></div>
            </div><a id="OSTMG95731"></a><div class="props_rev_3"><a id="GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D" name="GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D"></a><h3 id="OSTMG-GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D" class="sect3">更新Oracle ASM筛选器驱动程序AFD_DISKSTRING参数</h3>
               <div>
                  <p><a id="d213537e2750" class="indexterm-anchor"></a> <code class="codeph">AFD_DISKSTRING</code>参数指定Oracle ASMFD磁盘发现字符串，该字符串用于标识要由Oracle ASMFD管理的磁盘。</p>
                  <p>您可以使用ASMCMD <code class="codeph">afd_dsset</code>和<code class="codeph">afd_dgset</code>命令设置和显示<code class="codeph">AFD_DISKSTRING</code>参数。例如：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_dsset'/ dev / rdsk / mydisks / *'$ $ ORACLE_HOME / bin / asmcmd afd_dsget AFD发现字符串：/ dev / rdsk / mydisks / *</pre><p>有关显示和设置Oracle ASMFD磁盘发现字符串的ASMCMD命令的信息，请参阅<span class="q">“ <a href="asmcmd-filterdriver-commands.html#GUID-CF2B5891-F67E-4F6C-9F00-C9428B41AFF3">afd_dsget</a> ”</span>和<span class="q">“ <a href="asmcmd-filterdriver-commands.html#GUID-4CD4D2E9-A3C2-45CE-B9B3-AE97082CA560">afd_dsset</a> ”</span> 。
                  </p>
                  <p>您还可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> SQL语句设置<code class="codeph">AFD_DISKSTRING</code> 。在Oracle ASMFD磁盘发现字符串标识的磁盘的磁盘头中创建标签。
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM AFD_DISKSTRING SET'/ dev / disk0'，'/ dev / disk1'，'/ devices / dsk / *';系统改变了。
</pre><p>您可以使用以下查询检索<code class="codeph">AFD_DISKSTRING</code>参数的值。
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT SYS_CONTEXT（'SYS_ASMFD_PROPERTIES'，'AFD_DISKSTRING'）FROM DUAL; SYS_CONTEXT（'SYS_ASMFD_PROPERTIES'，'AFD_DISKSTRING'）---------------------------------------- ----------------------------------------'/ dev / disk0'，'/ dev /磁盘1' ， '/装置/ DSK / *'</pre></div>
            </div><a id="OSTMG95749"></a><div class="props_rev_3"><a id="GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744" name="GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744"></a><h3 id="OSTMG-GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744" class="sect3">更新Oracle ASM过滤器驱动程序磁盘的Oracle ASM ASM_DISKSTRING参数</h3>
               <div>
                  <p><a id="d213537e2941" class="indexterm-anchor"></a>您可以更新Oracle ASM磁盘发现字符串，以在<code class="codeph">ASM_DIKSTRING</code>初始化参数中添加或删除Oracle ASMFD磁盘标签名称。
                  </p>
                  <p>例如，您可以将Oracle ASMFD磁盘添加到<code class="codeph">ASM_DIKSTRING</code>初始化参数，如下所示：</p><pre class="oac_no_warn" dir="ltr">ASM_DISKSTRING ='AFD：DISK0'，'AFD：DISK1'，'/ dev / rdsk / mydisks / *'</pre><p>或者您可以按如下方式设置<code class="codeph">ASM_DIKSTRING</code>初始化参数：</p><pre class="oac_no_warn" dir="ltr">ASM_DISKSTRING ='AFD：*'，'/ dev / rdsk / mydisks / *'</pre><p>您可以使用ASMCMD <code class="codeph">dsget</code>和<code class="codeph">dsset</code>命令显示和设置Oracle ASM磁盘发现字符串。例如，您可以设置Oracle ASM磁盘发现字符串以添加Oracle ASMFD磁盘，如下所示：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd dsset'AFD：*，/ dev / rdsk / mydisks / *'</pre><p>您可以按如下方式删除以前添加的Oracle ASMFD磁盘：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd dsset'/ dev / rdsk / mydisks / *'</pre><p>有关显示和设置Oracle ASM磁盘发现字符串的ASMCMD命令的信息，请参阅<span class="q">“ <a href="asmcmd-instance-commands.html#GUID-33ECC9A3-2BF7-4986-A281-D265953DB834">dsget</a> ”</span>和<span class="q">“ <a href="asmcmd-instance-commands.html#GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4">dsset</a> ”</span> 。
                  </p>
                  <p>有关<code class="codeph">ASM_DISKSTRING</code>初始化参数的信息，请参阅<span class="q">“ <a href="init-params-asm-instance.html#GUID-03BD4335-FEF9-4147-B8E4-E63F2D80F863" title="ASM_DISKSTRING初始化参数指定以逗号分隔的字符串列表，这些字符串限制Oracle ASM实例发现的磁盘集。">ASM_DISKSTRING</a> ”</span> 。
                  </p>
               </div>
            </div><a id="OSTMG95732"></a><div class="props_rev_3"><a id="GUID-302F7233-B905-4D1E-A1AD-9A00EDC6A6F3" name="GUID-302F7233-B905-4D1E-A1AD-9A00EDC6A6F3"></a><h3 id="OSTMG-GUID-302F7233-B905-4D1E-A1AD-9A00EDC6A6F3" class="sect3">设置，清除和扫描Oracle ASM筛选器驱动程序标签</h3>
               <div>
                  <p><a id="d213537e3143" class="indexterm-anchor"></a>设置标签会设置Oracle ASMFD要使用的磁盘。设置标签后，指定的磁盘由Oracle ASMFD管理。</p>
                  <p>您可以使用ASMCMD <code class="codeph">afd_label</code> ， <code class="codeph">afd_unlabel</code>和<code class="codeph">afd_scan</code>命令添加，删除和扫描标签。例如：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_label'disk0''/ dev / rdsk / mydisks / disk0'$ $ ORACLE_HOME / bin / asmcmd afd_unlabel'disk0'$ $ ORACLE_HOME / bin / asmcmd afd_scan'/ dev / rdsk / mydisks / *'</pre><p>有关在ASMFDD磁盘上添加和删除标签的ASMCMD命令的信息，请参阅<span class="q">“ <a href="asmcmd-filterdriver-commands.html#GUID-C407F7A9-3734-4C84-A178-1756E366E327">afd_label</a> ”</span> ， <span class="q">“ <a href="asmcmd-filterdriver-commands.html#GUID-6B538AFE-0396-46F8-B44B-6EAB157B4267">afd_unlabel</a> ”</span>和<span class="q">“ <a href="asmcmd-filterdriver-commands.html#GUID-B9065195-A58D-4364-90E8-181C98F4B44F">afd_scan</a> ”</span> 。此外，ASMCA还支持在Oracle ASMFD磁盘上添加和删除标签。有关使用ASMCA管理磁盘组的信息，请参阅<span class="q">“ <a href="manage-asm-asmca.html#GUID-F78B035C-168D-4CBB-B321-21BB57FED363" title="Oracle ASM Configuration Assistant使您可以使用“配置ASM磁盘组”选项卡配置或创建Oracle ASM磁盘组。">使用ASMCA管理磁盘组</a> ”</span> 。
                  </p>
                  <p>您还可以使用SQL语句管理标签。您可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">SET</code> SQL语句<code class="codeph">SET</code> <code class="codeph">LABEL</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM LABEL SET'disk0'TO'/ dev / disk0';系统改变了。SQL&gt; SELECT UPPER（path）FROM V $ ASM_DISK ORDER BY PATH; UPPER（PATH）---------------------------------------------- ---------------------------------- AFD：DISK0</pre><p>运行该语句时，可以使用可选的<code class="codeph">RENAME</code>或<code class="codeph">MIGRATE</code>选项。如果以前为Oracle ASMFD配置了磁盘，则可以使用<code class="codeph">RENAME</code>选项重命名该标签。请注意，运行该命令时，不应使用Oracle ASMFD管理设备。如果以前将磁盘用于Oracle ASM磁盘组并且已卸除磁盘组，则可以使用<code class="codeph">MIGRATE</code>选项标记此磁盘。
                  </p>
                  <p>您可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">CLEAR</code>从设备中删除标签并停止Oracle ASMFD管理设备。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM LABEL CLEAR'disk0';系统改变了。
</pre><p>在本地节点上运行<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">SET</code>命令后，可以在远程节点上使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">SCAN</code> 。
                  </p>
                  <p>因为<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">SET</code>语句将标签写在磁盘头上并且磁盘在节点之间共享，所以同一语句不会在群集的其他节点上运行。
                  </p>
                  <p>如果未指定device-path，则语句使用<code class="codeph">AFD_DISKSTRING</code>参数值执行扫描操作。
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM LABEL SCAN</pre></div>
            </div><a id="OSTMG95915"></a><div class="props_rev_3"><a id="GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71" name="GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71"></a><h3 id="OSTMG-GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71" class="sect3">取消配置Oracle ASM筛选器驱动程序</h3>
               <div>
                  <p><a id="d213537e3432" class="indexterm-anchor"></a>如果已在系统上配置了Oracle ASM过滤器驱动程序（Oracle ASMFD），则可以对其进行解除配置。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="administer-filter-driver.html#GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372">在Oracle Grid Infrastructure Clusterware环境中取消配置Oracle ASM过滤器驱动程序</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="administer-filter-driver.html#GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2">在Oracle Grid Infrastructure Standalone（Oracle Restart）环境中取消配置Oracle ASM过滤器驱动程序</a> ”</span></p>
                     </li>
                  </ul>
                  <p>有关用于管理Oracle ASMFD的ASMCMD命令的信息，请参阅<span class="q">“ <a href="asmcmd-filterdriver-commands.html#GUID-C23690C6-0DE6-42A7-B9C7-4FB1FF13ED64" title="本主题提供ASMCMD Oracle ASM筛选器驱动程序（Oracle ASMFD）管理命令的摘要。">ASMCMD Oracle ASM过滤器驱动程序管理命令</a> ”</span> 。
                  </p>
                  <div class="infoboxnotealso" id="GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71__GUID-A7CA781A-53DD-4286-8356-A2B9410D2D95">
                     <p class="notep1">也可以看看：</p>
                     <p>有关使用CRSCTL命令的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWADD91142" target="_blank"><span class="italic">“Oracle Clusterware管理和部署指南”</span></a></p>
                  </div>
               </div><a id="OSTMG95916"></a><div class="props_rev_3"><a id="GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372" name="GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372"></a><h4 id="OSTMG-GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372" class="sect4">在Oracle Grid Infrastructure Clusterware环境中取消配置Oracle ASM筛选器驱动程序</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以在Oracle Clusterware环境中取消配置Oracle ASM筛选器驱动程序：</p>
                        <ol>
                           <li>
                              <p>更新Oracle ASM磁盘发现字符串，以使Oracle ASM在取消配置Oracle ASMFD后发现磁盘设备。</p>
                           </li>
                           <li>
                              <p>由于Oracle Grid Infrastructure所有者通过在任何节点上运行以下命令来列出群集中的节点和节点角色：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / olsnodes -a</pre></li>
                           <li>
                              <p>在每个Hub和Leaf节点上，以滚动或非滚动模式执行以下操作：</p>
                              <ol type="a">
                                 <li>
                                    <p>以<code class="codeph">root</code>用户身份登录并停止Oracle Grid Infrastructure：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl停止crs</pre><p>如果该命令返回任何错误，则强制停止Oracle Grid Infrastructure，如下所示：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl stop crs -f</pre></li>
                                 <li>
                                    <p>以<code class="codeph">root</code>身份，停止Oracle ACFS内核模块以确保最可靠的关闭：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / acfsload stop</pre></li>
                                 <li>
                                    <p>以<code class="codeph">root</code>身份取消配置Oracle ASMFD：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / asmcmd afd_deconfigure</pre></li>
                                 <li>
                                    <p>以<code class="codeph">root</code>身份启动ACFS内核模块：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / acfsload start</pre></li>
                                 <li>
                                    <p>以<code class="codeph">root</code>身份启动节点上的Oracle Clusterware堆栈：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl start crs</pre></li>
                                 <li>
                                    <p>作为Oracle Grid Infrastructure所有者验证Oracle ASMFD的状态：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_state</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>当Oracle Grid Infrastructure所有者更新Oracle ASM发现字符串以删除Oracle ASMFD路径时：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd dsget $ $ ORACLE_HOME / bin / asmcmd dsset <span class="italic"><code class="codeph">old_diskstring</code></span>
</pre><p>在更新值之前，请检查Oracle ASM磁盘发现字符串的当前值。<span class="italic"><code class="codeph">old_diskstring</code></span>值是使用<code class="codeph">AFD:</code> （Oracle ASMFD）路径更新之前的旧磁盘发现字符串值。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372__FORINFORMATIONABOUTUPDATINGTHEORACL-DB1970C2">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">更新Oracle ASM过滤器驱动程序磁盘的Oracle ASM ASM_DISKSTRING参数，</a>以获取有关更新Oracle ASM磁盘发现字符串的信息</p>
                              </li>
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D">更新Oracle ASM筛选器驱动程序AFD_DISKSTRING参数</a>以获取有关更新Oracle ASM筛选器驱动程序发现磁盘发现字符串的信息</p>
                              </li>
                              <li>
                                 <p><a href="acfs-advanced-topics.html#GUID-5BA14B0C-DB90-433F-9394-DD7B44078835">acfsload</a>有关<code class="codeph">acfsload</code>命令的信息</p>
                              </li>
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">确定是否已配置Oracle ASM筛选器驱动程序，</a>以获取有关检查Oracle ASM筛选器驱动程序状态的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OSTMG95917"></a><div class="props_rev_3"><a id="GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2" name="GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2"></a><h4 id="OSTMG-GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2" class="sect4">在Oracle Grid Infrastructure独立（Oracle Restart）环境中取消配置Oracle ASM筛选器驱动程序</h4>
                  <div>
                     <div class="section">
                        <p>执行以下步骤以在Oracle Grid Infrastructure独立环境中取消配置Oracle ASM筛选器驱动程序：</p>
                        <ol>
                           <li>
                              <p>更新Oracle ASM磁盘发现字符串，以使Oracle ASM在取消配置Oracle ASMFD后发现磁盘设备。</p>
                           </li>
                           <li>
                              <p>以<code class="codeph">root</code>用户身份登录，并使用以下命令停止独立服务器的Oracle Grid Infrastructure：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl stop有</pre><p>如果上一个命令返回错误，则使用以下命令：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl stop有-f</pre></li>
                           <li>
                              <p>以<code class="codeph">root</code>身份，停止Oracle ACFS内核模块以确保最可靠的关闭：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / acfsload stop</pre></li>
                           <li>
                              <p>以<code class="codeph">root</code>身份取消配置Oracle ASMFD：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / asmcmd afd_deconfigure</pre></li>
                           <li>
                              <p>以<code class="codeph">root</code>身份启动ACFS内核模块：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / acfsload start</pre></li>
                           <li>
                              <p>以<code class="codeph">root</code>身份，为独立服务器启动Oracle Grid Infrastructure：</p><pre class="oac_no_warn" dir="ltr">＃$ ORACLE_HOME / bin / crsctl start有</pre></li>
                           <li>
                              <p>作为Oracle Grid Infrastructure独立服务器所有者，验证Oracle ASMFD状态：</p><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd afd_state</pre></li>
                           <li>
                              <p>由于Oracle Grid Infrastructure独立服务器所有者更新Oracle ASM磁盘发现字符串以删除Oracle ASMFD路径：</p>
                           </li>
                        </ol><pre class="oac_no_warn" dir="ltr">$ $ ORACLE_HOME / bin / asmcmd dsget $ $ ORACLE_HOME / bin / asmcmd dsset <span class="italic"><code class="codeph">old_diskstring</code></span>
</pre><p>在更新值之前，请检查Oracle ASM磁盘发现字符串的当前值。<span class="italic"><code class="codeph">old_diskstring</code></span>值是使用<code class="codeph">AFD:</code> （Oracle ASMFD）路径更新之前的旧磁盘发现字符串值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2__GUID-1147DA18-E2A1-4E91-94E7-785B093C9914">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">更新Oracle ASM过滤器驱动程序磁盘的Oracle ASM ASM_DISKSTRING参数，</a>以获取有关更新Oracle ASM磁盘发现字符串的信息</p>
                              </li>
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D">更新Oracle ASM筛选器驱动程序AFD_DISKSTRING参数</a>以获取有关更新Oracle ASM筛选器驱动程序发现磁盘发现字符串的信息</p>
                              </li>
                              <li>
                                 <p><a href="acfs-advanced-topics.html#GUID-5BA14B0C-DB90-433F-9394-DD7B44078835">acfsload</a>有关<code class="codeph">acfsload</code>命令的信息</p>
                              </li>
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">确定是否已配置Oracle ASM筛选器驱动程序，</a>以获取有关检查Oracle ASM筛选器驱动程序状态的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-746AAA69-D7D9-4143-BE51-0BDFE9BB8DED" name="GUID-746AAA69-D7D9-4143-BE51-0BDFE9BB8DED"></a><h3 id="OSTMG-GUID-746AAA69-D7D9-4143-BE51-0BDFE9BB8DED" class="sect3">Oracle ASM筛选器驱动程序命令</h3>
               <div>
                  <p>本节介绍在安装期间用于管理Oracle ASM筛选器驱动程序的Oracle ASM筛选器驱动程序（ASMFD）命令。这些命令位于Oracle Grid Infrastructure主目录的<code>/bin</code>目录中。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C">afdload</a></p>
                     </li>
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A">afddriverstate</a></p>
                     </li>
                  </ul>
               </div>
               <div class="sect3"><a id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C" name="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C"></a><h4 id="OSTMG-GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C" class="sect4">afdload</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__GUID-1C89E4B7-B49E-40D4-98EB-53840CDA09B9">目的</p>
                        <p><code class="codeph">afdload</code>加载或卸载Oracle ASM过滤器驱动程序。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__GUID-AA6DBC84-C314-4C9F-9774-ADD3B61CC13F">句法</p><pre class="oac_no_warn" dir="ltr">afdload {开始|停止} [-s]</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="administer-filter-driver.html#GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__OPTIONSFORTHEAFDLOADCOMMAND-928439BF" title="此表列出了afdload命令的选项以及每个选项的说明">表20-1</a>包含<code class="codeph">afdload</code>命令可用的选项。
                        </p>
                        <div class="tblformal" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__OPTIONSFORTHEAFDLOADCOMMAND-928439BF">
                           <p class="titleintable">表20-1 afdload命令的选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="afdload命令的选项" width="100%" border="1" summary="This table lists the options for the afdload command, along with a description for each option" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d213537e4290">选项</th>
                                    <th align="left" valign="bottom" width="69%" id="d213537e4293">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4298" headers="d213537e4290 ">
                                       <p><code class="codeph">开始</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4298 d213537e4293 ">
                                       <p>加载Oracle ASM过滤器驱动程序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4306" headers="d213537e4290 ">
                                       <p><code class="codeph">停</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4306 d213537e4293 ">
                                       <p>卸载Oracle ASM筛选器驱动程序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4314" headers="d213537e4290 ">
                                       <p><code class="codeph">-s</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4314 d213537e4293 ">
                                       <p>以静音模式运行。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__DESCRIPTION-92845F98">描述</p>
                        <p>您可以使用<code class="codeph">afdload</code>手动加载或卸载Oracle ASM过滤器驱动程序。
                        </p>
                        <p>在使用<code class="codeph">stop</code>选项卸载驱动程序之前，必须卸除磁盘组并关闭Oracle ASM。</p>
                        <p>运行<code class="codeph">afdload</code>需要<code class="codeph">root</code>或administrator特权。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__GUID-0461BD74-6912-4E70-AAD5-AE31AC62F224">例子</p>
                        <p>以下是使用<code class="codeph">afdload</code>来停止（卸载）Oracle ASM过滤器驱动程序的示例。
                        </p><pre class="oac_no_warn" dir="ltr">#afdload停止</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A" name="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A"></a><h4 id="OSTMG-GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A" class="sect4">afddriverstate</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__GUID-AE8FF5FA-F4B0-4E97-8F54-6071C98DAB5F">目的</p>
                        <p><code class="codeph">afddriverstate</code>提供有关Oracle ASM过滤器驱动程序当前状态的信息。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__GUID-75FDB9EF-2A01-44DB-BB90-B4218B78D9DA">句法</p><pre class="pre codeblock"><code>afddriverstate [-orahome <span class="italic">ORACLE_HOME</span> ] {安装|加载|版本|支持} [-s]</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="administer-filter-driver.html#GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__OPTIONSFORTHEAFDDRIVERSTATECOMMAND-927FE034" title="此表列出了afddriverstate命令的选项，以及每个选项的说明">表20-2</a>包含afddriverstate命令可用的选项。
                        </p>
                        <div class="tblformal" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__OPTIONSFORTHEAFDDRIVERSTATECOMMAND-927FE034">
                           <p class="titleintable">表20-2 afddriverstate命令的选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="afddriverstate命令的选项" width="100%" border="1" summary="This table lists the options for the afddriverstate command, along with a description for each option" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d213537e4529">选项</th>
                                    <th align="left" valign="bottom" width="69%" id="d213537e4532">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4537" headers="d213537e4529 ">
                                       <p><code class="codeph">-orahome</code> <span class="italic"><code class="codeph">ORACLE_HOME</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4537 d213537e4532 ">
                                       <p>指定用户有权执行<code class="codeph">afddriverstate</code>命令的Oracle Grid Infrastructure主<code class="codeph">afddriverstate</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4552" headers="d213537e4529 ">
                                       <p><code class="codeph">安装</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4552 d213537e4532 ">
                                       <p>确定系统上是否安装了Oracle ASM筛选器驱动程序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4560" headers="d213537e4529 ">
                                       <p><code class="codeph">装</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4560 d213537e4532 ">
                                       <p>确定Oracle ASM筛选器驱动程序是否已加载到内存中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4568" headers="d213537e4529 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4568 d213537e4532 ">
                                       <p>报告当前安装的Oracle ASM过滤器驱动程序系统软件版本。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4576" headers="d213537e4529 ">
                                       <p><code class="codeph">支持的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4576 d213537e4532 ">
                                       <p>报告系统是否是Oracle ASM过滤器驱动程序支持的内核。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4584" headers="d213537e4529 ">
                                       <p><code class="codeph">-s</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4584 d213537e4532 ">
                                       <p>运行命令时指定静默模式。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__GUID-955B23BC-D2E2-43CF-9041-B6115E05A15D">描述</p>
                        <p>您可以使用<code class="codeph">afddriverstate</code>显示有关Oracle ASM过滤器驱动程序当前状态的详细信息。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__EXAMPLES-92801B1C">例子</p>
                        <p>以下是使用<code class="codeph">afddriverstate</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">$ afddriverstate version AFD-9325：驱动程序操作系统内核版本= 2.6.39-400.3.0.el6uek.x86_64（x86_64）。AFD-9326：驱动程序Oracle版本= 150728。AFD-9212：驱动程序构建版本= MAIN。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>