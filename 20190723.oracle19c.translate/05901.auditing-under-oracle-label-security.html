<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can use Oracle Label Security auditing if you have not configured your database to use unified auditing."></meta>
      <meta name="description" content="You can use Oracle Label Security auditing if you have not configured your database to use unified auditing."></meta>
      <title>在Oracle Label Security下进行审计</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="You can use Oracle Label Security auditing if you have not configured your database to use unified auditing."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="label-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-11T09:39:52-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96303-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="administering-and-using-trusted-stored-program-units.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-oracle-label-security-with-a-distributed-database.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Label Security Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLSAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="administering-and-using-trusted-stored-program-units.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-oracle-label-security-with-a-distributed-database.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part3.html" property="item" typeof="WebPage"><span property="name">管理Oracle Label Security应用程序</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">在Oracle Label Security下进行审计</li>
            </ol>
            <a id="GUID-29944AFB-9E18-487E-861C-78543303D814" name="GUID-29944AFB-9E18-487E-861C-78543303D814"></a><a id="OLSAG073"></a>
            
            <h2 id="OLSAG-GUID-29944AFB-9E18-487E-861C-78543303D814" class="sect2"><span class="enumeration_chapter">13</span> Oracle Label Security下的审计</h2>
         </header>
         <div class="ind">
            <div>
               <p>如果尚未将数据库配置为使用统一审计，则可以使用Oracle Label Security审计。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="auditing-under-oracle-label-security.html#GUID-3F768C21-B841-4BA3-96EA-05094428C9CF">关于Oracle Label Security审核</a><br>Oracle Label Security审计通过跟踪其自身的管理操作和策略权限来补充标准Oracle数据库审计。
                  </li>
                  <li class="ulchildlink"><a href="auditing-under-oracle-label-security.html#GUID-73733435-DB2C-498B-8E4A-1A1200E74090">全系统审计：AUDIT_TRAIL初始化参数</a><br>如果尚未启用统一审核，则Oracle Label Security要生成审核记录，必须首先启用系统范围的审核。
                  </li>
                  <li class="ulchildlink"><a href="auditing-under-oracle-label-security.html#GUID-AF8D2211-E65D-4627-9497-4098993C486E">如何启用或禁用Oracle Label Security审核</a><br>启用系统范围审核后，可以启用或禁用Oracle Label Security审核。
                  </li>
                  <li class="ulchildlink"><a href="auditing-under-oracle-label-security.html#GUID-1050E8C0-3209-43C8-AC24-D84E8F927F24">Oracle Label Security和统一审计</a><br>Oracle数据库使用统一审计跟踪来捕获来自各种审计源的信息，包括Oracle Label Security。
                  </li>
                  <li class="ulchildlink"><a href="auditing-under-oracle-label-security.html#GUID-7C2BB514-2FBC-46E8-8983-6D03F06A2E47">Oracle Label Security审核提示</a><br>Oracle提供了一组用于审核Oracle Label Security的提示。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part3.html" title="第IV部分介绍了如何管理Oracle Label Security应用程序。">管理Oracle Label Security应用程序</a></p>
                  </div>
               </div>
            </div>
            <a id="OLSAG074"></a><div class="props_rev_3"><a id="GUID-3F768C21-B841-4BA3-96EA-05094428C9CF" name="GUID-3F768C21-B841-4BA3-96EA-05094428C9CF"></a><h3 id="OLSAG-GUID-3F768C21-B841-4BA3-96EA-05094428C9CF" class="sect3">关于Oracle Label Security审核</h3>
               <div>
                  <p>Oracle Label Security审计通过跟踪其自身的管理操作和策略权限来补充标准Oracle数据库审计。</p>
                  <p>您可以使用<code class="codeph">SA_AUDIT_ADMIN</code>程序包或Oracle Enterprise Manager来设置和更改Oracle Label Security策略的审核选项。
                  </p>
                  <p>创建新策略时，该策略的标签列将添加到数据库审计跟踪中。无论是启用还是禁用审计，都会创建标签列，而与是否使用数据库审计或操作系统审计无关。每当将记录写入审计表时，每个策略都为该记录提供标签以指示会话标签。管理员可以创建审核视图以显示这些标签。请注意，在审计表中，标签不控制对行的访问，而只记录行的敏感性。</p>
                  <p>您指定的审核选项仅适用于后续会话，而不适用于当前会话。即使禁用了审核，也可以指定审核选项。仅制作这些规范不会产生任何开销。启用Oracle Label Security审核后，这些选项将生效，并且会创建超出标准Oracle数据库审核所创建的开销。</p>
                  <p>请注意，Oracle Label Security不会为写入操作系统审计试用版的审计数据提供标签。即使启用了操作系统审核，所有Oracle Label Security审核记录也会直接写入数据库审核跟踪。如果禁用审核，则不会生成任何Oracle Label Security审核记录。</p>
                  <p>如果您使用的是传统审核（非统一审核），则传统审核跟踪仅列出操作编号。要查找相应的审计操作名称，可以查询<code class="codeph">LABACSYS.OLS$AUDIT_ACTIONS</code>系统表。您必须具有<code class="codeph">AUDIT_VIEWER</code> ， <code class="codeph">AUDIT_ADMIN</code>或<code class="codeph"><span class="codeinlineitalic">policy</span> _DBA</code>角色才能查询此表。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-under-oracle-label-security.html#GUID-29944AFB-9E18-487E-861C-78543303D814" title="如果尚未将数据库配置为使用统一审计，则可以使用Oracle Label Security审计。">Oracle Label Security下的审计</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="OLSAG3382"></a><a id="OLSAG075"></a><div class="props_rev_3"><a id="GUID-73733435-DB2C-498B-8E4A-1A1200E74090" name="GUID-73733435-DB2C-498B-8E4A-1A1200E74090"></a><h3 id="OLSAG-GUID-73733435-DB2C-498B-8E4A-1A1200E74090" class="sect3">全系统审计：AUDIT_TRAIL初始化参数</h3>
               <div>
                  <p>如果尚未启用统一审核，则Oracle Label Security要生成审核记录，必须首先启用系统范围的审核。</p>
                  <p>要启用系统范围的审计，可以在数据库的参数文件中设置Oracle Database <code class="codeph">AUDIT_TRAIL</code>初始化参数。
                  </p>
                  <p>您可以将<code class="codeph">AUDIT_TRAIL</code>参数<code class="codeph">AUDIT_TRAIL</code>为以下值之一：</p>
                  <div class="tblformal" id="GUID-73733435-DB2C-498B-8E4A-1A1200E74090__GUID-164268DE-1B7A-4E13-9F3B-3F0F5BB3A891">
                     <p class="titleintable">表13-1 AUDIT_TRAIL参数设置</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="AUDIT_TRAIL参数设置" width="100%" border="1" summary="This table lists and explains the AUDIT_TRAIL parameter settings. Columns are Setting and Explanation." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th class="text-center" valign="bottom" width="26%" id="d47085e285">设置</th>
                              <th class="text-center" valign="bottom" width="74%" id="d47085e288">说明</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d47085e293" headers="d47085e285 ">
                                 <p><code class="codeph">D B</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d47085e293 d47085e288 ">
                                 <p>启用数据库审计并将所有审计记录定向到数据库审计跟踪。Oracle建议采用这种方法。</p>
                                 <p>请注意，即使将<code class="codeph">AUDIT_TRAIL</code>设置为<code class="codeph">DB</code> ，也会将一些记录始终发送到操作系统审计跟踪。这些包括<code class="codeph">STARTUP</code>和<code class="codeph">SHUTDOWN</code>语句，以及<code class="codeph">CONNECT</code> <code class="codeph">AS</code> <code class="codeph">SYSOPER</code>或<code class="codeph">SYSDBA</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d47085e328" headers="d47085e285 ">
                                 <p><code class="codeph">DB</code> ， <code class="codeph">EXTENDED</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d47085e328 d47085e288 ">
                                 <p>是否所有<code class="codeph">AUDIT_TRAIL=DB</code>操作都填充了<code class="codeph">AUD$</code>表的<code class="codeph">SqlBind</code>和<code class="codeph">SqlText</code> <code class="codeph">CLOB</code>类型列。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d47085e354" headers="d47085e285 ">
                                 <p><code class="codeph">OS</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d47085e354 d47085e288 ">
                                 <p>启用操作系统审核。这会将大多数Oracle数据库审计记录定向到操作系统，而不是数据库;记录不包含Oracle Label Security标签。相比之下，任何Oracle Label Security审核都将使用标签进入数据库。</p>
                                 <p>如果将<code class="codeph">AUDIT_TRAIL</code>为<code class="codeph">OS</code> ，则将特定于Oracle Label Security的审计记录写入数据库审计跟踪，并将其他Oracle数据库审计记录写入操作系统审计跟踪（操作系统数据中没有策略列）。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d47085e370" headers="d47085e285 ">
                                 <p><code class="codeph">没有</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d47085e370 d47085e288 ">
                                 <p>禁用审核。这是默认值。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>编辑参数文件后，重新启动数据库实例以启用或禁用指定的数据库审计。</p>
                  <p>在设置审计选项之前设置<code class="codeph">AUDIT_TRAIL</code>参数。如果未设置此参数，则仍可以设置审计选项。但是，在设置参数并重新启动数据库实例之前，不会将审计记录写入数据库。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-73733435-DB2C-498B-8E4A-1A1200E74090__GUID-D42A11AF-3200-4356-A025-6B043E2925B0">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="../dbseg/part_6.html#DBSEG006" target="_blank"><span><cite>“Oracle数据库安全指南”，</cite></span></a>以获取有关启用和禁用系统范围审核，设置审核选项以及管理审核跟踪的信息</p>
                        </li>
                        <li>
                           <p><a href="../refrn/initialization-parameters.html#REFRN001" target="_blank"><span><cite>Oracle数据库参考</cite></span></a>或有关编辑初始化参数的信息</p>
                        </li>
                        <li>
                           <p>有关系统范围的<code class="codeph">AUDIT</code>和<code class="codeph">NOAUDIT</code>功能的详细信息，请参阅<a href="../sqlrf/AUDIT-Traditional-Auditing.html#SQLRF01107" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-under-oracle-label-security.html#GUID-29944AFB-9E18-487E-861C-78543303D814" title="如果尚未将数据库配置为使用统一审计，则可以使用Oracle Label Security审计。">Oracle Label Security下的审计</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="OLSAG3792"></a><div class="props_rev_3"><a id="GUID-AF8D2211-E65D-4627-9497-4098993C486E" name="GUID-AF8D2211-E65D-4627-9497-4098993C486E"></a><h3 id="OLSAG-GUID-AF8D2211-E65D-4627-9497-4098993C486E" class="sect3">如何启用或禁用Oracle Label Security审核</h3>
               <div>
                  <p>启用系统范围审核后，可以启用或禁用Oracle Label Security审核。</p>
                  <p>要使用Oracle Label Security审核，您必须具有<span class="italic"><code class="codeph">policy</code></span> <code class="codeph">_DBA</code>角色并使用<code class="codeph">SA_AUDIT_ADMIN</code> PL / SQL包过程。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="oracle-label-security-pl-sql-packages.html#GUID-C4FB5E20-D9B8-48A1-9DDB-1ACA4722846E" title="对于非统一审计环境，SA_AUDIT_ADMIN PL / SQL程序包配置特定于Oracle Label Security的审计。">SA_AUDIT_ADMIN Oracle Label Security审计PL / SQL包</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-under-oracle-label-security.html#GUID-29944AFB-9E18-487E-861C-78543303D814" title="如果尚未将数据库配置为使用统一审计，则可以使用Oracle Label Security审计。">Oracle Label Security下的审计</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG3793"></a><div class="props_rev_3"><a id="GUID-1050E8C0-3209-43C8-AC24-D84E8F927F24" name="GUID-1050E8C0-3209-43C8-AC24-D84E8F927F24"></a><h3 id="OLSAG-GUID-1050E8C0-3209-43C8-AC24-D84E8F927F24" class="sect3">Oracle Label Security和统一审计</h3>
               <div>
                  <p>Oracle数据库使用统一审计跟踪来捕获来自各种审计源的信息，包括Oracle Label Security。</p>
                  <p>您可以使用审核策略配置OLS审核。Oracle Database 12 <span class="italic">c第</span> 1版（12.1）中的Oracle Label Security审核使您能够审核其他事件，例如启用和禁用OLS策略。
                  </p>
                  <p>如果已将数据库升级到Oracle Database 12 <span class="italic">c第</span> 1版（12.1），但尚未将其配置为使用统一审计，则必须使用本章中介绍的12 <span class="italic">C之前的</span> OLS审计。
                  </p>
                  <p>Oracle数据库审计工具允许您让数据库用户对其执行的操作负责。它可以跟踪特定的数据库对象，操作，用户和权限。Oracle Label Security通过跟踪其自身的管理操作和策略权限来补充这一点。它提供<code class="codeph">SA_AUDIT_ADMIN</code>包来设置和更改策略审核选项。
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-1050E8C0-3209-43C8-AC24-D84E8F927F24__GUID-19448944-2724-42E2-8E49-827F2A9B6F7D">
                     <p class="notep1">也可以看看：</p>
                     <p>有关配置升级后的数据库以使用统一审计的说明，请参见<a href="../upgrd/recommended-and-best-practices-complete-upgrading-oracle-database.html#UPGRD52810" target="_blank"><span><cite>“Oracle数据库安全指南</cite></span></a>迁移后，您可以在<a href="../dbseg/configuring-audit-policies.html#DBSEG454" target="_blank"><span><cite>Oracle Database Security Guide中</cite></span></a>找到OLS统一审核信息</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-under-oracle-label-security.html#GUID-29944AFB-9E18-487E-861C-78543303D814" title="如果尚未将数据库配置为使用统一审计，则可以使用Oracle Label Security审计。">Oracle Label Security下的审计</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="OLSAG079"></a><div class="props_rev_3"><a id="GUID-7C2BB514-2FBC-46E8-8983-6D03F06A2E47" name="GUID-7C2BB514-2FBC-46E8-8983-6D03F06A2E47"></a><h3 id="OLSAG-GUID-7C2BB514-2FBC-46E8-8983-6D03F06A2E47" class="sect3">Oracle Label Security审核提示</h3>
               <div>
                  <p>Oracle提供了一组用于审核Oracle Label Security的提示。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="auditing-under-oracle-label-security.html#GUID-743206E8-44C0-4D4A-B817-6A98FC4D0162">设置SA_AUDIT_ADMIN选项的策略</a><br>在设置任何审计选项之前，您必须设计一个审计策略来监视感兴趣的事件，而不记录无关事件。
                     </li>
                     <li class="ulchildlink"><a href="auditing-under-oracle-label-security.html#GUID-B77EC426-2DFC-462C-BA89-ED5C98BFD9E1">审计特权运营</a><br>考虑审核任何需要Oracle Label Security权限的操作。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="auditing-under-oracle-label-security.html#GUID-29944AFB-9E18-487E-861C-78543303D814" title="如果尚未将数据库配置为使用统一审计，则可以使用Oracle Label Security审计。">Oracle Label Security下的审计</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3395"></a><div class="props_rev_3"><a id="GUID-743206E8-44C0-4D4A-B817-6A98FC4D0162" name="GUID-743206E8-44C0-4D4A-B817-6A98FC4D0162"></a><h4 id="OLSAG-GUID-743206E8-44C0-4D4A-B817-6A98FC4D0162" class="sect4">设置SA_AUDIT_ADMIN选项的策略</h4>
                  <div>
                     <p>在设置任何审计选项之前，您必须设计一个审计策略来监视感兴趣的事件，而不记录无关事件。</p>
                     <p>您应定期查看此策略，因为应用程序，用户群，配置和其他外部因素可能会发生变化。</p>
                     <p>Oracle Label Security选项以及Oracle数据库审计工具提供的选项可能无法直接解决您的所有特定或依赖于应用程序的审计要求。但是，通过使用数据库触发器，您可以审计特定事件并记录使用更通用的审计工具无法审计和记录的特定信息。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-743206E8-44C0-4D4A-B817-6A98FC4D0162__GUID-07470C18-9177-4C83-9283-5565058A3A4A">
                        <p class="notep1">也可以看看：</p>
                        <p>有关使用触发器进行审计的更多信息，请参见<a href="../cncpt/server-side-programming.html#CNCPT118" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="auditing-under-oracle-label-security.html#GUID-7C2BB514-2FBC-46E8-8983-6D03F06A2E47" title="Oracle提供了一组用于审核Oracle Label Security的提示。">Oracle Label Security审核提示</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3396"></a><div class="props_rev_3"><a id="GUID-B77EC426-2DFC-462C-BA89-ED5C98BFD9E1" name="GUID-B77EC426-2DFC-462C-BA89-ED5C98BFD9E1"></a><h4 id="OLSAG-GUID-B77EC426-2DFC-462C-BA89-ED5C98BFD9E1" class="sect4">审计特权运营</h4>
                  <div>
                     <p>考虑审核任何需要Oracle Label Security权限的操作。</p>
                     <p>由于这些权限执行敏感操作，并且由于它们的滥用可能会危及安全性，因此您应密切监视其传播和使用。</p>
                     <p></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="auditing-under-oracle-label-security.html#GUID-7C2BB514-2FBC-46E8-8983-6D03F06A2E47" title="Oracle提供了一组用于审核Oracle Label Security的提示。">Oracle Label Security审核提示</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>