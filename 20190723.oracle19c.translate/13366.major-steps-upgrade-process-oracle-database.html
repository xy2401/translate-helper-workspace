<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database upgrades consist of six major steps."></meta>
      <meta name="description" content="Oracle Database upgrades consist of six major steps."></meta>
      <title>Oracle数据库升级过程中的主要步骤</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Upgrade Guide"></meta>
      <meta property="og:description" content="Oracle Database upgrades consist of six major steps."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Upgrade Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00"></meta>
      <meta name="dcterms.title" content="Database Upgrade Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96252-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="find-latest-information-upgrading-oracle-database.html" title="Previous" type="text/html"></link>
      <link rel="next" href="compatibility-interoperability-between-database-releases.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="find-latest-information-upgrading-oracle-database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="compatibility-interoperability-between-database-releases.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库升级指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="intro-to-upgrading-oracle-database.html" property="item" typeof="WebPage"><span property="name">升级Oracle数据库简介</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle数据库升级过程中的主要步骤</li>
            </ol>
            <a id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB" name="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB"></a><a id="UPGRD52606"></a><a id="UPGRD52705"></a>
            
            <h2 id="UPGRD-GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB" class="sect2">Oracle数据库升级过程中的主要步骤</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle数据库升级包括六个主要步骤。</p>
               <div class="section">
                  <p class="subhead1" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-0424F885-02C8-4362-81A1-8DBDF9069459">升级步骤工作流程</p>
                  <p>下图总结了升级过程中执行的主要过程：</p>
                  <div class="figure" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-6EE926D5-C25C-4EF8-BB15-939ED5E884BA">
                     <p class="titleinfigure">图1-1升级步骤Oracle数据库的工作流程</p><img src="img/upgrd001.gif" alt="下面是图1-1的描述" title="下面是图1-1的描述" longdesc="img_text/upgrd001.html"><br><a href="img_text/upgrd001.html">“图1-1升级步骤Oracle数据库工作流”的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__UPGRD52607">
                  <p class="subhead1" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-EA2AA9ED-5B41-455B-98BE-DCB1F64ED610">第1步：准备升级Oracle数据库</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>熟悉新版Oracle数据库的功能。</p>
                     </li>
                     <li>
                        <p>确定新版本的升级路径。</p>
                     </li>
                     <li>
                        <p>选择升级方法。</p>
                     </li>
                     <li>
                        <p>选择新版本的Oracle主目录。</p>
                     </li>
                     <li>
                        <p>制定测试计划。</p>
                     </li>
                     <li>
                        <p>准备备份策略。</p>
                     </li>
                     <li>
                        <p>遵循预升级建议。</p>
                     </li>
                     <li>
                        <p>运行preupgrade fixup脚本，或执行手动预升级系统更新。</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-478ECBCB-F60F-472A-B668-280AD5129959">
                     <p class="notep1">注意：</p>
                     <p>在升级期间，请考虑运行多个版本的数据库软件，以便在测试新版本时可以将现有版本用作生产环境。</p>
                     <p>考虑完成新的Oracle数据库版本的纯软件安装。在纯软件安装中，您安装Oracle数据库软件，但不要在安装过程中创建数据库。</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__UPGRD52608">
                  <p class="subhead1" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-CDB522E0-D4D8-4CF6-8F5B-E3D72E0F0952">第2步：测试Oracle数据库的升级过程</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用测试数据库执行测试升级。在为不会干扰生产数据库的测试创建的环境中进行测试升级。Oracle建议您的测试环境位于尽可能多的生产环境副本的服务器上。例如：Oracle建议服务器不仅使用相同的操作系统，而且使用相同的软件包运行相同的修补程序级别，并匹配生产系统配置的其他详细信息。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__UPGRD52609">
                  <p class="subhead1" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-60A0A3C0-1B84-4F23-B187-C63DC5F95C71">第3步：测试升级的测试Oracle数据库</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在升级到新版Oracle数据库的测试数据库上执行您在步骤1中计划的测试。</p>
                     </li>
                     <li>
                        <p>查看结果，注意测试中的异常。</p>
                     </li>
                     <li>
                        <p>调查纠正您发现的任何异常的方法，然后实施更正。</p>
                     </li>
                     <li>
                        <p>根据需要重复步骤1，步骤2和步骤3的第一部分，直到测试升级成功并适用于任何所需的应用程序。</p>
                     </li>
                     <li>
                        <p>要测试异常并确定潜在的支持问题，请执行SQL计划管理。SQL计划管理包括以下步骤：</p>
                        <ol>
                           <li>
                              <p>在升级之前，捕获早期版本Oracle数据库的基准和计划，并存储这些计划。</p>
                              <p>Oracle建议您将计划存储在临时表中，然后为这些表运行Data Pump Export实用程序<code class="codeph">expdp</code> 。
                              </p>
                           </li>
                           <li>
                              <p>升级后，如果出现回归或性能问题，请根据您从先前版本Oracle数据库中捕获的计划，应用（加载/接受/演进）您知道合适的旧计划。</p>
                           </li>
                        </ol>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-688EDF3A-FC88-4F32-AF1A-9EFCFEE847A7">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关SQL计划管理的详细信息，请<a href="../tgsql/managing-sql-plan-baselines.html#TGSQL94621" target="_blank"><span><cite>参见“Oracle数据库SQL调优指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>文档1948958.1 11.2.0.3要考虑的修补程序以避免SQL计划管理（SPM）的问题</p>
                        </li>
                        <li>
                           <p>文档2034706.1 11.2.0.4要考虑的修补程序以避免SQL计划管理（SPM）的问题</p>
                        </li>
                        <li>
                           <p>文档2035897.1从12.1.0.1升级到要避免SQL计划管理（SPM）问题时要考虑的修补程序</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__UPGRD52610">
                  <p class="subhead1" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-59823D78-242B-49B0-842D-69B14551C315">第4步：准备并保留生产Oracle数据库</p>
                  <p>在升级现有生产数据库之前完成以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>根据需要准备当前的生产数据库，以确保升级到新版本的Oracle数据库是成功的。</p>
                     </li>
                     <li>
                        <p>安排备份和升级生产数据库所需的停机时间。</p>
                     </li>
                     <li>
                        <p>备份当前的生产数据库。</p>
                        <p>在对系统进行重大更改之前，Oracle建议您确保实施了回退策略。Oracle建议您的备用策略包括以下准备工作：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>测试您的备份策略，并确保它有效。</p>
                           </li>
                           <li>
                              <p>如果您需要备份策略，请计划在维护时段应用它所需的时间。</p>
                           </li>
                           <li>
                              <p>要执行计划稳定性检查以准备升级，请执行SQL计划管理。如果您需要帮助，请提出服务请求。</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-85B0801F-A03F-4F7F-BFD2-75EADFC757D8">
                     <p class="notep1">注意：</p>
                     <p>安装新优化程序版本的数据库升级通常会导致一小部分SQL语句的计划更改。</p>
                     <p>大多数计划更改都会导致改进或无性能变化。但是，某些计划更改可能会导致性能下降。SQL计划基准可显着降低升级产生的潜在回归。</p>
                     <p>升级时，数据库仅使用计划基准中的计划。数据库将不在当前基线中的新计划放入保留区域，然后对其进行评估以确定它们是否使用的资源少于基准中的当前计划。如果计划表现更好，那么数据库会将它们提升到基线;否则，数据库不会提升它们。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-438B6610-3D69-4D11-B990-7DA89359C9DC">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../tgsql/overview-of-sql-plan-management.html#TGSQL615" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__UPGRD52611">
                  <p class="subhead1" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-0ED9A5F8-7011-4844-A2F3-451D1269EDAB">步骤5：升级生产Oracle数据库</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>将生产数据库升级到新版Oracle数据库。</p>
                     </li>
                     <li>
                        <p>升级后，执行生产数据库的完整备份并执行其他升级后任务。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__UPGRD52612">
                  <p class="subhead1" id="GUID-EE26CF0A-1B77-43D7-A613-9C6D0BF42DBB__GUID-C5DECBD6-6821-4097-92E6-66B2EC456B81">步骤6：调整并调整新生产的Oracle数据库</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>调整Oracle Database 12 <span class="italic">c</span>的新生产数据库。通常，新生产的Oracle数据库执行的标准与升级前的数据库相同或更高。
                        </p>
                     </li>
                     <li>
                        <p>确定要使用的Oracle Database 12 <span class="italic">c的</span>哪些功能，并相应地更新您的应用程序。
                        </p>
                     </li>
                     <li>
                        <p>根据需要开发新的数据库管理程序。</p>
                     </li>
                     <li>
                        <p>在所有应用程序都经过测试并正常运行之前，请勿将生产用户升级到新版本。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?cmd=show&amp;type=NOT&amp;id=1948958.1" target="_blank">https://support.oracle.com/epmos/faces/DocumentDisplay?cmd=show&amp;type=NOT&amp;id=1948958.1</a></li>
                     <li><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?cmd=show&amp;type=NOT&amp;id=2034706.1" target="_blank">https://support.oracle.com/epmos/faces/DocumentDisplay?cmd=show&amp;type=NOT&amp;id=2034706.1</a></li>
                     <li><a href="https://support.oracle.com/epmos/faces/DocumentDisplay?cmd=show&amp;type=NOT&amp;id=2035897.1" target="_blank">https://support.oracle.com/epmos/faces/DocumentDisplay?cmd=show&amp;type=NOT&amp;id=2035897.1</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="intro-to-upgrading-oracle-database.html#GUID-FA024F34-A61A-4C4B-AA60-C123A9191A16" title="Oracle提供了专为您的数据库环境设计的升级选项和策略，以及一系列可自动执行Oracle数据库升级过程的工具。">升级Oracle数据库简介</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>