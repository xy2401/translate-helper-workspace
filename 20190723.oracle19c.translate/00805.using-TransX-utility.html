<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An explanation is given of how to use the TransX utility to transfer XML data to a database."></meta>
      <meta name="description" content="An explanation is given of how to use the TransX utility to transfer XML data to a database."></meta>
      <title>使用TransX Utility</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide"></meta>
      <meta property="og:description" content="An explanation is given of how to use the TransX utility to transfer XML data to a database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="xml-developers-kit-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T05:58:48-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96292-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-XML-SQL-utility.html" title="Previous" type="text/html"></link>
      <link rel="next" href="data-loading-format-specification.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML Developers Kit Programmers Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADXDK"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-XML-SQL-utility.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="data-loading-format-specification.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XDK-for-Java.html" property="item" typeof="WebPage"><span property="name">Oracle XML Developer's Kit for Java</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用TransX Utility</li>
            </ol>
            <a id="GUID-128933E9-4979-4C25-856F-395C06B064CC" name="GUID-128933E9-4979-4C25-856F-395C06B064CC"></a><a id="ADXDK1015"></a><a id="ADXDK1200"></a>
            
            <h2 id="ADXDK-GUID-128933E9-4979-4C25-856F-395C06B064CC" class="sect2"><span class="enumeration_chapter">22</span>使用TransX Utility</h2>
         </header>
         <div class="ind">
            <div>
               <p>解释了如何使用TransX实用程序将XML数据传输到数据库。</p>
               <div class="section"> </div>
               <!-- class="section" -->
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="data-loading-format-specification.html#GUID-6211A051-77B4-408F-94D9-199E1698B48C" title="给出了数据加载格式（DLF）1.0版的描述，DLF是用于描述TransX实用程序加载到数据库中的翻译消息和种子数据的标准格式。">数据加载格式（DLF）规范</a></li>
                  </ul>
               </div>
            </div>
            <a id="ADXDK19494"></a><div class="sect2"><a id="GUID-A7BF0E32-7617-454A-A025-5CD9133BB724" name="GUID-A7BF0E32-7617-454A-A025-5CD9133BB724"></a><h3 id="ADXDK-GUID-A7BF0E32-7617-454A-A025-5CD9133BB724" class="sect3">TransX Utility简介</h3>
               <div>
                  <p>描述了TransX实用程序。</p>
                  <p><a href="glossary.html#GUID-D4A042EF-483A-44BF-A08B-480126BD3064" title="一种Java API，可简化将已翻译的种子数据和消息加载到数据库中的过程。"><span class="xrefglossterm">TransX Utility</span></a>允许您将XML数据传输到数据库。TransX是<a href="glossary.html#GUID-A564495D-ED7B-4F52-8FCA-944CF3BB274D"><span class="xrefglossterm">XML SQL实用程序（</span></a> XSU）的一个应用<a href="glossary.html#GUID-A564495D-ED7B-4F52-8FCA-944CF3BB274D"><span class="xrefglossterm">程序</span></a> ，它将已转换的种子数据和消息加载到数据库模式中。
                  </p>
                  <p>在处理多语言可扩展标记语言（XML）时，TransX特别有用。您可以使用TransX以多种语言将数据添加到数据库。该实用程序执行此操作</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>自动管理更改变量，启动序列和其他结构化查询语言（SQL）语句，否则这些语句需要多次插入或会话。因此，翻译供应商不必使用不熟悉的SQL和过程语言/结构化查询语言（PL / SQL）脚本。</p>
                     </li>
                     <li>
                        <p>自动化字符编码。因此，如果数据文件符合XML标准，则由于不正确的编码而导致的加载错误是不可能的。</p>
                     </li>
                     <li>
                        <p>通过准备要翻译的字符串，翻译字符串并将其加载到数据库中来降低全球化成本。</p>
                     </li>
                     <li>
                        <p>最大限度地减少翻译数据格式错误，并将翻译内容准确地加载到数据库中的预定位置。当数据采用预定义格式时，TransX实用程序会对其进行验证。</p>
                     </li>
                     <li>
                        <p>消除由于全球化支持设置不同而导致的语法错误。</p>
                     </li>
                     <li>
                        <p>对于每个<code class="codeph">NCHAR</code>数据，不需要<code class="codeph">UNISTR</code>构造。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-A7BF0E32-7617-454A-A025-5CD9133BB724__GUID-E309E96B-AD9D-4B41-BF9E-49EAFFEA2B68">
                     <p class="notep1">注意：</p>
                     <p>TransX作为经过身份验证的用户运行。必须注意检查数据文件并仅从受信任的来源加载数据文件。</p>
                  </div>
               </div><a id="ADXDK19495"></a><div class="props_rev_3"><a id="GUID-68E20DD6-A679-4CC1-8113-DD7030EBDF07" name="GUID-68E20DD6-A679-4CC1-8113-DD7030EBDF07"></a><h4 id="ADXDK-GUID-68E20DD6-A679-4CC1-8113-DD7030EBDF07" class="sect4">使用TransX Utility的先决条件</h4>
                  <div>
                     <p>描述了使用TransX实用程序的先决条件。</p>
                     <p>本章假定您熟悉<a href="glossary.html#GUID-A564495D-ED7B-4F52-8FCA-944CF3BB274D"><span class="xrefglossterm">XML SQL实用程序（</span></a> XSU <a href="glossary.html#GUID-A564495D-ED7B-4F52-8FCA-944CF3BB274D"><span class="xrefglossterm">），</span></a>因为TransX是XSU的一个应用程序。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-XML-SQL-utility.html#GUID-4C9A3F2F-A2A7-4CBF-BCD4-FD667D559945" title="解释了如何使用可扩展标记语言（XML）SQL实用程序（XSU）。">使用XML SQL实用程序</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="ADXDK19496"></a><div class="props_rev_3"><a id="GUID-77321B0A-9B10-4205-ADBE-00594853DDF8" name="GUID-77321B0A-9B10-4205-ADBE-00594853DDF8"></a><h4 id="ADXDK-GUID-77321B0A-9B10-4205-ADBE-00594853DDF8" class="sect4">TransX实用程序功能</h4>
                  <div>
                     <p>这里的主题包括简化的多语言数据加载，简化的数据格式支持和其他TransX Utility功能。</p>
                  </div><a id="ADXDK19497"></a><div class="props_rev_3"><a id="GUID-1C647FD6-0F04-47D6-AB1C-EF2F570997EC" name="GUID-1C647FD6-0F04-47D6-AB1C-EF2F570997EC"></a><h5 id="ADXDK-GUID-1C647FD6-0F04-47D6-AB1C-EF2F570997EC" class="sect5">简化的多语言数据加载</h5>
                     <div>
                        <p>传统的翻译数据加载方法是在切换加载文件时更改环境变量<code class="codeph">NLS_LANG</code> 。这将设置客户端应用程序和数据库服务器使用的语言和区域。它还设置客户端字符集，用于客户端程序输入或显示的数据。
                        </p>
                        <p>将多语言数据或数据转换插入数据库或进行编码时，每个XML文件都需要验证。</p>
                        <p>在传统方法中，每个加载文件都以适合其语言的字符集进行编码，这是必要的，因为必须以相同的文件格式执行转换 - 通常在SQL脚本中 - 与原始文件一样。<code class="codeph">NLS_LANG</code>设置在加载文件时更改，以适应与该语言对应的字符集。除了消耗时间之外，这种方法容易出错，因为编码元数据与数据本身是分开的。
                        </p>
                        <p>使用TransX实用程序，您可以使用具有称为数据集的预定义格式的XML文档。数据集包含编码信息和数据，因此您可以在不更改<code class="codeph">NLS_LANG</code>设置的情况下传输多语言数据。TransX实用程序通过在将XML数据加载到数据库时维护正确的字符集来释放开发和转换组。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1C647FD6-0F04-47D6-AB1C-EF2F570997EC__GUID-49D0BD6A-E54C-40F4-9C15-B86D3B7D2136">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../nlspg/setting-up-globalization-support-environment.html#NLSPG003" target="_blank"><span><cite>Oracle数据库全球化支持指南</cite></span></a> ，了解<code class="codeph">NLS_LANG</code>环境变量</p>
                        </div>
                     </div>
                  </div><a id="ADXDK19498"></a><div class="props_rev_3"><a id="GUID-69B648C1-AD0E-45DF-B95F-FF0EC0F65075" name="GUID-69B648C1-AD0E-45DF-B95F-FF0EC0F65075"></a><h5 id="ADXDK-GUID-69B648C1-AD0E-45DF-B95F-FF0EC0F65075" class="sect5">简化的数据格式支持和接口</h5>
                     <div>
                        <p>TransX Utility提供命令行界面和可编程应用程序编程接口（API）。该实用程序符合数据格式，该格式是用于表示加载到数据库中的种子数据的规范方法。该格式易于理解和简化，供翻译组使用。</p>
                        <p>格式规范定义了翻译人员如何描述数据，以便以预期的方式加载数据。您可以使用标量值或表达式（如常量，序列和查询）表示数据集中的值。</p>
                     </div>
                  </div><a id="ADXDK19500"></a><a id="ADXDK19499"></a><div class="props_rev_3"><a id="GUID-F8708DDE-CCBA-4ED3-9FD8-C77CFA55047C" name="GUID-F8708DDE-CCBA-4ED3-9FD8-C77CFA55047C"></a><h5 id="ADXDK-GUID-F8708DDE-CCBA-4ED3-9FD8-C77CFA55047C" class="sect5">其他TransX实用程序功能</h5>
                     <div>
                        <p>描述了其他有用的TransX Utility功能。</p>
                        <div class="tblformal" id="GUID-F8708DDE-CCBA-4ED3-9FD8-C77CFA55047C__BHABGCFB">
                           <p class="titleintable">表22-1 TransX实用程序功能</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TransX实用程序功能" width="100%" border="1" summary="This table describes the TransX features." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d86417e659">特征</th>
                                    <th align="left" valign="bottom" width="69%" id="d86417e662">TransX Utility。 。 。</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d86417e667" headers="d86417e659 ">
                                       <p>命令行界面</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d86417e667 d86417e662 ">
                                       <p>提供易于使用的命令。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d86417e674" headers="d86417e659 ">
                                       <p>用户API</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d86417e674 d86417e662 ">
                                       <p>公开Java API。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d86417e681" headers="d86417e659 ">
                                       <p>验证</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d86417e681 d86417e662 ">
                                       <p>验证数据格式并报告错误。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d86417e688" headers="d86417e659 ">
                                       <p>白色空间处理</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d86417e688 d86417e662 ">
                                       <p>除非以各种粒度指定，否则不会将数据集中的空格字符视为重要字符。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d86417e695" headers="d86417e659 ">
                                       <p>卸载</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d86417e695 d86417e662 ">
                                       <p>根据输入查询将结果导出为标准数据格式。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d86417e702" headers="d86417e659 ">
                                       <p>与翻译交换格式的亲密关系</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d86417e702 d86417e662 ">
                                       <p>启用与转换交换格式的转换。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d86417e709" headers="d86417e659 ">
                                       <p>本地化的用户界面</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d86417e709 d86417e662 ">
                                       <p>提供多种语言的消息。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADXDK1016"></a><a id="ADXDK19501"></a><div class="props_rev_3"><a id="GUID-61FD3D63-9057-4354-91EE-399F45323EBD" name="GUID-61FD3D63-9057-4354-91EE-399F45323EBD"></a><h3 id="ADXDK-GUID-61FD3D63-9057-4354-91EE-399F45323EBD" class="sect3">使用TransX Utility：概述</h3>
               <div>
                  <p>这里的主题描述了如何使用TransX实用程序。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19503"></a><a id="ADXDK19504"></a><a id="ADXDK19502"></a><div class="props_rev_3"><a id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96" name="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96"></a><h4 id="ADXDK-GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96" class="sect4">使用TransX实用程序：基本过程</h4>
                  <div>
                     <p>描述了TransX API基本过程。</p>
                     <div class="section">
                        <p>TransX可通过此API访问：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">oracle.xml.transx.loader</code>类，它包含了<code class="codeph">getLoader()</code>方法得到一个TransX实例</p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.xml.transx。TransX</code>接口，即TransX API</p>
                           </li>
                        </ul>
                        <p><a href="using-TransX-utility.html#GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__BHAFBGBA">图22-1</a>显示了使用TransX API将XML传输到数据库的基本过程。
                        </p>
                        <div class="figure" id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__BHAFBGBA">
                           <p class="titleinfigure">图22-1 TransX应用程序的基本过程</p><img src="img/adxdk118.gif" alt="下面是图22-1的描述" title="下面是图22-1的描述" longdesc="img_text/adxdk118.html"><br><a href="img_text/adxdk118.html">“图22-1 TransX应用程序的基本过程”的描述</a></div>
                        <!-- class="figure" -->
                        <p>TransX应用程序的基本过程是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>创建TransX加载程序对象。通过调用<code class="codeph">getLoader()</code>实例化<code class="codeph">TransX</code>类：</span><div><pre class="oac_no_warn" dir="ltr">TransX transx = loader.getLoader（）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>通过使用<code class="codeph">TransX.open()</code>提供数据库连接信息来启动数据加载会话。您可以通过提供Java数据库连接（JDBC）连接字符串，数据库用户名和数据库密码来创建会话。您可以通过以下方式之一创建连接：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用JDBC Oracle调用接口（OCI）驱动程序。以下代码片段显示了此技术并使用提供的用户名和密码进行连接：</p><pre class="oac_no_warn" dir="ltr">transx.open（“jdbc：oracle：oci8：@”， <span class="italic">user</span> ， <span class="italic">passwd</span> ）;</pre></li>
                              </ul>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用JDBC瘦驱动程序。瘦驱动程序是用纯Java编写的，可以从任何Java程序调用。以下代码片段显示了此技术并连接：</p><pre class="oac_no_warn" dir="ltr">transx.open（“jdbc：oracle：thin：@ // myhost：1521 / myservicename”， <span class="italic">user</span> ， <span class="italic">passwd</span> ）;</pre><p>瘦驱动程序需要主机名（ <code class="codeph">myhost</code> ），端口号（ <code class="codeph">1521</code> ）和服务名称（ <code class="codeph">myservicename</code> ）。数据库必须具有活动的传输控制协议/ Internet协议（TCP / IP）侦听器。
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__GUID-37040553-AFF7-4E9D-887F-919C11D17BBA">
                                 <p class="notep1">注意：</p>
                                 <p>如果仅验证数据格式，则不必建立数据库连接，因为验证是由TransX执行的。因此，您可以在没有先前的<code class="codeph">open()</code>调用的情况下调用<code class="codeph">TransX.validate()</code>方法。
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>配置TransX加载程序。<a href="using-TransX-utility.html#GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__BHAJJJAB" title="此表描述了TransX配置方法。">表22-2</a>介绍了配置方法。</span><div>
                              <div class="tblformal" id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__BHAJJJAB">
                                 <p class="titleintable">表22-2 TransX配置方法</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="TransX配置方法" width="90%" border="1" summary="This table describes TransX configuration methods." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="34%" id="d86417e992">方法</th>
                                          <th align="left" valign="bottom" width="66%" id="d86417e995">描述</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="34%" id="d86417e1000" headers="d86417e992 ">
                                             <p><code class="codeph">setLoadingMode（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="66%" headers="d86417e1000 d86417e995 ">
                                             <p>设置重复的操作模式。当数据库中存在一个或多个现有行时，该模式确定TransX行为，其中键列中的值与要加载的数据集中的值相同。您可以在类<code class="codeph">SKIP_DUPLICATES</code>指定常量<code class="codeph">EXCEPTION_ON_DUPLICATES</code> ， <code class="codeph">SKIP_DUPLICATES</code>或<code class="codeph">UPDATE_DUPLICATES</code> <code class="codeph">oracle.xml.transx.LoadingMode</code> 。默认情况下，加载程序会跳过重复项。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="34%" id="d86417e1020" headers="d86417e992 ">
                                             <p><code class="codeph">setNormalizeLangTag（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="66%" headers="d86417e1020 d86417e995 ">
                                             <p>设置语言标记的大小写。默认情况下，加载程序使用数据加载格式（DLF）上<code class="codeph">normalize-langtag</code>属性中指定的样式。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="34%" id="d86417e1031" headers="d86417e992 ">
                                             <p><code class="codeph">setPreserveWhitespace（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="66%" headers="d86417e1031 d86417e995 ">
                                             <p>指定加载程序如何处理空格。默认值为<code class="codeph">FALSE</code> ，这意味着加载程序忽略数据集中的空白字符类型并将其作为空格字符加载。加载程序将数据集中的连续空格字符视为一个空格字符。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="34%" id="d86417e1042" headers="d86417e992 ">
                                             <p><code class="codeph">setValidationMode（）</code></p>
                                          </td>
                                          <td align="left" valign="top" width="66%" headers="d86417e1042 d86417e995 ">
                                             <p>设置验证模式。默认值为<code class="codeph">TRUE</code> ，这意味着加载程序在每次<code class="codeph">load()</code>调用时针对规范模式定义执行数据集格式的验证。仅当数据集已经过验证时，才会禁用验证模式。
                                             </p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>以下示例指定加载程序必须跳过重复行而不验证数据集：</p><pre class="oac_no_warn" dir="ltr">transx.setLoadingMode（LoadingMode。SKIP_DUPLICATES）; transx.setValidationMode（false）;</pre></div>
                        </li>
                        <li class="stepexpand"><span>通过调用<code class="codeph">TransX.load()</code>加载数据集。在加载操作的迭代期间使用相同的JDBC连接。例如，加载三个数据集：</span><div><pre class="oac_no_warn" dir="ltr">String datasrc [] = {“data1.xml”，“data2.xml”，“data3.xml”}; ...for（int i = 0; i &lt;datasrc.length; i ++）{transx.load（datasrc [i]）; }</pre></div>
                        </li>
                        <li class="stepexpand"><span>通过调用<code class="codeph">TransX.close()</code>关闭加载会话。此方法调用将关闭数据库连接：</span><div><pre class="oac_no_warn" dir="ltr">transx.close（）;</pre><div class="infoboxnotealso" id="GUID-82C0527E-CE16-4C37-97A4-A05CAAE1BF96__GUID-2D7C6694-091E-45AB-A466-E725EB142147">
                                 <p class="notep1">也可以看看：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><a href="../jjdev/Java-introduction.html#JJDEV01000" target="_blank"><span><cite>Oracle数据库Java开发人员指南</cite></span></a> ，了解Oracle JDBC</p>
                                    </li>
                                    <li>
                                       <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API参考</cite></span></a> ，了解<code class="codeph">TransX</code>类和方法</p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19506"></a><a id="ADXDK19505"></a><div class="props_rev_3"><a id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC" name="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC"></a><h4 id="ADXDK-GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC" class="sect4">运行TransX Utility演示程序</h4>
                  <div>
                     <p>TransX实用程序的演示程序包含在<code class="codeph">$ORACLE_HOME/xdk/demo/java/transx</code> 。
                     </p>
                     <div class="section">
                        <p><a href="using-TransX-utility.html#GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__BHAJGJGF" title="此表描述了可用于测试实用程序的XML文件和程序。文件和描述是列。">表22-3</a>说明了可用于测试实用程序的XML文件和程序。
                        </p>
                        <div class="tblformal" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__BHAJGJGF">
                           <p class="titleintable">表22-3 TransX实用程序示例文件</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TransX实用程序示例文件" width="100%" border="1" summary="This table describes the XML files and programs that you can use to test the utility. File and Description are the Columns." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d86417e1206">文件</th>
                                    <th align="left" valign="bottom" width="81%" id="d86417e1209">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d86417e1214" headers="d86417e1206 ">
                                       <p><code class="codeph">自述</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d86417e1214 d86417e1209 ">
                                       <p>一个文本文件，描述如何设置TransX演示。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d86417e1222" headers="d86417e1206 ">
                                       <p><code class="codeph">EMP-dlf.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d86417e1222 d86417e1209 ">
                                       <p>示例输出文件。以下命令生成一个文件<code class="codeph">emp.xml</code> ，其中包含表emp中的所有数据：</p><pre class="oac_no_warn" dir="ltr">transx -s“jdbc：oracle：thin：@ // myhost：1521 / myservicename” <span class="italic">user</span> -pw emp.xml \ temp</pre><p><code class="codeph">emp-dlf.xml</code>文件必须与<code class="codeph">emp.xml</code>相同。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d86417e1246" headers="d86417e1206 ">
                                       <p><code class="codeph">txclean.sql</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d86417e1246 d86417e1209 ">
                                       <p>删除为演示创建的表和序列的SQL文件。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d86417e1254" headers="d86417e1206 ">
                                       <p><code class="codeph">txdemo1.java</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d86417e1254 d86417e1209 ">
                                       <p>一个示例Java应用程序，它创建JDBC连接并将三个数据集加载到数据库中。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d86417e1262" headers="d86417e1206 ">
                                       <p><code class="codeph">txdemo1.sql</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d86417e1262 d86417e1209 ">
                                       <p>一个SQL脚本，它创建两个表和一个供演示应用程序使用的序列。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d86417e1270" headers="d86417e1206 ">
                                       <p><code class="codeph">txdemo1.xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d86417e1270 d86417e1209 ">
                                       <p>样本数据集。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>有关如何编译和运行示例程序的文档位于<code class="codeph">README</code> 。基本步骤是：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>转到<code class="codeph">$ORACLE_HOME/xdk/demo/java/transx</code>目录（UNIX）或<code class="codeph">%ORACLE_HOME%\xdk\demo\java\transx</code>目录（Windows）。</span></li>
                        <li class="stepexpand"><span>确保按照<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="You can set up the XDK for Java environment using either an environment variable or a command-line option.">设置XDK for Java环境中的</a>描述<a href="getting-started-with-XDK-for-Java.html#GUID-EA5DB831-1D91-453A-AF7B-7B55343B1720" title="您可以使用环境变量或命令行选项设置XDK for Java环境。">设置</a>环境变量。Oracle建议您将<code class="codeph">$ORACLE_SID</code> （UNIX）或<code class="codeph">%ORACLE_SID%</code> （Windows）环境变量设置为默认数据库。</span><div>
                              <div class="infoboxnote" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__GUID-F1BFD4D9-945E-4D69-B524-7566A6E00737">
                                 <p class="notep1">注意：</p>
                                 <p>为安全起见，请不要在命令行界面中公开密码。如果在<code class="codeph">TransX</code>指定了“ <code class="codeph">-pw</code> ”而不是密码， <code class="codeph">TransX</code>提示用户输入密码[ <code class="codeph">Enter password :</code> ]。当用户输入密码时，不会回显;相反，在命令窗口中打印“ <code class="codeph">*</code> ”。
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>通过执行<code class="codeph">txdemo1.sql</code>设置示例数据库对象。连接到数据库并运行<code class="codeph">txdemo1.sql</code>脚本：</span><div><pre class="oac_no_warn" dir="ltr">@ txdemo1</pre></div>
                        </li>
                        <li class="stepexpand"><span>从命令行运行TransX实用程序。此示例显示如何连接Java瘦驱动程序，其中主机是<code class="codeph">myhost</code> ，端口是<code class="codeph">1521</code> ，服务名称是<code class="codeph">myservicename</code> 。输入令牌<span class="italic"><code class="codeph">user</code></span>出现的用户名。您可以执行此命令来加载数据集<code class="codeph">txdemo1.xml</code> ：</span><div><pre class="oac_no_warn" dir="ltr">transx“jdbc：oracle：thin：@ // myhost：1521 / myservicename” <span class="italic">user</span> -pw txdemo1.xml</pre><p>操作成功后，终端上不会打印任何内容。</p>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__CEGDGJFI"><span>查询数据库以确定加载是否成功。例如：</span><div><pre class="oac_no_warn" dir="ltr">SELECT * FROM i18n_messages;</pre></div>
                        </li>
                        <li class="stepexpand" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__CEGHJHGE"><span>删除演示对象以准备另一个测试。连接到数据库并运行<code class="codeph">txclean.sql</code>脚本：</span><div><pre class="oac_no_warn" dir="ltr">@txclean</pre></div>
                        </li>
                        <li class="stepexpand"><span>编译Java演示程序。例如：</span><div><pre class="oac_no_warn" dir="ltr">javac txdemo1.java</pre></div>
                        </li>
                        <li class="stepexpand"><span>使用在调用命令行界面时使用的相同JDBC和数据库连接数据运行Java程序。例如：</span><div><pre class="oac_no_warn" dir="ltr">java txdemo1“jdbc：oracle：thin：@ // myhost：1521 / myservicename” <span class="italic">user</span> -pw \ txdemo1.xml</pre><p>像以前一样执行相同的查询测试（步骤<a href="using-TransX-utility.html#GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__CEGDGJFI">5</a> ）和清理操作（步骤<a href="using-TransX-utility.html#GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__CEGHJHGE">6</a> ）。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>运行TransX Utility以将数据卸载到预定义的XML格式。例如：</span><div><pre class="oac_no_warn" dir="ltr">transx -s“jdbc：oracle：thin：@ // myhost：1521 / myservicename” <span class="italic">user</span> -pw emp.xml \ temp</pre><p>将<code class="codeph">emp.xml</code>的数据与<code class="codeph">emp-dlf.xml</code> 。
                              </p>
                              <div class="infoboxnote" id="GUID-AA0C4B05-1889-478F-B08E-AA336132A2AC__GUID-DCFEF323-A74E-4B70-B26B-84FC3DDAFDE7">
                                 <p class="notep1">注意：</p>
                                 <p>为了简化演示此功能，此示例不执行已部署系统通常使用的密码管理技术。在生产环境中，请遵循Oracle数据库密码管理准则，并禁用任何示例帐户。有关密码管理指南和其他安全建议，请参阅<a href="../dbseg/managing-security-for-application-developers.html#DBSEG50053" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a> 。
                                 </p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19507"></a><div class="props_rev_3"><a id="GUID-4017FB7D-A705-4FC9-905B-37218432708F" name="GUID-4017FB7D-A705-4FC9-905B-37218432708F"></a><h4 id="ADXDK-GUID-4017FB7D-A705-4FC9-905B-37218432708F" class="sect4">使用TransX命令行实用程序</h4>
                  <div>
                     <p>TransX实用程序与Oracle数据库打包在一起。默认情况下，Oracle Universal Installer会将该实用程序安装在磁盘上。</p>
                     <div class="section">
                        <p>如<a href="getting-started-with-XDK-for-Java.html#GUID-D26168D9-2F21-4B5A-9F7B-F1D4B66F0EB4" title="描述了使用Java Development Kit（JDK）时XDK对Java组件的依赖性。">XDK for Java Component Dependencies</a>中所述，TransX库是<code class="codeph">$ORACLE_HOME/lib/xml.jar</code> （UNIX）和<code class="codeph">%ORACLE_HOME%\lib\xml.jar</code> （Windows）。
                        </p>
                        <p>您可以使用以下语法从操作系统命令行运行TransX实用程序：</p><pre class="oac_no_warn" dir="ltr">java oracle.xml.transx.loader</pre><p>Oracle XML Developer's Kit（XDK）包含名为<code class="codeph">$ORACLE_HOME/bin/transx</code> （UNIX）和<code class="codeph">%ORACLE_HOME%\bin\transx.bat</code> （Windows）的TransX脚本版本。假设您的<code class="codeph">PATH</code>变量设置正确，您可以运行TransX：</p><pre class="oac_no_warn" dir="ltr">transx <span class="italic"><code class="codeph">options</code></span> <span class="italic"><code class="codeph">parameters</code></span> transx.bat <span class="italic"><code class="codeph">options</code></span> <span class="italic"><code class="codeph">parameters</code></span>
</pre><p>例如，此命令显示有效的语法：</p><pre class="oac_no_warn" dir="ltr">transx -s“jdbc：oracle：thin：@ // myhost：1521 / myservicename” <span class="italic">user</span> -pw emp.xml \ temp</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div class="props_rev_3"><a id="GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E" name="GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E"></a><h5 id="ADXDK-GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E" class="sect5">TransX Utility命令行选项</h5>
                     <div>
                        <p>描述了TransX Utility的命令行选项。</p>
                        <div class="tblformal" id="GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E__G1013647">
                           <p class="titleintable">表22-4 TransX Utility命令行选项</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TransX Utility命令行选项" width="100%" border="1" summary="This table describes the command-line options for the TransX Utility. Option, Meaning, and Description are the column names." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d86417e1647">选项</th>
                                    <th align="left" valign="bottom" id="d86417e1650">含义</th>
                                    <th align="left" valign="bottom" id="d86417e1653">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1658" headers="d86417e1647 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">-u</code> </pre></td>
                                    <td align="left" valign="top" headers="d86417e1658 d86417e1650 ">
                                       <p>更新现有行。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1658 d86417e1653 ">
                                       <p>不跳过现有行但更新它们。要从更新操作中排除列，请将<code class="codeph">useforupdate</code>属性设置为<code class="codeph">no</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1676" headers="d86417e1647 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">-e</code></pre></td>
                                    <td align="left" valign="top" headers="d86417e1676 d86417e1650 ">
                                       <p>如果数据库中已存在给定行，则引发异常。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1676 d86417e1653 ">
                                       <p>如果找到重复的行，则引发异常。默认情况下，TransX会跳过重复的行。如果数据库中的lookup-key列的值与数据集相同，则行被视为重复。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1687" headers="d86417e1647 "><pre class="oac_no_warn" dir="ltr"><code class="codeph">-X</code> </pre></td>
                                    <td align="left" valign="top" headers="d86417e1687 d86417e1650 ">
                                       <p>以预定义格式打印数据库数据。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1687 d86417e1653 ">
                                       <p>与<code class="codeph">-s</code>选项类似，它会使实用程序执行相反的加载操作。与<code class="codeph">-s</code>选项不同，它打印到<code class="codeph">stdout</code> 。不鼓励将此输出重定向到文件，因为操作系统的干预可能会因意外转码而导致数据丢失。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1708" headers="d86417e1647 ">
                                       <p><code class="codeph">-s</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1708 d86417e1650 ">
                                       <p>将数据库数据保存为预定义格式的文件。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1708 d86417e1653 ">
                                       <p>执行卸载。TransX Utility查询数据库，将结果格式化为预定义的XML格式，并将其存储在指定的文件名下。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1720" headers="d86417e1647 ">
                                       <p><code class="codeph">-p</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1720 d86417e1650 ">
                                       <p>打印要加载的XML。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1720 d86417e1653 ">
                                       <p>以XSU的规范格式打印出插入数据集。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1732" headers="d86417e1647 ">
                                       <p><code class="codeph">-t</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1732 d86417e1650 ">
                                       <p>打印XML以进行更新。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1732 d86417e1653 ">
                                       <p>以XSU的规范格式打印出要更新的数据集。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1744" headers="d86417e1647 ">
                                       <p><code class="codeph">-o</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1744 d86417e1650 ">
                                       <p>省略验证（因为解析了数据集，默认情况下会对其进行验证）。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1744 d86417e1653 ">
                                       <p>导致TransX Utility跳过格式验证，默认情况下执行。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1756" headers="d86417e1647 ">
                                       <p><code class="codeph">-v</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1756 d86417e1650 ">
                                       <p>验证数据格式并退出而不加载。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1756 d86417e1653 ">
                                       <p>使TransX Utility执行验证并退出。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1768" headers="d86417e1647 ">
                                       <p><code class="codeph">-w</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1768 d86417e1650 ">
                                       <p>保留空白区域。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1768 d86417e1653 ">
                                       <p>使TransX Utility将空白字符（例如\ t，\ t，\ n，和'）视为重要字符。默认情况下，该实用程序将字符串数据元素中的连续空格字符压缩为一个空格字符。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d86417e1780" headers="d86417e1647 ">
                                       <p><code class="codeph">-l</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1780 d86417e1650 ">
                                       <p>设置语言标记的大小写。</p>
                                    </td>
                                    <td align="left" valign="top" headers="d86417e1780 d86417e1653 ">
                                       <p>使TransX Utility覆盖规范化DLF上<code class="codeph">normalize-langtag</code>属性或TransX API上<code class="codeph">setNormalizeLangTag()</code>方法中指定的语言标记大小写的样式。有效选项分别是标准，大写和小写的<code class="codeph">-ls</code> ， <code class="codeph">-lu</code>和<code class="codeph">-ll</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>命令行选项异常：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">-u</code>和<code class="codeph">-e</code>是互斥的。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-v</code>必须是数据后面唯一的选项，如示例所示。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-x</code>必须是唯一的选项，后跟连接信息和SQL查询，如示例所示。
                              </p>
                           </li>
                        </ul>
                        <p>省略所有参数会显示<a href="using-TransX-utility.html#GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E__G1013647" title="此表描述了TransX Utility的命令行选项。选项，含义和描述是列名称。">表22-4中</a>显示的使用信息。
                        </p>
                     </div>
                  </div><a id="ADXDK19511"></a><a id="ADXDK19510"></a><div class="props_rev_3"><a id="GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593" name="GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593"></a><h5 id="ADXDK-GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593" class="sect5">TransX实用程序命令行参数</h5>
                     <div>
                        <p>描述了TransX实用程序的命令行参数。</p>
                        <div class="tblformal" id="GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593__BHAEAFBA">
                           <p class="titleintable">表22-5 TransX实用程序命令行参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="TransX实用程序命令行参数" width="100%" border="1" summary="This table describes the command-line parameters for the TransX utility. Parameter and Meaning are the columns." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d86417e1923">参数</th>
                                    <th align="left" valign="bottom" width="78%" id="d86417e1926">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d86417e1931" headers="d86417e1923 "><pre class="oac_no_warn" dir="ltr">CONNECT_STRING</pre></td>
                                    <td align="left" valign="top" width="78%" headers="d86417e1931 d86417e1926 ">
                                       <p>JDBC连接字符串。请参阅<a href="../jjdbc/JDBC-getting-started.html#JJDBC28061" target="_blank"><span><cite>Oracle数据库JDBC开发人员指南</cite></span></a> ，</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d86417e1944" headers="d86417e1923 "><pre class="oac_no_warn" dir="ltr">用户名</pre></td>
                                    <td align="left" valign="top" width="78%" headers="d86417e1944 d86417e1926 ">
                                       <p>数据库用户名（架构）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d86417e1951" headers="d86417e1923 "><pre class="oac_no_warn" dir="ltr">密码</pre></td>
                                    <td align="left" valign="top" width="78%" headers="d86417e1951 d86417e1926 ">
                                       <p>数据库用户的密码，或“ <code class="codeph">-pw</code> ”。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d86417e1961" headers="d86417e1923 "><pre class="oac_no_warn" dir="ltr">数据源</pre></td>
                                    <td align="left" valign="top" width="78%" headers="d86417e1961 d86417e1926 ">
                                       <p>由文件名或URL指定的XML文档。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d86417e1968" headers="d86417e1923 "><pre class="oac_no_warn" dir="ltr">选项</pre></td>
                                    <td align="left" valign="top" width="78%" headers="d86417e1968 d86417e1926 ">
                                       <p><a href="using-TransX-utility.html#GUID-19BC5DFF-E523-4775-8319-4BC2FDC82C7E__G1013647" title="此表描述了TransX Utility的命令行选项。选项，含义和描述是列名称。">见表22-4</a> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-6CEDD214-2410-47C8-BE1D-19EB2DE30593__GUID-5F795169-860D-45B0-813F-E957D8C076E8">
                           <p class="notep1">也可以看看：</p>
                           <p>有关<code class="codeph">TransX</code>接口的完整详细信息，请<a href="../jaxml/index.html" target="_blank"><span><cite>参见Oracle数据库XML Java API参考</cite></span></a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="ADXDK1017"></a><a id="ADXDK19512"></a><div class="props_rev_3"><a id="GUID-45808D4D-64E2-49BD-BDDE-CDF323F48A86" name="GUID-45808D4D-64E2-49BD-BDDE-CDF323F48A86"></a><h3 id="ADXDK-GUID-45808D4D-64E2-49BD-BDDE-CDF323F48A86" class="sect3">使用TransX Utility加载数据</h3>
               <div>
                  <p>您可以使用TransX实用程序使用多语言数据填充数据库。要将数据传入和传出数据库模式，您需要创建映射到此模式的数据集。描述了使用TransX在数据库中组织已翻译的应用程序消息的方案。</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19514"></a><a id="ADXDK19515"></a><a id="ADXDK19513"></a><div class="props_rev_3"><a id="GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364" name="GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364"></a><h4 id="ADXDK-GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364" class="sect4">在数据库中存储消息</h4>
                  <div>
                     <p>必须使用可以检索特定于语言环境的信息的资源管理工具来组织特定于特定区域并共享公共语言和文化约定的数据。由于易于维护和灵活，数据库通常用于存储此类数据。</p>
                     <p>要构建国际化系统，必须将可本地化资源与业务逻辑分离。这种资源的典型示例是翻译的文本信息。</p>
                     <p>假设您使用<a href="using-TransX-utility.html#GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHAEHHJD">示例22-1中</a>显示的结构和内容创建表并插入数据。
                     </p>
                     <p>列表<code class="codeph">language_id</code>在此表中定义，以便应用程序可以根据最终用户的首选语言检索消息。它包含语言名称的缩写，以标识消息的语言。
                     </p>
                     <p><a href="using-TransX-utility.html#GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHACAHIG">例22-2</a>显示了该表的示例数据。
                     </p>
                     <div class="infoboxnotealso" id="GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__GUID-EFCB0140-920A-43A4-8574-182DDB779662">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../nlspg/appendix-A-locale-data.html#NLSPG947" target="_blank"><span><cite>Oracle数据库全球化支持指南，</cite></span></a>用于Oracle语言缩写</p>
                     </div>
                     <div class="example" id="GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHAEHHJD">
                        <p class="titleinexample">例22-1表translate_messages的结构</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE translated_messages（MESSAGE_ID NUMBER（4）CONSTRAINT tm_mess_id_nn NOT NULL，LANGUAGE_ID VARCHAR2（42），MESSAGE VARCHAR2（200））;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHACAHIG">
                        <p class="titleinexample">示例22-2对translated_messages的查询</p><pre class="oac_no_warn" dir="ltr">MESSAGE_ID LANGUAGE_ID消息---------- ----------- -------------------------- -------- 1我们欢迎使用System X 2 us请输入用户名和密码</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADXDK19517"></a><a id="ADXDK19516"></a><div class="props_rev_3"><a id="GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68" name="GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68"></a><h4 id="ADXDK-GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68" class="sect4">以预定义格式创建数据集</h4>
                  <div>
                     <p>示例显示了表示<code class="codeph">translated_messages</code>表的XML文档。
                     </p>
                     <div class="section">
                        <p><a href="data-loading-format-specification.html#GUID-6211A051-77B4-408F-94D9-199E1698B48C" title="给出了数据加载格式（DLF）1.0版的描述，DLF是用于描述TransX实用程序加载到数据库中的翻译消息和种子数据的标准格式。">数据加载格式（DLF）规范</a>描述了DLF语言的完整语法。此语言用于创建向TransX提供输入的DLF文档。</p>
                        <p>给定规范格式的数据集（输入数据），TransX Utility将数据加载到数据库中的指定位置。TransX不会创建数据库对象：您必须在尝试加载数据之前创建表或视图。</p>
                        <p>表示在<a href="using-TransX-utility.html#GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHAEHHJD">例22-1</a>中创建的<code class="codeph">translated_messages</code>表的XML文档类似于<a href="using-TransX-utility.html#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">例22-3</a> 。数据集反映了目标表的结构，在本例中称为<code class="codeph">translated_messages</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">
                        <p class="titleinexample">例22-3 example.xml</p><pre class="oac_no_warn" dir="ltr">&lt;？xml版本=“1.0”？&gt; &lt;table name =“translated_messages”&gt; &lt;！ - 指定唯一标识符 - &gt; &lt;lookup-key&gt; &lt;column name =“message_id”/&gt; &lt;column name =“language_id”/&gt; &lt;/ lookup-key&gt; &lt; ！ - 指定要插入数据的列 - &gt; &lt;columns&gt; &lt;column name =“message_id”type =“number”/&gt; &lt;column name =“language_id”type =“string”constant =“us”翻译=“yes”/&gt; &lt;column name =“message”type =“string”translate =“yes”/&gt; &lt;/ columns&gt; &lt;！ - 指定要插入的数据 - &gt; &lt;dataset&gt; &lt;row&gt; &lt;col name =“message_id”&gt; 1 &lt;/ col&gt; &lt;col name =“message”translation-note =“dnt'X'”&gt;欢迎使用System X &lt;/ col&gt; &lt;/ row&gt; &lt;row&gt; &lt;col name =“message_id “&gt; 2 &lt;/ col&gt; &lt;col name =”message“&gt;请输入用户名和密码&lt;/ col&gt; &lt;/ row&gt; &lt;！ -  ...  - &gt; &lt;/ dataset&gt; &lt;/ table&gt;</pre></div>
                     <!-- class="example" -->
                  </div><a id="ADXDK19519"></a><a id="ADXDK19521"></a><a id="ADXDK19520"></a><a id="ADXDK19522"></a><a id="ADXDK19518"></a><div class="props_rev_3"><a id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA" name="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA"></a><h5 id="ADXDK-GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA" class="sect5">输入XML文档的格式</h5>
                     <div>
                        <p>描述了输入XML文档的格式。</p>
                        <p><a href="using-TransX-utility.html#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">例22-3中</a>的XML文档以此声明开头：</p><pre class="oac_no_warn" dir="ltr">&lt;？xml版本=“1.0”？&gt;</pre><p>它的根元素<code class="codeph">&lt;table&gt;</code>有一个指定表名的属性，它包含所有其他元素：</p><pre class="oac_no_warn" dir="ltr">&lt;table name =“translated_messages”&gt; ...&lt;/ TABLE&gt;</pre><p>如<a href="data-loading-format-specification.html#GUID-D727EDE1-ECEF-4B1E-B9C5-8BEF4B8B514F" title="Categories of DLF elements are described.">DLF</a>中的<a href="data-loading-format-specification.html#GUID-D727EDE1-ECEF-4B1E-B9C5-8BEF4B8B514F" title="描述了DLF元素的类别。">Elements中</a>所述， <code class="codeph">&lt;table&gt;</code>元素包含三个小节：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="data-loading-format-specification.html#GUID-69268E80-DFF7-4683-A3AF-F1B9E041456C" title="描述了查找关键元素。">查找关键元素</a></p>
                           </li>
                           <li>
                              <p><a href="data-loading-format-specification.html#GUID-BC84CDA0-5B41-4B11-A00B-EF67DC93BD66" title="描述了元数据元素。">元数据元素</a></p>
                           </li>
                           <li>
                              <p><a href="data-loading-format-specification.html#GUID-86EFC482-6231-4C6E-8C19-AA34476E54DA" title="数据元素是&lt;dataset&gt;，&lt;row&gt;和&lt;col&gt;。">数据元素</a></p>
                           </li>
                        </ul>
                        <p>前面的部分映射到<a href="using-TransX-utility.html#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">例22-3中的</a>元素：</p><pre class="oac_no_warn" dir="ltr">&lt;lookup-key&gt; ... &lt;/ lookup-key&gt; &lt;columns&gt; ... &lt;/ columns&gt; &lt;dataset&gt; ... &lt;/ dataset&gt;</pre><p>查找键是用于评估行（如果它们已存在于数据库中）的列。因为您需要一对消息和语言标识符来标识唯一的字符串，所以该文档会列出相应的列。因此，表<code class="codeph">translated_messages</code>的<code class="codeph">message_id</code> ， <code class="codeph">language_id</code>和<code class="codeph">message</code>列映射到<code class="codeph">&lt;column&gt;</code>元素中的属性：</p><pre class="oac_no_warn" dir="ltr">&lt;column name =“message_id”type =“number”/&gt; &lt;column name =“language_id”type =“string”constant =“us”translate =“yes”/&gt; &lt;column name =“message”type =“string”翻译= “是”/&gt;</pre><p>columns部分必须镜像表结构，因为它指定数据集部分中的哪一段数据映射到哪个表列。列名必须在整个XML数据集和数据库中保持一致。您可以使用<a href="using-TransX-utility.html#GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAJCBHG" title="此表描述了TransX数据集表达式：常量，序列和查询。">表22-6中</a>的<code class="codeph">&lt;column&gt;</code>属性来描述要加载的数据。这些属性形成中所描述的DLF属性的子集<a href="data-loading-format-specification.html#GUID-DBF4F212-F2AC-43ED-B266-328EA75AA41B" title="列出了DLF元素中使用的各种属性。永远不会为每个元素指定一次属性。除了一些属性外，还有推荐的属性值。这些属性的值区分大小写。">的属性在DLF</a> 。</p>
                        <div class="tblformalwide" id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAJCBHG">
                           <p class="titleintable">表22-6 &lt;column&gt;属性</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="&lt;column&gt;属性" width="100%" border="1" summary="This table describes the TransX data set expressions: constant, sequence, and query." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="10%" id="d86417e2484">属性</th>
                                    <th align="left" valign="bottom" width="32%" id="d86417e2487">描述</th>
                                    <th align="left" valign="bottom" width="57%" id="d86417e2490">例</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d86417e2495" headers="d86417e2484 ">
                                       <p>类型</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d86417e2495 d86417e2487 ">
                                       <p>指定数据集中列的数据类型。此属性指定数据集中<code class="codeph">&lt;col&gt;</code>元素中包含的文本类型。根据此类型，数据加载工具将不同的数据类型约定应用于数据。
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d86417e2495 d86417e2490 "><pre class="oac_no_warn" dir="ltr">&lt;column name =“col”type =“string”/&gt;</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d86417e2508" headers="d86417e2484 ">
                                       <p>不变</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d86417e2508 d86417e2487 ">
                                       <p>指定常量值。每行具有固定值的列不必重复相同的值。</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d86417e2508 d86417e2490 "><pre class="oac_no_warn" dir="ltr">&lt;column name =“col”type =“string”constant =“us”/&gt;</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d86417e2518" headers="d86417e2484 ">
                                       <p>语言</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d86417e2518 d86417e2487 ">
                                       <p>language属性表示该列是语言列，用于存储语言标记。它的工作方式与常量属性相同，但声明列的角色是语言列。</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d86417e2518 d86417e2490 "><pre class="oac_no_warn" dir="ltr">&lt;column name =“language”type =“string”language =“us”/&gt;</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d86417e2528" headers="d86417e2484 ">
                                       <p>序列</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d86417e2528 d86417e2487 ">
                                       <p>指定用于填充此列的值的数据库中的序列。</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d86417e2528 d86417e2490 "><pre class="oac_no_warn" dir="ltr">&lt;column name =“id”type =“number”sequence =“id_sq”/&gt;</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="10%" id="d86417e2538" headers="d86417e2484 ">
                                       <p>翻译</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d86417e2538 d86417e2487 ">
                                       <p>指示是要翻译此列或参数的文本。</p>
                                    </td>
                                    <td align="left" valign="top" width="57%" headers="d86417e2538 d86417e2490 "><pre class="oac_no_warn" dir="ltr">&lt;column name =“msg”type =“string”translate =“yes”/&gt;</pre></td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><code class="codeph">&lt;column&gt;</code>元素的<code class="codeph">constant</code>属性指定要存储到<code class="codeph">&lt;dataset&gt;</code>部分中每一行的相应列中的值。由于此示例使用原始语言，因此将<code class="codeph">language_id</code>列设置为值<code class="codeph">us</code> 。
                        </p>
                        <p><span class="bold">定义语言列</span></p>
                        <p>或者， <code class="codeph">language_id</code>列可以使用<code class="codeph">language</code>属性而不是<code class="codeph">constant</code>属性。具有<code class="codeph">language</code>属性的DLF文档可以使用xml命名空间中的<code class="codeph">lang</code>属性。语言列可以使用“％x”占位符从根表元素的标准<code class="codeph">xml:lang</code>属性中获取其值。因此不需要<code class="codeph">translate="yes"</code> ，因为不必翻译值“％x”。加载此DLF的结果与示例10-3相同。
                        </p>
                        <p>如<a href="data-loading-format-specification.html#GUID-2B66AD95-B9D6-46A7-8291-995B0A9ADC4F__CACIDCGF" title="描述为DLF定义的属性。这些属性在DLF元素之间共享。">表23-10</a>中所述， <code class="codeph">type</code>属性的有效值是<code class="codeph">string</code> ， <code class="codeph">number</code> ， <code class="codeph">date</code>和<code class="codeph">dateTime</code> 。这些值对应于XML模式标准中定义的数据类型，因此每条数据必须符合相应的数据类型定义。特别是，使用国际标准化组织（ISO）8601格式来表示<code class="codeph">date</code>和<code class="codeph">dateTime</code>数据类型非常重要，如<a href="using-TransX-utility.html#GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAFBCHD" title="日期和日期时间格式">表22-7</a>所示。
                        </p>
                        <div class="tblformal" id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAFBCHD">
                           <p class="titleintable">表22  -  7日期和日期时间格式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="日期和日期时间格式" width="100%" border="1" summary="date and dateTime formats" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d86417e2636">数据类型</th>
                                    <th align="left" valign="bottom" width="30%" id="d86417e2639">格式</th>
                                    <th align="left" valign="bottom" width="56%" id="d86417e2642">例</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d86417e2647" headers="d86417e2636 ">
                                       <p>日期</p>
                                    </td>
                                    <td align="left" valign="top" width="30%" headers="d86417e2647 d86417e2639 ">
                                       <p>CCYY-MM-DD</p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d86417e2647 d86417e2642 ">
                                       <p>2009-05-20</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d86417e2657" headers="d86417e2636 ">
                                       <p>约会时间</p>
                                    </td>
                                    <td align="left" valign="top" width="30%" headers="d86417e2657 d86417e2639 ">
                                       <p>CCYY-MM-DDTHH：MM：SS</p>
                                    </td>
                                    <td align="left" valign="top" width="56%" headers="d86417e2657 d86417e2642 ">
                                       <p>2009-05-20T16：01：37</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a href="using-TransX-utility.html#GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAJBGGJ">例22-5</a>显示了如何使用TransX数据集中的<code class="codeph">dateTime</code>数据表示表行。
                        </p>
                        <div class="example" id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BABGAAJB">
                           <p class="titleinexample">示例22-4带有语言属性的example.xml</p><pre class="oac_no_warn" dir="ltr">&lt;？xml版本=“1.0”？&gt; &lt;table <span class="bold">xml：lang =“us”</span> name =“translated_messages”&gt; &lt;！ - 指定唯一标识符 - &gt; &lt;lookup-key&gt; &lt;column name =“message_id”/&gt; &lt;column name =“language_id”/&gt; &lt;/ lookup-key&gt; &lt;！ - 指定要插入数据的列 - &gt; &lt;columns&gt; &lt;column name =“message_id”type =“number”/&gt; &lt;column name =“language_id”type =“string “language =”％x“/&gt; &lt;column name =”message“type =”string“translate =”yes“/&gt; &lt;/ columns&gt; &lt;！ - 指定要插入的数据 - &gt; &lt;dataset&gt; &lt;row &gt; &lt;col name =“message_id”&gt; 1 &lt;/ col&gt; &lt;col name =“message”translation-note =“dnt'X'”&gt;欢迎使用System X &lt;/ col&gt; &lt;/ row&gt; &lt;row&gt; &lt;col name =“message_id”&gt; 2 &lt;/ col&gt; &lt;col name =“message”&gt;请输入用户名和密码&lt;/ col&gt; &lt;/ row&gt; &lt;！ -  ...  - &gt; &lt;/ dataset&gt; &lt;/ table&gt;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BHAJBGGJ">
                           <p class="titleinexample">例22-5 dateTime行</p><pre class="oac_no_warn" dir="ltr">&lt;row&gt; &lt;col name =“article_id”&gt; 12345678 &lt;/ col&gt; &lt;col name =“author_id”&gt; 10500 &lt;/ col&gt; &lt;col name =“submission”&gt; 2002-03-09T16：01：37 &lt;/ col&gt; &lt;col name =“title”&gt; ... &lt;/ col&gt; &lt;！ - 一些列如下 - &gt; &lt;/ row&gt;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADXDK19524"></a><a id="ADXDK19525"></a><a id="ADXDK19523"></a><div class="props_rev_3"><a id="GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4" name="GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4"></a><h5 id="ADXDK-GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4" class="sect5">指定数据集中的翻译</h5>
                     <div>
                        <p>您可以使用<code class="codeph">translation</code>属性指定列是否包含已翻译的数据。
                        </p>
                        <div class="section">
                           <p>这<a href="data-loading-format-specification.html#GUID-DBF4F212-F2AC-43ED-B266-328EA75AA41B" title="The various attributes used in the DLF elements are listed. An attribute is never specified more than once for each element. Along with some of the attributes are the recommended attribute values. Values for these attributes are case-sensitive.">在DLF</a>中的<a href="data-loading-format-specification.html#GUID-DBF4F212-F2AC-43ED-B266-328EA75AA41B" title="列出了DLF元素中使用的各种属性。永远不会为每个元素指定一次属性。除了一些属性外，还有推荐的属性值。这些属性的值区分大小写。">属性中进行了</a>解释。在<a href="using-TransX-utility.html#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">示例22-3中</a> ，两个<code class="codeph">&lt;column&gt;</code>元素以不同方式使用<code class="codeph">translate</code>属性。<code class="codeph">language_id</code>列的属性指定必须转换<code class="codeph">constant</code>属性的值：</p><pre class="pre codeblock"><code>&lt;column name =“language_id”type =“string”constant =“us”translate =“yes”/&gt;</code></pre><p>相反，此<code class="codeph">translate</code>属性请求使用与此列匹配的名称转换<code class="codeph">&lt;dataset&gt;</code>部分中的<code class="codeph">&lt;dataset&gt;</code> ：</p><pre class="pre codeblock"><code>&lt;column name =“message”type =“string”translate =“yes”/&gt;</code></pre><p>例如，前面的元素指定必须翻译<code class="codeph">&lt;dataset&gt;</code>部分中的这些消息：</p><pre class="pre codeblock"><code>&lt;col name =“message”translation-note =“dnt'X'”&gt;欢迎使用System X &lt;/ col&gt; &lt;col name =“message”&gt;请输入用户名和密码&lt;/ col&gt;</code></pre><p>在翻译应用程序的消息时，您可能决定不翻译指定的单词或短语。前面示例中显示的<code class="codeph">translation-note</code>属性实现了此目标。
                           </p>
                           <p>可扩展样式表语言转换（XSLT）处理器可以将前面的格式转换为另一种格式，用于在本地化服务提供者之间交换翻译数据，以便与基于XML的翻译工具一起使用。此转换将开发人员与诸如跟踪修订，将可翻译字符串分类为单元等任务隔离开来。</p>
                           <p><a href="using-TransX-utility.html#GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4__BABHAHGI">例22-6</a>显示了<a href="using-TransX-utility.html#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">例22-3中</a>的文档在翻译后的样子（开头）。
                           </p>
                           <p><a href="using-TransX-utility.html#GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4__BABJDFBJ">例22-7</a>显示了<a href="using-TransX-utility.html#GUID-9DAB6A2E-82E2-4076-B0CB-212EA1DA02CA__BABGAAJB">例22-4中</a>的文档在翻译后的样子。与前面的示例不同，列定义不会更改。
                           </p>
                           <p>如果在翻译过程中使用文本编辑器或传统的基于文本的翻译工具，则保持文档的编码非常重要。翻译文档后，它可能与原始文档的编码不同。如<a href="data-loading-format-specification.html#GUID-D61D061A-CBCF-40AC-AB17-AA402C463E42" title="The Extensible Markup Language (XML) declaration starts an XML entity. It indicates the XML version.">DLF</a>中的<a href="data-loading-format-specification.html#GUID-D61D061A-CBCF-40AC-AB17-AA402C463E42" title="可扩展标记语言（XML）声明启动XML实体。它表示XML版本。">XML声明中所述</a> ，如果翻译的文档采用Unicode以外的编码，则将编码声明添加到第一行的XML声明中。非Unicode编码的声明如下所示：</p><pre class="oac_no_warn" dir="ltr">&lt;？xml version =“1.0”encoding =“ISO-8859-15”？&gt;</pre><p>要确保翻译过程不会丢失语法完整性，请将文档作为XML处理。否则，您可以通过指定命令行界面的<code class="codeph">-v</code>选项来检查格式。如果存在语法错误，该实用程序将打印错误的位置和描述。您必须修复数据传输错误才能成功。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4__BABHAHGI">
                           <p class="titleinexample">例22-6 example_es.xml</p><pre class="oac_no_warn" dir="ltr">&lt;？xml版本=“1.0”？&gt; &lt;table xml：lang =“es”name =“translated_messages”&gt; &lt;！ - 指定唯一标识符 - &gt; &lt;lookup-key&gt; &lt;column name =“message_id”/&gt; &lt;column name =“language_id”/&gt; &lt;/ lookup-key&gt; &lt;！ - 指定要插入数据的列 - &gt; &lt;columns&gt; &lt;column name =“message_id”type =“number”/&gt; &lt;column name =“language_id”type =“string “constant =”es“translate =”yes“/&gt;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-9774EB12-AE42-440E-ADCF-A8CC917212A4__BABJDFBJ">
                           <p class="titleinexample">示例22-7带语言属性的example_es.xml</p><pre class="oac_no_warn" dir="ltr">&lt;？xml版本=“1.0”？&gt; &lt;table xml：lang =“es”name =“translated_messages”&gt; &lt;！ - 指定唯一标识符 - &gt; &lt;lookup-key&gt; &lt;column name =“message_id”/&gt; &lt;column name =“language_id”/&gt; &lt;/ lookup-key&gt; &lt;！ - 指定要插入数据的列 - &gt; &lt;columns&gt; &lt;column name =“message_id”type =“number”/&gt; &lt;column name =“language_id”type =“string “language =”％x“/&gt; ......</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="data-loading-format-specification.html#GUID-6211A051-77B4-408F-94D9-199E1698B48C" title="给出了数据加载格式（DLF）1.0版的描述，DLF是用于描述TransX实用程序加载到数据库中的翻译消息和种子数据的标准格式。">数据加载格式（DLF）规范</a></li>
                           </ul>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADXDK19527"></a><a id="ADXDK19526"></a><div class="props_rev_3"><a id="GUID-95809F29-6679-4DA8-8339-825A75972B9B" name="GUID-95809F29-6679-4DA8-8339-825A75972B9B"></a><h4 id="ADXDK-GUID-95809F29-6679-4DA8-8339-825A75972B9B" class="sect4">加载数据</h4>
                  <div>
                     <p>描述了演示程序<code class="codeph">txdemo1.java</code>的使用。
                     </p>
                     <div class="section">
                        <p>您可以将示例<a href="using-TransX-utility.html#GUID-11C897C6-C153-479B-8FA1-5CCBB7C3BC68__BHAEHJDB">22-3</a>和<a href="using-TransX-utility.html#GUID-95809F29-6679-4DA8-8339-825A75972B9B__BHABCIHD">示例22-8中</a>的示例文档加载到您在<a href="using-TransX-utility.html#GUID-00F91F59-A8A9-47D6-9150-2B2A3E545364__BHAEHHJD">示例22-1中</a>创建的<code class="codeph">translated_messages</code>表中。然后，您可以使用<a href="using-TransX-utility.html#GUID-95809F29-6679-4DA8-8339-825A75972B9B__BHABCIHD">示例22-8中</a>的示例程序（可在TransX演示目录中找到）来加载数据。
                        </p>
                        <p><code class="codeph">txdemo1.java</code>程序遵循以下步骤：</p>
                        <ol>
                           <li>
                              <p>创建TransX加载程序对象。例如：</p><pre class="oac_no_warn" dir="ltr">TransX transx = loader.getLoader（）;</pre></li>
                           <li>
                              <p>打开数据加载会话。前三个命令行参数是JDBC连接字符串，数据库用户名和数据库密码。这些参数传递给<code class="codeph">TransX.open()</code>方法。该计划包括以下声明：</p><pre class="oac_no_warn" dir="ltr">transx.open（args [0]，args [1]，args [2]）;</pre></li>
                           <li>
                              <p>配置TransX加载程序。该程序将加载程序配置为跳过重复行并验证输入数据集。该计划包括以下声明：</p><pre class="oac_no_warn" dir="ltr">transx.setLoadingMode（LoadingMode。SKIP_DUPLICATES）; transx.setValidationMode（false）;</pre></li>
                           <li>
                              <p>加载数据。前三个命令行参数指定连接信息;任何其他参数指定输入XML文档。该程序为每个指定的文档调用<code class="codeph">load()</code>方法：</p><pre class="oac_no_warn" dir="ltr">for（int i = 3; i &lt;args.length; i ++）{transx.load（args [i]）; }</pre></li>
                           <li>
                              <p>关闭数据加载会话。该计划包括以下声明：</p><pre class="oac_no_warn" dir="ltr">transx.close（）;</pre></li>
                        </ol>
                        <p>使用<code class="codeph">javac</code>编译程序后，可以从命令行运行它。以下示例使用Java瘦驱动程序连接到计算机<code class="codeph">myhost</code>端口<code class="codeph">1521</code>的实例<code class="codeph">mydb</code> 。它连接到<span class="italic">用户</span>模式并加载XML文档<code class="codeph">example.xml</code>和<code class="codeph">example_es.xml</code> ：</p><pre class="oac_no_warn" dir="ltr">java txdemo1“jdbc：oracle：thin：@ // myhost：1521 / mydb” <span class="italic">user</span> -pw example.xml example_es.xml</pre><p>在构建多语言软件系统时，翻译通常在后期开发阶段可用。它们也会随着时间的推移而发展。要在以后向数据库添加消息，请再次运行TransX实用程序以在数据集定义中添加新行。TransX识别哪些行是新的，并根据<code class="codeph">&lt;lookup-key&gt;</code>部分中指定的列仅插入新消息。如果更新了某些消息，则使用<code class="codeph">-u</code>选项运行TransX以使用XML中指定的数据更新现有行，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">transx -u“jdbc：oracle：thin：@ // myhost：1521 / mydb” <span class="italic">user</span> -pw example.xml example_es.xml</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-95809F29-6679-4DA8-8339-825A75972B9B__BHABCIHD">
                        <p class="titleinexample">例22-8 txdemo1.java</p><pre class="oac_no_warn" dir="ltr">//版权所有（c）2001保留所有权利Oracle Corporation导入oracle.xml.transx。*; public class txdemo1 {/ ** * Constructor * / public txdemo1（）{} / ** * main * @param args * * args [0]：connect string * args [1]：username * args [2]：password * args [3+]：xml文件名* / public static void main（String [] args）throws Exception {//实例化transx类TransX transx = loader.getLoader（）; //启动数据加载会话transx.open（args [0]，args [1]，args [2]）; //指定操作模式transx.setLoadingMode（LoadingMode。SKIP_DUPLICATES）; transx.setValidationMode（false）; //加载数据集（int i = 3; i &lt;args.length; i ++）{transx.load（args [i]）; } // cleanup transx.close（）; }}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADXDK19528"></a><div class="props_rev_3"><a id="GUID-5D4C1061-AE4A-48D6-9797-7DE450200F1F" name="GUID-5D4C1061-AE4A-48D6-9797-7DE450200F1F"></a><h4 id="ADXDK-GUID-5D4C1061-AE4A-48D6-9797-7DE450200F1F" class="sect4">查询数据</h4>
                  <div>
                     <p>显示查表table <code class="codeph">translated_messages</code>的结果。
                     </p>
                     <div class="section">
                        <p>在使用<a href="using-TransX-utility.html#GUID-95809F29-6679-4DA8-8339-825A75972B9B__BHABCIHD">例22-8中</a>的程序加载数据后，您可以查询table <code class="codeph">translated_messages</code>以查看结果，如下所示：</p><pre class="oac_no_warn" dir="ltr">MESSAGE_ID LANGUAGE_ID消息---------- ----------- -------------------------- -------- 1我们欢迎来到System X 1 es Bienvenido al Sistema X 2 us请输入用户名和密码2 es Porfavor entre su nombre de usuario ysuconstseña</pre><p>应用程序可以使用<code class="codeph">WHERE</code>子句中的<code class="codeph">language_id</code>和<code class="codeph">message_id</code>列检索特定语言的消息。例如，您可以执行此查询：</p><pre class="oac_no_warn" dir="ltr">SELECT消息FROM translated_messages WHERE message_id = 2 AND language_id ='es'; MESSAGE ---------------------------------- Porfavor entre su nombre de usuario ysuconstseña</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>