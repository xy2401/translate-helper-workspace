<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>CTX_OUTPUT包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96278-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CTX_ENTITY-package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CTX_QUERY-package.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference"></meta>
    <meta name="dcterms.isVersionOf" content="CCREF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CTX_ENTITY-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CTX_QUERY-package.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CTX_OUTPUT包</li>
            </ol>
            <a id="GUID-A5490DBB-7309-4995-8FF1-E47431001004" name="GUID-A5490DBB-7309-4995-8FF1-E47431001004"></a><a id="CCREF0800"></a>
            
            <h2 id="CCREF-GUID-A5490DBB-7309-4995-8FF1-E47431001004" class="sect2"><span class="enumeration_chapter">11</span> CTX_OUTPUT包</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d112522e61" class="indexterm-anchor"></a>本章提供有关使用<code class="codeph">CTX_OUTPUT</code> PL / SQL程序包的参考信息。
               </p>
               <p><code class="codeph">CTX_OUTPUT</code>包含以下存储过程：</p>
               <div class="tblformal" id="GUID-A5490DBB-7309-4995-8FF1-E47431001004__GUID-05FD19CE-4356-4A92-A3D3-7E5A8A67232D">
                  <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes CTX_OUTPUT Package Procedures." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="35%" id="d112522e79">名称</th>
                           <th align="left" valign="bottom" width="65%" id="d112522e83">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e88" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A">ADD_EVENT</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e88 d112522e83 ">
                              <p>将事件添加到索引日志。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e97" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29">ADD_TRACE</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e97 d112522e83 ">
                              <p>启用跟踪。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e106" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-B772A716-F22F-4614-9086-4E95CDE63F84">DISABLE_QUERY_STATS</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e106 d112522e83 ">
                              <p>关闭索引的查询统计信息的收集。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e115" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-D43D058C-F4FB-4C2A-965A-5872F134784F">ENABLE_QUERY_STATS</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e115 d112522e83 ">
                              <p>允许收集索引的查询统计信息。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e124" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-8FC5BCB9-52D0-4ABA-BD14-333E0C10AC51">END_LOG</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e124 d112522e83 ">
                              <p>暂停记录索引和文档服务请求。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e133" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-E79169B1-6785-4001-988A-32804490E87B">END_QUERY_LOG</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e133 d112522e83 ">
                              <p>停止将查询记录到日志文件中。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e142" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-318BA40B-959F-4146-BE0E-3398A72D3265">GET_TRACE_VALUE</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e142 d112522e83 ">
                              <p>返回跟踪的值。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e151" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482">LOG_TRACES</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e151 d112522e83 ">
                              <p>将跟踪打印到logfile。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e160" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-B3FE1FAC-A174-4853-9280-9B4FF693487E">LOGFILENAME</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e160 d112522e83 ">
                              <p>返回当前日志文件的名称。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e169" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-9728844A-E560-406F-8738-1B0A6CA7BA4A">REMOVE_EVENT</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e169 d112522e83 ">
                              <p>从索引日志中删除事件。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e178" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE">REMOVE_TRACE</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e178 d112522e83 ">
                              <p>禁用跟踪。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e188" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-19223209-2593-466D-804E-41B56CC80D2A">RESET_TRACE</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e188 d112522e83 ">
                              <p>清除痕迹。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e197" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-390A846F-8449-4D3D-BD76-286F653B0BAD">START_LOG</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e197 d112522e83 ">
                              <p>开始记录索引和文档服务请求。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d112522e206" headers="d112522e79 ">
                              <p><a href="CTX_OUTPUT-package.html#GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988">START_QUERY_LOG</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d112522e206 d112522e83 ">
                              <p>创建查询的日志文件。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="infoboxnote" id="GUID-A5490DBB-7309-4995-8FF1-E47431001004__GUID-49564597-5DDA-467D-866B-04915107B002">
                  <p class="notep1">注意：</p>
                  <p><code class="codeph">CTX_OUTPUT</code>包中的API不支持以架构或所有者名称为前缀的标识符。
                  </p>
               </div>
            </div><a id="CCREF2124"></a><div class="props_rev_3"><a id="GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A" name="GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A"></a><h3 id="CCREF-GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A" class="sect3"><span class="enumeration_section">11.1</span> ADD_EVENT</h3>
               <div>
                  <div class="section">
                     <p>使用此过程将事件添加到索引日志中以获取更详细的日志输出，或者为Oracle Text错误启用错误跟踪。索引日志现在附加到数据库跟踪文件。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A__GUID-63B3D305-2F0A-4BE6-A472-187CABCD1698">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.ADD_EVENT（NUMBER中的事件，NUMBER中的errnum：= null）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A__GUID-B2D7DA6B-85AF-4252-9505-5B30A2B41BDB"><!-- --></a>事件</dt>
                        <dd>
                           <p>指定要记录的索引事件的类型。您可以添加以下事件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">CTX_OUTPUT.EVENT_INDEX_PRINT_ROWID</code> ，记录索引时每行的rowid。这对于调试失败的索引操作很有用。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">CTX_OUTPUT.EVENT_INDEX_PRINT_TOKEN</code> ，在索引时打印每个标记。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">CTX_OUTPUT.EVENT_DRG_DUMP_ERRORSTACK</code> ，用于在日志中打印指定DRG错误的堆栈跟踪。如果未指定<code class="codeph">errnum</code>则会引发错误。
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A__GUID-5966941E-73FF-44EA-87EE-BD162CC678D5">
                              <p class="notep1">注意：</p><code class="codeph">CTX_OUTPUT.EVENT_OPT_PRINT_TOKEN</code>在使用PDB锁定配置文件<code class="codeph">CTX_PROTOCOLS</code>时，在正在进行优化时打印每个令牌， <code class="codeph">CTX_OUTPUT.EVENT_INDEX_PRINT_TOKEN</code>在打印时打印每个令牌。</div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A__GUID-BBFFB28B-49CA-4A87-994D-31715CAE2BE1"><!-- --></a> errnum</dt>
                        <dd>
                           <p>指定<code class="codeph">CTX_OUTPUT.EVENT_DRG_DUMP_ERRRORSTACK</code>事件的DRG错误编号。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A__GUID-37A97C16-A319-4AE7-B9FB-8F8F4D5CAB34">例</p><pre class="oac_no_warn" dir="ltr">开始CTX_OUTPUT.ADD_EVENT（CTX_OUTPUT.EVENT_INDEX_PRINT_ROWID）;结束;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A__GUID-913A681C-722F-4909-9B97-823A1E32E42E">相关话题</p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-9728844A-E560-406F-8738-1B0A6CA7BA4A">REMOVE_EVENT</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23929"></a><a id="CCREF2125"></a><div class="props_rev_3"><a id="GUID-9088703A-984F-4604-8DE5-44EC0F073F29" name="GUID-9088703A-984F-4604-8DE5-44EC0F073F29"></a><h3 id="CCREF-GUID-9088703A-984F-4604-8DE5-44EC0F073F29" class="sect3"><span class="enumeration_section">11.2</span> ADD_TRACE</h3>
               <div>
                  <div class="section">
                     <p>使用此过程启用跟踪。如果尚未启用跟踪，则此调用会将跟踪添加到活动跟踪列表，并将其值重置为0。如果已启用跟踪，则会引发错误。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9088703A-984F-4604-8DE5-44EC0F073F29__GUID-E4AF96C4-DAFE-4F7B-9336-746288550E68">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.ADD_TRACE（trace_id BINARY_INTEGER）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-9088703A-984F-4604-8DE5-44EC0F073F29__GUID-2CA61A31-26AE-4D57-B1A6-6EA8CC290081"><!-- --></a> trace_id</dt>
                        <dd>
                           <p>指定要启用的跟踪的ID。有关可能的跟踪值，请<a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29__CHDCBEFB" title="此表显示可用的跟踪。">参见表11-1</a> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9088703A-984F-4604-8DE5-44EC0F073F29__GUID-5D948209-D49A-4827-88F9-66C6A63EB042">笔记</p>
                     <p><a id="d112522e473" class="indexterm-anchor"></a><a id="d112522e477" class="indexterm-anchor"></a><a id="d112522e479" class="indexterm-anchor"></a> <a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29__CHDCBEFB" title="此表显示可用的跟踪。">表11-1</a>显示了可用的跟踪：</p>
                     <div class="tblformal" id="GUID-9088703A-984F-4604-8DE5-44EC0F073F29__CHDCBEFB">
                        <p class="titleintable">表11-1可用的跟踪</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="可用的痕迹" width="100%" border="1" summary="This table shows available traces." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="39%" id="d112522e497">符号</th>
                                 <th align="left" valign="bottom" width="7%" id="d112522e500">ID</th>
                                 <th align="left" valign="bottom" width="54%" id="d112522e503">公</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e508" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_IDX_USER_DATASTORE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e508 d112522e500 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e508 d112522e503 ">
                                    <p>执行用户数据存储的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e519" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_IDX_AUTO_FILTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e519 d112522e500 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e519 d112522e503 ">
                                    <p>调用<code class="codeph">AUTO_FILTER</code>过滤器所花费的时间。（替换已弃用的<code class="codeph">TRACE_IDX_INSO_FILTER</code>跟踪）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e536" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_XX_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e536 d112522e500 ">
                                    <p>3</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e536 d112522e503 ">
                                    <p>执行<code class="codeph">$X</code>游标所花费的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e550" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_XF_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e550 d112522e500 ">
                                    <p>4</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e550 d112522e503 ">
                                    <p>从<code class="codeph">$X</code>获取的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e563" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_X_ROWS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e563 d112522e500 ">
                                    <p>五</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e563 d112522e503 ">
                                    <p>从<code class="codeph">$X</code>获取令牌元数据的总行数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e576" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_IF_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e576 d112522e500 ">
                                    <p>6</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e576 d112522e503 ">
                                    <p>从<code class="codeph">$I</code>获取<code class="codeph">LOB</code>定位器所花费的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e592" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_IR_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e592 d112522e500 ">
                                    <p>7</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e592 d112522e503 ">
                                    <p>花在阅读<code class="codeph">$I</code> <code class="codeph">LOB</code>信息上的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e609" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_I_ROWS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e609 d112522e500 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e609 d112522e503 ">
                                    <p>实际读取<code class="codeph">$I</code> <code class="codeph">token_info</code>的行数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e626" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_I_SIZE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e626 d112522e500 ">
                                    <p>9</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e626 d112522e503 ">
                                    <p>从<code class="codeph">$I</code> <code class="codeph">LOB</code> s读取的字节数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e643" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_R_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e643 d112522e500 ">
                                    <p>10</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e643 d112522e503 ">
                                    <p>获取和读取<code class="codeph">$R</code>信息所花费的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e657" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_CON_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e657 d112522e500 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e657 d112522e503 ">
                                    <p>在<code class="codeph">CONTAINS</code>处理中花费的时间（ <code class="codeph">drexrcontains/drexrstart/drexrfetch)</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e674" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_S_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e674 d112522e500 ">
                                    <p>15</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e674 d112522e503 ">
                                    <p>获取和读取<code class="codeph">$S</code>信息所花费的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e688" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_O_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e688 d112522e500 ">
                                    <p>19</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e688 d112522e503 ">
                                    <p>花在阅读<code class="codeph">$O</code>信息上的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e702" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_D_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e702 d112522e500 ">
                                    <p>23</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e702 d112522e503 ">
                                    <p>花在阅读<code class="codeph">$D</code>信息上的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e716" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_QRY_SNIPPET_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e716 d112522e500 ">
                                    <p>25</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e716 d112522e503 ">
                                    <p>从文档中提取片段所花费的时间</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="39%" id="d112522e727" headers="d112522e497 ">
                                    <p><code class="codeph">TRACE_HIL_DOCSERV_TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="7%" headers="d112522e727 d112522e500 ">
                                    <p>26</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d112522e727 d112522e503 ">
                                    <p>文档服务程序所花费的时间（片段，突出显示和标记）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>跟踪与记录无关。不必开启记录即可开始跟踪，反之亦然。</p>
                     <p>跟踪与会话相关联 - 它们可以测量在单个会话中发生的操作，相反，不能跨会话进行测量。</p>
                     <p>在并行同步或优化期间，当且仅当当前启用了跟踪时，跟踪配置文件才会复制到从属会话。每个从站将累积自己的跟踪，并在终止之前将所有跟踪值隐式写入从属日志文件。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9088703A-984F-4604-8DE5-44EC0F073F29__GUID-2FD5E23D-7235-4889-87DB-C20E8363C2EB">相关话题</p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE">REMOVE_TRACE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-318BA40B-959F-4146-BE0E-3398A72D3265">GET_TRACE_VALUE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482">LOG_TRACES</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-19223209-2593-466D-804E-41B56CC80D2A">RESET_TRACE</a> ”</span></p>
                     <p><a href="../ccapp/tuning-oracle-text.html#CCAPP0500" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2126"></a><div class="props_rev_3"><a id="GUID-B772A716-F22F-4614-9086-4E95CDE63F84" name="GUID-B772A716-F22F-4614-9086-4E95CDE63F84"></a><h3 id="CCREF-GUID-B772A716-F22F-4614-9086-4E95CDE63F84" class="sect3"><span class="enumeration_section">11.3</span> DISABLE_QUERY_STATS</h3>
               <div>
                  <div class="section">
                     <p>禁用收集索引的查询统计信息。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B772A716-F22F-4614-9086-4E95CDE63F84__GUID-0B91F2A5-020B-44C6-BB99-013666697235">句法</p><pre class="oac_no_warn" dir="ltr">ctx_output.disable_query_stats（index_name IN VARCHAR2）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-B772A716-F22F-4614-9086-4E95CDE63F84__GUID-57B4072A-72BA-40FC-8D67-0A95C72B255A"><!-- --></a> index_name</dt>
                        <dd>
                           <p>要禁用查询统计信息收集的索引的名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B772A716-F22F-4614-9086-4E95CDE63F84__GUID-94CD933B-9B62-4607-9B78-03BA88176525">例</p>
                     <p>关闭索引<code class="codeph">myindex</code>的查询统计信息的<code class="codeph">myindex</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.DISABLE_QUERY_STATS（myindex）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B772A716-F22F-4614-9086-4E95CDE63F84__GUID-BA978677-B9BA-4773-B73D-D867295D8B13">笔记</p>
                     <p>一旦为索引禁用了查询统计信息，就会为该索引停止收集和存储与查询相关的元数据。从该字典表中清除与该索引对应的所有条目。如果在未启用查询统计信息的索引上调用此过程，则会返回错误。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B772A716-F22F-4614-9086-4E95CDE63F84__GUID-CBA335E4-7828-49CC-BA31-D3DB5D966530">相关话题</p>
                     <p>CTX_OUTPUT。 <span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-D43D058C-F4FB-4C2A-965A-5872F134784F">ENABLE_QUERY_STATS</a> ”</span></p>
                     <p>CTX_REPORT。 <span class="q">“ <a href="CTX_REPORT-package.html#GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1">INDEX_STATS</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2127"></a><div class="props_rev_3"><a id="GUID-D43D058C-F4FB-4C2A-965A-5872F134784F" name="GUID-D43D058C-F4FB-4C2A-965A-5872F134784F"></a><h3 id="CCREF-GUID-D43D058C-F4FB-4C2A-965A-5872F134784F" class="sect3"><span class="enumeration_section">11.4</span> ENABLE_QUERY_STATS</h3>
               <div>
                  <div class="section">
                     <p>允许收集索引的查询统计信息。要为索引存储与查询相关的元数据，请使用此过程来启用对该索引的统计信息收集。只有在为索引打开<code class="codeph">ctx_output.enable_query_stats</code>时，才能访问收集的元数据。
                     </p>
                     <div class="infoboxnote" id="GUID-D43D058C-F4FB-4C2A-965A-5872F134784F__GUID-0C051EC9-A64A-4FCC-A6A2-F0C2AEBC2CE3">
                        <p class="notep1">注意：</p>
                        <p>只有在为索引打开<code class="codeph">ctx_output.enable_query_stats</code>时， <code class="codeph">ctx_output.enable_query_stats</code>访问查询统计信息元数据。请参阅CTX_REPORT。 <span class="q">“ <a href="CTX_REPORT-package.html#GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1">INDEX_STATS</a> ”</span>用于收集的查询统计信息元数据列表。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D43D058C-F4FB-4C2A-965A-5872F134784F__GUID-8727283D-AA5A-4E14-889D-C015320689C7">句法</p><pre class="oac_no_warn" dir="ltr">ctx_output.enable_query_stats（index_name IN VARCHAR2）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-D43D058C-F4FB-4C2A-965A-5872F134784F__GUID-149FC083-DCC0-4999-BB65-874909680215"><!-- --></a> index_name</dt>
                        <dd>
                           <p>要启用查询统计信息收集的索引的名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D43D058C-F4FB-4C2A-965A-5872F134784F__GUID-D1065E5A-BB72-45B2-88DD-C69AA81AB944">例</p>
                     <p>打开索引<code class="codeph">myindex</code>的查询统计信息的<code class="codeph">myindex</code> 。
                     </p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.ENABLE_QUERY_STATS（myindex）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D43D058C-F4FB-4C2A-965A-5872F134784F__GUID-94165C52-F069-49B6-9CA3-8B561B7FCCFA">笔记</p>
                     <p>显示查询统计信息是否在索引使信息在视图： <code class="codeph">CTX_INDEXES</code>和<code class="codeph">CTX_USER_INDEXES</code>栏下<code class="codeph">idx_query_stats_enabled</code> ，这是在这两个视图。如果为索引启用了<code class="codeph">query_stats</code> ，则该列显示YES;如果没有，则列显示NO。</p>
                     <p>与查询统计相对应的数据将存储在持久字典表中。一旦<code class="codeph">statistics</code>已经为特定索引启用，查询统计，将收集来自所有会话的指标。
                     </p>
                     <p>如果为已启用查询统计信息的索引调用此过程，则会引发错误。</p>
                     <p>统计信息收集对查询性能的影响很小。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D43D058C-F4FB-4C2A-965A-5872F134784F__GUID-B9ED2AD7-F7A3-4471-8A6E-FD32880075F0">相关话题</p>
                     <p>CTX_OUTPUT。 <span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-B772A716-F22F-4614-9086-4E95CDE63F84">DISABLE_QUERY_STATS</a> ”</span></p>
                     <p>CTX_REPORT。 <span class="q">“ <a href="CTX_REPORT-package.html#GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1">INDEX_STATS</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2128"></a><div class="props_rev_3"><a id="GUID-8FC5BCB9-52D0-4ABA-BD14-333E0C10AC51" name="GUID-8FC5BCB9-52D0-4ABA-BD14-333E0C10AC51"></a><h3 id="CCREF-GUID-8FC5BCB9-52D0-4ABA-BD14-333E0C10AC51" class="sect3"><span class="enumeration_section">11.5</span> END_LOG</h3>
               <div>
                  <div class="section">
                     <p>此过程将暂停日志记录索引和文档服务请求。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8FC5BCB9-52D0-4ABA-BD14-333E0C10AC51__GUID-8E7A9611-2C69-42F0-9716-9A678C1C1F35">句法</p><pre class="oac_no_warn" dir="ltr">ctx_output.end_log;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8FC5BCB9-52D0-4ABA-BD14-333E0C10AC51__GUID-279C2D16-720B-4628-8F69-A82C8463CCC1">例</p><pre class="oac_no_warn" dir="ltr">开始CTX_OUTPUT.END_LOG;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2129"></a><div class="props_rev_3"><a id="GUID-E79169B1-6785-4001-988A-32804490E87B" name="GUID-E79169B1-6785-4001-988A-32804490E87B"></a><h3 id="CCREF-GUID-E79169B1-6785-4001-988A-32804490E87B" class="sect3"><span class="enumeration_section">11.6</span> END_QUERY_LOG</h3>
               <div>
                  <div class="section">
                     <p>使用此过程可以停止将查询记录到数据库跟踪文件中。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E79169B1-6785-4001-988A-32804490E87B__GUID-B6E7AD49-B07F-4CF0-B9E4-3CEE52DF4B67">句法</p><pre class="oac_no_warn" dir="ltr">ctx_output.end_query_log;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E79169B1-6785-4001-988A-32804490E87B__GUID-43DCAA03-29C9-4A54-8751-AD23C4505976">例</p><pre class="oac_no_warn" dir="ltr">开始</pre><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.START_QUERY_LOG（ 'mylog1'）; &lt;get queries&gt; CTX_OUTPUT.END_QUERY_LOG;</pre><pre class="oac_no_warn" dir="ltr">结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2130"></a><div class="props_rev_3"><a id="GUID-318BA40B-959F-4146-BE0E-3398A72D3265" name="GUID-318BA40B-959F-4146-BE0E-3398A72D3265"></a><h3 id="CCREF-GUID-318BA40B-959F-4146-BE0E-3398A72D3265" class="sect3"><span class="enumeration_section">11.7</span> GET_TRACE_VALUE</h3>
               <div>
                  <div class="section">
                     <p>使用此过程以编程方式检索跟踪的当前值。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-318BA40B-959F-4146-BE0E-3398A72D3265__GUID-D073F93B-575A-4D0A-97A4-CE428478A951">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.GET_TRACE_VALUE（trace_id BINARY_INTEGER）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-318BA40B-959F-4146-BE0E-3398A72D3265__GUID-E9743415-9FD6-4AA0-B145-6181E7080F09"><!-- --></a> trace_id</dt>
                        <dd>
                           <p>指定所需值的跟踪ID。有关可能的值，请<a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29__CHDCBEFB" title="此表显示可用的跟踪。">参见表11-1</a> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-318BA40B-959F-4146-BE0E-3398A72D3265__GUID-443A6508-83B3-438D-B975-8B0566EA03FD">例</p>
                     <p>这将设置变量<span class="variable" translate="no">value</span> ：</p><pre class="oac_no_warn" dir="ltr">value：= ctx_output.get_trace_value（trace_id）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-318BA40B-959F-4146-BE0E-3398A72D3265__GUID-D9D7AA60-50C8-46FB-9AF7-BDDD792CEFB2">笔记</p>
                     <p>您还可以通过SQL检索跟踪值：</p><pre class="oac_no_warn" dir="ltr">select * from ctx_trace_values;</pre><p>有关<code class="codeph">CTX_TRACE_VALUES</code>视图中的条目，请参见<span class="q">“ <a href="oracle-text-views.html#GUID-E9493497-A86B-4238-A25F-D6910BEA84F7">CTX_TRACE_VALUES</a> ”</span> 。
                     </p>
                     <p>如果尚未启用跟踪，则会引发错误。</p>
                     <p>此调用不会将跟踪重置为0。</p>
                     <p>跟踪与会话相关联 - 它们可以测量在单个会话中发生的操作，相反，不能跨会话进行测量。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-318BA40B-959F-4146-BE0E-3398A72D3265__GUID-53C221FC-DA8C-4DA0-A662-BCCC7F2F68C6">相关话题</p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE">REMOVE_TRACE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29">ADD_TRACE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482">LOG_TRACES</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-19223209-2593-466D-804E-41B56CC80D2A">RESET_TRACE</a> ”</span></p>
                     <p><a href="../ccapp/tuning-oracle-text.html#CCAPP0500" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2131"></a><div class="props_rev_3"><a id="GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482" name="GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482"></a><h3 id="CCREF-GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482" class="sect3"><span class="enumeration_section">11.8</span> LOG_TRACES</h3>
               <div>
                  <div class="section">
                     <p>使用此过程将所有活动跟踪打印到RDBMS跟踪文件。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482__GUID-226A2E5B-5DE3-4D6D-9599-295ADCB8B6AF">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.LOG_TRACES;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482__GUID-B0143D41-68F6-45DA-8E12-EDA92E25AC4C">笔记</p>
                     <p>此调用不会将跟踪重置为0。</p>
                     <p>跟踪现在转到数据库跟踪文件。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482__GUID-BE7BBA4E-6E1F-41C2-8566-C53BDC134F14">相关话题</p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE">REMOVE_TRACE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-318BA40B-959F-4146-BE0E-3398A72D3265">GET_TRACE_VALUE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29">ADD_TRACE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-19223209-2593-466D-804E-41B56CC80D2A">RESET_TRACE</a> ”</span></p>
                     <p><a href="../ccapp/tuning-oracle-text.html#CCAPP0500" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2132"></a><div class="props_rev_3"><a id="GUID-B3FE1FAC-A174-4853-9280-9B4FF693487E" name="GUID-B3FE1FAC-A174-4853-9280-9B4FF693487E"></a><h3 id="CCREF-GUID-B3FE1FAC-A174-4853-9280-9B4FF693487E" class="sect3"><span class="enumeration_section">11.9</span> LOGFILENAME</h3>
               <div>
                  <div class="section">
                     <p>返回当前会话的跟踪文件名。如果未启动日志记录，则会发生错误。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B3FE1FAC-A174-4853-9280-9B4FF693487E__GUID-90F14973-0A1C-497D-98D3-8B71FA05431C">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.LOGFILENAME RETURN VARCHAR2;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B3FE1FAC-A174-4853-9280-9B4FF693487E__GUID-76923B6E-127C-4A98-8AC8-2B6ADF1C899E">返回</p>
                     <p>日志文件名</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B3FE1FAC-A174-4853-9280-9B4FF693487E__GUID-52CF13B6-5BFA-40DB-8F49-B55AAB09BE5E">例</p><pre class="oac_no_warn" dir="ltr">declare logname varchar2（100）; begin logname：= CTX_OUTPUT.LOGFILENAME; dbms_output.put_line（'当前日志文件是：'|| logname）;结束;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2133"></a><div class="props_rev_3"><a id="GUID-9728844A-E560-406F-8738-1B0A6CA7BA4A" name="GUID-9728844A-E560-406F-8738-1B0A6CA7BA4A"></a><h3 id="CCREF-GUID-9728844A-E560-406F-8738-1B0A6CA7BA4A" class="sect3"><span class="enumeration_section">11.10</span> REMOVE_EVENT</h3>
               <div>
                  <div class="section">
                     <p>使用此过程删除通过<code class="codeph">ctx_output.add_event</code>添加的事件。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9728844A-E560-406F-8738-1B0A6CA7BA4A__GUID-832A6DFB-A210-4337-83A2-9A333F53D807">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.REMOVE_EVENT（NUMBER中的事件）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-9728844A-E560-406F-8738-1B0A6CA7BA4A__GUID-E6054D6D-53FC-49A8-854E-F61695BEF211"><!-- --></a>事件</dt>
                        <dd>
                           <p>指定要从日志中删除的索引事件的类型。您可以删除以下事件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">CTX_OUTPUT.EVENT_INDEX_PRINT_ROWID</code> ，记录索引后每行的rowid。这对于调试失败的索引操作很有用。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">CTX_OUTPUT.EVENT_OPT_PRINT_TOKEN</code> ，在优化时打印每个标记。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">CTX_OUTPUT.EVENT_INDEX_PRINT_TOKEN</code> ，在索引时打印每个标记。
                                 </p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9728844A-E560-406F-8738-1B0A6CA7BA4A__GUID-3A6629B2-5676-4C28-930B-C5EAC606870F">例</p><pre class="oac_no_warn" dir="ltr">开始</pre><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.REMOVE_EVENT（CTX_OUTPUT.EVENT_INDEX_PRINT_ROWID）;</pre><pre class="oac_no_warn" dir="ltr">结束;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9728844A-E560-406F-8738-1B0A6CA7BA4A__GUID-8D3C1156-70D3-4001-9584-A1C91D3958FD">相关话题</p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-5027B452-DE9C-4A19-8BC1-B9EED0C2DD2A">ADD_EVENT</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2134"></a><div class="props_rev_3"><a id="GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE" name="GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE"></a><h3 id="CCREF-GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE" class="sect3"><span class="enumeration_section">11.11</span> REMOVE_TRACE</h3>
               <div>
                  <div class="section">
                     <p>使用此过程禁用跟踪。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE__GUID-AEFDFFA1-43AC-4625-8743-422652AA987C">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.REMOVE_TRACE（trace_id BINARY_INTEGER）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE__GUID-B57243E8-A2D7-4891-A781-B0CEAEA52CF4"><!-- --></a> trace_id</dt>
                        <dd>
                           <p>指定要禁用的跟踪的ID。有关可能的值，请<a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29__CHDCBEFB" title="此表显示可用的跟踪。">参见表11-1</a> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE__GUID-57D8E4D6-3311-46D8-8C3F-C7A4C8199BD7">笔记</p>
                     <p>如果尚未启用跟踪，则会引发错误。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE__GUID-9F13C6C0-0F49-4983-A4C7-DAA531468436">相关话题</p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-318BA40B-959F-4146-BE0E-3398A72D3265">GET_TRACE_VALUE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29">ADD_TRACE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482">LOG_TRACES</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-19223209-2593-466D-804E-41B56CC80D2A">RESET_TRACE</a> ”</span></p>
                     <p><a href="../ccapp/tuning-oracle-text.html#CCAPP0500" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2135"></a><div class="props_rev_3"><a id="GUID-19223209-2593-466D-804E-41B56CC80D2A" name="GUID-19223209-2593-466D-804E-41B56CC80D2A"></a><h3 id="CCREF-GUID-19223209-2593-466D-804E-41B56CC80D2A" class="sect3"><span class="enumeration_section">11.12</span> RESET_TRACE</h3>
               <div>
                  <div class="section">
                     <p>使用此过程清除跟踪（即将其重置为0）。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-19223209-2593-466D-804E-41B56CC80D2A__GUID-5A608465-68C9-47FB-856A-CFA4FB3CFA9B">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.RESET_TRACE（trace_id BINARY_INTEGER）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-19223209-2593-466D-804E-41B56CC80D2A__GUID-FA46ED80-9296-47DB-98F4-9E9ECEC182BD"><!-- --></a> trace_id</dt>
                        <dd>
                           <p>指定要重置的跟踪的ID。有关可能的值，请<a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29__CHDCBEFB" title="此表显示可用的跟踪。">参见表11-1</a> 。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-19223209-2593-466D-804E-41B56CC80D2A__GUID-64781D2F-8826-43AA-AD3F-D36ABC7B9A7B">笔记</p>
                     <p>如果尚未启用跟踪，则会引发错误。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-19223209-2593-466D-804E-41B56CC80D2A__GUID-B5CDF729-10D1-45A2-B642-75B6103BDDC4">相关话题</p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-68CFF26C-A2FA-4C2B-A4C7-0F24D28AAAFE">REMOVE_TRACE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-318BA40B-959F-4146-BE0E-3398A72D3265">GET_TRACE_VALUE</a> ”</span></p>
                     <p> <span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-9088703A-984F-4604-8DE5-44EC0F073F29">ADD_TRACE</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-15FA51E6-CB53-4A5C-9457-22628E9AA482">LOG_TRACES</a> ”</span></p>
                     <p><a href="../ccapp/tuning-oracle-text.html#CCAPP0500" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2136"></a><div class="props_rev_3"><a id="GUID-390A846F-8449-4D3D-BD76-286F653B0BAD" name="GUID-390A846F-8449-4D3D-BD76-286F653B0BAD"></a><h3 id="CCREF-GUID-390A846F-8449-4D3D-BD76-286F653B0BAD" class="sect3"><span class="enumeration_section">11.13</span> START_LOG</h3>
               <div>
                  <div class="section">
                     <p>开始记录索引和文档服务请求。从Oracle Database 12c第2版（12.2）开始，索引日志将写入数据库跟踪文件。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-390A846F-8449-4D3D-BD76-286F653B0BAD__GUID-7077EBDB-D8BE-4B1A-8EF3-E9D6F04DF7E3">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.START_LOG（varchar2中的logfile，默认情况下覆盖为true）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-390A846F-8449-4D3D-BD76-286F653B0BAD__GUID-8FF8C589-E290-4EC2-9470-019D79C84559"><!-- --></a></dt>
                        <dd>
                           <p>指定日志文件的名称。从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略logfile参数。现在，日志将附加到数据库跟踪文件中。使用字典视图（如<code class="codeph">V$DIAG_INFO</code>和<code class="codeph">V$PROCESS</code>查找当前会话的跟踪文件或每个Oracle数据库进程的跟踪文件的路径。
                           </p>
                           <p>自动诊断存储库命令解释程序（ADRCI）实用程序也可用于访问跟踪文件。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-390A846F-8449-4D3D-BD76-286F653B0BAD__GUID-8F106C02-3225-4D84-9233-E1DD73B600CD"><!-- --></a>覆盖</dt>
                        <dd>
                           <p>指定是否要覆盖或附加到<span class="italic">logfile</span>指定的原始查询日志文件（如果已存在）。从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略此参数。默认情况下，所有日志都附加到数据库跟踪文件中。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-390A846F-8449-4D3D-BD76-286F653B0BAD__GUID-BBFFBF0E-35E3-4B62-B6C6-D9586F2091DC">例子</p><pre class="oac_no_warn" dir="ltr">开始CTX_OUTPUT.START_LOG（'mylog1'）;结束;</pre><p>要查看索引日志，请在视图<code class="codeph">V$DIAG_TRACE_FILE_CONTENTS</code>搜索<code class="codeph">COMPONENT_NAME='CONTEXT_INDEX'</code> ：</p><pre class="pre codeblock"><code>从V $ DIAG_TRACE_FILE_CONTENTS中选择PAYLOAD，其中COMPONENT_NAME ='CONTEXT_INDEX'和TRACE_FILENAME = <span class="italic">trc_name</span> ;</code></pre><p>要查看查询日志，请在视图<code class="codeph">V$DIAG_TRACE_FILE_CONTENTS</code>搜索<code class="codeph">COMPONENT_NAME='CONTEXT_QUERY'</code> ：</p><pre class="pre codeblock"><code>从V $ DIAG_TRACE_FILE_CONTENTS中选择PAYLOAD，其中COMPONENT_NAME ='CONTEXT_QUERY'和TRACE_FILENAME = <span class="italic">trc_name</span> ;</code></pre><p>并行查询（PQ）从站具有以下类型的跟踪文件名： <code class="codeph">SID_</code> <code class="codeph"><span class="codeinlineitalic">pxxx</span></code> <code class="codeph">_PID.trc</code> 。要查看并行从站中的跟踪：</p><pre class="pre codeblock"><code>从V $ DIAG_TRACE_FILE_CONTENTS中选择TRACE_FILENAME，PAYLOAD，其中COMPONENT_NAME ='CONTEXT_INDEX'和TRACE_FILENAME LIKE'％p00％';</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-390A846F-8449-4D3D-BD76-286F653B0BAD__GUID-83E74AD0-4690-4199-ABF7-A6DD7DFC6779">笔记</p>
                     <p>如果启用了PDB锁定配置文件<code class="codeph">CTX_LOGGING</code>则不会写入任何日志。
                     </p>
                     <p>不必<code class="codeph">on</code>即可开始跟踪，反之亦然。
                     </p>
                     <p>记录与会话相关联 - 它可以记录在单个会话中发生的操作，相反，不能跨会话进行测量。</p>
                     <p><code class="codeph">CTX_OUTPUT.START_LOG</code>中使用的文件名限制为以下字符：字母数字，减号，句点，空格，哈希，下划线，单引号和双引号。文件名中的任何其他字符都会引发错误。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2137"></a><div class="props_rev_3"><a id="GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988" name="GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988"></a><h3 id="CCREF-GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988" class="sect3"><span class="enumeration_section">11.14</span> START_QUERY_LOG</h3>
               <div>
                  <div class="section">
                     <p>开始记录查询请求。从Oracle Database 12c第2版（12.2）开始，查询日志将写入数据库跟踪文件。</p>
                     <p>使用<code class="codeph">CTX_OUTPUT.END_QUERY_LOG</code>停止记录查询。使用<code class="codeph">CTX_REPORT.QUERY_LOG_SUMMARY</code>获取有关已记录查询的报告，例如哪些查询成功返回的次数最多。
                     </p>
                     <p>查询日志包括查询字符串，索引名称和查询的时间戳，以及查询是否成功返回命中。在2003年11月11日6:46（当地时间）对<span class="italic">Blues Guitarists</span>短语的成功查询将以以下形式输入查询日志：</p><pre class="oac_no_warn" dir="ltr">&lt;QuerySet&gt; &lt;TimeStamp&gt; 18:46:51 02/04/03 &lt;/ TimeStamp&gt; &lt;IndexName&gt; IDX_SEARCH_TABLE &lt;/ IndexName&gt; &lt;Query&gt; Blues Guitarists &lt;/ Query&gt; &lt;ReturnHit&gt; Yes &lt;/ ReturnHit&gt; &lt;/ QuerySet&gt;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988__GUID-71FAF366-B7A4-46EE-B937-90EE4041B1C1">句法</p><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.START_QUERY_LOG（varchar2中的日志文件，默认情况下覆盖为true）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988__GUID-FAD536C3-CE57-4021-ADAA-0613AA657B3D"><!-- --></a></dt>
                        <dd>
                           <p>指定查询日志文件的名称。从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略<code class="codeph">logfile</code>参数。日志将附加到数据库跟踪文件中。使用字典视图（如<code class="codeph">V$DIAG_INFO</code>和<code class="codeph">V$PROCESS</code>查找当前会话的跟踪文件或每个Oracle数据库进程的跟踪文件的路径。
                           </p>
                           <p>自动诊断存储库命令解释程序（ADRCI）实用程序也可用于访问跟踪文件。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988__GUID-3B658450-7482-4ECC-B4B0-9488CD61AC39"><!-- --></a>覆盖</dt>
                        <dd>
                           <p>指定是否要覆盖或附加到<code class="codeph">logfile</code>指定的原始查询日志文件（如果已存在）。从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，将忽略此参数。默认情况下，所有日志都附加到数据库跟踪文件中。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988__GUID-3DBC1DC1-789D-4A64-9EF5-E873F2D8E400">例</p><pre class="oac_no_warn" dir="ltr">开始</pre><pre class="oac_no_warn" dir="ltr">CTX_OUTPUT.START_QUERY_LOG（ 'mylog1'）; &lt;get queries&gt; CTX_OUTPUT.END_QUERY_LOG;</pre><pre class="oac_no_warn" dir="ltr">结束;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988__GUID-60DCA200-4887-41FA-B86E-D1BED12B009A">笔记</p>
                     <p>如果启用了PDB锁定配置文件<code class="codeph">CTX_LOGGING</code>则不会写入任何日志。
                     </p>
                     <p><code class="codeph">CTX_OUTPUT.START_QUERY_LOG</code>中使用的文件名限制为以下字符：字母数字，减号，句点，空格，哈希，下划线，单引号和双引号。文件名中的任何其他字符都会引发错误。
                     </p>
                     <p>记录与会话相关联 - 它可以记录在单个会话中发生的操作，相反，不能跨会话进行测量。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>