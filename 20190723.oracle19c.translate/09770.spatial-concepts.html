<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database."></meta>
      <meta name="description" content="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database."></meta>
      <title>空间概念</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94799-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="spatial-concepts-usage.html" title="Previous" type="text/html"></link>
      <link rel="next" href="spatial-datatypes-metadata.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="SPATL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="spatial-concepts-usage.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="spatial-datatypes-metadata.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-concepts-usage.html" property="item" typeof="WebPage"><span property="name">概念和使用信息</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">空间概念</li>
            </ol>
            <a id="GUID-67E4037F-C40F-442A-8662-837DD5539784" name="GUID-67E4037F-C40F-442A-8662-837DD5539784"></a><a id="SPATL010"></a>
            
            <h2 id="SPATL-GUID-67E4037F-C40F-442A-8662-837DD5539784" class="sect2"><span class="enumeration_chapter">1</span>空间概念</h2>
         </header>
         <div class="ind">
            <div>
               <div><span>Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。</span></div>
               <p>空间数据表示真实或概念对象的基本位置特征，因为这些对象与它们存在的真实或概念空间相关。</p>
               <p>主要议题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F">什么是Oracle Spatial和Graph？</a><br>Oracle Spatial and Graph（通常称为空间和图形）包括用于空间数据和分析以及物理，逻辑，网络以及社交和语义图形应用程序的高级功能。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-F625B59E-4412-4B3F-9A7E-A5161DD1F5A6">对象关系模型</a><br>Spatial和Graph支持用于表示几何的<span class="bold">对象关系</span>模型。此模型将整个几何图形存储在矢量数据SDO_GEOMETRY的Oracle本机空间数据类型中。</li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-6D0BA4FE-0D15-4D53-8A59-B76C6D9023D8">空间数据简介</a><br>Oracle Spatial and Graph旨在使位置启用的应用程序和地理信息系统（GIS）应用程序的用户更容易，更自然地进行空间数据管理。将空间数据存储在Oracle数据库中后，可以轻松地对其进行操作，检索并与存储在数据库中的所有其他数据相关联。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206">几何类型</a><br><span class="bold">几何</span>是由直线段或圆弧连接的有序顶点序列。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15">数据模型</a><br>Oracle Spatial and Graph中的空间数据模型是一个由元素，几何和层组成的层次结构。图层由几何图形组成，而几何图形又由元素组成。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-79F09397-E9DA-4E91-B154-9ECB327A5809">查询模型</a><br>Spatial和Graph使用<span class="bold">双层查询模型</span>来解析空间查询和空间连接。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC">空间数据的索引</a><br>空间索引功能与Oracle数据库引擎的集成是Spatial and Graph产品的关键特性。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89">空间关系和过滤</a><br>Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244">空间运算符，过程和函数</a><br>Spatial和Graph PL / SQL应用程序编程接口（API）包括几个运算符和许多过程和函数。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4">空间聚合函数</a><br>SQL一直有聚合函数，用于聚合SQL查询的结果。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A">三维空间物体</a><br>Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-DDCFF26D-19E0-41FC-9ADC-F742AB651CB2">天气预报</a><br><span class="bold">地理编码</span>是将地址数据表转换为标准化地址，位置和可能的其他数据的过程。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-1319B328-0F3E-4202-868C-B7435E4FA98F">位置数据丰富</a><br>Oracle Spatial and Graph包含一个地名数据集，其中包含来自HERE的分层地理数据，您可以将其加载到数据库中。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0">Oracle Spatial and Graph中的JSON和GeoJSON支持</a><br>Spatial和Graph支持使用JSON和GeoJSON对象来存储，索引和管理JSON（JavaScript Object Notation）格式的地理数据。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-03E5061C-190F-4465-857C-2344FEAF9814">Oracle Spatial and Graph中的NURBS曲线支持</a><br>Spatial和Graph支持非均匀有理B样条曲线（NURBS）曲线几何。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-D0143C10-296E-4E6F-A3DC-6370313CF53A">Oracle Spatial and Graph提供的Sharded Database支持</a><br>Spatial和Graph支持使用分片数据库技术。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-F721391C-9B12-455F-8D52-DA3CC9496EB1">空间和图形Java应用程序编程接口</a><br>Oracle Spatial and Graph提供了Java应用程序编程接口（API）。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467">空间和图形创建的预定义用户帐户</a><br>在安装过程中，Spatial和Graph会创建具有执行其作业所需的最低权限的用户帐户。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-FFA351D4-F647-4254-B21C-1F50C9D9792E">性能和调优信息</a><br>许多因素都会影响Oracle Spatial和Graph应用程序的性能，例如使用优化程序提示来影响查询执行计划。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-2CFFA9C3-1873-4D93-AE89-746A7E041B65">OGC和ISO合规性</a><br>Oracle Spatial and Graph符合开放地理空间联盟（OGC）简单功能规范1.1.1（文档99-049），从Oracle数据库版本10 <span class="italic">g</span> （版本10.1.0.4）开始。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-365A972C-51C9-4363-B230-FED19D86F213">空间和图表发布（版本）编号</a><br>要检查您正在运行的Spatial和Graph的哪个版本，请使用SDO_VERSION函数。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669">SPATIAL_VECTOR_ACCELERATION系统参数</a><br>要加速空间运算符的性能，建议您通过将SPATIAL_VECTOR_ACCELERATION数据库系统参数设置为值<code class="codeph">TRUE</code>来启用向量性能加速器（VPA）功能。 （此功能和关联的系统参数仅授权由许可的Oracle Spatial和Graph用户使用，参数的默认值为<code class="codeph">FALSE</code> 。）
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6">空间启用表格</a><br>如果您有一个没有SDO_GEOMETRY列的常规Oracle表，但包含与位置相关的信息（例如点的纬度/经度值），则可以通过添加SDO_GEOMETRY列并使用现有（和将来）位置相关来在<span class="italic">空间上启用</span>该表记录中的信息，用于填充SDO_GEOMETRY列值。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-7D60F812-61A2-4AC2-8171-D0E5CB1FE787">移动空间元数据（MDSYS.MOVE_SDO）</a><br>数据库管理员（DBA）可以使用MDSYS.MOVE_SDO过程将所有Oracle Spatial和Graph元数据表移动到指定的目标表空间。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-E084ADA0-6926-4BD6-B06B-D81F71CD405B">空间应用硬件要求注意事项</a><br>本主题讨论了一些影响使用Oracle Spatial and Graph的应用程序所需的磁盘存储空间和CPU功率量的一般准则。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-5ECB6265-8891-487A-B476-B15896AA469E">空间和图形错误消息</a><br>Spatial和Graph有一组错误消息。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-8EAC36B2-11E8-48FD-A5D0-65C2A8E73B70">空间例子</a><br>Oracle Spatial and Graph提供了一些示例，您可以使用这些示例来强化您的学习并创建用于编码某些操作的模型。
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-28BF04E9-D9EC-474E-B6C0-40231A6CCF99">用于空间和图形以及相关功能的自述文件</a><br><code class="codeph">README.txt</code>文件补充了几本手册中的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="spatial-concepts-usage.html#GUID-EEEED709-34A1-46EA-9AF3-869FD06E3076">概念和使用信息</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL440"></a><div class="props_rev_3"><a id="GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F" name="GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F"></a><h3 id="SPATL-GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F" class="sect3"><span class="enumeration_section">1.1</span>什么是Oracle Spatial和Graph？
               </h3>
               <div>
                  <p>Oracle Spatial and Graph（通常称为空间和图形）包括用于空间数据和分析以及物理，逻辑，网络以及社交和语义图形应用程序的高级功能。</p>
                  <p>空间特征提供了一个模式和函数，便于Oracle数据库中空间特征集合的存储，检索，更新和查询。Spatial和Graph包含以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a id="d9079e372" class="indexterm-anchor"></a>一种模式（MDSYS），规定了支持的几何数据类型的存储，语法和语义</p>
                     </li>
                     <li>
                        <p>空间索引机制</p>
                     </li>
                     <li>
                        <p>用于执行感兴趣区域查询，空间连接查询和其他空间分析操作的运算符，函数和过程</p>
                     </li>
                     <li>
                        <p>实用程序和调优操作的功能和过程</p>
                     </li>
                     <li>
                        <p>用于处理拓扑中的节点，边和面的数据的拓扑数据模型（在<a href="../topol/topology-data-model-overview.html#TOPOL100" target="_blank"><span class="italic">Oracle空间和图形拓扑数据模型和网络数据模型图开发人员指南中描述</span></a> ）。
                        </p>
                     </li>
                     <li>
                        <p>用于表示在图中建模为节点和链接（顶点和边）的能力或对象的网络数据模型（在<a href="../topol/network-data-model-graph-overview.html#TOPOL700" target="_blank"><span class="italic">Oracle空间和图形拓扑数据模型和网络数据模型图开发人员指南中描述</span></a> ）。
                        </p>
                     </li>
                     <li>
                        <p>GeoRaster，一种允许您存储，索引，查询，分析和提供GeoRaster数据的功能，即栅格图像和网格化数据及其相关元数据（在<a href="../geors/georaster-overview-and-concepts.html#GEORS100" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster开发人员指南中有描述</span></a> ）。
                        </p>
                     </li>
                  </ul>
                  <p>空间特征的空间分量是其在某些坐标空间中的形状的几何表示。这被称为<span class="bold">几何形状</span> 。
                  </p>
                  <div class="infoboxnote" id="GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F__GUID-CE6BEFB3-588E-4597-9C25-07D49DD8856B">
                     <p class="notep1">注意：</p>
                     <p>不要修改MDSYS模式下的任何包，表或其他对象。（唯一的例外是如果您需要创建用户定义的坐标参考系统，如<a href="coordinate-systems-concepts.html#GUID-C199908B-F3D5-41F7-8F60-E8CD3BEA7E29" title="如果Oracle提供的坐标系不足以满足您的需求，您可以创建用户定义的坐标参考系统。">创建用户定义的坐标参考系统中所述</a> 。）
                     </p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL441"></a><div class="props_rev_3"><a id="GUID-F625B59E-4412-4B3F-9A7E-A5161DD1F5A6" name="GUID-F625B59E-4412-4B3F-9A7E-A5161DD1F5A6"></a><h3 id="SPATL-GUID-F625B59E-4412-4B3F-9A7E-A5161DD1F5A6" class="sect3"><span class="enumeration_section">1.2</span>对象关系模型</h3>
               <div>
                  <p>Spatial和Graph支持用于表示几何的<span class="bold">对象关系</span>模型。此模型将整个几何图形存储在矢量数据SDO_GEOMETRY的Oracle本机空间数据类型中。</p>
                  <p>Oracle表可以包含一个或多个SDO_GEOMETRY列。对象关系模型对应于地理空间特征的Open GIS ODBC / SQL规范中的空间特征表的“SQL with Geometry Types”实现。</p>
                  <p>对象关系模型提供的好处包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>支持许多几何类型，包括圆弧，圆，复合多边形，复合线串和优化矩形</p>
                     </li>
                     <li>
                        <p>易于在创建和维护索引以及执行空间查询时使用</p>
                     </li>
                     <li>
                        <p>Oracle数据库的索引维护</p>
                     </li>
                     <li>
                        <p>在单列中建模的几何图形</p>
                     </li>
                     <li>
                        <p>最佳表现</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL442"></a><div class="props_rev_3"><a id="GUID-6D0BA4FE-0D15-4D53-8A59-B76C6D9023D8" name="GUID-6D0BA4FE-0D15-4D53-8A59-B76C6D9023D8"></a><h3 id="SPATL-GUID-6D0BA4FE-0D15-4D53-8A59-B76C6D9023D8" class="sect3"><span class="enumeration_section">1.3</span>空间数据简介</h3>
               <div>
                  <p>Oracle Spatial and Graph旨在使位置启用的应用程序和地理信息系统（GIS）应用程序的用户更容易，更自然地进行空间数据管理。将空间数据存储在Oracle数据库中后，可以轻松地对其进行操作，检索并与存储在数据库中的所有其他数据相关联。</p>
                  <p>可以在路线图中看到空间数据的常见示例。路线图是一个二维对象，包含可以表示城市，道路和政治边界（如州或省）的点，线和多边形。路线图是地理信息的可视化。地球表面上存在的城市，道路和政治边界的位置被投影到二维显示器或纸上，保留了渲染对象的相对位置和相对距离。</p>
                  <p>指示这些渲染对象的地球位置（例如经度和纬度）的数据是空间数据。渲染地图时，此空间数据用于在二维纸上投影对象的位置。GIS通常用于存储，检索和渲染此地球相对空间数据。</p>
                  <p>可以使用空间和图形存储的空间数据类型（除GIS数据之外）包括来自计算机辅助设计（CAD）和计算机辅助制造（CAM）系统的数据。CAD / CAM系统不是在地理范围内的物体上操作，而是在较小规模上工作，例如用于汽车发动机或印刷电路板。</p>
                  <p>这些系统之间的差异在于数据的大小和精度，而不是数据的复杂性。系统可能都涉及相同数量的数据点。在地理范围内，桥梁的位置可以变化十分之几英寸而不会对道路施工人员造成任何明显的问题，而如果发动机活塞的直径偏离十分之几英寸，则发动机将不跑。</p>
                  <p>此外，数据的复杂性与所表示区域的绝对比例无关。例如，印刷电路板可能在其表面上蚀刻了数千个物体，其中包含的小区域信息可能比道路建设者的蓝图上显示的细节更复杂。</p>
                  <p>这些应用程序都存储，检索，更新或查询具有非空间和空间属性的某些功能集合。非空间属性的示例是name，soil_type，landuse_classification和part_number。空间属性是坐标几何，或特征形状的基于矢量的表示。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL444"></a><a id="SPATL443"></a><div class="props_rev_3"><a id="GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206" name="GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206"></a><h3 id="SPATL-GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206" class="sect3"><span class="enumeration_section">1.4</span>几何类型</h3>
               <div>
                  <p><span class="bold">几何</span>是由直线段或圆弧连接的有序顶点序列。
                  </p>
                  <p>几何的语义由其类型决定。Spatial和Graph支持几种基本类型，以及由这些类型的集合组成的几何，包括二维：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>点和点集群</p>
                     </li>
                     <li>
                        <p>线串</p>
                     </li>
                     <li>
                        <p><span class="italic">n</span>点多边形</p>
                     </li>
                     <li>
                        <p>弧线串（所有弧都生成为圆弧。）</p>
                     </li>
                     <li>
                        <p>弧形多边形</p>
                     </li>
                     <li>
                        <p>复合多边形</p>
                     </li>
                     <li>
                        <p>复合线串</p>
                     </li>
                     <li>
                        <p>界</p>
                     </li>
                     <li>
                        <p>优化的矩形</p>
                     </li>
                  </ul>
                  <p><span class="bold">二维点</span>是由两个纵坐标X和Y组成的元素，通常对应于经度和纬度。<span class="bold">线串</span>由一对或多对定义线段的点组成。<span class="bold">多边形</span>由连接的线串组成，形成一个闭环，并隐含多边形的面积。例如，点可能表示建筑物位置，线串可能表示道路或飞行路径，而多边形可能表示州，城市，分区或城市街区。
                  </p>
                  <p><a id="d9079e698" class="indexterm-anchor"></a><a id="d9079e700" class="indexterm-anchor"></a><a id="d9079e704" class="indexterm-anchor"></a>虽然支持自交叉线，但不支持自交叉多边形。如果线串自身穿过，则它不会变成多边形。自交线字符串没有任何隐含区域。
                  </p>
                  <p>下图说明了几何类型。</p>
                  <div class="figure" id="GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206__I885654">
                     <p class="titleinfigure">图1-1几何类型</p><img src="img/geom_types.gif" alt="下面是图1-1的描述" title="下面是图1-1的描述" longdesc="img_text/geom_types.html"><br><a href="img_text/geom_types.html">“图1-1几何类型”的描述</a></div>
                  <!-- class="figure" -->
                  <p>Spatial和Graph还支持三维和四维几何类型的存储和索引，其中三个或四个坐标用于定义所定义对象的每个顶点。有关支持三维几何的信息，请参阅<a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL445"></a><div class="props_rev_3"><a id="GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" name="GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15"></a><h3 id="SPATL-GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" class="sect3"><span class="enumeration_section">1.5</span>数据模型</h3>
               <div>
                  <p>Oracle Spatial and Graph中的空间数据模型是一个由元素，几何和层组成的层次结构。图层由几何图形组成，而几何图形又由元素组成。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-F63D217A-2917-4EFA-B6CF-CC599B4C306A">元件</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-CB1DDE04-4572-4F1D-801B-D556B6F43BD6">几何</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-5907B2EA-8ECB-4364-A630-369C0667C287">层</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF">坐标系</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL446"></a><div class="props_rev_3"><a id="GUID-F63D217A-2917-4EFA-B6CF-CC599B4C306A" name="GUID-F63D217A-2917-4EFA-B6CF-CC599B4C306A"></a><h4 id="SPATL-GUID-F63D217A-2917-4EFA-B6CF-CC599B4C306A" class="sect4"><span class="enumeration_section">1.5.1</span>元素</h4>
                  <div>
                     <p><span class="bold">元素</span>是几何的基本构建块。支持的空间元素类型是点，线串和多边形。例如，元素可以模拟星座（点群），道路（线串）和县边界（多边形）。元素中的每个坐标都存储为X，Y对。复杂多边形的外环和零个或多个内环（孔）被认为是单个元件。
                     </p>
                     <p><span class="bold">点数据</span>由一个坐标组成。<span class="bold">线数据</span>由表示元素线段的两个坐标组成。<span class="bold">多边形数据</span>由坐标对值组成， <span class="bold">多边形的</span>每个线段都有一个顶点对。坐标按多边形顺序定义（外部多边形环逆时针，内部多边形环顺时针）。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="Oracle Spatial and Graph中的空间数据模型是一个由元素，几何和层组成的层次结构。图层由几何图形组成，而几何图形又由元素组成。">数据模型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL447"></a><div class="props_rev_3"><a id="GUID-CB1DDE04-4572-4F1D-801B-D556B6F43BD6" name="GUID-CB1DDE04-4572-4F1D-801B-D556B6F43BD6"></a><h4 id="SPATL-GUID-CB1DDE04-4572-4F1D-801B-D556B6F43BD6" class="sect4"><span class="enumeration_section">1.5.2</span>几何</h4>
                  <div>
                     <p><span class="bold">几何</span> （或<span class="bold">几何对象</span> ）是空间要素的表示，建模为有序的基本元素集。几何可以由单个元素组成，该元素是受支持的基元类型之一的实例，或者是同构或异构元素集合。多面体，例如用于表示一组岛的多面体，是均匀的集合。异构集合是元素具有不同类型的集合，例如，点和多边形。
                     </p>
                     <p>几何的一个例子可能描述城镇中的可建造土地。这可以表示为带孔的多边形，其中水或分区阻止构造。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="Oracle Spatial and Graph中的空间数据模型是一个由元素，几何和层组成的层次结构。图层由几何图形组成，而几何图形又由元素组成。">数据模型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL448"></a><div class="props_rev_3"><a id="GUID-5907B2EA-8ECB-4364-A630-369C0667C287" name="GUID-5907B2EA-8ECB-4364-A630-369C0667C287"></a><h4 id="SPATL-GUID-5907B2EA-8ECB-4364-A630-369C0667C287" class="sect4"><span class="enumeration_section">1.5.3</span>层</h4>
                  <div>
                     <p><span class="bold">图层</span>是具有相同属性集的几何图形集合。例如，GIS中的一个层可能包含地形特征，而另一个层描述了人口密度，第三个层描述了该区域中的道路和桥梁网络（线和点）。每个图层的几何和相关的空间索引都存储在标准表的数据库中。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="Oracle Spatial and Graph中的空间数据模型是一个由元素，几何和层组成的层次结构。图层由几何图形组成，而几何图形又由元素组成。">数据模型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL449"></a><div class="props_rev_3"><a id="GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF" name="GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF"></a><h4 id="SPATL-GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF" class="sect4"><span class="enumeration_section">1.5.4</span>坐标系</h4>
                  <div>
                     <p><span class="bold">坐标系</span> （也称为<span class="italic">空间参照系</span> ）是将坐标分配给位置并在这些坐标组之间建立关系的手段。它使得一组坐标的解释成为现实世界空间中位置的表示。
                     </p>
                     <p>任何空间数据都有与之关联的坐标系。坐标系可以进行<span class="italic">地理参考</span> （与地球的特定表示有关）或不进行地理参考（即笛卡尔，与地球的特定表示无关）。如果坐标系是地理参考的，则它具有与之关联的默认<span class="italic">测量单位</span> （例如米），但您可以使空间和图形自动以另一个指定单位（例如英里）返回结果。
                     </p>
                     <p>空间数据可以与笛卡尔，大地（地理），投影或局部坐标系相关联：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d9079e1137" class="indexterm-anchor"></a><a id="d9079e1139" class="indexterm-anchor"></a> <span class="bold">笛卡尔坐标</span>是沿着所表示的二维或三维空间中的垂直轴测量来自定义原点的点的位置的坐标。
                           </p>
                           <p>如果坐标系未与几何显式关联，则假定为笛卡尔坐标系。</p>
                        </li>
                        <li>
                           <p><a id="d9079e1150" class="indexterm-anchor"></a><a id="d9079e1152" class="indexterm-anchor"></a><a id="d9079e1156" class="indexterm-anchor"></a><a id="d9079e1160" class="indexterm-anchor"></a> <span class="bold">大地坐标</span> （有时称为<span class="italic">地理坐标</span> ）是角坐标（经度和纬度），与球面极坐标密切相关，并且相对于特定的地球大地测量数据定义。（一个<a id="d9079e1170" class="indexterm-anchor"></a><a id="d9079e1172" class="indexterm-anchor"></a>大地测量数据是一种表示地球图形的方法，是大地坐标系统的参考。）
                           </p>
                        </li>
                        <li>
                           <p><a id="d9079e1179" class="indexterm-anchor"></a><a id="d9079e1181" class="indexterm-anchor"></a> <span class="bold">投影坐标</span>是平面笛卡尔坐标，是通过执行从地球表面上的点到平面的数学映射而得到的。有许多这样的数学映射，每个映射都用于特定目的。
                           </p>
                        </li>
                        <li>
                           <p><a id="d9079e1190" class="indexterm-anchor"></a><a id="d9079e1192" class="indexterm-anchor"></a> <span class="bold">局部坐标</span>是非地球（非地理参考）坐标系中的笛卡尔坐标。局部坐标系统通常用于CAD应用程序和本地调查。
                           </p>
                        </li>
                     </ul>
                     <p>当对几何执行操作时，空间和图形使用笛卡尔或曲线计算模型，适用于与空间数据相关联的坐标系。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="如果地理参考坐标系（SDO_SRID值）与输入几何或几何相关联，则涉及测量的几何函数允许可选单位参数指定指定距离或区域的测量单位。">测量支持单位</a></li>
                           <li><a href="coordinate-systems-concepts.html#GUID-C3573533-1E3E-42BC-9C43-45AA09EDE150" title="本章详细介绍了Oracle Spatial and Graph坐标系支持。">坐标系（空间参考系统）</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="Oracle Spatial and Graph中的空间数据模型是一个由元素，几何和层组成的层次结构。图层由几何图形组成，而几何图形又由元素组成。">数据模型</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL450"></a><div class="props_rev_3"><a id="GUID-7469388B-6D23-4294-904F-78CA3B7191D3" name="GUID-7469388B-6D23-4294-904F-78CA3B7191D3"></a><h4 id="SPATL-GUID-7469388B-6D23-4294-904F-78CA3B7191D3" class="sect4"><span class="enumeration_section">1.5.5</span>容忍度</h4>
                  <div>
                     <p>容差用于将精度水平与空间数据相关联。<span class="bold">容差</span>反映了<span class="italic">两个点可以分开</span>的<span class="italic">距离，并且仍然被认为是相同的</span> （例如，为了适应舍入误差）。公差值必须是大于零的正数。值的重要性取决于空间数据是否与大地坐标系相关联。（大地测量和其他类型的坐标系中描述了<a href="spatial-concepts.html#GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF">坐标系</a> 。）
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于大地测量数据（例如由经度和纬度坐标识别的数据），公差值是米数。例如，公差值为10表示公差为10米。</p>
                        </li>
                        <li>
                           <p>对于非大地测量数据，公差值是与与数据相关联的坐标系相关联的单位数。例如，如果测量单位为英里，则公差值0.005表示公差为0.005（即1/200）英里（约26英尺或7.9米），公差值为2表示公差为2英里。</p>
                        </li>
                     </ul>
                     <p>在这两种情况下，公差值越小，与数据相关联的精度就越高。</p>
                     <p>对于大地测量和投影数据，公差值应小于10。此外，确保几何在指定的公差范围内有效。</p>
                     <p>对于具有16位或更多精度位数的几何，空间和图形布尔运算（例如<a href="SDO_GEOM-reference.html#GUID-35318AFF-1981-4A8B-BA8A-D4E8272E86AB">SDO_GEOM.SDO_UNION</a>和<a href="SDO_GEOM-reference.html#GUID-6191E200-BFBF-4D97-A9B2-92846DBF7175">SDO_GEOM.SDO_INTERSECTION</a> ）和<a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a>函数可能会因浮点运算精度的损失而产生不一致的结果。精度的位数计算如下例所示：如果公差设置为0.0000000005且坐标在十进制左边有6位（例如，123456.4321），则精度为10 + 6位（16）。在这种情况下，最好使用较大的公差值（小数点后的前导零较少），以使用空间操作获得一致的结果。
                     </p>
                     <div class="infoboxnote" id="GUID-7469388B-6D23-4294-904F-78CA3B7191D3__GUID-ECD21A1A-1B6E-48C6-9756-DDBCB2CF28E0">
                        <p class="notep1">注意：</p>
                        <p>当计算中使用的位数大于15时，浮点运算往往会失去精度，因此请确保为计算指定的位数小于15。例如，如果数字是123456.789且容差是10E-10，那么这实际上意味着16（10 + 6）位精度，超过建议的15。</p>
                     </div>
                     <p>在两种情况下指定公差值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在图层的几何元数据定义中</p>
                        </li>
                        <li>
                           <p>作为某些功能的输入参数</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="spatial-concepts.html#GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233">图层几何元数据的容差</a><br></li>
                        <li class="ulchildlink"><a href="spatial-concepts.html#GUID-929DAEEC-EBE2-4BB6-9B51-85E833F9D0D6">容差作为输入参数</a><br></li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C">具有LRS函数的容差值</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="Oracle Spatial and Graph中的空间数据模型是一个由元素，几何和层组成的层次结构。图层由几何图形组成，而几何图形又由元素组成。">数据模型</a></p>
                        </div>
                     </div>
                  </div><a id="SPATL451"></a><div class="props_rev_3"><a id="GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233" name="GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233"></a><h5 id="SPATL-GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233" class="sect5"><span class="enumeration_section">1.5.5.1</span>图层几何元数据的容差</h5>
                     <div>
                        <p>层的尺寸信息包括公差值。具体来说，xxx_SDO_GEOM_METADATA视图的DIMINFO列（在<a href="spatial-datatypes-metadata.html#GUID-483D9FB7-AEC1-433C-A2AF-D0FE3018CDCF">DIMINFO中</a>描述）包含每个维度的SDO_TOLERANCE值，并且每个维度的值应该相同。
                        </p>
                        <p>如果函数接受可选的<code class="codeph">tolerance</code>参数且此参数为null或未指定，则使用该层的SDO_TOLERANCE值。使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的示例中的非大地测量数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：插入，索引和查询空间数据</a> ，几何形状<code class="codeph">cola_b</code>和<code class="codeph">cola_d</code>之间的实际距离为0.846049894。如果查询使用<a href="SDO_GEOM-reference.html#GUID-EC93D8DA-F207-460F-A85A-AA50B92385EC">SDO_GEOM.SDO_DISTANCE</a>函数返回<code class="codeph">cola_b</code>和<code class="codeph">cola_d</code>之间的距离，并且未指定<code class="codeph">tolerance</code>参数值，则结果取决于图层的SDO_TOLERANCE值。例如：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果图层的SDO_TOLERANCE值为0.005，则此查询返回.846049894。</p>
                           </li>
                           <li>
                              <p>如果图层的SDO_TOLERANCE值为0.5，则此查询返回0。</p>
                              <p>因为空间和图形首先构造围绕要考虑的每个几何的公差值（0.5）的虚构缓冲区，并且在这种情况下<code class="codeph">cola_b</code>和<code class="codeph">cola_d</code>周围的缓冲区重叠，因此出现零结果。（如果考虑的两个几何具有不同的公差值，则较高的值用于虚拟缓冲区。）
                              </p>
                           </li>
                        </ul>
                        <p>因此，您可以采用两种方法之一为层选择SDO_TOLERANCE值：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>该值可以反映查询对象之间距离的所需精度级别。例如，如果两个相距0.8个单位的非大地测量几何图形应视为已分隔，请指定较小的SDO_TOLERANCE值，例如0.05或更小。</p>
                           </li>
                           <li>
                              <p>该值可以反映与图层中的几何关联的值的精度。例如，如果非大地测量图层中的所有几何图形都是使用整数定义的，并且如果两个相距0.8个单位的对象不应视为已分隔，则SDO_TOLERANCE值为0.5是合适的。要在任何查询中获得更高的精度，必须通过指定<code class="codeph">tolerance</code>参数来覆盖默认值。
                              </p>
                           </li>
                        </ul>
                        <p>对于非大地测量数据，第二种情况的大多数实例（图层中几何图形的精度）遵循的准则是：在几何定义中采用最高精度级别，并在下一级别使用.5作为SDO_TOLERANCE值。例如，如果使用整数定义几何（如<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例</a>中的简化示例<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：插入，索引和查询空间数据</a> ），则适当的值为0.5;但是，如果使用最多四位小数（例如，31.2587）的数字定义几何，则适当的值为0.00005。
                        </p>
                        <div class="infoboxnote" id="GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233__GUID-90C051F0-5A6D-4270-A90A-C306340A9F28">
                           <p class="notep1">注意：</p>
                           <p>如果几何图形包含任何点的任何多边形，使得面对面之间的距离小于建议的公差值，则不应使用此指南。确保公差值小于任何多边形中任意两边之间的最短距离。</p>
                           <p>此外，如果在插入或更新的几何图形中遇到“无效几何体”错误，并且几何图形实际上有效，请考虑增加公差值的精度（例如，将0.00005更改为0.000005）。</p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">容差</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL452"></a><div class="props_rev_3"><a id="GUID-929DAEEC-EBE2-4BB6-9B51-85E833F9D0D6" name="GUID-929DAEEC-EBE2-4BB6-9B51-85E833F9D0D6"></a><h5 id="SPATL-GUID-929DAEEC-EBE2-4BB6-9B51-85E833F9D0D6" class="sect5"><span class="enumeration_section">1.5.5.2</span>容差作为输入参数</h5>
                     <div>
                        <p>许多空间函数接受<code class="codeph">tolerance</code>参数，该参数（如果指定）将覆盖图层的默认公差值（在图层<a href="spatial-concepts.html#GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233">的几何元数据</a>中的<a href="spatial-concepts.html#GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233">公差中进行了</a>解释）。如果两点之间的距离小于或等于公差值，则空间和图表将这两个点视为单个点。因此，容忍度通常反映了用户感知其空间数据的准确度或精确度。
                        </p>
                        <p>例如，假设您想知道哪些餐馆距离您家5公里。还假设Maria's Pizzeria距离您家5.1公里。如果空间数据具有大地坐标系，并且如果您要求， <span class="italic">查找5公里范围内的所有餐厅并使用100</span> （或更高，例如500） <span class="italic">的公差，</span>将包括Maria's Pizzeria，因为5.1公里（5100米）在100米长5公里（5000米）。但是，如果您指定的公差小于100（例如50），则不会包含Maria's Pizzeria。
                        </p>
                        <p>空间函数的容差值通常非常小，尽管每种情况下的最佳值取决于使用或将使用数据的应用程序的类型。另请参阅<a href="spatial-concepts.html#GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233">图层的几何元数据</a>中的<a href="spatial-concepts.html#GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233">公差中</a>的公差准则，并确保所有输入几何都有效。（如果几何数据无效，则空间函数可能无法按预期工作。）
                        </p>
                        <p>如果您明确要使用几何图层的尺寸信息数组中的公差值，并且子程序具有带<code class="codeph">tolerance</code> （或<code class="codeph">tol</code> ）和<code class="codeph">dim</code>参数的单独格式，请使用<code class="codeph">dim</code>格式。在以下示例中，第一个语句使用维信息数组中的容差值，第二个语句指定数字容差值（0.005）：</p><pre class="oac_no_warn" dir="ltr">- 返回cola_a几何体的面积。SELECT c.name，SDO_GEOM.SDO_AREA（c.shape，m.diminfo）FROM cola_markets c，user_sdo_geom_metadata m WHERE m.table_name ='COLA_MARKETS'AND m.column_name ='SHAPE'AND c.name ='cola_a'; SELECT c.name，SDO_GEOM.SDO_AREA（c.shape，0.005）FROM cola_markets c WHERE c.name ='cola_a';</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">容差</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="SPATL454"></a><a id="SPATL453"></a><div class="props_rev_3"><a id="GUID-79F09397-E9DA-4E91-B154-9ECB327A5809" name="GUID-79F09397-E9DA-4E91-B154-9ECB327A5809"></a><h3 id="SPATL-GUID-79F09397-E9DA-4E91-B154-9ECB327A5809" class="sect3"><span class="enumeration_section">1.6</span>查询模型</h3>
               <div>
                  <p>Spatial和Graph使用<span class="bold">双层查询模型</span>来解析空间查询和空间连接。
                  </p>
                  <p><a id="d9079e1658" class="indexterm-anchor"></a>该术语用于指示执行两个不同的操作来解析查询。两个组合运算的输出产生精确的结果集。
                  </p>
                  <p>这两个操作称为<span class="italic">主要</span>和<span class="italic">次要</span>过滤操作。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">主过滤器</span>允许快速选择候选记录以传递到辅助过滤器。主滤波器比较几何近似以降低计算复杂度，并被认为是低成本滤波器。由于主过滤器比较几何近似值，因此它返回精确结果集的超集。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">辅助过滤器</span>将精确计算应用于主过滤器产生的几何。辅助过滤器可以准确回答空间查询。二次过滤操作在计算上很昂贵，但它仅适用于主过滤结果，而不是整个数据集。
                        </p>
                     </li>
                  </ul>
                  <p><a href="spatial-concepts.html#GUID-79F09397-E9DA-4E91-B154-9ECB327A5809__I878085">图1-2</a>说明了主过滤器和辅助过滤器之间的关系。
                  </p>
                  <div class="figure" id="GUID-79F09397-E9DA-4E91-B154-9ECB327A5809__I878085">
                     <p class="titleinfigure">图1-2查询模型</p><img src="img/query.gif" alt="下面是图1-2的描述" title="下面是图1-2的描述" longdesc="img_text/query.html"><br><a href="img_text/query.html">“图1-2查询模型”的说明</a></div>
                  <!-- class="figure" -->
                  <p><a href="spatial-concepts.html#GUID-79F09397-E9DA-4E91-B154-9ECB327A5809__I878085">如图1-2所示</a> ，对大型输入数据集的主过滤操作会产生较小的候选集，该候选集至少包含精确的结果集，并且可能包含更多记录。较小候选集上的二次过滤操作产生精确的结果集。
                  </p>
                  <p>Spatial和Graph使用空间索引来实现主过滤器。Spatial和Graph不需要同时使用主过滤器和辅助过滤器。在某些情况下，仅使用主过滤器就足够了。例如，地图绘制应用程序中的<span class="italic">缩放</span>功能查询与表示可见边界的矩形有任何交互的数据。主过滤器非常快速地返回查询的超集。然后，映射应用程序可以应用剪切例程来显示目标区域。
                  </p>
                  <p>主过滤器的目的是快速创建数据子集并减少二级过滤器的处理负担。因此，主过滤器应尽可能高效（即选择性但快速）。这取决于数据空间索引的特征。</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="indexing-querying-spatial-data.html#GUID-34D74D79-6B6A-4827-B418-A05D3F41103D" title="空间层的结构用于解析空间查询和空间连接。">查询空间数据</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL455"></a><div class="props_rev_3"><a id="GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC" name="GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC"></a><h3 id="SPATL-GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC" class="sect3"><span class="enumeration_section">1.7</span>空间数据索引</h3>
               <div>
                  <p>空间索引功能与Oracle数据库引擎的集成是Spatial and Graph产品的关键特性。</p>
                  <p><a id="d9079e1773" class="indexterm-anchor"></a><a id="d9079e1777" class="indexterm-anchor"></a>与任何其他索引一样，空间索引提供了限制搜索的机制，但在这种情况下，该机制基于空间条件，例如交集和包含。例如，空间索引用于：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在索引数据空间中查找与给定点或感兴趣区域交互的对象（窗口查询）</p>
                     </li>
                     <li>
                        <p>从两个索引数据空间中查找彼此空间相互作用的对象（空间连接）</p>
                     </li>
                  </ul>
                  <p>从版本12.2及更高版本开始，创建和使用空间索引对于使用任何Oracle Spatial和Graph功能不是必需的。但是，强烈建议使用空间索引，在某些情况下，不使用它们会对性能产生负面影响。</p>
                  <p>正在对具有许多工作负载和运营商的空间索引进行测试，并将在可用时记录进一步的结果和建议。</p>
                  <p>以下部分介绍与R树索引相关的概念和选项。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-69A50E50-F713-4E3D-9182-AF3797250B97">R树索引</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2">R树质量</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL457"></a><a id="SPATL458"></a><a id="SPATL456"></a><div class="props_rev_3"><a id="GUID-69A50E50-F713-4E3D-9182-AF3797250B97" name="GUID-69A50E50-F713-4E3D-9182-AF3797250B97"></a><h4 id="SPATL-GUID-69A50E50-F713-4E3D-9182-AF3797250B97" class="sect4"><span class="enumeration_section">1.7.1</span> R-Tree索引</h4>
                  <div>
                     <p><a id="d9079e1871" class="indexterm-anchor"></a><a id="d9079e1877" class="indexterm-anchor"></a>空间R树索引可以索引最多四维的空间数据。R树索引通过单个矩形近似每个几何体，该矩形最小程度地包围几何体（称为最小边界矩形或MBR）， <a href="spatial-concepts.html#GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884362">如图1-3</a>所示。
                     </p>
                     <div class="figure" id="GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884362">
                        <p class="titleinfigure">图1-3 MBR封闭几何图形</p><img src="img/rt_mbr.gif" alt="下面是图1-3的描述" title="下面是图1-3的描述" longdesc="img_text/rt_mbr.html"><br><a href="img_text/rt_mbr.html">“图1-3 MBR封闭几何图形”的说明</a></div>
                     <!-- class="figure" -->
                     <p>对于一个几何图层，R树索引由图层中几何图形的MBR上的层次索引组成， <a href="spatial-concepts.html#GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884377">如图1-4</a>所示。
                     </p>
                     <div class="figure" id="GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884377">
                        <p class="titleinfigure">图1-4 MBR上的R-Tree层次索引</p><img src="img/rt_tree.gif" alt="下面是图1-4的描述" title="下面是图1-4的描述" longdesc="img_text/rt_tree.html"><br><a href="img_text/rt_tree.html">“图1-4 MBR上的R树分层索引”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="spatial-concepts.html#GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884377">图1-4中</a> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="italic">图1</span>至<span class="italic">9</span>是层中的几何形状。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">a</span> ， <span class="italic">b</span> ， <span class="italic">c</span>和<span class="italic">d</span>是R树索引的叶节点，包含几何的最小边界矩形以及指向几何的指针。例如， <span class="italic">a</span>包含几何<span class="italic">1</span>和<span class="italic">2</span>的MBR， <span class="italic">b</span>包含几何<span class="italic">3</span>和<span class="italic">4</span>的MBR，依此类推。
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">A</span>包含<span class="italic">a</span>和<span class="italic">b</span>的MBR， <span class="italic">B</span>包含<span class="italic">c</span>和<span class="italic">d</span>的MBR。
                           </p>
                        </li>
                        <li>
                           <p>根包含<span class="italic">A</span>和<span class="italic">B</span>的MBR（即显示的整个区域）。
                           </p>
                        </li>
                     </ul>
                     <p>R树索引存储在空间索引表中（USER_SDO_INDEX_METADATA视图中的SDO_INDEX_TABLE，在<a href="spatial-datatypes-metadata.html#GUID-154F785A-F706-47E9-9C42-355FBD316295" title="本主题描述包含空间索引数据和元数据的表的结构。">空间索引相关结构中</a>描述）。R树索引还维护一个序列对象（USER_SDO_INDEX_METADATA视图中的SDO_RTREE_SEQ_NAME），以确保可以对索引进行并发用户的同时更新。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC" title="空间索引功能与Oracle数据库引擎的集成是Spatial and Graph产品的关键特性。">空间数据的索引</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL459"></a><div class="props_rev_3"><a id="GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2" name="GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2"></a><h4 id="SPATL-GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2" class="sect4"><span class="enumeration_section">1.7.2</span> R树质量</h4>
                  <div>
                     <p>影响R树索引的大量插入和删除操作可能降低R树结构的质量，这可能对查询性能产生不利影响。</p>
                     <p>R树是一种分层树结构，其节点位于树的不同高度。查询的R树索引结构的性能大致与R树的索引节点的面积和周长成比例。级别0覆盖的区域表示数据几何的最小边界矩形占用的区域，级别1的区域表示叶级R树节点覆盖的区域，依此类推。根（最高级别）区域与级别0区域的原始比率可以根据对表格的更新随时间变化;如果该比率出现下降（即，如果它显着增加），重建索引可能有助于查询的性能。</p>
                     <p>如果<a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a>操作的性能降低，并且如果存在大量影响几何的插入，更新或删除操作，则性能下降可能是由于相关R树索引的质量下降。
                     </p>
                     <p>要重建R树索引，请使用<a href="sql-indexing-spatial-data.html#GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677">ALTER INDEX REBUILD</a>语句。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC" title="空间索引功能与Oracle数据库引擎的集成是Spatial and Graph产品的关键特性。">空间数据的索引</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL461"></a><a id="SPATL462"></a><a id="SPATL463"></a><a id="SPATL460"></a><div class="props_rev_3"><a id="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" name="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89"></a><h3 id="SPATL-GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" class="sect3"><span class="enumeration_section">1.8</span>空间关系和过滤</h3>
               <div>
                  <p>Spatial和Graph使用辅助过滤器来确定数据库中实体之间的空间关系。空间关系基于几何位置。</p>
                  <p>最常见的空间关系基于拓扑和距离。<a id="d9079e2135" class="indexterm-anchor"></a>例如，区域的<span class="italic">边界</span>由一组曲线组成，这些曲线将区域与坐标空间的其余部分分开。<a id="d9079e2143" class="indexterm-anchor"></a>区域的<span class="italic">内部</span>由该区域中不在其边界上的所有点组成。鉴于此，如果两个区域共享边界的一部分但不在其内部共享任何点，则称这两个区域相邻。
                  </p>
                  <p>两个空间对象之间的距离是它们中任何点之间的最小距离。如果两个物体的距离小于<span class="italic">给定距离</span> ，则称它们<span class="italic">在</span>彼此的给定距离内。
                  </p>
                  <p>为确定空间关系，Spatial和Graph有几种辅助过滤方法：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符评估拓扑标准。
                        </p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a>运算符确定两个空间对象是否在彼此的指定距离内。
                        </p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符标识空间对象的最近邻居。
                        </p>
                     </li>
                  </ul>
                  <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>运算符实现了九交点模型，用于对点，线和多边形之间的二进制拓扑关系进行分类。每个空间物体都有一个内部，一个边界和一个外部。<a id="d9079e2186" class="indexterm-anchor"></a><a id="d9079e2190" class="indexterm-anchor"></a>边界由将内部与外部分开的点或线组成。线串的边界由其端点组成;但是，如果端点重叠（即，如果它们是相同的点），则线串没有边界。<a id="d9079e2195" class="indexterm-anchor"></a><a id="d9079e2199" class="indexterm-anchor"></a>多行字符串的边界是每个组成行字符串的端点;但是，如果端点重叠，则只有重叠奇数次的端点是边界。<a id="d9079e2204" class="indexterm-anchor"></a><a id="d9079e2208" class="indexterm-anchor"></a>多边形的边界是描述其周长的线。内部由在对象中但不在其边界上的点组成，并且外部由不在对象中且不在其边界上的那些点组成。
                  </p>
                  <p>假设对象A具有三个组件（边界Ab，内部Ai和外部Ae），则任何一对对象在其组件之间具有九种可能的交互。成对的组件具有空（0）或非空（1）组交集。两个几何之间的相互作用集由九个交叉矩阵表示，该矩阵指定哪些成分对相交而哪些不相交。<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I879003">图1-5</a>显示了两个彼此相邻的多边形的九交点矩阵。该矩阵产生以下行掩码，以行主要形式生成：“101001111”。
                  </p>
                  <div class="figure" id="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I879003">
                     <p class="titleinfigure">图1-5九交叉模型</p><img src="img/nine_inter.gif" alt="下面是图1-5的描述" title="下面是图1-5的描述" longdesc="img_text/nine_inter.html"><br><a href="img_text/nine_inter.html">“图1-5九交叉模型”的描述</a></div>
                  <!-- class="figure" -->
                  <p>Max Egenhofer教授（缅因大学，Orono）及其同事在开创性工作中确定的一些拓扑关系具有与之相关的名称。Spatial和Graph使用以下名称：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a id="d9079e2227" class="indexterm-anchor"></a> DISJOINT：边界和内部不相交。
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2234" class="indexterm-anchor"></a>触摸：边界相交但内部不相交。
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2241" class="indexterm-anchor"></a> OVERLAPBDYDISJOINT：一个对象的内部与另一个对象的边界和内部相交，但两个边界不相交。例如，当一条线起始于多边形并在该多边形内部结束时，就会出现这种关系。
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2248" class="indexterm-anchor"></a> OVERLAPBDYINTERSECT：两个物体的边界和内部相交。
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2255" class="indexterm-anchor"></a>等于：两个物体具有相同的边界和内部。
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2262" class="indexterm-anchor"></a>包含：一个对象的内部和边界完全包含在另一个对象的内部。
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2269" class="indexterm-anchor"></a>覆盖：一个物体的边界和内部完全包含在另一个物体的内部或边界中，它们的内部相交，一个物体的边界或内部与另一个物体的边界相交。
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2276" class="indexterm-anchor"></a>内部：与CONTAINS相反。 INSIDE B暗示B CONTAINS A.</p>
                     </li>
                     <li>
                        <p><a id="d9079e2283" class="indexterm-anchor"></a> COVEREDBY：COVERS的反面。 COVEREDBY B意味着B COVERS A.</p>
                     </li>
                     <li>
                        <p><a id="d9079e2290" class="indexterm-anchor"></a> ON：一个对象的内部和边界位于另一个对象的边界上。例如，当一条线在多边形的边界上时，就会发生这种关系。
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2297" class="indexterm-anchor"></a><a id="d9079e2301" class="indexterm-anchor"></a> ANYINTERACT：对象是不相交的。
                        </p>
                     </li>
                  </ul>
                  <p><a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I883562">图1-6</a>说明了这些拓扑关系。
                  </p>
                  <div class="figure" id="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I883562">
                     <p class="titleinfigure">图1-6拓扑关系</p><img src="img/top_rel.gif" alt="下面描述图1-6" title="下面描述图1-6" longdesc="img_text/top_rel.html"><br><a href="img_text/top_rel.html">“图1-6拓扑关系”的描述</a></div>
                  <!-- class="figure" -->
                  <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a>运算符确定两个空间对象A和B是否在彼此的指定距离内。该运算符首先在参考对象B周围构造距离缓冲区D <sub>b</sub> 。然后检查A和D <sub>b</sub>是否是不相交的。对象的距离缓冲区由距该对象给定距离内的所有点组成。<a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I878990">图1-7</a>显示了点，线和多边形的距离缓冲区。
                  </p>
                  <div class="figure" id="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I878990">
                     <p class="titleinfigure">图1-7点，线和多边形的距离缓冲区</p><img src="img/buffers.gif" alt="下面是图1-7的描述" title="下面是图1-7的描述" longdesc="img_text/buffers.html"><br><a href="img_text/buffers.html">“图1-7点，线和多边形的距离缓冲区”的说明</a></div>
                  <!-- class="figure" -->
                  <p>在点，线和多边形几何中， <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I878990">如图1-7</a>所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>虚线表示距离缓冲区。注意缓冲区如何在对象的角落附近舍入。</p>
                     </li>
                     <li>
                        <p>右边的几何图形是带孔的多边形：大矩形是外部多边形环，小矩形是内部多边形环（孔）。大矩形外的虚线是外环的缓冲区，小矩形内的虚线是内环的缓冲区。</p>
                     </li>
                  </ul>
                  <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符从几何列中返回指定数量的对象，这些对象最接近指定的几何图形（例如，距离城市公园最近的五家餐馆）。在确定两个几何对象的接近程度时，使用每个对象表面上任意两点之间的最短可能距离。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL464"></a><div class="props_rev_3"><a id="GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244" name="GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244"></a><h3 id="SPATL-GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244" class="sect3"><span class="enumeration_section">1.9</span>空间运算符，过程和函数</h3>
               <div>
                  <p>Spatial和Graph PL / SQL应用程序编程接口（API）包括几个运算符和许多过程和函数。</p>
                  <p>空间运算符（如<a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a>和<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> ）可提供最佳性能，因为它们使用空间索引。（空间运算符要求第一个参数中的几何列具有在其上定义的空间索引。）必须在查询的WHERE子句中使用空间运算符。任何运算符的第一个参数指定要搜索的几何列，第二个参数指定查询窗口。如果查询窗口与几何列的坐标系不同，则“空间和图形”将执行隐式坐标系转换。有关空间运算符的详细信息，请参阅<a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算符</a> 。
                  </p>
                  <p>空间过程和函数作为PL / SQL包中的子程序提供，例如SDO_GEOM，SDO_CS和SDO_LRS。这些子程序不需要定义空间索引，如果定义了空间索引，则不使用空间索引。这些子程序可以在WHERE子句或子查询中使用。如果两个几何是空间过程或函数的输入参数，则两者必须具有相同的坐标系。</p>
                  <div class="infoboxnote" id="GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244__GUID-4885688C-DB99-431F-9BF0-C75736572819">
                     <p class="notep1">注意：</p>
                     <p>对于空间和图形运算符和子程序的字符串（VARCHAR2）参数中的任何数字，无论区域设置如何，句点（。）必须用于任何小数点。示例： <code class="codeph">'distance=3.7'</code></p>
                  </div>
                  <p><a id="d9079e2448" class="indexterm-anchor"></a><a id="d9079e2452" class="indexterm-anchor"></a><a id="d9079e2456" class="indexterm-anchor"></a>以下与性能相关的指南适用于空间运算符，过程和函数的使用：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果操作员和程序或功能执行类似操作，并且操作员满足您的要求，请使用操作员。例如，除非您需要执行其他操作，否则请使用<a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>而不是<a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> ，并使用<a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a>而不是<a href="SDO_GEOM-reference.html#GUID-E467CD0E-DFC9-4D83-8469-7A238DDD5139">SDO_GEOM.WITHIN_DISTANCE</a> 。</p>
                     </li>
                     <li>
                        <p>对于运算符，始终以大写形式指定<code class="codeph">TRUE</code> 。也就是说，指定<code class="codeph">= 'TRUE'</code> ，并且不指定<code class="codeph">&lt;&gt; 'FALSE'</code>或<code class="codeph">= 'true'</code> 。
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2498" class="indexterm-anchor"></a><a id="d9079e2502" class="indexterm-anchor"></a><a id="d9079e2504" class="indexterm-anchor"></a>对于运算符，如果查询窗口来自表，则使用<code class="codeph">/*+ ORDERED */</code> optimizer提示。（如果多个窗口来自表，则必须使用此提示。）有关详细信息，请参阅特定运算符的使用说明和示例。
                        </p>
                     </li>
                  </ul>
                  <p>有关在拓扑中使用运算符的信息，请参阅<a href="../topol/topology-data-model-overview.html#TOPOL300" target="_blank"><span class="italic">Oracle Spatial and Graph拓扑数据模型和网络数据模型图开发人员指南</span></a> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL130"></a><a id="SPATL1042"></a><a id="SPATL465"></a><div class="props_rev_3"><a id="GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4" name="GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4"></a><h3 id="SPATL-GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4" class="sect3"><span class="enumeration_section">1.10</span>空间聚合函数</h3>
               <div>
                  <p>SQL一直有聚合函数，用于聚合SQL查询的结果。</p>
                  <p>以下示例使用SUM聚合函数按部门汇总员工工资：</p><pre class="oac_no_warn" dir="ltr">SELECT SUM（薪水），部门来自员工GROUP BY部门;</pre><p>空间聚合函数聚合涉及几何对象的SQL查询的结果。空间聚合函数返回SDO_GEOMETRY类型的几何对象。例如，以下语句返回表中所有几何的最小边界矩形（使用<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">简单示例中</a>的定义和数据<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">：插入，索引和查询空间数据</a> ）：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_AGGR_MBR（shape）FROM cola_markets;</pre><p>以下示例返回除<code class="codeph">cola_d</code>之外的所有几何的并<code class="codeph">cola_d</code> ：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_AGGR_UNION（SDOAGGRTYPE（c.shape，0.005））FROM cola_markets c WHERE c.name &lt;&gt;'cola_d';</pre><p>有关空间聚合函数及其使用示例的参考信息，请参阅<a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="本章包含空间聚合函数的参考和用法信息。">空间聚合函数</a>参考一章。
                  </p>
                  <div class="infoboxnote" id="GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4__GUID-375AA0E8-7DE1-4B98-8F10-7D077BA128CF">
                     <p class="notep1">注意：</p>
                     <p>空间聚合函数仅支持二维几何，但<a href="spatial-aggregate-functions.html#GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2">SDO_AGGR_MBR</a>除外，它支持二维和三维几何。
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6">SDOAGGRTYPE对象类型</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL467"></a><a id="SPATL466"></a><div class="props_rev_3"><a id="GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6" name="GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6"></a><h4 id="SPATL-GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6" class="sect4"><span class="enumeration_section">1.10.1</span> SDOAGGRTYPE对象类型</h4>
                  <div>
                     <p>许多空间聚合函数接受SDOAGGRTYPE类型的输入参数。 Oracle Spatial and Graph将对象类型SDOAGGRTYPE定义为：</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdoaggrtype AS OBJECT（几何SDO_GEOMETRY，容差NUMBER）;</pre><div class="infoboxnote" id="GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6__GUID-919C1430-1244-48BA-A6B2-1D21CB0CC8AE">
                        <p class="notep1">注意：</p>
                        <p>不要将SDOAGGRTYPE用作表中列的数据类型。仅在调用空间聚合函数时使用此类型。</p>
                     </div>
                     <p>SDOAGGRTYPE定义中的<code class="codeph">tolerance</code>差值应与几何中xxx_SDO_GEOM_METADATA视图中DIMINFO列中指定的SDO_TOLERANCE值相同，除非您有特定原因需要不同的值。有关公差的更多信息，请参阅<a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">公差</a> ;有关xxx_SDO_GEOM_METADATA视图的信息，请参阅<a href="spatial-datatypes-metadata.html#GUID-AEA8FA01-880B-4865-8074-3B6FBD17A5E1" title="描述每个维度的维度，下限和上限以及容差的几何元数据存储在MDSYS拥有的全局表中（用户永远不应该直接更新）。每个Spatial和Graph用户都在与该用户关联的架构中提供以下视图。">几何元数据视图</a> 。
                     </p>
                     <p>SDOAGGRTYPE定义中的<code class="codeph">tolerance</code>差值可能会影响空间聚合函数的结果。<a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6__I885315">图1-8</a>显示了使用两个不同公差值的两个几何的空间聚合并集（ <a href="spatial-aggregate-functions.html#GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627">SDO_AGGR_UNION</a> ）操作：一个小于几何之间的距离，一个大于几何之间的距离。
                     </p>
                     <div class="figure" id="GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6__I885315">
                        <p class="titleinfigure">图1-8聚合联盟操作中的容差</p><img src="img/tol_union.gif" alt="下面是图1-8的描述" title="下面是图1-8的描述" longdesc="img_text/tol_union.html"><br><a href="img_text/tol_union.html">“图1-8聚合联盟操作中的容差”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6__I885315">图1-8中</a>的第一个聚合联合操作中，公差小于矩形之间的距离，结果是由两个矩形组成的复合几何。在第二个聚合联合操作中，公差大于矩形之间的距离，结果是单个几何。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4" title="SQL一直有聚合函数，用于聚合SQL查询的结果。">空间聚合函数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL469"></a><a id="SPATL1446"></a><a id="SPATL468"></a><div class="props_rev_3"><a id="GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" name="GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A"></a><h3 id="SPATL-GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" class="sect3"><span class="enumeration_section">1.11</span>三维空间物体</h3>
               <div>
                  <p>Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。</p>
                  <p><a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A__BABFDHDH" title="三维几何的SDO_GEOMETRY属性。第1列是3-D数据的类型，第2列是SDO_GTYPE，第3列是元素类型，SDO_ELEM_INFO中的解释。">表1-1</a>显示了与三维几何相关的SDO_GOMPE和SDO_GEOMETRY类型的元素相关属性。（SDO_GEOMETRY类型在<a href="spatial-datatypes-metadata.html#GUID-683FF8C5-A773-4018-932D-2AF6EC8BC119" title="使用Spatial和Graph，空间对象的几何描述存储在单个行中，在用户定义的表中的对象类型SDO_GEOMETRY的单个列中。">SDO_GEOMETRY对象类型中进行了</a>解释。）
                  </p>
                  <div class="tblformal" id="GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A__BABFDHDH">
                     <p class="titleintable">表1-1三维几何的SDO_GEOMETRY属性</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="三维几何的SDO_GEOMETRY属性" width="100%" border="1" summary="SDO_GEOMETRY Attributes for Three-Dimensional Geometries. Column 1 is Type of 3-D Data, column 2 is SDO_GTYPE, and column 3 is Element Type, Interpretation in SDO_ELEM_INFO." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d9079e2880">三维数据的类型</th>
                              <th align="left" valign="bottom" id="d9079e2883">SDO_GTYPE</th>
                              <th align="left" valign="bottom" id="d9079e2886">元素类型，SDO_ELEM_INFO中的解释</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2891" headers="d9079e2880 ">
                                 <p>点</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2891 d9079e2883 ">
                                 <p>3001</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2891 d9079e2886 ">
                                 <p>不适用。在SDO_POINT_TYPE属性中指定所有3维值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2901" headers="d9079e2880 ">
                                 <p>线</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2901 d9079e2883 ">
                                 <p>3002</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2901 d9079e2886 ">
                                 <p>2,1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2911" headers="d9079e2880 ">
                                 <p>多边形</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2911 d9079e2883 ">
                                 <p>3003</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2911 d9079e2886 ">
                                 <p>1003,1：平面外部多边形</p>
                                 <p>2003,1：平面内部多边形</p>
                                 <p>1003,3：平面外部矩形</p>
                                 <p>2003,3：平面内部矩形</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2927" headers="d9079e2880 ">
                                 <p>表面</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2927 d9079e2883 ">
                                 <p>3003</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2927 d9079e2886 ">
                                 <p>1006,1：表面（后跟多边形的元素信息）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2937" headers="d9079e2880 ">
                                 <p>采集</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2937 d9079e2883 ">
                                 <p>3004</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2937 d9079e2886 ">
                                 <p>与二维相同的考虑因素</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2947" headers="d9079e2880 ">
                                 <p>多点（点云）</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2947 d9079e2883 ">
                                 <p>3005</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2947 d9079e2886 ">
                                 <p>1， <span class="italic">n</span> （其中<span class="italic">n</span>是点数）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2963" headers="d9079e2880 ">
                                 <p>多行</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2963 d9079e2883 ">
                                 <p>3006</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2963 d9079e2886 ">
                                 <p>2,1（与Line相同）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2973" headers="d9079e2880 ">
                                 <p>多表面</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2973 d9079e2883 ">
                                 <p>3007</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2973 d9079e2886 ">
                                 <p>一个或多个曲面的元素定义</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2983" headers="d9079e2880 ">
                                 <p>固体</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2983 d9079e2883 ">
                                 <p>3008</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2983 d9079e2886 ">
                                 <p>由单个闭合表面形成的简单实体：一个元素类型1007，后面是一个元素类型1006（外部表面）和可选的一个或多个元素类型2006（内部表面）</p>
                                 <p>由多个相邻的简单实体形成的复合实体：一个元素类型1008（保存简单实体的数量），后跟任意数量的元素类型1007（每个描述一个简单实体）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2995" headers="d9079e2880 ">
                                 <p>Multisolid</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2995 d9079e2883 ">
                                 <p>3009</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2995 d9079e2886 ">
                                 <p>一个或多个简单实体（元素类型1007）或复合实体（元素类型1008）的元素定义</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>以下空间运算符考虑其计算中的所有三个维度：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-A0695FED-9497-4896-95FB-A90E28B38C7F">SDO_ANYINTERACT</a></p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a></p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-0080FCAB-C640-4E50-9639-9EE273E411FB">SDO_INSIDE</a> （仅适用于实体几何）</p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a></p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a></p>
                     </li>
                  </ul>
                  <p>其他运营商只考虑前两个维度。对于某些前面的运算符，在处理大地测量数据时会忽略高度信息，如本节后面所述。（空间运算符在<a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="本章介绍了使用空间对象数据类型时可以使用的运算符。">空间运算</a>符中描述。）
                  </p>
                  <p><a href="SDO_GEOM-reference.html#GUID-0BF308CC-39A7-489C-B7AA-997927D684CC">SDO_GEOM.SDO_VOLUME</a>函数仅适用于实体几何，根据定义，它是三维的;但是，此功能不能与大地测量数据一起使用。有关使用其他SDO_GEOM子程序支持三维几何的信息，请参阅<a href="SDO_GEOM-reference.html#GUID-0D52F048-18B4-4A2C-B5BF-6A5F6BD3E113" title="MDSIS.SDO_GEOM包中包含用于处理几何对象的子程序。">SDO_GEOM包（几何）中</a>的使用信息。
                  </p>
                  <p>对于具有三维几何的距离计算：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果数据是大地测量（地理3D），则距离计算在大地测量表面上完成。</p>
                     </li>
                     <li>
                        <p>如果数据是非大地测量（投影或本地），则距离计算仅在所有三个维度的度量单位相同时才有效。</p>
                     </li>
                  </ul>
                  <p>要让任何函数，过程或运算符考虑所有三个维度，在包含Geographic3D数据（经度，纬度，椭圆体高度）的空间表上创建空间索引时，必须在<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句中指定<code class="codeph">PARAMETERS ('sdo_indx_dims=3')</code> ）。如果未在<a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a>语句中指定该参数，则会创建二维索引。
                  </p>
                  <p>对于考虑所有三个维度的空间函数，过程和运算符，距离和长度计算正确地考虑了高度或高程。例如，考虑两个三维点，一个位于笛卡尔空间（0,0,0）的原点，另一个位于Y轴的X = 3和高度（Z）为4（3,0， 4）。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果操作考虑所有三个维度，则两个点之间的距离为5。（想想3-4-5直角三角形的斜边。）</p>
                     </li>
                     <li>
                        <p>如果操作仅考虑两个维度，则两个点之间的距离为3。（也就是说，忽略第三个维度或高度。）</p>
                     </li>
                  </ul>
                  <p>但是，对于以下运算符和子程序，在处理大地测量数据时，在“地面”表示（例如，建筑物的足迹的经度/纬度范围）和高度之间计算具有三维几何的距离。信息是近似的：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a>运算符</p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a>运算符</p>
                     </li>
                     <li>
                        <p><a href="SDO_GEOM-reference.html#GUID-EC93D8DA-F207-460F-A85A-AA50B92385EC">SDO_GEOM.SDO_DISTANCE</a>函数</p>
                     </li>
                     <li>
                        <p><a href="SDO_GEOM-reference.html#GUID-E467CD0E-DFC9-4D83-8469-7A238DDD5139">SDO_GEOM.WITHIN_DISTANCE</a>函数</p>
                     </li>
                  </ul>
                  <p>对于具有三维数据的二维查询窗口，您可以使用<a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a>运算符，但不能使用任何其他空间运算符。
                  </p>
                  <p>有关创建不同类型的三维空间几何的示例，请参阅<a href="spatial-datatypes-metadata.html#GUID-C709FFCF-39BE-49A8-842F-0AB41A782ACE">三维几何类型</a> 。该部分还包括一个示例，说明如何更新空间元数据并为三维几何创建空间索引。
                  </p>
                  <p>有关支持三维坐标参照系的信息，请参阅<a href="coordinate-systems-concepts.html#GUID-15FBE081-AD2E-4316-84A7-14BCDD25C7AF" title="Oracle Spatial and Graph对三维坐标参考系统的支持符合EPSG模型。">三维坐标参考系统支持</a> 。
                  </p>
                  <p>三维支持不适用于许多空间聚合函数和PL / SQL包和子程序。以下仅支持二维几何：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>空间聚合函数， <a href="spatial-aggregate-functions.html#GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2">SDO_AGGR_MBR</a>除外，它支持二维和三维几何。
                        </p>
                     </li>
                     <li>
                        <p>SDO_GEOM（几何）子程序，以下情况除外，它们支持二维和三维几何：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>带有ANYINTERACT掩码的<a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-735F96FF-E3C9-4045-98C9-68E0A219478D">SDO_GEOM.SDO_AREA</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-EC93D8DA-F207-460F-A85A-AA50B92385EC">SDO_GEOM.SDO_DISTANCE</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-023C4905-41CD-4752-9306-3E3D48003706">SDO_GEOM.SDO_LENGTH</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-19DF7A4F-9C7A-43FC-9E3B-5AC59050AA8D">SDO_GEOM.SDO_MAX_MBR_ORDINATE</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-646638D0-2C5F-490A-AF63-DE9B7A4C97C1">SDO_GEOM.SDO_MBR</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-3C0C4B2F-96FE-4FE7-921C-ED7B42E1305B">SDO_GEOM.SDO_MIN_MBR_ORDINATE</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-0BF308CC-39A7-489C-B7AA-997927D684CC">SDO_GEOM.SDO_VOLUME</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-D909C540-8CED-453D-AEA6-0212D09F1781">SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-E467CD0E-DFC9-4D83-8469-7A238DDD5139">SDO_GEOM.WITHIN_DISTANCE</a></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>SDO_SAM（空间分析和挖掘）子程序</p>
                     </li>
                     <li>
                        <p><a href="SDO_MIGRATE-reference.html#GUID-83196024-5E64-4DA7-A588-0A31717FF150">SDO_MIGRATE.TO_CURRENT</a>程序</p>
                     </li>
                  </ul>
                  <p><a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A__BHCFEGJF" title="如何对各种操作执行大地测量计算。第1列是计算类型，第2列是执行的内部计算。">表1-2</a>描述了Oracle Spatial and Graph内部如何执行某些<span class="italic"><span class="bold">大地</span></span>三维计算。
                  </p>
                  <div class="tblformal" id="GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A__BHCFEGJF">
                     <p class="titleintable">表1-2如何执行大地测量3D计算</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="如何执行大地测量3D计算" width="100%" border="1" summary="How geodetic calculations are performed for various operations. Column 1 is Type of Calculation, and column 2 is Internal Calculations Performed." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d9079e3233">计算类型</th>
                              <th align="left" valign="bottom" width="76%" id="d9079e3236">内部计算执行</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d9079e3241" headers="d9079e3233 ">
                                 <p>ANYINTERACT</p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d9079e3241 d9079e3236 ">
                                 <p>使用Gnomonic变换转换输入几何;然后使用得到的几何计算ANYINTERACT关系。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d9079e3248" headers="d9079e3233 ">
                                 <p>区域</p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d9079e3248 d9079e3236 ">
                                 <p>输入几何投影到局部切平面上;然后使用生成的输入几何计算区域。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d9079e3255" headers="d9079e3233 ">
                                 <p>距离或长度</p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d9079e3255 d9079e3236 ">
                                 <p>使用两个最接近点的经度/纬度来计算2D精确椭圆体距离;然后使用近似值包括高度或长度差异。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d9079e3262" headers="d9079e3233 ">
                                 <p>体积</p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d9079e3262 d9079e3236 ">
                                 <p>输入几何投影到局部切平面上;然后使用生成的输入几何计算体积。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">建模曲面</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3">建模实体</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-73A39253-BDBE-499D-BCE9-F40A18B817F9">三维优化矩形</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA">使用纹理数据</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-FFA9D5FA-9403-4D57-8ABE-77C5B45320D6">验证检查三维几何</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL470"></a><div class="props_rev_3"><a id="GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB" name="GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB"></a><h4 id="SPATL-GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB" class="sect4"><span class="enumeration_section">1.11.1</span>曲面建模</h4>
                  <div>
                     <p>曲面包含区域但不包含体积，并且可以具有两个或三个维度。表面通常由一组平面区域构成。</p>
                     <p>曲面可以建模为表面类型的SDO_GEOMETRY对象，如果它们非常大，则可以建模为SDO_TIN对象。SDO_GEOMETRY中的表面类型可以是定义由相邻三维多边形界定的连续区域的任意表面。SDO_GEOMETRY中的多边形数量受SDO_ORDINATES_ARRAY中可以包含的纵坐标数量的限制。另一方面，SDO_TIN对象将表面建模为三角形网络，对三角形的数量没有明确限制。</p>
                     <p><a id="d9079e3382" class="indexterm-anchor"></a><a id="d9079e3384" class="indexterm-anchor"></a>曲面存储为三角形网络，称为三角形不规则网络或<span class="bold">TIN</span> 。TIN模型将表面表示为一组连续的，不重叠的三角形。在每个三角形内，表面由平面表示。三角形由一组称为质点的点组成。如果仔细选择质点，则TIN表示表面模型的精确表示。放置良好的质点出现在表面形状发生重大变化的地方，例如山峰，山谷底部或悬崖边缘（顶部和底部）。
                     </p>
                     <p>TIN通常根据指定经度（x），纬度（y）和高程（z）维度中的坐标值的一组三维点来计算。Oracle TIN生成软件使用Delaunay三角剖分算法，但不要求仅使用Delaunay三角剖分技术形成TIN数据。</p>
                     <p>使用TIN的一般过程如下：</p>
                     <ol>
                        <li>
                           <p>使用<a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a>函数初始化TIN。
                           </p>
                        </li>
                        <li>
                           <p>使用<a href="SDO_TIN_PKG-reference.html#GUID-088CFF52-91B0-43A3-9195-812D32201A66">SDO_TIN_PKG.CREATE_TIN</a>过程创建TIN。
                           </p>
                        </li>
                        <li>
                           <p>根据查询需要，使用<a href="SDO_TIN_PKG-reference.html#GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F">SDO_TIN_PKG.CLIP_TIN</a>函数剪切TIN。
                           </p>
                        </li>
                        <li>
                           <p>如有必要，请使用<a href="SDO_TIN_PKG-reference.html#GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD">SDO_TIN_PKG.TO_GEOMETRY</a>函数（例如，将剪辑操作的结果转换为单个SDO_GEOMETRY对象）。
                           </p>
                        </li>
                     </ol>
                     <p>有关使用TIN的Java示例，请参阅以下文件：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / md / demo / TIN / examples / java / README.txt $ ORACLE_HOME / md / demo / TIN / examples / java / readTIN.java</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL472"></a><a id="SPATL471"></a><div class="props_rev_3"><a id="GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3" name="GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3"></a><h4 id="SPATL-GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3" class="sect4"><span class="enumeration_section">1.11.2</span>建模实体</h4>
                  <div>
                     <p>最简单的固体类型可以表示为长方体，例如立方体或砖。更复杂的固体是<span class="bold">平截头体</span> ，它是通过平行于该金字塔底部的平面切割较大的金字塔（具有三个或更多个面）而形成的金字塔。Frustums有时用作空间运算符的查询窗口。Frustums和cube通常被建模为实体型SDO_GEOMETRY对象。<a href="spatial-concepts.html#GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3__BABDBFII">图1-9</a>显示了视锥体作为查询窗口，其中两个空间对象与视点的距离不同。
                     </p>
                     <div class="figure" id="GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3__BABDBFII">
                        <p class="titleinfigure">图1-9 Frustum作为空间对象的查询窗口</p><img src="img/frustum_view.gif" alt="下面是图1-9的描述" title="下面是图1-9的描述" longdesc="img_text/frustum_view.html"><br><a href="img_text/frustum_view.html">“图1-9 Frustum作为空间对象的查询窗口”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a id="d9079e3522" class="indexterm-anchor"></a> <span class="bold">点云</span>是大的点集合，有时可用于模拟实体和表面几何的形状或结构。大多数使用点云数据的应用程序都包含基于位置的查询。应用程序还可以在Spatial和Graph之外添加可见性逻辑，以根据位置和可见性执行查询。
                     </p>
                     <p>大多数使用点云数据的应用程序都会通过根据距离视点的距离检索对象来寻求最小化数据传输。例如，在<a href="spatial-concepts.html#GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3__BABDBFII">图1-9中</a> ，对象B远离对象A远离视点，因此应用程序可能会非常详细地检索对象A（高分辨率），而对象B则不太详细（低分辨率）。在大多数情况下，随着距视点的距离增加，物体或点的数量会显着增加;如果以比较近的对象更低的分辨率检索更远的对象，则查询返回的字节数和对象的渲染时间显着减少。
                     </p>
                     <p>对于点云数据的存储，您可以使用SDO_PC对象，也可以使用平面表。使用方法取决于您的硬件环境和使用模式。平面格式的一个优点是其高效和动态的特性，因为对点数据的更新不需要重新锁定。</p>
                     <p>使用点云的一般过程如下，具体取决于点云数据是存储在SDO_PC对象还是平面表中。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要使用存储为SDO_PC对象的点云数据：</p>
                           <ol>
                              <li>
                                 <p>使用<a href="SDO_PC_PKG-reference.html#GUID-6F67239D-3C8F-4360-A973-2E1B58C23065">SDO_PC_PKG.INIT</a>函数初始化点云。
                                 </p>
                              </li>
                              <li>
                                 <p>使用<a href="SDO_PC_PKG-reference.html#GUID-E4BE0857-F580-47AE-9E99-443B01D62940">SDO_PC_PKG.CREATE_PC</a>过程创建点云。
                                 </p>
                              </li>
                              <li>
                                 <p>根据查询需要，使用<a href="SDO_PC_PKG-reference.html#GUID-6E652233-209D-4172-B738-0544898BCA1D">SDO_PC_PKG.CLIP_PC</a>函数剪切点云。
                                 </p>
                              </li>
                              <li>
                                 <p>如有必要，请使用<a href="SDO_PC_PKG-reference.html#GUID-197ABD88-0CB9-45B2-82D6-5DBBB98B6547">SDO_PC_PKG.TO_GEOMETRY</a>函数（例如，将剪辑操作的结果转换为单个SDO_GEOMETRY对象）。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>要使用存储在平台中的点云数据：</p>
                           <ol>
                              <li>
                                 <p>为点云数据创建表（或基于适当表的视图）。</p>
                                 <p>每行将包含点的前三个空间维度的值，并且可选地包含非空间维度的值。表或视图定义必须以以下列开头：VAL_D1 NUMBER，VAL_D2 NUMBER，VAL_D3 NUMBER。它还可以包含点云非空间维度的列。</p>
                              </li>
                              <li>
                                 <p>使用点数据填充表格。</p>
                              </li>
                              <li>
                                 <p>根据查询需要，使用<a href="SDO_PC_PKG-reference.html#GUID-888DDB41-6FDB-454B-B6A3-F48776034A44">SDO_PC_PKG.CLIP_PC_FLAT</a>函数剪切点云。
                                 </p>
                              </li>
                           </ol>
                        </li>
                     </ul>
                     <p>有关使用点云的Java示例，请参阅以下文件：</p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME / md / demo / PointCloud / examples / java / README.txt $ ORACLE_HOME / md / demo / PointCloud / examples / java / readPointCloud.java</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL473"></a><div class="props_rev_3"><a id="GUID-73A39253-BDBE-499D-BCE9-F40A18B817F9" name="GUID-73A39253-BDBE-499D-BCE9-F40A18B817F9"></a><h4 id="SPATL-GUID-73A39253-BDBE-499D-BCE9-F40A18B817F9" class="sect4"><span class="enumeration_section">1.11.3</span>三维优化矩形</h4>
                  <div>
                     <p><a id="d9079e3664" class="indexterm-anchor"></a><a id="d9079e3668" class="indexterm-anchor"></a>您可以通过仅指定与最小纵坐标值（ <span class="italic">min-corner</span> ）对应的两个角来代表矩形，而不是为三维矩形（三维空间中的矩形形状的多边形）指定所有顶点。 X，Y和Z尺寸的最大纵坐标值（ <span class="italic">max-corner</span> ）。
                     </p>
                     <p>以这种方式定义的三维矩形的方向如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果矩形指定为<span class="italic">&lt;min-corner，max-corner&gt;</span> ，则垂直第三维的正方向上的法线点。
                           </p>
                        </li>
                        <li>
                           <p>如果矩形指定为<span class="italic">&lt;max-corner，min-corner&gt;</span> ，则垂直第三维的负方向上的法线点。
                           </p>
                        </li>
                     </ul>
                     <p>例如，如果矩形在XY平面中并且顶点的顺序是<span class="italic">&lt;min-corner，max-corner&gt;</span> ，则法线沿着正Z轴;但如果顺序是<span class="italic">&lt;max-corner，min-corner&gt;</span> ，则法线沿着负Z轴。
                     </p>
                     <p>使用矩形的这些方向规则，您可以适当地指定矩形的<span class="italic">最小角</span>和<span class="italic">最大角</span>顶点的顺序，以满足以下要求：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当矩形是实体的一部分时，实体中每个多边形的法线始终从实体向外指向。</p>
                        </li>
                        <li>
                           <p>当矩形是表面的一部分时，内部矩形多边形的方向与其外部相反。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1406"></a><a id="SPATL1407"></a><a id="SPATL1408"></a><a id="SPATL1405"></a><div class="props_rev_3"><a id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA" name="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA"></a><h4 id="SPATL-GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA" class="sect4"><span class="enumeration_section">1.11.4</span>使用纹理数据</h4>
                  <div>
                     <div class="infoboxnote" id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__GUID-F2A9AECA-422F-4E13-AA9F-249A5A3486C3">
                        <p class="notep1">注意：</p>
                        <p>本节介绍了使用空间和图形使用纹理数据时需要了解的概念。但是，纹理元数据尚未在Oracle Spatial and Graph中完全实现，并且尚不支持查看器。释放纹理支持时，将更新此部分。</p>
                     </div>
                     <p><span class="bold">纹理</span>是表示要素的一个或多个部分的图像。纹理通常与可视化器应用程序（查看器）一起使用，该应用程序显示存储为空间几何的对象。例如，观看者可以使用纹理显示办公楼（三维立体），以允许比仅使用颜色更真实的可视化。纹理可以与二维和三维几何一起使用。
                     </p>
                     <p>在最简单的情况下，可以使用纹理位图覆盖矩形几何体。但是，通常只使用纹理位图的子区域，如以下示例中所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果纹理位图包含同一建筑物的多个侧面，以及屋顶和屋顶山墙。在这种情况下，每个位图部分都覆盖在一个几何面上。</p>
                        </li>
                        <li>
                           <p>如果纹理位图表示建筑物表面上的单个面板或窗口，并且几何面代表具有15个这样的面板或窗口的墙（三个楼层中的每一个上有五个）。在这种情况下，单个纹理位图在面上平铺15次。</p>
                        </li>
                        <li>
                           <p>如果面是非矩形子面，例如屋顶山墙。在这种情况下，仅使用纹理位图的一部分（可能的三角形）。</p>
                        </li>
                     </ul>
                     <p><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">图1-10</a>显示了一个大的矩形表面，当观察时，它看起来由三个纹理组成，每个纹理在表面上的不同位置重复多次。
                     </p>
                     <div class="figure" id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">
                        <p class="titleinfigure">图1-10面和纹理</p><img src="img/textures_2.gif" alt="下面是图1-10的描述" title="下面是图1-10的描述" longdesc="img_text/textures_2.html"><br><a href="img_text/textures_2.html">“图1-10面和纹理”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">如图1-10</a>所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>整个图像是一个大的表面，由12个较小的矩形面（表面几何形状）组成，每个面都可以用三个图像中的一个（标记为A，B和C）表示。</p>
                        </li>
                        <li>
                           <p>三个纹理位图（标记为A，B和C）可用于显示所有面。在这种情况下，位图A使用3次，位图B使用6次，位图C使用3次。</p>
                        </li>
                     </ul>
                     <p><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGHCCG">图1-11</a>显示了映射到三角形面的纹理位图。
                     </p>
                     <div class="figure" id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGHCCG">
                        <p class="titleinfigure">图1-11映射到面的纹理</p><img src="img/textures_3.gif" alt="下面是图1-11的描述" title="下面是图1-11的描述" longdesc="img_text/textures_3.html"><br><a href="img_text/textures_3.html">“图1-11纹理映射到脸部”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGHCCG">如图1-11</a>所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>面（表面几何）是三角形。（例如，建筑物的侧面或屋顶可能包含多次出现此面孔。）</p>
                        </li>
                        <li>
                           <p>纹理位图（图像）是一个矩形，显示在中间的框中。</p>
                        </li>
                        <li>
                           <p>纹理位图的一部分表示面部图像。该部分在右侧框中用虚线表示。</p>
                           <p>在应用程序中，您需要在纹理位图中指定坐标，以将适当的部分映射到面几何体。</p>
                        </li>
                     </ul>
                     <p>为了最小化表示曲面的图像数据的存储要求，您应该仅存储所需的不同纹理的图像。用于存储纹理的数据类型是SDO_ORDINATE_ARRAY，它在SDO_GEOMETRY类型定义中使用（在<a href="spatial-datatypes-metadata.html#GUID-683FF8C5-A773-4018-932D-2AF6EC8BC119" title="使用Spatial和Graph，空间对象的几何描述存储在单个行中，在用户定义的表中的对象类型SDO_GEOMETRY的单个列中。">SDO_GEOMETRY对象类型中进行了</a>解释）。
                     </p>
                     <p>例如，假设<a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">图1-10</a>中的大表面具有以下定义：</p><pre class="oac_no_warn" dir="ltr">SDO_GEOMETRY（2003， - 二维多边形NULL，NULL，SDO_ELEM_INFO_ARRAY（1,1003,1）， - 一个多边形（外部多边形环）SDO_ORDINATE_ARRAY（1,1。1,13,13,13,1,13,1,1））</pre><p>假设您有一个MY_TEXTURE_COORDINATES表，其中包含以下定义：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE my_texture_coordinates（texture_coord_id NUMBER PRIMARY KEY，texture_name VARCHAR2（32），texture_coordinates SDO_ORDINATE_ARRAY）;</pre><p><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGDAGE">示例1-1</a>将三个纹理坐标定义插入此表中。对于每个纹理，其坐标反映<a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">图1-10中</a>所示的适当的较小矩形之一;但是，您可以为每个纹理选择任何一个适当的矩形。在<a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGDAGE">示例1-1中</a> ，每个纹理的SDO_ORDINATE_ARRAY定义反映了<a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">图1-10</a>顶部附近的多边形。
                     </p>
                     <div class="example" id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGDAGE">
                        <p class="titleinexample">示例1-1插入纹理坐标定义</p><pre class="oac_no_warn" dir="ltr">INSERT INTO my_texture_coordinates VALUES（1，'Texture_A'，SDO_ORDINATE_ARRAY（1,9,1,5,5,12,1,12,19））; INSERT INTO my_texture_coordinates VALUES（2，'Texture_B'，SDO_ORDINATE_ARRAY（5,9,9,9,9,12,5,12,5,9））; INSERT INTO my_texture_coordinates VALUES（3，'Texture_C'，SDO_ORDINATE_ARRAY（1,12,13,12,13,13,1,13,1,12））;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="spatial-concepts.html#GUID-B51DE18F-33B3-453D-86D2-973998A86C2E">纹理数据的模式注意事项</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SPATL1410"></a><a id="SPATL1409"></a><div class="props_rev_3"><a id="GUID-B51DE18F-33B3-453D-86D2-973998A86C2E" name="GUID-B51DE18F-33B3-453D-86D2-973998A86C2E"></a><h5 id="SPATL-GUID-B51DE18F-33B3-453D-86D2-973998A86C2E" class="sect5"><span class="enumeration_section">1.11.4.1</span>纹理数据的模式考虑</h5>
                     <div>
                        <p>纹理位图（存储为BLOB或VARCHAR2格式的URL）和纹理坐标数组（使用类型SDO_ORDINATE_ARRAY存储）可以存储在与SDO_GEOMETRY列相同的表中，也可以存储在单独的表中;但是，特别是对于纹理位图，通常最好使用单独的表。纹理位图很可能能够在特征（例如不同的办公楼）之间共享，但纹理坐标定义不太可能在特征之间共享。（例如，许多办公楼可能共用相同类型的玻璃外墙，但很少有建筑物具有相同数量的窗户和地板。在设计纹理和应用程序时，必须考虑有多少建筑物使用相同的纹理子区域，或者在相同大小的重复矩阵中覆盖纹理。）</p>
                        <p>一个例外是纹理坐标数组，它在矩形几何面上覆盖整个纹理位图。在这种情况下，纹理坐标数组可以指定为（0,0,1,0,1,1,0,1,1,1），由顶点“左下”，“右下”，“右上”定义“，”左上角“，以”左下角“结束。许多数据集广泛使用此纹理坐标数组，因为它们主要具有矩形面，并且它们为每个纹理位图存储一个外观。</p>
                        <p>如果使用单独的表，则可以使用外键将它们链接到表面几何，如<a href="spatial-concepts.html#GUID-B51DE18F-33B3-453D-86D2-973998A86C2E__BABFDAIF">示例1-2中所示</a> 。
                        </p>
                        <div class="example" id="GUID-B51DE18F-33B3-453D-86D2-973998A86C2E__BABFDAIF">
                           <p class="titleinexample">示例1-2为纹理坐标，纹理和曲面创建表</p><pre class="oac_no_warn" dir="ltr">- 每个纹理坐标定义一行。CREATE TABLE my_texture_coordinates（texture_coord_id NUMBER PRIMARY KEY，texture_coordinates SDO_ORDINATE_ARRAY）; - 每个纹理一行。CREATE TABLE my_textures（texture_id NUMBER PRIMARY KEY，纹理BLOB）; - 每个表面一行（每个单独的“片段” - 可能更大的表面）。CREATE TABLE my_surfaces（surface_id NUMBER PRIMARY KEY，surface_geometry SDO_GEOMETRY，texture_id NUMBER，texture_coord_id NUMBER，CONSTRAINT texture_id_fk FOREIGN KEY（texture_id）REFERENCES my_textures（texture_id），CONSTRAINT texture_coord_id_fk FOREIGN KEY（texture_coord_id）REFERENCES my_texture_coordinates（texture_coord_id））;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA">使用纹理数据</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SPATL474"></a><div class="props_rev_3"><a id="GUID-FFA9D5FA-9403-4D57-8ABE-77C5B45320D6" name="GUID-FFA9D5FA-9403-4D57-8ABE-77C5B45320D6"></a><h4 id="SPATL-GUID-FFA9D5FA-9403-4D57-8ABE-77C5B45320D6" class="sect4"><span class="enumeration_section">1.11.5</span>三维几何的验证检查</h4>
                  <div>
                     <p><a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a>和<a href="SDO_GEOM-reference.html#GUID-D909C540-8CED-453D-AEA6-0212D09F1781">SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT</a>子程序可以验证二维和三维几何。对于三维几何图形，这些子程序对整个三维几何图形中的任何二维几何图形执行任何必要的检查（请参阅<a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a>的使用说明），还要检查特定于三维几何图形的几个检查。总体目标。
                     </p>
                     <p>对于简单实体（一个外表面和任意数量的内表面），这些子程序执行以下检查：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>封闭性：必须关闭固体。</p>
                        </li>
                        <li>
                           <p>可达性：实体的每个面必须与其相邻面具有全边交叉，并且所有面必须可从任何面到达。（但是，内部shell会被忽略，因为根据定义，内部shell可以不连接到其他shell。）</p>
                        </li>
                        <li>
                           <p>内外脱节：内表面不得超过一点或一线与外表面相交;也就是说，内表面必须没有重叠区域。</p>
                        </li>
                        <li>
                           <p>无表面贴片：无法在构成实体的曲面上定义其他曲面。</p>
                        </li>
                        <li>
                           <p><a id="d9079e4060" class="indexterm-anchor"></a><a id="d9079e4062" class="indexterm-anchor"></a>方向：对于所有曲面，顶点必须对齐，以使法线矢量（或曲面法线或“法线”）指向外部实体的外部（远离）。因此，外部固体的体积必须大于零，并且任何内部固体的体积必须小于零。
                           </p>
                        </li>
                     </ul>
                     <p>对于复合实体（一个或多个相互连接的实体），这些子程序执行以下检查：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>连通性：复合固体的所有固体必须共享至少一个面。</p>
                        </li>
                        <li>
                           <p>零体积交叉点：复合实体中固体的任何交点必须具有零体积。</p>
                        </li>
                     </ul>
                     <p>对于多重固体（一个或多个固体，每个固体都是简单固体或复合固体），这些子程序执行以下检查：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>脱节：多重固体的任何两个实体都可以共享点或线，但不能以任何其他方式相交。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph支持三维空间数据的存储和检索，包括点，点云（点集合），线，多边形，曲面和实体。">三维空间对象</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL475"></a><div class="props_rev_3"><a id="GUID-DDCFF26D-19E0-41FC-9ADC-F742AB651CB2" name="GUID-DDCFF26D-19E0-41FC-9ADC-F742AB651CB2"></a><h3 id="SPATL-GUID-DDCFF26D-19E0-41FC-9ADC-F742AB651CB2" class="sect3"><span class="enumeration_section">1.12</span>地理编码</h3>
               <div>
                  <p><span class="bold">地理编码</span>是将地址数据表转换为标准化地址，位置和可能的其他数据的过程。
                  </p>
                  <p>地理编码操作的结果包括与输入地址或位置对应的一对经度和纬度坐标。例如，如果输入地址是<span class="italic">22 Monument Square，Concord，MA 01742</span> ，则地理编码操作的结果中的经度和纬度坐标可以分别（取决于地理编码数据提供者）-71.34937和42.46101。
                  </p>
                  <p>给定地理编码地址，您可以使用空间引擎（如Oracle Spatial and Graph）执行邻近或位置查询，或使用Oracle业务合作伙伴提供的工具和数据进行人口统计分析。此外，您还可以将地理编码数据与其他空间数据（如块组，邮政编码和县代码）一起用于与人口统计信息相关联。除了表格格式之外，分析或查询的结果可以使用与Oracle Spatial and Graph集成的第三方软件以地图形式呈现。</p>
                  <p>有关Oracle Spatial和Graph的地理编码功能的概念和用法信息，请参阅<a href="geocoding-address-data-concepts.html#GUID-8240D09F-D705-472C-9603-336AA362D41B" title="地理编码是将空间位置（经度和纬度坐标）与邮政地址相关联的过程。">地理编码地址数据</a> 。有关MDSYS.SDO_GCDR PL / SQL程序包的参考信息，请参阅<a href="SDO_GCDR-reference.html#GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" title="MDSYS.SDO_GCDR包中包含用于执行地理编码的子程序。">SDO_GCDR程序包（地理编码）</a> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" name="GUID-1319B328-0F3E-4202-868C-B7435E4FA98F"></a><h3 id="SPATL-GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" class="sect3"><span class="enumeration_section">1.13</span>位置数据丰富</h3>
               <div>
                  <p>Oracle Spatial and Graph包含一个地名数据集，其中包含来自HERE的分层地理数据，您可以将其加载到数据库中。</p>
                  <p>然后，您可以使用<a href="SDO_UTIL-reference.html#GUID-49677E42-B9C3-4790-9931-0F96CD6F1113">SDO_UTIL.GEO_SEARCH</a>函数搜索此地名数据集。数据集包括常用的文本位置数据，例如地名，地址和部分地址，以及纬度和经度信息。
                  </p>
                  <p>位置标记从文本数据中提取，并使用Oracle Text与众所周知的地名匹配，并与其他与众所周知的地名相关联的地理信息进行增强。</p>
                  <p>结果可以作为原始数据的附加属性存储。</p>
                  <p>此功能使您可以处理结构较少的地理和位置数据，以便可以对信息进行分类，比较，过滤以及与其他数据相关联。例如，可以丰富仅具有部分名称的数据以包括城市，县，州和国家，允许其与可能具有州级信息的其他数据集连接或分析。在将大数据结果与操作系统和数据仓库中的结构化信息进行比较时，这尤其有用。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-1319B328-0F3E-4202-868C-B7435E4FA98F__GUID-CD1F7468-B689-4A93-824A-40778D43B1AD">设置和使用位置数据丰富支持</p>
                     <p>要使用位置数据丰富支持，您只需执行某些设置操作，例如编辑将创建必要数据库对象的脚本并将数据集加载到Oracle数据库中，以及运行这些脚本。</p>
                     <ol>
                        <li>
                           <p>转到<code class="codeph">$ORACLE_HOME//md/demo/GeoSearch</code> ，其中包含所有必需的文件。
                           </p>
                        </li>
                        <li>
                           <p>阅读<code class="codeph">README</code>文件，这是一个包含基本步骤概述的文本文件。
                           </p>
                        </li>
                        <li>
                           <p>执行<code class="codeph">README</code>文件中指示的操作。
                           </p>
                           <p>这些操作包括读取<code class="codeph">LICENSES.TXT</code>文件，从拆分文件创建单个zip文件，编辑<code class="codeph">load_data.sql</code>和<code class="codeph">create_index.sql</code>脚本文件（包含说明注释）以及运行这些脚本。
                           </p>
                        </li>
                     </ol>
                     <p><code class="codeph">create_index.sql</code>文件包含一些使用<a href="SDO_UTIL-reference.html#GUID-49677E42-B9C3-4790-9931-0F96CD6F1113">SDO_UTIL.GEO_SEARCH</a>函数的示例查询。您可以使用这些示例以及<a href="SDO_UTIL-reference.html#GUID-49677E42-B9C3-4790-9931-0F96CD6F1113">SDO_UTIL.GEO_SEARCH</a>参考和使用信息来开发您自己对位置数据丰富支持的使用。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29">ELOC_ADMIN_AREA_SEARCH表</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-7A7BF2EB-17A7-42FD-A170-83E02BD5375A">将用户数据添加到地理名称层次结构</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29" name="GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29"></a><h4 id="SPATL-GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29" class="sect4"><span class="enumeration_section">1.13.1</span> ELOC_ADMIN_AREA_SEARCH表</h4>
                  <div>
                     <p>ELOC_ADMIN_AREA_SEARCH表用于存储用于位置数据丰富的数据。仅当您执行了<a href="spatial-concepts.html#GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" title="Oracle Spatial and Graph包含一个地名数据集，其中包含来自HERE的分层地理数据，您可以将其加载到数据库中。">位置数据丰富中</a>描述的所需设置操作时才会创建它，并且它是在您选择的数据库模式中创建的。
                     </p>
                     <p>该表由<a href="SDO_UTIL-reference.html#GUID-49677E42-B9C3-4790-9931-0F96CD6F1113">SDO_UTIL.GEO_SEARCH</a>过程访问。该表包含以下列。
                     </p>
                     <div class="tblformal" id="GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29__GUID-A389CDDA-F739-49E2-9B83-54976535C6F5">
                        <p class="titleintable">表1-3 LOC_ADMIN_AREA_SEARCH表</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="LOC_ADMIN_AREA_SEARCH表" width="100%" border="1" summary="2–column table: column 1 is Column Name, and column 2 is Description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d9079e4394">列名称</th>
                                 <th align="left" valign="bottom" width="20%" id="d9079e4396">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4400" headers="d9079e4394 ">AREA_ID</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4400 d9079e4396 ">地名的唯一ID。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4405" headers="d9079e4394 ">全名</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4405 d9079e4396 ">作为可搜索字符串的地方名称。例如，“NASHUA，HILLSBOROUGH，NEW HAMPSHIRE，NH，美国，美国”是美国新罕布什尔州纳舒厄市的可搜索名称。<p>此条目是名称层次结构的每个级别的所有可能名称的串联列表。也就是说，对于州，它可以同时具有缩写和全名。同样，对于国家，它可以同时包含缩写和全名。这使得搜索即使在为这些管理区域中的每一个使用不同的搜索项时也能找到该条目。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4412" headers="d9079e4394 ">AREA_NAME</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4412 d9079e4396 ">行政地方的实际地区名称。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4417" headers="d9079e4394 ">键</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4417 d9079e4396 ">从搜索API返回的标准化文本键。这是一个标准化的标准密钥，可用于将搜索词加入其他术语。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4422" headers="d9079e4394 ">LANG_CODE</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4422 d9079e4396 ">用于此条目的语言的3字母ISO代码。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4427" headers="d9079e4394 ">PART_ID</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4427 d9079e4396 ">分区此表时使用的数字（有关详细信息，请参阅自述文件）。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4432" headers="d9079e4394 ">CENTER_LONG</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4432 d9079e4396 ">地名的经度。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4437" headers="d9079e4394 ">CENTER_LAT</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4437 d9079e4396 ">地名的纬度。</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4442" headers="d9079e4394 ">人口</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4442 d9079e4396 ">当找到给定搜索词的多个匹配项时，用于对结果进行排序的数字。目的是在重新调整人口较少的区域之前首先返回更多人口密集区域，在这些区域中找到同一搜索项的多个匹配项。</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" title="Oracle Spatial and Graph包含一个地名数据集，其中包含来自HERE的分层地理数据，您可以将其加载到数据库中。">位置数据丰富</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7A7BF2EB-17A7-42FD-A170-83E02BD5375A" name="GUID-7A7BF2EB-17A7-42FD-A170-83E02BD5375A"></a><h4 id="SPATL-GUID-7A7BF2EB-17A7-42FD-A170-83E02BD5375A" class="sect4"><span class="enumeration_section">1.13.2</span>将用户数据添加到地理名称层次结构</h4>
                  <div>
                     <p>在某些情况下，用户可能希望添加自己的数据来扩充Oracle提供的数据。例如，如果用户想要为城市中的公园创建条目（如纽约市中央公园），则可以在此表中为其创建条目。</p>
                     <p>例如，他们可以这样做：</p><pre class="pre codeblock"><code>插入ELOC_ADMIN_AREA_SEARCH值（1469286010，'CENTRAL PARK，纽约，纽约，纽约，里士满，纽约，纽约，美国，美国'，'中央公园'，'中央公园|纽约|里士满|纽约|美国'，'ENG'，7,73.9654,40.7829,0）;承诺;</code></pre><p>插入新数据后的COMMIT语句很重要，因为文本索引仅在发出提交后才执行同步。</p>
                     <p>在此示例中，area_id被选择为表中尚不存在的某个值，并且使用随机partition_id值（在这种情况下为7）。但是，应根据用于表的分区方案选择合适的值（有关详细信息，请参阅自述文件）。</p>
                     <p>现在搜索中央公园将导致匹配：</p><pre class="pre codeblock"><code>select * from table（sdo_util.geo_search（'central park，new york，NY，UNITED STATES'））; CENTRAL PARK CENTRAL PARK |纽约|里士满|纽约|美国ENG 73.9654 40.7829 100</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" title="Oracle Spatial and Graph包含一个地名数据集，其中包含来自HERE的分层地理数据，您可以将其加载到数据库中。">位置数据丰富</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0" name="GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0"></a><h3 id="SPATL-GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0" class="sect3"><span class="enumeration_section">1.14</span> Oracle Spatial and Graph中的JSON和GeoJSON支持</h3>
               <div>
                  <p>Spatial和Graph支持使用JSON和GeoJSON对象来存储，索引和管理JSON（JavaScript Object Notation）格式的地理数据。</p>
                  <p>版本18.1中引入的JSON支持大大扩展了之前版本中可用的有限GeoJSON支持，因为它支持更大范围的几何，包括2D和3D，实体，曲面和LRS几何。虽然仍然支持Spatial和Graph GeoJSON特定的API，但我们鼓励您使用更全面的JSON支持。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C">Oracle Spatial和Graph中的JSON支持</a><br>Spatial和Graph支持使用JSON对象来存储，索引和管理JSON（JavaScript Object Notation）格式的地理数据。
                     </li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F">Oracle Spatial和Graph中的GeoJSON支持</a><br>Spatial和Graph支持使用GeoJSON对象来存储，索引和管理JSON（JavaScript Object Notation）格式的地理数据。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C" name="GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C"></a><h4 id="SPATL-GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C" class="sect4"><span class="enumeration_section">1.14.1</span> Oracle Spatial和Graph中的JSON支持</h4>
                  <div>
                     <p>Spatial和Graph支持使用JSON对象来存储，索引和管理JSON（JavaScript Object Notation）格式的地理数据。</p>
                     <p>您可以将任何Oracle Spatial和Graph SDO_GEOMETRY对象转换为JSON几何对象，并将几何JSON对象转换回SDO_GEOMETRY对象。</p>
                     <p>Spatial和Graph中的JSON支持包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-49B32484-EF2B-4541-8C7A-26A532727245">SDO_UTIL.TO_JSON</a>将SDO_GEOMETRY对象转换为CLOB格式的JSON对象。
                           </p>
                        </li>
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-E8072BC2-2B85-4AA7-943A-38585ED338C4">SDO_UTIL.TO_JSON_VARCHAR</a>将SDO_GEOMETRY对象转换为VARCHAR2格式的JSON对象。
                           </p>
                        </li>
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-77D8F7B9-C3C7-4B65-B6D7-025C06A3834B">SDO_UTIL.FROM_JSON</a>将JSON对象（以CLOB或VARCHAR2格式）转换为SDO_GEOMETRY对象。此函数还可以将GeoJSON对象转换为SDO_GEOMETRY对象。
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C__JSONSUPPORTINSPATIALANDGRAPH-36BD5580">
                        <p class="titleinexample">示例1-3空间和图形中的JSON支持</p>
                        <p>此示例显示了使用Oracle Spatial and Graph中的JSON支持的一些操作。该示例创建一个包含JSON列和SDO_GEOMETRY列的简单表，插入一些示例数据，执行一些简单查询，创建空间索引，并使用SDO_WITHIN_DISTANCE运算符执行查询。</p>
                        <p>该示例使用Oracle数据库的以下与JSON相关的功能， <a href="../adjsn/index.html" target="_blank"><span class="italic">Oracle数据库JSON开发人员指南中</span></a>对此进行了介绍：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>ISATE JSON Oracle SQL条件在CREATE TABLE语句中的检查约束中，以确保列包含JSON数据</p>
                           </li>
                        </ul>
                        <p>该示例包括描述性注释和SQL语句的输出。（为了便于阅读，输出已重新格式化。）</p><pre class="pre codeblock"><code>- 在Spatial和Graph中使用JSON支持的一些操作。- 创建一个包含3列的表：一个JSONC（JSON CLOB），一个JSONV（JSON VARCHAR2），以及一个SDO_GEOMETRY。 CREATE TABLE JSON_TBL（jsonc CLOB，jsonv VARCHAR2（4000），geom SDO_GEOMETRY，CONSTRAINT json_tbl_json CHECK（jsonc IS JSON））;表创建。- 测试约束INSERT INTO json_tbl VALUES（'Not JSON'，NULL，NULL）; ORA-02290：违反了检查约束（SCOTT.JSON_TBL_JSON） - 插入一些数据（2分）。INSERT INTO JSON_TBL（jsonc）VALUES（'{“srid”：8307，“point”：{“directposition”：[123.4，-10.1]}}'）;已创建1行。INSERT INTO JSON_TBL（jsonc）VALUES（'{“srid”：8307，“point”：{“directposition”：[123.5，-10.2]}}'）;已创建1行。承诺;提交完成。- 使用VARCHAR格式的JSON对象更新表，并且 - 从JSON对象创建的SDO_GEOMETRY UPDATE JSON_TBL SET jsonv = SDO_UTIL.TO_JSON_VARCHAR（SDO_UTIL.FROM_JSON（jsonc）），geom = SDO_UTIL.FROM_JSON（jsonc）; 2行更新。承诺; SELECT jsonc，jsonv，geom FROM json_tbl; JSONC ------- JSONV ------- GEOM（SDO_GTYPE，SDO_SRID，SDO_POINT（X，Y，Z），SDO_ELEM_INFO，SDO_ORDINATES）--------------- -------------------------------------------------- ------ {“srid”：8307，“point”：{“directposition”：[123.4，-10.1]}} {“srid”：8307，“point”：{“directposition”：[123.4， - 10.1]}} SDO_GEOMETRY（2001,8307，SDO_POINT_TYPE（123.4，-10.1，NULL），NULL，NULL）{“srid”：8307，“point”：{“directposition”：[123.5，-10.2]}} {“ srid“：8307，”point“：{”directposition“：[123.5，-10.2]}} SDO_GEOMETRY（2001,8307，SDO_POINT_TYPE（123.5，-10.2，NULL），NULL，NULL）</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0" title="Spatial和Graph支持使用JSON和GeoJSON对象来存储，索引和管理JSON（JavaScript Object Notation）格式的地理数据。">Oracle Spatial and Graph中的JSON和GeoJSON支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F" name="GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F"></a><h4 id="SPATL-GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F" class="sect4"><span class="enumeration_section">1.14.2</span> Oracle Spatial和Graph中的GeoJSON支持</h4>
                  <div>
                     <p>Spatial和Graph支持使用GeoJSON对象来存储，索引和管理JSON（JavaScript Object Notation）格式的地理数据。</p>
                     <p>您可以将Oracle Spatial和Graph SDO_GEOMETRY对象转换为GeoJSON对象，将GeoJSON对象转换为SDO_GEOMETRY对象。您可以使用空间运算符，函数和特殊的SDO_GEOMETRY方法来处理GeoJSON数据。</p>
                     <p>Spatial和Graph中的GeoJSON支持包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-DB459897-729F-41D6-A2F3-DD39F22D8F63">SDO_UTIL.TO_GEOJSON</a>函数将SDO_GEOMETRY对象转换为GeoJSON对象。
                           </p>
                        </li>
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-9D040DDE-64CD-4C98-B04B-11DA36D3A0D6">SDO_UTIL.FROM_GEOJSON</a>函数将GeoJSON对象转换为SDO_GEOMETRY对象。
                           </p>
                        </li>
                        <li>
                           <p>SDO_GEOMETRY类型的Get_GeoJson方法（成员函数）（有关解释和示例，请参阅<a href="spatial-datatypes-metadata.html#GUID-9BE85C1A-B96B-4CDB-A202-11AFFC7E9FC1" title="SDO_GEOMETRY对象类型具有检索有关几何对象的信息的方法（成员函数）。">SDO_GEOMETRY方法</a> ）。
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F__GUID-3F6882F9-FDCA-428D-BD69-2753B6A03831">
                        <p class="titleinexample">示例1-4空间和图形中的GeoJSON支持</p>
                        <p>此示例显示了使用Oracle Spatial and Graph中的GeoJSON支持的一些操作。该示例创建一个包含GeoJSON列和SDO_GEOMETRY列的简单表，插入一些示例数据，执行一些简单查询，创建空间索引，并使用SDO_WITHIN_DISTANCE运算符执行查询。</p>
                        <p>该示例使用Oracle数据库的以下与JSON相关的功能，这些功能在<a href="../adjsn/index.html" target="_blank"><span class="italic">Oracle Database JSON Developer's Guide中有记录</span></a> ：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用RETURNING <code class="codeph">RETURNING SDO_GEOMETRY</code>的JSON_VALUE Oracle SQL函数返回反映GeoJSON对象的SDO_GEOMETRY对象</p>
                           </li>
                           <li>
                              <p>ISATE JSON Oracle SQL条件在CREATE TABLE语句中的检查约束中，以确保列包含JSON数据</p>
                           </li>
                        </ul>
                        <p>该示例包括描述性注释和SQL语句的输出。（为了便于阅读，输出已重新格式化。）</p><pre class="pre codeblock"><code>- 在Spatial和Graph中使用GeoJSON支持的一些操作。- 创建一个包含2列的表：一个GeoJSON，一个SDO_GEOMETRY。 CREATE TABLE GEO_TABLE（geojson_col VARCHAR2（4000），geom_col SDO_GEOMETRY，CONSTRAINT CHECK（geojson_col IS JSON））;表创建。- 插入一些数据（2分）。INSERT INTO GEO_TABLE（geojson_col）值（'{“a”：{“type”：“Point”，“coordinates”：[+ 123.4，+ 10.1]}}'）;已创建1行。INSERT INTO GEO_TABLE（geojson_col）值（'{“a”：{“type”：“Point”，“coordinates”：[+ 123.5，-10.1]}}'）;已创建1行。承诺;提交完成。SQL&gt;  - 对于每个geojson_col值，返回其SDO_GEOMETRY等效值。SQL&gt; SELECT JSON_VALUE（geojson_col，'$ .a'RETURNING SDO_GEOMETRY）来自GEO_TABLE; JSON_VALUE（GEOJSON_COL，'$。A'RETURNINGSDO_GEOMETRY）（SDO_GTYPE，SDO_SRID，SDO_POIN ---------------------------------------- ---------------------------------------- SDO_GEOMETRY（2001,4326，SDO_POINT_TYPE（123.4， 10.1，NULL），NULL，NULL）SDO_GEOMETRY（2001,4326，SDO_POINT_TYPE（123.5，-10.1，NULL），NULL，NULL） - 对于指定的GeoJSON对象定义，返回其SDO_GEOMETRY  - 等效的内容。从DUAL中选择JSON_VALUE（'{“type”：“Point”，“coordinates”：[+ 123.5，-10.1]}'，'$'RETURNING SDO_GEOMETRY）; JSON_VALUE（'{“TYPE”：“POINT”，“COORDINATES”：[+ 123.5，-10.1]}'，'$'RETURNINGSDO_GEOME -------------------- -------------------------------------------------- ---------- SDO_GEOMETRY（2001,4326，SDO_POINT_TYPE（123.5，-10.1，NULL），NULL，NULL） - 更新以使用反映JSON数据的SDO_GEOMETRY对象填充geom_col  - 在geojson_col列中。UPDATE GEO_TABLE set geom_col = JSON_VALUE（geojson_col，'$ .a'RETURNING SDO_GEOMETRY）; 2行更新。承诺;提交完成。- 从JSON数据创建返回的SDO_GEOMETRY对象的空间索引。在GEO_TABLE上创建索引GEO_TABLE_IX（JSON_VALUE（geojson_col，'$ .a'返回SDO_GEOMETRY））INDEXTYPE是MDSYS.SPATIAL_INDEX_V2;索引已创建。-  SDO_WITHIN_DISTANCE查询：相距100英里内的两个色度？SELECT 1 FROM GEO_TABLE WHERE SDO_WITHIN_DISTANCE（JSON_VALUE（geojson_col，'$ .a'RETURNING SDO_GEOMETRY），JSON_VALUE（'{“type”：“Point”，“coordinates”：[+ 123.5，-10.1]}'，'$'RETURNING SDO_GEOMETRY），'distance = 100 unit = mile'）='TRUE'; 1 ---------- 1</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0" title="Spatial和Graph支持使用JSON和GeoJSON对象来存储，索引和管理JSON（JavaScript Object Notation）格式的地理数据。">Oracle Spatial and Graph中的JSON和GeoJSON支持</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL1447"></a><div class="props_rev_3"><a id="GUID-03E5061C-190F-4465-857C-2344FEAF9814" name="GUID-03E5061C-190F-4465-857C-2344FEAF9814"></a><h3 id="SPATL-GUID-03E5061C-190F-4465-857C-2344FEAF9814" class="sect3"><span class="enumeration_section">1.15</span> Oracle Spatial and Graph中的NURBS曲线支持</h3>
               <div>
                  <p>Spatial和Graph支持非均匀有理B样条曲线（NURBS）曲线几何。</p>
                  <p>NURBS曲线允许表示具有任意形状的自由形状。NURBS表示允许控制曲线的形状，因为控制点和节点引导曲线的形状，并且它们允许用很少的数据表示复杂的形状。</p>
                  <p>在Spatial和Graph中支持NURBS曲线包括以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>WKT / WKB和GML函数用于在Oracle Spatial和Graph中加载和存储NURBS曲线几何。</p>
                     </li>
                     <li>
                        <p>验证NURBS曲线几何。</p>
                     </li>
                     <li>
                        <p>NURBS曲线几何的空间索引以及SDO_FILTER，SDO_RELATE和其他运算符。空间运算符使用曲线的近似值进行计算。</p>
                     </li>
                  </ul>
                  <p>NURBS表示需要指定控制点和基函数。反过来，基函数使用结矢量和曲线的程度来定义。控制点用于确定NURBS曲线的形状。结矢量不直接控制曲线的形状，而是用于控制端点的精确位置。结矢量也用于创建具有扭结和拐角的曲线。非均匀结矢量用于操纵曲线。</p>
                  <p>要表示NURBS曲线，必须存储以下数据：控制点，结矢量和曲线的程度。该组控制点可以以欧几里德形式表示为<code class="codeph">(x, y, z, w)</code> ，其中<code class="codeph">w</code>表示控制点的权重，或者以均匀形式表示为<code class="codeph">(wx, wy, wz, w)</code> 。如果对于所有<code class="codeph">i</code> ， <code class="codeph">wi</code> = 1，则曲线是非理性的。控制点以加权欧几里德形式指定。基于结矢量，基函数可以是均匀的或不均匀的。非均匀结矢量可用于放置端点并创建扭结或拐角。必须指定标准化的结矢量，即结矢量中的第一个结必须为零，并且结矢量中的最后一个结必须为1。还需要结点矢量在端点处“夹紧”。通过确保结矢量中的前<code class="codeph">d</code> +1值全为零并且最后的<code class="codeph">d</code> + 1值全部为1来强制执行该要求，其中<code class="codeph">d</code>表示NURBS曲线的程度。
                  </p>
                  <p>Oracle Spatial and Graph中NURBS曲线的实现遵循SQL / MM标准。NURBS曲线的SQL / MM标准用于表示样条曲线，多项式样条曲线，三次样条曲线，B样条曲线和贝塞尔曲线。在Oracle Spatial and Graph中，SDO_GEOMETRY对象类型用于NURBS表示。NURBS曲线可以包含在Line，Multiline和Collection类型的几何对象中。在这些几何中，简单的线字符串和复合线字符串类型元素可以包含NURBS。</p>
                  <p>对于包含至少一个NURBS段的复合线串，前一段的最后一点与NURBS段的“钳位”第一控制点相同，并且NURBS段的最后一个“钳位”控制点与下一部分的第一点。也就是说，顶点将被重复。</p>
                  <p>对于元素类型值为2表示线串的几何元素，解释值3用于表示NURBS曲线;解释值1和2表示线性段和弧。NURBS曲线的SDO_ELEM_INFO_ARRAY存储为（ <span class="italic">offset</span> ，2,3），表示偏移量，元素类型和解释值。
                  </p>
                  <p>SDO_ORDINATE_ARRAY存储曲线的度数<code class="codeph">d</code> ， <code class="codeph">m</code>控制点的集合和大小为<code class="codeph">n</code>的结向量。因此，纵坐标数组存储为一系列值<code class="codeph">(d, m, x1, y1, z1, w1…. xm, ym, zm, wm, n, k1….kn)</code> 。控制点以SQL / MM标准中指定的欧几里德形式存储。请注意，对于NURBS曲线，结的数量等于度数，控制点数量和1的总和。因此， <code class="codeph">n=d+m+1</code> ，这个方程可用于验证NURBS曲线几何。
                  </p>
                  <p>以下注意事项适用于定义NURBS曲线：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>曲线的程度应大于1，因为1度曲线代表折线。</p>
                     </li>
                     <li>
                        <p>控制点的数量必须大于或等于3，并且必须大于度数。</p>
                     </li>
                     <li>
                        <p>结的数量必须等于（控制点数+度+ 1）。</p>
                     </li>
                     <li>
                        <p>每个控制点的权重分量必须为正。</p>
                     </li>
                     <li>
                        <p>控制点以“加权欧几里德”形式表示<code class="codeph">[wx, wy, (wz), w]</code> 。
                        </p>
                     </li>
                     <li>
                        <p>结点值应以非递减顺序指定，结矢量必须是标准化的结矢量<code class="codeph">[0, ..……, 1]</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果<code class="codeph">d</code>是曲线的阶数，必须有<code class="codeph">d</code>在曲线（值0）和开头1级连续相等的结<code class="codeph">d</code> 1中的连续相等结在该曲线（值1）的端部。这是为了确保曲线在端点处被夹紧。
                        </p>
                     </li>
                     <li>
                        <p>如果<code class="codeph">d</code>是曲线的度数，则除了曲线的起点或终点必须存在<code class="codeph">d</code> +1节之外，必须不超过<code class="codeph">d</code>个连续的相等节点。
                        </p>
                     </li>
                  </ul>
                  <p>在创建空间索引或对其执行任何空间操作之前，请务必使用NURBS段验证几何。（此建议适用于所有几何类型，NURBS或其他。）</p>
                  <p>有关指定NURBS曲线几何的示例，请参阅<a href="spatial-datatypes-metadata.html#GUID-BE099474-48F2-4F89-B211-449BB2A5CEFE">NURBS曲线</a> 。
                  </p>
                  <p>要获得作为输入NURBS曲线几何的近似值的线串几何，请使用<a href="SDO_UTIL-reference.html#GUID-2827946E-0D8E-447C-B046-299F633B21D8">SDO_UTIL.GETNURBSAPPROX</a>函数。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-D0143C10-296E-4E6F-A3DC-6370313CF53A" name="GUID-D0143C10-296E-4E6F-A3DC-6370313CF53A"></a><h3 id="SPATL-GUID-D0143C10-296E-4E6F-A3DC-6370313CF53A" class="sect3"><span class="enumeration_section">1.16</span> Oracle Spatial and Graph的Sharded数据库支持</h3>
               <div>
                  <p>Spatial和Graph支持使用分片数据库技术。</p>
                  <p>但是，Spatial和Graph不支持分区管理操作（PMO），例如MERGE PARTITION和SPLIT PARTITION。</p>
                  <p>有关Oracle分片的概述，请参见“ <a href="../shard/sharding-overview.html#GUID-0F39B1FB-DCF9-4C8A-A2EA-88705B90C5BF" target="_blank"><span class="italic">Oracle数据库管理员指南”</span></a> 。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL476"></a><div class="props_rev_3"><a id="GUID-F721391C-9B12-455F-8D52-DA3CC9496EB1" name="GUID-F721391C-9B12-455F-8D52-DA3CC9496EB1"></a><h3 id="SPATL-GUID-F721391C-9B12-455F-8D52-DA3CC9496EB1" class="sect3"><span class="enumeration_section">1.17</span>空间和图形Java应用程序编程接口</h3>
               <div>
                  <p>Oracle Spatial and Graph提供了Java应用程序编程接口（API）。</p>
                  <p>此API包括以下包：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">oracle.spatial.geometry</code>支持Spatial和Graph SQL SDO_GEOMETRY数据类型，本指南中对此进行了介绍。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.georaster</code>支持核心GeoRaster功能，这些功能在<a href="../geors/georaster-overview-and-concepts.html#GEORS100" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster开发人员指南中有记录</span></a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.georaster.image</code>支持从GeoRaster对象或GeoRaster对象的子集生成Java图像，以及处理图像。<a href="../geors/georaster-overview-and-concepts.html#GEORS100" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster开发人员指南</span></a>中介绍了这些功能。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.georaster.sql</code>支持包装GeoRaster PL / SQL API， <a href="../geors/georaster-overview-and-concepts.html#GEORS100" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster Developer's Guide中</span></a>对此进行了介绍。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.network</code>提供对Oracle Spatial and Graph网络数据模型图的支持，该图在<a href="../topol/network-data-model.html#TOPOL-GUID-090C37E3-4092-40A6-8E29-D84DF16765BA" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model和Network Data Model Graph Developer's Guide中有记录</span></a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.network.lod</code>在Oracle空间和图形网络数据模型图中为网络分析的按需加载（LOD）方法提供支持，该图在<a href="../topol/network-data-model-graph-overview.html#TOPOL904" target="_blank"><span class="italic">Oracle空间和图形拓扑数据模型和网络数据模型图中有记录。开发人员指南</span></a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.network.lod.config</code>为Oracle Spatial and Graph网络数据模型图提供了对按需加载（LOD）网络分析配置的支持，该模型在<a href="../topol/network-data-model-graph-overview.html#TOPOL904" target="_blank"><span class="italic">Oracle Spatial and Graph拓扑数据模型和网络数据中有记录。模型图开发人员指南</span></a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.topo</code>为Oracle Spatial and Graph拓扑数据模型提供支持，该模型在<a href="../topol/topology-data-model.html#TOPOL-GUID-568DB747-C605-43E8-A8B4-8FA268B9D687" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model和Network Data Model Graph Developer's Guide中有记录</span></a> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.util</code>提供执行各种操作的类。
                        </p>
                     </li>
                  </ul>
                  <p>有关这些包中的类和接口的详细参考信息，请参阅<a href="../spajv/index.html" target="_blank"><span class="italic">Oracle Spatial and Graph Java API Reference</span></a> （Javadoc）。
                  </p>
                  <p>Spatial和Graph Java类库位于<code class="codeph">&lt;ORACLE_HOME&gt;/md/jlib/</code>目录下的<code class="codeph">.jar</code>文件中。
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL478"></a><a id="SPATL477"></a><div class="props_rev_3"><a id="GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467" name="GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467"></a><h3 id="SPATL-GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467" class="sect3"><span class="enumeration_section">1.18</span>由空间和图形创建的预定义用户帐户</h3>
               <div>
                  <p>在安装过程中，Spatial和Graph会创建具有执行其作业所需的最低权限的用户帐户。</p>
                  <p>这些帐户已创建锁定和已过期;因此，如果您需要使用帐户，则必须解锁它们。<a href="spatial-concepts.html#GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467__BABDBJJA" title="由Spatial创建的预定义用户帐户。第1列是用户帐户，第2列是描述。">表1-4</a>列出了Spatial和Graph创建的预定义用户帐户。
                  </p>
                  <div class="tblformal" id="GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467__BABDBJJA">
                     <p class="titleintable">表1-4空间和图形创建的预定义用户帐户</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="空间和图形创建的预定义用户帐户" width="100%" border="1" summary="Predefined user accounts created by Spatial. Column 1 is User Account, and column 2 is Description." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d9079e5384">用户帐号</th>
                              <th align="left" valign="bottom" width="67%" id="d9079e5387">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d9079e5392" headers="d9079e5384 ">
                                 <p>MDSYS</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d9079e5392 d9079e5387 ">
                                 <p>Oracle Spatial and Graph使用的模式，用于规定支持的几何数据类型的存储，语法和语义。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d9079e5399" headers="d9079e5384 ">
                                 <p>MDDATA</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d9079e5399 d9079e5387 ">
                                 <p>Oracle Spatial and Graph用于存储地理编码和路由应用程序使用的数据的模式。这是访问地理编码和路由数据的Oracle软件的默认架构。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d9079e5406" headers="d9079e5384 ">
                                 <p>SPATIAL_CSW_ADMIN_USR</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d9079e5406 d9079e5387 ">
                                 <p>Web服务目录服务（CSW）帐户。Oracle Spatial and Graph CSW缓存管理器使用它将所有记录类型元数据和所有记录实例从数据库加载到主内存中以用于缓存的记录类型。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL479"></a><div class="props_rev_3"><a id="GUID-FFA351D4-F647-4254-B21C-1F50C9D9792E" name="GUID-FFA351D4-F647-4254-B21C-1F50C9D9792E"></a><h3 id="SPATL-GUID-FFA351D4-F647-4254-B21C-1F50C9D9792E" class="sect3"><span class="enumeration_section">1.19</span>性能和调优信息</h3>
               <div>
                  <p>许多因素都会影响Oracle Spatial和Graph应用程序的性能，例如使用优化程序提示来影响查询执行计划。</p>
                  <p>本指南包含有关性能和调整与特定主题相关的一些信息。例如， <a href="spatial-concepts.html#GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2">R-Tree Quality</a>讨论了R树质量及其对查询性能的可能影响，而<a href="spatial-concepts.html#GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244" title="Spatial和Graph PL / SQL应用程序编程接口（API）包括几个运算符和许多过程和函数。">Spatial Operators_ Procedures_和Functions</a>解释了为什么空间运算符提供比程序和函数更好的性能。
                  </p>
                  <p>此外，通过Oracle技术网（OTN）可在一篇或多篇白皮书中提供更多空间性能和调优信息。该信息通常比本指南中的信息更详细，并且由于内部测试和与Spatial和Graph用户的协商而定期更新。要在OTN上找到该信息，请转到</p>
                  <p><a href="http://www.oracle.com/technetwork/database/options/spatialandgraph/" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/database/options/spatialandgraph/</code></a></p>
                  <p>寻找与空间性能和调整相关的材料。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL480"></a><div class="props_rev_3"><a id="GUID-2CFFA9C3-1873-4D93-AE89-746A7E041B65" name="GUID-2CFFA9C3-1873-4D93-AE89-746A7E041B65"></a><h3 id="SPATL-GUID-2CFFA9C3-1873-4D93-AE89-746A7E041B65" class="sect3"><span class="enumeration_section">1.20</span> OGC和ISO合规性</h3>
               <div>
                  <p>Oracle Spatial and Graph符合开放地理空间联盟（OGC）简单功能规范1.1.1（文档99-049），从Oracle数据库版本10 <span class="italic">g</span> （版本10.1.0.4）开始。
                  </p>
                  <p>符合几何类型实现意味着Oracle Spatial和Graph支持规范的第3.2节中详述的所有类型，函数和语言结构。</p>
                  <p><a id="d9079e5589" class="indexterm-anchor"></a>创建同义词以匹配除<code class="codeph">X(p Point)</code>和<code class="codeph">Y(p Point)</code>之外的所有OGC函数名称。对于这些函数，必须使用名称<code class="codeph">OGC_X</code>和<code class="codeph">OGC_Y</code>而不是<code class="codeph">X</code>和<code class="codeph">Y</code></p>
                  <p>Oracle Spatial and Graph符合以下国际标准化组织（ISO）标准：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>ISO 13249-3 SQL多媒体和应用程序包 - 第3部分：空间</p>
                     </li>
                     <li>
                        <p>ISO 19101：地理信息 - 参考模型（术语和方法的定义）</p>
                     </li>
                     <li>
                        <p>ISO 19109：地理信息 - 应用模式规则（称为通用特征模型）</p>
                     </li>
                     <li>
                        <p>ISO 19111：地理信息 - 坐标的空间参考（也是坐标参考系的OGC抽象规范）</p>
                     </li>
                     <li>
                        <p>ISO 19118：地理信息 - 编码（GML 2.1和GML 3.1.1）</p>
                     </li>
                     <li>
                        <p>ISO 19107：地理信息 - 空间模式（也是几何的OGC抽象规范）</p>
                     </li>
                  </ul>
                  <p>但是，Oracle Spatial and Graph的标准合规性测试正在进行中，并且可能随时宣布符合更新版本的标准或新标准。有关符合标准的最新信息，请参阅<a href="http://www.oracle.com/technetwork/database/options/spatialandgraph/documentation/" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/database/options/spatialandgraph/documentation/</code></a> 。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL481"></a><div class="props_rev_3"><a id="GUID-365A972C-51C9-4363-B230-FED19D86F213" name="GUID-365A972C-51C9-4363-B230-FED19D86F213"></a><h3 id="SPATL-GUID-365A972C-51C9-4363-B230-FED19D86F213" class="sect3"><span class="enumeration_section">1.21</span>空间和图表发布（版本）编号</h3>
               <div>
                  <p>要检查您正在运行的Spatial和Graph的哪个版本，请使用SDO_VERSION函数。</p>
                  <p>例如：</p><pre class="oac_no_warn" dir="ltr">从DUAL中选择SDO_VERSION; SDO_VERSION ------------------------------------------------- ------------------------------- 12.2.0.1.0</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1470"></a><div class="props_rev_3"><a id="GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669" name="GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669"></a><h3 id="SPATL-GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669" class="sect3"><span class="enumeration_section">1.22</span> SPATIAL_VECTOR_ACCELERATION系统参数</h3>
               <div>
                  <p>要加速空间运算符的性能，建议您通过将SPATIAL_VECTOR_ACCELERATION数据库系统参数设置为值<code class="codeph">TRUE</code>来启用向量性能加速器（VPA）功能。 （此功能和关联的系统参数仅授权由许可的Oracle Spatial和Graph用户使用，参数的默认值为<code class="codeph">FALSE</code> 。）
                  </p>
                  <p>将SPATIAL_VECTOR_ACCELERATION参数设置为<code class="codeph">TRUE</code>的好处包括：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>改进了空间算子和函数的空间算法</p>
                     </li>
                     <li>
                        <p>所有空间操作符和函数的元数据缓存，可提高其整体性能</p>
                     </li>
                     <li>
                        <p>所有DML操作的元数据缓存，使得对空间表的插入，更新和删除操作运行得更快</p>
                     </li>
                  </ul>
                  <p>您可以为整个系统或单个会话设置此参数。要设置整个系统的值，请执行以下任一操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>从适当特权帐户输入以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SPATIAL_VECTOR_ACCELERATION = TRUE;</pre></li>
                     <li>
                        <p>将以下内容添加到数据库初始化文件（ <span class="italic">xxx</span> init.ora）：</p><pre class="oac_no_warn" dir="ltr">SPATIAL_VECTOR_ACCELERATION = TRUE;</pre></li>
                  </ul>
                  <p>要设置当前会话的值，请从适当特权帐户输入以下语句：</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET SPATIAL_VECTOR_ACCELERATION = TRUE;</pre></div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669__GUID-B18E3595-E2DC-41EA-84D0-28D6BC75E935">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">SPATIAL_VECTOR_ACCELERATION</code>数据库初始化参数的参考和用法信息，请参见<a href="../refrn/SPATIAL_VECTOR_ACCELERATION.html#REFRN10337" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1515"></a><a id="SPATL1514"></a><div class="props_rev_3"><a id="GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6" name="GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6"></a><h3 id="SPATL-GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6" class="sect3"><span class="enumeration_section">1.23在</span>空间上启用表格</h3>
               <div>
                  <p>如果您有一个没有SDO_GEOMETRY列的常规Oracle表，但包含与位置相关的信息（例如点的纬度/经度值），则可以通过添加SDO_GEOMETRY列并使用现有（和将来）位置相关来在<span class="italic">空间上启用</span>该表记录中的信息，用于填充SDO_GEOMETRY列值。
                  </p>
                  <div class="section">
                     <p>以下是空间启用常规表的基本步骤。他们假设常规表具有包含与表中每个记录关联的位置相关值的列。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>更改表以添加几何（SDO_GEOMETRY）列。</span></li>
                     <li><span>更新表以使用现有的与位置相关的数据值填充SDO_GEOMETRY对象。</span></li>
                     <li><span>更新空间元数据（USER_SDO_GEOM_METADATA）。</span></li>
                     <li><span>在表上创建空间索引。</span></li>
                  </ol>
                  <div class="example" id="GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6__BHCGHJBG">
                     <p class="titleinexample">示例1-5空间启用表</p><pre class="oac_no_warn" dir="ltr">- 没有空间几何列的原始表。CREATE TABLE city_points（city_id NUMBER PRIMARY KEY，city_name VARCHAR2（25），纬度NUMBER，经度NUMBER）; - 表格的原始数据。- （样本坐标适用于城市内或城市附近的随机点。）INSERT INTO city_points（city_id，city_name，纬度，经度）VALUES（1，'Boston'，42.207905，-71.015625）; INSERT INTO city_points（city_id，city_name，纬度，经度）VALUES（2，'Raleigh'，35.634679，-78.618164）; INSERT INTO city_points（city_id，city_name，纬度，经度）VALUES（3，'San Francisco'，37.661791，-122.453613）; INSERT INTO city_points（city_id，city_name，纬度，经度）VALUES（4，'Memphis'，35.097140，-90.065918）; - 添加空间几何体列。ALTER TABLE city_points ADD（形状SDO_GEOMETRY）; - 更新表以使用现有 -  latutide和经度坐标填充几何对象。UPDATE city_points SET shape = SDO_GEOMETRY（2001,8307，SDO_POINT_TYPE（LONGITUDE，LATITUDE，NULL），NULL，NULL）; - 更新空间元数据。INSERT INTO user_sdo_geom_metadata VALUES（'city_points'，'SHAPE'，SDO_DIM_ARRAY（SDO_DIM_ELEMENT（'经度'， -  180,180,0.5），SDO_DIM_ELEMENT（'纬度'， -  90,90,0.5）），8307）; - 创建空间索引。city_points上的CREATE INDEX city_points_spatial_idx（SHAPE）INDEXTYPE是MDSYS.SPATIAL_INDEX_V2; - 稍后，使用原始INSERT格式向表中添加新记录 - （纬度和经度，无空间几何对象数据）。- 然后更新以包括空间几何对象信息。- 提示：为了提高效率，请跟踪现有记录和新记录，并使用 -  WHERE子句将UPDATE限制为新记录（此处未显示）。INSERT INTO city_points（city_id，city_name，纬度，经度）VALUES（5，'Chicago'，41.848832，-87.648926）; INSERT INTO city_points（city_id，city_name，纬度，经度）VALUES（6，'Miami'，25.755043，-80.200195）; UPDATE city_points SET shape = SDO_GEOMETRY（2001,8307，SDO_POINT_TYPE（LONGITUDE，LATITUDE，NULL），NULL，NULL）;</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p><a href="spatial-concepts.html#GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6__BHCGHJBG">示例1-5</a>创建一个表（CITY_POINTS），该表最初不包含SDO_GEOMETRY列，但包含每个记录（指定城市中或附近的点）的纬度和经度值。它在空间上启用表，更新现有记录以包含SDO_GEOMETRY信息，并且还插入新记录并更新这些记录。
                     </p>
                     <p><a href="spatial-concepts.html#GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6__BHCGHJBG">例1-5的</a>注释：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>原始表具有该顺序的LATITUDE和LONGITUDE值并不重要，只要在UPDATE语句中的几何构造函数（在本例中为SDO_POINT）中以正确的顺序指定列名。（SDO_GEOMETRY对象首先是经度，然后是纬度。）</p>
                        </li>
                        <li>
                           <p>示例中不包括几何验证，因为验证与点无关。但是，如果在空间上启用具有其他类型几何的表，则应验证所有初始和添加的几何。（要执行验证，请使用<a href="SDO_GEOM-reference.html#GUID-D909C540-8CED-453D-AEA6-0212D09F1781">SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT</a>或<a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a> 。）
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6__GUID-2E98A317-BF24-489E-A3AF-66D0E6E6E50A">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="spatial-datatypes-metadata.html#GUID-5A7FCD16-E726-430F-91BE-56D7F7BAA359" title="Oracle Spatial和Graph中的空间要素由一组对象数据类型，类型方法以及使用这些类型的运算符，函数和过程组成。几何图形作为对象存储在单行中的SDO_GEOMETRY类型的列中。使用基本DDL（CREATE，ALTER，DROP）和DML（INSERT，UPDATE，DELETE）语句完成空间索引创建和维护。">空间数据类型和元数据</a></p>
                        </li>
                        <li>
                           <p><a href="indexing-querying-spatial-data.html#GUID-07129836-0DAE-4BCC-B290-942C456AE2EA" title="加载空间数据后，应在其上创建空间索引，以使用数据实现高效的查询性能。">索引和查询空间数据</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1448"></a><div class="props_rev_3"><a id="GUID-7D60F812-61A2-4AC2-8171-D0E5CB1FE787" name="GUID-7D60F812-61A2-4AC2-8171-D0E5CB1FE787"></a><h3 id="SPATL-GUID-7D60F812-61A2-4AC2-8171-D0E5CB1FE787" class="sect3"><span class="enumeration_section">1.24</span>移动空间元数据（MDSYS.MOVE_SDO）</h3>
               <div>
                  <p>数据库管理员（DBA）可以使用MDSYS.MOVE_SDO过程将所有Oracle Spatial和Graph元数据表移动到指定的目标表空间。</p>
                  <p>默认情况下，空间元数据表在版本11.1及更高版本的<code class="codeph">SYSAUX</code>表空间中创建，在11.1之前的版本中的<code class="codeph">SYSTEM</code>表空间中创建。
                  </p>
                  <p>MDSYS.MOVE_SDO过程具有以下语法：</p><pre class="oac_no_warn" dir="ltr">MDSYS.MOVE_SDO（target_tablespace_name IN VARCHAR2）;</pre><p>必需的<code class="codeph">target_tablespace_name</code>参数指定要将空间元数据表移动到的表空间的名称。
                  </p>
                  <p>此过程只能由DBA使用。</p>
                  <p>在移动操作期间，禁用所有其他Oracle Spatial和Graph功能。</p>
                  <p>以下示例将空间元数据表移动到<code class="codeph">SYSAUX</code>表空间。
                  </p><pre class="oac_no_warn" dir="ltr">EXECUTE MDSYS.MOVE_SDO（'SYSAUX'）;</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL482"></a><div class="props_rev_3"><a id="GUID-E084ADA0-6926-4BD6-B06B-D81F71CD405B" name="GUID-E084ADA0-6926-4BD6-B06B-D81F71CD405B"></a><h3 id="SPATL-GUID-E084ADA0-6926-4BD6-B06B-D81F71CD405B" class="sect3"><span class="enumeration_section">1.25</span>空间应用硬件要求注意事项</h3>
               <div>
                  <p>本主题讨论了一些影响使用Oracle Spatial and Graph的应用程序所需的磁盘存储空间和CPU功率量的一般准则。</p>
                  <p>这些指南旨在补充而非替代您用于一般应用程序大小调整的任何其他指南。</p>
                  <p>空间应用程序的以下特征可能会影响对存储空间和CPU功率的需求：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据量：空间对象所需的存储空间量取决于它们的复杂程度（表示精度和每个对象的点数）。例如，存储一百万个点对象比存储一百万个路段或地块占用更少的空间。如果海岸线，地震断层线，河流和陆地类型等复杂的自然特征以高精度储存，则需要大量的存储空间。</p>
                     </li>
                     <li>
                        <p>查询复杂性：简单映射查询的CPU要求（例如<span class="italic">选择此矩形中的所有</span>要素）低于更复杂的查询，例如<span class="italic">查找穿过此海岸线的所有地震断层线</span> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL483"></a><div class="props_rev_3"><a id="GUID-5ECB6265-8891-487A-B476-B15896AA469E" name="GUID-5ECB6265-8891-487A-B476-B15896AA469E"></a><h3 id="SPATL-GUID-5ECB6265-8891-487A-B476-B15896AA469E" class="sect3"><span class="enumeration_section">1.26</span>空间和图形错误消息</h3>
               <div>
                  <p>Spatial和Graph有一组错误消息。</p>
                  <p><a href="../errmg/index.html" target="_blank"><span class="italic">Oracle数据库错误消息</span></a>中记录了Spatial和Graph <a href="../errmg/index.html" target="_blank"><span class="italic">错误消息</span></a> 。
                  </p>
                  <p>Oracle错误消息文档仅在HTML中可用。您可以按范围浏览错误消息;一旦找到特定范围，请使用浏览器的“查找页面”功能查找特定消息。您还可以使用Oracle联机文档的错误消息搜索功能搜索特定的错误消息。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL484"></a><div class="props_rev_3"><a id="GUID-8EAC36B2-11E8-48FD-A5D0-65C2A8E73B70" name="GUID-8EAC36B2-11E8-48FD-A5D0-65C2A8E73B70"></a><h3 id="SPATL-GUID-8EAC36B2-11E8-48FD-A5D0-65C2A8E73B70" class="sect3"><span class="enumeration_section">1.27</span>空间范例</h3>
               <div>
                  <p>Oracle Spatial and Graph提供了一些示例，您可以使用这些示例来强化您的学习并创建用于编码某些操作的模型。</p>
                  <p><a id="d9079e6315" class="indexterm-anchor"></a>如果您安装了Oracle数据库示例介质中的演示文件（请参阅“ <a href="../exmpl/index.html" target="_blank"><span class="italic">Oracle数据库示例安装指南”</span></a> ），则以下目录中提供了几个示例：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">$ ORACLE_HOME</span> / md / demo / examples</pre><p><a id="d9079e6330" class="indexterm-anchor"></a><a id="d9079e6334" class="indexterm-anchor"></a><a id="d9079e6338" class="indexterm-anchor"></a><a id="d9079e6342" class="indexterm-anchor"></a><a id="d9079e6344" class="indexterm-anchor"></a>该目录中的以下文件对使用Oracle调用接口（OCI）的应用程序很有帮助：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">readgeom.c</code>和<code class="codeph">readgeom.h</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">writegeom.c</code>和<code class="codeph">writegeom.h</code></p>
                     </li>
                  </ul>
                  <p><a id="d9079e6363" class="indexterm-anchor"></a><a id="d9079e6367" class="indexterm-anchor"></a><a id="d9079e6371" class="indexterm-anchor"></a><a id="d9079e6373" class="indexterm-anchor"></a>本指南还包括SQL和PL / SQL中的许多示例。通常为一个或多个示例提供每个函数或过程的参考信息，并提供几个简化示例，用于说明表和索引创建，函数和过程的组合以及高级功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>插入，索引和查询空间数据（ <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="本主题提供了创建空间表，插入数据，创建空间索引和执行空间查询的简单示例">简单示例：Inserting_ Indexing_和查询空间数据</a> ）</p>
                     </li>
                     <li>
                        <p>坐标系（空间参考系）（ <a href="coordinate-systems-concepts.html#GUID-A20C91C0-FE69-4F2C-B725-6B327B43558C" title="本主题提供了一个使用坐标系转换函数和过程的简化示例。">坐标系转换示例</a> ）</p>
                     </li>
                     <li>
                        <p>线性参考系统（LRS）（ <a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770" title="本节介绍使用LRS功能的简化示例。">LRS功能示例</a> ）</p>
                     </li>
                     <li>
                        <p>基于函数的索引中的<a href="extending-spatial-indexing.html#GUID-CFB6B6DB-4B97-43D1-86A1-21C1BA853089" title="A function-based spatial index facilitates queries that use location information (of type SDO_GEOMETRY) returned by a function or expression. In this case, the spatial index is created based on the precomputed values returned by the function or expression.">SDO_GEOMETRY对象</a> （基于函数的索引中的<a href="extending-spatial-indexing.html#GUID-CFB6B6DB-4B97-43D1-86A1-21C1BA853089" title="基于函数的空间索引有助于使用函数或表达式返回的位置信息（类型为SDO_GEOMETRY）的查询。在这种情况下，空间索引是根据函数或表达式返回的预先计算的值创建的。">SDO_GEOMETRY对象</a> ）</p>
                     </li>
                     <li>
                        <p>复杂查询（ <a href="complex-spatial-queries.html#GUID-66516CA7-D36C-4A73-90FC-28C650DDDF68" title="本附录提供了比参考章节中的示例更复杂的查询的示例和解释。">复杂空间查询：示例</a> ）</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL485"></a><div class="props_rev_3"><a id="GUID-28BF04E9-D9EC-474E-B6C0-40231A6CCF99" name="GUID-28BF04E9-D9EC-474E-B6C0-40231A6CCF99"></a><h3 id="SPATL-GUID-28BF04E9-D9EC-474E-B6C0-40231A6CCF99" class="sect3"><span class="enumeration_section">1.28</span>空间和图形以及相关功能的自述文件</h3>
               <div>
                  <p><code class="codeph">README.txt</code>文件补充了几本手册中的信息。
                  </p>
                  <p><a id="d9079e6493" class="indexterm-anchor"></a>这些手册是<span class="italic">Oracle Spatial and Graph Developer's Guide</span> （本手册）， <a href="../geors/index.html" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster开发人员指南</span></a> ，以及<a href="../topol/index.html" target="_blank"><span class="italic">Oracle Spatial and Graph拓扑数据模型和网络数据模型图开发人员指南</span></a> 。该文件位于：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">$ ORACLE_HOME</span> /md/doc/README.txt</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph是一组集成的功能，过程，数据类型和数据模型，支持空间和图形分析。空间特征使空间数据能够在Oracle数据库中快速有效地存储，访问和分析。">空间概念</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>