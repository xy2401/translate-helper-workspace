<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Flex ASM enables Oracle ASM instances to run on a separate physical server from the database servers."></meta>
      <meta name="description" content="Oracle Flex ASM enables Oracle ASM instances to run on a separate physical server from the database servers."></meta>
      <title>管理Oracle Flex ASM</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle Flex ASM enables Oracle ASM instances to run on a separate physical server from the database servers."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configure-acfs-replication.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administer-filter-driver.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configure-acfs-replication.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administer-filter-driver.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-advanced-topics.html" property="item" typeof="WebPage"><span property="name">高级主题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理Oracle Flex ASM</li>
            </ol>
            <a id="GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" name="GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30"></a>
            
            <h2 id="OSTMG-GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" class="sect2"><span class="enumeration_chapter">19</span>管理Oracle Flex ASM</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Flex ASM使Oracle ASM实例能够在与数据库服务器不同的物理服务器上运行。</p>
               <p>本节讨论以下主题中的Oracle Flex ASM：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6">Oracle Flex ASM概述</a></p>
                  </li>
                  <li>
                     <p><a href="manage-flex-asm.html#GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8">关于设置Oracle Flex ASM</a></p>
                  </li>
                  <li>
                     <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0">管理Oracle Flex ASM</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30__GUID-BCEB133D-10A2-4BA6-9B57-ED7B97B915EF">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>有关Oracle Flex Cluster支持的信息，请参阅<a href="../cwadd/oracle-flex-clusters.html#CWADD92401" target="_blank"><span class="italic"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></span></a></p>
                     </li>
                     <li>
                        <p>有关使用Oracle ASM和Oracle ACFS配置Oracle Flex ASM的信息，请参阅<a href="https://support.oracle.com" target="_blank">My Oracle Support</a> （ <a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a> ）上的文章</p>
                     </li>
                     <li>
                        <p><a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="本主题提供与Oracle ASM远程实例一起使用的ASMCMD成员集群管理命令的摘要。">ASMCMD成员群集管理命令，</a>用于获取有关管理成员群集的ASMCMD命令的信息</p>
                     </li>
                     <li>
                        <p> 有关安装和升级Oracle Grid Infrastructure的信息，请参阅<a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”</cite></span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG104"></a><a id="OSTMG95646"></a><a id="OSTMG95645"></a><div class="props_rev_3"><a id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6" name="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6"></a><h3 id="OSTMG-GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6" class="sect3">Oracle Flex ASM概述</h3>
               <div>
                  <p>Oracle Flex ASM使Oracle ASM实例能够在与数据库服务器不同的物理服务器上运行。通过此部署，较大的Oracle ASM实例集群可以支持更多数据库客户端，同时减少整个系统的Oracle ASM占用空间。</p>
                  <p>使用Oracle Flex ASM时，Oracle ASM客户端配置为可直接访问存储。</p>
                  <p>使用Oracle Flex ASM，您可以将所有存储要求合并到一组磁盘组中。所有这些磁盘组都由在单个集群中运行的一小组Oracle ASM实例安装和管理。您可以使用基数设置指定Oracle ASM实例的数量。默认值为三个实例。</p>
                  <p>集群是一组提供组成员资格服务的节点。每个群集都具有全局唯一的名称。每个群集都有一个或多个Hub节点。Hub节点可以访问Oracle ASM磁盘。每个群集至少有一个专用网络和一个公共网络。如果群集将使用Oracle ASM进行存储，则它至少具有一个Oracle ASM网络。单个网络既可以用作专用网络，也可以用作Oracle ASM网络。出于安全原因，Oracle ASM网络永远不应公开。群集中只能运行一个Oracle Flex ASM配置。</p>
                  <p>Oracle ASM实例可以在Oracle Flex ASM中的多个配置中运行：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>可直接访问Oracle ASM磁盘的本地Oracle ASM客户端（标准Oracle ASM集群）</p>
                     </li>
                     <li>
                        <p>可直接访问Oracle ASM磁盘的Oracle Flex ASM客户端</p>
                     </li>
                     <li>
                        <p>Oracle ACFS通过Oracle ASM代理实例进行访问</p>
                     </li>
                     <li>
                        <p>Oracle IOServer（IOS）与Oracle ASM磁盘组的基于网络的连接</p>
                     </li>
                  </ul>
                  <p>这些配置<a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">如图19-1</a> ， <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDCDBDJ">图19-2</a>和<a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-A1886105-12E5-4DFB-BCB0-438F8EF19BFB">图19-3所示</a> 。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-B1DF476C-21BB-49AA-8499-3ABD3807A211">可直接访问Oracle ASM磁盘的本地Oracle ASM客户端（标准Oracle ASM集群）</p>
                     <p>使用此模式（ <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">如图19-1中的</a> <span class="bold">Hub Node A</span> <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">所示）</a> ，Oracle ASM继续支持现有的标准体系结构，其中数据库客户端在同一主机上与Oracle ASM实例一起运行。仅在Hub节点上支持本地客户端体系结构。
                     </p>
                     <div class="figure" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">
                        <p class="titleinfigure">图19-1 Oracle Flex ASM客户端配置</p><img src="img/ostmg012.png" width="504" alt="下面是图19-1的描述" title="下面是图19-1的描述" longdesc="img_text/ostmg012.html"><br><a href="img_text/ostmg012.html">“图19-1 Oracle Flex ASM客户端配置”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在此配置中，数据库实例与Oracle ASM实例位于相同的Hub节点上，并称为本地Oracle ASM客户端实例。Oracle ASM元数据在Oracle ASM和数据库实例之间移动。此客户端具有对Oracle ASM磁盘的直接I / O访问权限。</p>
                     <p>本地模式不使用Oracle Flex ASM，因此使用本地Oracle ASM配置的集群不需要Oracle ASM网络，也不包含其他Oracle Flex ASM服务。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-DA1B2FF4-3C62-486D-8B0A-FD9975194F15">可直接访问Oracle ASM磁盘的Oracle Flex ASM客户端</p>
                     <p>使用此模式（ <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">如图19-1中的</a> <span class="bold">Hub Node B</span> <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">所示）</a> ，在Oracle ASM集群的Hub节点上运行的数据库客户端远程访问Oracle ASM以获取元数据，但是直接对Oracle ASM磁盘执行块I / O操作。运行Oracle ASM服务器和远程数据库客户端的主机必须都是Hub节点。Hub节点是Oracle ASM群集中与其他服务器紧密连接并可直接访问共享磁盘的节点。
                     </p>
                     <p>在此配置中，数据库实例位于与附近Oracle ASM实例不同的主机上， <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">如图19-1中的</a> <span class="bold">Hub Node C</span> <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">所示</a> ，并称为Oracle ASM客户端实例。
                     </p>
                     <p>这些数据库与Oracle ASM实例位于同一Oracle ASM集群中，并且数据库实例位于Hub节点上。Oracle ASM元数据在Oracle ASM和数据库实例之间移动。此客户端具有对Oracle ASM磁盘的直接I / O访问权限。</p>
                     <p>根据数据库实例和Oracle ASM实例的分布，数据库客户端可以在同一节点上本地访问Oracle ASM，也可以通过Oracle ASM网络远程访问Oracle ASM。Oracle ASM集群中的Hub节点上的数据库客户端使用此操作模式。直接访问模式也是Oracle ASM集群文件系统支持的唯一Oracle Flex ASM配置。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-50382980-0D87-4E06-9588-F2A8C089EC57">Oracle ACFS通过Oracle ASM代理实例进行访问</p>
                     <p>Oracle ASM代理实例是在具有直接Oracle ASM客户端的Hub节点上运行的Oracle实例。Oracle ASM代理实例为Oracle自动存储管理群集文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）提供支持。</p>
                     <p><a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDCDBDJ">图19-2</a>显示了在Oracle Flex ASM中使用Oracle ASM代理服务器的Oracle ACFS和Oracle ADVM的配置。</p>
                     <div class="figure" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDCDBDJ">
                        <p class="titleinfigure">图19-2 Oracle Flex ASM配置中的Oracle ACFS和Oracle ADVM</p><img src="img/ostmg011.png" width="512" alt="下面是图19-2的描述" title="下面是图19-2的描述" longdesc="img_text/ostmg011.html"><br><a href="img_text/ostmg011.html">“图19-2 Oracle Flex ASM配置中的Oracle ACFS和Oracle ADVM”的说明</a></div>
                     <!-- class="figure" -->
                     <p>对于Oracle ASM代理实例， <code class="codeph">INSTANCE_TYPE</code>初始化参数设置为<code class="codeph">ASMPROXY</code> 。
                     </p>
                     <p>Oracle ACFS还可以用作InDirect存储成员群集的存储访问方法。有关信息，请参阅<a href="understand-acfs-concepts.html#GUID-484DA891-48DD-495C-8FEB-99C151705B32">群集域中的关于Oracle ACFS</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-CD0FE709-11DE-4F6B-AB81-0DEDF8F14277">Oracle IOServer（IOS）与Oracle ASM磁盘组的基于网络的连接</p>
                     <p>Oracle IOServer（IOS）实例为Oracle成员集群的节点上的Oracle数据库实例提供Oracle ASM文件访问，这些节点没有连接到Oracle ASM受管磁盘。对于确实与Oracle ASM托管磁盘连接的成员集群，可以在发生故障时将IOServer配置为备份。Oracle IOServer实例仅用于Oracle成员集群。</p>
                     <p><a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-A1886105-12E5-4DFB-BCB0-438F8EF19BFB">图19-3</a>显示了成员集群中Oracle IOServer与Oracle数据库的关系。
                     </p>
                     <div class="figure" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-A1886105-12E5-4DFB-BCB0-438F8EF19BFB">
                        <p class="titleinfigure">图19-3 Oracle IOServer配置</p><img src="img/ostmg014.png" alt="下面是图19-3的描述" title="下面是图19-3的描述" longdesc="img_text/ostmg014.html"><br><a href="img_text/ostmg014.html">“图19-3 Oracle IOServer配置”的说明</a></div>
                     <!-- class="figure" -->
                     <p>此外，IOS允许您在此类节点上配置客户端群集。在存储群集上，IOServer实例会打开客户端向其发送IO的网络端口。 IOServer实例从客户端接收数据包，并执行适当的IO到Oracle ASM磁盘，类似于任何其他数据库客户端。在客户端，数据库可以使用dNFS与IOServer实例进行通信。但是，没有客户端配置，因此您无需提供服务器IP地址或任何其他配置信息。在配置为通过IOServer访问Oracle ASM文件的节点和集群上，Oracle IOS实例的发现会自动发生。</p>
                     <p>IOS实例包含以下过程：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>网络进程：这些进程打开网络端口并从客户端接收dNFS请求。然后将这些请求放入队列中，以便IO和标识符进程进行拾取和处理。网络进程还会从其他类型的进程中获取响应，并将响应发送回客户端。</p>
                        </li>
                        <li>
                           <p>标识符进程：这些进程获取dNFS请求以创建，删除，标识，取消标识和调整Oracle ASM文件的大小。</p>
                        </li>
                        <li>
                           <p>IO进程：这些进程对本地IOS实例标识的文件执行实际IO。</p>
                        </li>
                     </ul>
                     <p><code class="codeph">ASM_IO_PROCESSES</code>初始化参数指定要在Oracle IO服务器实例中启动的IO工作进程数。有关<code class="codeph">ASM_IO_PROCESSES</code>初始化参数的信息，请参阅<a href="init-params-asm-instance.html#GUID-A793E8DC-FB4E-4A66-A81C-BE339A5F7A35" title="ASM_IO_PROCESSES初始化参数指定要在Oracle IOServer（IOS）服务器实例中启动的IO工作进程数。">ASM_IO_PROCESSES</a> 。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG105"></a><div class="props_rev_3"><a id="GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8" name="GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8"></a><h3 id="OSTMG-GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8" class="sect3">关于设置Oracle Flex ASM</h3>
               <div>
                  <p>要安装Oracle Flex ASM部署，请对网络进行分类，然后选择要用作Oracle ASM网络的网络列表。</p>
                  <p>如果在新安装期间选择Oracle Flex ASM，则OUI要求您选择Oracle ASM网络。</p>
                  <p>将为每个Oracle ASM网络自动创建Oracle ASM侦听器资源，然后在所有节点上启动。</p>
                  <div class="infoboxnotealso" id="GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8__GUID-1E8950DD-36BC-4C1C-ADDB-78A30E5E1CB9">
                     <p class="notep1">也可以看看：</p>
                     <p>有关Oracle Clusterware安装的信息，请参阅<a href="../install-and-upgrade.html" target="_blank"><span class="italic">“Oracle Grid Infrastructure安装指南”</span></a></p>
                  </div>
               </div>
            </div><a id="OSTMG106"></a><div class="props_rev_3"><a id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0" name="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0"></a><h3 id="OSTMG-GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0" class="sect3">管理Oracle Flex ASM</h3>
               <div>
                  <p>Oracle Flex ASM组件由ASMCA，ASMCMD CRSCTL，SQL * Plus和SRVCTL管理。此外，您可以将<code class="codeph">INSTANCE_TYPE</code>初始化参数设置为特定实例类型，以便与Oracle Flex ASM一起使用。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__DISPLAYINGINFORMATIONABOUTORACLEFLE-0F1770D8">显示有关Oracle Flex ASM的信息</a></p>
                     </li>
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__SRVCTLANDCRSCTLCOMMANDSTOADMINISTER-0F1774CF">用于管理Oracle Flex ASM的SRVCTL和CRSCTL命令</a></p>
                     </li>
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__RELOCATINGACLIENTWITHALTERSYSTEM-0F17787C">使用ALTER SYSTEM重新定位客户端</a></p>
                     </li>
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__ASMCMDCOMMANDSTOMANAGEMEMBERCLUSTER-0F177AF8">ASMCMD管理成员群集的命令</a></p>
                     </li>
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__INITIALIZATIONPARAMETERSFORORACLEFL-0F177DBB">Oracle Flex ASM的初始化参数</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__DISPLAYINGINFORMATIONABOUTORACLEFLE-0F1770D8">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-EA7D48E6-82E6-4E19-A104-D45814A626EA">显示有关Oracle Flex ASM的信息</p>
                     <p>您可以使用ASMCMD <code class="codeph">showclustermode</code>命令确定是否已启用Oracle Flex ASM。例如：</p><pre class="oac_no_warn" dir="ltr">$ asmcmd showclustermode ASM集群：启用了Flex模式</pre><p>您可以使用SQL * Plus和ASMCMD命令查看Oracle Flex ASM连接。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT instance_name，db_name，status FROM V $ ASM_CLIENT; INSTANCE_NAME DB_NAME STATUS --------------- -------- ------------ + ASM1 + ASM CONNECTED orcl1 orcl CONNECTED orcl2 orcl CONNECTED $ asmcmd lsct data DB_Name Status Software_Version Compatible_version Instance_Name Disk_Group + ASM CONNECTED 19.0.0.0.0 19.0.0.0.0 + ASM DATA orcl CONNECTED 19.0.0.0.0 19.0.0.0.0 orcl1 DATA orcl CONNECTED 19.0.0.0.0 19.0.0.0。 0 orcl2 DATA</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__SRVCTLANDCRSCTLCOMMANDSTOADMINISTER-0F1774CF">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-98D3271F-4195-47A2-BD60-5621801E9FED">用于管理Oracle Flex ASM的SRVCTL和CRSCTL命令</p>
                     <p>扩展SRVCTL以使管理员能够创建或更改Oracle Clusterware资源的属性。您可以使用SRVCTL确定Oracle Flex ASM配置中实例的状态。例如：</p><pre class="oac_no_warn" dir="ltr">$ srvctl status asm -detail ASM在mynoden02上运行，mynoden01 ASM已启用。
</pre><p>您还可以使用SRVCTL确定是否已启用Oracle Flex ASM。如果启用，则<code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">asm</code>显示已指定用于Oracle Flex ASM配置的Oracle ASM实例的数量。例如：</p><pre class="oac_no_warn" dir="ltr">$ srvctl config asm ASM实例数：3</pre><p>您可以使用SRVCTL <code class="codeph">modify</code> <code class="codeph">asm</code>命令修改Oracle ASM实例计数或基数。例如：</p><pre class="oac_no_warn" dir="ltr">$ srvctl修改asm -count 4 $ srvctl修改asm -count ALL</pre><p>如果Oracle ASM实例失败，客户端将自动重定位到另一个实例。如有必要，可以手动重新定位客户端。</p>
                     <p><code class="codeph">SRVCTL</code> <code class="codeph">UPDATE</code> <code class="codeph">INSTANCE</code>和<code class="codeph">SRVCTL</code> <code class="codeph">UPDATE</code> <code class="codeph">IOSERVER</code>命令可以更改数据库的Oracle ASM实例，或数据库的Oracle IOServer实例，或Oracle IOServer的Oracle ASM实例。例如：</p><pre class="oac_no_warn" dir="ltr">$ srvctl update instance -db my_orcl_db -instance my_instance_1 -targetinstance my_asm_instance_1 $ srvctl update ioserver -instance my_instance_2 -targetinstance my_asm_instance_2</pre><p>您可以使用<code class="codeph">-detail</code>选项运行<code class="codeph">SRVCTL</code> <code class="codeph">STATUS</code>命令，以显示每个客户端连接到哪个Oracle ASM实例或Oracle IOserver实例。
                     </p>
                     <p>每个数据库用户都必须拥有一个带有凭据的钱包才能连接到Oracle ASM。数据库用户可以使用CRSCTL命令来管理此钱包。所有Oracle ASM用户名和密码均由系统生成。</p>
                     <p>您可以运行SRVCTL命令来管理Oracle ASM网络和侦听器。例如，作为root用户，您可以使用<code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">asmnetwork</code>添加Oracle ASM网络，可以使用或不使用可选的网络掩码。
                     </p><pre class="oac_no_warn" dir="ltr">#srvctl add asmnetwork -netnum 1 -subnet nnn.nn.nn.n / 255.255.255.0 #srvctl add asmnetwork -netnum 2 -subnet nnn.nn.nn.n</pre><p>作为root用户或CRS用户，您可以使用<code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">asmnetwork</code>检查状态或配置Oracle ASM网络。
                     </p><pre class="oac_no_warn" dir="ltr">$ srvctl config asmnetwork存在ASM网络1子网IPv4：nnn.nn.nn.n / 255.255.255.0 /子网IPv6：网络已启用网络在节点上单独启用：网络在节点上单独禁用：ASM网络2存在子网IPv4： nnn.nn.nn.n //子网IPv6：网络已启用网络在节点上单独启用：网络在节点上单独禁用：</pre><p>作为CRS用户，您可以使用<code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">listener</code>添加Oracle ASM侦听器您可以使用默认侦听器名称（ <code class="codeph">LISTENER_ASM</code> ）或指定侦听<code class="codeph">LISTENER_ASM</code>的名称。
                     </p><pre class="oac_no_warn" dir="ltr">$ srvctl add listener -asmlistener -netnum 1 $ srvctl add listener -asmlistener -netnum 2 -listener listener2</pre><p>您可以使用<code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">listener</code>器检查Oracle ASM侦听器的状态。
                     </p><pre class="oac_no_warn" dir="ltr">$ srvctl config listener -asmlistener名称：LISTENER2_ASM类型：ASM监听器所有者：msmith子网：nnn.nn.nn.n主页：&lt;CRS home&gt;端点：TCP：1526监听器已启用。监听器在节点上单独启用：监听器在节点上被单独禁用：名称：LISTENER_ASM类型：ASM监听器所有者：msmith子网：nnn.nn.nn.n主页：CRS_hOME端点：TCP：1525监听器已启用。监听器在节点上单独启用：监听器在节点上单独禁用：</pre><p>作为root用户，可以使用<code class="codeph">-deptype</code>选项运行<code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">asmnetwork</code>命令，以指定Oracle ASM网络的依赖关系类型（ <code class="codeph">mandatory</code>或<code class="codeph">optional</code> ）。<code class="codeph">-deptype</code>设置使您可以确定是否要容忍任何网络不可用。
                     </p>
                     <ul id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__UL_AFQ_5QD_DGB" style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">-deptype</code> <code class="codeph">mandatory</code>选项指定对Oracle ASM网络的强制依赖性。这意味着系统不能容忍该网络的丢失。如果只有一个Oracle ASM网络连接群集节点和Oracle ASM客户端群集，则应将该网络指定为<code class="codeph">mandatory</code>网络，因为当该网络不可用时，Oracle ASM客户端群集无法运行。例如：</p><pre class="oac_no_warn" dir="ltr">#srvctl modify asmnetwork -netnum 2 -deptype必选</pre></li>
                        <li>
                           <p><code class="codeph">-deptype</code> <code class="codeph">optional</code>选项指定对Oracle ASM网络的可选依赖项。这意味着系统可以容忍该网络的丢失。如果有多个Oracle ASM网络仅连接群集节点，则可以将它们指定为<code class="codeph">optional</code>以容忍其中一个网络发生故障。<code class="codeph">optional</code>值是Oracle ASM 19c中<code class="codeph">-deptype</code>的缺省设置。例如：</p><pre class="oac_no_warn" dir="ltr">#srvctl modify asmnetwork -netnum 2 -deptype optional</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__RELOCATINGACLIENTWITHALTERSYSTEM-0F17787C">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-511F59A2-1225-4E45-9E17-B7F566BC0E60">使用ALTER SYSTEM重新定位客户端</p>
                     <p>您可以使用<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">RELOCATE</code> <code class="codeph">CLIENT</code>命令重定位客户端。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM RELOCATE CLIENT'client <span class="italic">-id</span> ';</pre><p>在以前的SQL语句中， <span class="italic"><code class="codeph">client-id</code></span>的格式为<span class="italic"><code class="codeph">instance_name</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">db_name</code></span> 。<code class="codeph">INSTANCE_NAME</code>和<code class="codeph">DB_NAME</code>列包含在<code class="codeph">V$ASM_CLIENT</code>视图中。必须以<code class="codeph">SYSASM</code>身份连接到Oracle ASM实例才能运行SQL语句。发出此语句时，将终止与客户端的连接，并且客户端将故障转移到负载最少的实例。如果客户端当前连接到负载最小的实例，则终止与客户端的连接，并且客户端故障转移到同一实例。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__ASMCMDCOMMANDSTOMANAGEMEMBERCLUSTER-0F177AF8">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-A766E0EB-A7C0-4BDC-A6EC-0BC735DE8B43">ASMCMD管理成员群集的命令</p>
                     <p>您可以使用ASMCMD命令来管理成员集群的配置。</p>
                     <p>可以列出与该成员集群<code class="codeph">lscc</code>命令和删除成员集群与<code class="codeph">rmcc</code>命令。
                     </p>
                     <p>您创建一个成员集群<code class="codeph">mkcc</code>命令或更改与成员集群<code class="codeph">chcc</code>命令。例如，您可以将存储方法从直接Oracle ASM更改为间接Oracle ASM，或使用ASMCMD <code class="codeph">chcc</code>和<code class="codeph">mkcc</code>命令从间接Oracle ASM更改为直接Oracle ASM。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__INITIALIZATIONPARAMETERSFORORACLEFL-0F177DBB">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-C3E367A4-DCB5-41E7-85F4-65ABE7D625AE">Oracle Flex ASM的初始化参数</p>
                     <p>没有专门针对Oracle Flex ASM配置中的实例的新初始化参数;但是，应检查现有参数的设置，并可能针对Oracle Flex ASM环境进行调整。</p>
                     <p><code class="codeph">INSTANCE_TYPE</code>初始化参数的值指定实例的类型，包括Oracle ASM代理实例。除<code class="codeph">ASM</code>和<code class="codeph">RDBMS</code>值外， <code class="codeph">ASMPROXY</code>值还标识Oracle ASM代理实例。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-4BF2F4D9-6BD0-4A32-8700-4307DA28E56A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="init-params-asm-instance.html#GUID-6FA72F9A-CD1C-459F-B8A0-2754A11E76D0" title="The ASM_DISKGROUPS initialization parameter specifies a list of disk group names that an Oracle ASM instance mounts at startup when the SQL ALTER DISKGROUP ALL MOUNT statement is issued. The ASM_DISKSTRING initialization parameter specifies a comma-delimited list of strings that limits the set of disks that an Oracle ASM instance discovers. The ASM_IO_PROCESSES initialization parameter specifies the number of IO worker processes to be started in an Oracle IOServer (IOS) server instance. The ASM_POWER_LIMIT initialization parameter specifies the default power for disk rebalancing in a disk group. The ASM_PREFERRED_READ_FAILURE_GROUPS initialization parameter value is a comma-delimited list of strings that specifies the failure groups that should be preferentially read by the given instance.The setting for the DB_CACHE_SIZE parameter determines the size of the buffer cache. The DIAGNOSTIC_DEST initialization parameter specifies the directory where diagnostics for an instance are located. The INSTANCE_TYPE initialization parameter specifies whether the instance is a database instance, an Oracle Automatic Storage Management (Oracle ASM) instance, or an Oracle ASM Proxy instance.The setting for the LARGE_POOL_SIZE parameter is used for large allocations.The PROCESSES initialization parameter affects Oracle ASM, but the default value is usually suitable. The REMOTE_LOGIN_PASSWORDFILE initialization parameter specifies whether the Oracle ASM instance checks for a password file. The setting for the SHARED_POOL_SIZE parameter determines the amount of memory required to manage the instance.">有关Oracle ASM的初始化参数</a>的信息，请参阅<a href="init-params-asm-instance.html#GUID-6FA72F9A-CD1C-459F-B8A0-2754A11E76D0" title="ASM_DISKGROUPS初始化参数指定在发出SQL ALTER DISKGROUP ALL MOUNT语句时，Oracle ASM实例在启动时安装的磁盘组名称列表。ASM_DISKSTRING初始化参数指定以逗号分隔的字符串列表，这些字符串限制Oracle ASM实例发现的磁盘集。ASM_IO_PROCESSES初始化参数指定要在Oracle IOServer（IOS）服务器实例中启动的IO工作进程数。ASM_POWER_LIMIT初始化参数指定磁盘组中磁盘重新平衡的默认功率。ASM_PREFERRED_READ_FAILURE_GROUPS初始化参数值是逗号分隔的字符串列表，用于指定应由给定实例优先读取的故障组。DB_CACHE_SIZE参数的设置确定缓冲区高速缓存的大小。DIAGNOSTIC_DEST初始化参数指定实例的诊断所在的目录。INSTANCE_TYPE初始化参数指定实例是数据库实例，Oracle自动存储管理（Oracle ASM）实例还是Oracle ASM代理实例。LARGE_POOL_SIZE参数的设置用于大型分配。PROCESSES初始化参数影响Oracle ASM，但默认值通常是合适的。REMOTE_LOGIN_PASSWORDFILE初始化参数指定Oracle ASM实例是否检查密码文件。SHARED_POOL_SIZE参数的设置确定管理实例所需的内存量。">Oracle ASM初始化参数的推荐设置</a></p>
                           </li>
                           <li>
                              <p><a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="本主题提供与Oracle ASM远程实例一起使用的ASMCMD成员集群管理命令的摘要。">ASMCMD成员群集管理命令，</a>用于获取有关管理成员群集的ASMCMD命令的信息</p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">INSTANCE_TYPE</code>初始化参数的详细信息，请<a href="../refrn/ASM_DISKSTRING.html#REFRN10248" target="_blank"><span class="italic">参见Oracle数据库参考</span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>语句的信息，请<a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关CRSCTL命令的信息，请参见<a href="../cwadd/oracle-clusterware-control-crsctl-utility-reference.html#CWADD91142" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关SRVCTL命令的信息，请参见<a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关SRVCTL命令的信息，请参见<a href="../racad/server-control-utility-reference.html#RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>“</cite></span></a> <a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware管理和部署指南”</cite></span></a>和“ <a href="../racad/server-control-utility-reference.html#RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关安装Oracle Clusterware的信息，请参阅<a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>