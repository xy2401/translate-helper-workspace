<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>Oracle Cluster Registry Utility Reference</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Clusterware Administration and Deployment Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Clusterware Administration and Deployment Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="clusterware-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-24T07:05:38-07:00"></meta>
      <meta name="dcterms.title" content="Clusterware Administration and Deployment Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E95727-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-clusterware-c-application-program-interfaces.html" title="Previous" type="text/html"></link>
      <link rel="next" href="troubleshooting-oracle-clusterware.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CWADD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-clusterware-c-application-program-interfaces.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="troubleshooting-oracle-clusterware.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">“Clusterware管理和部署指南”</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Cluster Registry Utility Reference</li>
            </ol>
            <a id="GUID-4E9C8DEA-AD12-4984-9372-3764A7E73FA1" name="GUID-4E9C8DEA-AD12-4984-9372-3764A7E73FA1"></a><a id="CWADD92951"></a>
            
            <h2 id="CWADD-GUID-4E9C8DEA-AD12-4984-9372-3764A7E73FA1" class="sect2"><span class="enumeration_appendix">J</span> Oracle Cluster Registry Utility Reference</h2>
         </header>
         <div class="ind">
            <div>
               <p>本附录介绍了Oracle Cluster Registry（OCR）配置实用程序OCRCONFIG和OCR故障排除的语法，其中包括OCRCHECK和OCRDUMP的说明和用法信息。</p>
               <p>本附录包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="oracle-cluster-registry-utility-reference.html#GUID-D881BC9C-74F0-44A5-91EC-0341C1C81ED4" title="使用ocrconfig命令管理OCR。使用此实用程序，您可以导入，导出，添加，删除，还原，覆盖，备份，修复，替换，移动，升级或降级OCR。">关于OCRCONFIG</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-cluster-registry-utility-reference.html#GUID-2029B8DE-F140-43EF-B4F8-26CC7D31D179" title="将OCR位置添加到Oracle自动存储管理（Oracle ASM）磁盘组。指定OCR备份目录位置。将OCR备份文件从一个位置复制到另一个位置。删除OCR设备或文件。只有root脚本才能使用此命令将OCR降级到较早指定的版本。将OCR的内容导出到目标文件。将导出OCR内容的目标文件的内容导入OCR。根据需要将OCR备份到特定位置。使用当前OCR配置信息覆盖OCR元数据中的OCR配置，该信息位于运行此命令的节点上。在运行此命令的节点上修复OCR配置。将OCR位置替换为Oracle自动存储管理（Oracle ASM）磁盘组。从自动创建的OCR备份文件中恢复OCR。显示所有可用备份。显示OCR和OLR备份文件的备份位置。从先前版本升级OCR。">OCRCONFIG命令参考</a></p>
                  </li>
                  <li>
                     <p><a href="oracle-cluster-registry-utility-reference.html#GUID-A818BE9E-5C4E-46FD-9F31-94BCFC4EE33E" title="OCRCHECK实用程序显示OCR块格式的版本，可用空间和已用空间，OCRID以及已配置的OCR位置。以下示例显示了示例OCRCHECK命令输出和命令用法。OCRDUMP实用程序使您可以通过以可读格式将内容写入文件或标准输出来查看OCR和OLR内容。">Oracle Cluster Registry和诊断输出疑难解答</a></p>
                  </li>
               </ul>
            </div><a id="CWADD92024"></a><a id="CWADD92025"></a><a id="CWADD92026"></a><a id="CWADD92027"></a><a id="CWADD92023"></a><div class="sect2"><a id="GUID-D881BC9C-74F0-44A5-91EC-0341C1C81ED4" name="GUID-D881BC9C-74F0-44A5-91EC-0341C1C81ED4"></a><h3 id="CWADD-GUID-D881BC9C-74F0-44A5-91EC-0341C1C81ED4" class="sect3">关于OCRCONFIG</h3>
               <div>
                  <p>使用<code class="codeph">ocrconfig</code>命令管理OCR。使用此实用程序，您可以导入，导出，添加，删除，还原，覆盖，备份，修复，替换，移动，升级或降级OCR。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-D881BC9C-74F0-44A5-91EC-0341C1C81ED4__GUID-2475B232-4241-4ED8-BCC9-8C41298E6A9D">使用信息</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>OCRCONFIG可执行文件位于<code class="codeph">Grid_home/bin</code>目录中</p>
                        </li>
                        <li>
                           <p><code class="codeph">ocrconfig</code>命令语法如下：</p><pre class="pre codeblock"><code>ocrconfig <span class="variable" translate="no">-option</span></code></pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D881BC9C-74F0-44A5-91EC-0341C1C81ED4__GUID-885C4FDF-4968-420F-B383-C17D1EA7D7F1">使用Utility帮助</p>
                     <p>要显示OCRCONFIG实用程序的帮助输出：</p><pre class="pre codeblock"><code>ocrconfig -help</code></pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D881BC9C-74F0-44A5-91EC-0341C1C81ED4__GUID-B37CC804-05C6-4199-82B9-4CF277A4D356">特权和安全</p>
                     <p>要使用OCRCONFIG实用程序，您必须以具有管理权限的用户身份登录操作系统。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D881BC9C-74F0-44A5-91EC-0341C1C81ED4__GUID-333075B7-115B-4F46-9FCD-0A58E57A7925">日志文件</p>
                     <p>OCRCONFIG实用程序在<code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span> /diag/crs/ <span class="variable" translate="no">host_name</span> /crs</code>创建一个日志文件。
                     </p>
                     <p>要更改日志记录量，请编辑<code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span> /crsdata/ <span class="variable" translate="no">host_name</span> /crsdiag/ocrconfig.ini</code>文件中的路径。在这种情况下， <code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span></code>用于Oracle Grid Infrastructure软件主页。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CWADD92028"></a><div class="sect2"><a id="GUID-2029B8DE-F140-43EF-B4F8-26CC7D31D179" name="GUID-2029B8DE-F140-43EF-B4F8-26CC7D31D179"></a><h3 id="CWADD-GUID-2029B8DE-F140-43EF-B4F8-26CC7D31D179" class="sect3">OCRCONFIG命令参考</h3>
               <div>
                  <p>本节介绍以下OCRCONFIG命令：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-1E125467-64FE-45D3-9152-977112A65609" title="将OCR位置添加到Oracle自动存储管理（Oracle ASM）磁盘组。">ocrconfig -add</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-6C1CBC84-9998-442E-A56C-C9BBA0648930" title="指定OCR备份目录位置。">ocrconfig -backuploc</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-D8DC0598-1790-4C7E-9E64-7B344A71B94F" title="将OCR备份文件从一个位置复制到另一个位置。">ocrconfig -copy</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-23F0FC0A-3F12-4AAA-BD95-F9C189E4F23A" title="删除OCR设备或文件。">ocrconfig -delete</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-54A4392E-D76F-4CC7-B001-241E6857A37E" title="只有root脚本才能使用此命令将OCR降级到较早指定的版本。">ocrconfig -downgrade</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-0F7E87B5-A124-4967-BA45-02406C6F3FA4" title="将OCR的内容导出到目标文件。">ocrconfig -export</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-27CF8370-1AD9-4BCE-B9C5-2F909DB3162D" title="将导出OCR内容的目标文件的内容导入OCR。">ocrconfig -import</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-C71025B6-7613-4B2D-A4A1-12D2C1A5F590" title="根据需要将OCR备份到特定位置。">ocrconfig -manualbackup</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-E8A42250-8B7F-46F4-9A9C-D1102755F93F" title="使用当前OCR配置信息覆盖OCR元数据中的OCR配置，该信息位于运行此命令的节点上。">ocrconfig -overwrite</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-34BF1A97-5C9D-44B7-AE3D-DE73712A53B0" title="在运行此命令的节点上修复OCR配置。">ocrconfig -repair</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-9BC7CD31-BCF7-4C69-856C-E77E6951BE6E" title="将OCR位置替换为Oracle自动存储管理（Oracle ASM）磁盘组。">ocrconfig -replace</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-2C02CEFF-1BC9-4C95-A74C-52D4006E1CBA" title="从自动创建的OCR备份文件中恢复OCR。">ocrconfig -restore</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-5368DF71-82F8-4249-A21A-3DDB741C5718" title="显示所有可用备份。">ocrconfig -showbackup</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-A1398911-C46F-4C32-9F91-DD3DE190440D" title="显示OCR和OLR备份文件的备份位置。">ocrconfig -showbackuploc</a></code></p>
                     </li>
                     <li>
                        <p><code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-77F1A871-1E8D-488F-A7E0-2CB6BB2B9243" title="从先前版本升级OCR。">ocrconfig -upgrade</a></code></p>
                     </li>
                  </ul>
               </div>
               <div class="sect3"><a id="GUID-1E125467-64FE-45D3-9152-977112A65609" name="GUID-1E125467-64FE-45D3-9152-977112A65609"></a><h4 id="CWADD-GUID-1E125467-64FE-45D3-9152-977112A65609" class="sect4">ocrconfig -add</h4>
                  <div>
                     <div><span>将OCR位置添加到Oracle自动存储管理（Oracle ASM）磁盘组。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-1E125467-64FE-45D3-9152-977112A65609__GUID-F70F5665-599B-42CF-BB68-53BC2573ED81">句法</p><pre class="pre codeblock"><code>ocrconfig -add + <span class="variable" translate="no">diskgroup_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1E125467-64FE-45D3-9152-977112A65609__GUID-4088ADD5-19E9-4215-A3C8-12CC10428EA9">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您添加的OCR位置必须存在，具有足够的权限，并且必须先装入才能添加它们。</p>
                           </li>
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph"><span class="variable" translate="no">diskgroup_name</span></code>变量是Oracle ASM磁盘组的名称。例如：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">+newdg</code> ：确保磁盘组存在且已装入</p>
                                    <p>磁盘组的名称前面必须加号（ <code class="codeph">+</code> ）。
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnotealso" id="GUID-1E125467-64FE-45D3-9152-977112A65609__GUID-2E6135FC-0E0D-408D-93D0-2FB0D15BE7E6">
                                 <p class="notep1">也可以看看：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>有关创建OCR位置和设置正确权限的信息，请参阅<a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”</cite></span></a></p>
                                    </li>
                                    <li>
                                       <p>有关Oracle ASM磁盘组管理的详细信息，请参见<a href="../ostmg/admin-asm-diskgroups.html#OSTMG137" target="_blank"><span><cite>“Oracle自动存储管理管理员指南”</cite></span></a></p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1E125467-64FE-45D3-9152-977112A65609__GUID-DD2EEF89-408E-437E-B155-F1D76D21A3CA">例</p>
                        <div class="p">要将OCR位置添加到Oracle ASM中的默认位置， <code class="codeph">data</code> ：<pre class="pre codeblock"><code>#ocrconfig -add + data</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-6C1CBC84-9998-442E-A56C-C9BBA0648930" name="GUID-6C1CBC84-9998-442E-A56C-C9BBA0648930"></a><h4 id="CWADD-GUID-6C1CBC84-9998-442E-A56C-C9BBA0648930" class="sect4">ocrconfig -backuploc</h4>
                  <div>
                     <div><span>指定OCR备份目录位置。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6C1CBC84-9998-442E-A56C-C9BBA0648930__GUID-CA7944E7-FADF-41A1-9403-0777E5B8C448">句法</p><pre class="pre codeblock"><code>ocrconfig -backuploc + <span class="variable" translate="no">disk_group_name</span> ocrconfig -local -backuploc <span class="variable" translate="no">dir_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C1CBC84-9998-442E-A56C-C9BBA0648930__GUID-E69B1899-0FEC-4394-8EDD-A6C580752317">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">-local</code>选项指定OLR备份目录位置。
                              </p>
                           </li>
                           <li>
                              <p>对于OCR备份位置， <code class="codeph"><span class="variable" translate="no">disk_group_name</span></code>变量必须是Oracle ASM磁盘组。例如：</p>
                              <p><code class="codeph">+bkupdg</code> ：确保Oracle ASM磁盘组存在并挂载在所有节点上</p>
                              <p>Oracle ASM磁盘组名称前面必须加号（+）。</p>
                           </li>
                           <li>
                              <p>对于OLR备份位置， <code class="codeph"><span class="variable" translate="no">dir_name</span></code>变量可以是完整目录路径名。例如：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph"><span class="variable" translate="no">Grid_home</span> /cdata/cluster3/</code> ：确保该位置存在</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">d:\cdata\cluster3</code> ：确保该位置存在</p>
                                 </li>
                              </ul>
                              <p>在Linux或UNIX系统上生成OLR备份的默认位置是<code class="codeph"><span class="variable" translate="no">Grid_home</span> /cdata/ <span class="variable" translate="no">host_name</span></code> ，其中<code class="codeph"><span class="variable" translate="no">host_name</span></code>是要备份的OLR所在节点的名称。用于生成OLR备份的Windows默认位置使用相同的路径结构。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C1CBC84-9998-442E-A56C-C9BBA0648930__GUID-A017961E-A44C-4D5B-B2C1-BCCE97242607">例子</p>
                        <p>要在Oracle ASM磁盘组中指定OCR备份位置，请执行以下操作：</p><pre class="pre codeblock"><code>#ocrconfig -backuploc + bkupdg</code></pre><p>要指定OLR备份位置：</p><pre class="pre codeblock"><code><span class="variable" translate="no">full_directory_path</span> -local -backuploc <span class="variable" translate="no">full_directory_path</span></code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D8DC0598-1790-4C7E-9E64-7B344A71B94F" name="GUID-D8DC0598-1790-4C7E-9E64-7B344A71B94F"></a><h4 id="CWADD-GUID-D8DC0598-1790-4C7E-9E64-7B344A71B94F" class="sect4">ocrconfig -copy</h4>
                  <div>
                     <div><span>将OCR备份文件从一个位置复制到另一个位置。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-D8DC0598-1790-4C7E-9E64-7B344A71B94F__GUID-50713BDF-3DDB-45E2-B930-84E0EA9DB7EF">句法</p><pre class="pre codeblock"><code>ocrconfig -copy <span class="variable" translate="no">source_file_name</span> <span class="variable" translate="no">destination_file_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8DC0598-1790-4C7E-9E64-7B344A71B94F__GUID-5C9BBCCF-319D-4EDC-95E4-1985177B3160">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph"><span class="variable" translate="no">source_file_name</span></code>必须是有效的OCR备份文件。例如：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">/oradbocfs/crs/BACKUP00.ocr</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">d：\ ORACLE \ BACKUP01.ocr</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">+ bkupdg：/aimev1/ocrbackup/day.ocr.260.739756845</code></p>
                                 </li>
                              </ul>
                              <p>如果指定Oracle ASM磁盘组，请确保磁盘组存在且已装入。</p>
                              <p>有效的<code class="codeph"><span class="variable" translate="no">destination_file_name</span></code>值的示例如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">/oradbocfs/crs/mybkp01.ocr</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">d：\ ORACLE \ mybkp01.ocr</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">+ bkupdg：mybkp01</code></p>
                                 </li>
                              </ul>
                              <p>Oracle ASM磁盘组名称前面必须加号（+）。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8DC0598-1790-4C7E-9E64-7B344A71B94F__GUID-6621A6DB-27BE-4000-94AB-F61DF696AE36">例子</p>
                        <div class="p">要将OCR备份文件从文件系统复制到Oracle ASM磁盘组：<pre class="pre codeblock"><code>#ocrconfig -copy /oradbocfs/crs/BACKUP00.ocr + bkupdg：mybkp01.ocr</code></pre></div>
                        <div class="p">要将OCR备份文件从Oracle ASM磁盘组复制到文件系统：<pre class="pre codeblock"><code>＃ocrconfig -copy + bkupdg：/aimev1/ocrbackup/day.ocr.260.739756845 /oradbocfs/crs/mybkp01.ocr</code></pre></div>
                        <div class="p">要将OCR备份文件从一个Oracle ASM磁盘组复制到另一个Oracle ASM磁盘组：<pre class="pre codeblock"><code>＃ocrconfig -copy + bkupdg01：/aimev1/ocrbackup/day.ocr.260.739756845 + bkupdg02：mybkp01.ocr</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-23F0FC0A-3F12-4AAA-BD95-F9C189E4F23A" name="GUID-23F0FC0A-3F12-4AAA-BD95-F9C189E4F23A"></a><h4 id="CWADD-GUID-23F0FC0A-3F12-4AAA-BD95-F9C189E4F23A" class="sect4">ocrconfig -delete</h4>
                  <div>
                     <div><span>删除OCR设备或文件。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-23F0FC0A-3F12-4AAA-BD95-F9C189E4F23A__GUID-4AD8D1B1-865E-40C6-BAD0-8EFFB4E8E970">句法</p><pre class="pre codeblock"><code>ocrconfig -delete + <span class="variable" translate="no">diskgroup_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-23F0FC0A-3F12-4AAA-BD95-F9C189E4F23A__GUID-FBA3D34C-4763-495E-AAF7-BACBACEE294D">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">+ <span class="variable" translate="no">diskgroup_name</span></code>变量是Oracle ASM磁盘组的名称。例如： <code class="codeph">+olddg</code></p>
                              <p>磁盘组的名称前面必须加号（ <code class="codeph">+</code> ）。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-23F0FC0A-3F12-4AAA-BD95-F9C189E4F23A__GUID-253DEF1F-BEA4-4E1A-9495-62F1F34D53BF">例</p>
                        <div class="p">要删除OCR位置：<pre class="pre codeblock"><code>#ocrconfig -delete + olddg</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-54A4392E-D76F-4CC7-B001-241E6857A37E" name="GUID-54A4392E-D76F-4CC7-B001-241E6857A37E"></a><h4 id="CWADD-GUID-54A4392E-D76F-4CC7-B001-241E6857A37E" class="sect4">ocrconfig -downgrade</h4>
                  <div>
                     <div><span>只有root脚本才能使用此命令将OCR降级到较早指定的版本。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-54A4392E-D76F-4CC7-B001-241E6857A37E__GUID-C1BB931D-8334-475A-BA6E-D17A74B3641D">句法</p><code class="codeph">ocrconfig -downgrade</code></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-54A4392E-D76F-4CC7-B001-241E6857A37E__GUID-F556A9AF-2D38-48E5-AD7A-9E68605CE657">使用说明</p>
                        <p>此命令没有选项。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-0F7E87B5-A124-4967-BA45-02406C6F3FA4" name="GUID-0F7E87B5-A124-4967-BA45-02406C6F3FA4"></a><h4 id="CWADD-GUID-0F7E87B5-A124-4967-BA45-02406C6F3FA4" class="sect4">ocrconfig -export</h4>
                  <div>
                     <div><span>将OCR的内容导出到目标文件。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-0F7E87B5-A124-4967-BA45-02406C6F3FA4__GUID-F9ECBEBD-6635-41BD-82FE-4931A865B1A0">句法</p><pre class="pre codeblock"><code>ocrconfig [-local] -export <span class="variable" translate="no">file_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0F7E87B5-A124-4967-BA45-02406C6F3FA4__GUID-1BD83C19-C428-42A8-8C08-A5673FF666F6">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">-local</code>选项导出OLR的内容。</p>
                           </li>
                           <li>
                              <p><code class="codeph"><span class="variable" translate="no">file_name</span></code>变量可以是文件名或Oracle ASM磁盘组的名称（以加号（ <code class="codeph">+</code> ）开头）。例如：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">/oradbocfs/crs/data.ocr</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">d：\ ORACLE \ data.ocr</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">+ bkupdg：data.ocr</code></p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0F7E87B5-A124-4967-BA45-02406C6F3FA4__GUID-E2805861-7C02-4D75-B3EC-1F1A0A7EFBAB">例</p>
                        <div class="p">要将OCR的内容导出到文件：<pre class="pre codeblock"><code>#ocrconfig -export d：\ tmp \ a</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-27CF8370-1AD9-4BCE-B9C5-2F909DB3162D" name="GUID-27CF8370-1AD9-4BCE-B9C5-2F909DB3162D"></a><h4 id="CWADD-GUID-27CF8370-1AD9-4BCE-B9C5-2F909DB3162D" class="sect4">ocrconfig -import</h4>
                  <div>
                     <div><span>将导出OCR内容的目标文件的内容导入OCR。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-27CF8370-1AD9-4BCE-B9C5-2F909DB3162D__GUID-D95CE661-0BAC-425F-993F-E925B7A1BC42">句法</p><pre class="pre codeblock"><code>ocrconfig [-local] -import <span class="variable" translate="no">file_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-27CF8370-1AD9-4BCE-B9C5-2F909DB3162D__GUID-22DB2828-013B-46C5-9D7B-56E9A8F2ECA1">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">-local</code>选项从文件导入OLR的内容。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph"><span class="variable" translate="no">file_name</span></code>变量可以是文件名或Oracle ASM磁盘组的名称（以加号（ <code class="codeph">+</code> ）开头）。例如：</p>
                              <ul class="simple" style="list-style-type:none;padding-left:0">
                                 <li><code class="codeph">/oradbocfs/crs/data.ocr</code></li>
                                 <li><code class="codeph">d：\ ORACLE \ data.ocr</code></li>
                                 <li><code class="codeph">+ bkupdg：/aimev1/ocrbackup/data.ocr.260.739756845</code></li>
                              </ul>
                           </li>
                           <li>
                              <p>在运行此命令之前，必须关闭Oracle Clusterware。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-27CF8370-1AD9-4BCE-B9C5-2F909DB3162D__GUID-1FA62FC3-4466-474F-AAD5-B9632307D592">例</p>
                        <div class="p">要将文件内容导入OCR：<pre class="pre codeblock"><code>＃ocrconfig -import d：\ tmp \ a</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C71025B6-7613-4B2D-A4A1-12D2C1A5F590" name="GUID-C71025B6-7613-4B2D-A4A1-12D2C1A5F590"></a><h4 id="CWADD-GUID-C71025B6-7613-4B2D-A4A1-12D2C1A5F590" class="sect4">ocrconfig -manualbackup</h4>
                  <div>
                     <div><span>根据需要将OCR备份到特定位置。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-C71025B6-7613-4B2D-A4A1-12D2C1A5F590__GUID-3BA8C971-A171-4552-8B5B-08E51D044D3B">先决条件</p>
                        <p>使用<code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-6C1CBC84-9998-442E-A56C-C9BBA0648930" title="指定OCR备份目录位置。">ocrconfig -backuploc</a></code>确定按需备份的位置。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C71025B6-7613-4B2D-A4A1-12D2C1A5F590__GUID-11964DB1-EDAC-40FE-9CD3-0201B5BBFE8A">句法</p><pre class="pre codeblock"><code>ocrconfig [-local] -manualbackup</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C71025B6-7613-4B2D-A4A1-12D2C1A5F590__GUID-FFCE9316-ABAB-4F75-BA3E-DD69C4F077B5">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">-local</code>选项执行OLR的手动备份。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E8A42250-8B7F-46F4-9A9C-D1102755F93F" name="GUID-E8A42250-8B7F-46F4-9A9C-D1102755F93F"></a><h4 id="CWADD-GUID-E8A42250-8B7F-46F4-9A9C-D1102755F93F" class="sect4">ocrconfig -overwrite</h4>
                  <div>
                     <div><span>使用当前OCR配置信息覆盖OCR元数据中的OCR配置，该信息位于运行此命令的节点上。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-E8A42250-8B7F-46F4-9A9C-D1102755F93F__GUID-9D05D5DF-BC7E-464D-803C-D7464170C175">句法</p><pre class="pre codeblock"><code>ocrconfig -overwrite</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E8A42250-8B7F-46F4-9A9C-D1102755F93F__GUID-EB4FD524-B9C9-4E04-B2D0-A0A11D001CE9">使用说明</p>
                        <p>您必须以<code class="codeph">root</code>身份运行此命令。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-34BF1A97-5C9D-44B7-AE3D-DE73712A53B0" name="GUID-34BF1A97-5C9D-44B7-AE3D-DE73712A53B0"></a><h4 id="CWADD-GUID-34BF1A97-5C9D-44B7-AE3D-DE73712A53B0" class="sect4">ocrconfig -repair</h4>
                  <div>
                     <div><span>在运行此命令的节点上修复OCR配置。</span></div>
                     <div class="section">
                        <p>使用此命令添加，删除或替换在对群集中的OCR配置进行更改时可能已停止的节点上的OCR位置。您添加的OCR位置必须存在，具有足够的权限，并且必须先装入才能添加它们。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-34BF1A97-5C9D-44B7-AE3D-DE73712A53B0__GUID-76A930CA-52DC-4411-BE14-A4D1F3F0EC52">先决条件</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须启动Oracle高可用性服务才能成功完成修复。</p>
                           </li>
                           <li>
                              <p>必须先停止Cluster Ready Services守护程序，然后再运行<code class="codeph">ocrconfig -repair</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-34BF1A97-5C9D-44B7-AE3D-DE73712A53B0__GUID-4B9542C8-DD22-4CA9-BCCF-F086327D01EB">句法</p><pre class="pre codeblock"><code>ocrconfig -repair -add <span class="variable" translate="no">+diskgroup_name</span> | -delete <span class="variable" translate="no">+diskgroup_name</span> | -replace + <span class="variable" translate="no">current_diskgroup_name</span> -replacement + <span class="variable" translate="no">new_diskgroup_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-34BF1A97-5C9D-44B7-AE3D-DE73712A53B0__GUID-648A2EFC-FF8C-4F8E-8E3B-2AB28E74CB6E">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">+ <span class="variable" translate="no">diskgroup_name</span></code>变量是Oracle ASM磁盘组的名称。例如： <code class="codeph">+newdg/mycluster/OCRFILE/registry.255.842574125</code></p>
                              <p>如果指定Oracle ASM磁盘组，则磁盘组的名称前面必须加号（ <code class="codeph">+</code> ）。
                              </p>
                              <p>为了获得Oracle ASM磁盘组的名称，运行<code class="codeph">ocrcheck -config -details</code>其中OCR配置<span class="italic">不需要</span>修复的节点上的命令。
                              </p>
                              <div class="infoboxnotealso" id="GUID-34BF1A97-5C9D-44B7-AE3D-DE73712A53B0__GUID-80BCF610-D16F-4584-9F88-9429ED4073A6">
                                 <p class="notep1">也可以看看：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”，</cite></span></a>以获取有关创建OCR和设置正确权限的信息</p>
                                    </li>
                                    <li>
                                       <p>有关Oracle ASM磁盘组管理的详细信息，请参见<a href="../ostmg/admin-asm-diskgroups.html#OSTMG137" target="_blank"><span><cite>“Oracle自动存储管理管理员指南”</cite></span></a></p>
                                    </li>
                                    <li>
                                       <p><span class="q">“ <a href="oracle-cluster-registry-utility-reference.html#GUID-458233B3-54A8-4D2E-A9B5-1D3BF6ADEAE5" title="OCRCHECK实用程序显示OCR块格式的版本，可用空间和已用空间，OCRID以及已配置的OCR位置。">使用OCRCHECK实用程序</a> ”</span>获取有关<code class="codeph">ocrcheck -config -details</code>命令的信息</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <p>您一次只能使用<code class="codeph">ocrconfig -repair</code>一个选项。
                              </p>
                           </li>
                           <li>
                              <p>运行此命令仅修改本地配置及其仅影响当前节点。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-34BF1A97-5C9D-44B7-AE3D-DE73712A53B0__GUID-244AD8D2-D5E9-4E2E-AEBD-6783F7068BAF">例</p>
                        <div class="p">要修复OCR配置：<pre class="pre codeblock"><code>#ocrconfig -repair -delete + olddg</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9BC7CD31-BCF7-4C69-856C-E77E6951BE6E" name="GUID-9BC7CD31-BCF7-4C69-856C-E77E6951BE6E"></a><h4 id="CWADD-GUID-9BC7CD31-BCF7-4C69-856C-E77E6951BE6E" class="sect4">ocrconfig -replace</h4>
                  <div>
                     <div><span>将OCR位置替换为Oracle自动存储管理（Oracle ASM）磁盘组。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-9BC7CD31-BCF7-4C69-856C-E77E6951BE6E__GUID-AFB1BD77-DD93-4D95-BF51-3F7B91209156">先决条件</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您添加的OCR位置必须存在，具有足够的权限，并且必须先装入才能添加它们。</p>
                           </li>
                           <li>
                              <p>您必须至少有两个OCR设备才能使用此命令。如果您没有至少两个OCR设备，则必须运行<code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-1E125467-64FE-45D3-9152-977112A65609" title="将OCR位置添加到Oracle自动存储管理（Oracle ASM）磁盘组。">ocrconfig -add</a></code>命令添加新的OCR设备，然后使用<code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-23F0FC0A-3F12-4AAA-BD95-F9C189E4F23A" title="删除OCR设备或文件。">ocrconfig -delete</a></code>命令删除要替换的OCR设备。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9BC7CD31-BCF7-4C69-856C-E77E6951BE6E__GUID-8E8B0AA6-4975-4324-B9F2-0C313DEAE240">句法</p><pre class="pre codeblock"><code>ocrconfig -replace + <span class="variable" translate="no">current_diskgroup_name</span> -replacement + <span class="variable" translate="no">new_diskgroup_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9BC7CD31-BCF7-4C69-856C-E77E6951BE6E__GUID-48601E12-A15F-4EA4-8F86-E09B71D66705">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">+ <span class="variable" translate="no">diskgroup_name</span></code>变量是Oracle ASM磁盘组的名称，前面带有加号（ <code class="codeph">+</code> ）。例如： <code class="codeph">+newdg</code> 。磁盘组必须存在并已装入。
                              </p>
                              <div class="infoboxnotealso" id="GUID-9BC7CD31-BCF7-4C69-856C-E77E6951BE6E__GUID-7C23ECD3-76B8-4C9A-B302-727FBFE2278C">
                                 <p class="notep1">也可以看看：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>“Oracle Grid Infrastructure安装和升级指南”，</cite></span></a>以获取有关创建OCR和设置正确权限的信息</p>
                                    </li>
                                    <li>
                                       <p>有关Oracle ASM磁盘组管理的详细信息，请参见<a href="../ostmg/admin-asm-diskgroups.html#OSTMG137" target="_blank"><span><cite>“Oracle自动存储管理管理员指南”</cite></span></a></p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9BC7CD31-BCF7-4C69-856C-E77E6951BE6E__GUID-5DC6FD01-33B8-420B-B9DA-DB10F6D5B636">例</p>
                        <div class="p">要更换OCR设备或文件：<pre class="pre codeblock"><code>＃ocrconfig -replace + olddg -replacement + newdg</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2C02CEFF-1BC9-4C95-A74C-52D4006E1CBA" name="GUID-2C02CEFF-1BC9-4C95-A74C-52D4006E1CBA"></a><h4 id="CWADD-GUID-2C02CEFF-1BC9-4C95-A74C-52D4006E1CBA" class="sect4">ocrconfig -restore</h4>
                  <div>
                     <div><span>从自动创建的OCR备份文件中恢复OCR。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-2C02CEFF-1BC9-4C95-A74C-52D4006E1CBA__GUID-FF960A46-1BC4-4369-B2A3-68247E2C700A">先决条件</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在运行此命令之前，请确保存在原始OCR或OLR文件。如果原始文件不存在，则必须创建一个空文件。</p>
                              <div class="infoboxnote" id="GUID-2C02CEFF-1BC9-4C95-A74C-52D4006E1CBA__GUID-C67277F9-76E8-486C-BEC6-8F0F8CCC7887">
                                 <p class="notep1">注意：</p>
                                 <p>您不能使用<code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-0F7E87B5-A124-4967-BA45-02406C6F3FA4" title="将OCR的内容导出到目标文件。">ocrconfig -export</a></code>命令生成的文件来恢复OCR。该文件必须是手动或自动备份。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>如果OCR位于Oracle ASM磁盘组上，请确保磁盘组存在并已装入。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C02CEFF-1BC9-4C95-A74C-52D4006E1CBA__GUID-042FFD90-5C68-48FF-A483-3714D2887E2A">句法</p><pre class="pre codeblock"><code>ocrconfig [-local] -restore <span class="variable" translate="no">file_name</span></code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C02CEFF-1BC9-4C95-A74C-52D4006E1CBA__GUID-1CF3E400-AD2B-49DE-82C0-87F95F2E3F17">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令。
                              </p>
                           </li>
                           <li>
                              <p>如果OCR备份文件位于Oracle ASM磁盘组中，请确保磁盘组存在且已装入。</p>
                           </li>
                           <li>
                              <p>Oracle ASM磁盘组的名称前面必须加号（ <code class="codeph">+</code> ）。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">-local</code>选项还原OLR的备份。</p>
                           </li>
                           <li>
                              <p>示例文件名是：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">/oradbocfs/crs/BACKUP00.ocr</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">d：\ ORACLE \ BACKUP01.ocr</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">+ bkupdg：/aimev1/ocrbackup/day.ocr.260.739756845</code></p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2C02CEFF-1BC9-4C95-A74C-52D4006E1CBA__GUID-9058B378-1815-4C5F-BDEF-EE5FEFEE8BD0">例</p>
                        <div class="p">要从文件恢复OCR：<pre class="pre codeblock"><code>＃ocrconfig -restore /oradbocfs/crs/BACKUP00.ocr</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5368DF71-82F8-4249-A21A-3DDB741C5718" name="GUID-5368DF71-82F8-4249-A21A-3DDB741C5718"></a><h4 id="CWADD-GUID-5368DF71-82F8-4249-A21A-3DDB741C5718" class="sect4">ocrconfig -showbackup</h4>
                  <div>
                     <div><span>显示所有可用备份。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-5368DF71-82F8-4249-A21A-3DDB741C5718__GUID-68516272-21E1-4A6B-9DC1-39157FEE68CC">句法</p><pre class="pre codeblock"><code>ocrconfig [-local] -showbackup [auto |手册]</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5368DF71-82F8-4249-A21A-3DDB741C5718__GUID-D1A96874-DBB6-4B78-A19B-5F2779B92E30">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">-local</code>选项显示手动OLR备份信息。<code class="codeph">-local</code>标志仅与<code class="codeph">manual</code>选项一起<code class="codeph">manual</code> 。
                              </p>
                           </li>
                           <li>
                              <p>您可以选择指定<code class="codeph">auto</code>或<code class="codeph">manual</code>来分别显示有关自动备份或仅手动备份的信息：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">auto</code> ：显示有关Oracle Clusterware在过去4小时，8小时，12小时以及最后一天和一周中创建的自动备份的信息。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">manual</code> ：最多显示使用<code class="codeph"><a href="oracle-cluster-registry-utility-reference.html#GUID-C71025B6-7613-4B2D-A4A1-12D2C1A5F590" title="根据需要将OCR备份到特定位置。">ocrconfig -manualbackup</a></code>命令调用的最后五个手动备份的信息。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5368DF71-82F8-4249-A21A-3DDB741C5718__GUID-BA3443C3-02F0-42E7-9DA9-6338634B021D">例</p>
                        <div class="p">此命令显示OLR的手动备份信息，类似于以下内容：<pre class="pre codeblock"><code><span class="bold">$ ocrconfig -local -showbackup manual</span> cc40524 2017/05/08 15:06:57 /mjk_has5/oracle/log/srvm/backup_20170508_150657.olr 0</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A1398911-C46F-4C32-9F91-DD3DE190440D" name="GUID-A1398911-C46F-4C32-9F91-DD3DE190440D"></a><h4 id="CWADD-GUID-A1398911-C46F-4C32-9F91-DD3DE190440D" class="sect4">ocrconfig -showbackuploc</h4>
                  <div>
                     <div><span>显示OCR和OLR备份文件的备份位置。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-A1398911-C46F-4C32-9F91-DD3DE190440D__GUID-4F67D1C3-A049-4016-B57D-98308ED28BF0">句法</p><pre class="pre codeblock"><code>ocrconfig [-local] -showbackuploc</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A1398911-C46F-4C32-9F91-DD3DE190440D__GUID-1442B1A6-2F0F-4454-8A11-AF6612C36A9A">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须以<code class="codeph">root</code>身份运行此命令</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">-local</code>选项显示OLR备份位置</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A1398911-C46F-4C32-9F91-DD3DE190440D__GUID-2C489874-FE88-4C2A-8AC3-8E066B85604C">例</p>
                        <div class="p">此命令返回类似于以下内容的输出：<pre class="pre codeblock"><code><span class="bold">#ocrconfig -showbackuploc</span> Oracle Cluster Registry备份位置为[+ bkupdg] #ocrconfig <span class="bold">-local -showbackuploc</span> Oracle本地注册表备份位置为[/ gridhome / oracle / log / srvm]</code></pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-77F1A871-1E8D-488F-A7E0-2CB6BB2B9243" name="GUID-77F1A871-1E8D-488F-A7E0-2CB6BB2B9243"></a><h4 id="CWADD-GUID-77F1A871-1E8D-488F-A7E0-2CB6BB2B9243" class="sect4">ocrconfig -upgrade</h4>
                  <div>
                     <div><span>从先前版本升级OCR。</span></div>
                     <div class="section">
                        <p class="subhead3" id="GUID-77F1A871-1E8D-488F-A7E0-2CB6BB2B9243__GUID-DAECE24F-EDCD-487E-9EA9-131EF39E7824">句法</p><pre class="pre codeblock"><code>ocrconfig -upgrade</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77F1A871-1E8D-488F-A7E0-2CB6BB2B9243__GUID-09AB3675-08A7-4932-9A09-C64FE8E213A2">使用说明</p>
                        <p>此命令没有选项。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CWADD92068"></a><div class="sect2"><a id="GUID-A818BE9E-5C4E-46FD-9F31-94BCFC4EE33E" name="GUID-A818BE9E-5C4E-46FD-9F31-94BCFC4EE33E"></a><h3 id="CWADD-GUID-A818BE9E-5C4E-46FD-9F31-94BCFC4EE33E" class="sect3">Oracle Cluster Registry和诊断输出疑难解答</h3>
               <div>
                  <p>本节介绍了解决OCR问题以及从用于管理OCR的实用程序获取诊断信息的各种方法。您可以使用这些实用程序来排除OLR故障。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="oracle-cluster-registry-utility-reference.html#GUID-AAEF4603-0943-434D-8152-5A71BD6976B1">Oracle Cluster Registry故障排除</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-cluster-registry-utility-reference.html#GUID-458233B3-54A8-4D2E-A9B5-1D3BF6ADEAE5" title="OCRCHECK实用程序显示OCR块格式的版本，可用空间和已用空间，OCRID以及已配置的OCR位置。">使用OCRCHECK实用程序</a></p>
                     </li>
                     <li>
                        <p><a href="oracle-cluster-registry-utility-reference.html#GUID-E62EC034-0C70-456D-A974-8694646A23A2" title="OCRDUMP实用程序使您可以通过以可读格式将内容写入文件或标准输出来查看OCR和OLR内容。">使用OCRDUMP实用程序查看Oracle Cluster Registry Content</a></p>
                     </li>
                  </ul>
               </div><a id="CWADD92070"></a><a id="CWADD92361"></a><div class="sect3"><a id="GUID-AAEF4603-0943-434D-8152-5A71BD6976B1" name="GUID-AAEF4603-0943-434D-8152-5A71BD6976B1"></a><h4 id="CWADD-GUID-AAEF4603-0943-434D-8152-5A71BD6976B1" class="sect4">Oracle Cluster Registry故障排除</h4>
                  <div>
                     <p><a href="oracle-cluster-registry-utility-reference.html#GUID-AAEF4603-0943-434D-8152-5A71BD6976B1__BEHBAJJI" title="常见的OCR问题和解决方案">表J-1</a>描述了常见的OCR问题以及相应的解决方案建议。
                     </p>
                     <div class="tblformal" id="GUID-AAEF4603-0943-434D-8152-5A71BD6976B1__BEHBAJJI">
                        <p class="titleintable">表J-1常见的Oracle集群注册表问题和解决方案</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="常见的Oracle Cluster Registry问题和解决方案" width="100%" border="1" summary="Common OCR problems and solutions" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="46%" id="d196323e3566">问题</th>
                                 <th align="left" valign="bottom" width="54%" id="d196323e3569">解</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d196323e3574" headers="d196323e3566 ">
                                    <p>目前没有使用OCR镜像，并希望启用它。</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d196323e3574 d196323e3569 ">
                                    <p>使用<code class="codeph">-replace</code>选项运行<code class="codeph">ocrconfig</code>命令。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d196323e3587" headers="d196323e3566 ">
                                    <p>OCR失败，您必须更换它。Oracle Enterprise Manager或OCR日志文件中的错误消息。</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d196323e3587 d196323e3569 ">
                                    <p>使用<code class="codeph">-replace</code>选项运行<code class="codeph">ocrconfig</code>命令。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d196323e3600" headers="d196323e3566 ">
                                    <p>OCR配置错误。</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d196323e3600 d196323e3569 ">
                                    <p><code class="codeph">-repair</code> ，使用<code class="codeph">-repair</code>选项运行<code class="codeph">ocrconfig</code>命令。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d196323e3613" headers="d196323e3566 ">
                                    <p>您正在通过OCR处理遇到严重的性能影响，或者您想要出于其他原因删除OCR。</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d196323e3613 d196323e3569 ">
                                    <p><code class="codeph">ocrconfig</code> ，使用<code class="codeph">-replace</code>选项运行<code class="codeph">ocrconfig</code>命令。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="46%" id="d196323e3626" headers="d196323e3566 ">
                                    <p>OCR失败，在您修复之前，必须仅使用一个OCR重新启动节点。</p>
                                 </td>
                                 <td align="left" valign="top" width="54%" headers="d196323e3626 d196323e3569 ">
                                    <p>使用<code class="codeph">-repair</code>选项运行<code class="codeph">ocrconfig</code>以删除错误的OCR位置。如果Oracle Clusterware找不到定义的所有OCR，则无法启动。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="CWADD92362"></a><div class="sect3"><a id="GUID-458233B3-54A8-4D2E-A9B5-1D3BF6ADEAE5" name="GUID-458233B3-54A8-4D2E-A9B5-1D3BF6ADEAE5"></a><h4 id="CWADD-GUID-458233B3-54A8-4D2E-A9B5-1D3BF6ADEAE5" class="sect4">使用OCRCHECK实用程序</h4>
                  <div>
                     <p>OCRCHECK实用程序显示OCR块格式的版本，可用空间和已用空间，OCRID以及已配置的OCR位置。</p>
                     <p>OCRCHECK对已配置的所有OCR中的所有块执行逐块<code class="codeph">checksum</code>操作。它还返回每个文件的单独状态以及整个OCR完整性检查的结果。
                     </p>
                     <div class="infoboxnote" id="GUID-458233B3-54A8-4D2E-A9B5-1D3BF6ADEAE5__GUID-65AD0617-4E45-4381-AC8C-2BADFCA5A20C">
                        <p class="notep1">注意：</p>
                        <p>Oracle支持在集群中的所有节点上至少使用Oracle Cluster Ready Services堆栈时使用<code class="codeph">ocrcheck</code>命令，因为即使堆栈处于联机状态，该命令也会运行但如果检查错误则可能错误地指示OCR已损坏正在进行OCR更新时发生。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-458233B3-54A8-4D2E-A9B5-1D3BF6ADEAE5__GUID-F8106154-1526-4D9B-8662-FD4ACE56A48C">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle Cluster Ready Services堆栈的更多信息，请参阅<span class="q">“ <a href="introduction-to-oracle-clusterware.html#GUID-7612C5C2-AC7C-4311-97B2-CF189268969A" title="Oracle Clusterware由两个独立的技术堆栈组成：由Cluster Ready Services（CRS）守护程序（CRSD）锚定的高级技术堆栈和由Oracle高可用性服务守护程序（OHASD）锚定的低技术堆栈。">Oracle Clusterware技术堆栈</a> ”</span></p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-8359AC2A-BCCD-40C0-A34D-781E1860A1E5" name="GUID-8359AC2A-BCCD-40C0-A34D-781E1860A1E5"></a><h5 id="CWADD-GUID-8359AC2A-BCCD-40C0-A34D-781E1860A1E5" class="sect5">句法</h5>
                     <div><pre class="oac_no_warn" dir="ltr">ocrcheck [-local] [-config | -backupfile &lt;backup_file_name&gt;] [-details] [-help]</pre><p>您可以运行<code class="codeph">ocrcheck -help</code>命令来显示有关此实用程序的用法信息。
                        </p>
                        <p><code class="codeph">-details</code>选项显示详细的OCR配置信息，包括Oracle ASM磁盘组的名称。
                        </p>
                     </div>
                  </div><a id="CWADD93028"></a><a id="CWADD92363"></a><a id="CWADD93029"></a><a id="CWADD92952"></a><a id="CWADD93027"></a><div class="sect4"><a id="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07" name="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07"></a><h5 id="CWADD-GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07" class="sect5">例子</h5>
                     <div>
                        <p>以下示例显示了示例OCRCHECK命令输出和命令用法。</p>
                        <div class="example" id="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__GUID-8CCCE9FF-9278-4518-833F-5F5ABF0013DD">
                           <p class="titleinexample">示例J-1 OCRCHECK实用程序示例输出</p><pre class="pre codeblock"><code>#ocrcheck Oracle Cluster Registry的状态如下：版本：4总空间（kbytes）：409568已用空间（kbytes）：17012可用空间（kbytes）：392556 ID：467263828设备/文件名：+ ocrdg1设备/文件完整性检查成功设备/文件名称：+ ocrdg2设备/文件完整性检查成功设备/文件未配置设备/文件未配置设备/文件未配置群集注册表完整性检查成功逻辑损坏检查成功</code></pre></div>
                        <!-- class="example" -->
                        <div class="infoboxnote" id="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__GUID-F5B600FD-9C44-49D7-89FF-9F0B7329BCCB">
                           <p class="notep1">注意：</p>
                           <p>仅当您以<code class="codeph">root</code>身份运行<code class="codeph">ocrcheck</code>命令时，才会执行逻辑损坏检查。
                           </p>
                        </div>
                        <p><a href="oracle-cluster-registry-utility-reference.html#GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__BEHDEGIB">示例J-2</a>显示使用<code class="codeph">ocrcheck -local -config</code>命令获取OLR信息。
                        </p>
                        <div class="infoboxnote" id="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__GUID-1FD2399C-6575-4585-B169-0A0CB4C7BF9D">
                           <p class="notep1">注意：</p>
                           <p>当Oracle Cluster Ready Services和Oracle High Availability Services堆栈在本地节点上处于OFFLINE状态时，Oracle支持使用<code class="codeph">ocrcheck -local</code>命令。
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__GUID-B877E589-1CC2-405E-B189-7C2DEEC6AF14">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="introduction-to-oracle-clusterware.html#GUID-7612C5C2-AC7C-4311-97B2-CF189268969A" title="Oracle Clusterware由两个独立的技术堆栈组成：由Cluster Ready Services（CRS）守护程序（CRSD）锚定的高级技术堆栈和由Oracle高可用性服务守护程序（OHASD）锚定的低技术堆栈。">Oracle Clusterware技术堆栈</a> ”</span> ，提供有关Oracle Cluster Ready Services和Oracle High Availability Services堆栈的更多信息</p>
                        </div>
                        <div class="example" id="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__BEHDEGIB">
                           <p class="titleinexample">示例J-2使用OCRCHECK获取OLR信息</p><pre class="pre codeblock"><code>$ ocrcheck -local -config Oracle Local Registry配置是：设备/文件名：/scratch/oracle/crshome/cdata/rwsbg08.olr</code></pre></div>
                        <!-- class="example" -->
                        <p><a href="oracle-cluster-registry-utility-reference.html#GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__BEHEAGEJ">示例J-3</a>显示使用<code class="codeph">ocrcheck -config -details</code>命令获取Oracle ASM磁盘组中OCR的位置。
                        </p>
                        <div class="example" id="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__BEHEAGEJ">
                           <p class="titleinexample">示例J-3使用OCRCHECK获取OCR信息</p><pre class="pre codeblock"><code>$ ocrcheck -config -details Oracle Cluster Registry配置为：设备/文件名：+ ocrvd11 / mjk_1 / OCRFILE / registry.255.842574113设备/文件名：+ ocrdv2 / mjk_1 / OCRFILE / registry.255.842574125</code></pre></div>
                        <!-- class="example" -->
                        <p><a href="oracle-cluster-registry-utility-reference.html#GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__BEHGFAGJ">示例J-4</a>显示使用<code class="codeph">ocrcheck -details</code>命令获取OCR配置的更高级别的详细信息。
                        </p>
                        <div class="example" id="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__BEHGFAGJ">
                           <p class="titleinexample">示例J-4使用OCRCHECK获取更多OCR信息</p><pre class="pre codeblock"><code>$ ocrcheck -details Oracle Cluster Registry的状态如下：版本：4总空间（kbytes）：409568已用空间（kbytes）：17012可用空间（kbytes）：392556 ID：467263828设备/文件名：+ OCRVD11 / mycluster / OCRFILE / registry.255.842574113设备/文件完整性检查成功设备/文件名：+ OCRVD2 / mycluster / OCRFILE / registry.255.842574125设备/文件完整性检查成功设备/文件未配置设备/文件未配置设备/文件未配置群集注册表完整性检查成功逻辑损坏检查成功</code></pre><p><a href="oracle-cluster-registry-utility-reference.html#GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__USINGOCRCHECKTOOBTAINBACKUPFILEINFO-3DB6B315">示例J-5</a>显示使用<code class="codeph">ocrcheck -details</code>命令获取备份文件信息。
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-2B1DCC47-6217-4914-BCAF-A0A996AFAA07__USINGOCRCHECKTOOBTAINBACKUPFILEINFO-3DB6B315">
                           <p class="titleinexample">示例J-5使用OCRCHECK获取备份文件信息</p><pre class="pre codeblock"><code>％ocrcheck -backupfile + bkupdg：/sbezawadhtest/OCRBACKUP/backup00.ocr.258.919047805备份文件的状态如下：版本：4已用空间（千字节）：17012设备/文件名：+ bkupdg：/ sbezawadhtest / OCRBACKUP / backup00。 ocr.258.919047805设备/文件完整性检查成功备份文件完整性检查成功逻辑损坏检查成功集群就绪服务管理的实体的一致性检查成功。</code></pre></div>
                        <!-- class="example" -->
                        <p>OCRCHECK在<code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span> /diag/crs/ <span class="variable" translate="no">host_name</span> /crs</code>目录中创建一个日志文件。要更改日志级别，请编辑<code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span> /crsdata/ <span class="variable" translate="no">host_name</span> /crsdiag/ocrcheck.ini</code>文件。在这种情况下， <code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span></code>用于Oracle Grid Infrastructure软件主页。
                        </p>
                     </div>
                  </div>
               </div><a id="CWADD92365"></a><div class="sect3"><a id="GUID-E62EC034-0C70-456D-A974-8694646A23A2" name="GUID-E62EC034-0C70-456D-A974-8694646A23A2"></a><h4 id="CWADD-GUID-E62EC034-0C70-456D-A974-8694646A23A2" class="sect4">使用OCRDUMP实用程序查看Oracle Cluster Registry Content</h4>
                  <div>
                     <p>OCRDUMP实用程序使您可以通过以可读格式将内容写入文件或<code class="codeph">stdout</code>来查看OCR和OLR内容。
                     </p>
                     <p>本节介绍如何使用OCRDUMP实用程序查看OCR和Oracle Local Registry（OLR）内容以进行故障排除。</p>
                     <p>您可以为OCRDUMP使用多个选项。例如，您可以将输出限制为键及其后代。您还可以将内容写入可以使用浏览器查看的XML文件。OCRDUMP将OCR密钥作为ASCII字符串和值以数据类型格式写入。OCRDUMP基于尽力而为的方式检索标头信息。</p>
                     <p>OCRDUMP在<code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span> /diag/crs/ <span class="variable" translate="no">host_name</span> /crs</code>创建一个日志文件。要更改日志级别，请编辑<code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span> /crsdata/ <span class="variable" translate="no">host_name</span> /crsdiag/ocrlog.ini</code>文件。在这种情况下， <code class="codeph"><span class="variable" translate="no">ORACLE_BASE</span></code>用于Oracle Grid Infrastructure软件主页。
                     </p>
                     <p>要更改日志记录组件，请编辑包含<code class="codeph">comploglvl=</code>条目的条目。例如，到的日志级别改变<code class="codeph">OCRAPI</code>组件3和所述的日志级别改变<code class="codeph">OCRRAW</code>部件5，使在以下条目<code class="codeph">ocrlog.ini</code>文件：</p><pre class="pre codeblock"><code>comploglvl = “OCRAPI：3; OCRRAW：5”</code></pre><div class="infoboxnote" id="GUID-E62EC034-0C70-456D-A974-8694646A23A2__GUID-40459F64-282F-4D65-A447-33D256311DA4">
                        <p class="notep1">注意：</p>
                        <p>在使用OCRDUMP实用程序之前，请确保您在<code class="codeph"><span class="variable" translate="no">Grid_home</span></code>目录中具有文件创建权限。
                        </p>
                     </div>
                     <p>本节包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="oracle-cluster-registry-utility-reference.html#GUID-F4CE8CF1-24FD-43FA-BF62-70718955B386">OCRDUMP实用程序语法和选项</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-cluster-registry-utility-reference.html#GUID-07FE3AB0-93BB-42CD-B699-0446287FC791">OCRDUMP实用程序示例</a></p>
                        </li>
                        <li>
                           <p><a href="oracle-cluster-registry-utility-reference.html#GUID-681B7B8E-2CDA-4C4B-8BA8-608E6E6CBC34">示例OCRDUMP实用程序输出</a></p>
                        </li>
                     </ul>
                  </div><a id="CWADD92074"></a><a id="CWADD92073"></a><div class="sect4"><a id="GUID-F4CE8CF1-24FD-43FA-BF62-70718955B386" name="GUID-F4CE8CF1-24FD-43FA-BF62-70718955B386"></a><h5 id="CWADD-GUID-F4CE8CF1-24FD-43FA-BF62-70718955B386" class="sect5">OCRDUMP实用程序语法和选项</h5>
                     <div>
                        <p>本节介绍OCRDUMP实用程序命令的语法和用法。使用以下语法运行<code class="codeph">ocrdump</code>命令，其中<span class="italic"><code class="codeph">file_name</code></span>是您希望Oracle Database编写Oracle Cluster Registry输出的目标文件的名称，其中<span class="italic"><code class="codeph">key_name</code></span>是您希望Oracle Database从中编写Oracle Cluster Registry的密钥的名称子树内容：</p><pre class="oac_no_warn" dir="ltr">$ ocrdump [ <span class="italic">file_name</span> | -stdout] [-local] [-backupfile <span class="italic">backup_file_name</span> [-keyname <span class="italic">key_name</span> ] [-xml] [-noheader]]</pre><p><a href="oracle-cluster-registry-utility-reference.html#GUID-F4CE8CF1-24FD-43FA-BF62-70718955B386__BEHIABDA" title="srvctl setenv数据库选项">表J-2</a>介绍了OCRDUMP实用程序选项和选项说明。
                        </p>
                        <div class="tblformal" id="GUID-F4CE8CF1-24FD-43FA-BF62-70718955B386__BEHIABDA">
                           <p class="titleintable">表J-2 OCRDUMP选项和选项说明</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="OCRDUMP选项和选项说明" width="100%" border="1" summary="srvctl setenv database Options" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d196323e4536">选项</th>
                                    <th align="left" valign="bottom" width="81%" id="d196323e4539">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d196323e4544" headers="d196323e4536 ">
                                       <p><span class="italic"><code class="codeph">文件名</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d196323e4544 d196323e4539 ">
                                       <p>您希望OCRDUMP写入输出的文件的名称。</p>
                                       <p>默认情况下，OCRDUMP将输出写入名为<code class="codeph">OCRDUMPFILE</code>的预定义输出文件。 <span class="italic"><code class="codeph">file_name</code></span>选项将OCRDUMP输出重定向到您指定的文件。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d196323e4562" headers="d196323e4536 ">
                                       <p><code class="codeph">-stdout</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d196323e4562 d196323e4539 ">
                                       <p>使用此选项可将OCRDUMP输出重定向到启动程序的文本终端。</p>
                                       <p>如果不重定向输出，OCRDUMP会将输出写入名为<code class="codeph">OCRDUMPFILE</code>的预定义输出文件。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d196323e4575" headers="d196323e4536 ">
                                       <p><code class="codeph">-本地</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d196323e4575 d196323e4539 ">
                                       <p>使用此选项可以转储OLR的内容。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d196323e4583" headers="d196323e4536 ">
                                       <p><code class="codeph">-backupfile</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d196323e4583 d196323e4539 ">
                                       <p>使用此选项可以查看OCR备份文件的内容。使用带有此选项的<code class="codeph">-local</code>选项可以查看OLR备份文件的内容。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d196323e4594" headers="d196323e4536 ">
                                       <p><span class="italic"><code class="codeph">backup_file_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d196323e4594 d196323e4539 ">
                                       <p>包含要查看的内容的备份文件的名称。您可以使用<code class="codeph">ocrconfig -showbackup</code>命令查询备份。如果备份文件位于Oracle ASM磁盘组中，请确保磁盘组存在且已装入。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d196323e4606" headers="d196323e4536 ">
                                       <p><code class="codeph">-keyname</code> <span class="italic"><code class="codeph">key_name</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d196323e4606 d196323e4539 ">
                                       <p>要转储其子树的Oracle Cluster Registry密钥的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d196323e4618" headers="d196323e4536 ">
                                       <p><code class="codeph">-xml</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d196323e4618 d196323e4539 ">
                                       <p>使用此选项以XML格式编写输出。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d196323e4626" headers="d196323e4536 ">
                                       <p><code class="codeph">-noheader</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d196323e4626 d196323e4539 ">
                                       <p>不会打印运行命令的时间以及Oracle Cluster Registry配置发生的时间。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="CWADD92075"></a><div class="sect4"><a id="GUID-07FE3AB0-93BB-42CD-B699-0446287FC791" name="GUID-07FE3AB0-93BB-42CD-B699-0446287FC791"></a><h5 id="CWADD-GUID-07FE3AB0-93BB-42CD-B699-0446287FC791" class="sect5">OCRDUMP实用程序示例</h5>
                     <div>
                        <p><a id="d196323e4761" class="indexterm-anchor"></a>以下<code class="codeph">ocrdump</code>实用程序示例提取各种类型的OCR信息并将其写入各种目标：</p><pre class="oac_no_warn" dir="ltr">ocrdump</pre><p>将OCR内容写入当前目录中名为<code class="codeph">OCRDUMPFILE</code>的文件。
                        </p><pre class="oac_no_warn" dir="ltr">ocrdump MYFILE</pre><p>将OCR内容写入当前目录中名为<code class="codeph">MYFILE</code>的文件。
                        </p><pre class="oac_no_warn" dir="ltr">ocrdump -stdout -keyname SYSTEM</pre><p>在终端窗口中显示来自密钥<code class="codeph">SYSTEM</code>的子树的OCR内容。
                        </p><pre class="oac_no_warn" dir="ltr">ocrdump -stdout -xml</pre><p>以XML格式在终端窗口中显示OCR内容。</p><pre class="oac_no_warn" dir="ltr">ocrdump -stdout -backupfile <span class="italic">Grid_home</span> / cdata / <span class="italic">cluster_name</span> / <span class="italic">file_name</span>
</pre><p><a id="d196323e4806" class="indexterm-anchor"></a>显示<span class="italic"><code class="codeph">Grid_home</code></span> <code class="codeph">/cdata/</code> <span class="italic"><code class="codeph">cluster_name</code></span> / <span class="italic"><code class="codeph">file_name</code></span>目录中的内容。您必须以<code class="codeph">root</code>身份运行此命令才能查看所有密钥。请确保正确命名文件，以便任何人都可以将其识别为OCR备份文件，例如<code class="codeph">BACKUPOO.ocr</code> 。
                        </p>
                     </div>
                  </div><a id="CWADD92076"></a><div class="sect4"><a id="GUID-681B7B8E-2CDA-4C4B-8BA8-608E6E6CBC34" name="GUID-681B7B8E-2CDA-4C4B-8BA8-608E6E6CBC34"></a><h5 id="CWADD-GUID-681B7B8E-2CDA-4C4B-8BA8-608E6E6CBC34" class="sect5">示例OCRDUMP实用程序输出</h5>
                     <div>
                        <p>以下OCRDUMP示例显示了<code class="codeph">ocrdump</code>命令的两个示例运行的<code class="codeph">KEYNAME</code> ， <code class="codeph">VALUE TYPE</code> ， <code class="codeph">VALUE</code> ，权限集（ <code class="codeph">user</code> ， <code class="codeph">group</code> ， <code class="codeph">world</code> ）和访问权限。以下显示<code class="codeph">SYSTEM.language</code>键的输出<a id="d196323e4981" class="indexterm-anchor"></a><a id="d196323e4985" class="indexterm-anchor"></a>其文本值为<code class="codeph">AMERICAN_AMERICA.WE8ASCII37</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">[SYSTEM.language] ORATEXT：AMERICAN_AMERICA.WE8ASCII37 SECURITY：{USER_PERMISSION：PROCR_ALL_ACCESS，GROUP_PERMISSION：PROCR_READ，OTHER_PERMISSION：PROCR_READ，USER_NAME：user，GROUP_NAME：group}</pre><p>以下显示了输出<a id="d196323e4997" class="indexterm-anchor"></a><a id="d196323e5001" class="indexterm-anchor"></a> <code class="codeph">SYSTEM.version</code>键，整数值为<code class="codeph">3</code> ：</p><pre class="oac_no_warn" dir="ltr">[SYSTEM.version] UB4（10）：3安全：{USER_PERMISSION：PROCR_ALL_ACCESS，GROUP_PERMISSION：PROCR_READ，OTHER_PERMISSION：PROCR_READ，USER_NAME：user，GROUP_NAME：group}</pre></div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>