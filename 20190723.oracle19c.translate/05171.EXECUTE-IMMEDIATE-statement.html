<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The EXECUTE IMMEDIATE statement builds and runs a dynamic SQL statement in a single operation."></meta>
      <meta name="description" content="The EXECUTE IMMEDIATE statement builds and runs a dynamic SQL statement in a single operation."></meta>
      <title>EXECUTE IMMEDIATE声明</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database PL/SQL Language Reference "></meta>
      <meta property="og:description" content="The EXECUTE IMMEDIATE statement builds and runs a dynamic SQL statement in a single operation."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database PL/SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96448-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="exception-handler.html" title="Previous" type="text/html"></link>
      <link rel="next" href="EXIT-statement.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="LNPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="exception-handler.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="EXIT-statement.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库PL / SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="plsql-language-elements.html" property="item" typeof="WebPage"><span property="name">PL / SQL语言元素</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">EXECUTE IMMEDIATE声明</li>
            </ol>
            <a id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8" name="GUID-C3245A95-B85B-4280-A01F-12307B108DC8"></a><a id="LNPLS1186"></a><a id="LNPLS1068"></a><a id="LNPLS1071"></a><a id="LNPLS1187"></a><a id="LNPLS1188"></a><a id="LNPLS1189"></a><a id="LNPLS1190"></a><a id="LNPLS1191"></a><a id="LNPLS1192"></a><a id="LNPLS1193"></a><a id="LNPLS1194"></a><a id="LNPLS1195"></a><a id="LNPLS1196"></a><a id="LNPLS1197"></a><a id="LNPLS1198"></a><a id="LNPLS1199"></a><a id="LNPLS1201"></a><a id="LNPLS1205"></a><a id="LNPLS01317"></a>
            
            <h2 id="LNPLS-GUID-C3245A95-B85B-4280-A01F-12307B108DC8" class="sect2"><span class="enumeration_section">13.28</span> EXECUTE IMMEDIATE语句</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code>语句在单个操作中构建并运行动态SQL语句。
               </p>
               <div class="section">
                  <p>本机动态SQL使用<code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code>语句来处理大多数动态SQL语句。
                  </p>
                  <div class="infoboxnote" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-45A64078-049C-4ECE-B72E-F68444492DD2">
                     <p class="notep1">警告：</p>
                     <p>使用动态SQL时，要注意SQL注入，存在安全风险。有关SQL注入的详细信息，请参阅<span class="q">“ <a href="dynamic-sql.html#GUID-1E31057E-057F-4A53-B1DD-8BC2C337AA2C" title="SQL注入恶意利用在SQL语句中使用客户端提供的数据的应用程序，从而获得对数据库的未授权访问以查看或操纵受限数据。">SQL注入</a> ”</span> 。
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-33938766-A8B2-4382-B77C-319DA1F1914F">话题</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="EXECUTE-IMMEDIATE-statement.html#GUID-C3245A95-B85B-4280-A01F-12307B108DC8__CJACGJJG">句法</a></p>
                     </li>
                     <li>
                        <p><a href="EXECUTE-IMMEDIATE-statement.html#GUID-C3245A95-B85B-4280-A01F-12307B108DC8__CJABDAAE">语义</a></p>
                     </li>
                     <li>
                        <p><a href="EXECUTE-IMMEDIATE-statement.html#GUID-C3245A95-B85B-4280-A01F-12307B108DC8__I36869">例子</a></p>
                     </li>
                     <li>
                        <p><a href="EXECUTE-IMMEDIATE-statement.html#GUID-C3245A95-B85B-4280-A01F-12307B108DC8__CJAJAIBA">相关话题</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__CJACGJJG">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-7185C2F2-D8E6-498C-A7EE-22491B2782CB">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-0E968A83-3E90-4A66-B4A3-14C03B859669"><span class="italic">execute_immediate_statement</span> :: =</p>
                  <div class="figure" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-7610D788-AEDE-458D-AEE6-8162DA84830B"><img src="img/execute_immediate_statement.gif" alt="下面是execute_immediate_statement.eps的描述" title="下面是execute_immediate_statement.eps的描述" longdesc="img_text/execute_immediate_statement.html"><br><a href="img_text/execute_immediate_statement.html">插图描述execute_immediate_statement.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE__CJAIAGHJ">bulk_collect_into_clause :: =</a> ， <a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE__CJADEDEF">dynamic_returning_clause :: =</a> ， <a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE__CJAJDJHC">into_clause :: =</a> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-BFDED1E3-CAF7-44F9-B840-BB24D9224084"><span class="italic">using_clause</span> :: =</p>
                  <div class="figure" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-6F4430B6-A821-4236-A24C-CC5904E21BEB"><img src="img/using_clause.gif" alt="using_clause.eps的描述如下" title="using_clause.eps的描述如下" longdesc="img_text/using_clause.html"><br><a href="img_text/using_clause.html">说明using_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__CJABDAAE">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-FAB28870-DADF-4E5B-AB03-4FA2E4C63FA5">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-FC8D06AC-DEB9-47BA-81D4-47C93D82A382"><span class="italic">execute_immediate_statement</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">dynamic_sql_stmt</span></span></p>
                  <p>字符串文字，字符串变量或表示SQL语句的字符串表达式。其类型必须是<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code>或<code class="codeph">CLOB</code> 。</p>
                  <div class="infoboxnote" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-03324D0E-5267-42B9-98BE-8325F9213352">
                     <p class="notep1">注意：</p>
                     <p>如果<span class="italic"><code class="codeph">dynamic_sql_statement</code></span>是<code class="codeph">SELECT</code>语句，并且省略了<span class="italic"><code class="codeph">into_clause</code></span>和<span class="italic"><code class="codeph">bulk_collect_into_clause</code></span> ，则<span class="italic"><code class="codeph">execute_immediate_statement</code></span>永远不会执行。
                     </p>
                     <p>例如，此语句从不递增序列：</p><pre class="oac_no_warn" dir="ltr">执行立即'从双重选择S.NEXTVAL'</pre></div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-3216BCE7-81F6-4633-AD61-7F0E3BC7CCC3"><span class="italic">into_clause</span></p>
                  <p>指定用于存储语句返回的列值的变量或记录。有关此子句的更多信息，请参阅<span class="q">“返回到<a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE" title="RETURNING INTO子句指定用于存储子句所属语句返回的值的变量。">子句</a> ”</span> 。
                  </p>
                  <p><span class="bold">对<span class="italic">into_clause的</span>限制</span></p>
                  <p>当且仅当<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>返回单行时才使用。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-D99FE5DA-E638-4B7E-81FB-1DCB86588F31"><span class="italic">bulk_collect_into_clause</span></p>
                  <p>指定一个或多个集合，用于存储语句返回的行。有关此子句的更多信息，请参阅<span class="q">“返回到<a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE" title="RETURNING INTO子句指定用于存储子句所属语句返回的值的变量。">子句</a> ”</span> 。
                  </p>
                  <p><span class="bold">对<span class="italic">bulk_collect_into_clause的</span>限制</span></p>
                  <p>当且仅当<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>可以返回多行时使用。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">dynamic_returning_clause</span></span></p>
                  <p>在单个变量或记录中返回受动态SQL语句影响的行的列值。有关此子句的更多信息，请参阅<span class="q">“返回到<a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE" title="RETURNING INTO子句指定用于存储子句所属语句返回的值的变量。">子句</a> ”</span> 。
                  </p>
                  <p><span class="bold">对<span class="italic">dynamic_returning_clause的</span>限制</span></p>
                  <p>当且仅当<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>具有<code class="codeph">RETURNING</code> <code class="codeph">INTO</code>子句时才使用。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-597C53E3-45E1-4BA4-99EB-FE44208047E0"><span class="italic">using_clause</span></p>
                  <p>使用位置表示法指定绑定变量。</p>
                  <div class="infoboxnote" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-155C9589-98A5-4DBF-91BC-CE2E59A42D95">
                     <p class="notep1">注意：</p>
                     <p>如果在<span class="italic"><code class="codeph">dynamic_sql_statement</code></span>重复占位符名称，请注意占位符与绑定变量关联的方式取决于动态SQL语句的类型。有关详细信息，请参阅<span class="q">“ <a href="dynamic-sql.html#GUID-4E5C6A4F-C1DB-44DD-964E-C683120B448E" title="如果在动态SQL语句中重复占位符名称，请注意占位符与绑定变量关联的方式取决于动态SQL语句的类型。">动态SQL语句中的重复占位符名称”</a> 。</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">using_clause的</span>限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>当且仅当<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>包含绑定变量的占位符时才使用。
                        </p>
                     </li>
                     <li>
                        <p>如果<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>有一个<code class="codeph">RETURNING</code> <code class="codeph">INTO</code>子句（ <span class="italic"><code class="codeph">static_returning_clause</code></span> ），然后<span class="italic"><code class="codeph">using_clause</code></span>只能包含<code class="codeph">IN</code>绑定变量。根据定义， <code class="codeph">RETURNING</code> <code class="codeph">INTO</code>子句中的绑定变量是<code class="codeph">OUT</code>绑定变量。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">IN，OUT，IN OUT</span></p>
                  <p>绑定变量的参数模式。<code class="codeph">IN</code>绑定变量将其值传递给<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span> 。<code class="codeph">OUT</code>绑定变量存储<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>返回的值。<code class="codeph">IN</code> <code class="codeph">OUT</code>绑定变量将其初始值传递给<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>并存储<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>返回的值。<span class="bold">默认值：</span> <code class="codeph">IN</code> 。</p>
                  <p>对于带有<code class="codeph">RETURNING</code>子句的DML语句，可以将<code class="codeph">OUT</code>绑定变量放在<code class="codeph">RETURNING</code> <code class="codeph">INTO</code>子句中，而不指定参数模式，该模式始终为<code class="codeph">OUT</code> 。</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">bind_argument</span></span></p>
                  <p>一个表达式，其值在运行时替换<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>中的相应占位符。
                  </p>
                  <p>在每一个占位符<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span>必须与相关联<span class="italic"><code class="codeph">bind_argument</code></span>中<code class="codeph">USING</code>子句或<code class="codeph">RETURNING</code> <code class="codeph">INTO</code>子句（或两者）或与在限定可变<code class="codeph">INTO</code>子句。
                  </p>
                  <p>您可以使用绑定变量的不同值重复运行<span class="italic"><code class="codeph">dynamic_sql_stmt</code></span> 。您会产生一些开销，因为<code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code>在每次执行之前准备动态字符串。
                  </p>
                  <div class="infoboxnote" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-6CB3465D-BF51-4325-9D2B-857D08F3734E">
                     <p class="notep1">注意：</p>
                     <p>可以按任何顺序评估绑定变量。如果程序确定评估顺序，那么在程序执行此操作时，其行为是不确定的。</p>
                  </div>
                  <p><span class="bold"><span class="italic">bind_argument的</span>限制</span></p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="italic"><code class="codeph">bind_argument</code></span>不能是由string索引的关联数组。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">bind_argument</code></span>不能是保留字<code class="codeph">NULL</code> 。</p>
                        <p>要将值<code class="codeph">NULL</code>传递给动态SQL语句，请使用未初始化的变量，以便在其中使用<code class="codeph">NULL</code> ，如<a href="dynamic-sql.html#GUID-30ADFC05-8DFB-4C8A-831D-426C2E97F217__BHCBIICB">例7-7所示</a> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__I36869">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-6E6CADF0-DD1A-46FA-8881-EFF684F8D82B">例子</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="dynamic-sql.html#GUID-30ADFC05-8DFB-4C8A-831D-426C2E97F217__CHDIEFCJ">例7-1</a> ， <span class="q">“从动态PL / SQL块调用子程序”</span></p>
                     </li>
                     <li>
                        <p><a href="dynamic-sql.html#GUID-30ADFC05-8DFB-4C8A-831D-426C2E97F217__BHCBIICB">例7-7</a> ， <span class="q">“未初始化的变量在USING子句中表示NULL”</span></p>
                     </li>
                     <li>
                        <p><a href="dynamic-sql.html#GUID-A31BBD6E-1CB5-47D2-A01B-48DC3BE203C7__CHDFHEAG">例7-10</a> ， <span class="q">“动态PL / SQL块中重复的占位符名称”</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__CJAJAIBA">
                  <p class="subhead1" id="GUID-C3245A95-B85B-4280-A01F-12307B108DC8__GUID-862BEBA6-E59C-4E54-A53E-11AD512C69DC">相关话题</p>
                  <p>在这一章当中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="RETURNING-INTO-clause.html#GUID-38F735B9-1100-45AF-AE71-18FB74A899BE" title="RETURNING INTO子句指定用于存储子句所属语句返回的值的变量。">归还条款</a> ”</span></p>
                     </li>
                  </ul>
                  <p>在其他章节中：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="q">“ <a href="dynamic-sql.html#GUID-30ADFC05-8DFB-4C8A-831D-426C2E97F217" title="EXECUTE IMMEDIATE语句是本机动态SQL处理大多数动态SQL语句的方法。">EXECUTE IMMEDIATE Statement</a> ”</span></p>
                     </li>
                     <li>
                        <p><span class="q">“ <a href="dynamic-sql.html#GUID-4E1FD47B-7E1A-42E9-9792-210F13C75A1B" title="DBMS_SQL包定义了一个称为SQL游标号的实体。因为SQL游标号是PL / SQL整数，所以可以将其传递到调用边界并存储它。">DBMS_SQL包</a> ”</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>