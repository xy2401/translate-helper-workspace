<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>CTX_REPORT包</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96278-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="CTX_QUERY-package.html" title="Previous" type="text/html"></link>
      <link rel="next" href="CTX_THES-package.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference"></meta>
    <meta name="dcterms.isVersionOf" content="CCREF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CTX_QUERY-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="CTX_THES-package.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CTX_REPORT包</li>
            </ol>
            <a id="GUID-8750E658-F568-4B17-B78B-0F71848A1C63" name="GUID-8750E658-F568-4B17-B78B-0F71848A1C63"></a><a id="CCREF1100"></a>
            
            <h2 id="CCREF-GUID-8750E658-F568-4B17-B78B-0F71848A1C63" class="sect2"><span class="enumeration_chapter">13</span> CTX_REPORT包</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍如何使用<code class="codeph">CTX_REPORT</code>包创建索引和查询报告。这些报告可以帮助您解决问题或微调您的应用程序。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-F906F875-B2FC-4611-AECF-3CF71688C935">CTX_REPORT中的过程描述</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F">使用功能版本</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-21915193-473D-4FE8-B738-034813D325F6">DESCRIBE_INDEX</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D">DESCRIBE_POLICY</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97">CREATE_INDEX_SCRIPT</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-C515B497-D252-40C2-8140-336C0CCE9B8B">CREATE_POLICY_SCRIPT</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18">INDEX_SIZE</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1">INDEX_STATS</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-AFD54A2E-90C8-42F8-9607-AC517428056D">QUERY_LOG_SUMMARY</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3">TOKEN_INFO</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">TOKEN_TYPE</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-06C55318-69A1-499E-B5C8-D7FC163A832C">VALIDATE_INDEX</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-8750E658-F568-4B17-B78B-0F71848A1C63__GUID-7C2A5B08-20D4-46D0-A997-F88ADD5757C4">
                  <p class="notep1">注意：</p>
                  <p><code class="codeph">CTX_REPORT</code>包中的API不支持以架构或所有者名称为前缀的标识符。
                  </p>
               </div>
               <div class="infoboxnotealso" id="GUID-8750E658-F568-4B17-B78B-0F71848A1C63__GUID-06412EF9-6158-4959-92C5-9C4B632E5D8B">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="../ccapp/administering-oracle-text.html#CCAPP1000" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> ，概述<code class="codeph">CTX_REPORT</code>包，以及如何使用本章中介绍的各种过程</p>
               </div>
            </div><a id="CCREF2139"></a><div class="props_rev_3"><a id="GUID-F906F875-B2FC-4611-AECF-3CF71688C935" name="GUID-F906F875-B2FC-4611-AECF-3CF71688C935"></a><h3 id="CCREF-GUID-F906F875-B2FC-4611-AECF-3CF71688C935" class="sect3"><span class="enumeration_section">13.1</span> CTX_REPORT中的过程描述</h3>
               <div>
                  <p><code class="codeph">CTX_REPORT</code>包中包含以下过程：</p>
                  <div class="tblformal" id="GUID-F906F875-B2FC-4611-AECF-3CF71688C935__GUID-2F9F4412-ED07-4BE6-938F-67D19EAC3C19">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes CTX_REPORT Procedures." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d119504e226">名称</th>
                              <th align="left" valign="bottom" width="65%" id="d119504e230">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e235" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-21915193-473D-4FE8-B738-034813D325F6">DESCRIBE_INDEX</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e235 d119504e230 ">
                                 <p>创建描述索引的报告。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e244" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D">DESCRIBE_POLICY</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e244 d119504e230 ">
                                 <p>创建描述策略的报告。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e253" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97">CREATE_INDEX_SCRIPT</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e253 d119504e230 ">
                                 <p>创建SQL * Plus脚本以复制指定的索引。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e262" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-C515B497-D252-40C2-8140-336C0CCE9B8B">CREATE_POLICY_SCRIPT</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e262 d119504e230 ">
                                 <p>创建SQL * Plus脚本以复制指定的策略。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e271" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18">INDEX_SIZE</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e271 d119504e230 ">
                                 <p>创建报告以显示索引的内部对象，其表空间和已用大小。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e280" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1">INDEX_STATS</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e280 d119504e230 ">
                                 <p>创建报告以显示索引的各种统计信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e289" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-AFD54A2E-90C8-42F8-9607-AC517428056D">QUERY_LOG_SUMMARY</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e289 d119504e230 ">
                                 <p>创建显示查询统计信息的报告</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e298" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3">TOKEN_INFO</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e298 d119504e230 ">
                                 <p>创建一个报告，显示已解码的令牌信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e307" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">TOKEN_TYPE</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e307 d119504e230 ">
                                 <p>转换名称并返回数字标记类型。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e316" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-06C55318-69A1-499E-B5C8-D7FC163A832C">VALIDATE_INDEX</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e316 d119504e230 ">
                                 <p>检查索引损坏并找到发现的问题的报告。主要与Oracle Support一起使用。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2140"></a><div class="props_rev_3"><a id="GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F" name="GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F"></a><h3 id="CCREF-GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F" class="sect3"><span class="enumeration_section">13.2</span>使用功能版本</h3>
               <div>
                  <p><code class="codeph">CTX_REPORT</code>包中的某些过程具有函数版本。您可以按如下方式调用这些函数：</p><pre class="oac_no_warn" dir="ltr">从双重中选择ctx_report.describe_index（'MYINDEX'）;</pre><p>在SQL * Plus中，要生成要发送给支持的输出文件，您可以执行以下操作：</p><pre class="oac_no_warn" dir="ltr">设置长64000设置页面0设置标题关闭设置反馈关闭假脱机输出文件从双重选择ctx_report.describe_index（'MYINDEX'）;假脱机</pre></div>
            </div><a id="CCREF2141"></a><div class="props_rev_3"><a id="GUID-21915193-473D-4FE8-B738-034813D325F6" name="GUID-21915193-473D-4FE8-B738-034813D325F6"></a><h3 id="CCREF-GUID-21915193-473D-4FE8-B738-034813D325F6" class="sect3"><span class="enumeration_section">13.3</span> DESCRIBE_INDEX</h3>
               <div>
                  <div class="section">
                     <p>创建描述索引的报告。这包括索引元数据的设置，使用的索引对象，对象属性的设置以及索引分区描述（如果有）。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-5110BC2E-6F7E-4F67-A823-2585D7CB4C45">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.DESCRIBE_INDEX（index_name IN VARCHAR2，报告IN OUT NOCOPY CLOB，report_format IN VARCHAR2 DEFAULT FMT_TEXT）;函数CTX_REPORT.DESCRIBE_INDEX（index_name IN VARCHAR2，report_format IN VARCHAR2 DEFAULT FMT_TEXT）返回CLOB;</pre><dl>
                        <dt class="dlterm"><a name="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-1024632B-4DB9-4639-872B-37FC68C5E393"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定要描述的索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-A028DD31-3B38-4320-87C0-91419EFCAB8F"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-D339E01E-9A5F-400D-AA24-C5BD2C88C034"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT.FMT_TEXT</code>或<code class="codeph">CTX_REPORT.FMT_XML</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-3884A41D-3091-44E9-A6DD-A69DEFA0E3F0">笔记</p>
                     <p>如果使用<code class="codeph">FILTER</code> <code class="codeph">BY</code>和/或<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句创建索引， <code class="codeph">CTX_REPORT.DESCRIBE_INDEX</code>输出<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>列信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-B5E3E2F8-E3CB-45E9-A63E-CBC17153220D">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创造指数</a> ”</span></p>
                     <p><span class="q">“ <a href="CTX_DDL-package.html#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2142"></a><div class="props_rev_3"><a id="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D" name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D"></a><h3 id="CCREF-GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D" class="sect3"><span class="enumeration_section">13.4</span> DESCRIBE_POLICY</h3>
               <div>
                  <div class="section">
                     <p>创建描述策略的报告。这包括策略元数据的设置，使用的索引对象以及对象属性的设置。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-EC1E6735-4B18-4767-9236-599491E0B97C">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.DESCRIBE_POLICY（policy_name IN VARCHAR2，报告IN OUT NOCOPY CLOB，report_format IN VARCHAR2 DEFAULT FMT_TEXT）;函数CTX_REPORT.DESCRIBE_POLICY（policy_name IN VARCHAR2，report_format IN VARCHAR2 DEFAULT FMT_TEXT）返回CLOB;</pre><dl>
                        <dt class="dlterm"><a name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-595C0711-589D-44A6-A9A0-FBF388DEE6BE"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成<code class="codeph">report</code>之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-58E7220D-8C29-40DD-A325-DFE618B2F2B8"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT.FMT_TEXT</code>或<code class="codeph">CTX_REPORT.FMT_XML</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-91363CAD-E7A4-4A1A-A60D-9C1B0641DB8A"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定要描述的策略的名称。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2143"></a><div class="props_rev_3"><a id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97" name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97"></a><h3 id="CCREF-GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97" class="sect3"><span class="enumeration_section">13.5</span> CREATE_INDEX_SCRIPT</h3>
               <div>
                  <div class="section">
                     <p>创建一个SQL * Plus脚本，该脚本将创建一个复制指定文本索引的文本索引。</p>
                     <p>创建的脚本将包括创建与命名文本索引中使用的首选项相同的首选项。但是，首选项的名称将有所不同。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-99698794-E888-4F8A-A435-BA9F0E0AE8A4">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.CREATE_INDEX_SCRIPT（varchar2中的index_name，nocopy clob中的报告，varchar2中的prefname_prefix，默认值为null）; function CTX_REPORT.CREATE_INDEX_SCRIPT（varchar2中的index_name，varchar2中的prefname_prefix，默认值为null）return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-E9417706-B737-414B-8B75-16E1905658E2"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-5159A058-85B8-4EB8-87AA-DE3D2839396E"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要写入脚本的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-297ADFBE-BF41-408A-ABE1-903AA2F0D240"><!-- --></a> prefname_prefix</dt>
                        <dd>
                           <p>指定用于首选项名称的可选前缀。</p>
                           <p>如果省略<code class="codeph">prefname_prefix</code>或NULL，将使用索引名称。<code class="codeph">prefname_prefix</code>遵循索引长度限制。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-8D570EE9-849F-4FB7-B841-E10D1381865E">笔记</p>
                     <p><code class="codeph">CTX_REPORT.CREATE_INDEX_SCRIPT</code>还将为<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句生成必要的<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-28081B17-CC7C-4313-B7F1-CF5D2C935420">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创造指数</a> ”</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2144"></a><div class="props_rev_3"><a id="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B" name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B"></a><h3 id="CCREF-GUID-C515B497-D252-40C2-8140-336C0CCE9B8B" class="sect3"><span class="enumeration_section">13.6</span> CREATE_POLICY_SCRIPT</h3>
               <div>
                  <div class="section">
                     <p>创建一个SQL * Plus脚本，该脚本将创建一个复制指定文本策略的文本策略。</p>
                     <p>创建的脚本将包括创建与命名文本策略中使用的首选项相同的首选项。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-0517FADB-C45D-4F8F-BB28-B71C67217E1D">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.CREATE_POLICY_SCRIPT（varchar2中的policy_name，nocopy clob中的报告，varchar2中的prefname_prefix，默认值为null）; function CTX_REPORT.CREATE_POLICY_SCRIPT（varchar2中的policy_name，varchar2中的prefname_prefix，默认为null）return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-9DD72716-BDF7-4AA1-9EC2-690BDC80F3E0"><!-- --></a> policy_name</dt>
                        <dd>
                           <p>指定策略的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-19BBD491-52B1-41AB-BF43-FD67C33B8D6A"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将脚本写入的定位器。</p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-3BA97093-FC97-46CF-B139-100C01257E31"><!-- --></a> prefname_prefix</dt>
                        <dd>
                           <p>指定用于首选项名称的可选前缀。如果省略<code class="codeph">prefname_prefix</code>或NULL，则将使用策略名称。 <code class="codeph">prefname_prefix</code>遵循策略长度限制。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2145"></a><div class="props_rev_3"><a id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18" name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18"></a><h3 id="CCREF-GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18" class="sect3"><span class="enumeration_section">13.7</span> INDEX_SIZE</h3>
               <div>
                  <div class="section">
                     <p>创建一个报告，显示文本索引或文本索引分区的内部对象及其表空间，已分配和已使用的大小。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，或将该报告作为<code class="codeph">CLOB</code>返回的函数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-2F768C93-2084-495E-B617-E4AB98F77CA5">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.INDEX_SIZE（index_name IN VARCHAR2，报告IN OUT NOCOPY CLOB，part_name IN VARCHAR2 DEFAULT NULL，report_format IN VARCHAR2 DEFAULT FMT_TEXT）; function CTX_REPORT.INDEX_SIZE（index_name IN VARCHAR2，part_name IN VARCHAR2 DEFAULT NULL，report_format IN VARCHAR2 DEFAULT FMT_TEXT）return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-E6A15AC6-E3FE-4696-85FD-A638176ED645"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定要描述的索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-42AAFB60-13B1-4AB7-B23F-8E71D77C2924"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果<code class="codeph">report</code>为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-0BBBB2EC-F27C-4ADF-9320-8F136F17B711"><!-- --></a> part_name</dt>
                        <dd>
                           <p>指定索引分区的名称（可选）。如果<code class="codeph">part_name</code>为NULL，并且索引是本地分区文本索引，则将显示所有分区的所有对象。如果提供了<code class="codeph">part_name</code> ，则仅显示特定分区的对象。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-96797A3C-405A-4CB5-AF03-2CDA76071821"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT</code> 。 <code class="codeph">FMT_TEXT</code>或<code class="codeph">CTX_REPORT</code> 。 <code class="codeph">FMT_XML</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-A8DDDBCF-36D3-4470-B9B0-82A72901125D">笔记</p>
                     <p><code class="codeph">CTX_REPORT.INDEX_SIZE</code>还将输出dr $ <span class="italic">indexname</span> $ S表的信息。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-213F2DE5-7FDC-4F71-B4C8-FC9F3B66A45E">相关话题</p>
                     <p><span class="q">“ <a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创造指数</a> ”</span></p>
                     <p><a href="oracle-text-indexing-elements.html#GUID-5F662035-B0F5-4F72-A2A8-A5B07070ABBF__BHCGFIJI" title="该表描述了BASIC_STORAGE属性。">表2-39</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2146"></a><div class="props_rev_3"><a id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1" name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1"></a><h3 id="CCREF-GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1" class="sect3"><span class="enumeration_section">13.8</span> INDEX_STATS</h3>
               <div>
                  <div class="section">
                     <p>创建一个报告，显示有关文本索引的各种计算统计信息。</p>
                     <p>此过程完全扫描文本索引表，因此可能需要很长时间才能运行大型索引。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-46DBB576-D71D-445B-9F65-EBD5A4B09547">句法</p><pre class="oac_no_warn" dir="ltr">procedure ctx_report.index_stats（index_name IN VARCHAR2，report IN OUT NOCOPY CLOB，part_name IN VARCHAR2 DEFAULT NULL，frag_stats IN BOOLEAN DEFAULT TRUE，list_size IN NUMBER DEFAULT 100，report_format IN VARCHAR2 DEFAULT FMT_TEXT，stat_type IN VARCHAR2 DEFAULT NULL）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-14E02E18-21D7-43C7-AB64-A6B6703F22A9"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定要描述的索引的名称。这必须是<code class="codeph">CONTEXT</code>索引。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-03B226B5-E027-4D9F-9D21-A67DF7E4898A"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。如果report为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p>报告<code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用将覆盖任何现有内容。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-E90592F9-4089-4CA8-A466-D803E42D7D25"><!-- --></a> part_name</dt>
                        <dd>
                           <p>指定索引分区的名称。如果索引是本地分区索引，则必须提供<code class="codeph">part_name</code> 。<code class="codeph">INDEX_STATS</code>将计算该索引分区的统计信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-CDB7FDBF-4D76-475A-A1B5-D1398CA40827"><!-- --></a> frag_stats</dt>
                        <dd>
                           <p>指定TRUE以计算碎片统计信息。如果<code class="codeph">frag_stats</code>为FALSE，则报告将不显示与索引数据大小相关的任何统计信息。但是，操作应该花费更少的时间和资源来计算令牌统计信息。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-3651910A-C1A8-4B21-A281-625A9823BF0C"><!-- --></a> list_size</dt>
                        <dd>
                           <p>指定每个编译列表中的元素数。 <code class="codeph">list_size</code>的最大值为1000。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-69B68697-A14A-4602-897E-10A7DE7338CF"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT</code> 。 <code class="codeph">FMT_TEXT</code>或<code class="codeph">CTX_REPORT</code> 。 <code class="codeph">FMT_XML</code> 。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-DCC5F039-91F4-4DC1-94B1-C62D49DA4192"><!-- --></a> stat_type</dt>
                        <dd>
                           <p>指定要输出的估计统计数据。如果设置了此参数，则忽略<code class="codeph">frag_stats</code> 。可能的值是：</p>
                           <div class="tblformal" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-28CBF8B4-D89B-4397-B04D-729CFF698ED2">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table describes types of statistics." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="37%" id="d119504e1497">统计类型</th>
                                       <th align="left" valign="bottom" width="63%" id="d119504e1500">描述</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1505" headers="d119504e1497 ">
                                          <p>EST_FRAG_STATS</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1505 d119504e1500 ">
                                          <p>获取索引的估计碎片统计信息。给定此类型时，将忽略<code class="codeph">list_size</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1515" headers="d119504e1497 ">
                                          <p>EST_FREQUENT_TOKENS</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1515 d119504e1500 ">
                                          <p>获取索引的估计频繁查询令牌。您可以为<code class="codeph">list_size</code>提供最多100的<code class="codeph">list_size</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1525" headers="d119504e1497 ">
                                          <p>EST_TOKENS_TO_OPTIMIZE</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1525 d119504e1500 ">
                                          <p>根据查询和碎片的频率显示最佳的令牌进行优化。您可以为<code class="codeph">list_size</code>提供最多100的<code class="codeph">list_size</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1535" headers="d119504e1497 ">
                                          <p>EST_SLOWEST_QUERIES</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1535 d119504e1500 ">
                                          <p>显示索引的最慢运行查询。您可以为<code class="codeph">list_size</code>提供最多100的<code class="codeph">list_size</code> 。
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-7B578B2A-756B-42C2-A89F-F361E4AFF705">
                        <p class="notep1">注意：</p>
                        <p>对于估算的统计信息<code class="codeph">stat_type</code>如果只能<code class="codeph">query_stats</code>启用和下面的特权必须在运行报告中授予该用户：</p><pre class="pre codeblock"><code>授予选择，插入，删除，更新ctxsys.dr $ slowqrys到&lt;user&gt;;授予对ctxsys.dr $ freqtoks的选择，插入，删除，更新到&lt;user&gt;;</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-0635F22C-696A-4EB6-BB13-BB047796180A">CTX_REPORT.INDEX_STATS的示例</p><pre class="oac_no_warn" dir="ltr">create table output（result CLOB）; declare x clob：= null;开始ctx_report.index_stats（'tdrbprx21'，x）;插入输出值（x）;承诺; dbms_lob.freetemporary（X）;结束; / set long 32000 set head off set pagesize 10000 select * from output;</pre><p>以下示例输出用于上下文索引上的<code class="codeph">INDEX_STATS</code> 。为清楚起见，此报告已被截断。它显示了一些令牌统计信息和所有碎片统计信息。
                     </p>
                     <p>碎片统计数据在报告的最后。它告诉您最佳行碎片，索引中估计的垃圾数据量以及碎片最多的令牌列表。运行<code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code>清除索引。
                     </p><pre class="oac_no_warn" dir="ltr">================================================== ===============“DR_TEST”统计数据。“TDRBPRX21”========================== =======================================索引文档：53个已分配的docids：68 $ I行：16,259 ------------------------------------------------ ----------------- TOKEN STATISTICS ------------------------------- ----------------------------------唯一令牌：每个令牌平均$ 1,4行：最多1.21令牌$ I行：电信行业（主题）6科学与技术（主题）6电子邮件（现场部分“来源”）6 DEC（现场部分“TIMESTAMP”）6电子邮件（主题）6计算机网络（主题）6通信（主题） ）6 95（现场部分“TIMESTAMP”）6 15（现场部分“TIMESTAMP”）6标题（区域部分）6每个标记的平均大小：8个具有最大尺寸的标记：T（标准）405 SAID（标准）313 HEADLINE（ ZONE SECTION）272 NEW（NORMAL）267 I（NORMAL）230百万（PREFIX）222 D（正常）219百万（正常）215 U（正常）192 DEC（字段“TIMESTAMP”）186每个令牌的平均频率：2.00最常用的令牌：HEADLINE（ZONE SECTION）68 DEC（字段“TIMESTAMP”）62 95（字段“TIMESTAMP”）62 15（字段“TIMESTAMP”） 62 T（标准）61 D（标准）59 881115（主题）58 881115（标准）58 I（标准）55地理（主题）52类型的标记统计：标记类型：标准唯一标记：总共6,344行：7,631行：1.20总大小：67,445（65.86 KB）平均大小：11平均频率：2.33最常见的令牌：T 61 D 59 881115 58 I 55 SAID 45 C 43新36百万32第一28公司27令牌类型：主题独特令牌：4,563总行数：5,523行平均行数：1.21总大小：21,930（21.42 KB）平均大小：5平均频率：2.40最常见代币：881115 58政治地理52地理52美国51商业和经济50抽象概念和概念48北美48科学与技术46 NKS 34 nulls 34</pre><p>本报告的碎片部分如下：</p><pre class="oac_no_warn" dir="ltr">-------------------------------------------------- ---------------碎片统计--------------------------------- -------------------------------- $ I的总大小数据：116,772（114.04 KB）$ I行：估计为16,259 $ I行如果最佳：13445估计行碎片：17％垃圾docids：15估计垃圾大小：21,379（20.88 KB）最多碎片令牌：电信行业（主题）83％科学和技术（主题）83％电子邮件（现场部分“消息来源“）83％DEC（现场部分”TIMESTAMP“）83％电子邮件（主题）83％计算机网络（主题）83％通信（主题）83％95（现场部分”TIMESTAMP“）83％标题（区域部分） 83％15（现场部分“TIMESTAMP”）83％</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-52B22FDF-12D7-4997-9845-0D2AD5529619">带有STAT_TYPE的CTX_REPORT.INDEX_STATS的示例</p>
                     <p>以下示例输出用于<code class="codeph">EST_FRAG_STATS</code>统计类型：</p><pre class="pre codeblock"><code>var report clob; begin dbms_lob.createtemporary（：report，true）; ctx_report.index_stats（index_name =&gt;'tdrbps.idx'，report =&gt;：report，report_format =&gt;'XML'，stat_type =&gt;'EST_FRAG_STATS'）;结束; / select：来自双重报告; ：REPORT ------------------------------------------------ ------------------------------ &lt;CTXREPORT&gt; &lt;INDEX_STATS&gt; &lt;STAT_INDEX_NAME&gt;“TDRBPS”。“IDX”&lt;/ STAT_INDEX_NAME&gt; &lt;STAT_INDEX_STATS&gt; &lt;STAT_STATISTIC NAME =“估计的碎片统计数据”&gt; 50 &lt;/ STAT_STATISTIC&gt; &lt;/ STAT_INDEX_STATS&gt; &lt;/ INDEX_STATS&gt; &lt;/ CTXREPORT&gt;</code></pre><p>以下示例输出用于<code class="codeph">EST_FREQUENT_TOKENS</code>统计类型：</p><pre class="pre codeblock"><code>begin dbms_lob.createtemporary（：report，true）; ctx_report.index_stats（index_name =&gt;'tdrbps.idx'，report =&gt;：report，report_format =&gt;'XML'，stat_type =&gt;'EST_FREQUENT_TOKENS'）;结束; / select：来自双重报告; ：REPORT ------------------------------------------------ ------------------------------ &lt;CTXREPORT&gt; &lt;INDEX_STATS&gt; &lt;STAT_INDEX_NAME&gt;“TDRBPS”。“IDX”&lt;/ STAT_INDEX_NAME&gt; &lt;STAT_INDEX_STATS&gt; &lt;STAT_TOKEN_LIST NAME =“最常查询的标记”&gt; &lt;STAT_TOKEN&gt; &lt;STAT_TOKEN_TEXT&gt; ORACLE &lt;/ STAT_TOKEN_TEXT&gt; &lt;STAT_TOKEN_TYPE&gt; 0：TEXT &lt;/ STAT_TOKEN_TYPE&gt; &lt;STAT_TOKEN_STATISTIC&gt; 2 &lt;/ STAT_TOKEN_STATISTIC&gt; &lt;/ STAT_TOKEN&gt; &lt;STAT_TOKEN&gt; &lt;STAT_TOKEN_TEXT&gt; DATABASE &lt;/ STAT_TOKEN_TEXT&gt; &lt;STAT_TOKEN_TYPE&gt; 0：TEXT &lt;/ STAT_TOKEN_TYPE&gt; &lt;STAT_TOKEN_STATISTIC&gt; 1 &lt;/ STAT_TOKEN_STATISTIC&gt; &lt;/ STAT_TOKEN&gt; &lt;/ STAT_TOKEN_LIST&gt; &lt;/ STAT_INDEX_STATS&gt; &lt;/ INDEX_STATS&gt; &lt;/ CTXREPORT&gt;</code></pre><div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-8691305C-AD2D-42F9-A9D3-AE69A94C7D2E">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">&lt;STAT_TOKEN_STATISTIC&gt;</code>显示查询特定令牌的次数。
                        </p>
                     </div>
                     <p>以下示例输出用于<code class="codeph">EST_SLOWEST_QUERIES</code>统计类型：</p><pre class="pre codeblock"><code>begin dbms_lob.createtemporary（：report，true）; ctx_report.index_stats（index_name =&gt;'tdrbps.idx'，report =&gt;：report，report_format =&gt;'XML'，stat_type =&gt;'EST_SLOWEST_QUERIES'）;结束; / select：来自双重报告; ：REPORT ------------------------------------------------ ------------------------------ &lt;CTXREPORT&gt; &lt;INDEX_STATS&gt; &lt;STAT_INDEX_NAME&gt;“TDRBPS”。“IDX”&lt;/ STAT_INDEX_NAME&gt; &lt;STAT_INDEX_STATS&gt; &lt;STAT_QUERY_LIST NAME =“Slowest Queries”&gt; &lt;STAT_QUERY&gt; &lt;STAT_QUERY_FULL&gt;从tbl中选择count（*），其中包含（txt，'Oracle'）&gt; 0 &lt;/ STAT_QUERY_FULL&gt; &lt;STAT_QUERY_TEXT_PART&gt; Oracle &lt;/ STAT_QUERY_TEXT_PART&gt; &lt;STAT_QUERY_TIME &gt; 114 &lt;/ STAT_QUERY_TIME&gt; &lt;STAT_QUERY_HASH&gt; 2992140927 &lt;/ STAT_QUERY_HASH&gt; &lt;/ STAT_QUERY&gt; &lt;STAT_QUERY&gt; &lt;STAT_QUERY_FULL&gt;从tbl中选择count（*），其中包含（txt，'ora％'）&gt; 0 &lt;/ STAT_QUERY_FULL&gt; &lt;STAT_QUERY_TEXT_PART&gt; ora％&lt;/ STAT_QUERY_TEXT_PART&gt; &lt;STAT_QUERY_TIME&gt; 4 &lt;/ STAT_QUERY_TIME&gt; &lt;STAT_QUERY_HASH&gt; 2229259029 &lt;/ STAT_QUERY_HASH&gt; &lt;/ STAT_QUERY&gt; &lt;STAT_QUERY&gt; &lt;STAT_QUERY_FULL&gt;从tbl中选择count（*）其中包含（txt，'Database'）&gt; 0 &lt;/ STAT_QUERY_FULL&gt; &lt;STAT_QUERY_TEXT_PART&gt;数据库&lt;/ STAT_QUERY_TEXT_PART&gt; &lt;STAT_QUERY_TIME&gt; 2 &lt;/ STAT_QUERY_TIME&gt; &lt;STAT_QUERY_HASH&gt; 1111113040 &lt;/ STAT_QUERY_HASH&gt; &lt;/ STAT_QUERY&gt; &lt;/ STAT_QUERY_LIS T&gt; &lt;/ STAT_INDEX_STATS&gt; &lt;/ INDEX_STATS&gt; &lt;/ CTXREPORT&gt;</code></pre><div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-DDA75A61-07A7-4966-9D79-E02541306405">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">&lt;STAT_QUERY_FULL&gt;</code>包含完整查询， <code class="codeph">&lt;STAT_QUERY_TEXT_PART&gt;</code>包含查询的Oracle Text <code class="codeph">CONTAINS</code>子句。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;STAT_QUERY_TIME&gt;</code>包含查询响应时间， <code class="codeph">&lt;STAT_QUERY_HASH&gt;</code>包含查询的哈希值。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>以下示例输出用于<code class="codeph">EST_TOKENS_TO_OPTIMIZE</code>统计类型：</p><pre class="pre codeblock"><code>begin dbms_lob.createtemporary（：report，true）; ctx_report.index_stats（index_name =&gt;'tdrbps.idx'，report =&gt;：report，report_format =&gt;'XML'，stat_type =&gt;'EST_TOKENS_TO_OPTIMIZE'）;结束; / select：来自双重报告; ：REPORT ------------------------------------------------ ------------------------------ &lt;CTXREPORT&gt; &lt;INDEX_STATS&gt; &lt;STAT_INDEX_NAME&gt;“TDRBPS”。“IDX”&lt;/ STAT_INDEX_NAME&gt; &lt;STAT_INDEX_STATS&gt; &lt;STAT_TOKEN_LIST NAME =“要优化的最佳标记”&gt; &lt;STAT_TOKEN&gt; &lt;STAT_TOKEN_TEXT&gt; ORACLE &lt;/ STAT_TOKEN_TEXT&gt; &lt;STAT_TOKEN_TYPE&gt; 0：TEXT &lt;/ STAT_TOKEN_TYPE&gt; &lt;STAT_TOKEN_STATISTIC&gt; 100 &lt;/ STAT_TOKEN_STATISTIC&gt; &lt;/ STAT_TOKEN&gt; &lt;STAT_TOKEN&gt; &lt;STAT_TOKEN_TEXT&gt; DATABASE &lt;/ STAT_TOKEN_TEXT&gt; &lt;STAT_TOKEN_TYPE&gt; 0：TEXT &lt;/ STAT_TOKEN_TYPE&gt; &lt;STAT_TOKEN_STATISTIC&gt; 50 &lt;/ STAT_TOKEN_STATISTIC&gt; &lt;/ STAT_TOKEN&gt; &lt;/ STAT_TOKEN_LIST&gt; &lt;/ STAT_INDEX_STATS&gt; &lt;/ INDEX_STATS&gt; &lt;/ CTXREPORT&gt;</code></pre><div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-CE245BF6-D236-45F2-9E5B-A4874B8E0F64">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">&lt;STAT_TOKEN_STATISTIC&gt;</code>表示特定令牌的碎片。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-200F6661-D297-4830-A7AF-E6B29C34892D">笔记</p>
                     <p>仅当为索引打开<code class="codeph">QUERY_STATS</code>时，这些元数据才可用：估计的碎片统计信息，估计的经常查询的令牌，估计的最碎片频繁查询的令牌，以及针对指定索引的估计最慢运行查询。
                     </p>
                     <p><code class="codeph">CTX_REPORT.INDEX_STATS</code>还将输出dr $ <span class="italic">indexname</span> $ S表的信息，该表是节数据或<code class="codeph">SDATA</code>表。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-0B0A1656-068B-427F-9F86-9C319E269769">相关话题</p>
                     <p>CTX_OUTPUT。 <a href="CTX_OUTPUT-package.html#GUID-D43D058C-F4FB-4C2A-965A-5872F134784F">ENABLE_QUERY_STATS</a></p>
                     <p>CTX_OUTPUT。 <a href="CTX_OUTPUT-package.html#GUID-B772A716-F22F-4614-9086-4E95CDE63F84">DISABLE_QUERY_STATS</a></p>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">创建指数</a></p>
                     <p><a href="oracle-text-indexing-elements.html#GUID-5F662035-B0F5-4F72-A2A8-A5B07070ABBF__BHCGFIJI" title="该表描述了BASIC_STORAGE属性。">表2-39</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2147"></a><div class="props_rev_3"><a id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D" name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D"></a><h3 id="CCREF-GUID-AFD54A2E-90C8-42F8-9607-AC517428056D" class="sect3"><span class="enumeration_section">13.9</span> QUERY_LOG_SUMMARY</h3>
               <div>
                  <div class="section">
                     <p>获取已记录查询的报告。</p>
                     <p><code class="codeph">QUERY_LOG_SUMMARY</code>使您可以分析已记录的查询。例如，假设您有一个搜索大型动物数据库的应用程序，并且对它的查询分析表明用户不断搜索单词<span class="italic">mouse</span> ;此分析可能会诱使您重写应用程序，以便搜索<span class="italic">鼠标</span>将用户重定向到小动物的数据库，而不是简单地返回不成功的搜索。
                     </p>
                     <p>通过查询分析，您可以找到以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>进行了哪些查询</p>
                        </li>
                        <li>
                           <p>哪些查询成功</p>
                        </li>
                        <li>
                           <p>哪些查询不成功</p>
                        </li>
                        <li>
                           <p>每个查询的次数</p>
                        </li>
                     </ul>
                     <p>您可以通过各种方式组合这些因素，例如确定应用程序发出的50个最常见的不成功查询。</p>
                     <p>查询记录以<code class="codeph">CTX_OUTPUT.START_QUERY_LOG</code>开始，并以<code class="codeph">CTX_OUTPUT.END_QUERY_LOG</code>终止。</p>
                     <div class="infoboxnote" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-9DE7550B-D09A-41CD-9FD9-4F14C06554C4">
                        <p class="notep1">注意：</p>
                        <p>您必须以<code class="codeph">CTXSYS</code>身份连接才能使用<code class="codeph">CTX_REPORT.QUERY_LOG_SUMMARY</code> 。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-5D61168B-73DA-46E6-A64A-CA7A424C989E">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988">START_QUERY_LOG</a> ”</span>和<span class="q">“ <a href="CTX_OUTPUT-package.html#GUID-E79169B1-6785-4001-988A-32804490E87B">END_QUERY_LOG</a> ”</span> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-4C8DEEB5-413B-4EC2-967D-25FFF67132AB">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.QUERY_LOG_SUMMARY（logfile IN VARCHAR2，indexname IN VARCHAR2 DEFAULT NULL，result_table IN OUT NOCOPY QUERY_TABLE，row_num IN NUMBER，most_freq IN BOOLEAN DEFAULT TRUE，has_hit IN BOOLEAN DEFAULT TRUE）;</pre><dl>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-179F0100-16E7-405C-9B7A-28310EB5E601"><!-- --></a></dt>
                        <dd>
                           <p>指定包含查询的日志文件的名称。从Oracle Database 12 <span class="italic">c</span>发行版2（12.2）开始，忽略此参数，因为所有查询日志都写入数据库跟踪文件。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-727443D1-4803-4676-B866-63CE57218DD5"><!-- --></a>索引名称</dt>
                        <dd>
                           <p>指定要为其提供摘要报告的上下文索引的名称。如果指定<code class="codeph">NULL</code> ，则该过程为所有上下文索引提供摘要报告。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-1CB61F76-AABA-44F8-B675-EC54DE7AC3CA"><!-- --></a> result_table</dt>
                        <dd>
                           <p>指定<code class="codeph">TABLE OF RECORD</code>类型的内存表的名称，其中<code class="codeph">QUERY_LOG_SUMMARY</code>的结果将去。默认值是系统参数<code class="codeph">LOG_DIRECTORY</code>指定的位置。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-B015B088-588A-465B-8E28-F9FCC215BF2F"><!-- --></a> row_num</dt>
                        <dd>
                           <p><code class="codeph">QUERY_LOG_SUMMARY</code>报告到<span class="italic">restab</span>指定的表中的结果行数。例如，如果number为10， <span class="italic">most_freq</span>为TRUE，并且<span class="italic">has_hit</span>为TRUE，则该过程返回成功的10个最常见查询（即返回的命中）。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-927E6708-4B0A-474F-97A5-F56DB0A0A627"><!-- --></a> most_freq</dt>
                        <dd>
                           <p>指定<code class="codeph">QUERY_LOG_SUMMARY</code>是否应返回最频繁或最不频繁的查询。默认是最常见的查询。如果<span class="italic">most_freq</span>设置为<code class="codeph">FALSE</code> ，则该过程返回最不成功的查询。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-5D202FEF-B5A9-4601-B386-B3274A75874E"><!-- --></a> has_hit</dt>
                        <dd>
                           <p>指定<code class="codeph">QUERY_LOG_SUMMARY</code>是否应返回成功（即生成命中）或查询失败的查询。默认设置是计算成功的查询;将<span class="variable" translate="no">has_hit</span>设置为<code class="codeph">FALSE</code>以返回不成功的查询。
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-8105CD2E-9711-4F88-9D1A-5199B2680249">例</p>
                     <p>以下示例显示了如何使用查询日志。</p>
                     <p>首先连接为<code class="codeph">CTXSYS</code> 。然后创建并填充两个表，然后为每个表创建一个索引：</p><pre class="oac_no_warn" dir="ltr">create table qlogtab1（tk number primary key，text varchar2（2000））;插入qlogtab1值（1，'法国的罗马名称是高卢。“）;插入qlogtab1值（2，'环法自行车赛每年夏天举行。“）;插入qlogtab1值（3，'Jacques Anatole Thibault取笔名Anatole France。“）;在qlogtab1（text）上创建索引idx_qlog1 indextype是ctxsys.context; create table qlogtab2（tk number primary key，text varchar2（2000））;插入qlogtab2值（1，'中国长城长约2400公里'）;插入qlogtab2值（2，'足球的日期至少回到217 CE'）;插入qlogtab2值（3，'玉米宫是南达科他州的旅游景点。“）;在qlogtab2（text）上创建索引idx_qlog2 indextype是ctxsys.context;</pre><pre class="oac_no_warn" dir="ltr"></pre><p>打开查询日志记录，创建名为<code class="codeph">query_log</code>的日志：</p><pre class="oac_no_warn" dir="ltr">exec ctx_output.start_query_log（'query.log'）;</pre><p>现在进行一些查询（其中一些将不成功）：</p><pre class="oac_no_warn" dir="ltr">从qlogtab1中选择文本，其中包含（text，'France'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'cheese'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizard'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'Corn Palace'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'China'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizards'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'South Dakota'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizard'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'China'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizard'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'company'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Text Wizard'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'France'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'database'，1）&gt; 0;从qlogtab2中选择文本，其中包含（text，'high-tech'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'database'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'France'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Japan'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Egypt'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Argentina'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Argentina'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Argentina'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Japan'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Egypt'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Air Shuttle'，1）&gt; 0;从qlogtab1中选择文本，其中包含（text，'Argentina'，1）&gt; 0;</pre><p>通过查询，关闭查询日志记录：</p><pre class="oac_no_warn" dir="ltr">exec ctx_output.end_query_log;</pre><p>使用<code class="codeph">QUERY_LOG_SUMMARY</code>获取查询报告。在第一个实例中，您要求查看成功返回的三个最常见的查询。首先声明结果表（ <code class="codeph">the_queries</code> ）。
                     </p><pre class="oac_no_warn" dir="ltr">set serveroutput on;声明the_queries ctx_report.query_table; begin ctx_report.query_log_summary（'query.log'，null，the_queries，row_num =&gt; 3，most_freq =&gt; TRUE，has_hit =&gt; TRUE）; dbms_output.put_line（'返回命中的3个最常见的查询'）; dbms_output.put_line（'查询字符串的次数'）; for in in 1..the_queries.count loop dbms_output.put_line（the_queries（i）.times ||''|| the_queries（i）.query）;结束循环;结束; /</pre><p>这将返回以下内容：</p><pre class="oac_no_warn" dir="ltr">3个最常见的查询返回命中次数查询字符串3法国2中国1玉米宫</pre><p>接下来，在<code class="codeph">idx_qlog1</code>上<code class="codeph">idx_qlog1</code>成功的三个最常见的查询。
                     </p><pre class="oac_no_warn" dir="ltr">声明the_queries ctx_report.query_table; begin ctx_report.query_log_summary（'query.log'，'idx_qlog1'，the_queries，row_num =&gt; 3，most_freq =&gt; TRUE，has_hit =&gt; TRUE）; dbms_output.put_line（'返回索引idx_qlog1的命中的3个最常见的查询'）; dbms_output.put_line（'查询字符串的次数'）; for in in 1..the_queries.count loop dbms_output.put_line（the_queries（i）.times ||''|| the_queries（i）.query）;结束循环;结束; /</pre><p>因为只有<span class="italic">法国</span>的查询成功， <code class="codeph">ctx_report.query_log_summary</code>返回以下内容：</p><pre class="oac_no_warn" dir="ltr">3个最常见的查询返回命中idx_qlog1次数查询字符串3法国</pre><p>最后，要求查看返回没有命中的三个最不频繁的查询（即，不成功并且不经常调用的查询）。在这种情况下，您对两个上下文索引的查询感兴趣，因此将indexname参数设置为NULL。</p><pre class="oac_no_warn" dir="ltr">声明the_queries ctx_report.query_table; begin ctx_report.query_log_summary（'query.log'，null，the_queries，row_num =&gt; 3，most_freq =&gt; FALSE，has_hit =&gt; FALSE）; dbms_output.put_line（'3个最不频繁的查询返回没有命中'）; dbms_output.put_line（'查询字符串的次数'）; for in in 1..the_queries.count loop dbms_output.put_line（the_queries（i）.times ||''|| the_queries（i）.query）;结束循环;结束; /</pre><p>这将返回以下结果：</p><pre class="oac_no_warn" dir="ltr">3个最不频繁的查询返回没有命中次数查询字符串1高科技1公司1奶酪</pre><p><span class="italic">阿根廷</span>和<span class="italic">日本</span>没有列出这个名单，因为他们不止一次被查询，而<span class="italic">玉米宫</span>没有列出这个名单，因为它被成功查询。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2148"></a><div class="props_rev_3"><a id="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3" name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3"></a><h3 id="CCREF-GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3" class="sect3"><span class="enumeration_section">13.10</span> TOKEN_INFO</h3>
               <div>
                  <div class="section">
                     <p>创建一个报告，显示已解码的令牌信息。此过程将完全扫描令牌的信息，因此可能需要很长时间才能运行非常大的令牌。</p>
                     <p>您可以将此操作称为具有<code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code>参数的过程，也可以将该报告作为<code class="codeph">CLOB</code>返回。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-C56F96AB-50EE-49B1-B852-50F29A8FB87D">句法</p><pre class="oac_no_warn" dir="ltr">过程CTX_REPORT.TOKEN_INFO（index_name IN VARCHAR2，报告IN OUT NOCOPY CLOB，令牌IN VARCHAR2，token_type IN NUMBER，part_name IN VARCHAR2 DEFAULT NULL，raw_info IN BOOLEAN DEFAULT FALSE，decoding_info IN BOOLEAN DEFAULT TRUE，report_format IN VARCHAR2 DEFAULT FMT_TEXT）; function CTX_REPORT.TOKEN_INFO（index_name IN VARCHAR2，token IN VARCHAR2，token_type IN NUMBER，part_name IN VARCHAR2 DEFAULT NULL，raw_info IN VARCHAR2 DEFAULT'N'，decoding_info IN VARCHAR2 DEFAULT'Y'，report_format IN VARCHAR2 DEFAULT FMT_TEXT）return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-A656B8E8-F0D7-45DE-93C1-8055224CC1D9"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-FA8DC8F2-FE08-449E-A1DA-317F82BCD0F8"><!-- --></a>报告</dt>
                        <dd>
                           <p>指定要将报告写入的<code class="codeph">CLOB</code>定位器。
                           </p>
                           <p>如果report为NULL，则将创建并返回会话持续时间临时<code class="codeph">CLOB</code> 。调用者有责任根据需要释放此临时<code class="codeph">CLOB</code> 。
                           </p>
                           <p><code class="codeph">report</code> <code class="codeph">CLOB</code>将在生成报告之前被截断，因此此调用令牌将覆盖任何现有内容，可能区分大小写，具体取决于传入的令牌类型。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-AF8736AD-A4DB-4798-8DF1-F767C5C96C61"><!-- --></a>令牌</dt>
                        <dd>
                           <p>指定令牌文本。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-C5B884AA-A449-4196-A357-6D3DCA80D349"><!-- --></a> token_type</dt>
                        <dd>
                           <p>指定令牌类型。您可以使用<a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">TOKEN_TYPE</a>函数返回的<a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">数字</a> 。<code class="codeph">THEME</code> ， <code class="codeph">ZONE</code> ， <code class="codeph">ATTR</code> ， <code class="codeph">PATH</code>和<code class="codeph">PATH</code> <code class="codeph">ATTR</code>令牌区分大小写。
                           </p>
                           <p>其他所有内容都通过词法分析器传递，因此如果索引的词法分析器区分大小写，则令牌输入区分大小写。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-CE0DAF82-0AAE-443E-808C-1051D3CB741B"><!-- --></a> part_name</dt>
                        <dd>
                           <p>指定索引分区的名称。</p>
                           <p>如果索引是本地分区索引，则必须提供part_name。<code class="codeph">TOKEN_INFO</code>将仅适用于该索引分区。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-3E050372-DAB8-4677-9C7C-E399337198B8"><!-- --></a> raw_info</dt>
                        <dd>
                           <p>指定<code class="codeph">TRUE</code>以包括索引数据的十六进制转储。如果raw_info为<code class="codeph">TRUE</code> ，则报告将在<code class="codeph">token_info</code>列中包含原始数据的十六进制转储。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-AD5D3BBB-C109-489D-90C9-ECFC89CF4D1E"><!-- --></a> decoding_info</dt>
                        <dd>
                           <p>指定解码并包含docid和偏移数据。如果<code class="codeph">decoded_info</code>为FALSE，则<code class="codeph">CTX_REPORT</code>将不会尝试解码令牌信息。当您只想要转储数据时，这非常有用。
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-E04BAE43-6BE2-46E4-AF06-9CEAE5FF59CB"><!-- --></a> report_format</dt>
                        <dd>
                           <p>指定报告是应生成为“TEXT”还是“XML”。TEXT是默认值。您还可以指定值<code class="codeph">CTX_REPORT.FMT_TEXT</code>或<code class="codeph">CTX_REPORT.FMT_XML</code> 。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2149"></a><div class="props_rev_3"><a id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE" name="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE"></a><h3 id="CCREF-GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE" class="sect3"><span class="enumeration_section">13.11</span> TOKEN_TYPE</h3>
               <div>
                  <div class="section">
                     <p>这是一个帮助函数，它将英文名称转换为数字标记类型。这适用于<code class="codeph">token_info</code>或任何其他接收<code class="codeph">token_type</code> <code class="codeph">CTX</code> API。
                     </p><pre class="oac_no_warn" dir="ltr">function token_type（varchar2中的index_name，varchar2中的type_name）返回编号; TOKEN_TYPE_TEXT常数：= 0; TOKEN_TYPE_THEME常数：= 1; TOKEN_TYPE_ZONE_SEC常数：= 2; TOKEN_TYPE_ORIG常数：= 3，TOKEN_TYPE_ATTR_TEXT常数：= 4; TOKEN_TYPE_ATTR_SEC常数：= 5; TOKEN_TYPE_PREFIX常数：= 6; TOKEN_TYPE_PATH_SEC常数：= 7; TOKEN_TYPE_PATH_ATTR常数：= 8; TOKEN_TYPE_STEM常数：= 9;</pre><dl>
                        <dt class="dlterm"><a name="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-01EC18E6-F477-4A5E-A7FD-0F231955DA9F"><!-- --></a> index_name</dt>
                        <dd>
                           <p>指定索引的名称。</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-1C105442-5745-410E-A5D4-9CFA74A271B1"><!-- --></a> type_name</dt>
                        <dd>
                           <p>为<code class="codeph">token_type</code>指定英文名称。以下字符串是合法输入。所有输入都不区分大小写。
                           </p>
                           <div class="tblformal" id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-3DE973FE-48CB-4BE0-ADA9-90ABB58852B4">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table shows legal input strings." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="38%" id="d119504e2328">输入</th>
                                       <th align="left" valign="bottom" width="39%" id="d119504e2331">含义</th>
                                       <th align="left" valign="bottom" width="23%" id="d119504e2334">返回类型</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2339" headers="d119504e2328 ">
                                          <p><code class="codeph">文本</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2339 d119504e2331 ">
                                          <p>普通文本标记。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2339 d119504e2334 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2350" headers="d119504e2328 ">
                                          <p><code class="codeph">主题</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2350 d119504e2331 ">
                                          <p>主题令牌。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2350 d119504e2334 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2361" headers="d119504e2328 ">
                                          <p><code class="codeph">ZONE SEC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2361 d119504e2331 ">
                                          <p>区域令牌。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2361 d119504e2334 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2372" headers="d119504e2328 ">
                                          <p><code class="codeph">原版的</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2372 d119504e2331 ">
                                          <p>原始表单令牌</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2372 d119504e2334 ">
                                          <p>3</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2383" headers="d119504e2328 ">
                                          <p><code class="codeph">ATTR TEXT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2383 d119504e2331 ">
                                          <p>属性中出现的文本。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2383 d119504e2334 ">
                                          <p>4</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2394" headers="d119504e2328 ">
                                          <p><code class="codeph">ATTR SEC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2394 d119504e2331 ">
                                          <p>属性部分。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2394 d119504e2334 ">
                                          <p>五</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2405" headers="d119504e2328 ">
                                          <p><code class="codeph">字首</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2405 d119504e2331 ">
                                          <p>前缀令牌。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2405 d119504e2334 ">
                                          <p>6</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2416" headers="d119504e2328 ">
                                          <p><code class="codeph">路径SEC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2416 d119504e2331 ">
                                          <p>路径部分。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2416 d119504e2334 ">
                                          <p>7</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2427" headers="d119504e2328 ">
                                          <p><code class="codeph">路径ATTR</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2427 d119504e2331 ">
                                          <p>路径属性部分。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2427 d119504e2334 ">
                                          <p>8</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2438" headers="d119504e2328 ">
                                          <p><code class="codeph">干</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2438 d119504e2331 ">
                                          <p>干形式令牌。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2438 d119504e2334 ">
                                          <p>9</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2449" headers="d119504e2328 ">
                                          <p><code class="codeph">FIELD &lt;name&gt; TEXT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2449 d119504e2331 ">
                                          <p>字段&lt;name&gt;中的文本标记</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2449 d119504e2334 ">
                                          <p>16-79</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2461" headers="d119504e2328 ">
                                          <p><code class="codeph">FIELD &lt;name&gt; PREFIX</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2461 d119504e2331 ">
                                          <p>字段&lt;name&gt;中的前缀标记</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2461 d119504e2334 ">
                                          <p>616-916</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2472" headers="d119504e2328 ">
                                          <p><code class="codeph">FIELD &lt;name&gt; STEM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2472 d119504e2331 ">
                                          <p>字段&lt;name&gt;中的词干标记</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2472 d119504e2334 ">
                                          <p>916-979</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2483" headers="d119504e2328 ">
                                          <p><code class="codeph">NDATA &lt;名称&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2483 d119504e2331 ">
                                          <p><code class="codeph">NDATA</code>类型令牌</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2483 d119504e2334 ">
                                          <p>200-299</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2496" headers="d119504e2328 ">
                                          <p><code class="codeph">TOKEN_TYPE_ATTR_TXT_PFIX</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2496 d119504e2331 ">
                                          <p>属性文本前缀。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2496 d119504e2334 ">
                                          <p>604</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2507" headers="d119504e2328 ">
                                          <p><code class="codeph">TOKEN_TYPE_ATTR_TXT_STEM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2507 d119504e2331 ">
                                          <p>属性文本词干。</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2507 d119504e2334 ">
                                          <p>904</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>对于<code class="codeph">FIELD</code>类型，需要读取索引元数据，因此如果您要为此类事件调用很多内容，您可能需要考虑在局部变量中缓存值，而不是反复调用token_type。
                           </p>
                           <p>常量类型（0  -  9）也定义了此包中的常量。</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-465C9537-19CA-4B1B-9B41-257EBA04B816">笔记</p>
                     <p>要获取<code class="codeph">MDATA</code>令牌的令牌类型，请不要使用<code class="codeph">CTX_REPORT.TOKEN_TYPE</code> ;请改用<a href="oracle-text-CONTAINS-query-operators.html#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a>运算符。（参见<span class="q">“ <a href="oracle-text-CONTAINS-query-operators.html#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a> ”</span> 。）要使用的语法是' <code class="codeph">MDATA</code> <span class="italic">secname</span> '。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-DC188F45-1247-4399-9458-F3448004AC2F">例</p><pre class="oac_no_warn" dir="ltr">typenum：= ctx_report.token_type（'myindex'，'field author text'）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24106"></a><div class="props_rev_3"><a id="GUID-06C55318-69A1-499E-B5C8-D7FC163A832C" name="GUID-06C55318-69A1-499E-B5C8-D7FC163A832C"></a><h3 id="CCREF-GUID-06C55318-69A1-499E-B5C8-D7FC163A832C" class="sect3"><span class="enumeration_section">13.12</span> VALIDATE_INDEX</h3>
               <div>
                  <div class="section">
                     <p>如果认为发生了索引损坏，则提供诊断。<code class="codeph">CTX_REPORT.VALIDATE_INDEX</code>检查索引（或本地分区索引的分区）并报告是否检测到任何损坏。<code class="codeph">VALIDATE_INDEX</code>仅检查具有<code class="codeph">token_type</code> <code class="codeph">0</code> $ I行，并且不检查包含有关节的信息的其他行，例如<code class="codeph">NDATA</code>部分。
                     </p>
                     <p>此过程主要用作在Oracle Support指导下使用的诊断工具。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>