<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh."></meta>
      <meta name="description" content="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh."></meta>
      <title>只读物化视图的问题疑难解答</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Administrator’s Guide "></meta>
      <meta property="og:description" content="You can diagnose and solve problems with database links, materialized view creation, and materialized view refresh."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96348-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="creating-and-managing-read-only-materialized-views.html" title="Previous" type="text/html"></link>
      <link rel="next" href="appendixes.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ADMIN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-and-managing-read-only-materialized-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="appendixes.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-read-only-materialized-views.html" property="item" typeof="WebPage"><span property="name">管理只读物化视图</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">只读物化视图的问题疑难解答</li>
            </ol>
            <a id="GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" name="GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17"></a>
            
            <h2 id="ADMIN-GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" class="sect2"><span class="enumeration_chapter">40</span>只读物化视图的故障排除问题</h2>
         </header>
         <div class="ind">
            <p>您可以诊断和解决数据库链接，物化视图创建和物化视图刷新问题。</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-1CBB4B05-9316-497F-9EE4-463B572127F4">诊断数据库链接的问题</a><br>如果您认为数据库链接无法正常运行，则可以使用Oracle Enterprise Manager Cloud Control，SQL * Plus或其他工具删除并重新创建它。
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-7227668A-868C-4177-B141-F640D9B11F14">创建物化视图的问题</a><br>如果您在创建物化视图时遇到问题，可以检查项目。
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7">刷新问题</a><br>您可以诊断和解决常见的刷新问题。
                  </li>
                  <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-D6F3FD53-94D0-4653-B90D-161EC53A76AF">刷新问题的高级故障排除</a><br>如果您在刷新实体化视图时遇到问题，可以检查几个项目。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="managing-read-only-materialized-views.html#GUID-7AAEC1A7-01BA-4293-AF46-F026AA2B0237" title="只读物化视图可以提供对主表数据的只读访问。您可以创建和管理只读的物化视图。">管理只读实体化视图</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-1CBB4B05-9316-497F-9EE4-463B572127F4" name="GUID-1CBB4B05-9316-497F-9EE4-463B572127F4"></a><h3 id="ADMIN-GUID-1CBB4B05-9316-497F-9EE4-463B572127F4" class="sect3"><span class="enumeration_section">40.1</span>诊断数据库链接问题</h3>
               <div>
                  <p>如果您认为数据库链接无法正常运行，则可以使用Oracle Enterprise Manager Cloud Control，SQL * Plus或其他工具删除并重新创建它。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>确保数据库链接名称与目标数据库的全局名称相同。</p>
                        </li>
                        <li>
                           <p>确保计划的间隔是您想要的。</p>
                        </li>
                        <li>
                           <p>确保计划的时间间隔不短于所需的执行时间。</p>
                        </li>
                     </ul>
                     <p>如果在指向给定数据库的数据库链接中使用了连接限定符，则链接到该数据库的其他数据库必须具有相同的连接限定符。例如，假设您创建数据库链接，如下所示：</p><pre class="oac_no_warn" dir="ltr">创建数据库链接dbs1.example.com@myethernet连接到myadmin IDENTIFIED BY <span class="italic">密码</span>使用' <span class="italic">connect_string_myethernet</span> ';</pre><p>与<code class="codeph">dbs1.example.com@myethernet</code>关联的所有数据库（无论是主数据库还是物化视图数据库） <code class="codeph">dbs1.example.com@myethernet</code>必须包含<code class="codeph">myethernet</code>作为连接限定符。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-1CBB4B05-9316-497F-9EE4-463B572127F4__GUID-13570A74-09DA-4340-9063-615C0108BF0F">
                     <p class="notep1">也可以看看：</p>
                     <p></p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="managing-a-distributed-database.html#GUID-15C83763-9F18-4670-B14A-6557F123060A" title="在某些情况下，您可能希望具有指向同一远程数据库的多个相同类型的数据库链接（例如，public），但是使用不同的通信路径建立与远程数据库的连接。">使用连接限定符在链接名称中指定服务名称</a> ”</span>以获取更多信息数据库链接和连接限定符</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-E81D58FF-9E15-4E5C-A132-E6DFD2CCA7CF" title="物化视图的定义查询可以使用一个或多个数据库链接来引用远程表数据。">物化视图所需的数据库链接</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" title="您可以诊断和解决数据库链接，物化视图创建和物化视图刷新问题。">对只读实例化视图的问题进行故障排除</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-7227668A-868C-4177-B141-F640D9B11F14" name="GUID-7227668A-868C-4177-B141-F640D9B11F14"></a><h3 id="ADMIN-GUID-7227668A-868C-4177-B141-F640D9B11F14" class="sect3"><span class="enumeration_section">40.2</span>创建物化视图的问题</h3>
               <div>
                  <p>如果您在创建物化视图时遇到问题，可以检查项目。</p>
                  <div class="section">
                     <p>如果您尝试创建实体化视图失败，请尝试以下操作：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>确保您具有创建实例化视图所需的权限。您需要主表及其物化视图日志的<code class="codeph">SELECT</code>权限。有关详细信息，请参阅<span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-51FE5233-2C70-48AF-ABAB-8A9EEC04B7C3" title="物化视图的创建者和所有者必须能够发出物化视图的定义SELECT语句。">所需权限</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>如果您尝试创建快速刷新主键或子查询物化视图，请确保主表上的物化视图日志记录主键。</p>
                        </li>
                        <li>
                           <p>如果您尝试创建快速刷新rowid实体化视图，请确保主表上的实体化视图日志记录rowid。</p>
                        </li>
                        <li>
                           <p>检查实例化视图日志是否为子查询实例化视图添加了必需的列。有关信息，请参阅<span class="q">“ <a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="创建实例化视图日志时，可以向日志添加列以快速刷新实例化视图。">在实体化视图日志中记录列</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>检查快速刷新实例化视图中涉及的所有表是否存在实例化视图日志。如果实例化视图包含子查询，则子查询中引用的每个表都应具有实例化视图日志。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" title="您可以诊断和解决数据库链接，物化视图创建和物化视图刷新问题。">对只读实例化视图的问题进行故障排除</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" name="GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7"></a><h3 id="ADMIN-GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" class="sect3"><span class="enumeration_section">40.3</span>刷新问题</h3>
               <p>您可以诊断和解决常见的刷新问题。</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-68D5D2D0-94B7-4951-BFE8-E6083FE60119">常见的刷新问题</a><br>几个常见因素可能会阻止一组物化视图的自动刷新。
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C">自动刷新重试次数</a><br>当Oracle数据库无法自动刷新刷新组时，刷新组仍然需要刷新才能完成。
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-C0F96EE9-322D-4C52-B486-952149E74A76">新物化视图数据库中的快速刷新错误</a><br>在某些情况下，在新物化视图数据库中创建物化视图期间，可能会清除主表的物化视图日志。
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-F69475DA-438A-4061-A62C-8AD7EC88F250">物化视图不断刷新</a><br>如果遇到Oracle数据库不断刷新一组物化视图的情况，请检查组的刷新间隔。
                     </li>
                     <li class="ulchildlink"><a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-BDFE003D-90CD-4C58-B827-4A1029B97F97">物化视图日志变得太大</a><br>如果主数据库中的实体化视图日志变得过大，请检查网络或数据库故障是否阻止主数据库意识到已删除实例化视图。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" title="您可以诊断和解决数据库链接，物化视图创建和物化视图刷新问题。">对只读实例化视图的问题进行故障排除</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-68D5D2D0-94B7-4951-BFE8-E6083FE60119" name="GUID-68D5D2D0-94B7-4951-BFE8-E6083FE60119"></a><h4 id="ADMIN-GUID-68D5D2D0-94B7-4951-BFE8-E6083FE60119" class="sect4"><span class="enumeration_section">40.3.1</span>常见刷新问题</h4>
                  <div>
                     <p>几个常见因素可能会阻止一组物化视图的自动刷新。</p>
                     <p>这些因素包括：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>物化视图数据库中缺少作业从站</p>
                        </li>
                        <li>
                           <p>干预网络或服务器故障</p>
                        </li>
                        <li>
                           <p>干预服务器关闭</p>
                        </li>
                     </ul>
                     <p>当刷新组遇到问题时，请确保上述任何情况都不会阻止Oracle数据库完成组刷新。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="您可以诊断和解决常见的刷新问题。">刷新问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C" name="GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C"></a><h4 id="ADMIN-GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C" class="sect4"><span class="enumeration_section">40.3.2</span>自动刷新重试次数</h4>
                  <div>
                     <p>当Oracle数据库无法自动刷新刷新组时，刷新组仍然需要刷新才能完成。</p>
                     <p>Oracle数据库将重试具有以下行为的组的自动刷新：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle数据库在一分钟后重新刷新刷新组，然后在两分钟后，四分钟后重试，依此类推，重试间隔加倍，每次尝试刷新组失败。</p>
                        </li>
                        <li>
                           <p>Oracle数据库不允许重试间隔超过刷新间隔本身。</p>
                        </li>
                        <li>
                           <p>Oracle数据库重试自动刷新最多16次。</p>
                        </li>
                     </ul>
                     <p>如果在16次尝试刷新刷新组后，Oracle数据库继续遇到错误，则Oracle数据库会认为该组已损坏。您可以查询的<code class="codeph">BROKEN</code>列<a id="d336482e429" class="indexterm-anchor"></a><a id="d336482e431" class="indexterm-anchor"></a><a id="d336482e435" class="indexterm-anchor"></a><a id="d336482e437" class="indexterm-anchor"></a> <code class="codeph">USER_REFRESH</code>和<code class="codeph">USER_REFRESH_CHILDREN</code>数据字典视图以查看刷新组的当前状态。
                     </p>
                     <p><a id="d336482e448" class="indexterm-anchor"></a><a id="d336482e452" class="indexterm-anchor"></a>导致Oracle数据库考虑刷新组损坏的错误记录在跟踪文件中。更正阻止刷新组成功刷新的问题后，必须手动刷新刷新组。然后，Oracle数据库重置已损坏的标志，以便再次进行自动刷新。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9D10D27A-A6A8-40C0-941F-AD0320908A6C__GUID-0EB86D95-2E02-46A1-A23E-ECD77F8FB98A">
                        <p class="notep1">也可以看看：</p>
                        <p>物化视图跟踪文件的名称格式为j <span class="italic">n</span> ，其中<span class="italic">n</span>是特定于操作系统的。有关系统名称，请参阅操作系统的Oracle文档。
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="您可以诊断和解决常见的刷新问题。">刷新问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C0F96EE9-322D-4C52-B486-952149E74A76" name="GUID-C0F96EE9-322D-4C52-B486-952149E74A76"></a><h4 id="ADMIN-GUID-C0F96EE9-322D-4C52-B486-952149E74A76" class="sect4"><span class="enumeration_section">40.3.3</span>新物化视图数据库的快速刷新错误</h4>
                  <div>
                     <p>在某些情况下，在新物化视图数据库中创建物化视图期间，可能会清除主表的物化视图日志。</p>
                     <p>发生这种情况时，您可能会遇到以下错误：</p><pre class="oac_no_warn" dir="ltr">ORA-12004 REFRESH FAST不能用于物化视图<span class="italic">materialized_view_name</span> ORA-12034物化视图登录<span class="italic">materialized_view_name</span>小于上次刷新</pre></div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C0F96EE9-322D-4C52-B486-952149E74A76__GUID-D8618FEE-AD36-4B05-B711-769DDB1856D0">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="creating-and-managing-read-only-materialized-views.html#GUID-9109BF91-5F00-4056-84D1-6D291F6BC584" title="使用一个或多个物化视图数据库创建物化视图环境后，可能需要添加新的物化视图数据库。">添加新的物化视图数据库</a> ”</span>以获取有关如何避免此问题的完整说明。
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="您可以诊断和解决常见的刷新问题。">刷新问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-F69475DA-438A-4061-A62C-8AD7EC88F250" name="GUID-F69475DA-438A-4061-A62C-8AD7EC88F250"></a><h4 id="ADMIN-GUID-F69475DA-438A-4061-A62C-8AD7EC88F250" class="sect4"><span class="enumeration_section">40.3.4</span>物化视图不断刷新</h4>
                  <div>
                     <p>如果遇到Oracle数据库不断刷新一组物化视图的情况，请检查组的刷新间隔。</p>
                     <p>Oracle Database在开始刷新之前评估刷新组的自动刷新间隔。如果刷新组的刷新间隔小于刷新组中所有实例化视图所花费的时间，则每次作业从站检查未完成作业的队列时，Oracle数据库都会不断启动刷新组刷新。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="您可以诊断和解决常见的刷新问题。">刷新问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-BDFE003D-90CD-4C58-B827-4A1029B97F97" name="GUID-BDFE003D-90CD-4C58-B827-4A1029B97F97"></a><h4 id="ADMIN-GUID-BDFE003D-90CD-4C58-B827-4A1029B97F97" class="sect4"><span class="enumeration_section">40.3.5</span>物化视图日志<span class="enumeration_section">变得</span>太大</h4>
                  <div>
                     <p>如果主数据库中的实体化视图日志变得过大，请检查网络或数据库故障是否阻止主数据库意识到已删除实例化视图。</p>
                     <p>您可能需要清除部分物化视图日志或取消注册未使用的物化视图数据库。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-628D9374-39F1-415C-8A46-0ABC8E20C5D7" title="您可以诊断和解决常见的刷新问题。">刷新问题</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-D6F3FD53-94D0-4653-B90D-161EC53A76AF" name="GUID-D6F3FD53-94D0-4653-B90D-161EC53A76AF"></a><h3 id="ADMIN-GUID-D6F3FD53-94D0-4653-B90D-161EC53A76AF" class="sect3"><span class="enumeration_section">40.4</span>刷新问题的高级故障排除</h3>
               <div>
                  <p>如果您在刷新实体化视图时遇到问题，可以检查几个项目。</p>
                  <p>如果在刷新实例化视图时遇到问题，请尝试以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>检查<code class="codeph">DBA_REFRESH_CHILDREN</code>视图中的<code class="codeph">NEXT_DATE</code>值，以确定是否已安排刷新。
                        </p>
                     </li>
                     <li>
                        <p>如果已经过了刷新间隔，则检查<code class="codeph">DBA_REFRESH</code>视图以查看物化视图刷新的关联作业编号，然后诊断作业队列的问题。
                        </p>
                     </li>
                     <li>
                        <p>检查是否有作业从站运行。检查<code class="codeph">JOB_QUEUE_PROCESSES</code>初始化参数，查询<code class="codeph">DBA_JOBS_RUNNING</code>视图，并使用您的操作系统，以检查工作的奴隶仍在运行。
                        </p>
                     </li>
                     <li>
                        <p>如果尝试在两个物化视图之间定义主详细信息关系，也可能会遇到错误。您应该仅使用声明性参照完整性约束在主表上定义主详细信息关系。然后，应将相关的物化视图放在同一个刷新组中以保留此关系。但是，您可以在物化视图上定义延迟（或可延迟）约束。</p>
                     </li>
                     <li>
                        <p>相同刷新组中的实体化视图会在单个事务中更新其行。此类事务可能非常大，需要在物化视图数据库中使用大型回滚段，指定在刷新期间使用回滚段，或者更频繁地刷新以减少事务大小。</p>
                     </li>
                     <li>
                        <p>如果发生Oracle错误<code class="codeph">ORA-12004</code> ，则在尝试维护物化视图日志时，master数据库可能已用完回滚段，或者物化视图日志可能已过期。例如，物化视图日志可能已被清除或重新创建。
                        </p>
                     </li>
                     <li>
                        <p>单个物化视图的完全刷新在内部使用<code class="codeph">TRUNCATE</code>功能来提高速度并减少回滚段要求。但是，在物化视图刷新完成之前，用户可能会暂时在物化视图中看不到任何数据。刷新多个物化视图（例如，刷新组）不使用<code class="codeph">TRUNCATE</code>功能。
                        </p>
                     </li>
                     <li>
                        <p>重组主表（例如，回收系统资源）应该<code class="codeph">TRUNCATE</code>主表以强制rowid物化视图执行完全刷新。否则，实例化视图对主表rowid的引用不正确。您可以使用<code class="codeph">BEGIN_TABLE_REORGANIZATION</code>和<code class="codeph">END_TABLE_REORGANIZATION</code>程序在<code class="codeph">DBMS_MVIEW</code>包重组主表。
                        </p>
                     </li>
                     <li>
                        <p>如果刷新时看到<code class="codeph">ORA-00942</code> （表或视图不存在），则检查数据库链接并确保您仍具有主表和物化视图日志所需的权限。
                        </p>
                     </li>
                     <li>
                        <p>如果快速刷新成功但随后失败，则检查是否：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>物化视图日志被截断，清除或删除。</p>
                           </li>
                           <li>
                              <p>您仍然具有物化视图日志所需的权限。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>如果强制刷新需要非常长的时间，请检查刷新使用的实体化视图日志是否已被删除。</p>
                     </li>
                     <li>
                        <p>如果物料化视图是使用<code class="codeph">BUILD</code> <code class="codeph">DEFERRED</code>创建的，并且其第一次快速刷新失败，则在检查其他问题之前，请确保已成功完成先前的完整刷新。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="troubleshooting-problems-with-read-only-materialized-views.html#GUID-022C5C7F-2EC9-44CB-A74B-CC01600BCC17" title="您可以诊断和解决数据库链接，物化视图创建和物化视图刷新问题。">对只读实例化视图的问题进行故障排除</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>