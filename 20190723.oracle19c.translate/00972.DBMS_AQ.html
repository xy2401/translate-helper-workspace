<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_AQ package provides an interface to Oracle Advanced Queuing (AQ)."></meta>
      <meta name="description" content="The DBMS_AQ package provides an interface to Oracle Advanced Queuing (AQ)."></meta>
      <title>DBMS_AQ</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_AQ package provides an interface to Oracle Advanced Queuing (AQ)."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_APPLY_ADM.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_AQADM.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_APPLY_ADM.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_AQADM.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_AQ</li>
            </ol>
            <a id="GUID-97DF56BC-60BC-43F2-8C2D-CD67DE76D072" name="GUID-97DF56BC-60BC-43F2-8C2D-CD67DE76D072"></a><a id="ARPLS004"></a><a id="ARPLS004"></a>
            
            <h2 id="ARPLS-GUID-97DF56BC-60BC-43F2-8C2D-CD67DE76D072" class="sect2"><span class="enumeration_chapter">21</span> DBMS_AQ</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_AQ</code>包提供了Oracle Advanced Queuing（AQ）的接口。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_AQ.html#GUID-EA27B877-CA19-4B66-9293-AE4AD28B9BB3" title="最初，只有SYS和SYSTEM对DBMS_AQ和DBMS_AQADM中的过程具有执行权限。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_AQ.html#GUID-14629951-4EF2-48A3-91F2-3999BA72F867" title="本主题描述DBMS_AQ使用的常量。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_AQ.html#GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73" title="本主题列出并描述了DBMS_AQ数据类型。">数据结构</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_AQ.html#GUID-A034EBBD-51FB-4909-BC3C-D27E42A615A9" title="本主题列出了各种DBMS_AQ操作说明。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_AQ.html#GUID-A7498EA7-3E62-4D8F-9A90-348C1298DFD7" title="DBMS_AQ包使用此表中描述的子程序。">DBMS_AQ子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-97DF56BC-60BC-43F2-8C2D-CD67DE76D072__GUID-0047D74B-993F-44E8-8591-7CC866E77DDE">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="../adque/aq-operations-using-pl-sql.html#ADQUE1000" target="_blank"><span class="italic">Oracle数据库高级队列用户指南</span></a> 
                        </p>
                     </li>
                     <li>
                        <p><a href="advanced-queuing-AQ-types.html#GUID-A26A6C99-831B-4DAC-A020-DF19CAD04DD4" title="本章介绍用于PL / SQL，DBMS_AQ和DBMS_AQADM的Oracle数据库高级队列（AQ）包的类型。">Oracle数据库高级队列（AQ）类型，</a>以获取有关与<code class="codeph">DBMS_AQ.</code>一起使用的<code class="codeph">TYPE</code>的信息<code class="codeph">DBMS_AQ.</code></p>
                     </li>
                  </ul>
               </div>
            </div><a id="ARPLS74793"></a><a id="ARPLS74794"></a><a id="ARPLS74795"></a><a id="ARPLS74796"></a><a id="ARPLS74794"></a><a id="ARPLS74795"></a><a id="ARPLS74796"></a><a id="ARPLS74793"></a><div class="props_rev_3"><a id="GUID-EA27B877-CA19-4B66-9293-AE4AD28B9BB3" name="GUID-EA27B877-CA19-4B66-9293-AE4AD28B9BB3"></a><h3 id="ARPLS-GUID-EA27B877-CA19-4B66-9293-AE4AD28B9BB3" class="sect3"><span class="enumeration_section">21.1</span> DBMS_AQ安全模型</h3>
               <div>
                  <p>最初，只有<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code>对<code class="codeph">DBMS_AQ</code>和<code class="codeph">DBMS_AQADM</code>的过程具有执行权限。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-EA27B877-CA19-4B66-9293-AE4AD28B9BB3__GUID-A16B6982-268F-4D6A-9A61-C0B92E751EE2">队列安全</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>要排队或出列，用户需要<code class="codeph">DBMS_AQ</code> <code class="codeph">EXECUTE</code>权限以及目标队列的<code class="codeph">ENQUEUE</code>或<code class="codeph">DEQUEUE</code>权限，或<code class="codeph">ENQUEUE_ANY</code> / <code class="codeph">DEQUEUE_ANY</code>系统权限。已被授予<code class="codeph">DBMS_AQ</code>和<code class="codeph">DBMS_AQADM</code> <code class="codeph">EXECUTE</code>权限的用户能够在自己的模式中创建，管理和使用队列。<code class="codeph">MANAGE_ANY</code> AQ系统特权用于在其他模式中创建和管理队列。
                     </p>
                     <p>作为数据库用户，除了<code class="codeph">DBMS_AQ</code>上的<code class="codeph">EXECUTE</code>权限之外，您不需要任何显式的对象级或系统级权限来排队或出列到您自己的模式中的队列。</p>
                     <div class="infoboxnotealso" id="GUID-EA27B877-CA19-4B66-9293-AE4AD28B9BB3__GUID-8A543EF7-78C0-4A5D-97E6-224A2AC530AD">
                        <p class="notep1">也可以看看：</p>
                        <p>有关队列权限和访问控制的详细信息，请参见<a href="../adque/managing-aq.html#ADQUE2564" target="_blank"><span class="italic">“Oracle数据库高级队列用户指南”</span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EA27B877-CA19-4B66-9293-AE4AD28B9BB3__GUID-A3BA93EE-5DBD-4BE3-AD3E-119841413994">OCI应用程序和队列访问</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对于访问队列的Oracle调用接口（OCI）应用程序，必须为会话用户授予他要访问的队列的对象特权或<code class="codeph">ENQUEUE ANY QUEUE</code>或<code class="codeph">DEQUEUE ANY QUEUE</code>系统特权。不会根据会话用户的权限检查<code class="codeph">DBMS_AQ</code>的<code class="codeph">EXECUTE</code>权限。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EA27B877-CA19-4B66-9293-AE4AD28B9BB3__GUID-77580E7F-2B2B-45B0-886D-4ADE9E68D46D">传播所需的安全性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>传播作业由<code class="codeph">SYS</code>拥有，但传播发生在队列表所有者的安全上下文中。先前的传播作业由用户调度传播所拥有，并且传播发生在设置传播调度的用户的安全上下文中。必须在<code class="codeph">DBMS_AQADM</code>程序包上授予队列表所有者<code class="codeph">EXECUTE</code>特权。否则，Oracle数据库快照进程不会传播并生成未定义错误标识符<code class="codeph">SYS.DBMS_AQADM</code>跟踪文件。队列表所有者拥有的专用数据库链接可用于传播。连接字符串中指定的用户名必须对远程数据库上的<code class="codeph">DBMS_AQ</code>和<code class="codeph">DBMS_AQADM</code>程序包具有<code class="codeph">EXECUTE</code>访问权限。
                     </p>
                     <div class="infoboxnotealso" id="GUID-EA27B877-CA19-4B66-9293-AE4AD28B9BB3__GUID-EDB5981B-1FC5-4BF1-9936-F78E369091C8">
                        <p class="notep1">也可以看看：</p>
                        <p></p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="DBMS_AQADM.html#GUID-1429E3AD-452A-4E82-A914-AA875A2525E3" title="DBMS_AQADM程序包提供了管理Oracle数据库高级队列（AQ）配置和管理信息的过程。">DBMS_AQADM</a></p>
                           </li>
                           <li>
                              <p><a href="../adque/managing-aq.html#ADQUE2567" target="_blank"><span class="italic">“Oracle数据库高级队列用户指南”</span></a> ，了解有关传播所需的安全性的更多信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65275"></a><a id="ARPLS65276"></a><a id="ARPLS65276"></a><a id="ARPLS65275"></a><div class="props_rev_3"><a id="GUID-14629951-4EF2-48A3-91F2-3999BA72F867" name="GUID-14629951-4EF2-48A3-91F2-3999BA72F867"></a><h3 id="ARPLS-GUID-14629951-4EF2-48A3-91F2-3999BA72F867" class="sect3"><span class="enumeration_section">21.2</span> DBMS_AQ常量</h3>
               <div>
                  <p>本主题描述DBMS_AQ使用的常量。</p>
                  <div class="section">
                     <p>DBMS_AQ包使用下表中显示的常量。</p>
                     <p>使用枚举常量（如<code class="codeph">BROWSE</code> ， <code class="codeph">LOCKED</code>或<code class="codeph">REMOVE</code> ，必须使用定义它的包的范围指定PL / SQL常量。与操作接口关联的所有类型都必须在<code class="codeph">DBMS_AQ</code>之前添加。例如： <code class="codeph">DBMS_AQ.BROWSE</code> 。</p>
                     <div class="infoboxnote" id="GUID-14629951-4EF2-48A3-91F2-3999BA72F867__GUID-95645C95-E552-4161-9717-CF87111F3917">
                        <p class="notep1">注意：</p>
                        <p>如果<code class="codeph">DBMS_AQADM</code>子程序的<code class="codeph">message_grouping</code>参数设置为<code class="codeph">TRANSACTIONAL</code>则在Oracle Streams AQ 10g第1版（10.1）之前的版本中， <code class="codeph">sequence_deviation</code>属性不起作用。 Oracle Streams AQ 10g第2版（10.2）中不推荐使用序列偏差功能。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-14629951-4EF2-48A3-91F2-3999BA72F867__CBAFHFJI">
                     <p class="titleintable">表21-1枚举常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="枚举常量" width="100%" border="1" summary="This table lists the PL/SQL enumerated constants that require the prefix, DBMS_AQ." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d113057e533">参数</th>
                              <th align="left" valign="bottom" id="d113057e536">选项</th>
                              <th align="left" valign="bottom" id="d113057e539">类型</th>
                              <th align="left" valign="bottom" id="d113057e542">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e547" headers="d113057e533 ">
                                 <p><code class="codeph">能见度</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e547 d113057e536 ">
                                 <p><code class="codeph">即时</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e547 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e547 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e563" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e563 d113057e536 ">
                                 <p><code class="codeph">ON_COMMIT</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e563 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e563 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e577" headers="d113057e533 ">
                                 <p><code class="codeph">DEQUEUE_MODE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e577 d113057e536 ">
                                 <p><code class="codeph">浏览</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e577 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e577 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e593" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e593 d113057e536 ">
                                 <p><code class="codeph">已锁定</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e593 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e593 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e607" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e607 d113057e536 ">
                                 <p><code class="codeph">去掉</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e607 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e607 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e621" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e621 d113057e536 ">
                                 <p><code class="codeph">REMOVE_NODATA</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e621 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e621 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e635" headers="d113057e533 ">
                                 <p><code class="codeph">导航</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e635 d113057e536 ">
                                 <p><code class="codeph">FIRST_MESSAGE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e635 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e635 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e651" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e651 d113057e536 ">
                                 <p><code class="codeph">NEXT_MESSAGE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e651 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e651 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e665" headers="d113057e533 ">
                                 <p><code class="codeph">州</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e665 d113057e536 ">
                                 <p><code class="codeph">等候</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e665 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e665 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e681" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e681 d113057e536 ">
                                 <p><code class="codeph">准备</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e681 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e681 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e695" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e695 d113057e536 ">
                                 <p><code class="codeph">处理</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e695 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e695 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e710" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e710 d113057e536 ">
                                 <p><code class="codeph">过期</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e710 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e710 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e724" headers="d113057e533 ">
                                 <p><code class="codeph">SEQUENCE_DEVIATION</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e724 d113057e536 ">
                                 <p><code class="codeph">之前</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e724 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e724 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e741" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e741 d113057e536 ">
                                 <p><code class="codeph">最佳</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e741 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e741 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e755" headers="d113057e533 ">
                                 <p><code class="codeph">等待</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e755 d113057e536 ">
                                 <p><code class="codeph">永远</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e755 d113057e539 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e755 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e771" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e771 d113057e536 ">
                                 <p><code class="codeph">NO_WAIT</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e771 d113057e539 ">
                                 <p><code class="codeph">BINARY_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e771 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e786" headers="d113057e533 ">
                                 <p><code class="codeph">延迟</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e786 d113057e536 ">
                                 <p><code class="codeph">NO_DELAY</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e786 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e786 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e803" headers="d113057e533 ">
                                 <p><code class="codeph">到期</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e803 d113057e536 ">
                                 <p><code class="codeph">决不</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e803 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e803 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e820" headers="d113057e533 ">
                                 <p><code class="codeph">NAMESPACE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" headers="d113057e820 d113057e536 ">
                                 <p><code class="codeph">NAMESPACE_AQ</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e820 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e820 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e836" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e836 d113057e536 ">
                                 <p><code class="codeph">NAMESPACE_ANONYMOUS</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e836 d113057e539 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e836 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e850" headers="d113057e533 ">
                                 <p><code class="codeph">NTFN_GROUPING_CLASS</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e850 d113057e536 ">
                                 <p><code class="codeph">NFTN_GROUPING_CLASS_TIME</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e850 d113057e539 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e850 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e866" headers="d113057e533 ">
                                 <p><code class="codeph">NTFN_GROUPING_TYPE</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e866 d113057e536 ">
                                 <p><code class="codeph">NTFN_GROUPING_TYPE_SUMMARY</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e866 d113057e539 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e866 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e883" headers="d113057e533 ">
                                 <p>-</p>
                              </td>
                              <td align="left" valign="top" headers="d113057e883 d113057e536 ">
                                 <p><code class="codeph">NTFN_GROUPING_TYPE_LAST</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e883 d113057e539 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e883 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d113057e898" headers="d113057e533 ">
                                 <p><code class="codeph">NTFN_GROUPING_REPEAT_COUNT</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e898 d113057e536 ">
                                 <p><code class="codeph">NTFN_GROUPING_FOREVER</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e898 d113057e539 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" headers="d113057e898 d113057e542 ">
                                 <p>-</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73" name="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73"></a><h3 id="ARPLS-GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73" class="sect3"><span class="enumeration_section">21.3</span> DBMS_AQ数据类型</h3>
               <div>
                  <p>本主题列出并描述了DBMS_AQ数据类型。</p>
                  <div class="tblformal" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-542727F9-81AE-4526-BEC4-CB6F13637853">
                     <p class="titleintable">表21-2 DBMS_AQ数据结构</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_AQ数据结构" width="100%" border="1" summary="This table lists the DBMS_AQ Data Types." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d113057e1006">数据结构</th>
                              <th align="left" valign="bottom" width="53%" id="d113057e1009">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d113057e1014" headers="d113057e1006 ">
                                 <p><code class="codeph">OBJECT_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d113057e1014 d113057e1009 ">
                                 <p>命名数据库对象</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d113057e1022" headers="d113057e1006 ">
                                 <p><code class="codeph">TYPE_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d113057e1022 d113057e1009 ">
                                 <p>定义队列类型</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d113057e1030" headers="d113057e1006 ">
                                 <p>Oracle数据库高级队列PL / SQL回调</p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d113057e1030 d113057e1009 ">
                                 <p>指定在消息通知中调用的数据库中定义的用户定义的PL / SQL过程</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-0B2C33BD-043D-4983-839B-D30B0F3368DF">OBJECT_NAME</p>
                     <p><code class="codeph">object_name</code>数据结构命名数据库对象。它适用于队列，队列表，代理名称和对象类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-794804C1-4B73-4560-B230-B0B57A1B9582">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">object_name：= VARCHAR2; object_name：= [ <span class="italic">schema_name</span> 。] <span class="italic">name</span> ;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-02CA91CC-CE5D-4D1B-BF89-29A9E971AD97">使用说明</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>对象的名称由可选的模式名称和名称指定。如果未指定模式名称，则假定当前模式。对于保留字符，该名称必须遵循<a href="../sqlrf/Oracle-SQL-Reserved-Words-and-Keywords.html#SQLRF022" target="_blank"><span class="italic">Oracle数据库SQL语言参考中的</span></a>对象名称准则。架构名称，代理名称和对象类型名称最长可达128个字节。队列名称和队列表名称最长可达122个字节。代理名称和订户名称的最大长度可以是128个字符，数据块大小大于2k。对于2k数据块大小，用户的最大长度为128字节。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-E2768631-E787-41AC-B696-BF4C77E98AE0">TYPE_NAME</p>
                     <p><code class="codeph">type_name</code>数据结构定义队列类型。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-9DCC4B08-39C1-4E6A-910F-695C3EA7E6AB">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">type_name：= VARCHAR2; type_name：= <span class="italic">object_type</span> | “生的”;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-A136F21E-022B-4B42-88F5-5BB37FC4CD1F">属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-C83F7CB5-3DC3-40E8-B2C5-F4386D1958C6">
                     <p class="titleintable">表21-3类型名称属性</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="输入名称属性" width="100%" border="1" summary="This table lists Type Name attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d113057e1097">属性</th>
                              <th align="left" valign="bottom" width="76%" id="d113057e1100">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d113057e1105" headers="d113057e1097 ">
                                 <p><span class="italic"><code class="codeph">OBJECT_TYPE</code></span> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d113057e1105 d113057e1100 ">
                                 <p>对象类型中的最大属性数限制为900。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d113057e1115" headers="d113057e1097 ">
                                 <p><code class="codeph">“生的”</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d113057e1115 d113057e1100 ">
                                 <p>为了存储<code class="codeph">RAW</code>类型的有效负载，Oracle数据库高级队列创建一个带有<code class="codeph">LOB</code>列作为有效负载存储库的队列表。消息有效负载的理论最大大小是可以存储在<code class="codeph">LOB</code>列中的最大数据量。但是，有效负载的最大大小取决于您用于访问Oracle数据库高级队列的编程环境。对于PL / SQL，Java和预编译器，限制为32K;对于OCI，限制是4G。由于PL / SQL入队和出队接口接受<code class="codeph">RAW</code>缓冲区作为有效负载参数，因此您将限制为32K字节。在OCI中， <code class="codeph">RAW</code>数据的最大大小将限制为OCI对象缓存可以分配的最大连续内存量（因为<code class="codeph">OCIRaw</code>只是一个字节数组）。通常，这将至少为32K字节，并且在许多情况下要大得多。
                                 </p>
                                 <p>由于<code class="codeph">LOB</code>列用于存储<code class="codeph">RAW</code>有效负载，因此Oracle数据库高级队列管理员可以通过在队列表创建期间在<code class="codeph">storage_clause</code>参数中构造<code class="codeph">LOB</code>存储字符串来选择<code class="codeph">LOB</code>表空间并配置<code class="codeph">LOB</code>存储。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-D077D352-A42E-4803-986F-88FB9B4FB262">Oracle数据库高级队列PL / SQL回调</p>
                     <p><code class="codeph">plsqlcallback</code>数据结构指定用户定义的PL / SQL过程，在数据库中定义以在消息通知上调用。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-BB26D523-80E0-4E0B-B686-1C51F67A0580">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>如果期望<code class="codeph">RAW</code>有效负载入队的通知消息，则PL / SQL回调必须具有以下签名：</p><pre class="oac_no_warn" dir="ltr">过程plsqlcallback（上下文IN RAW，reginfo IN SYS.AQ $ _REG_INFO，descr IN SYS.AQ $ _DESCRIPTOR，payload IN RAW，payloadl IN NUMBER）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-299EAF9D-0535-4685-BB0B-7CC9C2ACF76B">属性</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73__GUID-F9557C39-E12A-416F-9AC1-80F80816402B">
                     <p class="titleintable">表21-4 Oracle数据库高级队列PL / SQL回调属性</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle数据库高级队列PL / SQL回调属性" width="100%" border="1" summary="This table lists Oracle Streams AQ PL/SQL Callback attributes." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d113057e1196">属性</th>
                              <th align="left" valign="bottom" width="84%" id="d113057e1199">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d113057e1204" headers="d113057e1196 ">
                                 <p><code class="codeph">上下文</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d113057e1204 d113057e1199 ">
                                 <p>指定<code class="codeph">dbms_aq.register</code>传递的回调函数的上下文。请参阅<a href="advanced-queuing-AQ-types.html#GUID-A6C99548-F100-48F9-9492-DEBF5E4C680B" title="此类型标识消息的生产者或消费者。">AQ $ _REG_INFO类型</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d113057e1223" headers="d113057e1196 ">
                                 <p><code class="codeph">reginfo</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d113057e1223 d113057e1199 ">
                                 <p>请参阅<a href="advanced-queuing-AQ-types.html#GUID-A6C99548-F100-48F9-9492-DEBF5E4C680B" title="此类型标识消息的生产者或消费者。">AQ $ _REG_INFO类型</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d113057e1239" headers="d113057e1196 ">
                                 <p><code class="codeph">DESCR</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d113057e1239 d113057e1199 ">
                                 <p>请参阅<a href="advanced-queuing-AQ-types.html#GUID-8491E329-CAE5-4A6D-A7CB-2693F945B80D" title="此类型指定AQ PL / SQL回调在收到通知时收到的Oracle数据库高级队列描述符。">AQ $ _DESCRIPTOR类型</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d113057e1254" headers="d113057e1196 ">
                                 <p><code class="codeph">有效载荷</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d113057e1254 d113057e1199 ">
                                 <p>如果期望原始有效负载队列的通知消息，那么它包含入队到非持久队列的原始有效负载。如果是具有原始有效负载的持久队列，则此参数将为null。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d113057e1263" headers="d113057e1196 ">
                                 <p><code class="codeph">payloadl</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="84%" headers="d113057e1263 d113057e1199 ">
                                 <p>指定<code class="codeph">payload</code>的长度。如果<code class="codeph">payload</code>为null，则<code class="codeph">payload1</code> = 0。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>如果预期ADT有效负载入队通知消息，则PL / SQL回调必须具有以下签名：</p><pre class="oac_no_warn" dir="ltr">过程plsqlcallback（上下文IN RAW，reginfo IN SYS.AQ $ _REG_INFO，descr IN SYS.AQ $ _DESCRIPTOR，payload IN VARCHAR2，payloadl IN NUMBER）;</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-A034EBBD-51FB-4909-BC3C-D27E42A615A9" name="GUID-A034EBBD-51FB-4909-BC3C-D27E42A615A9"></a><h3 id="ARPLS-GUID-A034EBBD-51FB-4909-BC3C-D27E42A615A9" class="sect3"><span class="enumeration_section">21.4</span> DBMS_AQ操作说明</h3>
               <div>
                  <p>本主题列出了各种DBMS_AQ操作说明。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-A034EBBD-51FB-4909-BC3C-D27E42A615A9__GUID-D6FD21E0-EDF4-4C6A-8E73-E9563C2A7747">DBMS_AQ和DBMS_AQADM Java类</p>
                     <p>Java接口可用于<code class="codeph">DBMS_AQ</code>和<code class="codeph">DBMS_AQADM</code> 。 Java接口在<code class="codeph">$ORACLE_HOME/rdbms/jlib/aqapi</code> 。 <code class="codeph">jar</code> 。用户需要在<code class="codeph">DBMS_AQIN</code>程序包上具有<code class="codeph">EXECUTE</code>权限才能使用这些接口。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS096"></a><a id="ARPLS65288"></a><a id="ARPLS65288"></a><a id="ARPLS096"></a><div class="props_rev_3"><a id="GUID-A7498EA7-3E62-4D8F-9A90-348C1298DFD7" name="GUID-A7498EA7-3E62-4D8F-9A90-348C1298DFD7"></a><h3 id="ARPLS-GUID-A7498EA7-3E62-4D8F-9A90-348C1298DFD7" class="sect3"><span class="enumeration_section">21.5</span> DBMS_AQ子程序摘要</h3>
               <div>
                  <p><code class="codeph">DBMS_AQ</code>包使用此表中描述的子程序。
                  </p>
                  <div class="tblformal" id="GUID-A7498EA7-3E62-4D8F-9A90-348C1298DFD7__GUID-0FA2504C-1316-4D47-94C2-DE992E600666">
                     <p class="titleintable">表21-5 DBMS_AQ包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_AQ包子程序" width="100%" border="1" summary="This table lists the DBMS_AQ subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d113057e1494">子程序</th>
                              <th align="left" valign="bottom" width="65%" id="d113057e1497">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1502" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-EE73331E-9297-46B4-81FB-1DF7DAB2C3C2" title="此过程为LDAP服务器中的Oracle Database Advanced Queuing代理创建条目。">BIND_AGENT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1502 d113057e1497 ">
                                 <p>在LDAP目录中为Oracle Database Advanced Queuing代理创建条目</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1514" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420" title="此过程使来自指定队列的消息出列。">DEQUEUE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1514 d113057e1497 ">
                                 <p>从指定队列中出列消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1526" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-F5E58392-A686-4442-A9E5-9D3DDF557755" title="此函数使消息数组出列，并以有效负载数组，消息属性数组和消息ID数组的形式返回它们。此函数返回成功出列的消息数。">DEQUEUE_ARRAY函数</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1526 d113057e1497 ">
                                 <p>从指定队列中出列消息数组</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1538" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-E262FFC1-2B21-425A-914C-B58238198455" title="此过程将消息添加到指定的队列。">ENQUEUE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1538 d113057e1497 ">
                                 <p>将消息添加到指定的队列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1550" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-A0E01434-EF7A-425D-BDC5-55262E98010B" title="此函数使用相应的消息属性数组对有效负载数组进行排队。输出将是排队消息的消息ID数组。">ENQUEUE_ARRAY功能</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1550 d113057e1497 ">
                                 <p>将一组消息添加到指定的队列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1562" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-7DDDD2C4-931D-43D6-9828-A05C03744EDF" title="此过程代表代理列表侦听一个或多个队列。代理的地址字段指示代理想要监视的队列。仅支持本地队列作为地址。协议保留供将来使用。">LISTEN程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1562 d113057e1497 ">
                                 <p>代表代理列表收听一个或多个队列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1574" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-96FE97B5-FE7D-49C9-B326-CCB6BC0E167F" title="此过程发布到匿名订阅列表，该列表允许为订阅注册的所有客户端获取通知。">POST程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1574 d113057e1497 ">
                                 <p>发布匿名订阅，允许所有注册订阅的客户端收到通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1586" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-F4CCDD90-4CF6-449E-A454-AB71AF1C640D" title="此过程注册电子邮件地址，用户定义的PL / SQL过程或HTTP URL以进行消息通知。">注册程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1586 d113057e1497 ">
                                 <p>注册消息通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1598" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-C0AFFE2E-D868-4BCE-A37C-B138DFD62CAF" title="此过程从LDAP服务器中删除Oracle Database Advanced Queuing代理的条目。">UNBIND_AGENT程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1598 d113057e1497 ">
                                 <p>从LDAP目录中删除Oracle Database Advanced Queuing代理的条目</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d113057e1610" headers="d113057e1494 ">
                                 <p><a href="DBMS_AQ.html#GUID-1B79CB61-3329-44CA-AD73-7395DAAC6F14" title="此过程取消注册关闭通知的订阅。">UNREGISTER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d113057e1610 d113057e1497 ">
                                 <p>取消注册关闭通知的订阅</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-A7498EA7-3E62-4D8F-9A90-348C1298DFD7__GUID-FF7F593D-6172-400F-A30F-0431A1024711">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">DBMS_AQ</code>没有定义纯度级别;因此，您不能从定义了<code class="codeph">RNDS</code> ， <code class="codeph">WNDS</code> ， <code class="codeph">RNPS</code>或<code class="codeph">WNPS</code>约束的其他过程调用此包中的任何过程。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS103"></a><a id="ARPLS65289"></a><a id="ARPLS65289"></a><a id="ARPLS103"></a><div class="props_rev_3"><a id="GUID-EE73331E-9297-46B4-81FB-1DF7DAB2C3C2" name="GUID-EE73331E-9297-46B4-81FB-1DF7DAB2C3C2"></a><h4 id="ARPLS-GUID-EE73331E-9297-46B4-81FB-1DF7DAB2C3C2" class="sect4"><span class="enumeration_section">21.5.1</span> BIND_AGENT程序</h4>
                  <div>
                     <p>此过程为LDAP服务器中的Oracle Database Advanced Queuing代理创建条目。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EE73331E-9297-46B4-81FB-1DF7DAB2C3C2__GUID-96426C6B-2529-4B55-AD54-F9A6F03B3BA5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.BIND_AGENT（代理IN SYS.AQ $ _AGENT，证书IN VARCHAR2默认为NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE73331E-9297-46B4-81FB-1DF7DAB2C3C2__GUID-968BDD38-F2F3-4B8F-A5A0-4C75F6350E3E">参数</p>
                        <div class="tblformal" id="GUID-EE73331E-9297-46B4-81FB-1DF7DAB2C3C2__GUID-23DA369F-4C17-4C62-B376-343AA468268C">
                           <p class="titleintable">表21-6 BIND_AGENT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="BIND_AGENT过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.BIND_AGENT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d113057e1745">参数</th>
                                    <th align="left" valign="bottom" width="81%" id="d113057e1748">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d113057e1753" headers="d113057e1745 ">
                                       <p><code class="codeph">代理人</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d113057e1753 d113057e1748 ">
                                       <p>要在LDAP服务器中注册的代理程序。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d113057e1762" headers="d113057e1745 ">
                                       <p><code class="codeph">证书</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d113057e1762 d113057e1748 ">
                                       <p>LDAP中“organizationalperson”条目的位置（LDAP专有名称），其数字证书（属性<code class="codeph">usercertificate</code> ）将用于此代理。示例：“cn = OE，cn = ACME，cn = com”是OrganizationalPerson OE的专有名称，其证书将与指定的代理一起使用。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE73331E-9297-46B4-81FB-1DF7DAB2C3C2__GUID-0F73C836-6B27-431E-A7F5-F40E9C0D2169">使用说明</p>
                        <p>在LDAP服务器中，数字证书存储为<code class="codeph">OrganizationalPerson</code>实体的属性（ <code class="codeph">usercertificate</code> ）。绑定代理时，必须指定此<code class="codeph">OrganizationalPerson</code>可分辨名称。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS098"></a><a id="ARPLS65290"></a><a id="ARPLS65291"></a><a id="ARPLS65290"></a><a id="ARPLS65291"></a><a id="ARPLS098"></a><div class="props_rev_3"><a id="GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420" name="GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420"></a><h4 id="ARPLS-GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420" class="sect4"><span class="enumeration_section">21.5.2</span> DEQUEUE程序</h4>
                  <div>
                     <p>此过程使来自指定队列的消息出列。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420__GUID-E98B9815-9F5D-4BC6-B77D-D59ADF2BBBE8">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.DEQUEUE（queue_name IN VARCHAR2，dequeue_options IN dequeue_options_t，message_properties OUT message_properties_t，payload OUT“&lt;ADT_1&gt;”msgstr OUT RAW）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420__GUID-DD62CED4-78AE-4FF0-BE50-91F4603E015A">参数</p>
                        <div class="tblformal" id="GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420__GUID-FD190911-EBAB-4060-A17C-FB9137EA3065">
                           <p class="titleintable">表21-7 DEQUEUE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEQUEUE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.DEQUEUE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d113057e1896">参数</th>
                                    <th align="left" valign="bottom" width="71%" id="d113057e1899">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e1904" headers="d113057e1896 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e1904 d113057e1899 ">
                                       <p>指定队列的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e1913" headers="d113057e1896 ">
                                       <p><code class="codeph">dequeue_options</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e1913 d113057e1899 ">
                                       <p>请参见<a href="advanced-queuing-AQ-types.html#GUID-DB3EC41E-02A4-4975-A685-438DD7BCBE0C" title="DEQUEUE_OPTIONS_T指定可用于出列操作的选项。">DEQUEUE_OPTIONS_T类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e1931" headers="d113057e1896 ">
                                       <p><code class="codeph">message_properties</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e1931 d113057e1899 ">
                                       <p>请参见<a href="advanced-queuing-AQ-types.html#GUID-7232160F-22CF-4DF7-BAAF-96EDCC5CB452" title="此类型在DBMS_AQ包中定义，并描述AQ用于传达单个消息状态的信息。这些是在入队时设置的，它们的值在出队时返回。">MESSAGE_PROPERTIES_T类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e1947" headers="d113057e1896 ">
                                       <p><code class="codeph">有效载荷</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e1947 d113057e1899 ">
                                       <p>不受Oracle数据库高级队列解释。必须根据关联队列表中的规范指定有效负载。有关<span class="italic"><code class="codeph">type_name</code></span>的定义，请参阅<a href="DBMS_AQ.html#GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73" title="本主题列出并描述了DBMS_AQ数据类型。">DBMS_AQ数据类型中的</a> <code class="codeph">TYPE_NAME</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e1970" headers="d113057e1896 ">
                                       <p><code class="codeph">MSGID</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e1970 d113057e1899 ">
                                       <p>系统生成的消息标识。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420__GUID-E42EA690-6ADE-414B-89F3-843598ADDDF6">使用说明</p>
                        <p>要出队的消息的搜索条件由<code class="codeph">dequeue_options</code>的以下参数确定：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CONSUMER_NAME</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">MSGID</code> 
                              </p>
                              <p><code class="codeph">Msgid</code>唯一标识要出列的消息。除非指定了<code class="codeph">msgid</code>否则只有处于<code class="codeph">READY</code>状态的消息才会出列。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">相关</code> 
                              </p>
                              <p>关联标识符是Oracle Database Advanced Queuing不解释的应用程序定义的标识符。</p>
                           </li>
                           <li>
                              <p><code class="codeph">deq_condition</code> 
                              </p>
                              <p>Dequeue条件是基于消息属性，消息数据属性和PL / SQL函数的表达式。使用类似于SQL查询的<code class="codeph">WHERE</code>子句的语法将<code class="codeph">deq_condition</code>指定为布尔表达式。此布尔表达式可以包括有关消息属性，用户数据属性（仅限对象有效内容）以及PL / SQL或SQL函数（在SQL查询的where子句中指定）的条件。消息属性包括队列表中的<code class="codeph">priority,</code> <code class="codeph">corrid</code>和其他列。
                              </p>
                              <p>要在消息有效内容（对象有效内容）上指定出列条件，请在子句中使用对象类型的属性。必须使用<code class="codeph">tab.user_data</code>作为限定符为每个属性添加前缀，以指示存储有效内容的队列表的特定列。
                              </p>
                              <p>示例： <code class="codeph">tab.user_data.orderstatus='EXPRESS'</code></p>
                           </li>
                        </ul>
                        <p>出队顺序由创建队列表时指定的值确定，除非被<code class="codeph">dequeue_options</code>的<code class="codeph">msgid</code>和相关ID <code class="codeph">dequeue_options</code> 。
                        </p>
                        <p>数据库一致性读取机制适用于队列操作。例如， <code class="codeph">BROWSE</code>调用可能看不到在浏览事务开始后排队的消息。
                        </p>
                        <p>出队期间的默认<code class="codeph">NAVIGATION</code>参数是<code class="codeph">NEXT_MESSAGE</code> 。这意味着后续的队列将根据在第一个队列中获得的快照从队列中检索消息。特别是，只有在处理队列中的所有剩余消息之后，才会处理在第一个dequeue命令之后排队的消息。当所有消息已经排队到队列中，或者队列没有基于优先级的排序时，这通常就足够了。但是，当队列中的第一条消息需要由每个出列命令处理时，应用程序必须使用<code class="codeph">FIRST_MESSAGE</code>导航选项。当正在处理已排队的消息时，当优先级较高的消息到达队列时，这通常是必要的。
                        </p>
                        <div class="infoboxnote" id="GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420__GUID-46A7DD32-D6C4-427D-B359-168304BED98F">
                           <p class="notep1">注意：</p>
                           <p>当消息同时入队时，使用<code class="codeph">FIRST_MESSAGE</code>导航选项可能更有效。如果未指定<code class="codeph">FIRST_MESSAGE</code>选项，则Oracle数据库高级队列会在第一个出列命令时不断生成快照，从而导致性能下降。如果指定了<code class="codeph">FIRST_MESSAGE</code>选项，则Oracle Database Advanced Queuing会为每个dequeue命令使用新快照。
                           </p>
                        </div>
                        <p>将同一事务中排队的消息放入已启用消息分组的队列中将形成一个组。如果事务中只有一条消息入队，那么这将有效地形成一组消息。可以在单个事务中分组的消息数没有上限。</p>
                        <p>在尚未启用消息分组的队列中， <code class="codeph">LOCKED</code>或<code class="codeph">REMOVE</code>模式下的出队仅锁定单个消息。相反，试图使作为组的一部分的消息出列的出列操作将锁定整个组。当组中的所有消息都需要作为原子单元处理时，这很有用。
                        </p>
                        <p>当组中的所有消息都已出列时，出队返回一个错误，指示已处理该组中的所有消息。然后，应用程序可以使用<code class="codeph">NEXT_TRANSACTION</code>开始从下一个可用组中出列消息。如果没有可用的组，则在指定的<code class="codeph">WAIT</code>时间段之后出队将超时。
                        </p>
                        <p>使用安全队列</p>
                        <p>对于安全队列，必须在<code class="codeph">dequeue_options</code>参数中指定<code class="codeph">consumer_name</code> 。见<a href="advanced-queuing-AQ-types.html#GUID-DB3EC41E-02A4-4975-A685-438DD7BCBE0C" title="DEQUEUE_OPTIONS_T指定可用于出列操作的选项。">DEQUEUE_OPTIONS_T类型</a>有关更多信息， <code class="codeph">consumer_name</code> 。
                        </p>
                        <p>使用安全队列时，需要以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须使用<code class="codeph">DBMS_AQADM.CREATE_AQ_AGENT</code>创建了有效的Oracle数据库高级队列代理。请参见<a href="DBMS_AQADM.html#GUID-4617A2F1-7114-40F3-AA14-CB6DA69160DD" title="此过程使用HTTP / SMTP协议注册Oracle Database Advanced Queuing Internet访问的代理。它还用于创建Oracle数据库高级队列代理以访问安全队列。">CREATE_AQ_AGENT过程</a> 。
                              </p>
                           </li>
                           <li>
                              <p>必须将Oracle数据库高级队列代理映射到具有安全队列的出列权限的数据库用户。使用<code class="codeph">DBMS_AQADM.ENABLE_DB_ACCESS</code>执行此操作。请参见<a href="DBMS_AQADM.html#GUID-6E6070C7-B30E-4887-8EA0-1089CB8C2DD7" title="此过程授予Oracle数据库高级排队Internet代理特定数据库用户的特权。">ENABLE_DB_ACCESS过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65292"></a><a id="ARPLS65293"></a><a id="ARPLS65293"></a><a id="ARPLS65292"></a><div class="props_rev_3"><a id="GUID-F5E58392-A686-4442-A9E5-9D3DDF557755" name="GUID-F5E58392-A686-4442-A9E5-9D3DDF557755"></a><h4 id="ARPLS-GUID-F5E58392-A686-4442-A9E5-9D3DDF557755" class="sect4"><span class="enumeration_section">21.5.3</span> DEQUEUE_ARRAY函数</h4>
                  <div>
                     <p>此函数使消息数组出列，并以有效负载数组，消息属性数组和消息ID数组的形式返回它们。此函数返回成功出列的消息数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F5E58392-A686-4442-A9E5-9D3DDF557755__GUID-24B2CCA2-7E7F-4555-AD3C-2D9AA273D289">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.DEQUEUE_ARRAY（queue_name IN VARCHAR2，dequeue_options IN dequeue_options_t，array_size IN pls_integer，message_properties_array OUT message_properties_array_t，payload_array OUT“&lt;COLLECTION_1&gt;”，msgid_array OUT msgid_array_t，error_array OUT error_array_t）RETURN pls_integer;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F5E58392-A686-4442-A9E5-9D3DDF557755__GUID-1C63092B-E7C6-40D1-8803-7AE0343E5622">参数</p>
                        <div class="tblformal" id="GUID-F5E58392-A686-4442-A9E5-9D3DDF557755__GUID-2D2ED42D-08E3-4DAD-A576-BC3220ACE98C">
                           <p class="titleintable">表21-8 DEQUEUE_ARRAY函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEQUEUE_ARRAY函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.DEQUEUE_ARRAY." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d113057e2258">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d113057e2261">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d113057e2266" headers="d113057e2258 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d113057e2266 d113057e2261 ">
                                       <p>消息从中排队的队列名称（与单行出列相同）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d113057e2275" headers="d113057e2258 ">
                                       <p><code class="codeph">dequeue_options</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d113057e2275 d113057e2261 ">
                                       <p>将应用于阵列中所有消息的选项集（与单行出列相同）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d113057e2284" headers="d113057e2258 ">
                                       <p><code class="codeph">ARRAY_SIZE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d113057e2284 d113057e2261 ">
                                       <p>出列的元素数量。对于缓冲消息， <code class="codeph">array_size</code>应为<code class="codeph">1</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d113057e2299" headers="d113057e2258 ">
                                       <p><code class="codeph">message_properties_array</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d113057e2299 d113057e2261 ">
                                       <p>包含与每个消息属性对应的数组的记录。每个有效内容元素都有一组相应的消息属性。请参见<a href="advanced-queuing-AQ-types.html#GUID-A4EC0392-7589-463E-BB26-7C67B27A1C3E" title="dbms_aq.enqueue_array和dbms_aq.dequeue_array调用使用此类型来保存消息属性集。">MESSAGE_PROPERTIES_ARRAY_T类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d113057e2321" headers="d113057e2258 ">
                                       <p><code class="codeph">payload_array</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d113057e2321 d113057e2261 ">
                                       <p>一组出列的有效载荷数据。 “&lt;COLLECTION_1&gt;”可以是PL / SQL表示中的关联数组，varray或嵌套表。用户可以使<code class="codeph">RAW</code>和<code class="codeph">ADT</code>有效负载出列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d113057e2336" headers="d113057e2258 ">
                                       <p><code class="codeph">msgid_array</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d113057e2336 d113057e2261 ">
                                       <p>出列消息的消息ID数组。请参阅<a href="advanced-queuing-AQ-types.html#GUID-B11D312F-0EF5-4048-809B-630426E1E81A" title="msgid_array_t类型在dbms_aq.enqueue_array和dbms_aq.dequeue_array调用中用于保存与排队或出列消息对应的消息ID集。">MSGID_ARRAY_T类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d113057e2361" headers="d113057e2258 ">
                                       <p><code class="codeph">error_array</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d113057e2361 d113057e2261 ">
                                       <p>目前尚未实施</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F5E58392-A686-4442-A9E5-9D3DDF557755__GUID-363ED232-21FF-4BFD-97B5-AE39A0D89883">使用说明</p>
                        <p>只有在队列中没有消息时，才会识别<code class="codeph">dequeue_options</code>指定的非零等待时间。如果队列包含符合出列条件的消息，则<code class="codeph">DEQUEUE_ARRAY</code>函数将出列到<code class="codeph">array_size</code>消息并立即返回。
                        </p>
                        <p>不支持使用<code class="codeph">message_id</code>出列<code class="codeph">message_id</code> 。有关<code class="codeph">navigation</code>参数的详细信息，请参阅<a href="DBMS_AQ.html#GUID-D95A89C8-516A-4AF9-8F1F-26B4C6E64420" title="此过程使来自指定队列的消息出列。">DEQUEUE过程</a> 。支持现有的<code class="codeph">NAVIGATION</code>模式。此外，为启用了消息分组的队列支持两种新的<code class="codeph">NAVIGATION</code>模式：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">FIRST_MESSAGE_MULTI_GROUP</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NEXT_MESSAGE_MULTI_GROUP</code> 
                              </p>
                              <div class="infoboxnotealso" id="GUID-F5E58392-A686-4442-A9E5-9D3DDF557755__GUID-8D37C638-A45A-46BD-BB5A-1A844D4A6747">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="advanced-queuing-AQ-types.html#GUID-E6AFAEEA-3ADE-48B1-A636-A3F8C22DF995" title="ENQUEUE_OPTIONS_T类型指定可用于入队操作的选项。">ENQUEUE_OPTIONS_T类型</a></p>
                              </div>
                           </li>
                        </ul>
                        <p>对于事务分组队列和<code class="codeph">ONE_GROUP</code>导航，消息仅从单个事务组中出列，受<code class="codeph">array_size</code>限制。在<code class="codeph">MULTI_GROUP</code>导航中，消息在多个事务组中出列，仍受<code class="codeph">array_size</code>限制。返回ORA-25235以指示事务组的结束。
                        </p>
                        <p>缓冲消息不支持<code class="codeph">DEQUEUE_ARRAY</code> ，但您仍可以通过将<code class="codeph">array_size</code>设置为一条消息，对单个缓冲的消息使用此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS097"></a><a id="ARPLS65294"></a><a id="ARPLS65295"></a><a id="ARPLS65294"></a><a id="ARPLS65295"></a><a id="ARPLS097"></a><div class="props_rev_3"><a id="GUID-E262FFC1-2B21-425A-914C-B58238198455" name="GUID-E262FFC1-2B21-425A-914C-B58238198455"></a><h4 id="ARPLS-GUID-E262FFC1-2B21-425A-914C-B58238198455" class="sect4"><span class="enumeration_section">21.5.4</span> ENQUEUE程序</h4>
                  <div>
                     <p>此过程将消息添加到指定的队列。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E262FFC1-2B21-425A-914C-B58238198455__GUID-C964B2AA-8454-44E2-8339-918FBA9D2D9C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.ENQUEUE（queue_name IN VARCHAR2，enqueue_options IN enqueue_options_t，message_properties IN message_properties_t，payload IN“&lt;ADT_1&gt;”，msgid OUT RAW）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E262FFC1-2B21-425A-914C-B58238198455__GUID-C30F96C2-F7A8-496C-9363-678CBE9FA20D">参数</p>
                        <div class="tblformal" id="GUID-E262FFC1-2B21-425A-914C-B58238198455__GUID-E6925C57-73CF-463D-9E72-C9E34109D63F">
                           <p class="titleintable">表21-9 ENQUEUE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENQUEUE过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.ENQUEUE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d113057e2554">参数</th>
                                    <th align="left" valign="bottom" width="71%" id="d113057e2557">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e2562" headers="d113057e2554 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e2562 d113057e2557 ">
                                       <p>指定此消息应入队的队列的名称。队列不能是异常队列。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e2571" headers="d113057e2554 ">
                                       <p><code class="codeph">enqueue_options</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e2571 d113057e2557 ">
                                       <p>请参阅<a href="advanced-queuing-AQ-types.html#GUID-E6AFAEEA-3ADE-48B1-A636-A3F8C22DF995" title="ENQUEUE_OPTIONS_T类型指定可用于入队操作的选项。">ENQUEUE_OPTIONS_T类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e2589" headers="d113057e2554 ">
                                       <p><code class="codeph">message_properties</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e2589 d113057e2557 ">
                                       <p>请参见<a href="advanced-queuing-AQ-types.html#GUID-7232160F-22CF-4DF7-BAAF-96EDCC5CB452" title="此类型在DBMS_AQ包中定义，并描述AQ用于传达单个消息状态的信息。这些是在入队时设置的，它们的值在出队时返回。">MESSAGE_PROPERTIES_T类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e2605" headers="d113057e2554 ">
                                       <p><code class="codeph">有效载荷</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e2605 d113057e2557 ">
                                       <p>不受Oracle数据库高级队列解释。必须根据关联队列表中的规范指定有效负载。<code class="codeph">NULL</code>是可接受的参数。有关<span class="italic"><code class="codeph">type_name</code></span>的定义，请参阅<a href="DBMS_AQ.html#GUID-56E78CA6-3EB0-44C9-AEB7-F13A5A077D73" title="本主题列出并描述了DBMS_AQ数据类型。">DBMS_AQ数据类型中的</a> <code class="codeph">TYPE_NAME</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d113057e2631" headers="d113057e2554 ">
                                       <p><code class="codeph">MSGID</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d113057e2631 d113057e2557 ">
                                       <p>系统生成的消息标识。这是一个全局唯一标识符，可用于在出列时标识消息。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E262FFC1-2B21-425A-914C-B58238198455__GUID-8BDBAB1D-893F-4E77-848A-430FB641CE8B">使用说明</p>
                        <p><code class="codeph">enqueue_options</code>的<code class="codeph">sequence_deviation</code>参数可用于更改两个消息之间的处理顺序。另一条消息的标识（如果有）由<code class="codeph">enqueue_options</code>参数<code class="codeph">relative_msgid</code>指定。该关系由<code class="codeph">sequence_deviation</code>参数标识。
                        </p>
                        <p>为消息指定<code class="codeph">sequence_deviation</code>会对可以为此消息指定的延迟和优先级值引入一些限制。此消息的延迟必须小于或等于此消息入队之前的消息延迟。此消息的优先级必须大于或等于此消息入队之前的消息的优先级。
                        </p>
                        <div class="infoboxnote" id="GUID-E262FFC1-2B21-425A-914C-B58238198455__GUID-B8D1C354-3421-45A1-9CA4-3424057894AE">
                           <p class="notep1">注意：</p>
                           <p>如果<code class="codeph">DBMS_AQADM</code>子程序的<code class="codeph">message_grouping</code>参数设置为<code class="codeph">TRANSACTIONAL</code>则在Oracle Streams AQ 10g第1版（10.1）之前的版本中， <code class="codeph">sequence_deviation</code>属性不起作用。 Oracle Streams AQ 10g第2版（10.2）中不推荐使用序列偏差功能。
                           </p>
                        </div>
                        <p>如果消息排入没有收件人的多消息队列，并且队列没有订户（或与此消息匹配的基于规则的订户），则会引发Oracle错误<code class="codeph">ORA</code> _ <code class="codeph">24033</code> 。这是一条警告，该邮件将被丢弃，因为没有收件人或订阅者可以将邮件传递给谁。
                        </p>
                        <p>使用安全队列</p>
                        <p>对于安全队列，您必须在<code class="codeph">messages_properties</code>参数中指定<code class="codeph">sender_id</code> 。有关<code class="codeph">sender_id</code>更多信息，请参阅<a href="advanced-queuing-AQ-types.html#GUID-7232160F-22CF-4DF7-BAAF-96EDCC5CB452" title="此类型在DBMS_AQ包中定义，并描述AQ用于传达单个消息状态的信息。这些是在入队时设置的，它们的值在出队时返回。">MESSAGE_PROPERTIES_T类型</a> 。
                        </p>
                        <p>使用安全队列时，需要以下内容：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>您必须使用<code class="codeph">DBMS_AQADM.CREATE_AQ_AGENT</code>创建了有效的Oracle数据库高级队列代理。请参见<a href="DBMS_AQADM.html#GUID-4617A2F1-7114-40F3-AA14-CB6DA69160DD" title="此过程使用HTTP / SMTP协议注册Oracle Database Advanced Queuing Internet访问的代理。它还用于创建Oracle数据库高级队列代理以访问安全队列。">CREATE_AQ_AGENT过程</a> 。
                              </p>
                           </li>
                           <li>
                              <p>您必须将<code class="codeph">sender_id</code>映射到具有安全队列的入队权限的数据库用户。使用<code class="codeph">DBMS_AQADM.ENABLE_DB_ACCESS</code>执行此操作。请参见<a href="DBMS_AQADM.html#GUID-6E6070C7-B30E-4887-8EA0-1089CB8C2DD7" title="此过程授予Oracle数据库高级排队Internet代理特定数据库用户的特权。">ENABLE_DB_ACCESS过程</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65296"></a><a id="ARPLS65297"></a><a id="ARPLS65297"></a><a id="ARPLS65296"></a><div class="props_rev_3"><a id="GUID-A0E01434-EF7A-425D-BDC5-55262E98010B" name="GUID-A0E01434-EF7A-425D-BDC5-55262E98010B"></a><h4 id="ARPLS-GUID-A0E01434-EF7A-425D-BDC5-55262E98010B" class="sect4"><span class="enumeration_section">21.5.5</span> ENQUEUE_ARRAY函数</h4>
                  <div>
                     <p>此函数使用相应的消息属性数组对有效负载数组进行排队。输出将是排队消息的消息ID数组。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A0E01434-EF7A-425D-BDC5-55262E98010B__GUID-3A8B6787-5F4C-458A-929C-126622F09C75">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.ENQUEUE_ARRAY（queue_name IN VARCHAR2，enqueue_options IN enqueue_options_t，array_size IN pls_integer，message_properties_array IN message_properties_array_t，payload_array IN“&lt;COLLECTION_1&gt;”，msgid_array OUT msgid_array_t，error_array OUT error_array_t）RETURN pls_integer;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A0E01434-EF7A-425D-BDC5-55262E98010B__GUID-92E12401-E655-4ACA-AF6C-3EC8CEF4DA3A">参数</p>
                        <div class="tblformal" id="GUID-A0E01434-EF7A-425D-BDC5-55262E98010B__GUID-07693E18-8F81-4658-9B0E-57EA3A8B7930">
                           <p class="titleintable">表21-10 ENQUEUE_ARRAY函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ENQUEUE_ARRAY函数参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.ENQUEUE_ARRAY." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d113057e2850">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d113057e2853">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d113057e2858" headers="d113057e2850 ">
                                       <p><code class="codeph">queue_name</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d113057e2858 d113057e2853 ">
                                       <p>消息入队的队列名称（与单行入队相同）。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d113057e2867" headers="d113057e2850 ">
                                       <p><code class="codeph">enqueue_options</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d113057e2867 d113057e2853 ">
                                       <p>请参阅<a href="advanced-queuing-AQ-types.html#GUID-E6AFAEEA-3ADE-48B1-A636-A3F8C22DF995" title="ENQUEUE_OPTIONS_T类型指定可用于入队操作的选项。">ENQUEUE_OPTIONS_T类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d113057e2885" headers="d113057e2850 ">
                                       <p><code class="codeph">ARRAY_SIZE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d113057e2885 d113057e2853 ">
                                       <p>入队的元素数量。对于缓冲消息， <code class="codeph">array_size</code>应为<code class="codeph">1</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d113057e2900" headers="d113057e2850 ">
                                       <p><code class="codeph">message_properties_array</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d113057e2900 d113057e2853 ">
                                       <p>包含与每个消息属性对应的数组的记录。对于每个属性，用户必须分配<code class="codeph">array_size</code>元素。请参见<a href="advanced-queuing-AQ-types.html#GUID-A4EC0392-7589-463E-BB26-7C67B27A1C3E" title="dbms_aq.enqueue_array和dbms_aq.dequeue_array调用使用此类型来保存消息属性集。">MESSAGE_PROPERTIES_ARRAY_T类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d113057e2925" headers="d113057e2850 ">
                                       <p><code class="codeph">payload_array</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d113057e2925 d113057e2853 ">
                                       <p>有效载荷数据的数组。 “&lt; <code class="codeph">COLLECTION_1</code> &gt;”可以是PL / SQL表示中的关联数组， <code class="codeph">VARRAY</code>或嵌套表。用户可以将RAW和ADT有效负载排入队列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d113057e2940" headers="d113057e2850 ">
                                       <p><code class="codeph">msgid_array</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d113057e2940 d113057e2853 ">
                                       <p>排队消息的消息ID数组。如果特定消息发生错误，则其对应的消息ID为空。请参阅<a href="advanced-queuing-AQ-types.html#GUID-B11D312F-0EF5-4048-809B-630426E1E81A" title="msgid_array_t类型在dbms_aq.enqueue_array和dbms_aq.dequeue_array调用中用于保存与排队或出列消息对应的消息ID集。">MSGID_ARRAY_T类型</a> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d113057e2965" headers="d113057e2850 ">
                                       <p><code class="codeph">error_array</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d113057e2965 d113057e2853 ">
                                       <p>目前尚未实施</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A0E01434-EF7A-425D-BDC5-55262E98010B__GUID-13BE854A-A8B4-4E92-BF5D-9905A3EAF003">使用说明</p>
                        <p>缓冲消息不支持<code class="codeph">ENQUEUE_ARRAY</code> ，但您仍可以通过将<code class="codeph">array_size</code>设置为一条消息，对单个缓冲消息使用此过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS099"></a><a id="ARPLS65298"></a><a id="ARPLS65298"></a><a id="ARPLS099"></a><div class="props_rev_3"><a id="GUID-7DDDD2C4-931D-43D6-9828-A05C03744EDF" name="GUID-7DDDD2C4-931D-43D6-9828-A05C03744EDF"></a><h4 id="ARPLS-GUID-7DDDD2C4-931D-43D6-9828-A05C03744EDF" class="sect4"><span class="enumeration_section">21.5.6</span> LISTEN程序</h4>
                  <div>
                     <p>此过程代表代理列表侦听一个或多个队列。代理的地址字段指示代理想要监视的队列。仅支持本地队列作为地址。协议保留供将来使用。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7DDDD2C4-931D-43D6-9828-A05C03744EDF__GUID-B43AAC76-F08A-4668-A923-43EF162ED2A4">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.LISTEN（agent_list IN AQ $ _AGENT_LIST_T，等待IN BINARY_INTEGER DEFAULT DBMS_AQ.FOREVER，代理OUT SYS.AQ $ _AGENT）;</pre><pre class="oac_no_warn" dir="ltr">DBMS_AQ.LISTEN（agent_list IN AQ $ _AGENT_LIST_T，等待IN BINARY_INTEGER DEFAULT FOREVER，listen_delivery_mode IN PLS_INTEGER DEFAULT DBMS_AQ.PERSISTENT，agent OUT SYS.AQ $ _AGENT，message_delivery_mode OUT PLS_INTEGER）;</pre><pre class="oac_no_warn" dir="ltr">TYPE aq $ _agent_list_t是BINARY_INTEGER的aq $ _agent INDEXED的表; TYPE aq $ _agent_list_t是BINARY_INTEGER的aq $ _agent INDEXED的表;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7DDDD2C4-931D-43D6-9828-A05C03744EDF__GUID-DFEED9FC-72C4-443F-ACDD-30536C927062">参数</p>
                        <div class="tblformal" id="GUID-7DDDD2C4-931D-43D6-9828-A05C03744EDF__GUID-708AA719-3EFC-48B6-A138-B840DABB2275">
                           <p class="titleintable">表21-11 LISTEN过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LISTEN过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.LISTEN." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d113057e3093">参数</th>
                                    <th align="left" valign="bottom" width="64%" id="d113057e3096">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d113057e3101" headers="d113057e3093 ">
                                       <p><code class="codeph">agent_list</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d113057e3101 d113057e3096 ">
                                       <p>要监听的代理商列表</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d113057e3110" headers="d113057e3093 ">
                                       <p><code class="codeph">等待</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d113057e3110 d113057e3096 ">
                                       <p>在几秒钟内听取呼叫超时。默认情况下，呼叫将永久阻止。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d113057e3119" headers="d113057e3093 ">
                                       <p><code class="codeph">listen_delivery_mode</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d113057e3119 d113057e3096 ">
                                       <p>调用者指定它是对持久性，缓冲消息还是两种类型的消息感兴趣，指定<code class="codeph">DBMS_AQ.PERSISTENT</code>或<code class="codeph">DBMS_AQ.BUFFERED</code>或<code class="codeph">DBMS_AQ.PERSISTENT_OR_BUFFERED</code>的传递模式。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d113057e3136" headers="d113057e3093 ">
                                       <p><code class="codeph">代理人</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d113057e3136 d113057e3096 ">
                                       <p>具有可供消费的消息的代理</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d113057e3145" headers="d113057e3093 ">
                                       <p><code class="codeph">message_delivery_mode</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d113057e3145 d113057e3096 ">
                                       <p>返回消息类型以及有消息的队列和使用者</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7DDDD2C4-931D-43D6-9828-A05C03744EDF__GUID-0A456A89-95E5-4923-9050-18D39AC52EC5">使用说明</p>
                        <p>如果agent-address是多个用户队列，则agent-name是必需的。对于单用户队列，不得指定agent-name。</p>
                        <p>此过程将代理列表作为参数。您可以在列出的每个代理的地址字段中指定要监视的队列。监控多个用户队列时，还必须指定代理的名称。对于单用户队列，不得指定代理名称。仅支持本地队列作为地址。协议保留供将来使用。</p>
                        <p>这是一个阻塞调用，当有消息准备好为列表中的代理程序使用时返回。如果有多个代理的消息，则仅返回列出的第一个代理。如果在等待时间到期时没有找到消息，则会引发错误。</p>
                        <p>从<code class="codeph">LISTEN</code>呼叫成功返回仅表示在指定队列中有一个列出的代理的消息。感兴趣的代理人仍然必须将相关消息出列。
                        </p>
                        <div class="infoboxnote" id="GUID-7DDDD2C4-931D-43D6-9828-A05C03744EDF__GUID-8CDEFC42-1BDE-4175-896E-48CF45B46BA2">
                           <p class="notep1">注意：</p>
                           <p>您不能在非持久队列上调用<code class="codeph">LISTEN</code> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS102"></a><a id="ARPLS65299"></a><a id="ARPLS65299"></a><a id="ARPLS102"></a><div class="props_rev_3"><a id="GUID-96FE97B5-FE7D-49C9-B326-CCB6BC0E167F" name="GUID-96FE97B5-FE7D-49C9-B326-CCB6BC0E167F"></a><h4 id="ARPLS-GUID-96FE97B5-FE7D-49C9-B326-CCB6BC0E167F" class="sect4"><span class="enumeration_section">21.5.7</span> POST程序</h4>
                  <div>
                     <p>此过程发布到匿名订阅列表，该列表允许为订阅注册的所有客户端获取通知。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-96FE97B5-FE7D-49C9-B326-CCB6BC0E167F__GUID-34E7A619-92EA-4C3B-870B-FB5EA9D26006">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.POST（post_list IN SYS.AQ $ _POST_INFO_LIST，post_count IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-96FE97B5-FE7D-49C9-B326-CCB6BC0E167F__GUID-4F6F63B5-DD54-4972-8586-E321DC5EF9FC">参数</p>
                        <div class="tblformal" id="GUID-96FE97B5-FE7D-49C9-B326-CCB6BC0E167F__GUID-3860A456-BF0F-454F-B1C3-B06F11AAFA6B">
                           <p class="titleintable">表21-12 POST过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="POST过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.POST." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="16%" id="d113057e3279">参数</th>
                                    <th align="left" valign="bottom" width="84%" id="d113057e3282">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d113057e3287" headers="d113057e3279 ">
                                       <p><code class="codeph">post_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="84%" headers="d113057e3287 d113057e3282 ">
                                       <p>指定要发布的匿名订阅的列表。它是<a href="advanced-queuing-AQ-types.html#GUID-1452F130-DD69-4DA7-A36E-969D040FCE68" title="此类型标识要将消息发布到的匿名订阅的列表。">AQ $ _POST_INFO_LIST类型</a>的列表。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d113057e3302" headers="d113057e3279 ">
                                       <p><code class="codeph">POST_COUNT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="84%" headers="d113057e3302 d113057e3282 ">
                                       <p>指定<code class="codeph">post_list.</code>的条目数<code class="codeph">post_list.</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-96FE97B5-FE7D-49C9-B326-CCB6BC0E167F__GUID-2CA464D8-F367-44B8-805A-9343C07F98E5">使用说明</p>
                        <p>此过程用于发布匿名订阅，允许所有注册订阅的客户端收到通知。可以一次发布多个订阅。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS100"></a><a id="ARPLS65300"></a><a id="ARPLS65300"></a><a id="ARPLS100"></a><div class="props_rev_3"><a id="GUID-F4CCDD90-4CF6-449E-A454-AB71AF1C640D" name="GUID-F4CCDD90-4CF6-449E-A454-AB71AF1C640D"></a><h4 id="ARPLS-GUID-F4CCDD90-4CF6-449E-A454-AB71AF1C640D" class="sect4"><span class="enumeration_section">21.5.8</span>注册过程</h4>
                  <div>
                     <p>此过程注册电子邮件地址，用户定义的PL / SQL过程或HTTP URL以进行消息通知。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F4CCDD90-4CF6-449E-A454-AB71AF1C640D__GUID-5B096322-70AE-4F19-9E63-933C2AB62C2A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.REGISTER（reg_list IN SYS.AQ $ _REG_INFO_LIST，count IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F4CCDD90-4CF6-449E-A454-AB71AF1C640D__GUID-28BAA076-B44D-4022-921D-42A25EED27E2">参数</p>
                        <div class="tblformal" id="GUID-F4CCDD90-4CF6-449E-A454-AB71AF1C640D__GUID-13C8CD9F-71DE-429D-8C05-620A837B2EA2">
                           <p class="titleintable">表21-13寄存器过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="注册过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.REGISTER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="15%" id="d113057e3423">参数</th>
                                    <th align="left" valign="bottom" width="85%" id="d113057e3426">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d113057e3431" headers="d113057e3423 ">
                                       <p><code class="codeph">reg_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d113057e3431 d113057e3426 ">
                                       <p>指定要为其注册消息通知的预订列表。它是<a href="advanced-queuing-AQ-types.html#GUID-A6C99548-F100-48F9-9492-DEBF5E4C680B" title="此类型标识消息的生产者或消费者。">AQ $ _REG_INFO类型</a>的列表。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d113057e3446" headers="d113057e3423 ">
                                       <p><code class="codeph">计数</code></p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d113057e3446 d113057e3426 ">
                                       <p>指定<code class="codeph">reg_list</code>的条目数。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F4CCDD90-4CF6-449E-A454-AB71AF1C640D__GUID-735DB2C9-6F42-4D65-960C-55E50E9A6CF5">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>此过程用于注册通知。您可以指定要向其发送消息通知的电子邮件地址，注册要在通知上调用的过程，或者注册发布通知的HTTP URL。可以一次注册对多个订阅的兴趣。</p>
                           </li>
                           <li>
                              <p>该过程还可用于使用五个分组属性注册分组通知：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>类 - 分组标准（目前仅支持<code class="codeph">TIME</code>标准）</p>
                                 </li>
                                 <li>
                                    <p>值 - 分组标准的值（当前仅标准<code class="codeph">TIME</code>时间以秒为单位）</p>
                                 </li>
                                 <li>
                                    <p>类型 - 摘要或最后一个，还包含组中收到的通知计数（仅适用于AQ命名空间，不适用于<code class="codeph">DBCHANGE</code>命名空间）</p>
                                 </li>
                                 <li>
                                    <p>重复计数 - 执行分组的次数（默认为<code class="codeph">FOREVER</code> ）</p>
                                 </li>
                                 <li>
                                    <p>开始时间 - 何时开始分组（默认为当前时间）</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>如果注册电子邮件通知，则应设置数据库将用于发送电子邮件通知的SMTP服务器的主机名和端口名称。如果需要，您应设置send-from电子邮件地址，该地址由数据库设置为<code class="codeph">from</code>字段<code class="codeph">sent</code> 。您需要支持Java的数据库才能使用此功能。
                              </p>
                           </li>
                           <li>
                              <p>如果注册HTTP通知，则可能需要设置代理服务器的主机名和端口号以及数据库将用于发布HTTP通知的无代理域列表。</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-F4CCDD90-4CF6-449E-A454-AB71AF1C640D__GUID-2E7BA965-4354-4B32-8A36-8D798712A945">
                           <p class="notep1">也可以看看：</p>
                           <p>有关电子邮件和HTTP通知的详细信息，请<a href="DBMS_AQELM.html#GUID-D0B4A4FB-0AD3-4EE3-B683-4D51D50F7CCC" title="该软件包提供了子程序，用于通过电子邮件和HTTP管理Oracle Advanced Queuing（AQ）异步通知的配置。">参阅DBMS_AQELM</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS104"></a><a id="ARPLS65301"></a><a id="ARPLS65301"></a><a id="ARPLS104"></a><div class="props_rev_3"><a id="GUID-C0AFFE2E-D868-4BCE-A37C-B138DFD62CAF" name="GUID-C0AFFE2E-D868-4BCE-A37C-B138DFD62CAF"></a><h4 id="ARPLS-GUID-C0AFFE2E-D868-4BCE-A37C-B138DFD62CAF" class="sect4"><span class="enumeration_section">21.5.9</span> UNBIND_AGENT程序</h4>
                  <div>
                     <p>此过程从LDAP服务器中删除Oracle Database Advanced Queuing代理的条目。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-C0AFFE2E-D868-4BCE-A37C-B138DFD62CAF__GUID-737BFAC9-DBD3-4FE2-B1A6-93F2FCB10053">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.UNBIND_AGENT（代理IN SYS.AQ $ _AGENT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C0AFFE2E-D868-4BCE-A37C-B138DFD62CAF__GUID-CC33DB3D-9983-4C24-A919-44A5140587B8">参数</p>
                        <div class="tblformal" id="GUID-C0AFFE2E-D868-4BCE-A37C-B138DFD62CAF__GUID-57AE18B1-1216-48FD-82AD-98257C7ABAF4">
                           <p class="titleintable">表21-14 BIND_AGENT过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="BIND_AGENT过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.UNBIND_AGENT." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d113057e3621">参数</th>
                                    <th align="left" valign="bottom" width="81%" id="d113057e3624">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d113057e3629" headers="d113057e3621 ">
                                       <p><code class="codeph">代理人</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d113057e3629 d113057e3624 ">
                                       <p>要从LDAP服务器中删除的代理程序</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS101"></a><a id="ARPLS65302"></a><a id="ARPLS65302"></a><a id="ARPLS101"></a><div class="props_rev_3"><a id="GUID-1B79CB61-3329-44CA-AD73-7395DAAC6F14" name="GUID-1B79CB61-3329-44CA-AD73-7395DAAC6F14"></a><h4 id="ARPLS-GUID-1B79CB61-3329-44CA-AD73-7395DAAC6F14" class="sect4"><span class="enumeration_section">21.5.10</span> UNREGISTER程序</h4>
                  <div>
                     <p>此过程取消注册关闭通知的订阅。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1B79CB61-3329-44CA-AD73-7395DAAC6F14__GUID-253008CE-EC61-42D7-9D63-1A32A16A7008">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.UNREGISTER（reg_list IN SYS.AQ $ _REG_INFO_LIST，reg_count IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1B79CB61-3329-44CA-AD73-7395DAAC6F14__GUID-8D5A8352-D095-47C9-AC20-50CB185B6EAD">参数</p>
                        <div class="tblformal" id="GUID-1B79CB61-3329-44CA-AD73-7395DAAC6F14__GUID-C0462797-1EAE-47F4-BFB1-C19E9835FABA">
                           <p class="titleintable">表21-15 UNREGISTER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNREGISTER过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_AQ.UNREGISTER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="15%" id="d113057e3743">参数</th>
                                    <th align="left" valign="bottom" width="85%" id="d113057e3746">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d113057e3751" headers="d113057e3743 ">
                                       <p><code class="codeph">reg_list</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d113057e3751 d113057e3746 ">
                                       <p>指定要为其注册消息通知的预订列表。它是<a href="advanced-queuing-AQ-types.html#GUID-A6C99548-F100-48F9-9492-DEBF5E4C680B" title="此类型标识消息的生产者或消费者。">AQ $ _REG_INFO类型</a>的列表。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d113057e3767" headers="d113057e3743 ">
                                       <p><code class="codeph">REG_COUNT</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d113057e3767 d113057e3746 ">
                                       <p>指定<code class="codeph">reg_list</code>的条目数。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1B79CB61-3329-44CA-AD73-7395DAAC6F14__GUID-F3F6645C-35A3-4D9C-A5A3-27EDD8FDAE3A">使用说明</p>
                        <p>此过程用于取消注册关闭通知的订阅。可以同时取消注册多个订阅。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>