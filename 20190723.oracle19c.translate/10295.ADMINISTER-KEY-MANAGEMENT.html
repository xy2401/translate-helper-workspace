<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>管理员密钥管理</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQL Language Reference "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQL Language Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96310-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="How-the-SQL-Statement-Chapters-are-Organized.html" title="Previous" type="text/html"></link>
      <link rel="next" href="ALTER-ANALYTIC-VIEW.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference"></meta>
    <meta name="dcterms.isVersionOf" content="SQLRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="How-the-SQL-Statement-Chapters-are-Organized.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="ALTER-ANALYTIC-VIEW.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL语言参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-ADMINISTER-KEY-MANAGEMENT-to-ALTER-JAVA.html" property="item" typeof="WebPage"><span property="name">SQL语句：管理密钥管理到ALTER JAVA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理员密钥管理</li>
            </ol>
            <a id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9" name="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9"></a><a id="SQLRF55977"></a><a id="SQLRF55978"></a><a id="SQLRF55979"></a><a id="SQLRF55983"></a><a id="SQLRF56251"></a><a id="SQLRF55984"></a><a id="SQLRF55980"></a><a id="SQLRF55981"></a><a id="SQLRF55982"></a><a id="SQLRF55986"></a><a id="SQLRF56252"></a><a id="SQLRF55987"></a><a id="SQLRF55988"></a><a id="SQLRF55989"></a><a id="SQLRF55991"></a><a id="SQLRF55990"></a><a id="SQLRF56071"></a><a id="SQLRF56253"></a><a id="SQLRF55992"></a><a id="SQLRF55993"></a><a id="SQLRF55994"></a><a id="SQLRF56254"></a><a id="SQLRF56255"></a><a id="SQLRF56256"></a><a id="SQLRF56257"></a><a id="SQLRF56258"></a><a id="SQLRF56259"></a><a id="SQLRF56260"></a><a id="SQLRF56261"></a><a id="SQLRF56262"></a><a id="SQLRF56267"></a><a id="SQLRF56268"></a><a id="SQLRF56269"></a><a id="SQLRF56272"></a><a id="SQLRF56270"></a><a id="SQLRF56271"></a><a id="SQLRF56273"></a><a id="SQLRF56275"></a><a id="SQLRF56625"></a><a id="SQLRF56274"></a><a id="SQLRF56276"></a><a id="SQLRF56277"></a><a id="SQLRF56278"></a><a id="SQLRF56279"></a><a id="SQLRF56280"></a><a id="SQLRF56522"></a><a id="SQLRF56340"></a><a id="SQLRF56341"></a><a id="SQLRF56493"></a><a id="SQLRF56494"></a><a id="SQLRF56495"></a><a id="SQLRF56496"></a><a id="SQLRF56497"></a><a id="SQLRF56498"></a><a id="SQLRF56499"></a><a id="SQLRF56500"></a><a id="SQLRF56501"></a><a id="SQLRF56502"></a><a id="SQLRF56503"></a><a id="SQLRF56504"></a><a id="SQLRF56626"></a><a id="SQLRF56505"></a><a id="SQLRF56506"></a><a id="SQLRF56507"></a><a id="SQLRF55976"></a>
            
            <h2 id="SQLRF-GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9" class="sect2">管理员密钥管理</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-B5E6F278-EC9B-4DC5-B5E0-47B00945B36F">目的</p>
                  <p><code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code>语句为透明数据加密提供统一的密钥管理界面。使用此声明：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>管理软件和硬件密钥库</p>
                     </li>
                     <li>
                        <p>管理加密密钥</p>
                     </li>
                     <li>
                        <p>管理秘密</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-240DA612-1671-4378-A66D-154A981CDC9F">先决条件</p>
                  <p>您必须具有<code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code>或<code class="codeph">SYSKM</code>系统特权。
                  </p>
                  <p>要指定<code class="codeph">CONTAINER</code>子句，必须连接到多租户容器数据库（CDB）。要指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code> ，当前容器必须是root，并且您必须具有通常授予的<code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code>或<code class="codeph">SYSKM</code>权限。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-6CF17967-CAFC-47E7-8712-5BDFBFE27BA4">句法</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-56C8FC2B-3170-4C86-8881-C12F1EC0011B"><span class="italic">administration_key_management</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-153AE32B-309C-4F30-A706-664D18507604"><img src="img/administer_key_management.gif" alt="ADMIN_key_management.eps的描述如下" title="ADMIN_key_management.eps的描述如下" longdesc="img_text/administer_key_management.html"><br><a href="img_text/administer_key_management.html">admin_key_management.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJEEFB">keystore_management_clauses :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFECGG">key_management_clauses :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEJDAI">secret_management_clauses :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJEEFB">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-78098F38-585E-4EEB-A3B4-58A9F04D1219"><span class="italic">keystore_management_clauses</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-C48F50F7-BEAE-4DCD-9470-7994B53BDA6E"><img src="img/keystore_management_clauses.gif" alt="下面是keystore_management_clauses.eps的描述" title="下面是keystore_management_clauses.eps的描述" longdesc="img_text/keystore_management_clauses.html"><br><a href="img_text/keystore_management_clauses.html">keystore_management_clauses.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFAFFD">create_keystore :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEDBEJF">open_keystore :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEDHCEE">close_keystore :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJDBFF">backup_keystore :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFDIEE">alter_keystore_password :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEGJCGG">merge_into_new_keystore :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFFGDF">merge_into_existing_keystore :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFAFFD">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-959D5464-035C-4B37-8CF4-66EA17543430"><span class="italic">create_keystore</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-237FEC5C-365A-4EA6-B4BC-CAB276A92613"><img src="img/create_keystore.gif" alt="下面是create_keystore.eps的描述" title="下面是create_keystore.eps的描述" longdesc="img_text/create_keystore.html"><br><a href="img_text/create_keystore.html">说明create_keystore.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEDBEJF">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-65DD492B-F0E1-4714-BA38-C34599350B48"><span class="italic">open_keystore</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-F77A22EF-D732-47C9-8539-47F949D484C9"><img src="img/open_keystore.gif" alt="下面是open_keystore.eps的描述" title="下面是open_keystore.eps的描述" longdesc="img_text/open_keystore.html"><br><a href="img_text/open_keystore.html">open_keystore.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEDHCEE">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5C592801-3D26-425D-803F-DA3F7A9E3D28"><span class="italic">close_keystore</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-E4ABEB03-9472-4ECC-AC75-B69E8C7E34B8"><img src="img/close_keystore.gif" alt="close_keystore.eps的描述如下" title="close_keystore.eps的描述如下" longdesc="img_text/close_keystore.html"><br><a href="img_text/close_keystore.html">插图描述close_keystore.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJDBFF">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-950A0E57-307E-4BF5-9EDF-6F6EA36A7473"><span class="italic">backup_keystore</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-2BFE6D64-8679-41B3-BD27-284E751B3D3D"><img src="img/backup_keystore.gif" alt="backup_keystore.eps的描述如下" title="backup_keystore.eps的描述如下" longdesc="img_text/backup_keystore.html"><br><a href="img_text/backup_keystore.html">说明backup_keystore.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFDIEE">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-8CDA471F-4B5E-44A8-A20F-E6E88014B20F"><span class="italic">alter_keystore_password</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-9791208A-A4B2-416C-BD60-96A568DBE6A2"><img src="img/alter_keystore_password.gif" alt="下面是alter_keystore_password.eps的说明" title="下面是alter_keystore_password.eps的说明" longdesc="img_text/alter_keystore_password.html"><br><a href="img_text/alter_keystore_password.html">说明alter_keystore_password.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEGJCGG">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-96F61513-7E8D-4F46-BBB7-8B1E7BA45BE2"><span class="italic">merge_into_new_keystore</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-DC120BBD-AAD7-4694-872F-A89EE4923EC7"><img src="img/merge_into_new_keystore.gif" alt="merge_into_new_keystore.eps的描述如下" title="merge_into_new_keystore.eps的描述如下" longdesc="img_text/merge_into_new_keystore.html"><br><a href="img_text/merge_into_new_keystore.html">merge_into_new_keystore.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFFGDF">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-C0BF7400-1381-46F3-AA2D-221918DDDCBE"><span class="italic">merge_into_existing_keystore</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-06368538-79EE-4283-BD52-B28D65015EB4"><img src="img/merge_into_existing_keystore.gif" alt="merge_into_existing_keystore.eps的描述如下" title="merge_into_existing_keystore.eps的描述如下" longdesc="img_text/merge_into_existing_keystore.html"><br><a href="img_text/merge_into_existing_keystore.html">merge_into_existing_keystore.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-543FE332-9838-4F1D-A9BC-4EB8AB011161"><span class="italic">isolate_keystore</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-F037B44B-1450-4D44-902F-6FC1B8E6DC01"><img src="img/isolate_keystore.gif" alt="下面是isolate_keystore.eps的描述" title="下面是isolate_keystore.eps的描述" longdesc="img_text/isolate_keystore.html"><br><a href="img_text/isolate_keystore.html">插图说明isolate_keystore.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-03BB1F8F-DAC6-4A7F-8960-36982969CF6B"><span class="italic">unite_keystore</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-2F0FE261-F31C-47F1-9E54-051BF50563D9"><img src="img/unite_keystore.gif" alt="下面是unite_keystore.eps的描述" title="下面是unite_keystore.eps的描述" longdesc="img_text/unite_keystore.html"><br><a href="img_text/unite_keystore.html">说明unite_keystore.eps的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFECGG">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-9249C472-D4F7-4368-94F3-84EC55052857"><span class="italic">key_management_clauses</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-9CFBDAE5-D4CA-4BD8-875D-2D9D9AEDAA0A"><img src="img/key_management_clauses.gif" alt="key_management_clauses.eps的描述如下" title="key_management_clauses.eps的描述如下" longdesc="img_text/key_management_clauses.html"><br><a href="img_text/key_management_clauses.html">key_management_clauses.eps插图的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEHAIAI">set_key :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEHAIAI">create_key :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEGGEGI">use_key :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJHBCJ">set_key_tag :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEBBAC">export_keys :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGECAFFH">import_keys :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJBIFJ">migrate_key</a></span> <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEBHGHA">:: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEAGHG">reverse_migrate_key :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEHAIAI">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-13644FFD-38F4-43FB-A043-E7FFD35935DD"><span class="italic">set_key</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-38DA1A10-3ED1-4314-8111-D7E9FA377590"><img src="img/set_key.gif" alt="下面是set_key.eps的描述" title="下面是set_key.eps的描述" longdesc="img_text/set_key.html"><br><a href="img_text/set_key.html">插图描述set_key.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEGGEGI">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-96B7F9AE-432D-4DDC-9845-40BF6DAF78F9"><span class="italic">create_key</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5B421E25-BD50-461A-ABAA-81CBB8C55AF7"><img src="img/create_key.gif" alt="下面是create_key.eps的描述" title="下面是create_key.eps的描述" longdesc="img_text/create_key.html"><br><a href="img_text/create_key.html">说明create_key.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJHBCJ">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-656E033B-6D26-4E4B-A90D-0417B4FE3CAE"><span class="italic">use_key</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-011FE799-EF5A-4724-A5BE-C357AED57915"><img src="img/use_key.gif" alt="use_key.eps的描述如下" title="use_key.eps的描述如下" longdesc="img_text/use_key.html"><br><a href="img_text/use_key.html">说明use_key.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEBBAC">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-35AB658F-0A56-4012-972D-9A081DDD7202"><span class="italic">set_key_tag</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-51283FCF-615E-4DDC-B264-B6AAC7302A8C"><img src="img/set_key_tag.gif" alt="下面是set_key_tag.eps的描述" title="下面是set_key_tag.eps的描述" longdesc="img_text/set_key_tag.html"><br><a href="img_text/set_key_tag.html">插图描述set_key_tag.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGECAFFH">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5F8328C3-DB8B-49CC-9B53-6CA3EA741176"><span class="italic">export_keys</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-C13EE6AD-98E1-42ED-9EA5-CE708AD6BA87"><img src="img/export_keys.gif" alt="export_keys.eps的描述如下" title="export_keys.eps的描述如下" longdesc="img_text/export_keys.html"><br><a href="img_text/export_keys.html">说明export_keys.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJBIFJ">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-3D4B59EB-B502-4F8C-92A0-945178095E2B"><span class="italic">import_keys</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-37B83242-EF07-4D82-BFD7-ADB1070A6446"><img src="img/import_keys.gif" alt="随后是import_keys.eps的描述" title="随后是import_keys.eps的描述" longdesc="img_text/import_keys.html"><br><a href="img_text/import_keys.html">import_keys.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEBHGHA">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-DBB1EE5A-ECD8-4B8A-8B38-50F33186C432"><span class="italic">migrate_key</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-C1BA77A8-0A97-4667-8BF2-1F6D16BF8D93"><img src="img/migrate_key.gif" alt="随后说明migrate_key.eps" title="随后说明migrate_key.eps" longdesc="img_text/migrate_key.html"><br><a href="img_text/migrate_key.html">说明migrate_key.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEAGHG">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-4B8361FC-1199-4EE5-BDFB-E24EB58B3911"><span class="italic">reverse_migrate_key</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-F214D1D3-F8ED-4718-A933-7CA2547B276E"><img src="img/reverse_migrate_key.gif" alt="下面是reverse_migrate_key.eps的描述" title="下面是reverse_migrate_key.eps的描述" longdesc="img_text/reverse_migrate_key.html"><br><a href="img_text/reverse_migrate_key.html">说明reverse_migrate_key.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-EB7696E0-84AF-4B82-AF82-664830BC1BD2"><span class="italic">move_keys</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-517305B4-32B7-4722-9695-214311827438"><img src="img/move_keys.gif" alt="下面是move_keys.eps的描述" title="下面是move_keys.eps的描述" longdesc="img_text/move_keys.html"><br><a href="img_text/move_keys.html">说明move_keys.eps的说明</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEJDAI">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5EDED6A1-5D25-4DA8-B0EA-E952149A0F6E"><span class="italic">secret_management_clauses</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-B3627463-A82F-432A-8BE5-D7A68E8446BB"><img src="img/secret_management_clauses.gif" alt="secret_management_clauses.eps的描述如下" title="secret_management_clauses.eps的描述如下" longdesc="img_text/secret_management_clauses.html"><br><a href="img_text/secret_management_clauses.html">插图描述secret_management_clauses.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEBDBJI">add_update_secret :: =</a></span> ， <span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEBIEH">delete_secret :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEBDBJI">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-D28BB8DA-2A62-44E5-ABD0-8BCCDADC4343"><span class="italic">add_update_secret</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-3B971662-D93F-4F10-A1CE-8D70A50495F2"><img src="img/add_update_secret.gif" alt="add_update_secret.eps的描述如下" title="add_update_secret.eps的描述如下" longdesc="img_text/add_update_secret.html"><br><a href="img_text/add_update_secret.html">插图说明add_update_secret.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEBIEH">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-7F785DB9-6A78-450A-A68E-08CD2AFC19D1"><span class="italic">delete_secret</span> :: =</p>
                  <div class="figure" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-8BB58324-F0E9-4F22-BF14-DC8582FF8F84"><img src="img/delete_secret.gif" alt="随后是delete_secret.eps的描述" title="随后是delete_secret.eps的描述" longdesc="img_text/delete_secret.html"><br><a href="img_text/delete_secret.html">插图说明delete_secret.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-0F4FF106-6E12-4C3D-9F87-781E580F667B">语义</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-62DF4331-1F17-4D20-B782-3EA9EE705D8C"><span class="italic">keystore_management_clauses</span></p>
                  <p>使用这些子句执行以下密钥库管理操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>创建一个软件密钥库</p>
                     </li>
                     <li>
                        <p>打开和关闭软件密钥库或硬件密钥库</p>
                     </li>
                     <li>
                        <p>备份受密码保护的软件密钥库</p>
                     </li>
                     <li>
                        <p>更改受密码保护的软件密钥库的密码</p>
                     </li>
                     <li>
                        <p>将两个现有软件密钥库合并到一个新的受密码保护的软件密钥库中</p>
                     </li>
                     <li>
                        <p>将一个现有软件密钥库合并到现有的受密码保护的软件密钥库中</p>
                     </li>
                     <li>
                        <p>从容器数据库（CDB）中隔离可插拔数据库（PDB）的密钥库，以便PDB可以管理自己的密钥库。</p>
                     </li>
                     <li>
                        <p>将PDB的密钥库与CDB联合起来。</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-60C0E624-8B52-4528-857B-0DC159F1D528"><span class="italic">create_keystore</span></p>
                  <p>此子句允许您创建以下类型的软件密钥库：受密码保护的软件密钥库和自动登录软件密钥库。要在多租户环境中发出此子句，您必须连接到根。</p>
                  <p><span class="bold">创建KEYSTORE</span></p>
                  <p>指定此子句以创建受密码保护的软件密钥库。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">keystore_location</code></span> ，请指定软件密钥库目录的完整路径名。密钥库将在此目录中的名为<code class="codeph">ewallet.p12</code>的文件中创建。如果已设置<code class="codeph">WALLET_ROOT</code>参数，则此子句是可选的。请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10276" target="_blank"><span class="italic">Oracle数据库高级安全指南”</span></a>以了解如何确定系统的软件密钥库目录。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句设置密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">创建[LOCAL] AUTO_LOGIN KEYSTORE</span></p>
                  <p>指定此子句以创建自动登录软件密钥库。从现有受密码保护的软件密钥库创建自动登录软件密钥库。自动登录密钥库具有系统生成的密码。它存储在名为<code class="codeph">cwallet.sso</code>的基于PKCS＃12的文件中，与受密码保护的软件密钥库位于同一目录中。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>默认情况下，Oracle会创建一个自动登录密钥库，可以从密钥库所在的计算机以外的计算机打开。如果指定<code class="codeph">LOCAL</code>关键字，则Oracle数据库会创建本地自动登录密钥库，该密钥库只能从密钥库所在的计算机上打开。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">keystore_location</code></span> ，请指定现有受密码保护的软件密钥库所在的目录的完整路径名。受密码保护的软件密钥库可以打开或关闭。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定现有受密码保护的软件密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">创建密钥库的限制</span></p>
                  <p>您可以在任何单个目录中创建最多一个受密码保护的软件密钥库和一个本地或非本地自动登录软件密钥库。</p>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-23BB4783-6DA1-4260-9D49-F574949C2338">
                     <p class="notep1">也可以看看：</p>
                     <p>有关创建软件密钥库的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10282" target="_blank"><span class="italic">“Oracle数据库高级安全性指南</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__OPEN_KEYSTORE-2C9ED408">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-F6137BE3-A9FC-42A0-97D2-CF1300F0004A"><span class="italic">open_keystore</span></p>
                  <p>此子句允许您打开受密码保护的软件密钥库或硬件密钥库。</p>
                  <div class="infoboxnote" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-69716C18-E518-494E-BFB4-03DA5616E1C5">
                     <p class="notep1">注意：</p>
                     <p>您无需使用此子句打开自动登录和本地自动登录软件密钥库，因为它们在需要时自动打开 - 即访问主加密密钥时。</p>
                  </div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在PDB中打开密钥库时， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句很有用。它确保在打开PDB密钥库之前打开CDB根密钥库。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>当您连接到CDB时， <code class="codeph">CONTAINER</code>子句适用。</p>
                        <p>如果当前容器是可插拔数据库（PDB），则指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以在PDB中打开密钥库。在PDB中打开密钥库之前，密钥库必须在根目录中打开。</p>
                        <p>如果当前容器是根，则指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以在根中打开密钥库，或指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>以在根和所有PDB中打开密钥库。
                        </p>
                        <p>如果省略此子句，则默认为<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-0B76CA9F-CA45-4C2C-B604-08F4D1DAFF3C">
                     <p class="notep1">也可以看看：</p>
                     <p>有关打开<a href="../asoag/configuring-transparent-data-encryption.html#ASOAG10285" target="_blank">基于密码的软件密钥库</a>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10296" target="_blank">硬件密钥库的</a>详细信息，请参见<span class="italic">“Oracle数据库高级安全指南”</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-E52DC06A-64FC-4B40-B7E7-F10337933389"><span class="italic">close_keystore</span></p>
                  <p>此子句允许您关闭受密码保护的软件密钥库，自动登录软件密钥库或硬件密钥库。关闭密钥库会禁用所有加密和解密操作。任何加密或解密数据或访问加密数据的尝试都会导致错误。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>要关闭受密码保护的软件密钥库或硬件密钥库，请指定<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>要关闭自动登录密钥库，请不要指定<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句。在关闭自动登录密钥库之前，请检查<code class="codeph">V$ENCRYPTION_WALLET</code>视图的<code class="codeph">WALLET_TYPE</code>列。如果它返回<code class="codeph">AUTOLOGIN</code> ，那么您可以关闭密钥库。否则，如果您尝试关闭密钥库，则会发生错误。
                        </p>
                     </li>
                     <li>
                        <p>当您连接到CDB时， <code class="codeph">CONTAINER</code>子句适用。</p>
                        <p>如果当前容器是PDB，则指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以关闭PDB中的密钥库。</p>
                        <p>如果当前容器是根，则<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>和<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>子句具有相同的效果;这两个子句关闭根目录和所有PDB中的密钥库。
                        </p>
                        <p>如果省略此子句，则默认为<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-0EE29E4A-1B40-46B5-8F7E-A7841747FF86">
                     <p class="notep1">也可以看看：</p>
                     <p>有关关闭密钥库的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10321" target="_blank"><span class="italic">“Oracle数据库高级安全性指南</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-CA07D2EF-8E8F-431C-B711-0E74267EC616"><span class="italic">backup_keystore</span></p>
                  <p>此子句允许您备份受密码保护的软件密钥库。密钥库必须是开放的。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>默认情况下，Oracle数据库创建一个具有形式的名称备份文件<code class="codeph">ewallet_</code> <span class="italic"><code class="codeph">timestamp</code></span> <code class="codeph">.p12</code> ，其中<span class="italic"><code class="codeph">timestamp</code></span>是UTC格式的文件创建时间戳记。可选<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>子句允许指定将添加到备份文件名的备份标识符。例如，如果您指定的备份标识<code class="codeph">'Backup1'</code> ，那么Oracle数据库中创建与形式的名称备份文件<code class="codeph">ewallet_</code> <span class="italic"><code class="codeph">timestamp</code></span> <code class="codeph">_Backup1.p12</code> 。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>可选的<code class="codeph">TO</code> ' <span class="italic"><code class="codeph">keystore_location</code></span>子句允许指定在其中创建备份文件的目录。如果省略此子句，则会在与要备份的密钥库相同的目录中创建备份。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-9E919638-F7BC-40AB-89B8-C33999F02AAA">
                     <p class="notep1">也可以看看：</p>
                     <p>有关备份基于密码的软件密钥库的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10313" target="_blank"><span class="italic">“Oracle数据库高级安全指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-C340E639-AF3A-40DA-8B4D-1D52E93547FC"><span class="italic">alter_keystore_password</span></p>
                  <p>此子句允许您更改受密码保护的软件密钥库的密码。密钥库必须是开放的。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">old_keystore_password</code></span> ，请指定密钥库的旧密码。对于<span class="italic"><code class="codeph">new_keystore_password</code></span> ，请指定密钥库的新密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>可选的<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>子句指示数据库在更改密码之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5D6F1521-42E5-4596-874F-82BC62D5DB91">
                     <p class="notep1">也可以看看：</p>
                     <p>有关更改基于密码的软件密钥库密码的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10312" target="_blank"><span class="italic">“Oracle数据库高级安全指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-8FE7159A-6CE0-4DC7-B0CE-08C31BE6900D"><span class="italic">merge_into_new_keystore</span></p>
                  <p>此子句允许您将两个软件密钥库合并到一个新的密钥库中。两个组成密钥库中的密钥和属性将添加到新密钥库中。组成密钥库可以是基于密码的或自动登录（包括本地自动登录）软件密钥库;它们可以是开放的或封闭的。新密钥库是受密码保护的软件密钥库。合并完成后，它处于关闭状态。此子句中指定的任何密钥库或者没有密钥库都可以是配置为供数据库使用的密钥库。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">keystore1_location</code></span> ，请指定第一个密钥库所在目录的完整路径名。
                        </p>
                     </li>
                     <li>
                        <p>仅当第一个密钥库是基于密码的软件密钥<span class="italic"><code class="codeph">keystore1_password</code></span>才指定<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> keystore1_password。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">keystore2_location</code></span> ，请指定第二个密钥库所在目录的完整路径名。
                        </p>
                     </li>
                     <li>
                        <p>仅当第二个密钥库是基于密码的软件密钥<span class="italic"><code class="codeph">keystore2_password</code></span>才指定<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> keystore2_password。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">keystore3_location</code></span> ，请指定创建新密钥库的目录的完整路径名。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">keystore3_password</code></span> ，请指定新密钥库的密码。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-23E7D3D8-C402-495D-8CDA-1E3EE95283BC">
                     <p class="notep1">也可以看看：</p>
                     <p>有关合并软件密钥库的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10314" target="_blank"><span class="italic">“Oracle数据库高级安全指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-779C6BE2-46D6-4668-8A08-81899C7E5D6D"><span class="italic">merge_into_existing_keystore</span></p>
                  <p>此子句允许您将软件密钥库合并到另一个现有软件密钥库中。您合并的密钥库中的键和属性将添加到您合并到的密钥库中。您合并的密钥库可以是受密码保护或自动登录（包括本地自动登录）软件密钥库;它可以是开放的或封闭的。您合并到的密钥库必须是基于密码的软件密钥库。合并开始时可以打开或关闭它。但是，当合并完成时，它将处于关闭状态。此子句中指定的密钥库中的任何一个或两个都不是配置为供数据库使用的密钥库。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">keystore1_location</code></span> ，请指定合并所在的密钥库所在目录的完整路径名。
                        </p>
                     </li>
                     <li>
                        <p>仅当您合并的密钥库是基于密码的软件密钥<span class="italic"><code class="codeph">keystore1_password</code></span>才指定<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> keystore1_password。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">keystore2_location</code></span> ，请指定合并到的密钥库所在目录的完整路径名。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">keystore2_password</code></span> ，请指定要合并到的密钥库的密码。
                        </p>
                     </li>
                     <li>
                        <p>可选的<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>子句指示数据库在执行合并之前创建合并到的密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-9B64296B-0EE6-4002-8BE0-7DE9C85A83CD">
                     <p class="notep1">也可以看看：</p>
                     <p>有关合并软件密钥库的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10314" target="_blank"><span class="italic">“Oracle数据库高级安全指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-FFADADBE-1518-4CEA-83FC-704B6449A90B"><span class="italic">isolate_keystore</span></p>
                  <p>容器数据库（CDB）中的可插拔数据库（PDB）可以创建和管理自己的密钥库。<code class="codeph">isolate_keystore</code>子句允许租户：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>独立于CDB管理其透明数据加密密钥。</p>
                     </li>
                     <li>
                        <p>为其独立密钥库创建密码。</p>
                     </li>
                  </ul>
                  <p>在CDB环境中，您可以选择如何保护给定PDB的密钥。PDB可以使用独立密码保护其密钥，也可以使用CDB的统一密码。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定密钥库的密码。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">isolated_keystore_password</code></span>是指PDB密钥库的独立密码。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">united_keystore_password</code></span>指的是CDB密钥库的密码。
                        </p>
                     </li>
                     <li>
                        <p>可选的<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>子句指示数据库在更改密码之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-B342EFFC-CF55-48F5-942A-328654C2B1F8">与<span class="italic">isolate_keystore的</span> FORCE子句 
                  </p>
                  <p>当PDB的克隆使用被隔离的主密钥时，使用<code class="codeph">ADMINISTER KEY MANAGEMENT FORCE ISOLATE KEYSTORE</code>命令的<code class="codeph">FORCE</code>子句。此命令将密钥从CDB密钥库复制到隔离的PDB密钥库中。例如：</p><pre class="pre codeblock"><code>管理员密钥管理强制隔离密钥由&lt;isolated_keystore_password&gt;从ROOT KEYSTORE [FORCE KEYSTORE]识别[外部商店| &lt;united_keystore_password&gt;] [WITH BACKUP [使用&lt;backup_identifier&gt;]</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-A1ACF10F-C064-4947-97FD-9BC59A66F773"><span class="italic">unite_keystore</span></p>
                  <p><code class="codeph">unite_keystore</code>子句允许独立管理其密钥库的PDB将其密钥库管理模式更改为联合。在联合模式下， <code class="codeph">CDB$ROOT</code>密钥库密码用于管理CDB中的PDB。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定密钥库的密码。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">isolated_keystore_password</code></span>是指PDB密钥库的独立密码。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">united_keystore_password</code></span>指的是CDB密钥库的密码。
                        </p>
                     </li>
                     <li>
                        <p>可选的<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>子句指示数据库在更改密码之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
                  <p>例如：</p><pre class="pre codeblock"><code>管理员密钥管理UNITE KEYSTORE由&lt;isolated_keystore_password&gt;识别，具有ROOT KEYSTORE [FORCE KEYSTORE]由[EXTERNAL STORE | &lt;united_keystore_password&gt;] [WITH BACKUP [使用&lt;backup_identifier&gt;]</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-80A7C71F-5E93-4DA4-96C6-492D592EBEA4"><span class="italic">key_management_clauses</span></p>
                  <p>使用这些子句执行以下密钥管理操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>创建并激活主加密密钥</p>
                     </li>
                     <li>
                        <p>设置加密密钥的标记</p>
                     </li>
                     <li>
                        <p>将加密密钥从密钥库导出到文件中</p>
                     </li>
                     <li>
                        <p>将加密密钥从文件导入密钥库</p>
                     </li>
                     <li>
                        <p>从受密码保护的软件密钥库迁移到硬件密钥库</p>
                     </li>
                     <li>
                        <p>从硬件密钥库迁移到受密码保护的软件密钥库</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__SET_KEY-52AF4A21">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-E4E28A09-7746-4C5D-81CC-7267491C98FE"><span class="italic">set_key</span></p>
                  <p>该子句创建一个新的主加密密钥并激活它。您可以使用此子句在密钥库中创建第一个主加密密钥，或者旋转（更改）主加密密钥。如果在使用此子句时主加密密钥处于活动状态，则在激活新的主加密密钥之前将其取消激活。包含密钥的密钥库可以是受密码保护的软件密钥库或硬件密钥库。密钥库必须是开放的。</p>
                  <p>为TDE主密钥ID（ <code class="codeph">MKID</code> ）指定所需的值，并为TDE主加密密钥（ <code class="codeph">MK</code> ）指定所需的值，以创建自己的TDE主加密密钥。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在TDE加密数据库中，TDE主密钥ID（ <code class="codeph">MKID</code> ）用于跟踪正在使用的TDE主加密密钥。<code class="codeph">MKID:MK</code>选项允许指定<code class="codeph">MKID</code>和<code class="codeph">MK</code> 。
                        </p>
                     </li>
                     <li>
                        <p>如果仅指定了<code class="codeph">MK</code> ，则数据库会为您生成<code class="codeph">MKID</code> ，以便您可以跟踪具有您指定的<code class="codeph">MK</code>值的TDE主加密密钥。
                        </p>
                     </li>
                     <li>
                        <p>如果<code class="codeph">MKID</code>无效，例如，如果长度错误，或者它是一串零，您将看到以下错误： <code class="codeph">ORA-46685: invalid master key identifier or master key value.</code></p>
                     </li>
                     <li>
                        <p>如果<code class="codeph">MKID</code>您指定的是一样的<code class="codeph">MKID</code>密钥库中现有的TDE主加密密钥，你会看到以下错误： <code class="codeph">ORA-46684: master key identifier exists in the keystore.</code></p>
                     </li>
                     <li>
                        <p>如果<code class="codeph">MKID</code>或<code class="codeph">MK</code>无效，您将看到以下错误： <code class="codeph">ORA-46685: invalid master key identifier or master key value.</code></p>
                     </li>
                     <li>
                        <p>您可以为<code class="codeph">set_key</code>子句和<code class="codeph">create_key</code>子句指定<code class="codeph">MKID:MK</code>选项。
                        </p>
                     </li>
                  </ul>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ENCRYPTION</code>关键字是可选的，用于语义清晰度。
                        </p>
                     </li>
                     <li>
                        <p>指定可选的<code class="codeph">USING</code> <code class="codeph">TAG</code>子句以将标记关联到新的主加密密钥。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJGHAE">使用TAG条款的注意事项</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">USING</code> <code class="codeph">ALGORITHM</code>子句，则数据库将创建符合指定加密算法的主加密密钥。对于<span class="italic"><code class="codeph">encrypt_algorithm</code></span> ，您可以指定<code class="codeph">AES256</code> ， <code class="codeph">ARIA256</code> ， <code class="codeph">GOST256</code>或<code class="codeph">SEED128</code> 。要指定此子句， <code class="codeph">COMPATIBLE</code>初始化参数必须设置为<code class="codeph">12</code> 。 <code class="codeph">2</code>或更高。如果省略此子句，则默认为<code class="codeph">AES256</code> 。
                        </p>
                        <p>ARIA，SEED和GOST算法是针对加密和散列的国家特定国家和政府标准。有关更多信息，请参见<a href="../dbseg/configuring-network-data-encryption-and-integrity.html#DBSEG1047" target="_blank"><span class="italic">Oracle数据库安全指南</span></a>
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>条款，以及可选的<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>条款，将创建新的主密钥之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>当您连接到CDB时， <code class="codeph">CONTAINER</code>子句适用。</p>
                        <p>如果当前容器是PDB，则指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以在PDB中创建并激活新的主加密密钥。在PDB中创建主加密密钥之前，必须在根中存在主加密密钥。</p>
                        <p>如果当前容器是根，则指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以在根中创建并激活新的主加密密钥，或指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>以在根和所有PDB中创建和激活新的主加密密钥。
                        </p>
                        <p>如果省略此子句，则默认为<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-A37AFA12-6D9D-452D-B42F-8B8A47B536FC">
                     <p class="notep1">也可以看看：</p>
                     <p>有关创建和激活主加密密钥的详细信息，请参见<a href="../asoag/managing-keystore-and-tde-master-encryption-key.html#ASOAG9527" target="_blank"><span class="italic">“Oracle数据库高级安全指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__CREATE_KEY-52AF5596">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5462340C-2F5D-401F-B0E2-2116B9DE5583"><span class="italic">create_key</span></p>
                  <p>有关指定<code class="codeph">MKID:MK</code>选项的详细信息，请参阅<code class="codeph">set_key</code>子句的语义。
                  </p>
                  <p>此子句允许您创建主加密密钥供以后使用。随后可以使用<span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEIBAF">use_key</a></span>子句激活密钥。包含密钥的密钥库可以是受密码保护的软件密钥库或硬件密钥库。密钥库必须是开放的。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ENCRYPTION</code>关键字是可选的，用于语义清晰度。
                        </p>
                     </li>
                     <li>
                        <p>指定可选的<code class="codeph">USING</code> <code class="codeph">TAG</code>子句以将标记与加密密钥相关联。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJGHAE">使用TAG条款的注意事项</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">USING</code> <code class="codeph">ALGORITHM</code>子句，则数据库将创建符合指定加密算法的主加密密钥。对于<span class="italic"><code class="codeph">encrypt_algorithm</code></span> ，您可以指定<code class="codeph">AES256</code> ， <code class="codeph">ARIA256</code> ， <code class="codeph">GOST256</code>或<code class="codeph">SEED128</code> 。要指定此子句， <code class="codeph">COMPATIBLE</code>初始化参数必须设置为<code class="codeph">12</code> 。 <code class="codeph">2</code>或更高。如果省略此子句，则默认为<code class="codeph">AES256</code> 。
                        </p>
                        <p>ARIA，SEED和GOST算法是针对加密和散列的国家特定国家和政府标准。有关更多信息，请参见<a href="../dbseg/configuring-network-data-encryption-and-integrity.html#DBSEG1047" target="_blank"><span class="italic">Oracle数据库安全指南</span></a>
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定将在其中创建密钥的密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>条款，以及可选的<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>条款，是创建密钥之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>当您连接到CDB时， <code class="codeph">CONTAINER</code>子句适用。</p>
                        <p>如果当前容器是PDB，则指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以在PDB中创建主加密密钥。在PDB中创建主加密密钥之前，必须在根中存在主加密密钥</p>
                        <p>如果当前容器是根，则指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code>以在根中创建主加密密钥，或指定<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">ALL</code>以在根和所有PDB中创建主加密密钥。
                        </p>
                        <p>如果省略此子句，则默认为<code class="codeph">CONTAINER</code> <code class="codeph">=</code> <code class="codeph">CURRENT</code> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-91BBB94B-412F-4765-8E1D-AEDB3E2580BB">
                     <p class="notep1">也可以看看：</p>
                     <p>有关创建主加密密钥供以后使用的详细信息，请参见<a href="../asoag/managing-keystore-and-tde-master-encryption-key.html#ASOAG10414" target="_blank"><span class="italic">“Oracle数据库高级安全指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEIBAF">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5A652755-8D2C-4460-B822-DE28A7F8F00B"><span class="italic">use_key</span></p>
                  <p>此子句允许您激活已创建的主加密密钥。如果在使用此子句时主加密密钥处于活动状态，则在激活新的主加密密钥之前将其取消激活。包含密钥的密钥库可以是基于密码的软件密钥库或硬件密钥库。密钥库必须是开放的</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ENCRYPTION</code>关键字是可选的，用于语义清晰度。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">key_id</code></span> ，请指定要激活的密钥的标识符。您可以通过查询<code class="codeph">V$ENCRYPTION_KEYS</code>视图的<code class="codeph">KEY_ID</code>列来查找密钥标识符。
                        </p>
                     </li>
                     <li>
                        <p>指定可选的<code class="codeph">USING</code> <code class="codeph">TAG</code>子句以将标记与加密密钥相关联。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJGHAE">使用TAG条款的注意事项</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定包含密钥的密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>条款，以及可选的<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>条款，以创建密钥库的备份密钥激活之前。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-110CD1D5-B916-4704-88A2-CAF882AB47A8">
                     <p class="notep1">也可以看看：</p>
                     <p>有关激活主加密密钥的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10419" target="_blank"><span class="italic">“Oracle数据库高级安全性指南</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-BD8CC4A3-9274-4F26-817B-A4D876E457EE"><span class="italic">set_key_tag</span></p>
                  <p>此子句允许您为指定的加密密钥设置标记。标记是密钥的可选的，用户定义的描述符。如果密钥没有标记，则使用此子句创建标记。如果密钥已有标记，则使用此子句替换标记。您可以通过查询<code class="codeph">V$ENCRYPTION_KEYS</code>视图的<code class="codeph">TAG</code>列来查看加密密钥标记。密钥库必须是开放的。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">tag</code></span> ，请指定字母数字字符串。将<span class="italic"><code class="codeph">tag</code></span>括在单引号中。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">key_id</code></span> ，请指定加密密钥的标识符。您可以通过查询<code class="codeph">V$ENCRYPTION_KEYS</code>视图的<code class="codeph">KEY_ID</code>列来查找密钥标识符。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定包含密钥的密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>条款，以及可选的<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>条款，你设置的键标记之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-6103784E-27E1-4EE7-B2DD-276F7F45577E">
                     <p class="notep1">也可以看看：</p>
                     <p>有关设置密钥标记的详细信息，请<a href="../asoag/managing-keystore-and-tde-master-encryption-key.html#ASOAG10335" target="_blank"><span class="italic">参见“Oracle数据库高级安全指南</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEACDI">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-894F9B0E-AEB2-43F8-9223-17BDCDB4FD45"><span class="italic">export_keys</span></p>
                  <p>使用此子句将一个或多个加密密钥从受密码保护的软件密钥库导出到文件中。密钥库必须是开放的。每个加密密钥与其密钥标识符和密钥属性一起导出。导出的密钥在文件中受密码（密码）保护。随后，您可以使用<span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFGECA">import_keys</a></span>子句将一个或多个密钥导入受密码保护的软件密钥库中。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ENCRYPTION</code>关键字是可选的，用于语义清晰度。
                        </p>
                     </li>
                     <li>
                        <p>指定<span class="italic"><code class="codeph">secret</code></span>以设置保护文件中密钥的密码（secret）。秘密是一个字母数字字符串。您可以选择将密钥括在双引号中。引用和非引用的秘密区分大小写。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">filename</code></span> ，请指定要将键导出到的文件的完整路径名。用单引号括起<span class="italic"><code class="codeph">filename</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定包含要导出的键的密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">WITH</code> <code class="codeph">IDENTIFIER</code> <code class="codeph">IN</code>子句指定要使用以下方法之一导出的一个或多个加密密钥：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<span class="italic"><code class="codeph">key_id</code></span>指定要导出的加密密钥的标识符。您可以在逗号分隔列表中指定多个<span class="italic"><code class="codeph">key_id</code></span> 。您可以通过查询<code class="codeph">V$ENCRYPTION_KEYS</code>视图的<code class="codeph">KEY_ID</code>列来查找键标识符。
                              </p>
                           </li>
                           <li>
                              <p>使用<span class="italic"><code class="codeph">subquery</code></span>指定一个查询，该查询返回您要导出的加密密钥的密钥标识符列表。例如，以下<span class="italic"><code class="codeph">subquery</code></span>返回数据库中所有加密密钥的密钥标识符，其标记以字符串<code class="codeph">mytag</code> ：</p><pre class="oac_no_warn" dir="ltr">SELECT KEY_ID FROM V $ ENCRYPTION_KEYS WHAG TAG LIKE'mytag％'</pre><p>请注意，Oracle数据库在当前用户的权限内执行<span class="italic"><code class="codeph">subquery</code></span> ，而不是使用定义者的权限。
                              </p>
                           </li>
                           <li>
                              <p>如果省略<code class="codeph">WITH</code> <code class="codeph">IDENTIFIER</code> <code class="codeph">IN</code>子句，则导出数据库中的所有加密密钥。
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">WITH IDENTIFIER IN子句的限制</span></p>
                  <p>在多租户环境中，从PDB导出密钥时，不能指定<code class="codeph">WITH</code> <code class="codeph">IDENTIFIER</code> <code class="codeph">IN</code> 。这可确保导出PDB中的所有密钥以及有关活动加密密钥的元数据。如果随后克隆PDB，或拔下并插入PDB，则可以使用导出文件将密钥导入克隆或新插入的PDB，并保留有关活动加密密钥的信息。
                  </p>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-8AFC9E63-12BD-421E-8107-8ECF971E73C8">
                     <p class="notep1">也可以看看：</p>
                     <p>有关导出加密密钥的详细信息，请参见<a href="../asoag/managing-keystore-and-tde-master-encryption-key.html#ASOAG10424" target="_blank"><span class="italic">Oracle数据库高级安全性</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEFGECA">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-CA5C5D63-0C4C-4A34-A5F5-F82171E7A685"><span class="italic">import_keys</span></p>
                  <p>使用此子句可将一个或多个加密密钥从文件导入基于密码的软件密钥库。密钥库必须是开放的。每个加密密钥与其密钥标识符和密钥属性一起导入。必须先使用<span class="italic"><a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEACDI">export_keys</a></span>子句将密钥导出到文件中。您无法重新导入已导入密钥库的密钥。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ENCRYPTION</code>关键字是可选的，用于语义清晰度。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">secret</code></span> ，请指定保护文件中密钥的密码（secret）。秘密是一个字母数字字符串。您可以选择将密钥括在双引号中。引用和非引用的秘密区分大小写。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">filename</code></span> ，请指定要从中导入密钥的文件的完整路径名。用单引号括起<span class="italic"><code class="codeph">filename</code></span> 。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定要将密钥导入其中的密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>条款，以及可选的<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>条款，都是进口的钥匙之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5F2AB37D-F9EA-464C-B608-0E57769F520C">
                     <p class="notep1">也可以看看：</p>
                     <p>有关导入加密密钥的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ASOAG10427" target="_blank"><span class="italic">Oracle数据库高级安全性</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-0499C829-F8B1-466C-B213-4BCFC90FF580"><span class="italic">migrate_key</span></p>
                  <p>使用此子句从受密码保护的软件密钥库迁移到硬件密钥库。此子句使用软件密钥库中的主加密密钥解密现有的表加密密钥和表空间加密密钥，然后使用硬件密钥库中新创建的主加密密钥对它们进行重新加密。</p>
                  <div class="infoboxnote" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-D3B93698-BDC8-4F45-9349-398244660C81">
                     <p class="notep1">注意：</p>
                     <p>使用此子句只是从密码保护的软件密钥库迁移到硬件密钥库的一系列步骤中的一个步骤。在使用此子句之前，请参阅<a href="../asoag/managing-keystore-and-tde-master-encryption-key.html#ASOAG10377" target="_blank"><span class="italic">Oracle数据库高级安全性指南</span></a>以获取完整的步骤集。
                     </p>
                  </div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ENCRYPTION</code>关键字是可选的，用于语义清晰度。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">HSM_auth_string</code></span> ，请指定硬件密钥库密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">software_keystore_password</code></span> 。，请指定基于密码的软件密钥库密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>子句，和任选的<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>子句，迁移发生之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5DAF656C-6921-4BD4-9D68-74A95C44FA8A"><span class="italic">reverse_migrate_key</span></p>
                  <p>使用此子句可以从硬件密钥库迁移到受密码保护的软件密钥库。此子句使用硬件密钥库中的主加密密钥解密现有的表加密密钥和表空间加密密钥，然后使用密码保护的软件密钥库中新创建的主加密密钥对其进行重新加密。</p>
                  <div class="infoboxnote" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-33DB4C7C-12A0-4202-A187-7FCC5B996572">
                     <p class="notep1">注意：</p>
                     <p>使用此子句只是从硬件密钥库迁移到受密码保护的软件密钥库的一系列步骤中的一个步骤。在使用此子句之前，请参阅<a href="../asoag/managing-keystore-and-tde-master-encryption-key.html#ASOAG10327" target="_blank"><span class="italic">Oracle数据库高级安全性指南</span></a>以获取完整的步骤集。
                     </p>
                  </div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">ENCRYPTION</code>关键字是可选的，用于语义清晰度。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">software_keystore_password</code></span> 。，请指定基于密码的软件密钥库密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">HSM_auth_string</code></span> ，请指定硬件密钥库密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-D42FE53B-0076-463D-9AA1-7ABF13C27A71"><span class="italic">move_keys</span></p>
                  <p>使用<code class="codeph">move_keys</code>子句将加密密钥移动到新的密钥库中。您必须是具有<code class="codeph">ADMINISTER KEY MANAGEMENT</code>或<code class="codeph">SYSKM</code>权限的用户才能登录数据库。您必须查询<code class="codeph">V$ENCRYPTION_KEYS</code>视图的<code class="codeph">KEY_ID</code>列，以查找要将密钥移动到的密钥库的密钥标识符。
                  </p>
                  <p><code class="codeph">keystore_location1</code>是将存储新密钥库<code class="codeph">.p12</code>文件的wallet目录的路径。默认情况下，此目录位于<code class="codeph">$ORACLE_BASE/admin/db_unique_name/wallet</code> 。
                  </p>
                  <p><code class="codeph">keystore1_password</code>是新密钥库的密码。
                  </p>
                  <p><code class="codeph">keystore_password</code>是密钥从中移动的密钥<code class="codeph">keystore_password</code>的密码。
                  </p>
                  <p><code class="codeph">key_identifier</code>是您查询<code class="codeph">V$ENCRYPTION_KEYS</code>视图的<code class="codeph">KEY_ID</code>列时找到的密钥标识符。将此设置括在单引号（''）中。
                  </p>
                  <p><code class="codeph">subquery</code>可用于查找所需的确切密钥标识符。
                  </p>
                  <p><code class="codeph">backup_identifier</code>是备份的可选描述。将<code class="codeph">backup_identifier</code>括在单引号（''）中。
                  </p>
                  <p>例如：</p><pre class="pre codeblock"><code>ADMINISTER密钥管理将密钥移动到新的KEYSTORE $ ORACLE_BASE / admin / orcl / wallet IDENTIFIED by keystore_password FROM FORCE KEYSTORE IDENTIFIED by keystore_password WITH IDENTIFIER IN（SELECT KEY_ID FROM V $ ENCRYPTION_KEYS WHERE ROWNUM &lt;2）;</code></pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-96D2A2FB-BA66-4BC0-9A69-409C20392A03"><span class="italic">secret_management_clauses</span></p>
                  <p>使用这些子句在受密码保护的软件密钥库或硬件密钥库中添加，更新和删除机密。</p>
                  <div class="infoboxnotealso" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-5A9F98AF-E79F-47F5-8F65-C5FE93E77BE8">
                     <p class="notep1">也可以看看：</p>
                     <p>有关添加，更新和删除机密的详细信息，请参见<a href="../asoag/managing-keystore-and-tde-master-encryption-key.html#ASOAG10398" target="_blank"><span class="italic">“Oracle数据库高级安全指南”</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-EAF01301-B4FB-476A-BE99-9F9A42035FDC"><span class="italic">add_update_secret</span></p>
                  <p>此子句允许您向密钥库添加密钥或更新密钥库中的现有密钥。密钥库必须是开放的。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>指定<code class="codeph">ADD</code>以将密钥添加到密钥库。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">UPDATE</code>以更新密钥库中的现有密钥。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">secret</code></span> ，请指定要添加或更新的密码。秘密是一个字母数字字符串。用单引号括起秘密。
                        </p>
                     </li>
                     <li>
                        <p>对于<span class="italic"><code class="codeph">client_identifier</code></span> ，请指定用于标识密钥的字母数字字符串。将<span class="italic"><code class="codeph">client_identifier</code></span>在单引号中。此值区分大小写。
                        </p>
                     </li>
                     <li>
                        <p>指定可选的<code class="codeph">USING</code> <code class="codeph">TAG</code>子句以将标记关联到<span class="italic"><code class="codeph">secret</code></span> 。<span class="italic"><code class="codeph">tag</code></span>是用于秘密的可选的，用户定义的描述符。将标记括在单引号中。您可以通过查询<code class="codeph">V$CLIENT_SECRETS</code>视图的<code class="codeph">SECRET_TAG</code>列来查看秘密标记。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>条款，以及可选的<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>条款，添加或更新的基于密码的软件密钥库的秘密之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-2D97D8F8-7E11-4901-B1C6-1845FE140DE9"><span class="italic">delete_secret</span></p>
                  <p>此子句允许您从密钥库中删除密钥。密钥库必须是开放的。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于<span class="italic"><code class="codeph">client_identifier</code></span> ，请指定用于标识密钥的字母数字字符串。将<span class="italic"><code class="codeph">client_identifier</code></span>在单引号中。您可以通过查询<code class="codeph">V$CLIENT_SECRETS</code>视图的<code class="codeph">CLIENT</code>列来查看客户端标识符。
                        </p>
                     </li>
                     <li>
                        <p>即使密钥库已关闭， <code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句也会启用此操作。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF">关于FORCE KEYSTORE子句的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code>子句指定密钥库的密码。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD">有关指定密钥库密码的说明</a> ”</span> 。
                        </p>
                     </li>
                     <li>
                        <p>指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>条款，以及可选的<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>条款，从基于密码的软件密钥库删除秘密之前创建密钥库的备份。有关更多信息，请参阅<span class="q">“ <a href="ADMINISTER-KEY-MANAGEMENT.html#GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB">WITH BACKUP子句的注意事项</a> ”</span> 。
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEJGHAE"><span class="bold">关于使用TAG条款的说明</span></p>
                  <p>许多<code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code>操作包括<code class="codeph">USING</code> <code class="codeph">TAG</code>子句，该子句允许您将标记与加密密钥相关联。<span class="italic"><code class="codeph">tag</code></span>是密钥的可选的，用户定义的描述符。它是用单引号括起来的字符串。
                  </p>
                  <p>您可以通过查询<code class="codeph">V$ENCRYPTION_KEYS</code>视图的<code class="codeph">TAG</code>列来查看加密密钥标记。
                  </p>
                  <p id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__P-13445-4DFB2BAF"><span class="bold">关于FORCE KEYSTORE条款的说明</span></p>
                  <p>当存在自动登录钱包时，即使密钥库已关闭， <code class="codeph">FORCE KEYSTORE</code>子句<code class="codeph">FORCE KEYSTORE</code>启用密钥库操作。此子句的行为取决于您是否连接到非CDB，CDB根或PDB。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>当您连接到非CDB时：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果密码保护的软件或硬件密钥库已关闭，则数据库会在执行操作时打开受密码保护的软件或硬件密钥库并使其保持打开状态，然后使用新的更新自动登录密钥库（如果存在）信息。</p>
                           </li>
                           <li>
                              <p>如果自动登录密钥库已打开，则数据库会在执行操作时临时打开受密码保护的软件或硬件密钥库，并使用新信息更新自动登录密钥库，而不会关闭自动登录密钥库。</p>
                           </li>
                           <li>
                              <p>如果受密码保护的软件或硬件密钥库已打开，则<code class="codeph">FORCE</code> <code class="codeph">KEYSTORE</code>子句不是必需的，并且不起作用。
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>当您连接到CDB根目录时：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要在CDB根密钥库（ <code class="codeph">CONTAINER=CURRENT</code> ）上执行操作，必须打开CDB根密钥库。因此，针对非CDB描述的行为适用于CDB根。
                              </p>
                           </li>
                           <li>
                              <p>要对CDB根密钥库和所有PDB密钥库（ <code class="codeph">CONTAINER=ALL</code> ）执行操作，必须打开CDB根密钥库和所有PDB密钥库。因此，针对非CDB描述的行为适用于CDB根和每个PDB。</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>当您连接到PDB时：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要在PDB密钥库上执行操作，必须打开CDB根密钥库和该PDB的密钥库。因此，针对非CDB描述的行为适用于CDB根和该PDB。</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEEFBCD"><span class="bold">有关指定密钥库密码的说明</span></p>
                  <p>指定密钥库密码，如下所示：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对于受密码保护的软件密钥库，请将密码指定为字符串。您可以选择将密码括在双引号中。带引号和非带引号的密码区分大小写。密钥库密码遵循与数据库用户密码相同的规则。有关完整的详细信息，请参阅<code class="codeph">CREATE</code> <code class="codeph">USER</code>的<a href="CREATE-USER.html#GUID-F0246961-558F-480B-AC0F-14B50134621C__BABHHFHD">BY密码</a>子句。
                        </p>
                     </li>
                     <li>
                        <p>对于硬件密钥库，请将密码指定为<code class="codeph">"</code> <span class="italic"><code class="codeph">user_id</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">password</code></span> <code class="codeph">"</code>形式的字符串，其中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic"><code class="codeph">user_id</code></span>是使用HSM管理界面为数据库创建的用户标识</p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">password</code></span>是使用HSM管理界面为用户标识创建的密码</p>
                           </li>
                        </ul>
                        <p>包围<span class="italic"><code class="codeph">user_id</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">password</code></span>串在双引号（ <code class="codeph">"</code> <code class="codeph">"</code> ）和独立的<span class="italic"><code class="codeph">user_id</code></span>和<span class="italic"><code class="codeph">password</code></span>以冒号（ <code class="codeph">:</code> ）。
                        </p>
                     </li>
                     <li>
                        <p>如果指定<code class="codeph">EXTERNAL</code> <code class="codeph">STORE</code> ，则数据库使用存储在外部存储中的密钥库密码来执行操作。此功能使您可以将密码存储在可以集中管理和访问的单独位置。要使用此功能，必须首先将<code class="codeph">EXTERNAL_KEYSTORE_CREDENTIAL_LOCATION</code>初始化参数设置为将存储密钥库密码的位置。有关为密钥库密码配置外部存储的详细信息，请参阅“ <a href="../asoag/managing-keystore-and-tde-master-encryption-key.html#ASOAG-GUID-4F6206B6-A33F-4FB1-9223-DD61FFAD3F12" target="_blank"><span class="italic">Oracle数据库高级安全性指南”</span></a> 。
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__BGEIBFFB"><span class="bold">关于WITH BACKUP子句的说明</span></p>
                  <p>许多<code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code>操作包括<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>子句。本节仅适用于受密码保护的软件密钥库。它表示必须在执行操作之前备份密钥库。因此，您必须在执行操作时指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>子句，或者<span class="italic">在</span>执行操作<span class="italic">之前</span>立即发出<code class="codeph">ADMINISTER</code> <code class="codeph">KEY</code> <code class="codeph">MANAGEMENT</code> <span class="italic"><code class="codeph">backup_clause</code></span>语句。
                  </p>
                  <p>当指定<code class="codeph">WITH</code> <code class="codeph">BACKUP</code>子句，Oracle数据库创建一个具有形式的名称备份文件<code class="codeph">ewallet_</code> <span class="italic"><code class="codeph">timestamp</code></span> <code class="codeph">.p12</code> ，其中<span class="italic"><code class="codeph">timestamp</code></span>是UTC格式的文件创建时间戳记。备份文件创建在与要备份的密钥库相同的目录中。
                  </p>
                  <p>可选<code class="codeph">USING</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">backup_identifier</code></span> <code class="codeph">'</code>子句允许您指定的备份标识符，它被添加到备份文件名。例如，如果您指定的备份标识<code class="codeph">'Backup1'</code> ，那么Oracle数据库中创建与形式的名称备份文件<code class="codeph">ewallet_</code> <span class="italic"><code class="codeph">timestamp</code></span> <code class="codeph">_Backup1.p12</code> 。
                  </p>
                  <p><code class="codeph">WITH</code> <code class="codeph">BACKUP</code>对于受密码保护的软件密钥库是必需的，但对于硬件密钥库是可选的。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5B2746F-19DC-4E94-83EC-A6A5C84A3EA9__GUID-1A0CDE8B-82FF-4892-B03E-23D9D2C50A69">例子</p>
                  <p><span class="bold">创建密钥库：示例</span></p>
                  <p>以下语句在目录<code class="codeph">/etc/ORACLE/WALLETS/orcl</code>创建受密码保护的软件密钥库：</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理CREATE密钥库'的/ etc / ORACLE /钱包/ ORCL' IDENTIFIED BY <span class="italic">密码</span> ;</pre><p>以下语句从上一语句中创建的密钥库创建自动登录软件密钥库：</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理从KEYSTORE创建AUTO_LOGIN KEYSTORE'/ etc / ORACLE / WALLETS / orcl'通过<span class="italic">密码</span>识别;</pre><p><span class="bold">打开密钥库：示例</span></p>
                  <p>以下语句打开受密码保护的软件密钥库：</p><pre class="oac_no_warn" dir="ltr">ADMINISTER KEY MANAGEMENT SET KEYSTORE OPEN由<span class="italic">密码</span>识别;</pre><p>如果您已连接到CDB，则以下语句将在当前容器中打开受密码保护的软件密钥库：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理设置KEYSTORE OPEN由<span class="italic">密码</span> CONTAINER = CURRENT识别;</pre><p>以下语句将打开硬件密钥库：</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理设置KEYSTORE OPEN由“ <span class="italic">user_id</span> ： <span class="italic">password</span> ”标识;</pre><p>以下语句将打开一个密钥库，其密码存储在外部存储中：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理设置KEYSTORE OPEN由外部商店识别;</pre><p><span class="bold">关闭密钥库：示例</span></p>
                  <p>以下语句关闭受密码保护的软件密钥库：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理设置KEYSTORE CLOSE通过<span class="italic">密码</span>识别;</pre><p>以下语句关闭自动登录软件密钥库：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理设置KEYSTORE CLOSE;</pre><p>以下语句关闭硬件密钥库：</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理设置KEYSTORE CLOSE由“ <span class="italic">user_id</span> ： <span class="italic">password</span> ”标识;</pre><p>以下语句关闭密码存储在外部存储中的密钥库：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理设置由外部商店识别的KEYSTORE CLOSE;</pre><p><span class="bold">备份密钥库：示例</span></p>
                  <p>以下语句创建受密码保护的软件密钥库的备份。备份存储在目录<code class="codeph">/etc/ORACLE/KEYSTORE/DB1</code> ，备份文件名包含标记<code class="codeph">hr.emp_keystore</code> 。
                  </p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理备份KEYSTORE使用'hr.emp_keystore'IDENTIFIED BY <span class="italic">password</span> TO'/ etc / ORACLE / KEYSTORE / DB1 /';</pre><p><span class="bold">更改密钥库密码：示例</span></p>
                  <p>以下语句更改受密码保护的软件密钥库的密码。在更改密码之前，它还会使用标记<code class="codeph">pwd_change</code>创建密钥库的备份。
                  </p><pre class="oac_no_warn" dir="ltr">通过<span class="italic">old_password</span>标识的ADMINISTER密钥管理ALTER KEYSTORE PASSWORD使用'pwd_change'设置<span class="italic">new_password</span> WITH BACKUP</pre><p><span class="bold">将两个密钥库合并到一个新的密钥库中：示例</span></p>
                  <p>以下语句将自动登录软件密钥库与受密码保护的软件密钥库合并，以在新位置创建新的受密码保护的软件密钥库：</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理MERGE KEYSTORE'/ etc / ORACLE / KEYSTORE / DB1'和KEYSTORE'/ etc / ORACLE / KEYSTORE / DB2'通过<span class="italic">existing_keystore_password</span>识别INTO NEW KEYSTORE'/ etc / ORACLE / KEYSTORE / DB3'由<span class="italic">new_keystore_password</span>识别;</pre><p><span class="bold">将密钥库合并到现有密钥库中：示例</span></p>
                  <p>以下语句将自动登录软件密钥库合并到受密码保护的软件密钥库中。在执行合并之前，它还会创建受密码保护的软件密钥库的备份。</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理MERGE KEYSTORE'/ etc / ORACLE / KEYSTORE / DB1'进入现有的KEYSTORE'/ etc / ORACLE / KEYSTORE / DB2'ENFENTIFIED BY <span class="italic">existing_keystore_password</span> WITH BACKUP;</pre><p><span class="bold">创建和激活主加密密钥：示例</span></p>
                  <p>以下语句在受密码保护的软件密钥库中创建并激活主加密密钥。它使用<code class="codeph">SEED128</code>算法加密密钥。它还会在创建新的主加密密钥之前创建密钥库的备份。
                  </p><pre class="oac_no_warn" dir="ltr">管理员密钥管理使用通过<span class="italic">密码</span>和备份识别的算法'SEED128'设置密钥;</pre><p>以下语句在受密码保护的软件密钥库中创建主加密密钥，但不激活密钥。它还会在创建新的主加密密钥之前创建密钥库的备份。</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理使用标记'mykey1'创建密钥使用<span class="italic">密码</span> WITH BACKUP标识;</pre><p>以下查询显示在上一个语句中创建的主加密密钥的密钥标识符：</p><pre class="oac_no_warn" dir="ltr">SELECT TAG，KEY_ID from V $ ENCRYPTION_KEYS WHERE TAG ='mykey1'; TAG KEY_ID --- --------------------------------------------- ------- mykey1 ARgEtzPxpE / Nv8WdPu8LJJUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</pre><p>以下语句将激活在上一个语句中查询的主加密密钥。它还会在激活新的主加密密钥之前创建密钥库的备份。</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理使用密钥'ARgEtzPxpE / Nv8WdPu8LJJUAAAAAAAAAAAAAAAAAAAAAAAAAAAAA'由<span class="italic">密码</span>和备份识别;</pre><p><span class="bold">设置密钥标记：示例</span></p>
                  <p>此示例假定密钥库已关闭。以下语句临时打开密钥库，并将标记更改为<code class="codeph">mykey2</code> ，以<code class="codeph">mykey2</code>在上一示例中激活的主加密密钥。它还会在更改标记之前创建密钥库的备份。
                  </p><pre class="oac_no_warn" dir="ltr">管理员密钥管理设置标记'mykey2'FOR'ARgEtzPxpE / Nv8WdPu8LJJUAAAAAAAAAAAAAAAAAAAAAAAAAAAA'由<span class="italic">密码</span>和备份识别的FORCE KEYSTORE;</pre><p><span class="bold">导出密钥：示例</span></p>
                  <p>以下语句将两个主加密密钥从受密码保护的软件密钥库<code class="codeph">/etc/TDE/export.exp</code>到文件<code class="codeph">/etc/TDE/export.exp</code> 。该语句使用秘密<code class="codeph">my_secret</code>加密文件中的主加密密钥。要导出的主加密密钥的标识符以逗号分隔列表的形式提供。
                  </p><pre class="oac_no_warn" dir="ltr">管理员密钥管理导出密钥与秘密“my_secret”TO“/etc/TDE/export.exp”通过<span class="italic">密码</span>与IDENTIFIER在“AdoxnJ0uH08cv7xkz83ovwsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA”，“AW5z3CoyKE / yv3cNT5CWCXUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA”中识别;</pre><p>以下语句将主密钥加密密钥从受密码保护的软件密钥库<code class="codeph">/etc/TDE/export.exp</code>到文件<code class="codeph">/etc/TDE/export.exp</code> 。仅导出标签为<code class="codeph">mytag1</code>或<code class="codeph">mytag2</code>的键。文件中的主加密密钥使用秘密<code class="codeph">my_secret</code>加密。通过查询<code class="codeph">V$ENCRYPTION_KEYS</code>视图找到密钥标识符。
                  </p><pre class="oac_no_warn" dir="ltr">管理员密钥管理导出密钥与秘密“my_secret”TO“/etc/TDE/export.exp”通过<span class="italic">密码</span>与IDENTIFIER IN识别（从V $ ENCRYPTION_KEYS中选择KEY_ID标记输入（'mytag1'，'mytag2'））;</pre><p>以下语句将数据库的所有主加密密钥导出到文件<code class="codeph">/etc/TDE/export.exp</code> 。文件中的主加密密钥使用秘密<code class="codeph">my_secret</code>加密。
                  </p><pre class="oac_no_warn" dir="ltr">管理员密钥管理导出密钥与秘密“my_secret”TO'/etc/TDE/export.exp'通过<span class="italic">密码</span>识别;</pre><p>在多租户环境中，以下语句将PDB <code class="codeph">salespdb</code>所有主加密密钥以及元数据<code class="codeph">/etc/TDE/salespdb.exp</code>到文件<code class="codeph">/etc/TDE/salespdb.exp</code> 。文件中的主加密密钥使用秘密<code class="codeph">my_secret</code>加密。如果随后克隆或拔出PDB并重新插入，则可以使用此语句创建的导出文件将密钥导入克隆或新插入的PDB。</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET CONTAINER = salespdb; ADMINISTER密钥管理导出密钥与SECRET“my_secret”TO“/etc/TDE/salespdb.exp”IDENTIFIED BY <span class="italic">密码</span> ;</pre><p><span class="bold">导入密钥：示例</span></p>
                  <p>以下语句将使用secret <code class="codeph">my_secret</code>加密的主加密密钥从文件<code class="codeph">/etc/TDE/export.exp</code>受密码保护的软件密钥库。它还会在导入密钥之前创建受密码保护的软件密钥库的备份。
                  </p><pre class="oac_no_warn" dir="ltr">管理员密钥管理导入密钥与秘密“my_secret”FROM“/etc/TDE/export.exp”通过<span class="italic">密码</span> WITH BACKUP识别;</pre><p><span class="bold">迁移密钥库：示例</span></p>
                  <p>以下语句从受密码保护的软件密钥库迁移到硬件密钥库。在执行迁移之前，它还会创建受密码保护的软件密钥库的备份。</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理集由“ <span class="italic">user_id</span> ： <span class="italic">password</span> ”标识的加密密钥MIGRATE使用<span class="italic">software_keystore_password</span> WITH BACKUP;</pre><p><span class="bold">反向迁移密钥库：示例</span></p>
                  <p>以下语句反向从硬件密钥库迁移到受密码保护的软件密钥库：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理集由<span class="italic">software_keystore_password</span>标识的加密密钥REVERSE MIGRATE使用“ <span class="italic">user_id</span> ： <span class="italic">password</span> ”;</pre><p><span class="bold">向密钥库添加密钥：示例</span></p>
                  <p>以下语句将客户端<code class="codeph">client1</code>秘密<code class="codeph">secret1</code> （标记为<code class="codeph">My first secret</code>添加到受密码保护的软件密钥库。在添加密钥之前，它还会创建受密码保护的软件密钥库的备份。
                  </p><pre class="oac_no_warn" dir="ltr">管理员密钥管理添加秘密'secret1'为客户'client1'使用标签'我的第一个秘密'通过<span class="italic">密码</span> WITH BACKUP识别;</pre><p>以下语句向硬件密钥库添加了类似的秘密：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理添加秘密'secret2'为客户'client2'使用标签'我的第二个秘密'标识为“ <span class="italic">user_id</span> ： <span class="italic">password</span> ”;</pre><p><span class="bold">更新密钥库中的密钥：示例</span></p>
                  <p>以下语句更新了基于密码的软件密钥库中前一个示例中创建的密码。在更新密钥之前，它还会创建受密码保护的软件密钥库的备份。</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理更新秘密'secret1'为客户'client1'使用标签'新标签1'通过<span class="italic">密码</span> WITH BACKUP标识;</pre><p>以下语句更新了硬件密钥库中前一个示例中创建的密码：</p><pre class="oac_no_warn" dir="ltr">管理员密钥管理更新秘密'secret2'为客户'client2'使用标签'新标签2'标识为“ <span class="italic">user_id</span> ： <span class="italic">password</span> ”;</pre><p><span class="bold">从密钥库中删除密钥：示例</span></p>
                  <p>以下语句从受密码保护的软件密钥库中删除上一个示例中更新的密码。它还会在删除密码之前创建受密码保护的软件密钥库的备份。</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理删除客户端'client1'的秘密IDENTIFIED BY <span class="italic">密码</span> WITH BACKUP;</pre><p>以下语句从硬件密钥库中删除上一个示例中更新的密码：</p><pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理删除客户端'client2'的秘密IDENTIFIED BY“ <span class="italic">user_id</span> ： <span class="italic">password</span> ”;</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>