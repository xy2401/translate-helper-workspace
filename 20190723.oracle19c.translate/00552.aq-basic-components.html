<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="This topic lists the basic components of Oracle Database Advanced Queuing."></meta>
      <meta name="description" content="This topic lists the basic components of Oracle Database Advanced Queuing."></meta>
      <title>Oracle数据库高级排队的基本组件</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Queuing User&#39;s Guide "></meta>
      <meta property="og:description" content="This topic lists the basic components of Oracle Database Advanced Queuing."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Queuing User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96511-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="aq-introduction.html" title="Previous" type="text/html"></link>
      <link rel="next" href="aq-program-interfaces.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle® Database Advanced Queuing"></meta>
    <meta name="dcterms.isVersionOf" content="ADQUE"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="aq-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="aq-program-interfaces.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级排队用户指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle数据库高级排队的基本组件</li>
            </ol>
            <a id="GUID-8798D586-5AF2-4A42-B794-A4F451C9388B" name="GUID-8798D586-5AF2-4A42-B794-A4F451C9388B"></a><a id="ADQUE0200"></a>
            
            <h2 id="ADQUE-GUID-8798D586-5AF2-4A42-B794-A4F451C9388B" class="sect2"><span class="enumeration_chapter">2</span> Oracle数据库高级队列的基本组件</h2>
         </header>
         <div class="ind">
            <div>
               <p>本主题列出了Oracle Database Advanced Queuing的基本组件。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="aq-basic-components.html#GUID-30AE391D-AE8A-4A2D-840C-2E642C2A0AC6" title="该组件命名数据库对象。">对象名称</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-8D993427-D59A-4E99-AB0E-87EF23258E1E" title="该组件定义队列类型。">输入名称</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-2C5557D9-E11B-4AB9-94E0-F923C85D6E0A" title="该组件标识消息的生产者或消费者。">AQ代理类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-DEC67A70-72F2-4A0B-A652-CCE4CD29D5A8" title="此组件标识接收消息的代理列表。">AQ收件人列表类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-4B08AAF8-9508-4DB5-910C-7DC77C5154FB" title="此组件标识要侦听的DBMS_AQ.LISTEN的代理列表。">AQ代理列表类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-5DE90F4B-A00B-4E3A-98EE-12A6CDDA6F9A" title="此组件标识订阅此队列的订户列表。">AQ订户列表类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-C77042A6-C185-4532-8DDC-225F2FDC7A71" title="该组件标识队列的注册列表。">AQ注册信息列表类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-FB8426C3-D778-4E19-9BBC-93BED46E2854" title="此组件标识发布消息的匿名订阅列表。">AQ邮政信息清单类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-94CBE09C-EE8C-4874-A30D-CCBE1F8D862E" title="该组件标识消息的生产者或消费者。">AQ注册信息类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-5B9C62D6-ED8A-4E35-9889-16F5166D4144" title="此组件指定AQ PL / SQL回调在收到通知时收到的Oracle数据库高级队列描述符。">AQ通知描述符类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-4EB2A137-1891-4A06-96A5-C68B815D8251" title="消息属性类型msg_prop_t具有这些组件。">AQ消息属性类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-8D4C8070-A031-43C5-AA20-EFB6A5D186CA" title="此组件指定要将消息发布到的匿名订阅。">AQ邮政信息类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-F7CC67CF-CFBD-4254-9B5C-470749925316" title="该组件用于存储AQ名称空间的分组通知数据，值230是最大损伤大小。">AQ $ _NTFN_MSGID_ARRAY类型</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-E44C0E1B-38A1-4255-9776-BB63CD024867" title="当选择枚举常量（如INFINITE，TRANSACTIONAL和NORMAL_QUEUE）作为值时，必须使用定义它的包的范围指定符号。">AQ管理接口的枚举常量</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-CC189295-3830-447A-8BF0-FFBBE3FE7C46" title="使用枚举常量（如BROWSE，LOCKED和REMOVE）时，必须使用定义它们的包的范围指定PL / SQL常量。">AQ操作接口的枚举常量</a></p>
                  </li>
                  <li>
                     <p><a href="aq-basic-components.html#GUID-4A7134AA-EA64-4F20-9CE4-C681D58656A4" title="这些主题描述了Oracle数据库高级队列的后台进程。">AQ后台流程</a></p>
                     <div class="infoboxnotealso" id="GUID-8798D586-5AF2-4A42-B794-A4F451C9388B__GUID-F7B7CF38-589C-4E55-A401-14CF77AB8DFC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="aq-administrative-interface.html#GUID-31CF7723-6AB8-455A-8841-8683D936DD3E" title="这些主题描述了Oracle数据库高级队列（AQ）管理界面。">Oracle数据库高级队列管理界面</a></p>
                           </li>
                           <li>
                              <p><a href="aq-operations-using-pl-sql.html#GUID-B302CBDB-0B75-4BF6-B705-5DC3EA26E605" title="这些主题描述了Oracle数据库高级队列（AQ）PL / SQL操作界面。">使用PL / SQL的Oracle数据库高级排队操作</a></p>
                           </li>
                        </ul>
                     </div>
                  </li>
               </ul>
            </div><a id="ADQUE2511"></a><div class="props_rev_3"><a id="GUID-30AE391D-AE8A-4A2D-840C-2E642C2A0AC6" name="GUID-30AE391D-AE8A-4A2D-840C-2E642C2A0AC6"></a><h3 id="ADQUE-GUID-30AE391D-AE8A-4A2D-840C-2E642C2A0AC6" class="sect3"><span class="enumeration_section">2.1</span>对象名称</h3>
               <div>
                  <p>该组件命名数据库对象。</p><pre class="oac_no_warn" dir="ltr">object_name：= VARCHAR2 object_name：= [ <span class="italic">schema_name</span> 。] <span class="italic">name</span>
</pre><p>此命名约定适用于队列，队列表和对象类型。</p>
                  <p>对象的名称由可选的<a href="glossary.html#GUID-CBE1EC43-DFD2-4701-B758-DCE2C98C277A"><span class="xrefglossterm">模式</span></a>名称和名称指定。如果未指定模式名称，则假定为当前模式。该名称必须遵循<a href="../sqlrf/Oracle-SQL-Reserved-Words-and-Keywords.html#SQLRF022" target="_blank"><span class="italic"><span><cite>Oracle数据库SQL语言参考</cite></span> Oracle数据库SQL语言参考中</span></a>的保留字符指南<a href="../sqlrf/Oracle-SQL-Reserved-Words-and-Keywords.html#SQLRF022" target="_blank"><span class="italic">。</span></a>模式名称，代理名称和<a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">对象类型</span></a>名称每个最长可达128个字节。但是，从12c版本2（12.2。）开始， <a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">队列</span></a>名称和<a href="glossary.html#GUID-45894F1F-4871-4A00-9171-2743821BAD3A"><span class="xrefglossterm">队列表</span></a>名称最多可以是122个字节。
                  </p>
               </div>
            </div><a id="ADQUE2512"></a><div class="props_rev_3"><a id="GUID-8D993427-D59A-4E99-AB0E-87EF23258E1E" name="GUID-8D993427-D59A-4E99-AB0E-87EF23258E1E"></a><h3 id="ADQUE-GUID-8D993427-D59A-4E99-AB0E-87EF23258E1E" class="sect3"><span class="enumeration_section">2.2</span>类型名称</h3>
               <div>
                  <p>该组件定义队列类型。</p><pre class="oac_no_warn" dir="ltr">type_name：= VARCHAR2 type_name：= <span class="italic">object_type</span> | “生的”</pre><p>对象类型中的最大属性数限制为900。</p>
                  <p>要存储<code class="codeph">RAW</code>类型的有效负载，Oracle数据库高级队列会创建一个带有<a href="glossary.html#GUID-E0E22C6A-42AE-41CF-A021-5CB63BABB48E"><span class="xrefglossterm">LOB</span></a>列作为有效负载存储库的队列表。有效负载的大小限制为32K字节的数据。由于<code class="codeph">LOB</code>列用于存储<code class="codeph">RAW</code>有效负载，因此Oracle数据库高级队列管理员可以通过在队列表创建期间在<code class="codeph">storage_clause</code>参数中构造<code class="codeph">LOB</code>存储字符串来选择<code class="codeph">LOB</code>表空间并配置<code class="codeph">LOB</code>存储。
                  </p>
                  <div class="infoboxnote" id="GUID-8D993427-D59A-4E99-AB0E-87EF23258E1E__GUID-881C891F-8A7E-4DD0-A71E-ECF5CE629147">
                     <p class="notep1">注意：</p>
                     <p>包含LOB的有效负载要求用户在队列表上授予显式的“ <code class="codeph">Select</code> ，“ <code class="codeph">Insert</code>和“ <code class="codeph">Update</code>权限，以进行排队和出列。
                     </p>
                  </div>
               </div>
            </div><a id="ADQUE2513"></a><div class="props_rev_3"><a id="GUID-2C5557D9-E11B-4AB9-94E0-F923C85D6E0A" name="GUID-2C5557D9-E11B-4AB9-94E0-F923C85D6E0A"></a><h3 id="ADQUE-GUID-2C5557D9-E11B-4AB9-94E0-F923C85D6E0A" class="sect3"><span class="enumeration_section">2.3</span> AQ代理类型</h3>
               <div>
                  <p>该组件标识消息的生产者或消费者。</p><pre class="oac_no_warn" dir="ltr">TYPE AQ $ _AGENT是OBJECT（名称VARCHAR2（30），地址VARCHAR2（1024），协议NUMBER）;</pre><p>作为多消费者队列的订户添加的所有消费者必须具有<code class="codeph">AQ$_AGENT</code>参数的唯一值。对于<code class="codeph">AQ$_AGENT</code>类型<code class="codeph">ADDRESS,</code>两个订阅者的<code class="codeph">NAME</code> ， <code class="codeph">ADDRESS,</code>和<code class="codeph">PROTOCOL</code>属性的值不能相同。对于两个订户，三个属性中的至少一个必须是不同的。
                  </p>
                  <p>您可以通过重复使用<code class="codeph">DBMS_AQADM.ADD_SUBSCRIBER</code>过程来添加订户，最多可以为多个用户队列添加1024个订户。
                  </p>
                  <p>此类型有三个属性：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">名称</code></p>
                        <p>此属性指定<a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">消息</span></a>的<a href="glossary.html#GUID-B9E1FDFC-EDA0-4D9C-8D65-FE429EF9043C"><span class="xrefglossterm">生产者</span></a>或<a href="glossary.html#GUID-B9071BDE-395F-4686-B2D2-A1B83F986BCC"><span class="xrefglossterm">使用者</span></a>的名称。它可以是应用程序的名称或应用程序分配的名称。队列本身可以是代理，从另一个队列入队或出列。该名称必须遵循<a href="../sqlrf/Oracle-SQL-Reserved-Words-and-Keywords.html#SQLRF022" target="_blank"><span class="italic">Oracle数据库SQL语言参考中</span></a>的保留字符指南。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">地址</code></p>
                        <p>此属性在<code class="codeph">protocol</code>上下文中进行解释。如果<code class="codeph">protocol</code>为0（默认值），则<code class="codeph">address</code>的格式为<code class="codeph">[schema.]queue[@dblink]</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">协议</code></p>
                        <p>此属性指定用于解释地址和传播消息的协议。默认值为0。</p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADQUE2514"></a><div class="props_rev_3"><a id="GUID-DEC67A70-72F2-4A0B-A652-CCE4CD29D5A8" name="GUID-DEC67A70-72F2-4A0B-A652-CCE4CD29D5A8"></a><h3 id="ADQUE-GUID-DEC67A70-72F2-4A0B-A652-CCE4CD29D5A8" class="sect3"><span class="enumeration_section">2.4</span> AQ收件人列表类型</h3>
               <div>
                  <p>此组件标识接收消息的代理列表。</p><pre class="oac_no_warn" dir="ltr">TYPE AQ $ _RECIPIENT_LIST_T是aq $ _agent INDEX BY BINARY_INTEGER的表;</pre></div>
            </div><a id="ADQUE2515"></a><div class="props_rev_3"><a id="GUID-4B08AAF8-9508-4DB5-910C-7DC77C5154FB" name="GUID-4B08AAF8-9508-4DB5-910C-7DC77C5154FB"></a><h3 id="ADQUE-GUID-4B08AAF8-9508-4DB5-910C-7DC77C5154FB" class="sect3"><span class="enumeration_section">2.5</span> AQ代理列表类型</h3>
               <div>
                  <p>此组件标识要侦听的<code class="codeph">DBMS_AQ.LISTEN</code>的代理列表。
                  </p><pre class="oac_no_warn" dir="ltr">TYPE AQ $ _AGENT_LIST_T是aq $ _agent INDEX by BINARY INTEGER的表;</pre></div>
            </div><a id="ADQUE2516"></a><div class="props_rev_3"><a id="GUID-5DE90F4B-A00B-4E3A-98EE-12A6CDDA6F9A" name="GUID-5DE90F4B-A00B-4E3A-98EE-12A6CDDA6F9A"></a><h3 id="ADQUE-GUID-5DE90F4B-A00B-4E3A-98EE-12A6CDDA6F9A" class="sect3"><span class="enumeration_section">2.6</span> AQ用户列表类型</h3>
               <div>
                  <p>此组件标识订阅此队列的订户列表。</p><pre class="oac_no_warn" dir="ltr">TYPE AQ $ _SUBSCRIBER_LIST_T是aq $ _agent INDEX by BINARY INTEGER的表;</pre></div>
            </div><a id="ADQUE2517"></a><div class="props_rev_3"><a id="GUID-C77042A6-C185-4532-8DDC-225F2FDC7A71" name="GUID-C77042A6-C185-4532-8DDC-225F2FDC7A71"></a><h3 id="ADQUE-GUID-C77042A6-C185-4532-8DDC-225F2FDC7A71" class="sect3"><span class="enumeration_section">2.7</span> AQ注册信息列表类型</h3>
               <div>
                  <p>该组件标识队列的注册列表。</p><pre class="oac_no_warn" dir="ltr">TYPE AQ $ _REG_INFO_LIST AS VARRAY（1024）OF sys.aq $ _reg_info;</pre></div>
            </div><a id="ADQUE2518"></a><div class="props_rev_3"><a id="GUID-FB8426C3-D778-4E19-9BBC-93BED46E2854" name="GUID-FB8426C3-D778-4E19-9BBC-93BED46E2854"></a><h3 id="ADQUE-GUID-FB8426C3-D778-4E19-9BBC-93BED46E2854" class="sect3"><span class="enumeration_section">2.8</span> AQ邮政信息清单类型</h3>
               <div>
                  <p>此组件标识发布消息的匿名订阅列表。</p><pre class="oac_no_warn" dir="ltr">TYPE AQ $ _POST_INFO_LIST AS VARRAY（1024）OF sys.aq $ _post_info;</pre></div>
            </div><a id="ADQUE2520"></a><a id="ADQUE2519"></a><div class="props_rev_3"><a id="GUID-94CBE09C-EE8C-4874-A30D-CCBE1F8D862E" name="GUID-94CBE09C-EE8C-4874-A30D-CCBE1F8D862E"></a><h3 id="ADQUE-GUID-94CBE09C-EE8C-4874-A30D-CCBE1F8D862E" class="sect3"><span class="enumeration_section">2.9</span> AQ注册信息类型</h3>
               <div>
                  <p>该组件标识消息的生产者或消费者。</p><pre class="oac_no_warn" dir="ltr">TYPE SYS.AQ $ _REG_INFO是OBJECT（名称VARCHAR2（128），名称空间NUMBER，回调VARCHAR2（4000），上下文RAW（2000）DEFAULT NULL，qosflags NUMBER，超时NUMBER ntfn_grouping_class NUMBER，ntfn_grouping_value NUMBER DEFAULT 600，ntfn_grouping_type NUMBER，ntfn_grouping_start_time TIMESTAMP WITH TIME ZONE，ntfn_grouping_repeat_count NUMBER）;</pre><p>其属性在以下列表中描述。</p>
                  <div class="tblformal" id="GUID-94CBE09C-EE8C-4874-A30D-CCBE1F8D862E__GUID-9703418B-C714-481F-8DA3-A82759BF2BFF">
                     <p class="titleintable">表2-1 AQ $ _REG_INFO类型属性</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="AQ $ _REG_INFO类型属性" width="100%" border="1" summary="This table describes Attributes of the Oracle AQ Streams Type SYS.AQ$_REG_INFO." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d11550e881">属性</th>
                              <th align="left" valign="bottom" width="69%" id="d11550e884">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e889" headers="d11550e881 ">
                                 <p><code class="codeph">名称</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e889 d11550e884 ">
                                 <p>指定订阅的名称。预订名称的形式为<span class="italic"><code class="codeph">schema.queue</code></span>如果登记为单个消费者队列或<span class="italic"><code class="codeph">schema.queue:consumer_name</code></span>如果登记为multiconsumer队列。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e906" headers="d11550e881 ">
                                 <p><code class="codeph">命名空间</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e906 d11550e884 ">
                                 <p>指定订阅的命名空间。要从Oracle Database AQ队列接收通知，命名空间必须为<code class="codeph">DBMS_AQ.NAMESPACE_AQ.</code>要通过<code class="codeph">DBMS_AQ.POST</code>或<code class="codeph">OCISubscriptionPost(),</code>从其他应用程序接收通知<code class="codeph">OCISubscriptionPost(),</code>名称空间必须是<code class="codeph">DBMS_AQ.NAMESPACE_ANONYMOUS.</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e926" headers="d11550e881 ">
                                 <p><code class="codeph">打回来</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e926 d11550e884 ">
                                 <p>指定要对消息通知执行的操作。对于HTTP通知，请使用<code class="codeph">http://www.company.com:8080</code> 。对于电子邮件通知，请使用<code class="codeph">mailto://xyz@company.com</code> 。对于<code class="codeph">PLSQLCALLBACK</code>过程的原始消息有效负载，请使用<code class="codeph">plsql://</code> <span class="italic"><code class="codeph">schema</code></span> <code class="codeph">.</code> <span class="italic"><code class="codeph">procedure?</code></span><code class="codeph">PR=0</code> 。对于为<code class="codeph">PLSQLCALLBACK</code>过程转换为XML的用户定义类型消息有效内容，请使用<code class="codeph">plsql://</code> <span class="italic"><code class="codeph">schema</code></span> <code class="codeph">.</code> <span class="italic"><code class="codeph">procedure?</code></span><code class="codeph">PR = 1</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e973" headers="d11550e881 ">
                                 <p><code class="codeph">上下文</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e973 d11550e884 ">
                                 <p>指定要传递给回调函数的上下文</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e982" headers="d11550e881 ">
                                 <p><code class="codeph">qosflags</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e982 d11550e884 ">
                                 <p>可以设置为以下一个或多个值以指定通知服务质量：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">NTFN_QOS_RELIABLE</code> - 此值指定需要可靠的通知。在实例和数据库重新启动时，可靠通知仍然存在。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">NTFN_QOS_PAYLOAD</code> - 此值指定需要有效负载传递。它仅支持客户端通知，仅支持<code class="codeph">RAW</code>队列。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">NTFN_QOS_PURGE_ON_NTFN</code> - 此值指定在第一个通知发送到此注册位置时自动清除注册。
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e1009" headers="d11550e881 ">
                                 <p><code class="codeph">ntfn_grouping_class</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e1009 d11550e884 ">
                                 <p>目前，只能设置以下标志来指定分组标准。默认值为0。如果<code class="codeph">ntfn_grouping_class</code>为0，则所有其他通知分组属性必须为0。
                                 </p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">NTFN_GROUPING_CLASS_TIME</code> - 按时间分组的通知，即用户指定时间值，并在该时间结束时发布单个通知。
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e1026" headers="d11550e881 ">
                                 <p><code class="codeph">ntfn_grouping_value</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e1026 d11550e884 ">
                                 <p>以秒为单位指定的通知分组的时间段，表示在<code class="codeph">ntfn_grouping_repeat_count</code>用尽之前定期发送分组通知的时间。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e1037" headers="d11550e881 ">
                                 <p><code class="codeph">ntfn_grouping_type</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e1037 d11550e884 ">
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">NTFN_GROUPING_TYPE_SUMMARY</code> - 时间间隔内发生的所有通知的摘要。（默认）</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">NTFN_GROUPING_TYPE_LAST</code> - 间隔中发生的上次通知。
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e1054" headers="d11550e881 ">
                                 <p><code class="codeph">ntfn_grouping_start_time</code></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e1054 d11550e884 ">
                                 <p>通知分组开始时间。通知分组可以从用户指定的时间开始，该时间应该是带有时区的有效时间戳。如果在使用分组时未指定<code class="codeph">ntfn_grouping_start_time</code> ，则默认为当前时区与时区</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d11550e1065" headers="d11550e881 ">
                                 <p><code class="codeph">ntfn_grouping_repeat_count</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d11550e1065 d11550e884 ">
                                 <p>分组通知将按通知分组重复计数的指定发送多次，然后再恢复为常规通知。ntfn_grouping_repeat_count，如果未指定，将默认为</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">NTFN_GROUPING_FOREVER</code> - 继续发送分组通知。
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ADQUE2522"></a><a id="ADQUE2521"></a><div class="props_rev_3"><a id="GUID-5B9C62D6-ED8A-4E35-9889-16F5166D4144" name="GUID-5B9C62D6-ED8A-4E35-9889-16F5166D4144"></a><h3 id="ADQUE-GUID-5B9C62D6-ED8A-4E35-9889-16F5166D4144" class="sect3"><span class="enumeration_section">2.10</span> AQ通知描述符类型</h3>
               <div>
                  <p>此组件指定AQ PL / SQL回调在收到通知时收到的Oracle数据库高级队列描述符。</p><pre class="oac_no_warn" dir="ltr">TYPE SYS.AQ $ _DESCRIPTOR是OBJECT（queue_name VARCHAR2（61），consumer_name VARCHAR2（30），msg_id RAW（16），msg_prop MSG_PROP_T，gen_desc AQ $ _NTFN_DESCRIPTOR，msgid_array SYS.AQ $ _NTFN_MSGID_ARRAY，ntfnsRecdInGrp NUMBER）;</pre><p>它具有以下属性：</p>
                  <div class="tblformal" id="GUID-5B9C62D6-ED8A-4E35-9889-16F5166D4144__GUID-F4983EA9-58F2-40FB-9BBE-BE772C461B61">
                     <p class="titleintable">表2-2 AQ $ _DESCRIPTOR属性</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="AQ $ _DESCRIPTOR属性" width="100%" border="1" summary="This table describes Attributes of the Oracle AQ Streams Type SYS.AQ$_DESCRIPTOR." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d11550e1147">属性</th>
                              <th align="left" valign="bottom" width="77%" id="d11550e1150">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d11550e1155" headers="d11550e1147 ">
                                 <p><code class="codeph">queue_name</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="77%" headers="d11550e1155 d11550e1150 ">
                                 <p>邮件入队的队列名称导致通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d11550e1164" headers="d11550e1147 ">
                                 <p><code class="codeph">CONSUMER_NAME</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="77%" headers="d11550e1164 d11550e1150 ">
                                 <p>多消费者队列的使用者姓名</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d11550e1173" headers="d11550e1147 ">
                                 <p><code class="codeph">MSG_ID</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="77%" headers="d11550e1173 d11550e1150 ">
                                 <p>消息的标识号</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d11550e1182" headers="d11550e1147 ">
                                 <p><code class="codeph">msg_prop</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="77%" headers="d11550e1182 d11550e1150 ">
                                 <p><code class="codeph">MSG_PROP_T</code>类型指定的消息属性</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d11550e1194" headers="d11550e1147 ">
                                 <p><code class="codeph">gen_desc</code></p>
                              </td>
                              <td align="left" valign="top" width="77%" headers="d11550e1194 d11550e1150 ">
                                 <p>超时规格</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d11550e1202" headers="d11550e1147 ">
                                 <p><code class="codeph">msgid_array</code></p>
                              </td>
                              <td align="left" valign="top" width="77%" headers="d11550e1202 d11550e1150 ">
                                 <p>组通知消息ID列表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d11550e1210" headers="d11550e1147 ">
                                 <p><code class="codeph">ntfnsRecdInGrp</code></p>
                              </td>
                              <td align="left" valign="top" width="77%" headers="d11550e1210 d11550e1150 ">
                                 <p>小组收到的通知</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ADQUE2523"></a><div class="props_rev_3"><a id="GUID-4EB2A137-1891-4A06-96A5-C68B815D8251" name="GUID-4EB2A137-1891-4A06-96A5-C68B815D8251"></a><h3 id="ADQUE-GUID-4EB2A137-1891-4A06-96A5-C68B815D8251" class="sect3"><span class="enumeration_section">2.11</span> AQ消息属性类型</h3>
               <div>
                  <p>消息属性类型<code class="codeph">msg_prop_t</code>具有这些组件。
                  </p><pre class="oac_no_warn" dir="ltr">TYPE AQ $ _MSG_PROP_T是对象（优先号，延迟号，到期号，相关性varchar2（128），尝试号，recipent_list aq $ _recipient_list_t，exception_queue varchar2（51），enqueue_time日期，州号，sender_id aq $ _agent，original_misgid raw（ 16），delivery_mode号码）;</pre><p>超时规范类型<code class="codeph">AQ$_NTFN_DESCRIPTOR</code>有一个组件：</p><pre class="oac_no_warn" dir="ltr">TYPE AQ $ _NTFN_DESCRIPTOR是对象（NTFN_FLAGS编号）;</pre><p>如果在规定的超时后已删除通知，则<code class="codeph">NTFN_FLAGS</code>设置为<code class="codeph">1</code> ;否则值为<code class="codeph">0</code> 。
                  </p>
                  <div class="p">
                     <div class="infoboxnotealso" id="GUID-4EB2A137-1891-4A06-96A5-C68B815D8251__GUID-125D1F67-2CEA-4642-8BE2-F4C07644E9F6">
                        <p class="notep1">也可以看看：</p>
                        <p>“ <a href="../arpls/advanced-queuing-AQ-types.html#ARPLS301" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a> ”中的“MESSAGE_PROPERTIES_T类型”</p>
                     </div>
                  </div>
               </div>
            </div><a id="ADQUE2524"></a><div class="props_rev_3"><a id="GUID-8D4C8070-A031-43C5-AA20-EFB6A5D186CA" name="GUID-8D4C8070-A031-43C5-AA20-EFB6A5D186CA"></a><h3 id="ADQUE-GUID-8D4C8070-A031-43C5-AA20-EFB6A5D186CA" class="sect3"><span class="enumeration_section">2.12</span> AQ邮政信息类型</h3>
               <div>
                  <p>此组件指定要将消息发布到的匿名订阅。</p><pre class="oac_no_warn" dir="ltr">TYPE SYS.AQ $ _POST_INFO是OBJECT（名称VARCHAR2（128），名称空间NUMBER，有效负载RAW（2000））;</pre><p>它有三个属性：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">名称</code></p>
                        <p>此属性指定要发布的匿名订阅的名称。</p>
                     </li>
                     <li>
                        <p><code class="codeph">命名空间</code></p>
                        <p>此属性指定匿名订阅的命名空间。要使用<code class="codeph">DBMS_AQ.POST</code>或<code class="codeph">OCISubscriptionPost()</code>从其他应用程序接收通知，名称空间必须为<code class="codeph">DBMS_AQ.NAMESPACE_ANONYMOUS</code> 。</p>
                     </li>
                     <li>
                        <p><code class="codeph">有效载荷</code></p>
                        <p>此属性指定要发布到匿名订阅的有效内容。默认值为<code class="codeph">NULL</code> 。</p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADQUE2525"></a><div class="props_rev_3"><a id="GUID-F7CC67CF-CFBD-4254-9B5C-470749925316" name="GUID-F7CC67CF-CFBD-4254-9B5C-470749925316"></a><h3 id="ADQUE-GUID-F7CC67CF-CFBD-4254-9B5C-470749925316" class="sect3"><span class="enumeration_section">2.13</span> AQ $ _NTFN_MSGID_ARRAY类型</h3>
               <div>
                  <p>该组件用于存储AQ名称空间的分组通知数据，值为2 <sup>30</sup> ，即最大损伤大小。
                  </p><pre class="oac_no_warn" dir="ltr">TYPE SYS.AQ $ _NTFN_MSGID_ARRAY AS RAR（1073741824）OF RAW（16）;</pre></div>
            </div><a id="ADQUE2527"></a><a id="ADQUE2526"></a><div class="props_rev_3"><a id="GUID-E44C0E1B-38A1-4255-9776-BB63CD024867" name="GUID-E44C0E1B-38A1-4255-9776-BB63CD024867"></a><h3 id="ADQUE-GUID-E44C0E1B-38A1-4255-9776-BB63CD024867" class="sect3"><span class="enumeration_section">2.14</span> AQ管理接口的枚举常量</h3>
               <div>
                  <p>当选择枚举常量（如<code class="codeph">INFINITE</code> ， <code class="codeph">TRANSACTIONAL</code>和<code class="codeph">NORMAL_QUEUE</code>作为值时，必须使用定义它的包的范围指定符号。
                  </p>
                  <p>与管理接口关联的所有类型都必须以<code class="codeph">DBMS_AQADM</code>为前缀。例如：</p><pre class="oac_no_warn" dir="ltr">DBMS_AQADM.NORMAL_QUEUE</pre><p><a href="aq-basic-components.html#GUID-E44C0E1B-38A1-4255-9776-BB63CD024867__g1009388" title="行是参数。对于每个参数，第一列是其名称，第二列列出该参数的选项。">表2-3</a>列出了Oracle Database Advanced Queuing管理界面中的枚举常量。
                  </p>
                  <div class="tblformal" id="GUID-E44C0E1B-38A1-4255-9776-BB63CD024867__g1009388">
                     <p class="titleintable">表2-3 Oracle数据库高级排队管理界面中的枚举常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle数据库高级排队管理界面中的枚举常量" width="100%" border="1" summary="Rows are parameters. For each parameter, the first column is its name, and the second column lists the options for that parameter." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d11550e1520">参数</th>
                              <th align="left" valign="bottom" width="74%" id="d11550e1523">选项</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d11550e1528" headers="d11550e1520 ">
                                 <p><code class="codeph">保留</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d11550e1528 d11550e1523 ">
                                 <p><code class="codeph">0,1,2 ...无穷</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d11550e1539" headers="d11550e1520 ">
                                 <p><code class="codeph">message_grouping</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d11550e1539 d11550e1523 ">
                                 <p><code class="codeph">TRANSACTIONAL</code> ， <code class="codeph">NONE</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d11550e1553" headers="d11550e1520 ">
                                 <p><code class="codeph">queue_type</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d11550e1553 d11550e1523 ">
                                 <p><code class="codeph">NORMAL_QUEUE</code> ， <code class="codeph">EXCEPTION_QUEUE,NON_PERSISTENT_QUEUE</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d11550e1567" headers="d11550e1520 ">
                                 <p><code class="codeph">delivery_mode</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d11550e1567 d11550e1523 ">
                                 <p><code class="codeph">BUFFERED</code> ， <code class="codeph">PERSISTENT</code> ， <code class="codeph">PERSISTENT_OR_BUFFERED</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnote" id="GUID-E44C0E1B-38A1-4255-9776-BB63CD024867__GUID-0CCC9D33-2247-4C85-A5E5-F3B54977BB0C">
                     <p class="notep1">注意：</p>
                     <p>Oracle数据库高级队列<span class="italic">10g</span>第2版（10.2）中不推荐使用非持久队列。Oracle建议您使用缓冲消息传递。
                     </p>
                  </div>
               </div>
            </div><a id="ADQUE2529"></a><a id="ADQUE2528"></a><div class="props_rev_3"><a id="GUID-CC189295-3830-447A-8BF0-FFBBE3FE7C46" name="GUID-CC189295-3830-447A-8BF0-FFBBE3FE7C46"></a><h3 id="ADQUE-GUID-CC189295-3830-447A-8BF0-FFBBE3FE7C46" class="sect3"><span class="enumeration_section">2.15</span> AQ操作接口的枚举常量</h3>
               <div>
                  <p>使用枚举常量（如<code class="codeph">BROWSE</code> ， <code class="codeph">LOCKED</code>和<code class="codeph">REMOVE</code> ，必须使用定义它们的包的范围指定PL / SQL常量。
                  </p>
                  <p>与操作接口关联的所有类型都必须在<code class="codeph">DBMS_AQ</code>之前添加。例如：</p><pre class="oac_no_warn" dir="ltr">DBMS_AQ.BROWSE</pre><p><a href="aq-basic-components.html#GUID-CC189295-3830-447A-8BF0-FFBBE3FE7C46__g1009404" title="行是参数。对于每个参数，第一列是其名称，第二列列出该参数的选项。">表2-4</a>列出了Oracle Database Advanced Queuing操作界面中的枚举常量。
                  </p>
                  <div class="tblformal" id="GUID-CC189295-3830-447A-8BF0-FFBBE3FE7C46__g1009404">
                     <p class="titleintable">表2-4 Oracle数据库高级排队操作界面中的枚举常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle数据库高级排队操作界面中的枚举常量" width="100%" border="1" summary="Rows are parameters. For each parameter, the first column is its name, and the second column lists the options for that parameter." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d11550e1671">参数</th>
                              <th align="left" valign="bottom" width="70%" id="d11550e1674">选项</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1679" headers="d11550e1671 ">
                                 <p><code class="codeph">能见度</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1679 d11550e1674 ">
                                 <p><code class="codeph">IMMEDIATE</code> ， <code class="codeph">ON_COMMIT</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1693" headers="d11550e1671 ">
                                 <p><code class="codeph">出队模式</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1693 d11550e1674 ">
                                 <p><code class="codeph">BROWSE</code> ， <code class="codeph">LOCKED</code> ， <code class="codeph">REMOVE,</code> <code class="codeph">REMOVE_NODATA</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1713" headers="d11550e1671 ">
                                 <p><code class="codeph">导航</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1713 d11550e1674 ">
                                 <p><code class="codeph">FIRST_MESSAGE</code> ， <code class="codeph">NEXT_MESSAGE</code> ， <code class="codeph">NEXT_TRANSACTION</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1729" headers="d11550e1671 ">
                                 <p><code class="codeph">州</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1729 d11550e1674 ">
                                 <p><code class="codeph">WAITING</code> ， <code class="codeph">READY</code> ， <code class="codeph">PROCESSED</code> ， <code class="codeph">EXPIRED</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1748" headers="d11550e1671 ">
                                 <p><code class="codeph">等待</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1748 d11550e1674 ">
                                 <p><code class="codeph">FOREVER</code> ， <code class="codeph">NO_WAIT</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1761" headers="d11550e1671 ">
                                 <p><code class="codeph">延迟</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1761 d11550e1674 ">
                                 <p><code class="codeph">NO_DELAY</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1772" headers="d11550e1671 ">
                                 <p><code class="codeph">呼气</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1772 d11550e1674 ">
                                 <p><code class="codeph">决不</code> 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1783" headers="d11550e1671 ">
                                 <p><code class="codeph">命名空间</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1783 d11550e1674 ">
                                 <p><code class="codeph">NAMESPACE_AQ</code> ， <code class="codeph">NAMESPACE_ANONYMOUS</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1796" headers="d11550e1671 ">
                                 <p><a id="d11550e1798" class="indexterm-anchor"></a><code class="codeph">delivery_mode</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1796 d11550e1674 ">
                                 <p><code class="codeph">BUFFERED</code> ， <code class="codeph">PERSISTENT</code> ， <code class="codeph">PERSISTENT_OR_BUFFERED</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1815" headers="d11550e1671 ">
                                 <p><a id="d11550e1817" class="indexterm-anchor"></a><code class="codeph">quosflags </code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1815 d11550e1674 ">
                                 <p><code class="codeph">NTFN_QOS_RELIABLE</code> ， <code class="codeph">NTFN_QOS_PAYLOAD</code> ， <code class="codeph">NTFN_QOS_PURGE_ON_NTFN</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1834" headers="d11550e1671 ">
                                 <p><code class="codeph">ntfn_grouping_class</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1834 d11550e1674 ">
                                 <p><code class="codeph">NFTN_GROUPING_CLASS_TIME</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1845" headers="d11550e1671 ">
                                 <p><a id="d11550e1847" class="indexterm-anchor"></a><code class="codeph">ntfn_grouping_type</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1845 d11550e1674 ">
                                 <p><code class="codeph">NTFN_GROUPING_TYPE_SUMMARY</code> ， <code class="codeph">NTFN_GROUPING_TYPE_LAST</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d11550e1861" headers="d11550e1671 ">
                                 <p><a id="d11550e1863" class="indexterm-anchor"></a><code class="codeph">ntfn_grouping_repeat_count </code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d11550e1861 d11550e1674 ">
                                 <p><code class="codeph">NTFN_GROUPING_FOREVER</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ADQUE2530"></a><div class="props_rev_3"><a id="GUID-4A7134AA-EA64-4F20-9CE4-C681D58656A4" name="GUID-4A7134AA-EA64-4F20-9CE4-C681D58656A4"></a><h3 id="ADQUE-GUID-4A7134AA-EA64-4F20-9CE4-C681D58656A4" class="sect3"><span class="enumeration_section">2.16</span> AQ背景流程</h3>
               <div>
                  <p>这些主题描述了Oracle数据库高级队列的后台进程。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="aq-basic-components.html#GUID-E764A424-90EF-4CAB-A600-11E611AFDE4D" title="Oracle建议不要指定AQ_TM_PROCESSES参数，让系统自动调整。">队列监视进程</a></p>
                     </li>
                     <li>
                        <p><a href="aq-basic-components.html#GUID-2834D439-F246-4EDB-920C-5E0DF7E06443" title="传播和PL / SQL通知由作业队列（Jnnn）进程处理。">作业队列流程</a></p>
                     </li>
                     <li>
                        <p><a href="aq-basic-components.html#GUID-FBA9CCE1-1DFE-4C1D-B795-89AFA66AB4FC" title="Oracle数据库高级队列12c第1版（12.1）引入了一种新的AQ背景架构，采用3层设计。">AQ背景架构</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2531"></a><div class="props_rev_3"><a id="GUID-E764A424-90EF-4CAB-A600-11E611AFDE4D" name="GUID-E764A424-90EF-4CAB-A600-11E611AFDE4D"></a><h4 id="ADQUE-GUID-E764A424-90EF-4CAB-A600-11E611AFDE4D" class="sect4"><span class="enumeration_section">2.16.1</span>队列监视进程</h4>
                  <div>
                     <p>Oracle建议<code class="codeph">AQ_TM_PROCESSES</code>指定<code class="codeph">AQ_TM_PROCESSES</code>参数，让系统自动调整。
                     </p>
                     <p>许多Oracle数据库高级队列任务在后台执行。这些包括将<code class="codeph">DELAY</code>指定的消息转换为<code class="codeph">READY</code>状态，消息到期，将消息移动到异常队列，溢出和恢复缓冲的消息以及类似的操作。
                     </p>
                     <p>使用Oracle Database AQ时，不再需要设置<code class="codeph">AQ_TM_PROCESSES</code> 。如果指定了值，则在启动<code class="codeph">Qxx</code>进程时会考虑该值。但是，Qxx进程的数量可能与AQ_TM_PROCESSES指定的<code class="codeph">AQ_TM_PROCESSES</code> 。</p>
                     <p>无需单独的<a href="glossary.html#GUID-2003BA71-5534-477C-990D-5ABE432A5907"><span class="xrefglossterm">API</span></a>即可禁用或启用后台进程。这可以通过将<code class="codeph">AQ_TM_PROCESSES</code>设置为零或非零来控制。但是，Oracle建议您不指定<code class="codeph">AQ_TM_PROCESSES</code>参数，并让系统自动调整。
                     </p>
                     <div class="infoboxnote" id="GUID-E764A424-90EF-4CAB-A600-11E611AFDE4D__GUID-F030A71C-0C11-46F8-BFB2-AF6F1F3FB678">
                        <p class="notep1">注意：</p>
                        <p>如果你想禁用<a id="d11550e2040" class="indexterm-anchor"></a>队列监视器协调器，然后必须在<code class="codeph">pfile</code>或<code class="codeph">spfile</code>设置<code class="codeph">AQ_TM_PROCESSES = 0</code> 。Oracle强烈建议您不要设置<code class="codeph">AQ_TM_PROCESSES = 0</code> 。
                        </p>
                     </div>
                  </div>
               </div><a id="ADQUE2532"></a><div class="props_rev_3"><a id="GUID-2834D439-F246-4EDB-920C-5E0DF7E06443" name="GUID-2834D439-F246-4EDB-920C-5E0DF7E06443"></a><h4 id="ADQUE-GUID-2834D439-F246-4EDB-920C-5E0DF7E06443" class="sect4"><span class="enumeration_section">2.16.2</span>作业队列过程</h4>
                  <div>
                     <p>传播和PL / SQL通知由作业队列（Jnnn）进程处理。</p>
                     <p>不再需要指定参数<code class="codeph">JOB_QUEUE_PROCESSES</code> 。数据库调度程序自动启动传播和通知作业所需的作业队列进程。
                     </p>
                  </div>
               </div><a id="ADQUE3663"></a><div class="props_rev_3"><a id="GUID-FBA9CCE1-1DFE-4C1D-B795-89AFA66AB4FC" name="GUID-FBA9CCE1-1DFE-4C1D-B795-89AFA66AB4FC"></a><h4 id="ADQUE-GUID-FBA9CCE1-1DFE-4C1D-B795-89AFA66AB4FC" class="sect4"><span class="enumeration_section">2.16.3</span> AQ背景架构</h4>
                  <div>
                     <p>Oracle数据库高级队列12c第1版（12.1）引入了一种新的AQ背景架构，采用3层设计。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d11550e2154" class="indexterm-anchor"></a>第1层（AQPC）：在实例启动时创建称为高级排队过程协调器的单个后台进程。它将负责创建和管理各种主进程。可以使用<code class="codeph">GV$AQ_BACKGROUND_COORDINATOR</code>查看协调员统计信息。</p>
                        </li>
                        <li>
                           <p>第2层（QM **）：会有许多名为Queue Monitors的主进程。每个人都将负责处理不同类型的工作。作业可以是类型通知（Emon池），队列监视器（处理分片队列时间管理器等），跨进程等。</p>
                           <div class="infoboxnote" id="GUID-FBA9CCE1-1DFE-4C1D-B795-89AFA66AB4FC__GUID-CA97DD48-C2D6-4F01-AD1B-E1ECE6282123">
                              <p class="notep1">注意：</p>
                              <p>像QMNC和EMNC这样的旧流程将被包含在一个新的主进程中。</p>
                           </div>
                           <p>可以将作业定义为需要跨多个服务器进程（Q ***）执行其任务的自己的调度机制的工作类型。可以使用<code class="codeph">GV$AQ_JOB_COORDINATOR</code>查看主进程统计信息及其作业。</p>
                        </li>
                        <li>
                           <p>第3层（Q ***）：对于所有上述主进程，将有一个服务器进程池。每个进程一次只与一个主进程相关联。但是，一旦原始大师放弃了使用它的需要，就可以重新安排到另一个。这些服务器将为各自提供性能和可伸缩性的主服务器执行作业。可以使用<code class="codeph">GV$AQ_SERVER_POOL</code>查看服务器进程统计信息及其当前主关联。</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>