<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Getting Started</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JDBC Developer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JDBC Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00">
      <meta name="dcterms.title" content="JDBC Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96471-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="introducing-JDBC.html" title="Previous" type="text/html">
      <link rel="next" href="overview-Oracle-JDBC.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introducing-JDBC.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="overview-Oracle-JDBC.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="overview-of-JDBC.html" property="item" typeof="WebPage"><span property="name"> Overview </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Getting Started </li>
            </ol>
            <a id="GUID-00FE03D7-48D6-4DA5-A3A0-8768D2936AB8" name="GUID-00FE03D7-48D6-4DA5-A3A0-8768D2936AB8"></a><a id="JJDBC20000"></a>
            
            <h2 id="JJDBC-GUID-00FE03D7-48D6-4DA5-A3A0-8768D2936AB8" class="sect2"><span class="enumeration_chapter">2 </span> Getting Started 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter discusses the compatibility of Oracle Java Database Connectivity (JDBC) driver versions, database versions, and Java Development Kit (JDK) versions. It also describes the basics of testing a client installation and configuration and running a simple application. This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA">Version Compatibility for Oracle JDBC Drivers</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-E36056D2-80C1-4044-94BC-D6354EF3955C">Verifying a JDBC Client Installation</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188">Basic Steps in JDBC</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-D59CA273-203C-431A-BB27-D660ACBFE105">Sample: Connecting_ Querying_ and Processing the Results</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C">Support for Invisible Columns</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-F30B1931-7755-4973-A113-DB6D25C85937">Support for Verifying JSON Data</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92">Support for Implicit Results</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521">Support for Lightweight Connection Validation</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B">Support for Deprioritization of Database Nodes</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6">Support for Oracle Connection Manager in Traffic Director Mode</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-98F62472-1415-4099-A6B6-7C13C6AEC040">Stored Procedure Calls in JDBC Programs</a></p>
                  </li>
                  <li>
                     <p><a href="JDBC-getting-started.html#GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD">About Processing SQL Exceptions</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28047"></a><a id="JJDBC28048"></a><a id="JJDBC28046"></a><div class="props_rev_3"><a id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA" name="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA"></a><h3 id="JJDBC-GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA" class="sect3"><span class="enumeration_section">2.1 </span>Version Compatibility for Oracle JDBC Drivers
               </h3>
               <div>
                  <div class="section">
                     <p>This section discusses the general JDBC version compatibility issues.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA__GUID-3086ADC1-DF91-4A77-923E-232DEB3D9E1C">Backward Compatibility</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Oracle Database 12<span class="italic">c </span>Release 2 (12.2.0.1) JDBC drivers are certified with supported Oracle Database releases (11.x.0.x). However, they are not certified to work with older, unsupported database releases, such as 10.2.x, 10.1.x, 9.2.x, and 9.0.1.x.
                     </p>
                     <div class="infoboxnote" id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA__GUID-E5809AB0-6500-4CA5-A0A8-76DD81E70C48">
                        <p class="notep1">Note:</p>
                        <p>If you want to use Fast Connection Failover mechanism, then use the 10.2 JDBC driver with Oracle database 10.2. If the database is 10.1, then use 10.1 JDBC driver.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA__GUID-9BC987FC-E0F8-4BE8-948F-1F2E0E1777AB">Forward Compatibility</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Existing and supported JDBC drivers are certified to work with Oracle Database 12<span class="italic">c </span>Release 2 (12.2).
                     </p>
                     <div class="infoboxnote" id="GUID-926E5324-D89A-4A00-B1AE-975C1089F0EA__GUID-556A0A94-27EB-4353-8F6C-3589A41657DC">
                        <p class="notep1">Note:</p>
                        <p>In Oracle Database 12<span class="italic">c </span>Release 2 (12.2.0.1), Oracle JDBC drivers no longer support JDK 6 or earlier versions.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../jjucp/fast-connection-failover.html#JJUCP-GUID-126F8C9B-C0B3-426B-B07D-4B127BBDD867" target="_blank"><span><cite>Oracle Universal Connection Pool Developer’s Guide</cite></span></a></li>
                        <li><a href="http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html" target="_blank">http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html</a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="JJDBC28049"></a><div class="props_rev_3"><a id="GUID-E36056D2-80C1-4044-94BC-D6354EF3955C" name="GUID-E36056D2-80C1-4044-94BC-D6354EF3955C"></a><h3 id="JJDBC-GUID-E36056D2-80C1-4044-94BC-D6354EF3955C" class="sect3"><span class="enumeration_section">2.2 </span>Verifying a JDBC Client Installation
               </h3>
               <div>
                  <div class="section">
                     <p>To <a id="d16478e179" class="indexterm-anchor"></a>verify a JDBC client installation, you must do all of the following:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-356ECF59-F426-4185-9D8D-74C99B83A2F0">Checking the Installed Directories and Files</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA">Checking the Environment Variables</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-06BD7132-70A5-416D-B766-F6AB9961CC01">Ensuring that the Java Code Can Be Compiled and Run</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-FBF89046-1782-43B1-BFCF-121BC7FC8261">Determining the Version of the JDBC Driver</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-A7809785-56AF-4BD1-A04D-E69CA03489C5">Testing the JDBC and Database Connection</a></p>
                        </li>
                     </ul>
                     <p>This section describes the steps for verifying an Oracle client installation of the JDBC drivers, assuming that you have already installed the driver of your choice. Installation of an Oracle JDBC driver is platform-specific. You must follow the installation instructions for the driver you want to install in your platform-specific documentation.</p>
                     <p>If you use the JDBC Thin driver, then there is no additional installation on the client computer. If you use the JDBC Oracle Call Interface (OCI) driver, then you must also install the Oracle client software. This includes Oracle Net and the OCI libraries.</p>
                     <div class="infoboxnote" id="GUID-E36056D2-80C1-4044-94BC-D6354EF3955C__GUID-B1F6F95C-284B-4C69-92EE-4F25256B25A7">
                        <p class="notep1">Note:</p>
                        <p>The JDBC Thin driver requires a TCP/IP listener to be running on the computer where the database is installed.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28050"></a><div class="props_rev_3"><a id="GUID-356ECF59-F426-4185-9D8D-74C99B83A2F0" name="GUID-356ECF59-F426-4185-9D8D-74C99B83A2F0"></a><h4 id="JJDBC-GUID-356ECF59-F426-4185-9D8D-74C99B83A2F0" class="sect4"><span class="enumeration_section">2.2.1 </span>Checking the Installed Directories and Files
                  </h4>
                  <div>
                     <div class="section">
                        <p>Installing the Oracle Java products creates, among other things, the following directories:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/jdbc</code></p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/jlib</code></p>
                           </li>
                        </ul>
                        <p>Check whether or not the following directories and files have been created and populated in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/jdbc</code> directory:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">demo</code></p>
                              <p>This directory contains a compressed file, <code class="codeph">demo.zip</code> or <code class="codeph">demo.tar</code>. When you uncompress this compressed file, the <code class="codeph">samples</code> directory and the <code class="codeph">Samples-Readme.txt</code> file are created. The <code class="codeph">samples</code> directory contains sample programs, including examples of how to use JDBC escape syntax and Oracle SQL syntax, PL/SQL blocks, streams, user-defined types, additional Oracle type extensions, and Oracle performance extensions.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">doc</code></p>
                              <p>This directory contains the <code class="codeph">javadoc.zip</code> file, which is the Oracle JDBC application programming interface (API) documentation.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">lib</code></p>
                              <p>The <code class="codeph">lib</code> directory contains the following required Java classes:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">orai18n.jar</code> and <code class="codeph">orai18n-mapping.jar</code></p>
                                    <p>Contain classes for globalization and multibyte character sets support</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ojdbc8.jar</code> and <code class="codeph">ojdbc8_g.jar</code></p>
                                    <p>Contain the JDBC driver classes for use with JDK 8</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">Readme.txt</code></p>
                              <p>This file contains late-breaking and release-specific information about the drivers, which may not have been included in other documentation on the product.</p>
                           </li>
                        </ul>
                        <p>Check whether or not the following directories have been created and populated in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/jlib</code> directory:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">jta.jar</code> and <code class="codeph">jndi.jar</code></p>
                              <p>These files contain classes for the Java Transaction API (JTA) and the Java Naming and Directory Interface (JNDI). These are required only if you are using JTA features for distributed transaction management or JNDI features for naming services.</p>
                           </li>
                           <li>
                              <p><code class="codeph">ons.jar</code></p>
                              <p>This JAR file contains classes for Oracle RAC Fast Application Notification. It is also required for Universal Connection Pool (UCP) features like Fast Connection Failover, Run-time Load Balancing, Web Session Affinity, and Transaction Affinity.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="Oracle-RAC-FAN-API.html#GUID-672941ED-9553-4779-B1AD-7FEBC07603D6">Oracle RAC Fast Application Notification</a></li>
                           <li><a href="http://www.oracle.com/technetwork/java/javaee/jta/" target="_blank">jta.jar</a></li>
                           <li><a href="http://www.oracle.com/technetwork/java/jndi/index.html" target="_blank">jndi.jar</a></li>
                           <li><a href="../jjucp/using-Oracle-RAC-features.html#JJUCP-GUID-A0B5E9FF-84E1-40FC-8B2E-084C1134FDFD" target="_blank"><span><cite>Oracle Universal Connection Pool Developer’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28052"></a><a id="JJDBC28053"></a><a id="JJDBC28054"></a><a id="JJDBC28051"></a><div class="props_rev_3"><a id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA" name="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA"></a><h4 id="JJDBC-GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA" class="sect4"><span class="enumeration_section">2.2.2 </span>Checking the Environment Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p>This section describes the <a id="d16478e415" class="indexterm-anchor"></a>environment variables that must be set for the JDBC OCI driver and the JDBC Thin driver, focusing on Solaris, Linux, and Microsoft Windows platforms.
                        </p>
                        <p>You must set the <code class="codeph">CLASSPATH</code> environment variable for JDBC OCI or Thin driver. Include the following in the <code class="codeph">CLASSPATH</code> environment variable:
                        </p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span>/jdbc/lib/ojdbc8.jar
<span class="italic">ORACLE_HOME</span>/jlib/orai18n.jar
</pre><div class="infoboxnote" id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA__GUID-76BA7D30-41CB-4716-BB4D-97F05CEDA46A">
                           <p class="notep1">Note:</p>
                           <p>If you use the JTA features and the JNDI features, then you must specify <code class="codeph">jta.jar</code> and <code class="codeph">jndi.jar</code> in your <code class="codeph">CLASSPATH</code> environment variable.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA__GUID-FEAE505F-3752-4947-9624-920961ADB569">JDBC OCI Driver</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To use the JDBC OCI driver, you must also set the following value for the library path environment variable:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>On Solaris or Linux, set the <code class="codeph">LD_LIBRARY_PATH</code> environment variable as follows:
                              </p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span>/lib
</pre><p>This directory contains the <code class="codeph">libocijdbc11.so</code> shared object library.
                              </p>
                           </li>
                           <li>
                              <p>On Microsoft Windows, set the <code class="codeph">PATH</code> environment variable as follows: 
                              </p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span>\bin
</pre><p>This directory contains the <code class="codeph">ocijdbc11.dll</code> dynamic link library.
                              </p>
                           </li>
                        </ul>
                        <p>All of the JDBC OCI demonstration programs can be run in the Instant Client mode by including the JDBC OCI Instant Client data shared library on the library path environment variable.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA__GUID-7D977C6A-3EF1-46E1-AFD5-7C0AA03A0224">JDBC Thin Driver</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To use the JDBC Thin driver, you do not have to set any other environment variables. However, to use the JDBC server-side Thin driver, you need to set permission.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-782A399A-78F5-4D1A-A4F3-F5AE35DE62DA__GUID-3F529AAC-E53A-4441-8A24-6D719CE0704C">Setting Permission for the Server-Side Thin Driver</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The JDBC server-side Thin driver opens a socket for its connection to the database. Because Oracle Database enforces the Java security model, a check is performed for a <code class="codeph">SocketPermission</code> object.
                        </p>
                        <p>To use the JDBC server-side Thin driver, the connecting user must be granted the appropriate permission. The following is an example of how the permission can be granted for the user <code class="codeph">HR</code>:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE ROLE jdbcthin;
CALL dbms_java.grant_permission('JDBCTHIN', 'java.net.SocketPermission', '*', 'connect');
GRANT jdbcthin TO HR;
</pre><p>Note that <code class="codeph">JDBCTHIN</code> in the <code class="codeph">grant_permission</code> call must be in uppercase. The asterisk (<code class="codeph">*</code>) is a pattern. You can restrict the user by granting permission to connect to only specific computers or ports.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="JDBC-OCI-features.html#GUID-A8201BD0-BAED-4C54-B53B-C26C5F295B32">Features Specific to JDBC OCI Driver</a></li>
                           <li><a href="../jjdev/DBMS-JAVA-package.html#JJDEV-GUID-C6AE17E3-B1B0-4773-A5F5-CBBDB5B6D7CF" target="_blank"><span><cite>Oracle Database Java Developer’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28055"></a><div class="props_rev_3"><a id="GUID-06BD7132-70A5-416D-B766-F6AB9961CC01" name="GUID-06BD7132-70A5-416D-B766-F6AB9961CC01"></a><h4 id="JJDBC-GUID-06BD7132-70A5-416D-B766-F6AB9961CC01" class="sect4"><span class="enumeration_section">2.2.3 </span>Ensuring that the Java Code Can Be Compiled and Run
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d16478e555" class="indexterm-anchor"></a><a id="d16478e559" class="indexterm-anchor"></a>To further ensure that Java is set up properly on your client system, go to the <code class="codeph">samples</code> directory under the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/jdbc/demo</code> directory. Now, type the following commands on the command line, one after the other, to see if the Java compiler and the Java interpreter run without error:
                        </p><pre class="oac_no_warn" dir="ltr">javac

java
</pre><p>Each of the preceding commands should display a list of options and parameters and then exit. Ideally, verify that you can compile and run a simple test program, such as <code class="codeph">jdbc/demo/samples/generic/SelectExample</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28056"></a><div class="props_rev_3"><a id="GUID-FBF89046-1782-43B1-BFCF-121BC7FC8261" name="GUID-FBF89046-1782-43B1-BFCF-121BC7FC8261"></a><h4 id="JJDBC-GUID-FBF89046-1782-43B1-BFCF-121BC7FC8261" class="sect4"><span class="enumeration_section">2.2.4 </span>Determining the Version of the JDBC Driver
                  </h4>
                  <div>
                     <div class="section">
                        <p>To determine the version of the JDBC driver, call the <code class="codeph">getDriverVersion</code> method of the <code class="codeph">OracleDatabaseMetaData</code> class as shown in the following sample code:
                        </p><pre class="oac_no_warn" dir="ltr">import java.sql.*;
import oracle.jdbc.*;
import oracle.jdbc.pool.OracleDataSource;

class JDBCVersion
{
  public static void main (String args[]) throws SQLException
  {
    OracleDataSource ods = new OracleDataSource();
    ods.setURL("jdbc:oracle:thin:HR/hr@&lt;host&gt;:&lt;port&gt;:&lt;service&gt;");
    Connection conn = ods.getConnection();

    // Create Oracle DatabaseMetaData object
    DatabaseMetaData meta = conn.getMetaData();

    // gets driver info:
    System.out.println("JDBC driver version is " + meta.getDriverVersion());
  }
}
</pre><p>You can also determine the version of the JDBC driver by executing the following commands:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">java -jar ojdbc8.jar</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28057"></a><div class="props_rev_3"><a id="GUID-A7809785-56AF-4BD1-A04D-E69CA03489C5" name="GUID-A7809785-56AF-4BD1-A04D-E69CA03489C5"></a><h4 id="JJDBC-GUID-A7809785-56AF-4BD1-A04D-E69CA03489C5" class="sect4"><span class="enumeration_section">2.2.5 </span>Testing the JDBC and Database Connection
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">samples</code> <a id="d16478e655" class="indexterm-anchor"></a><a id="d16478e659" class="indexterm-anchor"></a><a id="d16478e663" class="indexterm-anchor"></a>directory contains sample programs for a particular Oracle JDBC driver. One of the programs, <code class="codeph">JdbcCheckup.java</code>, is designed to test JDBC and the database connection. The program queries for the user name, password, and the name of the database to which you want to connect. The program connects to the database, queries for the string "<code class="codeph">Hello World</code>", and prints it to the screen.
                        </p>
                        <p>Go to the <code class="codeph">samples</code> directory, and compile and run the <code class="codeph">JdbcCheckup.java</code> program. If the results of the query print without error, then your Java and JDBC installations are correct.
                        </p>
                        <p>Although <code class="codeph">JdbcCheckup.java</code> is a simple program, it demonstrates several important functions by performing the following:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Imports the necessary Java classes, including JDBC classes</p>
                           </li>
                           <li>
                              <p>Creates a <code class="codeph">DataSource</code> instance
                              </p>
                           </li>
                           <li>
                              <p>Connects to the database</p>
                           </li>
                           <li>
                              <p>Runs a simple query</p>
                           </li>
                           <li>
                              <p>Prints the query results to your screen</p>
                           </li>
                        </ul>
                        <p>The <code class="codeph">JdbcCheckup.java</code> program, which uses the JDBC OCI driver, is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">/*
 * This sample can be used to check the JDBC installation.
 * Just run it and provide the connect information. It will select
 * "Hello World" from the database.
 */

// You need to import the java.sql and JDBC packages to use JDBC
import java.sql.*;
import oracle.jdbc.*;
import oracle.jdbc.pool.OracleDataSource;

// We import java.io to be able to read from the command line
import java.io.*;

class JdbcCheckup
{
  public static void main(String args[]) throws SQLException, IOException
  {

    // Prompt the user for connect information
    System.out.println("Please enter information to test connection to 
                          the database");
    String user;
    String password;
    String database;

    user = readEntry("user: ");
    int slash_index = user.indexOf('/');
    if (slash_index != -1)
    {
      password = user.substring(slash_index + 1);
      user = user.substring(0, slash_index);
    }
    else
      password = readEntry("password: ");
    database = readEntry("database(a TNSNAME entry): ");

    System.out.print("Connecting to the database...");
    System.out.flush();
    System.out.println("Connecting...");
    // Open an OracleDataSource and get a connection
    OracleDataSource ods = new OracleDataSource();
    ods.setURL("jdbc:oracle:oci:@" + database);
    ods.setUser(user);
    ods.setPassword(password);
    Connection conn = ods.getConnection();
    System.out.println("connected.");

    // Create a statement
    Statement stmt = conn.createStatement();

    // Do the SQL "Hello World" thing
    ResultSet rset = stmt.executeQuery("select 'Hello World' from dual");

    while (rset.next())
      System.out.println(rset.getString(1));
    // close the result set, the statement and the connection
    rset.close();
    stmt.close();
    conn.close();
    System.out.println("Your JDBC installation is correct.");
  }

  // Utility function to read a line from standard input
  static String readEntry(String prompt)
  {
    try
    {
      StringBuffer buffer = new StringBuffer();
      System.out.print(prompt);
      System.out.flush();
      int c = System.in.read();
      while (c != '\n' &amp;&amp; c != -1)
      {
        buffer.append((char)c);
        c = System.in.read();
      }
      return buffer.toString().trim();
    }
    catch(IOException e)
    {
      return "";
    }
  }
}
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28058"></a><div class="props_rev_3"><a id="GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188" name="GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188"></a><h3 id="JJDBC-GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188" class="sect3"><span class="enumeration_section">2.3 </span>Basic Steps in JDBC
               </h3>
               <div>
                  <div class="section">
                     <p>After verifying the JDBC client installation, you can start creating your JDBC applications. <a id="d16478e738" class="indexterm-anchor"></a>When using Oracle JDBC drivers, you must include certain driver-specific information in your programs. This section describes, in the form of a tutorial, where and how to add the information. The tutorial guides you through the steps to create code that connects to and queries a database from the client.
                     </p>
                     <p>You must write code to perform the following tasks:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="JDBC-getting-started.html#GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1">Importing Packages</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39">Opening a Connection to a Database</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-44000A82-7B5E-49A9-BB87-8A3A794E8F3A">Creating a Statement Object</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44">Running a Query and Retrieving a Result Set Object</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-C7FAF579-24DB-4682-BC83-44AC5E59A8D8">Processing the Result Set Object</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8">Closing the Result Set and Statement Objects</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD">Making Changes to the Database</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9">About Committing Changes</a></span></li>
                     <li><span><a href="JDBC-getting-started.html#GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB">Closing the Connection</a></span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-44E1770A-967E-4713-9AFF-86D9D4EDE188__GUID-A7E77335-7659-4150-AACA-043232744E29">
                        <p class="notep1">Note:</p>
                        <p>You must supply Oracle driver-specific information for the first three tasks that enable your program to use the JDBC application programming interface (API) to access a database. For the other tasks, you can use standard JDBC Java code, as you would for any Java application.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28060"></a><a id="JJDBC28059"></a><div class="props_rev_3"><a id="GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1" name="GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1"></a><h4 id="JJDBC-GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1" class="sect4"><span class="enumeration_section">2.3.1 </span>Importing Packages
                  </h4>
                  <div>
                     <div class="section">
                        <p>Regardless of which Oracle <a id="d16478e821" class="indexterm-anchor"></a>JDBC driver you use, include the <code class="codeph">import</code> statements shown in <a href="JDBC-getting-started.html#GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1__CIHBBIEG" title="table">Table 2-1</a> at the beginning of your program using the following syntax:
                        </p><pre class="oac_no_warn" dir="ltr">import <span class="italic">&lt;package_name&gt;</span>;</pre><div class="tblformal" id="GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1__CIHBBIEG">
                           <p class="titleintable">Table 2-1 Import Statements for JDBC Driver</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Import Statements for JDBC Driver" summary="table" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="39%" id="d16478e849">Import statement</th>
                                    <th align="left" valign="bottom" width="61%" id="d16478e852">Provides</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d16478e857" headers="d16478e849 ">
                                       <p><code class="codeph">import java.sql.*;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d16478e857 d16478e852 ">
                                       <p>Standard JDBC packages.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d16478e865" headers="d16478e849 ">
                                       <p><code class="codeph">import java.math.*;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d16478e865 d16478e852 ">
                                       <p>The <code class="codeph">BigDecimal</code> and <code class="codeph">BigInteger</code> classes. You can omit this package if you are not going to use these classes in your application.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d16478e879" headers="d16478e849 ">
                                       <p><a id="d16478e881" class="indexterm-anchor"></a><code class="codeph">import oracle.jdbc.*;</code></p>
                                       <p><code class="codeph">import oracle.jdbc.pool.*;</code></p>
                                       <p><code class="codeph">import oracle.sql.*;</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d16478e879 d16478e852 ">
                                       <p>Oracle extensions to JDBC. This is optional.</p>
                                       <p><code class="codeph">OracleDataSource</code>.
                                       </p>
                                       <p>Oracle type extensions. This is optional.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The Oracle packages listed as optional provide access to the extended functionality provided by Oracle JDBC drivers, but are not required for the example presented in this section.</p>
                        <div class="infoboxnote" id="GUID-A1B90791-B55C-4066-A83C-2EBC4FB0DFE1__GUID-01F63E5D-E0D6-4FFB-BF31-940084D57FEE">
                           <p class="notep1">Note:</p>
                           <p>It is better to import only the classes your application needs, rather than using the wildcard asterisk (<code class="codeph">*</code>). This guide uses the asterisk (*) for simplicity, but this is not the recommended way of importing classes and interfaces.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28062"></a><a id="JJDBC28063"></a><a id="JJDBC28061"></a><div class="props_rev_3"><a id="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39" name="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39"></a><h4 id="JJDBC-GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39" class="sect4"><span class="enumeration_section">2.3.2 </span>Opening a Connection to a Database
                  </h4>
                  <div>
                     <div class="section">
                        <p>First, you must create an <code class="codeph">OracleDataSource</code> instance. Then, open a connection to the database using the <code class="codeph">OracleDataSource.getConnection</code> method. The properties of the retrieved connection are derived from the <code class="codeph">OracleDataSource</code> instance. If you set the URL connection property, then all other properties, including <code class="codeph">TNSEntryName</code>, <code class="codeph">DatabaseName</code>, <code class="codeph">ServiceName</code>, <code class="codeph">ServerName</code>, <code class="codeph">PortNumber</code>, <code class="codeph">Network Protocol</code>, and driver type are ignored.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39__GUID-FCB5716F-697A-4DF2-87E5-A7E90167A959">Specifying a Database URL, User Name, and Password</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following code sets the URL, user name, and password for a data source: </p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource();
ods.setURL(<span class="italic">url</span>);
ods.setUser(<span class="italic">user</span>);
ods.setPassword(<span class="italic">password</span>);
</pre><p>The following example connects user <code class="codeph">HR</code> with password <code class="codeph">hr</code> to a database with service <code class="codeph">orcl</code> through port 5221 of the host <code class="codeph">myhost</code>, using the JDBC Thin driver:
                        </p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource();
String url = "jdbc:oracle:thin:@//myhost:5221/orcl";
ods.setURL(url);
ods.setUser("HR");
ods.setPassword("hr");
Connection conn = ods.getConnection();
</pre><div class="infoboxnote" id="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39__GUID-DB8F8247-D49E-4682-AAEB-F0C75EA3E63E">
                           <p class="notep1">Note:</p>
                           <p> The user name and password specified in the arguments override any user name and password specified in the URL.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F65BF3C1-FFB3-4513-AEB6-94A0D025AD39__GUID-DFB4A082-F72E-43EC-9D46-C879D3142B55">Specifying a Database URL that Includes User Name and Password</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example connects user <code class="codeph">HR</code> with password <code class="codeph">hr</code> to a database host whose Transparent Network Substrate (TNS) entry is <code class="codeph">myTNSEntry</code>, using the JDBC Oracle Call Interface (OCI) driver. In this case, the URL includes the user name and password and is the only input parameter.
                        </p><pre class="oac_no_warn" dir="ltr">String url = "jdbc:oracle:oci:HR/hr@myTNSEntry");
ods.setURL(url);
Connection conn = ods.getConnection();
</pre><p>If you want to connect using the Thin driver, then you must specify the port number. For example, if you want to connect to the database on the host <code class="codeph">myhost</code> that has a TCP/IP listener on port 5221 and the service identifier is <code class="codeph">orcl</code>, then provide the following code:
                        </p><pre class="oac_no_warn" dir="ltr">String URL = "jdbc:oracle:thin:HR/hr@//myhost:5221/orcl");
ods.setURL(URL);
Connection conn = ods.getConnection();
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="data-sources-and-URLs.html#GUID-44572C63-10D2-478A-BB2E-ACF6674C59CC">Data Sources and URLs</a></li>
                           <li><a href="data-sources-and-URLs.html#GUID-44572C63-10D2-478A-BB2E-ACF6674C59CC">Data Sources and URLs</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JJDBC28064"></a><div class="props_rev_3"><a id="GUID-44000A82-7B5E-49A9-BB87-8A3A794E8F3A" name="GUID-44000A82-7B5E-49A9-BB87-8A3A794E8F3A"></a><h4 id="JJDBC-GUID-44000A82-7B5E-49A9-BB87-8A3A794E8F3A" class="sect4"><span class="enumeration_section">2.3.3 </span>Creating a Statement Object
                  </h4>
                  <div>
                     <div class="section">
                        <p>Once you connect to the database and, in the process, create a <code class="codeph">Connection</code> object, the next step is to create a <code class="codeph">Statement</code> object. The <code class="codeph">createStatement</code> method of the JDBC <code class="codeph">Connection</code> object returns an object of the JDBC <code class="codeph">Statement</code> type. To continue the example from the previous section, where the <code class="codeph">Connection</code> object <code class="codeph">conn</code> was created, here is an example of how to create the <code class="codeph">Statement</code> object:
                        </p><pre class="oac_no_warn" dir="ltr">Statement stmt = conn.createStatement();
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28065"></a><div class="props_rev_3"><a id="GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44" name="GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44"></a><h4 id="JJDBC-GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44" class="sect4"><span class="enumeration_section">2.3.4 </span>Running a Query and Retrieving a Result Set Object
                  </h4>
                  <div>
                     <div class="section">
                        <p>To query the database, use the <code class="codeph">executeQuery</code> method of the <code class="codeph">Statement</code> object. This method takes a SQL statement as input and returns a JDBC <code class="codeph">ResultSet</code> object.
                        </p>
                        <div class="infoboxnote" id="GUID-B450DD30-C61D-454E-B83D-D18F1EDE7B44__GUID-7E4F8B35-4C34-4DF0-9679-2A3B3537203A">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The method used to execute a <code class="codeph">Statement</code> object depends on the type of SQL statement being executed. If the <code class="codeph">Statement</code> object represents a SQL query returning a <code class="codeph">ResultSet</code> object, the  <code class="codeph">executeQuery</code> method should be used. If the SQL is known to be a DDL statement or a DML statement returning an update count, the <code class="codeph">executeUpdate</code> method should be used. If the type of the SQL statement is not known, the <code class="codeph">execute</code> method should be used.
                                 </p>
                              </li>
                              <li>
                                 <p>In case of a standard JDBC driver, if the SQL string being executed does not return a <code class="codeph">ResultSet</code> object, then the <code class="codeph">executeQuery</code> method throws a <code class="codeph">SQLException</code> exception. In case of an Oracle JDBC driver, the <code class="codeph">executeQuery</code> method does not throw a <code class="codeph">SQLException</code> exception even if the SQL string being executed does not return a <code class="codeph">ResultSet</code> object.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>To continue the example, once you create the <code class="codeph">Statement</code> object <code class="codeph">stmt</code>, the next step is to run a query that returns a <code class="codeph">ResultSet</code> object with the contents of the <code class="codeph">first_name</code> column of a table of employees named <code class="codeph">EMPLOYEES</code>:
                        </p><pre class="oac_no_warn" dir="ltr">ResultSet rset = stmt.executeQuery ("SELECT first_name FROM employees");
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28066"></a><div class="props_rev_3"><a id="GUID-C7FAF579-24DB-4682-BC83-44AC5E59A8D8" name="GUID-C7FAF579-24DB-4682-BC83-44AC5E59A8D8"></a><h4 id="JJDBC-GUID-C7FAF579-24DB-4682-BC83-44AC5E59A8D8" class="sect4"><span class="enumeration_section">2.3.5 </span>Processing the Result Set Object
                  </h4>
                  <div>
                     <div class="section">
                        <p>Once <a id="d16478e1233" class="indexterm-anchor"></a>you run your query, use the <code class="codeph">next()</code> method of the <code class="codeph">ResultSet</code> object to iterate through the results. This method steps through the result set row by row, detecting the end of the result set when it is reached.
                        </p>
                        <p>To pull data out of the result set as you iterate through it, use the appropriate <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span> methods of the <code class="codeph">ResultSet</code> object, where <span class="italic"><code class="codeph">XXX</code></span> corresponds to a Java data type.
                        </p>
                        <p>For example, the following code will iterate through the <code class="codeph">ResultSet</code> object, <code class="codeph">rset</code>, from the previous section and will retrieve and print each employee name:
                        </p><pre class="oac_no_warn" dir="ltr">while (rset.next())
   System.out.println (rset.getString(1));
</pre><p>The <code class="codeph">next()</code> method returns <code class="codeph">false</code> when it reaches the end of the result set. The employee names are materialized as Java <code class="codeph">String</code> values.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28067"></a><div class="props_rev_3"><a id="GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8" name="GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8"></a><h4 id="JJDBC-GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8" class="sect4"><span class="enumeration_section">2.3.6 </span>Closing the Result Set and Statement Objects
                  </h4>
                  <div>
                     <div class="section">
                        <p>You <a id="d16478e1304" class="indexterm-anchor"></a><a id="d16478e1308" class="indexterm-anchor"></a>must explicitly close the <code class="codeph">ResultSet</code> and <code class="codeph">Statement</code> objects after you finish using them. This applies to all <code class="codeph">ResultSet</code> and <code class="codeph">Statement</code> objects you create when using Oracle JDBC drivers. The drivers do not have finalizer methods. The cleanup routines are performed by the <code class="codeph">close</code> method of the <code class="codeph">ResultSet</code> and <code class="codeph">Statement</code> classes. If you do not explicitly close the <code class="codeph">ResultSet</code> and <code class="codeph">Statement</code> objects, serious memory leaks could occur. You could also run out of cursors in the database. Closing both the result set and the statement releases the corresponding cursor in the database. If you close only the result set, then the cursor is not released.
                        </p>
                        <p>For example, if your <code class="codeph">ResultSet</code> object is <code class="codeph">rset</code> and your <code class="codeph">Statement</code> object is <code class="codeph">stmt</code>, then close the result set and statement with the following lines of code:
                        </p><pre class="oac_no_warn" dir="ltr">rset.close();
stmt.close();
</pre><p>When you close a <code class="codeph">Statement</code> object that a given <code class="codeph">Connection</code> object creates, the connection itself remains open.
                        </p>
                        <div class="infoboxnote" id="GUID-0CEBD5D1-8D3E-4ED5-BB91-F69D0723D9E8__GUID-82B80617-9507-4A57-8A46-E702D92C3DF1">
                           <p class="notep1">Note:</p>
                           <p>Typically, you should put <code class="codeph">close</code> statements in a <code class="codeph">finally</code> clause.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28069"></a><a id="JJDBC28070"></a><a id="JJDBC28068"></a><div class="props_rev_3"><a id="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD" name="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD"></a><h4 id="JJDBC-GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD" class="sect4"><span class="enumeration_section">2.3.7 </span>Making Changes to the Database
                  </h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD__GUID-F8E73EA6-68B8-4C46-96F4-64AA570C4AE1">DML Operations</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To perform DML (Data Manipulation Language) operations, such as INSERT or UPDATE operations, you can create either a <code class="codeph">Statement</code> object or a <code class="codeph">PreparedStatement</code> object. <code class="codeph">PreparedStatement</code> objects enable you to run a statement with varying sets of input parameters. The <code class="codeph">prepareStatement</code> method of the JDBC <code class="codeph">Connection</code> object lets you define a statement that takes variable bind parameters and returns a JDBC <code class="codeph">PreparedStatement</code> object with your statement definition.
                        </p>
                        <p>Use the <code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span> methods on the <code class="codeph">PreparedStatement</code> object to bind data to the prepared statement to be sent to the database.
                        </p>
                        <p>The following example shows how to use a prepared statement to run <code class="codeph">INSERT</code> operations that add two rows to the <code class="codeph">EMPLOYEES</code> table.
                        </p><pre class="oac_no_warn" dir="ltr">    // Prepare to insert new names in the EMPLOYEES table
PreparedStatement pstmt = null;
try{
    pstmt = conn.prepareStatement ("insert into EMPLOYEES (EMPLOYEE_ID, FIRST_NAME) values (?, ?)");

    // Add LESLIE as employee number 1500
    pstmt.setInt (1, 1500);          // The first ? is for EMPLOYEE_ID
    pstmt.setString (2, "LESLIE");   // The second ? is for FIRST_NAME
    // Do the insertion
    pstmt.execute();

    // Add MARSHA as employee number 507
    pstmt.setInt (1, 507);           // The first ? is for EMPLOYEE_ID
    pstmt.setString (2, "MARSHA");   // The second ? is for FIRST_NAME
    // Do the insertion
    pstmt.execute();
}

finally{
		if(pstmt!=null)

    // Close the statement
    pstmt.close();
}
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD__GUID-E27F744A-39F2-4574-983A-1623011CCFEB">DDL Operations</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To perform data definition language (DDL) operations, you must create a <code class="codeph">Statement</code> object. The following example shows how to create a table in the database:
                        </p><pre class="oac_no_warn" dir="ltr">//create table EMPLOYEES with columns EMPLOYEE_ID and FIRST_NAME
String query;
Statement stmt=null;

try{
    query="create table EMPLOYEES " +
          "(EMPLOYEE_ID int, " +
          "FIRST_NAME varchar(50))";
    stmt = conn.createStatement();
    stmt.executeUpdate(query);
    }
finally{
     //close the Statement object
     stmt.close();
    }
</pre><div class="infoboxnote" id="GUID-6AC53BFD-6723-4D51-BEF1-B4441E6031DD__GUID-A47A6E5F-2B6D-4BE9-8A05-E499DDDB9F43">
                           <p class="notep1">Note:</p>
                           <p>You can also use a <code class="codeph">PreparedStatement</code> object to perform DDL operations. However, you should not use a <code class="codeph">PreparedStatement</code> object because the useful part of such an object is that it can have parameters and a DDL operation does not have any parameters.
                           </p>
                           <p>Also, due to a Database limitation, if you use a <code class="codeph">PreparedStatement</code> object for a DDL operation, then it only works for the first time it is executed. So, you should use only <code class="codeph">Statement</code> objects for DDL operations.
                           </p>
                        </div>
                        <p>The following example shows how to prepare your DDL statements before any reexecution:</p><pre class="oac_no_warn" dir="ltr">//
Statement stmt = null;
PreparedStatement pstmt = null;
try{
    pstmt = conn.prepareStatement ("insert into EMPLOYEES (EMPLOYEE_ID, FIRST_NAME) values (?, ?)");
    stmt = conn.createStatement("truncate table EMPLOYEES"); 
 
    // Add LESLIE as employee number 1500
    pstmt.setInt (1, 1500);          // The first ? is for EMPLOYEE_ID
    pstmt.setString (2, "LESLIE");   // The second ? is for FIRST_NAME
    pstmt.execute();
    stmt.executeUpdate();
 
    // Add MARSHA as employee number 507
    pstmt.setInt (1, 507);           // The first ? is for EMPLOYEE_ID
    pstmt.setString (2, "MARSHA");   // The second ? is for FIRST_NAME
    pstmt.execute();
    stmt.executeUpdate();
    }
finally{
if(pstmt!=null)
 
    // Close the statement
     pstmt.close();
}
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="accessing-and-manipulating-Oracle-data.html#GUID-018F8001-45D2-4368-82F2-3B227C1341D9">The setObject and setOracleObject Methods</a></li>
                           <li><a href="accessing-and-manipulating-Oracle-data.html#GUID-B34BA42E-A004-4A63-8252-96405D7110A6">Other setXXX Methods</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="JJDBC29017"></a><a id="JJDBC28071"></a><div class="props_rev_3"><a id="GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9" name="GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9"></a><h4 id="JJDBC-GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9" class="sect4"><span class="enumeration_section">2.3.8 </span>About Committing Changes
                  </h4>
                  <div>
                     <p>By default, data manipulation language (DML) operations are committed automatically as soon as they are run. This is known as the <a id="d16478e1522" class="indexterm-anchor"></a>auto-commit mode. If auto-commit mode is on and you perform a <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> operation using the <code class="codeph">commit</code> or <code class="codeph">rollback</code> method on a connection object, then you get the following error messages:
                     </p>
                     <div class="tblformal" id="GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9__CIAEFJEH">
                        <p class="titleintable">Table 2-2 Error Messages for Operations Performed When Auto-Commit Mode is ON</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Error Messages for Operations Performed When Auto-Commit Mode is ON" summary="Error Messages" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d16478e1547">Operation</th>
                                 <th align="left" valign="bottom" width="69%" id="d16478e1550">Error Messages</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d16478e1555" headers="d16478e1547 ">
                                    <p><code class="codeph">COMMIT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d16478e1555 d16478e1550 ">
                                    <p><code class="codeph">Could not commit with auto-commit set on</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d16478e1564" headers="d16478e1547 ">
                                    <p><code class="codeph">ROLLBACK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d16478e1564 d16478e1550 ">
                                    <p><code class="codeph">Could not rollback with auto-commit set on</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If a SQLException is raised during a <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> operation with the error messages as mentioned in the preceding table, then check the auto-commit status of the connection because you get an exception when these operations are performed on a connection that has auto-commit value set to <code class="codeph">true</code>.
                     </p>
                     <p>This exception is raised for any one of the following cases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When auto-commit status is set to <code class="codeph">true</code> and <code class="codeph">commit</code> or <code class="codeph">rollback</code> method is called
                           </p>
                        </li>
                        <li>
                           <p>When the default status of auto-commit is not changed and <code class="codeph">commit</code> or <code class="codeph">rollback</code> method is called
                           </p>
                        </li>
                        <li>
                           <p>When the value of the <code class="codeph">COMMIT_ON_ACCEPT_CHANGES</code> property is <code class="codeph">true</code> and <code class="codeph">commit</code> or <code class="codeph">rollback</code> method is called after calling the <code class="codeph">acceptChanges</code> method on a rowset
                           </p>
                        </li>
                     </ul>
                     <p>However, you can disable auto-commit mode with the following method call on the <code class="codeph">Connection</code> object:
                     </p><pre class="oac_no_warn" dir="ltr">conn.setAutoCommit(false);
</pre><p>If you disable the auto-commit mode, then you must manually commit or roll back changes with the appropriate method call on the <code class="codeph">Connection</code> object:
                     </p><pre class="oac_no_warn" dir="ltr">conn.commit();
</pre><p>or:</p><pre class="oac_no_warn" dir="ltr">conn.rollback();
</pre><p>A <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> operation affects all DML statements run since the last <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-96D6787D-71A6-4282-B17E-0951DED3DEF9__GUID-9285F874-43CD-4B43-92ED-C6B14EDF1D75">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the auto-commit mode is disabled and you close the connection without explicitly committing or rolling back your last changes, then an implicit <code class="codeph">COMMIT</code> operation is run.
                              </p>
                           </li>
                           <li>
                              <p>Any data definition language (DDL) operation always causes an implicit <code class="codeph">COMMIT</code>. If the auto-commit mode is disabled, then this implicit <code class="codeph">COMMIT</code> will commit any pending DML operations that had not yet been explicitly committed or rolled back.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="JDBC-coding-tips.html#GUID-0E566AD1-2283-40A0-AD28-0EFBEF99FC9B">Disabling Auto-Commit Mode</a></li>
                        </ul>
                     </div>
                  </div>
                  <a id="JJDBC28072"></a><div class="props_rev_3"><a id="GUID-E495B0CC-B1FF-4B29-9AEB-10573165E6E7" name="GUID-E495B0CC-B1FF-4B29-9AEB-10573165E6E7"></a><h5 id="JJDBC-GUID-E495B0CC-B1FF-4B29-9AEB-10573165E6E7" class="sect5"><span class="enumeration_section">2.3.8.1 </span>Changing Commit Behavior
                     </h5>
                     <div>
                        <div class="section">
                           <p>When a transaction updates the database, it generates a redo entry corresponding to this update. Oracle Database buffers this redo in memory until the completion of the transaction. When you commit the transaction, the Log Writer (LGWR) process writes the redo entry for the commit to disk, along with the accumulated redo entries of all changes in the transaction. By default, Oracle Database writes the redo to disk before the call returns to the client. This behavior introduces latency in the commit because the application must wait for the redo entry to be persisted on disk.</p>
                           <p>If your application requires very high transaction throughput and you are willing to trade commit durability for lower commit latency, then you can change the behavior of the default <code class="codeph">COMMIT</code> operation, depending on the needs of your application. You can change the behavior of the <code class="codeph">COMMIT</code> operation with the following options:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">WAIT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">NOWAIT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">WRITEBATCH</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">WRITEIMMED</code></p>
                              </li>
                           </ul>
                           <p>These options let you control two different aspects of the commit phase:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Whether the <code class="codeph">COMMIT</code> call should wait for the server to process it or not. This is achieved by using the <code class="codeph">WAIT</code> or <code class="codeph">NOWAIT</code> option.
                                 </p>
                              </li>
                              <li>
                                 <p>Whether the Log Writer should batch the call or not. This is achieved by using the <code class="codeph">WRITEIMMED</code> or <code class="codeph">WRITEBATCH</code> option.
                                 </p>
                              </li>
                           </ul>
                           <p>You can also combine different options together. For example, if you want the <code class="codeph">COMMIT</code> call to return without waiting for the server to process it and also the log writer to process the commits in batch, then you can use the <code class="codeph">NOWAIT</code> and <code class="codeph">WRITEBATCH</code> options together. For example:
                           </p><pre class="oac_no_warn" dir="ltr">((OracleConnection)conn).commit(
    EnumSet.of(
      OracleConnection.CommitOption.WRITEBATCH,
      OracleConnection.CommitOption.NOWAIT));
</pre><div class="infoboxnote" id="GUID-E495B0CC-B1FF-4B29-9AEB-10573165E6E7__GUID-27EB6180-0AE1-4DBF-8532-4A13A03239E6">
                              <p class="notep1">Note:</p>
                              <p>you cannot use the <code class="codeph">WAIT</code> and <code class="codeph">NOWAIT</code> options together because they have opposite meanings. If you do so, then the JDBC driver will throw an exception. The same applies to the <code class="codeph">WRITEIMMED</code> and <code class="codeph">WRITEBATCH</code> options.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="JJDBC28073"></a><div class="props_rev_3"><a id="GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB" name="GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB"></a><h4 id="JJDBC-GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB" class="sect4"><span class="enumeration_section">2.3.9 </span>Closing the Connection
                  </h4>
                  <div>
                     <div class="section">
                        <p>You <a id="d16478e1813" class="indexterm-anchor"></a>must close the connection to the database after you have performed all the required operations and no longer require the connection. You can close the connection by using the <code class="codeph">close</code> method of the <code class="codeph">Connection</code> object, as follows:
                        </p><pre class="oac_no_warn" dir="ltr">conn.close();
</pre><div class="infoboxnote" id="GUID-9CFCCC9C-8386-4427-AC34-DEE0575B58BB__GUID-FDE80679-3A3E-49B7-8286-82571E45897D">
                           <p class="notep1">Note:</p>
                           <p>Typically, you should put <code class="codeph">close</code> statements in a <code class="codeph">finally</code> clause.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28074"></a><div class="props_rev_3"><a id="GUID-D59CA273-203C-431A-BB27-D660ACBFE105" name="GUID-D59CA273-203C-431A-BB27-D660ACBFE105"></a><h3 id="JJDBC-GUID-D59CA273-203C-431A-BB27-D660ACBFE105" class="sect3"><span class="enumeration_section">2.4 </span>Sample: Connecting, Querying, and Processing the Results
               </h3>
               <div>
                  <div class="section">
                     <p>The steps in the preceding sections are illustrated in the following example, which uses the Oracle JDBC Thin driver to create a data source, connects to the database, creates a <code class="codeph">Statement</code> object, runs a query, and processes the result set. 
                     </p>
                     <p>Note that the code for creating the <code class="codeph">Statement</code> object, running the query, returning and processing the <code class="codeph">ResultSet</code> object, and closing the statement and connection uses the standard JDBC API.
                     </p><pre class="oac_no_warn" dir="ltr">import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;
import java.sql.SQLException;
import oracle.jdbc.pool.OracleDataSource;

class JdbcTest
{
   public static void main (String args []) throws SQLException
   {

OracleDataSource ods = null;
Connection conn = null;
Statement stmt = null;
ResultSet rset = null;

      // Create DataSource and connect to the local database
      ods = new OracleDataSource();
      ods.setURL("jdbc:oracle:thin:@//localhost:5221/orcl");
      ods.setUser("HR");
      ods.setPassword("hr");
      conn = ods.getConnection();

try
{
      // Query the employee names 
      stmt = conn.createStatement (); 
      rset = stmt.executeQuery ("SELECT first_name FROM employees");

      // Print the name out 
      while (rset.next ())
         System.out.println (rset.getString (1));
    }

      //Close the result set, statement, and the connection

finally{
      if(rset!=null) rset.close();
      if(stmt!=null) stmt.close();
      if(conn!=null) conn.close();
}
   } 
} 
</pre><p>If you want to adapt the code for the OCI driver, then replace the call to the <code class="codeph">OracleDataSource.setURL</code> method with the following:
                     </p><pre class="oac_no_warn" dir="ltr">ods.setURL("jdbc:oracle:oci:@MyHostString");
</pre><p>where, <code class="codeph">MyHostString</code> is an entry in the <code class="codeph">TNSNAMES.ORA</code> file.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC29019"></a><a id="JJDBC29018"></a><div class="props_rev_3"><a id="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C" name="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C"></a><h3 id="JJDBC-GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C" class="sect3"><span class="enumeration_section">2.5 </span>Support for Invisible Columns
               </h3>
               <div>
                  <p>Starting from this release, Oracle Database supports invisible columns. Using this feature, you can add a column to the table in hidden mode and make it visible later. JDBC provides APIs to retrieve information about invisible columns. To get information about whether a column is invisible or not, you can use the <a id="d16478e1913" class="indexterm-anchor"></a><code class="codeph">isColumnInvisible</code> method available in the <code class="codeph">oracle.jdbc.OracleResultSetMetaData</code> interface in the following way:
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C__GUID-69FAFA33-8B49-4116-8D15-CD9AAAB4FA96">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">...
Connection conn = DriverManager.getConnection(jdbcURL, user, password);
Statement stmt = conn.createStatement ();
stmt.executeQuery ("create table hiddenColsTable (a varchar(20), b int invisible)");
stmt.executeUpdate("insert into hiddenColsTable (a,b ) values('somedata',1)");
stmt.executeUpdate("insert into hiddenColsTable (a,b) values('newdata',2)");
 
System.out.println ("Invisible columns information");
try 
{
      ResultSet rset = stmt.executeQuery("SELECT a, b FROM hiddenColsTable");
      OracleResultSetMetaData rsmd = (OracleResultSetMetaData)rset.getMetaData();
      while (rset.next())
      {
        System.out.println("column1 value:" + rset.getString(1));
        System.out.println("Visibility:" + rsmd.isColumnInvisible(1));
        System.out.println("column2 value:" + rset.getInt(2));
        System.out.println("Visibility:" + rsmd.isColumnInvisible(2));
      }
}
catch (Exception ex)
{
       System.out.println("Exception :" + ex);
       ex.printStackTrace();
}
</pre><p>Alternatively, you can also use the <a id="d16478e1929" class="indexterm-anchor"></a><code class="codeph">getColumns</code> method available in the <code class="codeph">oracle.jdbc.OracleDatabaseMetaData</code> class to retrieve information about invisible columns.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C__GUID-7769CA6D-8D1C-499E-933A-D22B9D930009">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">...
Connection conn = DriverManager.getConnection(jdbcURL, user, password);
Statement stmt = conn.createStatement ();
stmt.executeQuery ("create table hiddenColsTable (a varchar(20), b int invisible)");
stmt.executeUpdate("insert into hiddenColsTable (a,b ) values('somedata',1)");
stmt.executeUpdate("insert into hiddenColsTable (a,b) values('newdata',2)");
 
 System.out.println ("getColumns for table with invisible columns");
 try
 {
      DatabaseMetaData dbmd = conn.getMetaData();
      ResultSet rs = dbmd.getColumns(null, "HR", "hiddenColsTable", null);
      OracleResultSetMetaData rsmd = (OracleResultSetMetaData)rs.getMetaData();
      int colCount = rsmd.getColumnCount();
      System.out.println("colCount: " + colCount);
      String[] columnNames = new String [colCount];
 
      for (int i = 0; i &lt; colCount; ++i)
      {
        columnNames[i] = rsmd.getColumnName (i + 1);
      }
 
      while (rs.next())
      {
        for (int i = 0; i &lt; colCount; ++i)
           System.out.println(columnNames[i] +":" +rs.getString (columnNames[i]));
      }
 }
 catch (Exception ex)
 {
      System.out.println("Exception: " + ex);
      ex.printStackTrace();
 }
</pre><div class="infoboxnote" id="GUID-2796DCC2-29FF-4D65-852F-ABCA3AFCEE9C__GUID-5CB8882C-77D8-4685-94D5-4030F67921CE">
                        <p class="notep1">Note:</p>
                        <p>The server-side internal driver, <code class="codeph">kprb</code> does not support fetching information about invisible columns.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-F30B1931-7755-4973-A113-DB6D25C85937" name="GUID-F30B1931-7755-4973-A113-DB6D25C85937"></a><h3 id="JJDBC-GUID-F30B1931-7755-4973-A113-DB6D25C85937" class="sect3"><span class="enumeration_section">2.6 </span>Support for Verifying JSON Data
               </h3>
               <div>
                  <p></p>
                  <p>Starting from Oracle Database Release 18c, JDBC drivers can verify whether a column returned in the <code class="codeph">ResultSet</code> is a JSON column or not. To get information about whether a column is JSON or not, you can use the <code class="codeph">isColumnJSON</code> method available in the <code class="codeph">oracle.jdbc.OracleResultSetMetaData</code> interface in the following way:
                  </p>
                  <div class="example" id="GUID-F30B1931-7755-4973-A113-DB6D25C85937__GUID-70331B81-604A-47EE-A315-421B5DCD231D">
                     <p class="titleinexample">Example 2-1 Example</p><pre class="pre codeblock"><code>
  ...
  public void test(Connection conn)
      throws Exception{

    try {
      show ("tkpjb26776242 - start");
      createTable(conn);    
      
      String sql = "SELECT col1, col2, col3, col4, col5, col6, col7, col8 FROM tkpjb26776242_tab";
      Statement stmt = conn.createStatement();
      ResultSet rs = stmt.executeQuery(sql);
      ResultSetMetaData rsmd = rs.getMetaData();

      OracleResultSetMetaData orsmd   = (OracleResultSetMetaData)rsmd;
              
      int colCnt = orsmd.getColumnCount();
      show("Table has " + colCnt + " columns.");
      for (int i = 1; i &lt;= colCnt; i++) {
        String columnName = orsmd.getColumnName(i);
        String typeName = orsmd.getColumnTypeName(i);
        boolean invisible = orsmd.isColumnInvisible(i);
        boolean json = orsmd.isColumnJSON(i);
        show(columnName + "  " + typeName + (invisible?"   INVISIBLE":"") + (json?"   JSON":""));
      }

      rs.close();
      stmt.close();
      
      show ("tkpjb26776242 - end");
    }
    finally {
      dropTable(conn);
    }
  }
  
  
  private void createTable(Connection conn) throws Exception{
    String sql = " create table tkpjb26776242_tab ( "
                 + "  col1 clob, "
                 + " col2 clob , "
                 + " col3 clob INVISIBLE, "
                 + " col4 clob INVISIBLE, "
                 + " col5 varchar2(200), "
                 + " col6 varchar2(200), "
                 + " col7 varchar2(200) INVISIBLE, "
                 + " col8 varchar2(200) INVISIBLE, "
                 + " check (col2 IS JSON), "
                 + " check (col4 IS JSON), "
                 + " check (col6 IS JSON), "
                 + " check (col8 IS JSON))";
    
    Util.doSQL(conn, sql);
  }
  
  private void dropTable(Connection conn) throws Exception{
    String sql = " drop table tkpjb26776242_tab";
    
    Util.trySQL(conn, sql);
  }
    ...</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="JJDBC29020"></a><a id="JJDBC29005"></a><div class="props_rev_3"><a id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92" name="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92"></a><h3 id="JJDBC-GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92" class="sect3"><span class="enumeration_section">2.7 </span>Support for Implicit Results
               </h3>
               <div>
                  <p>Starting from this release, Oracle Database supports results of SQL statements executed in a stored procedure to be returned implicitly to the client applications without the need to explicitly use a <code class="codeph">REF CURSOR</code>. You can use the following methods to retrieve and process the implicit results returned by PL/SQL procedures or blocks:
                  </p>
                  <div class="tblformal" id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92__GUID-82DB4879-A1BF-4A0C-8BE7-47473B5C0FD5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes the methods to work with implicit cursors" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="37%" id="d16478e2024">Method</th>
                              <th align="left" valign="bottom" width="63%" id="d16478e2027">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d16478e2032" headers="d16478e2024 ">
                                 <p><code class="codeph">getMoreResults</code></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d16478e2032 d16478e2027 ">
                                 <p>Checks if there are more results available in the result set</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d16478e2040" headers="d16478e2024 ">
                                 <p><a id="d16478e2042" class="indexterm-anchor"></a><code class="codeph">getMoreResults(int)</code></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d16478e2040 d16478e2027 ">
                                 <p>Checks if there are more results available in the result set, like the overloaded method. This method accepts an <code class="codeph">int</code> parameter that can have one of the following values:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">KEEP_CURRENT_RESULT</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLOSE_ALL_RESULTS</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">CLOSE_CURRENT_RESULT</code></p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="37%" id="d16478e2066" headers="d16478e2024 ">
                                 <p><code class="codeph">getResultSet</code></p>
                              </td>
                              <td align="left" valign="top" width="63%" headers="d16478e2066 d16478e2027 ">
                                 <p>Iteratively retrieves each implicit result from an executed PL/SQL statement</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnote" id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92__GUID-24BB0E2F-FB00-48BA-8F76-7FEC69C67EA3">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The server-side internal driver, <code class="codeph">kprb</code> does not support fetching information about implicit results.
                           </p>
                        </li>
                        <li>
                           <p>Only SELECT queries can be returned implicitly.</p>
                        </li>
                        <li>
                           <p>Applications retrieve each result set sequentially, but can fetch rows from any result set independent of the sequence.</p>
                        </li>
                     </ul>
                  </div>
                  <p>Suppose you have a procedure called <code class="codeph">foo</code> as the following:
                  </p><pre class="oac_no_warn" dir="ltr"> create procedure foo as
  c1 sys_refcursor;
  c2 sys_refcursor;
begin
  open c1 for select * from hr.employees;
  dbms_sql.return_result(c1); --return to client
  -- open 1 more cursor
  open c2 for select * from hr.departments;
  dbms_sql.return_result (c2); --return to client
end;
 </pre><p>The following code snippet demonstrates how to retrieve the implicit results returned by PL/SQL procedures using the <code class="codeph">getMoreResults</code> methods:
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92__GUID-C3C6C824-9CDD-4B8F-B43E-D4C21175281A">Example 1</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">String sql = "begin foo; end;";
...
Connection conn = DriverManager.getConnection(jdbcURL, user, password);
 try {
        Statement stmt = conn.createStatement (); 
        stmt.executeQuery (sql);
 
        while (stmt.getMoreResults())
        {
              ResultSet rs = stmt.getResultSet();
              System.out.println("ResultSet");
              while (rs.next())
             {   
                   /* get results */
             }
         }
      }
</pre><p>Suppose you have another procedure called <code class="codeph">foo</code> as the following:
                     </p><pre class="oac_no_warn" dir="ltr">create or replace procedure foo asc1 sys_refcursor; c2 sys_refcursor; c3 sys_refcursor; begin   open c1 for 'select * from hr.employees';
dbms_sql.return_result (c1);-- cursor 2open c2 for 'select * from hr.departments';
dbms_sql.return_result (c2);-- cursor 3open c3 for 'select first_name from hr.employees';
dbms_sql.return_result (c3); end;
</pre><p>The following code snippet demonstrates how to retrieve the implicit results returned by PL/SQL procedures using the <code class="codeph">getMoreResults(int)</code> methods:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FA6FA05D-CE5C-4A03-B70E-8DD9F8F5DD92__GUID-54EE9DA5-AEDB-4019-BD67-E2B4C78E280D">Example 2</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">String sql = "begin foo; end;";
...
Connection conn = DriverManager.getConnection(jdbcURL, <span class="italic">user</span>, <span class="italic">password</span>);
 
try {
        Statement stmt = conn.createStatement (); 
        stmt.executeQuery (sql);
        ResultSet rs = null; 
     
        boolean retval = stmt.getMoreResults(Statement.KEEP_CURRENT_RESULT))
        if (retval)
        {
            rs = stmt.getResultSet();
            System.out.println("ResultSet");
            while (rs.next())
            {   
                /* get results */
            }
        }
 
        /* closes open results */
        retval = stmt.getMoreResults(Statement.CLOSE_ALL_RESULTS);
 
        if (retval) 
        {
            System.out.println("More ResultSet available");
            rs = stmt.getResultSet();
            System.out.println("ResultSet");
            while (rs.next())
            {   
                /* get results */
            }
        }
  
        /* close current result set */
        retval = stmt.getMoreResults(Statement.CLOSE_CURRENT_RESULT);
        
        if(retval)
        {
            System.out.println("More ResultSet available");
            rs = stmt.getResultSet();
            while (rs.next())
            {
                /* get Results */
        
            }
        }
    }
</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521" name="GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521"></a><h3 id="JJDBC-GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521" class="sect3"><span class="enumeration_section">2.8 </span>Support for Lightweight Connection Validation
               </h3>
               <div>
                  <p></p>
                  <p>Starting from Oracle Database Release 18c, JDBC Thin driver supports lightweight connection validation. Lightweight connection validation enables JDBC applications to verify connection validity by sending a zero length NS data packet that does not require a round-trip to the database. For the earlier releases of Oracle Database, when you call the <code class="codeph">isValid(timeout)</code> method to test the validity of a connection, Oracle JDBC driver uses a ping-pong protocol, which is an expensive operation as it makes a full round-trip to the database. In Oracle Database Release 18c, the <code class="codeph">isValid(timeout)</code> method instead sends an empty packet to the database and does not wait to receive it back. So, connection validation is faster, which results in better application performance.
                  </p>
                  <p>Lightweight connection validation is disabled by default. To enable this feature, you must set the <code class="codeph">oracle.jdbc.defaultConnectionValidation</code> connection property value to <code class="codeph">SOCKET</code>. If this property is set, then the JDBC driver performs lightweight connection validation, when you call the <code class="codeph">isValid(timeout)</code> method.
                  </p>
                  <div class="infoboxnote" id="GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521__GUID-E9D44968-9A34-4AC0-93B4-7CA185BEBEC3">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Lightweight connection validation checks only the underlying socket health. When the <code class="codeph">isValid(timeout)</code> method returns <code class="codeph">true</code>, that is, if a connection is termed as valid, this validation only guarantees that the server is not unreachable (dead socket). It does not provide any status about the server processes, like whether they are running or not. However, by default, that is, when lightweight connection validation is not enabled, the <code class="codeph">isValid(timeout)</code> method does check whether the network between the client and the server is intact or not.
                           </p>
                        </li>
                        <li>
                           <p>Only the JDBC Thin driver supports this feature.</p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">New APIs for Lightweight Connection Validation</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">oracle.jdbc.defaultConnectionValidation</code></p>
                        <p>This connection property specifies the level of connection validation. The possible values for this property are: <code class="codeph">NONE</code>, <code class="codeph">LOCAL</code>, <code class="codeph">SOCKET</code>, <code class="codeph">NETWORK</code>, <code class="codeph">SERVER</code>, and <code class="codeph">COMPLETE</code>. These values are case-sensitive, and setting any value other than these values throws an exception. The default value is <code class="codeph">NETWORK</code>. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">public boolean isValid(ConnectionValidation validation_level, int timeout) throws SQLException</code></p>
                        <p>The new variation of the existing <code class="codeph">isValid(timeout)</code> method accepts two parameters: level of validation (<code class="codeph">validation_level</code>) and <code class="codeph">timeout</code>. The first parameter specifies the level of connection validation.
                        </p>
                     </li>
                  </ul>
                  <div class="example" id="GUID-6AFB71F0-EFA9-43A0-AF96-03E6FB2F3521__GUID-8FB906BE-3FCC-47A3-801C-C89390E0E41F">
                     <p class="titleinexample">Example 2-2 Example of Lightweight Connection Validation</p>
                     <p>The following code snippet demonstrates how to implement lightweight connection mechanism:</p><pre class="pre codeblock"><code>    ...
    OracleDataSource ods = new OracleDataSource();
    ods.setURL(url);
    ods.setUser(user);
    ods.setPassword(password);
    Connection conn = ods.getConnection();
    try{
          boolean isValid = ((OracleConnection)conn).
                           		isValid(ConnectionValidation.SOCKET,timeout);                          
          System.out.println("Connection isValid = "+isValid);
    }
    catch (Exception ex)
   {
         System.out.println("Exception :" + ex);
         ex.printStackTrace();
    }
    ...    ...</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B" name="GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B"></a><h3 id="JJDBC-GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B" class="sect3"><span class="enumeration_section">2.9 </span>Support for Deprioritization of Database Nodes
               </h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p>Starting from Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1), JDBC drivers support deprioritization of database nodes. When a node fails, JDBC deprioritizes it for the next 10 minutes, which is the default expiry time. For example, if there are three nodes A, B, C, and node A is down, then connections are allocated first from nodes B and C, and then from node A. After the default expiry time, node A is no longer deprioritized, that is, connections are allocated from all the three nodes on availability basis. Also, during the default expiry time, if a connection attempt to node A succeeds, then node A is no longer considered to be a deprioritized node. You can specify the default expiry time for deprioritization using the <code class="codeph">oracle.net.DOWN_HOSTS_TIMEOUT</code> system property.
                     </p>
                     <p>For example, in the following URL, <code class="codeph">scan_listener0</code> has <code class="codeph">ip1</code>, <code class="codeph">ip2</code>, and <code class="codeph">ip3</code> IP addresses configured, after retrieving its IP addresses. Now, if <code class="codeph">ip1</code> is deprioritized, then the order of trying IP addresses will be <code class="codeph">ip2</code>, <code class="codeph">ip3</code>, and then <code class="codeph">ip1</code>. If all IP addresses are unavailable, then the whole host is tried last, after trying <code class="codeph">node_1</code> and <code class="codeph">node_2</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-D5BB4E1F-59FD-4C5E-876C-71420F2DAE9B__GUID-A9F1321A-23A2-44C1-8CAC-262247CDFABF"><pre class="pre codeblock"><code>(DESCRIPTION_LIST=  
    (DESCRIPTION=
        (ADDRESS_LIST=
            (ADDRESS=(PROTOCOL=tcp)(HOST=scan_listener0)(PORT=1521))
            (ADDRESS=(PROTOCOL=tcp)(HOST=node_1)(PORT=1528))              
            (ADDRESS=(PROTOCOL=sdp)(HOST=node_2)(PORT=1527))
        )
        (ADDRESS_LIST=
            (ADDRESS=(PROTOCOL=tcp)(HOST=node_3)(PORT=1528))
        )              
        (CONNECT_DATA=(SERVICE_NAME=cdb3))
    )
    (DESCRIPTION=
        (ADDRESS=(PROTOCOL=tcp)(HOST=node_0)(PORT=1528))
        (CONNECT_DATA=(SERVICE_NAME=cdb3))
    )
)</code></pre></div>
                  <!-- class="example" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6" name="GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6"></a><h3 id="JJDBC-GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6" class="sect3"><span class="enumeration_section">2.10 </span>Support for Oracle Connection Manager in Traffic Director Mode
               </h3>
               <div>
                  <p></p>
                  <p>Oracle Database Release 18c JDBC Drivers support Oracle Connection Manager in Traffic Director Mode, which is a proxy placed between the database clients and the database instances. A JDBC client can connect to the Oracle Connection Manager in Traffic Director Mode, which in turn connects to the target Oracle Database. The  Two-Task Common (TTC) messages, which are sent from the clients, are intercepted by Oracle Connection Manager in Traffic Director Mode. It parses the incoming TTC messages and relays the request to the appropriate destination database. Once the responses are received, Oracle Connection Manager in Traffic Director Mode transfers the results back from the destination database to the clients through TTC responses.</p>
                  <p>The following image illustrates the architecture of Oracle Connection Manager in Traffic Director Mode:</p>
                  <div class="figure" id="GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6__ORACLECONNECTIONMANAGERINTRAFFICDIR-54E999C1">
                     <p class="titleinfigure">Figure 2-1 Architecture of Oracle Connection Manager in Traffic Director Mode</p><img src="img/cmantraffdrmode.png" alt="Description of Figure 2-1 follows" title="Description of Figure 2-1 follows" longdesc="img_text/cmantraffdrmode.html"><br><a href="img_text/cmantraffdrmode.html">Description of "Figure 2-1 Architecture of Oracle Connection Manager in Traffic Director Mode"</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-65A18AD5-04DE-4EE0-8069-4F27449AC5B6__GUID-42A50B7D-8A5B-4275-8725-38C3E0DFE5ED">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for more information about configuring the <code class="codeph">cman.ora</code> file to set up Oracle Connection Manager in Traffic Director Mode
                           </p>
                        </li>
                        <li>
                           <p><a href="../netrf/oracle-connection-manager-parameters.html#NETRF-GUID-E52E7D07-FD9C-4B21-9EEA-65D7B0AB453F" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> for more information about Oracle Connection Manager in Traffic Director Mode parameters
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-C003C202-59A7-46D9-A044-0B6E70F0327B" name="GUID-C003C202-59A7-46D9-A044-0B6E70F0327B"></a><h4 id="JJDBC-GUID-C003C202-59A7-46D9-A044-0B6E70F0327B" class="sect4"><span class="enumeration_section">2.10.1 </span>Modes of Running Oracle Connection Manager in Traffic Director Mode
                  </h4>
                  <div>
                     <p></p>
                     <p>You can run Oracle Connection Manager in Traffic Director Mode in the following modes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Pooled connection mode</span></p>
                           <p>The pooled connection mode uses a new feature called Proxy Resident Connection Pooling, which is a proxy-enabled mode of Database Resident Connection Pooling. The Proxy Resident Connection Pooling reduces the connection load on the database as it multiplexes a large number of client connections over a fewer number of database connections. Any application using Oracle Database 12<span class="italic">c</span> Release 1 (12.1) JDBC drivers and later can use this connection mode.
                           </p>
                           <div class="infoboxnote" id="GUID-C003C202-59A7-46D9-A044-0B6E70F0327B__GUID-C3BFC3CC-203D-469A-87B9-A101FA99BDFF">
                              <p class="notep1">Note:</p>
                              <p>This feature can best be used with clients using DRCP-aware connection pools.</p>
                           </div>
                        </li>
                        <li>
                           <p><span class="bold">Nonpooled or dedicated connection mode</span></p>
                           <p>You can use the Nonpooled or dedicated connection mode with applications using Oracle Database 11<span class="italic">g</span> Release 2 (11.2.0.4) JDBC drivers and later. However, some capabilities such as connection multiplexing are not available in this mode.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="database-resident-connection-pooling.html#GUID-8B2DD8CE-5E6A-4D15-8997-D3261F137D8E">Overview of Database Resident Connection Pooling</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-C003C202-59A7-46D9-A044-0B6E70F0327B__GUID-3B394EC2-520C-419B-B35E-211B57D56F5B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/managing-processes.html#ADMIN-GUID-E0032017-03B1-4F14-AF9B-BCC87C982DA8" target="_blank">Database Admin Guide</a></p>
                           </li>
                           <li>
                              <p><a href="../jjucp/intro.html#JJUCP-GUID-F9DE0E14-C0D9-40E7-99A3-AC207CE9DF14" target="_blank">Universal Connection Pool Developer's Guide</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-C8DDB1C4-7855-40F1-921B-40BB43B2247F" name="GUID-C8DDB1C4-7855-40F1-921B-40BB43B2247F"></a><h4 id="JJDBC-GUID-C8DDB1C4-7855-40F1-921B-40BB43B2247F" class="sect4"><span class="enumeration_section">2.10.2 </span>Benefits of Oracle Connection Manager in Traffic Director Mode
                  </h4>
                  <div>
                     <p></p>
                     <p>Oracle Connection Manager in Traffic Director Mode provides the following benefits:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <div class="p">Transparent performance enhancements and connection multiplexing, which includes:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Statement caching, rows prefetching, and result set caching are auto-enabled for all modes of operation.</p>
                                 </li>
                                 <li>
                                    <p>Database session multiplexing (pooled mode only) using the proxy resident connection pool (PRCP), where PRCP is a proxy mode of Database Resident Connection Pooling (DRCP). Applications get transparent connection-time load balancing and run-time load balancing between Oracle Connection Manager in Traffic Director Mode and the database.</p>
                                 </li>
                                 <li>
                                    <p>For multiple Oracle Connection Manager in Traffic Director Mode instances, applications get increased scalability through client-side connection-time load balancing or with a load balancer (BIG-IP, NGINX, and others)</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <div class="p">Zero application downtime
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <div class="p">Planned database maintenance or pluggable database (PDB) relocation
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>Pooled mode</p>
                                             <p>Oracle Connection Manager in Traffic Director Mode responds to Oracle Notification Service (ONS) events for planned outages and redirects work. Connections are drained from the pool on Oracle Connection Manager in Traffic Director Mode when the request completes. Service relocation is supported for Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.4) and later.
                                             </p>
                                             <p>For PDB relocation, Oracle Connection Manager in Traffic Director Mode responds to in-band notifications when a PDB is relocated, that is even when ONS is not configured (for Oracle Database release 18c and later server only)&nbsp;</p>
                                          </li>
                                          <li>
                                             <p>Non-pooled or dedicated mode</p>
                                             <div class="p">When there is no request boundary information from the client, Oracle Connection Manager in Traffic Director Mode supports planned outage for many applications (as long as only simple session state and cursor state need to be preserved across the request or transaction boundaries). This support includes:
                                                <ul style="list-style-type: disc;">
                                                   <li>
                                                      <p>Stop service or PDB at the transaction boundary, or it leverages Oracle Database release 18c&nbsp;continuous application availability&nbsp;to stop the service at the request boundary</p>
                                                   </li>
                                                   <li>
                                                      <p>Oracle Connection Manager in Traffic Director Mode leverages Transparent Application Failover (TAF) failover restore to reconnect and restore simple states.</p>
                                                   </li>
                                                </ul>
                                             </div>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                                 <li>
                                    <p>Unplanned database outages for read-mostly workloads</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <div class="p">High Availability of Oracle Connection Manager in Traffic Director Mode to avoid a single point of failure. This is supported by:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Multiple instances of Oracle Connection Manager in Traffic Director Mode using a load balancer or client side load balancing/failover in the connection string</p>
                                 </li>
                                 <li>
                                    <p>Rolling upgrade of Oracle Connection Manager in Traffic Director Mode instances</p>
                                 </li>
                                 <li>
                                    <p>Graceful close of existing connections from client to Oracle Connection Manager in Traffic Director Mode for planned outages</p>
                                 </li>
                                 <li>
                                    <p>In-band notifications to Oracle Database release 18c and later clients</p>
                                 </li>
                                 <li>
                                    <p>For older clients, notifications are sent with the response of the current request</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <div class="p">For security and isolation, Oracle Connection Manager in Traffic Director Mode furnishes:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Database Proxy supporting transmission control protocol/transmission control protocol secure (TCP/TCPS) and protocol conversion</p>
                                 </li>
                                 <li>
                                    <p>Firewall based on the IP address, service name, and secure socket layer/transport layer security (SSL/TLS) wallets</p>
                                 </li>
                                 <li>
                                    <p>Tenant isolation in a multi-tenant environment</p>
                                 </li>
                                 <li>
                                    <p>Protection against denial-of-service and fuzzing attacks</p>
                                 </li>
                                 <li>
                                    <p>Secure tunneling of database traffic across Oracle Database on-premises and Oracle Cloud</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-41B25260-68F4-4080-A79D-7E2EA3670E5D" name="GUID-41B25260-68F4-4080-A79D-7E2EA3670E5D"></a><h4 id="JJDBC-GUID-41B25260-68F4-4080-A79D-7E2EA3670E5D" class="sect4"><span class="enumeration_section">2.10.3 </span>Restrictions for Oracle Connection Manager in Traffic Director Mode
                  </h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p>The following functionalities are not supported with Oracle Connection Manager in Traffic Director Mode:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Distributed Transactions</p>
                           </li>
                           <li>
                              <p>Advanced Queuing (AQ)</p>
                           </li>
                           <li>
                              <p>Database Startup or Database Shutdown calls</p>
                           </li>
                           <li>
                              <p>Sharding</p>
                           </li>
                           <li>
                              <p>XML</p>
                           </li>
                           <li>
                              <p>SQL Translation</p>
                           </li>
                           <li>
                              <p>Proxy Authentication and SSL External Authentication, such as Distinguished Names (DNs) used in LDAP</p>
                           </li>
                           <li>
                              <p>Object REF</p>
                           </li>
                           <li>
                              <p>Session switching</p>
                           </li>
                           <li>
                              <p>Scrollable Cursor</p>
                           </li>
                           <li>
                              <p>Per Iteration DML Row Counts</p>
                           </li>
                           <li>
                              <p>Implicit Results</p>
                           </li>
                           <li>
                              <p>Continuous Query Notification (CQN)</p>
                           </li>
                           <li>
                              <p>Client Result Cache</p>
                           </li>
                           <li>
                              <p>PL/SQL Callback for Session State Fix Up in Database Resident Connection Pooling (DRCP)</p>
                           </li>
                           <li>
                              <p>Multiple tagging in Database Resident Connection Pooling (DRCP)</p>
                           </li>
                           <li>
                              <p>Application Continuity</p>
                           </li>
                           <li>
                              <p>Authentication such as SYSDBA, SYSOPER and so on</p>
                           </li>
                           <li>
                              <p>Real Application Security</p>
                           </li>
                           <li>
                              <p>Data types such as PL/SQL Indexed Table Binds</p>
                           </li>
                           <li>
                              <p>Bulk Copy (ODP.Net only)</p>
                           </li>
                           <li>
                              <p>Self-Tuning (ODP.Net only)</p>
                           </li>
                           <li>
                              <p>ASO encryption and supported algorithms (ASO only)</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28075"></a><div class="props_rev_3"><a id="GUID-98F62472-1415-4099-A6B6-7C13C6AEC040" name="GUID-98F62472-1415-4099-A6B6-7C13C6AEC040"></a><h3 id="JJDBC-GUID-98F62472-1415-4099-A6B6-7C13C6AEC040" class="sect3"><span class="enumeration_section">2.11 </span>Stored Procedure Calls in JDBC Programs
               </h3>
               <div>
                  <div class="section">
                     <p>This section describes how Oracle JDBC drivers support the following kinds of stored procedures:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-E3DE7C3D-117B-498F-AA5D-159E9EC99770">PL/SQL Stored Procedures</a></p>
                        </li>
                        <li>
                           <p><a href="JDBC-getting-started.html#GUID-DDC759FB-A823-4511-9846-F20EC3DA4FC0">Java Stored Procedures</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="JJDBC28076"></a><div class="props_rev_3"><a id="GUID-E3DE7C3D-117B-498F-AA5D-159E9EC99770" name="GUID-E3DE7C3D-117B-498F-AA5D-159E9EC99770"></a><h4 id="JJDBC-GUID-E3DE7C3D-117B-498F-AA5D-159E9EC99770" class="sect4"><span class="enumeration_section">2.11.1 </span>PL/SQL Stored Procedures
                  </h4>
                  <div>
                     <div class="section">
                        <p>JDBC supports the invocation of PL/SQL procedures/functions and anonymous blocks, using either JDBC escape syntax or PL/SQL block syntax. The following PL/SQL calls would work with any Oracle JDBC driver:</p><pre class="oac_no_warn" dir="ltr">// JDBC escape syntax
CallableStatement cs1 = conn.prepareCall
                       ( "{call proc (?,?)}" ) ; // stored proc
CallableStatement cs2 = conn.prepareCall
                       ( "{? = call func (?,?)}" ) ; // stored func
// PL/SQL block syntax
CallableStatement cs3 = conn.prepareCall
                       ( "begin proc (?,?); end;" ) ; // stored proc
CallableStatement cs4 = conn.prepareCall
                       ( "begin ? := func(?,?); end;" ) ; // stored func
</pre><p>As an example of using the Oracle syntax, here is a PL/SQL code snippet that creates a stored function. The PL/SQL function gets a character sequence and concatenates a suffix to it:</p><pre class="oac_no_warn" dir="ltr">create or replace function foo (val1 char)
return char as
begin
   return val1 || 'suffix';
end;
</pre><p>The function invocation in your JDBC program should look like the following:</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource();
ods.setURL("jdbc:oracle:oci:@&lt;hoststring&gt;");
ods.setUser("HR");
ods.setPassword("hr");
Connection conn = ods.getConnection();

CallableStatement cs = conn.prepareCall ("begin ? := foo(?); end;");
cs.registerOutParameter(1,Types.CHAR);
cs.setString(2, "aa");
cs.execute();
String result = cs.getString(1);
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28077"></a><div class="props_rev_3"><a id="GUID-DDC759FB-A823-4511-9846-F20EC3DA4FC0" name="GUID-DDC759FB-A823-4511-9846-F20EC3DA4FC0"></a><h4 id="JJDBC-GUID-DDC759FB-A823-4511-9846-F20EC3DA4FC0" class="sect4"><span class="enumeration_section">2.11.2 </span>Java Stored Procedures
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d16478e2742" class="indexterm-anchor"></a><a id="d16478e2746" class="indexterm-anchor"></a>You can use JDBC to call Java stored procedures through the SQL interface. The syntax for calling Java stored procedures is the same as the syntax for calling PL/SQL stored procedures, presuming they have been properly published. That is, you have written call specifications to publish them to the Oracle data dictionary. Applications can call Java stored procedures using the Native Java Interface for direct invocation of <code class="codeph">static</code> Java methods.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC28080"></a><a id="JJDBC28078"></a><div class="props_rev_3"><a id="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD" name="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD"></a><h3 id="JJDBC-GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD" class="sect3"><span class="enumeration_section">2.12 </span>About Processing SQL Exceptions
               </h3>
               <div>
                  <p><a id="d16478e2779" class="indexterm-anchor"></a>To handle error conditions, Oracle JDBC drivers throw SQL exceptions, producing instances of the <code class="codeph">java.sql.SQLException</code> class or its subclass. Errors can originate either in the JDBC driver or in the database itself. Resulting messages describe the error and identify the method that threw the error. Additional run-time information can also be appended.
                  </p>
                  <p>JDBC 3.0 defines only a single exception, <code class="codeph">SQLException</code>. However, there are large categories of errors and it is useful to distinguish them. Therefore, in JDBC 4.0, a set of subclasses of the <code class="codeph">SQLException</code> exception is introduced to identify the different categories of errors.
                  </p>
                  <p>Basic exception handling can include retrieving the error message, retrieving the error code, retrieving the SQL state, and printing the stack trace. The <code class="codeph">SQLException</code> class includes functionality to retrieve all of this information, when available.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD__GUID-F34DA044-72B6-439E-9DE9-2600DB623013">Retrieving Error Information</p>
                     <p>You can retrieve basic error information with the following methods of the <code class="codeph">SQLException</code> class:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">getMessage</code> class includes functionality to retrieve all of this information, when available.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">getErrorCode</code> class includes functionality to retrieve all of this information, when available.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">getSQLState</code> class includes functionality to retrieve all of this information, when available.
                           </p>
                        </li>
                     </ul>
                     <p>The following example prints output from a <code class="codeph">getMessage</code> method call: 
                     </p><pre class="oac_no_warn" dir="ltr">catch(SQLException e)
{
   System.out.println("exception: " + e.getMessage());
}
</pre><p>This would print the output, such as the following, for an error originating in the JDBC driver:</p><pre class="oac_no_warn" dir="ltr">exception: Invalid column type
</pre><div class="infoboxnote" id="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD__GUID-A228B9C9-EEE8-405C-B4C2-87C6857609BE">
                        <p class="notep1">Note:</p>
                        <p>Error message text is available in alternative languages and character sets supported by Oracle.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E187D04E-B48D-4394-9DC5-1ECEEBC53AFD__GUID-D159D9A1-FD3C-4101-801D-CE713BF0F524">Printing the Stack Trace</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">SQLException</code> class provides the <code class="codeph">printStackTrace()</code> method for printing a stack trace. This method prints the stack trace of the <code class="codeph">Throwable</code> object to the standard error stream. You can also specify a <code class="codeph">java.io.PrintStream</code> object or <code class="codeph">java.io.PrintWriter</code> object for output.
                     </p>
                     <p>The following code fragment illustrates how you can catch SQL exceptions and print the stack trace. </p><pre class="oac_no_warn" dir="ltr">try { &lt;<span class="italic">some code&gt;</span> } 
catch(SQLException e) { e.printStackTrace (); } 
 </pre><p>To illustrate how the JDBC drivers handle errors, assume the following code uses an incorrect column index: </p><pre class="oac_no_warn" dir="ltr">// Iterate through the result and print the employee names 
// of the code 
 
try { 
  while (rset.next ()) 
      System.out.println (rset.getString (5));  // incorrect column index
}
catch(SQLException e) { e.printStackTrace (); } 
 </pre><p>Assuming the column index is incorrect, running the program would produce the following error text: </p><pre class="oac_no_warn" dir="ltr">java.sql.SQLException: Invalid column index
at oracle.jdbc.OracleDriver.OracleResultSetImpl.getDate(OracleResultSetImpl.java:1556)
at Employee.main(Employee.java:41)
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="JDBC-error-messages.html#GUID-4B127F75-44EE-4BF5-BA00-54A502A1EA06">JDBC Error Messages</a></li>
                        <li><a href="../errmg/using-messages.html#ERRMG-GUID-CA5A766D-6CBF-4235-982F-86A6F34266CC" target="_blank"><span><cite>Oracle Database Error Messages Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>