<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Learn how to create Oracle Text indexes."></meta>
      <meta name="description" content="Learn how to create Oracle Text indexes."></meta>
      <title>创建Oracle文本索引</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Application Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Learn how to create Oracle Text indexes."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Application Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96275-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="indexing-with-oracle-text.html" title="Previous" type="text/html"></link>
      <link rel="next" href="maintaining-oracle-text-indexes.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="CCAPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="indexing-with-oracle-text.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="maintaining-oracle-text-indexes.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">应用程序开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建Oracle文本索引</li>
            </ol>
            <a id="GUID-3505DB0D-B507-4D2E-A157-F16BD79FCF6E" name="GUID-3505DB0D-B507-4D2E-A157-F16BD79FCF6E"></a>
            
            <h2 id="CCAPP-GUID-3505DB0D-B507-4D2E-A157-F16BD79FCF6E" class="sect2"><span class="enumeration_chapter">4</span>创建Oracle文本索引</h2>
         </header>
         <div class="ind">
            <div>
               <p>了解如何创建Oracle Text索引。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-D1C75D15-761D-455D-B837-52549B2172C6">创建Oracle文本索引的过程摘要</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E">创建首选项</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED">部分搜索示例：创建HTML部分</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-71087894-0C0B-42CF-B37E-064401C54545">使用停用词和停止列表</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-11480023-8177-4971-8BA6-9C1526D56943">创建CONTEXT索引</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-210F00C9-8866-466F-909F-71C672CF469B">创建CTXCAT索引</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-32E664C4-0379-4CC0-8040-67B2CFED020C">创建CTXRULE索引</a></p>
                  </li>
                  <li>
                     <p><a href="creating-oracle-text-indexes.html#GUID-237C250A-4215-424B-8AAD-D3EA73F216B7">为JSON创建搜索索引</a></p>
                  </li>
               </ul>
            </div><a id="CCAPP9080"></a><div class="props_rev_3"><a id="GUID-D1C75D15-761D-455D-B837-52549B2172C6" name="GUID-D1C75D15-761D-455D-B837-52549B2172C6"></a><h3 id="CCAPP-GUID-D1C75D15-761D-455D-B837-52549B2172C6" class="sect3"><span class="enumeration_section">4.1</span>创建Oracle文本索引的过程摘要</h3>
               <div>
                  <p>使用Oracle Text，您可以创建<code class="codeph">CONTEXT</code> ， <code class="codeph">CTXCAT</code>和<code class="codeph">CTXRULE.</code>类型的索引<code class="codeph">CTXRULE.</code></p>
                  <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2）开始，您可以选择使用<code class="codeph">ASYNCHRONOUS_UPDATE</code>参数字符串选项保留旧索引条目以搜索原始内容。
                  </p>
                  <p>默认情况下，系统希望您的文档存储在文本列中。满足此要求后，可以使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code> SQL语句作为<code class="codeph">CONTEXT</code>类型的可扩展索引创建Oracle Text索引，而无需显式指定首选项。系统会自动检测您的语言，文本列的数据类型以及文档的格式。接下来，系统设置索引首选项。
                  </p>
                  <div class="infoboxnotealso" id="GUID-D1C75D15-761D-455D-B837-52549B2172C6__GUID-D5F8241C-8D5B-41B8-86B9-E7A3C245B841">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="creating-oracle-text-indexes.html#GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1">默认上下文索引示例</a> ”</span></p>
                  </div>
                  <p>要创建Oracle Text索引：</p>
                  <ol>
                     <li>
                        <p>（可选）如果不使用默认值，请确定自定义索引首选项，节组或停止列表。下表描述了这些索引类：</p>
                        <div class="tblformal" id="GUID-D1C75D15-761D-455D-B837-52549B2172C6__GUID-B222BEE7-297A-4898-AB44-113CE9CBE77A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table provides questions with which you can determine your indexing preferences." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="29%" id="d12292e217">类</th>
                                    <th align="left" valign="bottom" width="71%" id="d12292e220">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e225" headers="d12292e217 ">
                                       <p><a id="d12292e227" class="indexterm-anchor"></a>数据存储</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e225 d12292e220 ">
                                       <p>你的文件是如何存储的？</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e236" headers="d12292e217 ">
                                       <p><a id="d12292e238" class="indexterm-anchor"></a>过滤</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e236 d12292e220 ">
                                       <p>如何将文档转换为纯文本？</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e247" headers="d12292e217 ">
                                       <p><a id="d12292e249" class="indexterm-anchor"></a>词法分析器</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e247 d12292e220 ">
                                       <p>索引的语言是什么？</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e258" headers="d12292e217 ">
                                       <p><a id="d12292e260" class="indexterm-anchor"></a>词汇表</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e258 d12292e220 ">
                                       <p>如何扩展词干和模糊查询？</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e269" headers="d12292e217 ">
                                       <p><a id="d12292e271" class="indexterm-anchor"></a>存储</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e269 d12292e220 ">
                                       <p>如何存储索引数据？</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e280" headers="d12292e217 ">
                                       <p><a id="d12292e282" class="indexterm-anchor"></a>终止列表</p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e280 d12292e220 ">
                                       <p>什么词或主题不被索引？</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="29%" id="d12292e291" headers="d12292e217 ">
                                       <p>科组<a id="d12292e294" class="indexterm-anchor"></a></p>
                                    </td>
                                    <td align="left" valign="top" width="71%" headers="d12292e291 d12292e220 ">
                                       <p>如何定义文档部分？</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </li>
                     <li>
                        <p>（可选）创建自定义首选项，部分组或停止列表。</p>
                     </li>
                     <li>
                        <p>使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code> SQL语句创建Oracle Text索引。为索引命名，并在必要时指定首选项。
                        </p>
                     </li>
                  </ol>
                  <div class="infoboxnotealso" id="GUID-D1C75D15-761D-455D-B837-52549B2172C6__GUID-1283B131-6FBB-4D67-B363-97C648B76BB2">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="indexing-with-oracle-text.html#GUID-7BAD1BF9-999F-4B2E-AC7B-511D57071B93">Oracle Text Indexing的注意事项</a> ”</span>和<a href="../ccref/oracle-text-indexing-elements.html#CCREF0200" target="_blank"><span class="italic">Oracle Text Reference中的</span></a> CREATE INDEX</p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="creating-oracle-text-indexes.html#GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E">创造偏好</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="creating-oracle-text-indexes.html#GUID-11480023-8177-4971-8BA6-9C1526D56943">创建一个上下文索引</a> ”</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="CCAPP9081"></a><div class="props_rev_3"><a id="GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E" name="GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E"></a><h3 id="CCAPP-GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E" class="sect3"><span class="enumeration_section">4.2</span>创建首选项</h3>
               <div>
                  <p>如果需要，可以创建自定义索引首选项以覆盖默认值。使用首选项指定索引信息，例如存储文件的位置以及如何过滤文档。您可以创建首选项，然后设置属性。</p>
                  <div class="infoboxnotealso" id="GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E__GUID-AEA67A29-6248-4D51-A229-B571449C5D9C">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="custom-index-preference-examples.html#GUID-53BE8540-EBF3-4787-8A7D-86A6CF75BC39" title="本附录描述了一些自定义索引首选项示例。">自定义索引首选项示例</a> ”</span></p>
                  </div>
               </div>
            </div><a id="CCAPP9677"></a><a id="CCAPP9092"></a><div class="props_rev_3"><a id="GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED" name="GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED"></a><h3 id="CCAPP-GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED" class="sect3"><span class="enumeration_section">4.3</span>部分搜索示例：创建HTML部分</h3>
               <div>
                  <p>当文档具有内部结构（如HTML和XML）时，您可以在编制索引之前使用嵌入式标记定义文档部分。此方法使您可以使用<code class="codeph">WITHIN</code>运算符在节中查询。您可以将节定义为节组的一部分。
                  </p>
                  <div class="section">
                     <p>这个例子定义了一个<a id="d12292e504" class="indexterm-anchor"></a>节组称为<code class="codeph">htmgroup</code> <span class="italic"> </span>类型为<code class="codeph">HTML_SECTION_GROUP.</code>然后它在<code class="codeph">htmgroup</code>创建一个区域部分，名为由<code class="codeph">&lt;H1&gt;</code>标记标识的<code class="codeph">heading</code> ：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_section_group（'htmgroup'，'HTML_SECTION_GROUP'）; ctx_ddl.add_zone_section（'htmgroup'，'heading'，'H1'）;结束;</pre><div class="infoboxnotealso" id="GUID-301331BA-16EE-4DEE-BAD3-38ACB238CCED__GUID-19174F6D-AA6F-4BAB-8C5F-4ADBC6C6E8BD">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A" title="您可以在文本查询应用程序中使用文档部分。">在Oracle Text中搜索文档部分</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCAPP9094"></a><div class="props_rev_3"><a id="GUID-71087894-0C0B-42CF-B37E-064401C54545" name="GUID-71087894-0C0B-42CF-B37E-064401C54545"></a><h3 id="CCAPP-GUID-71087894-0C0B-42CF-B37E-064401C54545" class="sect3"><span class="enumeration_section">4.4</span>使用停用词和停止列表</h3>
               <div>
                  <p><span class="italic">停用词</span>是不被索引，如<span class="italic">这样</span>或<span class="italic">那样的</span>一个英语单词。
                  </p>
                  <p>系统为每种语言提供停止列表。默认情况下，在索引编制期间，系统会使用您的语言的Oracle Text默认停止列表。</p>
                  <p>您可以编辑默认的<code class="codeph">CTXSYS.DEFAULT_STOPLIST</code>或使用以下PL / SQL过程创建自己的<code class="codeph">CTXSYS.DEFAULT_STOPLIST</code> ：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">CTX_DDL.CREATE_STOPLIST</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">CTX_DDL.ADD_STOPWORD</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">CTX_DDL.REMOVE_STOPWORD</code></p>
                     </li>
                  </ul>
                  <p>您可以在<code class="codeph">CREATE INDEX.</code>的参数子句中指定自定义停止列表<code class="codeph">CREATE INDEX.</code></p>
                  <p>您还可以在使用<code class="codeph">ALTER INDEX</code>语句建立索引后动态添加停用词。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-20465B5A-A300-4941-BCAB-5495593A8D1C">多语言停止列表</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-DA55AE08-6ACA-4B42-A433-43FC6127B7E7">停止主题和课程</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-C8654FE7-21AD-46C9-83F9-1D9087791163">用于管理停止列表的PL / SQL过程</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9095"></a><div class="props_rev_3"><a id="GUID-20465B5A-A300-4941-BCAB-5495593A8D1C" name="GUID-20465B5A-A300-4941-BCAB-5495593A8D1C"></a><h4 id="CCAPP-GUID-20465B5A-A300-4941-BCAB-5495593A8D1C" class="sect4"><span class="enumeration_section">4.4.1</span>多语言停止列表</h4>
                  <div>
                     <p>您可以创建多语言停止列表来保存特定于语言的停用词。当您使用<code class="codeph">MULTI_LEXER</code>索引包含不同语言（如英语，德语和日语）的文档的表时，此停止列表非常有用。
                     </p>
                     <p>要创建多语言停止列表，请使用<a id="d12292e738" class="indexterm-anchor"></a> <code class="codeph">CTX_DDL.CREATE_STOPLIST</code>过程并指定停止列表类型<code class="codeph">MULTI_STOPLIST.</code>您可以添加特定于语言的停用词<a id="d12292e746" class="indexterm-anchor"></a> <code class="codeph">CTX_DDL.ADD_STOPWORD.</code></p>
                  </div>
               </div><a id="CCAPP9096"></a><div class="props_rev_3"><a id="GUID-DA55AE08-6ACA-4B42-A433-43FC6127B7E7" name="GUID-DA55AE08-6ACA-4B42-A433-43FC6127B7E7"></a><h4 id="CCAPP-GUID-DA55AE08-6ACA-4B42-A433-43FC6127B7E7" class="sect4"><span class="enumeration_section">4.4.2</span>停止主题和课程</h4>
                  <div>
                     <p><a id="d12292e819" class="indexterm-anchor"></a><a id="d12292e821" class="indexterm-anchor"></a><a id="d12292e823" class="indexterm-anchor"></a>除了定义自己的停用词之外，您还可以定义停止主题，这些主题是未编入索引的主题。此功能仅适用于英语和法语。
                     </p>
                     <p>您还可以指定数字未编入索引。一类字母数字字符，例如不被索引的数字是一个<span class="italic">停止类。</span></p>
                     <p>您可以创建一个停止列表，向其添加停用词，停止主题和停止类，并指定停止列表。 <a id="d12292e832" class="indexterm-anchor"></a> <code class="codeph">CREATE INDEX.</code> <tt>paramstring</tt> <code class="codeph">CREATE INDEX.</code></p>
                  </div>
               </div><a id="CCAPP9097"></a><div class="props_rev_3"><a id="GUID-C8654FE7-21AD-46C9-83F9-1D9087791163" name="GUID-C8654FE7-21AD-46C9-83F9-1D9087791163"></a><h4 id="CCAPP-GUID-C8654FE7-21AD-46C9-83F9-1D9087791163" class="sect4"><span class="enumeration_section">4.4.3</span>管理停止列表的PL / SQL过程</h4>
                  <div>
                     <p>使用以下过程管理停止列表，停用词，停止主题和停止类：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">CTX_DDL.CREATE_STOPLIST</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.ADD_STOPWORD</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.ADD_STOPTHEME</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.ADD_STOPCLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.REMOVE_STOPWORD</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.REMOVE_STOPTHEME</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.REMOVE_STOPCLASS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CTX_DDL.DROP_STOPLIST</code></p>
                           <div class="infoboxnotealso" id="GUID-C8654FE7-21AD-46C9-83F9-1D9087791163__GUID-2108EEE9-E0E0-4CDD-B41E-AF5B251BE2AE">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="../ccref/CTX_DDL-package.html#CCREF0600" target="_blank"><span class="italic">Oracle Text Reference</span></a>了解有关使用这些过程的更多信息</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="CCAPP9099"></a><div class="props_rev_3"><a id="GUID-11480023-8177-4971-8BA6-9C1526D56943" name="GUID-11480023-8177-4971-8BA6-9C1526D56943"></a><h3 id="CCAPP-GUID-11480023-8177-4971-8BA6-9C1526D56943" class="sect3"><span class="enumeration_section">4.5</span>创建上下文索引</h3>
               <div>
                  <p><code class="codeph">CONTEXT</code>索引类型非常适合以Microsoft Word，HTML或纯文本等格式索引大型连贯文档。使用<code class="codeph">CONTEXT</code>索引，您还可以通过多种方式自定义索引。必须将文档加载到文本表中。
                  </p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60">语境索引和DML</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1">默认的CONTEXT索引示例</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435">使用ALTER INDEX和CREATE INDEX增量创建索引</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887">使用POPULATE_PENDING逐步创建CONTEXT索引</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979">自定义上下文索引示例：索引HTML文档</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-74C5496E-D491-4EC6-B918-EA7B0B71BA40">语境索引示例：使用FILTER BY和ORDER BY进行查询处理</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9100"></a><div class="props_rev_3"><a id="GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60" name="GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60"></a><h4 id="CCAPP-GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60" class="sect4"><span class="enumeration_section">4.5.1</span>上下文索引和DML</h4>
                  <div>
                     <p>没有<code class="codeph">CONTEXT</code>索引<a id="d12292e1127" class="indexterm-anchor"></a>事务性的。删除记录时，索引会立即更改。也就是说，您的会话在您进行更改后不再查找记录，而其他用户在您提交后无法找到该记录。对于插入和更新，在发生索引同步之前，文本搜索不会看到新信息。因此，在基表上执行插入或更新时，必须显式同步索引<a id="d12292e1130" class="indexterm-anchor"></a> <code class="codeph">CTX_DDL.SYNC_INDEX.</code></p>
                     <div class="infoboxnotealso" id="GUID-AEFA82AD-B465-41E0-9B45-03356F5BBE60__GUID-9C287DC2-B2B8-4432-A2F2-59951E7BC473">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="maintaining-oracle-text-indexes.html#GUID-99981916-B970-4AF0-AB50-0CFE78067F7E">同步索引</a> ”</span></p>
                     </div>
                  </div>
               </div><a id="CCAPP9101"></a><div class="props_rev_3"><a id="GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1" name="GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1"></a><h4 id="CCAPP-GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1" class="sect4"><span class="enumeration_section">4.5.2</span>默认上下文索引示例</h4>
                  <div>
                     <p>以下语句在<code class="codeph">docs</code>的<code class="codeph">text</code>列中创建名为<code class="codeph">myindex</code>的默认<code class="codeph">CONTEXT</code>索引<span class="italic"> </span>表：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex ON docs（text）INDEXTYPE IS CTXSYS.CONTEXT;</pre><p>在未显式指定参数的情况下使用<code class="codeph">CREATE INDEX</code>语句时，系统默认为所有语言完成以下操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d12292e1238" class="indexterm-anchor"></a><a id="d12292e1242" class="indexterm-anchor"></a><a id="d12292e1246" class="indexterm-anchor"></a><a id="d12292e1250" class="indexterm-anchor"></a><a id="d12292e1254" class="indexterm-anchor"></a><a id="d12292e1258" class="indexterm-anchor"></a><a id="d12292e1260" class="indexterm-anchor"></a><a id="d12292e1262" class="indexterm-anchor"></a>假设要编制索引的文本直接存储在文本列中。text列可以是<code class="codeph">CLOB,</code> <code class="codeph">BLOB,</code> <code class="codeph">BFILE,</code> <code class="codeph">VARCHAR2,</code>或<code class="codeph">CHAR.</code></p>
                        </li>
                        <li>
                           <p><a id="d12292e1282" class="indexterm-anchor"></a>检测列类型并对<code class="codeph">BLOB</code>和<code class="codeph">BFILE.</code>的二进制列类型使用过滤<code class="codeph">BFILE.</code>大多数文档格式都支持过滤。如果您的列是纯文本，则系统不使用过滤。
                           </p>
                           <div class="infoboxnote" id="GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1__GUID-08CADB58-18C6-4C00-8332-DB3A1BF324FD">
                              <p class="notep1">注意：</p>
                              <p>对于<a id="d12292e1296" class="indexterm-anchor"></a>要使文档过滤在系统中正常运行，必须确保正确设置环境以支持<code class="codeph">AUTO_FILTER</code>过滤器。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><a id="d12292e1304" class="indexterm-anchor"></a>假设要索引的文本的语言是数据库设置中指定的语言。
                           </p>
                        </li>
                        <li>
                           <p><a id="d12292e1311" class="indexterm-anchor"></a>使用数据库设置中指定语言的默认停止列表。停止列表标识系统在索引期间忽略的单词。
                           </p>
                        </li>
                        <li>
                           <p><a id="d12292e1318" class="indexterm-anchor"></a><a id="d12292e1322" class="indexterm-anchor"></a>如果此功能适用于您的语言，则可以为您的语言启用模糊和词干查询。
                           </p>
                        </li>
                     </ul>
                     <p>您始终可以通过自定义首选项并在<code class="codeph">CREATE</code> <code class="codeph">INDEX.</code>的参数字符串中指定这些首选项来更改默认索引行为<code class="codeph">INDEX.</code></p>
                     <div class="infoboxnotealso" id="GUID-C92BF4DC-5911-4507-91EB-946E8540BCB1__GUID-4174CFBD-E438-44E9-B9C2-B83913AC0738">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../ccref/oracle-text-supported-document-formats.html#CCREF1300" target="_blank"><span class="italic">Oracle Text Reference</span></a>了解有关配置环境以使用<code class="codeph">AUTO_FILTER</code>过滤器的更多信息</p>
                     </div>
                  </div>
               </div><a id="CCAPP9470"></a><div class="props_rev_3"><a id="GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435" name="GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435"></a><h4 id="CCAPP-GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435" class="sect4"><span class="enumeration_section">4.5.3</span>使用ALTER INDEX和CREATE INDEX增量创建索引</h4>
                  <div>
                     <p><a id="d12292e1408" class="indexterm-anchor"></a> <code class="codeph">ALTER</code> <code class="codeph">INDEX</code>和<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句支持逐步创建全局<code class="codeph">CONTEXT</code>索引。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a id="d12292e1431" class="indexterm-anchor"></a><a id="d12292e1435" class="indexterm-anchor"></a>对于全局索引，请使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>在<code class="codeph">REBUILD</code>子句的<code class="codeph">REPLACE</code>参数中支持<code class="codeph">NOPOPULATE</code>关键字。通过这样做，您可以逐步创建索引。此关键字对于在无法使索引进程连续运行的大型安装中创建Oracle Text索引很有用。
                           </p>
                        </li>
                        <li>
                           <p>对于本地索引分区，请修改<code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ...<code class="codeph">REBUILD</code> <code class="codeph">partition</code> ... <code class="codeph">parameters</code> （' <code class="codeph">REPLACE</code> ...'）参数字符串，用于支持<code class="codeph">NOPOPULATE</code>关键字。
                           </p>
                        </li>
                        <li>
                           <p>对于本地索引上的分区， <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> ...<code class="codeph">LOCAL</code> ...（ <code class="codeph">partition</code> ... <code class="codeph">parameters</code> （' <code class="codeph">NOPOPULATE</code> '））。分区级别<a id="d12292e1503" class="indexterm-anchor"></a> <code class="codeph">POPULATE</code>或<code class="codeph">NOPOPULATE</code>关键字覆盖索引级别指定的任何<code class="codeph">POPULATE</code>或<code class="codeph">NOPOPULATE</code> 。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-13B8CA9F-BFA2-4A5E-B333-AEF28B446435__GUID-26F89C14-326B-4D56-ACA9-93278167808E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF0101" target="_blank"><span class="italic">Oracle Text Reference</span></a>了解有关<code class="codeph">ALTER</code> <code class="codeph">INDEX</code>和<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句的语法的更多信息</p>
                     </div>
                  </div>
               </div><a id="CCAPP9459"></a><div class="props_rev_3"><a id="GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887" name="GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887"></a><h4 id="CCAPP-GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887" class="sect4"><span class="enumeration_section">4.5.4</span>使用POPULATE_PENDING增量创建CONTEXT索引</h4>
                  <div>
                     <p>对于无法承受索引过程持续运行的大型安装，请使用<a id="d12292e1606" class="indexterm-anchor"></a> <code class="codeph">CTX_DDL.POPULATE_PENDING</code>程序。此过程还可以更好地控制索引的创建。首选方法是创建一个空索引，将所有rowid放入挂起队列，并通过<code class="codeph">CTX_DDL.SYNC_INDEX.</code>构建索引<code class="codeph">CTX_DDL.SYNC_INDEX.</code></p>
                     <p>此过程填充了<a id="d12292e1615" class="indexterm-anchor"></a>挂起队列与基表或表分区中的每个rowid。
                     </p>
                     <div class="infoboxnotealso" id="GUID-6610E800-2B8D-4545-B7D7-C4CF8BBC0887__GUID-1EE83C7D-A1A7-4F92-811A-B820C5328EAB">
                        <p class="notep1">也可以看看：</p>
                        <p>有关<code class="codeph">CTX_DDL.POPULATE_PENDING</code>信息，请<code class="codeph">CTX_DDL.POPULATE_PENDING</code> <a href="../ccref/CTX_DDL-package.html#CCREF2110" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                     </div>
                  </div>
               </div><a id="CCAPP9102"></a><div class="props_rev_3"><a id="GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979" name="GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979"></a><h4 id="CCAPP-GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979" class="sect4"><span class="enumeration_section">4.5.5</span>自定义上下文索引示例：索引HTML文档</h4>
                  <div>
                     <p>要索引由URL定位的HTML文档集， <code class="codeph">NULL_FILTER</code>在<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句中为<code class="codeph">NULL_FILTER</code>指定系统定义的首选项。
                     </p>
                     <p>您还可以指定使用<code class="codeph">HTML_SECTION_GROUP</code> <code class="codeph">htmgroup</code>部分组和使用<code class="codeph">URL_DATASTORE:</code> <code class="codeph">my_url</code>数据存储<code class="codeph">URL_DATASTORE:</code></p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_preference（'my_url'，'URL_DATASTORE'）; ctx_ddl.set_attribute（ 'my_url'， 'HTTP_PROXY'， 'www-proxy.us.example.com'）; ctx_ddl.set_attribute（ 'my_url'， 'NO_PROXY'， 'us.example.com'）; ctx_ddl.set_attribute（ 'my_url'， '超时'， '300'）;结束;开始ctx_ddl.create_section_group（'htmgroup'，'HTML_SECTION_GROUP'）; ctx_ddl.add_zone_section（'htmgroup'，'heading'，'H1'）;结束;</pre><p>然后，您可以索引您的文档：</p><pre class="oac_no_warn" dir="ltr">docs上的CREATE INDEX myindex（htmlfile）indextype是ctxsys.context参数（'datastore my_url filter ctxsys.null_filter section group htmgroup'）;</pre><div class="infoboxnotealso" id="GUID-CD75B0AE-2F1E-4C6E-BFB9-0A788D2DC979__GUID-1E422DF9-46CE-4C79-B3CF-C39231A96060">
                        <p class="notep1">也可以看看：</p>
                        <p>有关创建自定义<code class="codeph">CONTEXT</code>索引的更多示例，请<code class="codeph">CONTEXT</code> <span class="q">“ <a href="creating-oracle-text-indexes.html#GUID-FE6A5B95-759E-478C-BCAB-C453738FAE5E">创建首选项</a> ”</span></p>
                     </div>
                  </div>
               </div><a id="CCAPP9103"></a><div class="props_rev_3"><a id="GUID-74C5496E-D491-4EC6-B918-EA7B0B71BA40" name="GUID-74C5496E-D491-4EC6-B918-EA7B0B71BA40"></a><h4 id="CCAPP-GUID-74C5496E-D491-4EC6-B918-EA7B0B71BA40" class="sect4"><span class="enumeration_section">4.5.6</span>上下文索引示例：使用FILTER BY和ORDER BY进行查询处理</h4>
                  <div>
                     <p>若要为混合查询启用更高效的查询处理和更好的响应时间，请使用<code class="codeph">FILTER</code> <code class="codeph">BY</code>和<code class="codeph">ORDER</code> <code class="codeph">BY</code>子句，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">文档上的CREATE INDEX myindex（文本）INDEXTYPE是CTXSYS.CONTEXT FILTER BY category，publisher，pub_date ORDER BY pub_date desc;</pre><p>由于您在查询时指定了<code class="codeph">FILTER</code> <code class="codeph">BY</code> <code class="codeph">category,</code> <code class="codeph">publisher,</code> <code class="codeph">pub_date</code>子句，因此Oracle Text还考虑将任何这些列上的关系谓词推送到Oracle Text索引行源中。
                     </p>
                     <p>此外，当查询具有匹配的<code class="codeph">ORDER</code> <code class="codeph">BY</code>条件时，通过指定<code class="codeph">ORDER</code> <code class="codeph">BY</code> <code class="codeph">pub_date desc,</code> Oracle Text将确定是否将<code class="codeph">SORT</code>推送到Oracle Text索引行源以获得更好的响应时间。
                     </p>
                  </div>
               </div><a id="CCAPP9660"></a><div class="sect3"><a id="GUID-C300E39D-4955-444F-B257-34E970ACF4A7" name="GUID-C300E39D-4955-444F-B257-34E970ACF4A7"></a><h4 id="CCAPP-GUID-C300E39D-4955-444F-B257-34E970ACF4A7" class="sect4"><span class="enumeration_section">4.5.7</span>版本12中的DATASTORE触发器<span class="italic">c</span></h4>
                  <div>
                     <p>如果要在多个列上创建Oracle Text <code class="codeph">CONTEXT</code>索引，请使用<code class="codeph">MULTI_COLUMN_DATASTORE</code>或<code class="codeph">USER_DATASTORE</code>引入各种列以进行索引。仅当指定列的内容更改时，Oracle Text才会更新索引。
                     </p>
                  </div>
               </div>
            </div><a id="CCAPP9104"></a><div class="props_rev_3"><a id="GUID-210F00C9-8866-466F-909F-71C672CF469B" name="GUID-210F00C9-8866-466F-909F-71C672CF469B"></a><h3 id="CCAPP-GUID-210F00C9-8866-466F-909F-71C672CF469B" class="sect3"><span class="enumeration_section">4.6</span>创建CTXCAT索引</h3>
               <div>
                  <p><a id="d12292e2002" class="indexterm-anchor"></a> <code class="codeph">CTXCAT</code>索引类型非常适合索引小文本片段和相关信息。此索引类型提供比<code class="codeph">CONTEXT</code>索引更好的结构化查询性能。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9">CTXCAT索引和DML</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC">关于CTXCAT子索引及其成本</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1">创建CTXCAT子索引</a></p>
                     </li>
                     <li>
                        <p><a href="creating-oracle-text-indexes.html#GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0">创建CTXCAT索引</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9105"></a><div class="props_rev_3"><a id="GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9" name="GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9"></a><h4 id="CCAPP-GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9" class="sect4"><span class="enumeration_section">4.6.1</span> CTXCAT索引和DML操作</h4>
                  <div>
                     <p><code class="codeph">CTXCAT</code>索引是<a id="d12292e2101" class="indexterm-anchor"></a>事务性的。在基表上执行插入，更新和删除时，Oracle Text会自动同步索引。与<code class="codeph">CONTEXT</code>索引不同，不需要<code class="codeph">CTX_DDL.SYNC_INDEX</code> 。
                     </p>
                     <div class="infoboxnote" id="GUID-360FFA58-6C94-49FC-B4EC-DA4724CB87C9__GUID-6703E5D9-C191-4659-B07D-422A94D65D0C">
                        <p class="notep1">注意：</p>
                        <p>插入而不调用触发器的应用程序（如SQL * Loader）不会导致自动索引同步，如本节所述。</p>
                     </div>
                  </div>
               </div><a id="CCAPP9106"></a><div class="props_rev_3"><a id="GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC" name="GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC"></a><h4 id="CCAPP-GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC" class="sect4"><span class="enumeration_section">4.6.2</span>关于CTXCAT子索引及其成本</h4>
                  <div>
                     <p><a id="d12292e2176" class="indexterm-anchor"></a> <code class="codeph">CTXCAT</code>索引包含您定义为索引集的一部分的子索引。您可以在一列或多列上创建子索引，以提高混合查询性能。但是，Oracle Text创建<code class="codeph">CTXCAT</code>索引所需的时间取决于其总大小， <code class="codeph">CTXCAT</code>索引的总大小与以下因素直接相关：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要编入索引的文本总数</p>
                        </li>
                        <li>
                           <p>索引集中的子索引数</p>
                        </li>
                        <li>
                           <p>构成子索引的基表中的列数</p>
                        </li>
                     </ul>
                     <p>索引集中的许多组件索引也会降低插入，更新和删除操作的性能，因为必须更新更多索引。</p>
                     <p>由于创建<code class="codeph">CTXCAT</code>索引所需的索引时间和磁盘空间成本增加，因此在将其添加到索引集之前，请仔细考虑每个组件索引为应用程序提供的查询性能优势。
                     </p>
                     <div class="infoboxnote" id="GUID-B0C2E24C-D310-4946-879C-3A89DE37A2DC__GUID-783D7726-4B92-40A2-94CD-DE8AA4C6F322">
                        <p class="notep1">注意：</p>
                        <p>您可以使用<code class="codeph">I_ROWID_INDEX_CLAUSE</code>的<code class="codeph">BASIC_STORAGE</code>来加速<code class="codeph">CTXCAT</code>索引的创建。<a href="../ccref/oracle-text-indexing-elements.html#CCREF2028" target="_blank"><span class="italic">Oracle Text Reference中</span></a>描述了该子句。
                        </p>
                     </div>
                  </div>
               </div><a id="CCAPP9496"></a><a id="CCAPP9678"></a><a id="CCAPP9679"></a><a id="CCAPP9107"></a><div class="props_rev_3"><a id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1" name="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1"></a><h4 id="CCAPP-GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1" class="sect4"><span class="enumeration_section">4.6.3</span>创建CTXCAT子索引</h4>
                  <div>
                     <p><a id="d12292e2289" class="indexterm-anchor"></a>必须存储订购查询的项目描述，价格和投标结束日期的在线拍卖网站是创建<code class="codeph">CTXCAT</code>索引的一个很好的示例。
                     </p>
                     <div class="figure" id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-20DC8424-3A08-4CDC-A548-31BD7E5AC8F6">
                        <p class="titleinfigure">图4-1拍卖表架构和CTXCAT指数</p><img src="img/ccapp_pb_010a.png" width="403" alt="下面是图4-1的描述" title="下面是图4-1的描述" longdesc="img_text/ccapp_pb_010a.html"><br><a href="img_text/ccapp_pb_010a.html">“图4-1拍卖表架构和CTXCAT指数”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="creating-oracle-text-indexes.html#GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-20DC8424-3A08-4CDC-A548-31BD7E5AC8F6">图4-1</a>显示了一个名为<code class="codeph">AUCTION</code>的表，其中包含以下模式：</p><pre class="oac_no_warn" dir="ltr">创建表拍卖（item_id号，标题varchar2（100），category_id号，价格号，bid_close日期）;</pre><p>要创建子索引，请创建一个包含它们的索引集：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_index_set（'auction_iset'）;结束;</pre><p></p>
                     <p>接下来，确定您可能要输入的结构化查询。<code class="codeph">CATSEARCH</code>查询运算符采用强制文本子句和可选的结构化子句。
                     </p>
                     <p>在示例中，这意味着所有查询都包含<code class="codeph">title</code>列的子句，即文本列。
                     </p>
                     <p>假设结构化条款分为以下几类：</p>
                     <div class="tblformal" id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-8C2C5BAC-B9C1-4A92-AF31-AA09204C2843">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="This table describes structured clauses for queries on a sample index." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d12292e2334">结构性条款</th>
                                 <th align="left" valign="bottom" width="30%" id="d12292e2337">用于服务查询的子索引定义</th>
                                 <th align="left" valign="bottom" width="20%" id="d12292e2340">类别</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d12292e2345" headers="d12292e2334 ">
                                    <p>'价格&lt;200'</p>
                                    <p>'价格= 150'</p>
                                    <p>'按价格排序'</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d12292e2345 d12292e2337 ">
                                    <p>'价钱'</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12292e2345 d12292e2340 ">
                                    <p>一个</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d12292e2359" headers="d12292e2334 ">
                                    <p>'price = 100 order by bid_close'</p>
                                    <p>'按价格订购，bid_close'</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d12292e2359 d12292e2337 ">
                                    <p>'price，bid_close'</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12292e2359 d12292e2340 ">
                                    <p>乙</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-F8F3E319-D4CB-4FC3-B3AB-E25C88D44CF1">结构化查询条款A类</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>该<a id="d12292e2377" class="indexterm-anchor"></a>结构化查询子句仅包含<code class="codeph">price</code>列的表达式，如下所示：</p><pre class="oac_no_warn" dir="ltr">从拍卖中选择WHERE CATSEARCH（标题，'相机'，'价格&lt;200'）&gt; 0;从拍卖中选择WHERE CATSEARCH（标题，'相机'，'价格= 150'）&gt; 0;从拍卖中选择WHERE CATSEARCH（标题，'相机'，'按价格排序'）&gt; 0;</pre><p>可以使用子索引B来提供这些查询。但是，为了提高效率，您还可以仅在<code class="codeph">price</code> （子索引A）上创建子索引：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.add_index（'auction_iset'，'price'）; / *子索引A * / end;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-F7D632F0-1B48-4DBD-9FFE-6EBEADFC8EBF">结构化查询条款B类</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>结构化查询子句包括用于等效表达式<code class="codeph">price</code>由有序<code class="codeph">bid_close,</code>以及用于通过订购的表达<code class="codeph">price</code>和<code class="codeph">bid_close,</code>以该顺序：</p><pre class="oac_no_warn" dir="ltr">从拍卖中选择WHERE CATSEARCH（标题，'相机'，'价格= 100 ORDER BY bid_close'）&gt; 0;从拍卖中选择WHERE CATSEARCH（标题，'相机'，'按价格排序，bid_close'）&gt; 0;</pre><p>这些查询可以使用如下定义的子索引提供：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.add_index（'auction_iset'，'price，bid_close'）; / *子索引B * / end;</pre><p>像一个组合<a id="d12292e2418" class="indexterm-anchor"></a> b-tree索引，您使用<code class="codeph">CTX_DDL.ADD_INDEX</code>指定的列顺序会影响Oracle Text用于提供特定查询的索引扫描的效率和可行性。例如，如果两个结构化列<code class="codeph">p</code>和<code class="codeph">q</code>具有指定为<code class="codeph">'p,q'</code>的b树索引，则Oracle Text无法扫描此索引以对<code class="codeph">'ORDER</code> <code class="codeph">BY q,p'</code>进行排序。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CCAPP9110"></a><div class="props_rev_3"><a id="GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0" name="GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0"></a><h4 id="CCAPP-GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0" class="sect4"><span class="enumeration_section">4.6.4</span>创建CTXCAT索引</h4>
                  <div>
                     <p>此示例组合了前面的示例，并使用两个子索引创建索引集首选项：</p><pre class="oac_no_warn" dir="ltr">开始ctx_ddl.create_index_set（'auction_iset'）; ctx_ddl.add_index（ 'auction_iset'， '价格'）; / *子索引A * / ctx_ddl.add_index（'auction_iset'，'price，bid_close'）; / *子索引B * / end;</pre><p><a href="creating-oracle-text-indexes.html#GUID-BD890CC1-5243-4307-AAF7-A538426F4FE1__GUID-20DC8424-3A08-4CDC-A548-31BD7E5AC8F6">图4-1</a>显示了如何从拍卖表创建子索引A和B.每个子索引都是文本列和命名结构化列的b树索引。例如，子索引A是<code class="codeph">title</code>列和<code class="codeph">bid_close</code>列的索引。
                     </p>
                     <p>你创造了<a id="d12292e2517" class="indexterm-anchor"></a>将目录索引与<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>语句组合如下：</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX auction_titlex on AUCTION（title）INDEXTYPE IS CTXSYS.CTXCAT PARAMETERS（'index set auction_iset'）;</pre><div class="infoboxnotealso" id="GUID-6366DBEE-A0C1-4C9B-96BF-2AC9F298D0B0__GUID-C63091F2-3B4A-4C4D-B422-A589192B1A93">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF0105" target="_blank"><span class="italic">Oracle Text Reference</span></a>了解有关使用<code class="codeph">CREATE</code> <code class="codeph">INDEX</code>创建<code class="codeph">CTXCAT</code>索引的更多信息</p>
                     </div>
                  </div>
               </div>
            </div><a id="CCAPP9111"></a><div class="props_rev_3"><a id="GUID-32E664C4-0379-4CC0-8040-67B2CFED020C" name="GUID-32E664C4-0379-4CC0-8040-67B2CFED020C"></a><h3 id="CCAPP-GUID-32E664C4-0379-4CC0-8040-67B2CFED020C" class="sect3"><span class="enumeration_section">4.7</span>创建CTXRULE索引</h3>
               <div>
                  <p>要构建文档分类应用程序，请对表或查询使用<code class="codeph">CTXRULE</code>索引。传入文档流按内容分类，查询定义您的类别。您可以使用<code class="codeph">MATCHES</code>运算符对单个文档进行分类。
                  </p>
                  <p>要创建<code class="codeph">CTXRULE</code>索引和简单文档分类应用程序：</p>
                  <ol>
                     <li>
                        <p>创建一个查询表。</p>
                        <p>创建一个<code class="codeph">myqueries</code>表以保存类别名称和查询文本，然后使用分类和定义每个分类的查询填充该表。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE myqueries（queryid NUMBER PRIMARY KEY，category VARCHAR2（30），query VARCHAR2（2000））;</pre><p>例如，考虑<span class="italic">美国政治，</span> <span class="italic">音乐</span>和<span class="italic">足球</span>科目的分类：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO myqueries VALUES（1，'US Politics'，'demoprat or republican'）; INSERT INTO myqueries VALUES（2，'Music'，'ABOUT（music）'）; INSERT INTO myqueries VALUES（3，'Soccer'，'ABOUT（soccer）'）;</pre><div class="infobox-tip" id="GUID-32E664C4-0379-4CC0-8040-67B2CFED020C__GUID-220D5883-ACFD-4E60-9F49-4FA9E68D657C">
                           <p class="notep1">小费：</p>
                           <p>您还可以使用<code class="codeph">CTX_CLS.TRAIN</code>过程生成规则表（或查询），该过程将文档训练集作为输入。
                           </p>
                        </div>
                     </li>
                     <li>
                        <p>创建<code class="codeph">CTXRULE</code>索引。
                        </p>
                        <p>使用<code class="codeph">CREATE INDEX</code>语句创建<code class="codeph">CTXRULE</code>索引，并根据需要指定词法分析器，存储，节组和字列表参数。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myruleindex on myqueries（query）INDEXTYPE IS CTXRULE PARAMETERS（'lexer lexer_pref storage storage_pref section group section_pref wordlist wordlist_pref'）;</pre></li>
                     <li>
                        <p>对文档进行分类。</p>
                        <p>使用<code class="codeph">MATCHES</code>运算符对文档进行分类。
                        </p>
                        <p>假设传入的文档存储在表<code class="codeph">news</code> ：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE新闻（newsid NUMBER，作者VARCHAR2（30），source VARCHAR2（30），文章CLOB）;</pre><p>如果需要，使用<code class="codeph">MATCHES</code>创建“before insert”触发器，以根据其分类将每个文档路由到<code class="codeph">news_route</code>表：</p><pre class="oac_no_warn" dir="ltr">BEGIN  - 找到匹配的查询FOR c1 IN（从myqueries中选择类别，其中MATCHES（query，：new.article）&gt; 0）LOOP INSERT INTO news_route（newsid，category）VALUES（：new.newsid，c1.category）;结束循环;结束;</pre></li>
                  </ol>
                  <div class="infoboxnotealso" id="GUID-32E664C4-0379-4CC0-8040-67B2CFED020C__GUID-4E1362B7-F777-455A-9388-8D49AF29839F">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="classifying-documents-in-oracle-text.html#GUID-D694A98B-3B18-48B2-B10E-FB884B436FAF" title="Oracle Text提供了各种文档分类方法。">在Oracle Text</a>中对文档进行分类，以获取有关文档分类和<code class="codeph">CTXRULE</code>索引的更多信息</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">CTX_CLS.TRAIN</code>更多信息，请<code class="codeph">CTX_CLS.TRAIN</code> <a href="../ccref/CTX_CLS-package.html#CCREF1500" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-237C250A-4215-424B-8AAD-D3EA73F216B7" name="GUID-237C250A-4215-424B-8AAD-D3EA73F216B7"></a><h3 id="CCAPP-GUID-237C250A-4215-424B-8AAD-D3EA73F216B7" class="sect3"><span class="enumeration_section">4.8</span>为JSON创建搜索索引</h3>
               <div>
                  <p>Oracle Text支持更简单的替代语法，用于在JavaScript Object Notation（JSON）上创建搜索索引。在表列名称上创建JSON搜索索引。</p>
                  <div class="infoboxnotealso" id="GUID-237C250A-4215-424B-8AAD-D3EA73F216B7__GUID-7DF0667D-7681-4F6C-9575-87AFD29B596C">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../adjsn/indexes-for-json-data.html#ADJSN-GUID-D7A604E1-F617-4C92-A9D9-00B6AB78EFD8" target="_blank"><span class="italic">Oracle数据库JSON开发人员指南</span></a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>