<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>键入支持</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="SQLJ Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="SQLJ Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="sqlj-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-11T08:20:03-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96458-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="basic-language-features.html" title="Previous" type="text/html"></link>
      <link rel="next" href="objects-collections-and-OPAQUE-types.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQLJ Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="JSQLJ"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="basic-language-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="objects-collections-and-OPAQUE-types.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQLJ开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">键入支持</li>
            </ol>
            <a id="GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9" name="GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9"></a><a id="JSQLJ348"></a>
            
            <h2 id="JSQLJ-GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9" class="sect2"><span class="enumeration_chapter">6</span>键入支持</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍了Oracle SQLJ实现支持的数据类型，列出了支持的SQL类型以及与之对应的Java类型。接下来是有关流和Oracle类型扩展的支持的详细信息。Java类型的SQLJ支持是指可以在主机表达式中使用的类型。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="type-support.html#GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC">支持的主机表达式类型</a></p>
                  </li>
                  <li>
                     <p><a href="type-support.html#GUID-5C678045-D184-41AB-B339-9E1E12FE4D46">支持Streams</a></p>
                  </li>
                  <li>
                     <p><a href="type-support.html#GUID-9C82F6F4-197C-4B80-8491-B3CF03861384">支持JDBC 2.0 LOB类型和Oracle Type Extensions</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9__GUID-ABB4470C-F265-41AF-A160-D20B77802C93">
                  <p class="notep1">也可以看看：</p>
                  <p><a href="objects-collections-and-OPAQUE-types.html#GUID-93B64A3E-4928-4039-BC10-D7B05E768BFF">Objects_ Collections_和OPAQUE类型</a></p>
               </div>
            </div><a id="JSQLJ349"></a><div class="props_rev_3"><a id="GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC" name="GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC"></a><h3 id="JSQLJ-GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC" class="sect3">支持的主机表达式类型</h3>
               <div>
                  <p>本节总结了Oracle SQLJ实现支持的类型，包括有关Java数据库连接（JDBC）2.0类型的新支持的信息。</p>
                  <div class="infoboxnotealso" id="GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC__GUID-6BE0FE49-E8EA-4BC8-A116-AE1785D535C4">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../jjdbc/JDBC-reference-information.html#JJDBC-GUID-E77C2AE8-E22B-48BF-A4CB-010CBC8FE7C2" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> ，提供每种Oracle SQL类型的合法Java映射的完整列表</p>
                  </div>
                  <div class="infoboxnote" id="GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC__GUID-9937CD32-2887-4619-81EC-4C7950C60895">
                     <p class="notep1">注意：</p>
                     <p>SQLJ在SQL和Java类型之间执行隐式转换。虽然这通常是有用且有用的，但它可能会产生意想不到的结果。不要仅依靠翻译时类型检查来确保代码的正确性。</p>
                  </div>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF">支持类型摘要</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D">支持的JDBC 2.0类型和要求</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-C4E5120C-58A2-4540-9398-58D01DEE9052">使用PL / SQL BOOLEAN_ RECORD Types_和TABLE类型</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ351"></a><a id="JSQLJ350"></a><div class="props_rev_3"><a id="GUID-291119E7-0C44-4324-B373-6154D5418CDF" name="GUID-291119E7-0C44-4324-B373-6154D5418CDF"></a><h4 id="JSQLJ-GUID-291119E7-0C44-4324-B373-6154D5418CDF" class="sect4">支持类型摘要</h4>
                  <div>
                     <p><a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="摘要">表6-1</a>列出了在使用Oracle JDBC驱动程序时可以在主机表达式中使用的Java类型。此表还记录了Java类型之间的关联，这些类型的类型代码在<code class="codeph">oracle.jdbc.中定义<code class="codeph">oracle.jdbc.OracleTypes</code>类，并在Oracle数据库12中的数据类型<span class="italic">c</span>解除2（12.2）。
                     </p>
                     <div class="infoboxnote" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-519C8BD8-CA21-4430-94E3-7ED538F4B56D">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">OracleTypes</code>类只为每种Oracle数据类型定义一个类型代码，它是一个整型常量。对于标准JDBC类型， <code class="codeph">OracleTypes</code>值与标准<code class="codeph">java.sql.相同<code class="codeph">java.sql.Types</code>值。
                        </p>
                     </div>
                     <p>输出到Java变量的SQL数据将转换为相应的Java类型。SQL的Java变量输入将转换为相应的Oracle数据类型。</p>
                     <div class="tblformal" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI">
                        <p class="titleintable">表6-1支持的主机表达式类型的类型映射</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="为支持的主机表达式类型键入映射" width="100%" border="1" summary="Summary" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d22137e173">Java类型</th>
                                 <th align="left" valign="bottom" width="28%" id="d22137e176">OracleTypes定义</th>
                                 <th align="left" valign="bottom" width="27%" id="d22137e179">Oracle SQL数据类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e184" headers="d22137e173 ">
                                    <p><span class="bold">标准JDBC 1.x类型</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e184 d22137e176 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e184 d22137e179 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e195" headers="d22137e173 ">
                                    <p><code class="codeph">布尔</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e195 d22137e176 ">
                                    <p><code class="codeph">BIT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e195 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e208" headers="d22137e173 ">
                                    <p><code class="codeph">字节</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e208 d22137e176 ">
                                    <p><code class="codeph">TINYINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e208 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e221" headers="d22137e173 ">
                                    <p><code class="codeph">短</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e221 d22137e176 ">
                                    <p><code class="codeph">SMALLINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e221 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e234" headers="d22137e173 ">
                                    <p><code class="codeph">INT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e234 d22137e176 ">
                                    <p><code class="codeph">整数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e234 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e247" headers="d22137e173 ">
                                    <p><code class="codeph">长</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e247 d22137e176 ">
                                    <p><code class="codeph">BIGINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e247 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e260" headers="d22137e173 ">
                                    <p><code class="codeph">浮动</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e260 d22137e176 ">
                                    <p><code class="codeph">真实</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e260 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e273" headers="d22137e173 ">
                                    <p><code class="codeph">双</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e273 d22137e176 ">
                                    <p><code class="codeph">FLOAT</code> ， <code class="codeph">DOUBLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e273 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e289" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang中。串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e289 d22137e176 ">
                                    <p><code class="codeph">CHAR</code> <code class="codeph">VARCHAR</code> <code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e289 d22137e179 ">
                                    <p><code class="codeph">CHAR</code> <code class="codeph">VARCHAR2</code> <code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e318" headers="d22137e173 ">
                                    <p><code class="codeph">字节[]</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e318 d22137e176 ">
                                    <p><code class="codeph">BINARY</code> <code class="codeph">VARBINARY</code> <code class="codeph">LONGVARBINARY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e318 d22137e179 ">
                                    <p><code class="codeph">RAW</code> <code class="codeph">RAW</code> <code class="codeph">LONGRAW</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e347" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql中。日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e347 d22137e176 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e347 d22137e179 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e361" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql中。时间</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e361 d22137e176 ">
                                    <p><code class="codeph">时间</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e361 d22137e179 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e374" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql中。时间戳</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e374 d22137e176 ">
                                    <p><code class="codeph">TIMESTAMP</code> <code class="codeph">TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e374 d22137e179 ">
                                    <p><code class="codeph">DATE</code> <code class="codeph">TIMESTAMP</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e395" headers="d22137e173 ">
                                    <p><code class="codeph">java.math中。BigDecimal的</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e395 d22137e176 ">
                                    <p><code class="codeph">NUMERIC</code> <code class="codeph">DECIMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e395 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code> <code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e416" headers="d22137e173 ">
                                    <p><span class="bold">标准JDBC 2.0类型</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e416 d22137e176 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e416 d22137e179 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e427" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql中。斑点</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e427 d22137e176 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e427 d22137e179 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e440" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql中。CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e440 d22137e176 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e440 d22137e179 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e453" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql中。结构</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e453 d22137e176 ">
                                    <p><code class="codeph">STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e453 d22137e179 ">
                                    <p>对象类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e465" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql中。参考</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e465 d22137e176 ">
                                    <p><code class="codeph">REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e465 d22137e179 ">
                                    <p>参考类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e477" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql中。排列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e477 d22137e176 ">
                                    <p><code class="codeph">ARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e477 d22137e179 ">
                                    <p>集合类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e489" headers="d22137e173 ">
                                    <p>实现<code class="codeph">java.sql.自定义对象类<code class="codeph">java.sql.SQLDATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e489 d22137e176 ">
                                    <p><code class="codeph">STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e489 d22137e179 ">
                                    <p>对象类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e502" headers="d22137e173 ">
                                    <p><span class="bold">JAVA WRAPPER CLASSES</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e502 d22137e176 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e502 d22137e179 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e514" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang中。布尔</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e514 d22137e176 ">
                                    <p><code class="codeph">BIT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e514 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e527" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang中。字节</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e527 d22137e176 ">
                                    <p><code class="codeph">TINYINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e527 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e540" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang中。短</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e540 d22137e176 ">
                                    <p><code class="codeph">SMALLINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e540 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e553" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang中。整数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e553 d22137e176 ">
                                    <p><code class="codeph">整数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e553 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e566" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang中。长</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e566 d22137e176 ">
                                    <p><code class="codeph">BIGINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e566 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e579" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang中。浮动</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e579 d22137e176 ">
                                    <p><code class="codeph">真实</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e579 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e592" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang中。双</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e592 d22137e176 ">
                                    <p><code class="codeph">FLOAT</code> ， <code class="codeph">DOUBLE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e592 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e609" headers="d22137e173 ">
                                    <p><span class="bold">SQLJ STREAM CLASSES</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e609 d22137e176 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e609 d22137e179 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e620" headers="d22137e173 ">
                                    <p><code class="codeph">sqlj.runtime。BinaryStream</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e620 d22137e176 ">
                                    <p><code class="codeph">LONGVARBINARY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e620 d22137e179 ">
                                    <p><code class="codeph">LONG RAW</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e633" headers="d22137e173 ">
                                    <p><code class="codeph">sqlj.runtime。CharacterStream</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e633 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e633 d22137e179 ">
                                    <p><code class="codeph">长</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e646" headers="d22137e173 ">
                                    <p><code class="codeph">sqlj.runtime。AsciiStream</code> （已弃用;使用<code class="codeph">CharacterStream</code> 。）
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e646 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e646 d22137e179 ">
                                    <p><code class="codeph">长</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e666" headers="d22137e173 ">
                                    <p><code class="codeph">sqlj.runtime。UnicodeStream</code> （不推荐使用;使用<code class="codeph">CharacterStream</code> 。）
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e666 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e666 d22137e179 ">
                                    <p><code class="codeph">长</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e685" headers="d22137e173 ">
                                    <p><span class="bold">ORACLE EXTENSIONS</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e685 d22137e176 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e685 d22137e179 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e696" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e696 d22137e176 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e696 d22137e179 ">
                                    <p><code class="codeph">数</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e709" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e709 d22137e176 ">
                                    <p><code class="codeph">CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e709 d22137e179 ">
                                    <p><code class="codeph">CHAR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e722" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。生的</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e722 d22137e176 ">
                                    <p><code class="codeph">生的</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e722 d22137e179 ">
                                    <p><code class="codeph">生的</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e735" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e735 d22137e176 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e735 d22137e179 ">
                                    <p><code class="codeph">日期</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e748" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e748 d22137e176 ">
                                    <p><code class="codeph">TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e748 d22137e179 ">
                                    <p><code class="codeph">TIMESTAMP</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e761" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。TIMESTAMPTZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e761 d22137e176 ">
                                    <p><code class="codeph">TIMESTAMPTZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e761 d22137e179 ">
                                    <p><code class="codeph">TIMESTAMP-WITH-TIMEZONE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e776" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。TIMESTAMPLTZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e776 d22137e176 ">
                                    <p><code class="codeph">TIMESTAMPLTZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e776 d22137e179 ">
                                    <p><code class="codeph">TIMESTAMP-WITH- LOCAL-TIMEZONE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e791" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。ROWID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e791 d22137e176 ">
                                    <p><code class="codeph">ROWID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e791 d22137e179 ">
                                    <p><code class="codeph">ROWID</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e804" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e804 d22137e176 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e804 d22137e179 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e818" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e818 d22137e176 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e818 d22137e179 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e831" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。BFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e831 d22137e176 ">
                                    <p><code class="codeph">BFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e831 d22137e179 ">
                                    <p><code class="codeph">BFILE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e844" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e844 d22137e176 ">
                                    <p><code class="codeph">STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e844 d22137e179 ">
                                    <p>对象类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e856" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e856 d22137e176 ">
                                    <p><code class="codeph">REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e856 d22137e179 ">
                                    <p>参考类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e868" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。ARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e868 d22137e176 ">
                                    <p><code class="codeph">ARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e868 d22137e179 ">
                                    <p>集合类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e880" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。不透明</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e880 d22137e176 ">
                                    <p><code class="codeph">不透明</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e880 d22137e179 ">
                                    <p><code class="codeph">OPAQUE</code>类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e894" headers="d22137e173 ">
                                    <p>实现<code class="codeph">oracle.sql.自定义对象类<code class="codeph">oracle.sql.ORADATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e894 d22137e176 ">
                                    <p><code class="codeph">STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e894 d22137e179 ">
                                    <p>对象类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e907" headers="d22137e173 ">
                                    <p>实现<code class="codeph">oracle.sql.自定义引用类<code class="codeph">oracle.sql.ORADATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e907 d22137e176 ">
                                    <p><code class="codeph">REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e907 d22137e179 ">
                                    <p>参考类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e920" headers="d22137e173 ">
                                    <p>实现<code class="codeph">oracle.sql.自定义集合类<code class="codeph">oracle.sql.ORADATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e920 d22137e176 ">
                                    <p><code class="codeph">ARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e920 d22137e179 ">
                                    <p>集合类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e933" headers="d22137e173 ">
                                    <p>实现<code class="codeph">oracle.sql.自定义类<code class="codeph">oracle.sql.ORAData</code>用于<code class="codeph">OPAQUE</code>类型（例如， <code class="codeph">oracle.xdb.XMLType</code> ）</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e933 d22137e176 ">
                                    <p><code class="codeph">不透明</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e933 d22137e179 ">
                                    <p><code class="codeph">OPAQUE</code>类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e955" headers="d22137e173 ">
                                    <p>其他实现<code class="codeph">oracle.sql.自定义Java类<code class="codeph">oracle.sql.ORAData</code> （包装任何<code class="codeph">oracle.sql</code>类型）</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e955 d22137e176 ">
                                    <p>任何</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e955 d22137e179 ">
                                    <p>任何</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e972" headers="d22137e173 ">
                                    <p>SQLJ对象Java类型（可以实现<code class="codeph">SQLData</code>或<code class="codeph">ORAData</code> ）</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e972 d22137e176 ">
                                    <p><code class="codeph">JAVA_STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e972 d22137e179 ">
                                    <p>SQLJ对象SQL类型（幕后<code class="codeph">JAVA_STRUCT</code> ;自动转换为适当的Java类）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e992" headers="d22137e173 ">
                                    <p><span class="bold">PL / SQL类型的JAVA类型</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e992 d22137e176 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e992 d22137e179 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1003" headers="d22137e173 ">
                                    <p>由Java数字数组或<code class="codeph">String</code> ， <code class="codeph">oracle.sql.数组表示的标量索引表<code class="codeph">oracle.sql.CHAR</code>或<code class="codeph">oracle.sql.数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1003 d22137e176 ">
                                    <p>NA</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1003 d22137e179 ">
                                    <p>NA</p>
                                    <p><span class="bold">注意</span> ：有一个<code class="codeph">PLSQL_INDEX_TABLE</code>类型，但它似乎没有在外部使用。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1028" headers="d22137e173 ">
                                    <p><span class="bold">全球化支持</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1028 d22137e176 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1028 d22137e179 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1039" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。NCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1039 d22137e176 ">
                                    <p><code class="codeph">CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1039 d22137e179 ">
                                    <p><code class="codeph">CHAR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1052" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。NString</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1052 d22137e176 ">
                                    <p><code class="codeph">CHAR</code> <code class="codeph">VARCHAR</code> <code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1052 d22137e179 ">
                                    <p><code class="codeph">CHAR</code> <code class="codeph">VARCHAR2</code> <code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1081" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql。NCLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1081 d22137e176 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1081 d22137e179 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1094" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sqlj.runtime。NcharCharacterStream</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1094 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1094 d22137e179 ">
                                    <p><code class="codeph">长</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1107" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sqlj.runtime。NcharAsciiStream</code> （不推荐使用;使用<code class="codeph">NcharCharacterStream</code> 。）
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1107 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1107 d22137e179 ">
                                    <p><code class="codeph">长</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1126" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sqlj.runtime。NcharUnicodeStream</code> （不推荐使用;使用<code class="codeph">NcharCharacterStream</code> 。）
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1126 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1126 d22137e179 ">
                                    <p><code class="codeph">长</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1145" headers="d22137e173 ">
                                    <p><span class="bold">查询结果对象</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1145 d22137e176 ">
                                    <p> </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1145 d22137e179 ">
                                    <p> </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1157" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql中。结果集</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1157 d22137e176 ">
                                    <p><code class="codeph">光标</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1157 d22137e179 ">
                                    <p><code class="codeph">光标</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1170" headers="d22137e173 ">
                                    <p>SQLJ迭代器对象</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1170 d22137e176 ">
                                    <p><code class="codeph">光标</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1170 d22137e179 ">
                                    <p><code class="codeph">光标</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-19F5C974-DED5-4571-9BCA-E09F56B45635">
                        <p class="notep1">也可以看看：</p>
                        <p>有关Oracle类型支持的更多信息，请参见<a href="../jjdbc/JDBC-standards-support.html#JJDBC-GUID-8475E348-352E-4C1E-B2F2-49EAFF0E2DAE" target="_blank"><span class="italic">“Oracle数据库JDBC开发人员指南”</span></a> 。
                        </p>
                     </div>
                     <p>以下几点涉及标准功能的类型支持：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>JDBC和SQLJ不支持Java <code class="codeph">char</code>和<code class="codeph">Character</code>类型。而是使用Java <code class="codeph">String</code>类型来表示字符数据。
                           </p>
                        </li>
                        <li>
                           <p>不要混淆支持的<code class="codeph">java.sql.使用<code class="codeph">java.util. Date</code>类型<code class="codeph">java.util.Date</code> ，不直接支持。<code class="codeph">java.sql.Date</code>类是<code class="codeph">java.util.的包装器<code class="codeph">java.util.Date</code> ，使JDBC来标识数据作为SQL <code class="codeph">DATE</code> ，并添加格式化和解析操作以支持日期值的JDBC转义语法。
                           </p>
                        </li>
                        <li>
                           <p>请记住，Oracle Database 12 <span class="italic">c</span>第2版（12.2）中的所有数字类型都存储为<code class="codeph">NUMBER</code> 。虽然在创建表时声明<code class="codeph">NUMBER</code>时可以指定其他精度，但在通过Oracle JDBC驱动程序检索数据时，此精度可能会丢失，具体取决于用于接收数据的Java类型。一个<code class="codeph">oracle.sql.NUMBER</code>实例将保留完整信息。
                           </p>
                        </li>
                        <li>
                           <p>Java包装器类（如<code class="codeph">Integer</code>和<code class="codeph">Float</code>在SQL语句可能返回<code class="codeph">NULL</code>情况下非常有用。原始类型（如<code class="codeph">int</code>和<code class="codeph">float</code> ）不能包含空值。
                           </p>
                           <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-FDC6C177-E921-46EC-B927-0622C85D57D7">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="key-programming-considerations.html#GUID-EA345D88-D2AE-4118-986A-472764A6E1A4">空处理</a> ”</span></p>
                           </div>
                        </li>
                        <li>
                           <p>使用流作为主变量时需要SQLJ流类。</p>
                           <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-218EFFC1-59DA-4A7E-9F4E-C88A7D251DE9">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="type-support.html#GUID-5C678045-D184-41AB-B339-9E1E12FE4D46">支持Streams</a> ”</span></p>
                           </div>
                        </li>
                        <li>
                           <p>弱类型不能用于<code class="codeph">OUT</code>或<code class="codeph">INOUT</code>参数。这适用于<code class="codeph">Struct</code> ， <code class="codeph">Ref</code>和<code class="codeph">Array</code>标准JDBC 2.0类型，以及相应的Oracle扩展类型。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">oracle.jdbc</code>包中的一组新接口首先在Oracle9 <span class="italic">i</span> JDBC实现中添加，代替<code class="codeph">oracle.jdbc.driver</code>包的类。这些接口为用户提供了一种使用Oracle JDBC驱动程序访问Oracle特定功能的更通用方法。具体来说，在为中间层创建程序时，应使用<code class="codeph">oracle.jdbc</code>应用程序编程接口（API）。但是，SQLJ程序员通常不会直接使用这些接口。它们在SQLJ运行时或Oracle特定的生成代码中透明使用。
                           </p>
                           <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-738EC984-6648-4C67-A5F4-6C9AB61C016E">
                              <p class="notep1">也可以看看：</p>
                              <p><span class="q">“ <a href="objects-collections-and-OPAQUE-types.html#GUID-B1819CB7-8F69-4B34-BF26-CABFA465F17F">自定义Java类接口规范</a> ”</span></p>
                           </div>
                        </li>
                        <li>
                           <p>有关SQLJ对结果集和迭代器主机变量的支持的信息，请参阅<span class="q">“ <a href="basic-language-features.html#GUID-D3CC3825-1F5D-45AF-9E96-5848B98B7D21">使用迭代器和结果集作为主机变量</a> ”，</span> <a href="basic-language-features.html#GUID-F45F4FF0-6D2A-455D-A8A0-0BC3770845B2">使用迭代器和结果集作为存储函数返回</a> 。
                           </p>
                        </li>
                     </ul>
                     <p>以下几点涉及Oracle扩展：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>Oracle SQLJ实现需要任何实现<code class="codeph">oracle.sql.类<code class="codeph">oracle.sql.ORAData</code>根据<code class="codeph">OracleTypes</code>类中定义的值设置静态<code class="codeph">_SQL_TYPECODE</code>参数。在一些情况下，一个额外的参数必须设置为好，如<code class="codeph">_SQL_NAME</code>为对象和<code class="codeph">_SQL_BASETYPE</code>为对象的引用。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">oracle.sql</code>类是每种Oracle数据类型的SQL数据的包装器。<code class="codeph">ARRAY</code> ， <code class="codeph">STRUCT</code> ， <code class="codeph">REF</code> ， <code class="codeph">BLOB</code>和<code class="codeph">CLOB</code>类对应于标准JDBC 2.0接口。
                           </p>
                           <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-AEF2BA26-192F-4B3F-8DA7-30F959E6314A">
                              <p class="notep1">也可以看看：</p>
                              <p>有关这些类和Oracle扩展的信息，请<a href="../jjdbc/Oracle-extensions.html#JJDBC-GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" target="_blank"><span class="italic">参见“Oracle数据库JDBC开发人员指南”</span></a></p>
                           </div>
                        </li>
                        <li>
                           <p>自定义的Java类可以映射到Oracle对象，其实现<code class="codeph">ORAData</code>或<code class="codeph">SQLData</code> ，参考文献，它们实现<code class="codeph">ORAData</code>只，集合，它们实现<code class="codeph">ORAData</code>只， <code class="codeph">OPAQUE</code>类型，实现<code class="codeph">ORAData</code>只或其他SQL类型定制处理，这实现<code class="codeph">ORAData</code>只。
                           </p>
                        </li>
                        <li>
                           <p>在将字符串与<code class="codeph">WHERE</code>子句的<code class="codeph">CHAR</code>列值进行比较时，Oracle SQLJ实现具有自动空白填充的功能。否则，必须填充字符串以匹配数据库列中的字符数。这可用作特定于Oracle的代码生成的SQLJ转换器选项，或用作ISO标准代码生成的Oracle定制器选项。
                           </p>
                        </li>
                        <li>
                           <p>弱类型不能用于<code class="codeph">OUT</code>或<code class="codeph">INOUT</code>参数。这适用于<code class="codeph">STRUCT</code> ， <code class="codeph">REF</code>和<code class="codeph">ARRAY</code> Oracle扩展类型和相应的标准JDBC 2.0类型，以及Oracle <code class="codeph">OPAQUE</code>类型。
                           </p>
                        </li>
                        <li>
                           <p>使用任何Oracle扩展都需要以下内容：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Oracle JDBC驱动程序</p>
                              </li>
                              <li>
                                 <p>转换期间特定于Oracle的代码生成或Oracle自定义</p>
                              </li>
                              <li>
                                 <p>运行应用程序时的Oracle SQLJ运行时</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="JSQLJ353"></a><a id="JSQLJ352"></a><div class="props_rev_3"><a id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D" name="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D"></a><h4 id="JSQLJ-GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D" class="sect4">支持的JDBC 2.0类型和要求</h4>
                  <div>
                     <p>如<a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="摘要">表6-1所示</a> ，Oracle JDBC和SQLJ实现支持标准<code class="codeph">java.sql</code>包中的JDBC 2.0类型。本节列出了JDBC 2.0支持的类型和相关的Oracle扩展。
                     </p>
                     <p><a href="type-support.html#GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__BCEDBCDJ" title="摘要">表6-2</a>列出了Oracle SQLJ实现支持的JDBC 2.0类型。您可以在任何可以使用表中汇总的相应Oracle扩展的地方使用它们。
                     </p>
                     <p>Oracle扩展已在先前版本中提供，并且仍然可用。这些<code class="codeph">oracle.sql.*</code>类提供了包装原始SQL数据的功能。
                     </p>
                     <div class="infoboxnotealso" id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__GUID-0B03A7CB-3A4F-4CC9-AF3C-C1C245C595A5">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../jjdbc/Oracle-extensions.html#JJDBC-GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a></p>
                     </div>
                     <div class="tblformal" id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__BCEDBCDJ">
                        <p class="titleintable">表6-2 Oracle Extensions和JDBC 2.0类型之间的关联</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Extensions与JDBC 2.0类型之间的关联" width="100%" border="1" summary="summary" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d22137e1512">JDBC 2.0类型</th>
                                 <th align="left" valign="bottom" width="73%" id="d22137e1515">Oracle扩展</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1520" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql中。斑点</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1520 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql。BLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1529" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql中。CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1529 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql。CLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1538" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql中。结构</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1538 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql。STRUCT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1547" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql中。参考</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1547 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql。REF</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1556" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql中。排列</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1556 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql。ARRAY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1565" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql中。SQLDATA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1565 d22137e1515 ">
                                    <p>NA</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1573" headers="d22137e1512 ">
                                    <p>NA</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1573 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql。ORAData（_SQL_TYPECODE = OracleTypes。结构）</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">ORAData</code>功能是Oracle特定的替代标准<code class="codeph">SQLData</code>功能，用于Java支持用户定义类型。
                     </p>
                     <div class="infoboxnotealso" id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__GUID-A9837D9E-EDBC-4992-9D94-0DD838E5EB1C">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="objects-collections-and-OPAQUE-types.html#GUID-7B1AEDD4-C53B-47C9-973E-DD23EAA7608E">自定义Java类</a> ”</span> ， <span class="q">“ <a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A">支持BLOB_ CLOB_和BFILE</a> ”</span> ， <span class="q">“ <a href="objects-collections-and-OPAQUE-types.html#GUID-D7354A29-368B-4DB4-A7A5-49C0C0905006">支持弱类型对象_引用_和集合</a> ”</span></p>
                     </div>
                     <p>Oracle JDBC和SQLJ实现当前<span class="italic">不</span>支持以下JDBC 2.0类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">JAVA_OBJECT</code> ：表示SQL列中Java类型的实例。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DISTINCT</code> ：在基本SQL类型中表示或可从其中检索的不同SQL类型。例如， <code class="codeph">SHOESIZE</code> - &gt; <code class="codeph">NUMBER</code> 。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__GUID-328052ED-FA3B-46BD-8549-96FAEC6FA3CC">
                        <p class="notep1">注意：</p>
                        <p>从Oracle Database <span class="italic">11g开始</span> ，Oracle SQLJ实现支持允许迭代器列的数组类型的ISO SQLJ特性。您可以声明使用<code class="codeph">java.sql.的迭代器<code class="codeph">java.sql.Array</code>或<code class="codeph">oracle.sql.ARRAY</code>专栏。例如，假设定义了以下数据库表：</p><pre class="oac_no_warn" dir="ltr">创建或替换类型arr_type IS VARRAY（20）OF NUMBER; CREATE TABLE arr_type（arr_col1 arr_type，arr_col2 arr_type）;</pre><p>您可以按如下方式定义相应的迭代器类型：</p><pre class="oac_no_warn" dir="ltr">#sql static iterator MyIter（oracle.sql。ARRAY arr_col1，java.sql。Array arr_col2）;</pre></div>
                  </div>
               </div><a id="JSQLJ355"></a><a id="JSQLJ356"></a><a id="JSQLJ354"></a><div class="props_rev_3"><a id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052" name="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052"></a><h4 id="JSQLJ-GUID-C4E5120C-58A2-4540-9398-58D01DEE9052" class="sect4">使用PL / SQL BOOLEAN，RECORD类型和TABLE类型</h4>
                  <div>
                     <div class="section">
                        <p>Oracle SQLJ和JDBC实现不支持调用参数或返回PL / SQL <code class="codeph">BOOLEAN</code>类型或RECORD类型的值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052__GUID-D7ADEBEA-3B4D-4C37-8649-C75C0251AF41">支持TABLE类型</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle JDBC驱动程序支持标量PL / SQL索引表。</p>
                        <div class="infoboxnotealso" id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052__GUID-1C408ED2-E0E1-4D36-BE67-7B3115D78AE0">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../jjdbc/JDBC-reference-information.html#JJDBC-GUID-9A3DFD72-E254-4BC6-B533-A6B7A9EDFBEE" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a></p>
                        </div>
                        <p>Oracle SQLJ实现简化了在标量索引表中编写和检索数据的过程。支持以下数组类型：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>数值类型： <code class="codeph">int[]</code> ， <code class="codeph">long[]</code> ， <code class="codeph">float[]</code> ， <code class="codeph">double[]</code> ， <code class="codeph">short[]</code> ， <code class="codeph">java.math.BigDecimal[]</code> ， <code class="codeph">oracle.sql.数[]</code></p>
                           </li>
                           <li>
                              <p>字符类型： <code class="codeph">java.lang.String[]</code> ， <code class="codeph">oracle.sql.CHAR []</code></p>
                           </li>
                        </ul>
                        <p>以下是将索引表数据写入数据库的示例：</p><pre class="oac_no_warn" dir="ltr">int [] vals = {1,2,3}; #sql {call procin（：vals）};</pre><p>以下是从数据库中检索索引表数据的示例：</p><pre class="oac_no_warn" dir="ltr">oracle.sql。CHAR [] outvals; #sql {call procout（：OUT outvals / * [111]（22）* /）};</pre><p>您必须使用<code class="codeph">/*...*/</code>语法中的<code class="codeph">[xxx]</code>语法指定要检索的输出数组的最大长度，如图所示。此外，对于类似字符的绑定，您可以选择包括<code class="codeph">(xx)</code>语法（如图所示），以指定数组元素的最大长度（以字节为单位）。
                        </p>
                        <div class="infoboxnote" id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052__GUID-9F87B935-A34B-4A13-9B22-EBD8E5735EFE">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">oracle.sql.不直接支持Datum</code>类。您必须使用适当的子类，例如<code class="codeph">oracle.sql.CHAR</code>或<code class="codeph">oracle.sql.NUMBER</code> 。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052__GUID-D5B6EAAE-0B38-473B-9F1F-48ED4F50147C">不支持的类型的变通方法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>作为不受支持类型的变通方法，您可以创建使用受支持类型处理数据的包装程序。例如，要包装使用PL / SQL布尔值的存储过程，您可以创建一个存储过程，该过程从JDBC获取字符或数字并将其作为<code class="codeph">BOOLEAN</code>传递给原始过程，或者对于输出参数，接受<code class="codeph">BOOLEAN</code>参数从原始过程中将其作为<code class="codeph">CHAR</code>或<code class="codeph">NUMBER</code>传递给JDBC。同样，要包装使用PL / SQL记录的存储过程，您可以创建一个存储过程来处理其各个组件中的记录，例如<code class="codeph">CHAR</code>和<code class="codeph">NUMBER</code> 。要包装使用PL / SQL TABLE类型的存储过程，可以将数据分解为组件，也可以使用Oracle集合类型。
                        </p>
                        <p>以下是以<code class="codeph">BOOLEAN</code>作为输入的存储过程<code class="codeph">PROC</code>的PL / SQL包装程序<code class="codeph">MY_PROC</code>的示例：</p><pre class="oac_no_warn" dir="ltr">程序MY_PROC（n NUMBER）如果n = 0则开始，那么proc（false）; ELSE proc（true）;万一;结束; PROCEDURE PROC（b BOOLEAN）开始......结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ358"></a><a id="JSQLJ357"></a><div class="props_rev_3"><a id="GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2" name="GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2"></a><h4 id="JSQLJ-GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2" class="sect4">以前的Oracle JDBC版本的向后兼容性</h4>
                  <div>
                     <p>本节总结了在早期Oracle JDBC版本中使用Oracle SQLJ实现时的向后兼容性问题。</p>
                     <p>在Oracle Database <span class="italic">11g第</span> 1版（11.1）中，SQLJ完全支持在Oracle9 <span class="italic">i</span>数据库和Oracle数据库<span class="italic">10g第</span> 1版（10.1）中开发的应用程序。但是，在Oracle Database <span class="italic">11g第</span> 1版（11.1）中，SQLJ运行时资源终结器不再关闭JDBC资源。因此，在Oracle Database <span class="italic">11g第</span> 1版（11.1）之前开发的某些应用程序可能会观察到JDBC连接和语句泄漏。要防止此类泄漏，必须在SQLJ应用程序中正确关闭所有SQLJ运行时资源，例如连接上下文，执行上下文和迭代器。
                     </p>
                     <div class="infoboxnote" id="GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2__GUID-ECCD16D3-4B86-4C1E-92DB-49E2AB381B90">
                        <p class="notep1">注意：</p>
                        <p>Oracle9 <span class="italic">i</span>发布2首先添加了对OPAQUE类型和TIMESTAMP类型的支持。
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2__GUID-4CB0A89F-1AE1-4100-BCEA-E37D63CD1BC1">Oracle8 <span class="italic">i</span>数据库的向后兼容性</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle8 <span class="italic">i</span> JDBC驱动程序不支持或支持以下Oracle Database <span class="italic">11g</span>功能（Oracle9 <span class="italic">i</span>数据库中也提供这些功能）：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">oracle.sql.ORAData</code>和<code class="codeph">ORADataFactory</code>接口，用于Java映射用户定义的SQL类型</p>
                              <p>使用<code class="codeph">oracle.sql.而是CustomDatum</code>和<code class="codeph">CustomDatumFactory</code>接口。
                              </p>
                           </li>
                           <li>
                              <p>用于全球化支持的字符类型的Oracle扩展： <code class="codeph">NCHAR</code> ， <code class="codeph">NCLOB</code> ， <code class="codeph">NString</code>和<code class="codeph">NcharCharacterStream</code> （或早期版本中的<code class="codeph">NcharAsciiStream</code>和<code class="codeph">NcharUnicodeStream</code> ）</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JSQLJ359"></a><div class="props_rev_3"><a id="GUID-5C678045-D184-41AB-B339-9E1E12FE4D46" name="GUID-5C678045-D184-41AB-B339-9E1E12FE4D46"></a><h3 id="JSQLJ-GUID-5C678045-D184-41AB-B339-9E1E12FE4D46" class="sect3">支持Streams</h3>
               <div>
                  <div class="section">
                     <p>标准SQLJ提供以下专用类，以便于在流中处理长数据：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">sqlj.runtime。BinaryStream</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">sqlj.runtime。CharacterStream</code></p>
                        </li>
                     </ul>
                     <p>这些流类型可用于迭代器列以从数据库检索数据，或用于输入主机变量以将数据发送到数据库。与Java流一样，这些类允许以可管理的块处理和传输大数据项的便利性。</p>
                     <p>本节讨论这些类的一般用法，Oracle SQLJ扩展功能和流类方法。它包括以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="type-support.html#GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A">SQLJ Streams的一般用法</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96">流支持类的关键方面</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B">使用SQLJ Streams发送数据</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7">将数据检索到流中：注意事项</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE">使用SQLJ Streams检索数据</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-80703741-F468-4555-9AF4-752C3BF07E76">流类方法</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-D050D2F7-8020-40EA-A175-8FE2038FED12">检索和处理流数据的示例</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75">SQLJ流对象作为输出参数和函数返回值</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-5C678045-D184-41AB-B339-9E1E12FE4D46__GUID-CAE72888-7AEA-439A-B4B6-6B66C36515D9">
                        <p class="notep1">注意：</p>
                        <p>从JDBC 2.0开始， <code class="codeph">CharacterStream</code>类替换<code class="codeph">AsciiStream</code>和<code class="codeph">UnicodeStream</code>类。<code class="codeph">CharacterStream</code>可以避免用户进行有关编码的不必要后勤。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JSQLJ360"></a><div class="props_rev_3"><a id="GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A" name="GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A"></a><h4 id="JSQLJ-GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A" class="sect4">SQLJ Streams的一般用法</h4>
                  <div>
                     <p><a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="摘要">表6-1</a>列出了通常使用这些流类处理的数据类型。总结一下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">BinaryStream</code>通常用于<code class="codeph">LONG RAW</code> （ <code class="codeph">Types.LONGVARBINARY</code> ），但也可能用于<code class="codeph">RAW</code> （ <code class="codeph">Types.BINARY</code>或<code class="codeph">Types.VARBINARY</code> ）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CharacterStream</code>通常用于<code class="codeph">LONG</code> （ <code class="codeph">java.sql.类型。LONGVARCHAR</code> ），但也可能用于<code class="codeph">VARCHAR2</code> （ <code class="codeph">Types.VARCHAR</code> ）。
                           </p>
                        </li>
                     </ul>
                     <p>当然，任何流的使用都由您自行决定。您可以使用主机变量的SQLJ流类型来发送或检索数据。</p>
                     <p>如<a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="摘要">表6-1所示</a> ， <code class="codeph">LONG</code>和<code class="codeph">VARCHAR2</code>数据也可以在Java <code class="codeph">String</code> ，而<code class="codeph">RAW</code>和<code class="codeph">LONGRAW</code>数据也可以在Java <code class="codeph">byte[]</code>数组中显示。此外，如果您的数据库支持大对象类型，例如<code class="codeph">BLOB</code>和<code class="codeph">CLOB</code> ，那么您可能会发现这些类型比<code class="codeph">LONG</code>和<code class="codeph">LONG RAW</code>等类型更<code class="codeph">LONG RAW</code> ，尽管仍可以使用流来从大对象中提取数据。Oracle SQLJ和JDBC实现支持大型对象类型。
                     </p>
                     <div class="infoboxnotealso" id="GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A__GUID-52F6D69D-9351-4C82-8D56-947C1BCF0DF6">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A">支持BLOB_ CLOB_和BFILE</a> ”</span></p>
                     </div>
                     <p>两个SQLJ流类都是标准Java类<code class="codeph">java.io.子类。InputStream</code>的<code class="codeph">BinaryStream</code>和<code class="codeph">java.io.用于<code class="codeph">CharacterStream</code> Reader</code> ，并充当包装器以提供SQLJ所需的功能。此功能是向SQLJ传达基础数据的类型和长度，以便可以正确地处理和格式化它。
                     </p>
                  </div>
               </div><a id="JSQLJ361"></a><div class="props_rev_3"><a id="GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96" name="GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96"></a><h4 id="JSQLJ-GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96" class="sect4">流支持类的关键方面</h4>
                  <div>
                     <p>以下缩写代码说明了<code class="codeph">BinaryStream</code>类的关键方面，例如它扩展了什么，构造函数签名和键方法签名：</p><pre class="oac_no_warn" dir="ltr">公共类sqlj.runtime。BinaryStream扩展了sqlj.runtime。StreamWrapper {public sqlj.runtime。BinaryStream（java.io。InputStream的）; public sqlj.runtime。BinaryStream（java.io。的InputStream，int）;在public java.io.InputStream getInputStream（）; public int getLength（）; public void setLength（int）; }</pre><p>以下缩写代码说明了<code class="codeph">CharacterStream</code>类的关键方面：</p><pre class="oac_no_warn" dir="ltr">公共类sqlj.runtime。CharacterStream扩展了java.io.FilterReader {public sqlj.runtime。CharacterStream（java.io。读者）; public sqlj.runtime。CharacterStream（java.io。阅读器，INT）; public int getLength（）; public java.io.Reader getReader（）; public void setLength（int）; }</pre><div class="infoboxnote" id="GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96__GUID-1E35390A-85CC-4E01-8AA8-E243055EDC45">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>构造函数中的<code class="codeph">int</code>参数用于数据长度，字节或字符（如果适用）。
                              </p>
                           </li>
                           <li>
                              <p>对于任何采用<code class="codeph">java.io.InputStream</code>对象作为输入，可以使用<code class="codeph">BinaryStream</code>对象代替。同样，对于任何采用<code class="codeph">java.io.Reader</code>对象作为输入，可以使用<code class="codeph">CharacterStream</code>对象代替。
                              </p>
                           </li>
                           <li>
                              <p>不推荐使用的<code class="codeph">AsciiStream</code>和<code class="codeph">UnicodeStream</code>类具有与<code class="codeph">BinaryStream</code>相同的关键方面和签名。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JSQLJ363"></a><a id="JSQLJ364"></a><a id="JSQLJ362"></a><div class="props_rev_3"><a id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B" name="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B"></a><h4 id="JSQLJ-GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B" class="sect4">使用SQLJ Streams发送数据</h4>
                  <div>
                     <div class="section">
                        <p>标准SQLJ使您可以使用流作为主机变量来更新数据库。将SQLJ流发送到数据库的关键点是，您必须以某种方式确定数据的长度，并为SQLJ流的构造函数指定该长度。</p>
                        <p>您可以使用SQLJ流将数据发送到数据库，如下所示：</p>
                        <ol>
                           <li>
                              <p>确定数据的长度。</p>
                           </li>
                           <li>
                              <p>为输入创建适当的标准Java数据对象。对于<code class="codeph">BinaryStream</code> ，这将是一个输入流的一个实例<code class="codeph">java.io.InputStream</code>或某个子类。对于<code class="codeph">CharacterStream</code> ，这将是一个reader对象， <code class="codeph">java.io.一个实例。Reader</code>或一些子类。
                              </p>
                           </li>
                           <li>
                              <p>根据数据类型创建适当的SQLJ流类的实例，将数据对象和长度传递给构造函数。</p>
                           </li>
                           <li>
                              <p>在SQLJ可执行语句中的适当SQL操作中将SQLJ流实例用作主机变量。</p>
                           </li>
                           <li>
                              <p>关闭流。</p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-01621CF9-FF36-4889-AF2E-9739E47EEE45">
                           <p class="notep1">注意：</p>
                           <p>虽然不是必需的，但建议您在使用后关闭流。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-331DBD61-6053-4166-AC48-F597C8BBFBE5">从文件更新LONG或LONG RAW</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>本节说明如何从<code class="codeph">File</code>对象创建<code class="codeph">CharacterStream</code>对象或<code class="codeph">BinaryStream</code>对象，并使用它来更新数据库。最后的代码示例使用<code class="codeph">CharacterStream</code>作为<code class="codeph">LONG</code>列。
                        </p>
                        <p>在从文件更新数据库列时，需要一个步骤来确定长度。您可以通过创建<code class="codeph">java.io.来完成此操作。创建输入流之前的File</code>对象。
                        </p>
                        <p>以下是从文件更新数据库的步骤：</p>
                        <ol>
                           <li>
                              <p>创建一个<code class="codeph">java.io.File</code>对象。您可以为<code class="codeph">File</code>类构造函数指定文件路径名。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">File</code>对象的<code class="codeph">length()</code>方法确定数据的长度。此方法返回一个<code class="codeph">long</code>值，必须将其<code class="codeph">int</code>为<code class="codeph">int</code>才能输入SQLJ流类构造函数。
                              </p>
                              <div class="infoboxnote" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-E6419F2E-5FA1-4385-A112-26208E168404">
                                 <p class="notep1">注意：</p>
                                 <p>在执行此转换之前，请测试<code class="codeph">long</code>值以确保它不会太大而无法放入<code class="codeph">int</code>变量。<code class="codeph">java.lang.类中的静态常量<code class="codeph">MAX_VALUE</code> <code class="codeph">java.lang.Integer</code>表示可能的最大Java <code class="codeph">int</code>值。
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>对于角色数据，创建一个<code class="codeph">java.io.<code class="codeph">File</code>对象中的FileReader</code>对象。您可以将<code class="codeph">File</code>对象传递给<code class="codeph">FileReader</code>构造函数。
                              </p>
                              <p>对于二进制数据，请创建<code class="codeph">java.io.<code class="codeph">File</code>对象中的FileInputStream</code>对象。您可以将<code class="codeph">File</code>对象传递给<code class="codeph">FileInputStream</code>构造函数。
                              </p>
                           </li>
                           <li>
                              <p>创建适当的SQLJ流对象。这将是字符文件的<code class="codeph">CharacterStream</code>对象或二进制文件的<code class="codeph">BinaryStream</code>对象。将<code class="codeph">FileReader</code>或<code class="codeph">FileInputStream</code>对象（如果适用）和数据长度作为<code class="codeph">int</code>传递给SQLJ流类构造函数。
                              </p>
                           </li>
                           <li>
                              <p>在SQLJ可执行语句中的适当SQL操作中，将SQLJ流对象用作主机变量。</p>
                           </li>
                        </ol>
                        <p>以下是从文件中将<code class="codeph">LONG</code>数据写入数据库的示例。假设你有一个HTML文件<code class="codeph">/private/mydir/myfile.html</code>并希望将文件内容插入<code class="codeph">LONG</code>列， <code class="codeph">chardata</code> ，在<code class="codeph">filetable</code>数据库表。
                        </p><pre class="oac_no_warn" dir="ltr">import java.io.*; import sqlj.runtime。*; ...File myfile = new File（“/private/mydir/myfile.html”）; int length =（int）myfile.length（）; //必须将长输出转换为int。FileReader filereader = new FileReader（myfile）; CharacterStream charstream = new CharacterStream（filereader，length）; #sql {INSERT INTO filetable（chardata）VALUES（：charstream）}; charstream.close（）; ...
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-3CE71012-2DA1-4997-965B-931E951D7453">从字节数组更新LONG RAW</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>本节说明如何从字节数组创建<code class="codeph">BinaryStream</code>对象并使用它来更新数据库。
                        </p>
                        <p>在从字节数组更新数据库之前，必须确定数据的长度。但是，对于数组而言，这比文件更简单，因为所有Java数组都具有返回长度的功能。</p>
                        <p>以下是从字节数组更新数据库的步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用数组的<code class="codeph">length</code>功能来确定数据的长度。这将返回一个<code class="codeph">int</code> ，这是您对任何SQLJ流类的构造函数所需的。</span></li>
                        <li class="stepexpand"><span>创建一个<code class="codeph">java.io.ByteArrayInputStream</code>对象。您可以将字节数组传递给<code class="codeph">ByteArrayInputStream</code>构造函数。</span></li>
                        <li class="stepexpand"><span>创建<code class="codeph">BinaryStream</code>对象。将<code class="codeph">ByteArrayInputStream</code>对象和数据长度作为<code class="codeph">int</code>传递给<code class="codeph">BinaryStream</code>类构造函数。</span><div>
                              <p>构造函数签名如下：</p><pre class="oac_no_warn" dir="ltr">BinaryStream（InputStream in，int length）</pre><p>您可以使用<code class="codeph">java.io.的实例。InputStream</code>或任何子类，例如<code class="codeph">ByteArrayInputStream</code>类。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在SQLJ可执行语句中的适当SQL操作中，将SQLJ流对象用作主机变量。</span></li>
                     </ol>
                     <div class="section">
                        <p>以下是从字节数组向数据库写入<code class="codeph">LONG RAW</code>数据的示例。假设您有一个字节数组<code class="codeph">bytearray[]</code> ，并且您希望将其内容插入<code class="codeph">BINTABLE</code>数据库表中的<code class="codeph">LONG RAW</code>列<code class="codeph">BINDATA</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">import java.io.*; import sqlj.runtime。*; ...byte [] bytearray = new byte [100]; （ <span class="italic">以某种方式</span> <span class="italic">填充</span> bytearray。）...int length = bytearray.length; ByteArrayInputStream arraystream = new ByteArrayInputStream（bytearray）; BinaryStream binstream = new BinaryStream（arraystream，length）; #sql {INSERT INTO bintable（bindata）VALUES（：binstream）}; binstream.close（）; ...
</pre><div class="infoboxnote" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-6282A32C-AF80-4C62-BE82-8B64433681C4">
                           <p class="notep1">注意：</p>
                           <p>没有必要像本例中那样使用流。或者，您可以直接从字节数组更新数据库。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ365"></a><div class="props_rev_3"><a id="GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7" name="GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7"></a><h4 id="JSQLJ-GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7" class="sect4">将数据检索到流中：注意事项</h4>
                  <div>
                     <div class="section">
                        <p>您还可以使用SQLJ流类来检索数据，但使用流的后勤使某些数据库产品需要采取某些预防措施。使用Oracle Database 12 <span class="italic">c</span>第2版（12.2）和Oracle JDBC驱动程序读取长数据并将其写入流时，必须注意访问和处理流数据的方式。
                        </p>
                        <p>当Oracle JDBC驱动程序从迭代器行访问数据时，它们必须在访问下一个数据项之前从通信管道中清除任何流项。即使在处理迭代器行的同时将流数据写入本地流，如果在JDBC驱动程序访问下一个数据项之前未从本地流中读取它，则此流数据将丢失。这是因为必须处理流的方式，这是由于它们的大小和未知长度。</p>
                        <p>因此，只要Oracle JDBC驱动程序访问了流项并将其写入本地流变量，就必须在从迭代器访问其他任何内容之前读取并处理本地流。</p>
                        <p>在使用位置迭代器及其必需的<code class="codeph">FETCH INTO</code>语法时，这尤其成问题。每次获取时，在处理任何列之前都会读取所有列。因此，只能有一个流项，它必须是最后访问的项。
                        </p>
                        <p>您必须采取的预防措施可归纳如下：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用位置迭代器时，只能有一个流列，它必须是最后一列。一旦获取了迭代器的每一行，将流项写入进程中的本地输入流变量，就必须先读取并处理本地流变量，然后再前进到迭代器的下一行。</p>
                           </li>
                           <li>
                              <p>使用命名迭代器时，可以有多个流列。但是，在处理每个迭代器行时，每次访问流字段，将数据写入进程中的本地流变量时，必须立即读取并处理本地流，然后再从迭代器中读取其他内容。</p>
                              <p>此外，在处理命名迭代器的每一行时，必须按照填充迭代器的查询中选择数据库列的顺序调用列访问器方法。如前面的讨论中所提到的，这是因为在查询之后流数据保留在通信管道中。如果您尝试不按顺序访问列，则在访问其他列的过程中可能会跳过并丢失流数据。</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7__GUID-79ED5DB9-9539-44C3-82BD-791519CBD7B7">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Oracle Database 12 <span class="italic">c</span>第2版（12.2）和Oracle JDBC驱动程序不支持在<code class="codeph">SELECT INTO</code>语句中使用流。
                                 </p>
                              </li>
                              <li>
                                 <p>默认情况下，输入流不支持<code class="codeph">mark</code>和<code class="codeph">reset</code>方法。如果将任意输入流传递给构造函数，则<code class="codeph">InputStream</code>类的<code class="codeph">reset</code>方法将抛出<code class="codeph">IOException</code> 。因此，在传递给<code class="codeph">NcharAsciiStream</code>构造函数时，始终确保输入流处于正确的状态。例如，如果流没有更多数据或流已关闭，则在将流传<code class="codeph">NcharAsciiStream</code>之前重置流。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ367"></a><a id="JSQLJ368"></a><a id="JSQLJ366"></a><div class="props_rev_3"><a id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE" name="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE"></a><h4 id="JSQLJ-GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE" class="sect4">使用SQLJ Streams检索数据</h4>
                  <div>
                     <div class="section">
                        <p>要以流形式检索数据，标准SQLJ允许您将数据选择到具有相应SQLJ流类型列的命名或位置迭代器中。</p>
                        <p>本节介绍使用位置迭代器或命名迭代器将数据检索到SQLJ流中的基本步骤，同时考虑前一节中记录的预防措施。</p>
                        <div class="infoboxnotealso" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-BC3FB9FC-1873-4D6A-92CE-DF9149AE00E4">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="type-support.html#GUID-80703741-F468-4555-9AF4-752C3BF07E76">流类方法</a> ”</span>和<span class="q">“ <a href="type-support.html#GUID-D050D2F7-8020-40EA-A175-8FE2038FED12">检索和处理流数据的示例</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-FF3F6015-E808-4C40-955B-9D60F05AB89F">在位置迭代器中使用SQLJ流列</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用以下步骤使用位置迭代器将数据检索到SQLJ流：</p>
                        <ol>
                           <li>
                              <p>声明一个位置迭代器类，其最后一列是适当的SQLJ流类型。</p>
                           </li>
                           <li>
                              <p>声明迭代器类型的局部变量。</p>
                           </li>
                           <li>
                              <p>声明适当的SQLJ流类型的局部变量。这将用作宿主变量，以从迭代器的SQLJ流列的每一行接收数据。</p>
                           </li>
                           <li>
                              <p>执行查询以填充您在步骤2中声明的迭代器。</p>
                           </li>
                           <li>
                              <p>像往常一样处理迭代器。由于<code class="codeph">FETCH INTO</code>语句的<code class="codeph">INTO</code> -list中的主机变量必须与位置迭代器的列的顺序相同，因此本地输入流变量是列表中的最后一个主变量。
                              </p>
                              <div class="infoboxnotealso" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-ECF79D64-86BD-4B50-BC24-70CA5B4BD943">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="basic-language-features.html#GUID-C99760AC-46A2-446C-8CA6-D032FC4C303D">使用位置迭代器</a> ”</span></p>
                              </div>
                           </li>
                           <li>
                              <p>在迭代器处理循环中，在访问每个迭代器行之后，立即读取并处理本地输入流，根据需要存储或打印流数据。</p>
                           </li>
                           <li>
                              <p>每次通过迭代器处理循环关闭本地输入流。</p>
                           </li>
                           <li>
                              <p>关闭迭代器。</p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-3C5DAC09-29AB-4844-B3FF-A8040DD46DE9">
                           <p class="notep1">注意：</p>
                           <p>虽然不是必需的，但建议您每次通过迭代器处理循环关闭本地输入流。</p>
                        </div>
                        <p>&lt;&lt;&lt; [11g？]使用代码示例。 &gt;&gt;&gt;</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-D3BAEF42-98E3-4FB5-AD53-D1C0859FAEF8">在命名迭代器中使用SQLJ流列</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>使用以下步骤使用命名迭代器将数据检索到一个或多个SQLJ流中：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用适当的SQLJ流类型的一列或多列声明一个命名的迭代器类。</span></li>
                        <li class="stepexpand"><span>声明迭代器类型的局部变量。</span></li>
                        <li class="stepexpand"><span>为迭代器中的每个SQLJ流列声明一些输入流或读取器类型的局部变量。这些将用于从流列访问器方法接收数据。这些本地流变量不必是SQLJ流类型。它们可以是标准的<code class="codeph">java.io.InputStream</code>或<code class="codeph">java.io.Reader</code> ，如适用。</span><div>
                              <div class="infoboxnote" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-D76771F0-13BF-41EF-864E-0F839005900B">
                                 <p class="notep1">注意：</p>
                                 <p>本地流变量不必是SQLJ流类型，因为由于迭代器列具有适当的SQLJ流类型，数据已经被正确格式化。</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>执行查询以填充您在步骤2中声明的迭代器。</span></li>
                        <li class="stepexpand"><span>像往常一样处理迭代器。在处理迭代器的每一行时，当每个stream-column访问器方法返回流数据时，将其写入您在步骤3中声明的相应本地输入流变量。</span><div>
                              <p>要确保不会丢失流数据，请按照步骤4中查询中选择的列的相同顺序调用列访问器方法。</p>
                              <div class="infoboxnotealso" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-4CCA8ADE-334B-4B70-96EB-4DE3C95B7FD1">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="basic-language-features.html#GUID-C99760AC-46A2-446C-8CA6-D032FC4C303D">使用位置迭代器</a> ”</span></p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>在迭代器处理循环中，在调用任何流列的访问器方法并将数据写入本地输入流变量之后，立即读取并处理本地输入流，根据需要存储或打印流数据。</span></li>
                        <li class="stepexpand"><span>每次通过迭代器处理循环关闭本地输入流。</span></li>
                        <li class="stepexpand"><span>关闭迭代器。</span></li>
                     </ol>
                     <div class="section">
                        <p>&lt;&lt;&lt; [11g？]使用代码示例。 &gt;&gt;&gt;</p>
                        <div class="infoboxnote" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-61C8F50C-4B39-4EF8-A6F9-AD0885D4D4A6">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用数据填充SQLJ流对象时，流的length属性将没有意义。只有在使用每个SQLJ流类提供的<code class="codeph">setLength()</code>方法或指定构造函数的长度时，此属性才有意义。
                                 </p>
                              </li>
                              <li>
                                 <p>虽然不是必需的，但建议您每次通过迭代器处理循环关闭本地输入流。</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ370"></a><a id="JSQLJ371"></a><a id="JSQLJ369"></a><div class="props_rev_3"><a id="GUID-80703741-F468-4555-9AF4-752C3BF07E76" name="GUID-80703741-F468-4555-9AF4-752C3BF07E76"></a><h4 id="JSQLJ-GUID-80703741-F468-4555-9AF4-752C3BF07E76" class="sect4">流类方法</h4>
                  <div>
                     <p>在处理命名或位置迭代器中的SQLJ流列时，用于接收流数据的本地流变量可以是SQLJ流类型或标准<code class="codeph">java.io.InputStream</code>或<code class="codeph">java.io.Reader</code>类型，如适用。在任何一种情况下，都支持输入数据对象的标准方法。
                     </p>
                     <p>如果本地流变量是SQLJ流类型， <code class="codeph">BinaryStream</code>或<code class="codeph">CharacterStream</code> ，则可以选择直接从SQLJ流对象读取数据，也可以检索基础<code class="codeph">InputStream</code>或<code class="codeph">Reader</code>对象并从中读取数据。
                     </p>
                     <div class="infoboxnote" id="GUID-80703741-F468-4555-9AF4-752C3BF07E76__GUID-E33A4392-BBC5-47AD-8DDC-68AA314B244D">
                        <p class="notep1">注意：</p>
                        <p>这只是一个偏好问题。前一种方法更简单。但是，后一种方法涉及更直接和有效的数据访问。</p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-80703741-F468-4555-9AF4-752C3BF07E76__GUID-7081D267-FECC-41D5-B0E6-4BA4DAB27D67">二进制流方法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">BinaryStream</code>类是<code class="codeph">sqlj.runtime.的子类<code class="codeph">sqlj.runtime.StreamWrapper</code>类。<code class="codeph">StreamWrapper</code>类提供以下关键方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">InputStream getInputStream()</code> ：您可以选择使用此方法来获取底层的<code class="codeph">java.io.InputStream</code>对象。但是，这不是必需的，因为您还可以直接处理SQLJ流对象。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">void setLength(int length)</code> ：您可以使用它来设置SQLJ流对象的<code class="codeph">length</code>属性。如果您已经在构造流对象时设置了<code class="codeph">length</code> ，则不需要这样做，除非您出于某种原因想要更改它。
                              </p>
                              <p>在将SQLJ流发送到数据库之前，必须将<code class="codeph">length</code>属性设置为适当的值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">int getLength()</code> ：此方法返回SQLJ流的<code class="codeph">length</code>属性的值。仅当使用流对象构造函数或<code class="codeph">setLength()</code>方法显式设置此值时，此值才有意义。将数据检索到流中时，不会自动设置<code class="codeph">length</code>属性。
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">sqlj.runtime.StreamWrapper</code>类是的子类<code class="codeph">java.io.FilterInputStream</code>的类，它是的一个子类<code class="codeph">java.io.InputStream</code>类。SQLJ <code class="codeph">BinaryStream</code>类也支持以下<code class="codeph">InputStream</code>类的重要方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">int read ()</code> ：从输入流中读取下一个数据字节。数据字节作为<code class="codeph">int</code>值返回，范围为0到255。如果已到达流的末尾，则返回值<code class="codeph">-1</code> 。此方法阻止程序执行，直到执行以下操作之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>输入数据可用</p>
                                 </li>
                                 <li>
                                    <p>检测到流的末尾</p>
                                 </li>
                                 <li>
                                    <p>抛出异常</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">int read (byte b[])</code> ：从输入流中读取最多<code class="codeph">b.length</code>个字节的数据，将数据写入指定的<code class="codeph">b[]</code>字节数组。它返回一个<code class="codeph">int</code>值，表示读取了多少字节，如果已经到达流的末尾，则返回<code class="codeph">-1</code> 。此方法阻止程序执行，直到输入可用。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">int read (byte b[], int off, int len)</code> ：从输入流中读取最多<code class="codeph">len</code>个字节的数据，从偏移量指定的字节开始， <code class="codeph">off</code> ，并将数据写入指定的<code class="codeph">b[]</code>字节数组。它返回一个<code class="codeph">int</code>值，表示读取了多少字节，如果已经到达流的末尾，则返回<code class="codeph">-1</code> 。此方法将阻塞，直到输入可用。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">long skip (long n)</code> ：跳过并丢弃输入流中的<code class="codeph">n</code>个字节的数据。但是，在某些情况下，此方法实际上会跳过较少的字节数。它返回一个<code class="codeph">long</code>值，表示跳过的实际字节数。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">void close()</code> ：关闭流并释放所有相关资源。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-80703741-F468-4555-9AF4-752C3BF07E76__GUID-430D1EC2-B5DE-4927-8C12-1393EA5327B8">字符流方法</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">CharacterStream</code>类提供以下关键方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">Reader getReader()</code> ：您可以选择使用此方法来获取底层的<code class="codeph">java.io.Reader</code>对象。但是，这不是必需的，因为您还可以直接处理SQLJ流对象。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">void setLength(int length)</code> ：您可以使用此方法设置流对象的长度。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">int getLength()</code> ：您可以使用此方法获取流对象的长度。
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">sqlj.runtime.CharacterStream</code>类是<code class="codeph">java.io.的子类。FilterReader</code>类，这是的一个子类<code class="codeph">java.io.Reader</code>课。SQLJ <code class="codeph">CharacterStream</code>类也支持<code class="codeph">Reader</code>类的以下重要方法：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">int read ()</code> ：从阅读器中读取下一个数据字符。数据作为<code class="codeph">int</code>值返回，范围为0到65535。如果已到达数据末尾，则返回值<code class="codeph">-1</code> 。此方法阻止程序执行，直到执行以下操作之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>输入数据可用</p>
                                 </li>
                                 <li>
                                    <p>检测到数据的结尾</p>
                                 </li>
                                 <li>
                                    <p>抛出异常</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">int read (char cbuf[])</code> ：将字符读入数组，将数据写入指定的<code class="codeph">cbuf[]</code> char数组。它返回一个<code class="codeph">int</code>值，表示读取了多少个字符，如果已经到达数据末尾，则返回<code class="codeph">-1</code> 。此方法阻止程序执行，直到输入可用。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">int read (char cbuf[], int off, int len)</code> ：从输入中读取最多<code class="codeph">len</code>个数据字符，从offset指定的字符开始， <code class="codeph">off</code> ，并将数据写入指定的<code class="codeph">char[]</code> char数组。它返回一个<code class="codeph">int</code>值，表示读取了多少个字符，如果已经到达数据末尾，则返回<code class="codeph">-1</code> 。此方法将阻塞，直到输入可用。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">long skip (long n)</code> ：跳过并丢弃输入中的<code class="codeph">n</code>个数据字符。但是，在某些情况下，此方法实际上会跳过较少数量的字符。它返回一个<code class="codeph">long</code>值，表示跳过的实际字符数。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">void close()</code> ：关闭流并释放所有相关资源。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ373"></a><a id="JSQLJ374"></a><a id="JSQLJ372"></a><div class="props_rev_3"><a id="GUID-D050D2F7-8020-40EA-A175-8FE2038FED12" name="GUID-D050D2F7-8020-40EA-A175-8FE2038FED12"></a><h4 id="JSQLJ-GUID-D050D2F7-8020-40EA-A175-8FE2038FED12" class="sect4">检索和处理流数据的示例</h4>
                  <div>
                     <p>本节提供了检索流数据的各种方案的示例，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用<code class="codeph">SELECT</code>语句从<code class="codeph">LONG</code>列中选择数据并在命名迭代器中填充SQLJ <code class="codeph">CharacterStream</code>列，如<a href="type-support.html#GUID-D050D2F7-8020-40EA-A175-8FE2038FED12__CHDBFGEJ">例6-1</a>所示</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">SELECT</code>语句从<code class="codeph">LONG RAW</code>列中选择数据并在位置迭代器中填充SQLJ <code class="codeph">BinaryStream</code>列，如<a href="type-support.html#GUID-D050D2F7-8020-40EA-A175-8FE2038FED12__CHDIBIFI">例6-2</a>所示</p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-D050D2F7-8020-40EA-A175-8FE2038FED12__CHDBFGEJ">
                        <p class="titleinexample">示例6-1将LONG数据选择为命名迭代器的CharacterStream列</p>
                        <p>此示例从<code class="codeph">LONG</code>数据库列中选择数据，在命名迭代器中填充SQLJ <code class="codeph">CharacterStream</code>列。
                        </p>
                        <p>假设有一个名为表<code class="codeph">FILETABLE</code>具有<code class="codeph">VARCHAR2</code>列名为<code class="codeph">FILENAME</code>包含文件名和一个<code class="codeph">LONG</code>称为列<code class="codeph">FILECONTENTS</code>包含字符格式文件的内容。代码如下：</p><pre class="oac_no_warn" dir="ltr">import sqlj.runtime。*; import java.io.*; ...#sql iterator MyNamedIter（String filename，CharacterStream filecontents）; ...MyNamedIter namediter = null;字符串fname; CharacterStream charstream; #sql namediter = {SELECT filename，filecontents FROM filetable}; while（namediter.next（））{fname = namediter.filename（）; charstream = namediter.filecontents（）; System.out.println（“文件内容”+ fname +“：”）;的PrintStream（charstream）; charstream.close（）; } namediter.close（）; ...public void printStream（Reader in）抛出IOException {int character; while（（character = in.read（））！= -1）{System.out.print（（char）character）; }}</pre><p>请记住，您可以将SQLJ字符流传递给采用标准<code class="codeph">java.io.任何方法。Reader</code>作为输入参数。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D050D2F7-8020-40EA-A175-8FE2038FED12__CHDIBIFI">
                        <p class="titleinexample">例6-2：选择LONG RAW数据到Positional Iterator的BinaryStream列</p>
                        <p>此示例从<code class="codeph">LONG RAW</code>列中选择数据，在位置迭代器中填充SQLJ <code class="codeph">BinaryStream</code>列。
                        </p>
                        <p>如前一节所述，位置迭代器中只能有一个流列，它必须是最后一列。假设有一个名为<code class="codeph">BINTABLE</code>的表，其中一个名为<code class="codeph">IDENTIFIER</code>的<code class="codeph">NUMBER</code>列和一个名为<code class="codeph">BINDATA</code>的<code class="codeph">LONG RAW</code>列包含与该标识符关联的二进制数据。代码如下：</p><pre class="oac_no_warn" dir="ltr">import sqlj.runtime。*; ...#sql iterator MyPosIter（int，BinaryStream）; ...MyPosIter positer = null; int id = 0; BinaryStream binstream = null; #sql positer = {SELECT identifier，bindata FROM bintable}; while（true）{#sql {FETCH：positer INTO：id，：binstream}; if（positer.endFetch（））中断; （... <span class="italic">根据需要处理数据</span> ......）binstream.close（）; } positer.close（）; ...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="JSQLJ376"></a><a id="JSQLJ377"></a><a id="JSQLJ375"></a><div class="props_rev_3"><a id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75" name="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75"></a><h4 id="JSQLJ-GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75" class="sect4">SQLJ流对象作为输出参数和函数返回值</h4>
                  <div>
                     <p>如前面部分所述，标准SQLJ支持在<code class="codeph">sqlj.runtime</code>包中使用<code class="codeph">BinaryStream</code>和<code class="codeph">CharacterStream</code>类来将流数据检索到迭代器列中。
                     </p>
                     <p>此外，如果您使用Oracle9 <span class="italic">i</span>数据库或更高版本，Oracle JDBC驱动程序，Oracle特定代码生成或Oracle定制程序以及Oracle SQLJ运行时，Oracle SQLJ实现将启用SQLJ流类型的以下用法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>它们可以从存储过程或函数调用中显示为<code class="codeph">OUT</code>或<code class="codeph">INOUT</code>主变量。
                           </p>
                        </li>
                        <li>
                           <p>它们可以作为存储函数调用的返回值出现。</p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75__GUID-A72FEF0F-1EAD-4A3A-9680-629F785A5899">流作为存储过程输出参数</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您可以使用<code class="codeph">BinaryStream</code>和<code class="codeph">CharacterStream</code>类型作为存储过程或存储函数<code class="codeph">OUT</code>或<code class="codeph">INOUT</code>参数的赋值类型。
                        </p>
                        <p>假设以下表定义：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE streamexample（名称VARCHAR2（256），数据LONG）; INSERT INTO streamexample（data，name）VALUES（'0000000000111111111112222222222333333333344444444445555555555'，'StreamExample'）;</pre><p>另外，假设以下存储过程定义，它使用<code class="codeph">STREAMEXAMPLE</code>表：</p><pre class="oac_no_warn" dir="ltr">创建或替换过程out_longdata（dataname VARCHAR2，longdata OUT LONG）是BEGIN SELECT数据INTO longdata FROM streamexample WHERE name = dataname;结束out_longdata;</pre><p>以下示例代码使用对<code class="codeph">out_longdata</code>存储过程的调用来读取长数据：</p><pre class="oac_no_warn" dir="ltr">import sqlj.runtime。*; ...CharacterStream数据; #sql {CALL out_longdata（'StreamExample'，：OUT data）}; int c; while（（c = data.read（））！= -1）System.out.print（（char）c）; System.out.flush（）; data.close（）; ...
</pre><div class="infoboxnote" id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75__GUID-22F94A96-F473-42E7-9F1F-6B274991EB5A">
                           <p class="notep1">注意：</p>
                           <p>建议关闭流，但不是必需的。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75__GUID-29810A4F-D9C8-4978-BA8E-31616CFD8649">流作为存储功能结果</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您可以使用<code class="codeph">BinaryStream</code>和<code class="codeph">CharacterStream</code>类型作为存储函数返回结果的赋值类型。
                        </p>
                        <p>假设与前面的存储过程示例中相同的<code class="codeph">STREAMEXAMPLE</code>表定义。另外，假设以下存储的函数定义，它使用<code class="codeph">STREAMEXAMPLE</code>表：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数get_longdata（dataname VARCHAR2）RETURN long IS longdata LONG; BEGIN SELECT data INTO longdata FROM streamexample WHERE name = dataname;返回longdata; END get_longdata;</pre><p>以下示例代码使用对<code class="codeph">get_longdata</code>存储函数的调用来读取长数据：</p><pre class="oac_no_warn" dir="ltr">import sqlj.runtime。*; ...CharacterStream数据; #sql data = {VALUES（get_longdata（'StreamExample'））}; int c; while（（c = data.read（））！= -1）System.out.print（（char）c）; System.out.flush（）; data.close（）; ...
</pre><div class="infoboxnote" id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75__GUID-D09F2398-C0ED-4894-BAC4-5149EFFBF7A5">
                           <p class="notep1">注意：</p>
                           <p>建议关闭流，但不是必需的。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JSQLJ378"></a><div class="props_rev_3"><a id="GUID-9C82F6F4-197C-4B80-8491-B3CF03861384" name="GUID-9C82F6F4-197C-4B80-8491-B3CF03861384"></a><h3 id="JSQLJ-GUID-9C82F6F4-197C-4B80-8491-B3CF03861384" class="sect3">支持JDBC 2.0 LOB类型和Oracle Type Extensions</h3>
               <div>
                  <p>Oracle SQLJ实现为以下JDBC 2.0和Oracle特定的数据类型提供扩展功能：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>JDBC 2.0大对象（LOB）类型（ <code class="codeph">BLOB</code>和<code class="codeph">CLOB</code> ）</p>
                     </li>
                     <li>
                        <p>Oracle <code class="codeph">BFILE</code>类型</p>
                     </li>
                     <li>
                        <p>Oracle <code class="codeph">ROWID</code>类型</p>
                     </li>
                     <li>
                        <p>Oracle REF CURSOR类型</p>
                     </li>
                     <li>
                        <p>其他Oracle Database 12 <span class="italic">c</span>第2版（12.2）数据类型，例如<code class="codeph">NUMBER</code>和<code class="codeph">RAW</code></p>
                     </li>
                  </ul>
                  <p><code class="codeph">oracle.sql</code>包中的类支持这些数据类型。LOB和二进制文件（BFILE）以多种方式处理，因此将一起讨论。此外，Oracle SQLJ实现还提供对标准BigDecimal JDBC类型的扩展支持。
                  </p>
                  <p>还支持用户定义的SQL对象，对象引用和集合的JDBC 2.0功能。</p>
                  <div class="infoboxnotealso" id="GUID-9C82F6F4-197C-4B80-8491-B3CF03861384__GUID-C82E762E-F71C-4522-BD08-6926CDFC8721">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="objects-collections-and-OPAQUE-types.html#GUID-93B64A3E-4928-4039-BC10-D7B05E768BFF">Objects_ Collections_和OPAQUE类型</a></p>
                  </div>
                  <p>请注意，在代码中使用Oracle扩展需要以下内容：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用Oracle JDBC驱动程序之一。</p>
                     </li>
                     <li>
                        <p>使用特定于Oracle的代码生成或ISO代码生成，适当地自定义配置文件。默认的自定义程序<code class="codeph">oracle.sqlj.runtime.util.建议使用OraCustomizer</code> 。
                        </p>
                     </li>
                     <li>
                        <p>在应用程序运行时使用Oracle SQLJ运行时。</p>
                     </li>
                  </ul>
                  <p>即使您没有在代码中实际使用Oracle扩展，每当您使用Oracle自定义程序时，都需要Oracle SQLJ运行时和Oracle JDBC驱动程序。</p>
                  <p>对于特定于Oracle的语义检查，您必须使用适当的检查程序。默认检查器<code class="codeph">oracle.sqlj.checker.OracleChecker</code>充当前端，将根据您的环境运行相应的检查程序。如果您使用的是Oracle JDBC驱动程序，那么这将是Oracle特定的检查程序之一。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="type-support.html#GUID-40A26589-5F08-42BB-A405-E54F86714CE6">包oracle.sql</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A">支持BLOB_ CLOB_和BFILE</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-179B1345-8836-49B7-9790-36F69BEAF15A">支持Oracle ROWID</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1">支持Oracle REF CURSOR类型</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-E0DD7B28-A856-4454-8B4D-3EB86F6FD2A9">支持其他Oracle Database 11g数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316">扩展支持BigDecimal</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ379"></a><div class="props_rev_3"><a id="GUID-40A26589-5F08-42BB-A405-E54F86714CE6" name="GUID-40A26589-5F08-42BB-A405-E54F86714CE6"></a><h4 id="JSQLJ-GUID-40A26589-5F08-42BB-A405-E54F86714CE6" class="sect4">包oracle.sql</h4>
                  <div>
                     <p>SQLJ用户以及JDBC用户应该了解<code class="codeph">oracle.sql</code>包，其中包含支持所有Oracle Database 12 <span class="italic">c</span>第2版（12.2）数据类型的类，例如<code class="codeph">oracle.sql.ROWID</code> ， <code class="codeph">oracle.sql.CLOB</code>和<code class="codeph">oracle.sql.NUMBER</code> 。 <code class="codeph">oracle.sql</code>类是原始SQL数据的包装器，并为Java格式提供适当的映射和转换方法。<code class="codeph">oracle.sql.*</code>对象包含字节数组形式的相应SQL数据的二进制表示。每个<code class="codeph">oracle.sql.*</code>数据类型类都是<code class="codeph">oracle.sql.的子类<code class="codeph">oracle.sql.Datum</code>类。
                     </p>
                     <p>对于特定于Oracle的语义检查，您必须使用适当的检查程序。默认检查器<code class="codeph">oracle.sqlj.checker.OracleChecker</code>充当前端，将根据您的环境运行相应的检查程序。如果您使用的是Oracle JDBC驱动程序，那么这将是Oracle特定的检查程序之一。
                     </p>
                     <div class="infoboxnotealso" id="GUID-40A26589-5F08-42BB-A405-E54F86714CE6__GUID-013C5D90-3935-40EE-BC42-41B742C2DFAC">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="translator-command-line-and-options.html#GUID-E001FA35-824A-47A1-8973-AA5771B0DFE5">连接选项</a> ”</span> 
                              </p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="translator-command-line-and-options.html#GUID-ED7DD3DE-CA91-4085-82B2-D07EC9B15FB6">语义 - 检查和离线 - 解析选项</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../jjdbc/Oracle-extensions.html#JJDBC-GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" target="_blank"><span class="italic">Oracle数据库JDBC开发人员指南</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JSQLJ381"></a><a id="JSQLJ384"></a><a id="JSQLJ389"></a><a id="JSQLJ390"></a><a id="JSQLJ391"></a><a id="JSQLJ392"></a><a id="JSQLJ393"></a><a id="JSQLJ382"></a><a id="JSQLJ383"></a><a id="JSQLJ385"></a><a id="JSQLJ386"></a><a id="JSQLJ387"></a><a id="JSQLJ388"></a><a id="JSQLJ380"></a><div class="props_rev_3"><a id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A" name="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A"></a><h4 id="JSQLJ-GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A" class="sect4">支持BLOB，CLOB和BFILE</h4>
                  <div>
                     <div class="section">
                        <p>Oracle SQLJ和JDBC实现支持JDBC 2.0 LOB类型，并为Oracle特定的<code class="codeph">BFILE</code>类型（存储在数据库外部的只读二进制文件）提供类似的支持。以下类支持这些数据类型：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">oracle.sql。BLOB</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql。CLOB</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql。BFILE</code></p>
                           </li>
                        </ul>
                        <p>可以通过以下方式在Oracle特定的SQLJ应用程序中使用这些类：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>作为<code class="codeph">IN</code> ， <code class="codeph">OUT</code>或<code class="codeph">INOUT</code>在可执行SQLJ语句和<code class="codeph">INTO</code>列表中的主机变量</p>
                           </li>
                           <li>
                              <p>作为存储函数调用的返回值</p>
                           </li>
                           <li>
                              <p>作为迭代器声明中的列类型</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-55B37B86-695C-48F2-BE81-99D7F1E39525">
                           <p class="notep1">也可以看看：</p>
                           <p>有关LOB和BFILE的更多信息以及受支持的流API的使用，请参阅<a href="../jjdbc/JDBC-reference-information.html#JJDBC-GUID-260661A5-E0CE-40D5-8590-FC15266C3392" target="_blank"><span class="italic">“Oracle数据库JDBC开发人员指南”</span></a> <span class="italic">。</span></p>
                        </div>
                        <p><a id="d22137e3723" class="indexterm-anchor"></a>您可以使用<code class="codeph">BLOB</code>和<code class="codeph">CLOB</code>类中定义的方法（建议使用）或使用<code class="codeph">DBMS_LOB</code> PL / SQL包中定义的过程和函数来操作LOB。SQLJ程序可以调用此包中定义的所有过程和函数。
                        </p>
                        <p>您可以使用建议的<code class="codeph">BFILE</code>类中定义的方法或使用<code class="codeph">DBMS_LOB</code>包的文件处理例程来操作BFILE。
                        </p>
                        <p>在Java应用程序中使用<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">BFILE</code>类的方法比使用<code class="codeph">DBMS_LOB</code>包更方便，并且在某些情况下也可能导致更快的执行。
                        </p>
                        <p>请注意，正在读取或写入的块的类型取决于被操作的LOB的类型。例如，字符大对象（CLOB）包含字符数据，因此，Java字符串用于保存数据块。二进制大对象（BLOB）包含二进制数据，因此，Java字节数组用于保存数据块。</p>
                        <div class="infoboxnote" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-F1C335E9-C67E-40A6-97C3-FDA8F3AD06F5">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">DBMS_LOB</code>包需要往返服务器。<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">BFILE</code>类中的方法也可能导致到服务器的往返。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-D6C3EEF0-A388-423C-8C98-557695EB7756">BFILE类与BFILE的DBMS_LOB功能</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDFAIDC">示例6-3</a>和<a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDCEIED">示例6-4</a>使用<code class="codeph">oracle.sql</code>方法对比使用BFILE的<code class="codeph">DBMS_LOB</code>包：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-40FFB69C-800F-4153-8FD7-433D9A34ACFA">LOB的BLOB和CLOB类与DBMS_LOB功能</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDBABAB">示例6-5</a>和<a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDHJJII">示例6-6</a>对比使用<code class="codeph">oracle.sql</code>方法和使用<code class="codeph">DBMS_LOB</code>包进行BLOB，而<a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDGABAC">示例6-7</a>和<a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDEJAJJ">示例6-8</a>对比使用<code class="codeph">oracle.sql</code>方法和使用<code class="codeph">DBMS_LOB</code>包对于CLOB。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-4DE9E351-ED5F-471D-92FA-78365D53DFE9">LOB和BFILE存储函数结果</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>可以将<code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">BFILE</code>类型的主变量分配给存储的函数调用的结果。以下示例适用于CLOB，但BLOB和BFILE的代码在功能上是相同的。
                        </p>
                        <p>首先，假设以下函数定义：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数long_clob（c1 CLOB，c2 CLOB）RETURN CLOB是结果CLOB; BEGIN IF dbms_lob.getLength（c2）&gt; dbms_lob.getLength（c1）那么结果：= c2; ELSE结果：= c1;万一;返回结果; END_long_clob;</pre><p>以下示例使用CLOB作为<code class="codeph">longer_clob</code>函数的返回值的赋值类型：</p><pre class="oac_no_warn" dir="ltr">void readFromLongest（CLOB c1，CLOB c2）抛出SQLException {CLOB最长; #sql longest = {VALUES（longer_clob（：c1，：c2））}; readFromClob（最长）; }</pre><p>所述<code class="codeph">readFromLongest()</code>方法打印较长传递CLOB的内容，使用所述<code class="codeph">readFromClob()</code>前面定义的方法。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-7665D8D1-C007-4F9B-82E1-4A1A20C462AD">LOB和BFILE主机变量和SELECT INTO目标</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">BFILE</code>类型的主机变量可以出现在<code class="codeph">SELECT INTO</code>可执行语句的<code class="codeph">INTO</code> -list中。以下示例适用于BLOB和CLOB，但BFILE的代码在功能上是相同的。
                        </p>
                        <p>假设以下表定义：</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE basic_lob_table（x VARCHAR2（30），b BLOB，c CLOB）; INSERT INTO basic_lob_table VALUES（'one'，'010101010101010101010101010101'，'onetwothreefour'）; INSERT INTO basic_lob_table VALUES（'two'，'020202020202020202020202020202'，'twothreefourfivesix'）;</pre><p>以下示例使用BLOB和CLOB作为主机变量，使用<code class="codeph">SELECT INTO</code>语句从定义的表接收数据：</p><pre class="oac_no_warn" dir="ltr">...BLOB blob; CLOB clob; #sql {SELECT one.b，two.c INTO：blob，：clob FROM basic_lob_table one，basic_lob_table two WHERE one.x ='one'AND two.x ='two'}; #sql {INSERT INTO basic_lob_table VALUES（'three'，：blob，：clob）}; ...
</pre><p>此示例选择第一行中的BLOB和<code class="codeph">BASIC_LOB_TABLE</code>第二行中的<code class="codeph">BASIC_LOB_TABLE</code> 。然后使用在前一操作中选择的BLOB和CLOB将第三行插入表中。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-587B97E7-F573-4AF6-8CC6-2788529A483E">Iterator声明中的LOB和BFILE</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">BFILE</code>类型可用作SQLJ位置和命名迭代器的列类型。由于兼容的可执行SQLJ操作，可以填充此类迭代器。
                        </p>
                        <p>以下是样本声明：</p><pre class="oac_no_warn" dir="ltr">#sql iterator NamedLOBIter（CLOB c）; #sql iterator PositionedLOBIter（BLOB）; #sql iterator NamedFILEIter（BFILE bf）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-B5661E73-F4E9-47D1-8E91-65C27C00F193">LOB和BFILE主机变量和命名迭代器结果</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下示例使用<code class="codeph">BASIC_LOB_TABLE</code>表和前面示例中定义的<code class="codeph">readFromLongest()</code>方法以及命名迭代器中的CLOB。可以为BLOB和BFILE编写类似的代码。
                        </p><pre class="oac_no_warn" dir="ltr">#sql iterator NamedLOBIter（CLOB c）; ...NamedLOBIter iter; #sql iter = {SELECT c FROM basic_lob_table}; if（iter.next（））CLOB c1 = iter.c（）; if（iter.next（））CLOB c2 = iter.c（）; iter.close（）; readFromLongest（c1，c2）; ...
</pre><p>此示例使用迭代器从<code class="codeph">BASIC_LOB_TABLE</code>的前两行中选择两个CLOB，然后使用<code class="codeph">readFromLongest()</code>方法打印两者中较大的一个。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-1291A623-08DE-43F6-ADAC-36AB49A7C343">LOB和BFILE主机变量和位置迭代器FETCH INTO目标</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">BLOB</code> ， <code class="codeph">CLOB</code>和<code class="codeph">BFILE</code>类型的主变量可以与位置迭代器一起使用，并且如果迭代器中的相应列属性具有相同的类型，则出现在关联的<code class="codeph">FETCH INTO</code>语句的<code class="codeph">INTO</code> -list中。
                        </p>
                        <p>以下示例使用<code class="codeph">BASIC_LOB_TABLE</code>表和前面示例中定义的<code class="codeph">writeToBlob()</code>方法。可以为CLOB和BFILE编写类似的代码。
                        </p><pre class="oac_no_warn" dir="ltr">#sql iterator PositionedLOBIter（BLOB）; ...PositionedLOBIter iter; BLOB blob = null; #sql iter = {SELECT b FROM basic_lob_table}; for（long rowNum = 1 ;; rowNum ++）{#sql {FETCH：iter INTO：blob}; if（iter.endFetch（））中断; writeToBlob（blob，512 * rowNum）; } iter.close（）; ...
</pre><p>此示例调用<code class="codeph">writeToBlob()</code>在每个BLOB <code class="codeph">BASIC_LOB_TABLE</code> 。每行写入额外的512字节数据。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDFAIDC">
                        <p class="titleinexample">例6-3使用oracle.sql。BFILE的BFILE文件处理方法</p>
                        <p>此示例使用<code class="codeph">oracle.sql.文件处理方法操作BFILE <code class="codeph">oracle.sql.BFILE</code>类。
                        </p><pre class="oac_no_warn" dir="ltr">BFILE openFile（BFILE文件）抛出SQLException {String dirAlias，name; dirAlias = file.getDirAlias（）; name = file.getName（）; System.out.println（“name：”+ dirAlias +“/”+ name）;如果（！file.isFileOpen（））{file.openFile（）; } return file; }</pre><p><code class="codeph">BFILE</code> <code class="codeph">getDirAlias()</code>和<code class="codeph">getName()</code>方法构造完整路径和文件名。<code class="codeph">openFile()</code>方法打开文件。在打开之前，您无法操作BFILE。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDCEIED">
                        <p class="titleinexample">示例6-4使用带有BFILE的DBMS_LOB文件处理例程</p>
                        <p>此示例使用<code class="codeph">DBMS_LOB</code>包的文件处理例程来操作BFILE。
                        </p><pre class="oac_no_warn" dir="ltr">BFILE openFile（BFILE文件）抛出SQLException {String dirAlias，name; #sql {CALL dbms_lob.filegetname（：file，：out dirAlias，：out name）}; System.out.println（“name：”+ dirAlias +“/”+ name）; boolean isOpen; #sql isOpen = {VALUES（dbms_lob.fileisopen（：file））};如果（！isOpen）{#sql {CALL dbms_lob.fileopen（：inout file）}; } return file; }</pre><p><code class="codeph">openFile()</code>方法打印文件对象的名称，然后返回文件的打开版本。请注意，只有在通过调用<code class="codeph">DBMS_LOB.FILEOPEN</code>或<code class="codeph">BFILE</code>类中的等效方法打开BFILE才能对其进行操作。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDBABAB">
                        <p class="titleinexample">示例6-5示例：使用oracle.sql。CLOB使用CLOB读取方法</p>
                        <p>此示例使用<code class="codeph">oracle.sql.方法从CLOB读取数据<code class="codeph">oracle.sql.CLOB</code>类。
                        </p><pre class="oac_no_warn" dir="ltr">void readFromClob（CLOB clob）抛出SQLException {long clobLen，readLen;字符串块; clobLen = clob.length（）; for（long i = 0; i &lt;clobLen; i + = readLen）{chunk = clob.getSubString（i，10）; readLen = chunk.length（）; System.out.println（“read”+ readLen +“chars：”+ chunk）; }}</pre><p>此方法包含一个循环，该循环从CLOB读取并每次返回一个10个字符的Java字符串。循环继续，直到读取整个CLOB。</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDHJJII">
                        <p class="titleinexample">示例6-6示例：使用DBMS_LOB使用CLOB读取例程</p>
                        <p>此示例使用<code class="codeph">DBMS_LOB</code>包的例程从CLOB读取。</p><pre class="oac_no_warn" dir="ltr">void readFromClob（CLOB clob）抛出SQLException {long clobLen，readLen;字符串块; #sql clobLen = {VALUES（dbms_lob.getlength（：clob））}; for（long i = 1; i &lt;= clobLen; i + = readLen）{readLen = 10; #sql {CALL dbms_lob.read（：clob，：inout readLen，：i，：out chunk）}; System.out.println（“read”+ readLen +“chars：”+ chunk）; }}</pre><p>此方法一次以10个字符的块的形式读取CLOB的内容。请注意，块主机变量属于<code class="codeph">String</code>类型。
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDGABAC">
                        <p class="titleinexample">例6-7示例：使用oracle.sql。BLOB用BLOB编写例程</p>
                        <p>此示例使用<code class="codeph">oracle.sql.方法将数据写入BLOB <code class="codeph">oracle.sql.BLOB</code>类。输入BLOB和指定的长度。
                        </p><pre class="oac_no_warn" dir="ltr">void writeToBlob（BLOB blob，long blobLen）抛出SQLException {byte [] chunk = {0,1,2,3,4,5,6,7,8,9}; long chunkLen =（long）chunk.length; for（long i = 0; i &lt;blobLen; i + = chunkLen）{if（blobLen &lt;chunkLen）chunkLen = blobLen; chunk [0] =（byte）（i + 1）; chunkLen = blob.putBytes（i，chunk）; }}</pre><p>此方法通过一个循环，以10字节块的形式写入BLOB，直到达到指定的BLOB长度。</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDEJAJJ">
                        <p class="titleinexample">例6-8示例：使用DBMS_LOB使用BLOB写例程</p>
                        <p>此示例使用<code class="codeph">DBMS_LOB</code>包的例程来写入BLOB。</p><pre class="oac_no_warn" dir="ltr">void writeToBlob（BLOB blob，long blobLen）抛出SQLException {byte [] chunk = {0,1,2,3,4,5,6,7,8,9}; long chunkLen =（long）chunk.length; for（long i = 1; i &lt;= blobLen; i + = chunkLen）{if（（blobLen  -  i + 1）&lt;chunkLen）chunkLen = blobLen  -  i + 1; chunk [0] =（byte）i; #sql {CALL dbms_lob.write（：INOUT blob，：chunkLen，：i，：chunk）}; }}</pre><p>此方法以10字节块的形式填充BLOB的内容。请注意，块主机变量属于<code class="codeph">byte[]</code>类型。
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="JSQLJ395"></a><a id="JSQLJ396"></a><a id="JSQLJ397"></a><a id="JSQLJ398"></a><a id="JSQLJ399"></a><a id="JSQLJ400"></a><a id="JSQLJ401"></a><a id="JSQLJ402"></a><a id="JSQLJ394"></a><div class="props_rev_3"><a id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A" name="GUID-179B1345-8836-49B7-9790-36F69BEAF15A"></a><h4 id="JSQLJ-GUID-179B1345-8836-49B7-9790-36F69BEAF15A" class="sect4">支持Oracle ROWID</h4>
                  <div>
                     <p>Oracle特定的<code class="codeph">ROWID</code>类型存储数据库表中每行的唯一地址。<code class="codeph">oracle.sql.ROWID</code>类包装ROWID信息，用于绑定和定义<code class="codeph">ROWID</code>类型的变量。
                     </p>
                     <p><code class="codeph">oracle.sql.变量<code class="codeph">oracle.sql.ROWID</code>类型可以在以下方式连接到Oracle Database 12 <span class="italic">c</span>第2版（12.2）的SQLJ应用程序中使用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>作为<code class="codeph">IN</code> ， <code class="codeph">OUT</code>或<code class="codeph">INOUT</code>在SQLJ可执行语句和主变量<code class="codeph">INTO</code> -列出</p>
                        </li>
                        <li>
                           <p>作为存储函数调用的返回值</p>
                        </li>
                        <li>
                           <p>作为迭代器声明中的列类型</p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-7DA3B23C-94E4-4A14-8574-365623DD630B">Iterator声明中的ROWID</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您可以使用<code class="codeph">oracle.sql.ROWID</code>作为SQLJ位置和命名迭代器的列类型，如以下声明中所示：</p><pre class="oac_no_warn" dir="ltr">#sql iterator NamedRowidIter（String ename，ROWID rowid）; #sql iterator PositionedRowidIter（String，ROWID）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-1F6ECA07-8FD4-4039-B065-55222CD830F5">ROWID主机变量和命名迭代器SELECT结果</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>您可以在SQLJ可执行语句中将<code class="codeph">ROWID</code>对象用作<code class="codeph">IN</code> ， <code class="codeph">OUT</code>和<code class="codeph">INOUT</code>参数。此外，您可以填充其列包含<code class="codeph">ROWID</code>类型的迭代器。此代码示例使用前面的示例声明。
                        </p><pre class="oac_no_warn" dir="ltr">#sql iterator NamedRowidIter（String ename，ROWID rowid）; ...NamedRowidIter iter; ROWID rowid; #sql iter = {SELECT first_name，rowid FROM employees}; while（iter.next（））{if（iter.first_name（）。equals（“Peter Hall”））{rowid = iter.rowid（）; #sql {UPDATE employees SET salary = salary + 500 WHERE rowid =：rowid}; iter.close（）; ...
</pre><p>根据ROWID，这个例子将名为Peter Hall的员工的工资提高了500美元。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-A3911636-1588-4913-AA5D-2629FB8FB82C">ROWID存储函数结果</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>考虑以下功能：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数get_rowid（名称VARCHAR2）返回ROWID是摆脱ROWID; BEGIN SELECT rowid INTO rid FROM employees WHERE first_name = name;回归摆脱; END get_rowid;</pre><p>给定前面的存储函数，以下示例指示如何将<code class="codeph">ROWID</code>对象用作函数返回结果的赋值类型：</p><pre class="oac_no_warn" dir="ltr">ROWID rowid; #sql rowid = {values（get_rowid（'AMY FEINER'））}; #sql {UPDATE employees SET salary = salary + 500 WHERE rowid =：rowid};</pre><p>根据<code class="codeph">ROWID</code>这个例子将名为Amy Feiner的员工的工资提高了500美元。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-F1460D96-BF2F-4003-99D8-DB40B39C243F">ROWID SELECT INTO目标</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">ROWID</code>类型的主机变量可以出现在<code class="codeph">SELECT INTO</code>语句的<code class="codeph">INTO</code> -list中。
                        </p><pre class="oac_no_warn" dir="ltr">ROWID rowid; #sql {SELECT rowid INTO：rowid FROM employees WHERE first_name ='PETER HALL'}; #sql {UPDATE employees SET salary = salary + 500 WHERE rowid =：rowid};</pre><p>根据<code class="codeph">ROWID</code>这个例子将名为Peter Hall的员工的工资提高了500美元。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-29D2BB36-CF5B-4C9C-AA27-2FDD190404D0">ROWID主机变量和位置迭代器FETCH INTO目标</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果迭代器中相应的列属性具有相同的类型，则<code class="codeph">ROWID</code>类型的主机变量可以出现在<code class="codeph">FETCH INTO</code>语句的<code class="codeph">INTO</code> -list中。
                        </p><pre class="oac_no_warn" dir="ltr">#sql iterator PositionedRowidIter（String，ROWID）; ...PositionedRowidIter iter; ROWID rowid = null; String ename = null; #sql iter = {SELECT first_name，rowid FROM employees}; while（true）{#sql {FETCH：iter INTO：ename，：rowid}; if（iter.endFetch（））中断; if（ename.equals（“PETER HALL”））{#sql {UPDATE employees SET salary = salary + 500 WHERE rowid =：rowid}; iter.close（）; ...
</pre><p>此示例与前面的命名迭代器示例类似，但使用位置迭代器及其惯用的<code class="codeph">FETCH INTO</code>语法。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-7884D233-B5ED-45F4-AF65-3C84C5F621B3">定位更新和删除</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>自Oracle Database <span class="italic">11g</span>第1版以来，SQLJ支持定位更新和删除操作。可以使用迭代器完成定位的更新或删除操作。用于定位更新或删除的迭代器应该实现<code class="codeph">sqlj.runtime.ForUpdate</code>接口。您可以使用命名迭代器，位置迭代器或可滚动迭代器。
                        </p>
                        <p>以下代码说明了定位更新：</p><pre class="oac_no_warn" dir="ltr">...#sql iterator iter实现了sqlj.runtime。ForUpdate（String str）......#sql iter = {SELECT first_name FROM employees WHERE department_id = 10}; ...while（iter.next（））{#sql {UPDATE employees SET salary = salary + 5000 <a id="d22137e4280" class="indexterm-anchor"></a>当前的时间：iter}; } ...
</pre><p>在前面的代码中，创建了一个迭代器<code class="codeph">iter</code>并用于更新<code class="codeph">employees</code>表。
                        </p>
                        <div class="infoboxnote" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-B3088ADE-EE58-4E3E-9168-5D2724ED54A5">
                           <p class="notep1">注意：</p>
                           <p>如果要避免同步问题，请发出<code class="codeph">SELECT ...FOR UPDATE</code>语句。
                           </p>
                        </div>
                        <p>您可以类似地执行定位删除。例如：</p><pre class="oac_no_warn" dir="ltr">...#sql {DELETE FROM employees WHERE CURRENT OF：iter} ...
</pre><p>在前面的示例中， <code class="codeph">iter</code>是用于执行定位删除的迭代器。
                        </p>
                        <p>可以与<code class="codeph">WHERE CURRENT OF</code>子句一起使用的迭代器具有以下限制：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>用于填充迭代器的查询不应在多个表上运行。</p>
                           </li>
                           <li>
                              <p>您<span class="italic">不能</span>使用PL / SQL过程返回带有迭代器的<code class="codeph">REF CURSOR</code> 。
                              </p>
                           </li>
                           <li>
                              <p>您<span class="italic">不能</span>使用已从结果集填充的迭代器。也就是说，使用以下语句填充迭代器，其中<code class="codeph">rs</code>是结果集：</p><pre class="oac_no_warn" dir="ltr">#sql iter = {cast：rs}</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-90ECA164-A453-46BC-9833-B88C337E7F4C">for_update选项</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>如果在转换时设置了<code class="codeph">for_update</code>选项，那么<code class="codeph">"FOR UPDATE</code> ”将附加到SELECT语句，后者又将结果返回到<code class="codeph">ForUpdate</code>迭代器，如下所示：</p><pre class="oac_no_warn" dir="ltr">％sqlj -for_update abc.sqlj / * abc.sqlj * / #sql iterator SalByName（double sal，String ename）实现sqlj.runtime。ForUpdate;公共课abc {... ..void func1（）{SalByName salbn; #sql salbn = {select salary，first_name from employees}; } ......}</pre><p>现在，“ <code class="codeph">FOR UPDATE</code> ”被附加到SELECT语句，以下列方式返回<code class="codeph">ForUpdate</code>迭代器<code class="codeph">salbn</code> ：</p><pre class="oac_no_warn" dir="ltr">......... String theSqlTS =“SELECT rowid sjT_rowid，first_name，salary FROM employees WHERE first_name =：1 FOR UPDATE”; .........</pre><p><a href="type-support.html#GUID-179B1345-8836-49B7-9790-36F69BEAF15A__BCEFAHIE" title="表显示for_update选项和相应SQL语句的合理值">表6-3</a>显示了<code class="codeph">for_update</code>选项的合理值以及前面示例的相应SQL语句：</p>
                        <div class="tblformal" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__BCEFAHIE">
                           <p class="titleintable">表6-3 for_update选项和相应SQL语句的合理值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="for_update选项和相应SQL语句的合理值" width="100%" border="1" summary="Table showing plausible values for the for_update option and the corresponding SQL statement" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d22137e4385">for_update选项</th>
                                    <th align="left" valign="bottom" width="33%" id="d22137e4388">SQLJ声明</th>
                                    <th align="left" valign="bottom" width="33%" id="d22137e4391">SQL语句</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d22137e4396" headers="d22137e4385 ">
                                       <p>没有</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4396 d22137e4388 ">
                                       <p><code class="codeph">sqlj -for_update abc.sqlj</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4396 d22137e4391 ">
                                       <p><code class="codeph">SELECT rowid sjT_rowid，first_name，salary FROM employees WHERE first_name =：1 FOR UPDATE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d22137e4408" headers="d22137e4385 ">
                                       <p><code class="codeph">NOWAIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4408 d22137e4388 ">
                                       <p><code class="codeph">sqlj -P-for_update = nowait QueryDemo.sqlj</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4408 d22137e4391 ">
                                       <p><code class="codeph">SELECT rowid sjT_rowid，first_name，salary FROM employees WHERE first_name =：1 FOR UPDATE nowait</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d22137e4421" headers="d22137e4385 ">
                                       <p><code class="codeph">数</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4421 d22137e4388 ">
                                       <p><code class="codeph">sqlj -P-for_update = 10 QueryDemo.sqlj</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4421 d22137e4391 ">
                                       <p><code class="codeph">SELECT rowid sjT_rowid，first_name，salary FROM employees WHERE first_name =：1 FOR UPDATE wait 10</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-130EB0E6-EC59-4E8F-9214-F910DF9200C7">
                           <p class="notep1">注意：</p>
                           <p>如果应用程序已在选择查询中具有<code class="codeph">FOR UPDATE</code> ，则使用这些新的翻译器选项将在翻译时在线检查期间发出警告。如果在转换期间选择了脱机解析，则在转换时不会检测到错误。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ404"></a><a id="JSQLJ405"></a><a id="JSQLJ406"></a><a id="JSQLJ403"></a><div class="props_rev_3"><a id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1" name="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1"></a><h4 id="JSQLJ-GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1" class="sect4">支持Oracle REF CURSOR类型</h4>
                  <div>
                     <p>Oracle PL / SQL和Oracle SQLJ实现支持使用表示数据库游标的游标变量。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-BED9A85A-DC84-4BED-9907-FB2D94B70B1C">REF CURSOR类型概述</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>游标变量在功能上等同于JDBC结果集，基本上封装了查询的结果。游标变量通常称为REF CURSOR，但<code class="codeph">REF CURSOR</code>本身是类型说明符，而不是类型名称。相反，必须指定命名的REF CURSOR类型。以下示例显示了REF CURSOR类型规范：</p><pre class="oac_no_warn" dir="ltr">TYPE EmpCurType是REF CURSOR;</pre><p>存储过程和存储函数可以返回Oracle REF CURSOR类型的参数。您必须使用PL / SQL返回REF CURSOR参数。单独使用SQL无法实现此目的。PL / SQL存储过程或函数可以声明一些名为REF CURSOR类型的变量，执行<code class="codeph">SELECT</code>语句，并在REF CURSOR变量中返回结果。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-ADE0B406-27C1-4195-B2AE-5D4D84519FE3">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../lnpls/dynamic-sql.html#LNPLS-GUID-A194C9FA-221A-466B-9179-6238FEC5143B" target="_blank"><span class="italic">Oracle数据库PL / SQL语言参考</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-7B98AD97-5E29-4DE2-B4D3-37DBEBF236E6">SQLF中的REF CURSOR类型</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>在Oracle SQLJ实现中，REF CURSOR类型可以映射到任何迭代器类类型或<code class="codeph">java.sql.迭代器列或主机变量<code class="codeph">java.sql.ResultSet</code>类型，但主机变量只能是<code class="codeph">OUT</code> 。对REF CURSOR类型的支持可归纳如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>作为存储函数的结果表达式返回</p>
                           </li>
                           <li>
                              <p>作为存储过程或函数输出参数的输出主机表达式</p>
                           </li>
                           <li>
                              <p>作为输入主机表达式在<code class="codeph">INTO</code> -lists中</p>
                           </li>
                           <li>
                              <p>作为迭代器列</p>
                           </li>
                        </ul>
                        <p>您可以在外部<code class="codeph">SELECT</code>语句中使用SQL <code class="codeph">CURSOR</code>运算符作为嵌套<code class="codeph">SELECT</code> 。这是如何将REF CURSOR对象写入迭代器中的迭代器列或<code class="codeph">ResultSet</code>列，或将REF CURSOR对象写入<code class="codeph">INTO</code> -list中的迭代器主机变量或<code class="codeph">ResultSet</code>主变量。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-43FB46B6-25F0-4C49-9AB4-1B16C21E2FE9">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="basic-language-features.html#GUID-D3CC3825-1F5D-45AF-9E96-5848B98B7D21">使用迭代器和结果集作为主机变量</a> ”</span>示例说明隐式REF CURSOR变量的使用，包括<code class="codeph">CURSOR</code>运算符的示例。
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-41E8E821-F0F6-4405-AAC4-C31175FF4250">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>使用类型代码<code class="codeph">OracleTypes.CURSOR</code>为REF CURSOR类型。
                                 </p>
                              </li>
                              <li>
                                 <p>REF CURSOR类型没有<code class="codeph">oracle.sql</code>类。使用<code class="codeph">java.sql.ResultSet</code>或迭代器类。完成处理后，关闭结果集或迭代器以释放资源。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-83F6E2DB-2E23-4812-AE83-97ADD11C2A67">REF CURSOR示例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下示例方法显示从匿名块检索的REF CURSOR类型：</p><pre class="oac_no_warn" dir="ltr">private static EmpIter refCursInAnonBlock（String name，int no）抛出java.sql。SQLException {EmpIter \ temps = null; System.out.println（“使用匿名块表示ref cursor ..”）; #sql {begin INSERT INTO employees（first_name，employee_id）VALUES（：name，：no）; OPEN：out emps FOR SELECT first_name，employee_id FROM employees ORDER BY employee_id;结束 };返回emps; }</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ407"></a><div class="props_rev_3"><a id="GUID-E0DD7B28-A856-4454-8B4D-3EB86F6FD2A9" name="GUID-E0DD7B28-A856-4454-8B4D-3EB86F6FD2A9"></a><h4 id="JSQLJ-GUID-E0DD7B28-A856-4454-8B4D-3EB86F6FD2A9" class="sect4">支持其他Oracle Database 11 <span class="italic">g</span>数据类型</h4>
                  <div>
                     <p>所有<code class="codeph">oracle.sql</code>类都可以用于迭代器列或输入，输出或输入输出主机变量，其方式与使用任何标准Java类型的方式相同。这包括前面部分中提到的类和其他类，例如<code class="codeph">oracle.sql.NUMBER</code> ， <code class="codeph">oracle.sql.CHAR</code>和<code class="codeph">oracle.sql.RAW</code>课程。
                     </p>
                     <p>因为<code class="codeph">oracle.sql.*</code>类不需要转换为Java类型格式，所以它们提供比等效Java类型更高的效率和精度。但是，您必须将数据转换为标准Java类型，以将其与标准Java程序一起使用或将其显示给最终用户。
                     </p>
                  </div>
               </div><a id="JSQLJ408"></a><div class="props_rev_3"><a id="GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316" name="GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316"></a><h4 id="JSQLJ-GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316" class="sect4">扩展支持BigDecimal</h4>
                  <div>
                     <p>SQLJ支持<code class="codeph">java.math.BigDecimal</code>在以下情况中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>作为SQLJ可执行语句中的宿主变量</p>
                        </li>
                        <li>
                           <p>作为存储函数调用的返回值</p>
                        </li>
                        <li>
                           <p>作为迭代器列类型</p>
                        </li>
                     </ul>
                     <p>标准SQLJ具有以下限制：只有当这是JDBC默认映射时才能将值检索为<code class="codeph">BigDecimal</code> ，这仅适用于数字和十进制数据。
                     </p>
                     <div class="infoboxnotealso" id="GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316__GUID-EC8EC4CD-9BDA-4E50-8DE3-7859766A2DE1">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="摘要">表6-1</a></p>
                     </div>
                     <p>但是，在Oracle SQLJ实现中，只要数据类型可以从数字转换并使用Oracle9 <span class="italic">i</span>数据库或更高版本，Oracle JDBC驱动程序，Oracle特定代码生成或Oracle定制程序以及Oracle，您就可以映射到非默认类型。 SQLJ运行时。<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">LONG</code>和<code class="codeph">NUMBER</code>类型是可转换的。例如，您可以将<code class="codeph">CHAR</code>列中的数据检索到<code class="codeph">BigDecimal</code>变量中。但是，为避免错误，必须注意字符数据仅包含数字。
                     </p>
                     <div class="infoboxnote" id="GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316__GUID-BD49F481-943C-4D54-8DFE-067F2540892B">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">BigDecimal</code>类位于标准的<code class="codeph">java.math</code>包中。
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>