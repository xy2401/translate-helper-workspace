<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>组</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="SEND.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SHOW.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference"></meta>
    <meta name="dcterms.isVersionOf" content="RCMRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SEND.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SHOW.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-recover-to-validate.html" property="item" typeof="WebPage"><span property="name">RMAN命令：RECOVER to VALIDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">组</li>
            </ol>
            <a id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3" name="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3"></a><a id="RCMRF90344"></a><a id="RCMRF90345"></a><a id="RCMRF90346"></a><a id="RCMRF90347"></a><a id="RCMRF90348"></a><a id="RCMRF90349"></a><a id="RCMRF90350"></a><a id="RCMRF90351"></a><a id="RCMRF90352"></a><a id="RCMRF90353"></a><a id="RCMRF90354"></a><a id="RCMRF90355"></a><a id="RCMRF90515"></a><a id="RCMRF153"></a>
            
            <h2 id="RCMRF-GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3" class="sect2"><span class="enumeration_section">3.14</span> SET</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-6B65D529-1C84-4B86-A786-CE255BABE941">目的</p>
                  <p>使用<code class="codeph" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDFHGDI">SET</code>命令控制作业或会话中的RMAN行为。使用<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>配置跨会话保持的选项。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-7A65F3B8-FB74-4C2C-99AE-A4FBED9DC99F">先决条件</p>
                  <p>您可以在RMAN提示符下或在<code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code>块中使用<code class="codeph">SET</code>命令。在RMAN提示符下使用时， <code class="codeph">SET</code>所做的更改将一直持续到您退出RMAN客户端（请参阅<span class="italic"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__I1003836">setRmanOption</a></span> ）。在<code class="codeph">RUN</code>块内部使用时， <code class="codeph">SET</code>所做的更改将持续到<code class="codeph">RUN</code>块结束或下一个更改相同属性值的<code class="codeph">SET</code>命令（请参阅<span class="italic"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__I1003832">setRunOption</a></span> ）。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-EF47CBCB-975C-4131-88B8-63816F112816">句法</p>
                  <p><span class="bold"><span class="italic">set</span> :: =</span></p>
                  <div class="figure" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-2B5C14FE-6DA8-4291-9764-D387B88D3406"><img src="img/set.gif" alt="set.eps的描述如下" title="set.eps的描述如下" longdesc="img_text/set.html"><br><a href="img_text/set.html">插图set.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDCIHED">setRmanOption :: =</a></span> ， <span class="italic"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDCGCJI">setRunOption :: =</a></span> ）</p>
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDCIHED"><a id="d93940e203" class="indexterm-anchor"></a><a id="d93940e207" class="indexterm-anchor"></a> <span class="bold"><span class="italic">setRmanOption</span> :: =</span></p>
                  <div class="figure" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-A3161544-BEAC-4245-A731-771FB0695F06"><img src="img/setrmanoption.gif" alt="下面是setrmanoption.eps的描述" title="下面是setrmanoption.eps的描述" longdesc="img_text/setrmanoption.html"><br><a href="img_text/setrmanoption.html">说明setrmanoption.eps的描述</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier :: =</a></span> ， <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec :: =</a></span> ）</p>
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDCGCJI"><a id="d93940e229" class="indexterm-anchor"></a><a id="d93940e233" class="indexterm-anchor"></a> <span class="bold"><span class="italic">setRunOption</span> :: =</span></p>
                  <div class="figure" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-97886694-2CE9-4667-9349-711A3FC7B6BE"><img src="img/setrunoption.gif" alt="下面是setrunoption.eps的描述" title="下面是setrunoption.eps的描述" longdesc="img_text/setrunoption.html"><br><a href="img_text/setrunoption.html">说明setrunoption.eps的说明</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier :: =</a></span> ， <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec :: =</a></span> ， <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec :: =</a></span> ， <span class="italic"><a href="tempfileSpec.html#GUID-783EB37D-C3F1-4245-BDF1-E463F65A1AE4__BABCIHBB">tempfileSpec :: =</a></span> ， <span class="italic"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A__BABEDABD">untilClause :: =</a></span> ）</p>
                  <p><a id="d93940e267" class="indexterm-anchor"></a><a id="d93940e271" class="indexterm-anchor"></a> <span class="bold"><span class="italic">setRmanOrRunOption</span> :: =</span></p>
                  <div class="figure" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-23E90481-51BD-4094-A177-03285B7DC32F"><img src="img/setrmanorrunoption.gif" alt="下面描述了setrmanorrunoption.eps" title="下面描述了setrmanorrunoption.eps" longdesc="img_text/setrmanorrunoption.html"><br><a href="img_text/setrmanorrunoption.html">插图描述setrmanorrunoption.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier :: =</a></span> ， <span class="italic"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABHCHAG">formatSpec :: =</a></span> ）</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-73FF046E-AE9E-43D8-AFB8-B9D6AFE7EC33">语义</p>
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__I1003836"><span class="bold"><span class="italic">setRmanOption</span></span></p>
                  <p>本子条款指定可在<code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code>块之外使用的<code class="codeph">SET</code>选项。
                  </p>
                  <div class="tblformalwide" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-8963FFF7-1786-460B-9FE1-D85C8ECE128B">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describe SET command setRmanOption parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d93940e318">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d93940e321">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e326" headers="d93940e318 ">
                                 <p><code class="codeph">备份文件</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e326 d93940e321 ">
                                 <p></p>
                                 <p>指定Data Guard环境中备份的可见性。默认情况下，磁盘备份仅对与备份关联的数据库可见。关联由数据库的<code class="codeph">DB_UNIQUE_NAME</code>确定。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e338" headers="d93940e318 ">
                                 <p><code class="codeph">FOR DEVICE TYPE</code> <code class="codeph"><span class="codeinlineitalic">device_specifier</span></code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e338 d93940e321 ">
                                 <p></p>
                                 <p>指定必须修改备份可见性的设备类型。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e351" headers="d93940e318 ">
                                 <p><code class="codeph">不可能</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e351 d93940e321 ">
                                 <p></p>
                                 <p>使在主数据库或备用数据库上创建的磁盘备份仅对创建这些备份的数据库可用。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e360" headers="d93940e318 ">
                                 <p><code class="codeph">可以访问</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e360 d93940e321 ">
                                 <p></p>
                                 <p>使主数据库或备用数据库上创建的备份可供<code class="codeph">DB_UNIQUE_NAME</code>与创建备份的数据库不同的数据库访问。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e372" headers="d93940e318 "><code class="codeph">COMPRESSION ALGORITHM</code> <code class="codeph">'</code> <code class="codeph"><span class="codeinlineitalic"><code class="codeph">algorithm_name</code></span></code> <code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e372 d93940e321 ">
                                 <p>指定备份集的压缩算法。此命令将覆盖当前RMAN会话的当前<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">COMPRESSION ALGORITHM</code>设置。
                                 </p>
                                 <p>您可以通过为algorithm_name指定<code class="codeph">BASIC</code>来配置不需要高级压缩选项的基本压缩级别。
                                 </p>
                                 <p>如果您已启用高级压缩选项，则可以从以下压缩级别中进行选择：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">HIGH -</code>最适合在较慢的网络上进行备份，其中限制因素是网络速度</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">MEDIUM -</code>适用于大多数环境。压缩比和速度的良好组合</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">LOW</code> - 对备份吞吐量的影响最小，适用于CPU资源是限制因素的环境。
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">注意：</span>压缩比通常从增加<code class="codeph">LOW</code>至<code class="codeph">HIGH</code> ，具有潜在的消耗更多的CPU资源的折衷。
                                 </p>
                                 <p>由于各种压缩级别的性能取决于数据库中的数据性质，网络配置，系统资源以及计算机系统的类型及其功能，因此无法获得普遍适用的性能统计信息。在确定哪个级别最佳时，必须考虑系统与CPU的带宽和CPU的实际速度之间的平衡程度。 Oracle建议您对环境中的数据运行具有不同压缩级别的测试。根据您的环境，网络流量特征（工作负载）和数据集选择压缩级别。这是确保备份集压缩级别能够满足组织的性能要求和任何适用的服务级别协议的唯一方法。</p>
                                 <p><span class="bold">注意：</span> <a id="d93940e434" class="indexterm-anchor"></a><a id="d93940e436" class="indexterm-anchor"></a> <code class="codeph">V$RMAN_COMPRESSION_ALGORITHM</code>描述了支持的算法。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <code class="codeph">$RMAN_COMPRESSION_ALGORITHM</code> <span class="italic">Oracle数据库参考</span>条目。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e454" headers="d93940e318 "><code class="codeph">OPTIMIZE FOR LOAD</code> <code class="codeph">{TRUE|FALSE}</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e454 d93940e321 ">
                                 <p>指定Oracle在请求压缩备份时是否执行预压缩块处理。<code class="codeph">TRUE</code>是默认值， <code class="codeph">FALSE</code>启用预压缩处理。默认行为是不执行预压缩块处理。这样的处理可能消耗额外的CPU资源，并且对于包含所有最初加载的数据的块不需要，并且从未成为单行插入和删除的主题。指定<code class="codeph">FALSE</code>使用额外的CPU资源来执行预压缩块处理，该处理由内部块清理和碎片整理组成，可以提高二进制压缩级别。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic">Oracle数据库备份和恢复用户指南，</span>以了解有关此选项的更多信息。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e480" headers="d93940e318 "><code class="codeph">AS OF RELEASE</code> <span class="italic"><code class="codeph">'version number'</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e480 d93940e321 ">
                                 <p>指定发行版本。版本号使用版本号格式，并且可以使用多达5个数字来完全限定版本。例如，10.2.0.3.0和11.2是可接受的值。此选项可确保未来版本的压缩算法稳定性。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e491" headers="d93940e318 "><code class="codeph">DECRYPTION IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span> <code class="codeph">DECRYPTION IDENTIFIED BY</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e491 d93940e321 ">
                                 <p>指定在读取双模式或密码加密备份时要使用的一个或多个解密密码。</p>
                                 <p>密码加密的备份需要输入正确的密码才能还原。当RMAN读取加密的备份片段时，它会尝试列表中的每个密码，直到找到正确的密码来解密此备份片段。如果没有指定的键，则RMAN发出错误信号。</p>
                                 <p><span class="bold">注意：</span>如果从使用不同密码创建的一组备份进行还原， <span class="bold">请</span>在<code class="codeph">SET DECRYPTION</code>命令中指定所有必需的密码。RMAN会自动为每个备份集使用正确的密码。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">备份集的加密</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e518" headers="d93940e318 ">
                                 <p><code class="codeph">DECRYPTION WALLET OPEN IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span> <code class="codeph">DECRYPTION WALLET OPEN IDENTIFIED BY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e518 d93940e321 ">
                                 <p>指定必须用于打开基于密码的软件密钥库的密码。使用透明模式加密加密备份集时使用密钥库。</p>
                                 <p>如果数据库或表空间使用透明数据加密（TDE）并且您具有基于密码的软件密钥库，则必须使用<code class="codeph">SET DECRYPTION WALLET OPEN IDENTIFIED BY</code>命令在执行完全恢复，PITR和数据库复制之前打开密钥库。
                                 </p>
                                 <p>还原使用基于密码的软件密钥库的透明加密创建的备份时，必须指定用于打开密钥库的密码。复制配置为使用基于密码的软件密钥库的透明加密的数据库时，必须使用此命令将打开密钥库所需的密码提供给辅助实例。</p>
                                 <p>指定的密码对运行<code class="codeph">SET</code>命令的会话有效。因此，即使在数据库复制期间重新启动辅助实例，打开密钥库所需的密码也可用于辅助实例。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e542" headers="d93940e318 ">
                                 <p><code class="codeph">ECHO {OFF |上}</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e542 d93940e321 ">
                                 <p>控制RMAN命令是否出现在消息日志中。从命令文件中读取命令时，RMAN会自动将它们回显到消息日志中。从标准输入读取命令时，默认情况下RMAN不会将这些命令回显到消息日志。要强制RMAN回显命令，请在运行命令文件之前运行<code class="codeph">SET ECHO ON</code>命令。运行<code class="codeph">SET ECHO OFF</code>以禁用对命令日志的回显。
                                 </p>
                                 <p>重定向<code class="codeph">stdin</code>和<code class="codeph">stdout</code>时，该命令很有用。例如，在UNIX中，您可以通过以下方式重定向RMAN的输入和输出：</p><pre class="oac_no_warn" dir="ltr">％rman TARGET / &lt;in_file&gt; out_file</pre><p>通过包括<code class="codeph">SET ECHO ON</code>在<code class="codeph">in_file</code> ，您启用包含在命令<code class="codeph">in_file</code>是可见<code class="codeph">out_file</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e580" headers="d93940e318 ">
                                 <p><code class="codeph">加密</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e580 d93940e321 ">
                                 <p>指定适用于在RMAN会话期间创建备份集的<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code>命令的与加密相关的选项。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">备份集的加密</a> ”</span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e601" headers="d93940e318 "><code class="codeph">ALGORITHM</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">algorithm_name</code></span> <code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e601 d93940e321 ">
                                 <p>指定此RMAN会话期间使用的算法。覆盖<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">ALGORITHM</code>指定的配置的默认加密<code class="codeph">ALGORITHM</code> 。可能的值列在<a id="d93940e622" class="indexterm-anchor"></a><a id="d93940e624" class="indexterm-anchor"></a> <code class="codeph">V$RMAN_ENCRYPTION_ALGORITHMS</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e632" headers="d93940e318 "><code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span> <code class="codeph">IDENTIFIED BY</code> <code class="codeph">[ONLY]</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e632 d93940e321 ">
                                 <p>指定是否根据以下规则在备份加密中使用用户指定的密码：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>省略<code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span>子句以指定透明模式加密备份。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ONLY</code>使用<code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span>指定密码模式加密备份。
                                       </p>
                                    </li>
                                    <li>
                                       <p>使用<code class="codeph">IDENTIFIED BY</code> <span class="italic"><code class="codeph">password</code></span>而不必<code class="codeph">ONLY</code>指定双模加密备份。
                                       </p>
                                    </li>
                                 </ul>
                                 <p>创建安全的密码。有关更多信息，请参见<a href="../dbseg/configuring-authentication.html#DBSEG33223" target="_blank"><span class="italic">Oracle数据库安全指南</span></a>
                                 </p>
                                 <p>如果密码<span class="italic">没有</span>用引号括起来，那么它会在内部翻译成大写。因此，以下条款都是<code class="codeph">IDENTIFIED BY</code> <code class="codeph">"PASSWORD"</code>同义词：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">IDENTIFIED BY</code> <code class="codeph">password</code> <code class="codeph">IDENTIFIED BY</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">IDENTIFIED BY</code> <code class="codeph">Password</code> <code class="codeph">IDENTIFIED BY</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">IDENTIFIED BY</code> <code class="codeph">pAsSwOrD</code> <code class="codeph">IDENTIFIED BY</code></p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">警告：</span>基于密钥库的加密比基于密码的加密更安全，因为不涉及密码。仅在绝对必要时才使用基于密码的加密，因为备份必须是可传输的。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="q">“ <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">备份集加密</a> ”</span> ，了解有关不同加密模式的详细信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e734" headers="d93940e318 ">
                                 <p><code class="codeph">{OFF |上}</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e734 d93940e321 ">
                                 <p>指定是否加密备份集。如果为<code class="codeph">ON</code> ，则默认为加密备份集。如果为<code class="codeph">OFF</code> ，则默认不加密备份集。
                                 </p>
                                 <p>此选项会覆盖使用<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">ENCRYPTION FOR</code>命令进行的设置。如果没有为加密配置数据文件，则必须明确使用<code class="codeph">ON</code>来加密所需的数据文件。
                                 </p>
                                 <p>如果未指定<code class="codeph">FOR ALL TABLESPACES</code> ，则此设置控制表空间的备份加密，其中尚未使用<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">ENCRYPTION FOR TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span>来控制加密行为。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e778" headers="d93940e318 ">
                                 <p><code class="codeph">适用于所有表格</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e778 d93940e321 ">
                                 <p>控制所有表空间的加密，覆盖任何<code class="codeph">CONFIGURE ENCRYPTION FOR TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span>设置。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e793" headers="d93940e318 ">
                                 <p><code class="codeph">PASSPHRASE OFF</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e793 d93940e321 ">
                                 <p></p>
                                 <p>删除在内存中涉及TDE加密表空间的备份或还原操作期间设置的密码。</p>
                                 <p>建议您在执行TDE加密表空间的备份或还原后关闭密码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e804" headers="d93940e318 ">
                                 <p><code class="codeph">PASSPHRASE ON标识</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e804 d93940e321 ">
                                 <p></p>
                                 <p>指定在创建或恢复TDE加密表空间的备份时用于包装主密钥的密码。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e813" headers="d93940e318 ">
                                 <p><code class="codeph">PREPLUGIN CONTAINER</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e813 d93940e321 ">
                                 <p>为使用预打印备份到<code class="codeph">pdb_name</code> RMAN操作设置容器。CDB可以包含多个PDB的预包含元数据。使用预包装备份时，使用此命令指定必须为其执行指定操作的PDB。这些操作包括列出预涂料备份，更改预浸料备份的状态，对预浸料归档重做日志文件进行编目，还原预浸料备份以及恢复预浸料备份。
                                 </p>
                                 <p>使用<code class="codeph">CLEAR</code>选项清除preplugin容器的当前设置。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__I1003832"><span class="bold"><span class="italic">setRunOption</span></span></p>
                  <p>本子条款指定可在<code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code>块中使用的<code class="codeph">SET</code>选项。
                  </p>
                  <div class="tblformalwide" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-D6DD44E0-50EF-44E8-B7A9-977B100037C8">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes SET command setRunOption parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d93940e850">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d93940e853">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e858" headers="d93940e850 "><code class="codeph">ARCHIVELOG DESTINATION</code> <code class="codeph">TO '</code> <span class="italic"><code class="codeph">log_archive_dest</code></span> <code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e858 d93940e853 ">
                                 <p>覆盖了<a id="d93940e871" class="indexterm-anchor"></a><a id="d93940e873" class="indexterm-anchor"></a>在后续<code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code>和<code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>命令期间为已还原的归档重做日志文件形成名称时，目标数据库中的<code class="codeph">LOG_ARCHIVE_DEST_1</code>初始化参数。RMAN将日志还原到<code class="codeph">'</code> <span class="italic"><code class="codeph">log_archive_dest</code></span> <code class="codeph">'</code>指定的目标。
                                 </p>
                                 <p>您可以使用此命令将归档的重做日志文件暂存到不同的位置，同时还原数据库。RMAN知道在哪里可以找到新恢复的归档重做日志文件;它不要求它们位于<code class="codeph">LOG_ARCHIVE_DEST_1</code>指定的目标中。例如，如果指定与参数文件中的目标不同的目标并还原存档日志备份，则后续还原和恢复操作将检测此新位置。
                                 </p>
                                 <p>使用此参数可以还原不在磁盘上的归档重做日志文件。在从备份还原之前，RMAN始终首先在磁盘上查找日志。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e907" headers="d93940e850 ">
                                 <p><a id="d93940e909" class="indexterm-anchor"></a><a id="d93940e913" class="indexterm-anchor"></a><a id="d93940e915" class="indexterm-anchor"></a> <code class="codeph">BACKUP COPIES</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e907 d93940e853 ">
                                 <p>指定信道创建的每个备份片的副本的数目： <code class="codeph">1</code> ， <code class="codeph">2</code> ， <code class="codeph">3</code> ，或<code class="codeph">4</code> （参见<a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDEFFDB">实施例3-58</a> ）。
                                 </p>
                                 <p>RMAN可以将备份双工复制到磁盘或磁带，但不能同时将备份复制到磁带和磁盘。备份到磁带时，请确保副本数量不超过可用磁带设备的数量。此外，如果<code class="codeph">BACKUP COPIES</code>大于1，则必须在目标数据库上启用<code class="codeph">BACKUP_TAPE_IO_SLAVES</code>初始化参数。
                                 </p>
                                 <p><code class="codeph">SET BACKUP COPIES</code>命令影响在<code class="codeph">SET BACKUP COPIES</code> （但不是之前）之后发出的<code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code>块中的所有<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code>命令，并且在明确禁用或更改之前有效。<code class="codeph">SET BACKUP COPIES</code>命令仅影响<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code>命令，但不适用于<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">AS COPY</code>命令。
                                 </p>
                                 <p><code class="codeph">SET BACKUP COPIES</code>命令影响会话中分配的所有通道。优先顺序如下，列表中的设置更高，覆盖列表中较低的设置：</p>
                                 <ol>
                                    <li>
                                       <p><code class="codeph">备份副本</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">BACKUP COPIES</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">...备份副本</code></p>
                                    </li>
                                 </ol>
                                 <p>备份片段的名称取决于<code class="codeph">BACKUP</code>命令中的<code class="codeph">FORMAT</code>子句。您最多可以指定四个<code class="codeph">FORMAT</code>字符串。仅当<code class="codeph">BACKUP COPIES</code> ， <code class="codeph">SET BACKUP COPIES</code>或<code class="codeph">CONFIGURE ...时，RMAN才使用第二个，第三个和第四个值<code class="codeph">CONFIGURE ...BACKUP COPIES</code>生效。选择用于每个备份片段的格式时，RMAN使用副本1的第一个格式值，副本2的第二个格式值，依此类推。如果格式值的数量超过副本数，则不使用额外的格式。如果格式值的数量小于副本的数量，RMAN将重用格式值，从第一个开始。
                                 </p>
                                 <p><span class="bold">注意：</span>在快速恢复区域中创建文件时， <code class="codeph">BACKUP COPIES</code>选项无效。备份到快速恢复区域不能双工。
                                 </p>
                                 <p><span class="bold">注意：</span>磁盘上的控制文件自动备份是一种特殊情况，从不双工：RMAN始终只写一个副本。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1046" headers="d93940e850 "><code class="codeph">MAXCORRUPT</code> <code class="codeph">FOR DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span> <code class="codeph">TO</code> <span class="italic"><code class="codeph">integer</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1046 d93940e853 ">
                                 <p>设置数据库在指定数据文件或数据文件组中允许的先前未检测到的块损坏的数量限制。默认限制为零，这意味着RMAN不会容忍任何损坏的块。</p>
                                 <p><code class="codeph">SET MAXCORRUPT</code>命令指定备份作业期间数据文件中允许的物理和逻辑损坏的总数。如果为数据文件检测到的物理和逻辑损坏总和不超过其<code class="codeph">MAXCORRUPT</code>设置，则<code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code>命令完成。如果存在超过<code class="codeph">MAXCORRUPT</code>损坏的块，则RMAN终止而不创建输出文件。
                                 </p>
                                 <p>无论是否超出<code class="codeph">MAXCORRUPT</code>限制，RMAN都会使用它找到的任何损坏块范围填充<code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code>视图。但是，在<code class="codeph">MAXCORRUPT+1</code>损坏块后终止备份或恢复作业，因此在这种情况下，RMAN仅记录<code class="codeph">MAXCORRUPT+1</code>损坏。不记录超出备份作业终止点的任何块损坏。
                                 </p>
                                 <p><span class="bold">注意：</span>如果指定<code class="codeph">CHECK LOGICAL</code> ，则<code class="codeph">MAXCORRUPT</code>限制适用于检测到的逻辑和物理损坏的总和。否则， <code class="codeph">MAXCORRUPT</code>仅适用于物理块损坏的数量。
                                 </p>
                                 <p> <span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1120" headers="d93940e850 "><a id="d93940e1121" class="indexterm-anchor"></a><a id="d93940e1123" class="indexterm-anchor"></a> <code class="codeph">DATABASE</code> <code class="codeph">NEWNAME FOR</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1120 d93940e853 ">
                                 <p>为指定数据库中尚未使用<code class="codeph">SET NEWNAME FOR TABLESPACE,</code> <code class="codeph">SET NEWNAME FOR TEMPFILE</code>或<code class="codeph">SET NEWNAME FOR DATAFILE</code>命令命名的所有数据文件和临时文件设置新的默认名称。
                                 </p>
                                 <p>此命令使您可以更改数据库中多个文件的名称，并提供单独命名每个文件的快速替代方法（请参阅<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBGEHCG">示例2-87</a> ）。此命令不设置临时文件的名称。
                                 </p>
                                 <p>发出<code class="codeph">SET NEWNAME FOR DATABASE</code> ，必须至少指定以下替换变量之一以避免名称冲突： <code class="codeph">%b</code> ， <code class="codeph">%f</code>和<code class="codeph">%U</code> 。见语义进入<code class="codeph">TO '</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code>的可能的替换变量的说明。
                                 </p>
                                 <p>新名称用于影响数据库中文件以及使用RMAN TSPITR实用程序的所有后续<code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code> ， <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> ， <code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code>命令。如果在还原操作之前未发出此命令，则RMAN会将文件还原到其默认位置。
                                 </p>
                                 <p>您不必以任何特定顺序发出<code class="codeph">SET NEWNAME</code>命令。例如，假设您运行以下一系列命令：</p><pre class="oac_no_warn" dir="ltr">将数据库的NEWNAME设置为'/ oradata1 /％b';为TABLESPACE用户设置NEWNAME'/ oradata2 /％U';将DATAFILE 1的NEWNAME设置为'+ data';</pre><p>前面的一系列命令等同于以下不同排序的命令系列：</p><pre class="oac_no_warn" dir="ltr">将DATAFILE 1的NEW NEWNAME设置为'+ data;将数据库的NEWNAME设置为'/ oradata1 /％b';为TABLESPACE用户设置NEWNAME'/ oradata2 /％U';</pre><p><span class="bold">注意：</span> <code class="codeph">SET NEWNAME</code>命令支持ASM磁盘组。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span>以了解在<code class="codeph">SET NEWNAME FOR DATABASE</code>中有效的替换变量</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1219" headers="d93940e850 ">
                                 <p><code class="codeph">数据库根的NEWNAME</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1219 d93940e853 ">
                                 <p>在CDB中，仅在根目录中为数据文件和临时文件设置新的默认名称。按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到根目录。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1231" headers="d93940e850 ">
                                 <p><code class="codeph">NEWNAME FOR PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1231 d93940e853 ">
                                 <p>在CDB中，仅在指定的PDB中为数据文件和临时文件设置新的默认名称。按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到根目录。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1247" headers="d93940e850 "><a id="d93940e1248" class="indexterm-anchor"></a><a id="d93940e1250" class="indexterm-anchor"></a> <code class="codeph">NEWNAME FOR DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1247 d93940e853 ">
                                 <p>设置指定数据文件的默认名称。</p>
                                 <p>使用此命令可以单独指定每个数据文件的名称（请参阅<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBFADEH">示例2-88</a> ）。新名称用于影响数据库中文件以及使用RMAN TSPITR实用程序的所有后续<code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code> ， <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> ， <code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code>命令。
                                 </p>
                                 <p>如果运行<code class="codeph">SET NEWNAME FOR DATAFILE</code>然后将数据文件还原到新位置，则可以运行<code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code>将控制文件中的<code class="codeph">NEWNAME</code>重命名为<code class="codeph">NEWNAME</code> 。如果不运行<code class="codeph">SWITCH</code> ，则RMAN将还原的文件记录为RMAN存储库中的数据文件副本。
                                 </p>
                                 <p><span class="bold">注意：</span> <code class="codeph">SET NEWNAME</code>命令支持ASM磁盘组。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1317" headers="d93940e850 "><a id="d93940e1318" class="indexterm-anchor"></a><a id="d93940e1320" class="indexterm-anchor"></a> <code class="codeph">NEWNAME FOR TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span> <code class="codeph">NEWNAME FOR TABLESPACE</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1317 d93940e853 ">
                                 <p>为尚未使用<code class="codeph">SET NEWNAME FOR DATAFILE</code>命令命名的指定表空间中的所有文件设置新的默认名称。
                                 </p>
                                 <p>此命令使您可以更改重复表空间中多个文件的名称，并提供单独命名表空间的每个文件的替代方法（请参阅<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBFADEH">示例2-88</a> ）。
                                 </p>
                                 <p>在<code class="codeph">SET NEWNAME FOR TABLESPACE</code>发出<code class="codeph">SET NEWNAME FOR TABLESPACE</code> ，必须至少指定以下前三个替换变量以避免名称冲突： <code class="codeph">%b</code> ， <code class="codeph">%f</code>和<code class="codeph">%U</code> 。见语义进入<code class="codeph">TO '</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code>的可能的替换变量的说明。
                                 </p>
                                 <p>新名称用于影响表空间中文件的所有后续<code class="codeph"><a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4">DUPLICATE</a></code> ， <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code>或<code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code>命令。如果在还原操作之前未发出此命令，则RMAN会将文件还原到其默认位置。
                                 </p>
                                 <p><span class="bold">注意：</span> <code class="codeph">SET NEWNAME</code>命令支持ASM磁盘组。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span>以了解在<code class="codeph">SET NEWNAME FOR DATABASE</code>中有效的替换变量</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1400" headers="d93940e850 ">
                                 <p><code class="codeph">NEWNAME FOR TABLESPACE</code> <span class="italic"><code class="codeph">pdb-name</code></span> <code class="codeph">:</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1400 d93940e853 ">
                                 <p>CDB中表空间的名称。多个数据库可以具有相同名称的表空间。名称前面的限定符唯一标识表空间。 <span class="italic"><code class="codeph">pdb-name</code></span>是PDB的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1420" headers="d93940e850 "><a id="d93940e1421" class="indexterm-anchor"></a><a id="d93940e1423" class="indexterm-anchor"></a> <code class="codeph">TEMPFILE</code> <span class="italic"><code class="codeph"><a href="tempfileSpec.html#GUID-783EB37D-C3F1-4245-BDF1-E463F65A1AE4">tempfileSpec</a></code></span> <code class="codeph">NEWNAME FOR</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1420 d93940e853 ">
                                 <p>为后续<code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code>命令设置新的临时文件名，该命令将指定的临时文件重命名为指定的名称。
                                 </p>
                                 <p><span class="bold">注意：</span> <code class="codeph">SET NEWNAME</code>命令支持ASM磁盘组。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="tempfileSpec.html#GUID-783EB37D-C3F1-4245-BDF1-E463F65A1AE4">tempfileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1463" headers="d93940e850 ">
                                 <p><code class="codeph">TO '</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1463 d93940e853 ">
                                 <p>为还原的数据文件或临时文件指定用户定义的文件名或ASM磁盘组。</p>
                                 <p>在<code class="codeph">SET NEWNAME FOR TABLESPACE</code>发出<code class="codeph">SET NEWNAME FOR DATABASE</code>或<code class="codeph">SET NEWNAME FOR TABLESPACE</code> ，必须在<span class="italic"><code class="codeph">filename</code></span>指定替换变量以避免名称冲突。至少指定以下三个替换变量（ <code class="codeph">%I</code>和<code class="codeph">%N</code>变量是可选的）：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">％b</code></p>
                                       <p>指定没有完全限定目录路径的文件名。例如，数据文件名<code class="codeph">/oradata/prod/financial.dbf</code>将转换为<code class="codeph">financial.dbf</code> 。此变量使您可以在将数据文件移动到其他目录时保留它们的名称。在备份期间，您可以使用它来创建映像副本。您不能将此变量用于OMF数据文件或备份集。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">％F</code></p>
                                       <p>指定为其生成新名称的数据文件的绝对文件号。例如，如果数据文件<code class="codeph">2</code>重复，则<code class="codeph">%f</code>生成值<code class="codeph">2</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">％U</code></p>
                                       <p>指定系统生成的唯一文件名。名称采用以下格式： <code class="codeph">data-D-</code> <span class="italic"><code class="codeph">%d</code></span> <code class="codeph">_id-</code> <span class="italic"><code class="codeph">%I</code></span> <code class="codeph">_TS-</code> <span class="italic"><code class="codeph">%N</code></span> <code class="codeph">_FNO-</code> <span class="italic"><code class="codeph">%f</code></span> 。<code class="codeph">%d</code>变量指定数据库名称。例如，可能的名称可能是<code class="codeph">data-D-prod_id-22398754_TS-users_FNO-7</code> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">％一世</code></p>
                                       <p>指定DBID。</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">％N</code></p>
                                       <p>指定表空间名称。</p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">注意：</span> <a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a>中定义的其他替换变量的使用是未定义的：一些产生错误，而另一些则导致零值并且不受支持。
                                 </p>
                                 <p>如果将<code class="codeph">NEWNAME</code>设置为数据文件的ASM磁盘组并运行<code class="codeph">RESTORE</code> ，则RMAN会将该文件还原到磁盘组。如果为临时文件指定文件名，则在恢复和打开数据库后，它是临时文件的新名称。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1585" headers="d93940e850 ">
                                 <p><code class="codeph">新的</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1585 d93940e853 ">
                                 <p>在<code class="codeph">DB_CREATE_FILE_DEST</code>初始化参数指定的目录中创建Oracle管理的文件。
                                 </p>
                                 <p>例如， <code class="codeph">SET NEWNAME FOR TABLESPACE users TO NEW</code>为要在<code class="codeph">DB_CREATE_FILE_DEST</code>位置创建的<code class="codeph">users</code>表空间的数据文件设置OMF名称（请参阅<a href="DUPLICATE.html#GUID-E13D8A02-80F9-49A2-9C31-92DD3A795CE4__BGBCEBDI">示例2-89</a> ）。
                                 </p>
                                 <p>如果原始文件是Oracle管理的文件或位于ASM磁盘组上，则RMAN会尝试删除原始文件。如果为临时文件指定<code class="codeph">TO NEW</code> ，则在打开数据库时，RMAN会在<code class="codeph">DB_CREATE_FILE_DEST</code>创建临时文件。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <a href="../admin/using-oracle-managed-files.html#ADMIN003" target="_blank"><span><cite>Oracle数据库管理员指南，</cite></span></a>以获取有关Oracle管理的文件的信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1627" headers="d93940e850 "><a id="d93940e1628" class="indexterm-anchor"></a><a id="d93940e1632" class="indexterm-anchor"></a><a id="d93940e1636" class="indexterm-anchor"></a> <code class="codeph">TO RESTORE POINT</code> <span class="italic"><code class="codeph">restore_point_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1627 d93940e853 ">
                                 <p>指定后续<code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code>或<code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>命令的还原点，其中创建还原点的SCN为包含上限的上限。由于限制是包含的，因此RMAN仅选择可用于还原或恢复的文件， <span class="italic">包括</span>与还原点对应的SCN。
                                 </p>
                                 <p><span class="bold">注意：</span>您只能在装入数据库时使用<code class="codeph">SET TO RESTORE POINT</code> ，因为定义的还原点将记录在控制文件中。例如，您不能使用<code class="codeph">SET TO RESTORE POINT</code>为<code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code> <code class="codeph">CONTROLFILE</code>操作指定目标SCN。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1680" headers="d93940e850 ">
                                 <p><span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1680 d93940e853 ">
                                 <p><a id="d93940e1689" class="indexterm-anchor"></a><a id="d93940e1693" class="indexterm-anchor"></a><a id="d93940e1697" class="indexterm-anchor"></a>指定后续<code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B">RESTORE</a></code>或<code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>命令的结束时间，SCN或日志序列号。
                                 </p>
                                 <p><span class="bold">另见：</span> <span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDGGHCB"><span class="bold"><span class="italic">setRmanOrRunOption</span></span></p>
                  <p>本小节指定可在<code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code>块内部或外部使用的<code class="codeph">SET</code>选项。
                  </p>
                  <div class="tblformalwide" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-24B1F184-E867-4F20-918A-4993DE3A7C46">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes SET command setRmanOrRunOption parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d93940e1741">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d93940e1744">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1749" headers="d93940e1741 "><code class="codeph">AUXILIARY INSTANCE PARAMETER</code> <code class="codeph">FILE TO</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1749 d93940e1744 ">
                                 <p>指定在启动实例时使用的参数文件的路径。在使用自动辅助实例自定义TSPITR或使用RMAN克隆RMAN表空间时，可以使用此参数。</p>
                                 <p><span class="bold">注意：</span> <span class="italic"><code class="codeph">filename</code></span>位于运行RMAN客户端的主机上。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1774" headers="d93940e1741 ">
                                 <p><a id="d93940e1776" class="indexterm-anchor"></a><a id="d93940e1780" class="indexterm-anchor"></a><a id="d93940e1784" class="indexterm-anchor"></a><a id="d93940e1788" class="indexterm-anchor"></a> <code class="codeph">COMMAND ID TO</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">string</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1774 d93940e1744 ">
                                 <p>将指定的字符串输入所有通道的<code class="codeph">V$SESSION.CLIENT_INFO</code>列。使用此信息可确定哪些数据库服务器会话与哪些RMAN通道相对应。<code class="codeph">SET COMMAND ID</code>命令仅适用于已分配的通道。
                                 </p>
                                 <p>该<a id="d93940e1813" class="indexterm-anchor"></a><a id="d93940e1815" class="indexterm-anchor"></a> <code class="codeph">V$SESSION.CLIENT_INFO</code>列包含每个RMAN服务器会话的信息。数据以下列格式之一显示：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">id=</code> <span class="italic"><code class="codeph">string</code></span></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">id=</code> <span class="italic"><code class="codeph">string</code></span> ， <code class="codeph">ch=</code> <span class="italic"><code class="codeph">channel_id</code></span></p>
                                    </li>
                                 </ul>
                                 <p>第一个表单出现在RMAN目标数据库连接中。第二种形式出现在所有分配的频道中。当前作业完成后，将清除<code class="codeph">V$SESSION.CLIENT_INFO</code>列。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span><cite>Oracle数据库参考</cite></span></a> ，以获取有关<code class="codeph">V$SESSION.CLIENT_INFO</code>更多信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1861" headers="d93940e1741 "><a id="d93940e1862" class="indexterm-anchor"></a><a id="d93940e1864" class="indexterm-anchor"></a><a id="d93940e1866" class="indexterm-anchor"></a> <code class="codeph">FORMAT FOR DEVICE TYPE</code> <code class="codeph">CONTROLFILE AUTOBACKUP</code> <code class="codeph">FORMAT FOR DEVICE TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span> <code class="codeph">TO</code> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d93940e1861 d93940e1744 ">
                                 <p>覆盖指定设备类型上控制文件自动备份的默认文件名格式。您可以在<code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code>或RMAN提示符下使用此命令。优先顺序如下：</p>
                                 <ol>
                                    <li>
                                       <p>在<code class="codeph">RUN</code>块中执行<code class="codeph">SET CONTROLFILE AUTOBACKUP</code></p>
                                    </li>
                                    <li>
                                       <p>在RMAN提示符下执行<code class="codeph">SET CONTROLFILE AUTOBACKUP</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">CONTROLFILE</code> <code class="codeph">AUTOBACKUP</code> <code class="codeph">FORMAT</code></p>
                                    </li>
                                 </ol>
                                 <p><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED__BABBCDDA">％F</a>替换变量必须在新的<span class="italic"><code class="codeph">formatSpec</code></span> 。在控制文件自动备份<span class="italic"><code class="codeph">formatSpec</code></span>没有其他替换变量有效。</p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="formatSpec.html#GUID-E51F637A-57E0-4B06-803F-3F879DF5BEED">formatSpec</a></code></span> ，了解<code class="codeph">%F</code>替换变量的语义</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1952" headers="d93940e1741 ">
                                 <p><code class="codeph">DATABASE</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">database_name</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1952 d93940e1744 ">
                                 <p>指定在没有连接到目标数据库的情况下进行复制时要复制的数据库的名称（源数据库）。或者，您可以使用<code class="codeph">DUPLICATE</code>命令的<code class="codeph">DATABASE</code>子句在您选择不连接到目标数据库以获取副本时指定源数据库。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e1974" headers="d93940e1741 ">
                                 <p><code class="codeph">DBID</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e1974 d93940e1744 ">
                                 <p>指定DBID，它是在创建数据库时计算的唯一32位标识号。</p>
                                 <p>RMAN在连接到目标数据库时显示DBID。您可以通过查询<code class="codeph">V$DATABASE</code>视图或<code class="codeph">RC_DATABASE</code>和<code class="codeph">RC_DATABASE_INCARNATION</code>恢复目录视图来获取DBID。
                                 </p>
                                 <p>仅在以下特定情况下运行<code class="codeph">SET DBID</code>命令：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>您没有连接到恢复目录，并且想要还原控制文件（请参阅<a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDEDAGJ">示例3-59</a> ）。使用Data Recovery Advisor还原控制文件自动备份时，同样的限制也适用。<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code>可以找到自动备份并仅在<code class="codeph">ADVISE FAILURE</code>之前发出<code class="codeph">SET DBID</code>恢复它。</p>
                                    </li>
                                    <li>
                                       <p>您想要还原服务器参数文件（请参阅<a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDGGHGB">示例3-60</a> ）。
                                       </p>
                                    </li>
                                    <li>
                                       <p>您已连接到恢复目录但未连接到目标数据库，并使用<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> ， <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> ， <code class="codeph"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0">REPORT</a></code> ， <code class="codeph"><a href="SHOW.html#GUID-6C2AF43B-FADD-41AF-9408-852A69538E2F">SHOW</a></code>或<code class="codeph"><a href="UNREGISTER.html#GUID-CFC11D2B-0F77-4253-87E6-483C2C4452BB">UNREGISTER</a></code>命令上的<code class="codeph">FOR DB_UNIQUE_NAME</code>选项。
                                       </p>
                                    </li>
                                    <li>
                                       <p>您已连接到恢复目录并希望还原控制文件，但未装入目标数据库，并且数据库名称在恢复目录中不是唯一的。</p>
                                    </li>
                                    <li>
                                       <p>您正在执行没有目标连接的<code class="codeph">DUPLICATE</code>但未使用<code class="codeph">DUPLICATE</code>命令中的<code class="codeph">DBID</code>子条款，并且<code class="codeph">SET DATABASE</code>或<code class="codeph">DATABASE</code>子句中指定的数据库名称在恢复目录中不是唯一的。
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e2077" headers="d93940e1741 ">
                                 <p><a id="d93940e2079" class="indexterm-anchor"></a> <code class="codeph">INCARNATION</code> <span class="italic"><code class="codeph">primaryKey</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e2077 d93940e1744 ">
                                 <p>在以下条件下复制没有目标连接时指定孤立的化身：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>您尚未在DUPLICATE命令的DATABASE子句中指定INCARNATION。</p>
                                    </li>
                                    <li>
                                       <p>您想要复制到不在当前化身路径（孤儿化身）中的化身。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e2100" headers="d93940e1741 ">
                                 <p><code class="codeph">LONG</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e2100 d93940e1744 ">
                                 <p>设置为LONG列显示的字符数。最大值为4000，默认值为80。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d93940e2112" headers="d93940e1741 ">
                                 <p><code class="codeph">NUMWIDTH</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d93940e2112 d93940e1744 ">
                                 <p>设置NUMBER列显示的字符数。默认值为10。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-0E02D1BE-6B51-4E0A-83D3-CDE406CC7D11">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-5407F472-45B4-45F7-9FD7-302C85F40308">
                  <p class="titleinexample">示例3-57设置命令ID</p>
                  <p>此示例将命令ID设置为<code class="codeph">rman</code> ，备份数据库，然后归档联机重做日志。您可以使用命令ID通过<code class="codeph">WHERE CLIENT_INFO LIKE '%rman%'</code>查询<code class="codeph">V$SESSION</code>以获取作业状态信息。
                  </p><pre class="oac_no_warn" dir="ltr">RUN {ALLOCATE CHANNEL d1 DEVICE TYPE DISK FORMAT'/ disk1 /％U'; ALLOCATE CHANNEL d2 DEVICE TYPE DISK FORMAT'/ disk2 /％U';将命令ID设置为'rman'; BACKUP INCREMENTAL LEVEL 0 DATABASE; ALTER SYSTEM ARCHIVE LOG CURRENT; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDEFFDB">
                  <p class="titleinexample">示例3-58双工备份集</p>
                  <p>假设当前的双工配置如下：</p><pre class="oac_no_warn" dir="ltr">配置ARCHIVELOG复制设备类型sbt至3;配置数据文件复制设备类型sbt到3;</pre><p>磁带驱动器坏了，只留下两个可用。磁带备份的准则是设备数量等于副本数量乘以通道数量。以下示例使用<code class="codeph">SET BACKUP COPIES</code>覆盖持久双工配置，并将两个数据库备份副本写入两个正常运行的磁带驱动器：</p><pre class="oac_no_warn" dir="ltr">RUN {ALLOCATE CHANNEL dev1 DEVICE TYPE sbt PARMS'ENV =（OB_DEVICE_1 = stape1，OB_DEVICE_2 = stape2）'; SET BACKUP COPIES 2; BACKUP DATABASE PLUS ARCHIVELOG; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDEDAGJ">
                  <p class="titleinexample">示例3-59在还原过程中设置控制文件自动备份格式</p>
                  <p>假设包含控制文件的磁盘发生故障。您可以编辑初始化参数文件中的<code class="codeph">CONTROL_FILES</code>参数以指向新位置。
                  </p>
                  <p>在此示例中，您无权访问恢复目录。该示例启动实例，设置DBID，然后恢复控制文件自动备份。装入数据库后，您可以恢复数据库。</p><pre class="oac_no_warn" dir="ltr">CONNECT TARGET / STARTUP FORCE NOMOUNT SET DBID 28014364;运行设备类型磁盘的SET SETFILE AUTOBACKUP格式为'/disk2/cf_%F.bak';从AUTOBACKUP MAXSEQ 100恢复CONTROLFILE; ALTER DATABASE MOUNT;恢复数据库; ALTER DATABASE OPEN RESETLOGS;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDGGHGB">
                  <p class="titleinexample">示例3-60恢复服务器参数文件</p>
                  <p>假设在数据库主机上执行维护时关闭数据库。在此期间，意外删除了服务器参数文件。您启动RMAN客户端， <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code> as <code class="codeph">TARGET</code>到数据库，并连接到恢复目录。以下示例从磁带上的自动备份还原服务器参数文件，然后重新启动实例。
                  </p><pre class="oac_no_warn" dir="ltr">SET DBID 3257174182; #set dbid so RMAN可以识别数据库STARTUP FORCE NOMOUNT #RMAN启动数据库，带有虚拟服务器参数文件RUN {ALLOCATE CHANNEL t1 DEVICE TYPE sbt;从AUTOBACKUP恢复SPFILE; } STARTUP FORCE; #RMAN使用恢复的服务器参数文件重新启动数据库</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-FDA55E5F-7596-477D-8611-99A59871BB73">
                  <p class="titleinexample">示例3-61设置NEWNAME并在没有连接到目标数据库的情况下进行复制</p>
                  <p>假设您要复制数据库而不连接到目标数据库，并且要复制到不在当前化身路径中的化身（ <code class="codeph">451</code> ）。以下示例使用各种<code class="codeph">SET NEWNAME</code>命令，设置<code class="codeph">DBID</code>并将数据库复制到<code class="codeph">NEWDB</code> ：</p><pre class="oac_no_warn" dir="ltr">SET DATABASE PROD SET DBID 22398754 SET INCARNATION 451 RUN {SET NEW TABLE for TABLESPACE system TO'/ test / oradata / system /％d_％f';为TABLESPACE用户设置NEWNAME为'/ test / oradata / users /％b';将DATAFILE 35的NEWNAME设置为'/ test / oradata / special /％N_％b_％f';将DATAFILE 50的NEWNAME设置为'/ test / oradata / special /％N_％b_％f';将数据库的NEWNAME设置为NEW; DUPLICATE DATABASE到newdb SKIP READONLY LOGFILE GROUP 1（'/ test/onlinelogs/redo01_1.f'，'？/test/onlinelogs/redo01_2.f'）SIZE 4M，GROUP 2（'？/test/onlinelongs/redo02_1.f'，'？/test/onlinelongs/redo02_2.f'）SIZE 4M，GROUP 3（'？/test/onlinelogs/redo03_1.f'，'？/test/onlinelogs/redo03_2.f'）SIZE 4M REUSE; }</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__GUID-E9415269-09EF-4FBD-88C6-D5C35C420485">
                  <p class="titleinexample">示例3-62设置备份的压缩级别</p>
                  <p>此示例假定您拥有数据库的Advanced Compression Option（ACO）许可证。</p>
                  <p>要使用<code class="codeph">LOW</code>压缩算法备份具有高波动性的表空间<code class="codeph">users</code> ：</p><pre class="oac_no_warn" dir="ltr">设置压缩算法'低'优化负载错误;备份作为压缩后备用户表示用户;</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>