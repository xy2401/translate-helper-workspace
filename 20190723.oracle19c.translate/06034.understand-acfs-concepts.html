<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>了解Oracle ACFS概念</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="overview-acfs-advm.html" title="Previous" type="text/html"></link>
      <link rel="next" href="understand-acfs-admin.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="overview-acfs-advm.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="understand-acfs-admin.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-acfs-advm.html" property="item" typeof="WebPage"><span property="name">Oracle自动存储管理群集文件系统</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="intro-acfs-advm.html" property="item" typeof="WebPage"><span property="name">介绍Oracle ACFS和Oracle ADVM</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">了解Oracle ACFS概念</li>
            </ol>
            <a id="GUID-783569B8-166E-4677-8AA6-6A68FBE785DD" name="GUID-783569B8-166E-4677-8AA6-6A68FBE785DD"></a><a id="OSTMG94162"></a>
            
            <h2 id="OSTMG-GUID-783569B8-166E-4677-8AA6-6A68FBE785DD" class="sect2">了解Oracle ACFS概念</h2>
         </header>
         <div class="ind">
            <div>
               <p>本节介绍关键Oracle ACFS组件的概念，并包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-579FDDA5-7D18-4A01-B3D6-906B6DB93851">关于Oracle ACFS</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-EC35706E-8D4E-4101-9F30-C6AC65E5A399">关于Oracle ACFS Mount Model和Namespace</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947">关于Oracle ACFS和数据库数据文件</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1" title="可以将Oracle ACFS文件系统配置为Oracle数据库主目录。">关于Oracle ACFS和Oracle数据库主目录</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-EB6D2B7A-524F-4B92-95E0-8918CCF0D84D">关于Oracle ASM Dynamic Volume Manager</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92">关于Oracle ACFS驱动程序模型</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B" title="Oracle ACFS装入注册表支持Oracle Grid Infrastructure群集配置，但不支持Oracle Restart配置。">关于Oracle ACFS Mount Registry</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-484DA891-48DD-495C-8FEB-99C151705B32">关于集群域中的Oracle ACFS</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" title="Oracle ACFS快照是Oracle ACFS文件系统的在线，只读或读写时间点副本。">关于Oracle ACFS快照</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-238A0439-A764-42C7-91FE-80CF32B82ADE">关于Oracle ACFS和备份和还原</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-56F68282-6A2A-4305-981B-257EBC2B9D16">关于Oracle ACFS与Oracle ASM的集成</a></p>
                  </li>
                  <li>
                     <p><a href="understand-acfs-concepts.html#GUID-FAACA489-0E61-48EA-BD43-8120B1895862">关于Windows上的Oracle ACFS和外部表</a></p>
                  </li>
               </ul>
            </div><a id="OSTMG94163"></a><div class="props_rev_3"><a id="GUID-579FDDA5-7D18-4A01-B3D6-906B6DB93851" name="GUID-579FDDA5-7D18-4A01-B3D6-906B6DB93851"></a><h3 id="OSTMG-GUID-579FDDA5-7D18-4A01-B3D6-906B6DB93851" class="sect3">关于Oracle ACFS</h3>
               <div>
                  <p><a id="d107872e336" class="indexterm-anchor"></a> Oracle ACFS设计为通用的独立服务器和群集范围的文件系统，可为所有客户文件提供支持。用户和应用程序可以使用本机操作系统文件系统应用程序编程接口（API）和命令行界面（CLI）工具访问和管理Oracle ACFS。用户还可以使用Oracle ASM Configuration Assistant（ASMCA）管理Oracle ACFS。
                  </p>
                  <p>Oracle ACFS支持具有64位文件和文件系统数据结构大小的大型文件，从而在64位平台上实现具备exabyte功能的文件和文件系统容量。基于可变范围的存储分配和高性能目录有助于实现快速性能和共享磁盘配置，从而为每个集群成员提供Oracle ACFS文件数据的直接存储路径。使用Oracle ACFS元数据校验和和日记功能可实现文件系统完整性和快速恢复。Oracle ACFS设计为多节点共享文件系统模型，可为每个集群成员的Oracle ACFS文件数据提供连贯，缓存的直接存储路径。</p>
                  <p>Oracle ACFS文件系统通常配置为进行群集范围访问。文件系统，文件和目录是可见的，可从所有集群成员访问，并且可由用户和应用程序使用来自任何集群成员的相同路径名引用。此设计可简化跨群集成员的应用程序部署，并促进多实例群集应用程序和未修改的独立服务器应用程序的高可用性（HA）故障转移。</p>
                  <p>Oracle ACFS跨群集配置提供单一系统文件访问语义。所有集群成员上的应用程序和用户始终显示共享Oracle ACFS文件数据的相同视图，由Oracle ACFS集群范围用户和元数据缓存一致性机制支持。</p>
               </div>
            </div><a id="OSTMG94167"></a><div class="props_rev_3"><a id="GUID-EC35706E-8D4E-4101-9F30-C6AC65E5A399" name="GUID-EC35706E-8D4E-4101-9F30-C6AC65E5A399"></a><h3 id="OSTMG-GUID-EC35706E-8D4E-4101-9F30-C6AC65E5A399" class="sect3">关于Oracle ACFS Mount Model和Namespace</h3>
               <div>
                  <p><a id="d107872e485" class="indexterm-anchor"></a><a id="d107872e489" class="indexterm-anchor"></a><a id="d107872e493" class="indexterm-anchor"></a><a id="d107872e497" class="indexterm-anchor"></a> Oracle ACFS被设计为一个分层文件系统，其中包含组织成树状结构命名空间的文件和子目录，文件位于树叶。命名空间设计是独立服务器和群集配置的单文件系统命名模型。此设计使每个集群成员能够使用相同的路径名向集群应用程序提供共享文件，从而简化了多节点应用程序和用户访问以及整个文件系统管理。Oracle ACFS安装模型还适用于群集配置中的节点本地安装和群集节点子集安装，以满足其他客户要求。
                  </p>
                  <p>Oracle ACFS文件系统的最佳实践是使用Oracle Clusterware资源管理的Oracle Clusterware，以确保在Oracle Grid Infrastructure启动和关闭期间正确处理它们。</p>
                  <p>您可以显式使用<code class="codeph">mount</code>命令。但是，如果已创建资源，则可能已安装文件系统。
                  </p>
               </div>
            </div><a id="OSTMG95961"></a><div class="props_rev_3"><a id="GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947" name="GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947"></a><h3 id="OSTMG-GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947" class="sect3">关于Oracle ACFS和数据库数据文件</h3>
               <div>
                  <div class="infoboxnote" id="GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947__GUID-4D043448-634F-40B6-8EC3-212660E6E414">
                     <p class="notep1">注意：</p>
                     <p>Oracle ACFS中数据文件的最佳实践是将集群范围的资源用于存储数据文件的Oracle ACFS文件系统。</p>
                     <p>如果在数据库安装完成后添加数据文件，则必须修改数据库依赖关系以列出新的Oracle ACFS文件系统。如果不这样做会导致应用程序可靠性出错。要在依赖关系列表中指定文件系统，请使用SRVCTL数据库对象命令修改资源使用的Oracle ACFS路径。</p>
                  </div>
                  <p>Oracle Grid Infrastructure 18c群集和独立（Oracle Restart）配置中的Oracle ACFS支持Oracle Database 11.2.0.4或更高版本的所有数据库文件。可以将Oracle ACFS配置为与数据库一起使用，尤其是利用Oracle ACFS快照进行数据库测试和开发。要在群集配置中支持数据库文件，必须将包含Oracle ACFS文件系统的磁盘组的<code class="codeph">COMPATIBLE.ADVM</code>属性设置为<code class="codeph">12.1</code>或更高。在Oracle Restart配置中， <code class="codeph">COMPATIBLE.ADVM</code>属性必须设置为<code class="codeph">12.2.0.1</code>或更高版本才能支持所有数据库文件。
                  </p>
                  <p>Windows上对数据库数据文件的支持始于Oracle Grid 12 <span class="italic">c</span>第1版（12.1.0.2）。要在Windows上支持数据库文件，必须将<code class="codeph">COMPATIBLE.ADVM</code>属性设置为<code class="codeph">12.1.0.2</code>或更高版本。
                  </p>
                  <p>Oracle Exadata（Linux）上对数据库数据文件的支持始于Oracle Grid 12 <span class="italic">c</span>第1版（12.1.0.2）。但是，Oracle ACFS目前无法将数据库操作直接推送到存储中。
                  </p>
                  <p>Oracle Grid Infrastructure 12.1.0.2上的Oracle ACFS还支持Oracle Exadata（Linux）存储上的Oracle Database <span class="italic">10g</span>第2版（10.2.0.4和10.2.0.5）的所有数据库文件。对于Oracle Exadata存储上Oracle Database <span class="italic">10g</span>第2版（10.2.0.4和10.2.0.5）的数据库文件支持，必须满足以下条件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>使用DBCA创建Oracle数据库时，必须将<code class="codeph">REMOTE_LISTENER</code>初始化参数设置为<span class="italic"><code class="codeph">your_scan_vip</code></span> <code class="codeph">:1521</code>否则DBCA在创建过程中失败。
                        </p>
                     </li>
                     <li>
                        <p>您必须修改数据库实例资源的所有启动和停止依赖关系，以确保在启动Oracle Clusterware时启动资源。</p>
                     </li>
                  </ul>
                  <p>以下列表提供了有关将Oracle ACFS与数据库文件一起使用的重要信息：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>Oracle ACFS支持包括Oracle ASM支持的所有文件类型。</p>
                     </li>
                     <li>
                        <p>在Oracle ACFS上存储数据库数据文件时，必须将<code class="codeph">FILESYSTEMIO_OPTIONS</code>初始化参数设置为<code class="codeph">setall</code> ;不支持其他设置。要使用数据库数据文件获得最佳性能，请将包含用于保存数据文件的Oracle ADVM卷的磁盘组的<code class="codeph">ASM</code>和<code class="codeph">ADVM</code>兼容性属性设置为<code class="codeph">12.1</code>或更高。对于在12.1.0.2之前创建的卷，将条带列设置为<code class="codeph">1</code> ，或将条带列设置为<code class="codeph">8</code> ，将条带宽度设置为<code class="codeph">1</code> <code class="codeph">MB</code> 。运行12.1.0.2或更高版本时创建的卷已默认为高性能配置（条带列= <code class="codeph">8</code>且条带宽度= <code class="codeph">1</code> <code class="codeph">MB</code> ）。
                        </p>
                     </li>
                     <li>
                        <p>要使用快照获得最佳数据库性能，必须在<code class="codeph">ADVM</code>兼容性属性设置为<code class="codeph">12.1</code>或更高版本后创建快照。
                        </p>
                     </li>
                     <li>
                        <p>在Oracle ACFS中使用4 K或更大的数据库块大小和表空间块大小可获得最佳性能。</p>
                     </li>
                     <li>
                        <p>要在使用Oracle Exadata时获得最佳性能，请使用4 K元数据文件系统。</p>
                     </li>
                     <li>
                        <p>Oracle ACFS不支持具有2 K块大小的数据库。</p>
                     </li>
                     <li>
                        <p>不要通过NFS导出包含数据库文件的Oracle ACFS文件系统，以便从DNFS客户端访问它们。不支持此配置。</p>
                     </li>
                     <li>
                        <p>如果数据文件配置为自动扩展，则增量的大小应足够大，以确保不经常进行扩展操作。频繁的自动扩展会对性能产生负面影响。</p>
                     </li>
                     <li>
                        <p>在快照中运行工作负载会减少基础文件上运行的主要工作负载的资源，因为存储在基本文件系统和快照之间共享。要在Oracle ACFS快照中运行测试方案而不影响主工作负载，请复制文件系统，然后对复制的文件系统中创建的快照运行测试工作负载。</p>
                     </li>
                     <li>
                        <p>不支持在Oracle ACFS上使用Oracle ACFS加密和数据库文件。要在Oracle ACFS上加密数据库数据文件，Oracle建议使用Oracle Advanced Security。Oracle Advanced Security提供透明数据加密（TDE）来加密整个表空间的数据文件。</p>
                     </li>
                     <li>
                        <p>与快照共享存储或与文件系统基础共享存储的数据库可能会在活动联机事务处理（OLTP）工作负载下变为碎片。这种碎片可能导致卷中数据的位置对于顺序扫描是不连续的。Oracle ACFS在后台自动对这些文件进行碎片整理。通过<code class="codeph">acfsutil</code> <code class="codeph">defrag</code> <code class="codeph">dir</code>和<code class="codeph">file</code>命令报告<code class="codeph">defrag</code> ，也可以使用<code class="codeph">acfsutil</code> <code class="codeph">info</code> <code class="codeph">file</code>命令查看<code class="codeph">acfsutil</code> 。如果自动碎片整理没有足够快地发生，则<code class="codeph">acfsutil</code> <code class="codeph">defrag</code> <code class="codeph">dir</code>和<code class="codeph">file</code>命令还可以对<code class="codeph">file</code>进行按需碎片整理。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-EAE5BECA-E057-41B2-9E26-B755BF7F9947__GUID-9B34FF0D-040E-43CE-B0F4-0A89D8B2AC15">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关Oracle ACFS资源的信息，请<a href="understand-acfs-admin.html#GUID-5A1EA7DC-0B57-4C8D-BD01-A87875167796">创建</a> Oracle ACFS资源</p>
                        </li>
                        <li>
                           <p><a href="asm-files-directories-templates.html#GUID-9D43CE5E-AB31-47EB-BE30-813764BB40F5" title="Oracle ASM支持数据库所需的大多数文件类型。">Oracle ASM支持哪些类型的文件？</a> 获取Oracle ASM支持的文件类型列表</p>
                        </li>
                        <li>
                           <p>有关创建卷的信息，请<a href="manage-advm-asmcmd.html#GUID-CD9ABAB4-A19D-4C54-9484-D78CE52631E6">参阅volcreate</a></p>
                        </li>
                        <li>
                           <p><a href="acfs-commands-linux.html#GUID-458DC5C6-2218-4C6F-866B-1B9DAB7C278D">的mkfs</a>有关与设置所述元数据块大小信息<code class="codeph">mkfs</code> <code class="codeph">-i</code></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">acfsutil</code> <code class="codeph">defrag</code>和<code class="codeph">acfsutil</code> <code class="codeph">info</code>命令的信息，请<code class="codeph">acfsutil</code> <a href="acfs-commands-utilities.html#GUID-FC9D02FA-5A5B-4E5F-BEF9-B517BCB44EFA" title="本主题提供Oracle ACFS命令行实用程序的摘要。">Oracle ACFS命令行实用程序</a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">REMOTE_LISTENER</code>初始化参数的信息，请<a href="../refrn/REMOTE_LISTENER.html#REFRN10183" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关资源依赖性的信息，请参阅<a href="../cwadd/making-applications-highly-available-using-oracle-clusterware.html#CWADD91288" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关Oracle ACFS上数据库文件的其他复制选项的信息，请参阅<a href="../sbydb/introduction-to-oracle-data-guard-concepts.html#SBYDB00010" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关透明数据加密（TDE）的信息，请参见<a href="../asoag/asopart1.html#ASOAG600" target="_blank"><span><cite>“Oracle数据库高级安全指南”</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94164"></a><div class="props_rev_3"><a id="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1" name="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1"></a><h3 id="OSTMG-GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1" class="sect3">关于Oracle ACFS和Oracle数据库主目录</h3>
               <div>
                  <p>可以将Oracle ACFS文件系统配置为Oracle数据库主目录。</p>
                  <p>在群集中安装数据库时，需要为数据库主目录使用共享Oracle ACFS文件系统。您可以将Oracle ACFS文件系统用于Oracle <span class="italic">11g</span>第2版（11.2）或更高版本的Oracle数据库主目录。
                  </p>
                  <p>安装Oracle软件时，必须有与每个操作系统用户关联的单独Oracle基础（ <code class="codeph">ORACLE_BASE</code> ）。例如，网格用户和数据库用户应该有一个单独的Oracle库。
                  </p>
                  <p>您可以在Oracle ACFS文件系统上找到Oracle数据库库（ <code class="codeph">ORACLE_BASE</code> for database）目录和home（ <code class="codeph">ORACLE_HOME</code> for database）目录。Oracle数据库基础（ <code class="codeph">ORACLE_BASE</code> for database）目录不应是Oracle Grid Infrastructure基础（ <code class="codeph">ORACLE_BASE</code> for grid）目录，也不应位于Oracle Grid Infrastructure基本目录（ <code class="codeph">ORACLE_BASE</code> for grid）下。
                  </p>
                  <p>Oracle Grid Infrastructure基础（网格的<code class="codeph">ORACLE_BASE</code> ）目录和主目录（ <code class="codeph">ORACLE_HOME</code> for grid）目录不能位于Oracle ACFS文件系统上，因为在安装Oracle Grid Infrastructure之前无法创建Oracle ACFS文件系统。
                  </p>
                  <p>Oracle ACFS上的一个或多个Oracle数据库主目录可以在相同的安装点下创建，每个主目录使用单独的Oracle ACFS文件系统。</p>
                  <p>安装Oracle Grid Infrastructure软件之后，在使用Oracle Universal Installer（OUI）安装Oracle数据库软件之前，您可以创建要配置为用作Oracle数据库主目录的Oracle ACFS文件系统。</p>
                  <p>您还可以使用Oracle ASM Configuration Assistant（ASMCA）或Oracle ACFS命令来创建文件系统。</p>
                  <div class="infoboxnote" id="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1__GUID-A1C21C6B-0B1C-4A44-8F57-2B6EA36B7AA0">
                     <p class="notep1">注意：</p>
                     <p>当Oracle ACFS文件系统包含Oracle数据库主目录或Oracle数据库使用文件系统进行任何文件存储时，文件系统必须具有Oracle ACFS文件系统资源。如果尚未使用Oracle ASM Configuration Assistant设置安装点，则必须使用服务器控制实用程序（SRVCTL）命令来设置Oracle数据库依赖关系。</p>
                  </div>
                  <p>在Oracle Grid Infrastructure集群件配置中，将Oracle ACFS用于数据库主目录时，需要集群范围的Oracle ACFS资源。要使数据库所有者能够对资源执行操作，必须在创建资源时将所有者指定为允许的用户。您可以使用<code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">filesystem</code>或<code class="codeph">acfsutil</code> <code class="codeph">registry</code>命令的<code class="codeph">-u</code>选项指定数据库所有者。在Linux或Unix环境中添加资源时需要root权限。
                  </p>
                  <p>创建Oracle ACFS文件系统和资源后，可以通过在Oracle Universal Installer（OUI）数据库软件安装期间浏览并选择目录，将Oracle基于Oracle ACFS的数据库主安装点位置选择为Oracle数据库主位置。</p>
                  <p>您可以使用<code class="codeph">srvctl</code> <code class="codeph">start</code> <code class="codeph">filesystem</code>命令手动安装Oracle ACFS文件系统。
                  </p>
                  <div class="infoboxnote" id="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1__GUID-6AB1B1C3-40AA-4632-90A9-C2603A1EAA67">
                     <p class="notep1">注意：</p>
                     <p>在创建后将其他Oracle ACFS文件系统添加到Oracle数据库时，必须在Oracle数据库资源依赖关系列表中指定它们。如果不这样做会导致应用程序可靠性出错。要在依赖关系列表中指定文件系统，请使用SRVCTL数据库对象命令修改资源使用的Oracle ACFS路径。</p>
                  </div>
                  <p>Oracle ACFS文件系统也可以配置为用作应用程序的主目录。但是，Oracle ACFS文件系统不能用于包含Oracle Clusterware，Oracle ASM，Oracle ACFS和Oracle ADVM组件软件的Oracle基本目录或Oracle Grid Infrastructure主目录。</p>
                  <p>为了减少在Oracle ACFS上共享Oracle数据库主目录的Oracle RAC环境中对Oracle ACFS文件系统的争用，应将Oracle数据库审计操作系统文件配置为特定于节点。对于特定于节点的设置，必须确保每个数据库实例的配置文件中的<code class="codeph">AUDIT_FILE_DEST</code>初始化参数指向唯一的位置，而不是所有数据库实例的一个位置。
                  </p>
                  <p>例如，如果您有一个Oracle名称设置为<code class="codeph">TEST</code>的数据库，并且您希望确保每个数据库实例（例如<code class="codeph">TEST1</code>或<code class="codeph">TEST2</code>的<code class="codeph">AUDIT_FILE_DEST</code>初始化参数的位置指向该实例的节点特定位置，则可以运行以下SQL语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM SET AUDIT_FILE_DEST ='$ ORACLE_BASE / admin / adump / TEST / @'SCOPE = SPFILE SID ='*';</pre><p>在前面的示例中， <code class="codeph">@</code>扩展为每个实例的<code class="codeph">ORACLE_SID</code> 。如果在此示例<code class="codeph">/acfsmounts</code> <code class="codeph">ORACLE_BASE</code>设置为<code class="codeph">/acfsmounts</code> ，则可以使用该值代替<code class="codeph">ORACLE_BASE</code>变量。
                  </p>
                  <div class="infoboxnotealso" id="GUID-30F87EDC-188C-4F19-9035-9C0E6C4CCBE1__GUID-A868F122-BB62-47BD-B844-943A83EA93D8">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="manage-acfs-advm-commands.html#GUID-DF1A88B0-E86C-4ABB-BDFD-B06DA8D4CBEC" title="提供了许多命令行工具来管理Oracle ASM集群文件系统（Oracle ACFS）和Oracle ASM动态卷管理器（Oracle ADVM）。">使用命令行工具管理Oracle ACFS，</a>以获取有关使用Oracle ACFS命令创建文件系统的信息</p>
                        </li>
                        <li>
                           <p><a href="manage-acfs-advm-asmca.html#GUID-1331D69F-01F6-464F-BFBD-6263E9546AED">创建用于数据库的Oracle ACFS文件系统</a>以获取有关使用ASMCA的信息</p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5A1EA7DC-0B57-4C8D-BD01-A87875167796">创建Oracle ACFS资源</a>以获取其他信息Oracle ACFS资源</p>
                        </li>
                        <li>
                           <p>有关SRVCTL命令的信息，请参见<a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>“</cite></span></a> <a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware管理和部署指南”</cite></span></a>和“ <a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>Oracle Real Application Clusters管理和部署指南”</cite></span></a></p>
                        </li>
                        <li>
                           <p>适用于您的环境的<a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle数据库安装指南</span></a> ，以获取有关Oracle数据库软件和存储选项的安装以及有关Oracle基本和主目录的最佳灵活体系结构（OFA）建议的信息</p>
                        </li>
                        <li>
                           <p>适用于您的环境的<a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Grid Infrastructure安装指南</span></a> ，以获取有关安装Oracle Grid Infrastructure软件和存储选件的信息</p>
                        </li>
                        <li>
                           <p>有关使用Oracle托管文件的信息，请参见<a href="../admin/using-oracle-managed-files.html#ADMIN003" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">AUDIT_FILE_DEST</code>初始化参数的信息，请<code class="codeph">AUDIT_FILE_DEST</code> <a href="../refrn/AUDIT_FILE_DEST.html#REFRN10004" target="_blank"><span class="italic">Oracle数据库参考</span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94165"></a><div class="props_rev_3"><a id="GUID-EB6D2B7A-524F-4B92-95E0-8918CCF0D84D" name="GUID-EB6D2B7A-524F-4B92-95E0-8918CCF0D84D"></a><h3 id="OSTMG-GUID-EB6D2B7A-524F-4B92-95E0-8918CCF0D84D" class="sect3">关于Oracle ASM Dynamic Volume Manager</h3>
               <div>
                  <p>Oracle ASM动态卷管理器（Oracle ADVM）为客户端提供卷管理服务和标准磁盘设备驱动程序接口。文件系统和其他基于磁盘的应用程序将I / O请求发送到Oracle ADVM卷设备，就像向供应商操作系统上的其他存储设备发送I / O请求一样。</p>
                  <p>有关Oracle ADVM的更多信息，请参阅<a href="overview-advm.html#GUID-B7A61F3B-C22A-4021-A846-F5EA749E79FF" title="Oracle ASM动态卷管理器（Oracle ADVM）为客户端提供卷管理服务和标准磁盘设备驱动程序接口。">Oracle ASM Dynamic Volume Manager概述</a> 。
                  </p>
               </div>
            </div><a id="OSTMG94166"></a><div class="props_rev_3"><a id="GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92" name="GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92"></a><h3 id="OSTMG-GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92" class="sect3">关于Oracle ACFS驱动程序模型</h3>
               <div>
                  <p>Oracle ACFS文件系统作为可动态加载的供应商操作系统（OS）文件系统驱动程序和工具集安装，该驱动程序和工具集是为每个支持的操作系统平台开发的。驱动程序实现为虚拟文件系统（VFS），并处理指向特定文件系统的所有文件和目录操作。</p>
                  <div class="infoboxnote" id="GUID-B95FCE44-6016-4390-9B6B-2E849EA78D92__GUID-C7157123-CBC7-4515-8598-79EFB1FB90D4">
                     <p class="notep1">注意：</p>
                     <p>驱动程序遇到的错误将写入本机操作系统控制台和系统事件记录器。请参阅<a href="acfs-advanced-topics.html#GUID-0FF80BDD-F735-4448-B1D5-A40A6E283F32">了解Oracle ACFS I / O故障控制台消息</a> 。
                     </p>
                  </div>
               </div>
            </div><a id="OSTMG94168"></a><div class="props_rev_3"><a id="GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B" name="GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B"></a><h3 id="OSTMG-GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B" class="sect3">关于Oracle ACFS Mount Registry</h3>
               <div>
                  <p>Oracle ACFS装入注册表支持Oracle Grid Infrastructure群集配置，但不支持Oracle Restart配置。</p>
                  <p>可以使用Oracle ACFS装入注册表注册要永久挂载（跨重新启动）的文件系统。在群集配置中，已注册的Oracle ACFS文件系统由mount注册表自动挂载，类似于群集范围的挂载表。但是，在Oracle Restart配置中，不支持自动挂载已注册的Oracle ACFS文件系统。</p>
                  <p>默认情况下，插入Oracle ACFS装入注册表的Oracle ACFS文件系统会自动挂载到所有集群成员上，包括添加注册表后添加的集群成员。但是，Oracle ACFS装入注册表还适用于独立和多节点（群集节点的子集）文件系统注册。每个集群成员的挂载注册表操作仅挂载已指定在该成员上挂载的已注册文件系统。</p>
                  <p>Oracle ACFS装入注册表是使用Oracle Clusterware资源实现的，特别是Oracle ACFS资源。Oracle ACFS资源操作旨在为每个Oracle Grid Infrastructure初始化仅自动挂载一次文件系统，以避免与卸载给定文件系统的管理操作发生潜在冲突。</p>
                  <div class="infoboxnotealso" id="GUID-FD24F249-E9BB-4E63-B992-11A9868F5D7B__GUID-B1F35015-E8C4-4188-8EDE-FF410B22BDCB">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="acfs-advanced-topics.html#GUID-C249903F-8CE1-4BE1-9D7A-3B065BF5AC54">Oracle ACFS和Oracle Restart</a>有关Oracle ACFS和Oracle Restart的更多信息</p>
                        </li>
                        <li>
                           <p>有关使用<code class="codeph">acfsutil</code>命令注册Oracle ACFS文件系统的信息，请<a href="acfs-commands-utilities.html#GUID-57DE893C-37A2-4427-8CC3-76EB3196A4A6">参阅acfsutil注册表</a></p>
                        </li>
                        <li>
                           <p>有关mount注册表和Oracle ACFS资源实现的更多信息，请<a href="understand-acfs-admin.html#GUID-FF3DEAC0-F196-4ABD-A711-4A38D185B21B">参见Oracle Clusterware Resources和Oracle ACFS Administration</a></p>
                        </li>
                        <li>
                           <p><a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a>和“ <a href="../racad/administering-storage-in-oracle-rac.html#RACAD826" target="_blank"><span><cite>Oracle Real Application Clusters管理和部署指南”，</cite></span></a>以获取有关SRVCTL命令的信息，包括<code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">filesystem</code>命令</p>
                        </li>
                        <li>
                           <p>有关Oracle Clusterware资源的信息<a href="../cwadd/introduction-to-oracle-clusterware.html#CWADD1111" target="_blank"><span><cite>，请参见“Oracle Clusterware管理和部署指南”</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-484DA891-48DD-495C-8FEB-99C151705B32" name="GUID-484DA891-48DD-495C-8FEB-99C151705B32"></a><h3 id="OSTMG-GUID-484DA891-48DD-495C-8FEB-99C151705B32" class="sect3">关于集群域中的Oracle ACFS</h3>
               <div>
                  <p></p>
                  <p>除了支持具有附加本地存储的Oracle数据库成员集群之外，Oracle ACFS还为Oracle数据库成员集群上的本机Oracle ACFS功能提供Oracle ACFS远程服务，而无需连接本地存储（InDirect存储成员集群）。利用Oracle域服务集群（DSC）上的Oracle ACFS部署，Oracle ACFS远程服务可用于Oracle数据库应用程序集群和Oracle数据库成员集群，从而实现灵活的基于文件系统的应用程序和数据库部署。与基于NFS的导出不同，Oracle ACFS远程服务完全支持高级Oracle ACFS功能;例如复制，快照和标记;在目标成员集群上。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-484DA891-48DD-495C-8FEB-99C151705B32__GUID-083ED775-1925-4A80-B36E-806CFB7B787E">Oracle数据库成员集群</p>
                     <p>可以使用或不使用本地存储来配置Oracle数据库成员集群。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>具有附加本地存储的Oracle数据库成员集群</p>
                           <p>可以使用本地存储配置Oracle数据库成员集群。这些群集使用来自域服务群集的GIMR，其操作类似于独立的Oracle ASM群集。这些集群中的Oracle ACFS通过完整的Oracle ASM代理和所有传统工具正常运行。这些成员集群管理自己的存储。</p>
                        </li>
                        <li>
                           <p>没有附加本地存储的Oracle数据库成员集群</p>
                           <p>也可以配置Oracle数据库成员集群而无需连接本地存储。这些InDirect存储成员群集利用来自域服务群集（DSC）的整合存储服务。要使用Oracle ACFS文件系统和Oracle ADVM卷，Oracle数据库成员集群使用域服务集群中的Oracle ACFS远程服务。</p>
                           <p>InDirect存储成员集群提供可以运行传统数据库或其他应用程序的小型轻量级Oracle Clusterware（CRS）堆栈。此成员集群占用的内存更少，更易于配置，并且可以轻松地托管在VM中，因为没有直接的附加存储要求。InDirect Storage成员集群非常适合资源和应用程序整合。在此方案中，Oracle ACFS Remote可在域服务群集上启用完全存储和资源整合，从而实现新一代紧凑且廉价的计算资源。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-484DA891-48DD-495C-8FEB-99C151705B32__GUID-4CF9EA23-6A67-45CD-B0D6-C8E6A41A29E4">Oracle ACFS远程服务</p>
                     <p>Oracle ACFS远程服务支持在InDirect存储成员集群中使用Oracle ACFS。Oracle ACFS远程服务作为DSC的另一项服务提供。由于InDirect存储成员集群没有直接连接到Oracle数据库成员集群的存储，因此Oracle ACFS远程服务在DSC和成员集群之间提供了启用Oracle ACFS的存储快速路径，以便通过标准块传输使用Oracle ACFS。</p>
                     <p>当Oracle ACFS远程服务正在使用时，Oracle数据库成员集群可以访问所有Oracle ACFS功能，包括快照，调整大小，Oracle数据库和其他POSIX应用程序，以及ACFS NAS | MAX，标记，检查，修复，清理，安全性，加密和压缩。当应用程序在成员集群上使用Oracle ACFS远程服务导出功能时，Oracle ACFS在本地或远程使用之间不存在功能或程序上的差异。此外，所有Oracle ACFS工具和实用程序都继续正常运行。作为其默认配置的一部分，Oracle ACFS远程服务提供了高可用性的导出。如果传输或DSC节点不可用，则操作将在DSC的其他节点上继续。此延续提供了成员集群操作的完全故障转移和可用性。Oracle ACFS Remote也以类似方式处理临时传输级别中断。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-484DA891-48DD-495C-8FEB-99C151705B32__GUID-9925A166-0477-40E8-91DE-F3A92001795E">存储库，导出和传输</p>
                     <p>存储库，导出和传输是Oracle ACFS远程服务的组成部分。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>知识库</p>
                           <p>存储库是DSC上的Oracle ACFS文件系统中的目录，用作导出的主机。文件系统是标准的Oracle ACFS文件系统，可以将标准的Oracle ACFS功能应用于文件系统，包括调整大小，复制和快照。由于它是Oracle ACFS文件系统，因此存储库受到1 PB的Oracle ACFS文件系统限制。如果Oracle ACFS文件系统上所有存储库中预期的后备文件总数超过文件系统大小，则需要多个存储库。</p>
                           <p>存储库不支持Oracle ACFS文件压缩。</p>
                        </li>
                        <li>
                           <p>出口</p>
                           <p>DSC提供出口。这些导出作为后备文件启动，这些文件驻留在DSC上的Oracle ACFS远程服务存储库中。然后使用传输导出该文件，以便只有预期的成员群集节点才能使用该传输访问导出。使用<code class="codeph">advmutil</code> <code class="codeph">export</code>系列命令管理<code class="codeph">export</code> 。在Oracle ACFS远程服务正在使用文件之后，在Oracle ACFS远程服务将文件从中删除之前，无法删除该文件。
                           </p>
                        </li>
                        <li>
                           <p>运输</p>
                           <p>Oracle ACFS远程服务使用传输来提供对导出的访问。对于Oracle ASM版本18c，版本18.1，仅支持iSCSI传输。此传输使用小型传输定义文件进行配置，并由Oracle ACFS远程服务自动管理。使用<code class="codeph">advmutil</code> <code class="codeph">transport</code>系列命令管理<code class="codeph">transport</code> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-484DA891-48DD-495C-8FEB-99C151705B32__NOTE-1471-1854862C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="understand-acfs-admin.html#GUID-348D994A-196F-41C9-A675-71AA58D7CA02">群集域中的Oracle ACFS远程服务</a></p>
                           </li>
                           <li>
                              <p><a href="acfs-commands-cluster-domain.html#GUID-865D4267-5F79-4241-ADF4-2292FC34778D" title="本主题提供了在集群域中管理Oracle ACFS的命令的摘要。">集群域中用于Oracle ACFS的Oracle ACFS命令行工具</a></p>
                           </li>
                           <li>
                              <p><a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="本主题提供与Oracle ASM远程实例一起使用的ASMCMD成员集群管理命令的摘要。">ASMCMD成员群集管理命令</a></p>
                           </li>
                           <li>
                              <p><a href="manage-flex-asm.html#GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" title="Oracle Flex ASM使Oracle ASM实例能够在与数据库服务器不同的物理服务器上运行。">管理Oracle Flex ASM</a></p>
                           </li>
                           <li>
                              <p><a href="../cwadd/introduction-to-oracle-clusterware.html#CWADD-GUID-70F77528-480D-4A4A-99F9-330A447CACE3" target="_blank"><span><cite>“Oracle Clusterware管理和部署指南”</cite></span></a> ，概述了Oracle Clusterware体系结构</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG33000"></a><div class="props_rev_3"><a id="GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" name="GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C"></a><h3 id="OSTMG-GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C" class="sect3">关于Oracle ACFS快照</h3>
               <div>
                  <p>Oracle ACFS快照是Oracle ACFS文件系统的在线，只读或读写时间点副本。</p>
                  <p>快照副本节省空间并使用写时复制功能。在修改或删除Oracle ACFS文件范围之前，会将其当前值复制到快照以维护文件系统的时间点视图。</p>
                  <p>Oracle ACFS快照在创建后立即可用。快照是在<code class="codeph">.中创建的<code class="codeph">.文件系统的ACFS/snaps/</code>目录。在安装文件系统时，它们始终在线。因此，Oracle ACFS快照可以支持无意中修改或从文件系统中删除的文件的联机恢复。Oracle ACFS快照也可以用作文件系统备份的源，因为它可以根据需要创建，以提供活动文件系统的当前一致的在线视图。
                  </p>
                  <p>每个文件系统最多支持1023个只读，读写或只读和读写快照视图的组合，从而可以使用跨多个视图的灵活的在线文件恢复解决方案。在64位系统上，Oracle ACFS支持1023个快照。快照总数可以是只读和读写快照的任意组合。要支持创建63个以上的快照， <code class="codeph">ADVM</code>的磁盘组兼容性属性必须设置为<code class="codeph">12.1.0.2</code>或更高版本。此外，必须满足以下条件才能创建超过63个快照。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>必须删除使用<code class="codeph">COMPATIBLE.ADVM</code>设置为小于<code class="codeph">12.1.0.2</code>创建的文件系统的所有快照。
                        </p>
                     </li>
                     <li>
                        <p>必须删除在存在较旧快照时将<code class="codeph">COMPATIBLE.ADVM</code>设置为<code class="codeph">12.1.0.2</code>或更高版本后创建的文件系统的所有快照。
                        </p>
                     </li>
                  </ul>
                  <p></p>
                  <p>Oracle ACFS读写快照可以快速创建可以读取和写入的快照映像，而不会影响托管快照映像的Oracle ACFS文件系统的状态。您可以使用读写快照：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在生成文件数据上测试新版本的应用程序软件，反映在读写快照映像中，而无需修改原始生产文件系统</p>
                     </li>
                     <li>
                        <p>在不修改原始生产文件系统的情况下在实际数据集上运行测试方案</p>
                     </li>
                  </ul>
                  <p>要使用Oracle ACFS读写快照， <code class="codeph">ADVM</code>的磁盘组兼容性属性必须设置为<code class="codeph">11.2.0.3.0</code>或更高版本。如果从早于<code class="codeph">11.2.0.3.0</code>的版本在现有Oracle ACFS文件系统上创建读写快照，则文件系统将更新为<code class="codeph">11.2.0.3.0</code>或更高版本的格式。文件系统更新到更高版本后，Oracle ACFS文件系统无法恢复到早期版本，因此无法安装在早期的Oracle Grid Infrastructure版本上。
                  </p>
                  <p>您可以从同一Oracle ACFS文件系统中的现有快照创建快照。此外，您还可以在只读和读写格式之间转换快照。要从现有快照创建或转换快照， <code class="codeph">ADVM</code>的磁盘组兼容性属性必须设置为<code class="codeph">12.1</code>或更高。此外，如果存在以下情况，则不允许从现有快照创建：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>在<code class="codeph">ADVM</code>兼容性设置为小于12.1的情况下创建的文件系统中存在的任何快照</p>
                     </li>
                     <li>
                        <p>在<code class="codeph">ADVM</code>兼容性之后创建的文件系统的任何快照都设置为<code class="codeph">12.1</code>但存在11.2个快照</p>
                     </li>
                  </ul>
                  <p>Oracle ACFS快照存储在文件系统中维护，从而无需管理文件系统和快照的单独存储池。可以动态调整Oracle ACFS文件系统的大小，以满足其他文件和快照存储要求。</p>
                  <p>除启用或禁用安全性或加密外，您无法修改读写快照中的安全性或加密元数据。对于快照中的Oracle ACFS安全性或加密元数据，不允许进行任何其他更改。如果文件未被快照中的安全领域保护，则无法通过将活动文件系统中的相应文件添加到安全领域来保护文件。如果快照中未加密文件，则无法通过加密活动文件系统中的相应文件来加密该文件。</p>
                  <p>在读写快照中的域安全目录中创建的新文件将继承父目录的域安全属性。如果保护新文件的领域已打开加密，则使用领域中设置的加密参数对文件进行加密。如果保护新文件的域已关闭加密，则文件将被解密。无法在任何安全领域中添加或删除读写快照中的文件和目录。</p>
                  <p>如果操作目标是为读写快照的文件或目录指定的路径，则可以对读写快照中的文件进行加密，解密或重新密钥。但是，如果在文件系统级别指定了加密，解密或重定密钥操作，则该操作不会处理快照中的文件和目录<code class="codeph">.ACFS/snaps/</code>目录。
                  </p>
                  <p>所有Oracle ACFS快照操作都在内核中集群范围内进行序列化。例如，如果快照创建操作与快照删除操作同时启动，则两个操作都将完成，但它们不会在内核内并行运行。一个操作将在另一个操作开始之前完成。</p>
                  <p>可以手动调用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code>命令，以使目标文件系统或可写快照能够以最小的开销跟踪源文件系统或快照的演变。Oracle ACFS在每次应用操作后更新目标以指示其当前内容，并在开始下一个应用操作之前进行检查，以确保传入快照复制流的起始点与最后应用的流的端点匹配。任何和所有应用程序都可以写入目标，即使它正在被<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code> 。Oracle ACFS确定应用进程以外的进程对目标的任何更新，如果发生此类更新，则会使跟踪目标内容的内部元数据无效。这可以防止对目标进一步应用操作，并避免将来应用操作产生意外结果的可能性。
                  </p>
                  <p>使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code>命令可与Oracle ACFS复制操作进行交互。由<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>使用的目标文件系统不能指定用作复制的文件系统。并且无法将复制使用的文件系统指定为<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code> <code class="codeph">apply</code>的目标。
                  </p>
                  <p>要运行<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code>命令， <code class="codeph">ADVM</code>的磁盘组兼容性属性必须至少设置为<code class="codeph">12.2</code> 。
                  </p>
                  <p>其他<code class="codeph">acfsutil snap</code>命令可用于管理重复快照，并使用现有快照重新管理Oracle ADVM卷。
                  </p>
                  <p>使用<code class="codeph">acfsutil</code> <code class="codeph">snap</code>命令管理Oracle ACFS快照。
                  </p>
                  <div class="infoboxnote" id="GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C__GUID-855DE24C-B1DB-443D-8BE3-B4F3E257619D">
                     <p class="notep1">注意：</p>
                     <p>如果尝试链接或重命名Oracle ACFS文件系统中的文件和任何关联的读写快照中的文件，则<code class="codeph">link()</code>和<code class="codeph">rename(</code> ）系统调用将失败，反之亦然。任何使用<code class="codeph">link()</code>和<code class="codeph">rename()</code>系统调用的工具（如<code class="codeph">ln</code>和<code class="codeph">mv</code> ）也会在同一场景中失败。
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-5A3EF695-A795-4FEA-8BE2-AF657BD2238C__GUID-C9DC9DE9-BA81-43C7-BC2C-38FB6F303063">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="acfs-commands-snapshots.html#GUID-A1E4A4B5-CD16-4ADC-817D-4CD7D2DA12DF">acfsutil snap create</a>有关与<code class="codeph">acfsutil</code> <code class="codeph">snap</code> <code class="codeph">duplicate</code>命令一起使用的目标的其他信息</p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-8522E0B6-BE6E-4BE3-B7C7-5EA2ED4A602C" title="Oracle ACFS基于快照的复制可以将Oracle ACFS文件系统通过网络复制到远程站点，从而为文件系统提供灾难恢复功能。">有关Oracle ACFS复制</a>的信息，请参见Oracle ACFS复制</p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-41F44E7A-7547-4D04-A8E7-072C3A697867" title="Oracle ACFS安全性为Oracle ACFS文件系统提供基于域的安全性，使您能够创建域以指定用户和组的安全策略，以确定对文件系统对象的访问。">甲骨文ACFS安全</a>有关Oracle ACFS安全信息</p>
                        </li>
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5591C710-D763-4F72-BB56-A1452CA6AAB2" title="Oracle ACFS加密使您可以加密存储在磁盘上的数据（静态数据）。">有关Oracle ACFS加密</a>的信息，请参见Oracle ACFS加密</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">acfsutil</code> <code class="codeph">snap</code>命令的信息，请<code class="codeph">acfsutil</code> <a href="acfs-commands-snapshots.html#GUID-4AF8BCAD-5EF4-4CE8-9393-5E8D75B10A93" title="本主题提供了管理Oracle ACFS快照的命令摘要。">Oracle ACFS快照命令行工具</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94169"></a><div class="props_rev_3"><a id="GUID-238A0439-A764-42C7-91FE-80CF32B82ADE" name="GUID-238A0439-A764-42C7-91FE-80CF32B82ADE"></a><h3 id="OSTMG-GUID-238A0439-A764-42C7-91FE-80CF32B82ADE" class="sect3">关于Oracle ACFS和备份和还原</h3>
               <div>
                  <p>Oracle ACFS作为支持本机操作系统文件系统应用程序编程接口（API）的本机文件系统技术在操作系统平台上运行。因此，使用本机操作系统文件系统接口访问文件的备份应用程序能够访问和备份Oracle ACFS文件系统和其他本机操作系统文件系统。可以动态创建Oracle ACFS快照，并将其用于向活动文件系统提供到备份应用程序的一致的在线视图。</p>
                  <p>Oracle ACFS不支持使用标准操作系统接口（读取或写入）以外的接口的备份应用程序。例如，不支持依赖于重新分析点或Windows卷影复制服务（VSS）的Windows备份应用程序。</p>
                  <div class="infoboxnote" id="GUID-238A0439-A764-42C7-91FE-80CF32B82ADE__GUID-FBB52148-3736-4C2C-A8AD-4B43D9983A34">
                     <p class="notep1">注意：</p>
                     <p>当Oracle ACFS与Oracle Recovery Manager（RMAN）备份或还原一起使用时，应调整RMAN以提高性能，因为默认值可能不适合Oracle ACFS文件系统。例如，您可以调整RMAN参数以使缓冲区大小与卷条带宽度或Oracle ASM AU大小相匹配。此外，您可以调整缓冲区数以匹配Oracle ASM磁盘组中的设备数。</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-238A0439-A764-42C7-91FE-80CF32B82ADE__GUID-EC1FE5BD-B826-4608-A717-0C84CDB01A7B">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="understand-acfs-admin.html#GUID-5A980C0A-BE5E-4489-8A25-ED9596BF6CA2" title="Oracle ACFS标记为一组文件分配一个公共命名属性。">Oracle ACFS标记，</a>以获取有关使用常用操作系统实用程序保留标记定义的扩展属性的信息</p>
                        </li>
                        <li>
                           <p>有关备份和还原Oracle ACFS元数据的信息，请<a href="asmcmd-diskgroup-commands.html#GUID-FEA13FA9-4FB3-4C4B-B728-99AD2452888A">参阅</a> <a href="asmcmd-diskgroup-commands.html#GUID-D23C36FA-D1C8-4F82-A82A-5F3EA6E01623">md_backup</a>和<a href="asmcmd-diskgroup-commands.html#GUID-FEA13FA9-4FB3-4C4B-B728-99AD2452888A">md_restore</a></p>
                        </li>
                        <li>
                           <p><a href="https://support.oracle.com" target="_blank">My Oracle Support</a> （ <a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a> ），了解有关调整RMAN调优的文章，例如<span class="italic">使用缓冲存储器参数进行RMAN性能调整</span> （Doc ID 1072545.1）和<span class="italic">RMAN性能故障排除</span> （Doc ID 1326686.1）</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94170"></a><div class="props_rev_3"><a id="GUID-56F68282-6A2A-4305-981B-257EBC2B9D16" name="GUID-56F68282-6A2A-4305-981B-257EBC2B9D16"></a><h3 id="OSTMG-GUID-56F68282-6A2A-4305-981B-257EBC2B9D16" class="sect3">关于Oracle ACFS与Oracle ASM的集成</h3>
               <div>
                  <p>Oracle ACFS始终配置有Oracle ASM存储，并通过传统设备文件与Oracle ASM存储接口。此设备文件由Oracle ADVM提供，并使用动态卷文件构建。创建Oracle ADVM卷后，将自动创建Oracle ADVM卷设备文件。然后，在创建文件系统期间，Oracle ACFS文件系统将绑定到Oracle ADVM设备文件。</p>
                  <p>配置并装入Oracle ACFS后，文件系统将继承与Oracle ADVM卷关联的Oracle ASM存储管理功能，包括动态平衡分配，镜像和条带化以及动态调整大小。</p>
                  <p>Oracle ACFS驱动程序与Oracle ASM实例建立通信，以接收Oracle ASM状态信息，包括Oracle ASM实例和磁盘组状态转换。但是，I / O不通过Oracle ASM也不通过Oracle ASM代理，而是直接进入底层Oracle ASM存储。</p>
                  <p>有关Oracle ACFS和Oracle ASM操作的信息，请参阅<a href="understand-acfs-admin.html#GUID-F1170720-3244-4F99-ADB3-799439ADD089">Oracle ACFS和卸载或关闭操作</a> 。
                  </p>
               </div>
            </div><a id="OSTMG95481"></a><div class="props_rev_3"><a id="GUID-FAACA489-0E61-48EA-BD43-8120B1895862" name="GUID-FAACA489-0E61-48EA-BD43-8120B1895862"></a><h3 id="OSTMG-GUID-FAACA489-0E61-48EA-BD43-8120B1895862" class="sect3">关于Windows上的Oracle ACFS和外部表</h3>
               <div>
                  <p><a id="d107872e2992" class="indexterm-anchor"></a><a id="d107872e2996" class="indexterm-anchor"></a>要访问存储在Windows上的Oracle ACFS文件系统上的外部表，必须使用<code class="codeph">DISABLE_DIRECTORY_LINK_CHECK</code>访问参数创建外部表。
                  </p>
                  <div class="infoboxnotealso" id="GUID-FAACA489-0E61-48EA-BD43-8120B1895862__GUID-E00A6D7A-EA55-4B27-8E2C-EA7124C93012">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">DISABLE_DIRECTORY_LINK_CHECK</code>访问参数的信息，请<code class="codeph">DISABLE_DIRECTORY_LINK_CHECK</code> <a href="../sutil/oracle_loader-access-driver.html#SUTIL1399" target="_blank"><span><cite>Oracle数据库实用程序</cite></span></a></p>
                        </li>
                        <li>
                           <p>有关创建外部表的信息，请<a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>