<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Valgrind User Guide - Using Cachegrind</title>
		<link type="text/css" rel="stylesheet" href="../../../book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Using Cachegrind</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Using-Massif.html" title="Using Massif">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Using-Helgrind.html" title="Using Helgrind">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Using Massif</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Using Helgrind</td>
			</tr>
		</table><hr class="navigation-separator"/>
		<h1 id="Using_Cachegrind">Using Cachegrind</h1>
		<p>Cachegrind performs cache and branching profiling. A Cachegrind profile run measures the number of cache misses and branch mispredictions performed by an application. Cachegrind collects the following statistics:</p>
		<ul>
			<li>L1 instruction cache reads and misses</li>
			<li>L1 data cache reads and read misses, writes, and write misses</li>
			<li>L2 unified cache reads and read misses, writes and write misses</li>
			<li>Conditional branches and mispredicted conditional branches</li>
			<li>Indirect branches and mispredicted indirect brances</li>
		</ul>
		<p>To use Cachegrind, navigate to <u>Profiling Tools</u> &gt; <u>Profile Configurations</u> to access the 
			<b>
				<i>Profile Configurations</i>
			</b> menu. Open the 
			<b>
				<i>Valgrind Options</i>
			</b> tab and choose Cachegrind from the 
			<b>
				<i>Tool to run:</i>
			</b> drop-down list.
			<br/>
			<img border="0" src="images/SwitchCachegrind.png"/>
		</p>
		<h2 id="Analyzing_Cachegrind_Profile_Results">Analyzing Cachegrind Profile Results</h2>
		<p>The results of a Cachegrind profile run are displayed in the Valgrind view. These results show Cachegrind's cache/branch data in different levels of granularity. Double-clicking on any file, function, or line will open the corresponding source file and place the cursor on the appropriate location (if the source can be resolved).</p>
		<p>
			<br/>
			<img border="0" src="images/CachegrindOutput.png"/>
		</p>
		<h2 id="Configuring_a_Cachegrind_Profile_Run">Configuring a Cachegrind Profile Run</h2>
		<p>To configure a Massif profile run, navigate to <u>Profiling Tools</u> &gt; <u>Profile Configurations</u> to access the 
			<b>
				<i>Profile Configurations</i>
			</b> menu. In the 
			<b>
				<i>Valgrind Options</i>
			</b> tab, navigate further to 
			<b>
				<i>Cachegrind Options</i>
			</b>.
			<br/>
			<img border="0" src="images/CachegrindOptions.png"/>
		</p>
		<p>The 
			<b>
				<i>Cachegrind Options</i>
			</b> tab allows you to configure the following Cachegrind options:
		</p>
		<ul>
			<li>
				<b>
					<i>Profile Cache Accesses/Misses</i>
				</b> is identical to the Cachegrind command-line option <code>--cache-sim=</code>, which specifies whether or not to collect cache accesses and miss counts. This option is enabled by default.
			</li>
		</ul>
		<ul>
			<li>
				<b>
					<i>Profile Branch Instructions/Mispredictions</i>
				</b> is identical to the Cachegrind command-line option <code>--branch-sim=</code>, wich specifies whether or not to collect branch instruction and misprediction counts. This option is disabled by default.
			</li>
		</ul>
		<ul>
			<li>The options inside the <u>Manually Set Cache Specifications</u> box allow you to configure the size, associativity, and line size of the following caches:
				<ul>
					<li>
						<b>l1</b> (level 1 instruction) cache
					</li>
					<li>
						<b>D1</b> (level 1 data) cache
					</li>
					<li>
						<b>L2</b> (level 2) cache
					</li>
				</ul>
			</li>
		</ul>
		<p>For more information about each Cachegrind option in the Valgrind plug-in for Eclipse, refer to <code>man valgrind</code>.</p><hr class="navigation-separator"/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Using-Massif.html" title="Using Massif">
						<img alt="Previous" border="0" src="../../../images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="User-Guide.html" title="Valgrind User Guide">
						<img alt="Valgrind User Guide" border="0" src="../../../images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Using-Helgrind.html" title="Using Helgrind">
						<img alt="Next" border="0" src="../../../images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Using Massif</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Using Helgrind</td>
			</tr>
		</table>
	</body>
</html>