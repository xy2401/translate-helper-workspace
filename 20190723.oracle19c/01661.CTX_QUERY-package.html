<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CTX_QUERY Package</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96278-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CTX_OUTPUT-package.html" title="Previous" type="text/html">
      <link rel="next" href="CTX_REPORT-package.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference">
    <meta name="dcterms.isVersionOf" content="CCREF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CTX_OUTPUT-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CTX_REPORT-package.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> CTX_QUERY Package</li>
            </ol>
            <a id="GUID-D1531525-FC8D-453F-A7D9-ED19DE199E95" name="GUID-D1531525-FC8D-453F-A7D9-ED19DE199E95"></a><a id="CCREF0900"></a><a id="CCREF2138"></a>
            
            <h2 id="CCREF-GUID-D1531525-FC8D-453F-A7D9-ED19DE199E95" class="sect2"><span class="enumeration_chapter">12 </span> CTX_QUERY Package
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes the <code class="codeph">CTX_QUERY</code> PL/SQL package you can use for generating query feedback, counting hits, and creating stored query expressions.
               </p>
               <p>The <code class="codeph">CTX_QUERY</code> package includes the following procedures and functions:
               </p>
               <div class="tblformal" id="GUID-D1531525-FC8D-453F-A7D9-ED19DE199E95__GUID-C3EEE10A-18EA-475B-9C83-C2845A5E312D">
                  <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes procedures and functions included in CTX_QUERY Package." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="35%" id="d115842e79">Name</th>
                           <th align="left" valign="bottom" width="65%" id="d115842e82">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d115842e87" headers="d115842e79 ">
                              <p><a href="CTX_QUERY-package.html#GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E">BROWSE_WORDS</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d115842e87 d115842e82 ">
                              <p>Returns the words around a seed word in the index.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d115842e96" headers="d115842e79 ">
                              <p><a href="CTX_QUERY-package.html#GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF">COUNT_HITS</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d115842e96 d115842e82 ">
                              <p>Returns the number hits to a query.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d115842e105" headers="d115842e79 ">
                              <p><a href="CTX_QUERY-package.html#GUID-93206799-20F2-468C-A7E9-AF364EC011E8">EXPLAIN</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d115842e105 d115842e82 ">
                              <p>Generates query expression parse and expansion information.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d115842e114" headers="d115842e79 ">
                              <p><a href="CTX_QUERY-package.html#GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B">HFEEDBACK </a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d115842e114 d115842e82 ">
                              <p>Generates hierarchical query feedback information (broader term, narrower term, and related term). </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d115842e123" headers="d115842e79 ">
                              <p><a href="CTX_QUERY-package.html#GUID-BBA881E3-5CE7-4E95-94F0-E4116998C69A">REMOVE_SQE</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d115842e123 d115842e82 ">
                              <p>Removes a specified stored query expression from the SQL tables.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d115842e132" headers="d115842e79 ">
                              <p><a href="CTX_QUERY-package.html#GUID-EBB44B13-1648-444D-BACA-134C3EBA2058">RESULT_SET</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d115842e132 d115842e82 ">
                              <p>Executes a query and generates a result set.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d115842e141" headers="d115842e79 ">
                              <p><a href="CTX_QUERY-package.html#GUID-CA409A40-881C-464A-9645-CFE8860FF8C5" title="This procedure executes an XML query and generates a result set based on a CLOB query parameter in XML">RESULT_SET_CLOB_QUERY</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d115842e141 d115842e82 ">
                              <p>Executes a query and generates a result set based on a <code class="codeph">CLOB</code> query parameter.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d115842e159" headers="d115842e79 ">
                              <p><a href="CTX_QUERY-package.html#GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2">RESULT_SET_DOCUMENT</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d115842e159 d115842e82 ">
                              <p>Holds the result set document after the CONTAINS query cursor is explicitly closed and if the query template has the &lt;ctx_result_set_descriptor&gt; element.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="35%" id="d115842e168" headers="d115842e79 ">
                              <p><a href="CTX_QUERY-package.html#GUID-C966324F-9B3C-4770-9C98-30CE5A678051">STORE_SQE</a></p>
                           </td>
                           <td align="left" valign="top" width="65%" headers="d115842e168 d115842e82 ">
                              <p>Executes a query and stores the results in stored query expression tables.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="infoboxnote" id="GUID-D1531525-FC8D-453F-A7D9-ED19DE199E95__GUID-366795A9-379B-4B42-ABC0-02C918588697">
                  <p class="notep1">Note:</p>
                  <p>You can use this package only when your index type is <code class="codeph">CONTEXT</code>. This package does not support the <code class="codeph">CTXCAT</code> index type.
                  </p>
                  <p>The APIs in the <code class="codeph">CTX_QUERY</code> package do not support identifiers that are prefixed with the schema or the owner name.
                  </p>
               </div>
            </div><a id="CCREF23930"></a><a id="CCREF23931"></a><a id="CCREF0902"></a><div class="props_rev_3"><a id="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E" name="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E"></a><h3 id="CCREF-GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E" class="sect3"><span class="enumeration_section">12.1 </span>BROWSE_WORDS
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d115842e256" class="indexterm-anchor"></a><a id="d115842e258" class="indexterm-anchor"></a><a id="d115842e262" class="indexterm-anchor"></a>This procedure enables you to browse words in an Oracle Text index. Specify a seed word and <code class="codeph">BROWSE_WORDS</code> returns the words around it in the index, and an approximate count of the number of documents that contain each word.
                     </p>
                     <p>This feature is useful for refining queries. You can identify the following words:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Unselective words (words that have low document count) </p>
                        </li>
                        <li>
                           <p>Misspelled words in the document set</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-4B2D092B-04F7-4291-8553-84D0F1A8732E">Syntax 1: To Store Results in Table</p><pre class="oac_no_warn" dir="ltr">ctx_query.browse_words( </pre><pre class="oac_no_warn" dir="ltr">index_name  IN   VARCHAR2, 
seed        IN   VARCHAR2, 
restab      IN   VARCHAR2, 
browse_id   IN   NUMBER   DEFAULT 0, 
numwords    IN   NUMBER   DEFAULT 10, 
direction   IN   VARCHAR2 DEFAULT BROWSE_AROUND,
part_name   IN   VARCHAR2 DEFAULT NULL</pre><pre class="oac_no_warn" dir="ltr">); </pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-16DA4774-5A3E-4548-A27E-E872B2E38EB1">Syntax 2: To Store Results in Memory</p><pre class="oac_no_warn" dir="ltr">ctx_query.browse_words( </pre><pre class="oac_no_warn" dir="ltr">index_name  IN      VARCHAR2, 
seed        IN      VARCHAR2, 
resarr      IN OUT  BROWSE_TAB, 
numwords    IN      NUMBER   DEFAULT 10, 
direction   IN      VARCHAR2 DEFAULT BROWSE_AROUND,
part_name   IN      VARCHAR2 DEFAULT NULL </pre><pre class="oac_no_warn" dir="ltr">); </pre><dl>
                        <dt class="dlterm"><a name="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-3981CA15-34FA-474D-8E30-59582FCE126F">
                              <!-- --></a>index
                        </dt>
                        <dd>
                           <p>Specify the name of the index. You can specify <code class="codeph">schema.name</code>. Must be a local index.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-767EE268-BFB9-4278-A323-04A095D17467">
                              <!-- --></a>seed
                        </dt>
                        <dd>
                           <p>Specify the seed word. This word is lexed before browse expansion. The word need not exist in the token table. <tt>seed</tt> must be a single word. Using multiple words as the seed will result in an error.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-4F331D5F-02C2-45C7-9A5B-BAA4D81CC884">
                              <!-- --></a>restab
                        </dt>
                        <dd>
                           <p>Specify the name of the result table. You can enter <tt>restab</tt> as <code class="codeph">schema.name</code>. The table must exist before you call this procedure, and you must have <code class="codeph">INSERT</code> permissions on the table. This table must have the following schema.
                           </p>
                           <div class="tblformal" id="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-04A5F31A-ECB1-417C-AA15-7C4074CDC403">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes result table." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="50%" id="d115842e337">Column</th>
                                       <th align="left" valign="bottom" width="50%" id="d115842e340">Datatype</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="50%" id="d115842e345" headers="d115842e337 ">
                                          <p>browse_id</p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d115842e345 d115842e340 ">
                                          <p>number</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="50%" id="d115842e352" headers="d115842e337 ">
                                          <p>word</p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d115842e352 d115842e340 ">
                                          <p>varchar2(64)</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="50%" id="d115842e359" headers="d115842e337 ">
                                          <p>doc_count</p>
                                       </td>
                                       <td align="left" valign="top" width="50%" headers="d115842e359 d115842e340 ">
                                          <p>number</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>Existing rows in <tt>restab</tt> are not deleted before <code class="codeph">BROWSE_WORDS</code> is called.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-755596F0-3CC8-405E-B8D6-FD742F932E13">
                              <!-- --></a>resarr
                        </dt>
                        <dd>
                           <p>Specify the name of the result array. <code class="codeph">resarr</code> is of type <code class="codeph">ctx_query.browse_tab</code>.
                           </p><pre class="oac_no_warn" dir="ltr">type browse_rec is record (
   word varchar2(64),
   doc_count number
);
type browse_tab is table of browse_rec index by binary_integer;</pre></dd>
                        <dt class="dlterm"><a name="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-F15E9153-F8E6-48A4-850C-272B0A8590E1">
                              <!-- --></a>browse_id
                        </dt>
                        <dd>
                           <p>Specify a numeric identifier between 0 and 2<sup>32</sup>. The rows produced for this browse have a value of in the <code class="codeph">browse_id</code> column in <code class="codeph">restab</code>. When you do not specify <code class="codeph">browse_id</code>, the default is 0.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-56AA0E92-5DA6-43A1-AC9D-1C0431CAD6FB">
                              <!-- --></a>numwords
                        </dt>
                        <dd>
                           <p>Specify the number of words returned.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-6B6D00E7-C221-4EB1-B429-6BB4EFC9D387">
                              <!-- --></a>direction 
                        </dt>
                        <dd>
                           <p>Specify the direction for the browse. You can specify one of:</p>
                           <div class="tblformal" id="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-1195F840-931C-45DA-A590-40DB3B0ECEC9">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes direction for the browse." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="21%" id="d115842e425">value</th>
                                       <th align="left" valign="bottom" width="79%" id="d115842e428">behavior</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="21%" id="d115842e433" headers="d115842e425 ">
                                          <p><code class="codeph">BEFORE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="79%" headers="d115842e433 d115842e428 ">
                                          <p>Browse seed word and words alphabetically before the seed.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="21%" id="d115842e441" headers="d115842e425 ">
                                          <p><code class="codeph">AROUND</code></p>
                                       </td>
                                       <td align="left" valign="top" width="79%" headers="d115842e441 d115842e428 ">
                                          <p>Browse seed word and words alphabetically before and after the seed.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="21%" id="d115842e449" headers="d115842e425 ">
                                          <p><code class="codeph">AFTER</code></p>
                                       </td>
                                       <td align="left" valign="top" width="79%" headers="d115842e449 d115842e428 ">
                                          <p>Browse seed word and words alphabetically after the seed.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>Symbols <code class="codeph">CTX_QUERY.BROWSE_BEFORE</code>, <code class="codeph">CTX_QUERY.BROWSE_AROUND</code>, and <code class="codeph">CTX_QUERY.BROWSE_AFTER</code> are defined for these literal values as well.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-CBAC941A-97AB-4082-B542-ADA58A536E6B">
                              <!-- --></a>part_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index partition to browse.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED57DD4C-3990-4CA4-B06B-25DDBB40926E__GUID-C7AAD67B-3893-46E8-846D-D8FE2EA211EC">Example</p>
                     <p>Browsing Words with Result Table</p><pre class="oac_no_warn" dir="ltr">begin
ctx_query.browse_words('myindex','dog','myres',numwords=&gt;5,direction=&gt;'AROUND');
end;

select word, doc_count from myres order by word;

WORD       DOC_COUNT
--------   ----------
CZAR       15
DARLING    5
DOC        73
DUNK       100
EAR        3</pre><p>Browsing Words with Result Array</p><pre class="oac_no_warn" dir="ltr">set serveroutput on;
declare
  resarr ctx_query.browse_tab;
begin
ctx_query.browse_words('myindex','dog',resarr,5,CTX_QUERY.BROWSE_AROUND);
for i in 1..resarr.count loop
  dbms_output.put_line(resarr(i).word || ':' || resarr(i).doc_count);
end loop;
end;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23932"></a><a id="CCREF23933"></a><a id="CCREF0904"></a><div class="props_rev_3"><a id="GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF" name="GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF"></a><h3 id="CCREF-GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF" class="sect3"><span class="enumeration_section">12.2 </span>COUNT_HITS
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the number of hits for the specified query. You can call <code class="codeph">COUNT_HITS</code> in exact or estimate mode. Exact mode returns the exact number of hits for the query. Estimate mode returns an upper-bound estimate but runs faster than exact mode.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF__GUID-8536EC7F-523C-4BE9-9119-129DCA8D509D">Syntax</p>
                     <p>Syntax 1</p><pre class="oac_no_warn" dir="ltr">exec CTX_QUERY.COUNT_HITS( 
    index_name  IN VARCHAR2, 
    text_query  IN VARCHAR2, 
    exact       IN BOOLEAN  DEFAULT TRUE,
    part_name   IN VARCHAR2 DEFAULT NULL
) RETURN NUMBER; </pre><p>Syntax 2</p><pre class="oac_no_warn" dir="ltr">exec CTX_QUERY.COUNT_HITS_CLOB_QUERY(
    index_name  IN VARCHAR2,
    text_query  IN CLOB,
    exact       IN BOOLEAN DEFAULT TRUE,
    part_name   IN VARCHAR2 DEFAULT NULL
) RETURN NUMBER; </pre><dl>
                        <dt class="dlterm"><a name="GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF__GUID-9088885D-F8AD-449C-942D-2E7E4ED873EE">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the index name. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF__GUID-096C3849-F1D1-4BED-99F2-2E7146FAC6A3">
                              <!-- --></a>text_query
                        </dt>
                        <dd>
                           <p>Specify the query.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF__GUID-9623A3D6-16F5-4335-894E-D333902AA465">
                              <!-- --></a>exact
                        </dt>
                        <dd>
                           <p>Specify <code class="codeph">TRUE</code> for an exact count. Specify <code class="codeph">FALSE</code> for an upper-bound estimate. 
                           </p>
                           <p>Specifying <code class="codeph">FALSE</code> returns a less accurate number but runs faster. Specifying <code class="codeph">FALSE</code> might return a number which is too high if rows have been updated or deleted since the last <code class="codeph">FULL</code> index optimize. Optimizing in full mode removes these false hits, and then <code class="codeph">EXACT</code> set to <code class="codeph">FALSE</code> will return the same number as <code class="codeph">EXACT</code> set to <code class="codeph">TRUE</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF__GUID-8862D7CB-4EED-4F67-83FD-F7346EB8DF84">
                              <!-- --></a>part_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index partition to query.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E7FF0A48-E048-4187-A68D-17BD8387F3CF__GUID-B54DD8FF-1BAD-4880-B823-992462426AF0">Notes</p>
                     <p>If the query contains structured criteria, then you should use <code class="codeph">SELECT COUNT(*)</code>. 
                     </p>
                     <p>If the index was created with the <a id="d115842e630" class="indexterm-anchor"></a><a id="d115842e634" class="indexterm-anchor"></a><a id="d115842e636" class="indexterm-anchor"></a><code class="codeph">TRANSACTIONAL</code> parameter, then <code class="codeph">COUNT_HITS</code> will include pending rowids as well as those that have been synchronized.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23934"></a><a id="CCREF23935"></a><a id="CCREF23936"></a><a id="CCREF23937"></a><a id="CCREF23938"></a><a id="CCREF0906"></a><div class="props_rev_3"><a id="GUID-93206799-20F2-468C-A7E9-AF364EC011E8" name="GUID-93206799-20F2-468C-A7E9-AF364EC011E8"></a><h3 id="CCREF-GUID-93206799-20F2-468C-A7E9-AF364EC011E8" class="sect3"><span class="enumeration_section">12.3 </span>EXPLAIN
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d115842e716" class="indexterm-anchor"></a><a id="d115842e718" class="indexterm-anchor"></a><a id="d115842e722" class="indexterm-anchor"></a><a id="d115842e726" class="indexterm-anchor"></a><a id="d115842e730" class="indexterm-anchor"></a><a id="d115842e734" class="indexterm-anchor"></a><a id="d115842e738" class="indexterm-anchor"></a><a id="d115842e742" class="indexterm-anchor"></a><a id="d115842e746" class="indexterm-anchor"></a>Use <code class="codeph">CTX_QUERY.EXPLAIN</code> to generate explain plan information for a query expression. The <code class="codeph">EXPLAIN</code> plan provides a graphical representation of the parse tree for a Text query expression. This information is stored in a result table.
                     </p>
                     <p>This procedure does <span class="italic">not</span> execute the query. Instead, this procedure can tell you how a query is expanded and parsed before you enter the query. This is especially useful for stem, wildcard, thesaurus, fuzzy, soundex, or about queries. Parse trees also show the following information:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Order of execution (precedence of operators)<a id="d115842e767" class="indexterm-anchor"></a><a id="d115842e771" class="indexterm-anchor"></a></p>
                        </li>
                        <li>
                           <p><code class="codeph">ABOUT</code> query normalization
                           </p>
                        </li>
                        <li>
                           <p>Query expression optimization</p>
                        </li>
                        <li>
                           <p>Stop-word transformations</p>
                        </li>
                        <li>
                           <p>Breakdown of composite-word tokens</p>
                        </li>
                     </ul>
                     <p>Knowing how Oracle Text evaluates a query is useful for refining and debugging queries. You can also design your application so that it uses the explain plan information to help users write better queries.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-1F2B716B-884D-4E8D-A0B7-76F1CCEA951F">Syntax</p>
                     <p>Syntax 1</p><pre class="oac_no_warn" dir="ltr">exec CTX_QUERY.EXPLAIN(</pre><pre class="oac_no_warn" dir="ltr">    index_name     IN VARCHAR2,
    text_query     IN VARCHAR2,
    explain_table  IN VARCHAR2,
    sharelevel     IN NUMBER DEFAULT 0,
    explain_id     IN VARCHAR2 DEFAULT NULL,
    part_name      IN VARCHAR2 DEFAULT NULL</pre><pre class="oac_no_warn" dir="ltr">);</pre><p>Syntax 2</p><pre class="oac_no_warn" dir="ltr">exec CTX_QUERY.EXPLAIN_CLOB_QUERY(
    index_name     IN VARCHAR2,
    text_query     IN CLOB,
    explain_table  IN VARCHAR2,
    sharelevel     IN NUMBER DEFAULT 0,
    explain_id     IN VARCHAR2 DEFAULT NULL,
    part_name      IN VARCHAR2 DEFAULT NULL
);</pre><dl>
                        <dt class="dlterm"><a name="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-21FF4880-919D-4C50-824D-8DFB2CAD7056">
                              <!-- --></a>index_name 
                        </dt>
                        <dd>
                           <p>Specify the name of the index to be queried.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-A5E9B005-EFD9-4703-A32D-3D1B7AF64CC8">
                              <!-- --></a>text_query 
                        </dt>
                        <dd>
                           <p>Specify the query expression to be used as criteria for selecting rows.</p>
                           <p>When you include a wildcard, fuzzy, or soundex operator in <code class="codeph">text_query</code>, this procedure looks at the index tables to determine the expansion. 
                           </p>
                           <p>Wildcard, fuzzy (?), and soundex (!) expression feedback does not account for lazy deletes as in regular queries.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-1F1C346B-A4ED-4ED4-86C9-934BB502553F">
                              <!-- --></a>explain_table
                        </dt>
                        <dd>
                           <p>Specify the name of the table used to store representation of the parse tree for <span class="italic">text_query</span>. You must have at least <code class="codeph">INSERT</code> and <code class="codeph">DELETE</code> privileges on the table used to store the results from <code class="codeph">EXPLAIN</code>.
                           </p>
                           <div class="infoboxnotealso" id="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-17D1D98E-6F8B-482F-BE9C-94EDA5D9D82D">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="oracle-text-result-tables.html#GUID-DB547ACB-B4C7-44DD-B642-E693DB66B101">EXPLAIN Table</a>"</span> in <a href="oracle-text-result-tables.html#GUID-FF9744A0-D81C-45B1-8289-B42DC4211F75"> Oracle Text Result Tables</a> for more information about the structure of the explain table.
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-D840A8D0-A5DB-4C22-BE71-E67108994ADC">
                              <!-- --></a>sharelevel
                        </dt>
                        <dd>
                           <p>Specify whether <code class="codeph">explain_table</code> is shared by multiple <code class="codeph">EXPLAIN</code> calls. Specify 0 for exclusive use and 1 for shared use. Default is 0 (single-use).
                           </p>
                           <p>When you specify 0, the system automatically truncates the result table before the next call to <code class="codeph">EXPLAIN</code>.
                           </p>
                           <p>When you specify 1 for shared use, this procedure does not truncate the result table. Only results with the same <code class="codeph">explain_id</code> are updated. When no results with the same <code class="codeph">explain_id</code> exist, new results are added to the <code class="codeph">EXPLAIN</code> table.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-4B1D60B7-FB4D-43E1-871D-142DD79BDB3F">
                              <!-- --></a>explain_id
                        </dt>
                        <dd>
                           <p>Specify a name that identifies the explain results returned by an <code class="codeph">EXPLAIN</code> procedure when more than one <code class="codeph">EXPLAIN</code> call uses the same shared <code class="codeph">EXPLAIN</code> table. Default is <code class="codeph">NULL</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-2003F51E-8A85-4322-BCF6-DC23B163FFCB">
                              <!-- --></a>part_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index partition to query. </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-21EB95B7-5EEC-4357-9D59-10927D6DDEF7">Example</p>
                     <p>Creating the Explain Table <a id="d115842e912" class="indexterm-anchor"></a></p>
                     <p>To create an explain table called <code class="codeph">test_explain</code> for example, use the following SQL statement:
                     </p><pre class="oac_no_warn" dir="ltr">create table test_explain(
         explain_id varchar2(30),
         id number,
         parent_id number,
         operation varchar2(30),
         options varchar2(30),
         object_name varchar2(255),
         position number,
         cardinality number);</pre><p>Running CTX_QUERY.EXPLAIN<a id="d115842e925" class="indexterm-anchor"></a></p>
                     <p>To obtain the expansion of a query expression such as <span class="italic">comp% OR ?smith</span>, use <code class="codeph">CTX_QUERY.EXPLAIN</code> as follows:
                     </p><pre class="oac_no_warn" dir="ltr">ctx_query.explain(
         index_name =&gt; 'newindex',
         text_query =&gt; 'comp% OR ?smith',
         explain_table =&gt; 'test_explain',
         sharelevel =&gt; 0,
         explain_id =&gt; 'Test');</pre><p>Retrieving Data from Explain <a id="d115842e941" class="indexterm-anchor"></a>Table
                     </p>
                     <p>To read the explain table, you can select the columns as follows:</p><pre class="oac_no_warn" dir="ltr">select explain_id, id, parent_id, operation, options, object_name, position
from test_explain order by id;
</pre><p>The output is ordered by ID to simulate a hierarchical query:</p><pre class="oac_no_warn" dir="ltr">EXPLAIN_ID    ID PARENT_ID OPERATION    OPTIONS OBJECT_NAME POSITION 
----------- ---- --------- ------------ ------- ----------- -------- 
Test           1         0 OR           NULL    NULL          1 
Test           2         1 EQUIVALENCE  NULL    COMP%         1
Test           3         2 WORD         NULL    COMPTROLLER   1 
Test           4         2 WORD         NULL    COMPUTER      2 
Test           5         1 EQUIVALENCE  (?)     SMITH         2 
Test           6         5 WORD         NULL    SMITH         1 
Test           7         5 WORD         NULL    SMYTHE        2 </pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-BB977357-16FD-4A3D-AF37-CE4F50AF1B2D">Restrictions</p>
                     <p><code class="codeph">CTX_QUERY.EXPLAIN</code> does not support the use of query templates.
                     </p>
                     <p>You cannot use <code class="codeph">CTX_QUERY.EXPLAIN</code> with remote queries. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93206799-20F2-468C-A7E9-AF364EC011E8__GUID-3569808D-5461-499B-B9EC-DE573030BEC2">Related Topics</p>
                     <p><a href="oracle-text-CONTAINS-query-operators.html#GUID-6410B783-FC9A-4C99-B3AF-9E0349AA43D1" title="Use the NEAR2 operator to perform position&#x2013;based scoring and length normalization to help improve relevancy."> Oracle Text CONTAINS Query Operators </a></p>
                     <p><a href="stopword-transformations-in-oracle-text.html#GUID-E99976BC-6C0A-4B71-B56B-43E6BBF2865F"> Stopword Transformations in Oracle Text</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23939"></a><a id="CCREF23940"></a><a id="CCREF23941"></a><a id="CCREF23942"></a><a id="CCREF23943"></a><a id="CCREF0908"></a><div class="props_rev_3"><a id="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B" name="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B"></a><h3 id="CCREF-GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B" class="sect3"><span class="enumeration_section">12.4 </span>HFEEDBACK 
               </h3>
               <div>
                  <div class="section">
                     <p>In English or French, this procedure generates hierarchical query feedback information (broader term, narrower term, and related term) for the specified query. </p>
                     <p>Broader term, narrower term, and related term information is obtained from the knowledge base. However, only knowledge base terms that are also in the index are returned as query feedback information. This increases the chances that terms returned from <code class="codeph">HFEEDBACK</code> produce hits over the currently indexed document set.
                     </p>
                     <p>Hierarchical query feedback information is useful for suggesting other query terms to the user.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-100AB2BD-483D-4023-9BA8-CAD9558BE9C0">Syntax</p>
                     <p>Syntax 1</p><pre class="oac_no_warn" dir="ltr">exec CTX_QUERY.HFEEDBACK(
           index_name     IN VARCHAR2,
           text_query     IN VARCHAR2,
           feedback_table IN VARCHAR2,
           sharelevel     IN NUMBER DEFAULT 0,
           feedback_id    IN VARCHAR2 DEFAULT NULL,
           part_name      IN VARCHAR2 DEFAULT NULL
);</pre><p>Syntax 2</p><pre class="oac_no_warn" dir="ltr">exec CTX_QUERY.HFEEDBACK_CLOB_QUERY(
           index_name     IN VARCHAR2,
           text_query     IN CLOB,
           feedback_table IN VARCHAR2,
           sharelevel     IN NUMBER DEFAULT 0,
           feedback_id    IN VARCHAR2 DEFAULT NULL,
           part_name      IN VARCHAR2 DEFAULT NULL
);</pre><dl>
                        <dt class="dlterm"><a name="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-0F18BCDB-28A2-4CEF-B736-F49FD02EEC2C">
                              <!-- --></a>index_name 
                        </dt>
                        <dd>
                           <p>Specify the name of the index for the text column to be queried.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-351395DF-C382-4666-A1F9-8FFE5C82E8B1">
                              <!-- --></a>text_query 
                        </dt>
                        <dd>
                           <p>Specify the query expression to be used as criteria for selecting rows.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-36B62F2C-9CC3-4147-BE8A-67E78D9E7D0B">
                              <!-- --></a>feedback_table
                        </dt>
                        <dd>
                           <p>Specify the name of the table used to store the<span class="italic"> </span>feedback terms.
                           </p>
                           <div class="infoboxnotealso" id="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-1CA545DC-6FC4-4432-A55E-A0E0DE78A76F">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="oracle-text-result-tables.html#GUID-9ECCF6AE-DC02-48DF-AE85-3237B3CC3078">HFEEDBACK Table</a>"</span> in <a href="oracle-text-result-tables.html#GUID-FF9744A0-D81C-45B1-8289-B42DC4211F75"> Oracle Text Result Tables</a> for more information about the structure of the explain table.
                              </p>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-24D9F2B0-F098-4269-8F76-743614354F20">
                              <!-- --></a>sharelevel
                        </dt>
                        <dd>
                           <p>Specify whether <code class="codeph">feedback_table</code> is shared by multiple <code class="codeph">HFEEDBACK</code> calls. Specify 0 for exclusive use and 1 for shared use. Default is 0 (single-use).
                           </p>
                           <p>When you specify 0, the system automatically truncates the feedback table before the next call to <code class="codeph">HFEEDBACK</code>.
                           </p>
                           <p>When you specify 1 for shared use, this procedure does not truncate the feedback table. Only results with the same <code class="codeph">feedback_id</code> are updated. When no results with the same <tt>feedback_id</tt> exist, new results are added to the feedback table.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-109137CC-D048-41FA-AB71-7051E751EAC9">
                              <!-- --></a>feedback_id
                        </dt>
                        <dd>
                           <p>Specify a value that identifies the feedback results returned by a call to <code class="codeph">HFEEDBACK</code> when more than one <code class="codeph">HFEEDBACK</code> call uses the same shared feedback table. Default is <code class="codeph">NULL</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-62725A79-685C-4359-B115-104D731D9CBB">
                              <!-- --></a>part_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index partition to query.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-16F741B3-436F-47B7-A25C-C6009E4E9529">Example</p>
                     <p>Create HFEEDBACK Result Table <a id="d115842e1175" class="indexterm-anchor"></a></p>
                     <p>Create a result table to use with <code class="codeph">CTX_QUERY.HFEEDBACK </code>as follows: 
                     </p><pre class="oac_no_warn" dir="ltr">  CREATE TABLE restab ( 
    feedback_id VARCHAR2(30), 
    id          NUMBER, 
    parent_id   NUMBER, 
    operation   VARCHAR2(30), 
    options     VARCHAR2(30), 
    object_name VARCHAR2(80), 
    position    NUMBER, 
    bt_feedback ctxsys.ctx_feedback_type, 
    rt_feedback ctxsys.ctx_feedback_type, 
    nt_feedback ctxsys.ctx_feedback_type, 
    NESTED TABLE bt_feedback STORE AS res_bt, 
    NESTED TABLE rt_feedback STORE AS res_rt, 
    NESTED TABLE nt_feedback STORE AS res_nt
 ; 
 </pre><p><a href="oracle-text-result-tables.html#GUID-DDD28FB2-A0E7-4E24-A8F9-5D0F7BE8AFD6">CTX_FEEDBACK_TYPE </a> is<a id="d115842e1191" class="indexterm-anchor"></a> a system-defined type in the <code class="codeph">CTXSYS</code> schema.
                     </p>
                     <div class="infoboxnotealso" id="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-8D5222DC-E1AA-454C-9E82-45306A3E379E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="oracle-text-result-tables.html#GUID-9ECCF6AE-DC02-48DF-AE85-3237B3CC3078">HFEEDBACK Table</a>"</span> in <a href="oracle-text-result-tables.html#GUID-FF9744A0-D81C-45B1-8289-B42DC4211F75"> Oracle Text Result Tables</a> for more information about the structure of the <code class="codeph">HFEEDBACK</code> table.
                        </p>
                     </div>
                     <p>Call CTX_QUERY.HFEEDBACK</p>
                     <p>The following code calls the <code class="codeph">HFEEDBACK</code> procedure with the query <span class="italic">computer industry</span>. 
                     </p><pre class="oac_no_warn" dir="ltr">BEGIN 
ctx_query.hfeedback (index_name     =&gt; 'my_index', 
                     text_query     =&gt; 'computer industry', 
                     feedback_table =&gt; 'restab', 
                     sharelevel     =&gt; 0, 
                     feedback_id    =&gt; 'query10' 
                    ); 
END; </pre><p>Select From the Result Table </p>
                     <p>The following code extracts the feedback data from the result table. It extracts broader term, narrower term, and related term feedback separately from the nested tables.</p><pre class="oac_no_warn" dir="ltr">DECLARE 
  i NUMBER; 
BEGIN 
  FOR frec IN ( 
    SELECT object_name, bt_feedback, rt_feedback, nt_feedback  
    FROM restab 
    WHERE feedback_id = 'query10' AND object_name IS NOT NULL 
  ) LOOP 
 
    dbms_output.put_line('Broader term feedback for ' || frec.object_name || 
':'); 
    i := frec.bt_feedback.FIRST; 
    WHILE i IS NOT NULL LOOP 
      dbms_output.put_line(frec.bt_feedback(i).text); 
      i := frec.bt_feedback.NEXT(i); 
    END LOOP; 
 
    dbms_output.put_line('Related term feedback for ' || frec.object_name || 
':'); 
    i := frec.rt_feedback.FIRST; 
    WHILE i IS NOT NULL LOOP 
      dbms_output.put_line(frec.rt_feedback(i).text); 
      i := frec.rt_feedback.NEXT(i); 
    END LOOP; 
 
    dbms_output.put_line('Narrower term feedback for ' || frec.object_name || 
':'); 
    i := frec.nt_feedback.FIRST; 
    WHILE i IS NOT NULL LOOP 
      dbms_output.put_line(frec.nt_feedback(i).text); 
      i := frec.nt_feedback.NEXT(i); 
    END LOOP; 
 
  END LOOP; 
END;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-2B219BFB-9B89-448E-B106-D2C752CCCB9E">Sample Output</p>
                     <p>The following output is for the preceding example, which queries on <span class="italic">computer industry</span>: 
                     </p><pre class="oac_no_warn" dir="ltr">Broader term feedback for computer industry: 
hard sciences 
Related term feedback for computer industry: 
computer networking 
electronics 
knowledge 
library science 
mathematics 
optical technology 
robotics 
satellite technology 
semiconductors and superconductors 
symbolic logic 
telecommunications industry 
Narrower term feedback for computer industry: 
ABEND - abnormal end of task 
AT&amp;T Starlans 
ATI Technologies, Incorporated 
ActivCard 
Actrade International Ltd. 
Alta Technology 
Amiga Format 
Amiga Library Services 
Amiga Shopper 
Amstrat Action 
Apple Computer, Incorporated
..</pre><div class="infoboxnote" id="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-494C6B70-3F68-493A-B6BD-6FC0E6EE813F">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">HFEEDBACK</code> information you obtain depends on the contents of your index and knowledge base and as such might differ from the sample shown.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0CB5C465-1319-4AFE-B76C-2B99C522851B__GUID-929C9E4D-29E3-4F71-A9B5-07CC89C17D0B">Restrictions</p>
                     <p><code class="codeph">CTX_QUERY.HFEEDBACK</code> does not support the use of query templates.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23944"></a><div class="props_rev_3"><a id="GUID-BBA881E3-5CE7-4E95-94F0-E4116998C69A" name="GUID-BBA881E3-5CE7-4E95-94F0-E4116998C69A"></a><h3 id="CCREF-GUID-BBA881E3-5CE7-4E95-94F0-E4116998C69A" class="sect3"><span class="enumeration_section">12.5 </span>REMOVE_SQE
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d115842e1317" class="indexterm-anchor"></a><a id="d115842e1321" class="indexterm-anchor"></a><a id="d115842e1323" class="indexterm-anchor"></a>The <code class="codeph">CTX_QUERY.REMOVE_SQE</code> procedure removes the specified stored query expression.
                     </p>
                     <p><code class="codeph">CTX_QUERY.REMOVE_SQE</code> can be used to remove both session-duration and persistent SQEs. See <span class="q">"<a href="CTX_QUERY-package.html#GUID-C966324F-9B3C-4770-9C98-30CE5A678051">STORE_SQE</a>"</span>.
                     </p>
                     <p>Since the <code class="codeph">query_name</code> namespace is shared between the persistent and session-duration SQEs, it is unnecessary to specify the duration of the SQE to be removed.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BBA881E3-5CE7-4E95-94F0-E4116998C69A__GUID-D87F21FA-7F58-48D9-B1CB-184098E49593">Syntax</p><pre class="oac_no_warn" dir="ltr">CTX_QUERY.REMOVE_SQE(
          query_name IN VARCHAR2
);</pre><dl>
                        <dt class="dlterm"><a name="GUID-BBA881E3-5CE7-4E95-94F0-E4116998C69A__GUID-3C1E2721-68DA-46FF-ADC0-AD07484BE07C">
                              <!-- --></a>query_name
                        </dt>
                        <dd>
                           <p>Specify the name of the stored or session-duration query expression to be removed.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BBA881E3-5CE7-4E95-94F0-E4116998C69A__GUID-06431179-33DC-4B9D-A353-94BCD0843CC7">Example</p><pre class="oac_no_warn" dir="ltr">begin
  ctx_query.remove_sqe('dis1');
  ctx_query.remove_sqe('dis2');
end;
/</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24104"></a><div class="props_rev_3"><a id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058" name="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058"></a><h3 id="CCREF-GUID-EBB44B13-1648-444D-BACA-134C3EBA2058" class="sect3"><span class="enumeration_section">12.6 </span>RESULT_SET
               </h3>
               <div>
                  <div class="section">
                     <p>This procedure executes an XML query and generates a result set in XML. The Result Set Interface can<a id="d115842e1428" class="indexterm-anchor"></a><a id="d115842e1430" class="indexterm-anchor"></a> return data views that are difficult to express in SQL.
                     </p>
                     <div class="infoboxnotealso" id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-32C760EB-7330-4012-B495-F508786461B3">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ccapp/using-XML-query-result-set-interface.html#CCAPP9537" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> for details on how to use the Result Set Interface
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-27557864-9794-4587-B703-16A142281719">Syntax</p><pre class="oac_no_warn" dir="ltr">CTX_QUERY.RESULT_SET (
   starttag              IN VARCHAR2 DEFAULT '&lt;b&gt;',
   endtag                IN VARCHAR2 DEFAULT '&lt;/b&gt;',
   radius                IN INTEGER DEFAULT 25,
   max_length            IN INTEGER DEFAULT 250   
   part_name             IN VARCHAR2 DEFAULT NULL
);</pre><dl>
                        <dt class="dlterm"><a name="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-2C2EE0B8-0753-4981-B7CE-6A066D1795BC">
                              <!-- --></a>starttag
                        </dt>
                        <dd>
                           <p>Specify the start tag for marking up the query keywords. Default is <span class="italic">'&lt;b&gt;’</span>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-BB17C0A9-F959-4829-9F4B-9972018FB3ED">
                              <!-- --></a>endtag
                        </dt>
                        <dd>
                           <p>Specify the end tag for marking up the query keywords. Default is <span class="italic">'&lt;/b&gt;’</span>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-F0D79E52-26D8-4A27-97D5-433FB6D03368">
                              <!-- --></a>radius
                        </dt>
                        <dd>
                           <p>Specify the number of characters to be shown on either side of the hit query in a segment. The character count before the hit query begins on the first character of the first hit query displayed in a segment. Accordingly, the character count after the hit query begins on the last character of the last hit query displayed on a specific segment. Two segments are merged into one if their radii overlap. The displayed number of characters on each side may be modified by <code class="codeph">+/-10</code> characters to best match the beginning or ending of a sentence or word.
                           </p>
                           <p>Special attention is required for the value <code class="codeph">0</code>. When specified, the radius is set to automatic and varies between sentences. A best guess of the results is displayed, which attempts to match a full sentence. Note that the length of the radius on each side of the hit query will most likely significantly differ.
                           </p>
                           <p>The default value is <code class="codeph">25</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-B0D23329-02E1-4070-A29E-04FE1159208E">
                              <!-- --></a>max_length
                        </dt>
                        <dd>
                           <p>Specify the maximum length of the result set output in characters. This value is currently upper-bounded by the current return type of <code class="codeph">CTX_DOC.RESULT_SET (VARCHAR2)</code>. If the output is longer than the return type <code class="codeph">VARCHAR2</code>, then the result is truncated. The default value for max_length is <code class="codeph">250</code>.
                           </p>
                           <p>If you set the <code class="codeph">max_length</code> value to a very low value, no result set is generated. For example, if the <code class="codeph">max_length</code> is set to <code class="codeph">0</code> or if the <code class="codeph">max_length</code> is lower than the length of query tokens themselves, no result set is generated at all.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-5BDD9548-F165-40F9-8C2E-2AB6E0A39461">
                              <!-- --></a>part_name
                        </dt>
                        <dd>
                           <p>Specify the index partition name. If the index is global, <code class="codeph">part_name</code> must be <code class="codeph">NULL</code>. If the index is partitioned and <code class="codeph">part_name</code> is not <code class="codeph">NULL</code>, then the query will only be evaluated for the given partition. If the index is partitioned and <code class="codeph">part_name</code> is <code class="codeph">NULL</code>, then the query will be evaluated for all partitions.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__BABFJGJB">
                     <p class="subhead2" id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-043F002F-8890-4864-943E-7F64B34D9F0C">The Input Result Set Descriptor</p>
                     <p>The result set descriptor is an XML message which describes what to calculate for the result set. The elements present in the result set descriptor and the order in which they occur serve as a simple template, specifying what to include in the output result set. That is, there should be the list of hit rowids, then a count, then a token count, and so on. The attributes of the elements specify the parameters and options to the specific operations, such as number of hits in the list of rowids, estimate versus exact count, and so on.</p>
                     <p>The result set descriptor itself is XML conforming to the following DTD:</p><pre class="pre codeblock"><code>&lt;!DOCTYPE ctx_result_set_descriptor [
&lt;!ELEMENT ctx_result_set_descriptor (hitlist?, group*, count?, collocates?)&gt;
&lt;!ELEMENT hitlist (rowid?, score?, sdata*, snippet*, sentiment?)&gt;
&lt;!ELEMENT group (count?, group_values?)&gt;
&lt;!ELEMENT count EMPTY&gt;
&lt;!ELEMENT rowid EMPTY&gt;
&lt;!ELEMENT score EMPTY&gt;
&lt;!ELEMENT sdata EMPTY&gt;
&lt;!ELEMENT group_values (value*)&gt;
&lt;!ELEMENT value EMPTY&gt;
&lt;!ELEMENT sentiment (item*)&gt;
&lt;!ELEMENT item EMPTY&gt;
&lt;!ELEMENT collocates EMPTY&gt;
&lt;!ATTLIST sentiment classifier CDATA "DEFAULT_CLASSIFIER"&gt;
&lt;!ATTLIST item topic CDATA #REQUIRED&gt;
&lt;!ATTLIST item type (about|exact) "exact"&gt;
&lt;!ATTLIST item agg (TRUE|FALSE) "FALSE"&gt;
&lt;!ATTLIST item radius CDATA "50"&gt;
&lt;!ATTLIST item max_inst CDATA "5"&gt;
&lt;!ATTLIST item starttag CDATA #IMPLIED&gt;
&lt;!ATTLIST item endtag CDATA #IMPLIED&gt;
&lt;!ATTLIST collocates radius CDATA "20"&gt;
&lt;!ATTLIST collocates max_words CDATA "10"&gt;
&lt;!ATTLIST collocates use_tscore (TRUE|FALSE) "TRUE"&gt;
&lt;!ATTLIST collocates use_hits CDATA "10"&gt;
&lt;!ATTLIST group sdata CDATA #REQUIRED&gt;

&lt;!ATTLIST group topn CDATA #IMPLIED&gt;
&lt;!ATTLIST group bucketby CDATA #IMPLIED&gt;
&lt;!ATTLIST group sortby CDATA #IMPLIED&gt;
&lt;!ATTLIST group order CDATA #IMPLIED&gt;
&lt;!ATTLIST value id CDATA #IMPLIED&gt;
&lt;!ATTLIST hitlist start_hit_num CDATA #REQUIRED&gt;
&lt;!ATTLIST hitlist end_hit_num CDATA #REQUIRED&gt;
&lt;!ATTLIST hitlist order CDATA #IMPLIED&gt;
&lt;!ATTLIST count exact (TRUE|FALSE) "FALSE"&gt;

&lt;!ATTLIST sdata name CDATA #REQUIRED&gt;
&lt;!ATTLIST snippet radius CDATA #IMPLIED&gt;
&lt;!ATTLIST snippet max_length CDATA #IMPLIED&gt;
&lt;!ATTLIST snippet starttag CDATA #IMPLIED&gt;
&lt;!ATTLIST snippet endtag CDATA #IMPLIED&gt;
]&gt;</code></pre><p>The following is a description of the possible XML elements for the result set descriptor:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ctx_result_set_descriptor</code></p>
                           <p>This is the root element for the result set descriptor. The parent element is none, as are the available attributes.</p>
                           <p>The possible child elements are:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Zero or more <code class="codeph">hitlist</code> elements.
                                 </p>
                              </li>
                              <li>
                                 <p>Zero or more <code class="codeph">group</code> elements.
                                 </p>
                              </li>
                              <li>
                                 <p>At most one <code class="codeph">count</code> element.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">group</code></p>
                           <p>The <code class="codeph">group</code> element causes the generated result set to include a group breakdown. In other words, a breakdown of the results by <code class="codeph">SDATA</code> section values. The group element is also used to obtain facet counts for faceted navigation support. The parent element is <code class="codeph">ctx_result_set_descriptor</code>, and the available attributes are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">sdata</code></p>
                                 <p>Specifies the name of the <code class="codeph">SDATA</code> section to use for grouping. It is required.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">bucketby</code></p>
                                 <p>Determines how group values are bucketed for counting. At the time of this release, the supported valid attribute value is single. It displays each unique facet value along with its count.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">topn</code></p>
                                 <p>Restricts the maximum number of facet values that are returned. It sorts by descending group count by default. Valid attribute values are positive integers larger than zero.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">sortby</code></p>
                                 <p>Valid attribute values are value and count. Value sorts using the value themselves, as appropriate for each data type. Count (default) sorts using the counts for each group.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">order</code></p>
                                 <p>Order can be ascending or descending.</p>
                              </li>
                           </ul>
                           <p>Possible child elements of <code class="codeph">group</code> are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>At most one <code class="codeph">count</code> element.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">hitlist</code></p>
                           <p>The <code class="codeph">hitlist</code> element controls inclusion of a list of hit documents. The parent element is <code class="codeph">ctx_result_set_descriptor</code>, and the available attributes are:
                           </p>
                           <p>The possible child elements of <code class="codeph">order</code> are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">start_hit_num</code></p>
                                 <p>This specifies the starting document hit to be included in the generated result set. This can be set to any positive integer less than or equal to 16000. For example, if <code class="codeph">start_hit_num</code> is 21, then the result set will include document hits starting from the 21st document hit. This element is required.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">end_hit_num</code></p>
                                 <p>This specifies the last document hit to be included in the generated result set. This can be set to any positive integer less than or equal to 48000. For example, if <code class="codeph">end_hit_num</code> is 40, then the result set will include document hits up to the 40th document hit. This element is required. 
                                 </p>
                                 <p>The possible child elements for <code class="codeph">hitlist</code> are:
                                 </p>
                              </li>
                              <li>
                                 <p>At most one <code class="codeph">rowid</code> element.
                                 </p>
                              </li>
                              <li>
                                 <p>At most one <code class="codeph">score</code> element.
                                 </p>
                              </li>
                              <li>
                                 <p>At most one <code class="codeph">sdata</code> element.
                                 </p>
                              </li>
                              <li>
                                 <p>At most one <code class="codeph">snippet</code> element.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">order</code></p>
                                 <p>This is an optional attribute that specifies the order for the documents in the generated result set. The value is a list similar to a SQL <code class="codeph">ORDER</code> <code class="codeph">BY</code> statement, except that, instead of column names, they can either be <code class="codeph">SCORE</code> or <code class="codeph">SDATA</code> section names. In the following example, <code class="codeph">MYDATE</code> and <code class="codeph">MYPRICE</code> are the <code class="codeph">SDATA</code> section names:
                                 </p><pre class="oac_no_warn" dir="ltr">(order = "SCORE DESC, MYDATE, MYPRICE DESC")
</pre></li>
                           </ul>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>At most one <code class="codeph">rowid</code> element.
                                 </p>
                              </li>
                              <li>
                                 <p>At most one <code class="codeph">score</code> element.
                                 </p>
                              </li>
                              <li>
                                 <p>At most one <code class="codeph">sdata</code> element.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">count</code></p>
                           <p>This element causes the generated result set to include a count of the number of hit documents. The parent elements are:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">ctx_result_set_descriptor</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">group</code></p>
                              </li>
                           </ul>
                           <p>The available attributes for <code class="codeph">count</code> are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">exact</code></p>
                                 <p>This is to estimate mode. Set to <code class="codeph">true</code> or <code class="codeph">false</code>. It is required, and the default is <code class="codeph">false</code>.
                                 </p>
                              </li>
                           </ul>
                           <p>The possible child elements for <code class="codeph">count</code> are none.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">rowid</code></p>
                           <p>This child element causes the generated result set to include rowid information for each hit. The parent element is <code class="codeph">hitlist</code>. There are no attributes and no possible child elements.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">score</code></p>
                           <p>This child element causes the generated result set to include score information for each hit.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The parent element is <code class="codeph">hitlist</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>There are no available attributes, and no possible child elements.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">sdata</code></p>
                           <p>This child element causes the generated result set to include <code class="codeph">sdata</code> values for each hit.
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The parent element is <code class="codeph">hitlist</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The available attribute is <code class="codeph">name</code>. This specifies the name of the <code class="codeph">sdata</code> section. It is required.
                                 </p>
                              </li>
                              <li>
                                 <p>There are no child elements.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">sentiment</code></p>
                           <p>This element controls the inclusion of sentiment classification results for each document returned as a part of the <code class="codeph">hitlist</code>. There can be only one sentiment element in the <code class="codeph">hitlist</code> element.
                           </p>
                           <p>The parent element is <code class="codeph">hitlist</code>.
                           </p>
                           <p>The attribute available for this element is <code class="codeph">classifier</code>, which specifies the sentiment classifier that is used to perform sentiment analysis. If no classifier is specified, then the <code class="codeph">CTXSYS.DEFAULT_SENTIMENT_CLASSIFIER</code> is used.  If a specified classifier is not available, then an error is displayed. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">item</code></p>
                           <p>This element specifies keywords or concepts for which sentiment information must be fetched for the returned set of documents. Each <code class="codeph">sentiment</code> element must contain at least one child <code class="codeph">item</code> element. The maximum is 10 child <code class="codeph">item</code> elements. If you specify an empty <code class="codeph">item</code> element (without any attributes), it indicates that sentiment score for entire document must be returned.
                           </p>
                           <p>The parent element is <code class="codeph">sentiment</code>.
                           </p>
                           <p>The available attributes for <code class="codeph">item</code> are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">topic</code></p>
                                 <p>This specifies the topic for which sentiment analysis must be performed.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">type</code></p>
                                 <p>If this attribute value is set to <code class="codeph">ABOUT</code>, then the classifier treats the specified topic as a concept rather than a keyword. The default is <code class="codeph">EXACT</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">agg</code></p>
                                 <p>Determines whether the sentiment score must be aggregated and presented as a single score for the entire document. The possible values are TRUE or FALSE. TRUE indicates that the per text segment scores will be aggregated and text segments will not be returned in the output resultset, only the aggregated score will be returned. The default value is FALSE.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">radius</code></p>
                                 <p>This specifies the radius of the surrounding text to be identified during sentiment classification for that keyword. The default value is 50.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">max_inst</code></p>
                                 <p>This specifies how many instances of text excerpts related to the specified topic must be analyzed for sentiment classification. The default value is 5.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">starttag</code></p>
                                 <p>This specifies the starting tag for topic highlighting.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">endtag</code></p>
                                 <p>This specifies the ending tag for topic highlighting.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">collocates</code></p>
                           <p>This element controls the generation of related keywords or concepts associated with the collection of documents retrieved by the query.</p>
                           <p>The parent element is <code class="codeph">hitlist</code>.
                           </p>
                           <p>The available attributes for <code class="codeph">collocates</code> are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">radius</code></p>
                                 <p>This specifies the radius of the surrounding text to be identified for collocates. The default value is 20.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">max_words</code></p>
                                 <p>This specifies the maximum number of collocates to return for the given query. The default value is 10.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">use_tscore</code></p>
                                 <p>This specifies whether to use T-score for scoring the collocates. The possible values are TRUE or FALSE, with the default being TRUE.</p>
                                 <p>Set this attribute to TRUE to identify collocates that are common tokens. Set this attribute to FALSE to identify collocates that emphasize unique words.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__BABECFAB">
                     <p class="subhead2" id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-4B97611E-A589-43D9-B337-AF7BFC06B84E">The Output Result Set XML</p>
                     <p>The output result set XML is XML conforming to the following DTD:</p><pre class="oac_no_warn" dir="ltr">&lt;!DOCTYPE ctx_result_set [
&lt;!ELEMENT ctx_result_set (hitlist?, groups*, count? , collocates?)&gt;
&lt;!ELEMENT hitlist (hit*)&gt;
&lt;!ELEMENT hit (rowid?, score?, snippet*, sdata*, sentiment?)&gt;
&lt;!ELEMENT groups (group*)&gt;
&lt;!ELEMENT group (count?)&gt;
&lt;!ELEMENT count (#PCDATA)&gt;
&lt;!ELEMENT rowid (#PCDATA)&gt;
&lt;!ELEMENT score (#PCDATA)&gt;
&lt;!ELEMENT snippet (segment*)&gt;
&lt;!ELEMENT sdata (#PCDATA)&gt;
&lt;!ELEMENT sentiment (item*)&gt;
&lt;!ELEMENT item (segment*, score*, doc?)&gt;
&lt;!ELEMENT segment (segment_text?, segment_score?)&gt;
&lt;!ELEMENT segment_text (#PCDATA)&gt;
&lt;!ELEMENT segment_score (#PCDATA)&gt;
&lt;!ELEMENT doc (score?)&gt;
&lt;!ELEMENT collocates (collocation*)&gt;
&lt;!ELEMENT collocation (word?, score?)&gt;
&lt;!ELEMENT word (#PCDATA)&gt;
&lt;!ATTLIST item topic CDATA #REQUIRED&gt;
&lt;!ATTLIST groups sdata CDATA #REQUIRED&gt;
&lt;!ATTLIST group value CDATA #REQUIRED&gt;

&lt;!ATTLIST group range CDATA #IMPLIED&gt;
&lt;!ATTLIST group single CDATA #IMPLIED&gt;
&lt;!ATTLIST sdata name CDATA #REQUIRED&gt;</pre><p>The following is a description of the list of possible XML elements for the output result set:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ctx_result_set</code></p>
                           <p>This is the root element for the generated result set. There are no attributes. The parent is none. The possible child elements are:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>At most one <code class="codeph">hitlist</code> element.
                                 </p>
                              </li>
                              <li>
                                 <p>Zero or more <code class="codeph">groups</code> elements.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">groups</code></p>
                           <p>This delimits the start of a group breakdown section. The parent element is <code class="codeph">ctx_result_set</code>. The available attributes are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">sdata</code></p>
                                 <p>This is the name of the <code class="codeph">sdata</code> section used for grouping.
                                 </p>
                              </li>
                           </ul>
                           <p>The possible child elements are:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Zero or more <code class="codeph">group</code> elements.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">group</code></p>
                           <p>This delimits the start of a <code class="codeph">GROUP</code> <code class="codeph">BY</code> value. The parent element is the <code class="codeph">groups</code> element. The available attributes are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">value</code></p>
                                 <p>This is the value of the <code class="codeph">sdata</code> section.
                                 </p>
                              </li>
                           </ul>
                           <p>The possible child elements are at most one <code class="codeph">count</code> element.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">hitlist</code></p>
                           <p>This delimits the start of <code class="codeph">hitlist</code> information. The parent element is <code class="codeph">ctx_result_set</code>, while the children are zero or more <code class="codeph">hit</code> elements. There are no attributes.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">hit</code></p>
                           <p>This delimits the start of the information for a particular document within a <code class="codeph">hitlist</code>. The parent element is <code class="codeph">hitlist</code>, and there are no available attributes. The possible child elements are:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Zero or one <code class="codeph">rowid</code> elements.
                                 </p>
                              </li>
                              <li>
                                 <p>Zero or one <code class="codeph">score</code> element.
                                 </p>
                              </li>
                              <li>
                                 <p>Zero or one <code class="codeph">sdata</code> element.
                                 </p>
                              </li>
                              <li>
                                 <p>Zero or one <code class="codeph">snippet</code> element.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">rowid</code></p>
                           <p>This is the rowid of the document, so the content is the rowid of the document. The parent element is the <code class="codeph">hit</code> element. There are no child elements, and no available attributes.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">score</code></p>
                           <p>This is the score of the document. The parent element is the hit element. The content is the numeric score. There are no available attributes, and no possible child elements.</p>
                        </li>
                        <li>
                           <p><code class="codeph">sdata</code></p>
                           <p>This is the <code class="codeph">SDATA</code> value or values for the document. The parent element is the <code class="codeph">hit</code> element, and the available attribute is <code class="codeph">name</code>, which is the name of the <code class="codeph">sdata</code> section. There are no possible child elements available. The content is the <code class="codeph">SDATA</code> section value, which, for <code class="codeph">DATE</code> values, is in the format "YYYY-MM-DD HH24:MI:SS", depending upon the actual values being stored.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">count</code></p>
                           <p>This is the document hit count. The parent element is the <code class="codeph">ctx_result_set</code> element or the <code class="codeph">group</code> element. It contains the numeric hit count, has no attributes, and no possible child elements.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">sentiment</code></p>
                           <p>This delimits the sentiment element for the <code class="codeph">hitlist</code> document. Its child element is <code class="codeph">item</code> and parent is <code class="codeph">hitlist</code>. It contains no attributes in the output result set.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">item</code></p>
                           <p>This delimits the <code class="codeph">item</code> element for the <code class="codeph">hitlist</code> document. Parent element is <code class="codeph">sentiment</code> and child elements are <code class="codeph">segment</code>, <code class="codeph">score</code>, and <code class="codeph">doc</code>. It has one attribute called <code class="codeph">topic</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">segment</code></p>
                           <p>This delimits an instance of segment element in a hit. Parent element is <code class="codeph">item</code>. Child elements are <code class="codeph">segment_text</code> and <code class="codeph">segment_score</code>. It contains no attributes.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">segment_text</code></p>
                           <p>This specifies the text segment for the given item topic. Parent element is <code class="codeph">segment</code>. It has no child elements or attributes.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">segment_score</code></p>
                           <p>This specifies the sentiment score for the segment. Parent element is segment. It has no child elements or attributes.</p>
                        </li>
                        <li>
                           <p><code class="codeph">score</code></p>
                           <p>This specifies the sentiment score for the document or for the parent item topic. When present within collocation it specifies the collocation score for the particular collocation keyword. Parent element is doc or collocation. It has no child elements or attributes</p>
                        </li>
                        <li>
                           <p><code class="codeph">doc</code></p>
                           <p>This denotes the sentiment score is for the entire document. Its parent element is <code class="codeph">item</code> and child element is <code class="codeph">score</code>. It has no attributes.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">collocates</code></p>
                           <p>This delimits the collocates element for the result set output. Parent element is <code class="codeph">ctx_result_set</code> and child element is <code class="codeph">collocation</code>. It has no attributes.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">collocation</code></p>
                           <p>This denotes a single collocation. Parent element is <code class="codeph">collocates</code> and child elements are <code class="codeph">word</code> and <code class="codeph">score</code>. It has no attributes.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">word</code></p>
                           <p>This specifies the collocates token. Its parent element is <code class="codeph">collocation</code>. It has no child elements or attributes.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-82573088-C70A-44EF-A5EA-E45CB5F36051">Example</p>
                     <p>This call to <code class="codeph">CTX_QUERY.RESULT_SET</code> with the specified XML <code class="codeph">result_set_descriptor</code> will generate the following information in the form of XML:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>top 5 hits displaying, score, rowid, author <code class="codeph">SDATA</code> section value, and pubDate <code class="codeph">SDATA</code> section value, order by pubDate <code class="codeph">SDATA</code> section value <code class="codeph">DESC</code> and score <code class="codeph">DESC</code></p>
                        </li>
                        <li>
                           <p>total doc hit count for the text query</p>
                        </li>
                        <li>
                           <p>counts group by pubDate <code class="codeph">SDATA</code> section values
                           </p>
                        </li>
                        <li>
                           <p>counts group by author <code class="codeph">SDATA</code> section values
                           </p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">declare
  rs clob;
begin
  dbms_lob.createtemporary(rs, true, dbms_lob.session);
  ctx_query.result_set('docidx', 'oracle', '
  <span class="bold">&lt;ctx_result_set_descriptor&gt;</span>  
   <span class="bold">&lt;count/&gt;</span>
   <span class="bold">&lt;hitlist start_hit_num="1" end_hit_num="5" order="pubDate desc, score desc"&gt;</span>
     <span class="bold">&lt;score/&gt;</span>
     <span class="bold">&lt;rowid/&gt;</span>
     <span class="bold">&lt;sdata name="author"/&gt;</span>
     <span class="bold">&lt;sdata name="pubDate"/&gt;</span>
   <span class="bold">&lt;/hitlist&gt;</span>
   <span class="bold">&lt;group sdata="pubDate"&gt;</span>
     <span class="bold">&lt;count/&gt;</span>
   <span class="bold">&lt;/group&gt;</span>
   <span class="bold">&lt;group sdata="author"&gt;</span>
     <span class="bold">&lt;count/&gt;</span>
   <span class="bold">&lt;/group&gt;</span>
  <span class="bold">&lt;/ctx_result_set_descriptor&gt;</span>
', rs);
  dbms_lob.freetemporary(rs);
exception
  when others then
   dbms_lob.freetemporary(rs);
   raise;
end;
/
</pre><p>The XML output store in the result set output clob will resemble the following:</p><pre class="oac_no_warn" dir="ltr">&lt;ctx_result_set&gt;
  &lt;hitlist&gt;
    &lt;hit&gt;
      &lt;score&gt;3&lt;/score&gt;&lt;rowid&gt;AAAPoEAABAAAMWsAAC&lt;/rowid&gt;
      &lt;sdata name="AUTHOR"&gt;John&lt;/sdata&gt;
      &lt;sdata name="PUBDATE"&gt;2001-01-03 00:00:00&lt;/sdata&gt;
    &lt;/hit&gt;
    &lt;hit&gt;
      &lt;score&gt;3&lt;/score&gt;&lt;rowid&gt;AAAPoEAABAAAMWsAAG&lt;/rowid&gt;
      &lt;sdata name="AUTHOR"&gt;John&lt;/sdata&gt;
      &lt;sdata name="PUBDATE"&gt;2001-01-03 00:00:00&lt;/sdata&gt;
    &lt;/hit&gt;
    &lt;hit&gt;
      &lt;score&gt;3&lt;/score&gt;&lt;rowid&gt;AAAPoEAABAAAMWsAAK&lt;/rowid&gt;
      &lt;sdata name="AUTHOR"&gt;John&lt;/sdata&gt;
      &lt;sdata name="PUBDATE"&gt;2001-01-03 00:00:00&lt;/sdata&gt;
    &lt;/hit&gt;
    &lt;hit&gt;
      &lt;score&gt;3&lt;/score&gt;&lt;rowid&gt;AAAPoEAABAAAMWsAAO&lt;/rowid&gt;
      &lt;sdata name="AUTHOR"&gt;John&lt;/sdata&gt;
      &lt;sdata name="PUBDATE"&gt;2001-01-03 00:00:00&lt;/sdata&gt;
    &lt;/hit&gt;
    &lt;hit&gt;
      &lt;score&gt;3&lt;/score&gt;&lt;rowid&gt;AAAPoEAABAAAMWsAAS&lt;/rowid&gt;
      &lt;sdata name="AUTHOR"&gt;John&lt;/sdata&gt;
      &lt;sdata name="PUBDATE"&gt;2001-01-03 00:00:00&lt;/sdata&gt;
    &lt;/hit&gt;
  &lt;/hitlist&gt;
 
  &lt;count&gt;100&lt;/count&gt;
 
  &lt;groups sdata="PUBDATE"&gt;
    &lt;group value="2001-01-01 00:00:00"&gt;&lt;count&gt;25&lt;/count&gt;&lt;/group&gt;
    &lt;group value="2001-01-02 00:00:00"&gt;&lt;count&gt;50&lt;/count&gt;&lt;/group&gt;
    &lt;group value="2001-01-03 00:00:00"&gt;&lt;count&gt;25&lt;/count&gt;&lt;/group&gt;
  &lt;/groups&gt;
 
  &lt;groups sdata="AUTHOR"&gt;
    &lt;group value="John"&gt;&lt;count&gt;50&lt;/count&gt;&lt;/group&gt;
    &lt;group value="Mike"&gt;&lt;count&gt;25&lt;/count&gt;&lt;/group&gt;
    &lt;group value="Steve"&gt;&lt;count&gt;25&lt;/count&gt;&lt;/group&gt;
  &lt;/groups&gt;
 
&lt;/ctx_result_set&gt;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-0CDC6C0E-ABFE-4B32-974C-D58F9958B798">Limitations and Restrictions</p>
                     <p>The following limitations and restrictions apply for <code class="codeph">RESULT_SET</code>.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The Result Set Interface (RSI) is not supported with Virtual Private Database. (VPD is supported with the regular <code class="codeph">CONTAINS</code> query, but not with RSI.)
                           </p>
                        </li>
                        <li>
                           <p>In order to execute the function, you must be able to query the base table. </p>
                        </li>
                        <li>
                           <p>If a VPD policy is active on the base table, the documents portion of the result set will not show any documents to which you are not entitled.</p>
                        </li>
                        <li>
                           <p>When a VPD policy is being used, aggregate measures such as count may not be accurate.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__GUID-14C5236A-B9D5-4F5C-A149-BE0DABC28761">Related Topics</p>
                     <p><a href="../ccapp/using-XML-query-result-set-interface.html#CCAPP9537" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> for information on the XML Result Set Interface
                     </p>
                     <p><a href="../ccapp/using-faceted-navigation.html#CCAPP-GUID-0A60B54D-D3A5-4556-98D3-8D92C9870FFD" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> for more information on faceted navigation.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-CA409A40-881C-464A-9645-CFE8860FF8C5" name="GUID-CA409A40-881C-464A-9645-CFE8860FF8C5"></a><h3 id="CCREF-GUID-CA409A40-881C-464A-9645-CFE8860FF8C5" class="sect3"><span class="enumeration_section">12.7 </span>RESULT_SET_CLOB_QUERY
               </h3>
               <div>
                  <p> This procedure executes an XML query and generates a result set based on a <code class="codeph">CLOB</code> query parameter in XML
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-CA409A40-881C-464A-9645-CFE8860FF8C5__GUID-63B7FE5C-AC15-4CB1-863E-3BCD27E5F85B">Syntax</p>
                     <p>The <code class="codeph">RESULT_SET_CLOB_QUERY</code> procedure is identical to the <code class="codeph">RESULT_SET</code> procedure except that the datatype of its query parameter is <code class="codeph">CLOB</code> instead of <code class="codeph">VARCHAR2</code> to handle longer queries.
                     </p><pre class="pre codeblock"><code>CTX_QUERY.RESULT_SET_CLOB_QUERY (
   index_name            IN VARCHAR2,
   query                 IN CLOB,
   result_set_descriptor IN CLOB,
   result_set            IN OUT CLOB,
   part_name             IN VARCHAR2 DEFAULT 
);</code></pre><div class="infoboxnotealso" id="GUID-CA409A40-881C-464A-9645-CFE8860FF8C5__GUID-379366E4-8BCE-44A8-9350-051AD725B4DC">
                        <p class="notep1">See Also:</p><a href="CTX_QUERY-package.html#GUID-EBB44B13-1648-444D-BACA-134C3EBA2058">RESULT_SET</a> for the description of these parameters
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24137"></a><div class="props_rev_3"><a id="GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2" name="GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2"></a><h3 id="CCREF-GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2" class="sect3"><span class="enumeration_section">12.8 </span>RESULT_SET_DOCUMENT
               </h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">RESULT_SET_DOCUMENT</code> holds the result set document after the <code class="codeph">CONTAINS</code> query cursor is explicitly closed and if the query template has the &lt;ctx_result_set_descriptor&gt; element.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2__GUID-12DF4B2E-95E5-4442-9D38-2A74449ADE74">Syntax</p><pre class="oac_no_warn" dir="ltr">CTX_QUERY.RESULT_SET_DOCUMENT(
   index_name            IN VARCHAR2,
   query                 IN VARCHAR2,
   result_set_descriptor IN CLOB,
   result_set            IN OUT NOCOPY CLOB,
   part_name             IN VARCHAR2 DEFAULT NULL
);</pre><dl>
                        <dt class="dlterm"><a name="GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2__GUID-6C228656-F0AF-4061-94A9-A44B4E3E05EA">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the index against which to execute the query.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2__GUID-100BC816-8122-40F7-8D5A-64006CE12A2D">
                              <!-- --></a>query
                        </dt>
                        <dd>
                           <p>Specify the query string. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2__GUID-C0429048-7F33-46B4-BACD-973B5EEACE5D">
                              <!-- --></a>result_set_descriptor
                        </dt>
                        <dd>
                           <p>Specify the result set descriptor in XML. It describes what the result set should contain. See <span class="q">"<a href="CTX_QUERY-package.html#GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__BABFJGJB">The Input Result Set Descriptor</a>"</span> for more details.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2__GUID-0F3074C5-C2F3-4FAA-B271-6D1414C18676">
                              <!-- --></a>result_set
                        </dt>
                        <dd>
                           <p>Specify the output result set. If this variable is <code class="codeph">NULL</code> on input, a session-duration temporary lob will be allocated and returned to the user. The user is responsible for deallocating this temporary lob. See <span class="q">"<a href="CTX_QUERY-package.html#GUID-EBB44B13-1648-444D-BACA-134C3EBA2058__BABECFAB">The Output Result Set XML</a>"</span> for more details.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-7E2CD41B-F392-4B50-A9E9-D88CAD51A9E2__GUID-6274EC88-4426-4EA8-9782-C70C5E363A68">
                              <!-- --></a>part_name
                        </dt>
                        <dd>
                           <p>Specify the index partition name. If the index is global, <code class="codeph">part_name</code> must be <code class="codeph">NULL</code>. If the index is partitioned and <code class="codeph">part_name</code> is not <code class="codeph">NULL</code>, then the query will only be evaluated for the given partition. If the index is partitioned and <code class="codeph">part_name</code> is <code class="codeph">NULL</code>, then the query will be evaluated for all partitions.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF23945"></a><a id="CCREF24105"></a><a id="CCREF0912"></a><div class="props_rev_3"><a id="GUID-C966324F-9B3C-4770-9C98-30CE5A678051" name="GUID-C966324F-9B3C-4770-9C98-30CE5A678051"></a><h3 id="CCREF-GUID-C966324F-9B3C-4770-9C98-30CE5A678051" class="sect3"><span class="enumeration_section">12.9 </span>STORE_SQE
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d115842e2738" class="indexterm-anchor"></a><a id="d115842e2742" class="indexterm-anchor"></a><a id="d115842e2746" class="indexterm-anchor"></a>This procedure creates either a stored or session-duration query expression (SQE). Only the query definition is stored.
                     </p>
                     <p>SQEs are used to store the definition of a query without storing any results.  Referencing the query with the <code class="codeph">CONTAINS</code> SQL operator references the definition of the query. In this way, SQEs make it easy for defining long or frequently used query expressions. Creating a session-duration SQE is useful for when you do not want the maintenance overhead of deleting unused or no longer needed SQEs.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C966324F-9B3C-4770-9C98-30CE5A678051__GUID-40DDCE88-A120-4539-93DA-23E6258765ED">Supported Operators</p>
                     <p>Stored query expressions support all of the <code class="codeph">CONTAINS</code> query operators. Stored query expressions also support all of the special characters and other components that can be used in a query expression, including other stored query expressions.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C966324F-9B3C-4770-9C98-30CE5A678051__GUID-21688510-8B73-4E03-9957-4E407E648798">Privileges</p>
                     <p>Users are permitted to create and remove stored query expressions owned by them. Users are permitted to use stored query expressions owned by anyone. The <code class="codeph">CTXSYS</code> user can create or remove stored query expressions for any user.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C966324F-9B3C-4770-9C98-30CE5A678051__GUID-82DD8C48-47A6-417E-BF1B-15DA49659082">Syntax</p>
                     <p>Syntax 1</p><pre class="oac_no_warn" dir="ltr">CTX_QUERY.STORE_SQE(
           query_name      IN VARCHAR2,
           text_query      IN VARCHAR2 
           duration        IN NUMBER default CTX_QUERY.DURATION_SESSION
);</pre><p>Syntax 2</p><pre class="oac_no_warn" dir="ltr">CTX_QUERY.STORE_SQE_CLOB_SYNTAX(
           query_name      IN VARCHAR2, 
           text_query      IN CLOB      
           duration        IN NUMBER default CTX_QUERY.DURATION_SESSION
);</pre><dl>
                        <dt class="dlterm"><a name="GUID-C966324F-9B3C-4770-9C98-30CE5A678051__GUID-504A55DC-591B-4AFE-B22D-96A0F4F739C5">
                              <!-- --></a>query_name
                        </dt>
                        <dd>
                           <p>Specify the name of the stored query expression to be created.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C966324F-9B3C-4770-9C98-30CE5A678051__GUID-52CA8E9F-5737-481B-9F08-6A769BF7FF8E">
                              <!-- --></a>text_query 
                        </dt>
                        <dd>
                           <p>Specify the query expression to be associated with <code class="codeph">query_name</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C966324F-9B3C-4770-9C98-30CE5A678051__GUID-260B6089-E77E-4066-BAB1-0DF61A151D70">
                              <!-- --></a>duration
                        </dt>
                        <dd>
                           <p>The possible values are <code class="codeph">DURATION_SESSION</code> and <code class="codeph">DURATION_PERSISTENT</code>. 
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When <code class="codeph">duration</code> is to set to <code class="codeph">DURATION_SESSION</code>, the stored query expression is stored in a PL/SQL package variable and is available for the session.
                                 </p>
                              </li>
                              <li>
                                 <p>When <code class="codeph">duration</code> is to set to <code class="codeph">DURATION_PERSISTENT</code>, the stored query expression is stored in a database table, and can be referenced by other database sessions.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">query_name</code> namespace is shared between the persistent and session-duration SQEs. If you try to add a persistent or session-duration SQE with a name that is already used by another persistent or session-duration SQE, then an error will be raised.
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C966324F-9B3C-4770-9C98-30CE5A678051__GUID-018EC55E-823B-4472-97B8-FA494F0258D9">
                              <!-- --></a>duration_persistent
                        </dt>
                        <dd>
                           <p>When there is a CLOB query, specify that the duration is stored in a database table. This SQE must be deleted when it is no longer needed.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">query_name</code> namespace is shared between the persistent and session-duration SQEs. If you try to add a persistent or session-duration SQE with a name that is already used by another persistent or session-duration SQE, then an error will be raised.
                                 </p>
                              </li>
                           </ul>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C966324F-9B3C-4770-9C98-30CE5A678051__GUID-5FAAF358-7F90-4E04-B92F-B266AA2631F4">Example</p><pre class="oac_no_warn" dir="ltr">begin
  ctx_query.store_sqe('dis1', 'flood', CTX_QUERY.DURATION_SESSION);
  ctx_query.store_sqe('dis2', 'tornado', CTX_QUERY.DURATION_PERSISTENT);
  ctx_query.store_sqe('dis3', 'fire')
end;
/</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>