<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted.">
      <meta name="description" content="Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted.">
      <title>Administering Oracle ASM Filter Driver</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="manage-flex-asm.html" title="Previous" type="text/html">
      <link rel="next" href="create-db-asm-sqlplus.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="manage-flex-asm.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="create-db-asm-sqlplus.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-advanced-topics.html" property="item" typeof="WebPage"><span property="name">Advanced Topics</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Administering Oracle ASM Filter Driver</li>
            </ol>
            <a id="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" name="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123"></a>
            
            <h2 id="OSTMG-GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123" class="sect2"><span class="enumeration_chapter">20 </span>Administering Oracle ASM Filter Driver
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle ASM Filter Driver (Oracle ASMFD) simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted.</p>
               <p>This section contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9">About Oracle ASM Filter Driver</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A">Configuring Oracle ASM Filter Driver</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0">About Migrating to Oracle ASM Filter Driver From an ASMLIB Environment</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">Determining Whether Oracle ASM Filter Driver Has Been Configured</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D">Updating the Oracle ASM Filter Driver AFD_DISKSTRING Parameter</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">Updating the Oracle ASM ASM_DISKSTRING Parameter for Oracle ASM Filter Driver Disks</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-302F7233-B905-4D1E-A1AD-9A00EDC6A6F3">Setting, Clearing, and Scanning Oracle ASM Filter Driver Labels</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71">Deconfiguring Oracle ASM Filter Driver</a></p>
                  </li>
                  <li>
                     <p><a href="administer-filter-driver.html#GUID-746AAA69-D7D9-4143-BE51-0BDFE9BB8DED">Oracle ASM Filter Driver Commands</a></p>
                  </li>
               </ul>
               <div class="infoboxnotewarn" id="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123__GUID-F35B0A80-40FC-4AA8-AAD2-C2394FE19604">
                  <p class="notep1">WARNING:</p>
                  <p>When configuring Oracle ASM, including Oracle ASMFD, do not modify or erase the contents of Oracle ASM disks or modify any files, including configuration files.</p>
               </div>
               <div class="infoboxnote" id="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123__GUID-92A93891-ECAD-4B85-BC59-F1E97C87AFE7">
                  <p class="notep1">Note:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The configuration for Oracle ASMFD can now be enabled with a check box to be an automated process during Oracle Grid Infrastructure installation.</p>
                     </li>
                     <li>
                        <p>If ASMLIB is installed and configured for an existing Oracle ASM installation, then you must explicitly uninstall the existing ASMLIB configuration before installing and configuring Oracle ASMFD.</p>
                     </li>
                     <li>
                        <p>Oracle ASM Filter Driver (Oracle ASMFD) is available on Linux systems starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2). Oracle ASMFD is available on Solaris systems starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1).
                        </p>
                     </li>
                     <li>
                        <p>In the steps of the procedures described in the topics of this section, the <code class="codeph">$ORACLE_HOME</code> environmental variable is set to the directory path of the Oracle Grid Infrastructure home. Commands that show <code class="codeph">#</code> as the operating system prompt must be run as the root user. Commands that show <code class="codeph">$</code> as the operating system prompt should be run as the owner of Oracle Grid Infrastructure home
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="infoboxnotealso" id="GUID-2F5E344F-AFC2-4768-8C00-6F3C56302123__GUID-5F5B3631-D3F3-43A2-A369-812ECD0D2353">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>My Oracle Support articles about Oracle ASMFD available at <a href="https://support.oracle.com" target="_blank">My Oracle Support</a> (<a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a>) for additional information about Oracle ASMFD, such as supported operating system platforms (certification matrix) or configuration issues.
                        </p>
                     </li>
                     <li>
                        <p><a href="asmcmd-filterdriver-commands.html#GUID-C23690C6-0DE6-42A7-B9C7-4FB1FF13ED64" title="This topic provides a summary of the ASMCMD Oracle ASM filter driver (Oracle ASMFD) management commands.">ASMCMD Oracle ASM Filter Driver Management Commands</a> for information about the ASMCMD commands for administering Oracle ASMFD
                        </p>
                     </li>
                     <li>
                        <p><a href="about-asmcmd.html#GUID-995198B7-9235-4FCF-988E-A48B3B62B405" title="You should review the information in this topic before running the ASMCMD utility.">About ASMCMD</a> for information about all the ASMCMD commands
                        </p>
                     </li>
                     <li>
                        <p><a href="admin-asm-em.html#GUID-31708A3A-44B4-4586-87C9-0A8B46D0D08F">Managing Oracle ASM Filter Driver With Oracle Enterprise Manager</a> for information about using Oracle Enterprise Manager to administer Oracle ASMFD
                        </p>
                     </li>
                     <li>
                        <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for your operating system for information about installing and configuring Oracle Grid Infrastructure
                        </p>
                     </li>
                     <li>
                        <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for your operating system for information about deinstalling Oracle ASMLIB
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG95963"></a><div class="props_rev_3"><a id="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9" name="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9"></a><h3 id="OSTMG-GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9" class="sect3">About Oracle ASM Filter Driver</h3>
               <div>
                  <p>Oracle ASM Filter Driver (Oracle ASMFD) is a kernel module that resides in the I/O path of the Oracle ASM disks. Oracle ASM uses the filter driver to validate write I/O requests to Oracle ASM disks. </p>
                  <p>Oracle ASMFD simplifies the configuration and management of disk devices by eliminating the need to rebind disk devices used with Oracle ASM each time the system is restarted.</p>
                  <p>Oracle ASM Filter Driver rejects any I/O requests that are invalid. This action eliminates accidental overwrites of Oracle ASM disks that would cause corruption in the disks and files within the disk group. For example, the Oracle ASM Filter Driver filters out all non-Oracle I/Os which could cause accidental overwrites.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9__GUID-05E1EF83-EFA6-4155-9F9D-08F5077E4B27">About Oracle ASMLIB and Oracle ASM Filter Driver</p>
                     <p>Starting with Oracle Grid Infrastructure 12<span class="italic">c</span> Release 2 (12.2), Oracle ASM Filter Driver (Oracle ASMFD) cannot be installed and configured if Oracle ASMLIB has been installed on the system. If you want to install and configure Oracle ASMFD, you must first uninstall Oracle ASMLIB.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9__GUID-AABA7E6F-B418-4600-9926-F015069AA9EF">About Partition Tables and Oracle ASM Filter Driver</p>
                     <p>Extended partition tables are not supported with Oracle ASM filter driver (ASMFD) in Oracle Automatic Storage Management 12.2 Release 1 (12.2.0.1).</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-E1E9DA6F-6E4B-427A-83AE-7F9DFCE068D9__ORACLEGRIDINFRASTRUCTUREINSTALLATIO-09FE4485">
                        <p class="notep1">See Also:</p>
                        <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for your operating system for information about deinstalling Oracle ASMLIB
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG95909"></a><div class="props_rev_3"><a id="GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A" name="GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A"></a><h3 id="OSTMG-GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A" class="sect3">Configuring Oracle ASM Filter Driver</h3>
               <div>
                  <p>You can configure Oracle ASM Filter Driver (Oracle ASMFD) for device persistence during the installation of  Oracle Grid Infrastructure or after Oracle Grid Infrastructure has been installed.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-6F16B5EC-BE7D-44FA-A05B-A62CF33763D3">Configuring Oracle ASM Filter Driver During Installation</a></p>
                     </li>
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2">Configuring Oracle ASM Filter Driver After Installation</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A__GUID-30135C2C-B1B1-49EA-A8F2-8B8160B5105E">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If ASMLIB is installed and configured for an existing Oracle ASM installation, then you must explicitly deinstall the existing ASMLIB configuration before installing and configuring Oracle ASMFD. Refer to <a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for your operating system for information about deinstalling Oracle ASMLIB and the installation of Oracle Grid Infrastructure.
                           </p>
                        </li>
                        <li>
                           <p>If ASMLIB has been previously installed on the system, then you must set the Oracle ASM disk string to <code class="codeph">''</code> (with ASMCMD <code class="codeph">dsset ''</code>) before running ASMCMD <code class="codeph">afd_configure</code> to configure Oracle ASMFD.
                           </p>
                        </li>
                        <li>
                           <p>For additional information about configuring Oracle ASM filter driver (ASMFD), refer to My Oracle Support articles about Oracle ASMFD available at <a href="https://support.oracle.com" target="_blank">My Oracle Support</a> (<a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a>).
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-BB2B3A64-4B83-4A6D-816C-6472FAF9B27A__ORACLEGRIDINFRASTRUCTUREINSTALLATIO-33B24573">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for your operating system for information about installing and configuring Oracle Grid Infrastructure
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-6F16B5EC-BE7D-44FA-A05B-A62CF33763D3" name="GUID-6F16B5EC-BE7D-44FA-A05B-A62CF33763D3"></a><h4 id="OSTMG-GUID-6F16B5EC-BE7D-44FA-A05B-A62CF33763D3" class="sect4">Configuring Oracle ASM Filter Driver During Installation</h4>
                  <div>
                     <div class="section">
                        <p>During the installation of Oracle Grid Infrastructure, you can optionally enable automated installation and configuration of Oracle ASM Filter Driver for your system with the <span class="bold">Configure</span> <span class="bold">ASM</span> <span class="bold">Filter</span> <span class="bold">Driver</span> check box on the <span class="bold">Create</span> <span class="bold">ASM</span> <span class="bold">Disk</span> <span class="bold">Group</span> wizard page. When you enable the <span class="bold">Configure</span> <span class="bold">ASM</span> <span class="bold">Filter</span> <span class="bold">Driver</span> box, an automated process for Oracle ASMFD is launched during Oracle Grid Infrastructure installation.
                        </p>
                        <p>If you do not use <code class="codeph">udev</code> on the system where the Oracle Grid Infrastructure is installed, then you can also complete the following procedure to provision disks for Oracle ASMFD before the installer is launched. This procedure must be performed after the Oracle Grid Infrastructure installation zip files have been unzipped in the Oracle Grid Infrastructure home, but before you enable the <span class="bold">Configure</span> <span class="bold">ASM</span> <span class="bold">Filter</span> <span class="bold">Driver</span> check box during the installation process when the setup script is run.
                        </p>
                        <ol>
                           <li>
                              <p>To configure shared disks for use with Oracle ASM Filter Driver, log in as the <code class="codeph">root</code> user and set the environment variable <code class="codeph">$ORACLE_HOME</code> to the location of the Grid home and the environment variable <code class="codeph">$ORACLE_BASE</code> to a temporary location
                              </p><pre class="oac_no_warn" dir="ltr">su root
# set ORACLE_HOME=/u01/app/oracle/12.2.0/grid
# set ORACLE_BASE=/tmp</pre><p>The <code class="codeph">ORACLE_BASE</code> variable is set to a temporary location to avoid creating diagnostic or trace files in the Grid home before the Oracle Grid Infrastructure installation.
                              </p>
                              <p>Before running the commands in the following steps, ensure that you are in the <code class="codeph">$ORACLE_HOME/bin</code> directory.
                              </p>
                           </li>
                           <li>
                              <p>Use the ASMCMD <code class="codeph">afd_label</code> command to provision disk devices for use with Oracle ASM Filter Driver as follows. 
                              </p><pre class="oac_no_warn" dir="ltr"># asmcmd afd_label DATA1 /dev/disk1a --init</pre></li>
                           <li>
                              <p>Use the ASMCMD <code class="codeph">afd_lslbl</code> command to verify the device has been marked for use with Oracle ASMFD.
                              </p><pre class="oac_no_warn" dir="ltr"># asmcmd afd_lslbl /dev/disk1a</pre></li>
                           <li>
                              <p>Unset the <code class="codeph">ORACLE_BASE</code> variable when you have finished provisioning disks for Oracle ASMFD.
                              </p><pre class="oac_no_warn" dir="ltr"># unset ORACLE_BASE</pre></li>
                           <li>
                              <p>Run the setup installation script (<code class="codeph">gridSetup.sh</code>) to install Oracle Grid Infrastructure and enable Oracle ASM Filter Driver configuration. 
                              </p>
                              <p>On the <span class="bold">Create</span> <span class="bold">ASM</span> <span class="bold">Disk</span> <span class="bold">Group</span> wizard page during the installation process, check the <span class="bold">Configure</span> <span class="bold">ASM</span> <span class="bold">Filter</span> <span class="bold">Driver</span> box to enable configuration of Oracle ASM Filter Driver and then add your provisioned disks to the initial disk group (typically named <code class="codeph">DATA</code>).
                              </p>
                           </li>
                        </ol>
                        <p>For information about the ASMCMD commands for administering Oracle ASMFD, refer to <span class="q">"<a href="asmcmd-filterdriver-commands.html#GUID-C23690C6-0DE6-42A7-B9C7-4FB1FF13ED64" title="This topic provides a summary of the ASMCMD Oracle ASM filter driver (Oracle ASMFD) management commands.">ASMCMD Oracle ASM Filter Driver Management Commands</a>"</span>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2" name="GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2"></a><h4 id="OSTMG-GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2" class="sect4">Configuring Oracle ASM Filter Driver After Installation</h4>
                  <div>
                     <div class="section">
                        <p>If you did not enable configuration of Oracle ASM Filter Driver (ASMFD) during installation, you can manually configure your Oracle ASM devices to use Oracle ASMFD, as described in the following topics.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="administer-filter-driver.html#GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8">Configuring Oracle ASM Filter Driver in an Oracle Grid Infrastructure Clusterware Environment</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administer-filter-driver.html#GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6">Configuring Oracle ASM in an Oracle Grid Infrastructure Standalone Environment</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-E4B74681-0980-4CFF-A147-93A84E61F2D2__GUID-C41D84C7-8960-4673-81B2-9362BB8B9619">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://support.oracle.com" target="_blank">My Oracle Support</a> (<a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a> for articles about configuring Oracle ASM filter driver (ASMFD)
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../cwadd/oracle-clusterware-control-crsctl-utility-reference.html#CWADD91142" target="_blank"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about using CRSCTL commands
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OSTMG95910"></a><div class="props_rev_3"><a id="GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8" name="GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8"></a><h5 id="OSTMG-GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8" class="sect5">Configuring Oracle ASM Filter Driver in an Oracle Grid Infrastructure Clusterware Environment</h5>
                     <div>
                        <div class="section">
                           <p>To configure Oracle ASMFD in an Oracle Clusterware environment after installation, perform the following steps.</p>
                           <ol>
                              <li>
                                 <p>As the Oracle Grid Infrastructure owner, update the Oracle ASM disk discovery string to enable Oracle ASMFD to discover devices in the future. </p>
                                 <p>First retrieve the current value of the Oracle ASM disk discovery string. </p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd dsget
</pre><p>The value of <span class="italic"><code class="codeph">disk_string</code></span> in the above command is the current Oracle ASM disk discovery string value retrieved by <code class="codeph">dsget</code>. If the disks are in the default location for the operating system environment and disk discovery string has not been set, then the disk discovery string is empty. 
                                 </p>
                                 <p>Update the Oracle ASM disk discovery string. If the string is empty, update the value of the disk discovery string to include the default disk location.</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd dsset '<span class="italic"><code class="codeph">disk_string</code></span>,AFD:*'
</pre></li>
                              <li>
                                 <p>As the Oracle Grid Infrastructure owner, list the nodes and node roles in your cluster.</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/olsnodes -a
</pre></li>
                              <li>
                                 <p>On each Hub and Leaf node, perform this step either in rolling or non-rolling mode.</p>
                                 <ol type="a">
                                    <li>
                                       <p>Log in as the <code class="codeph">root</code> user and stop Oracle Grid Infrastructure.
                                       </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl stop crs
</pre><p>If the command returns an error, then stop Oracle Grid Infrastructure forcibly.</p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl stop crs -f
</pre></li>
                                    <li>
                                       <p>As the <code class="codeph">root</code> user, configure Oracle ASMFD to filter at the node level.
                                       </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/asmcmd afd_configure
</pre></li>
                                    <li>
                                       <p>As the Oracle Grid Infrastructure owner, verify the status of Oracle ASMFD.</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_state
ASMCMD-9526: The AFD state is 'LOADED' and filtering is 'ENABLED' on host 'myhost'
</pre></li>
                                    <li>
                                       <p>Label all the Oracle ASM disks with the Oracle ASMFD label.</p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/asmcmd afd_label '<span class="italic">label_name</span>' '<span class="italic">device_path</span>' --migrate</pre></li>
                                    <li>
                                       <p>As the<code class="codeph">root</code> user , start the Oracle Clusterware stack on the node.
                                       </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl start crs
</pre></li>
                                    <li>
                                       <p>As the Oracle Grid Infrastructure owner, set the Oracle ASMFD discovery disk string to the updated Oracle ASM disk discovery string value from Step 1.</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_dsset <span class="italic"><code class="codeph">disk_string</code></span>
</pre></li>
                                 </ol>
                              </li>
                           </ol>
                           <p>With the Oracle ASMFD discovery disk string properly set, Oracle ASM Filter Driver should identify and start managing disks, including those previously managed by Oracle ASMLIB.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-4A742DDE-0549-4C64-8F34-A631D4E7A9B8__GUID-DF273BDC-18C0-4D7B-BAFA-A31F9F786F24">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">Updating the Oracle ASM ASM_DISKSTRING Parameter for Oracle ASM Filter Driver Disks</a> for information about updating the Oracle ASM discovery string
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">Determining Whether Oracle ASM Filter Driver Has Been Configured</a> for information about checking on the state of the Oracle ASM Filter Driver
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D">Updating the Oracle ASM Filter Driver AFD_DISKSTRING Parameter</a> for information about updating the Oracle ASM Filter Driver discovery disk discovery string
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OSTMG95911"></a><div class="props_rev_3"><a id="GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6" name="GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6"></a><h5 id="OSTMG-GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6" class="sect5">Configuring Oracle ASM in an Oracle Grid Infrastructure Standalone Environment</h5>
                     <div>
                        <div class="section">
                           <p>To configure Oracle ASM filter driver (ASMFD) in a standalone (Oracle Restart) environment, perform the following steps.</p>
                           <ol>
                              <li>
                                 <p>As the Oracle Grid Infrastructure standalone server owner, update the Oracle ASM disk discovery string to enable Oracle ASMFD to discover disk devices in the future. </p>
                                 <p>First check the current value of the Oracle ASM disk discovery string, then update the value.</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd dsget

$ $ORACLE_HOME/bin/asmcmd dsset '<span class="italic"><code class="codeph">disk_string</code></span>,AFD:*'
</pre><p>The value of <span class="italic"><code class="codeph">disk_string</code></span> in the above command is the disk discovery string value retrieved by <code class="codeph">dsget</code>. 
                                 </p>
                              </li>
                              <li>
                                 <p>Log in as the <code class="codeph">root</code> user and stop Oracle Grid Infrastructure for a standalone server using the following command:
                                 </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl stop has -f
</pre></li>
                              <li>
                                 <p>As the <code class="codeph">root</code> user, configure Oracle ASMFD.
                                 </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/asmcmd afd_configure
</pre><p>This command configures Oracle ASMFD and deconfigures Oracle ASMLIB, if it exists.</p>
                              </li>
                              <li>
                                 <p>As the Oracle Grid Infrastructure standalone server owner, verify the Oracle ASMFD status.</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_state

ASMCMD-9526: The AFD state is 'LOADED' and filtering is 'ENABLED' on host 'myhost'
</pre></li>
                              <li>
                                 <p>As the <code class="codeph">root</code> user, start Oracle Grid Infrastructure for a standalone server.
                                 </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl start has
</pre></li>
                              <li>
                                 <p>As the Oracle Grid Infrastructure standalone server owner, set the Oracle ASMFD disk discovery string to the value of the updated Oracle ASM disk discovery string from Step 1.</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_dsset <span class="italic"><code class="codeph">disk_string</code></span>
</pre></li>
                           </ol>
                           <p>Oracle ASM Filter Driver should identify and start managing disks previously managed by Oracle ASMLIB.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-06B3337C-07A3-4B3F-B6CD-04F2916C11F6__FORINFORMATIONABOUTUPDATINGTHEORACL-DD1038A9">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">Updating the Oracle ASM ASM_DISKSTRING Parameter for Oracle ASM Filter Driver Disks</a> for information about updating the Oracle ASM discovery string
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">Determining Whether Oracle ASM Filter Driver Has Been Configured</a> for information about checking on the state of the Oracle ASM Filter Driver
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="OSTMG95750"></a><div class="props_rev_3"><a id="GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0" name="GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0"></a><h3 id="OSTMG-GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0" class="sect3">About Migrating to Oracle ASM Filter Driver From an ASMLIB Environment</h3>
               <div>
                  <p>If ASMLIB is installed and configured for an existing Oracle ASM installation, then you must explicitly uninstall the existing ASMLIB configuration before installing and configuring Oracle ASMFD.</p>
                  <p>Oracle recommends that you temporarily move Oracle Cluster Registry (OCR) and voting files to another disk group if one is available, as described in <a href="administer-filter-driver.html#GUID-9C370239-C67D-4813-BE83-B0528397C02D">Migrating Oracle ASM Disk Groups without Oracle Cluster Registry or Voting Files</a>, and migrate the disk group to use Oracle ASMFD. After migrating the disk group to use Oracle ASMFD, move OCR and voting files back to the disk group. You can similarly migrate any other disk groups if they contain OCR or voting files to ensure online migration of all disk groups to Oracle ASMFD.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-9C370239-C67D-4813-BE83-B0528397C02D">Migrating Oracle ASM Disk Groups without Oracle Cluster Registry or Voting Files</a></p>
                     </li>
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-6DB5A3A7-2F50-4918-A552-DFF7B5C9E7BF">Migrating Oracle ASM Disk Groups with Oracle Cluster Registry or Voting Files</a></p>
                     </li>
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-ECAFF45E-CB7F-4C43-B8E2-7F6DBA77F964">Migrating Oracle ASM Disk Groups in an Oracle Grid Infrastructure Standalone Environment</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-5144E8F4-7C68-4CE7-B70C-0C41FEAAABE0__GUID-0EEDE7F8-4A1C-4E79-A42A-05B2738270FF">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cwadd/managing-oracle-cluster-registry-and-voting-files.html#CWADD92368" target="_blank"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about replacing Oracle Cluster Registry locations and migrating voting files
                           </p>
                        </li>
                        <li>
                           <p><a href="../cwadd/oracle-clusterware-control-crsctl-utility-reference.html#CWADD91142" target="_blank"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about using CRSCTL commands
                           </p>
                        </li>
                        <li>
                           <p><a href="../cwadd/managing-oracle-cluster-registry-and-voting-files.html#CWADD70700" target="_blank"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about managing voting files, Oracle Cluster Registry (OCR), and Oracle Local Registry (OLR)
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about SRVCTL commands
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OSTMG95912"></a><div class="props_rev_3"><a id="GUID-9C370239-C67D-4813-BE83-B0528397C02D" name="GUID-9C370239-C67D-4813-BE83-B0528397C02D"></a><h4 id="OSTMG-GUID-9C370239-C67D-4813-BE83-B0528397C02D" class="sect4">Migrating Oracle ASM Disk Groups without Oracle Cluster Registry or Voting Files</h4>
                  <div>
                     <div class="section">
                        <p>To migrate Oracle ASM disk groups without Oracle Cluster Registry (OCR) or voting files to Oracle ASMFD:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in as the Oracle Grid Infrastructure owner on any node to run the commands in this procedure. </span></li>
                        <li class="stepexpand"><span>List the existing disk groups:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd lsdg
</pre></div>
                        </li>
                        <li class="stepexpand"><span>List the associated disks:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd lsdsk -G <span class="italic"><code class="codeph">diskgroup</code></span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Check if Oracle ASM is active:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/srvctl status asm
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Stop the databases and dismount the disk group on all nodes:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/srvctl stop diskgroup -diskgroup <span class="italic"><code class="codeph">diskgroup</code></span> -f
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Label all existing disks in the disk group by running the following command for each disk on a Hub node:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_label <span class="italic">label</span> <span class="italic"><code class="codeph">disk_path</code></span> --migrate
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Scan the disks on all Hub nodes: </span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_scan 
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Start the databases and mount the disk group on all nodes:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/srvctl start diskgroup -diskgroup <span class="italic"><code class="codeph">diskgroup</code></span></pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="OSTMG95913"></a><div class="props_rev_3"><a id="GUID-6DB5A3A7-2F50-4918-A552-DFF7B5C9E7BF" name="GUID-6DB5A3A7-2F50-4918-A552-DFF7B5C9E7BF"></a><h4 id="OSTMG-GUID-6DB5A3A7-2F50-4918-A552-DFF7B5C9E7BF" class="sect4">Migrating Oracle ASM Disk Groups with Oracle Cluster Registry or Voting Files</h4>
                  <div>
                     <div class="section">
                        <p>To migrate Oracle ASM disk groups with Oracle Cluster Registry (OCR) or voting files to Oracle ASM Filter Driver (Oracle ASMFD):</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in as the <code class="codeph">root</code> user and list the disk groups with OCR and voting files by running the following commands on one node:</span><div><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/ocrcheck -config

# $ORACLE_HOME/bin/crsctl query css votedisk
</pre></div>
                        </li>
                        <li class="stepexpand"><span>As the Oracle Grid Infrastructure owner list the disks associated with the disk groups:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd lsdsk -G <span class="italic">disk_group</span> 
</pre></div>
                        </li>
                        <li class="stepexpand"><span>As <code class="codeph">root</code>, stop the databases and Oracle Clusterware on all nodes:</span><div><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl stop cluster -all
</pre></div>
                        </li>
                        <li class="stepexpand"><span>As the Oracle Grid Infrastructure owner label all existing disks in the disk group by running the following command for each disk on a Hub node:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_label <span class="italic">label</span> <span class="italic">disk_path</span> --migrate
</pre></div>
                        </li>
                        <li class="stepexpand"><span>As the Oracle Grid Infrastructure owner rescan the disks on all Hub nodes by running the following command on all of the Hub nodes:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_scan
</pre></div>
                        </li>
                        <li class="stepexpand"><span>As <code class="codeph">root</code>, start the Oracle Clusterware stack on all nodes and mount the OCR and voting files disk groups and databases:</span><div><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl start cluster -all</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="OSTMG95914"></a><div class="props_rev_3"><a id="GUID-ECAFF45E-CB7F-4C43-B8E2-7F6DBA77F964" name="GUID-ECAFF45E-CB7F-4C43-B8E2-7F6DBA77F964"></a><h4 id="OSTMG-GUID-ECAFF45E-CB7F-4C43-B8E2-7F6DBA77F964" class="sect4">Migrating Oracle ASM Disk Groups in an Oracle Grid Infrastructure Standalone Environment</h4>
                  <div>
                     <div class="section">
                        <p>To migrate your existing Oracle ASM disk groups to Oracle ASM Filter Driver in an Oracle Grid Infrastructure standalone (Oracle Restart) environment, perform the following steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in as the Oracle Grid Infrastructure standalone server owner to run the steps in this procedure. </span></li>
                        <li class="stepexpand"><span>List the existing disk groups:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd lsdg 
</pre></div>
                        </li>
                        <li class="stepexpand"><span>List the existing disks:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd lsdsk -G <span class="italic"><code class="codeph">diskgroup_name</code></span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Check if the status of your Oracle ASM instance is active:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/srvctl status asm
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Stop all the databases and dismount all disk groups. For each database, run the following commands:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/srvctl stop database -db <span class="italic"><code class="codeph">db_unique_name</code></span>

$ /$ORACLE_HOME/bin/srvctl stop diskgroup -diskgroup <span class="italic"><code class="codeph">diskgroup_name</code></span> -f
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Label all existing disks in the disk group by running the following command for each disk:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_label <span class="italic"><code class="codeph">label</code></span> <span class="italic"><code class="codeph">disk_path</code></span> --migrate
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Rescan the disks:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_scan
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Start the database and mount the disk group:</span><div><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/srvctl start diskgroup -diskgroup <span class="italic"><code class="codeph">diskgroup_name</code></span></pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="OSTMG95730"></a><div class="props_rev_3"><a id="GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9" name="GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9"></a><h3 id="OSTMG-GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9" class="sect3">Determining Whether Oracle ASM Filter Driver Has Been Configured</h3>
               <div>
                  <p><a id="d213537e2555" class="indexterm-anchor"></a>The value of the <code class="codeph">AFD_STATE</code> parameter of <code class="codeph">SYS_ASMFD_PROPERTIES</code> specifies whether Oracle ASMFD is configured for the Oracle ASM instance.
                  </p>
                  <p>You can check the state of Oracle ASMFD with the ASMCMD <code class="codeph">afd_state</code> command. For example:
                  </p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_state
ASMCMD-9526: The AFD state is 'LOADED' and filtering is 'DEFAULT' on host 'myhost'
</pre><p>For information about using the ASMCMD <code class="codeph">afd_state</code> command to determine the state of Oracle ASMFD, refer to <span class="q">"<a href="asmcmd-filterdriver-commands.html#GUID-347F0484-FE6C-4103-A73E-EE4733C3AA8E">afd_state</a>"</span>.
                  </p>
                  <p>To determine if Oracles ASMFD is present on the host, you can also display the value of <code class="codeph">AFD_STATE</code> from <code class="codeph">SYS_CONTEXT</code>. You must run the query on the Oracle ASM instance.
                  </p>
                  <p>If the value of <code class="codeph">AFD_STATE</code> is equal to <code class="codeph">NOT</code> <code class="codeph">AVAILABLE</code>, then Oracle ASMFD is not configured. 
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT SYS_CONTEXT('SYS_ASMFD_PROPERTIES', 'AFD_STATE') FROM DUAL;
SYS_CONTEXT('SYS_ASMFD_PROPERTIES','AFD_STATE')
--------------------------------------------------------------------------------
NOT AVAILABLE
</pre><p>A value of <code class="codeph">CONFIGURED</code> means that Oracle ASMFD is completely set up and the Oracle ASM instance can register with the driver.
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT SYS_CONTEXT('SYS_ASMFD_PROPERTIES', 'AFD_STATE') FROM DUAL;
SYS_CONTEXT('SYS_ASMFD_PROPERTIES','AFD_STATE')
--------------------------------------------------------------------------------
CONFIGURED</pre></div>
            </div><a id="OSTMG95731"></a><div class="props_rev_3"><a id="GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D" name="GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D"></a><h3 id="OSTMG-GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D" class="sect3">Updating the Oracle ASM Filter Driver AFD_DISKSTRING Parameter</h3>
               <div>
                  <p><a id="d213537e2750" class="indexterm-anchor"></a>The <code class="codeph">AFD_DISKSTRING</code> parameter specifies the Oracle ASMFD disk discovery string that is used to identify the disks to be managed by Oracle ASMFD.
                  </p>
                  <p>You can set and display the <code class="codeph">AFD_DISKSTRING</code> parameter with the ASMCMD <code class="codeph">afd_dsset</code> and <code class="codeph">afd_dgset</code> commands. For example:
                  </p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_dsset '/dev/rdsk/mydisks/*'

$ $ORACLE_HOME/bin/asmcmd afd_dsget
AFD discovery string: /dev/rdsk/mydisks/*
</pre><p>For information about ASMCMD commands to display and set the Oracle ASMFD disk discovery string, refer to <span class="q">"<a href="asmcmd-filterdriver-commands.html#GUID-CF2B5891-F67E-4F6C-9F00-C9428B41AFF3">afd_dsget</a>"</span> and <span class="q">"<a href="asmcmd-filterdriver-commands.html#GUID-4CD4D2E9-A3C2-45CE-B9B3-AE97082CA560">afd_dsset</a>"</span>.
                  </p>
                  <p>You can also set the <code class="codeph">AFD_DISKSTRING</code> with the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> SQL statement. A label is created in the disk header of those disks identified by the Oracle ASMFD disk discovery string.
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM AFD_DISKSTRING SET '/dev/disk0','/dev/disk1','/devices/dsk/*';
System altered.
</pre><p>You can retrieve the value of <code class="codeph">AFD_DISKSTRING</code> parameter with the following query.
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT SYS_CONTEXT('SYS_ASMFD_PROPERTIES', 'AFD_DISKSTRING') FROM DUAL;
SYS_CONTEXT('SYS_ASMFD_PROPERTIES','AFD_DISKSTRING')
--------------------------------------------------------------------------------
'/dev/disk0','/dev/disk1','/devices/dsk/*'</pre></div>
            </div><a id="OSTMG95749"></a><div class="props_rev_3"><a id="GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744" name="GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744"></a><h3 id="OSTMG-GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744" class="sect3">Updating the Oracle ASM ASM_DISKSTRING Parameter for Oracle ASM Filter Driver Disks</h3>
               <div>
                  <p><a id="d213537e2941" class="indexterm-anchor"></a>You can update the Oracle ASM disk discovery string to add or remove Oracle ASMFD disk label names to and from the <code class="codeph">ASM_DIKSTRING</code> initialization parameter.
                  </p>
                  <p>For example, you can add the Oracle ASMFD disks to the <code class="codeph">ASM_DIKSTRING</code> initialization parameter as follows:
                  </p><pre class="oac_no_warn" dir="ltr">ASM_DISKSTRING = 'AFD:DISK0', 'AFD:DISK1', '/dev/rdsk/mydisks/*'
</pre><p>Or you can set the <code class="codeph">ASM_DIKSTRING</code> initialization parameter as follows:
                  </p><pre class="oac_no_warn" dir="ltr">ASM_DISKSTRING = 'AFD:*', '/dev/rdsk/mydisks/*'
</pre><p>You can display and set the Oracle ASM disk discovery string with the ASMCMD <code class="codeph">dsget</code> and <code class="codeph">dsset</code> commands. For example, you can set the Oracle ASM disk discovery string to add Oracle ASMFD disks as follows:
                  </p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd dsset 'AFD:*,/dev/rdsk/mydisks/*'
</pre><p>You can remove previously added Oracle ASMFD disks as follows:</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd dsset '/dev/rdsk/mydisks/*'
</pre><p>For information about ASMCMD commands to display and set the Oracle ASM disk discovery string, refer to <span class="q">"<a href="asmcmd-instance-commands.html#GUID-33ECC9A3-2BF7-4986-A281-D265953DB834">dsget</a>"</span> and <span class="q">"<a href="asmcmd-instance-commands.html#GUID-2843EAD5-1FD5-4AB9-AA0F-5421E99245A4">dsset</a>"</span>.
                  </p>
                  <p>For information about the <code class="codeph">ASM_DISKSTRING</code> initialization parameter, refer to <span class="q">"<a href="init-params-asm-instance.html#GUID-03BD4335-FEF9-4147-B8E4-E63F2D80F863" title="The ASM_DISKSTRING initialization parameter specifies a comma-delimited list of strings that limits the set of disks that an Oracle ASM instance discovers.">ASM_DISKSTRING</a>"</span>.
                  </p>
               </div>
            </div><a id="OSTMG95732"></a><div class="props_rev_3"><a id="GUID-302F7233-B905-4D1E-A1AD-9A00EDC6A6F3" name="GUID-302F7233-B905-4D1E-A1AD-9A00EDC6A6F3"></a><h3 id="OSTMG-GUID-302F7233-B905-4D1E-A1AD-9A00EDC6A6F3" class="sect3">Setting, Clearing, and Scanning Oracle ASM Filter Driver Labels</h3>
               <div>
                  <p><a id="d213537e3143" class="indexterm-anchor"></a>Setting a label provisions a disk to be used by Oracle ASMFD. After the label is set, the specified disk is managed by Oracle ASMFD.
                  </p>
                  <p>You can add, remove, and scan labels with the ASMCMD <code class="codeph">afd_label</code>, <code class="codeph">afd_unlabel</code>, and <code class="codeph">afd_scan</code> commands. For example:
                  </p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_label 'disk0' '/dev/rdsk/mydisks/disk0'

$ $ORACLE_HOME/bin/asmcmd afd_unlabel 'disk0'

$ $ORACLE_HOME/bin/asmcmd afd_scan '/dev/rdsk/mydisks/*'
</pre><p>For information about ASMCMD commands to add and remove labels on Oracle ASMFD disks, refer to <span class="q">"<a href="asmcmd-filterdriver-commands.html#GUID-C407F7A9-3734-4C84-A178-1756E366E327">afd_label</a>"</span>, <span class="q">"<a href="asmcmd-filterdriver-commands.html#GUID-6B538AFE-0396-46F8-B44B-6EAB157B4267">afd_unlabel</a>"</span>, and <span class="q">"<a href="asmcmd-filterdriver-commands.html#GUID-B9065195-A58D-4364-90E8-181C98F4B44F">afd_scan</a>"</span>. In addition, ASMCA provides support for adding and removing labels on Oracle ASMFD disks. For information about using ASMCA to administer disk groups, refer to <span class="q">"<a href="manage-asm-asmca.html#GUID-F78B035C-168D-4CBB-B321-21BB57FED363" title="Oracle ASM Configuration Assistant enables you to configure or create Oracle ASM disk groups with the Configure ASM Disk Groups tab.">Managing Disk Groups with ASMCA</a>"</span>.
                  </p>
                  <p>You can also manage labels with SQL statements. You can set a label with the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">SET</code> SQL statement. For example:
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM LABEL SET 'disk0' TO '/dev/disk0';
System altered.

SQL&gt; SELECT UPPER(path) FROM V$ASM_DISK ORDER BY PATH;
UPPER(PATH)
--------------------------------------------------------------------------------
AFD:DISK0
</pre><p>When you run the statement, you can use the optional <code class="codeph">RENAME</code> or <code class="codeph">MIGRATE</code> option. If a disk was previously provisioned for Oracle ASMFD, you can rename the label with the <code class="codeph">RENAME</code> option. Note that the device should not be managed with Oracle ASMFD when the command is run. If a disk was previously used for an Oracle ASM disk group and the disk group has been dismounted, then you can label this disk using the <code class="codeph">MIGRATE</code> option.
                  </p>
                  <p>You can use <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">CLEAR</code> to remove the label from a device and stop Oracle ASMFD from managing the device. For example:
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM LABEL CLEAR 'disk0';
System altered.
</pre><p>You can use <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">SCAN</code> on remote nodes after the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">SET</code> command is run on the local node.
                  </p>
                  <p>Because <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">LABEL</code> <code class="codeph">SET</code> statement writes the label on the disk header and the disk is shared across nodes, the same statement is not run on other nodes of the cluster.
                  </p>
                  <p>If the device-path is not specified, then the statement uses the <code class="codeph">AFD_DISKSTRING</code> parameter value to perform the scan operation.
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM LABEL SCAN</pre></div>
            </div><a id="OSTMG95915"></a><div class="props_rev_3"><a id="GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71" name="GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71"></a><h3 id="OSTMG-GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71" class="sect3">Deconfiguring Oracle ASM Filter Driver</h3>
               <div>
                  <p><a id="d213537e3432" class="indexterm-anchor"></a>You can deconfigure Oracle ASM Filter Driver (Oracle ASMFD) if it has been configured on your system.
                  </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="administer-filter-driver.html#GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372">Deconfiguring Oracle ASM Filter Driver in an Oracle Grid Infrastructure Clusterware Environment</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="administer-filter-driver.html#GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2">Deconfiguring Oracle ASM Filter Driver in an Oracle Grid Infrastructure Standalone (Oracle Restart) Environment</a>"</span></p>
                     </li>
                  </ul>
                  <p>For information about the ASMCMD commands for administering Oracle ASMFD, refer to <span class="q">"<a href="asmcmd-filterdriver-commands.html#GUID-C23690C6-0DE6-42A7-B9C7-4FB1FF13ED64" title="This topic provides a summary of the ASMCMD Oracle ASM filter driver (Oracle ASMFD) management commands.">ASMCMD Oracle ASM Filter Driver Management Commands</a>"</span>. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-1EFAF5B4-88B4-4263-8462-FCE279D94D71__GUID-A7CA781A-53DD-4286-8356-A2B9410D2D95">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/ostmg&amp;id=CWADD91142" target="_blank"><span class="italic">Oracle Clusterware Administration and Deployment Guide</span></a> for information about using CRSCTL commands
                     </p>
                  </div>
               </div><a id="OSTMG95916"></a><div class="props_rev_3"><a id="GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372" name="GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372"></a><h4 id="OSTMG-GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372" class="sect4">Deconfiguring Oracle ASM Filter Driver in an Oracle Grid Infrastructure Clusterware Environment</h4>
                  <div>
                     <div class="section">
                        <p>Perform the following steps to deconfigure Oracle ASM Filter Driver in an Oracle Clusterware environment:</p>
                        <ol>
                           <li>
                              <p>Update the Oracle ASM disk discovery string to enable Oracle ASM to discover disk devices after Oracle ASMFD is deconfigured.</p>
                           </li>
                           <li>
                              <p>As the Oracle Grid Infrastructure owner list the nodes and node roles in your cluster by running the following command on any node:</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/olsnodes -a
</pre></li>
                           <li>
                              <p>On each Hub and Leaf node, do the following, either in rolling or non-rolling mode:</p>
                              <ol type="a">
                                 <li>
                                    <p>Log in as the <code class="codeph">root</code> user and stop Oracle Grid Infrastructure:
                                    </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl stop crs
</pre><p>If the command returns any error, then stop Oracle Grid Infrastructure forcibly as follows:</p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl stop crs -f
</pre></li>
                                 <li>
                                    <p>As <code class="codeph">root</code>, stop Oracle ACFS kernel modules to ensure the most reliable shutdown:
                                    </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/acfsload stop
</pre></li>
                                 <li>
                                    <p>As <code class="codeph">root</code>, deconfigure Oracle ASMFD:
                                    </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/asmcmd afd_deconfigure
</pre></li>
                                 <li>
                                    <p>As <code class="codeph">root</code>, start ACFS kernel modules:
                                    </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/acfsload start
</pre></li>
                                 <li>
                                    <p>As <code class="codeph">root</code>, start the Oracle Clusterware stack on the node:
                                    </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl start crs
</pre></li>
                                 <li>
                                    <p>As the Oracle Grid Infrastructure owner verify the status of Oracle ASMFD:</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_state
</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>As the Oracle Grid Infrastructure owner update the Oracle ASM discovery string to remove the Oracle ASMFD path:</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd dsget

$ $ORACLE_HOME/bin/asmcmd dsset <span class="italic"><code class="codeph">old_diskstring</code></span>
</pre><p>Check the current value of the Oracle ASM disk discovery string before updating the value. The <span class="italic"><code class="codeph">old_diskstring</code></span> value is the old disk discovery string value before updating with the <code class="codeph">AFD:</code> (Oracle ASMFD) paths.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-7B046A8B-06ED-48D6-81B0-3A29F45BA372__FORINFORMATIONABOUTUPDATINGTHEORACL-DB1970C2">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">Updating the Oracle ASM ASM_DISKSTRING Parameter for Oracle ASM Filter Driver Disks</a> for information about updating the Oracle ASM disk discovery string
                                 </p>
                              </li>
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D">Updating the Oracle ASM Filter Driver AFD_DISKSTRING Parameter</a> for information about updating the Oracle ASM Filter Driver discovery disk discovery string
                                 </p>
                              </li>
                              <li>
                                 <p><a href="acfs-advanced-topics.html#GUID-5BA14B0C-DB90-433F-9394-DD7B44078835">acfsload</a> for information about the <code class="codeph">acfsload</code> command
                                 </p>
                              </li>
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">Determining Whether Oracle ASM Filter Driver Has Been Configured</a> for information about checking on the state of the Oracle ASM Filter Driver
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OSTMG95917"></a><div class="props_rev_3"><a id="GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2" name="GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2"></a><h4 id="OSTMG-GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2" class="sect4">Deconfiguring Oracle ASM Filter Driver in an Oracle Grid Infrastructure Standalone (Oracle Restart) Environment</h4>
                  <div>
                     <div class="section">
                        <p>Perform the following steps to deconfigure Oracle ASM Filter Driver in an Oracle Grid Infrastructure standalone environment:</p>
                        <ol>
                           <li>
                              <p>Update the Oracle ASM disk discovery string to enable Oracle ASM to discover disk devices after Oracle ASMFD is deconfigured.</p>
                           </li>
                           <li>
                              <p>Log in as the <code class="codeph">root</code> user and stop Oracle Grid Infrastructure for a standalone server using the following command:
                              </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl stop has
</pre><p>If the previous command returns an error, then use the following command:</p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl stop has -f
</pre></li>
                           <li>
                              <p>As <code class="codeph">root</code>, stop Oracle ACFS kernel modules to ensure the most reliable shutdown:
                              </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/acfsload stop
</pre></li>
                           <li>
                              <p>As <code class="codeph">root</code>, deconfigure Oracle ASMFD:
                              </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/asmcmd afd_deconfigure
</pre></li>
                           <li>
                              <p>As <code class="codeph">root</code>, start ACFS kernel modules:
                              </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/acfsload start
</pre></li>
                           <li>
                              <p>As <code class="codeph">root</code>, start Oracle Grid Infrastructure for a standalone server:
                              </p><pre class="oac_no_warn" dir="ltr"># $ORACLE_HOME/bin/crsctl start has
</pre></li>
                           <li>
                              <p>As the Oracle Grid Infrastructure standalone server owner verify the Oracle ASMFD status:</p><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd afd_state
</pre></li>
                           <li>
                              <p>As the Oracle Grid Infrastructure standalone server owner update the Oracle ASM disk discovery string to remove the Oracle ASMFD paths:</p>
                           </li>
                        </ol><pre class="oac_no_warn" dir="ltr">$ $ORACLE_HOME/bin/asmcmd dsget

$ $ORACLE_HOME/bin/asmcmd dsset <span class="italic"><code class="codeph">old_diskstring</code></span>
</pre><p>Check the current value of the Oracle ASM disk discovery string before updating the value. The <span class="italic"><code class="codeph">old_diskstring</code></span> value is the old disk discovery string value before updating with the <code class="codeph">AFD:</code> (Oracle ASMFD) paths.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-6AABD466-CC4D-4D17-92DB-42D65FB713F2__GUID-1147DA18-E2A1-4E91-94E7-785B093C9914">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-87325E5D-C073-45BE-B377-1A3DEB4FA744">Updating the Oracle ASM ASM_DISKSTRING Parameter for Oracle ASM Filter Driver Disks</a> for information about updating the Oracle ASM disk discovery string
                                 </p>
                              </li>
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-FEB09119-1CF1-40CC-87F1-9B2B945BF57D">Updating the Oracle ASM Filter Driver AFD_DISKSTRING Parameter</a> for information about updating the Oracle ASM Filter Driver discovery disk discovery string
                                 </p>
                              </li>
                              <li>
                                 <p><a href="acfs-advanced-topics.html#GUID-5BA14B0C-DB90-433F-9394-DD7B44078835">acfsload</a> for information about the <code class="codeph">acfsload</code> command
                                 </p>
                              </li>
                              <li>
                                 <p><a href="administer-filter-driver.html#GUID-299D4BEC-879F-45F7-AEAC-D8CE01624BA9">Determining Whether Oracle ASM Filter Driver Has Been Configured</a> for information about checking on the state of the Oracle ASM Filter Driver
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-746AAA69-D7D9-4143-BE51-0BDFE9BB8DED" name="GUID-746AAA69-D7D9-4143-BE51-0BDFE9BB8DED"></a><h3 id="OSTMG-GUID-746AAA69-D7D9-4143-BE51-0BDFE9BB8DED" class="sect3">Oracle ASM Filter Driver Commands</h3>
               <div>
                  <p>This section describes the Oracle ASM Filter Driver (ASMFD) commands that are used during installation to manage Oracle ASM Filter Driver. These commands are located in the <code>/bin</code> directory of the Oracle Grid Infrastructure home.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C">afdload</a></p>
                     </li>
                     <li>
                        <p><a href="administer-filter-driver.html#GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A">afddriverstate</a></p>
                     </li>
                  </ul>
               </div>
               <div class="sect3"><a id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C" name="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C"></a><h4 id="OSTMG-GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C" class="sect4">afdload</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__GUID-1C89E4B7-B49E-40D4-98EB-53840CDA09B9">Purpose</p>
                        <p><code class="codeph">afdload</code> loads or unloads the Oracle ASM Filter Driver.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__GUID-AA6DBC84-C314-4C9F-9774-ADD3B61CC13F">Syntax</p><pre class="oac_no_warn" dir="ltr">afdload { start | stop  } [ -s ]
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="administer-filter-driver.html#GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__OPTIONSFORTHEAFDLOADCOMMAND-928439BF" title="This table lists the options for the afdload command, along with a description for each option">Table 20-1</a> contains the options available with the <code class="codeph">afdload</code> command.
                        </p>
                        <div class="tblformal" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__OPTIONSFORTHEAFDLOADCOMMAND-928439BF">
                           <p class="titleintable">Table 20-1 Options for the afdload command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the afdload command" summary="This table lists the options for the afdload command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d213537e4290">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d213537e4293">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4298" headers="d213537e4290 ">
                                       <p><code class="codeph">start</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4298 d213537e4293 ">
                                       <p>Loads the Oracle ASM Filter Driver.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4306" headers="d213537e4290 ">
                                       <p><code class="codeph">stop</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4306 d213537e4293 ">
                                       <p>Unloads the Oracle ASM Filter Driver.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4314" headers="d213537e4290 ">
                                       <p><code class="codeph">-s</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4314 d213537e4293 ">
                                       <p>Operate in silent mode.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__DESCRIPTION-92845F98">Description</p>
                        <p>You can use <code class="codeph">afdload</code> to manually load or unload the Oracle ASM Filter Driver.
                        </p>
                        <p>Before unloading driver with the <code class="codeph">stop</code> option, you must dismount disk groups and shut down Oracle ASM. 
                        </p>
                        <p><code class="codeph">root</code> or administrator privilege is required to run <code class="codeph">afdload</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-46DF168D-01D1-4DA7-AB64-EC9C8821331C__GUID-0461BD74-6912-4E70-AAD5-AE31AC62F224">Examples</p>
                        <p>The following is an example of the use of <code class="codeph">afdload</code> to stop (unload) the Oracle ASM Filter Driver.
                        </p><pre class="oac_no_warn" dir="ltr"># afdload stop</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A" name="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A"></a><h4 id="OSTMG-GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A" class="sect4">afddriverstate</h4>
                  <div>
                     <div class="section">
                        <p class="subhead3" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__GUID-AE8FF5FA-F4B0-4E97-8F54-6071C98DAB5F">Purpose</p>
                        <p><code class="codeph">afddriverstate</code> provides information on the current state of the Oracle ASM Filter Driver.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__GUID-75FDB9EF-2A01-44DB-BB90-B4218B78D9DA">Syntax</p><pre class="pre codeblock"><code>afddriverstate [-orahome <span class="italic">ORACLE_HOME</span> ] 
    { installed | loaded | version | supported } [-s]</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="administer-filter-driver.html#GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__OPTIONSFORTHEAFDDRIVERSTATECOMMAND-927FE034" title="This table lists the options for the afddriverstate command, along with a description for each option">Table 20-2</a> contains the options available with the afddriverstate command.
                        </p>
                        <div class="tblformal" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__OPTIONSFORTHEAFDDRIVERSTATECOMMAND-927FE034">
                           <p class="titleintable">Table 20-2 Options for the afddriverstate command</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Options for the afddriverstate command" summary="This table lists the options for the afddriverstate command, along with a description for each option" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d213537e4529">Option</th>
                                    <th align="left" valign="bottom" width="69%" id="d213537e4532">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4537" headers="d213537e4529 ">
                                       <p><code class="codeph">-orahome</code> <span class="italic"><code class="codeph">ORACLE_HOME</code></span></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4537 d213537e4532 ">
                                       <p>Specifies the Oracle Grid Infrastructure home in which the user has permission to execute the <code class="codeph">afddriverstate</code> command.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4552" headers="d213537e4529 ">
                                       <p><code class="codeph">installed</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4552 d213537e4532 ">
                                       <p>Determines whether Oracle ASM Filter Driver is installed on the system.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4560" headers="d213537e4529 ">
                                       <p><code class="codeph">loaded</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4560 d213537e4532 ">
                                       <p>Determines whether the Oracle ASM Filter Driver is loaded in memory.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4568" headers="d213537e4529 ">
                                       <p><code class="codeph">version</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4568 d213537e4532 ">
                                       <p>Reports the currently installed version of the Oracle ASM Filter Driver system software.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4576" headers="d213537e4529 ">
                                       <p><code class="codeph">supported</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4576 d213537e4532 ">
                                       <p>Reports whether the system is a supported kernel for Oracle ASM Filter Driver.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d213537e4584" headers="d213537e4529 ">
                                       <p><code class="codeph">-s</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d213537e4584 d213537e4532 ">
                                       <p>Specifies silent mode when running the command.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__GUID-955B23BC-D2E2-43CF-9041-B6115E05A15D">Description</p>
                        <p>You can use <code class="codeph">afddriverstate</code> to display detailed information on the current state of the Oracle ASM Filter Driver.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D15C88FA-5D6A-4E30-B245-65FAB3A94D7A__EXAMPLES-92801B1C">Examples</p>
                        <p>The following is an example of the use of <code class="codeph">afddriverstate</code>.
                        </p><pre class="oac_no_warn" dir="ltr">$ afddriverstate version
AFD-9325:     Driver operating system kernel version = 2.6.39-400.3.0.el6uek.x86_64(x86_64).
AFD-9326:     Driver Oracle version = 150728.
AFD-9212:     Driver build version = MAIN.
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>