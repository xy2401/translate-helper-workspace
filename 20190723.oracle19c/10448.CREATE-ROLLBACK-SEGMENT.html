<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CREATE ROLLBACK SEGMENT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CREATE-ROLE.html" title="Previous" type="text/html">
      <link rel="next" href="CREATE-SCHEMA.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CREATE-ROLE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CREATE-SCHEMA.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-CREATE-LIBRARY-to-CREATE-SCHEMA.html" property="item" typeof="WebPage"><span property="name"> SQL Statements: CREATE LIBRARY to CREATE SCHEMA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">CREATE ROLLBACK SEGMENT </li>
            </ol>
            <a id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9" name="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9"></a><a id="SQLRF54316"></a><a id="SQLRF54317"></a><a id="SQLRF54318"></a><a id="SQLRF54319"></a><a id="SQLRF54320"></a><a id="SQLRF54321"></a><a id="SQLRF01312"></a>
            
            <h2 id="SQLRF-GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9" class="sect2">CREATE ROLLBACK SEGMENT </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <div class="infoboxnote" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-6D5C4A6F-A820-4708-BADA-0ED675E8F932">
                     <p class="notep1">Note:</p>
                     <p>Oracle strongly recommends that you run your database in automatic undo management mode instead of using rollback segments. Do not use rollback segments unless you must do so for compatibility with earlier versions of Oracle Database. Refer to <a href="../admin/managing-undo.html#ADMIN013" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information on automatic undo management.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-6AA7BA57-AA0C-4DF0-9A47-F8E3B2E6B45F">Purpose</p>
                  <p>Use the <code class="codeph">CREATE ROLLBACK SEGMENT</code> statement to create a <span class="bold">rollback segment</span>, which is an object that Oracle Database uses to store data necessary to reverse, or undo, changes made by transactions.
                  </p>
                  <p>The information in this section assumes that your database is not running in automatic undo mode (the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter is set to <code class="codeph">MANUAL</code> or not set at all). If your database is running in automatic undo mode (the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter is set to <code class="codeph">AUTO</code>, which is the default), then rollback segments are not permitted. However, errors generated in rollback segment operations are suppressed.
                  </p>
                  <p>Further, if your database has a locally managed <code class="codeph">SYSTEM</code> tablespace, then you cannot create rollback segments in any dictionary-managed tablespace. Instead, you must either use the automatic undo management feature or create locally managed tablespaces to hold the rollback segments.
                  </p>
                  <div class="infoboxnote" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-66A42365-484C-4D54-853B-496003A46C1C">
                     <p class="notep1">Note:</p>
                     <p>A tablespace can have multiple rollback segments. Generally, multiple rollback segments improve performance.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The tablespace must be online for you to add a rollback segment to it.</p>
                        </li>
                        <li>
                           <p>When you create a rollback segment, it is initially offline. To make it available for transactions by your Oracle Database instance, bring it online using the <code class="codeph">ALTER ROLLBACK SEGMENT</code> statement. To bring it online automatically whenever you start up the database, add the segment name to the value of the <code class="codeph">ROLLBACK_SEGMENT</code> initialization parameter.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>To use objects in a tablespace other than the <code class="codeph">SYSTEM</code> tablespace:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you are using rollback segments for undo, then at least one rollback segment (other than the <code class="codeph">SYSTEM</code> rollback segment) must be online.
                        </p>
                     </li>
                     <li>
                        <p>If you are running the database in automatic undo mode, then at least one <code class="codeph">UNDO</code> tablespace must be online.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-54BB6B8C-D1F7-49A2-831E-FD2238A2325A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="ALTER-ROLLBACK-SEGMENT.html#GUID-B25701E3-A074-44C4-9018-C6691BEB2483">ALTER ROLLBACK SEGMENT</a> for information on altering a rollback segment
                           </p>
                        </li>
                        <li>
                           <p><a href="DROP-ROLLBACK-SEGMENT.html#GUID-26B4C9D6-EFB4-4523-B84D-FAD42060D3D4">DROP ROLLBACK SEGMENT</a> for information on removing a rollback segment
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/UNDO_MANAGEMENT.html#REFRN10224" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the <code class="codeph">UNDO_MANAGEMENT</code> parameter
                           </p>
                        </li>
                        <li>
                           <p><a href="../admin/managing-undo.html#ADMIN013" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information on automatic undo mode
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-1FDAFF2C-0B3B-408C-B394-97CD83808704">Prerequisites</p>
                  <p>To create a rollback segment, you must have the <code class="codeph">CREATE ROLLBACK SEGMENT</code> system privilege.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-76DD3AC9-3FA6-4366-A491-632069E675EE">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-70233A26-4C7F-41B2-B5B4-DFA1BB26B12F"><span class="italic">create_rollback_segment</span>::=
                  </p>
                  <div class="figure" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-0E81DA3B-4B74-42EE-95B1-3204E8CE5EA8"><img src="img/create_rollback_segment.gif" alt="Description of create_rollback_segment.eps follows" title="Description of create_rollback_segment.eps follows" longdesc="img_text/create_rollback_segment.html"><br><a href="img_text/create_rollback_segment.html">Description of the illustration create_rollback_segment.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15">storage_clause</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-A803DC89-4B7D-457A-987A-A9BB3BF9C274">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-97B09531-4AC9-4AD4-B34B-9505CC2DE75B">PUBLIC</p>
                  <p>Specify <code class="codeph">PUBLIC</code> to indicate that the rollback segment is public and is available to any instance. If you omit this clause, then the rollback segment is private and is available only to the instance naming it in its initialization parameter <code class="codeph">ROLLBACK_SEGMENTS</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-70453522-403A-45B7-8C5B-0DB42C8218F0"><span class="italic">rollback_segment</span></p>
                  <p>Specify the name of the rollback segment to be created. The name must satisfy the requirements listed in <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-C9AB0B19-3844-455F-AF38-3DD252F9183A">TABLESPACE</p>
                  <p>Use the <code class="codeph">TABLESPACE</code> clause to identify the tablespace in which the rollback segment is created. If you omit this clause, then the database creates the rollback segment in the <code class="codeph">SYSTEM</code> tablespace.
                  </p>
                  <div class="infoboxnote" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-23850977-F6EC-4470-B709-BEC090C7FCFC">
                     <p class="notep1">Note:</p>
                     <p>Oracle Database must access rollback segments frequently. Therefore, Oracle strongly recommends that you do not create rollback segments in the <code class="codeph">SYSTEM</code> tablespace, either explicitly or implicitly by omitting this clause. In addition, to avoid high contention for the tablespace containing the rollback segment, it should not contain other objects such as tables and indexes, and it should require minimal extent allocation and deallocation.
                     </p>
                     <p>To achieve these goals, create rollback segments in locally managed tablespaces with autoallocation disabled—in tablespaces created with the <code class="codeph">EXTENT MANAGEMENT LOCAL</code> clause with the <code class="codeph">UNIFORM</code> setting. The <code class="codeph">AUTOALLOCATE</code> setting is not supported.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-AA554490-67D3-4323-89C9-316418A1FC6D">
                     <p class="notep1">See Also:</p>
                     <p><a href="CREATE-TABLESPACE.html#GUID-51F07BF5-EFAF-4910-9040-C473B86A8BF9">CREATE TABLESPACE</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-5061334A-4279-4CC4-BDA1-B4CD0FB1A144"><span class="italic">storage_clause</span></p>
                  <p>The <span class="italic"><code class="codeph">storage_clause</code></span> lets you specify storage characteristics for the rollback segment.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">OPTIMAL</code> parameter of the <span class="italic"><code class="codeph">storage_clause</code></span> is of particular interest, because it applies only to rollback segments.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify the <code class="codeph">PCTINCREASE</code> parameter of the <span class="italic"><code class="codeph">storage_clause</code></span> with <code class="codeph">CREATE ROLLBACK SEGMENT</code>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-2F073A7E-BF6E-4650-8202-5B1FDA09AAFC">
                     <p class="notep1">See Also:</p>
                     <p><span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15">storage_clause</a></span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__GUID-1BDFBC32-E55D-4BEF-8607-AC58B32B06B6">Examples</p>
                  <p id="GUID-14AE3104-5B33-4E53-8E6F-6B2F037B52E9__CCHIHJDF"><span class="bold">Creating a Rollback Segment: Example</span></p>
                  <p>The following statement creates a rollback segment with default storage values in an appropriately configured tablespace:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE rbs_ts
   DATAFILE 'rbs01.dbf' SIZE 10M
   EXTENT MANAGEMENT LOCAL UNIFORM SIZE 100K;

/* This example and the next will fail if your database is in 
   automatic undo mode.
*/
CREATE ROLLBACK SEGMENT rbs_one
   TABLESPACE rbs_ts;
</pre><p>The preceding statement is equivalent to the following:</p><pre class="oac_no_warn" dir="ltr">CREATE ROLLBACK SEGMENT rbs_one
   TABLESPACE rbs_ts
   STORAGE
   ( INITIAL 10K );</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>