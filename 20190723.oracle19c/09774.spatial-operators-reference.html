<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes the operators that you can use when working with the spatial object data type.">
      <meta name="description" content="This chapter describes the operators that you can use when working with the spatial object data type.">
      <title>Spatial Operators</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="This chapter describes the operators that you can use when working with the spatial object data type.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94799-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="sql-indexing-spatial-data.html" title="Previous" type="text/html">
      <link rel="next" href="spatial-aggregate-functions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="SPATL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="sql-indexing-spatial-data.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="spatial-aggregate-functions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-reference-information.html" property="item" typeof="WebPage"><span property="name">  Reference Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Spatial Operators </li>
            </ol>
            <a id="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" name="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87"></a><a id="SPATL1021"></a><a id="SPATL1022"></a><a id="SPATL110"></a>
            
            <h2 id="SPATL-GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" class="sect2"><span class="enumeration_chapter">20 </span> Spatial Operators 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes the operators that you can use when working with the spatial object data type.</p>
               <p>For an overview of spatial operators, including how they differ from spatial procedures and functions, see <a href="spatial-concepts.html#GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244" title="The Spatial and Graph PL/SQL application programming interface (API) includes several operators and many procedures and functions.">Spatial Operators_ Procedures_ and Functions</a>. <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__G996892" title="Main Spatial Operators">Table 20-1</a> lists the main operators.
               </p>
               <div class="tblformal" id="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__G996892">
                  <p class="titleintable">Table 20-1 Main Spatial Operators</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Main Spatial Operators" summary="Main Spatial Operators" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="32%" id="d115835e75">Operator</th>
                           <th align="left" valign="bottom" width="68%" id="d115835e78">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e83" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e83 d115835e78 ">
                              <p>Specifies which geometries may interact with a given geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e92" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F">SDO_JOIN</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e92 d115835e78 ">
                              <p>Performs a spatial join based on one or more topological relationships.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e101" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e101 d115835e78 ">
                              <p>Determines the nearest neighbor geometries to a geometry. </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e110" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e110 d115835e78 ">
                              <p>Returns the distance of an object returned by the <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e123" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A">SDO_POINTINPOLYGON</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e123 d115835e78 ">
                              <p>Takes a set of rows whose first column is a point's x-coordinate value and the second column is a point's y-coordinate value, and returns those rows that are within a specified polygon geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e132" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e132 d115835e78 ">
                              <p>Determines whether or not two geometries interact in a specified way. (See also <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__BGEBCFBE" title="Convenience Operators for SDO_RELATE Operations">Table 20-2</a> for convenient alternative operators for performing specific mask value operations.)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e146" headers="d115835e75 ">
                              <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e146 d115835e78 ">
                              <p>Determines if two geometries are within a specified distance from one another.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <p><a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__BGEBCFBE" title="Convenience Operators for SDO_RELATE Operations">Table 20-2</a> lists operators, provided for convenience, that perform an <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operation of a specific mask type. 
               </p>
               <div class="tblformal" id="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__BGEBCFBE">
                  <p class="titleintable">Table 20-2 Convenience Operators for SDO_RELATE Operations</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Convenience Operators for SDO_RELATE Operations" summary="Convenience Operators for SDO_RELATE Operations" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="32%" id="d115835e174">Operator</th>
                           <th align="left" valign="bottom" width="68%" id="d115835e177">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e182" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-A0695FED-9497-4896-95FB-A90E28B38C7F">SDO_ANYINTERACT</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e182 d115835e177 ">
                              <p>Checks if any geometries in a table have the ANYINTERACT topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e191" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF">SDO_CONTAINS</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e191 d115835e177 ">
                              <p>Checks if any geometries in a table have the CONTAINS topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e200" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C">SDO_COVEREDBY</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e200 d115835e177 ">
                              <p>Checks if any geometries in a table have the COVEREDBY topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e209" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-A409003B-D529-4664-9942-DBE5F7AD9562">SDO_COVERS</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e209 d115835e177 ">
                              <p>Checks if any geometries in a table have the COVERS topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e218" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-661BBD6D-8172-4397-86AD-B21C8C87E829">SDO_EQUAL</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e218 d115835e177 ">
                              <p>Checks if any geometries in a table have the EQUAL topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e227" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-0080FCAB-C640-4E50-9639-9EE273E411FB">SDO_INSIDE</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e227 d115835e177 ">
                              <p>Checks if any geometries in a table have the INSIDE topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e236" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21">SDO_ON</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e236 d115835e177 ">
                              <p>Checks if any geometries in a table have the ON topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e245" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-149B266E-2135-43DA-80E9-8C7767BDE138">SDO_OVERLAPBDYDISJOINT</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e245 d115835e177 ">
                              <p>Checks if any geometries in a table have the OVERLAPBDYDISJOINT topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e254" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6">SDO_OVERLAPBDYINTERSECT</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e254 d115835e177 ">
                              <p>Checks if any geometries in a table have the OVERLAPBDYINTERSECT topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e263" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3">SDO_OVERLAPS</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e263 d115835e177 ">
                              <p>Checks if any geometries in a table overlap (that is, have the OVERLAPBDYDISJOINT or OVERLAPBDYINTERSECT topological relationship with) a specified geometry.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="32%" id="d115835e272" headers="d115835e174 ">
                              <p><a href="spatial-operators-reference.html#GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252">SDO_TOUCH</a></p>
                           </td>
                           <td align="left" valign="top" width="68%" headers="d115835e272 d115835e177 ">
                              <p>Checks if any geometries in a table have the TOUCH topological relationship with a specified geometry.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="infoboxnote" id="GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87__GUID-BA1DE986-CE03-4118-9515-31A2C9066C41">
                  <p class="notep1">Note:</p>
                  <p>For any numbers in string (VARCHAR2) parameters to Spatial and Graph operators and subprograms, the period (.) must be used for any decimal points regardless of the locale. Example: <code class="codeph">'distance=3.7'</code></p>
               </div>
               <p>The rest of this chapter provides reference information on the operators, listed in alphabetical order.</p>
               <p>For information about using operators with topologies, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=TOPOL300" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide</span></a>.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-A0695FED-9497-4896-95FB-A90E28B38C7F">SDO_ANYINTERACT</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF">SDO_CONTAINS</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C">SDO_COVEREDBY</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-A409003B-D529-4664-9942-DBE5F7AD9562">SDO_COVERS</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-661BBD6D-8172-4397-86AD-B21C8C87E829">SDO_EQUAL</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-0080FCAB-C640-4E50-9639-9EE273E411FB">SDO_INSIDE</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F">SDO_JOIN</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21">SDO_ON</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-149B266E-2135-43DA-80E9-8C7767BDE138">SDO_OVERLAPBDYDISJOINT</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6">SDO_OVERLAPBDYINTERSECT</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3">SDO_OVERLAPS</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A">SDO_POINTINPOLYGON</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252">SDO_TOUCH</a><br></li>
                  <li class="ulchildlink"><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="spatial-reference-information.html#GUID-343C3A98-6564-49CF-AA31-F86C5AEAAF02">Reference Information</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1023"></a><div class="props_rev_3"><a id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F" name="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F"></a><h3 id="SPATL-GUID-A0695FED-9497-4896-95FB-A90E28B38C7F" class="sect3"><span class="enumeration_section">20.1 </span>SDO_ANYINTERACT
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-B293D4FF-8112-47EC-B716-99A672F45497">Format</p><pre class="oac_no_warn" dir="ltr">SDO_ANYINTERACT(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-8058F5DD-3B81-431C-9FDB-E57B7D17CCCA">Description</p>
                     <p>Checks if any geometries in a table have the ANYINTERACT topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=ANYINTERACT'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-4C2725D4-CC44-47B9-929E-A79952C44076">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-F3BFFF9C-8E70-4259-8BDD-FD09B2F2FDA5">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters  and descriptions for SDO_ANYINTERACT operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e508">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e511">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e516" headers="d115835e508 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e516 d115835e511 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e525" headers="d115835e508 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e525 d115835e511 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-9BC6172D-8413-403D-9CA3-89B31C57734E">Returns</p>
                     <p>The expression SDO_ANYINTERACT(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the ANYINTERACT topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-4439562E-AF9F-4E2F-BE4D-D2F58F1632EC">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A0695FED-9497-4896-95FB-A90E28B38C7F__GUID-EF69BBF9-AEBB-41CC-8430-992237C40B73">Examples</p>
                     <p>The following example finds geometries that have the ANYINTERACT relationship with a query window (here, a rectangle with lower-left, upper-right coordinates 4,6, 8,8). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_ANYINTERACT(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(4,6, 8,8))
            ) = 'TRUE';

    MKT_ID NAME       
---------- --------------------------------                             
         2 cola_b                                                               
         1 cola_a                                                               
         4 cola_d </pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1024"></a><div class="props_rev_3"><a id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF" name="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF"></a><h3 id="SPATL-GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF" class="sect3"><span class="enumeration_section">20.2 </span>SDO_CONTAINS
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-1B766E08-2CBD-469C-A6B9-82B41A403D14">Format</p><pre class="oac_no_warn" dir="ltr">SDO_CONTAINS(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-48A947DF-1277-4F28-AB00-4F1C9E1BFFE8">Description</p>
                     <p>Checks if any geometries in a table have the CONTAINS topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=CONTAINS'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-911907F5-4CD8-484D-8B21-556BE7B2E079">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-72A6316D-0C25-4199-AB72-598E3C0EB74A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_CONTAINS operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e686">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e689">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e694" headers="d115835e686 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e694 d115835e689 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e703" headers="d115835e686 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e703 d115835e689 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-ECAD5204-41A2-4DCC-9452-376E2C41E86C">Returns</p>
                     <p>The expression SDO_CONTAINS(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the CONTAINS topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-A5C30821-3DEB-4267-A5E7-6178627AD9E0">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CD3E09BC-4533-4D3F-BB5D-8D6DCDF5C5FF__GUID-EB7EA0C9-BDF2-448F-B31F-219F823EC11A">Examples</p>
                     <p>The following example finds geometries that have the CONTAINS relationship with a query window (here, a rectangle with lower-left, upper-right coordinates 2,2, 4,6). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, only <code class="codeph">cola_a</code> contains the query window geometry.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_CONTAINS(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(2,2, 4,6))
            ) = 'TRUE';

    MKT_ID NAME       
---------- --------------------------------                             
         1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1025"></a><div class="props_rev_3"><a id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C" name="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C"></a><h3 id="SPATL-GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C" class="sect3"><span class="enumeration_section">20.3 </span>SDO_COVEREDBY
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-D3B9BEF1-5B1A-4E98-B7AC-B97B6F469772">Format</p><pre class="oac_no_warn" dir="ltr">SDO_COVEREDBY(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-2E8CCF38-B6A4-4E8E-8FF2-3802067544C3">Description</p>
                     <p>Checks if any geometries in a table have the COVEREDBY topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=COVEREDBY'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-43C21730-81C8-40BC-B0F3-3473CD0648E3">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-1BE72F73-E703-4BFF-9E05-BFB52EF67B46">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_COVEREDBY operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e866">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e869">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e874" headers="d115835e866 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e874 d115835e869 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e883" headers="d115835e866 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e883 d115835e869 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-5A1A11D0-310B-46B6-ABE9-6313ECDA9D67">Returns</p>
                     <p>The expression SDO_COVEREDBY(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the COVEREDBY topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-F35763DA-A5E6-4113-B76B-2145204561F6">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1D2E2B05-6260-43BA-9BCB-3D384FF6140C__GUID-AF0852B8-B0BA-4F7B-9A5E-C195B93DA2D6">Examples</p>
                     <p>The following example finds geometries that have the COVEREDBY relationship with a query window (here, a rectangle with lower-left, upper-right coordinates 1,1, 5,8). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, only <code class="codeph">cola_a</code> is covered by the query window geometry.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_COVEREDBY(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(1,1, 5,8))
            ) = 'TRUE';

    MKT_ID NAME       
---------- --------------------------------                             
         1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1026"></a><div class="props_rev_3"><a id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562" name="GUID-A409003B-D529-4664-9942-DBE5F7AD9562"></a><h3 id="SPATL-GUID-A409003B-D529-4664-9942-DBE5F7AD9562" class="sect3"><span class="enumeration_section">20.4 </span>SDO_COVERS
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-86C8BAD8-03CF-4F1C-B04B-785254EB92ED">Format</p><pre class="oac_no_warn" dir="ltr">SDO_COVERS(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-4C4D253D-713F-4A49-B81A-EE37CD804824">Description</p>
                     <p>Checks if any geometries in a table have the COVERS topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=COVERS'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-8CE3C26B-112D-4721-ADE6-6534F50550F7">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-E1FAF163-F9AA-46A8-92B0-A6346A2AB28B">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_COVERS operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e1046">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e1049">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1054" headers="d115835e1046 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1054 d115835e1049 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1063" headers="d115835e1046 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1063 d115835e1049 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-75BC4BE7-CD75-47DE-8FD8-8A098ECDAACE">Returns</p>
                     <p>The expression SDO_COVERS(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the COVERS topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-E7F8CD11-8506-4A1E-A86B-C5A968DD30D0">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A409003B-D529-4664-9942-DBE5F7AD9562__GUID-01524E96-96F6-4DA5-9CF5-8D1D0A36FF8F">Examples</p>
                     <p>The following example finds geometries that have the COVERS relationship with a query window (here, a rectangle with lower-left, upper-right coordinates 1,1, 4,6). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, only <code class="codeph">cola_a</code> covers the query window geometry.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_COVERS(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(1,1, 4,6))
            ) = 'TRUE';

    MKT_ID NAME       
---------- --------------------------------                             
         1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1027"></a><div class="props_rev_3"><a id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829" name="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829"></a><h3 id="SPATL-GUID-661BBD6D-8172-4397-86AD-B21C8C87E829" class="sect3"><span class="enumeration_section">20.5 </span>SDO_EQUAL
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-2CA3E9A5-6D7C-4CD0-AF7D-C8B4CD80382B">Format</p><pre class="oac_no_warn" dir="ltr">SDO_EQUAL(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-63873022-AD36-42CD-A232-4C64ABF76897">Description</p>
                     <p>Checks if any geometries in a table have the EQUAL topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=EQUAL'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-0BAA55ED-1D73-4F4A-AC45-AC2EEC9EADAF">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-2226BABA-17FF-41A2-9741-5221ECA8B6BF">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_EQUAL operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e1227">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e1230">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1235" headers="d115835e1227 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1235 d115835e1230 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1244" headers="d115835e1227 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1244 d115835e1230 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-7FA47275-58B2-436A-95AD-899052D7431C">Returns</p>
                     <p>The expression SDO_EQUAL(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the EQUAL topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-D88DB813-BE56-4B49-828E-5F1AF5E65BA1">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-661BBD6D-8172-4397-86AD-B21C8C87E829__GUID-E662A273-2693-4BDF-85CB-5559FEC7E0B2">Examples</p>
                     <p>The following example finds geometries that have the EQUAL relationship with a query window (here, a rectangle with lower-left, upper-right coordinates 1,1, 5,7). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, <code class="codeph">cola_a</code> (and only <code class="codeph">cola_a</code>) has the same boundary and interior as the query window geometry.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_EQUAL(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(1,1, 5,7))
            ) = 'TRUE';

    MKT_ID NAME       
---------- --------------------------------                             
         1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1028"></a><div class="props_rev_3"><a id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5" name="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5"></a><h3 id="SPATL-GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5" class="sect3"><span class="enumeration_section">20.6 </span>SDO_FILTER
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-F62AB68B-97CB-4BF2-A8F3-9EBF8CC24675">Format</p><pre class="oac_no_warn" dir="ltr">SDO_FILTER(<span>geometry1, geometry2</span>, param);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-ECE09280-CDD4-4D51-AC27-744BD3FD1BFF">Description</p>
                     <p>Uses the spatial index to identify either the set of spatial objects that are likely to interact spatially with a given object (such as an area of interest), or pairs of spatial objects that are likely to interact spatially. Objects interact spatially if they are not disjoint. </p>
                     <p>This operator performs only a primary filter operation. The secondary filtering operation, performed by the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator, can be used to determine with certainty if objects interact spatially.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-C0ADEB03-0172-47D3-A2A3-CE318C09F28F">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-FF842EE5-C744-48BB-B7AE-261338D32F91">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_FILTER operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d115835e1406">Value</th>
                                 <th align="left" valign="bottom" width="84%" id="d115835e1409">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e1414" headers="d115835e1406 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e1414 d115835e1409 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e1423" headers="d115835e1406 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e1423 d115835e1409 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e1432" headers="d115835e1406 ">
                                    <p>param</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e1432 d115835e1409 ">
                                    <p>Optionally specifies either or both of the <code class="codeph">min_resolution</code> and <code class="codeph">max_resolution</code> keywords. Data type is VARCHAR2.
                                    </p>
                                    <p>The <code class="codeph">min_resolution</code> keyword includes only geometries for which at least one side of the geometry's MBR is equal to or greater than the specified value. For example, <code class="codeph">min_resolution=10</code> includes only geometries for which the width or the height (or both) of the geometry's MBR is at least 10. (This keyword can be used to exclude geometries that are too small to be of interest.)
                                    </p>
                                    <p>The <code class="codeph">max_resolution</code> keyword includes only geometries for which at least one side of the geometry's MBR is less than or equal to the specified value. For example, <code class="codeph">max_resolution=10</code> includes only geometries for which the width or the height (or both) of the geometry's MBR is less than or equal to 10. (This keyword can be used to exclude geometries that are too large to be of interest.)
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-21C7CB55-FB73-466F-AB78-8B6A8A5DBC86">Returns</p>
                     <p>The expression SDO_FILTER(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that are non-disjoint, and FALSE otherwise.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-F5A68A64-D327-46C3-A771-716A8C7DFC45">Usage Notes</p>
                     <p>The SDO_FILTER operator must always be used in a WHERE clause and the condition that includes the operator should be an expression of the form SDO_FILTER(arg1, arg2) = 'TRUE'. (The expression must not equate to any value other than 'TRUE'.)</p>
                     <p><code class="codeph">geometry2</code> can come from a table or be a transient SDO_GEOMETRY object, such as a bind variable or SDO_GEOMETRY constructor.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the <code class="codeph">geometry2</code> column is not spatially indexed, the operator indexes the query window in memory and performance is very good.
                           </p>
                        </li>
                        <li>
                           <p><a id="d115835e1485" class="indexterm-anchor"></a><a id="d115835e1491" class="indexterm-anchor"></a><a id="d115835e1495" class="indexterm-anchor"></a>If two or more geometries from <code class="codeph">geometry2</code> are passed to the operator, the ORDERED optimizer hint must be specified, and the table in <code class="codeph">geometry2</code> must be specified first in the FROM clause.
                           </p>
                        </li>
                     </ul>
                     <p>If <code class="codeph">geometry1</code> and <code class="codeph">geometry2</code> are based on different coordinate systems, <code class="codeph">geometry2</code> is temporarily transformed to the coordinate system of <code class="codeph">geometry1</code> for the operation to be performed, as described in <a href="coordinate-systems-concepts.html#GUID-F1C8A225-2FA0-4338-B5A6-05455C18B1E8">Different Coordinate Systems for Geometries with Operators and Functions</a>.
                     </p>
                     <div class="infoboxnote" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-8CB4D15E-795B-4BE1-83B0-9C94945FA6A5">
                        <p class="notep1">Note:</p>
                        <p>If the DBMS_RLS.ADD_POLICY procedure has been used to add a fine-grained access control policy to a table or view, and if the specified policy function uses a spatial operator, the operator must be SDO_FILTER. No other spatial operators are supported in that context.</p>
                     </div>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-4C49E788-B7D9-4AC4-9F12-DA6256E24ACC">Examples</p>
                     <p>The following example selects the geometries that are likely to interact with a query window (here, a rectangle with lower-left, upper-right coordinates 4,6, 8,8). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_FILTER(c.shape,
    SDO_GEOMETRY(2003, NULL, NULL,
      SDO_ELEM_INFO_ARRAY(1,1003,3),
      SDO_ORDINATE_ARRAY(4,6, 8,8))
    ) = 'TRUE';
 
    MKT_ID NAME                                                                 
---------- --------------------------------                                     
         2 cola_b                                                               
         1 cola_a                                                               
         4 cola_d 
</pre><p>The following example is the same as the preceding example, except that it includes only geometries where at least one side of the geometry's MBR is equal to or greater than 4.1. In this case, only <code class="codeph">cola_a</code> and <code class="codeph">cola_b</code> are returned, because their MBRs have at least one side with a length greater than or equal to 4.1. The circle <code class="codeph">cola_d</code> is excluded, because its MBR is a square whose sides have a length of 4.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_FILTER(c.shape,
    SDO_GEOMETRY(2003, NULL, NULL,
      SDO_ELEM_INFO_ARRAY(1,1003,3),
      SDO_ORDINATE_ARRAY(4,6, 8,8)),
    'min_resolution=4.1'
    ) = 'TRUE';
 
    MKT_ID NAME                                                                 
---------- --------------------------------                                     
         2 cola_b                                                               
         1 cola_a 
</pre><p>The following example selects the GID values from the POLYGONS table where the GEOMETRY column objects are likely to interact spatially with the GEOMETRY column object in the QUERY_POLYS table that has a GID value of 1.</p><pre class="oac_no_warn" dir="ltr">SELECT A.gid 
  FROM Polygons A, query_polys B 
  WHERE B.gid = 1 
  AND SDO_FILTER(A.Geometry, B.Geometry) = 'TRUE';
</pre><p>The following example selects the GID values from the POLYGONS table where the GEOMETRY column object is likely to interact spatially with the geometry stored in the <code class="codeph">aGeom</code> variable.
                     </p><pre class="oac_no_warn" dir="ltr">Select A.Gid
  FROM Polygons A 
  WHERE SDO_FILTER(A.Geometry, :aGeom) = 'TRUE';
</pre><p>The following example selects the GID values from the POLYGONS table where the GEOMETRY column object is likely to interact spatially with the specified rectangle having the lower-left coordinates (x1,y1) and the upper-right coordinates (x2, y2).</p><pre class="oac_no_warn" dir="ltr">Select A.Gid 
  FROM Polygons A 
  WHERE SDO_FILTER(A.Geometry, sdo_geometry(2003,NULL,NULL,
                                   sdo_elem_info_array(1,1003,3),
                                   sdo_ordinate_array(x1,y1,x2,y2))
                   ) = 'TRUE';
</pre><p>The following example selects the GID values from the POLYGONS table where the GEOMETRY column object is likely to interact spatially with any GEOMETRY column object in the QUERY_POLYS table. In this example, the ORDERED optimizer hint is used and the QUERY_POLYS (<code class="codeph">geometry2</code>) table is specified first in the FROM clause, because multiple geometries from <code class="codeph">geometry2</code> are involved (see the Usage Notes).
                     </p><pre class="oac_no_warn" dir="ltr">SELECT /*+ ORDERED */
  A.gid 
  FROM query_polys B, polygons A 
  WHERE SDO_FILTER(A.Geometry, B.Geometry) = 'TRUE';</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5__GUID-3630D4B2-F16F-40E9-92BC-5C16D23C593A">Related Topics</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1029"></a><div class="props_rev_3"><a id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB" name="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB"></a><h3 id="SPATL-GUID-0080FCAB-C640-4E50-9639-9EE273E411FB" class="sect3"><span class="enumeration_section">20.7 </span>SDO_INSIDE
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-D90B9D74-2F0A-496B-AFF8-C9651D698236">Format</p><pre class="oac_no_warn" dir="ltr">SDO_INSIDE(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-B115A468-4D98-4AE3-9BD2-45D6DAA32003">Description</p>
                     <p>Checks if any geometries in a table have the INSIDE topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=INSIDE'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-3351E6BC-0DCC-416D-902C-291A8E61BF5F">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-54E64B94-044C-4AE5-957F-29A19F711E82">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_INSIDE operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e1704">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e1707">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1712" headers="d115835e1704 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1712 d115835e1707 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1721" headers="d115835e1704 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1721 d115835e1707 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-AF753BF7-C6A8-46B6-BEB4-FCE41604401C">Returns</p>
                     <p>The expression SDO_INSIDE(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the INSIDE topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-00DF4955-EC43-4329-A309-E0300B839437">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0080FCAB-C640-4E50-9639-9EE273E411FB__GUID-D10A4EB7-85F2-4915-BAD7-AEB4D0ADC425">Examples</p>
                     <p>The following example finds geometries that have the INSIDE relationship with a query window (here, a rectangle with lower-left, upper-right coordinates 5,6, 12,12). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, only <code class="codeph">cola_d</code> (the circle) is inside the query window geometry.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_INSIDE(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(5,6, 12,12))
            ) = 'TRUE';

    MKT_ID NAME       
---------- --------------------------------                             
         4 cola_d</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1031"></a><a id="SPATL1030"></a><div class="props_rev_3"><a id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F" name="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F"></a><h3 id="SPATL-GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F" class="sect3"><span class="enumeration_section">20.8 </span>SDO_JOIN
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-ED2ED24B-1102-4BC6-84EC-6C5DCF7F4D88">Format</p><pre class="oac_no_warn" dir="ltr">SDO_JOIN(table_name1, column_name1, table_name2, column_name2, params,preserve_join_order, table1_partition, table2_partition) RETURN SDO_ROWIDSET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-0088D502-8D66-4813-823D-9DE222E93F79">Description</p>
                     <p>Performs a spatial join based on one or more topological relationships.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-69D8F3A3-254A-417B-9990-B94D1A16044D">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-854AAC36-7452-4A69-8DF8-7B331FB4BBA8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_JOIN operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e1891">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e1894">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1899" headers="d115835e1891 ">
                                    <p>table_name1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1899 d115835e1894 ">
                                    <p>Name of the first table to be used in the spatial join operation. The table must have a column of type SDO_GEOMETRY.  Data type is VARCHAR2.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1908" headers="d115835e1891 ">
                                    <p>column_name1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1908 d115835e1894 ">
                                    <p>Name of the spatial column of type SDO_GEOMETRY in <code class="codeph">table_name1</code>. A spatial R-tree index must be defined on this column. Data type is VARCHAR2.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1920" headers="d115835e1891 ">
                                    <p>table_name2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1920 d115835e1894 ">
                                    <p>Name of the second table to be used in the spatial join operation. (It can be the same as or different from <code class="codeph">table_name1</code>. If <code class="codeph">table_name2</code> is the same as <code class="codeph">table_name1</code>, see <span class="q">"<a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__CHDEHJAH">Optimizing Self-Joins</a>"</span> in this section.) The table must have a column of type SDO_GEOMETRY.  Data type is VARCHAR2.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1942" headers="d115835e1891 ">
                                    <p>column_name2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1942 d115835e1894 ">
                                    <p>Name of the spatial column of type SDO_GEOMETRY in <code class="codeph">table_name2</code>. A spatial R-tree index must be defined on this column. Data type is VARCHAR2.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1954" headers="d115835e1891 ">
                                    <p>params</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1954 d115835e1894 ">
                                    <p>Optional parameter string of keywords and values; available only if <code class="codeph">mask=ANYINTERACT</code>. Determines the behavior of the operator. See <a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__BGEEACJD" title="Keywords and descriptions for the SDO_JOIN Operator">Table 20-3</a> in the Usage Notes for information about the available keywords. Data type is VARCHAR2. Default is NULL.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1971" headers="d115835e1891 ">
                                    <p>preserve_join_order</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1971 d115835e1894 ">
                                    <p>Optional parameter to specify if the join order is guaranteed to be preserved during processing of the operator. If the value is <code class="codeph">0</code> (the default), the order of the tables might be changed; if the value is <code class="codeph">1</code>, the order of the tables is not changed.  Data type is NUMBER. Default is 0.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e1986" headers="d115835e1891 ">
                                    <p>table1_partition</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e1986 d115835e1894 ">
                                    <p>Name of the table partition in <code class="codeph">table_name1</code>. Must be specified if the table has a partitioned spatial index; must be null if the table does not have a partitioned spatial index. (For information about using partitioned spatial indexes, see <a href="indexing-querying-spatial-data.html#GUID-DB52CEB5-4A4D-44E5-B6F6-F80E00A39E61">Using Partitioned Spatial Indexes</a>.)  Data type is VARCHAR2. Default is null.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e2002" headers="d115835e1891 ">
                                    <p>table2_partition</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e2002 d115835e1894 ">
                                    <p>Name of the table partition in <code class="codeph">table_name2</code>. Must be specified if the table has a partitioned spatial index; must be null if the table does not have a partitioned spatial index. (For information about using partitioned spatial indexes, see <a href="indexing-querying-spatial-data.html#GUID-DB52CEB5-4A4D-44E5-B6F6-F80E00A39E61">Using Partitioned Spatial Indexes</a>.)  Data type is VARCHAR2. Default is null.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-55F14D94-E58D-4CD3-B51F-055962FF81BD">Returns</p>
                     <p><a id="d115835e2021" class="indexterm-anchor"></a><a id="d115835e2023" class="indexterm-anchor"></a>SDO_JOIN returns an object of SDO_ROWIDSET, which consists of a table of objects of SDO_ROWIDPAIR. Oracle Spatial and Graph defines the type SDO_ROWIDSET as:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_rowidset as TABLE OF sdo_rowidpair;
</pre><p>Oracle Spatial and Graph defines the object type SDO_ROWIDPAIR as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_rowidpair AS OBJECT
   (rowid1  VARCHAR2(24),
    rowid2  VARCHAR2(24));
</pre><p>In the SDO_ROWIDPAIR definition, <code class="codeph">rowid1</code> refers to a rowid from <code class="codeph">table_name1</code>, and <code class="codeph">rowid2</code> refers to a rowid from <code class="codeph">table_name2</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-53E1095F-A9C1-4AB2-8730-C245D5D2BAEC">Usage Notes</p>
                     <p>SDO_JOIN is technically not an operator, but a table function. (For an explanation of table functions, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=LNPLS915" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.) However, it is presented in the chapter with spatial operators because its usage is similar to that of the operators, and because it is not part of a package with other functions and procedures.
                     </p>
                     <p>This table function is recommended when you need to perform full table joins.</p>
                     <p>The geometries in <code class="codeph">column_name1</code> and <code class="codeph">column_name2</code> must have the same SRID (coordinate system) value and the same number of dimensions.
                     </p>
                     <p><a id="d115835e2067" class="indexterm-anchor"></a><a id="d115835e2073" class="indexterm-anchor"></a><a id="d115835e2077" class="indexterm-anchor"></a>For best performance, use the <code class="codeph">/*+ ORDERED */</code> optimizer hint, and specify the SDO_JOIN table function first in the FROM clause.
                     </p>
                     <p>If a table is version-enabled (using the Workspace Manager feature), you must specify the <span class="italic"><code class="codeph">&lt;table_name&gt;</code></span><code class="codeph">_LT</code> table created by Workspace Manager. For example, if the COLA_MARKETS table is version-enabled and you want to perform a spatial join operation on that table, specify COLA_MARKETS_LT (not COLA_MARKETS) with the SDO_JOIN table function. (However, for all other spatial functions, procedures, and operators, do not use the <span class="italic"><code class="codeph">&lt;table_name&gt;</code></span><code class="codeph">_LT</code> name.)
                     </p>
                     <p><a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__BGEEACJD" title="Keywords and descriptions for the SDO_JOIN Operator">Table 20-3</a> shows the keywords for the <code class="codeph">params</code> parameter.
                     </p>
                     <div class="tblformal" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__BGEEACJD">
                        <p class="titleintable">Table 20-3 params Keywords for the SDO_JOIN Operator</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="params Keywords for the SDO_JOIN Operator" summary="Keywords and descriptions for the SDO_JOIN Operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d115835e2118">Keyword</th>
                                 <th align="left" valign="bottom" width="68%" id="d115835e2121">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e2126" headers="d115835e2118 ">
                                    <p>mask</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e2126 d115835e2121 ">
                                    <p><a id="d115835e2131" class="indexterm-anchor"></a>The topological relationship of interest.Valid values are 'mask=<span class="italic">&lt;value&gt;</span>' where <span class="italic">&lt;value&gt;</span> is one or more of the mask values valid for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator (<code class="codeph">TOUCH</code>, <code class="codeph">OVERLAPBDYDISJOINT</code>, <code class="codeph">OVERLAPBDYINTERSECT</code>, <code class="codeph">EQUAL</code>, <code class="codeph">INSIDE</code>, <code class="codeph">COVEREDBY</code>, <code class="codeph">CONTAINS</code>, <code class="codeph">COVERS</code>, <code class="codeph">ANYINTERACT</code>, <code class="codeph">ON</code>), or <code class="codeph">FILTER</code>, which checks if the MBRs (the filter-level approximations) intersect. Multiple masks are combined with the logical Boolean operator OR (for example, <code class="codeph">'mask=inside+touch'</code>); however, <code class="codeph">FILTER</code> cannot be combined with any other mask.
                                    </p>
                                    <p>If this parameter is null or contains an empty string, <code class="codeph">mask=FILTER</code> is assumed.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e2191" headers="d115835e2118 ">
                                    <p>distance</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e2191 d115835e2121 ">
                                    <p>Specifies a numeric distance value that is added to the tolerance value (explained in <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a>) before the relationship checks are performed. For example, if the tolerance is 10 meters and you specify <code class="codeph">'distance=100 unit=meter'</code>, two objects are considered to have spatial interaction if they are within 110 meters of each other.If you specify <code class="codeph">distance</code> but not <code class="codeph">unit</code>, the unit of measurement associated with the data is assumed.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e2211" headers="d115835e2118 ">
                                    <p>unit</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e2211 d115835e2121 ">
                                    <p>Specifies a unit of measurement to be associated with the distance value (for example, <code class="codeph">'distance=100 unit=meter'</code>). See <a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">Unit of Measurement Support</a> for more information about unit of measurement specification. If you specify <code class="codeph">unit</code>, you must also specify <code class="codeph">distance</code>.Data type is VARCHAR2. Default = unit of measurement associated with the data. For geodetic data, the default is meters.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Before you call SDO_JOIN, you must commit any previous DML statements in your session. Otherwise, the following error will be returned: <code class="codeph">ORA-13236: internal error in R-tree processing: [SDO_Join in active txns not supported]</code></p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__CHDEHJAH">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-E381E43E-D32B-486F-85E9-E047D7B20E65">Optimizing Self-Joins</p>
                     <p>If you are performing a self-join (that is, if <code class="codeph">table_name1</code> and <code class="codeph">table_name2</code> specify the same table), you can improve the performance by optimizing the self-join.
                     </p>
                     <p>If SDO_JOIN is called without a mask (for example, <code class="codeph">ANYINTERACT</code>) or distance specification, it compares only the index structure of the two geometry columns being joined. This can quickly identify geometry pairs that are "likely" to interact. If SDO_JOIN is called with a mask or distance specification, after the index is used to identify geometry pairs that are likely to interact, geometry coordinates are also compared to see if the geometry pairs actually do interact. Coordinate comparison is the most expensive part of the SDO_JOIN operation.
                     </p>
                     <p>In a self-join, where the same geometry column is compared to itself, each geometry pair is returned twice in the result set. For example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For the geometry pair with ID values (1,2), the pair (2,1) is also returned. The undesired effect in SDO_JOIN is that the coordinates of the same geometry pair are compared twice, instead of once.</p>
                        </li>
                        <li>
                           <p>ID pairs that are equal are returned twice. For example, a table with 50,000 rows will return ID pair (1,1) twice, ID pair (2,2) twice, and so on. This is also an undesired effect.</p>
                        </li>
                     </ul>
                     <p>When calling SDO_JOIN in a self-join scenario, you can eliminate the undesired effects by eliminating duplicate comparison of geometry pairs and all coordinate comparisons where the ID values of the pairs match. This optimization uses SDO_JOIN for the primary filter only, and calls the <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> function to compare geometry coordinates. The following statement accomplishes this optimization by adding "<code class="codeph">AND b.rowid &lt; c.rowid</code>" as a predicate to the <code class="codeph">WHERE</code> clause.
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; set autotrace trace explain
SQL&gt; SELECT /*+ ordered use_nl (a,b) use_nl (a,c) */ b.id, c.id
           FROM TABLE(sdo_join('GEOD_STATES','GEOM','GEOD_STATES','GEOM')) a,
                       GEOD_STATES b,
                       GEOD_STATES c
          WHERE a.rowid1 = b.rowid
               AND a.rowid2 = c.rowid
               AND b.rowid &lt; c.rowid
               AND SDO_GEOM.RELATE (b.geom, 'ANYINTERACT', c.geom, .05) = 'TRUE'
 
Execution Plan
----------------------------------------------------------
Plan hash value: 1412731386
---------------------------------------------------------------------------------------------------
| Id  | Operation                           | Name        | Rows  | Bytes | Cost (%CPU)| Time     |
---------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                    |             |     1 |  1124 | 12787   (1)| 00:02:34 |
|   1 |  NESTED LOOPS                       |             |     1 |  1124 | 12787   (1)| 00:02:34 |
|   2 |   NESTED LOOPS                      |             |  4574 |  2514K|  8206   (1)| 00:01:39 |
|   3 |    COLLECTION ITERATOR PICKLER FETCH| SDO_JOIN    |       |       ||          |
|*  4 |    TABLE ACCESS BY USER ROWID       | GEOD_STATES |     1 |   561 |1   (0)| 00:00:01 |
|*  5 |   TABLE ACCESS BY USER ROWID        | GEOD_STATES |     1 |   561 |1   (0)| 00:00:01 |
Predicate Information (identified by operation id):
---------------------------------------------------
   4 - access(CHARTOROWID(VALUE(KOKBF$)))
   5 - access(CHARTOROWID(VALUE(KOKBF$)))
       filter("B".ROWID&lt;"C".ROWID AND
               "SDO_GEOM"."RELATE"("B"."GEOM",'ANYINTERACT',"C"."GEOM",.05)='TRUE')
 
SQL&gt; set autotrace off
</pre><p>In the preceding example, It is very important that <code class="codeph">AND b.rowid &lt; c.rowid</code> be before the call to <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> in the <code class="codeph">WHERE</code> clause. This will omit the undesired scenarios for the invocation of the <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> function. Also, note that the example uses the <code class="codeph">ORDERED</code> and <code class="codeph">USE_NL</code> hints, and that the execution plan does not contain <code class="codeph">TABLE ACCESS FULL</code> or <code class="codeph">HASH JOIN</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__BABBFGFE">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-EE7131F7-505B-4BC0-9784-C5C7CE02DA5D">Cross-Schema Invocation of SDO_JOIN</p>
                     <p>You can invoke the SDO_JOIN table function on an indexed table that is not in your schema, if you have been granted SELECT access to both the spatial table and to the index table for the spatial index that was created on the spatial table. To find the name of the index table for a spatial index, query the SDO_INDEX_TABLE column in the USER_SDO_INDEX_METADATA view. For example, the following statement returns the name of the index table for the COLA_MARKETS_IDX spatial index: </p><pre class="oac_no_warn" dir="ltr">SELECT sdo_index_table FROM user_sdo_index_metadata
  WHERE sdo_index_name = 'COLA_SPATIAL_IDX';
</pre><p>Assume that user A owns spatial table T1 (with index table MDRT_F9AA$), and that user B owns spatial table T2 and wants to join geometries from both T1 and T2. Assume also that the geometry column in both tables is named GEOMETRY.</p>
                     <p>User A or a suitably privileged user must connect as user A and execute the following statements:</p><pre class="oac_no_warn" dir="ltr">GRANT select on T1 to B;
GRANT select on MDRT_F9AA$ to B;
</pre><p>User B can now connect and execute an SDO_JOIN query, such as the following:</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT(*) FROM
  (SELECT * FROM
    TABLE(SDO_JOIN('A.T1', 'GEOMETRY',
                   'B.T2', 'GEOMETRY',
                   'mask=anyinteract')) );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-9343E86D-FEE9-41D2-AB72-7BE82A33CA79">Examples</p>
                     <p>The following example joins the COLA_MARKETS table with itself to find, for each geometry, all other geometries that have any spatial interaction with it. (The example uses the definitions and data from <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, <code class="codeph">rowid1</code> and <code class="codeph">rowid2</code> correspond to the names of the attributes in the SDO_ROWIDPAIR type definition. Note that in the output, <code class="codeph">cola_d</code> (the circle) interacts only with itself, and not with any of the other geometries.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT /*+ ordered */ a.name, b.name
  FROM TABLE(SDO_JOIN('COLA_MARKETS', 'SHAPE',
                      'COLA_MARKETS', 'SHAPE',
                      'mask=ANYINTERACT')) c,
       cola_markets a,
       cola_markets b
  WHERE c.rowid1 = a.rowid AND c.rowid2 = b.rowid
  ORDER BY a.name;

NAME                             NAME                                           
-------------------------------- --------------------------------               
cola_a                           cola_c                                         
cola_a                           cola_b                                         
cola_a                           cola_a                                         
cola_b                           cola_c                                         
cola_b                           cola_b                                         
cola_b                           cola_a                                         
cola_c                           cola_c                                         
cola_c                           cola_b                                         
cola_c                           cola_a                                         
cola_d                           cola_d                                         
 
10 rows selected.</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F__GUID-9235E3CE-BB8E-4672-86BA-B6E4B7C91922">Related Topics</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1033"></a><a id="SPATL1032"></a><div class="props_rev_3"><a id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D" name="GUID-41E6B1FA-1A03-480B-996F-830E8566661D"></a><h3 id="SPATL-GUID-41E6B1FA-1A03-480B-996F-830E8566661D" class="sect3"><span class="enumeration_section">20.9 </span>SDO_NN
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-5C8909BA-F367-46B6-855F-DE5CDD16240A">Format</p><pre class="oac_no_warn" dir="ltr">SDO_NN(geometry1, geometry2, param [, number]);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-85E07D30-24DF-41E0-8018-7363D18ECF1A">Description</p>
                     <p>Uses the spatial index to identify the nearest neighbors for a geometry.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-2D677BA9-D134-4CAB-AEA6-1451E623EC11">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-EC6B5964-0D56-4250-B313-CC3CDEF5FC75">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_NN operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d115835e2460">Value</th>
                                 <th align="left" valign="bottom" width="84%" id="d115835e2463">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e2468" headers="d115835e2460 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e2468 d115835e2463 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e2477" headers="d115835e2460 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e2477 d115835e2463 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. The nearest neighbor or neighbors to <code class="codeph">geometry2</code> will be returned from <code class="codeph">geometry1</code>. (<code class="codeph">geometry2</code> is specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e2495" headers="d115835e2460 ">
                                    <p>param</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e2495 d115835e2463 ">
                                    <p>Determines the behavior of the operator. The available keywords are listed in <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D__G996876" title="Keywords and descriptions for the SDO_NN Param Parameter">Table 20-4</a>. If you do not specify this parameter, the operator returns all rows in increasing distance order from <code class="codeph">geometry2</code>. Data type is VARCHAR2.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d115835e2512" headers="d115835e2460 ">
                                    <p>number</p>
                                 </td>
                                 <td align="left" valign="top" width="84%" headers="d115835e2512 d115835e2463 ">
                                    <p>If the <a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a> ancillary operator is included in the call to SDO_NN, specifies the same number used in the call to <a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a>. Data type is NUMBER.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D__G996876" title="Keywords and descriptions for the SDO_NN Param Parameter">Table 20-4</a> lists the keywords for the <code class="codeph">param</code> parameter.
                     </p>
                     <div class="tblformal" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__G996876">
                        <p class="titleintable">Table 20-4 Keywords for the SDO_NN Param Parameter</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Keywords for the SDO_NN Param Parameter" summary="Keywords and descriptions for the SDO_NN Param Parameter" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="18%" id="d115835e2547">Keyword</th>
                                 <th align="left" valign="bottom" width="82%" id="d115835e2550">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2555" headers="d115835e2547 ">
                                    <p>distance</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2555 d115835e2550 ">
                                    <p>Specifies the number of distance units after which to stop searching for nearest neighbors. If you do not also specify the <code class="codeph">unit</code> keyword, the default is the unit of measurement associated with the data. Data type is NUMBER.
                                    </p>
                                    <p>For example: 'distance=10 unit=mile' </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2569" headers="d115835e2547 ">
                                    <p>ellipsoidal</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2569 d115835e2550 ">
                                    <p>Specifies if ellipsoidal distance is always used with geodetic data (<code class="codeph">true</code>), or if spherical distance is used in some cases (<code class="codeph">false</code>, the default). See <a href="coordinate-systems-concepts.html#GUID-A5727F9D-FA87-467F-851D-50B11A016460">Distance: Spherical versus Ellipsoidal with Geodetic Data</a>.
                                    </p>
                                    <p>For example: 'ellipsoidal=true' </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2587" headers="d115835e2547 ">
                                    <p>sdo_batch_size</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2587 d115835e2550 ">
                                    <p>Specifies the number of rows to be evaluated at a time when the SDO_NN expression may need to be evaluated multiple times in order to return the desired number of results that satisfy the WHERE clause. Available only when an R-tree index is used. If you specify <code class="codeph">sdo_batch_size=0 </code>(or if you omit the <code class="codeph">param</code> parameter completely), Spatial and Graph calculates a batch size suited to the result set size. See the Usage Notes and Examples for more information. Data type is NUMBER.
                                    </p>
                                    <p>For example: 'sdo_batch_size=10'</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2604" headers="d115835e2547 ">
                                    <p>sdo_num_res</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2604 d115835e2550 ">
                                    <p>Specifies the number of results (nearest neighbors) to be returned. If neither <code class="codeph">sdo_batch_size</code> nor <code class="codeph">sdo_num_res</code> is specified, this is equivalent to specifying sdo_batch_size=0. See the Usage Notes and Examples for more information. Data type is NUMBER.
                                    </p>
                                    <p>For example: 'sdo_num_res=5'</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="18%" id="d115835e2621" headers="d115835e2547 ">
                                    <p>unit</p>
                                 </td>
                                 <td align="left" valign="top" width="82%" headers="d115835e2621 d115835e2550 ">
                                    <p>If the <code class="codeph">distance</code> keyword or the <a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a> ancillary operator is included in the call to SDO_NN, specifies the unit of measurement: a quoted string with <code class="codeph">unit=</code> and an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table. See <a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">Unit of Measurement Support</a> for more information about unit of measurement specification. Data type is VARCHAR2. Default = unit of measurement associated with the data. For geodetic data, the default is meters.
                                    </p>
                                    <p>For example: 'unit=KM'</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-1D42B597-1668-40D7-93C9-65F2EB17A249">Returns</p>
                     <p>This operator returns the <code class="codeph">sdo_num_res</code> number of objects from <code class="codeph">geometry1</code> that are nearest to <code class="codeph">geometry2</code> in the query. In determining how near two geometry objects are, the shortest possible distance between any two points on the surface of each object is used.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-1F90D144-4515-48A6-8183-9A94C8A11D17">Usage Notes</p>
                     <p>The operator is disabled if the table does not have a spatial index or if the number of dimensions for the query window does not match the number of dimensions specified when the index was created.</p>
                     <p>The operator must always be used in a WHERE clause, and the condition that includes the operator should be an expression of the form SDO_NN(arg1, arg2, '&lt;some_parameter&gt;') = 'TRUE'. (The expression must not equate to any value other than 'TRUE'.)</p>
                     <p>The operator can be used in the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If all geometries in the layer are candidates, use the <code class="codeph">sdo_num_res</code> keyword to specify the number of geometries returned. 
                           </p>
                           <p>The <code class="codeph">sdo_num_res</code> keyword is especially useful when you are concerned only with proximity (for example, the three closest banks, regardless of bank name).
                           </p>
                        </li>
                        <li>
                           <p>If any geometries in the table might be nearer than the geometries specified in the WHERE clause, use the <code class="codeph">sdo_batch_size</code> keyword and use the WHERE clause (including the ROWNUM pseudocolumn) to limit the number of geometries returned. 
                           </p>
                           <p>The <code class="codeph">sdo_batch_size</code> keyword is especially useful when you need to consider one or more columns from the <span class="italic"><span class="bold">same</span></span> table as the nearest neighbor search column in the WHERE clause (for example, the three closest banks whose name contains <span class="italic">MegaBank</span>).
                           </p>
                        </li>
                        <li>
                           <p>You can also specify both the <code class="codeph">sdo_num_res</code> and <code class="codeph">sdo_batch_size</code> keywords, as explained later in these Usage Notes.
                           </p>
                        </li>
                     </ul>
                     <p>As an example of the <code class="codeph">sdo_batch_size</code> keyword, assume that a RESTAURANTS table contains different types of restaurants, and you want to find the two nearest Italian restaurants to your hotel but only if they are within two miles. The query might look like the following:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT r.name FROM restaurants r WHERE 
   SDO_NN(r.geometry, :my_hotel,
      'sdo_batch_size=10 distance=2 unit=mile') = 'TRUE' 
   AND r.cuisine = 'Italian' AND ROWNUM &lt;=2; 
</pre><p>In this example, the <code class="codeph">ROWNUM &lt;=2</code> clause is necessary to limit the number of results returned to no more than 2 where CUISINE is <code class="codeph">Italian</code>. However, if the <code class="codeph">sdo_batch_size</code> keyword is not specified in this example, and if <code class="codeph">sdo_num_res=2</code> is specified instead of <code class="codeph">ROWNUM &lt;=2</code>, only the two nearest restaurants within two miles are considered, regardless of their CUISINE value; and if the CUISINE value of these two rows is not <code class="codeph">Italian</code>, the query may return no rows.
                     </p>
                     <p>The <code class="codeph">sdo_batch_size</code> value can affect the performance of nearest neighbor queries. A good general guideline is to specify the number of candidate rows likely to satisfy the WHERE clause. Using the preceding example of a query for Italian restaurants, if approximately 20 percent of the restaurants nearest to the hotel are Italian and if you want 2 restaurants, an <code class="codeph">sdo_batch_size</code> value of 10 will probably result in the best performance. On the other hand, if only approximately 5 percent of the restaurants nearest to the hotel are Italian and if you want 2 restaurants, an <code class="codeph">sdo_batch_size</code> value of 40 would be better.
                     </p>
                     <p>You can specify <code class="codeph">sdo_batch_size=0</code>, which causes Spatial and Graph to calculate a batch size that is suitable for the result set size. However, the calculated batch size may not be optimal, and the calculation incurs some processing overhead; if you can determine a good <code class="codeph">sdo_batch_size</code> value for a query, the performance will probably be better than if you specify <code class="codeph">sdo_batch_size=0</code>.
                     </p>
                     <p>Specify the <code class="codeph">number</code> parameter only if you are using the <a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a> ancillary operator in the call to SDO_NN. See the information about the <a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a> operator in this chapter.
                     </p>
                     <p>If two or more objects from <code class="codeph">geometry1</code> are an equal distance from <code class="codeph">geometry2</code>, any of the objects can be returned on any call to the function. For example, if <code class="codeph">item_a</code>, <code class="codeph">item_b</code>, and <code class="codeph">item_c</code> are nearest to and equally distant from <code class="codeph">geometry2,</code> and if <code class="codeph">sdo_num_res=2</code>, two of those three objects are returned, but they can be any two of the three.
                     </p>
                     <p>If the SDO_NN operator uses a partitioned spatial index (see <a href="indexing-querying-spatial-data.html#GUID-DB52CEB5-4A4D-44E5-B6F6-F80E00A39E61">Using Partitioned Spatial Indexes</a>), the requested number of geometries is returned for <span class="italic">each</span> partition that contains candidate rows based on the query criteria. For example, if you request the 5 nearest restaurants to a point and the spatial index has 4 partitions, the operator returns up to 20 (5*4) geometries. In this case, you must use the ROWNUM pseudocolumn (here, <code class="codeph">WHERE ROWNUM &lt;=5</code>) to return the 5 nearest restaurants.
                     </p>
                     <p>If <code class="codeph">geometry1</code> and <code class="codeph">geometry2</code> are based on different coordinate systems, <code class="codeph">geometry2</code> is temporarily transformed to the coordinate system of <code class="codeph">geometry1</code> for the operation to be performed, as described in <a href="coordinate-systems-concepts.html#GUID-F1C8A225-2FA0-4338-B5A6-05455C18B1E8">Different Coordinate Systems for Geometries with Operators and Functions</a>.
                     </p>
                     <p>SDO_NN is not supported for spatial joins.</p>
                     <p><a id="d115835e2834" class="indexterm-anchor"></a>In some situations the SDO_NN operator will not use the spatial index unless an optimizer hint forces the index to be used. This can occur when a query involves a join; and if the optimizer hint is not used in such situations, an internal error occurs. To prevent such errors, you should always specify an optimizer hint to use the spatial index with the SDO_NN operator, regardless of how simple or complex the query is. For example, the following excerpt from a query specifies to use the COLA_SPATIAL_IDX index that is defined on the COLA_MARKETS table:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT /*+ INDEX(c cola_spatial_idx) */ 
  c.mkt_id, c.name, ... FROM cola_markets c, ...;
</pre><p>However, if the column predicate in the WHERE clause specifies any nonspatial column in the table for <code class="codeph">geometry1</code> that has an associated index, be sure that this index is not used by specifying the NO_INDEX hint for that index. For example, if there was an index named COLA_NAME_IDX defined on the NAME column, you would need to specify the hints in the preceding example as follows:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT /*+ INDEX(c cola_spatial_idx) NO_INDEX(c cola_name_idx) */ 
  c.mkt_id, c.name, ... FROM cola_markets c, ...;
</pre><p>(Note, however, that there is no index named COLA_NAME_IDX in the example in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.)
                     </p>
                     <p>If you join two or more tables with the SDO_NN operator and the <code class="codeph">sdo_num_res</code> keyword, specify the LEADING hint for the outer table, USE_NL hint to have a nested loops join, and the INDEX hint for the inner table (the table with the spatial index). For example:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT  /*+ LEADING(b) USE_NL(b a) INDEX(a cola_spatial_idx) */ a.gid
   FROM cola_qry  b,  cola_markets  a
      WHERE SDO_NN(a.shape, b.shape, 'sdo_num_res=1')='TRUE';
</pre><p>However, if you join two or more tables with the SDO_NN operator, the <code class="codeph">sdo_batch_size</code> keyword, and the ROWNUM clause, the best way to implement the logic is to use a PL/SQL block. For example:
                     </p><pre class="oac_no_warn" dir="ltr">BEGIN
  FOR item IN ( SELECT b.shape FROM cola_qry b)
  LOOP 
    SELECT  /*+ INDEX(a cola_spatial_idx) */ a.gid INTO local_gid
    FROM cola_markets  a
    WHERE SDO_NN(a.shape, item.shape, 'sdo_batch_size=10')='TRUE'
      and a.name like 'cola%' and ROWNUM &lt;2;
  END LOOP;
END;
</pre><p>For detailed information about using optimizer hints, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=TGSQL259" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-F38C45A8-9435-4FDF-98B1-A0B2CEC26B1C">Examples</p>
                     <p>The following example finds the two objects from the SHAPE column in the COLA_MARKETS table that are nearest to a specified point (10,7). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">SELECT /*+ INDEX(c cola_spatial_idx) */
 c.mkt_id, c.name  FROM cola_markets c  WHERE SDO_NN(c.shape,
   sdo_geometry(2001, NULL, sdo_point_type(10,7,NULL), NULL,
   NULL),  'sdo_num_res=2') = 'TRUE';

    MKT_ID NAME
---------- --------------------------------
         2 cola_b
         4 cola_d
</pre><p>The following example uses the <code class="codeph">sdo_batch_size</code> keyword to find the two objects (ROWNUM &lt;=2), with a NAME value less than 'cola_d', from the SHAPE column in the COLA_MARKETS table that are nearest to a specified point (10,7). The value of 3 for <code class="codeph">sdo_batch_size</code> represents a best guess at the number of nearest geometries that need to be evaluated before the WHERE clause condition is satisfied. (The example uses the definitions and data from <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">SELECT /*+ INDEX(c cola_spatial_idx) */ c.mkt_id, c.name
   FROM cola_markets c  
   WHERE SDO_NN(c.shape,  sdo_geometry(2001, NULL,
      sdo_point_type(10,7,NULL), NULL,  NULL),
      'sdo_batch_size=3') = 'TRUE'
   AND c.name &lt; 'cola_d' AND ROWNUM &lt;= 2; 

    MKT_ID NAME                                                                 
---------- --------------------------------                                     
         2 cola_b                                                               
         3 cola_c
</pre><p>See also the more complex SDO_NN examples in <a href="complex-spatial-queries.html#GUID-C4BE15BF-04AC-41EC-BEE1-F6DDA2A29E79">SDO_NN Examples</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-41E6B1FA-1A03-480B-996F-830E8566661D__GUID-CD7A86CE-E04D-409B-B64B-934E0B947CFD">Related Topics</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64">SDO_NN_DISTANCE</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1034"></a><div class="props_rev_3"><a id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64" name="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64"></a><h3 id="SPATL-GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64" class="sect3"><span class="enumeration_section">20.10 </span>SDO_NN_DISTANCE
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-78206B3F-0253-4251-8582-D043B19C6834">Format</p><pre class="oac_no_warn" dir="ltr">SDO_NN_DISTANCE(number);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-66B74119-D3F9-4D27-85E5-71E79F75B822">Description</p>
                     <p>Returns the distance of an object returned by the <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator. Valid only within a call to the <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-104D1ED2-4AB8-43A6-B06A-41E84B8424D8">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-6D2D19E1-91BB-4E77-9368-B127BCD02699">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_NN_DISTANCE operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="13%" id="d115835e3039">Value</th>
                                 <th align="left" valign="bottom" width="87%" id="d115835e3042">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="13%" id="d115835e3047" headers="d115835e3039 ">
                                    <p>number</p>
                                 </td>
                                 <td align="left" valign="top" width="87%" headers="d115835e3047 d115835e3042 ">
                                    <p>Specifies a number that must be the same as the last parameter passed to the <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator. Data type is NUMBER.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-5A7199DA-8879-473A-A2F8-1CB71D62D37D">Returns</p>
                     <p>This operator returns the distance of an object returned by the <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator. In determining how near two geometry objects are, the shortest possible distance between any two points on the surface of each object is used.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-5C0B4E88-EE6E-47FC-8E9D-F98CD80071FF">Usage Notes</p>
                     <p>SDO_NN_DISTANCE is an ancillary operator to the <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator. It returns the distance between the specified geometry and a nearest neighbor object. This distance is passed as ancillary data to the <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator. (For an explanation of how operators can use ancillary data, see the section on ancillary data in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=ADDCI4542" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a>.)
                     </p>
                     <p>You can choose any arbitrary number for the <code class="codeph">number</code> parameter. The only requirement is that it must match the last parameter in the call to the <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator.
                     </p>
                     <p>Use a bind variable to store and operate on the distance value.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-2DC523DA-4C5A-428C-B067-BC258AFC61B4">Examples</p>
                     <p>The following example finds the two objects from the SHAPE column in the COLA_MARKETS table that are nearest to a specified point (10,7), and it finds the distance between each object and the point. (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">SELECT   /*+ INDEX(c cola_spatial_idx) */ 
   c.mkt_id, c.name, SDO_NN_DISTANCE(1) dist
   FROM cola_markets c  
   WHERE SDO_NN(c.shape,  sdo_geometry(2001, NULL, 
      sdo_point_type(10,7,NULL), NULL,  NULL),
      'sdo_num_res=2', 1) = 'TRUE' ORDER BY dist; 

    MKT_ID NAME                                   DIST                          
---------- -------------------------------- ----------                          
         4 cola_d                           .828427125                          
         2 cola_b                           2.23606798
</pre><p>Note the following about this example:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>1 is used as the <code class="codeph">number</code> parameter for SDO_NN_DISTANCE, and 1 is also specified as the last parameter to <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> (after <code class="codeph">'sdo_num_res=2'</code>).
                           </p>
                        </li>
                        <li>
                           <p>The column alias <code class="codeph">dist</code> holds the distance between the object and the point. (For geodetic data, the distance unit is meters; for non-geodetic data, the distance unit is the unit associated with the data.)
                           </p>
                        </li>
                     </ul>
                     <p>The following example uses the <code class="codeph">sdo_batch_size</code> keyword in selecting the two closest Italian restaurants to your hotel from a YELLOW_PAGES table that contains different types of businesses:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM 
 (SELECT /*+ FIRST_ROWS */ y.name FROM YELLOW_PAGES  y 
  WHERE SDO_NN(y.geometry, :my_hotel, 'sdo_batch_size=100', 1) = 'TRUE' 
   AND y.business = 'Italian Restaurant' 
  ORDER BY SDO_NN_DISTANCE(1)) 
WHERE ROWNUM &lt;=10;
</pre><p>In the preceding query, the FIRST_ROWS hint enables the optimizer to improve performance by pushing the ORDER BY operation into the spatial index. <code class="codeph">:my_hotel</code> can be either a bind variable or a literal value.
                     </p>
                     <p>The FIRST_ROWS hint is also available to a local partitioned spatial index. In the preceding example, if the YELLOW_PAGES table is partitioned by name, the query will be executed as follows: </p>
                     <ol>
                        <li>
                           <p>For each partition, the ORDER BY operation is processed using the spatial index until 10 rows are found.</p>
                        </li>
                        <li>
                           <p>After all partitions are completed, all rows found in the preceding step are sorted, and the top 10 rows are returned.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4CD900B5-E2FB-4802-B843-E66D5D86BE64__GUID-B8DAEA23-00F9-4ECA-9464-54AFD5285BD7">Related Topics</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1035"></a><div class="props_rev_3"><a id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21" name="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21"></a><h3 id="SPATL-GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21" class="sect3"><span class="enumeration_section">20.11 </span>SDO_ON
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-6D4009AF-1661-473D-AD20-5B809050B23B">Format</p><pre class="oac_no_warn" dir="ltr">SDO_ON(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-85D72812-E227-4360-B319-39F4DBBF55CA">Description</p>
                     <p>Checks if any geometries in a table have the ON topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=ON'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-3AD04D41-5724-463C-8519-F343DABACD3F">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-5F168AF0-4B55-4B95-BEDE-7E4F810E623E">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_ON operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3270">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3273">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3278" headers="d115835e3270 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3278 d115835e3273 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3287" headers="d115835e3270 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3287 d115835e3273 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-F2E9F7EE-07C3-45D8-94FB-1BF08C804362">Returns</p>
                     <p>The expression SDO_ON(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the ON topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-E2D7D504-3ABB-4AE9-92ED-DD0C17832035">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-29EAF480-8E3D-497A-B87E-BC698EEF9A21__GUID-E635CD18-C491-4AB6-9D87-C80019C15AF5">Examples</p>
                     <p>The following example finds geometries that have the ON relationship with a query window (here, a rectangle with lower-left, upper-right coordinates 4,6, 8,8). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) This example returns no rows because there are no line string geometries in the SHAPE column.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_ON(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(4,6, 8,8))
            ) = 'TRUE';

no rows selected</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1036"></a><div class="props_rev_3"><a id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138" name="GUID-149B266E-2135-43DA-80E9-8C7767BDE138"></a><h3 id="SPATL-GUID-149B266E-2135-43DA-80E9-8C7767BDE138" class="sect3"><span class="enumeration_section">20.12 </span>SDO_OVERLAPBDYDISJOINT
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-0CE4DEE7-5AE4-4644-9163-FA7D178C0E5B">Format</p><pre class="oac_no_warn" dir="ltr">SDO_OVERLAPBDYDISJOINT(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-C5E1687A-81BE-463A-8F98-7519DF35F750">Description</p>
                     <p>Checks if any geometries in a table have the OVERLAPBDYDISJOINT topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=OVERLAPBDYDISJOINT'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-156FD7DD-EDB3-4CAA-A9A7-3F7E12CDBA26">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-C98ED93D-34B0-4C5B-B9EF-985F139D202F">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_OVERLAPBDYDISJOINT operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3447">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3450">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3455" headers="d115835e3447 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3455 d115835e3450 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3464" headers="d115835e3447 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3464 d115835e3450 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-5987577B-D8E5-40A2-8AEB-CC913B1031BF">Returns</p>
                     <p>The expression SDO_OVERLAPBDYDISJOINT(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the OVERLAPBDYDISJOINT topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-29D7FFE3-C74F-4B1F-9916-D26D26C2C546">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-149B266E-2135-43DA-80E9-8C7767BDE138__GUID-34BE1F5B-3C79-4D8C-8E8E-8040C2462D22">Examples</p>
                     <p>The following example finds geometries that have the OVERLAPBDYDISJOINT relationship with a line string geometry (here, a horizontal line from 0,6 to 2,6). (The example uses the definitions and data described and illustrated in<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, only <code class="codeph">cola_a</code> has the OVERLAPBDYDISJOINT relationship with the line string geometry.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_OVERLAPBDYDISJOINT(c.shape,
            SDO_GEOMETRY(2002, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,2,1),
              SDO_ORDINATE_ARRAY(0,6, 2,6))
            ) = 'TRUE';

    MKT_ID NAME       
---------- --------------------------------                             
         1 cola_a</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1037"></a><div class="props_rev_3"><a id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6" name="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6"></a><h3 id="SPATL-GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6" class="sect3"><span class="enumeration_section">20.13 </span>SDO_OVERLAPBDYINTERSECT
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-A8DF789A-88A5-4787-BFBF-641910AB2056">Format</p><pre class="oac_no_warn" dir="ltr">SDO_OVERLAPBDYINTERSECT(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-DD0E9D10-BE66-4E42-94A6-0990FFDA9C14">Description</p>
                     <p>Checks if any geometries in a table have the OVERLAPBDYINTERSECT topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=OVERLAPBDYINTERSECT'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-6B7A16C1-3C60-4C07-AE32-C81B38582F4E">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-7C491695-EAFD-445F-80FA-66264B282FD9">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_OVERLAPBDYINTERSECToperator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3627">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3630">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3635" headers="d115835e3627 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3635 d115835e3630 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3644" headers="d115835e3627 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3644 d115835e3630 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-F4926BD9-463B-4C97-8AFE-2A82D7B720CF">Returns</p>
                     <p>The expression SDO_OVERLAPBDYINTERSECT(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the OVERLAPBDYINTERSECT topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-180D7749-BE53-4925-B313-0A9844288DF0">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-133DD2F7-7A95-4B91-BFDA-9D7F0E8A9DF6__GUID-8D4FC1D0-6256-4253-B2F0-270746BD48D3">Examples</p>
                     <p>The following example finds geometries that have the OVERLAPBDYINTERSECT relationship with a query window (here, a rectangle with lower-left, upper-right coordinates 4,6, 8,8). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, <code class="codeph">cola_a</code>, <code class="codeph">cola_b</code>, and <code class="codeph">cola_d</code> have the OVERLAPBDYINTERSECT relationship with the query window geometry.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_OVERLAPBDYINTERSECT(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(4,6, 8,8))
            ) = 'TRUE';

    MKT_ID NAME                                                                 
---------- --------------------------------                                     
         2 cola_b                                                               
         1 cola_a                                                               
         4 cola_d </pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1038"></a><div class="props_rev_3"><a id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3" name="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3"></a><h3 id="SPATL-GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3" class="sect3"><span class="enumeration_section">20.14 </span>SDO_OVERLAPS
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-E7DFBD38-4D7B-4307-A83E-F8101DF7806B">Format</p><pre class="oac_no_warn" dir="ltr">SDO_OVERLAPS(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-5BCD8881-2C4D-48CF-B5C5-35E9C378C899">Description</p>
                     <p>Checks if any geometries in a table overlap (that is, have the OVERLAPBDYDISJOINT or OVERLAPBDYINTERSECT topological relationship with) a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=OVERLAPBDYDISJOINT+OVERLAPBDYINTERSECT'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                     <p>For information about 3D support with Spatial and Graph operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-57C15E9C-5803-4252-A2A3-153771CB58D5">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-A2ADC93A-3A54-4A07-9EE7-2BDF16659C08">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_OVERLAPS operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3823">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3826">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3831" headers="d115835e3823 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3831 d115835e3826 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3840" headers="d115835e3823 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3840 d115835e3826 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-CDEBED9F-A3DF-4D5D-8DE7-E449D722B1FC">Returns</p>
                     <p>The expression SDO_OVERLAPS(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the OVERLAPBDYDISJOINT or OVERLAPBDYINTERSECT topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-3D158A7B-9232-45FF-AA7C-33D98CA9261A">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C1336951-3F2B-472D-96E6-8141BC0CB8E3__GUID-5DE92617-56C2-4C04-A82E-21DD7F0CA8D1">Examples</p>
                     <p>The following example finds geometries that overlap a query window (here, a rectangle with lower-left, upper-right coordinates 4,6, 8,8). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, three of the geometries in the SHAPE column overlap the query window geometry.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_OVERLAPS(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(4,6, 8,8))
            ) = 'TRUE';

    MKT_ID NAME                                                                 
---------- --------------------------------                                     
         2 cola_b                                                               
         1 cola_a                                                               
         4 cola_d </pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1512"></a><a id="SPATL1507"></a><div class="props_rev_3"><a id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A" name="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A"></a><h3 id="SPATL-GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A" class="sect3"><span class="enumeration_section">20.15 </span>SDO_POINTINPOLYGON
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-F36859C7-1818-4D2F-A054-322552152CBC">Format</p><pre class="oac_no_warn" dir="ltr">SDO_POINTINPOLYGON(cur, geom_obj, tol, params) RETURN ANYDATASET;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-A7E018BF-BEB7-44A1-9382-843FBDECEE5C">Description</p>
                     <p>Takes a set of rows, and returns those rows that are within a specified polygon geometry.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-F42DC64E-C687-4F6D-A888-F09781C9666C">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-9DB4E1C9-4E6C-4237-9430-36B38DD6C925">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_JOIN operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e3975">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e3978">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3983" headers="d115835e3975 ">
                                    <p>cur</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3983 d115835e3978 ">
                                    <p>One of the following:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>A REF cursor: the first two columns in the SELECT of the SQL for ref_cursor must be an X and Y point coordinates pair from a user table. The two columns must be of type NUMBER. (Any other columns can be number, character, and date types).  Data type is SYS_REFCURSOR.</p>
                                       </li>
                                       <li>
                                          <p>A REF cursor: the first column in the SELECT of the SQL for the ref cursor must be a spatial geometry object from a user table. The column must be of type SDO_GEOMETRY. (Any other columns can be number, character, and date types). Data type is SYS_REFCURSOR.</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e3999" headers="d115835e3975 ">
                                    <p>geom_obj</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e3999 d115835e3978 ">
                                    <p>Spatial geometry object: either a geometry from a table or a transient instance of a geometry, against which all of the selected points from <code class="codeph">cur</code> will be checked. Data type is SDO_GEOMETRY.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4011" headers="d115835e3975 ">
                                    <p>tol</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4011 d115835e3978 ">
                                    <p>Tolerance value (see <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a>). Must be greater than 0.0. Data type is NUMBER.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4024" headers="d115835e3975 ">
                                    <p>params</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4024 d115835e3978 ">
                                    <p>Optional parameter string of keywords and values. Determines the behavior of the operator. See <a href="spatial-operators-reference.html#GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__BABHEGGI" title="Keywords and descriptions for the SDO_POINTINPOLYGON Operator">Table 20-5</a> in the Usage Notes for information about the available keywords. Data type is VARCHAR2. Default is NULL.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-598570BD-E1A3-428D-9A29-1868BC3F371B">Returns</p>
                     <p>SDO_POINTINPOLYGON returns an object of ANYDATASET TYPE, which is described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=ARPLS078" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>. The ANYDATASET output columns are those specified by the <code class="codeph">cur</code> parameter.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-61082C0F-AE32-476F-9F47-435BB01AB20E">Usage Notes</p>
                     <p>SDO_POINTINPOLYGON is technically not an operator, but a table function. (For an explanation of table functions, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/spatl&amp;id=LNPLS915" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.) However, it is presented in the chapter with spatial operators because its usage is similar to that of the operators, and because it is not part of a package with other functions and procedures.
                     </p>
                     <p>The SQL statement used in the <code class="codeph">cur</code> parameter can have any number of predicates in the WHERE clause. This feature can be used to filter the data on other attributes before passing the resulting rows into the SDO_POINTINPOLYGON operator.
                     </p>
                     <p>The output columns are identical to the input columns, but the only rows returned are those matching the selection criteria.</p>
                     <p><a href="spatial-operators-reference.html#GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__BABHEGGI" title="Keywords and descriptions for the SDO_POINTINPOLYGON Operator">Table 20-5</a> shows the keywords for the <code class="codeph">params</code> parameter.
                     </p>
                     <div class="tblformal" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__BABHEGGI">
                        <p class="titleintable">Table 20-5 params Keywords for the SDO_POINTINPOLYGON Operator</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="params Keywords for the SDO_POINTINPOLYGON Operator" summary="Keywords and descriptions for the SDO_POINTINPOLYGON Operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d115835e4086">Keyword</th>
                                 <th align="left" valign="bottom" width="68%" id="d115835e4089">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e4094" headers="d115835e4086 ">
                                    <p>mask</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e4094 d115835e4089 ">
                                    <p>The topological relationship of interest. Valid values are 'mask=<span class="italic">&lt;value&gt;</span>' where <span class="italic">&lt;value&gt;</span> is one or more of the following: <code class="codeph">TOUCH</code>, <code class="codeph">OVERLAPBDYDISJOINT</code>, <code class="codeph">OVERLAPBDYINTERSECT</code>, <code class="codeph">EQUAL</code>, <code class="codeph">INSIDE</code>, <code class="codeph">COVEREDBY</code>, <code class="codeph">CONTAINS</code>, <code class="codeph">COVERS</code>, <code class="codeph">ANYINTERACT</code>, <code class="codeph">ON</code>. Multiple masks are combined with the logical Boolean operator OR, for example, '<code class="codeph">mask=inside+touch'</code>. See <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a> for an explanation of the nine-intersection relationship pattern.
                                    </p>
                                    <p>If <code class="codeph">cur</code> is a pair of X and Y point coordinates, <code class="codeph">TOUCH</code> and <code class="codeph">ON</code> are synonymous.
                                    </p>
                                    <p>If this parameter is null or contains an empty string, <code class="codeph">mask=ANYINTERACT</code> is assumed.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d115835e4165" headers="d115835e4086 ">
                                    <p>sdo_batch_size</p>
                                 </td>
                                 <td align="left" valign="top" width="68%" headers="d115835e4165 d115835e4089 ">
                                    <p>Specifies the maximum number of rows that are processed in a batch. The default value is 4000 and the maximum value is 32768. Data type is NUMBER.</p>
                                    <p>For example: 'sdo_batch_size=5000'</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>To use parallel query servers, you must do either of the following: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Specify the <code class="codeph">/*+ PARALLEL(</code><span class="italic"><code class="codeph">&lt;table alias&gt;, &lt;n&gt;</code></span><code class="codeph">) */</code> optimizer hint, where <span class="italic">&lt;table_alias</span>&gt; is the specified table alias and <span class="italic">&lt;n&gt;</span> is the degree-of-parallelism.
                           </p>
                        </li>
                        <li>
                           <p>Enable parallel query execution by entering the following command from a suitably privileged account:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION FORCE PARALLEL QUERY;</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-FBD23B27-680C-4856-808D-D64651CA3D7F">Examples</p>
                     <p>The following example creates a new table named COLA_MARKET_POINTS based on the data from the COLA_MARKETS table, which is described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>. The example then selects a point within each geometry where the MKT_ID column value is greater than 1. (It uses the <a href="SDO_UTIL-reference.html#GUID-1974B94C-375A-46F6-ACD5-5887EF2B5A7B">SDO_UTIL.INTERIOR_POINT</a> function to get a point that is guaranteed to be inside each geometry that matches the query criteria.)
                     </p><pre class="oac_no_warn" dir="ltr">-- Create a new table with a different name based on the data from the 
-- COLA_MARKETS table. This table has four columns: X, Y, MKT_ID, and NAME.
 
CREATE TABLE cola_market_points AS
SELECT a.point.sdo_point.x X, a.point.sdo_point.y Y, MKT_ID, NAME
 FROM (
SELECT mkt_id, name, sdo_util.interior_point(shape) point FROM cola_markets) a;

-- Limit to MKT_ID &gt; 1. Also, use the PARALLEL hint.
SELECT /*+ PARALLEL(a, 4) */ *
FROM TABLE(sdo_PointInPolygon(
  CURSOR(select * from cola_market_points where mkt_id &gt; 1),
  SDO_GEOMETRY(
    2003,
    NULL,
    NULL,
    MDSYS.SDO_ELEM_INFO_ARRAY(1, 1003, 1),
    MDSYS.SDO_ORDINATE_ARRAY(1, 1, 8, 1, 8, 6, 5, 7, 1, 1)),
  0.05)) a;
 
         X          Y     MKT_ID NAME                                           
---------- ---------- ---------- --------------------------------               
    6.3125      2.875          2 cola_b                                         
    4.6875      3.875          3 cola_c
</pre><p>The following example does the same SDO_POINTINPOLYGON query as the previous one, but without the need to create a COLA_MARKET_POINTS table, and where for each row with a MKT_ID column value greater than 1, a point geometry is returned instead the just the X and Y coordinate pair. (The output has been reformatted for readability.)</p><pre class="oac_no_warn" dir="ltr">-- Limit to MKT_ID &gt; 1. Also, use the PARALLEL hint. 
SELECT /*+ PARALLEL(a, 4) */ name, mkt_id, point
FROM TABLE(sdo_PointInPolygon(
  CURSOR(select sdo_util.interior_point(shape) point, mkt_id, name 
         from cola_markets where mkt_id &gt; 1),
SDO_GEOMETRY
  2003,
  NULL,
  NULL,
  MDSYS.SDO_ELEM_INFO_ARRAY(1, 1003, 1),
  MDSYS.SDO_ORDINATE_ARRAY(1, 1, 8, 1, 8, 6, 5, 7, 1, 1)),  0.05)) a;

NAME   MKT_ID  POINT(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDINATES)
------ ------- ----------------------------------------------------------------------------
cola_b   2     SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(6.3125, 2.875, NULL), NULL, NULL)
cola_c   3     SDO_GEOMETRY(2001, NULL, SDO_POINT_TYPE(4.6875, 3.875, NULL), NULL, NULL)
</pre><p>The following example uses a bind variable in the WHERE clause, and it specifies a <code class="codeph">params</code> string. It assumes the existence of a table named PIP_DATA.
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
 my_cursor SYS_REFCURSOR;
 my_pip_cursor SYS_REFCURSOR;
 stmt varchar2(2000);
 cnt number;
BEGIN
  stmt := 'SELECT count(*) FROM ' ||
          ' TABLE (Sdo_PointInPolygon(' ||
          'CURSOR(select * from pip_data where x &lt; :x1),' ||
          ' :g1, :tol, ''mask=DISJOINT sdo_batch_size=6000'')) ';
 open my_cursor for stmt
 using 100, -- :x1
       SDO_GEOMETRY( 2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1, 1003, 1),
              SDO_ORDINATE_ARRAY(10, 10, 70,10, 70, 70, 50,70,
                                 40,50, 20,70, 10,70, 10,10)), -- :g1
       0.05; -- :tol
 FETCH my_cursor into cnt;
 dbms_output.put_line(to_char(cnt));
END;
/</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-959C15D2-509C-4511-ADEB-1ADA6FBA8D0A__GUID-1083ACD8-F826-4FC8-A447-0E96E1CC022F">Related Topics</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-1974B94C-375A-46F6-ACD5-5887EF2B5A7B">SDO_UTIL.INTERIOR_POINT</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1039"></a><div class="props_rev_3"><a id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02" name="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02"></a><h3 id="SPATL-GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02" class="sect3"><span class="enumeration_section">20.16 </span>SDO_RELATE
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-006FE4A9-3CB5-42A7-9526-5648A3AFC822">Format</p><pre class="oac_no_warn" dir="ltr">SDO_RELATE(geometry1, geometry2,  param);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-35D96B01-0CF3-401E-A92A-747A0FB4D616">Description</p>
                     <p>Uses the spatial index to identify either the spatial objects that have a particular spatial interaction with a given object such as an area of interest, or pairs of spatial objects that have a particular spatial interaction. </p>
                     <p>This operator performs both primary and secondary filter operations.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-19FD8214-77CE-40CF-9C5C-02E330510239">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-60569FE9-1200-499A-93AB-C80F8A9FB6D1">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_RELATE operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e4329">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e4332">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4337" headers="d115835e4329 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4337 d115835e4332 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4346" headers="d115835e4329 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4346 d115835e4332 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4355" headers="d115835e4329 ">
                                    <p>param</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4355 d115835e4332 ">
                                    <p>Specifies the <code class="codeph">mask</code> keyword, and optionally either or both of the <code class="codeph">min_resolution</code> and <code class="codeph">max_resolution</code> keywords. The data type for this parameter is VARCHAR2.
                                    </p>
                                    <p>The <code class="codeph">mask</code> keyword specifies the topological relationship of interest. This is a required parameter. Valid <code class="codeph">mask</code> keyword values are one or more of the following in the nine-intersection pattern: <code class="codeph">TOUCH</code>, <code class="codeph">OVERLAPBDYDISJOINT</code>, <code class="codeph">OVERLAPBDYINTERSECT</code>, <code class="codeph">EQUAL</code>, <code class="codeph">INSIDE</code>, <code class="codeph">COVEREDBY</code>, <code class="codeph">CONTAINS</code>, <code class="codeph">COVERS</code>, <code class="codeph">ANYINTERACT</code>, <code class="codeph">ON</code>. Multiple masks are combined with the logical Boolean operator OR, for example, '<code class="codeph">mask=inside+touch'</code>. See <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a> for an explanation of the nine-intersection relationship pattern.
                                    </p>
                                    <p>The <code class="codeph">min_resolution</code> keyword includes only geometries for which at least one side of the geometry's MBR is equal to or greater than the specified value. For example, <code class="codeph">min_resolution=10</code> includes only geometries for which the width or the height (or both) of the geometry's MBR is at least 10. (This keyword can be used to exclude geometries that are too small to be of interest.)
                                    </p>
                                    <p>The <code class="codeph">max_resolution</code> keyword includes only geometries for which at least one side of the geometry's MBR is less than or equal to the specified value. For example, <code class="codeph">max_resolution=10</code> includes only geometries for which the width or the height (or both) of the geometry's MBR is less than or equal to 10. (This keyword can be used to exclude geometries that are too large to be of interest.)
                                    </p>
                                    <p>For backward compatibility, any additional keywords for the <code class="codeph">param</code> parameter that were supported before release 10.1 will still work; however, the use of those keywords is discouraged and is not supported for new uses of the operator.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-5A4BDCF6-D237-46CC-B693-0CF173216854">Returns</p>
                     <p>The expression SDO_RELATE(geometry1,geometry2, 'mask = &lt;some_mask_val&gt;') = 'TRUE' evaluates to TRUE for object pairs that have the topological relationship specified by &lt;some_mask_val&gt;, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-F786D64E-2384-4552-8495-B4B84CDB5D35">Usage Notes</p>
                     <p>The operator is disabled if the table does not have a spatial index or if the number of dimensions for the query window does not match the number of dimensions specified when the index was created.</p>
                     <p>The operator must always be used in a WHERE clause, and the condition that includes the operator should be an expression of the form SDO_RELATE(arg1, arg2, 'mask = &lt;some_mask_val&gt;') = 'TRUE'. (The expression must not equate to any value other than 'TRUE'.)</p>
                     <p><code class="codeph">geometry2</code> can come from a table or be a transient SDO_GEOMETRY object, such as a bind variable or SDO_GEOMETRY constructor.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the <code class="codeph">geometry2</code> column is not spatially indexed, the operator indexes the query window in memory and performance is very good.
                           </p>
                        </li>
                        <li>
                           <p>If two or more geometries from <code class="codeph">geometry2</code> are passed to the operator, the ORDERED optimizer hint must be specified, and the table in <code class="codeph">geometry2</code> must be specified first in the FROM clause.
                           </p>
                        </li>
                     </ul>
                     <p>If <code class="codeph">geometry1</code> and <code class="codeph">geometry2</code> are based on different coordinate systems, <code class="codeph">geometry2</code> is temporarily transformed to the coordinate system of <code class="codeph">geometry1</code> for the operation to be performed, as described in <a href="coordinate-systems-concepts.html#GUID-F1C8A225-2FA0-4338-B5A6-05455C18B1E8">Different Coordinate Systems for Geometries with Operators and Functions</a>.
                     </p>
                     <p>Unlike with the <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> function, DISJOINT and DETERMINE masks are not allowed in the relationship mask with the SDO_RELATE operator. This is because SDO_RELATE uses the spatial index to find candidates that may interact, and the information to satisfy DISJOINT or DETERMINE is not present in the index.
                     </p>
                     <p>Multiple masks can be combined using the logical Boolean operator OR, for example, <code class="codeph">'mask=touch+coveredby'</code>. Effective with Release 12.1, if you set the SPATIAL_VECTOR_ACCELERATION system parameter to <code class="codeph">TRUE</code> (highly recommended, as explained in <a href="spatial-concepts.html#GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669" title="To accelerate the performance of spatial operators, it is recommended that you enable the Vector Performance Accelerator (VPA) feature by setting the SPATIAL_VECTOR_ACCELERATION database system parameter to the value TRUE. (This feature and associated system parameter are authorized for use only by licensed Oracle Spatial and Graph users, and the default value for the parameter is FALSE.)">SPATIAL_VECTOR_ACCELERATION System Parameter</a>), you do not need to use UNION ALL with such masks. However, if you are <span class="italic"><span class="bold">not</span></span> setting SPATIAL_VECTOR_ACCELERATION to <code class="codeph">TRUE</code>, better performance may result if the spatial query specifies each mask individually and uses the UNION ALL syntax to combine the results. This is due to internal optimizations that Spatial and Graph can apply under certain conditions when masks are specified singly rather than grouped within the same SDO_RELATE operator call. (There are two exceptions, <code class="codeph">inside+coveredby</code> and <code class="codeph">contains+covers</code>, where the combination performs better than the UNION ALL alternative.)
                     </p>
                     <p>For example, consider the following query using the logical Boolean operator OR to group multiple masks:</p><pre class="oac_no_warn" dir="ltr">SELECT a.gid
  FROM polygons a, query_polys B
  WHERE B.gid = 1
  AND SDO_RELATE(A.Geometry, B.Geometry,
                   'mask=touch+coveredby') = 'TRUE';
</pre><p>If SPATIAL_VECTOR_ACCELERATION is <code class="codeph">TRUE</code>, then preceding query is simplest and has the best performance. However, if SPATIAL_VECTOR_ACCELEERATION is <code class="codeph">FALSE</code>, the preceding query may result in better performance if it is expressed as follows, using UNION ALL to combine results of multiple SDO_RELATE operator calls, each with a single mask:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT a.gid
      FROM polygons a, query_polys B
      WHERE B.gid = 1
      AND SDO_RELATE(A.Geometry, B.Geometry,
                   'mask=touch') = 'TRUE'
UNION ALL
SELECT a.gid
      FROM polygons a, query_polys B
      WHERE B.gid = 1
      AND SDO_RELATE(A.Geometry, B.Geometry,
                   'mask=coveredby') = 'TRUE';
</pre><p>The following considerations apply to relationships between lines and a multipoint geometry (points in a point cluster). Assume the example of a line and a multipoint geometry (for example, SDO_GTYPE = 2005) consisting of three points.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If none of the points has any interaction with the line, the relationship between the line and the point cluster is DISJOINT.</p>
                        </li>
                        <li>
                           <p>If one of the points is on the interior of the line and the other two points are disjoint, the relationship between the line and the point cluster is OVERLAPBDYDISJOINT.</p>
                        </li>
                        <li>
                           <p>If one of the points is on the boundary of the line (that is, if it is on the start point or end point of the line) and the other two points are disjoint, the relationship between the line and the point cluster is TOUCH.</p>
                        </li>
                        <li>
                           <p>If one of the points is on the boundary of the line (that is, if it is on the start point or end point of the line), another point is on the interior of the line, and the third point is disjoint, the relationship between the line and the point cluster is OVERLAPBDYDISJOINT (not OVERLAPBDYINTERSECT).</p>
                        </li>
                     </ul>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-AE8A8DAB-D437-4E66-B2AE-1A170A1165DA">Examples</p>
                     <p>The following examples are similar to those for the <a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a> operator; however, they identify a specific type of interaction (using the <code class="codeph">mask</code> keyword), and they determine with certainty (not mere likelihood) if the spatial interaction occurs.
                     </p>
                     <p>The following example selects the geometries that have any interaction with a query window (here, a rectangle with lower-left, upper-right coordinates 4,6, 8,8). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_RELATE(c.shape,
    SDO_GEOMETRY(2003, NULL, NULL,
      SDO_ELEM_INFO_ARRAY(1,1003,3),
      SDO_ORDINATE_ARRAY(4,6, 8,8)),
    'mask=anyinteract') = 'TRUE';

    MKT_ID NAME       
---------- --------------------------------                                     
         2 cola_b                                                               
         1 cola_a                                                               
         4 cola_d 
</pre><p>The following example is the same as the preceding example, except that it includes only geometries where at least one side of the geometry's MBR is equal to or greater than 4.1. In this case, only <code class="codeph">cola_a</code> and <code class="codeph">cola_b</code> are returned, because their MBRs have at least one side with a length greater than or equal to 4.1. The circle <code class="codeph">cola_d</code> is excluded, because its MBR is a square whose sides have a length of 4.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_RELATE(c.shape,
    SDO_GEOMETRY(2003, NULL, NULL,
      SDO_ELEM_INFO_ARRAY(1,1003,3),
      SDO_ORDINATE_ARRAY(4,6, 8,8)),
    'mask=anyinteract min_resolution=4.1') = 'TRUE';

    MKT_ID NAME       
---------- --------------------------------                                     
         2 cola_b                                                               
         1 cola_a                                                               
</pre><p>The following example selects the GID values from the POLYGONS table where the GEOMETRY column objects have any spatial interaction with the GEOMETRY column object in the QUERY_POLYS table that has a GID value of 1.</p><pre class="oac_no_warn" dir="ltr">SELECT A.gid 
  FROM Polygons A, query_polys B 
  WHERE B.gid = 1 
  AND SDO_RELATE(A.Geometry, B.Geometry, 
                   'mask=ANYINTERACT') = 'TRUE';
</pre><p>The following example selects the GID values from the POLYGONS table where a GEOMETRY column object has any spatial interaction with the geometry stored in the <code class="codeph">aGeom</code> variable.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT A.Gid 
  FROM Polygons A 
  WHERE SDO_RELATE(A.Geometry, :aGeom, 'mask=ANYINTERACT') = 'TRUE';
</pre><p>The following example selects the GID values from the POLYGONS table where a GEOMETRY column object has any spatial interaction with the specified rectangle having the lower-left coordinates (x1,y1) and the upper-right coordinates (x2, y2).</p><pre class="oac_no_warn" dir="ltr">SELECT A.Gid 
  FROM Polygons A 
  WHERE SDO_RELATE(A.Geometry, sdo_geometry(2003,NULL,NULL,
                                   sdo_elem_info_array(1,1003,3),
                                   sdo_ordinate_array(x1,y1,x2,y2)),
                     'mask=ANYINTERACT') = 'TRUE'; 
</pre><p>The following example selects the GID values from the POLYGONS table where the GEOMETRY column object has any spatial interaction with any GEOMETRY column object in the QUERY_POLYS table. In this example, the ORDERED optimizer hint is used and QUERY_POLYS (<code class="codeph">geometry2</code>) table is specified first in the FROM clause, because multiple geometries from <code class="codeph">geometry2</code> are involved (see the Usage Notes).
                     </p><pre class="oac_no_warn" dir="ltr">SELECT /*+ ORDERED */
  A.gid 
  FROM query_polys B, polygons A 
  WHERE SDO_RELATE(A.Geometry, B.Geometry, 'mask=ANYINTERACT') = 'TRUE';
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02__GUID-36CBFD3E-BE2C-401A-92C8-AE3FBC4E435F">Related Topics</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a></p>
                        </li>
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-4D9DD9EF-DD9C-4198-A416-37B900B4E32F">SDO_JOIN</a></p>
                        </li>
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a></p>
                        </li>
                        <li>
                           <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> function
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1040"></a><div class="props_rev_3"><a id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252" name="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252"></a><h3 id="SPATL-GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252" class="sect3"><span class="enumeration_section">20.17 </span>SDO_TOUCH
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-54AB2EE7-F868-40E5-828B-0CEBB185FDE1">Format</p><pre class="oac_no_warn" dir="ltr">SDO_TOUCH(geometry1, geometry2);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-191D6195-EFE8-4B5B-84B1-DEE1BFCB1BFD">Description</p>
                     <p>Checks if any geometries in a table have the TOUCH topological relationship with a specified geometry. Equivalent to specifying the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator with <code class="codeph">'mask=TOUCH'</code>. 
                     </p>
                     <p>See the section on the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter for information about the operations performed by this operator and for usage requirements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-E26ACD03-32F7-4AEF-AE59-2543E1133C89">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-AF44B06B-CD95-4EFC-B441-C921C39DCDF0">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_TOUCH operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e4765">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e4768">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4773" headers="d115835e4765 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4773 d115835e4768 ">
                                    <p>Specifies a geometry column in a table. A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4782" headers="d115835e4765 ">
                                    <p>geometry2</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4782 d115835e4768 ">
                                    <p>Specifies either a geometry from a table or a transient instance of a geometry. (Specified using a bind variable or SDO_GEOMETRY constructor.) Data type is SDO_GEOMETRY.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-9F2E38CC-758B-4CBE-9AC0-2CABFBDFBB90">Returns</p>
                     <p>The expression SDO_TOUCH(geometry1,geometry2) = 'TRUE' evaluates to TRUE for object pairs that have the TOUCH topological relationship, and FALSE otherwise. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-A15F20E1-0F14-48E2-8A81-9887CD71C2CC">Usage Notes</p>
                     <p>See the Usage Notes for the <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator in this chapter.
                     </p>
                     <p>For an explanation of the topological relationships and the nine-intersection model used by Spatial and Graph, see <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" title="Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.">Spatial Relationships and Filtering</a>.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93B1E298-BE8D-45B9-A1D4-9B310ABB1252__GUID-D764AA74-9A86-4836-9622-AE35B8C99DB6">Examples</p>
                     <p>The following example finds geometries that have the TOUCH relationship with a query window (here, a rectangle with lower-left, upper-right coordinates 1,1, 5,7). (The example uses the definitions and data in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>.) In this example, only <code class="codeph">cola_b</code> has the TOUCH relationship with the query window geometry.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.mkt_id, c.name
  FROM cola_markets c
  WHERE SDO_TOUCH(c.shape,
            SDO_GEOMETRY(2003, NULL, NULL,
              SDO_ELEM_INFO_ARRAY(1,1003,3),
              SDO_ORDINATE_ARRAY(1,1, 5,7))
            ) = 'TRUE';
  FROM cola_markets c

    MKT_ID NAME       
---------- --------------------------------                             
         2 cola_b</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1041"></a><div class="props_rev_3"><a id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC" name="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC"></a><h3 id="SPATL-GUID-682B258F-1604-4BE8-824D-F6E05376E7EC" class="sect3"><span class="enumeration_section">20.18 </span>SDO_WITHIN_DISTANCE
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-5AAEB9F1-9D9E-4FB7-99C2-844DCC9754DC">Format</p><pre class="oac_no_warn" dir="ltr">SDO_WITHIN_DISTANCE(geometry1, aGeom, params);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-8864BAA9-D927-46C5-AA77-B09F7CA5E393">Description</p>
                     <p>Uses the spatial index to identify the set of spatial objects that are within some specified distance of a given object, such as an area of interest or point of interest.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-CDFB52CF-8100-40D2-8D63-F581D467A28B">Keywords and Parameters</p>
                     <div class="tblformal" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-3903D758-8F80-4773-A689-B751FEE5B0C6">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameters and descriptions for SDO_WITHIN_DISTANCE operator" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d115835e4928">Value</th>
                                 <th align="left" valign="bottom" width="81%" id="d115835e4931">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4936" headers="d115835e4928 ">
                                    <p>geometry1</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4936 d115835e4931 ">
                                    <p>Specifies a geometry column in a table. The column has the set of geometry objects that will be operated on to determine if they are within the specified distance of the given object (<code class="codeph">aGeom</code>). A spatial index on this column is recommended.  Data type is SDO_GEOMETRY.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4948" headers="d115835e4928 ">
                                    <p>aGeom</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4948 d115835e4931 ">
                                    <p>Specifies the object to be checked for distance against the geometry objects in <code class="codeph">geometry1</code>. Specify either a geometry from a table (using a bind variable) or a transient instance of a geometry (using the SDO_GEOMETRY constructor). Data type is SDO_GEOMETRY.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4960" headers="d115835e4928 ">
                                    <p><span>params</span></p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4960 d115835e4931 ">
                                    <p>A quoted string containing one or more keywords (with values) that determine the behavior of the operator. The remaining items (<code class="codeph">distance</code>, <code class="codeph">ellipsoidal</code>, <code class="codeph">max_resolution</code>, <code class="codeph">min_resolution</code>, <code class="codeph">querytype</code>, and <code class="codeph">unit</code>) are potential keywords for the <code class="codeph">params</code> parameter. Data type is VARCHAR2.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e4992" headers="d115835e4928 ">
                                    <p>distance</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e4992 d115835e4931 ">
                                    <p>Specifies the distance value. If a coordinate system is associated with the geometry, the distance unit is assumed to be the unit associated with the coordinate system. This is a required keyword. Data type is NUMBER. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5001" headers="d115835e4928 ">
                                    <p>ellipsoidal</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5001 d115835e4931 ">
                                    <p>Specifies if ellipsoidal distance is always used with geodetic data (<code class="codeph">true</code>), or if spherical distance is used in some cases (<code class="codeph">false</code>, the default). See <a href="coordinate-systems-concepts.html#GUID-A5727F9D-FA87-467F-851D-50B11A016460">Distance: Spherical versus Ellipsoidal with Geodetic Data</a>.
                                    </p>
                                    <p>For example: 'ellipsoidal=true' </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5019" headers="d115835e4928 ">
                                    <p>max_resolution</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5019 d115835e4931 ">
                                    <p>Includes only geometries for which at least one side of the geometry's MBR is less than or equal to the specified value. For example, <code class="codeph">max_resolution=10</code> includes only geometries for which the width or the height (or both) of the geometry's MBR is less than or equal to 10. (This keyword can be used to exclude geometries that are too large to be of interest.)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5029" headers="d115835e4928 ">
                                    <p>min_resolution</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5029 d115835e4931 ">
                                    <p>Includes only geometries for which at least one side of the geometry's MBR is equal to or greater than the specified value. For example, <code class="codeph">min_resolution=10</code> includes only geometries for which the width or the height (or both) of the geometry's MBR is at least 10. (This keyword can be used to exclude geometries that are too small to be of interest.)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5039" headers="d115835e4928 ">
                                    <p>querytype</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5039 d115835e4931 ">
                                    <p>Set <code class="codeph">'querytype=FILTER'</code> to perform only a primary filter operation. If <code class="codeph">querytype</code> is not specified, both primary and secondary filter operations are performed (default). Data type is VARCHAR2.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d115835e5054" headers="d115835e4928 ">
                                    <p>unit</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d115835e5054 d115835e4931 ">
                                    <p>Specifies the unit of measurement: a quoted string with <code class="codeph">unit=</code> and an SDO_UNIT value from the MDSYS.SDO_DIST_UNITS table (for example, <code class="codeph">'unit=KM'</code>). See <a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">Unit of Measurement Support</a> for more information about unit of measurement specification. Data type is NUMBER. Default = unit of measurement associated with the data. For geodetic data, the default is meters.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-544CDBDB-AE0D-4554-9301-3B47EDB1286E">Returns</p>
                     <p>The expression SDO_WITHIN_DISTANCE(arg1, arg2, arg3) = 'TRUE' evaluates to TRUE for object pairs that are within the specified distance, and FALSE otherwise.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-0DBA1271-7E61-4A44-8824-6EA2E4DD2319">Usage Notes</p>
                     <p>The distance between two extended objects (nonpoint objects such as lines and polygons) is defined as the minimum distance between these two objects. The distance between two adjacent polygons is zero. </p>
                     <p>The operator is disabled if the table does not have a spatial index or if the number of dimensions for the query window does not match the number of dimensions specified when the index was created.</p>
                     <p>The operator must always be used in a WHERE clause and the condition that includes the operator should be an expression of the form: </p><pre class="oac_no_warn" dir="ltr">SDO_WITHIN_DISTANCE(arg1, arg2, 'distance = &lt;some_dist_val&gt;') = 'TRUE'
</pre><p>(The expression must not equate to any value other than 'TRUE'.)</p>
                     <p>The geometry column must have a spatial index built on it. If the data is geodetic, the spatial index must be an R-tree index.</p>
                     <p>SDO_WITHIN_DISTANCE is not supported for spatial joins. See <a href="indexing-querying-spatial-data.html#GUID-3839BEE8-7743-46F4-B573-667ADC7FEB3E">Within-Distance Operator</a> for a discussion on how to perform a spatial join within-distance operation.
                     </p>
                     <p>For information about 3D support with spatial operators (which operators do and do not consider all three dimensions in their computations), see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-32C32470-BBC9-44A0-AC62-150E2728E710">Examples</p>
                     <p>The following example selects the geometries that are within a distance of 10 from a query window (here, a rectangle with lower-left, upper-right coordinates 4,6, 8,8). (The example uses the definitions and data described and illustrated in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>. In this case, all geometries shown in that figure are returned.)
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.name FROM cola_markets c WHERE SDO_WITHIN_DISTANCE(c.shape,
  SDO_GEOMETRY(2003, NULL, NULL, SDO_ELEM_INFO_ARRAY(1,1003,3),
    SDO_ORDINATE_ARRAY(4,6, 8,8)),
  'distance=10') = 'TRUE';
 
NAME                                                                            
--------------------------------                                                
cola_b                                                                          
cola_a                                                                          
cola_c                                                                          
cola_d
</pre><p>The following example is the same as the preceding example, except that it includes only geometries where at least one side of the geometry's MBR is equal to or greater than 4.1. In this case, only <code class="codeph">cola_a</code> and <code class="codeph">cola_b</code> are returned, because their MBRs have at least one side with a length greater than or equal to 4.1. The trapezoid <code class="codeph">cola_c</code> is excluded, because its MBR has sides with lengths of 3 and 2; and the circle <code class="codeph">cola_d</code> is excluded, because its MBR is a square whose sides have a length of 4.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT c.name FROM cola_markets c WHERE SDO_WITHIN_DISTANCE(c.shape,
  SDO_GEOMETRY(2003, NULL, NULL, SDO_ELEM_INFO_ARRAY(1,1003,3),
    SDO_ORDINATE_ARRAY(4,6, 8,8)),
  'distance=10 min_resolution=4.1') = 'TRUE';
 
NAME                                                                            
--------------------------------                                                
cola_b                                                                          
cola_a 
</pre><p>The following example selects the GID values from the POLYGONS table where the GEOMETRY column object is within 10 distance units of the geometry stored in the <code class="codeph">aGeom</code> variable.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT A.GID 
  FROM POLYGONS A 
  WHERE 
    SDO_WITHIN_DISTANCE(A.Geometry, :aGeom, 'distance = 10') = 'TRUE';
</pre><p>The following example selects the GID values from the POLYGONS table where the GEOMETRY column object is within 10 distance units of the specified rectangle having the lower-left coordinates (x1,y1) and the upper-right coordinates (x2, y2).</p><pre class="oac_no_warn" dir="ltr">SELECT A.GID 
  FROM POLYGONS A 
  WHERE 
    SDO_WITHIN_DISTANCE(A.Geometry, sdo_geometry(2003,NULL,NULL,
                             sdo_elem_info_array(1,1003,3),
                             sdo_ordinate_array(x1,y1,x2,y2)),
                     'distance = 10') = 'TRUE';
</pre><p>The following example selects the GID values from the POLYGONS table where the GID value in the QUERY_POINTS table is 1 and a POLYGONS.GEOMETRY object is within 10 distance units of the QUERY_POINTS.GEOMETRY object.</p><pre class="oac_no_warn" dir="ltr">SELECT A.GID 
  FROM POLYGONS A, Query_Points B 
  WHERE B.GID = 1 AND 
    SDO_WITHIN_DISTANCE(A.Geometry, B.Geometry, 'distance = 10') = 'TRUE';
</pre><p>See also the more complex SDO_WITHIN_DISTANCE examples in <a href="complex-spatial-queries.html#GUID-49F0C64E-AFE9-41C7-9068-ACEE1D276BC4">SDO_WITHIN_DISTANCE Examples</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-682B258F-1604-4BE8-824D-F6E05376E7EC__GUID-47DE970C-706D-47B0-A1C7-F228E3A7D10C">Related Topics</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a></p>
                        </li>
                        <li>
                           <p><a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type.">Spatial Operators</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>