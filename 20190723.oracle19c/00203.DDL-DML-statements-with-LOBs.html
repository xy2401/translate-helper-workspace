<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>DDL and DML Statements with LOBs</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96333-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="distributed-LOBs.html" title="Previous" type="text/html">
      <link rel="next" href="value-semantic-LOBs.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADLOB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="distributed-LOBs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="value-semantic-LOBs.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles and Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="getting-started.html" property="item" typeof="WebPage"><span property="name">    Getting Started</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DDL and DML Statements with LOBs</li>
            </ol>
            <a id="GUID-17F0F935-FD78-4F41-B6DF-86409522D667" name="GUID-17F0F935-FD78-4F41-B6DF-86409522D667"></a><a id="ADLOB45560"></a>
            
            <h2 id="ADLOB-GUID-17F0F935-FD78-4F41-B6DF-86409522D667" class="sect2"><span class="enumeration_chapter">6 </span> DDL and DML Statements with LOBs
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>DDL and DML statements work with LOBs.</p>
               <p>Topics: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DDL-DML-statements-with-LOBs.html#GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203">Creating a Table Containing One or More LOB Columns</a></p>
                  </li>
                  <li>
                     <p><a href="DDL-DML-statements-with-LOBs.html#GUID-4DB85138-7C86-4085-AA54-D0A40B6DDAC1">Creating a Nested Table Containing a LOB</a></p>
                  </li>
                  <li>
                     <p><a href="DDL-DML-statements-with-LOBs.html#GUID-C35F0A08-CF55-4097-9916-00B9CC98C7E3">Inserting a Row by Selecting a LOB From Another Table</a></p>
                  </li>
                  <li>
                     <p><a href="DDL-DML-statements-with-LOBs.html#GUID-99294FB3-0AFA-4C33-B9C8-0532ACFE69D9">Inserting a LOB Value Into a Table</a></p>
                  </li>
                  <li>
                     <p><a href="DDL-DML-statements-with-LOBs.html#GUID-6DF2E05A-985D-4921-B945-95FF1F85AA8D" title="You can insert a row by initializing a LOB locator bind variable.">Inserting a Row by Initializing a LOB Locator Bind Variable</a></p>
                  </li>
                  <li>
                     <p><a href="DDL-DML-statements-with-LOBs.html#GUID-A02B0C82-EC75-4993-BF34-4AE83B07FAA4">Updating a LOB with EMPTY_CLOB() or EMPTY_BLOB()</a></p>
                  </li>
                  <li>
                     <p><a href="DDL-DML-statements-with-LOBs.html#GUID-1C2EBE02-C5D6-4C01-AE25-B8AB6687C426">Updating a Row by Selecting a LOB From Another Table</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-17F0F935-FD78-4F41-B6DF-86409522D667__GUID-83F22B7F-F298-4F61-8C77-4839ADB72EE7">
                  <p class="notep1">See Also:</p>
                  <p>For guidelines on how to <code class="codeph">INSERT</code> into a LOB when binds of more than 4000 bytes are involved, see the following sections in <span class="q">"<a href="data-interface-for-persistent-LOBs.html#GUID-5E2B4119-184C-4FE9-839D-3619CC23D9B7">Binds of All Sizes in INSERT and UPDATE Operations</a>"</span>. 
                  </p>
               </div>
            </div><a id="ADLOB45562"></a><a id="ADLOB45561"></a><div class="props_rev_3"><a id="GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203" name="GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203"></a><h3 id="ADLOB-GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203" class="sect3">Creating a Table Containing One or More LOB Columns</h3>
               <div>
                  <div class="section">
                     <p>You can create a table containing one or more LOB columns.</p>
                     <p>When you use functions, <code class="codeph">EMPTY_BLOB()</code> and <code class="codeph">EMPTY_CLOB()</code>, the resulting LOB is initialized, but not populated with data. Also note that LOBs that are empty are not <code class="codeph">NULL</code>. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203__GUID-D98461E0-B97B-4E20-8442-EA0CF3CAA3E5">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <p><a href="../sqlrf/SQL-Statements-DROP-CONTEXT-to-DROP-JAVA.html#SQLRF014" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a>for a complete specification of syntax for using LOBs in <code class="codeph">CREATE TABLE</code> and <code class="codeph">ALTER TABLE</code> with:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, <code class="codeph">NCLOB</code> and <code class="codeph">BFILE</code> columns
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">EMPTY_BLOB</code> and <code class="codeph">EMPTY_CLOB</code> functions
                              </p>
                           </li>
                           <li>
                              <p>LOB storage clause for persistent LOB columns, and LOB attributes of embedded objects</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203__GUID-23CFDB46-1495-431E-B8B5-B6B79055D43E">Scenario</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>These examples use the following Sample Schemas: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Human Resources (<code class="codeph">HR</code>) 
                           </p>
                        </li>
                        <li>
                           <p>Order Entry (<code class="codeph">OE</code>)
                           </p>
                        </li>
                        <li>
                           <p>Product Media (<code class="codeph">PM</code>)
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203__NOTE-1333-DD4EB024">
                        <p class="notep1">Note:</p>
                        <p>Note <code class="codeph">HR</code> and <code class="codeph">OE</code> schemas must exist before the <code class="codeph">PM</code> schema is created.
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203__GUID-FC880C8C-43DF-4B40-8D84-A06636A33E4F">
                        <p class="notep1">Note:</p>
                        <p>Because you can use SQL DDL directly to create a table containing one or more<span class="bold"> </span>LOB<span class="bold"> </span>columns, it is not necessary to use the <code class="codeph">DBMS_LOB</code> package.
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">/*  Setup script for creating Print_media, 
    Online_media and associated structures 
*/

DROP USER pm CASCADE;
DROP DIRECTORY ADPHOTO_DIR;
DROP DIRECTORY ADCOMPOSITE_DIR;
DROP DIRECTORY ADGRAPHIC_DIR;
DROP INDEX onlinemedia CASCADE CONSTRAINTS;
DROP INDEX printmedia CASCADE CONSTRAINTS;
DROP TABLE online_media CASCADE CONSTRAINTS;
DROP TABLE print_media CASCADE CONSTRAINTS;
DROP TYPE textdoc_typ;
DROP TYPE textdoc_tab;
DROP TYPE adheader_typ;
DROP TABLE adheader_typ;
CREATE USER pm identified by <span class="italic">password</span>;
GRANT CONNECT, RESOURCE to pm;

CREATE DIRECTORY ADPHOTO_DIR AS '/tmp/';
CREATE DIRECTORY ADCOMPOSITE_DIR AS '/tmp/';
CREATE DIRECTORY ADGRAPHIC_DIR AS '/tmp/';
CREATE DIRECTORY media_dir AS '/tmp/';
GRANT READ ON DIRECTORY ADPHOTO_DIR to pm;
GRANT READ ON DIRECTORY ADCOMPOSITE_DIR to pm;
GRANT READ ON DIRECTORY ADGRAPHIC_DIR to pm;
GRANT READ ON DIRECTORY media_dir to pm;

CONNECT pm/<span class="italic">password</span>  (or &amp;pass);
COMMIT;

CREATE TABLE a_table (blob_col BLOB); 

CREATE TYPE adheader_typ AS OBJECT ( 
   header_name    VARCHAR2(256),  
   creation_date  DATE,  
   header_text    VARCHAR(1024), 
   logo           BLOB );

CREATE TYPE textdoc_typ AS OBJECT ( 
   document_typ   VARCHAR2(32), 
   formatted_doc  BLOB);

CREATE TYPE Textdoc_ntab AS TABLE of textdoc_typ;

CREATE TABLE adheader_tab of adheader_typ (
Ad_finaltext DEFAULT EMPTY_CLOB(), CONSTRAINT 
Take CHECK (Take IS NOT NULL),  DEFAULT NULL);

CREATE TABLE online_media
( product_id  NUMBER(6),
product_photo ORDSYS.ORDImage,
product_photo_signature ORDSYS.ORDImageSignature,
product_thumbnail ORDSYS.ORDImage, 
product_video ORDSYS.ORDVideo,
product_audio ORDSYS.ORDAudio, 
product_text CLOB,
product_testimonials ORDSYS.ORDDoc);

CREATE UNIQUE INDEX onlinemedia_pk
  ON online_media (product_id);
  
ALTER TABLE online_media
ADD (CONSTRAINT onlinemedia_pk
PRIMARY KEY (product_id), CONSTRAINT loc_c_id_fk
FOREIGN KEY (product_id)  REFERENCES oe.product_information(product_id)
);

CREATE TABLE print_media
(product_id NUMBER(6), 
ad_id NUMBER(6),
ad_composite BLOB,
ad_sourcetext CLOB, 
ad_finaltext CLOB,
ad_fktextn NCLOB,
ad_testdocs_ntab textdoc_tab,
ad_photo BLOB, 
ad_graphic BFILE,
ad_header adheader_typ,
press_release LONG) NESTED TABLE ad_textdocs_ntab STORE AS textdocs_nestedtab;

CREATE UNIQUE INDEX printmedia_pk
  ON print_media (product_id, ad_id);

ALTER TABLE print_media
ADD (CONSTRAINT printmedia_pk
PRIMARY KEY (product_id, ad_id), 
CONSTRAINT printmedia_fk FOREIGN KEY (product_id) 
REFERENCES oe.product_information(product_id)
);</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45563"></a><div class="props_rev_3"><a id="GUID-4DB85138-7C86-4085-AA54-D0A40B6DDAC1" name="GUID-4DB85138-7C86-4085-AA54-D0A40B6DDAC1"></a><h3 id="ADLOB-GUID-4DB85138-7C86-4085-AA54-D0A40B6DDAC1" class="sect3">Creating a Nested Table Containing a LOB</h3>
               <div>
                  <div class="section">
                     <p>You can create a nested table containing a LOB.</p>
                     <p>You must create the object type that contains the LOB attributes before you create a nested table based on that object type. In the example that follows, table <code class="codeph">Print_media</code> contains nested table <code class="codeph">ad_textdoc_ntab</code> that has type <code class="codeph">textdoc_tab</code>. This type uses two LOB data types: 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">BFILE </code>- an advertisement graphic
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CLOB </code>- an advertisement transcript
                           </p>
                        </li>
                     </ul>
                     <p>The actual embedding of the nested table is accomplished when the structure of the containing table is defined. In our example, this is effected by the <code class="codeph">NESTED TABLE</code> statement when the <code class="codeph">Print_media</code> table is created as shown in the following example: 
                     </p><pre class="oac_no_warn" dir="ltr">/* Create type textdoc_typ as the base type 
   for the nested table textdoc_ntab, 
   where textdoc_ntab contains a LOB: 
*/
CREATE TYPE textdoc_typ AS OBJECT
( 
   document_typ    VARCHAR2(32),  
   formatted_doc   BLOB 
);
/

/* The type has been created. Now you need a */
/* nested table of that type to embed in */
/* table Print_media, so: */
CREATE TYPE textdoc_ntab AS TABLE of textdoc_typ; 
/

CREATE TABLE textdoc_ntable ( 
   id NUMBER, 
   ntab_col textdoc_ntab) 
NESTED TABLE ntab_col STORE AS textdoc_nestedtab;

DROP TYPE textdoc_typ force;
DROP TYPE textdoc_ntab;
DROP TABLE textdoc_ntable;
</pre><div class="infoboxnotealso" id="GUID-4DB85138-7C86-4085-AA54-D0A40B6DDAC1__GUID-EDA9DAF6-910F-44C3-8148-AA6007985BA7">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="DDL-DML-statements-with-LOBs.html#GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203">Creating a Table Containing One or More LOB Columns</a>"</span> 
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=SQLRF01402" target="_blank"><span class="italic"> Oracle Database SQL Language Reference</span></a> for further information on <code class="codeph">CREATE</code> <code class="codeph">TABLE</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45564"></a><div class="props_rev_3"><a id="GUID-C35F0A08-CF55-4097-9916-00B9CC98C7E3" name="GUID-C35F0A08-CF55-4097-9916-00B9CC98C7E3"></a><h3 id="ADLOB-GUID-C35F0A08-CF55-4097-9916-00B9CC98C7E3" class="sect3">Inserting a Row by Selecting a LOB From Another Table</h3>
               <div>
                  <div class="section">
                     <p>You can insert a row containing a LOB as <code class="codeph">SELECT</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-C35F0A08-CF55-4097-9916-00B9CC98C7E3__GUID-DF8DBEC2-2C7F-457F-AE4A-91EC36CB6B0D">
                        <p class="notep1">Note:</p>
                        <p>Persistent LOB types <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, and <code class="codeph">NCLOB</code>, use <span class="italic">copy</span> <span class="italic">semantics,</span> as opposed to<a id="d17440e515" class="indexterm-anchor"></a> <span class="italic">reference semantics</span> that apply to <code class="codeph">BFILE</code>s. When a <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, or <code class="codeph">NCLOB</code> is copied from one row to another in the same table or a different table, the <span class="italic">actual</span> LOB value is copied, not just the LOB locator. 
                        </p>
                     </div>
                     <p>For LOBs, one of the advantages of using an object-relational approach is that you can define a type as a common template for related tables. For instance, it makes sense that both the tables that store archival material and working tables that use those libraries, share a common structure. </p>
                     <p>For example, assuming <code class="codeph">Print_media</code> and <code class="codeph">Online_media</code> have identical schemas. The statement creates a new LOB locator in table <code class="codeph">Print_media. It also</code> copies the LOB data from <code class="codeph">Online_media</code> to the location pointed to by the new LOB locator inserted in table <code class="codeph">Print_media</code>.
                     </p>
                     <p>The following code fragment is based on the fact that the table <code class="codeph">Online_media</code> is of the same type as <code class="codeph">Print_media</code> referenced by the <code class="codeph">ad_textdocs_ntab</code> column of table <code class="codeph">Print_media</code>. It inserts values into the library table, and then inserts this same data into <code class="codeph">Print_media</code> by means of a <code class="codeph">SELECT</code>.
                     </p><pre class="oac_no_warn" dir="ltr">/* Store records in the archive table Online_media: */
INSERT INTO Online_media  
   VALUES (3060, NULL, NULL, NULL, NULL, 
           'some text about this CRT Monitor', NULL);

/* Insert values into Print_media by selecting from Online_media: */
INSERT INTO Print_media (product_id, ad_id, ad_sourcetext)
   (SELECT product_id, 11001, product_text
          FROM Online_media WHERE product_id = 3060);
</pre><div class="infoboxnotealso" id="GUID-C35F0A08-CF55-4097-9916-00B9CC98C7E3__GUID-FDECBDB6-00E9-40FB-BA7E-88682CAEA43A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sqlrf/INSERT.html#SQLRF01604" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on  <code class="codeph">INSERT</code></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=COMSC00040" target="_blank"><span class="italic">Oracle Database Sample Schemas </span></a>for a description of the PM Schema and the <code class="codeph">Print_media</code> table used in this example
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45566"></a><a id="ADLOB45567"></a><a id="ADLOB45565"></a><div class="props_rev_3"><a id="GUID-99294FB3-0AFA-4C33-B9C8-0532ACFE69D9" name="GUID-99294FB3-0AFA-4C33-B9C8-0532ACFE69D9"></a><h3 id="ADLOB-GUID-99294FB3-0AFA-4C33-B9C8-0532ACFE69D9" class="sect3"><span class="bold">Inserting a LOB Value Into a Table</span></h3>
               <div>
                  <div class="section">
                     <p>You can insert a LOB value using <code class="codeph">EMPTY_CLOB()</code> or <code class="codeph">EMPTY_BLOB()</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-99294FB3-0AFA-4C33-B9C8-0532ACFE69D9__GUID-C81318DC-25A0-41E3-BFA0-314EE0A5A76F">Usage Notes</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Here are guidelines for inserting LOBs:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-99294FB3-0AFA-4C33-B9C8-0532ACFE69D9__GUID-9A856AC6-C33B-4F7F-8102-CF093A9A8082">Before Inserting Make the LOB Column Non-Null</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Before you write data to a persistent LOB, make the LOB column non-<code class="codeph">NULL</code>; that is, the LOB column must contain a locator that points to an empty or populated LOB value. You can initialize a <code class="codeph">BLOB</code> column value by using the function <code class="codeph">EMPTY_BLOB()</code> as a default predicate. Similarly, a <code class="codeph">CLOB</code> or <code class="codeph">NCLOB</code> column value can be initialized by using the function <code class="codeph">EMPTY_CLOB()</code>. 
                     </p>
                     <p>You can also initialize a LOB column with a character or raw string less than 4000 bytes in size. For example:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO Print_media (product_id, ad_id, ad_sourcetext)
     VALUES (1, 1, 'This is a One Line Advertisement');
</pre><p>Note that you can also perform this <a id="d17440e711" class="indexterm-anchor"></a>initialization during the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> operation.
                     </p>
                     <div class="infoboxnotealso" id="GUID-99294FB3-0AFA-4C33-B9C8-0532ACFE69D9__NOTE-1255-DD50408E">
                        <p class="notep1">See Also:</p>
                        <p><a href="DDL-DML-statements-with-LOBs.html#GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203">Creating a Table Containing One or More LOB Columns</a></p>
                     </div>
                     <p>These functions are special functions in Oracle SQL, and are not part of the <code class="codeph">DBMS_LOB</code> package. 
                     </p><pre class="oac_no_warn" dir="ltr">/* In the new row of table Print_media, 
   the columns ad_sourcetext and ad_fltextn are initialized using EMPTY_CLOB(), 
   the columns ad_composite and ad_photo are initialized using EMPTY_BLOB(),
   the column formatted-doc in the nested table is initialized using
   EMPTY_BLOB(),
   the column logo in the column object is initialized using EMPTY_BLOB(): */   
INSERT INTO Print_media 
   VALUES (3060,11001, EMPTY_BLOB(), EMPTY_CLOB(),EMPTY_CLOB(),EMPTY_CLOB(), 
   textdoc_tab(textdoc_typ ('HTML', EMPTY_BLOB())), EMPTY_BLOB(), NULL,
   adheader_typ('any header name', &lt;any date&gt;, 'ad header text goes here',
   EMPTY_BLOB()),
 'Press release goes here');</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45568"></a><div class="props_rev_3"><a id="GUID-6DF2E05A-985D-4921-B945-95FF1F85AA8D" name="GUID-6DF2E05A-985D-4921-B945-95FF1F85AA8D"></a><h3 id="ADLOB-GUID-6DF2E05A-985D-4921-B945-95FF1F85AA8D" class="sect3">Inserting a Row by Initializing a LOB Locator Bind Variable</h3>
               <div>
                  <p>You can insert a row by initializing a LOB locator bind variable.</p>
                  <p>Examples for this use case are provided in several programmatic environments: </p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="DDL-DML-statements-with-LOBs.html#GUID-EDA6FBF5-7FF5-4A76-BA22-A36ACFA886BC">About Inserting Rows with LOB Locator Bind Variables</a></p>
                     </li>
                     <li>
                        <p><a href="DDL-DML-statements-with-LOBs.html#GUID-A8AF57F8-5F21-4050-A9E0-2438D0F0B75C">PL/SQL: Inserting a Row by Initializing a LOB Locator Bind Variable</a> 
                        </p>
                     </li>
                     <li>
                        <p><a href="DDL-DML-statements-with-LOBs.html#GUID-5E85BE11-51C8-402E-A399-7713129CE099">C (OCI): Inserting a Row by Initializing a LOB Locator Bind Variable</a> 
                        </p>
                     </li>
                     <li>
                        <p><a href="DDL-DML-statements-with-LOBs.html#GUID-10E7C91C-93FC-4CE0-9757-2EFC1DF1F5CC">COBOL (Pro*COBOL): Inserting a Row by Initializing a LOB Locator Bind Variable</a></p>
                     </li>
                     <li>
                        <p><a href="DDL-DML-statements-with-LOBs.html#GUID-7D4D5121-4387-4266-9E05-6116DC12BAE2">C/C++ (Pro*C/C++): Inserting a Row by Initializing a LOB Locator Bind Variable</a> 
                        </p>
                     </li>
                     <li>
                        <p><a href="DDL-DML-statements-with-LOBs.html#GUID-54C45A10-A803-425E-AE53-4826745C213B">Java (JDBC): Inserting a Row by Initializing a LOB Locator Bind Variable</a></p>
                     </li>
                  </ul>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>SQL: <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adlob&amp;id=SQLRF01604" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>, the <code class="codeph">INSERT</code> statement
                           </p>
                        </li>
                        <li>
                           <p>C (OCI): <a href="../lnoci/introduction-to-relational-functions.html#LNOCI17094" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide </span></a>"Relational Functions"
                           </p>
                        </li>
                        <li>
                           <p>C++ (OCCI): <a href="../lncpp/introduction-to-occi.html#LNCPP-GUID-99077609-BFCC-4FF7-9D23-C45623DDD465" target="_blank"><span><cite>Oracle C++ Call Interface Programmer's Guide</cite></span></a></p>
                        </li>
                        <li>
                           <p>COBOL (Pro*COBOL)<a href="../lnpcb/introduction-and-concepts.html#LNPCB-GUID-5B383B0F-9628-443B-8CB7-D2C01607EED6" target="_blank"><span><cite>Pro*COBOL Programmer's Guide</cite></span></a>for information on LOBs, usage notes on LOB Statements, and embedded SQL and precompiler directives — <code class="codeph">INSERT</code>. 
                           </p>
                        </li>
                        <li>
                           <p>C/C++ (Pro*C/C++):<a href="../lnpcc/embedded-SQL-statements-and-directives.html#LNPCC020" target="_blank"><span class="italic"> Pro*C/C++ Programmer's Guide </span></a><code class="codeph">INSERT</code> 
                           </p>
                        </li>
                        <li>
                           <p>Java (JDBC):<a href="../jjdbc/LOBs-and-BFiles.html#JJDBC15000" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> "Working With LOBs" — Creating and Populating a <code class="codeph">BLOB</code> or <code class="codeph">CLOB</code> Colum
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADLOB45570"></a><a id="ADLOB45571"></a><a id="ADLOB45569"></a><div class="props_rev_3"><a id="GUID-EDA6FBF5-7FF5-4A76-BA22-A36ACFA886BC" name="GUID-EDA6FBF5-7FF5-4A76-BA22-A36ACFA886BC"></a><h4 id="ADLOB-GUID-EDA6FBF5-7FF5-4A76-BA22-A36ACFA886BC" class="sect4">About Inserting Rows with LOB Locator Bind Variables</h4>
                  <div>
                     <p>You need to consider these points.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EDA6FBF5-7FF5-4A76-BA22-A36ACFA886BC__GUID-42D6B0E6-FA9F-441E-B248-70D2EB471E57"><span class="bold">Preconditions</span></p>
                        <p>Before you can insert a row using this technique, the following conditions must be met: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The table containing the source row must exist. </p>
                           </li>
                           <li>
                              <p>The destination table must exist. </p>
                           </li>
                        </ul>
                        <p>For details on creating tables containing LOB columns, see <span class="q">"<a href="LOB-storage-with-applications.html#GUID-517E1234-EFCD-4D16-B69B-23F72A18A77D">LOB Storage Parameters</a>"</span>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EDA6FBF5-7FF5-4A76-BA22-A36ACFA886BC__GUID-64DFC46F-F89B-4A91-8E9F-58A7BC8FE013"><span class="bold">Usage Notes</span></p>
                        <p>For guidelines on how to <code class="codeph">INSERT</code> and <code class="codeph">UPDATE</code> a row containing a LOB when binds of more than 4000 bytes are involved, see <span class="q">"<a href="data-interface-for-persistent-LOBs.html#GUID-5E2B4119-184C-4FE9-839D-3619CC23D9B7">Binds of All Sizes in INSERT and UPDATE Operations</a>"</span>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EDA6FBF5-7FF5-4A76-BA22-A36ACFA886BC__GUID-14997723-7CFB-49D1-9631-FF33A06A5719"><span class="bold">Syntax</span></p>
                        <p>Review these syntax references for details on using this operation in each programmatic environment:</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45573"></a><div class="props_rev_3"><a id="GUID-A8AF57F8-5F21-4050-A9E0-2438D0F0B75C" name="GUID-A8AF57F8-5F21-4050-A9E0-2438D0F0B75C"></a><h4 id="ADLOB-GUID-A8AF57F8-5F21-4050-A9E0-2438D0F0B75C" class="sect4">PL/SQL: Inserting a Row by Initializing a LOB Locator Bind Variable</h4>
                  <div>
                     <div class="section">
                        <p>You can insert a row by initializing a LOB locator bind variable in PL/SQL</p><pre class="oac_no_warn" dir="ltr">/* This file is installed in the following path when you install */
/* the database: $ORACLE_HOME/rdbms/demo/lobs/plsql/linsert.sql */

/* inserting a row through an insert statement */

CREATE OR REPLACE PROCEDURE insertLOB_proc (Lob_loc IN BLOB) IS
BEGIN
  /* Insert the BLOB into the row */
  DBMS_OUTPUT.PUT_LINE('------------ LOB INSERT EXAMPLE ------------');
  INSERT INTO print_media (product_id, ad_id, ad_photo) 
        values (3106, 60315, Lob_loc);
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45574"></a><div class="props_rev_3"><a id="GUID-5E85BE11-51C8-402E-A399-7713129CE099" name="GUID-5E85BE11-51C8-402E-A399-7713129CE099"></a><h4 id="ADLOB-GUID-5E85BE11-51C8-402E-A399-7713129CE099" class="sect4">C (OCI): Inserting a Row by Initializing a LOB Locator Bind Variable</h4>
                  <div>
                     <div class="section">
                        <p>You can insert a row by initializing a LOB locator bind variable in C (OCI).</p><pre class="oac_no_warn" dir="ltr">
/* This file is installed in the following path when you install */
/* the database: $ORACLE_HOME/rdbms/demo/lobs/oci/linsert.c */

/* Insert the Locator into table using Bind Variables. */
#include &lt;oratypes.h&gt;
#include &lt;lobdemo.h&gt;
void insertLOB_proc(OCILobLocator *Lob_loc, OCIEnv *envhp,
                    OCIError *errhp, OCISvcCtx *svchp, OCIStmt *stmthp)
{
  int            product_id;
  OCIBind       *bndhp3;
  OCIBind       *bndhp2;
  OCIBind       *bndhp1;
  text          *insstmt = 
   (text *) "INSERT INTO Print_media (product_id, ad_id, ad_sourcetext) \
             VALUES (:1, :2, :3)";

  printf ("----------- OCI Lob Insert Demo --------------\n");   
  /* Insert the locator into the Print_media table with product_id=3060 */
  product_id = (int)3060;

  /* Prepare the SQL statement */
  checkerr (errhp, OCIStmtPrepare(stmthp, errhp, insstmt, (ub4) 
                                  strlen((char *) insstmt),
                                  (ub4) OCI_NTV_SYNTAX, (ub4)OCI_DEFAULT));

  /* Binds the bind positions */
  checkerr (errhp, OCIBindByPos(stmthp, &amp;bndhp1, errhp, (ub4) 1,
                                (void *) &amp;product_id, (sb4) sizeof(product_id),
                                SQLT_INT, (void *) 0, (ub2 *)0, (ub2 *)0,
                                (ub4) 0, (ub4 *) 0, (ub4) OCI_DEFAULT));

  checkerr (errhp, OCIBindByPos(stmthp, &amp;bndhp1, errhp, (ub4) 2,
                                (void *) &amp;product_id, (sb4) sizeof(product_id),
                                SQLT_INT, (void *) 0, (ub2 *)0, (ub2 *)0,
                                (ub4) 0, (ub4 *) 0, (ub4) OCI_DEFAULT));

  checkerr (errhp, OCIBindByPos(stmthp, &amp;bndhp2, errhp, (ub4) 3,
                                (void *) &amp;Lob_loc, (sb4) 0,  SQLT_CLOB,
                                (void *) 0, (ub2 *)0, (ub2 *)0,
                                (ub4) 0, (ub4 *) 0, (ub4) OCI_DEFAULT));

  /* Execute the SQL statement */
  checkerr (errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4) 1, (ub4) 0,
                                  (CONST OCISnapshot*) 0, (OCISnapshot*) 0,  
                                  (ub4) OCI_DEFAULT));
}</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45575"></a><div class="props_rev_3"><a id="GUID-10E7C91C-93FC-4CE0-9757-2EFC1DF1F5CC" name="GUID-10E7C91C-93FC-4CE0-9757-2EFC1DF1F5CC"></a><h4 id="ADLOB-GUID-10E7C91C-93FC-4CE0-9757-2EFC1DF1F5CC" class="sect4">COBOL (Pro*COBOL): Inserting a Row by Initializing a LOB Locator Bind Variable</h4>
                  <div>
                     <div class="section">
                        <p>You can insert a row by initializing a LOB locator bind variable in COBOL (Pro*COBOL).</p><pre class="oac_no_warn" dir="ltr">      * This file is installed in the following path when you install
      * the database: $ORACLE_HOME/rdbms/demo/lobs/procob/linsert.pco

       IDENTIFICATION DIVISION.
       PROGRAM-ID. INSERT-LOB.
       ENVIRONMENT DIVISION.
       DATA DIVISION.
       WORKING-STORAGE SECTION.

       01 BLOB1 SQL-BLOB.
       01  USERID   PIC X(11) VALUES "PM/<span class="italic">password</span>".
           EXEC SQL INCLUDE SQLCA END-EXEC.

       PROCEDURE DIVISION.
       INSERT-LOB.
    
           EXEC SQL WHENEVER SQLERROR DO PERFORM SQL-ERROR END-EXEC.
           EXEC SQL CONNECT :USERID END-EXEC.
      * Initialize the BLOB locator
           EXEC SQL ALLOCATE :BLOB1 END-EXEC.
      * Populate the LOB
           EXEC SQL WHENEVER NOT FOUND GOTO END-OF-BLOB END-EXEC.
           EXEC SQL 
              SELECT AD_PHOTO INTO :BLOB1 FROM PRINT_MEDIA
               WHERE PRODUCT_ID = 2268 AND AD_ID = 21001 END-EXEC.
  
      * Insert the value with PRODUCT_ID of 3060
           EXEC SQL 
              INSERT INTO PRINT_MEDIA (PRODUCT_ID, AD_PHOTO)
                 VALUES (3060, 11001, :BLOB1)END-EXEC.

      * Free resources held by locator
       END-OF-BLOB.
           EXEC SQL WHENEVER NOT FOUND CONTINUE END-EXEC.
           EXEC SQL FREE :BLOB1 END-EXEC.
           EXEC SQL ROLLBACK WORK RELEASE END-EXEC.
           STOP RUN.

       SQL-ERROR.
           EXEC SQL WHENEVER SQLERROR CONTINUE END-EXEC.
           DISPLAY " ".
           DISPLAY "ORACLE ERROR DETECTED:".
           DISPLAY " ".
           DISPLAY SQLERRMC.
           EXEC SQL ROLLBACK WORK RELEASE END-EXEC.
           STOP RUN.</pre><div class="infoboxnote" id="GUID-10E7C91C-93FC-4CE0-9757-2EFC1DF1F5CC__GUID-0C239726-24E3-4FE9-B0AE-4DFED0E0795F">
                           <p class="notep1">Note:</p>
                           <p>For simplicity in demonstrating this feature, this example does not perform the password management techniques that a deployed system normally uses. In a production environment, follow the Oracle Database password management guidelines, and disable any sample accounts. See <a href="../dbseg/managing-security-for-application-developers.html#DBSEG50053" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for password management guidelines and other security recommendations.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45576"></a><div class="props_rev_3"><a id="GUID-7D4D5121-4387-4266-9E05-6116DC12BAE2" name="GUID-7D4D5121-4387-4266-9E05-6116DC12BAE2"></a><h4 id="ADLOB-GUID-7D4D5121-4387-4266-9E05-6116DC12BAE2" class="sect4">C/C++ (Pro*C/C++): Inserting a Row by Initializing a LOB Locator Bind Variable</h4>
                  <div>
                     <div class="section">
                        <p>You can insert a row by initializing a LOB locator bind variable in C/C++ (Pro*C/C++).</p><pre class="oac_no_warn" dir="ltr">
/* This file is installed in the following path when you install */
/* the database: $ORACLE_HOME/rdbms/demo/lobs/proc/linsert.pc */

#include &lt;oci.h&gt;
#include &lt;stdio.h&gt;
#include &lt;sqlca.h&gt;

void Sample_Error()
{
   EXEC SQL WHENEVER SQLERROR CONTINUE;
   printf("%.*s\n", sqlca.sqlerrm.sqlerrml, sqlca.sqlerrm.sqlerrmc);
   EXEC SQL ROLLBACK WORK RELEASE;
   exit(1);
}

void insertUseBindVariable_proc(Rownum, Lob_loc)
   int Rownum, Rownum2;
   OCIBlobLocator *Lob_loc;
{
   EXEC SQL WHENEVER SQLERROR DO Sample_Error();
   EXEC SQL INSERT INTO Print_media (product_id, ad_id, ad_photo)
      VALUES (:Rownum, :Rownum2, :Lob_loc);
}
void insertBLOB_proc()
{
   OCIBlobLocator *Lob_loc;

   /* Initialize the BLOB Locator: */
   EXEC SQL ALLOCATE :Lob_loc;

   /* Select the LOB from the row where product_id = 2268 and ad_id=21001: */
   EXEC SQL SELECT ad_photo INTO :Lob_loc
      FROM Print_media WHERE product_id = 2268 AND ad_id = 21001;

   /* Insert into the row where product_id = 3106 and ad_id = 13001: */
   insertUseBindVariable_proc(3106, 13001, Lob_loc);

   /* Release resources held by the locator: */
   EXEC SQL FREE :Lob_loc;
}

void main()
{
   char *samp = "pm/<span class="italic">password</span>";
   EXEC SQL CONNECT :pm;
   insertBLOB_proc();
   EXEC SQL ROLLBACK WORK RELEASE;
}</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45578"></a><div class="props_rev_3"><a id="GUID-54C45A10-A803-425E-AE53-4826745C213B" name="GUID-54C45A10-A803-425E-AE53-4826745C213B"></a><h4 id="ADLOB-GUID-54C45A10-A803-425E-AE53-4826745C213B" class="sect4">Java (JDBC): Inserting a Row by Initializing a LOB Locator Bind Variable</h4>
                  <div>
                     <div class="section">
                        <p>You can insert a row by initializing a LOB locator bind variable in Java (JDBC).</p><pre class="oac_no_warn" dir="ltr">/* This file is installed in the following path when you install */
/* the database: $ORACLE_HOME/rdbms/demo/lobs/java/linsert.java */
 
// Core JDBC classes: 
import java.sql.DriverManager;
import java.sql.Connection;
import java.sql.Statement;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
 
// Oracle Specific JDBC classes: 
import oracle.sql.*;
import oracle.jdbc.driver.*;
 
public class linsert
{
  public static void main (String args [])
       throws Exception
  {
    // Load the Oracle JDBC driver
    DriverManager.registerDriver (new oracle.jdbc.driver.OracleDriver ());
    // Connect to the database: 
    Connection conn =
       DriverManager.getConnection ("jdbc:oracle:oci8:@", "pm", "<span class="italic">password</span>");
 
    // It's faster when auto commit is off: 
    conn.setAutoCommit (false);
 
    // Create a Statement: 
    Statement stmt = conn.createStatement ();
    try
    {
       ResultSet rset = stmt.executeQuery (
  "SELECT ad_photo FROM Print_media WHERE product_id = 3106 AND ad_id = 13001");
       if (rset.next())
       {
          // retrieve the LOB locator from the ResultSet
          BLOB adphoto_blob = ((OracleResultSet)rset).getBLOB (1);
          OraclePreparedStatement ops = 
          (OraclePreparedStatement) conn.prepareStatement(
"INSERT INTO Print_media (product_id, ad_id, ad_photo) VALUES (2268, "
+ "21001, ?)");
          ops.setBlob(1, adphoto_blob);
          ops.execute();
          conn.commit();
          conn.close();
       }
    }
    catch (SQLException e)
    {
       e.printStackTrace();
    }
  }
}</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADLOB45580"></a><a id="ADLOB45579"></a><div class="props_rev_3"><a id="GUID-A02B0C82-EC75-4993-BF34-4AE83B07FAA4" name="GUID-A02B0C82-EC75-4993-BF34-4AE83B07FAA4"></a><h3 id="ADLOB-GUID-A02B0C82-EC75-4993-BF34-4AE83B07FAA4" class="sect3">Updating a LOB with EMPTY_CLOB() or EMPTY_BLOB()</h3>
               <div>
                  <div class="section">
                     <p>You can UPDATE a LOB with <code class="codeph">EMPTY_CLOB()</code> or <code class="codeph">EMPTY_BLOB()</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-A02B0C82-EC75-4993-BF34-4AE83B07FAA4__GUID-1A6EA93C-85A4-4091-BF36-8BB327CE53AC">
                        <p class="notep1">Note:</p>
                        <p>Performance improves when you update the LOB with the actual value, instead of using <code class="codeph">EMPTY_CLOB()</code> or <code class="codeph">EMPTY_BLOB()</code>. 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A02B0C82-EC75-4993-BF34-4AE83B07FAA4__GUID-FC622CA2-A450-4B20-BEDD-FB50F06F3D42">Preconditions</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Before you write data to a persistent LOB, make the LOB column non-<code class="codeph">NULL</code>; that is, the LOB column must contain a locator that points to an empty or populated LOB value. You can initialize a <code class="codeph">BLOB</code> column value by using the function <code class="codeph">EMPTY_BLOB()</code> as a default predicate. Similarly, a <code class="codeph">CLOB</code> or <code class="codeph">NCLOB</code> column value can be initialized by using the function <code class="codeph">EMPTY_CLOB()</code>. 
                     </p>
                     <p>You can also initialize a LOB column with a character or raw string less than 4000 bytes in size. For example:</p><pre class="oac_no_warn" dir="ltr">UPDATE Print_media 
          SET ad_sourcetext = 'This is a One Line Story'
          WHERE product_id = 2268;
</pre><p>You can perform this initialization during <code class="codeph">CREATE</code> <code class="codeph">TABLE </code>(see <span class="q">"<a href="DDL-DML-statements-with-LOBs.html#GUID-571A3ACF-DEBF-4C83-B7F9-4F0889B08203">Creating a Table Containing One or More LOB Columns</a>"</span>) or, as in this case, by means of an <code class="codeph">INSERT</code>.
                     </p>
                     <p>The following example shows a series of updates using the <code class="codeph">EMPTY_CLOB</code> operation to different data types. 
                     </p><pre class="oac_no_warn" dir="ltr">
UPDATE Print_media SET ad_sourcetext = EMPTY_CLOB() 
       WHERE product_id = 3060 AND ad_id = 11001;

UPDATE Print_media SET ad_fltextn = EMPTY_CLOB() 
       WHERE product_id = 3060 AND ad_id = 11001;

UPDATE Print_media SET ad_photo = EMPTY_BLOB()
       WHERE product_id = 3060 AND ad_id = 11001;
</pre><div class="infoboxnotealso" id="GUID-A02B0C82-EC75-4993-BF34-4AE83B07FAA4__GUID-D98EC283-29BF-4F50-9964-BF8E85B144EC">
                        <p class="notep1">See Also:</p>
                        <p>SQL: <a href="../sqlrf/UPDATE.html#SQLRF01708" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on <code class="codeph">UPDATE</code></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADLOB45581"></a><div class="props_rev_3"><a id="GUID-1C2EBE02-C5D6-4C01-AE25-B8AB6687C426" name="GUID-1C2EBE02-C5D6-4C01-AE25-B8AB6687C426"></a><h3 id="ADLOB-GUID-1C2EBE02-C5D6-4C01-AE25-B8AB6687C426" class="sect3">Updating a Row by Selecting a LOB From Another Table</h3>
               <div>
                  <div class="section">
                     <p>You can use the SQL <code class="codeph">UPDATE AS SELECT</code> statement to update a row containing a LOB column by selecting a LOB from another table. 
                     </p>
                     <p>To use this technique, you must update by means of a reference. For example, the following code updates data from <code class="codeph">online_media</code>:
                     </p><pre class="oac_no_warn" dir="ltr">Rem Updating a row by selecting a LOB from another table (persistent LOBs)

UPDATE Print_media SET ad_sourcetext = 
   (SELECT * product_text FROM online_media WHERE product_id = 3060);
    WHERE product_id = 3060 AND ad_id = 11001;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>