<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Topics here cover how to use the Extensible Markup Language (XML) schema processor for Java.">
      <meta name="description" content="Topics here cover how to use the Extensible Markup Language (XML) schema processor for Java.">
      <title>Using the XML Schema Processor for Java</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="Topics here cover how to use the Extensible Markup Language (XML) schema processor for Java.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-developers-kit-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:58:48-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96292-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="using-xquery-API-for-Java-to-access-XML-DB.html" title="Previous" type="text/html">
      <link rel="next" href="using-JAXB-class-generator.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML Developers Kit Programmers Guide">
    <meta name="dcterms.isVersionOf" content="ADXDK">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-xquery-API-for-Java-to-access-XML-DB.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-JAXB-class-generator.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XDK-for-Java.html" property="item" typeof="WebPage"><span property="name">Oracle XML Developer's Kit for Java</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using the XML Schema Processor for Java</li>
            </ol>
            <a id="GUID-F41C7DA2-A3DF-463B-A08C-24E8F0621450" name="GUID-F41C7DA2-A3DF-463B-A08C-24E8F0621450"></a><a id="ADXDK993"></a><a id="ADXDK5000"></a>
            
            <h2 id="ADXDK-GUID-F41C7DA2-A3DF-463B-A08C-24E8F0621450" class="sect2"><span class="enumeration_chapter">17 </span>Using the XML Schema Processor for Java
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Topics here cover how to use the Extensible Markup Language (XML) schema processor for Java.</p>
               <div class="section"> </div>
               <!-- class="section" -->
            </div><a id="ADXDK994"></a><a id="ADXDK19254"></a><div class="props_rev_3"><a id="GUID-AEB7C697-2E71-4AC1-8DFB-EB6531552A50" name="GUID-AEB7C697-2E71-4AC1-8DFB-EB6531552A50"></a><h3 id="ADXDK-GUID-AEB7C697-2E71-4AC1-8DFB-EB6531552A50" class="sect3">Introduction to XML Validation</h3>
               <div>
                  <p>Topics cover the different techniques for XML validation.</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19255"></a><div class="props_rev_3"><a id="GUID-D28C9F71-7B8B-4508-808B-C6A96F1DDE4A" name="GUID-D28C9F71-7B8B-4508-808B-C6A96F1DDE4A"></a><h4 id="ADXDK-GUID-D28C9F71-7B8B-4508-808B-C6A96F1DDE4A" class="sect4">Prerequisites for Using the XML Schema Processor for Java</h4>
                  <div>
                     <p>Prerequisites for using the XML schema processor are covered.</p>
                     <p>This section assumes that you have working knowledge of these technologies:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="glossary.html#GUID-F2AC11F4-F0D2-4EFB-B28B-8114CC0D7C38"><span class="xrefglossterm">document type definition (DTD)</span></a>. An XML document type definition (DTD) defines the legal structure of an XML document.
                           </p>
                        </li>
                        <li>
                           <p><a href="glossary.html#GUID-B1E6F2C9-39D7-42D5-817B-6210231ABF97" title="The XML Schema language, also called XML Schema, is a W3C recommendation for the use of simple data types and complex structures within an XML document. It addresses areas currently lacking in DTDs, including the definition and validation of data types."><span class="xrefglossterm">XML Schema language</span></a>. XML Schema defines the legal structure of an XML document.
                           </p>
                        </li>
                     </ul>
                     <p>To learn more about these technologies, consult the XML resources in <a href="preface.html#GUID-2CD1F6B6-C8EC-42E3-97F2-589AABF9AFFB" title="Oracle resources that are related to this document are listed.">Related Documents</a>.
                     </p>
                  </div>
               </div><a id="ADXDK19256"></a><div class="props_rev_3"><a id="GUID-2CE6171F-CBF0-439A-AC05-84C27B4F0D72" name="GUID-2CE6171F-CBF0-439A-AC05-84C27B4F0D72"></a><h4 id="ADXDK-GUID-2CE6171F-CBF0-439A-AC05-84C27B4F0D72" class="sect4">Standards and Specifications for  the XML Schema Processor for Java</h4>
                  <div>
                     <p>XML Schema is a World Wide Web Consortium (W3C) standard.</p>
                     <p>The Oracle XML Schema processor supports the W3C XML Schema specifications:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_tr_xschema0_primer" target="_blank"><span class="italic">XML Schema Part 0: Primer</span></a> 
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_tr_xschema1_struct" target="_blank"><span class="italic">XML Schema Part 1: Structures</span></a></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adxdk&amp;id=w3_org_tr_xschema2_types" target="_blank"><span class="italic">XML Schema Part 2: Datatypes</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="XDK-standards.html#GUID-795A483B-12AC-4F6D-A606-6BE9DA963F0F" title="A description is given of the Oracle XML Developer's Kit (XDK) standards.">Oracle XML Developer's Kit Standards</a></li>
                        </ul>
                     </div>
                  </div>
                  
               </div><a id="ADXDK19257"></a><div class="props_rev_3"><a id="GUID-C8292C78-3BDC-4D6E-A97A-B820220A10FA" name="GUID-C8292C78-3BDC-4D6E-A97A-B820220A10FA"></a><h4 id="ADXDK-GUID-C8292C78-3BDC-4D6E-A97A-B820220A10FA" class="sect4">XML Validation with DTDs</h4>
                  <div>
                     <p>Document type definition (DTDs) were originally developed for SGML. XML DTDs are a subset of those available in SGML and provide a mechanism for declaring constraints on XML markup. XML DTDs enable the specification of:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Which elements can be in your XML documents.</p>
                        </li>
                        <li>
                           <p>The content model of an XML element, that is, whether the element contains only data or has a set of subelements that defines its structure. DTDs can define whether a subelement is optional or mandatory and whether it can occur only once or multiple times.</p>
                        </li>
                        <li>
                           <p>Attributes of XML elements. DTDs can also specify whether attributes are optional or mandatory.</p>
                        </li>
                        <li>
                           <p>Entities that are legal in your XML documents.</p>
                        </li>
                     </ul>
                     <p>An XML DTD is not itself written in XML, but is a context-independent grammar for defining the structure of an XML document. You can declare a DTD in an XML document itself or in a separate file from the XML document.</p>
                     <p>Validation is the process by which you verify an XML document against its associated DTD, ensuring that the structure, use of elements, and use of attributes are consistent with the definitions in the DTD. Thus, applications that handle XML documents can assume that the data matches the definition.</p>
                     <p>Using XDK, you can write an application that includes a validating XML parser; that is, a program that parses and validates XML documents against a DTD. Depending on its implementation, a validating parser may:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Either stop processing when it encounters an error, or continue.</p>
                        </li>
                        <li>
                           <p>Either report warnings and errors as they occur or in summary form at the end of processing.</p>
                        </li>
                        <li>
                           <p>Enable or disable validation mode</p>
                           <p>Most processors can enable or disable validation mode, but they must still process entity definitions and other constructs of DTDs.</p>
                        </li>
                     </ul>
                  </div><a id="ADXDK19259"></a><a id="ADXDK19260"></a><a id="ADXDK19258"></a><div class="props_rev_3"><a id="GUID-BD98BC10-64C1-435A-903D-9D80D69D1C1D" name="GUID-BD98BC10-64C1-435A-903D-9D80D69D1C1D"></a><h5 id="ADXDK-GUID-BD98BC10-64C1-435A-903D-9D80D69D1C1D" class="sect5">DTD Samples in XDK</h5>
                     <div>
                        <p>An example DTD is shown, together with an example XML document that conforms to that DTD.</p>
                        <p><a href="using-XML-schema-processor-for-Java.html#GUID-BD98BC10-64C1-435A-903D-9D80D69D1C1D__CIHDHBEE">Example 17-1</a> shows the contents of a DTD named <code class="codeph">family.dtd</code>, which is located in <code class="codeph">$ORACLE_HOME/xdk/demo/java/parser/common/</code>. The <code class="codeph">&lt;ELEMENT&gt;</code> tags specify the legal nomenclature and structure of elements in the document, whereas the <code class="codeph">&lt;ATTLIST&gt;</code> tags specify the legal attributes of elements.
                        </p>
                        <p><a href="using-XML-schema-processor-for-Java.html#GUID-BD98BC10-64C1-435A-903D-9D80D69D1C1D__CIHCDDBD">Example 17-2</a> shows the contents of an XML document named <code class="codeph">family.xml</code>, which is also located in <code class="codeph">$ORACLE_HOME/xdk/demo/java/parser/common/</code>. The <code class="codeph">&lt;!DOCTYPE&gt;</code> element in <code class="codeph">family.xml</code> specifies that this XML document conforms to the external DTD named <code class="codeph">family.dtd</code>.
                        </p>
                        <div class="example" id="GUID-BD98BC10-64C1-435A-903D-9D80D69D1C1D__CIHDHBEE">
                           <p class="titleinexample">Example 17-1 family.dtd</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!ELEMENT family (member*)&gt;
&lt;!ATTLIST family lastname CDATA #REQUIRED&gt;
&lt;!ELEMENT member (#PCDATA)&gt;
&lt;!ATTLIST member memberid ID #REQUIRED&gt;
&lt;!ATTLIST member dad IDREF #IMPLIED&gt;
&lt;!ATTLIST member mom IDREF #IMPLIED&gt;
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-BD98BC10-64C1-435A-903D-9D80D69D1C1D__CIHCDDBD">
                           <p class="titleinexample">Example 17-2 family.xml</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" standalone="no"?&gt;
&lt;!DOCTYPE family SYSTEM "family.dtd"&gt;
&lt;family lastname="Smith"&gt;
&lt;member memberid="m1"&gt;Sarah&lt;/member&gt;
&lt;member memberid="m2"&gt;Bob&lt;/member&gt;
&lt;member memberid="m3" mom="m1" dad="m2"&gt;Joanne&lt;/member&gt;
&lt;member memberid="m4" mom="m1" dad="m2"&gt;Jim&lt;/member&gt;
&lt;/family&gt;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADXDK19261"></a><div class="props_rev_3"><a id="GUID-674379DA-81FD-43CD-9C8B-998B70A11103" name="GUID-674379DA-81FD-43CD-9C8B-998B70A11103"></a><h4 id="ADXDK-GUID-674379DA-81FD-43CD-9C8B-998B70A11103" class="sect4">XML Validation with XML Schemas</h4>
                  <div>
                     <p>Concepts involving validation using XML schemas are introduced.</p>
                     <p>The <a href="glossary.html#GUID-B1E6F2C9-39D7-42D5-817B-6210231ABF97" title="The XML Schema language, also called XML Schema, is a W3C recommendation for the use of simple data types and complex structures within an XML document. It addresses areas currently lacking in DTDs, including the definition and validation of data types."><span class="xrefglossterm">XML Schema language</span></a>, also known as <a href="glossary.html#GUID-8FD3F1F2-EA9C-4AED-955B-FE1570ABECDE" title="Equivalent to XML Schema language."><span class="xrefglossterm">XML Schema Definition</span></a>, was created by the W3C to use XML syntax to describe the content and the structure of XML documents. An <a href="glossary.html#GUID-085CAB85-F0BC-4D3B-A282-21E17B0BC9B3" title="A document written in the XML Schema language."><span class="xrefglossterm">XML schema</span></a> is an XML document written in the XML Schema language. An XML schema document contains rules describing the structure of an input XML document, called an <a href="glossary.html#GUID-C0B7CAC1-AB51-490D-AA39-ED961BB623CD" title="An XML document validated against an XML schema. If the instance document conforms to the rules of the schema, it is said to be valid."><span class="xrefglossterm">instance document</span></a>. An instance document is valid if and only if it conforms to the rules of the XML schema.
                     </p>
                     <p>The XML Schema language defines such things as:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Which elements and attributes are legal in the instance document</p>
                        </li>
                        <li>
                           <p>Which elements can be children of other elements</p>
                        </li>
                        <li>
                           <p>The order and number of child elements</p>
                        </li>
                        <li>
                           <p>Data types for elements and attributes</p>
                        </li>
                        <li>
                           <p>Default and fixed values for elements and attributes</p>
                        </li>
                     </ul>
                     <p>A validating XML parser tries to determine whether an instance document conforms to the rules of its associated XML schema. Using XDK you can write a validating parser that performs this schema validation. Depending on its implementation, a validating parser may:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Either stop processing when it encounters an error, or continue.</p>
                        </li>
                        <li>
                           <p>Either report warnings and errors as they occur or in summary form at the end of processing.</p>
                        </li>
                     </ul>
                     <p>The processor must consider entity definitions and other constructs that are defined in a DTD that is included by the instance document. The XML Schema language does not define what must occurs when an instance document includes both an XML schema and a DTD. Thus, the behavior of the application in such cases depends on the implementation.</p>
                  </div><a id="ADXDK19263"></a><a id="ADXDK19264"></a><a id="ADXDK19262"></a><div class="props_rev_3"><a id="GUID-E2B411D7-FE12-4E41-B9D8-201FF4D473F3" name="GUID-E2B411D7-FE12-4E41-B9D8-201FF4D473F3"></a><h5 id="ADXDK-GUID-E2B411D7-FE12-4E41-B9D8-201FF4D473F3" class="sect5">XML Schema Samples in XDK</h5>
                     <div>
                        <p>A sample XML document is shown which contains a purchase report that describes parts that have been ordered in different regions. This document is located at <code class="codeph">$ORACLE_HOME/xdk/demo/java/schema/report.xml</code>. An XML schema document, <code class="codeph">report.xsd</code>, which you can use to validate <code class="codeph">report.xml</code>, is also shown. 
                        </p>
                        <p>Among other things, the XML schema defines the names of the elements that are legal in the instance document and the type of data that the elements can contain.</p>
                        <div class="example" id="GUID-E2B411D7-FE12-4E41-B9D8-201FF4D473F3__BABHGCFC">
                           <p class="titleinexample">Example 17-3 report.xml</p><pre class="pre codeblock"><code>&lt;purchaseReport
  xmlns="http://www.example.com/Report"
  xmlns:xsi = "http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.example.com/Report  report.xsd"
  period="P3M" periodEnding="1999-12-31"&gt;
 &lt;regions&gt;
  &lt;zip code="95819"&gt;
   &lt;part number="872-AA" quantity="1"/&gt;
   &lt;part number="926-AA" quantity="1"/&gt;
   &lt;part number="833-AA" quantity="1"/&gt;
   &lt;part number="455-BX" quantity="1"/&gt;
  &lt;/zip&gt;
  &lt;zip code="63143"&gt;
   &lt;part number="455-BX" quantity="4"/&gt;
  &lt;/zip&gt;
 &lt;/regions&gt;
 &lt;parts&gt;
  &lt;part number="872-AA"&gt;Lawnmower&lt;/part&gt;
  &lt;part number="926-AA"&gt;Baby Monitor&lt;/part&gt;
  &lt;part number="833-AA"&gt;Lapis Necklace&lt;/part&gt;
  &lt;part number="455-BX"&gt;Sturdy Shelves&lt;/part&gt;
 &lt;/parts&gt;
&lt;/purchaseReport&gt;
</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-E2B411D7-FE12-4E41-B9D8-201FF4D473F3__BABFDAEI">
                           <p class="titleinexample">Example 17-4 report.xsd</p><pre class="pre codeblock"><code>&lt;schema targetNamespace="http://www.example.com/Report"
        xmlns="http://www.w3.org/2001/XMLSchema"
        xmlns:r="http://www.example.com/Report"
        elementFormDefault="qualified"&gt;
 &lt;annotation&gt;
  &lt;documentation xml:lang="en"&gt;
   Report schema for Example.com
   Copyright 2000 Example.com. All rights reserved.
  &lt;/documentation&gt;
 &lt;/annotation&gt;
 &lt;element name="purchaseReport"&gt;
  &lt;complexType&gt;
   &lt;sequence&gt;
    &lt;element name="regions" type="r:RegionsType"&gt;
     &lt;keyref name="dummy2" refer="r:pNumKey"&gt;
      &lt;selector xpath="r:zip/r:part"/&gt;
      &lt;field xpath="@number"/&gt;
     &lt;/keyref&gt;
    &lt;/element&gt;
    &lt;element name="parts" type="r:PartsType"/&gt;
   &lt;/sequence&gt;
   &lt;attribute name="period"       type="duration"/&gt;
   &lt;attribute name="periodEnding" type="date"/&gt;
  &lt;/complexType&gt;
  &lt;unique name="dummy1"&gt;
   &lt;selector xpath="r:regions/r:zip"/&gt;
   &lt;field xpath="@code"/&gt;
  &lt;/unique&gt;
  &lt;key name="pNumKey"&gt;
   &lt;selector xpath="r:parts/r:part"/&gt;
   &lt;field xpath="@number"/&gt;
  &lt;/key&gt;
 &lt;/element&gt;
 &lt;complexType name="RegionsType"&gt;
  &lt;sequence&gt;
   &lt;element name="zip" maxOccurs="unbounded"&gt;
    &lt;complexType&gt;
     &lt;sequence&gt;
      &lt;element name="part" maxOccurs="unbounded"&gt;
       &lt;complexType&gt;
        &lt;complexContent&gt;
         &lt;restriction base="anyType"&gt;
          &lt;attribute name="number"   type="r:SKU"/&gt;
          &lt;attribute name="quantity" type="positiveInteger"/&gt;
         &lt;/restriction&gt;
        &lt;/complexContent&gt;
       &lt;/complexType&gt;
      &lt;/element&gt;
     &lt;/sequence&gt;
     &lt;attribute name="code" type="positiveInteger"/&gt;
    &lt;/complexType&gt;
   &lt;/element&gt;
  &lt;/sequence&gt;
 &lt;/complexType&gt;
 &lt;simpleType name="SKU"&gt;
  &lt;restriction base="string"&gt;
   &lt;pattern value="\d{3}-[A-Z]{2}"/&gt;
  &lt;/restriction&gt;
 &lt;/simpleType&gt;
 &lt;complexType name="PartsType"&gt;
  &lt;sequence&gt;
   &lt;element name="part" maxOccurs="unbounded"&gt;
    &lt;complexType&gt;
     &lt;simpleContent&gt;
      &lt;extension base="string"&gt;
       &lt;attribute name="number" type="r:SKU"/&gt;
      &lt;/extension&gt;
     &lt;/simpleContent&gt;
    &lt;/complexType&gt;
   &lt;/element&gt;
  &lt;/sequence&gt;
 &lt;/complexType&gt;
&lt;/schema&gt;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADXDK19266"></a><a id="ADXDK19265"></a><div class="props_rev_3"><a id="GUID-1794D1E8-94A0-41EB-B8A5-E7927FAC4BE9" name="GUID-1794D1E8-94A0-41EB-B8A5-E7927FAC4BE9"></a><h4 id="ADXDK-GUID-1794D1E8-94A0-41EB-B8A5-E7927FAC4BE9" class="sect4">Differences Between XML Schemas and DTDs</h4>
                  <div>
                     <p>The XML Schema language includes most of the capabilities of the DTD specification. An XML schema serves a similar purpose to a DTD, but is more flexible in specifying document constraints. </p>
                     <p><a href="using-XML-schema-processor-for-Java.html#GUID-1794D1E8-94A0-41EB-B8A5-E7927FAC4BE9__CIHDIBAB" title="This table compares the features of the XML Schema language and DTDs">Table 17-1</a> compares some features between the two validation mechanisms.
                     </p>
                     <div class="tblformal" id="GUID-1794D1E8-94A0-41EB-B8A5-E7927FAC4BE9__CIHDIBAB">
                        <p class="titleintable">Table 17-1 Feature Comparison Between XML Schema and DTD</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Feature Comparison Between XML Schema and DTD" summary="This table compares the features of the XML Schema language and DTDs" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="37%" id="d63446e943">Feature</th>
                                 <th align="left" valign="bottom" width="22%" id="d63446e946">XML Schema</th>
                                 <th align="left" valign="bottom" width="41%" id="d63446e949">DTD</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e954" headers="d63446e943 ">
                                    <p>Element nesting</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e954 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e954 d63446e949 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e964" headers="d63446e943 ">
                                    <p>Element occurrence constraints</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e964 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e964 d63446e949 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e974" headers="d63446e943 ">
                                    <p>Permitted attributes</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e974 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e974 d63446e949 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e984" headers="d63446e943 ">
                                    <p>Attribute types and default values</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e984 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e984 d63446e949 ">
                                    <p>X</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e994" headers="d63446e943 ">
                                    <p>Written in XML</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e994 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e994 d63446e949 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e1003" headers="d63446e943 ">
                                    <p>Namespace support</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e1003 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e1003 d63446e949 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e1012" headers="d63446e943 ">
                                    <p>Built-In data types</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e1012 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e1012 d63446e949 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e1021" headers="d63446e943 ">
                                    <p>User-Defined data types</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e1021 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e1021 d63446e949 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e1030" headers="d63446e943 ">
                                    <p>Include/Import</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e1030 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e1030 d63446e949 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d63446e1039" headers="d63446e943 ">
                                    <p>Refinement (inheritance)</p>
                                 </td>
                                 <td align="left" valign="top" width="22%" headers="d63446e1039 d63446e946 ">
                                    <p>X</p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d63446e1039 d63446e949 ">
                                    <p></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>These reasons are probably the most persuasive for choosing XML schema validation over DTD validation:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The XML Schema language enables you to define rules for the <span class="italic">content</span> of elements and attributes. You achieve control over content by using data types. With XML Schema data types you can more easily perform actions such as: 
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Declare which elements are to contain which types of data, for example, positive integers in one element and years in another</p>
                              </li>
                              <li>
                                 <p>Process data obtained from a database</p>
                              </li>
                              <li>
                                 <p>Define restrictions on data, for example, a number between 10 and 20</p>
                              </li>
                              <li>
                                 <p>Define data formats, for example, dates in the form MM-DD-YYYY</p>
                              </li>
                              <li>
                                 <p>Convert data between different data types, for example, strings to dates</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Unlike DTD grammar, documents written in the XML Schema language are themselves written in XML. Thus, you can perform these actions:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use your XML parser to parse your XML schema</p>
                              </li>
                              <li>
                                 <p>Process your XML schema with the XML Document Object Model (DOM)</p>
                              </li>
                              <li>
                                 <p>Transform your XML document with Extensible Stylesheet Language Transformation (XSLT)</p>
                              </li>
                              <li>
                                 <p>Reuse your XML schemas in other XML schemas</p>
                              </li>
                              <li>
                                 <p>Extend your XML schema by adding elements and attributes</p>
                              </li>
                              <li>
                                 <p>Reference multiple XML schemas from the same document</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="ADXDK19267"></a><div class="props_rev_3"><a id="GUID-D9E0C12D-122D-4183-A4AB-8BE7F476ABF8" name="GUID-D9E0C12D-122D-4183-A4AB-8BE7F476ABF8"></a><h3 id="ADXDK-GUID-D9E0C12D-122D-4183-A4AB-8BE7F476ABF8" class="sect3">Using the XML Schema Processor: Overview</h3>
               <div>
                  <p>The Oracle XML Schema processor is a SAX-based XML schema validator that you can use to validate instance documents against an XML schema. The processor supports both language example (LAX) and strict validation.</p>
                  <p>You can use the processor in these ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Enable it in the XML parser</p>
                     </li>
                     <li>
                        <p>Use it with a DOM tree to validate whole or part of an XML document</p>
                     </li>
                     <li>
                        <p>Use it as a component in a processing pipeline (like a content handler)</p>
                     </li>
                  </ul>
                  <p>You can configure the schema processor in different ways depending on your requirements. For example, you can:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use a fixed XML schema or automatically build a schema based on the <code class="codeph">schemaLocation</code> attributes in an instance document.
                        </p>
                     </li>
                     <li>
                        <p>Set <code class="codeph">XMLError</code> and <code class="codeph">entityResolver</code> to gain better control over the validation process.
                        </p>
                     </li>
                     <li>
                        <p>Determine how much of an instance document is to be validated. You can use any of the validation modes specified in <a href="XML-parsing-for-Java.html#GUID-2DA498AD-B22B-4C66-AE90-5EB37EB105E7__G1043218" title="This table shows the setValidationMode() flags that you can use in the XDK parser. Name of Mode, Mode Value in Java, and Description are the columns.">Table 12-1</a>. You can also designate a type of element as the root of validation.
                        </p>
                     </li>
                  </ul>
               </div><a id="ADXDK19269"></a><a id="ADXDK19270"></a><a id="ADXDK19268"></a><div class="props_rev_3"><a id="GUID-66EB1648-53B0-4026-8139-EC9EED8A16E6" name="GUID-66EB1648-53B0-4026-8139-EC9EED8A16E6"></a><h4 id="ADXDK-GUID-66EB1648-53B0-4026-8139-EC9EED8A16E6" class="sect4">Using the XML Schema Processor for Java: Basic Process</h4>
                  <div>
                     <p>XDK packages that are important for applications that process XML schemas are described.</p>
                     <p>These are the important packages for applications that process XML schemas:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">oracle.xml.parser.v2</code>, which provides APIs for XML parsing
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">oracle.xml.parser.schema</code>, which provides APIs for XML Schema processing
                           </p>
                        </li>
                     </ul>
                     <p>The most important classes in the <code class="codeph">oracle.xml.parser.schema</code> package are described in <a href="using-XML-schema-processor-for-Java.html#GUID-66EB1648-53B0-4026-8139-EC9EED8A16E6__CHDHIJJE" title="This table describes the oracle.xml.parser.schema classes.">Table 17-2</a>. These form the core of most XML schema applications.
                     </p>
                     <div class="tblformalwide" id="GUID-66EB1648-53B0-4026-8139-EC9EED8A16E6__CHDHIJJE">
                        <p class="titleintable">Table 17-2 oracle.xml.parser.schema Classes</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="oracle.xml.parser.schema Classes" summary="This table describes the oracle.xml.parser.schema classes." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d63446e1325">Class/Interface</th>
                                 <th align="left" valign="bottom" width="29%" id="d63446e1328">Description</th>
                                 <th align="left" valign="bottom" width="49%" id="d63446e1331">Methods</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d63446e1336" headers="d63446e1325 ">
                                    <p><code class="codeph">XMLSchema</code> class
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d63446e1336 d63446e1328 ">
                                    <p>Represents XML Schema component model. An <code class="codeph">XMLSchema</code> object is a set of <code class="codeph">XMLSchemaNodes</code> that belong to different target namespaces. The <code class="codeph">XSDValidator</code> class uses <code class="codeph">XMLSchema</code> for schema validation or metadata.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d63446e1336 d63446e1331 ">
                                    <p>The principal methods are:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">get</code> methods such as <code class="codeph">getElement()</code> and <code class="codeph">getSchemaTargetNS()</code> get information about the XML schema
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">printSchema()</code> prints information about the XML schema
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d63446e1377" headers="d63446e1325 ">
                                    <p><code class="codeph">XMLSchemaNode</code> class
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d63446e1377 d63446e1328 ">
                                    <p>Represents schema components in a target namespace, including type definitions, element and attribute delcarations, and group and attribute group definitions.</p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d63446e1377 d63446e1331 ">
                                    <p>The principal methods are <code class="codeph">get</code> methods such as <code class="codeph">getElementSet()</code> and <code class="codeph">getAttributeDeclarations()</code> get components of the XML schema.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d63446e1398" headers="d63446e1325 ">
                                    <p><code class="codeph">XSDBuilder</code> class
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d63446e1398 d63446e1328 ">
                                    <p>Builds an <code class="codeph">XMLSchema</code> object from an XML schema document. The <code class="codeph">XMLSchema</code> object is a set of objects (Infoset items) corresponding to top-level schema declarations and definitions. The schema document is XML parsed and converted to a DOM tree.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d63446e1398 d63446e1331 ">
                                    <p>The principal methods are:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">build()</code> creates an <code class="codeph">XMLSchema</code> object.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">getObject()</code> returns the <code class="codeph">XMLSchema</code> object.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">setEntityResolver()</code> sets an <code class="codeph">EntityResolver</code> for resolving imports and includes.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d63446e1441" headers="d63446e1325 ">
                                    <p><code class="codeph">XSDValidator</code> class
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d63446e1441 d63446e1328 ">
                                    <p>Validates an instance XML document against an XML schema. When registered,  an <code class="codeph">XSDValidator</code> object is inserted as a pipeline node between <code class="codeph">XMLParser</code> and <code class="codeph">XMLDocument</code> events handlers.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="49%" headers="d63446e1441 d63446e1331 ">
                                    <p>The principal methods are:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><code class="codeph">get</code> methods such as <code class="codeph">getCurrentMode()</code> and <code class="codeph">getElementDeclaration()</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">set</code> methods such as <code class="codeph">setXMLProperty()</code> and <code class="codeph">setDocumentLocator()</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">startDocument()</code> receives notification of the beginning of the document.
                                          </p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">startElement()</code> receives notification of the beginning of the element.
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="using-XML-schema-processor-for-Java.html#GUID-66EB1648-53B0-4026-8139-EC9EED8A16E6__I1012436">Figure 17-1</a> depicts the basic process of validating an instance document with the XML Schema processor for Java.
                     </p>
                     <div class="figure" id="GUID-66EB1648-53B0-4026-8139-EC9EED8A16E6__I1012436">
                        <p class="titleinfigure">Figure 17-1 XML Schema Processor for Java</p><img src="img/adxdk105.gif" width="419" alt="Description of Figure 17-1 follows" title="Description of Figure 17-1 follows" longdesc="img_text/adxdk105.html"><br><a href="img_text/adxdk105.html">Description of "Figure 17-1 XML Schema Processor for Java"</a></div>
                     <!-- class="figure" -->
                     <p>The XML Schema processor performs these major tasks:</p>
                     <ol>
                        <li>
                           <p>A builder (<code class="codeph">XSDBuilder</code> object) assembles the XML schema from an input XML schema document. Although instance documents and schemas need not exist specifically as files on the operating system, they are commonly referred to as files. They may exist as streams of bytes, fields in a database record, or collections of XML Infoset "Information Items."
                           </p>
                           <p>This task involves parsing the schema document into an object. The builder creates the schema object explicitly or implicitly:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>In explicit mode, you pass in an XML schema when you invoke the processor. <a href="using-XML-schema-processor-for-Java.html#GUID-EAAAB139-E5FE-434E-A310-2E13099B1FF8" title="$ORACLE_HOME/xdk/demo/java/schema/XSDSetSchema.java shows how to validate an XML schema explicitly. The validation mode is explicit because you use the XSDBuilder class to specify the schema to use for validation: the schema is not specified in the instance document as in implicit validation.">Validating Against Externally Referenced XML Schemas</a> explains how to build the schema object in explicit mode.
                                 </p>
                              </li>
                              <li>
                                 <p>In implicit mode, you do not pass in an XML schema when you invoke the processor because the schema is internally referenced by the instance document. <a href="using-XML-schema-processor-for-Java.html#GUID-5B182AA2-84E3-416A-837A-6563B2F948D5" title="$ORACLE_HOME/xdk/demo/java/schema/XSDSample.java shows how to validate against an implicit XML Schema. The validation mode is implicit because the XML schema is referenced in the instance document itself.">Validating Against Internally Referenced XML Schemas</a> explains how to create the schema object in implicit mode.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>The XML schema validator uses the schema object to validate the instance document. This task has these steps:</p>
                           <ol type="a">
                              <li>
                                 <p>A Simple API for XML (SAX) parser parses the instance document into SAX events, which it passes to the validator.</p>
                              </li>
                              <li>
                                 <p>The validator receives SAX events as input and validates them against the schema object, sending an error message if it finds invalid XML components.</p>
                                 <p><a href="XML-parsing-for-Java.html#GUID-2DA498AD-B22B-4C66-AE90-5EB37EB105E7" title="To parse an XML document, invoke the parse() method. Typically, you invoke initialization and termination methods in association with the parse() method.">Validation in the XML Parser</a> describes the validation modes that you can use when validating the instance document. If you do not explicitly set a schema for validation with the <code class="codeph">XSDBuilder</code> class, then the instance document must have the correct <code class="codeph">xsi:schemaLocation</code> attribute pointing to the schema file. Otherwise, the program does not perform the validation. If the processor encounters errors, it generates error messages.
                                 </p>
                              </li>
                              <li>
                                 <p>The validator sends input SAX events, default values, or post-schema validation information to a DOM builder or application.</p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-66EB1648-53B0-4026-8139-EC9EED8A16E6__GUID-79CE7578-8DAB-49AF-88FC-70B09FD34EF9">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API Reference</cite></span></a> to learn about the <code class="codeph">XSDBuilder</code>, <code class="codeph">DOMParser</code>, and <code class="codeph">SAXParser</code> classes
                              </p>
                           </li>
                           <li>
                              <p><a href="using-XML-schema-processor-for-Java.html#GUID-F41C7DA2-A3DF-463B-A08C-24E8F0621450" title="Topics here cover how to use the Extensible Markup Language (XML) schema processor for Java.">Using the XML Schema Processor for Java</a> to learn about the XDK SAX and DOM parsers
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADXDK19272"></a><a id="ADXDK19271"></a><div class="props_rev_3"><a id="GUID-1794B57C-BD9A-4322-B136-B07B950EC479" name="GUID-1794B57C-BD9A-4322-B136-B07B950EC479"></a><h4 id="ADXDK-GUID-1794B57C-BD9A-4322-B136-B07B950EC479" class="sect4">Running the XML Schema Processor Demo Programs</h4>
                  <div>
                     <p>Demo programs for the XML Schema processor for Java are included in <code class="codeph">$ORACLE_HOME/xdk/demo/java/schema</code>. 
                     </p>
                     <div class="section">
                        <p><a href="using-XML-schema-processor-for-Java.html#GUID-1794B57C-BD9A-4322-B136-B07B950EC479__CIHIEEDI" title="This table describes the XML files and programs that you can use to test the XML Schema processor. File and Description are the Columns.">Table 17-3</a> describes the XML files and programs that you can use to test the XML Schema processor.
                        </p>
                        <div class="tblformalwide" id="GUID-1794B57C-BD9A-4322-B136-B07B950EC479__CIHIEEDI">
                           <p class="titleintable">Table 17-3 XML Schema Sample Files </p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="XML Schema Sample Files " summary="This table describes the XML files and programs that you can use to test the XML Schema processor. File and Description are the Columns." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d63446e1704">File</th>
                                    <th align="left" valign="bottom" width="81%" id="d63446e1707">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1712" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">cat.xsd</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1712 d63446e1707 ">
                                       <p>A sample XML schema used by the <code class="codeph">XSDSetSchema.java</code> program to validate <code class="codeph">catalogue.xml</code>. The <code class="codeph">cat.xsd</code> schema specifies the structure of a catalogue of books.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1728" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">catalogue.xml</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1728 d63446e1707 ">
                                       <p>A sample instance document that the <code class="codeph">XSDSetSchema.java</code> program uses to validate against the <code class="codeph">cat.xsd</code> schema.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1741" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">catalogue_e.xml</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1741 d63446e1707 ">
                                       <p>A sample instance document used by the <code class="codeph">XSDSample.java</code> program. When the program tries to validate this document against the <code class="codeph">cat.xsd</code> schema, it generates schema errors.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1754" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">DTD2Schema.java</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1754 d63446e1707 ">
                                       <p>This sample program converts a DTD (first argument) into an XML Schema and uses it to validate an XML file (second argument).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1761" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">embeded_xsql.xsd</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1761 d63446e1707 ">
                                       <p>The XML schema used by <code class="codeph">XSDLax.java.</code> The schema defines the structure of an XSQL page.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1771" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">embeded_xsql.xml</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1771 d63446e1707 ">
                                       <p>The instance document used by <code class="codeph">XSDLax.java</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1781" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">juicer1.xml</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1781 d63446e1707 ">
                                       <p>A sample XML document for use with <code class="codeph">xsdproperty.java</code>. The XML schema that defines this document is <code class="codeph">juicer1.xsd</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1794" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">juicer1.xsd</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1794 d63446e1707 ">
                                       <p>A sample XML schema for use with <code class="codeph">xsdproperty.java</code>. This XML schema defines <code class="codeph">juicer1.xml</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1807" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">juicer2.xml</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1807 d63446e1707 ">
                                       <p>A sample XML document for use with <code class="codeph">xsdproperty.java</code>. The XML schema that defines this document is <code class="codeph">juicer2.xsd</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1820" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">juicer2.xsd</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1820 d63446e1707 ">
                                       <p>A sample XML document for use with <code class="codeph">xsdproperty.java</code>. This XML schema defines <code class="codeph">juicer2.xml</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1833" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">report.xml</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1833 d63446e1707 ">
                                       <p>The sample XML file that <code class="codeph">XSDSetSchema.java</code> uses to validate against the XML schema <code class="codeph">report.xsd</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1847" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">report.xsd</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1847 d63446e1707 ">
                                       <p>A sample XML schema used by the <code class="codeph">XSDSetSchema.java</code> program to validate the contents of <code class="codeph">report.xml</code>. The <code class="codeph">report.xsd</code> schema specifies the structure of a purchase order.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1863" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">report_e.xml</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1863 d63446e1707 ">
                                       <p>When the program validates this sample XML file using <code class="codeph">XSDSample.java</code>, it generates XML Schema errors.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1873" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">xsddom.java</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1873 d63446e1707 ">
                                       <p>This program shows how to validate an instance document by get a DOM representation of the document and using an <code class="codeph">XSDValidator</code> object to validate it.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1883" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">xsdent.java</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1883 d63446e1707 ">
                                       <p>This program validates an XML document by redirecting the referenced schema in the <code class="codeph">SchemaLocation</code> attribute to a local version. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1893" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">xsdent.xml</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1893 d63446e1707 ">
                                       <p>This XML document describes a book. The file is used as an input to <code class="codeph">xsdent.java</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1903" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">xsdent.xsd</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1903 d63446e1707 ">
                                       <p>This XML schema document defines the rules for <code class="codeph">xsdent.xml</code>. The schema document contains a <code class="codeph">schemaLocation</code> attribute set to <code class="codeph">xsdent-1.xsd</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1919" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">xsdent-1.xsd</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1919 d63446e1707 ">
                                       <p>The XML schema document referenced by the <code class="codeph">schemaLocation</code> attribute in <code class="codeph">xsdent.xsd</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1932" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">xsdproperty.java</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1932 d63446e1707 ">
                                       <p>This demo shows how to configure the XML Schema processor to validate an XML document based on a complex type or element declaration.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1939" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">xsdsax.java</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1939 d63446e1707 ">
                                       <p>This demo shows how to validate an XML document received as a SAX stream.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1946" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">XSDLax.java</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1946 d63446e1707 ">
                                       <p>This demo is the same as <code class="codeph">XSDSetSchema.java</code> but sets the <code class="codeph">SCHEMA_LAX_VALIDATION</code> flag for LAX validation.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1959" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">XSDSample.java</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1959 d63446e1707 ">
                                       <p>This program is a sample driver that you can use to process XML instance documents.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d63446e1967" headers="d63446e1704 "><pre class="oac_no_warn" dir="ltr">XSDSetSchema.java</pre></td>
                                    <td align="left" valign="top" width="81%" headers="d63446e1967 d63446e1707 ">
                                       <p>This program is a sample driver to process XML instance documents by overriding the <code class="codeph">schemaLocation</code>. The program uses the XML Schema specification from <code class="codeph">cat.xsd</code> to validate the contents of <code class="codeph">catalogue.xml</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Documentation for how to compile and run the sample programs is located in the <code class="codeph">README</code> in the same directory. The basic steps are:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Change into the <code class="codeph">$ORACLE_HOME/xdk/demo/java/schema</code> directory (UNIX) or <code class="codeph">%ORACLE_HOME%\xdk\demo\java\schema</code> directory (Windows).</span></li>
                        <li class="stepexpand"><span>Run <code class="codeph">make</code> (UNIX) or <code class="codeph">Make.bat</code> (Windows) at the command line. </span></li>
                        <li class="stepexpand"><span>Add <code class="codeph">xmlparserv2.jar</code>, <code class="codeph">xschema.jar</code>, and the current directory to the <code class="codeph">CLASSPATH</code>. These JAR files are located in <code class="codeph">$ORACLE_HOME/lib</code> (UNIX) and <code class="codeph">%ORACLE_HOME%\lib</code> (Windows). For example, you can set the <code class="codeph">CLASSPATH</code> with the <code class="codeph">tcsh</code> shell on UNIX:</span><div><pre class="oac_no_warn" dir="ltr">setenv CLASSPATH
 "$CLASSPATH":$ORACLE_HOME/lib/xmlparserv2.jar:$ORACLE_HOME/lib/schema.jar:.</pre><div class="infoboxnote" id="GUID-1794B57C-BD9A-4322-B136-B07B950EC479__GUID-FF593407-5EB2-4FAC-93BA-E6344D752FF5">
                                 <p class="notep1">Note:</p>
                                 <p>The XML Schema processor requires JDK version 1.2 or later, and it is usable on any operating system with Java 1.2 support.</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the sample programs with the XML files that are included in the directory:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>These examples use <code class="codeph">report.xsd</code> to validate the contents of <code class="codeph">report.xml</code>:
                                    </p><pre class="oac_no_warn" dir="ltr">java XSDSample report.xml
java XSDSetSchema report.xsd report.xml
</pre></li>
                                 <li>
                                    <p>This example validates an instance document in Lax mode:</p><pre class="oac_no_warn" dir="ltr">java XSDLax embeded_xsql.xsd embeded_xsql.xml
</pre></li>
                                 <li>
                                    <p>These examples use <code class="codeph">cat.xsd</code> to validate the contents of <code class="codeph">catalogue.xml</code>:
                                    </p><pre class="oac_no_warn" dir="ltr">java XSDSample catalogue.xml
java XSDSetSchema cat.xsd catalogue.xml
</pre></li>
                                 <li>
                                    <p>These examples generates error messages:</p><pre class="oac_no_warn" dir="ltr">java XSDSample catalogue_e.xml
java XSDSample report_e.xml
</pre></li>
                                 <li>
                                    <p>This example uses the <code class="codeph">schemaLocation</code> attribute in <code class="codeph">xsdent.xsd</code> to redirect the XML schema to <code class="codeph">xsdent-1.xsd</code> for validation:
                                    </p><pre class="oac_no_warn" dir="ltr">java xsdent xsdent.xml xsdent.xsd
</pre></li>
                                 <li>
                                    <p>This example generates a SAX stream from <code class="codeph">report.xml</code> and validates it against the XML schema defined in <code class="codeph">report.xsd</code>:
                                    </p><pre class="oac_no_warn" dir="ltr">java xsdsax report.xsd report.xml
</pre></li>
                                 <li>
                                    <p>This example creates a DOM representation of <code class="codeph">report.xml</code> and validates it against the XML schema defined in <code class="codeph">report.xsd</code>:
                                    </p><pre class="oac_no_warn" dir="ltr">java xsddom report.xsd report.xml
</pre></li>
                                 <li>
                                    <p>These examples configure validation starting with an element declaration or complex type definition:</p><pre class="oac_no_warn" dir="ltr">java xsdproperty juicer1.xml juicer1.xsd http://www.juicers.org \
juicersType false &gt; juicersType.out
                                                                                       
java xsdproperty juicer2.xml juicer2.xsd http://www.juicers.org \ 
Juicers true &gt; juicers_e.out
</pre></li>
                                 <li>
                                    <p>This example converts a DTD (<code class="codeph">dtd2schema.dtd</code>) into an XML schema and uses it to validate an instance document (<code class="codeph">dtd2schema.xml</code>):
                                    </p><pre class="oac_no_warn" dir="ltr">java DTD2Schema dtd2schema.dtd dtd2schema.xml</pre></li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19273"></a><div class="props_rev_3"><a id="GUID-47B783B4-29F5-4AE7-AD61-96207DC548D0" name="GUID-47B783B4-29F5-4AE7-AD61-96207DC548D0"></a><h4 id="ADXDK-GUID-47B783B4-29F5-4AE7-AD61-96207DC548D0" class="sect4">Using the XML Schema Processor Command-Line Utility</h4>
                  <div>
                     <p>You can use the XML parser command-line utility (<code class="codeph">oraxml</code>) to validate instance documents against XML schemas and DTDs.
                     </p>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-47B783B4-29F5-4AE7-AD61-96207DC548D0__GUID-C586B6FC-60E7-4CCF-AC3B-E18751B87AAF">
                           <p class="notep1">See Also:</p>
                           <p><a href="XML-parsing-for-Java.html#GUID-204C527C-DED2-4FBA-861E-3378370529ED" title="The oraxml utility, which is located in $ORACLE_HOME/bin (UNIX) or %ORACLE_HOME%\bin (Windows), is a command-line interface that parses XML documents. It checks for both well-formedness and validity.">Using the Java XML Parser Command-Line Utility (oraxml)</a> for information about how to run <code class="codeph">oraxml</code> . 
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADXDK19275"></a><a id="ADXDK19274"></a><div class="props_rev_3"><a id="GUID-223D5EB3-013F-4DA7-97A3-090847AA2C2C" name="GUID-223D5EB3-013F-4DA7-97A3-090847AA2C2C"></a><h5 id="ADXDK-GUID-223D5EB3-013F-4DA7-97A3-090847AA2C2C" class="sect5">Using oraxml to Validate Against a Schema</h5>
                     <div>
                        <p>An example shows how you can validate document <code class="codeph">report.xml</code> against the XML schema <code class="codeph">report.xsd</code> by invoking <code class="codeph">oraxml</code> on the command line.
                        </p>
                        <div class="example" id="GUID-223D5EB3-013F-4DA7-97A3-090847AA2C2C__CIHGACIE">
                           <p class="titleinexample">Example 17-5 Using oraxml to Validate Against a Schema</p>
                           <p>Invoke this command in directory <code class="codeph">$ORACLE_HOME/xdk/demo/java/schema</code>:
                           </p><pre class="pre codeblock"><code>oraxml -schema -enc report.xml
</code></pre><p>The expected output is:</p><pre class="pre codeblock"><code>The encoding of the input file: UTF-8
The input XML file is parsed without errors using Schema validation mode.</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADXDK19277"></a><a id="ADXDK19276"></a><div class="props_rev_3"><a id="GUID-0B1E253D-80F0-4B66-A9B5-F86AAFF2BBEA" name="GUID-0B1E253D-80F0-4B66-A9B5-F86AAFF2BBEA"></a><h5 id="ADXDK-GUID-0B1E253D-80F0-4B66-A9B5-F86AAFF2BBEA" class="sect5">Using oraxml to Validate Against a DTD</h5>
                     <div>
                        <p>An example shows how you can validate document <code class="codeph">family.xml</code> against the DTD <code class="codeph">family.dtd</code> by invoking <code class="codeph">oraxml</code> on the command line.
                        </p>
                        <div class="example" id="GUID-0B1E253D-80F0-4B66-A9B5-F86AAFF2BBEA__CIHJDDBC">
                           <p class="titleinexample">Example 17-6 Using oraxml to Validate Against a DTD</p>
                           <p>Invoke this command in directory <code class="codeph">$ORACLE_HOME/xdk/demo/java/parser/common</code>:
                           </p><pre class="pre codeblock"><code>oraxml -dtd -enc family.xml
</code></pre><p>The expected output is:</p><pre class="pre codeblock"><code>The encoding of the input file: UTF-8
 The input XML file is parsed without errors using DTD validation mode.</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADXDK995"></a><a id="ADXDK19278"></a><div class="props_rev_3"><a id="GUID-61216843-3968-49AB-8323-5774A7ABA2D7" name="GUID-61216843-3968-49AB-8323-5774A7ABA2D7"></a><h3 id="ADXDK-GUID-61216843-3968-49AB-8323-5774A7ABA2D7" class="sect3">Validating XML with XML Schemas</h3>
               <div>
                  <p>Topics cover various ways to validate XML documents using XML schemas.</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19279"></a><div class="props_rev_3"><a id="GUID-5B182AA2-84E3-416A-837A-6563B2F948D5" name="GUID-5B182AA2-84E3-416A-837A-6563B2F948D5"></a><h4 id="ADXDK-GUID-5B182AA2-84E3-416A-837A-6563B2F948D5" class="sect4">Validating Against Internally Referenced XML Schemas</h4>
                  <div>
                     <p><code class="codeph">$ORACLE_HOME/xdk/demo/java/schema/XSDSample.java</code> shows how to validate against an implicit XML Schema. The validation mode is implicit because the XML schema is referenced in the instance document itself.
                     </p>
                     <div class="section">
                        <p>Follow the steps in this section to write programs that use the <code class="codeph">setValidationMode()</code> method of the <code class="codeph">oracle.xml.parser.v2.</code><code class="codeph">DOMParser</code> class:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a DOM parser to use for the validation of an instance document. this code fragment from <code class="codeph">XSDSample.java</code> shows how to create the <code class="codeph">DOMParser</code> object:</span><div><pre class="oac_no_warn" dir="ltr">public class XSDSample
{
   public static void main(String[] args) throws Exception
   {
      if (args.length != 1)
      {
         System.out.println("Usage: java XSDSample &lt;filename&gt;");
         return;
      }
      process (args[0]);
   }

   public static void process (String xmlURI) throws Exception
   {
      DOMParser dp  = new DOMParser();
      URL       url = createURL(xmlURI);
      ...
   }
...
}
</pre><p><code class="codeph">createURL()</code> is a helper method that constructs a URL from a file name passed to the program as an argument.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Set the validation mode for the validating DOM parser with the <code class="codeph">DOMParser.setValidationMode()</code> method. For example, <code class="codeph">XSDSample.java</code> shows how to specify XML schema validation:</span><div><pre class="oac_no_warn" dir="ltr">dp.setValidationMode(XMLParser.SCHEMA_VALIDATION);
dp.setPreserveWhitespace(true);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Set the output error stream with the <code class="codeph">DOMParser.setErrorStream()</code> method. For example, <code class="codeph">XSDSample.java</code> sets the error stream for the DOM parser object:</span><div><pre class="oac_no_warn" dir="ltr">dp.setErrorStream (System.out);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Validate the instance document with the <code class="codeph">DOMParser.parse()</code> method. You do not have to create an XML schema object explicitly because the schema is internally referenced by the instance document. For example, <code class="codeph">XSDSample.java</code> validates the instance document:</span><div><pre class="oac_no_warn" dir="ltr">try
{
  System.out.println("Parsing "+xmlURI);
  dp.parse(url);
  System.out.println("The input file &lt;"+xmlURI+"&gt; parsed without errors");
}
catch (XMLParseException pe)
{
  System.out.println("Parser Exception: " + pe.getMessage());
}
catch (Exception e)
{
  System.out.println("NonParserException: " + e.getMessage());
}</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19280"></a><div class="props_rev_3"><a id="GUID-EAAAB139-E5FE-434E-A310-2E13099B1FF8" name="GUID-EAAAB139-E5FE-434E-A310-2E13099B1FF8"></a><h4 id="ADXDK-GUID-EAAAB139-E5FE-434E-A310-2E13099B1FF8" class="sect4">Validating Against Externally Referenced XML Schemas</h4>
                  <div>
                     <p><code class="codeph">$ORACLE_HOME/xdk/demo/java/schema/XSDSetSchema.java</code> shows how to validate an XML schema explicitly. The validation mode is explicit because you use the <code class="codeph">XSDBuilder</code> class to specify the schema to use for validation: the schema is not specified in the instance document as in implicit validation.
                     </p>
                     <div class="section">
                        <p></p>
                        <p>Follow the basic steps in this section to write Java programs that use the <code class="codeph">build()</code> method of the <code class="codeph">oracle.xml.parser.schema.XSDBuilder</code> class:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Build an XML schema object from the XML schema document with the <code class="codeph">XSDBuilder.build()</code> method. This code fragment from <code class="codeph">XSDSetSchema.java</code> shows how to create the object:</span><div><pre class="oac_no_warn" dir="ltr">public class XSDSetSchema
{
   public static void main(String[] args) throws Exception
   {
      if (args.length != 2)
      {
         System.out.println("Usage: java XSDSample &lt;schema_file&gt; &lt;xml_file&gt;");
         return;
      }
 
      XSDBuilder builder = new XSDBuilder();
      URL    url =  createURL(args[0]);
 
      // Build XML Schema Object
      XMLSchema schemadoc = (XMLSchema)builder.build(url);
      process(args[1], schemadoc);
   }
. . .
</pre><p>The <code class="codeph">createURL()</code> method is a helper method that constructs a URL from the schema document file name specified on the command line.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create a DOM parser to use for validation of the instance document. This code from <code class="codeph">XSDSetSchema.java</code> shows how to pass the instance document file name and XML schema object to the <code class="codeph">process()</code> method:</span><div><pre class="oac_no_warn" dir="ltr">public static void process(String xmlURI, XMLSchema schemadoc)throws Exception{
   DOMParser dp  = new DOMParser();
   URL       url = createURL (xmlURI);
   . . .
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Specify the schema object to use for validation with the <code class="codeph">DOMParser.setXMLSchema()</code> method. This step is not necessary in implicit validation mode because the instance document already references the schema. For example, <code class="codeph">XSDSetSchema.java</code> specifies the schema:</span><div><pre class="oac_no_warn" dir="ltr">dp.setXMLSchema(schemadoc);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Set the validation mode for the DOM parser object with the <code class="codeph">DOMParser.setValidationMode()</code> method. For example, <code class="codeph">XSDSample.java</code> shows how to specify XML schema validation:</span><div><pre class="oac_no_warn" dir="ltr">dp.setValidationMode(XMLParser.SCHEMA_VALIDATION);
dp.setPreserveWhitespace(true);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Set the output error stream for the parser with the <code class="codeph">DOMParser.setErrorStream()</code> method. For example, <code class="codeph">XSDSetSchema.java</code> sets it:</span><div><pre class="oac_no_warn" dir="ltr">dp.setErrorStream (System.out);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Validate the instance document against the XML schema with the <code class="codeph">DOMParser.parse()</code> method. For example, <code class="codeph">XSDSetSchema.java</code> includes this code:</span><div><pre class="oac_no_warn" dir="ltr">try
{
   System.out.println("Parsing "+xmlURI);
   dp.parse (url);
   System.out.println("The input file &lt;"+xmlURI+"&gt; parsed without errors");
}
catch (XMLParseException pe)
{
   System.out.println("Parser Exception: " + pe.getMessage());
}
catch (Exception e)
{
   System.out.println ("NonParserException: " + e.getMessage());
}</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19281"></a><div class="props_rev_3"><a id="GUID-AFB85EDC-550E-41D9-8754-9F916E44301E" name="GUID-AFB85EDC-550E-41D9-8754-9F916E44301E"></a><h4 id="ADXDK-GUID-AFB85EDC-550E-41D9-8754-9F916E44301E" class="sect4">Validating a Subsection of an XML Document</h4>
                  <div>
                     <p>In LAX mode, you can validate parts of an XML document without validating all of it. LAX parsing validates elements in a document that are declared in an associated XML schema. The processor does not consider the instance document invalid if it contains no elements declared in the schema.</p>
                     <div class="section">
                        <p></p>
                        <p>By using LAX mode, you can define the schema only for the part of the XML to be validated. The <code class="codeph">$ORACLE_HOME/xdk/demo/java/schema/XSDLax.java</code> program shows how to use LAX validation. The program follows the basic steps described in <a href="using-XML-schema-processor-for-Java.html#GUID-EAAAB139-E5FE-434E-A310-2E13099B1FF8" title="$ORACLE_HOME/xdk/demo/java/schema/XSDSetSchema.java shows how to validate an XML schema explicitly. The validation mode is explicit because you use the XSDBuilder class to specify the schema to use for validation: the schema is not specified in the instance document as in implicit validation.">Validating Against Externally Referenced XML Schemas</a>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Build an XML schema object from the user-specified XML schema document.</span></li>
                        <li><span>Create a DOM parser to use for validation of the instance document.</span></li>
                        <li><span>Specify the XML schema to use for validation.</span></li>
                        <li><span>Set the validation mode for the DOM parser object.</span></li>
                        <li><span>Set the output error stream for the parser.</span></li>
                        <li><span>Validate the instance document against the XML schema by invoking <code class="codeph">DOMParser.parse()</code>.</span></li>
                     </ol>
                     <div class="section">
                        <p>To enable LAX validation, the program sets the validation mode in the parser to <code class="codeph">SCHEMA_LAX_VALIDATION</code> rather than to <code class="codeph">SCHEMA_VALIDATION</code>. This code fragment from <code class="codeph">XSDLax.java</code> shows this technique:
                        </p><pre class="oac_no_warn" dir="ltr">dp.setXMLSchema(schemadoc);
dp.setValidationMode(XMLParser.SCHEMA_LAX_VALIDATION);
dp.setPreserveWhitespace (true);
. . .
</pre><p>You can test LAX validation by running the sample program:</p><pre class="oac_no_warn" dir="ltr">java XSDLax embeded_xsql.xsd embeded_xsql.xml</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADXDK19282"></a><div class="props_rev_3"><a id="GUID-C1C29EFC-2A5F-4D5E-8A45-E8E1A47720A3" name="GUID-C1C29EFC-2A5F-4D5E-8A45-E8E1A47720A3"></a><h4 id="ADXDK-GUID-C1C29EFC-2A5F-4D5E-8A45-E8E1A47720A3" class="sect4">Validating XML from a SAX Stream</h4>
                  <div>
                     <p><code class="codeph">$ORACLE_HOME/xdk/demo/java/schema/xsdsax.java</code> shows how to validate an XML document received as a SAX stream. You instantiate an <code class="codeph">XSDValidator</code> and register it with the SAX parser as the content handler.
                     </p>
                     <div class="section">
                        <p>Follow the steps in this section to write programs that validate XML from a SAX stream:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Build an XML schema object from the user-specified XML schema document by invoking the <code class="codeph">XSDBuilder.build()</code> method. This code fragment shows how to create the object:</span><div><pre class="oac_no_warn" dir="ltr">XSDBuilder builder = new XSDBuilder();
URL    url =  XMLUtil.createURL(args[0]);

// Build XML Schema Object
XMLSchema schemadoc = (XMLSchema)builder.build(url);      
process(args[1], schemadoc);
. . .
</pre><p><code class="codeph">createURL()</code> is a helper method that constructs a URL from the file name specified on the command line.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create a SAX parser (<code class="codeph">SAXParser</code> object) to use for validation of the instance document. This code fragment from <code class="codeph">saxxsd.java</code> passes the handles to the XML document and schema document to the <code class="codeph">process()</code> method:</span><div><pre class="oac_no_warn" dir="ltr">process(args[1], schemadoc);...public static void process(String xmlURI, XMLSchema schemadoc)
throws Exception 
{
    SAXParser dp  = new SAXParser();
...
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Configure the SAX parser. This code fragment sets the validation mode for the SAX parser object with the <code class="codeph">XSDBuilder.setValidationMode()</code> method:</span><div><pre class="oac_no_warn" dir="ltr">dp.setPreserveWhitespace (true);
dp.setValidationMode(XMLParser.NONVALIDATING);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create and configure a validator (<code class="codeph">XSDValidator</code> object). This code fragment shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">XMLError err;... err = new XMLError();
...
XSDValidator validator = new XSDValidator();
...
validator.setError(err);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Specify the XML schema to use for validation by invoking the <code class="codeph">XSDBuilder.setXMLProperty()</code> method. The first argument is the name of the property, which is <code class="codeph">fixedSchema</code>, and the second is the reference to the XML schema object. This code fragment shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">validator.setXMLProperty(XSDNode.FIXED_SCHEMA, schemadoc);
...
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Register the validator as the SAX content handler for the parser. This code fragment shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">dp.setContentHandler(validator);
...
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Validate the instance document against the XML schema by invoking the <code class="codeph">SAXParser.parse()</code> method. This code fragment shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">dp.parse (url);</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19283"></a><div class="props_rev_3"><a id="GUID-38EF516D-CB44-4857-9EEF-17ECE082068E" name="GUID-38EF516D-CB44-4857-9EEF-17ECE082068E"></a><h4 id="ADXDK-GUID-38EF516D-CB44-4857-9EEF-17ECE082068E" class="sect4">Validating XML from a DOM</h4>
                  <div>
                     <p><code class="codeph">$ORACLE_HOME/xdk/demo/java/schema/xsddom.java</code> shows how to validate an instance document by get a DOM representation of the document and using an <code class="codeph">XSDValidator</code> object to validate it.
                     </p>
                     <div class="section">
                        <p>The <code class="codeph">xsddom.java</code> program follows these steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Build an XML schema object from the user-specified XML schema document by invoking the <code class="codeph">XSDBuilder.build()</code> method. This code fragment shows how to create the object:</span><div><pre class="oac_no_warn" dir="ltr">XSDBuilder builder = new XSDBuilder();
URL    url =  XMLUtil.createURL(args[0]);

XMLSchema schemadoc = (XMLSchema)builder.build(url);      
process(args[1], schemadoc);
</pre><p><code class="codeph">createURL()</code> is a helper method that constructs a URL from the file name specified on the command line.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Create a DOM parser (<code class="codeph">DOMParser</code> object) to use for validation of the instance document. This code fragment from <code class="codeph">domxsd.java</code> passes the handles to the XML document and schema document to the <code class="codeph">process()</code> method:</span><div><pre class="oac_no_warn" dir="ltr">process(args[1], schemadoc);...public static void process(String xmlURI, XMLSchema schemadoc)
throws Exception 
{
    DOMParser dp  = new DOMParser();
    . . .
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Configure the DOM parser. This code fragment sets the validation mode for the parser object with the <code class="codeph">DOMParser.setValidationMode()</code> method:</span><div><pre class="oac_no_warn" dir="ltr">dp.setPreserveWhitespace (true);
dp.setValidationMode(XMLParser.NONVALIDATING);
dp.setErrorStream (System.out);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Parse the instance document. This code fragment shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">dp.parse (url);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Get the DOM representation of the input document. This code fragment shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">XMLDocument doc = dp.getDocument();
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create and configure a validator (<code class="codeph">XSDValidator</code> object). This code fragment shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">XMLError err;... err = new XMLError();
...
XSDValidator validator = new XSDValidator();
...
validator.setError(err);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Specify the schema object to use for validation by invoking the <code class="codeph">XSDBuilder.setXMLProperty()</code> method. The first argument is the name of the property, which in this example is <code class="codeph">fixedSchema</code>, and the second is the reference to the schema object. This code fragment shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">validator.setXMLProperty(XSDNode.FIXED_SCHEMA, schemadoc);
. . .
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Get the root element (<code class="codeph">XMLElement</code>) of the DOM tree and validate. This code fragment shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">XMLElement root = (XMLElement)doc.getDocumentElement();
XMLElement copy = (XMLElement)root.validateContent(validator, true);
copy.print(System.out);</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19284"></a><div class="props_rev_3"><a id="GUID-49EE75AF-E9AE-48A7-A331-7707A12A947C" name="GUID-49EE75AF-E9AE-48A7-A331-7707A12A947C"></a><h4 id="ADXDK-GUID-49EE75AF-E9AE-48A7-A331-7707A12A947C" class="sect4">Validating XML from Designed Types and Elements</h4>
                  <div>
                     <p><code class="codeph">$ORACLE_HOME/xdk/demo/java/schema/xsdproperty.java</code> shows how to configure the XML Schema processor to validate an XML document based on a complex type or element declaration.
                     </p>
                     <div class="section">
                        <p>The <code class="codeph">xsdproperty.java</code> program follows these steps:
                        </p>
                        <ol>
                           <li>
                              <p>Create <code class="codeph">String</code> objects for the instance document name, XML schema name, root node namespace, root node local name, and specification of element or complex type ("true" means the root node is an element declaration). This code fragment shows this technique:
                              </p><pre class="oac_no_warn" dir="ltr">String xmlfile = args[0];
String xsdfile =  args[1];
...
String ns = args[2]; //namespace for the root node
String nm = args[3]; //root node's local name
String el = args[4]; //true if root node is element declaration, 
                     // otherwise, the root node is a complex type
</pre></li>
                           <li>
                              <p>Create an XSD builder and use it to create the schema object. This code fragment shows this technique:</p><pre class="oac_no_warn" dir="ltr">XSDBuilder builder = new XSDBuilder();
URL    url =  XMLUtil.createURL(xsdfile);       
XMLSchema  schema;
...
schema = (XMLSchema) builder.build(url);
</pre></li>
                           <li>
                              <p>Get the node. Invoke different methods depending on whether the node is an element declaration or a complex type:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If the node is an element declaration, pass the local name and namespace to the <code class="codeph">getElement()</code> method of the schema object. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the node is an element declaration, pass the namespace, local name, and root complex type to the <code class="codeph">getType()</code> method of the schema object.
                                    </p>
                                 </li>
                              </ul>
                              <p><code class="codeph">xsdproperty.java</code> uses this control structure:
                              </p><pre class="oac_no_warn" dir="ltr">QxName qname = new QxName(ns, nm);
...
XSDNode nd;
...
if (el.equals("true"))
{
  nd = schema.getElement(ns, nm);
  /* process ... */
}
else
{
  nd = schema.getType(ns, nm, XSDNode.TYPE);
  /* process ... */
}
</pre></li>
                           <li>
                              <p>After getting the node, create a new parser and set the schema to the parser to enable schema validation. This code fragment shows this technique:</p><pre class="oac_no_warn" dir="ltr">DOMParser dp  = new DOMParser();
URL       url = XMLUtil.createURL (xmlURI);
</pre></li>
                           <li>
                              <p>Set properties on the parser and then parse the URL. Invoke the <code class="codeph">schemaValidatorProperty()</code> method:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Set the root element or type property on the parser to a fully qualified name.</p>
                                    <p>For a top-level element declaration, set the property name to <code class="codeph">XSDNode.ROOT_ELEMENT</code> and the value to a <code class="codeph">QName</code>, as showd by the <code class="codeph">process1()</code> method. 
                                    </p>
                                    <p>For a top-level type definition, set the property name to <code class="codeph">XSDNode.ROOT_TYPE</code> and the value to a <code class="codeph">QName</code>, as showd by the <code class="codeph">process2()</code> method.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Set the root node property on the parser to an element or complex type node.</p>
                                    <p>For an element node, set the property name to <code class="codeph">XSDNode.ROOT_NODE</code> and the value to an <code class="codeph">XSDElement</code> node, as showd by the <code class="codeph">process3()</code> method.
                                    </p>
                                    <p>For a type node, set the property name to <code class="codeph">XSDNode.ROOT_NODE</code> and the value to an <code class="codeph">XSDComplexType</code> node, as showd by the <code class="codeph">process3()</code> method.
                                    </p>
                                 </li>
                              </ol>
                              <p>This code fragment shows the sequence of method invocation:</p><pre class="oac_no_warn" dir="ltr">if (el.equals("true"))
{
   nd = schema.getElement(ns, nm);
   process1(xmlfile, schema, qname);
   process3(xmlfile, schema, nd);
}
else
{
   nd = schema.getType(ns, nm, XSDNode.TYPE);
   process2(xmlfile, schema, qname);
   process3(xmlfile, schema, nd);
}
</pre><p>The processing methods are implemented:</p><pre class="oac_no_warn" dir="ltr">  static void process1(String xmlURI, XMLSchema schema, QxName qname)
      throws Exception
  {
    /* create parser... */
    dp.setXMLSchema(schema);
    dp.setSchemaValidatorProperty(XSDNode.ROOT_ELEMENT, qname);
    dp.setPreserveWhitespace (true);
    dp.setErrorStream (System.out);
    dp.parse (url);
    ...
  }
                                                                                             
  static void process2(String xmlURI, XMLSchema schema, QxName qname)
      throws Exception
  {
      /* create parser... */                                                                                        
    dp.setXMLSchema(schema);
    dp.setSchemaValidatorProperty(XSDNode.ROOT_TYPE, qname);
    dp.setPreserveWhitespace (true);
    dp.setErrorStream (System.out);
    dp.parse (url);
    ...
  }
                                                                                             
  static void process3(String xmlURI, XMLSchema schema, XSDNode node)
      throws Exception
  {
      /* create parser... */
                                                                                              
    dp.setXMLSchema(schema);
    dp.setSchemaValidatorProperty(XSDNode.ROOT_NODE, node);
    dp.setPreserveWhitespace (true);
    dp.setErrorStream (System.out);
    dp.parse (url);
    ...
  }</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADXDK996"></a><a id="ADXDK19286"></a><div class="props_rev_3"><a id="GUID-654F9D12-EC32-464B-9465-06ECB9213829" name="GUID-654F9D12-EC32-464B-9465-06ECB9213829"></a><h3 id="ADXDK-GUID-654F9D12-EC32-464B-9465-06ECB9213829" class="sect3">Tips and Techniques for Programming with XML Schemas</h3>
               <div>
                  <p>Topics include overriding schema location and converting a DTD to an XML schema.</p>
                  <div class="section"> </div>
                  <!-- class="section" -->
               </div><a id="ADXDK19287"></a><div class="props_rev_3"><a id="GUID-FB1780C6-0CD0-4393-AEDD-0294701BEE9D" name="GUID-FB1780C6-0CD0-4393-AEDD-0294701BEE9D"></a><h4 id="ADXDK-GUID-FB1780C6-0CD0-4393-AEDD-0294701BEE9D" class="sect4">Overriding the Schema Location with an Entity Resolver</h4>
                  <div>
                     <p>When <code class="codeph">XSDBuilder</code> builds a schema, it might need to include or import other schemas that are specified as URLs in a <code class="codeph">schemaLocation</code> attribute. In some situations, you might want to override the schema locations specified in <code class="codeph">&lt;import&gt;</code> and supply the builder with the required schema documents.
                     </p>
                     <div class="section">
                        <p>The <code class="codeph">xsdent.java</code> demo described in <a href="using-XML-schema-processor-for-Java.html#GUID-1794B57C-BD9A-4322-B136-B07B950EC479__CIHIEEDI" title="This table describes the XML files and programs that you can use to test the XML Schema processor. File and Description are the Columns.">Table 17-3</a> shows a case where a schema specified as <code class="codeph">schemaLocation</code> needs to be imported. The document element in <code class="codeph">xsdent.xml</code> file contains this attribute:
                        </p><pre class="oac_no_warn" dir="ltr">xsi:schemaLocation =  "http://www.example.com/BookCatalogue
                       xsdent.xsd"&gt;
</pre><p>The <code class="codeph">xsdent.xsd</code> document contains these elements:
                        </p><pre class="oac_no_warn" dir="ltr">&lt;schema xmlns="http://www.w3.org/2001/XMLSchema"
               targetNamespace="http://www.example.com/BookCatalogue"
               xmlns:catd = "http://www.example.com/Digest"
               xmlns:cat  = "http://www.example.com/BookCatalogue"
               elementFormDefault="qualified"&gt;
&lt;import namespace = "http://www.example.com/Digest"
        schemaLocation = "xsdent-1.xsd" /&gt;
</pre><p>As an example of wanting to override schema locations specified in <code class="codeph">&lt;import&gt;</code> and supplying the builder with the required schema documents, suppose that you have downloaded the schemas documents from external web sites and stored them in a database. In such a situation, you can set an entity resolver in the <code class="codeph">XSDBuilder</code>. <code class="codeph">XSDBuilder</code> passes the schema location to the resolver, which returns an <code class="codeph">InputStream</code>, <code class="codeph">Reader</code>, or <code class="codeph">URL</code> as an <code class="codeph">InputSource</code>. The builder can read the schema documents from the <code class="codeph">InputSource</code>.
                        </p>
                        <p>The <code class="codeph">xsdent.java</code> program shows how you can override the schema location with an entity resolver. You must implement the <code class="codeph">EntityResolver</code> interface, instantiate the entity resolver, and set it in the XML schema builder. In the demo code, <code class="codeph">sampleEntityResolver1</code> returns <code class="codeph">InputSource</code> as an <code class="codeph">InputStream</code> whereas <code class="codeph">sampleEntityResolver2</code> returns <code class="codeph">InputSource</code> as a <code class="codeph">URL</code>.
                        </p>
                        <p>Follow these basic steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a new XML schema builder:</span><div><pre class="oac_no_warn" dir="ltr">XSDBuilder builder = new XSDBuilder(); 
   </pre></div>
                        </li>
                        <li class="stepexpand"><span>Set the builder to your entity resolver. An entity resolver is a class that implements the <code class="codeph">EntityResolver</code> interface. The purpose of the resolver is to enable the XML reader to intercept any external entities before including them. This code fragment creates an entity resolver and sets it in the builder:</span><div><pre class="oac_no_warn" dir="ltr">builder.setEntityResolver(new sampleEntityResolver1());
</pre><p>The <code class="codeph">sampleEntityResolver1</code> class implements the <code class="codeph">resolveEntity()</code> method. You can use this method to redirect external system identifiers to local URIs. The source code is:
                              </p><pre class="oac_no_warn" dir="ltr">class sampleEntityResolver1 implements EntityResolver
{
   public InputSource resolveEntity (String targetNS,  String systemId)
   throws SAXException, IOException
   {
      // perform any validation check if needed based on targetNS &amp; systemId 
      InputSource mySource = null;
      URL u = XMLUtil.createURL(systemId); 
      // Create input source with InputStream as input
      mySource = new InputSource(u.openStream());
      mySource.setSystemId(systemId);
      return mySource;
   }
}
</pre><p>The <code class="codeph">sampleEntityResolver1</code> class initializes the <code class="codeph">InputSource</code> with a stream.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Build the XML schema object. This code shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">schemadoc = builder.build(url);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Validate the instance document against the XML schema. The program executes this statement:</span><div><pre class="oac_no_warn" dir="ltr">process(xmlfile, schemadoc);
</pre><p>The <code class="codeph">process()</code> method creates a DOM parser, configures it, and invokes the <code class="codeph">parse()</code> method. The method is implemented:
                              </p><pre class="oac_no_warn" dir="ltr">public static void process(String xmlURI, Object schemadoc)
    throws Exception
{
  DOMParser dp  = new DOMParser();
  URL       url = XMLUtil.createURL (xmlURI);
 
  dp.setXMLSchema(schemadoc);
  dp.setValidationMode(XMLParser.SCHEMA_VALIDATION);
  dp.setPreserveWhitespace (true);
  dp.setErrorStream (System.out);
  try {
     dp.parse (url);
     ...
}</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADXDK19288"></a><div class="props_rev_3"><a id="GUID-BC0B8A74-265E-4EBF-B012-923DA614F744" name="GUID-BC0B8A74-265E-4EBF-B012-923DA614F744"></a><h4 id="ADXDK-GUID-BC0B8A74-265E-4EBF-B012-923DA614F744" class="sect4">Converting DTDs to XML Schemas</h4>
                  <div>
                     <p>Because of the power and flexibility of the XML Schema language, you may want to convert your existing DTDs to XML schema documents. You can use XDK to perform this transformation.</p>
                     <div class="section">
                        <p>The <code class="codeph">$ORACLE_HOME/xdk/demo/java/schema/DTD2Schema.java</code> program shows how to convert a DTD. You can test the program:
                        </p><pre class="oac_no_warn" dir="ltr">java DTD2Schema dtd2schema.dtd dtd2schema.xml
</pre><p>Follow these basic steps to convert a DTD to an XML schema document:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Parse the DTD with the <code class="codeph">DOMParser.parseDTD()</code> method. This code fragment from <code class="codeph">DTD2Schema.java</code> shows how to create the DTD object:</span><div><pre class="oac_no_warn" dir="ltr">XSDBuilder builder = new XSDBuilder(); 
URL dtdURL = createURL(args[0]);
DTD dtd = getDTD(dtdURL, "abc");
   </pre><p>The <code class="codeph">getDTD()</code> method is implemented:
                              </p><pre class="oac_no_warn" dir="ltr">private static DTD getDTD(URL dtdURL, String rootName)
   throws Exception
{
   DOMParser parser = new DOMParser();
   DTD dtd;
   parser.setValidationMode(true);
   parser.setErrorStream(System.out);
   parser.showWarnings(true);
   parser.parseDTD(dtdURL, rootName);
   dtd = (DTD)parser.getDoctype();
   return dtd;
}
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Convert the DTD to an XML schema DOM tree with the <code class="codeph">DTD.convertDTD2Sdhema()</code> method. This code fragment from <code class="codeph">DTD2Schema.java</code> shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">XMLDocument dtddoc = dtd.convertDTD2Schema();
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Write the XML schema DOM tree to an output stream with the <code class="codeph">XMLDocument.print()</code> method. This code fragment from <code class="codeph">DTD2Schema.java</code> shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">FileOutputStream fos = new FileOutputStream("dtd2schema.xsd.out");
dtddoc.print(fos);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create an XML schema object from the schema DOM tree with the <code class="codeph">XSDBuilder.build()</code> method. This code fragment from <code class="codeph">DTD2Schema.java</code> shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">XMLSchema schemadoc = (XMLSchema)builder.build(dtddoc, null);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Validate an instance document against the XML schema with the <code class="codeph">DOMParser.parse()</code> method. This code fragment from <code class="codeph">DTD2Schema.java</code> shows this technique:</span><div><pre class="oac_no_warn" dir="ltr">validate(args[1], schemadoc);
</pre><p>The <code class="codeph">validate()</code> method is implemented:
                              </p><pre class="oac_no_warn" dir="ltr">DOMParser dp  = new DOMParser();
URL       url = createURL (xmlURI); 
dp.setXMLSchema(schemadoc);
dp.setValidationMode(XMLParser.SCHEMA_VALIDATION);
dp.setPreserveWhitespace (true);
dp.setErrorStream (System.out);
try
{
   System.out.println("Parsing "+xmlURI);
   dp.parse (url);
   System.out.println("The input file &lt;"+xmlURI+"&gt; parsed without errors");
}
...</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>