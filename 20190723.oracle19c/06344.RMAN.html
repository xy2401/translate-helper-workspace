<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>RMAN</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96242-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="REVOKE.html" title="Previous" type="text/html">
      <link rel="next" href="RUN.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference">
    <meta name="dcterms.isVersionOf" content="RCMRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="REVOKE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="RUN.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-recover-to-validate.html" property="item" typeof="WebPage"><span property="name">RMAN Commands: RECOVER to VALIDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">RMAN</li>
            </ol>
            <a id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7" name="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7"></a><a id="RCMRF90327"></a><a id="RCMRF90328"></a><a id="RCMRF90329"></a><a id="RCMRF90330"></a><a id="RCMRF90331"></a><a id="RCMRF90332"></a><a id="RCMRF90333"></a><a id="RCMRF90334"></a><a id="RCMRF111"></a>
            
            <h2 id="RCMRF-GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7" class="sect2"><span class="enumeration_section">3.11 </span>RMAN
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-B7780DFF-DBD2-4DED-8902-A54944979250">Purpose</p>
                  <p><a id="d91517e109" class="indexterm-anchor"></a><a id="d91517e111" class="indexterm-anchor"></a>Use the <code class="codeph" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDECICE">RMAN</code> command to start RMAN from the operating system command line.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-DBCF8DFA-2C63-4469-AB71-B1698DAC3F17">Prerequisites</p>
                  <p>You must issue the <code class="codeph">RMAN</code> command and any options at the operating system command line rather than at the RMAN prompt.
                  </p>
                  <p>RMAN connections to a database are specified and authenticated in the same way as SQL*Plus connections to a database. The only difference is that RMAN connections to a target or auxiliary database require the <code class="codeph">SYSBACKUP</code> privilege.
                  </p>
                  <div class="infoboxnotealso" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-5500B7A8-C93C-484C-8F17-15100D4FBC8D">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> to learn about database connection options when using SQL*Plus
                           </p>
                        </li>
                        <li>
                           <p><a href="../bradv/starting-interacting-with-rman-client.html#BRADV8123" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn about using the <code class="codeph">SYSBACKUP</code> administrative privilege
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnote" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-90D2ACF1-8FBF-4D0F-9D24-FA723A3398AC">
                     <p class="notep1">Caution:</p>
                     <p>Good security practice requires that passwords are not entered in plain text on the command line. Enter passwords in RMAN only when requested by an RMAN prompt. See <a href="../dbseg/configuring-authentication.html#DBSEG0032" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn about password protection.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-36ADC61E-101A-4BFF-8908-94DB04AF4EF0">Usage Notes</p>
                  <p>The command name that you enter at the operating system prompt is operating system-dependent. For example, enter <code class="codeph">rman</code> in lowercase on Linux and UNIX systems.
                  </p>
                  <p>If you start RMAN without specifying either <code class="codeph">CATALOG</code> or <code class="codeph">NOCATALOG</code> on the operating system command line, then the RMAN session is effectively in <code class="codeph">NOCATALOG</code> mode unless you execute a <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code> <code class="codeph">CATALOG</code> command (see <a href="RMAN.html#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDIIDEJ">Example 3-48</a>). If you maintain a recovery catalog, then the best practice is to connect RMAN to the recovery catalog before performing RMAN operations.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-D3CE3807-8AE2-4899-B824-FE5AB20C1CCB">Syntax</p>
                  <p><a id="d91517e196" class="indexterm-anchor"></a><a id="d91517e200" class="indexterm-anchor"></a><span class="bold"><span class="italic">cmdLine</span>::=</span></p>
                  <div class="figure" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-8874AA53-1ADD-45CA-B409-07E5CFD28F1E"><img src="img/cmdline.gif" alt="Description of cmdline.eps follows" title="Description of cmdline.eps follows" longdesc="img_text/cmdline.html"><br><a href="img_text/cmdline.html">Description of the illustration cmdline.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-31FBFA86-159C-4B41-A9B8-53AB0065BDDA">Semantics</p>
                  <p id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDDGEEB"><span class="bold"><span class="italic">cmdLine</span></span></p>
                  <div class="tblformalwide" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-B58B3A6A-79BE-4FE1-ADDC-6342EEE6EA87">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes RMAN command parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d91517e226">Syntax Element</th>
                              <th align="left" valign="bottom" width="70%" id="d91517e229">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e234" headers="d91517e226 ">
                                 <p><code class="codeph">APPEND</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e234 d91517e229 ">
                                 <p>Causes new output to be appended to the end of the message log file. If you do not specify this parameter, and if a file with the same name as the message log file exists, then RMAN overwrites it.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e242" headers="d91517e226 ">
                                 <p><code class="codeph">CHECKSYNTAX</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e242 d91517e229 ">
                                 <p>Causes RMAN to start in a mode in which commands entered are checked for syntax errors, but no other processing is performed (see <a href="RMAN.html#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDCGAGH">Example 3-51</a>). If used with a <code class="codeph">CMDFILE</code> or <code class="codeph">@</code> argument, then the RMAN client starts, checks all commands in the file, then exits. If used without specifying a command file, then RMAN prompts the user for input and parses each command until the user exits the RMAN client.
                                 </p>
                                 <p>RMAN reports an <a id="d91517e260" class="indexterm-anchor"></a><a id="d91517e262" class="indexterm-anchor"></a><code class="codeph">RMAN-0558</code> error for each command that is not syntactically correct.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e270" headers="d91517e226 ">
                                 <p><code class="codeph">AUXILIARY</code> <span class="italic"><code class="codeph"><a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e270 d91517e229 ">
                                 <p>Specifies a connect string to an auxiliary database, for example, <code class="codeph">AUXILIARY</code> <code class="codeph">sbu@dupdb</code>.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e299" headers="d91517e226 ">
                                 <p><code class="codeph">CATALOG</code> <span class="italic"><code class="codeph"><a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e299 d91517e229 ">
                                 <p>Specifies a connect string to the database containing the recovery catalog, for example, <code class="codeph">CATALOG</code> <code class="codeph">rco@inst2</code>. 
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e328" headers="d91517e226 ">
                                 <p><code class="codeph">CMDFILE</code> <span class="italic"><code class="codeph">filename</code></span></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e328 d91517e229 ">
                                 <p>Parses and compiles all RMAN commands in a file and then sequentially executes each command in the file. RMAN exits if it encounters a syntax error during the parse phase or if it encounters a runtime error during the execution phase. If no errors are found, then RMAN exits after the job completes.</p>
                                 <p>If the first character of the file name is alphabetic, then you can omit the quotes around the file name. The contents of the command file are identical to commands entered at the RMAN prompt.</p>
                                 <p><span class="bold">Note:</span> If you run a command file at the RMAN prompt rather than as an option on the operating system command line, then RMAN does <span class="italic">not</span> run the file as a single job. RMAN reads each line sequentially and executes it, only exiting when it reaches the last line of the script.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e349" headers="d91517e226 ">
                                 <p><code class="codeph">@</code><span class="italic"><code class="codeph">filename</code></span></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e349 d91517e229 ">
                                 <p>Equivalent to <code class="codeph">CMDFILE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e363" headers="d91517e226 "><code class="codeph">&nbsp;&nbsp;&nbsp;</code><code class="codeph">{</code><span class="italic"><code class="codeph">string_or_identifier</code></span><code class="codeph">&nbsp;&nbsp;&nbsp;| </code><span class="italic"><code class="codeph">integer</code></span><code class="codeph">}</code></td>
                              <td align="left" valign="top" width="70%" headers="d91517e363 d91517e229 ">
                                 <p>Equivalent to options specified after <code class="codeph">USING</code> syntax.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e385" headers="d91517e226 ">
                                 <p><code class="codeph">LOG</code>&nbsp;<span class="italic"><code class="codeph">filename</code></span></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e385 d91517e229 ">
                                 <p>Specifies the file where RMAN records its output, that is, the commands that were processed and their results. RMAN displays command input at the prompt but does not display command output, which is written to the log file. By default RMAN writes its message log file to standard output.</p>
                                 <p>RMAN output is also stored in the <a id="d91517e398" class="indexterm-anchor"></a><a id="d91517e400" class="indexterm-anchor"></a><code class="codeph">V$RMAN_OUTPUT</code> view, which is a memory-only view for jobs in progress, and in <a id="d91517e407" class="indexterm-anchor"></a><a id="d91517e409" class="indexterm-anchor"></a><code class="codeph">V$RMAN_STATUS</code>, which is a control file view for completed jobs and jobs in progress.
                                 </p>
                                 <p>The <code class="codeph">LOG</code> parameter does not cause RMAN to terminate if the specified file cannot be opened. Instead, RMAN writes to standard output.
                                 </p>
                                 <p><span class="bold">Note:</span> The easiest way to send RMAN output both to a log file and to standard output is to use the Linux <a id="d91517e425" class="indexterm-anchor"></a><code class="codeph">tee</code> command or its equivalent. For example:
                                 </p><pre class="oac_no_warn" dir="ltr">% rman | tee rman.log</pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e433" headers="d91517e226 ">
                                 <p><code class="codeph">MSGNO</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e433 d91517e229 ">
                                 <p>Causes RMAN to print message numbers, that is, <code class="codeph">RMAN-</code><span class="italic"><code class="codeph">xxxx</code></span>, for the output of all commands. By default, RMAN does not print the <code class="codeph">RMAN-</code><span class="italic"><code class="codeph">xxxx</code></span> prefix.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e453" headers="d91517e226 ">
                                 <p><code class="codeph">NOCATALOG</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e453 d91517e229 ">
                                 <p>Indicates that you are using RMAN without a recovery catalog. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e461" headers="d91517e226 ">
                                 <p><code class="codeph">SEND</code>&nbsp;<code class="codeph">'</code><span class="italic"><code class="codeph">command</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e461 d91517e229 ">
                                 <p>Sends a vendor-specific command string to all allocated channels. </p>
                                 <p><span class="bold">See Also:</span> Your media management documentation to determine whether this feature is supported, and <code class="codeph"><a href="SEND.html#GUID-4AD68AC8-1A0A-4FDC-90D5-BDA278393D97">SEND</a></code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e486" headers="d91517e226 ">
                                 <p><code class="codeph">PIPE</code>&nbsp;<span class="italic"><code class="codeph">pipe_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e486 d91517e229 ">
                                 <p>Invokes the RMAN pipe interface. RMAN uses two public pipes: one for receiving commands and the other for sending output. The names of the pipes are derived from the value of the <code class="codeph">PIPE</code> parameter. For example, you can invoke the RMAN pipe interface with the following options: <code class="codeph">PIPE rpi TARGET /</code>.
                                 </p>
                                 <p>RMAN opens the following pipes in the target database:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">ORA$RMAN_RPI_IN</code>, which RMAN uses to receive user commands
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">ORA$RMAN_RPI_OUT</code>, which RMAN uses to send all output
                                       </p>
                                    </li>
                                 </ul>
                                 <p>All messages on both the input and output pipes are of type <code class="codeph">VARCHAR2</code>.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../bradv/getting-started-rman.html#BRADV130" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn how to pass commands to RMAN through a pipe
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e532" headers="d91517e226 ">
                                 <p><code class="codeph">SCRIPT</code> <span class="italic"><code class="codeph">script_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e532 d91517e229 ">
                                 <p>Specifies the name of a stored script.</p>
                                 <p>After connecting to a target database and recovery catalog (which must be specified with the <code class="codeph">TARGET</code> and <code class="codeph">CATALOG</code> options), RMAN runs the named stored script from the recovery catalog against the target database. If both a global script and a local stored script exist on the target database with the name <span class="italic"><code class="codeph">script_name</code></span>, then RMAN runs the local script.
                                 </p>
                                 <p>The single quotes around the stored script name are required when the script name either begins with a number or is an RMAN reserved word (see <span class="q">"<a href="about-rman-commands.html#GUID-0EBC8675-D9D1-4E67-AA2A-4991C79E1675" title="The RMAN language contains reserved words, which are or have been used in RMAN commands. In general, avoid using reserved words in ways that conflict with their primary meaning in the RMAN command language.">RMAN Reserved Words</a>"</span>). Avoid using such names.
                                 </p>
                                 <p><span class="bold">See Also:</span> <code class="codeph"><a href="CREATE-SCRIPT.html#GUID-4741C1E1-C365-4597-BF2F-8679145B4946">CREATE SCRIPT</a></code> for more details about stored scripts
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e575" headers="d91517e226 ">
                                 <p><code class="codeph">TARGET</code> <span class="italic"><code class="codeph"><a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e575 d91517e229 ">
                                 <p>Specifies a connect string to the target database, for example, <code class="codeph">TARGET /</code>.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="connectStringSpec.html#GUID-DAA7D54B-1954-4AA3-A423-E1AB9F68A2FD">connectStringSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e601" headers="d91517e226 ">
                                 <p><code class="codeph">TIMEOUT</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e601 d91517e229 ">
                                 <p>Causes RMAN to exit automatically if it does not receive input from an input pipe within <span class="italic"><code class="codeph">integer</code></span> seconds. The <code class="codeph">PIPE</code> parameter must be specified when using <code class="codeph">TIMEOUT</code>.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../bradv/getting-started-rman.html#BRADV130" target="_blank"><span><cite>Oracle Database Backup and Recovery User’s Guide</cite></span></a> to learn how to pass commands to RMAN through a pipe
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d91517e633" headers="d91517e226 ">
                                 <p><code class="codeph">USING</code> <code class="codeph">{</code><span class="italic"><code class="codeph">string_or_identifier</code></span> <code class="codeph">|</code> <span class="italic"><code class="codeph">integer</code></span><code class="codeph">}</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d91517e633 d91517e229 ">
                                 <p>Specifies one or more values for use in substitution variables in a command file. As in SQL*Plus, <code class="codeph">&amp;1</code> indicates where to place the first value, <code class="codeph">&amp;2</code> indicate where to place the second value, and so on. <a href="RMAN.html#GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDIAFGG">Example 3-50</a> illustrates how to pass values specified in a <code class="codeph">USING</code> clause to an RMAN command file.
                                 </p>
                                 <p>The substitution variable syntax is <code class="codeph">&amp;</code><span class="italic"><code class="codeph">integer</code></span> followed by an optional dot, for example, <code class="codeph">&amp;1.3</code>. The optional dot is part of the variable and replaced with the value, thus enabling the substitution text to be immediately followed by another integer. For example, if you pass the value <code class="codeph">mybackup</code> to a command file that contains the substitution variable <code class="codeph">&amp;1.3</code>, then the result of the substitution is <code class="codeph">mybackup3</code>.
                                 </p>
                                 <p><span class="bold">See Also:</span> <code class="codeph"><a href="EXECUTE-SCRIPT.html#GUID-553B5C55-0BA6-4B47-86A9-0BCF839CCE04">EXECUTE SCRIPT</a></code> to learn how to specify the <code class="codeph">USING</code> clause when executing a stored script
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-32FB91F3-B3CC-42EF-A1F2-F1BBDE09CA27">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDIIDEJ">
                  <p class="titleinexample">Example 3-48 Connecting RMAN to a Target Database in Default NOCATALOG Mode</p>
                  <p>In this example, you start the RMAN client without specifying database connection options at the operating system prompt. At the RMAN prompt, you run the <code class="codeph">CONNECT</code> command to connect to a target database. Because <code class="codeph"><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></code><code class="codeph"> CATALOG</code> was not run at the RMAN prompt, RMAN connects in default <code class="codeph">NOCATALOG</code> mode when the first command requiring a repository connection is run, which in this case is the <code class="codeph">BACKUP DATABASE</code> command.
                  </p><pre class="oac_no_warn" dir="ltr">% rman
RMAN&gt; CONNECT TARGET /
RMAN&gt; BACKUP DATABASE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-1FA522DE-A267-443F-86FC-0A9AC3D4D7ED">
                  <p class="titleinexample">Example 3-49 Connecting RMAN to an Auxiliary Database Instance</p>
                  <p>This example connects to target database <code class="codeph">prod</code> and recovery catalog database <code class="codeph">catdb</code> with net service names, and connects to an auxiliary database instance with operating system authentication. <code class="codeph">sbu</code> is a user who is granted the <code class="codeph">SYSBACKUP</code> privilege.
                  </p><pre class="oac_no_warn" dir="ltr">$ <span class="bold">RMAN TARGET "sbu@prod AS SYSBACKUP"</span>
 
Recovery Manager: Release 12.1.0.1.0 - Production on Wed Jan 16 09:29:02 2013
 
Copyright (c) 1982, 2013, Oracle and/or its affiliates.  All rights reserved.
 
target database Password: <span class="italic"><span class="bold">password</span></span>
connected to target database: REL12 (DBID=3152825380)
 
RMAN&gt; <span class="bold">CONNECT CATALOG rco@catdb</span>
 
recovery catalog database Password: <span class="italic"><span class="bold">password</span></span>
connected to recovery catalog database
 
RMAN&gt; <span class="bold">CONNECT AUXILIARY /</span>
 
connected to auxiliary database: REL12 (DBID=3152825380)</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDIAFGG">
                  <p class="titleinexample">Example 3-50 Specifying Substitution Variables</p>
                  <p>Suppose that you want to create a Linux shell script that backs up the database. You want to use shell variables so that you can pass arguments to the RMAN backup script at run time. Substitution variables solve this problem. First, you create a command file named <code class="codeph">whole_db.cmd</code> with the following contents:
                  </p><pre class="oac_no_warn" dir="ltr">cat &gt; /tmp/whole_db.cmd &lt;&lt;EOF
# name: whole_db.cmd
CONNECT TARGET /
BACKUP TAG &amp;1 COPIES &amp;2 DATABASE FORMAT '/disk2/db_%U';
EXIT;
EOF
</pre><p>Next, you write the following Linux shell script, which sets <code class="codeph">csh</code> shell variables <code class="codeph">tagname</code> and <code class="codeph">copies</code>. The shell script starts RMAN, connects to target database <code class="codeph">prod1</code>, and runs <code class="codeph">whole_db.cmd</code>. The <code class="codeph">USING</code> clause passes the values in the variables <code class="codeph">tagname</code> and <code class="codeph">copies</code> to the RMAN command file at execution time.
                  </p><pre class="oac_no_warn" dir="ltr">#!/bin/csh
# name: runbackup.sh
# usage: use the tag name and number of copies as arguments
set tagname = $argv[1]
set copies = $argv[2]
rman @'/tmp/whole_db.cmd' USING $tagname $copies LOG /tmp/runbackup.out
# the preceding line is equivalent to:
# rman @'/tmp/whole_db.cmd' $tagname $copies LOG /tmp/runbackup.out
</pre><p>Finally, you execute the shell script <code class="codeph">runbackup.sh</code> from a Linux shell as follows to create two backups of the database with the tag <code class="codeph">Q106</code>:
                  </p><pre class="oac_no_warn" dir="ltr">% runbackup.sh Q106 2</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__CHDCGAGH">
                  <p class="titleinexample">Example 3-51 Checking the Syntax of a Command File</p>
                  <p>Suppose that you create command file <code class="codeph">backup_db.cmd</code> as follows:
                  </p><pre class="oac_no_warn" dir="ltr">cat &gt; /tmp/backup_db.cmd &lt;&lt;EOF
CONNECT TARGET /
BACKUP DATABASE;
EXIT;
EOF
</pre><p>The following example checks the syntax of the contents of command file <code class="codeph">backup_db.cmd</code> (sample output included):
                  </p><pre class="oac_no_warn" dir="ltr">% rman CHECKSYNTAX @'/tmp/backup_db.cmd'

Recovery Manager: Release 12.1.0.1.0 - Production on Wed Jan 16 17:51:30 2013
 
Copyright (c) 1982, 2013, Oracle and/or its affiliates.  All rights reserved.
 
RMAN&gt; CONNECT TARGET *
2&gt; BACKUP DATABASE;
3&gt; EXIT;
The cmdfile has no syntax errors
 
Recovery Manager complete.</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-D8D18288-98B9-472A-8287-E2183A293AD0">
                  <p class="titleinexample">Example 3-52 Running a Stored Script and Appending Output to a Message Log</p>
                  <p>This example connects to a target database using operating system authentication and then runs stored script <code class="codeph">wdbb</code>. RMAN writes output to message log <code class="codeph">/tmp/wdbb.log</code>.
                  </p><pre class="oac_no_warn" dir="ltr">% rman TARGET / SCRIPT wdbb LOG /tmp/wdbb.log</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-E5514ACB-59F6-4DB0-B4DB-64DF4C87CDE7__GUID-B62D87E4-E420-4DAA-B463-CFFA1BF8A2B6">
                  <p class="titleinexample">Example 3-53 Invoking the RMAN Pipe Interface</p>
                  <p>This example invokes the RMAN pipe <code class="codeph">newpipe</code> with a 90 second timeout option.
                  </p><pre class="oac_no_warn" dir="ltr">% rman PIPE newpipe TARGET / TIMEOUT 90</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>