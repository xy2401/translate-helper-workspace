<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">
      <meta name="description" content="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">
      <title>Managing Resources with Oracle Database Resource Manager</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-automated-database-maintenance-tasks.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-scheduler-concepts.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-automated-database-maintenance-tasks.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-scheduler-concepts.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-resource-management-and-task-scheduling.html" property="item" typeof="WebPage"><span property="name">          Database Resource Management and Task Scheduling</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing Resources with Oracle Database Resource Manager</li>
            </ol>
            <a id="GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" name="GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF"></a><a id="ADMIN027"></a>
            
            <h2 id="ADMIN-GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" class="sect2"><span class="enumeration_chapter">27 </span>Managing Resources with Oracle Database Resource Manager
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.</p>
               <div class="infoboxnote" id="GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF__GUID-C2A82FD4-4FD6-41B8-89BC-C43C0748F622">
                  <p class="notep1">Note:</p>
                  <p>This chapter discusses using PL/SQL package procedures to administer the Resource Manager. An easier way to administer the Resource Manager is with the graphical user interface of Oracle Enterprise Manager Cloud Control (Cloud Control). For instructions about administering Resource Manager with Cloud Control, see the Cloud Control online help.</p>
                  <p>To use Resource Manager with Cloud Control:</p>
                  <ol>
                     <li>
                        <p>Access the Database Home Page. </p>
                     </li>
                     <li>
                        <p>From the Administration menu, select <span class="bold">Resource Manager</span>.
                        </p>
                     </li>
                  </ol>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248">About Oracle Database Resource Manager</a><br>Oracle Database Resource Manager (the Resource Manager) enables you to manage multiple workloads within a database that are contending for system and database resources.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5">Assigning Sessions to Resource Consumer Groups</a><br>There are automatic and manual methods that database administrators, users, and applications can use to assign sessions to resource consumer groups. When a session is assigned to a resource consumer group, Oracle Database Resource Manager (the Resource Manager) can manage resource allocation for it.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9">The Types of Resources Managed by the Resource Manager</a><br>Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB">Creating a Simple Resource Plan</a><br>You can quickly create a simple resource plan that is adequate for many situations using the <code class="codeph">CREATE_SIMPLE_PLAN</code> procedure.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683">Creating a Complex Resource Plan</a><br>When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E8FABE8D-A781-49BB-B623-98F096DED239">Enabling Oracle Database Resource Manager and Switching Plans</a><br>You enable Oracle Database Resource Manager (the Resource Manager) by setting the <code class="codeph">RESOURCE_MANAGER_PLAN</code> initialization parameter. This parameter specifies the top plan, identifying the plan to be used for the current instance. If no plan is specified with this parameter, the Resource Manager is not enabled.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F">Putting It All Together: Oracle Database Resource Manager Examples</a><br>Examples illustrate how to allocate resources with Resource Manager.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD">Managing Multiple Database Instances on a Single Server</a><br>Oracle Database provides a method for managing CPU allocations on a multi-CPU server running multiple database instances. This method is called instance caging. Instance caging and Oracle Database Resource Manager (the Resource Manager) work together to support desired levels of service across multiple instances.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408">Maintaining Consumer Groups, Plans, and Directives</a><br>You can maintain consumer groups, resource plans, and resource plan directives for Oracle Database Resource Manager (the Resource Manager). You perform maintenance tasks using the <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package. 
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301">Viewing Database Resource Manager Configuration and Status</a><br>You can use several static data dictionary views and dynamic performance views to view the current configuration and status of Oracle Database Resource Manager (the Resource Manager).
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0">Monitoring Oracle Database Resource Manager</a><br>A set of dynamic performance views enable you to monitor the results of your Oracle Database Resource Manager settings.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC">Interacting with Operating-System Resource Control</a><br>Many operating systems provide tools for resource management. These tools often contain "workload manager" or "resource manager" in their names, and are intended to allow multiple applications to share the resources of a single server, using an administrator-defined policy. Examples are Hewlett Packard's Process Resource Manager or Solaris Containers, Zones, and Resource Pools.
                  </li>
                  <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9C21E4B3-E708-4A42-8683-12F4434962CC">Oracle Database Resource Manager Reference</a><br>Resource Manager includes predefined resource plans, consumer groups, and consumer groups mapping rules. You can query data dictionary views for information about your Resource Manager configuration.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="database-resource-management-and-task-scheduling.html#GUID-50F0AB88-007D-4A11-BCBC-78AE0367F8FD" title="You can manage automated database maintenance tasks, database resources, and task scheduling.">Database Resource Management and Task Scheduling</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11841"></a><div class="props_rev_3"><a id="GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" name="GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248"></a><h3 id="ADMIN-GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" class="sect3"><span class="enumeration_section">27.1 </span>About Oracle Database Resource Manager
               </h3>
               <p>Oracle Database Resource Manager (the Resource Manager) enables you to manage multiple workloads within a database that are contending for system and database resources.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB">What Solutions Does the Resource Manager Provide for Workload Management?</a><br>Resource Manager allows the database to have more control over how hardware resources are allocated.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4">The Elements of Resource Manager</a><br>Resource Manager includes several elements that you can manage.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D">About Resource Manager Administration Privileges</a><br>You must have the required privileges to administer the Resource Manager.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11842"></a><div class="props_rev_3"><a id="GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB" name="GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB"></a><h4 id="ADMIN-GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB" class="sect4"><span class="enumeration_section">27.1.1 </span>What Solutions Does the Resource Manager Provide for Workload Management?
                  </h4>
                  <div>
                     <p>Resource Manager allows the database to have more control over how hardware resources are allocated.</p>
                     <p>When database resource allocation decisions are left to the operating system, you may encounter the following problems with workload management:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Excessive overhead</p>
                           <p>Excessive overhead results from operating system context switching between Oracle Database server processes when the number of server processes is high.</p>
                        </li>
                        <li>
                           <p>Inefficient scheduling</p>
                           <p>The operating system deschedules database servers while they hold latches, which is inefficient.</p>
                        </li>
                        <li>
                           <p>Inappropriate allocation of resources</p>
                           <p>The operating system distributes resources equally among all active processes and cannot prioritize one task over another.</p>
                        </li>
                        <li>
                           <p>Inability to manage database-specific resources, such as parallel execution servers and active sessions</p>
                        </li>
                     </ul>
                     <p>The Resource Manager helps to overcome these problems by allowing the database more control over how hardware resources are allocated. In an environment with multiple concurrent user sessions that run jobs with differing priorities, all sessions should not be treated equally. The Resource Manager enables you to classify sessions into groups based on session attributes, and to then allocate resources to those groups in a way that optimizes hardware utilization for your application environment.</p>
                     <p>With the Resource Manager, you can:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Guarantee certain sessions a minimum amount of CPU regardless of the load on the system and the number of users.</p>
                        </li>
                        <li>
                           <p>Distribute available CPU by allocating percentages of CPU time to different users and applications. In a data warehouse, a higher percentage can be given to ROLAP (relational online analytical processing) applications than to batch jobs.</p>
                        </li>
                        <li>
                           <p>Limit the degree of parallelism of any operation performed by members of a group of users.</p>
                        </li>
                        <li>
                           <p>Manage the order of parallel statements in the parallel statement queue. Parallel statements from a critical application can be enqueued ahead of parallel statements from a low priority group of users.</p>
                        </li>
                        <li>
                           <p>Limit the number of parallel execution servers that a group of users can use. This ensures that all the available parallel execution servers are not allocated to only one group of users.</p>
                        </li>
                        <li>
                           <p>Create an active session pool. An <span class="italic">active session pool</span> consists of a specified maximum number of user sessions allowed to be concurrently active within a group of users. Additional sessions beyond the maximum are queued for execution, but you can specify a timeout period, after which queued jobs will terminate. The active session pool limits the total number of sessions actively competing for resources, thereby enabling active sessions to make faster progress.
                           </p>
                        </li>
                        <li>
                           <p>Monitor resources</p>
                           <p>Automatically record statistics about resource usage. You can examine these statistics using real-time SQL monitoring and the Resource Manager dynamic performance views (the <code class="codeph">V$RSRC_*</code> views). See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0" title="A set of dynamic performance views enable you to monitor the results of your Oracle Database Resource Manager settings.">Monitoring Oracle Database Resource Manager</a>"</span> for information about using real-time SQL monitoring and the Resource Manager dynamic performance views.
                           </p>
                        </li>
                        <li>
                           <p>Limit the amount of PGA memory used by each session that belongs to a group of users. </p>
                        </li>
                        <li>
                           <p>Manage runaway sessions or calls in the following ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>By detecting when a session or call consumes more than a specified amount of CPU, physical I/O, logical I/O, or elapsed time, and then automatically either terminating the session or call, or switching to a consumer group with a lower resource allocation or a limit on the percentage of CPU that the group can use. The SQL statements that are terminated due to their excessive consumption of system resources are <span class="italic">quarantined</span>, that is, they are not allowed to run again by generating compilation errors during their subsequent runs.
                                 </p>
                                 <p>A logical I/O, also known as a buffer I/O, refers to reads and writes of buffers in the buffer cache. When a requested buffer is not found in memory, the database performs a physical I/O to copy the buffer from either disk or the flash cache into memory, and then a logical I/O to read the cached buffer.</p>
                              </li>
                              <li>
                                 <p>By recording detailed information about SQL statements that consume more than a specified amount of CPU, physical I/O, logical I/O, or elapsed time with real-time SQL monitoring.</p>
                              </li>
                              <li>
                                 <p>By using the Automatic Workload Repository (AWR) to analyze a persistent record of SQL statements that consume more than a specified amount of CPU, physical I/O, logical I/O, or elapsed time.</p>
                              </li>
                              <li>
                                 <p>By logging information about a runaway session without taking any other action related to the session.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Prevent the execution of operations that the optimizer estimates will run for a longer time than a specified limit.</p>
                        </li>
                        <li>
                           <p>Limit the amount of time that a session can be idle. This can be further defined to mean only sessions that are blocking other sessions.</p>
                        </li>
                        <li>
                           <p>Allow a database to use different resource plans, based on changing workload requirements. You can dynamically change the resource plan, for example, from a daytime resource plan to a nighttime resource plan, without having to shut down and restart the instance. You can also schedule a resource plan change with Oracle Scheduler. See <a href="oracle-scheduler-concepts.html#GUID-6B8C0335-D36B-44D3-95BC-82FA2141D967" title="You can schedule tasks with Oracle Scheduler."> Oracle Scheduler Concepts</a> for more information.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" title="Oracle Database Resource Manager (the Resource Manager) enables you to manage multiple workloads within a database that are contending for system and database resources.">About Oracle Database Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" name="GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4"></a><h4 id="ADMIN-GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" class="sect4"><span class="enumeration_section">27.1.2 </span>The Elements of Resource Manager
                  </h4>
                  <p>Resource Manager includes several elements that you can manage.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0">About the Elements of Resource Manager</a><br>The elements of the Resource Manager include resource consumer groups, resource plans, and resource plan directives.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CCAD3AA4-9606-4445-A659-286B04F19993">About Resource Consumer Groups</a><br>A resource consumer group (consumer group) is a collection of user sessions that are grouped together based on their processing needs.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-81609C3A-1D20-4740-9531-BEACC26F7ABB">About Resource Plan Directives</a><br>The Resource Manager allocates resources to consumer groups according to the set of resource plan directives (directives) that belong to the currently active resource plan.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315">About Resource Plans</a><br>A resource plan is a container for directives that specify how resources are allocated to resource consumer groups.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E">Example: A Simple Resource Plan</a><br>An example illustrates a simple resource plan.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-643C6A11-7721-4D75-AE88-65CF5AFAF6A4">About Subplans</a><br>Instead of referencing a consumer group, a resource plan directive (directive) can reference another resource plan. In this case, the plan is referred to as a subplan.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA">Example: A Resource Plan with Subplans</a><br>An example illustrates a resource plan with subplans.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" title="Oracle Database Resource Manager (the Resource Manager) enables you to manage multiple workloads within a database that are contending for system and database resources.">About Oracle Database Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11844"></a><div class="props_rev_3"><a id="GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0" name="GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0"></a><h5 id="ADMIN-GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0" class="sect5"><span class="enumeration_section">27.1.2.1 </span>About the Elements of Resource Manager
                     </h5>
                     <div>
                        <p>The elements of the Resource Manager include resource consumer groups, resource plans, and resource plan directives.</p>
                        <div class="tblformal" id="GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0__GUID-56087E65-7BDF-4D3B-BD78-C7A1F82E29CD">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the elements of database resource management, column 2 describes each element." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d241756e516">Element</th>
                                    <th align="left" valign="bottom" width="76%" id="d241756e519">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d241756e524" headers="d241756e516 ">
                                       <p>Resource consumer group</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d241756e524 d241756e519 ">
                                       <p>A group of sessions that are grouped together based on resource requirements. The Resource Manager allocates resources to resource consumer groups, not to individual sessions.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d241756e531" headers="d241756e516 ">
                                       <p>Resource plan</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d241756e531 d241756e519 ">
                                       <p>A container for directives that specify how resources are allocated to resource consumer groups. You specify how the database allocates resources by activating a specific resource plan.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d241756e538" headers="d241756e516 ">
                                       <p>Resource plan directive</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d241756e538 d241756e519 ">
                                       <p>Associates a resource consumer group with a particular plan and specifies how resources are to be allocated to that resource consumer group.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>You use the <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package to create and maintain these elements. The elements are stored in tables in the data dictionary. You can view information about them with data dictionary views.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0__GUID-817AC9D3-9D3D-46C9-A0B2-FE4297BD2E2C">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0" title="You can query a set of data dictionary views for information relating to database resource management.">Resource Manager Data Dictionary Views</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="Resource Manager includes several elements that you can manage.">The Elements of Resource Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11845"></a><div class="props_rev_3"><a id="GUID-CCAD3AA4-9606-4445-A659-286B04F19993" name="GUID-CCAD3AA4-9606-4445-A659-286B04F19993"></a><h5 id="ADMIN-GUID-CCAD3AA4-9606-4445-A659-286B04F19993" class="sect5"><span class="enumeration_section">27.1.2.2 </span>About Resource Consumer Groups
                     </h5>
                     <div>
                        <p>A resource consumer group (consumer group) is a collection of user sessions that are grouped together based on their processing needs.</p>
                        <p>When a session is created, it is automatically mapped to a consumer group based on mapping rules that you set up. As a database administrator (DBA), you can manually switch a session to a different consumer group. Similarly, an application can run a PL/SQL package procedure that switches its session to a particular consumer group.</p>
                        <p>Because the Resource Manager allocates resources (such as CPU) only to consumer groups, when a session becomes a member of a consumer group, its resource allocation is determined by the allocation for the consumer group.</p>
                        <p>There are special consumer groups that are always present in the data dictionary. They cannot be modified or deleted. They are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">SYS_GROUP</code></p>
                              <p>This is the initial consumer group for all sessions created by user accounts <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code>. This initial consumer group can be overridden by session-to-consumer group mapping rules.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OTHER_GROUPS</code> 
                              </p>
                              <p>This consumer group contains all sessions that have not been assigned to a consumer group. Every resource plan must contain a directive to <code class="codeph">OTHER_GROUPS</code>.
                              </p>
                           </li>
                        </ul>
                        <p>There can be no more than 28 resource consumer groups in any active plan. </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-CCAD3AA4-9606-4445-A659-286B04F19993__GUID-D68FD3FB-6281-461D-A50C-1D16B0A3CFB1">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDJAJHE" title="This table has two columns: Resource Consumer Group and Description.">Table 27-6</a></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="You can create and prioritize session-to-consumer group mapping rules.">Specifying Session-to-Consumer Group Mapping Rules</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="Resource Manager includes several elements that you can manage.">The Elements of Resource Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11846"></a><div class="props_rev_3"><a id="GUID-81609C3A-1D20-4740-9531-BEACC26F7ABB" name="GUID-81609C3A-1D20-4740-9531-BEACC26F7ABB"></a><h5 id="ADMIN-GUID-81609C3A-1D20-4740-9531-BEACC26F7ABB" class="sect5"><span class="enumeration_section">27.1.2.3 </span>About Resource Plan Directives
                     </h5>
                     <div>
                        <p>The Resource Manager allocates resources to consumer groups according to the set of resource plan directives (directives) that belong to the currently active resource plan.</p>
                        <p>There is a parent-child relationship between a resource plan and its resource plan directives. Each directive references one consumer group, and no two directives for the currently active plan can reference the same consumer group.</p>
                        <p>A directive has several ways in which it can limit resource allocation for a consumer group. For example, it can control how much CPU the consumer group gets as a percentage of total CPU, and it can limit the total number of sessions that can be active in the consumer group. See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.">The Types of Resources Managed by the Resource Manager</a>"</span> for more information.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="Resource Manager includes several elements that you can manage.">The Elements of Resource Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11847"></a><div class="props_rev_3"><a id="GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315" name="GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315"></a><h5 id="ADMIN-GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315" class="sect5"><span class="enumeration_section">27.1.2.4 </span>About Resource Plans
                     </h5>
                     <div>
                        <p>A resource plan is a container for directives that specify how resources are allocated to resource consumer groups.</p>
                        <p>In addition to the resource plans that are predefined for each Oracle database, you can create any number of resource plans. However, only one resource plan is active at a time. When a resource plan is active, each of its child resource plan directives controls resource allocation for a different consumer group. Each plan must include a directive that allocates resources to the consumer group named <code class="codeph">OTHER_GROUPS</code>. <code class="codeph">OTHER_GROUPS</code> applies to all sessions that belong to a consumer group that is not part of the currently active plan.
                        </p>
                        <div class="infoboxnote" id="GUID-C3D85280-C0E9-4D6D-8A83-FE9FD74E8315__GUID-2E3FEDE2-6714-4861-8DCD-A01D03DD7BDA">
                           <p class="notep1">Note:</p>
                           <p>Although the term "resource plan" (or just "plan") denotes one element of the Resource Manager, in this chapter it is also used to refer to a complete <span class="italic">resource plan schema</span>, which includes the resource plan element itself, its resource plan directives, and the consumer groups that the directives reference. For example, when this chapter refers to the <code class="codeph">DAYTIME</code> resource plan, it could mean either the resource plan element named <code class="codeph">DAYTIME</code>, or the particular resource allocation schema that the <code class="codeph">DAYTIME</code> resource plan and its directives define. Thus, for brevity, it is acceptable to say, "the <code class="codeph">DAYTIME</code> plan favors interactive applications over batch applications."
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="Resource Manager includes several elements that you can manage.">The Elements of Resource Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13073"></a><a id="ADMIN11848"></a><div class="props_rev_3"><a id="GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E" name="GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E"></a><h5 id="ADMIN-GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E" class="sect5"><span class="enumeration_section">27.1.2.5 </span>Example: A Simple Resource Plan
                     </h5>
                     <div>
                        <p>An example illustrates a simple resource plan.</p>
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E__i1007657">Figure 27-1</a> shows a simple resource plan for an organization that runs online transaction processing (OLTP) applications and reporting applications simultaneously during the daytime. The currently active plan, <code class="codeph">DAYTIME</code>, allocates CPU resources among three resource consumer groups. Specifically, <code class="codeph">OLTP</code> is allotted 75% of the CPU time, <code class="codeph">REPORTS</code> is allotted 15%, and <code class="codeph">OTHER_GROUPS</code> receives the remaining 10%. Any group can use more resources than it is guaranteed if there is no resource contention. For example, <code class="codeph">OLTP</code> is guaranteed 75% of the CPU, but if there is no resource contention, it can use up to 100% of the CPU.
                        </p>
                        <div class="figure" id="GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E__i1007657">
                           <p class="titleinfigure">Figure 27-1 A Simple Resource Plan</p><img src="img/admin078.gif" width="343" alt="Description of Figure 27-1 follows" title="Description of Figure 27-1 follows" longdesc="img_text/admin078.html"><br><a href="img_text/admin078.html">Description of "Figure 27-1 A Simple Resource Plan"</a></div>
                        <!-- class="figure" -->
                        <p>Oracle Database provides a procedure (<code class="codeph">CREATE_SIMPLE_PLAN</code>) that enables you to quickly create a simple resource plan. This procedure is discussed in <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB" title="You can quickly create a simple resource plan that is adequate for many situations using the CREATE_SIMPLE_PLAN procedure.">Creating a Simple Resource Plan </a>"</span>.
                        </p>
                        <div class="infoboxnote" id="GUID-5C8292FD-3819-45EF-BDD0-1EBB9387255E__GUID-75056E33-81FE-4F9B-8FD2-752EE19F4EB4">
                           <p class="notep1">Note:</p>
                           <p>The currently active resource plan does not enforce allocations until CPU usage is at 100%. If the CPU usage is below 100%, the database is not CPU-bound and hence there is no need to enforce allocations to ensure that all sessions get their designated resource allocation.</p>
                           <p>In addition, when allocations are enforced, unused allocation by any consumer group can be used by other consumer groups. In the previous example, if the <code class="codeph">OLTP</code> group does not use all of its allocation, the Resource Manager permits the <code class="codeph">REPORTS</code> group or <code class="codeph">OTHER_GROUPS</code> group to use the unused allocation.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="Resource Manager includes several elements that you can manage.">The Elements of Resource Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11849"></a><div class="props_rev_3"><a id="GUID-643C6A11-7721-4D75-AE88-65CF5AFAF6A4" name="GUID-643C6A11-7721-4D75-AE88-65CF5AFAF6A4"></a><h5 id="ADMIN-GUID-643C6A11-7721-4D75-AE88-65CF5AFAF6A4" class="sect5"><span class="enumeration_section">27.1.2.6 </span>About Subplans
                     </h5>
                     <div>
                        <p>Instead of referencing a consumer group, a resource plan directive (directive) can reference another resource plan. In this case, the plan is referred to as a subplan.</p>
                        <p>The subplan itself has directives that allocate resources to consumer groups and other subplans. The resource allocation scheme then works like this: The <span class="italic">top</span> resource plan (the currently active plan) divides resources among consumer groups and subplans. Each subplan allocates its portion of the total resource allocation among its consumer groups and subplans. You can create hierarchical plans with any number of subplans.
                        </p>
                        <p>You create a resource subplan in the same way that you create a resource plan. To create a plan that is to be used only as a subplan, you use the <code class="codeph">SUB_PLAN</code> argument in the package procedure <code class="codeph">DBMS_RESOURCE_MANAGER.CREATE_PLAN</code>.
                        </p>
                        <p>In any top level plan, you can reference a subplan only once. A subplan is not required to have a directive to <code class="codeph">OTHER_GROUPS</code> and cannot be set as a resource plan.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="Resource Manager includes several elements that you can manage.">The Elements of Resource Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13074"></a><a id="ADMIN11850"></a><div class="props_rev_3"><a id="GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA" name="GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA"></a><h5 id="ADMIN-GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA" class="sect5"><span class="enumeration_section">27.1.2.7 </span>Example: A Resource Plan with Subplans
                     </h5>
                     <div>
                        <p>An example illustrates a resource plan with subplans.</p>
                        <p>In this example, the Great Bread Company allocates the CPU resource as shown in <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA__i1007676">Figure 27-2</a>. The figure illustrates a top plan<a id="d241756e931" class="indexterm-anchor"></a><a id="d241756e935" class="indexterm-anchor"></a> (<code class="codeph">GREAT_BREAD</code>) and all of its descendents. For simplicity, the requirement to include the <code class="codeph">OTHER_GROUPS</code> consumer group is ignored, and resource plan directives are not shown, even though they are part of the plan. Rather, the CPU percentages that the directives allocate are shown along the connecting lines between plans, subplans, and consumer groups.
                        </p>
                        <div class="figure" id="GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA__i1007676">
                           <p class="titleinfigure">Figure 27-2 A Resource Plan With Subplans</p><img src="img/admin027.gif" width="365" alt="Description of Figure 27-2 follows" title="Description of Figure 27-2 follows" longdesc="img_text/admin027.html"><br><a href="img_text/admin027.html">Description of "Figure 27-2 A Resource Plan With Subplans"</a></div>
                        <!-- class="figure" -->
                        <p>The <code class="codeph">GREAT_BREAD</code> plan allocates resources as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>20% of CPU resources to the consumer group <code class="codeph">MARKET</code></p>
                           </li>
                           <li>
                              <p>60% of CPU resources to subplan <code class="codeph">SALES_TEAM</code>, which in turn divides its share equally between the <code class="codeph">WHOLESALE</code> and <code class="codeph">RETAIL</code> consumer groups
                              </p>
                           </li>
                           <li>
                              <p>20% of CPU resources to subplan <code class="codeph">DEVELOP_TEAM</code>, which in turn divides its resources equally between the <code class="codeph">BREAD</code> and <code class="codeph">MUFFIN</code> consumer groups
                              </p>
                           </li>
                        </ul>
                        <p>It is possible for a subplan or consumer group to have multiple parents. An example would be if the <code class="codeph">MARKET</code> group were included in the <code class="codeph">SALES_TEAM</code> subplan. However, a plan cannot contain any loops. For example, the <code class="codeph">SALES_TEAM</code> subplan cannot have a directive that references the <code class="codeph">GREAT_BREAD</code> plan.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6A6B04CE-6AC0-44C6-81B1-0D1CCFDB64BA__GUID-7B481347-20E8-43F2-9DEE-3EEAC6CBEB9A">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">Putting It All Together: Oracle Database Resource Manager Examples</a>"</span> for an example of a more complex resource plan.
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-04B4805A-A3B4-4B1E-B42D-01BAB4D4ECB4" title="Resource Manager includes several elements that you can manage.">The Elements of Resource Manager</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11860"></a><div class="props_rev_3"><a id="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D" name="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D"></a><h4 id="ADMIN-GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D" class="sect4"><span class="enumeration_section">27.1.3 </span>About Resource Manager Administration Privileges
                  </h4>
                  <div>
                     <p>You must have the required privileges to administer the Resource Manager.</p>
                     <p>You must have the system privilege <code class="codeph">ADMINISTER_RESOURCE_MANAGER</code> to administer the Resource Manager. This privilege (with the <code class="codeph">ADMIN</code> option) is granted to database administrators through the <code class="codeph">DBA</code> role.
                     </p>
                     <p>Being an administrator for the Resource Manager enables you to execute all of the procedures in the <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package.
                     </p>
                     <p>You may, as an administrator with the <code class="codeph">ADMIN</code> option, choose to grant the administrative privilege to other users or roles. To do so, use the <code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code> PL/SQL package. The relevant package procedures are listed in the following table.
                     </p>
                     <div class="tblformal" id="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D__GUID-7DBA2F7A-276C-433A-B6EB-63B056588835">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the procedures of the DBMS_RESOURCE_MANAGER_PRIVS package, column 2 describes the function of each procedure." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d241756e1113">Procedure</th>
                                 <th align="left" valign="bottom" width="60%" id="d241756e1116">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d241756e1121" headers="d241756e1113 ">
                                    <p><code class="codeph">GRANT_SYSTEM_PRIVILEGE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d241756e1121 d241756e1116 ">
                                    <p>Grants the <code class="codeph">ADMINISTER_RESOURCE_MANAGER</code> system privilege to a user or role.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d241756e1133" headers="d241756e1113 ">
                                    <p><code class="codeph">REVOKE_SYSTEM_PRIVILEGE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="60%" headers="d241756e1133 d241756e1116 ">
                                    <p>Revokes the <code class="codeph">ADMINISTER_RESOURCE_MANAGER</code> system privilege from a user or role.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The following PL/SQL block grants the administrative privilege to user <code class="codeph">HR</code>, but does not grant <code class="codeph">HR</code> the <code class="codeph">ADMIN</code> option. Therefore, <code class="codeph">HR</code> can execute all of the procedures in the <code class="codeph">DBMS_RESOURCE_MANAGER</code> package, but <code class="codeph">HR</code> cannot use the <code class="codeph">GRANT_SYSTEM_PRIVILEGE</code> procedure to grant the administrative privilege to others.
                     </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER_PRIVS.GRANT_SYSTEM_PRIVILEGE(
   GRANTEE_NAME   =&gt; 'HR',
   PRIVILEGE_NAME =&gt; 'ADMINISTER_RESOURCE_MANAGER',
   ADMIN_OPTION   =&gt; FALSE);
END;
/
</pre><p>You can revoke this privilege using the <code class="codeph">REVOKE_SYSTEM_PRVILEGE</code> procedure.
                     </p>
                     <div class="infoboxnote" id="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D__GUID-2DD32884-3596-4C95-9F36-FB2504025968">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">ADMINISTER_RESOURCE_MANAGER</code> system privilege can only be granted or revoked using the <code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code> package. It cannot be granted or revoked through the SQL <code class="codeph">GRANT</code> or <code class="codeph">REVOKE</code> statements.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1A627E9A-0138-4DA8-B2E3-E98D3C4AA65D__GUID-8477BE1A-20FF-4498-B739-BBF27008AF14">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic"> Oracle Database PL/SQL Packages and Types Reference.</span></a> for information about the <code class="codeph">DBMS_RESOURCE_MANAGER</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_RESOURCE_MANAGER_PRIVS.html#ARPLS051" target="_blank"><span class="italic"> Oracle Database PL/SQL Packages and Types Reference.</span></a> for information about the <code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG99948" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for information about the <code class="codeph">ADMIN</code> option
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-95F635A7-A241-4C11-8E0A-F04BEFD18248" title="Oracle Database Resource Manager (the Resource Manager) enables you to manage multiple workloads within a database that are contending for system and database resources.">About Oracle Database Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11873"></a><div class="props_rev_3"><a id="GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" name="GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5"></a><h3 id="ADMIN-GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" class="sect3"><span class="enumeration_section">27.2 </span>Assigning Sessions to Resource Consumer Groups
               </h3>
               <div>
                  <p>There are automatic and manual methods that database administrators, users, and applications can use to assign sessions to resource consumer groups. When a session is assigned to a resource consumer group, Oracle Database Resource Manager (the Resource Manager) can manage resource allocation for it.</p>
                  <p></p>
                  <div class="infoboxnote" id="GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5__GUID-6FB959A8-E0AE-4547-A176-A8B7C6E1F12D">
                     <p class="notep1">Note:</p>
                     <p>Sessions that are not assigned to a consumer group are placed in the consumer group <code class="codeph">OTHER_GROUPS</code>.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDB21596-5CE3-4202-AC45-452A28AC4E27">Overview of Assigning Sessions to Resource Consumer Groups</a><br>Before you enable the Resource Manager, you must specify how user sessions are assigned to resource consumer groups.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005">Assigning an Initial Resource Consumer Group</a><br>The initial consumer group of a session is determined by the mapping rules that you configure.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042">Specifying Session-to-Consumer Group Mapping Rules</a><br>You can create and prioritize session-to-consumer group mapping rules.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E">Switching Resource Consumer Groups</a><br>You can  switch the resource consumer group of a session.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920">Specifying Automatic Consumer Group Switching</a><br>You can configure the Resource Manager to automatically switch a session to another consumer group when a certain condition is met.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-754D0522-EBBE-40D5-8247-39278A965653">Granting and Revoking the Switch Privilege</a><br>A user or application must have the switch privilege to switch a session to a specified resource consumer group.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11874"></a><div class="props_rev_3"><a id="GUID-CDB21596-5CE3-4202-AC45-452A28AC4E27" name="GUID-CDB21596-5CE3-4202-AC45-452A28AC4E27"></a><h4 id="ADMIN-GUID-CDB21596-5CE3-4202-AC45-452A28AC4E27" class="sect4"><span class="enumeration_section">27.2.1 </span>Overview of Assigning Sessions to Resource Consumer Groups
                  </h4>
                  <div>
                     <p>Before you enable the Resource Manager, you must specify how user sessions are assigned to resource consumer groups.</p>
                     <p>You do this by creating <span class="italic">mapping rules</span> that enable the Resource Manager to automatically assign each session to a consumer group upon session startup, based upon session attributes. After a session is assigned to its initial consumer group and is running, you can call a procedure to manually switch the session to a different consumer group. You would typically do this if the session is using excessive resources and must be moved to a consumer group that is more limited in its resource allocation. You can also grant the <span class="italic">switch privilege</span> to users and to applications so that they can switch their sessions from one consumer group to another.
                     </p>
                     <p>The database can also automatically switch a session from one consumer group to another (typically lower priority) consumer group when there are changes in session attributes or when a session exceeds designated resource consumption limits.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="There are automatic and manual methods that database administrators, users, and applications can use to assign sessions to resource consumer groups. When a session is assigned to a resource consumer group, Oracle Database Resource Manager (the Resource Manager) can manage resource allocation for it.">Assigning Sessions to Resource Consumer Groups</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11875"></a><div class="props_rev_3"><a id="GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005" name="GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005"></a><h4 id="ADMIN-GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005" class="sect4"><span class="enumeration_section">27.2.2 </span>Assigning an Initial Resource Consumer Group
                  </h4>
                  <div>
                     <p>The initial consumer group of a session is determined by the mapping rules that you configure.</p>
                     <p>For information on how to configure mapping rules, see <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="You can create and prioritize session-to-consumer group mapping rules.">Specifying Session-to-Consumer Group Mapping Rules</a>"</span>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="There are automatic and manual methods that database administrators, users, and applications can use to assign sessions to resource consumer groups. When a session is assigned to a resource consumer group, Oracle Database Resource Manager (the Resource Manager) can manage resource allocation for it.">Assigning Sessions to Resource Consumer Groups</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11882"></a><div class="props_rev_3"><a id="GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" name="GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042"></a><h4 id="ADMIN-GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" class="sect4"><span class="enumeration_section">27.2.3 </span>Specifying Session-to-Consumer Group Mapping Rules
                  </h4>
                  <p>You can create and prioritize session-to-consumer group mapping rules.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-97B6E140-A204-495F-B826-6F0784150786">About Session-to-Consumer Group Mapping Rules</a><br>You can specify the initial consumer group for a session and dynamically switch the session to a different consumer group if the session attributes change.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E">Creating Consumer Group Mapping Rules</a><br>You use the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure to map a session attribute/value pair to a consumer group.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D86D68E2-CC5A-4846-AB5B-1C326A7794E5">Modifying and Deleting Consumer Group Mapping Rules</a><br>To modify a consumer group mapping rule, run the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure against the desired attribute/value pair, specifying a new consumer group.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-38701F35-5B52-475F-9C41-09DA5079AA4D">Creating Mapping Rule Priorities</a><br>To resolve conflicting mapping rules, you can establish a priority ordering of the session attributes from most important to least important.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="There are automatic and manual methods that database administrators, users, and applications can use to assign sessions to resource consumer groups. When a session is assigned to a resource consumer group, Oracle Database Resource Manager (the Resource Manager) can manage resource allocation for it.">Assigning Sessions to Resource Consumer Groups</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13325"></a><a id="ADMIN11883"></a><div class="props_rev_3"><a id="GUID-97B6E140-A204-495F-B826-6F0784150786" name="GUID-97B6E140-A204-495F-B826-6F0784150786"></a><h5 id="ADMIN-GUID-97B6E140-A204-495F-B826-6F0784150786" class="sect5"><span class="enumeration_section">27.2.3.1 </span>About Session-to-Consumer Group Mapping Rules
                     </h5>
                     <div>
                        <p>You can specify the initial consumer group for a session and dynamically switch the session to a different consumer group if the session attributes change.</p>
                        <p>By creating session-to-consumer group mapping rules, you can:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Specify the initial consumer group for a session based on session attributes.</p>
                           </li>
                           <li>
                              <p>Enable the Resource Manager to dynamically switch a running session to another consumer group based on changing session attributes.</p>
                           </li>
                        </ul>
                        <p>The mapping rules are based on session attributes such as the user name, the service that the session used to connect to the database, or the name of the client program.</p>
                        <p>To resolve conflicts among mapping rules, the Resource Manager orders the rules by priority. For example, suppose user <code class="codeph">SCOTT</code> connects to the database with the <code class="codeph">SALES</code> service. If one mapping rule states that user <code class="codeph">SCOTT</code> starts in the <code class="codeph">MED_PRIORITY</code> consumer group, and another states that sessions that connect with the <code class="codeph">SALES</code> service start in the <code class="codeph">HIGH_PRIORITY</code> consumer group, mapping rule priorities resolve this conflict.
                        </p>
                        <p>There are two types of session attributes upon which mapping rules are based: login attributes and run-time attributes. The login attributes are meaningful only at session login time, when the Resource Manager determines the initial consumer group of the session. Run-time attributes apply any time during and after session login. You can reassign a logged in session to another consumer group by changing any of its run-time attributes.</p>
                        <p>You use the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> and <code class="codeph">SET_CONSUMER_GROUP_MAPPING_PRI</code> procedures to configure the automatic assignment of sessions to consumer groups. You must use a pending area for these procedures. (You must create the pending area, run the procedures, optionally validate the pending area, and then submit the pending area. For examples of using the pending area, see <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a>"</span>.)
                        </p>
                        <p>A session is automatically switched to a consumer group through mapping rules at distinct points in time:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When the session first logs in, the mapping rules are evaluated to determine the initial group of the session.</p>
                           </li>
                           <li>
                              <p>If a session attribute is dynamically changed to a new value (which is only possible for run-time attributes), then the mapping rules are reevaluated, and the session might be switched to another consumer group.</p>
                           </li>
                        </ul>
                        <div class="section">
                           <p class="subhead3" id="GUID-97B6E140-A204-495F-B826-6F0784150786__GUID-C724504C-D54F-4E90-A177-202D7EF06615">Predefined Consumer Group Mapping Rules</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Each Oracle database comes with a set of predefined consumer group mapping rules:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>As described in <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CCAD3AA4-9606-4445-A659-286B04F19993" title="A resource consumer group (consumer group) is a collection of user sessions that are grouped together based on their processing needs.">About Resource Consumer Groups</a>"</span>, all sessions created by user accounts <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code> are initially mapped to the <code class="codeph">SYS_GROUP</code> consumer group.
                                 </p>
                              </li>
                              <li>
                                 <p>Sessions performing a data load with Data Pump or performing backup or copy operations with RMAN are automatically mapped to the predefined consumer groups designated in <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__CHDHJCHG" title="This table contains 3 columns: Rule, Mapped Consumer Group, and Notes. The 5 rows describe 5 different predefined mapping rules and their mapped consumer groups.">Table 27-7</a>.
                                 </p>
                              </li>
                           </ul>
                           <p>You can use the <code class="codeph">DBMS_RESOURCE_MANAGER</code>.<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure to modify or delete any of these predefined mapping rules.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-97B6E140-A204-495F-B826-6F0784150786__GUID-2738FEF5-55A9-41B5-BAB0-AD607D6EDDC9">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5562D553-06CC-4AA8-85A0-040BAF2D4005" title="The initial consumer group of a session is determined by the mapping rules that you configure.">Assigning an Initial Resource Consumer Group</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-8376660A-4B6A-484E-9F90-60D200154385" title="If a session attribute changes while the session is running, then the session-to-consumer group mapping rules are reevaluated. If a new rule takes effect, then the session might be moved to a different consumer group.">Specifying Automatic Switching with Mapping Rules</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="You can create and prioritize session-to-consumer group mapping rules.">Specifying Session-to-Consumer Group Mapping Rules</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11884"></a><div class="props_rev_3"><a id="GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E" name="GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E"></a><h5 id="ADMIN-GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E" class="sect5"><span class="enumeration_section">27.2.3.2 </span>Creating Consumer Group Mapping Rules
                     </h5>
                     <div>
                        <p>You use the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure to map a session attribute/value pair to a consumer group.
                        </p>
                        <div class="section">
                           <p>The parameters for this procedure are the following:</p>
                           <div class="tblformal" id="GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E__GUID-3CD57A09-07BB-4BFC-B519-4472034DC7FA">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the parameters used with the consumer group mapping procedure, column 2 explains their usage." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="28%" id="d241756e1690">Parameter</th>
                                       <th align="left" valign="bottom" width="72%" id="d241756e1693">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e1698" headers="d241756e1690 ">
                                          <p><code class="codeph">ATTRIBUTE</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e1698 d241756e1693 ">
                                          <p>The session attribute type, specified as a package constant</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e1707" headers="d241756e1690 ">
                                          <p><code class="codeph">VALUE</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e1707 d241756e1693 ">
                                          <p>The value of the attribute</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e1716" headers="d241756e1690 ">
                                          <p><code class="codeph">CONSUMER_GROUP</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e1716 d241756e1693 ">
                                          <p>The consumer group to map to for this attribute/value pair</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p><code class="codeph">ATTRIBUTE</code> can be one of the following:
                           </p>
                           <div class="tblformal" id="GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E__GUID-E77DDA84-B686-498D-89F1-CF33E2AC6B9D">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the attributes values that can be set with the ATTRIBUTE parameter of the SET_CONSUMER_GROUP_MAPPING procedure. Column 2 lists the type of the attribute, and column 3 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d241756e1737">Attribute</th>
                                       <th align="left" valign="bottom" id="d241756e1740">Type</th>
                                       <th align="left" valign="bottom" id="d241756e1743">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1748" headers="d241756e1737 ">
                                          <p><code class="codeph">ORACLE_USER</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1748 d241756e1740 ">
                                          <p>Login</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1748 d241756e1743 ">
                                          <p>The Oracle Database user name</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1760" headers="d241756e1737 ">
                                          <p><code class="codeph">SERVICE_NAME</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1760 d241756e1740 ">
                                          <p>Login</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1760 d241756e1743 ">
                                          <p>The database service name used by the client to establish a connection</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1772" headers="d241756e1737 ">
                                          <p><code class="codeph">CLIENT_OS_USER</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1772 d241756e1740 ">
                                          <p>Login</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1772 d241756e1743 ">
                                          <p>The operating system user name of the client that is logging in</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1784" headers="d241756e1737 ">
                                          <p><code class="codeph">CLIENT_PROGRAM</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1784 d241756e1740 ">
                                          <p>Login</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1784 d241756e1743 ">
                                          <p>The name of the client program used to log in to the server</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1796" headers="d241756e1737 ">
                                          <p><code class="codeph">CLIENT_MACHINE</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1796 d241756e1740 ">
                                          <p>Login</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1796 d241756e1743 ">
                                          <p>The name of the computer from which the client is making the connection</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1808" headers="d241756e1737 ">
                                          <p><code class="codeph">CLIENT_ID</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1808 d241756e1740 ">
                                          <p>Login</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1808 d241756e1743 ">
                                          <p>The client identifier for the session</p>
                                          <p>The client identifier session attribute is set by the <code class="codeph">DBMS_SESSION.SET_IDENTIFIER</code> procedure.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1825" headers="d241756e1737 ">
                                          <p><code class="codeph">MODULE_NAME</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1825 d241756e1740 ">
                                          <p>Run-time</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1825 d241756e1743 ">
                                          <p>The module name in the currently running application as set by the <code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code> procedure or the equivalent OCI attribute setting
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1840" headers="d241756e1737 ">
                                          <p><code class="codeph">MODULE_NAME_ACTION</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1840 d241756e1740 ">
                                          <p>Run-time</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1840 d241756e1743 ">
                                          <p>A combination of the current module and the action being performed as set by either of the following procedures or their equivalent OCI attribute setting:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p><code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code> 
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">DBMS_APPLICATION_INFO.SET_ACTION</code> 
                                                </p>
                                             </li>
                                          </ul>
                                          <p>The attribute is specified as the module name followed by a period (.), followed by the action name (<span class="italic"><code class="codeph">module_name.action_name</code></span>).
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1869" headers="d241756e1737 ">
                                          <p><code class="codeph">SERVICE_MODULE</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1869 d241756e1740 ">
                                          <p>Run-time</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1869 d241756e1743 ">
                                          <p>A combination of service and module names in this form: <span class="italic"><code class="codeph">service_name.module_name</code></span></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1883" headers="d241756e1737 ">
                                          <p><code class="codeph">SERVICE_MODULE_ACTION</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1883 d241756e1740 ">
                                          <p>Run-time</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1883 d241756e1743 ">
                                          <p>A combination of service name,  module name, and action name, in this form: <span class="italic"><code class="codeph">service_name.module_name.action_name</code></span></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d241756e1897" headers="d241756e1737 ">
                                          <p><code class="codeph">ORACLE_FUNCTION</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1897 d241756e1740 ">
                                          <p>Run-time</p>
                                       </td>
                                       <td align="left" valign="top" headers="d241756e1897 d241756e1743 ">
                                          <p>An RMAN or Data Pump operation. Valid values are <code class="codeph">DATALOAD</code>, <code class="codeph">BACKUP</code>, and <code class="codeph">COPY</code>. There are predefined mappings for each of these values. If your session is performing any of these functions, it is automatically mapped to a predefined consumer group. See <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__CHDHJCHG" title="This table contains 3 columns: Rule, Mapped Consumer Group, and Notes. The 5 rows describe 5 different predefined mapping rules and their mapped consumer groups.">Table 27-7</a> for details.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>For example, the following PL/SQL block causes user <code class="codeph">SCOTT</code> to map to the <code class="codeph">DEV_GROUP</code> consumer group every time that he logs in:
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.SET_CONSUMER_GROUP_MAPPING  
     (DBMS_RESOURCE_MANAGER.ORACLE_USER, 'SCOTT', 'DEV_GROUP');
END;
/
</pre><p>Again, you must create a pending area before running the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure.
                           </p>
                           <p>You can use wildcards for the value of most attributes in the <code class="codeph">value</code> parameter in the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure. To specify values with wildcards, use the same semantics as the SQL <code class="codeph">LIKE</code> operator. Specifically, wildcards use the following semantics:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">%</code> for a multicharacter wildcard
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">_</code> for a single character wildcard
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">\</code> to escape the wildcards
                                 </p>
                              </li>
                           </ul>
                           <p>Wildcards can only be used if the attribute is one of the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">CLIENT_OS_USER</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CLIENT_PROGRAM</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CLIENT_MACHINE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">MODULE_NAME</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">MODULE_NAME_ACTION</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SERVICE_MODULE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SERVICE_MODULE_ACTION</code></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="You can create and prioritize session-to-consumer group mapping rules.">Specifying Session-to-Consumer Group Mapping Rules</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13326"></a><div class="props_rev_3"><a id="GUID-D86D68E2-CC5A-4846-AB5B-1C326A7794E5" name="GUID-D86D68E2-CC5A-4846-AB5B-1C326A7794E5"></a><h5 id="ADMIN-GUID-D86D68E2-CC5A-4846-AB5B-1C326A7794E5" class="sect5"><span class="enumeration_section">27.2.3.3 </span>Modifying and Deleting Consumer Group Mapping Rules
                     </h5>
                     <div>
                        <p>To modify a consumer group mapping rule, run the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure against the desired attribute/value pair, specifying a new consumer group.
                        </p>
                        <div class="section">
                           <p>To delete a rule, run the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure against the desired attribute/value pair and specify a <code class="codeph">NULL</code> consumer group.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="You can create and prioritize session-to-consumer group mapping rules.">Specifying Session-to-Consumer Group Mapping Rules</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11885"></a><div class="props_rev_3"><a id="GUID-38701F35-5B52-475F-9C41-09DA5079AA4D" name="GUID-38701F35-5B52-475F-9C41-09DA5079AA4D"></a><h5 id="ADMIN-GUID-38701F35-5B52-475F-9C41-09DA5079AA4D" class="sect5"><span class="enumeration_section">27.2.3.4 </span>Creating Mapping Rule Priorities
                     </h5>
                     <div>
                        <p>To resolve conflicting mapping rules, you can establish a priority ordering of the session attributes from most important to least important.</p>
                        <div class="section">
                           <p>You use the <code class="codeph">SET_CONSUMER_GROUP_MAPPING_PRI</code> procedure to set the priority of each attribute to a unique integer from 1 (most important) to 12 (least important). The following example illustrates this setting of priorities:
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.SET_CONSUMER_GROUP_MAPPING_PRI(
    EXPLICIT =&gt; 1,
    SERVICE_MODULE_ACTION =&gt; 2,
    SERVICE_MODULE =&gt; 3,
    MODULE_NAME_ACTION =&gt; 4,
    MODULE_NAME =&gt; 5,
    SERVICE_NAME =&gt; 6,
    ORACLE_USER =&gt; 7,
    CLIENT_PROGRAM =&gt; 8,
    CLIENT_OS_USER =&gt; 9,
    CLIENT_MACHINE =&gt; 10,
    CLIENT_ID =&gt; 11);
END;
/
</pre><p>In this example, the priority of the database user name is set to 7 (less important), while the priority of the module name is set to 5 (more important).</p>
                           <div class="infoboxnote" id="GUID-38701F35-5B52-475F-9C41-09DA5079AA4D__GUID-F395DCB5-C7F3-4DEC-A2F0-AAB15F91EA82">
                              <p class="notep1">Note:</p>
                              <p><code class="codeph">SET_CONSUMER_GROUP_MAPPING_PRI</code> requires that you include the pseudo-attribute <code class="codeph">EXPLICIT</code> as an argument. It must be set to 1. It indicates that explicit consumer group switches have the highest priority. You explicitly switch consumer groups with these package procedures, which are described in detail in <a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">DBMS_SESSION.SWITCH_CURRENT_CONSUMER_GROUP</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_CONSUMER_GROUP_FOR_SESS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_CONSUMER_GROUP_FOR_USER</code></p>
                                 </li>
                              </ul>
                           </div>
                           <p>To illustrate how mapping rule priorities work, continuing with the previous example, assume that in addition to the mapping of user <code class="codeph">SCOTT</code> to the <code class="codeph">DEV_GROUP</code> consumer group, there is also a module name mapping rule as follows:
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.SET_CONSUMER_GROUP_MAPPING
     (DBMS_RESOURCE_MANAGER.MODULE_NAME, 'EOD_REPORTS', 'LOW_PRIORITY');
END;
/
</pre><p>Now if the application in user <code class="codeph">SCOTT</code>'s session sets its module name to <code class="codeph">EOD_REPORTS</code>, the session is reassigned to the <code class="codeph">LOW_PRIORITY</code> consumer group, because module name mapping has a higher priority than database user mapping.
                           </p>
                           <p>You can query the view <code class="codeph">DBA_RSRC_MAPPING_PRIORITY</code> to see the current priority ordering of session attributes.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-38701F35-5B52-475F-9C41-09DA5079AA4D__GUID-06A96A1F-8929-4079-AF99-4C2A37ABE386">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_APPLICATION_INFO.html#ARPLS003" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about setting the module name with the <code class="codeph">DBMS_APPLICATION_INFO.SET_MODULE</code> procedure
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3" title="Using the DBMS_RESOURCE_MANAGER_PRIVS PL/SQL package, you can grant or revoke the switch privilege to a user, role, or PUBLIC. The switch privilege enables a user or application to switch a session to a specified resource consumer group.">Granting and Revoking the Switch Privilege</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="You can create and prioritize session-to-consumer group mapping rules.">Specifying Session-to-Consumer Group Mapping Rules</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13773"></a><div class="props_rev_3"><a id="GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E" name="GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E"></a><h4 id="ADMIN-GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E" class="sect4"><span class="enumeration_section">27.2.4 </span>Switching Resource Consumer Groups
                  </h4>
                  <p>You can  switch the resource consumer group of a session.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6929B184-496D-4867-B3C7-AD53CE544D2D">Manually Switching Resource Consumer Groups</a><br>You can  change the resource consumer group of running sessions.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9E06197C-E596-4D57-9511-5979966FF42C">Enabling Users or Applications to Manually Switch Consumer Groups</a><br>You can grant a user the switch privilege so that he can switch his current consumer group using the <code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code> procedure in the <code class="codeph">DBMS_SESSION</code> package.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="There are automatic and manual methods that database administrators, users, and applications can use to assign sessions to resource consumer groups. When a session is assigned to a resource consumer group, Oracle Database Resource Manager (the Resource Manager) can manage resource allocation for it.">Assigning Sessions to Resource Consumer Groups</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" name="GUID-6929B184-496D-4867-B3C7-AD53CE544D2D"></a><h5 id="ADMIN-GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" class="sect5"><span class="enumeration_section">27.2.4.1 </span>Manually Switching Resource Consumer Groups
                     </h5>
                     <p>You can  change the resource consumer group of running sessions.</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A9246764-C06A-4ED9-9D30-BAFF42E06EF0">About Manually Switching Resource Consumer Groups</a><br>The <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package provides two procedures that enable you to change the resource consumer group of running sessions. 
                           </li>
                           <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-210F6132-4C05-4FD5-8189-00CA842C3493">Switching a Single Session</a><br>The <code class="codeph">SWITCH_CONSUMER_GROUP_FOR_SESS</code> procedure causes the specified session to immediately be moved into the specified resource consumer group. In effect, this procedure can raise or lower priority of the session.
                           </li>
                           <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EEB53C6-C394-4091-B876-6A4F4709C3C4">Switching All Sessions for a User</a><br>The <code class="codeph">SWITCH_CONSUMER_GROUP_FOR_USER</code> procedure changes the resource consumer group for all sessions pertaining to the specified user name.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E" title="You can switch the resource consumer group of a session.">Switching Resource Consumer Groups</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11876"></a><div class="props_rev_3"><a id="GUID-A9246764-C06A-4ED9-9D30-BAFF42E06EF0" name="GUID-A9246764-C06A-4ED9-9D30-BAFF42E06EF0"></a><h6 id="ADMIN-GUID-A9246764-C06A-4ED9-9D30-BAFF42E06EF0" class="sect6"><span class="enumeration_section">27.2.4.1.1 </span>About Manually Switching Resource Consumer Groups
                        </h6>
                        <div>
                           <p>The <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package provides two procedures that enable you to change the resource consumer group of running sessions. 
                           </p>
                           <p>Both of these procedures can also change the consumer group of any parallel execution server sessions associated with the coordinator session. The changes made by these procedures pertain to current sessions only; they are not persistent. They also do not change the initial consumer groups for users.</p>
                           <p>Instead of killing (terminating) a session of a user who is using excessive CPU, you can change that user's consumer group to one that is allocated fewer resources.</p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" title="You can change the resource consumer group of running sessions.">Manually Switching Resource Consumer Groups</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11877"></a><div class="props_rev_3"><a id="GUID-210F6132-4C05-4FD5-8189-00CA842C3493" name="GUID-210F6132-4C05-4FD5-8189-00CA842C3493"></a><h6 id="ADMIN-GUID-210F6132-4C05-4FD5-8189-00CA842C3493" class="sect6"><span class="enumeration_section">27.2.4.1.2 </span>Switching a Single Session
                        </h6>
                        <div>
                           <p>The <code class="codeph">SWITCH_CONSUMER_GROUP_FOR_SESS</code> procedure causes the specified session to immediately be moved into the specified resource consumer group. In effect, this procedure can raise or lower priority of the session.
                           </p>
                           <div class="section">
                              <p>The following PL/SQL block switches a specific session to a new consumer group. The session identifier (<code class="codeph">SID</code>) is 17, the session serial number (<code class="codeph">SERIAL#</code>) is 12345, and the new consumer group is the <code class="codeph">HIGH_PRIORITY</code> consumer group.
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.SWITCH_CONSUMER_GROUP_FOR_SESS ('17', '12345',
   'HIGH_PRIORITY');
END;
/
</pre><p>The <code class="codeph">SID</code>, session serial number, and current resource consumer group for a session are viewable using the <code class="codeph">V$SESSION</code> view.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-210F6132-4C05-4FD5-8189-00CA842C3493__GUID-0B5FF442-A506-4B19-B65F-BA3083CDC2CC">
                              <p class="notep1">See Also:</p>
                              <p><a href="../refrn/V-SESSION.html#REFRN30223" target="_blank"><span class="italic">Oracle Database Reference</span></a> for details about the <code class="codeph">V$SESSION</code> view.
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" title="You can change the resource consumer group of running sessions.">Manually Switching Resource Consumer Groups</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11878"></a><div class="props_rev_3"><a id="GUID-9EEB53C6-C394-4091-B876-6A4F4709C3C4" name="GUID-9EEB53C6-C394-4091-B876-6A4F4709C3C4"></a><h6 id="ADMIN-GUID-9EEB53C6-C394-4091-B876-6A4F4709C3C4" class="sect6"><span class="enumeration_section">27.2.4.1.3 </span>Switching All Sessions for a User
                        </h6>
                        <div>
                           <p>The <code class="codeph">SWITCH_CONSUMER_GROUP_FOR_USER</code> procedure changes the resource consumer group for all sessions pertaining to the specified user name.
                           </p>
                           <div class="section">
                              <p>The following PL/SQL block switches all sessions that belong to user <code class="codeph">HR</code> to the <code class="codeph">LOW_GROUP</code> consumer group:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.SWITCH_CONSUMER_GROUP_FOR_USER ('HR',
    'LOW_GROUP'); 
END;
/</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6929B184-496D-4867-B3C7-AD53CE544D2D" title="You can change the resource consumer group of running sessions.">Manually Switching Resource Consumer Groups</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11886"></a><div class="props_rev_3"><a id="GUID-9E06197C-E596-4D57-9511-5979966FF42C" name="GUID-9E06197C-E596-4D57-9511-5979966FF42C"></a><h5 id="ADMIN-GUID-9E06197C-E596-4D57-9511-5979966FF42C" class="sect5"><span class="enumeration_section">27.2.4.2 </span>Enabling Users or Applications to Manually Switch Consumer Groups
                     </h5>
                     <div>
                        <p>You can grant a user the switch privilege so that he can switch his current consumer group using the <code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code> procedure in the <code class="codeph">DBMS_SESSION</code> package.
                        </p>
                        <div class="section">
                           <p>A user can run this procedure from an interactive session, for example from SQL*Plus, or an application can call this procedure to switch its session, effectively dynamically changing its priority.</p>
                           <p>The <code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code> procedure enables users to switch to only those consumer groups for which they have the switch privilege. If the caller is another procedure, then this procedure enables users to switch to a consumer group for which the owner of that procedure has switch privileges. 
                           </p>
                           <p>The parameters for this procedure are the following:</p>
                           <div class="tblformal" id="GUID-9E06197C-E596-4D57-9511-5979966FF42C__GUID-74DB93CA-AB06-4923-9D10-3CA1A516E8B5">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 contains the parameters that can be used for switching consumer groups, column 2 explains the use of each parameter." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="28%" id="d241756e2527">Parameter</th>
                                       <th align="left" valign="bottom" width="72%" id="d241756e2530">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e2535" headers="d241756e2527 ">
                                          <p><code class="codeph">NEW_CONSUMER_GROUP</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e2535 d241756e2530 ">
                                          <p>The consumer group to which the user is switching. </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e2544" headers="d241756e2527 ">
                                          <p><code class="codeph">OLD_CONSUMER_GROUP</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e2544 d241756e2530 ">
                                          <p>Returns the name of the consumer group from which the user switched. Can be used to switch back later.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="28%" id="d241756e2553" headers="d241756e2527 ">
                                          <p><code class="codeph">INITIAL_GROUP_ON_ERROR</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="72%" headers="d241756e2553 d241756e2530 ">
                                          <p>Controls behavior if a switching error occurs.</p>
                                          <p>If <code class="codeph">TRUE</code>, in the event of an error, the user is switched to the initial consumer group.
                                          </p>
                                          <p>If <code class="codeph">FALSE</code>, raises an error.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>The following SQL*Plus session illustrates switching to a new consumer group. By printing the value of the output parameter <code class="codeph">old_group</code>, the example illustrates how the old consumer group name is saved. 
                           </p><pre class="oac_no_warn" dir="ltr">SET serveroutput on
DECLARE
    old_group varchar2(30);
BEGIN
  DBMS_SESSION.SWITCH_CURRENT_CONSUMER_GROUP('BATCH_GROUP', old_group, FALSE);
  DBMS_OUTPUT.PUT_LINE('OLD GROUP = ' || old_group);
END;
/
</pre><p>The following line is output:</p><pre class="oac_no_warn" dir="ltr">OLD GROUP = OLTP_GROUP
</pre><p>Note that the Resource Manager considers a switch to have taken place even if the <code class="codeph">SWITCH_CURRENT_CONSUMER_GROUP</code> procedure is called to switch the session to the consumer group that it is already in.
                           </p>
                           <div class="infoboxnote" id="GUID-9E06197C-E596-4D57-9511-5979966FF42C__GUID-833033DA-28F4-431F-89EA-349F948DB1E0">
                              <p class="notep1">Note:</p>
                              <p>The Resource Manager also works in environments where a generic database user name is used to log on to an application. The <code class="codeph">DBMS_SESSION</code> package can be called to switch the consumer group assignment of a session at session startup, or as particular modules are called.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9E06197C-E596-4D57-9511-5979966FF42C__GUID-4A1DC884-B4DA-4DE5-A90C-B36D034BB092">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3" title="Using the DBMS_RESOURCE_MANAGER_PRIVS PL/SQL package, you can grant or revoke the switch privilege to a user, role, or PUBLIC. The switch privilege enables a user or application to switch a session to a specified resource consumer group.">Granting and Revoking the Switch Privilege</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_SESSION.html#ARPLS054" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for additional examples and more information about the <code class="codeph">DBMS_SESSION</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2A3C2DC0-6619-4CEC-B28E-CB3E3EB5328E" title="You can switch the resource consumer group of a session.">Switching Resource Consumer Groups</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11879"></a><div class="props_rev_3"><a id="GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" name="GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920"></a><h4 id="ADMIN-GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" class="sect4"><span class="enumeration_section">27.2.5 </span>Specifying Automatic Consumer Group Switching
                  </h4>
                  <div>
                     <p>You can configure the Resource Manager to automatically switch a session to another consumer group when a certain condition is met.</p>
                     <p>Automatic switching can occur when: a session attribute changes, causing a new mapping rule to take effect, or a session exceeds the CPU, physical I/O, or logical I/O resource consumption limits set by its consumer group, or it exceeds the elapsed time limit set by its consumer group.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-8376660A-4B6A-484E-9F90-60D200154385">Specifying Automatic Switching with Mapping Rules</a><br>If a session attribute changes while the session is running, then the session-to-consumer group mapping rules are reevaluated. If a new rule takes effect, then the session might be moved to a different consumer group.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12">Specifying Automatic Switching by Setting Resource Limits</a><br>You can manage runaway sessions or calls that use CPU, physical I/O, or logical I/O resources beyond a specified limit. A runaway session is a SQL query, while a runaway call is a PL/SQL call.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="There are automatic and manual methods that database administrators, users, and applications can use to assign sessions to resource consumer groups. When a session is assigned to a resource consumer group, Oracle Database Resource Manager (the Resource Manager) can manage resource allocation for it.">Assigning Sessions to Resource Consumer Groups</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11880"></a><div class="props_rev_3"><a id="GUID-8376660A-4B6A-484E-9F90-60D200154385" name="GUID-8376660A-4B6A-484E-9F90-60D200154385"></a><h5 id="ADMIN-GUID-8376660A-4B6A-484E-9F90-60D200154385" class="sect5"><span class="enumeration_section">27.2.5.1 </span>Specifying Automatic Switching with Mapping Rules
                     </h5>
                     <div>
                        <p>If a session attribute changes while the session is running, then the session-to-consumer group mapping rules are reevaluated. If a new rule takes effect, then the session might be moved to a different consumer group.</p>
                        <p>See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="You can create and prioritize session-to-consumer group mapping rules.">Specifying Session-to-Consumer Group Mapping Rules</a>"</span> for more information.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" title="You can configure the Resource Manager to automatically switch a session to another consumer group when a certain condition is met.">Specifying Automatic Consumer Group Switching</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12657"></a><a id="ADMIN12658"></a><a id="ADMIN12659"></a><a id="ADMIN14006"></a><a id="ADMIN14144"></a><a id="ADMIN11881"></a><div class="props_rev_3"><a id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" name="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12"></a><h5 id="ADMIN-GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" class="sect5"><span class="enumeration_section">27.2.5.2 </span>Specifying Automatic Switching by Setting Resource Limits
                     </h5>
                     <div>
                        <p>You can manage runaway sessions or calls that use CPU, physical I/O, or logical I/O resources beyond a specified limit. A runaway session is a SQL query, while a runaway call is a PL/SQL call.</p>
                        <div class="section">
                           <p>When you create a resource plan directive for a consumer group, you can specify limits for CPU, physical I/O, or logical I/O resource consumption for sessions in that group. You can specify limits for physical I/O and logical I/O separately. You can also specify a limit for elapsed time. If the <code class="codeph">SWITCH_FOR_CALL</code> resource plan directive is set to <code class="codeph">FALSE</code>, then Resource Manager enforces these limits from the start of the session. If the <code class="codeph">SWITCH_FOR_CALL</code> resource plan directive is set to <code class="codeph">TRUE</code>, then Resource Manager enforces these limits from the start of the SQL operation or PL/SQL block.
                           </p>
                           <p>You can then specify the action that is to be taken if any single session or call exceeds one of these limits. The possible actions are the following:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The session is dynamically switched to a designated consumer group.</p>
                                 <p>The target consumer group is typically one that has lower resource allocations.</p>
                              </li>
                              <li>
                                 <p>The session is killed (terminated).</p>
                              </li>
                              <li>
                                 <p>The session's current SQL statement is aborted.</p>
                              </li>
                              <li>
                                 <p>Information about the session is logged, but no other action is taken for the session.</p>
                              </li>
                           </ul>
                           <p>The following are the resource plan directive attributes that are involved in this type of automatic session switching.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">SWITCH_GROUP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_TIME</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_ESTIMATE</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_IO_MEGABYTES</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_IO_REQS</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_FOR_CALL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_IO_LOGICAL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">SWITCH_ELAPSED_TIME</code></p>
                              </li>
                           </ul>
                           <p>See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="You use the CREATE_PLAN_DIRECTIVE procedure to create resource plan directives. Each directive belongs to a plan or subplan and allocates resources to either a consumer group or subplan.">Creating Resource Plan Directives </a>"</span> for descriptions of these attributes.
                           </p>
                           <p>Switches occur for sessions that are running and consuming resources, not waiting for user input or waiting for CPU cycles. After a session is switched, it continues in the target consumer group until it becomes idle, at which point it is switched back to its original consumer group. However, if <code class="codeph">SWITCH_FOR_CALL</code> is set to <code class="codeph">TRUE</code>, then the Resource Manager does not wait until the session is idle to return it to its original resource consumer group. Instead, the session is returned when the current top-level call completes. A <span class="bold">top-level call</span> in PL/SQL is an entire PL/SQL block treated as one call. A top-level call in SQL is an individual SQL statement.
                           </p>
                           <p><code class="codeph">SWITCH_FOR_CALL</code> is useful for three-tier applications where the middle tier server is using session pooling.
                           </p>
                           <p>A switched session is allowed to continue running even if the active session pool for the new group is full. Under these conditions, a consumer group can have more sessions running than specified by its active session pool.</p>
                           <p>When <code class="codeph">SWITCH_FOR_CALL</code> is <code class="codeph">FALSE</code>, the Resource Manager views a session as idle if a certain amount of time passes between calls. This time interval is a few seconds and is not configurable.
                           </p>
                           <p>The following are examples of automatic switching based on resource limits. You must create a pending area before running these examples.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-DE26A147-A7CB-467F-8A03-261DA53F5EC5">Example 1</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following PL/SQL block creates a resource plan directive for the <code class="codeph">OLTP</code> group that switches any session in that group to the <code class="codeph">LOW_GROUP</code> consumer group if a call in the sessions exceeds 5 seconds of CPU time. This example prevents unexpectedly long queries from consuming too many resources. The switched-to consumer group is typically one with lower resource allocations.
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
   PLAN             =&gt; 'DAYTIME',
   GROUP_OR_SUBPLAN =&gt; 'OLTP',
   COMMENT          =&gt; 'OLTP group',
   MGMT_P1          =&gt; 75,
   SWITCH_GROUP     =&gt; 'LOW_GROUP',
   SWITCH_TIME      =&gt; 5);
END;
/</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-DCABF520-796D-4ECD-8082-7C9A62EC5ECF">Example 2</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following PL/SQL block creates a resource plan directive for the <code class="codeph">OLTP</code> group that temporarily switches any session in that group to the <code class="codeph">LOW_GROUP</code> consumer group if the session exceeds 10,000 physical I/O requests or exceeds 2,500 Megabytes of data transferred. The session is returned to its original group after the offending top call is complete.
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
   PLAN                =&gt; 'DAYTIME',
   GROUP_OR_SUBPLAN    =&gt; 'OLTP',
   COMMENT             =&gt; 'OLTP group',
   MGMT_P1             =&gt; 75,
   SWITCH_GROUP        =&gt; 'LOW_GROUP',
   SWITCH_IO_REQS      =&gt; 10000,
   SWITCH_IO_MEGABYTES =&gt; 2500,
   SWITCH_FOR_CALL     =&gt; TRUE);
END;
/</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-7D7122FF-66F5-4F71-9808-92E62C3FCE93">Example 3</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following PL/SQL block creates a resource plan directive for the <code class="codeph">REPORTING</code> group that kills (terminates) any session that exceeds 60 seconds of CPU time. This example prevents runaway queries from consuming too many resources.
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
   PLAN             =&gt; 'DAYTIME',
   GROUP_OR_SUBPLAN =&gt; 'REPORTING',
   COMMENT          =&gt; 'Reporting group',
   MGMT_P1          =&gt; 75,
   SWITCH_GROUP     =&gt; 'KILL_SESSION',
   SWITCH_TIME      =&gt; 60);
END;
/
</pre><p>In this example, the reserved consumer group name <code class="codeph">KILL_SESSION</code> is specified for <code class="codeph">SWITCH_GROUP</code>. Therefore, the session is terminated when the switch criteria is met. Other reserved consumer group names are <code class="codeph">CANCEL_SQL</code> and <code class="codeph">LOG_ONLY</code>. When <code class="codeph">CANCEL_SQL</code> is specified, the current call is canceled when switch criteria are met, but the session is not terminated. When <code class="codeph">LOG_ONLY</code> is specified, information about the session is recorded in real-time SQL monitoring, but no specific action is taken for the session.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-19A7C348-FA33-4DBE-89BA-0CAF96A85D6A">Example 4</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following PL/SQL block creates a resource plan directive for the <code class="codeph">OLTP</code> group that temporarily switches any session in that group to the <code class="codeph">LOW_GROUP</code> consumer group if the session exceeds 100 logical I/O requests. The session is returned to its original group after the offending top call is complete.
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
   PLAN                =&gt; 'DAYTIME',
   GROUP_OR_SUBPLAN    =&gt; 'OLTP',
   COMMENT             =&gt; 'OLTP group',
   MGMT_P1             =&gt; 75,
   SWITCH_GROUP        =&gt; 'LOW_GROUP',
   SWITCH_IO_LOGICAL   =&gt; 100,
   SWITCH_FOR_CALL     =&gt; TRUE);
END;
/</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-004FAA56-2DD8-4855-8625-2FA2369DBB04">Example 5</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following PL/SQL block creates a resource plan directive for the <code class="codeph">OLTP</code> group that temporarily switches any session in that group to the <code class="codeph">LOW_GROUP</code> consumer group if a call in a session exceeds five minutes (300 seconds). The session is returned to its original group after the offending top call is complete.
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
   PLAN                =&gt; 'DAYTIME',
   GROUP_OR_SUBPLAN    =&gt; 'OLTP',
   COMMENT             =&gt; 'OLTP group',
   MGMT_P1             =&gt; 75,
   SWITCH_GROUP        =&gt; 'LOW_GROUP',
   SWITCH_FOR_CALL     =&gt; TRUE,
   SWITCH_ELAPSED_TIME =&gt; 300);
END;
/</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12__GUID-AD294E83-6649-4DA7-8438-FE576CC430F0">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="You use the CREATE_PLAN_DIRECTIVE procedure to create resource plan directives. Each directive belongs to a plan or subplan and allocates resources to either a consumer group or subplan.">Creating Resource Plan Directives </a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-040A4CC4-B8B3-40F8-9984-FA79D46521BB" title="Resource Manager allows the database to have more control over how hardware resources are allocated.">What Solutions Does the Resource Manager Provide for Workload Management?</a>"</span> for information about logical I/O
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" title="You can configure the Resource Manager to automatically switch a session to another consumer group when a certain condition is met.">Specifying Automatic Consumer Group Switching</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-754D0522-EBBE-40D5-8247-39278A965653" name="GUID-754D0522-EBBE-40D5-8247-39278A965653"></a><h4 id="ADMIN-GUID-754D0522-EBBE-40D5-8247-39278A965653" class="sect4"><span class="enumeration_section">27.2.6 </span>Granting and Revoking the Switch Privilege
                  </h4>
                  <p>A user or application must have the switch privilege to switch a session to a specified resource consumer group.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3">About Granting and Revoking the Switch Privilege</a><br>Using the <code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code> PL/SQL package, you can grant or revoke the switch privilege to a user, role, or <code class="codeph">PUBLIC</code>. The switch privilege enables a user or application to switch a session to a specified resource consumer group. 
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C6CCACFB-5FDA-47EA-81F4-7F55C6993CAE">Granting the Switch Privilege</a><br>You can grant a user the privilege to switch to a specific consumer group using the <code class="codeph">GRANT_SWITCH_CONSUMER_GROUP</code> procedure.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-65E6D0F5-4A1E-4991-A7BB-657E9E18ADFB">Revoking Switch Privileges</a><br>You can revoke a user’s privilege to switch to a specific consumer group using the <code class="codeph">REVOKE_SWITCH_CONSUMER_GROUP</code> procedure.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B11A3D18-3D45-4751-85A0-DCC96FAF67B5" title="There are automatic and manual methods that database administrators, users, and applications can use to assign sessions to resource consumer groups. When a session is assigned to a resource consumer group, Oracle Database Resource Manager (the Resource Manager) can manage resource allocation for it.">Assigning Sessions to Resource Consumer Groups</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11887"></a><div class="props_rev_3"><a id="GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3" name="GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3"></a><h5 id="ADMIN-GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3" class="sect5"><span class="enumeration_section">27.2.6.1 </span>About Granting and Revoking the Switch Privilege
                     </h5>
                     <div>
                        <p>Using the <code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code> PL/SQL package, you can grant or revoke the switch privilege to a user, role, or <code class="codeph">PUBLIC</code>. The switch privilege enables a user or application to switch a session to a specified resource consumer group. 
                        </p>
                        <p>The package also enables you to revoke the switch privilege. The relevant package procedures are listed in the following table.</p>
                        <div class="tblformal" id="GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3__GUID-8B1558E7-BA22-47F3-80FF-D50927940978">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the procedures of the DBMS_RESOURCE_MANAGER_PRIVS package, column 2 describes the function of each procedure." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="45%" id="d241756e3108">Procedure</th>
                                    <th align="left" valign="bottom" width="55%" id="d241756e3111">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d241756e3116" headers="d241756e3108 ">
                                       <p><code class="codeph">GRANT_SWITCH_CONSUMER_GROUP</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d241756e3116 d241756e3111 ">
                                       <p>Grants permission to a user, role, or <code class="codeph">PUBLIC</code> to switch to a specified resource consumer group.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="45%" id="d241756e3128" headers="d241756e3108 ">
                                       <p><code class="codeph">REVOKE_SWITCH_CONSUMER_GROUP</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="55%" headers="d241756e3128 d241756e3111 ">
                                       <p>Revokes permission for a user, role, or <code class="codeph">PUBLIC</code> to switch to a specified resource consumer group.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><code class="codeph">OTHER_GROUPS</code> has switch privileges granted to <code class="codeph">PUBLIC</code>. Therefore, all users are automatically granted the switch privilege for this consumer group.
                        </p>
                        <p>The following switches do not require explicit switch privilege:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>There is a consumer group mapping specified by the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure in the <code class="codeph">DBMS_RESOURCE_MANAGER</code> package, and a session is switching to a different consumer group due to the mapping. See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E" title="You use the SET_CONSUMER_GROUP_MAPPING procedure to map a session attribute/value pair to a consumer group.">Creating Consumer Group Mapping Rules</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>There is an automatic consumer group switch when a switch condition is met based on the setting of the <code class="codeph">switch_group</code> parameter of a resource plan directive.
                              </p>
                           </li>
                        </ul>
                        <p>Explicit switch privilege is required for a user to switch a session to a consumer group in all other cases.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5E2D2547-068A-492E-84CD-2BACC25CADA3__GUID-DB032A06-DFC9-4593-80E1-AF866615B384">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9E06197C-E596-4D57-9511-5979966FF42C" title="You can grant a user the switch privilege so that he can switch his current consumer group using the SWITCH_CURRENT_CONSUMER_GROUP procedure in the DBMS_SESSION package.">Enabling Users or Applications to Manually Switch Consumer Groups</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-91AE9EA1-3457-4FCD-BA33-15DB1B658920" title="You can configure the Resource Manager to automatically switch a session to another consumer group when a certain condition is met.">Specifying Automatic Consumer Group Switching</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-754D0522-EBBE-40D5-8247-39278A965653" title="A user or application must have the switch privilege to switch a session to a specified resource consumer group.">Granting and Revoking the Switch Privilege</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11888"></a><div class="props_rev_3"><a id="GUID-C6CCACFB-5FDA-47EA-81F4-7F55C6993CAE" name="GUID-C6CCACFB-5FDA-47EA-81F4-7F55C6993CAE"></a><h5 id="ADMIN-GUID-C6CCACFB-5FDA-47EA-81F4-7F55C6993CAE" class="sect5"><span class="enumeration_section">27.2.6.2 </span>Granting the Switch Privilege
                     </h5>
                     <div>
                        <p>You can grant a user the privilege to switch to a specific consumer group using the <code class="codeph">GRANT_SWITCH_CONSUMER_GROUP</code> procedure.
                        </p>
                        <div class="section">
                           <p>The following example grants user <code class="codeph">SCOTT</code> the privilege to switch to consumer group <code class="codeph">OLTP</code>.
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER_PRIVS.GRANT_SWITCH_CONSUMER_GROUP (
   GRANTEE_NAME   =&gt; 'SCOTT',
   CONSUMER_GROUP =&gt; 'OLTP',
   GRANT_OPTION   =&gt;  TRUE);
END;
/
</pre><p>User <code class="codeph">SCOTT</code> is also granted permission to grant switch privileges for <code class="codeph">OLTP</code> to others.
                           </p>
                           <p>If you grant permission to a role to switch to a particular resource consumer group, then any user who is granted that role and has enabled that role can switch his session to that consumer group.</p>
                           <p>If you grant <code class="codeph">PUBLIC</code> the permission to switch to a particular consumer group, then any user can switch to that group.
                           </p>
                           <p>If the <code class="codeph">GRANT_OPTION</code> argument is <code class="codeph">TRUE</code>, then users granted switch privilege for the consumer group can also grant switch privileges for that consumer group to others.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-754D0522-EBBE-40D5-8247-39278A965653" title="A user or application must have the switch privilege to switch a session to a specified resource consumer group.">Granting and Revoking the Switch Privilege</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11889"></a><div class="props_rev_3"><a id="GUID-65E6D0F5-4A1E-4991-A7BB-657E9E18ADFB" name="GUID-65E6D0F5-4A1E-4991-A7BB-657E9E18ADFB"></a><h5 id="ADMIN-GUID-65E6D0F5-4A1E-4991-A7BB-657E9E18ADFB" class="sect5"><span class="enumeration_section">27.2.6.3 </span>Revoking Switch Privileges
                     </h5>
                     <div>
                        <p>You can revoke a user’s privilege to switch to a specific consumer group using the <code class="codeph">REVOKE_SWITCH_CONSUMER_GROUP</code> procedure.
                        </p>
                        <div class="section">
                           <p>The following example revokes user <code class="codeph">SCOTT</code>'s privilege to switch to consumer group <code class="codeph">OLTP</code>.
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER_PRIVS.REVOKE_SWITCH_CONSUMER_GROUP (
   REVOKEE_NAME   =&gt; 'SCOTT', 
   CONSUMER_GROUP =&gt; 'OLTP');
END;
/
</pre><p>If you revoke a user's switch privileges for a particular consumer group, any subsequent attempts by that user to switch to that consumer group manually will fail. The user's session will then be automatically assigned to <code class="codeph">OTHER_GROUPS</code>.
                           </p>
                           <p>If you revoke from a role the switch privileges to a consumer group, any users who had switch privileges for the consumer group only through that role are no longer able to switch to that consumer group.</p>
                           <p>If you revoke switch privileges to a consumer group from <code class="codeph">PUBLIC</code>, any users other than those who are explicitly assigned switch privileges either directly or through a role are no longer able to switch to that consumer group.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-754D0522-EBBE-40D5-8247-39278A965653" title="A user or application must have the switch privilege to switch a session to a specified resource consumer group.">Granting and Revoking the Switch Privilege</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN11851"></a><div class="props_rev_3"><a id="GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" name="GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9"></a><h3 id="ADMIN-GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" class="sect3"><span class="enumeration_section">27.3 </span>The Types of Resources Managed by the Resource Manager
               </h3>
               <p>Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435">CPU</a><br>To manage CPU resources, Resource Manager allocates resources among consumer groups and redistributes CPU resources that were allocated but were not used. You can also set a limit on the amount of CPU resources that can be allocated to a particular consumer group.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-FA1F02AF-9DBD-4F97-A781-25F427367619">Exadata I/O</a><br>Management attributes enable you to specify CPU resource allocation for Exadata I/O.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603">Parallel Execution Servers</a><br>Resource Manager can manage usage of the available parallel execution servers for a database.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115">Program Global Area (PGA)</a><br>To manage PGA resources, Resource Manager can limit the amount of PGA memory that can be allocated to each session in a particular consumer group.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F">Runaway Queries</a><br>Runaway sessions and calls can adversely impact overall performance if they are not managed properly. Resource Manager can take action when a session or call consumes more than a specified amount of CPU, physical I/O, logical I/O, or elapsed time. Resource Manager can either switch the session or call to a consumer group that is allocated a small amount of CPU or terminate the session or call. 
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4CC29C2F-62AC-4E8A-90AA-5B952EA8DC8E">Active Session Pool with Queuing</a><br>You can control the maximum number of concurrently active sessions allowed within a consumer group. This maximum defines the <span class="bold">active session pool</span>. 
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BF122ED-7A05-45CB-ACEC-585B7BAB056A">Undo Pool</a><br>You can specify an undo pool for each consumer group. An undo pool controls the total amount of undo for uncommitted transactions that can be generated by a consumer group.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6DDADDCA-1E89-4F50-9089-7AAA8C056CA5">Idle Time Limit</a><br>You can specify an amount of time that a session can be idle, after which it is terminated.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11852"></a><div class="props_rev_3"><a id="GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435" name="GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435"></a><h4 id="ADMIN-GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435" class="sect4"><span class="enumeration_section">27.3.1 </span>CPU
                  </h4>
                  <p>To manage CPU resources, Resource Manager allocates resources among consumer groups and redistributes CPU resources that were allocated but were not used. You can also set a limit on the amount of CPU resources that can be allocated to a particular consumer group.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0872B649-47E0-421C-A434-57D2280857ED">Management Attributes</a><br>Management attributes enable you to specify how CPU resources are to be allocated among consumer groups and subplans.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C">Utilization Limit</a><br>Use the <code class="codeph">UTILIZATION_LIMIT</code> attribute to impose an absolute upper limit on CPU utilization for a resource consumer group. This absolute limit overrides any redistribution of CPU within a plan.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.">The Types of Resources Managed by the Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13322"></a><a id="ADMIN13465"></a><div class="props_rev_3"><a id="GUID-0872B649-47E0-421C-A434-57D2280857ED" name="GUID-0872B649-47E0-421C-A434-57D2280857ED"></a><h5 id="ADMIN-GUID-0872B649-47E0-421C-A434-57D2280857ED" class="sect5"><span class="enumeration_section">27.3.1.1 </span>Management Attributes
                     </h5>
                     <div>
                        <p>Management attributes enable you to specify how CPU resources are to be allocated among consumer groups and subplans.</p>
                        <p>Multiple levels of CPU resource allocation (up to eight levels) provide a means of prioritizing CPU usage within a plan. Consumer groups and subplans at level 2 get resources that were not allocated at level 1 or that were allocated at level 1 but were not completely consumed by a consumer group or subplan at level 1. Similarly, resource consumers at level 3 are allocated resources only when some allocation remains from levels 1 and 2. The same rules apply to levels 4 through 8. Multiple levels not only provide a way of prioritizing, but they provide a way of explicitly specifying how all primary and leftover resources are to be used.</p>
                        <p>Use the management attributes <code class="codeph">MGMT_P</code><span class="italic"><code class="codeph">n</code></span>, where <span class="italic">n</span> is an integer between 1 and 8, to specify multiple levels of CPU resource allocation. For example, use the <code class="codeph">MGMT_P1</code> directive attribute to specify CPU resource allocation at level 1 and <code class="codeph">MGMT_P2</code> directive attribute to specify resource allocation at level 2.
                        </p>
                        <p>Use management attributes with parallel statement directive attributes, such as <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-15685C9E-AD79-4342-BFA9-18D478915267" title="You can limit the maximum degree of parallelism for any operation within a consumer group. Use the PARALLEL_DEGREE_LIMIT_P1 directive attribute to specify the degree of parallelism for a consumer group.">Degree of Parallelism Limit</a> and <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" title="Use the PARALLEL_SERVER_LIMIT directive attribute to specify the maximum percentage of the parallel execution server pool that a particular consumer group can use. The number of parallel execution servers used by a particular consumer group is counted as the sum of the parallel execution servers used by all sessions in that consumer group.">Parallel Server Limit</a>, to control parallel statement queuing. When parallel statement queuing is used, management attributes are used to determine which consumer group is allowed to issue the next parallel statement. For example, if you set the <code class="codeph">MGMT_P1</code> directive attribute for a consumer group to 80, that group has an 80% chance of issuing the next parallel statement.
                        </p>
                        <div class="infoboxnotealso" id="GUID-0872B649-47E0-421C-A434-57D2280857ED__GUID-026B2955-2961-4680-8F55-1CE770B6A158">
                           <p class="notep1">See Also:</p>
                           <p><a href="../vldbg/about-parallel-queuing.html#VLDBG1396" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for information about parallel statement queuing
                           </p>
                        </div>
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0872B649-47E0-421C-A434-57D2280857ED__CFHHJJHF" title="This table has 4 rows, one for each consumer group, and 3 columns. The columns are: Consumer Group, Level 1 CPU Allocation, Level 2 CPU Allocation, and Level 3 CPU Allocation">Table 27-1</a> illustrates a simple resource plan with three levels.
                        </p>
                        <div class="tblformal" id="GUID-0872B649-47E0-421C-A434-57D2280857ED__CFHHJJHF">
                           <p class="titleintable">Table 27-1 A Simple Three-Level Resource Plan</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="A Simple Three-Level Resource Plan" summary="This table has 4 rows, one for each consumer group, and 3 columns. The columns are: Consumer Group, Level 1 CPU Allocation, Level 2 CPU Allocation, and Level 3 CPU Allocation" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d241756e3613">Consumer Group</th>
                                    <th align="left" valign="bottom" width="22%" id="d241756e3616">Level 1 CPU Allocation</th>
                                    <th align="left" valign="bottom" width="21%" id="d241756e3619">Level 2 CPU Allocation</th>
                                    <th align="left" valign="bottom" width="21%" id="d241756e3622">Level 3 CPU Allocation</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e3627" headers="d241756e3613 ">
                                       <p><code class="codeph">HIGH_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d241756e3627 d241756e3616 ">
                                       <p>80%</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3627 d241756e3619 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3627 d241756e3622 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e3639" headers="d241756e3613 ">
                                       <p><code class="codeph">LOW_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d241756e3639 d241756e3616 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3639 d241756e3619 ">
                                       <p>50%</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3639 d241756e3622 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e3651" headers="d241756e3613 ">
                                       <p><code class="codeph">MAINT_SUBPLAN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d241756e3651 d241756e3616 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3651 d241756e3619 ">
                                       <p>50%</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3651 d241756e3622 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e3663" headers="d241756e3613 ">
                                       <p><code class="codeph">OTHER_GROUPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d241756e3663 d241756e3616 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3663 d241756e3619 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d241756e3663 d241756e3622 ">
                                       <p>100%</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>High priority applications run within <code class="codeph">HIGH_GROUP</code>, which is allocated 80% of CPU. Because <code class="codeph">HIGH_GROUP</code> is at level one, it gets priority for CPU utilization, but only up to 80% of CPU. This leaves a remaining 20% of CPU to be shared 50-50 by <code class="codeph">LOW_GROUP</code> and the <code class="codeph">MAINT_SUPLAN</code> at level 2. Any unused allocation from levels 1 and 2 are then available to <code class="codeph">OTHER_GROUPS</code> at level 3. Because <code class="codeph">OTHER_GROUPS</code> has no sibling consumer groups or subplans at its level, 100% is specified.
                        </p>
                        <p>Within a particular level, CPU allocations are not fixed. If there is not sufficient load in a particular consumer group or subplan, residual CPU can be allocated to remaining consumer groups or subplans. Thus, when there is only one level, unused allocation by any consumer group or subplan can be redistributed to other "sibling" consumer groups or subplans. If there are multiple levels, then the unused allocation is distributed to the consumer groups or subplans at the next level. If the last level has unused allocations, these allocations can be redistributed to all other levels in proportion to their designated allocations.</p>
                        <p>As an example of redistribution of unused allocations from one level to another, if during a particular period, <code class="codeph">HIGH_GROUP</code> consumes only 25% of CPU, then 75% is available to be shared by <code class="codeph">LOW_GROUP</code> and <code class="codeph">MAINT_SUBPLAN</code>. Any unused portion of the 75% at level 2 is then made available to <code class="codeph">OTHER_GROUPS</code> at level 3. However, if <code class="codeph">OTHER_GROUPS</code> has no session activity at level 3, then the 75% at level 2 can be redistributed to all other consumer groups and subplans in the plan proportionally.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435" title="To manage CPU resources, Resource Manager allocates resources among consumer groups and redistributes CPU resources that were allocated but were not used. You can also set a limit on the amount of CPU resources that can be allocated to a particular consumer group.">CPU</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13324"></a><a id="ADMIN13323"></a><div class="props_rev_3"><a id="GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C" name="GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C"></a><h5 id="ADMIN-GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C" class="sect5"><span class="enumeration_section">27.3.1.2 </span>Utilization Limit
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">UTILIZATION_LIMIT</code> attribute to impose an absolute upper limit on CPU utilization for a resource consumer group. This absolute limit overrides any redistribution of CPU within a plan.
                        </p>
                        <p>In the previous scenario, suppose that due to inactivity elsewhere, <code class="codeph">LOW_GROUP</code> acquires 90% of CPU. Suppose that you do not want to allow <code class="codeph">LOW_GROUP</code> to use 90% of the server because you do not want non-critical sessions to inundate the CPUs. The <code class="codeph">UTILIZATION_LIMIT</code> attribute of resource plan directives can prevent this situation.
                        </p>
                        <p>Setting the <code class="codeph">UTILIZATION_LIMIT</code> attribute is optional. If you omit this attribute for a consumer group, there is no limit on the amount of CPU that the consumer group can use. Therefore, if all the other applications are idle, a consumer group that does not have <code class="codeph">UTILIZATION_LIMIT</code> set can be allocated 100% of the CPU resources.
                        </p>
                        <p>You can also use the <code class="codeph">UTILIZATION_LIMIT</code> attribute as the sole means of limiting CPU utilization for consumer groups, without specifying level limits.
                        </p>
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C__CFHDIHII" title="This table has 4 rows, one for each consumer group, and 4 columns. The columns are: Consumer Group, Level 1 CPU Allocation, Level 2 CPU Allocation, Level 3 CPU Allocation, and Maximum Utiliization Limit">Table 27-2</a> shows a variation of the previous plan. In this plan, using <code class="codeph">UTILIZATION_LIMIT</code>, CPU utilization is capped at 75% for <code class="codeph">LOW_GROUP</code>, 50% for <code class="codeph">MAINT_SUBPLAN</code>, and 75% for <code class="codeph">OTHER_GROUPS</code>. (Note that the sum of all utilization limits can exceed 100%. Each limit is applied independently.)
                        </p>
                        <div class="tblformal" id="GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C__CFHDIHII">
                           <p class="titleintable">Table 27-2 A Three-Level Resource Plan with Utilization Limits</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="A Three-Level Resource Plan with Utilization Limits" summary="This table has 4 rows, one for each consumer group, and 4 columns. The columns are: Consumer Group, Level 1 CPU Allocation, Level 2 CPU Allocation, Level 3 CPU Allocation, and Maximum Utiliization Limit" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d241756e3813">Consumer Group</th>
                                    <th align="left" valign="bottom" width="19%" id="d241756e3816">Level 1 CPU Allocation</th>
                                    <th align="left" valign="bottom" width="18%" id="d241756e3819">Level 2 CPU Allocation</th>
                                    <th align="left" valign="bottom" width="19%" id="d241756e3822">Level 3 CPU Allocation</th>
                                    <th align="left" valign="bottom" width="18%" id="d241756e3825">Utilization Limit</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d241756e3830" headers="d241756e3813 ">
                                       <p><code class="codeph">HIGH_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3830 d241756e3816 ">
                                       <p>80%</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3830 d241756e3819 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3830 d241756e3822 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3830 d241756e3825 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d241756e3844" headers="d241756e3813 ">
                                       <p><code class="codeph">LOW_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3844 d241756e3816 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3844 d241756e3819 ">
                                       <p>50%</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3844 d241756e3822 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3844 d241756e3825 ">
                                       <p>75%</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d241756e3859" headers="d241756e3813 ">
                                       <p><code class="codeph">MAINT_SUBPLAN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3859 d241756e3816 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3859 d241756e3819 ">
                                       <p>50%</p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3859 d241756e3822 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3859 d241756e3825 ">
                                       <p>50%</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d241756e3874" headers="d241756e3813 ">
                                       <p><code class="codeph">OTHER_GROUPS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3874 d241756e3816 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3874 d241756e3819 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" width="19%" headers="d241756e3874 d241756e3822 ">
                                       <p>100%</p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d241756e3874 d241756e3825 ">
                                       <p>75%</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>In the example described in <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C__CFHDIHII" title="This table has 4 rows, one for each consumer group, and 4 columns. The columns are: Consumer Group, Level 1 CPU Allocation, Level 2 CPU Allocation, Level 3 CPU Allocation, and Maximum Utiliization Limit">Table 27-2</a>, if <code class="codeph">HIGH_GROUP</code> is using only 10% of the CPU at a given time, then the remaining 90% is available to <code class="codeph">LOW_GROUP</code> and the consumer groups in <code class="codeph">MAINT_SUBPLAN</code> at level 2. If <code class="codeph">LOW_GROUP</code> uses only 20% of the CPU, then 70% can be allocated to <code class="codeph">MAINT_SUBPLAN</code>. However, <code class="codeph">MAINT_SUBPLAN</code> has a <code class="codeph">UTILIZATION_LIMIT</code> of 50%. Therefore, even though more CPU resources are available, the server cannot allocate more than 50% of the CPU to the consumer groups that belong to the subplan <code class="codeph">MAINT_SUBPLAN</code>.
                        </p>
                        <p>You can set <code class="codeph">UTILIZATION_LIMIT</code> for both a subplan and the consumer groups that the subplan contains. In such cases, the limit for a consumer group is computed using the limits specified for the subplan and that consumer group. For example, the <code class="codeph">MAINT_SUBPLAN</code> contains the consumer groups <code class="codeph">MAINT_GROUP1</code> and <code class="codeph">MAINT_GROUP2</code>. <code class="codeph">MAINT_GROUP1</code> has <code class="codeph">UTILIZATION_LIMIT</code> set to 40%. However, the limit for <code class="codeph">MAINT_SUBPLAN</code> is set to 50%. Therefore, the limit for consumer group <code class="codeph">MAINT_GROUP1</code> is computed as 40% of 50%, or 20%. For an example of how to compute <code class="codeph">UTILIZATION_LIMIT</code> for a consumer group when limits are specified for both the consumer group and the subplan to which the group belongs, see <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABEAJGH">Example 4 - Specifying a Utilization Limit for Consumer Groups and Subplans</a>"</span>.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-DDE2E916-61E2-4754-B398-6AE677DFE44C__GUID-4628DABB-EBDE-4717-A87A-30C7028035C2">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="You use the CREATE_PLAN_DIRECTIVE procedure to create resource plan directives. Each directive belongs to a plan or subplan and allocates resources to either a consumer group or subplan.">Creating Resource Plan Directives </a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">Putting It All Together: Oracle Database Resource Manager Examples</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-514BDECF-BE80-4CCA-A00D-EF37C2CFC435" title="To manage CPU resources, Resource Manager allocates resources among consumer groups and redistributes CPU resources that were allocated but were not used. You can also set a limit on the amount of CPU resources that can be allocated to a particular consumer group.">CPU</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN14007"></a><div class="props_rev_3"><a id="GUID-FA1F02AF-9DBD-4F97-A781-25F427367619" name="GUID-FA1F02AF-9DBD-4F97-A781-25F427367619"></a><h4 id="ADMIN-GUID-FA1F02AF-9DBD-4F97-A781-25F427367619" class="sect4"><span class="enumeration_section">27.3.2 </span>Exadata I/O
                  </h4>
                  <div>
                     <p>Management attributes enable you to specify CPU resource allocation for Exadata I/O.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FA1F02AF-9DBD-4F97-A781-25F427367619__GUID-099C4810-1F1E-428D-8A43-5C5CF720C503">
                        <p class="notep1">See Also:</p>
                        <p>The Exadata documentation for information about using management attributes for Exadata I/O</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.">The Types of Resources Managed by the Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14008"></a><div class="props_rev_3"><a id="GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" name="GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603"></a><h4 id="ADMIN-GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" class="sect4"><span class="enumeration_section">27.3.3 </span>Parallel Execution Servers
                  </h4>
                  <p>Resource Manager can manage usage of the available parallel execution servers for a database.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-15685C9E-AD79-4342-BFA9-18D478915267">Degree of Parallelism Limit</a><br>You can limit the maximum degree of parallelism for any operation within a consumer group. Use the <code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code> directive attribute to specify the degree of parallelism for a consumer group.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9">Parallel Server Limit</a><br>Use the <code class="codeph">PARALLEL_SERVER_LIMIT</code> directive attribute to specify the maximum percentage of the parallel execution server pool that a particular consumer group can use. The number of parallel execution servers used by a particular consumer group is counted as the sum of the parallel execution servers used by all sessions in that consumer group.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B141036C-7F55-45FE-8824-93528DD9517C">Parallel Queue Timeout</a><br>The <code class="codeph">PARALLEL_QUEUE_TIMEOUT</code> directive attribute enables you to specify the maximum time, in seconds, that a parallel statement can wait in the parallel statement queue before it is timed out.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.">The Types of Resources Managed by the Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11854"></a><div class="props_rev_3"><a id="GUID-15685C9E-AD79-4342-BFA9-18D478915267" name="GUID-15685C9E-AD79-4342-BFA9-18D478915267"></a><h5 id="ADMIN-GUID-15685C9E-AD79-4342-BFA9-18D478915267" class="sect5"><span class="enumeration_section">27.3.3.1 </span>Degree of Parallelism Limit
                     </h5>
                     <div>
                        <p>You can limit the maximum degree of parallelism for any operation within a consumer group. Use the <code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code> directive attribute to specify the degree of parallelism for a consumer group.
                        </p>
                        <p>The degree of parallelism limit applies to one operation within a consumer group; it does not limit the total degree of parallelism across all operations within the consumer group. However, you can combine both the <code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code> and the <code class="codeph">PARALLEL_SERVER_LIMIT</code> directive attributes to achieve the desired control. For more information about the <code class="codeph">PARALLEL_SERVER_LIMIT</code> attribute, see <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" title="Use the PARALLEL_SERVER_LIMIT directive attribute to specify the maximum percentage of the parallel execution server pool that a particular consumer group can use. The number of parallel execution servers used by a particular consumer group is counted as the sum of the parallel execution servers used by all sessions in that consumer group.">Parallel Server Limit</a>"</span>.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-15685C9E-AD79-4342-BFA9-18D478915267__GUID-91074CD7-B349-459E-A3C2-AA68D296C352">
                           <p class="notep1">See Also:</p>
                           <p><a href="../vldbg/about-parallel-queuing.html#VLDBG14020" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about degree of parallelism in producer/consumer operations
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" title="Resource Manager can manage usage of the available parallel execution servers for a database.">Parallel Execution Servers</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13466"></a><div class="props_rev_3"><a id="GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" name="GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9"></a><h5 id="ADMIN-GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" class="sect5"><span class="enumeration_section">27.3.3.2 </span>Parallel Server Limit
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">PARALLEL_SERVER_LIMIT</code> directive attribute to specify the maximum percentage of the parallel execution server pool that a particular consumer group can use. The number of parallel execution servers used by a particular consumer group is counted as the sum of the parallel execution servers used by all sessions in that consumer group.
                        </p>
                        <p>It is possible for a single consumer group to launch enough parallel statements to use all of the available parallel execution servers. If this happens when a high-priority parallel statement from a different consumer group is run, then no parallel execution servers are available to allocate to this group. You can avoid such a scenario by limiting the number of parallel execution servers that can be used by a particular consumer group. You can also set the directive <code class="codeph">PARALLEL_STMT_CRITICAL</code> to <code class="codeph">BYPASS_QUEUE</code> for the high-priority consumer group so that parallel statements from the consumer group bypass the parallel statement queue.
                        </p>
                        <p>For example, assume that the total number of parallel execution servers is 32, as set by the <code class="codeph">PARALLEL_SERVERS_TARGET</code> initialization parameter, and the <code class="codeph">PARALLEL_SERVER_LIMIT</code> directive attribute for the consumer group <code class="codeph">MY_GROUP</code> is set to 50%. This consumer group can use a maximum of 50% of 32, or 16 parallel execution servers.
                        </p>
                        <p>If your resource plan has management attributes (<code class="codeph">MGMT_P1</code>, <code class="codeph">MGMT_P2</code>, and so on), then a separate parallel statement queue is managed as a First In First Out (FIFO) queue for each management attribute.
                        </p>
                        <p>If your resource plan does not have any management attributes, then a single parallel statement queue is managed as a FIFO queue.</p>
                        <p>In the case of an Oracle Real Application Clusters (Oracle RAC) environment, the target number of parallel execution servers is the sum of (<code class="codeph">PARALLEL_SERVER_LIMIT</code> * <code class="codeph">PARALLEL_SERVERS_TARGET</code> / 100) across all Oracle RAC instances. If a consumer group is using the number of parallel execution servers computed above or more, then it has exceeded its limit, and its parallel statements will be queued.
                        </p>
                        <p>If a consumer group does not have any parallel statements running within an Oracle RAC database, then the first parallel statement is allowed to exceed the limit specified by <code class="codeph">PARALLEL_SERVER_LIMIT</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9__GUID-89B7AF41-DB39-4C0F-A609-B19E3268C1B0">
                           <p class="notep1">Note:</p>
                           <p>In an Oracle Real Application Clusters (Oracle RAC) environment, the <code class="codeph">PARALLEL_SERVER_LIMIT</code> attribute applies to the entire cluster and not to a single instance.
                           </p>
                        </div>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8">Managing Parallel Statement Queuing Using Parallel Server Limit</a><br>The <code class="codeph">PARALLEL_SERVER_LIMIT</code> attribute enables you to specify when parallel statements from a consumer group can be queued. Oracle Database maintains a separate parallel statement queue for each consumer group.
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9__GUID-C73CF0E6-815E-4343-AF0E-8BEBC3684782">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="You use the CREATE_PLAN_DIRECTIVE procedure to create resource plan directives. Each directive belongs to a plan or subplan and allocates resources to either a consumer group or subplan.">Creating Resource Plan Directives </a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8" title="The PARALLEL_SERVER_LIMIT attribute enables you to specify when parallel statements from a consumer group can be queued. Oracle Database maintains a separate parallel statement queue for each consumer group.">Managing Parallel Statement Queuing Using Parallel Server Limit</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../vldbg/about-parallel-queuing.html#VLDBG1396" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for information about parallel statement queuing
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" title="Resource Manager can manage usage of the available parallel execution servers for a database.">Parallel Execution Servers</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN13467"></a><div class="props_rev_3"><a id="GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8" name="GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8"></a><h6 id="ADMIN-GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8" class="sect6"><span class="enumeration_section">27.3.3.2.1 </span>Managing Parallel Statement Queuing Using Parallel Server Limit
                        </h6>
                        <div>
                           <p>The <code class="codeph">PARALLEL_SERVER_LIMIT</code> attribute enables you to specify when parallel statements from a consumer group can be queued. Oracle Database maintains a separate parallel statement queue for each consumer group.
                           </p>
                           <p>A parallel statement from a consumer group is not run and instead is added to the parallel statement queue of that consumer group if the following conditions are met:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">PARALLEL_DEGREE_POLICY</code> is set to <code class="codeph">AUTO</code>.
                                 </p>
                                 <p>Setting this initialization parameter to <code class="codeph">AUTO</code> enables automatic degree of parallelism (Auto DOP), parallel statement queuing, and in-memory parallel execution.
                                 </p>
                                 <p>Note that parallel statements which have <code class="codeph">PARALLEL_DEGREE_POLICY</code> set to <code class="codeph">MANUAL</code> or <code class="codeph">LIMITED</code> are executed immediately and are not added to the parallel statement queue.
                                 </p>
                              </li>
                              <li>
                                 <p>The number of active parallel execution servers across all consumer groups exceeds the <code class="codeph">PARALLEL_SERVERS_TARGET</code> initialization parameter setting. This condition applies regardless of whether you specify <code class="codeph">PARALLEL_SERVER_LIMIT</code>. If <code class="codeph">PARALLEL_SERVER_LIMIT</code> is not specified, then it defaults to 100%.
                                 </p>
                              </li>
                              <li>
                                 <p>The sum of the number of active parallel execution servers for the consumer group and the degree of parallelism of the parallel statement exceeds the target number of active parallel execution servers.</p>
                                 <p>The target number of active parallel execution servers is computed as follows:</p>
                                 <p><code class="codeph">PARALLEL_SERVER_LIMIT</code>/100 * <code class="codeph">PARALLEL_SERVERS_TARGET</code></p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8__GUID-5B7C8185-447C-4FDD-864B-1D3DC2E88E06">
                              <p class="notep1">Note:</p>
                              <p>Although parallel execution server usage is monitored for all sessions, the parallel execution server directive attributes you set affect only sessions for which parallel statement queuing is enabled (<code class="codeph">PARALLEL_DEGREE_POLICY</code> is set to <code class="codeph">AUTO</code>). If a session has the <code class="codeph">PARALLEL_DEGREE_POLICY</code> set to <code class="codeph">MANUAL</code>, parallel statements from this session are not queued. However, any parallel execution servers used by such sessions are included in the count that is used to determine the limit for <code class="codeph">PARALLEL_SERVER_LIMIT</code>. Even if this limit is exceeded, parallel statements from this session are not queued.
                              </p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-D65FBE46-0B43-4CC7-B1D8-6C2F3A6768F8__GUID-B0103B4E-1409-4AF0-A7F1-904F23507D03">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" title="Use the PARALLEL_SERVER_LIMIT directive attribute to specify the maximum percentage of the parallel execution server pool that a particular consumer group can use. The number of parallel execution servers used by a particular consumer group is counted as the sum of the parallel execution servers used by all sessions in that consumer group.">Parallel Server Limit</a>"</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-CDF30CA7-5A14-4C17-8C32-746F0763A7C9" title="Use the PARALLEL_SERVER_LIMIT directive attribute to specify the maximum percentage of the parallel execution server pool that a particular consumer group can use. The number of parallel execution servers used by a particular consumer group is counted as the sum of the parallel execution servers used by all sessions in that consumer group.">Parallel Server Limit</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN13468"></a><div class="props_rev_3"><a id="GUID-B141036C-7F55-45FE-8824-93528DD9517C" name="GUID-B141036C-7F55-45FE-8824-93528DD9517C"></a><h5 id="ADMIN-GUID-B141036C-7F55-45FE-8824-93528DD9517C" class="sect5"><span class="enumeration_section">27.3.3.3 </span>Parallel Queue Timeout
                     </h5>
                     <div>
                        <p>The <code class="codeph">PARALLEL_QUEUE_TIMEOUT</code> directive attribute enables you to specify the maximum time, in seconds, that a parallel statement can wait in the parallel statement queue before it is timed out.
                        </p>
                        <p>When you use parallel statement queuing, if the database does not have sufficient resources to execute a parallel statement, the statement is queued until the required resources become available. However, there is a chance that a parallel statement may be waiting in the parallel statement queue for longer than is desired. You can prevent such scenarios by specifying the maximum time a parallel statement can wait in the parallel statement queue.</p>
                        <p>The <code class="codeph">PARALLEL_QUEUE_TIMEOUT</code> attribute can be set for each consumer group. This attribute is applicable even if you do not specify other management attributes (<code class="codeph">MGMT_P1</code>, <code class="codeph">MGMT_P2</code>, and so on) in your resource plan.
                        </p>
                        <div class="infoboxnotealso" id="GUID-B141036C-7F55-45FE-8824-93528DD9517C__GUID-25459C25-11A0-46D8-9E7B-280DF7D4100B">
                           <p class="notep1">See Also:</p>
                           <p><a href="../vldbg/about-parallel-queuing.html#VLDBG1396" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about parallel statement queuing
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-B141036C-7F55-45FE-8824-93528DD9517C__GUID-139FDDDB-7FFE-408A-8619-4AF17A66E7FC">
                           <p class="notep1">Note:</p>
                           <p>Because the parallel statement queue is clusterwide, all directives related to the parallel statement queue are also clusterwide.</p>
                        </div>
                        <p>You can control how a timed out parallel statement is handled by setting the <code class="codeph">PQ_TIMEOUT_ACTION</code> attribute for each consumer group. You can set this attribute to the following values:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CANCEL</code> - The statement execution ends with the error <code class="codeph">ORA-07454</code>. This is the default action for a timed out parallel statement.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RUN</code> - The statement runs immediately. If there are not sufficient parallel servers to run the statement immediately, then the statement is downgraded to run at a lower degree of parallelism.
                              </p>
                              <p></p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B141036C-7F55-45FE-8824-93528DD9517C__GUID-A03496B7-DA5D-4CA2-9EA9-6542133BAC47">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B4256D06-2223-49A1-A939-9BE9706498BC" title="An example illustrates managing parallel statements using directive attributes.">Example of Managing Parallel Statements Using Directive Attributes</a>"</span> for more information about the combined use of all the parallel execution server directive attributes
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" title="Resource Manager can manage usage of the available parallel execution servers for a database.">Parallel Execution Servers</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115" name="GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115"></a><h4 id="ADMIN-GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115" class="sect4"><span class="enumeration_section">27.3.4 </span>Program Global Area (PGA)
                  </h4>
                  <div>
                     <p>To manage PGA resources, Resource Manager can limit the amount of PGA memory that can be allocated to each session in a particular consumer group.</p>
                     <p>To limit the PGA resources for each session in a consumer group, set the <code class="codeph">session_pga_limit</code> parameter in the package procedure <code class="codeph">DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE</code>. The value of this parameter is the maximum amount of PGA memory, in megabytes, allowed for each session in the consumer group. If a session exceeds the limit set for its consumer group, then error ORA-10260 is raised. This limit includes parallel query slaves and job queue processes.
                     </p>
                     <p>For example, poorly written PL/SQL code can consume an unbounded amount of PGA. You can use the <code class="codeph">session_pga_limit</code> parameter to limit sessions that run PL/SQL code to ensure that those sessions do not use an inordinate amount of PGA resource.
                     </p>
                     <p>The following table illustrates a simple resource plan with PGA limits.</p>
                     <div class="tblformal" id="GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115__CFHHJJHF">
                        <p class="titleintable">Table 27-3 A Simple Resource Plan with PGA Limits</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="A Simple Resource Plan with PGA Limits" summary="This table has 4 rows, one for each consumer group, and 2 columns. The columns are: Consumer Group and session_pga_limit Value." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d241756e4574">Consumer Group</th>
                                 <th align="left" valign="bottom" width="50%" id="d241756e4577">session_pga_limit Value</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d241756e4582" headers="d241756e4574 ">
                                    <p><code class="codeph">HIGH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d241756e4582 d241756e4577 ">
                                    <p>20</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d241756e4590" headers="d241756e4574 ">
                                    <p><code class="codeph">LOW_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d241756e4590 d241756e4577 ">
                                    <p>10</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d241756e4598" headers="d241756e4574 ">
                                    <p><code class="codeph">MAINT_SUBPLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d241756e4598 d241756e4577 ">
                                    <p>Null (unlimited)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d241756e4606" headers="d241756e4574 ">
                                    <p><code class="codeph">OTHER_GROUPS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d241756e4606 d241756e4577 ">
                                    <p>Null (unlimited)</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>In this resource plan, high priority applications run within <code class="codeph">HIGH_GROUP</code>, and each session in that group is limited to 20 MB of PGA resource. The sessions used by the lower priority applications within <code class="codeph">LOW_GROUP</code> are limited to 10 MB of PGA resource. The sessions used for maintenance jobs within <code class="codeph">MAINT_SUPLAN</code> and other sessions within <code class="codeph">OTHER_GROUPS</code> can use unlimited PGA resource.
                     </p>
                     <div class="infoboxnote" id="GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115__GUID-A081A297-581E-4100-8EC5-D453BB16DDE8">
                        <p class="notep1">Note:</p>You can limit the PGA usage of a whole instance with the <code class="codeph">PGA_AGGREGATE_LIMIT</code> initialization parameter.
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.">The Types of Resources Managed by the Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14010"></a><div class="props_rev_3"><a id="GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" name="GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F"></a><h4 id="ADMIN-GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" class="sect4"><span class="enumeration_section">27.3.5 </span>Runaway Queries
                  </h4>
                  <div>
                     <p>Runaway sessions and calls can adversely impact overall performance if they are not managed properly. Resource Manager can take action when a session or call consumes more than a specified amount of CPU, physical I/O, logical I/O, or elapsed time. Resource Manager can either switch the session or call to a consumer group that is allocated a small amount of CPU or terminate the session or call. </p>
                     <div class="p">
                        <div class="infoboxnote" id="GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F__GUID-A4FD7808-2924-49B7-9C93-00AB346EE425">
                           <p class="notep1">Note:</p>
                           <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), Resource Manager can also limit the amount of PGA memory that can be allocated to each session in a particular consumer group.
                           </p>
                        </div>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E03C9BD0-20B6-4DB4-9EAA-571D66E3C512">Automatic Consumer Group Switching</a><br>You can control resource allocation by specifying criteria that, if met, causes the automatic switching of a session to a specified consumer group. 
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035">Canceling SQL and Terminating Sessions</a><br>You can use the Resource Manager to cancel long-running SQL queries or to terminate long-running sessions based on their amount of consumption of system resources, such as CPU and I/O.
                        </li>
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2C01FDE1-DCB3-44D6-8E80-66EEE98638F6">Execution Time Limit</a><br>You can specify a maximum execution time allowed for an operation.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F__GUID-7EDE0B3E-E302-4DBC-84F9-985BA29C5D15">
                        <p class="notep1">See Also:</p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6D549CB5-9AEB-43F2-9901-0092C7B76115" title="To manage PGA resources, Resource Manager can limit the amount of PGA memory that can be allocated to each session in a particular consumer group.">Program Global Area (PGA)</a>"</span></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.">The Types of Resources Managed by the Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11855"></a><div class="props_rev_3"><a id="GUID-E03C9BD0-20B6-4DB4-9EAA-571D66E3C512" name="GUID-E03C9BD0-20B6-4DB4-9EAA-571D66E3C512"></a><h5 id="ADMIN-GUID-E03C9BD0-20B6-4DB4-9EAA-571D66E3C512" class="sect5"><span class="enumeration_section">27.3.5.1 </span>Automatic Consumer Group Switching
                     </h5>
                     <div>
                        <p>You can control resource allocation by specifying criteria that, if met, causes the automatic switching of a session to a specified consumer group. </p>
                        <p>Typically, this method is used to switch a session from a high-priority consumer group—one that receives a high proportion of system resources—to a lower priority consumer group because that session exceeded the expected resource consumption for a typical session in the group.</p>
                        <p>See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" title="You can manage runaway sessions or calls that use CPU, physical I/O, or logical I/O resources beyond a specified limit. A runaway session is a SQL query, while a runaway call is a PL/SQL call.">Specifying Automatic Switching by Setting Resource Limits</a>"</span> for more information.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" title="Runaway sessions and calls can adversely impact overall performance if they are not managed properly. Resource Manager can take action when a session or call consumes more than a specified amount of CPU, physical I/O, logical I/O, or elapsed time. Resource Manager can either switch the session or call to a consumer group that is allocated a small amount of CPU or terminate the session or call.">Runaway Queries</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11856"></a><div class="props_rev_3"><a id="GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035" name="GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035"></a><h5 id="ADMIN-GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035" class="sect5"><span class="enumeration_section">27.3.5.2 </span>Canceling SQL and Terminating Sessions
                     </h5>
                     <div>
                        <p>You can use the Resource Manager to cancel long-running SQL queries or to terminate long-running sessions based on their amount of consumption of system resources, such as CPU and I/O.</p>
                        <p>The SQL queries canceled by the Resource Manager can be configured for quarantine using the<code class="codeph">DBMS_SQLQ</code> package subprograms, so that those queries are not allowed to run again.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8E8799CD-A07C-4F5E-8CB8-4587A782C035__GUID-0542B22D-D25D-4C12-8B8C-79DAAAF218A0">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4206F2EE-E897-4F60-BDE0-3623C1BDBB12" title="You can manage runaway sessions or calls that use CPU, physical I/O, or logical I/O resources beyond a specified limit. A runaway session is a SQL query, while a runaway call is a PL/SQL call.">Specifying Automatic Switching by Setting Resource Limits</a>"</span> for more information about how to configure the Resource Manager to cancel SQL queries or to terminate sessions based on their consumption of system resources
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="diagnosing-and-resolving-problems.html#GUID-1CF7E2B7-1BF8-4907-889E-1107CAA83E51" title="Starting with Oracle Database 19c, you can use the SQL Quarantine infrastructure (SQL Quarantine) to quarantine execution plans for SQL statements that are terminated by the Resource Manager for consuming excessive system resources in an Oracle database. An individual SQL statement may have multiple execution plans, and if it attempts to use the execution plan that is quarantined, then that SQL statement is not allowed to run, thus preventing database performance degradation.">Quarantine for Execution Plans for SQL Statements Consuming Excessive System Resources</a>"</span> for more information about how to configure quarantine settings for SQL queries using the <code class="codeph">DBMS_SQLQ</code> package subprograms
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" title="Runaway sessions and calls can adversely impact overall performance if they are not managed properly. Resource Manager can take action when a session or call consumes more than a specified amount of CPU, physical I/O, logical I/O, or elapsed time. Resource Manager can either switch the session or call to a consumer group that is allocated a small amount of CPU or terminate the session or call.">Runaway Queries</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11857"></a><div class="props_rev_3"><a id="GUID-2C01FDE1-DCB3-44D6-8E80-66EEE98638F6" name="GUID-2C01FDE1-DCB3-44D6-8E80-66EEE98638F6"></a><h5 id="ADMIN-GUID-2C01FDE1-DCB3-44D6-8E80-66EEE98638F6" class="sect5"><span class="enumeration_section">27.3.5.3 </span>Execution Time Limit
                     </h5>
                     <div>
                        <p>You can specify a maximum execution time allowed for an operation.</p>
                        <p>If the database estimates that an operation will run longer than the specified maximum execution time, then the operation is terminated with an error. This error can be trapped and the operation rescheduled.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-DF4C2ADF-9369-44D5-933B-1D5DD4AF607F" title="Runaway sessions and calls can adversely impact overall performance if they are not managed properly. Resource Manager can take action when a session or call consumes more than a specified amount of CPU, physical I/O, logical I/O, or elapsed time. Resource Manager can either switch the session or call to a consumer group that is allocated a small amount of CPU or terminate the session or call.">Runaway Queries</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11853"></a><div class="props_rev_3"><a id="GUID-4CC29C2F-62AC-4E8A-90AA-5B952EA8DC8E" name="GUID-4CC29C2F-62AC-4E8A-90AA-5B952EA8DC8E"></a><h4 id="ADMIN-GUID-4CC29C2F-62AC-4E8A-90AA-5B952EA8DC8E" class="sect4"><span class="enumeration_section">27.3.6 </span>Active Session Pool with Queuing
                  </h4>
                  <div>
                     <p>You can control the maximum number of concurrently active sessions allowed within a consumer group. This maximum defines the <span class="bold">active session pool</span>. 
                     </p>
                     <p>An <span class="bold">active session</span> is a session that is actively processing a transaction or SQL statement. Specifically, an active session is either in a transaction, holding a user enqueue, or has an open cursor and has not been idle for over 5 seconds. An active session is considered active even if it is blocked, for example waiting for an I/O request to complete. When the active session pool is full, a session that is trying to process a call is placed into a queue. When an active session completes, the first session in the queue can then be removed from the queue and scheduled for execution. You can also specify a period after which a session in the execution queue times out, causing the call to terminate with an error.
                     </p>
                     <p>Active session limits should not be used for OLTP workloads. In addition, active session limits should not be used to implement connection pooling or parallel statement queuing.</p>
                     <p>To manage parallel statements, you must use parallel statement queuing with the <code class="codeph">PARALLEL_SERVER_LIMIT</code> attribute and management attributes (<code class="codeph">MGMT_P1</code>, <code class="codeph">MGMT_P2</code>, and so on).
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.">The Types of Resources Managed by the Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11858"></a><div class="props_rev_3"><a id="GUID-3BF122ED-7A05-45CB-ACEC-585B7BAB056A" name="GUID-3BF122ED-7A05-45CB-ACEC-585B7BAB056A"></a><h4 id="ADMIN-GUID-3BF122ED-7A05-45CB-ACEC-585B7BAB056A" class="sect4"><span class="enumeration_section">27.3.7 </span>Undo Pool
                  </h4>
                  <div>
                     <p>You can specify an undo pool for each consumer group. An undo pool controls the total amount of undo for uncommitted transactions that can be generated by a consumer group.</p>
                     <p>When the total undo generated by a consumer group exceeds its undo limit, the current DML statement generating the undo is terminated. No other members of the consumer group can perform further data manipulation until undo space is freed from the pool.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.">The Types of Resources Managed by the Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11859"></a><div class="props_rev_3"><a id="GUID-6DDADDCA-1E89-4F50-9089-7AAA8C056CA5" name="GUID-6DDADDCA-1E89-4F50-9089-7AAA8C056CA5"></a><h4 id="ADMIN-GUID-6DDADDCA-1E89-4F50-9089-7AAA8C056CA5" class="sect4"><span class="enumeration_section">27.3.8 </span>Idle Time Limit
                  </h4>
                  <div>
                     <p>You can specify an amount of time that a session can be idle, after which it is terminated.</p>
                     <p>You can also specify a more stringent idle time limit that applies to sessions that are idle and blocking other sessions.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4BBE0B17-3B05-49FA-979A-C649A9EE6DD9" title="Resource plan directives specify how resources are allocated to resource consumer groups or subplans. Each directive can specify several different methods for allocating resources to its consumer group or subplan.">The Types of Resources Managed by the Resource Manager</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12649"></a><a id="ADMIN11861"></a><div class="props_rev_3"><a id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB" name="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB"></a><h3 id="ADMIN-GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB" class="sect3"><span class="enumeration_section">27.4 </span>Creating a Simple Resource Plan 
               </h3>
               <div>
                  <p>You can quickly create a simple resource plan that is adequate for many situations using the <code class="codeph">CREATE_SIMPLE_PLAN</code> procedure.
                  </p>
                  <div class="section">
                     <p>This procedure enables you to both create consumer groups and allocate resources to them by executing a single procedure call. Using this procedure, you are not required to invoke the procedures that are described in succeeding sections for creating a pending area, creating each consumer group individually, specifying resource plan directives, and so on.</p>
                     <p>You specify the following arguments for the <code class="codeph">CREATE_SIMPLE_PLAN</code> procedure: 
                     </p>
                     <div class="tblformal" id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB__GUID-361099EF-D963-4B81-847A-6FB9BBA32CED">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the parameters that can be specified for the CREATE_SIMPLE_PLAN procedure. Column2 describes the function of each parameter." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="44%" id="d241756e5077">Parameter</th>
                                 <th align="left" valign="bottom" width="56%" id="d241756e5080">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5085" headers="d241756e5077 ">
                                    <p><code class="codeph">SIMPLE_PLAN</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5085 d241756e5080 ">
                                    <p>Name of the plan</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5094" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP1</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5094 d241756e5080 ">
                                    <p>Consumer group name for first group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5103" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP1_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5103 d241756e5080 ">
                                    <p>CPU resource allocated to this group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5112" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP2</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5112 d241756e5080 ">
                                    <p>Consumer group name for second group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5121" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP2_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5121 d241756e5080 ">
                                    <p>CPU resource allocated to this group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5130" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP3</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5130 d241756e5080 ">
                                    <p>Consumer group name for third group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5139" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP3_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5139 d241756e5080 ">
                                    <p>CPU resource allocated to this group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5148" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP4</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5148 d241756e5080 ">
                                    <p>Consumer group name for fourth group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5157" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP4_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5157 d241756e5080 ">
                                    <p>CPU resource allocated to this group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5166" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP5</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5166 d241756e5080 ">
                                    <p>Consumer group name for fifth group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5175" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP5_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5175 d241756e5080 ">
                                    <p>CPU resource allocated to this group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5185" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP6</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5185 d241756e5080 ">
                                    <p>Consumer group name for sixth group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5194" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP6_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5194 d241756e5080 ">
                                    <p>CPU resource allocated to this group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5203" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP7</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5203 d241756e5080 ">
                                    <p>Consumer group name for seventh group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5212" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP7_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5212 d241756e5080 ">
                                    <p>CPU resource allocated to this group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5221" headers="d241756e5077 ">
                                    <p><code class="codeph">CONSUMER_GROUP8</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5221 d241756e5080 ">
                                    <p>Consumer group name for eighth group</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="44%" id="d241756e5230" headers="d241756e5077 ">
                                    <p><code class="codeph">GROUP8_PERCENT</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="56%" headers="d241756e5230 d241756e5080 ">
                                    <p>CPU resource allocated to this group</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>You can specify up to eight consumer groups with this procedure. The only resource allocation method supported is CPU. The plan uses the <code class="codeph">EMPHASIS</code> CPU allocation policy (the default) and each consumer group uses the <code class="codeph">ROUND_ROBIN</code> scheduling policy (also the default). Each consumer group specified in the plan is allocated its CPU percentage at level 2. Also implicitly included in the plan are <code class="codeph">SYS_GROUP</code> (a system-defined group that is the initial consumer group for the users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>) and <code class="codeph">OTHER_GROUPS</code>. The <code class="codeph">SYS_GROUP</code> consumer group is allocated 100% of the CPU at level 1, and <code class="codeph">OTHER_GROUPS</code> is allocated 100% of the CPU at level 3.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB__GUID-10917571-6EB0-4B71-AD91-7AC0110F901B">Example: Creating a Simple Plan with the CREATE_SIMPLE_PLAN Procedure</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following PL/SQL block creates a simple resource plan with two user-specified consumer groups:</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_SIMPLE_PLAN(SIMPLE_PLAN =&gt; 'SIMPLE_PLAN1',
   CONSUMER_GROUP1 =&gt; 'MYGROUP1', GROUP1_PERCENT =&gt; 80,
   CONSUMER_GROUP2 =&gt; 'MYGROUP2', GROUP2_PERCENT =&gt; 20);
END;
/
</pre><p>Executing the preceding statements creates the following plan:</p>
                     <div class="tblformal" id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB__GUID-C78033BA-AB51-4B1F-96AA-AD8E71A4C8BC">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes the results of executing the previous statements. Column 1 lists the consumer group, columns 2-4 show the amount of CPU granted to each level (level1, level 2, and level3, respectively)." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="32%" id="d241756e5285">Consumer Group</th>
                                 <th align="left" valign="bottom" width="23%" id="d241756e5288">Level 1</th>
                                 <th align="left" valign="bottom" width="23%" id="d241756e5291">Level 2</th>
                                 <th align="left" valign="bottom" width="23%" id="d241756e5294">Level 3</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d241756e5299" headers="d241756e5285 ">
                                    <p><code class="codeph">SYS_GROUP</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5299 d241756e5288 ">
                                    <p>100%</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5299 d241756e5291 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5299 d241756e5294 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d241756e5314" headers="d241756e5285 ">
                                    <p><code class="codeph">MYGROUP1</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5314 d241756e5288 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5314 d241756e5291 ">
                                    <p>80%</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5314 d241756e5294 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d241756e5329" headers="d241756e5285 ">
                                    <p><code class="codeph">MYGROUP2</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5329 d241756e5288 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5329 d241756e5291 ">
                                    <p>20%</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5329 d241756e5294 ">
                                    <p>-</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="32%" id="d241756e5344" headers="d241756e5285 ">
                                    <p><code class="codeph">OTHER_GROUPS</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5344 d241756e5288 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5344 d241756e5291 ">
                                    <p>-</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d241756e5344 d241756e5294 ">
                                    <p>100%</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-EFC4517C-6C4D-44F8-A652-2266D6FB49EB__GUID-C0E45579-7B7E-4427-A0C6-8914F259C5EF">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE" title="You create a resource plan with the CREATE_PLAN procedure.">Creating a Resource Plan</a>"</span> for more information on the <code class="codeph">EMPHASIS</code> CPU allocation policy
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D" title="You create a resource consumer group using the CREATE_CONSUMER_GROUP procedure.">Creating Resource Consumer Groups </a>"</span> for more information on the <code class="codeph">ROUND_ROBIN</code> scheduling policy
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0" title="The elements of the Resource Manager include resource consumer groups, resource plans, and resource plan directives.">Elements of the Resource Manager</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11862"></a><div class="props_rev_3"><a id="GUID-4816CA07-1376-45FD-82D4-F9E332936683" name="GUID-4816CA07-1376-45FD-82D4-F9E332936683"></a><h3 id="ADMIN-GUID-4816CA07-1376-45FD-82D4-F9E332936683" class="sect3"><span class="enumeration_section">27.5 </span>Creating a Complex Resource Plan
               </h3>
               <div>
                  <p>When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.</p>
                  <div class="section">
                     <p>The following is a summary of the steps required to create a complex resource plan.</p>
                     <div class="infoboxnote" id="GUID-4816CA07-1376-45FD-82D4-F9E332936683__GUID-667D08B0-3ABA-4657-A380-673063B10716">
                        <p class="notep1">Note:</p>
                        <p>A complex resource plan is any resource plan that is not created with the <code class="codeph">DBMS_RESOURCE_MANAGER.CREATE_SIMPLE_PLAN</code> procedure.
                        </p>
                     </div>
                     <p><span class="bold">Step 1</span>: Create a pending area.
                     </p>
                     <p><span class="bold">Step 2</span>: Create, modify, or delete consumer groups.
                     </p>
                     <p><span class="bold">Step 3:</span> Map sessions to consumer groups.
                     </p>
                     <p><span class="bold">Step 4</span>: Create the resource plan.
                     </p>
                     <p><span class="bold">Step 5</span>: Create resource plan directives.
                     </p>
                     <p><span class="bold">Step 6</span>: Validate the pending area.
                     </p>
                     <p><span class="bold">Step 7</span>: Submit the pending area.
                     </p>
                     <p>You use procedures in the <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package to complete these steps.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524">About the Pending Area</a><br>The <span class="bold">pending area</span> is a staging area where you can create a new resource plan, update an existing plan, or delete a plan without affecting currently running applications.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411">Creating a Pending Area</a><br>You create a pending area with the <code class="codeph">CREATE_PENDING_AREA</code> procedure.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D">Creating Resource Consumer Groups</a><br>You create a resource consumer group using the <code class="codeph">CREATE_CONSUMER_GROUP</code> procedure.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-48954F1A-0AAE-4A88-969B-546B555F5664">Mapping Sessions to Consumer Groups</a><br>You can map sessions to consumer groups using the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE">Creating a Resource Plan</a><br>You create a resource plan with the <code class="codeph">CREATE_PLAN</code> procedure.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F">Creating Resource Plan Directives</a><br>You use the <code class="codeph">CREATE_PLAN_DIRECTIVE</code> procedure to create resource plan directives. Each directive belongs to a plan or subplan and allocates resources to either a consumer group or subplan.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082">Validating the Pending Area</a><br>At any time when you are making changes in the pending area, you can call <code class="codeph">VALIDATE_PENDING_AREA</code> to ensure that the pending area is valid so far.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E">Submitting the Pending Area</a><br>After you have validated your changes, call the <code class="codeph">SUBMIT_PENDING_AREA</code> procedure to make your changes active.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E">Clearing the Pending Area</a><br>You can clear the pending area at any time using the <code class="codeph">CLEAR_PENDING_AREA</code> procedure. 
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-4816CA07-1376-45FD-82D4-F9E332936683__GUID-8E69E0C9-4812-4E26-8692-16785148FF2C">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0" title="Oracle Database includes predefined consumer group mapping rules.">Predefined Consumer Group Mapping Rules</a></p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for details on the <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package.
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-0851CEC3-E8FD-48B2-A132-781EBA897CC0" title="The elements of the Resource Manager include resource consumer groups, resource plans, and resource plan directives.">Elements of the Resource Manager</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11863"></a><div class="props_rev_3"><a id="GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" name="GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524"></a><h4 id="ADMIN-GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" class="sect4"><span class="enumeration_section">27.5.1 </span>About the Pending Area
                  </h4>
                  <div>
                     <p>The <span class="bold">pending area</span> is a staging area where you can create a new resource plan, update an existing plan, or delete a plan without affecting currently running applications.
                     </p>
                     <p>When you create a pending area, the database initializes it and then copies existing plans into the pending area so that they can be updated. </p>
                     <div class="infobox-tip" id="GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524__GUID-0BEC3E79-EDEA-4CCA-871B-5FEB50DF56E3">
                        <p class="notep1">Tip:</p>
                        <p>After you create the pending area, if you list all plans by querying the <code class="codeph">DBA_RSRC_PLANS</code> data dictionary view, you see two copies of each plan: one with the <code class="codeph">PENDING</code> status, and one without. The plans with the <code class="codeph">PENDING</code> status reflect any changes you made to the plans since creating the pending area. Pending changes can also be viewed for consumer groups using <code class="codeph">DBA_RSRC_CONSUMER_GROUPS</code> and for resource plan directives using <code class="codeph">DBA_RSRC_PLAN_DIRECTIVES</code>. See <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0" title="You can query a set of data dictionary views for information relating to database resource management.">Resource Manager Data Dictionary Views</a> for more information.
                        </p>
                     </div>
                     <p>After you make changes in the pending area, you validate the pending area and then submit it. Upon submission, all pending changes are applied to the data dictionary, and the pending area is cleared and deactivated.</p>
                     <p>If you attempt to create, update, or delete a plan (or create, update, or delete consumer groups or resource plan directives) without first creating the pending area, you receive an error message.</p>
                     <p>Submitting the pending area does not activate any new plan that you create; it just stores new or updated plan information in the data dictionary. However, if you modify a plan that is currently active, the plan is reactivated with the new plan definition. See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E8FABE8D-A781-49BB-B623-98F096DED239" title="You enable Oracle Database Resource Manager (the Resource Manager) by setting the RESOURCE_MANAGER_PLAN initialization parameter. This parameter specifies the top plan, identifying the plan to be used for the current instance. If no plan is specified with this parameter, the Resource Manager is not enabled.">Enabling Oracle Database Resource Manager and Switching Plans</a>"</span> for information about activating a resource plan.
                     </p>
                     <p>When you create a pending area, no other users can create one until you submit or clear the pending area or log out.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12650"></a><a id="ADMIN11864"></a><div class="props_rev_3"><a id="GUID-EF88A167-74C2-482A-BA44-2E14F6091411" name="GUID-EF88A167-74C2-482A-BA44-2E14F6091411"></a><h4 id="ADMIN-GUID-EF88A167-74C2-482A-BA44-2E14F6091411" class="sect4"><span class="enumeration_section">27.5.2 </span>Creating a Pending Area
                  </h4>
                  <div>
                     <p>You create a pending area with the <code class="codeph">CREATE_PENDING_AREA</code> procedure.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EF88A167-74C2-482A-BA44-2E14F6091411__GUID-A8734D26-E6B5-48D1-A2B6-DD0F12DA465F">Example: Creating a pending area:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following PL/SQL block creates and initializes a pending area:</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA();
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12651"></a><a id="ADMIN11865"></a><div class="props_rev_3"><a id="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D" name="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D"></a><h4 id="ADMIN-GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D" class="sect4"><span class="enumeration_section">27.5.3 </span>Creating Resource Consumer Groups 
                  </h4>
                  <div>
                     <p>You create a resource consumer group using the <code class="codeph">CREATE_CONSUMER_GROUP</code> procedure.
                     </p>
                     <div class="section">
                        <p>You can specify the following parameters: </p>
                        <div class="tblformal" id="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D__GUID-491019C2-402F-4C36-AC3C-BF06547F5C91">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the parameters that can be specified when you create a resource consumer group. Column 2 describes the function of each parameter." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d241756e5800">Parameter</th>
                                    <th align="left" valign="bottom" width="73%" id="d241756e5803">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d241756e5808" headers="d241756e5800 ">
                                       <p><code class="codeph">CONSUMER_GROUP</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d241756e5808 d241756e5803 ">
                                       <p>Name to assign to the consumer group.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d241756e5817" headers="d241756e5800 ">
                                       <p><code class="codeph">COMMENT</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d241756e5817 d241756e5803 ">
                                       <p>Any comment.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d241756e5826" headers="d241756e5800 ">
                                       <p><code class="codeph">CPU_MTH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d241756e5826 d241756e5803 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_MTH</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d241756e5837" headers="d241756e5800 ">
                                       <p><code class="codeph">MGMT_MTH</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d241756e5837 d241756e5803 ">
                                       <p>The resource allocation method for distributing CPU among sessions in the consumer group. The default is <code class="codeph">'ROUND-ROBIN'</code>, which uses a round-robin scheduler to ensure that sessions are fairly executed. <code class="codeph">'RUN-TO-COMPLETION'</code> specifies that long-running sessions are scheduled ahead of other sessions. This setting helps long-running sessions (such as batch processes) complete sooner.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D__GUID-8FDBF740-D3E8-4B1F-93F9-4E30156955C1">Example: Creating a Resource Consumer Group</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following PL/SQL block creates a consumer group called <code class="codeph">OLTP</code> with the default (<code class="codeph">ROUND-ROBIN</code>) method of allocating resources to sessions in the group:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
   CONSUMER_GROUP =&gt; 'OLTP',
   COMMENT        =&gt; 'OLTP applications');
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9CF0F7BF-F550-453F-ACB8-F26B416C564D__GUID-EC66E999-59E1-4961-9E6A-39DA3957D5F1">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F" title="You use the UPDATE_CONSUMER_GROUP procedure to update consumer group information.">Updating a Consumer Group</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288" title="The DELETE_CONSUMER_GROUP procedure deletes the specified consumer group.">Deleting a Consumer Group</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14163"></a><a id="ADMIN14162"></a><div class="props_rev_3"><a id="GUID-48954F1A-0AAE-4A88-969B-546B555F5664" name="GUID-48954F1A-0AAE-4A88-969B-546B555F5664"></a><h4 id="ADMIN-GUID-48954F1A-0AAE-4A88-969B-546B555F5664" class="sect4"><span class="enumeration_section">27.5.4 </span>Mapping Sessions to Consumer Groups
                  </h4>
                  <div>
                     <p>You can map sessions to consumer groups using the <code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure.
                     </p>
                     <div class="section">
                        <p>You can specify the following parameters: </p>
                        <div class="tblformal" id="GUID-48954F1A-0AAE-4A88-969B-546B555F5664__GUID-79C01EA4-EA76-4AE9-8B8B-6E7F6609E165">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the parameters that can be specified when you map a session to a resource consumer group. Column 2 describes the function of each parameter. " width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d241756e5940">Parameter</th>
                                    <th align="left" valign="bottom" width="64%" id="d241756e5943">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e5948" headers="d241756e5940 ">
                                       <p><code class="codeph">ATTRIBUTE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d241756e5948 d241756e5943 ">
                                       <p>Session attribute type, specified as a package constant.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e5957" headers="d241756e5940 ">
                                       <p><code class="codeph">VALUE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d241756e5957 d241756e5943 ">
                                       <p>Value of the attribute.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d241756e5966" headers="d241756e5940 ">
                                       <p><code class="codeph">CONSUMER_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d241756e5966 d241756e5943 ">
                                       <p>Name of the consumer group.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-48954F1A-0AAE-4A88-969B-546B555F5664__GUID-A4F5078D-109E-4122-BE3C-ADFAE822761D">Example: Mapping a Session to a Consumer Group</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following PL/SQL block maps the <code class="codeph">oe</code> user to the <code class="codeph">OLTP</code> consumer group:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.SET_CONSUMER_GROUP_MAPPING(  
    ATTRIBUTE      =&gt; DBMS_RESOURCE_MANAGER.ORACLE_USER, 
    VALUE          =&gt; 'OE', 
    CONSUMER_GROUP =&gt; 'OLTP');
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-48954F1A-0AAE-4A88-969B-546B555F5664__GUID-23DF313B-66AA-413A-AE60-48026EF91431">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-1D62EF37-F2E2-4595-BA47-DECDE899E62E" title="You use the SET_CONSUMER_GROUP_MAPPING procedure to map a session attribute/value pair to a consumer group.">Creating Consumer Group Mapping Rules</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12652"></a><a id="ADMIN11866"></a><div class="props_rev_3"><a id="GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE" name="GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE"></a><h4 id="ADMIN-GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE" class="sect4"><span class="enumeration_section">27.5.5 </span>Creating a Resource Plan
                  </h4>
                  <div>
                     <p>You create a resource plan with the <code class="codeph">CREATE_PLAN</code> procedure.
                     </p>
                     <div class="section">
                        <p>You can specify the parameters shown in the following table. The first two parameters are required. The remainder are optional. </p>
                        <div class="tblformal" id="GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE__GUID-1AF210F2-7CD4-40F8-9EBC-11C418DF788F">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the parameters that can be specified when creating a resource plan. Column 2 describes the function of each parameter." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="32%" id="d241756e6117">Parameter</th>
                                    <th align="left" valign="bottom" width="68%" id="d241756e6120">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6125" headers="d241756e6117 ">
                                       <p><code class="codeph">PLAN</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6125 d241756e6120 ">
                                       <p>Name to assign to the plan.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6134" headers="d241756e6117 ">
                                       <p><code class="codeph">COMMENT</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6134 d241756e6120 ">
                                       <p>Any descriptive comment. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6143" headers="d241756e6117 ">
                                       <p><code class="codeph">CPU_MTH</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6143 d241756e6120 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_MTH</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6155" headers="d241756e6117 ">
                                       <p><code class="codeph">ACTIVE_SESS_POOL_MTH</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6155 d241756e6120 ">
                                       <p>Active session pool resource allocation method. <code class="codeph">ACTIVE_SESS_POOL_ABSOLUTE</code> is the default and only method available.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6167" headers="d241756e6117 ">
                                       <p><code class="codeph">PARALLEL_DEGREE_LIMIT_MTH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6167 d241756e6120 ">
                                       <p>Resource allocation method for specifying a limit on the <code class="codeph">PARALLEL_DEGREE_LIMIT_ABSOLUTE</code> is the default and only method available.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6178" headers="d241756e6117 ">
                                       <p><code class="codeph">QUEUEING_MTH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6178 d241756e6120 ">
                                       <p>Queuing resource allocation method. Controls the order in which queued inactive sessions are removed from the queue and added to the active session pool. <code class="codeph">FIFO_TIMEOUT</code> is the default and only method available.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6189" headers="d241756e6117 ">
                                       <p><code class="codeph">MGMT_MTH</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6189 d241756e6120 ">
                                       <p>Resource allocation method for specifying how much CPU each consumer group or subplan gets. <code class="codeph">'EMPHASIS'</code>, the default method, is for single-level or multilevel plans that use percentages to specify how CPU is distributed among consumer groups. <code class="codeph">'RATIO'</code> is for single-level plans that use ratios to specify how CPU is distributed. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="32%" id="d241756e6204" headers="d241756e6117 ">
                                       <p><code class="codeph">SUB_PLAN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="68%" headers="d241756e6204 d241756e6120 ">
                                       <p>If <code class="codeph">TRUE</code>, the plan cannot be used as the top plan; it can be used as a subplan only. Default is <code class="codeph">FALSE</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE__GUID-BC6466C8-3FBA-4680-B926-F2FDA2FDF1E7">Example: Creating a Resource Plan</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following PL/SQL block creates a resource plan named <code class="codeph">DAYTIME</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PLAN(
   PLAN    =&gt; 'DAYTIME',
   COMMENT =&gt; 'More resources for OLTP applications');
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C">About the RATIO CPU Allocation Method</a><br>The <code class="codeph">RATIO</code> method is an alternate CPU allocation method intended for simple plans that have only a single level of CPU allocation.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11867"></a><div class="props_rev_3"><a id="GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C" name="GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C"></a><h5 id="ADMIN-GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C" class="sect5"><span class="enumeration_section">27.5.5.1 </span>About the RATIO CPU Allocation Method
                     </h5>
                     <div>
                        <p>The <code class="codeph">RATIO</code> method is an alternate CPU allocation method intended for simple plans that have only a single level of CPU allocation.
                        </p>
                        <p>Instead of percentages, you specify numbers corresponding to the ratio of CPU that you want to give to each consumer group. To use the <code class="codeph">RATIO</code> method, you set the <code class="codeph">MGMT_MTH</code> argument for the <code class="codeph">CREATE_PLAN</code> procedure to '<code class="codeph">RATIO</code>'. See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="You use the CREATE_PLAN_DIRECTIVE procedure to create resource plan directives. Each directive belongs to a plan or subplan and allocates resources to either a consumer group or subplan.">Creating Resource Plan Directives </a>"</span> for an example of a plan that uses this method.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-33B74DA5-1CE6-43EE-A198-65E4FDC8497C__GUID-A80FEC10-B1B7-4900-B02F-5765DA5CDD06">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E" title="You use the UPDATE_PLAN procedure to update plan information.">Updating a Plan</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3EC483D5-2808-448A-84F5-24D79944F121" title="The DELETE_PLAN procedure deletes the specified plan as well as all the plan directives associated with it.">Deleting a Plan</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-87C8949B-5251-43BB-8FDA-0AC385EC60FE" title="You create a resource plan with the CREATE_PLAN procedure.">Creating a Resource Plan</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12653"></a><a id="ADMIN12654"></a><a id="ADMIN11868"></a><div class="props_rev_3"><a id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" name="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F"></a><h4 id="ADMIN-GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" class="sect4"><span class="enumeration_section">27.5.6 </span>Creating Resource Plan Directives 
                  </h4>
                  <div>
                     <p>You use the <code class="codeph">CREATE_PLAN_DIRECTIVE</code> procedure to create resource plan directives. Each directive belongs to a plan or subplan and allocates resources to either a consumer group or subplan.
                     </p>
                     <div class="section"> 
                        <div class="infoboxnote" id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F__GUID-6F4AA2D4-C078-470D-909A-CAC70509BE9D">
                           <p class="notep1">Note:</p>
                           <p>The set of directives for a resource plan and its subplans can name a particular subplan only once.</p>
                           <p>You can specify directives for a particular consumer group in a top plan and its subplans. However, Oracle recommends that the set of directives for a resource plan and its subplans name a particular consumer group only once.</p>
                        </div>
                        <p>You can specify the following parameters:</p>
                        <div class="tblformal" id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F__GUID-EDDF20E4-40FC-4A0F-AEB7-3607A6112C7E">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the parameters that can be specified when you create a resource plan directive. Column 2 describes the function of each parameter." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d241756e6402">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d241756e6405">Description </th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6410" headers="d241756e6402 ">
                                       <p><code class="codeph">PLAN</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6410 d241756e6405 ">
                                       <p>Name of the resource plan to which the directive belongs.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6419" headers="d241756e6402 ">
                                       <p><code class="codeph">GROUP_OR_SUBPLAN</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6419 d241756e6405 ">
                                       <p>Name of the consumer group or subplan to which to allocate resources.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6428" headers="d241756e6402 ">
                                       <p><code class="codeph">COMMENT</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6428 d241756e6405 ">
                                       <p>Any comment.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6437" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6437 d241756e6405 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_P1</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6449" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P2</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6449 d241756e6405 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_P2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6461" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P3</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6461 d241756e6405 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_P3</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6473" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P4</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6473 d241756e6405 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_P4</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6485" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P5</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6485 d241756e6405 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_P5</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6497" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P6</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6497 d241756e6405 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_P6</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6509" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P7</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6509 d241756e6405 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_P7</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6521" headers="d241756e6402 ">
                                       <p><code class="codeph">CPU_P8</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6521 d241756e6405 ">
                                       <p>Deprecated. Use <code class="codeph">MGMT_P8</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6534" headers="d241756e6402 ">
                                       <p><code class="codeph">ACTIVE_SESS_POOL_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6534 d241756e6405 ">
                                       <p>Specifies the maximum number of concurrently active sessions for a consumer group. Other sessions await execution in an inactive session queue. Default is <code class="codeph">UNLIMITED</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6546" headers="d241756e6402 ">
                                       <p><code class="codeph">QUEUEING_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6546 d241756e6405 ">
                                       <p>Specifies time (in seconds) after which a session in an inactive session queue (waiting for execution) times out and the call is aborted. Default is <code class="codeph">UNLIMITED</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6558" headers="d241756e6402 ">
                                       <p><code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6558 d241756e6405 ">
                                       <p>Specifies a limit on the degree of parallelism for any operation. Default is <code class="codeph">UNLIMITED</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6570" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_GROUP</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6570 d241756e6405 ">
                                       <p>Specifies the consumer group to which a session is switched if switch criteria are met. </p>
                                       <p>If the group name is <code class="codeph">CANCEL_SQL</code>, then the current call is canceled when switch criteria are met. If the group name is <code class="codeph">CANCEL_SQL</code>, then the <code class="codeph">SWITCH_FOR_CALL</code> parameter is always set to <code class="codeph">TRUE</code>, overriding the user-specified setting.
                                       </p>
                                       <p>If the group name is <code class="codeph">KILL_SESSION</code>, then the session is killed when switch criteria are met.
                                       </p>
                                       <p>If the group name is <code class="codeph">LOG_ONLY</code>, then information about the session is recorded in real-time SQL monitoring, but no specific action is taken for the session.
                                       </p>
                                       <p>If <code class="codeph">NULL</code>, then the session is not switched and no additional logging is performed. The default is <code class="codeph">NULL</code>. An error is returned if this parameter is set to <code class="codeph">NULL</code> and any other switch parameter is set to non-<code class="codeph">NULL</code>.
                                       </p>
                                       <p><span class="bold">Note:</span> The following consumer group names are reserved: <code class="codeph">CANCEL_SQL</code>, <code class="codeph">KILL_SESSION</code>, and <code class="codeph">LOG_ONLY</code>. An error results if you attempt to create a consumer group with one of these names.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6630" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_TIME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6630 d241756e6405 ">
                                       <p>Specifies the time (in CPU seconds) that a call can execute before an action is taken. Default is <code class="codeph">UNLIMITED</code>. The action is specified by <code class="codeph">SWITCH_GROUP</code>. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6645" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_ESTIMATE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6645 d241756e6405 ">
                                       <p>If <code class="codeph">TRUE</code>, the database estimates the execution time of each call, and if estimated execution time exceeds <code class="codeph">SWITCH_TIME</code>, the session is switched to the <code class="codeph">SWITCH_GROUP</code> before beginning the call. Default is <code class="codeph">FALSE</code>.
                                       </p>
                                       <p>The execution time estimate is obtained from the optimizer. The accuracy of the estimate is dependent on many factors, especially the quality of the optimizer statistics. In general, you should expect statistics to be no more accurate than ± 10 minutes.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6668" headers="d241756e6402 ">
                                       <p><code class="codeph">MAX_EST_EXEC_TIME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6668 d241756e6405 ">
                                       <p>Specifies the maximum execution time (in CPU seconds) allowed for a call. If the optimizer estimates that a call will take longer than <code class="codeph">MAX_EST_EXEC_TIME</code>, the call is not allowed to proceed and <code class="codeph">ORA-07455</code> is issued. If the optimizer does not provide an estimate, this directive has no effect. Default is <code class="codeph">UNLIMITED</code>.
                                       </p>
                                       <p>The accuracy of the estimate is dependent on many factors, especially the quality of the optimizer statistics.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6688" headers="d241756e6402 ">
                                       <p><code class="codeph">UNDO_POOL</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6688 d241756e6405 ">
                                       <p>Sets a maximum in kilobytes (K) on the total amount of undo for uncommitted transactions that can be generated by a consumer group. Default is <code class="codeph">UNLIMITED</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6700" headers="d241756e6402 ">
                                       <p><code class="codeph">MAX_IDLE_TIME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6700 d241756e6405 ">
                                       <p>Indicates the maximum session idle time, in seconds. Default is <code class="codeph">NULL</code>, which implies unlimited.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6712" headers="d241756e6402 ">
                                       <p><code class="codeph">MAX_IDLE_BLOCKER_TIME</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6712 d241756e6405 ">
                                       <p>Indicates the maximum session idle time of a blocking session, in seconds. Default is <code class="codeph">NULL</code>, which implies unlimited.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6724" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_TIME_IN_CALL</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6724 d241756e6405 ">
                                       <p>Deprecated. Use <code class="codeph">SWITCH_FOR_CALL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6737" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P1</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6737 d241756e6405 ">
                                       <p>For a plan with the <code class="codeph">MGMT_MTH</code> parameter set to <code class="codeph">EMPHASIS</code>, specifies the CPU percentage to allocate at the first level. For <code class="codeph">MGMT_MTH</code> set to <code class="codeph">RATIO</code>, specifies the weight of CPU usage. Default is <code class="codeph">NULL</code> for all <code class="codeph">MGMT_P</code><span class="italic"><code class="codeph">n</code></span> parameters.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6768" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P2</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6768 d241756e6405 ">
                                       <p>For <code class="codeph">EMPHASIS</code>, specifies CPU percentage to allocate at the second level. Not applicable for <code class="codeph">RATIO</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6783" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P3</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6783 d241756e6405 ">
                                       <p>For <code class="codeph">EMPHASIS</code>, specifies CPU percentage to allocate at the third level. Not applicable for <code class="codeph">RATIO</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6798" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P4</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6798 d241756e6405 ">
                                       <p>For <code class="codeph">EMPHASIS</code>, specifies CPU percentage to allocate at the fourth level. Not applicable for <code class="codeph">RATIO</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6813" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P5</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6813 d241756e6405 ">
                                       <p>For <code class="codeph">EMPHASIS</code>, specifies CPU percentage to allocate at the fifth level. Not applicable for <code class="codeph">RATIO</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6828" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P6</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6828 d241756e6405 ">
                                       <p>For <code class="codeph">EMPHASIS</code>, specifies CPU percentage to allocate at the sixth level. Not applicable for <code class="codeph">RATIO</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6843" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P7</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6843 d241756e6405 ">
                                       <p>For <code class="codeph">EMPHASIS</code>, specifies CPU percentage to allocate at the seventh level. Not applicable for <code class="codeph">RATIO</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6858" headers="d241756e6402 ">
                                       <p><code class="codeph">MGMT_P8</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6858 d241756e6405 ">
                                       <p>For <code class="codeph">EMPHASIS</code>, specifies CPU percentage to allocate at the eighth level. Not applicable for <code class="codeph">RATIO</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6873" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_IO_MEGABYTES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6873 d241756e6405 ">
                                       <p>Specifies the number of megabytes of physical I/O that a session can transfer (read and write) before an action is taken. Default is <code class="codeph">UNLIMITED</code>. The action is specified by <code class="codeph">SWITCH_GROUP</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6887" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_IO_REQS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6887 d241756e6405 ">
                                       <p>Specifies the number of physical I/O requests that a session can execute before an action is taken. Default is <code class="codeph">UNLIMITED</code>. The action is specified by <code class="codeph">SWITCH_GROUP</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6901" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_FOR_CALL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6901 d241756e6405 ">
                                       <p>If <code class="codeph">TRUE</code>, a session that was automatically switched to another consumer group (according to <code class="codeph">SWITCH_TIME</code>, <code class="codeph">SWITCH_IO_MEGABYTES</code>, or <code class="codeph">SWITCH_IO_REQS</code>) is returned to its original consumer group when the top level call completes. Default is <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6925" headers="d241756e6402 ">
                                       <p><code class="codeph">PARALLEL_QUEUE_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6925 d241756e6405 ">
                                       <p>Specifies the maximum time, in seconds, that a parallel statement can wait in the parallel statement queue before it is timed out.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6933" headers="d241756e6402 ">
                                       <p><code class="codeph">PARALLEL_SERVER_LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6933 d241756e6405 ">
                                       <p>Specifies the maximum percentage of the parallel execution server pool that a particular consumer group can use. The number of parallel execution servers used by a particular consumer group is counted as the sum of the parallel execution servers used by all sessions in that consumer group. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6941" headers="d241756e6402 ">
                                       <p><code class="codeph">UTILIZATION_LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6941 d241756e6405 ">
                                       <p>Specifies the maximum CPU utilization percentage permitted for the consumer group. This value overrides any level allocations for CPU (<code class="codeph">MGMT_P1</code> through <code class="codeph">MGMT_P8</code>), and also imposes a limit on total CPU utilization when unused allocations are redistributed. You can specify this attribute and leave <code class="codeph">MGMT_P1</code> through <code class="codeph">MGMT_P8</code> <code class="codeph">NULL</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6964" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_IO_LOGICAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6964 d241756e6405 ">
                                       <p>Number of logical I/O requests that will trigger the action specified by <code class="codeph">SWITCH_GROUP</code>. As with other switch directives, if <code class="codeph">SWITCH_FOR_CALL</code> is <code class="codeph">TRUE</code>, then the number of logical I/O requests is accumulated from the start of a call. Otherwise, the number of logical I/O requests is accumulated for the length of the session.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6981" headers="d241756e6402 ">
                                       <p><code class="codeph">SWITCH_ELAPSED_TIME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6981 d241756e6405 ">
                                       <p>Elapsed time, in seconds, that will trigger the action specified by <code class="codeph">SWITCH_GROUP</code>. As with other switch directives, if <code class="codeph">SWITCH_FOR_CALL</code> is <code class="codeph">TRUE</code>, then the elapsed time is accumulated from the start of a call. Otherwise, the elapsed time is accumulated for the length of the session.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e6998" headers="d241756e6402 ">
                                       <p><code class="codeph">SHARES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e6998 d241756e6405 ">
                                       <p>Allocates resources among pluggable databases (PDBs) in a multitenant container database (CDB). Also allocates resources among consumer groups in a non-CDB or in a PDB.</p>
                                       <p>See <a href="../multi/using-oracle-resource-manager-for-pdbs-with-sql-plus.html#MULTI-GUID-075BDB11-8B9D-4061-98F6-8D4F07E3AB6D" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e7014" headers="d241756e6402 ">
                                       <p><code class="codeph">PARALLEL_STMT_CRITICAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e7014 d241756e6405 ">
                                       <p>Specifies whether parallel statements from the consumer group are critical.</p>
                                       <p>When <code class="codeph">BYPASS_QUEUE</code> is specified, parallel statements from the consumer group are critical. These statements bypass the parallel queue and are executed immediately.
                                       </p>
                                       <p>When <code class="codeph">FALSE</code> or <code class="codeph">NULL</code> (the default) is specified, parallel statements from the consumer group are not critical. These statements are added to the parallel queue when necessary.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d241756e7035" headers="d241756e6402 ">
                                       <p><code class="codeph">SESSION_PGA_LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d241756e7035 d241756e6405 ">
                                       <p>Specifies the maximum amount of PGA memory, in megabytes, that can be allocated to each session in a particular consumer group. If a session exceeds the limit, then its process is terminated with an <code class="codeph">ORA-10260</code> error.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F__GUID-A4E3AAA7-D098-49B0-93C0-08E626BCE760">Example 1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following PL/SQL block creates a resource plan directive for plan <code class="codeph">DAYTIME</code>. (It assumes that the <code class="codeph">DAYTIME</code> plan and <code class="codeph">OLTP</code> consumer group are already created in the pending area.)
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
   PLAN             =&gt; 'DAYTIME',
   GROUP_OR_SUBPLAN =&gt; 'OLTP',
   COMMENT          =&gt; 'OLTP group',
   MGMT_P1          =&gt; 75);
END;
/
</pre><p>This directive assigns 75% of CPU resources to the <code class="codeph">OLTP</code> consumer group at level 1.
                        </p>
                        <p> You can also create the <code class="codeph">REPORTING</code> consumer group, and then execute the following PL/SQL block:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
   PLAN                     =&gt; 'DAYTIME', 
   GROUP_OR_SUBPLAN         =&gt; 'REPORTING',
   COMMENT                  =&gt; 'Reporting group',
   MGMT_P1                  =&gt; 15,
   PARALLEL_DEGREE_LIMIT_P1 =&gt; 8,
   ACTIVE_SESS_POOL_P1      =&gt; 4,
   SESSION_PGA_LIMIT        =&gt; 20);

  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
   PLAN                     =&gt; 'DAYTIME', 
   GROUP_OR_SUBPLAN         =&gt; 'OTHER_GROUPS',
   COMMENT                  =&gt; 'This one is required',
   MGMT_P1                  =&gt; 10);
END;
/
</pre><p>In this plan, consumer group <code class="codeph">REPORTING</code> has a maximum degree of parallelism of 8 for any operation, while none of the other consumer groups are limited in their degree of parallelism. In addition, the <code class="codeph">REPORTING</code> group has a maximum of 4 concurrently active sessions. Each session can use a maximum of 20 MB of PGA memory.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F__GUID-BF89EC03-2097-42B4-814D-D51C01A73B3E">Example 2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example uses the <code class="codeph">RATIO</code> method to allocate CPU, which uses ratios instead of percentages. Suppose your application suite offers three service levels to clients: Gold, Silver, and Bronze. You create three consumer groups named <code class="codeph">GOLD_CG</code>, <code class="codeph">SILVER_CG</code>, and <code class="codeph">BRONZE_CG</code>, and you create the following resource plan:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PLAN
   (PLAN             =&gt; 'SERVICE_LEVEL_PLAN',
    MGMT_MTH         =&gt; 'RATIO', 
    COMMENT          =&gt; 'Plan that supports three service levels');

  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE
   (PLAN             =&gt; 'SERVICE_LEVEL_PLAN',
    GROUP_OR_SUBPLAN =&gt; 'GOLD_CG', 
    COMMENT          =&gt; 'Gold service level customers',
    MGMT_P1          =&gt; 10);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE
   (PLAN             =&gt; 'SERVICE_LEVEL_PLAN',
    GROUP_OR_SUBPLAN =&gt; 'SILVER_CG', 
    COMMENT          =&gt; 'Silver service level customers',  
    MGMT_P1          =&gt; 5);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE
   (PLAN             =&gt; 'SERVICE_LEVEL_PLAN',
    GROUP_OR_SUBPLAN =&gt; 'BRONZE_CG', 
    COMMENT          =&gt; 'Bronze service level customers',
    MGMT_P1          =&gt; 2);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE
    (PLAN            =&gt; 'SERVICE_LEVEL_PLAN', 
    GROUP_OR_SUBPLAN =&gt; 'OTHER_GROUPS',
    COMMENT          =&gt; 'Lowest priority sessions',
    MGMT_P1          =&gt; 1);
END;
/
</pre><p>The ratio of CPU allocation is 10:5:2:1 for the <code class="codeph">GOLD_CG</code>, <code class="codeph">SILVER_CG</code>, <code class="codeph">BRONZE_CG</code>, and <code class="codeph">OTHER_GROUPS</code> consumer groups, respectively.
                        </p>
                        <p>If sessions exist only in the <code class="codeph">GOLD_CG</code> and <code class="codeph">SILVER_CG</code> consumer groups, then the ratio of CPU allocation is 10:5 between the two groups.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20">Conflicting Resource Plan Directives</a><br>Although this is allowed, Oracle strongly recommends that you avoid referencing the same consumer group from a top plan and any of its subplans.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11869"></a><div class="props_rev_3"><a id="GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20" name="GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20"></a><h5 id="ADMIN-GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20" class="sect5"><span class="enumeration_section">27.5.6.1 </span>Conflicting Resource Plan Directives
                     </h5>
                     <div>
                        <p>Although this is allowed, Oracle strongly recommends that you avoid referencing the same consumer group from a top plan and any of its subplans.</p>
                        <p>You may have occasion to reference the same consumer group from the top plan and any number of subplans. This results in multiple resource plan directives referring to the same consumer group. </p>
                        <p>Similarly, when multiple resource plan directives refer to the same consumer group, they have conflicting directives. Although this is allowed, Oracle strongly recommends that you avoid multiple resource plan directives that refer to the same consumer group.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-33AB510D-BFB6-4DAF-BD33-3B04AAA24F20__GUID-E811756C-7570-497D-B65E-2874F54A70B8">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697" title="Use the UPDATE_PLAN_DIRECTIVE procedure to update plan directives.">Updating a Resource Plan Directive</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C61729C4-6ABF-45E4-831B-B0050152FE63" title="To delete a resource plan directive, use the DELETE_PLAN_DIRECTIVE procedure.">Deleting a Resource Plan Directive</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="You use the CREATE_PLAN_DIRECTIVE procedure to create resource plan directives. Each directive belongs to a plan or subplan and allocates resources to either a consumer group or subplan.">Creating Resource Plan Directives</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12655"></a><a id="ADMIN11870"></a><div class="props_rev_3"><a id="GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082" name="GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082"></a><h4 id="ADMIN-GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082" class="sect4"><span class="enumeration_section">27.5.7 </span>Validating the Pending Area
                  </h4>
                  <div>
                     <p>At any time when you are making changes in the pending area, you can call <code class="codeph">VALIDATE_PENDING_AREA</code> to ensure that the pending area is valid so far.
                     </p>
                     <div class="section">
                        <p>The following rules must be adhered to, and are checked by the validate procedure:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>No plan can contain any loops. A loop occurs when a subplan contains a directive that references a plan that is above the subplan in the plan hierarchy. For example, a subplan cannot reference the top plan.</p>
                           </li>
                           <li>
                              <p>All plans and resource consumer groups referred to by plan directives must exist.</p>
                           </li>
                           <li>
                              <p>All plans must have plan directives that point to either plans or resource consumer groups.</p>
                           </li>
                           <li>
                              <p>All percentages in any given level must not add up to greater than 100.</p>
                           </li>
                           <li>
                              <p>A plan that is currently being used as a top plan by an active instance cannot be deleted.</p>
                           </li>
                           <li>
                              <p>The following parameters can appear only in plan directives that refer to resource consumer groups, not other resource plans: </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ACTIVE_SESS_POOL_P1</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MAX_EST_EXEC_TIME</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MAX_IDLE_BLOCKER_TIME</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MAX_IDLE_TIME</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">QUEUEING_P1</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SESSION_PGA_LIMIT</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_ESTIMATE</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_FOR_CALL</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_GROUP</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_IO_MEGABYTES</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_IO_REQS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SWITCH_TIME</code> 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UNDO_POOL</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UTILIZATION_LIMIT</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>There can be no more than 28 resource consumer groups in any active plan. Also, at most, a plan can have 28 children. </p>
                           </li>
                           <li>
                              <p>Plans and resource consumer groups cannot have the same name. </p>
                           </li>
                           <li>
                              <p>There must be a plan directive for <code class="codeph">OTHER_GROUPS</code> somewhere in any active plan. This ensures that a session that is not part of any of the consumer groups included in the currently active plan is allocated resources (as specified by the directive for <code class="codeph">OTHER_GROUPS</code>).
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">VALIDATE_PENDING_AREA</code> raises an error if any of the preceding rules are violated. You can then make changes to fix any problems and call the procedure again.
                        </p>
                        <p>It is possible to create "orphan" consumer groups that have no plan directives referring to them. This allows the creation of consumer groups that will not currently be used, but might be part of some plan to be implemented in the future.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082__GUID-D6CC465C-B6CE-47FF-A476-FCF7464ADC35">Example: Validating the Pending Area:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following PL/SQL block validates the pending area.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA();
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A5C6447B-BFF5-4CCE-8114-8AD230375082__GUID-BBEE5755-97E2-416C-8A1D-31293225E1A5">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" title="The pending area is a staging area where you can create a new resource plan, update an existing plan, or delete a plan without affecting currently running applications.">About the Pending Area</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12656"></a><a id="ADMIN11871"></a><div class="props_rev_3"><a id="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" name="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E"></a><h4 id="ADMIN-GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" class="sect4"><span class="enumeration_section">27.5.8 </span>Submitting the Pending Area
                  </h4>
                  <div>
                     <p>After you have validated your changes, call the <code class="codeph">SUBMIT_PENDING_AREA</code> procedure to make your changes active.
                     </p>
                     <div class="section">
                        <p>The submit procedure also performs validation, so you do not necessarily need to make separate calls to the validate procedure. However, if you are making major changes to plans, debugging problems is often easier if you incrementally validate your changes. No changes are submitted (made active) until validation is successful on all of the changes in the pending area.</p>
                        <p>The <code class="codeph">SUBMIT_PENDING_AREA</code> procedure clears (deactivates) the pending area after successfully validating and committing the changes.
                        </p>
                        <div class="infoboxnote" id="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E__GUID-34697929-92A8-40D6-945D-C8BDE70E86C7">
                           <p class="notep1">Note:</p>
                           <p>A call to <code class="codeph">SUBMIT_PENDING_AREA</code> might fail even if <code class="codeph">VALIDATE_PENDING_AREA</code> succeeds. This can happen if, for example, a plan being deleted is loaded by an instance after a call to <code class="codeph">VALIDATE_PENDING_AREA</code>, but before a call to <code class="codeph">SUBMIT_PENDING_AREA</code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E__GUID-B3244BE0-18B1-402D-902F-328D50C51257">Example: Submitting the Pending Area:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following PL/SQL block submits the pending area:</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA();
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-6A81232C-BCA8-4939-8496-FC082ACA318E__GUID-3FCC463A-F096-4D02-8C4D-BB5FD2B412E6">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" title="The pending area is a staging area where you can create a new resource plan, update an existing plan, or delete a plan without affecting currently running applications.">About the Pending Area</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11872"></a><div class="props_rev_3"><a id="GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E" name="GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E"></a><h4 id="ADMIN-GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E" class="sect4"><span class="enumeration_section">27.5.9 </span>Clearing the Pending Area
                  </h4>
                  <div>
                     <p>You can clear the pending area at any time using the <code class="codeph">CLEAR_PENDING_AREA</code> procedure. 
                     </p>
                     <div class="section">
                        <p>This PL/SQL block causes all of your changes to be cleared from the pending area and deactivates the pending area:</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CLEAR_PENDING_AREA();
END;
/
</pre><p>After calling <code class="codeph">CLEAR_PENDING_AREA</code>, you must call the <code class="codeph">CREATE_PENDING_AREA</code> procedure before you can again attempt to make changes.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2007FCF4-B204-4DF7-BAEE-0823D777CD8E__GUID-CB5406C9-F6AE-400E-8AC3-2929A614C111">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A541F273-89D8-43DA-81CF-1F9BD46FC524" title="The pending area is a staging area where you can create a new resource plan, update an existing plan, or delete a plan without affecting currently running applications.">About the Pending Area</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-4816CA07-1376-45FD-82D4-F9E332936683" title="When your situation calls for a more complex resource plan, you must create the plan, with its directives and consumer groups, in a staging area called the pending area, and then validate the plan before storing it in the data dictionary.">Creating a Complex Resource Plan</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12660"></a><a id="ADMIN12661"></a><a id="ADMIN12662"></a><a id="ADMIN11890"></a><div class="props_rev_3"><a id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239" name="GUID-E8FABE8D-A781-49BB-B623-98F096DED239"></a><h3 id="ADMIN-GUID-E8FABE8D-A781-49BB-B623-98F096DED239" class="sect3"><span class="enumeration_section">27.6 </span>Enabling Oracle Database Resource Manager and Switching Plans
               </h3>
               <div>
                  <p>You enable Oracle Database Resource Manager (the Resource Manager) by setting the <code class="codeph">RESOURCE_MANAGER_PLAN</code> initialization parameter. This parameter specifies the top plan, identifying the plan to be used for the current instance. If no plan is specified with this parameter, the Resource Manager is not enabled.
                  </p>
                  <div class="section">
                     <p>By default the Resource Manager is not enabled, except in the following situations:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>During preconfigured maintenance windows, described later in this section.</p>
                        </li>
                        <li>
                           <p>When Oracle Database In-Memory is enabled by setting the <code class="codeph">INMEMORY_SIZE</code> initialization parameter to a value greater than 0.
                           </p>
                        </li>
                     </ul>
                     <p>The following statement in a text initialization parameter file activates the Resource Manager upon database startup and sets the top plan as <code class="codeph">mydb_plan</code>.
                     </p><pre class="oac_no_warn" dir="ltr">RESOURCE_MANAGER_PLAN = mydb_plan
</pre><p>You can also activate or deactivate the Resource Manager, or change the current top plan, using the <code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_PLAN</code> package procedure or the <code class="codeph">ALTER SYSTEM</code> statement.
                     </p>
                     <p>The following SQL statement sets the top plan to <code class="codeph">mydb_plan</code>, and activates the Resource Manager if it is not already active:
                     </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET RESOURCE_MANAGER_PLAN = 'mydb_plan';
</pre><p>An error message is returned if the specified plan does not exist in the data dictionary.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-E0263E5E-74EF-4424-AB34-670AE5CF7AE6">Automatic Enabling of the Resource Manager by Oracle Scheduler Windows</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The Resource Manager automatically activates if an Oracle Scheduler window that specifies a resource plan opens. When the Scheduler window closes, the resource plan associated with the window is disabled, and the resource plan that was running before the Scheduler window opened is reenabled. (If no resource plan was enabled before the window opened, then the Resource Manager is disabled.) In an Oracle Real Application Clusters environment, a Scheduler window applies to all instances, so the window's resource plan is enabled on every instance.</p>
                     <p>Note that by default a set of automated maintenance tasks run during <span class="bold">maintenance windows</span>, which are predefined Scheduler windows that are members of the <code class="codeph">MAINTENANCE_WINDOW_GROUP</code> window group and which specify the <code class="codeph">DEFAULT_MAINTENANCE_PLAN</code> resource plan. Thus, the Resource Manager activates by default during maintenance windows. You can modify these maintenance windows to use a different resource plan, if desired.
                     </p>
                     <div class="infoboxnote" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-F15EC3DB-D809-4E8A-AA8F-8A7FE780CB4F">
                        <p class="notep1">Note:</p>
                        <p>If you change the plan associated with maintenance windows, then ensure that you include the subplan <code class="codeph">ORA$AUTOTASK</code> in the new plan.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-39B22912-F0E5-4E09-B425-7FB5C07E8C85">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="oracle-scheduler-concepts.html#GUID-BBFA4965-B688-45CC-B7B4-E6D4E8060C21" title="You create windows to automatically start jobs or to change resource allocation among jobs during various time periods of the day, week, and so on. A window is represented by an interval of time with a well-defined beginning and end, such as "from 12am-6am".">Windows</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="managing-automated-database-maintenance-tasks.html#GUID-7F7C805E-BA64-43A5-9A09-FC259FFA9AA8" title="Oracle Database has automated several common maintenance tasks typically performed by database administrators. These automated maintenance tasks are performed when the system load is expected to be light. You can enable and disable individual maintenance tasks, and can configure when these tasks run and what resource allocations they are allotted."> Managing Automated Database Maintenance Tasks</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-8483DB1A-7CE2-4A9B-946E-6A9105A5DD0D">Disabling Plan Switches by Oracle Scheduler Windows</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>In some cases, the automatic change of Resource Manager plans at Scheduler window boundaries may be undesirable. For example, if you have an important task to finish, and if you set the Resource Manager plan to give your task priority, then you expect that the plan will remain the same until you change it. However, because a Scheduler window could activate after you have set your plan, the Resource Manager plan might change while your task is running.</p>
                     <p>To prevent this situation, you can set the <code class="codeph">RESOURCE_MANAGER_PLAN</code> initialization parameter to the name of the plan that you want for the system and prepend "<code class="codeph">FORCE:</code>" to the name, as shown in the following SQL statement:
                     </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET RESOURCE_MANAGER_PLAN = 'FORCE:mydb_plan';
</pre><p>Using the prefix <code class="codeph">FORCE:</code> indicates that the current resource plan can be changed only when the database administrator changes the value of the <code class="codeph">RESOURCE_MANAGER_PLAN</code> initialization parameter. This restriction can be lifted by rerunning the command without preceding the plan name with "<code class="codeph">FORCE:</code>".
                     </p>
                     <p>The <code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_PLAN</code> package procedure has a similar capability.
                     </p>
                     <div class="infoboxnotealso" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-BF87B20C-7761-4971-9923-EFD0B55EB41B">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on <code class="codeph">DBMS_RESOURCE_MANAGER.SWITCH_PLAN</code>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-D35532D0-8436-4E5A-A803-FCF238B418B4">Disabling the Resource Manager</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>To disable the Resource Manager, complete the following steps:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Issue the following SQL statement:</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET RESOURCE_MANAGER_PLAN = '';
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Disassociate the Resource Manager from all Oracle Scheduler windows.</span><div>
                           <p>To do so, for any Scheduler window that references a resource plan in its <code class="codeph">resource_plan</code> attribute, use the <code class="codeph">DBMS_SCHEDULER.SET_ATTRIBUTE</code> procedure to set <code class="codeph">resource_plan</code> to the empty string (''). Qualify the window name with the <code class="codeph">SYS</code> schema name if you are not logged in as user <code class="codeph">SYS</code>. You can view Scheduler windows with the <code class="codeph">DBA_SCHEDULER_WINDOWS</code> data dictionary view. See <span class="q">"<a href="scheduling-jobs-with-oracle-scheduler.html#GUID-7CFA978C-8EC4-4C20-951C-48D3F2B9BF59" title="You alter a window by modifying its attributes. You do so with the SET_ATTRIBUTE and SET_ATTRIBUTE_NULL procedures in the DBMS_SCHEDULER package or Cloud Control.">Altering Windows</a>"</span> and <a href="../arpls/DBMS_SCHEDULER.html#ARPLS72235" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information.
                           </p>
                           <div class="infoboxnote" id="GUID-E8FABE8D-A781-49BB-B623-98F096DED239__GUID-BC0E5930-040D-4BFE-9CA3-9F1EBEA49F2F">
                              <p class="notep1">Note:</p>
                              <p>By default, all maintenance windows reference the <code class="codeph">DEFAULT_MAINTENANCE_PLAN</code> resource plan. To completely disable the Resource Manager, you must alter all maintenance windows to remove this plan. However, use caution, because resource consumption by automated maintenance tasks will no longer be regulated, which may adversely affect the performance of your other sessions. See <a href="managing-automated-database-maintenance-tasks.html#GUID-7F7C805E-BA64-43A5-9A09-FC259FFA9AA8" title="Oracle Database has automated several common maintenance tasks typically performed by database administrators. These automated maintenance tasks are performed when the system load is expected to be light. You can enable and disable individual maintenance tasks, and can configure when these tasks run and what resource allocations they are allotted."> Managing Automated Database Maintenance Tasks</a> for more information on maintenance windows.
                              </p>
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11012"></a><div class="props_rev_3"><a id="GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" name="GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F"></a><h3 id="ADMIN-GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" class="sect3"><span class="enumeration_section">27.7 </span>Putting It All Together: Oracle Database Resource Manager Examples
               </h3>
               <p>Examples illustrate how to allocate resources with Resource Manager.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-57A6467A-4865-4C16-8A14-4DDCC969960F">Multilevel Plan Example</a><br>An example illustrates a multilevel plan.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D695EE69-E08B-41BB-90FB-207E6810B938">Examples of Using the Utilization Limit Attribute</a><br>You can use the <code class="codeph">UTILIZATION_LIMIT</code> directive attribute to limit the CPU utilization for applications. One of the most common scenarios in which this attribute can be used is for database consolidation.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A">Example of Using Several Resource Allocation Methods</a><br>An example illustrates using several resource allocation methods.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B4256D06-2223-49A1-A939-9BE9706498BC">Example of Managing Parallel Statements Using Directive Attributes</a><br>An example illustrates managing parallel statements using directive attributes.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-24C55451-A87D-45B7-8230-4B51392AE89F">An Oracle-Supplied Mixed Workload Plan</a><br>Oracle Database includes a predefined resource plan, <code class="codeph">MIXED_WORKLOAD_PLAN</code>, that prioritizes interactive operations over batch operations, and includes the required subplans and consumer groups recommended by Oracle.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13075"></a><a id="ADMIN11891"></a><div class="props_rev_3"><a id="GUID-57A6467A-4865-4C16-8A14-4DDCC969960F" name="GUID-57A6467A-4865-4C16-8A14-4DDCC969960F"></a><h4 id="ADMIN-GUID-57A6467A-4865-4C16-8A14-4DDCC969960F" class="sect4"><span class="enumeration_section">27.7.1 </span>Multilevel Plan Example
                  </h4>
                  <div>
                     <p>An example illustrates a multilevel plan.</p>
                     <div class="section">
                        <p>The following PL/SQL block creates a multilevel plan as illustrated in <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-57A6467A-4865-4C16-8A14-4DDCC969960F__BABIIIDF">Figure 27-3</a>. Default resource allocation method settings are used for all plans and resource consumer groups.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA();
DBMS_RESOURCE_MANAGER.CREATE_PLAN(PLAN =&gt; 'bugdb_plan', 
   COMMENT =&gt; 'Resource plan/method for bug users sessions');
DBMS_RESOURCE_MANAGER.CREATE_PLAN(PLAN =&gt; 'maildb_plan', 
   COMMENT =&gt; 'Resource plan/method for mail users sessions');
DBMS_RESOURCE_MANAGER.CREATE_PLAN(PLAN =&gt; 'mydb_plan', 
   COMMENT =&gt; 'Resource plan/method for bug and mail users sessions');
DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP(CONSUMER_GROUP =&gt; 'Online_group', 
   COMMENT =&gt; 'Resource consumer group/method for online bug users sessions');
DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP(CONSUMER_GROUP =&gt; 'Batch_group', 
   COMMENT =&gt; 'Resource consumer group/method for batch job bug users sessions');
DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP(CONSUMER_GROUP =&gt; 'Bug_Maint_group',
   COMMENT =&gt; 'Resource consumer group/method for users sessions for bug db maint');
DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP(CONSUMER_GROUP =&gt; 'Users_group', 
   COMMENT =&gt; 'Resource consumer group/method for mail users sessions');
DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP(CONSUMER_GROUP =&gt; 'Postman_group',
   COMMENT =&gt; 'Resource consumer group/method for mail postman');
DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP(CONSUMER_GROUP =&gt; 'Mail_Maint_group', 
   COMMENT =&gt; 'Resource consumer group/method for users sessions for mail db maint');
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'bugdb_plan',
   GROUP_OR_SUBPLAN =&gt; 'Online_group',
   COMMENT =&gt; 'online bug users sessions at level 1', MGMT_P1 =&gt; 80, MGMT_P2=&gt; 0);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'bugdb_plan', 
   GROUP_OR_SUBPLAN =&gt; 'Batch_group', 
   COMMENT =&gt; 'batch bug users sessions at level 1', MGMT_P1 =&gt; 20, MGMT_P2 =&gt; 0,
   PARALLEL_DEGREE_LIMIT_P1 =&gt; 8);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'bugdb_plan', 
   GROUP_OR_SUBPLAN =&gt; 'Bug_Maint_group',
   COMMENT =&gt; 'bug maintenance users sessions at level 2', MGMT_P1 =&gt; 0, MGMT_P2 =&gt; 100);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'bugdb_plan', 
   GROUP_OR_SUBPLAN =&gt; 'OTHER_GROUPS', 
   COMMENT =&gt; 'all other users sessions at level 3', MGMT_P1 =&gt; 0, MGMT_P2 =&gt; 0,
   MGMT_P3 =&gt; 100);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'maildb_plan', 
   GROUP_OR_SUBPLAN =&gt; 'Postman_group',
   COMMENT =&gt; 'mail postman at level 1', MGMT_P1 =&gt; 40, MGMT_P2 =&gt; 0);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'maildb_plan',
   GROUP_OR_SUBPLAN =&gt; 'Users_group',
   COMMENT =&gt; 'mail users sessions at level 2', MGMT_P1 =&gt; 0, MGMT_P2 =&gt; 80);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'maildb_plan',
   GROUP_OR_SUBPLAN =&gt; 'Mail_Maint_group',
   COMMENT =&gt; 'mail maintenance users sessions at level 2', MGMT_P1 =&gt; 0, MGMT_P2 =&gt; 20);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'maildb_plan',
   GROUP_OR_SUBPLAN =&gt; 'OTHER_GROUPS', 
   COMMENT =&gt; 'all other users sessions at level 3', MGMT_P1 =&gt; 0, MGMT_P2 =&gt; 0,
   MGMT_P3 =&gt; 100);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'mydb_plan', 
   GROUP_OR_SUBPLAN =&gt; 'maildb_plan', 
   COMMENT=&gt; 'all mail users sessions at level 1', MGMT_P1 =&gt; 30);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'mydb_plan', 
   GROUP_OR_SUBPLAN =&gt; 'bugdb_plan', 
   COMMENT =&gt; 'all bug users sessions at level 1', MGMT_P1 =&gt; 70);
DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA();
DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA();
END;
/
</pre><p>The preceding call to <code class="codeph">VALIDATE_PENDING_AREA</code> is optional because the validation is implicitly performed in <code class="codeph">SUBMIT_PENDING_AREA</code>.
                        </p>
                        <div class="figure" id="GUID-57A6467A-4865-4C16-8A14-4DDCC969960F__BABIIIDF">
                           <p class="titleinfigure">Figure 27-3 Multilevel Plan Schema</p><img src="img/admin057.gif" width="620" alt="Description of Figure 27-3 follows" title="Description of Figure 27-3 follows" longdesc="img_text/admin057.html"><br><a href="img_text/admin057.html">Description of "Figure 27-3 Multilevel Plan Schema"</a></div>
                        <!-- class="figure" -->
                        <p>In this plan schema, CPU resources are allocated as follows:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Under <code class="codeph">mydb_plan</code>, 30% of CPU is allocated to the <code class="codeph">maildb_plan</code> subplan, and 70% is allocated to the <code class="codeph">bugdb_plan</code> subplan. Both subplans are at level 1. Because <code class="codeph">mydb_plan</code> itself has no levels below level 1, any resource allocations that are unused by either subplan at level 1 can be used by its sibling subplan. Thus, if <code class="codeph">maildb_plan</code> uses only 20% of CPU, then 80% of CPU is available to <code class="codeph">bugdb_plan</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">maildb_plan</code> and <code class="codeph">bugdb_plan</code> define allocations at levels 1, 2, and 3. The levels in these subplans are independent of levels in their parent plan, <code class="codeph">mydb_plan</code>. That is, all plans and subplans in a plan schema have their own level 1, level 2, level 3, and so on.
                              </p>
                           </li>
                           <li>
                              <p>Of the 30% of CPU allocated to <code class="codeph">maildb_plan</code>, 40% of that amount (effectively 12% of total CPU) is allocated to <code class="codeph">Postman_group</code> at level 1. Because <code class="codeph">Postman_group</code> has no siblings at level 1, there is an implied 60% remaining at level 1. This 60% is then shared by <code class="codeph">Users_group</code> and <code class="codeph">Mail_Maint_group</code> at level 2, at 80% and 20%, respectively. In addition to this 60%, <code class="codeph">Users_group</code> and <code class="codeph">Mail_Maint_group</code> can also use any of the 40% not used by <code class="codeph">Postman_group</code> at level 1.
                              </p>
                           </li>
                           <li>
                              <p>CPU resources not used by either <code class="codeph">Users_group</code> or <code class="codeph">Mail_Maint_group</code> at level 2 are allocated to <code class="codeph">OTHER_GROUPS</code>, because in multilevel plans, unused resources are reallocated to consumer groups or subplans at the next lower level, not to siblings at the same level. Thus, if <code class="codeph">Users_group</code> uses only 70% instead of 80%, the remaining 10% cannot be used by <code class="codeph">Mail_Maint_group</code>. That 10% is available only to <code class="codeph">OTHER_GROUPS</code> at level 3.
                              </p>
                           </li>
                           <li>
                              <p>The 70% of CPU allocated to the <code class="codeph">bugdb_plan</code> subplan is allocated to its consumer groups in a similar fashion. If either <code class="codeph">Online_group</code> or <code class="codeph">Batch_group</code> does not use its full allocation, the remainder may be used by <code class="codeph">Bug_Maint_group</code>. If <code class="codeph">Bug_Maint_group</code> does not use all of that allocation, the remainder goes to <code class="codeph">OTHER_GROUPS</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">Putting It All Together: Oracle Database Resource Manager Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13328"></a><a id="ADMIN13329"></a><a id="ADMIN13330"></a><a id="ADMIN13469"></a><a id="ADMIN13470"></a><a id="ADMIN13327"></a><div class="props_rev_3"><a id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938" name="GUID-D695EE69-E08B-41BB-90FB-207E6810B938"></a><h4 id="ADMIN-GUID-D695EE69-E08B-41BB-90FB-207E6810B938" class="sect4"><span class="enumeration_section">27.7.2 </span>Examples of Using the Utilization Limit Attribute
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">UTILIZATION_LIMIT</code> directive attribute to limit the CPU utilization for applications. One of the most common scenarios in which this attribute can be used is for database consolidation.
                     </p>
                     <div class="section">
                        <p>During database consolidation, you may need to be able to do the following:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Manage the performance impact that one application can have on another.</p>
                              <p>One method of managing this performance impact is to create a consumer group for each application and allocate resources to each consumer group.</p>
                           </li>
                           <li>
                              <p>Limit the utilization of each application.</p>
                              <p>Typically, in addition to allocating a specific percentage of the CPU resources to each consumer group, you may need to limit the maximum CPU utilization for each group. This limit prevents a consumer group from using all of the CPU resources when all the other consumer groups are idle.</p>
                              <p>In some cases, you may want all application users to experience consistent performance regardless of the workload from other applications. This can be achieved by specifying a utilization limit for each consumer group in a resource plan.</p>
                           </li>
                        </ul>
                        <p>The following examples demonstrate how to use the <code class="codeph">UTILIZATION_LIMIT</code> resource plan directive attribute to:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Restrict total database CPU utilization</p>
                           </li>
                           <li>
                              <p>Quarantine runaway queries</p>
                           </li>
                           <li>
                              <p>Limit CPU usage for applications</p>
                           </li>
                           <li>
                              <p>Limit CPU utilization during maintenance windows</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-B274EDE4-61D7-4946-B39B-C6F80BC3D06A">Example 1 - Restricting Overall Database CPU Utilization</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In this example, regardless of database load, system workload from Oracle Database never exceeds 90% of CPU, leaving 10% of CPU for other applications sharing the server.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA();

  DBMS_RESOURCE_MANAGER.CREATE_PLAN(
    PLAN    =&gt; 'MAXCAP_PLAN',
    COMMENT =&gt; 'Limit overall database CPU');
   
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(
    PLAN              =&gt; 'MAXCAP_PLAN',
    GROUP_OR_SUBPLAN  =&gt; 'OTHER_GROUPS',
    COMMENT           =&gt; 'This group is mandatory',
    UTILIZATION_LIMIT =&gt; 90);

  DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA();
  DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA();
END;
/
</pre><p>Because there is no plan directive other than the one for <code class="codeph">OTHER_GROUPS</code>, all sessions are mapped to <code class="codeph">OTHER_GROUPS</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-B077A2D4-8EC4-4177-8A94-A7F964E27372">Example 2 - Quarantining Runaway Queries</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In this example, runaway queries are switched to a consumer group with a utilization limit of 20%, limiting the amount of resources that they can consume until you can intervene. A runaway query is characterized here as one that takes more than 10 minutes of CPU time. Assume that session mapping rules start all sessions in <code class="codeph">START_GROUP</code>.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA();

  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
     CONSUMER_GROUP =&gt; 'START_GROUP',
     COMMENT        =&gt; 'Sessions start here');
   
  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
     CONSUMER_GROUP =&gt; 'QUARANTINE_GROUP',
     COMMENT        =&gt; 'Sessions switched here to quarantine them');
 
  DBMS_RESOURCE_MANAGER.CREATE_PLAN(
    PLAN    =&gt; 'Quarantine_plan',
    COMMENT =&gt; 'Quarantine runaway queries');
 
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(
    PLAN                  =&gt; 'Quarantine_plan',
    GROUP_OR_SUBPLAN      =&gt; 'START_GROUP',
    COMMENT               =&gt; 'Max CPU 10 minutes before switch',
    MGMT_P1               =&gt; 75,
    switch_group          =&gt; 'QUARANTINE_GROUP',
    switch_time           =&gt; 600);
  
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(
    PLAN                  =&gt; 'Quarantine_plan',
    GROUP_OR_SUBPLAN      =&gt; 'OTHER_GROUPS',
    COMMENT               =&gt; 'Mandatory',
    MGMT_P1               =&gt; 25);
  
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(
    PLAN                  =&gt; 'Quarantine_plan',
    GROUP_OR_SUBPLAN      =&gt; 'QUARANTINE_GROUP',
    COMMENT               =&gt; 'Limited CPU',
    MGMT_P2               =&gt; 100,
    UTILIZATION_LIMIT     =&gt; 20);

  DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA();
  DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA();
END;
/</pre><div class="infoboxnote" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-F99E8B65-8BD5-47EB-85FE-1857210CFB0A">
                           <p class="notep1">Note:</p>
                           <p>Although you could set the utilization limit to zero for <code class="codeph">QUARANTINE_GROUP</code>, thus completely quarantining runaway queries, it is recommended that you avoid doing this. If the runaway query is holding any resources—PGA memory, locks, and so on—required by any other session, then a zero allocation setting could lead to a deadlock.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-1550A6FC-D121-4F0A-95AD-71B5272E9997">Example 3 - Limiting CPU for Applications</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In this example, assume that mapping rules map application sessions into one of four application groups. Each application group is allocated a utilization limit of 30%. This limits CPU utilization of any one application to 30%. The sum of the <code class="codeph">UTILIZATION_LIMIT</code> values exceeds 100%, which is permissible and acceptable in a situation where all applications are not active simultaneously.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA();
   
  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP(
     CONSUMER_GROUP =&gt; 'APP1_GROUP',
     COMMENT        =&gt; 'Apps group 1');
  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
     CONSUMER_GROUP =&gt; 'APP2_GROUP',
     COMMENT        =&gt; 'Apps group 2');
  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
     CONSUMER_GROUP =&gt; 'APP3_GROUP',
     COMMENT        =&gt; 'Apps group 3');
  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
     CONSUMER_GROUP =&gt; 'APP4_GROUP',
     COMMENT        =&gt; 'Apps group 4');
 
  DBMS_RESOURCE_MANAGER.CREATE_PLAN(
    PLAN    =&gt; 'apps_plan',
    COMMENT =&gt; 'Application consolidation');
 
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'apps_plan',
    GROUP_OR_SUBPLAN      =&gt; 'APP1_GROUP',
    COMMENT               =&gt; 'Apps group 1',
    UTILIZATION_LIMIT     =&gt; 30);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'apps_plan',
    GROUP_OR_SUBPLAN      =&gt; 'APP2_GROUP',
    COMMENT               =&gt; 'Apps group 2',
    UTILIZATION_LIMIT     =&gt; 30);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'apps_plan',
    GROUP_OR_SUBPLAN      =&gt; 'APP3_GROUP',
    COMMENT               =&gt; 'Apps group 3',
    UTILIZATION_LIMIT     =&gt; 30);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'apps_plan',
    GROUP_OR_SUBPLAN      =&gt; 'APP4_GROUP',
    COMMENT               =&gt; 'Apps group 4',
    UTILIZATION_LIMIT     =&gt; 30);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'apps_plan',
    GROUP_OR_SUBPLAN      =&gt; 'OTHER_GROUPS',
    COMMENT               =&gt; 'Mandatory',
    UTILIZATION_LIMIT     =&gt; 20);
 
  DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA();
  DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA();
END;
/
</pre><p>If all four application groups can fully use the CPU allocated to them (30% in this case), then the minimum CPU that is allocated to each application group is computed as a ratio of the application group's limit to the total of the limits of all application groups. In this example, all four application groups are allocated a utilization limit of 30%. Therefore, when all four groups fully use their limits, the CPU allocation to each group is 30/(30+30+30+30) = 25%.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABEAJGH">
                        <p class="subhead3" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__GUID-F398ABCE-5215-4522-BE21-95182B620EAF">Example 4 - Specifying a Utilization Limit for Consumer Groups and Subplans</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following <a id="d241756e8217" class="indexterm-anchor"></a>example describes how the utilization limit is computed for scenarios, such as the one in <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABHHCCA">Figure 27-4</a>, where you set <code class="codeph">UTILIZATION_LIMIT</code> for a subplan and for consumer groups within the subplan. For simplicity, the requirement to include the <code class="codeph">OTHER_GROUPS</code> consumer group is ignored, and resource plan directives are not shown, even though they are part of the plan. 
                        </p>
                        <div class="figure" id="GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABHHCCA">
                           <p class="titleinfigure">Figure 27-4 Resource Plan with Maximum Utilization for Subplan and Consumer Groups</p><img src="img/admin087.gif" width="585" alt="Description of Figure 27-4 follows" title="Description of Figure 27-4 follows" longdesc="img_text/admin087.html"><br><a href="img_text/admin087.html">Description of "Figure 27-4 Resource Plan with Maximum Utilization for Subplan and Consumer Groups"</a></div>
                        <!-- class="figure" -->
                        <p>The following PL/SQL block creates the plan described in <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-D695EE69-E08B-41BB-90FB-207E6810B938__BABHHCCA">Figure 27-4</a>.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA();
    DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
     CONSUMER_GROUP =&gt; 'APP1_GROUP',
     COMMENT        =&gt; 'Group for application #1');
  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
     CONSUMER_GROUP =&gt; 'APP2_OLTP_GROUP',
     COMMENT        =&gt; 'Group for OLTP activity in application #2');
  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
     CONSUMER_GROUP =&gt; 'APP2_ADHOC_GROUP',
     COMMENT        =&gt; 'Group for ad-hoc queries in application #2');
  DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP (
     CONSUMER_GROUP =&gt; 'APP2_REPORT_GROUP',
     COMMENT        =&gt; 'Group for reports in application #2');
   DBMS_RESOURCE_MANAGER.CREATE_PLAN(
    PLAN    =&gt; 'APPS_PLAN',
    COMMENT =&gt; 'Plan for managing 3 applications');
  DBMS_RESOURCE_MANAGER.CREATE_PLAN(
    PLAN    =&gt; 'APP2_SUBPLAN',
    COMMENT =&gt; 'Subplan for managing application #2',
    SUB_PLAN =&gt; TRUE);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN(
    PLAN    =&gt; 'APP2_REPORTS_SUBPLAN',
    COMMENT =&gt; 'Subplan for managing reports in application #2',
    SUB_PLAN =&gt; TRUE);

  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'APPS_PLAN',
    GROUP_OR_SUBPLAN      =&gt; 'APP1_GROUP',
    COMMENT               =&gt; 'Limit CPU for application #1 to 40%',
    UTILIZATION_LIMIT     =&gt; 40);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'APPS_PLAN',
    GROUP_OR_SUBPLAN      =&gt; 'APP2_SUBPLAN',
    COMMENT               =&gt; 'Limit CPU for application #2 to 40%',
    UTILIZATION_LIMIT     =&gt; 40);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'APP2_SUBPLAN',
    GROUP_OR_SUBPLAN      =&gt; 'APP2_OLTP_GROUP',
    COMMENT               =&gt; 'Limit CPU for OLTP to 90% of application #2',
    UTILIZATION_LIMIT     =&gt; 90);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'APP2_SUBPLAN',
    GROUP_OR_SUBPLAN      =&gt; 'APP2_REPORTS_SUBPLAN',
    COMMENT               =&gt; 'Subplan for ad-hoc and normal reports for application #2');
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'APP2_REPORTS_SUBPLAN',
    GROUP_OR_SUBPLAN      =&gt; 'APP2_ADHOC_GROUP',
    COMMENT               =&gt; 'Limit CPU for ad-hoc queries to 50% of application #2 reports',
    UTILIZATION_LIMIT     =&gt; 50);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'APP2_REPORTS_SUBPLAN',
    GROUP_OR_SUBPLAN      =&gt; 'APP2_REPORT_GROUP',
    COMMENT               =&gt; 'Limit CPU for reports to 50% of application #2 reports',
    UTILIZATION_LIMIT     =&gt; 50);
  DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE (
    PLAN                  =&gt; 'APPS_PLAN',
    GROUP_OR_SUBPLAN      =&gt; 'OTHER_GROUPS',
    COMMENT               =&gt; 'No directives for default users');
   DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA();
  DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA();
END;
/
</pre><p>In this example, the maximum CPU utilization for the consumer group <code class="codeph">APP1_GROUP</code> and subplan <code class="codeph">APP2_SUBPLAN</code> is set to 40%. The limit for the consumer groups <code class="codeph">APP2_ADHOC_GROUP</code> and <code class="codeph">APP2_REPORT_GROUP</code> is set to 50%.
                        </p>
                        <p>Because there is no limit specified for the subplan <code class="codeph">APP2_REPORTS_SUBPLAN</code>, it inherits the limit of its parent subplan <code class="codeph">APP2_SUBPLAN</code>, which is 40%. The absolute limit for the consumer group <code class="codeph">APP2_REPORT_GROUP</code> is computed as 50% of its parent subplan, which is 50% of 40%, or 20%.
                        </p>
                        <p>Similarly, because the consumer group <code class="codeph">APP2_ADHOC_GROUP</code> is contained in the subplan <code class="codeph">APP2_REPORTS_SUBPLAN</code>, its limit is computed as a percentage of its parent subplan. The utilization limit for the consumer group <code class="codeph">APP2_ADHOC_GROUP</code> is 50% of 40%, or 20%.
                        </p>
                        <p>The maximum CPU utilization for the consumer group <code class="codeph">APP2_OLTP_GROUP</code> is set to 90%. The parent subplan of <code class="codeph">APP2_OLTP_GROUP</code>, <code class="codeph">APP2_SUBPLAN</code>, has a limit of 40%. Therefore, the absolute limit for the group <code class="codeph">APP2_OLTP_GROUP</code> is 90% of 40%, or 36%.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">Putting It All Together: Oracle Database Resource Manager Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11892"></a><div class="props_rev_3"><a id="GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A" name="GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A"></a><h4 id="ADMIN-GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A" class="sect4"><span class="enumeration_section">27.7.3 </span>Example of Using Several Resource Allocation Methods
                  </h4>
                  <div>
                     <p>An example illustrates using several resource allocation methods.</p>
                     <div class="section">
                        <p>The example presented here could represent a plan for a database supporting a packaged ERP (Enterprise Resource Planning) or CRM (Customer Relationship Management) application. The work in such an environment can be highly varied. There may be a mix of short transactions and quick queries, in combination with longer running batch jobs that include large parallel queries. The goal is to give good response time to OLTP (Online Transaction Processing), while allowing batch jobs to run in parallel. </p>
                        <p>The plan is summarized in the following table.</p>
                        <div class="tblformalwide" id="GUID-37CCBFC3-C64B-4474-8883-75FC4E42A18A__GUID-63B91FD9-3F99-42E7-8686-CAAF67826CF6">
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Column 1 contains the consumer group name; column 2 specifies the CPU resource allocation percent; column 3 specifies the active session pool parameter; column 4 specifies the automatic switching parameters; column 5 specifies the maximum estimated execution time, and column 6 specifies the size of the undo pool." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d241756e8342">Group</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8345">CPU Resource Allocation %</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8348">Parallel Statement Queuing</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8351">Automatic Consumer Group Switching</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8354">Maximum Estimated Execution Time</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8357">Undo Pool</th>
                                    <th align="left" valign="bottom" width="14%" id="d241756e8360">PGA Limit for Each Session</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d241756e8365" headers="d241756e8342 ">
                                       <p><code class="codeph">oltp</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8345 ">
                                       <p>60%</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8348 ">
                                       <p>--</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8351 ">
                                       <p>Switch to group: <code class="codeph">batch</code></p>
                                       <p>Switch time: 3 secs</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8354 ">
                                       <p>--</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8357 ">
                                       <p>200K</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8365 d241756e8360 ">
                                       <p>20M</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d241756e8393" headers="d241756e8342 ">
                                       <p><code class="codeph">batch</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8345 ">
                                       <p>30%</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8348 ">
                                       <p>Parallel server limit: 8</p>
                                       <p>Parallel queue timeout: 600 secs</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8351 ">
                                       <p>--</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8354 ">
                                       <p>3600 secs</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8357 ">
                                       <p>--</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8393 d241756e8360 ">
                                       <p>--</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d241756e8419" headers="d241756e8342 ">
                                       <p><code class="codeph">OTHER_GROUPS</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8345 ">
                                       <p>10%</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8348 ">
                                       <p>--</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8351 ">
                                       <p>--</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8354 ">
                                       <p>--</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8357 ">
                                       <p>--</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d241756e8419 d241756e8360 ">
                                       <p>--</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The following statements create the preceding plan, which is named <code class="codeph">erp_plan</code>:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA();
DBMS_RESOURCE_MANAGER.CREATE_PLAN(PLAN =&gt; 'erp_plan', 
  COMMENT =&gt; 'Resource plan/method for ERP Database');
DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP(CONSUMER_GROUP =&gt; 'oltp', 
  COMMENT =&gt; 'Resource consumer group/method for OLTP jobs');
DBMS_RESOURCE_MANAGER.CREATE_CONSUMER_GROUP(CONSUMER_GROUP =&gt; 'batch', 
  COMMENT =&gt; 'Resource consumer group/method for BATCH jobs');
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'erp_plan', 
  GROUP_OR_SUBPLAN =&gt; 'oltp', COMMENT =&gt; 'OLTP sessions', MGMT_P1 =&gt; 60, 
  SWITCH_GROUP =&gt; 'batch', SWITCH_TIME =&gt; 3, UNDO_POOL =&gt; 200, 
  SWITCH_FOR_CALL =&gt; TRUE, SESSION_PGA_LIMIT =&gt; 20);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'erp_plan', 
  GROUP_OR_SUBPLAN =&gt; 'batch', COMMENT =&gt; 'BATCH sessions', MGMT_P1 =&gt; 30, 
  PARALLEL_SERVER_LIMIT =&gt; 8, PARALLEL_QUEUE_TIMEOUT =&gt; 600, 
  MAX_EST_EXEC_TIME =&gt; 3600);
DBMS_RESOURCE_MANAGER.CREATE_PLAN_DIRECTIVE(PLAN =&gt; 'erp_plan', 
  GROUP_OR_SUBPLAN =&gt; 'OTHER_GROUPS', COMMENT =&gt; 'mandatory', MGMT_P1 =&gt; 10);
DBMS_RESOURCE_MANAGER.VALIDATE_PENDING_AREA();
DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA();
END;
/</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">Putting It All Together: Oracle Database Resource Manager Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13472"></a><a id="ADMIN13471"></a><div class="props_rev_3"><a id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC" name="GUID-B4256D06-2223-49A1-A939-9BE9706498BC"></a><h4 id="ADMIN-GUID-B4256D06-2223-49A1-A939-9BE9706498BC" class="sect4"><span class="enumeration_section">27.7.4 </span>Example of Managing Parallel Statements Using Directive Attributes
                  </h4>
                  <div>
                     <p>An example illustrates managing parallel statements using directive attributes.</p>
                     <p>A typical data warehousing environment consists of different types of users with varying resource requirements. Users with common processing needs are grouped into a consumer group. The consumer group <code class="codeph">URGENT_GROUP</code> consists of users who run reports that provide important information to top management. This group generates a large number of parallel queries. Users from the consumer group <code class="codeph">ETL_GROUP</code> import data from source systems and perform extract, transform, and load (ETL) operations. The group <code class="codeph">OTHER_GROUPS</code> contains users who execute ad-hoc queries. You must manage the requirements of these diverse groups of users while optimizing performance.
                     </p>
                     <p>You can use the following directive attributes to manage and optimize the execution of parallel statements:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">MGMT_P</code><span class="italic">n</span></p>
                        </li>
                        <li>
                           <p><code class="codeph">PARALLEL_SERVER_LIMIT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PARALLEL_STMT_CRITICAL</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PARALLEL_QUEUE_TIMEOUT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PQ_TIMEOUT_ACTION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SHARES</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC__GUID-3BD8665C-54D8-4D5A-8D0A-B2AEBB0A7DE1">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">MGMT_P</code><span class="italic">n</span> management attributes and <code class="codeph">SHARES</code> attribute control how a parallel statement is selected from the parallel statement queue for execution. You can prioritize the parallel statements of one consumer group over another by setting a higher value for the management attributes of that group.
                              </p>
                           </li>
                           <li>
                              <p>In a multitenant environment, if you want more per-workload management, then you can use the <code class="codeph">SHARES</code> attribute to specify the share of resource allocation for pluggable databases (PDBs), which includes the parallel statement queuing resource. Alternatively, you can use the other directive attributes mentioned above.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B4256D06-2223-49A1-A939-9BE9706498BC__BABBGHBA" title="This table describes the reource allocations for the plan MY_PLAN.">Table 27-4</a> describes the resource allocations of the plan <code class="codeph">DW_PLAN</code>, which can be used to manage the needs of the data warehouse users. This plan contains the consumer groups <code class="codeph">URGENT_GROUP</code>, <code class="codeph">ETL_GROUP</code>, and <code class="codeph">OTHER_GROUPS</code>. This example demonstrates the use of directive attributes in ensuring that one application or consumer group does not use all the available parallel execution servers.
                     </p>
                     <div class="tblformalwide" id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC__BABBGHBA">
                        <p class="titleintable">Table 27-4 Resource Plan with Parallel Statement Directives</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Resource Plan with Parallel Statement Directives" summary="This table describes the reource allocations for the plan MY_PLAN." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d241756e8593">Consumer Group</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8596">Level 1 CPU Allocation</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8599">Level 2 CPU Allocation</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8602">Level 3 CPU Allocation</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8605">PARALLEL_DEGREE_LIMIT_P1</th>
                                 <th align="left" valign="bottom" width="15%" id="d241756e8608">PARALLEL_SERVER_LIMIT</th>
                                 <th align="left" valign="bottom" width="13%" id="d241756e8611">PARALLEL_QUEUE_TIMEOUT</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d241756e8616" headers="d241756e8593 ">
                                    <p><code class="codeph">URGENT_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8596 ">
                                    <p>100%</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8599 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8602 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8605 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d241756e8616 d241756e8608 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8616 d241756e8611 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d241756e8635" headers="d241756e8593 ">
                                    <p><code class="codeph">ETL_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8596 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8599 ">
                                    <p>100%</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8602 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8605 ">
                                    <p>8</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d241756e8635 d241756e8608 ">
                                    <p>50%</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8635 d241756e8611 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d241756e8655" headers="d241756e8593 ">
                                    <p><code class="codeph">OTHER_GROUPS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8596 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8599 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8602 ">
                                    <p>100%</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8605 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d241756e8655 d241756e8608 ">
                                    <p>50%</p>
                                 </td>
                                 <td align="left" valign="top" width="13%" headers="d241756e8655 d241756e8611 ">
                                    <p>360</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>In this example, the parameter <code class="codeph">PARALLEL_SERVERS_TARGET</code> initialization parameter is set to 64, which means that the number of parallel execution servers available is 64. The total number of parallel execution servers that can be used for parallel statement execution before <code class="codeph">URGENT_GROUP</code> sessions with <code class="codeph">PARALLEL_DEGREE_POLICY</code> set to <code class="codeph">AUTO</code> are added to the parallel statement queue is equal to 64. Because the <code class="codeph">PARALLEL_SERVER_LIMIT</code> attribute of <code class="codeph">ETL_GROUP</code> and <code class="codeph">OTHER_GROUPS</code> is 50%, the maximum number of parallel execution servers that can be used by these groups is 50% of 64, or 32 parallel execution servers each.
                     </p>
                     <p>Note that parallel statements from a consumer group will only be queued if the <code class="codeph">PARALLEL_DEGREE_POLICY</code> parameter is set to <code class="codeph">AUTO</code> and the total number of active servers for the consumer group is higher than <code class="codeph">PARALLEL_SERVERS_TARGET</code>. If <code class="codeph">PARALLEL_DEGREE_POLICY</code> is set to <code class="codeph">MANUAL</code> or <code class="codeph">LIMITED</code>, then the statements are run provided there are enough parallel execution servers available. The parallel execution servers used by such a statement will count toward the total number of parallel execution servers used by the consumer group. However, the parallel statement will not be added to the parallel statement queue. 
                     </p>
                     <div class="infobox-tip" id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC__GUID-5A6B2097-A027-4EA7-A2C6-8F4B5F43E58B">
                        <p class="notep1">Tip:</p>
                        <p>For low-priority applications, it is a common practice to set low values for <code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code> and <code class="codeph">PARALLEL_SERVER_LIMIT</code>.
                        </p>
                     </div>
                     <p>Because <code class="codeph">URGENT_GROUP</code> has 100% of the allocation at level 1, its parallel statements will always be dequeued ahead of the other consumer groups from the parallel statement queue. Although <code class="codeph">URGENT_GROUP</code> has no <code class="codeph">PARALLEL_SERVER_LIMIT</code> directive attribute, a statement issued by a session in this group might still be queued if there are not enough available parallel execution servers to run it.
                     </p>
                     <p>When you create the resource plan directive for the <code class="codeph">URGENT_GROUP</code>, you can set the <code class="codeph">PARALLEL_STMT_CRITICAL</code> parameter to <code class="codeph">BYPASS_QUEUE</code>. With this setting, parallel statements from the consumer group bypass the parallel statements queue and are executed immediately. However, the number of parallel execution servers might exceed the setting of the <code class="codeph">PARALLEL_SERVERS_TARGET</code> initialization parameter, and the degree of parallelism might be lower if the limit set by the <code class="codeph">PARALLEL_MAX_SERVERS</code> initialization parameter is reached.
                     </p>
                     <p>The degree of parallelism, represented by <code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code>, is set to 12 for <code class="codeph">URGENT_GROUP</code>. Therefore, each parallel statement from <code class="codeph">URGENT_GROUP</code> can use a maximum of 12 parallel execution servers. Similarly, each parallel statement from the <code class="codeph">ETL_GROUP</code> can use a maximum of 8 parallel execution servers and each parallel statement from the <code class="codeph">OTHER_GROUPS</code> can use 2 parallel execution servers.
                     </p>
                     <p>Suppose, at a given time, the only parallel statements are from the <code class="codeph">ETL_GROUP</code>, and they are using 26 out of the 32 parallel execution servers available to this group. Sessions from this consumer group have <code class="codeph">PARALLEL_DEGREE_POLICY</code> set to <code class="codeph">AUTO</code>. If another parallel statement with the <code class="codeph">PARALLEL_DEGREE_LIMIT_P1</code> attribute set to 8 is launched from <code class="codeph">ETL_GROUP</code>, then this query cannot be run immediately because the available parallel execution servers in the <code class="codeph">ETL_GROUP</code> is 32-26=6 parallel execution servers. The new parallel statement is queued until the number of parallel execution servers it requires is available in <code class="codeph">ETL_GROUP</code>.
                     </p>
                     <p>While the parallel statements in <code class="codeph">ETL_GROUP</code> are being executed, suppose a parallel statement is launched from <code class="codeph">OTHER_GROUPS</code>. This group still has 32 parallel execution servers available and so the parallel statement is executed.
                     </p>
                     <p>The <code class="codeph">PARALLEL_QUEUE_TIMEOUT</code> attribute for <code class="codeph">OTHER_GROUPS</code> is set to 360. Therefore, any parallel statement from this group can remain in the parallel execution server queue for 360 seconds only. After this time, the parallel statement is removed from the queue and the error <code class="codeph">ORA-07454</code> is returned.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B4256D06-2223-49A1-A939-9BE9706498BC__GUID-6F70B6AD-308D-4A5F-9A03-B64531A8B132">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-B1E0B0A8-2709-4A1C-821D-9CEC35B03603" title="Resource Manager can manage usage of the available parallel execution servers for a database.">Parallel Execution Servers</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BDCC024-22DD-479D-A7C3-92E7145C854F" title="You use the CREATE_PLAN_DIRECTIVE procedure to create resource plan directives. Each directive belongs to a plan or subplan and allocates resources to either a consumer group or subplan.">Creating Resource Plan Directives </a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">Putting It All Together: Oracle Database Resource Manager Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11893"></a><div class="props_rev_3"><a id="GUID-24C55451-A87D-45B7-8230-4B51392AE89F" name="GUID-24C55451-A87D-45B7-8230-4B51392AE89F"></a><h4 id="ADMIN-GUID-24C55451-A87D-45B7-8230-4B51392AE89F" class="sect4"><span class="enumeration_section">27.7.5 </span>An Oracle-Supplied Mixed Workload Plan
                  </h4>
                  <div>
                     <p>Oracle Database includes a predefined resource plan, <code class="codeph">MIXED_WORKLOAD_PLAN</code>, that prioritizes interactive operations over batch operations, and includes the required subplans and consumer groups recommended by Oracle.
                     </p>
                     <p><code class="codeph">MIXED_WORKLOAD_PLAN</code> is defined as follows:
                     </p>
                     <div class="tblformal" id="GUID-24C55451-A87D-45B7-8230-4B51392AE89F__GUID-33EEFE13-B050-4506-8BB2-1755C2318B50">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the resource consumer groups/subplans included in the plan; the next 3 columns specify the CPU resource allocations for level 1, level2, and level 3, respectively. The next column indicates automatic switching parameters, and the final column shows max degree of parallelism" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th rowspan="2" align="left" valign="bottom" width="17%" id="d241756e8919">Group or Subplan</th>
                                 <th colspan="5" align="left" valign="bottom" id="d241756e8922">CPU Resource Allocation</th>
                              </tr>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="17%" id="d241756e8926">Level 1</th>
                                 <th align="left" valign="bottom" width="17%" id="d241756e8929">Level 2</th>
                                 <th align="left" valign="bottom" width="17%" id="d241756e8932">Level 3</th>
                                 <th align="left" valign="bottom" width="17%" id="d241756e8935">Automatic Consumer Group Switching</th>
                                 <th align="left" valign="bottom" width="17%" id="d241756e8938">Max Degree of Parallelism</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e8943" headers="d241756e8919 ">
                                    <p><code class="codeph">BATCH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8926 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8929 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8932 ">
                                    <p>100%</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8935 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8943 d241756e8922 d241756e8938 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e8959" headers="d241756e8919 ">
                                    <p><code class="codeph">INTERACTIVE_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8926 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8929 ">
                                    <p>85%</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8932 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8935 ">
                                    <p>Switch to group: <code class="codeph">BATCH_GROUP</code></p>
                                    <p>Switch time: 60 seconds</p>
                                    <p>Switch for call: <code class="codeph">TRUE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8959 d241756e8922 d241756e8938 ">
                                    <p>1</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e8985" headers="d241756e8919 ">
                                    <p><code class="codeph">ORA$AUTOTASK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8926 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8929 ">
                                    <p>5%</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8932 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8935 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e8985 d241756e8922 d241756e8938 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e9001" headers="d241756e8919 ">
                                    <p><code class="codeph">OTHER_GROUPS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8926 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8929 ">
                                    <p>5%</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8932 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8935 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9001 d241756e8922 d241756e8938 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="17%" id="d241756e9017" headers="d241756e8919 ">
                                    <p><code class="codeph">SYS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8926 ">
                                    <p>100%</p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8929 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8932 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8935 ">
                                    <p></p>
                                 </td>
                                 <td align="left" valign="top" width="17%" headers="d241756e9017 d241756e8922 d241756e8938 ">
                                    <p></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>In this plan, because <code class="codeph">INTERACTIVE_GROUP</code> is intended for short transactions, any call that consumes more than 60 seconds of CPU time is automatically switched to <code class="codeph">BATCH_GROUP</code>, which is intended for longer batch operations.
                     </p>
                     <p>You can use this predefined plan if it is appropriate for your environment. (You can modify the plan, or delete it if you do not intend to use it.) Note that there is nothing special about the names <code class="codeph">BATCH_GROUP</code> and <code class="codeph">INTERACTIVE_GROUP</code>. The names reflect only the intended purposes of the groups, and it is up to you to map application sessions to these groups and adjust CPU resource allocation percentages accordingly so that you achieve proper resource management for your interactive and batch applications. For example, to ensure that your interactive applications run under the <code class="codeph">INTERACTIVE_GROUP</code> consumer group, you must map your interactive applications' user sessions to this consumer group based on user name, service name, program name, module name, or action, as described in <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="You can create and prioritize session-to-consumer group mapping rules.">Specifying Session-to-Consumer Group Mapping Rules</a>"</span>. You must map your batch applications to the <code class="codeph">BATCH_GROUP</code> in the same way. Finally, you must enable this plan as described in <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E8FABE8D-A781-49BB-B623-98F096DED239" title="You enable Oracle Database Resource Manager (the Resource Manager) by setting the RESOURCE_MANAGER_PLAN initialization parameter. This parameter specifies the top plan, identifying the plan to be used for the current instance. If no plan is specified with this parameter, the Resource Manager is not enabled.">Enabling Oracle Database Resource Manager and Switching Plans</a>"</span>.
                     </p>
                     <p>See <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDBEJJB" title="This table has two columns: Resource Plan and Description.">Table 27-5</a> and <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDJAJHE" title="This table has two columns: Resource Consumer Group and Description.">Table 27-6</a> for explanations of the other resource consumer groups and subplans in this plan.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A61AE3F0-75AC-4298-A5E6-D18482FDDA9F" title="Examples illustrate how to allocate resources with Resource Manager.">Putting It All Together: Oracle Database Resource Manager Examples</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13332"></a><div class="props_rev_3"><a id="GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" name="GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD"></a><h3 id="ADMIN-GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" class="sect3"><span class="enumeration_section">27.8 </span>Managing Multiple Database Instances on a Single Server
               </h3>
               <p>Oracle Database provides a method for managing CPU allocations on a multi-CPU server running multiple database instances. This method is called instance caging. Instance caging and Oracle Database Resource Manager (the Resource Manager) work together to support desired levels of service across multiple instances.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5">About Instance Caging</a><br>A simple way to limit CPU consumption for each database instance is to use instance caging. <span class="bold">Instance caging</span> is a method that uses an initialization parameter to limit the number of CPUs that an instance can use simultaneously. 
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-A4F10766-1F2C-4952-9A8D-23765FB9B242">Enabling Instance Caging</a><br>You can enable instance caging using by creating a resource plan with CPU directives and setting the <code class="codeph">CPU_COUNT</code> initialization parameter.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13473"></a><a id="ADMIN13333"></a><div class="props_rev_3"><a id="GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5" name="GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5"></a><h4 id="ADMIN-GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5" class="sect4"><span class="enumeration_section">27.8.1 </span>About Instance Caging
                  </h4>
                  <div>
                     <p>A simple way to limit CPU consumption for each database instance is to use instance caging. <span class="bold">Instance caging</span> is a method that uses an initialization parameter to limit the number of CPUs that an instance can use simultaneously. 
                     </p>
                     <p>You might decide to run multiple Oracle database instances on a single multi-CPU server. A typical reason to do so would be server consolidation—using available hardware resources more efficiently. When running multiple instances on a single server, the instances compete for CPU. One resource-intensive database instance could significantly degrade the performance of the other instances. For example, on a 16-CPU system with four database instances, the operating system might be running one database instance on the majority of the CPUs during a period of heavy load for that instance. This could degrade performance in the other three instances. CPU allocation decisions such as this are made solely by the operating system; the user generally has no control over them.</p>
                     <p>In the previous example, if you use instance caging to limit the number of CPUs to four for each of the four instances, there is less likelihood that one instance can interfere with the others. When constrained to four CPUs, an instance might become CPU-bound. This is when the Resource Manager begins to do its work to allocate CPU among the various database sessions according to the resource plan that you set for the instance. Thus, instance caging and the Resource Manager together provide a simple, effective way to manage multiple instances on a single server.</p>
                     <p>There are two typical approaches to instance caging for a server:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Over-subscribing—You would use this approach for non-critical databases such as development and test systems, or low-load non-critical production systems. In this approach, the sum of the CPU limits for each instance exceeds the actual number of CPUs on the system. For example, on a 4-CPU system with four database instances, you might limit each instance to three CPUs. When a server is over-subscribed in this way, the instances can impact each other's performance. However, instance caging limits the impact and helps provide somewhat predictable performance. However, if one of the instances has a period of high load, the CPUs are available to handle it. This is a reasonable approach for non-critical systems, because one or more of the instances may frequently be idle or at a very low load.</p>
                        </li>
                        <li>
                           <p>Partitioning—This approach is for critical production systems, where you want to prevent instances from interfering with each other. You allocate CPUs such that the sum of all allocations is equal to the number of CPUs on the server. For example, on a 16-server system, you might allocate 8 CPUs to the first instance, 4 CPUs to the second, and 2 each to the remaining two instances. By dedicating CPU resources to each database instance, the load on one instance cannot affect another's, and each instance performs predictably.</p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-787B9BC0-50DD-4E29-9D29-DCFA856BF8A5__GUID-BD035F20-F203-4F20-8288-3A176B4D0357">Using Instance Caging with Utilization Limit</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If you <a id="d241756e9206" class="indexterm-anchor"></a>enable instance caging and set a utilization limit in your resource plan, then the absolute limit is computed as a percentage of the allocated CPU resources.
                        </p>
                        <p>For example, if you enable instance caging and set the <code class="codeph">CPU_COUNT</code> to 4, and a consumer group has a utilization limit of 50%, then the consumer group can use a maximum of 50% of 4 CPUs, which is 2 CPUs.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" title="Oracle Database provides a method for managing CPU allocations on a multi-CPU server running multiple database instances. This method is called instance caging. Instance caging and Oracle Database Resource Manager (the Resource Manager) work together to support desired levels of service across multiple instances.">Managing Multiple Database Instances on a Single Server</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13334"></a><div class="props_rev_3"><a id="GUID-A4F10766-1F2C-4952-9A8D-23765FB9B242" name="GUID-A4F10766-1F2C-4952-9A8D-23765FB9B242"></a><h4 id="ADMIN-GUID-A4F10766-1F2C-4952-9A8D-23765FB9B242" class="sect4"><span class="enumeration_section">27.8.2 </span>Enabling Instance Caging
                  </h4>
                  <div>
                     <p>You can enable instance caging using by creating a resource plan with CPU directives and setting the <code class="codeph">CPU_COUNT</code> initialization parameter.
                     </p>
                     <div class="section">
                        <p>To enable instance caging, do the following for each instance on the server:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Enable the Resource Manager by assigning a resource plan, and ensure that the resource plan has CPU directives, using the <code class="codeph">MGMT_P1</code> through <code class="codeph">MGMT_P8</code> parameters.</span><div>
                              <p>See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-E8FABE8D-A781-49BB-B623-98F096DED239" title="You enable Oracle Database Resource Manager (the Resource Manager) by setting the RESOURCE_MANAGER_PLAN initialization parameter. This parameter specifies the top plan, identifying the plan to be used for the current instance. If no plan is specified with this parameter, the Resource Manager is not enabled.">Enabling Oracle Database Resource Manager and Switching Plans</a>"</span> for instructions.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Set the <code class="codeph">cpu_count</code> initialization parameter.</span><div>
                              <p>This is a dynamic parameter, and can be set with the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET CPU_COUNT = 4;</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" title="Oracle Database provides a method for managing CPU allocations on a multi-CPU server running multiple database instances. This method is called instance caging. Instance caging and Oracle Database Resource Manager (the Resource Manager) work together to support desired levels of service across multiple instances.">Managing Multiple Database Instances on a Single Server</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12498"></a><div class="props_rev_3"><a id="GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" name="GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408"></a><h3 id="ADMIN-GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" class="sect3"><span class="enumeration_section">27.9 </span>Maintaining Consumer Groups, Plans, and Directives
               </h3>
               <div>
                  <p>You can maintain consumer groups, resource plans, and resource plan directives for Oracle Database Resource Manager (the Resource Manager). You perform maintenance tasks using the <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F">Updating a Consumer Group</a><br>You use the <code class="codeph">UPDATE_CONSUMER_GROUP</code> procedure to update consumer group information.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288">Deleting a Consumer Group</a><br>The <code class="codeph">DELETE_CONSUMER_GROUP</code> procedure deletes the specified consumer group. 
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E">Updating a Plan</a><br>You use the <code class="codeph">UPDATE_PLAN</code> procedure to update plan information.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3EC483D5-2808-448A-84F5-24D79944F121">Deleting a Plan</a><br>The <code class="codeph">DELETE_PLAN</code> procedure deletes the specified plan as well as all the plan directives associated with it.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697">Updating a Resource Plan Directive</a><br>Use the <code class="codeph">UPDATE_PLAN_DIRECTIVE</code> procedure to update plan directives. 
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C61729C4-6ABF-45E4-831B-B0050152FE63">Deleting a Resource Plan Directive</a><br>To delete a resource plan directive, use the <code class="codeph">DELETE_PLAN_DIRECTIVE</code> procedure.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408__GUID-93DA4AAE-0BCC-4C35-BA2C-DA5129B4EDD4">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0" title="Oracle Database includes predefined consumer group mapping rules.">Predefined Consumer Group Mapping Rules</a></p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_RESOURCE_MANAGER.html#ARPLS050" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for details on the <code class="codeph">DBMS_RESOURCE_MANAGER</code> PL/SQL package.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11897"></a><div class="props_rev_3"><a id="GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F" name="GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F"></a><h4 id="ADMIN-GUID-9073BCF5-FA7B-473B-9D7A-B4CA31C0EB4F" class="sect4"><span class="enumeration_section">27.9.1 </span>Updating a Consumer Group
                  </h4>
                  <div>
                     <p>You use the <code class="codeph">UPDATE_CONSUMER_GROUP</code> procedure to update consumer group information.
                     </p>
                     <div class="section">
                        <p>To update a consumer group:</p>
                        <ol>
                           <li>
                              <p>Create a pending area.</p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">UPDATE_CONSUMER_GROUP</code> procedure . 
                              </p>
                              <p>If you do not specify the arguments for the <code class="codeph">UPDATE_CONSUMER_GROUP</code> procedure, then they remain unchanged in the data dictionary.
                              </p>
                           </li>
                           <li>
                              <p>Submit the pending area.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="You create a pending area with the CREATE_PENDING_AREA procedure.">Creating a Pending Area</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="After you have validated your changes, call the SUBMIT_PENDING_AREA procedure to make your changes active.">Submitting the Pending Area</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="You can maintain consumer groups, resource plans, and resource plan directives for Oracle Database Resource Manager (the Resource Manager). You perform maintenance tasks using the DBMS_RESOURCE_MANAGER PL/SQL package.">Maintaining Consumer Groups, Plans, and Directives</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11898"></a><div class="props_rev_3"><a id="GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288" name="GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288"></a><h4 id="ADMIN-GUID-5AA84FCC-5D81-4A25-800A-FD2C6AEBF288" class="sect4"><span class="enumeration_section">27.9.2 </span>Deleting a Consumer Group
                  </h4>
                  <div>
                     <p>The <code class="codeph">DELETE_CONSUMER_GROUP</code> procedure deletes the specified consumer group. 
                     </p>
                     <div class="section">
                        <p>To delete a consumer group:</p>
                        <ol>
                           <li>
                              <p>Create a pending area.</p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">DELETE_CONSUMER_GROUP</code> procedure .
                              </p>
                           </li>
                           <li>
                              <p>Submit the pending area.</p>
                           </li>
                        </ol>
                        <p>Upon deletion of a consumer group, all users having the deleted group as their initial consumer group are assigned the <code class="codeph">OTHER_GROUPS</code> as their initial consumer group. All currently running sessions belonging to a deleted consumer group are assigned to a new consumer group, based on the consumer group mapping rules. If no consumer group is found for a session through mapping, the session is switched to the <code class="codeph">OTHER_GROUPS</code>.
                        </p>
                        <p>You cannot delete a consumer group if it is referenced by a resource plan directive.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="You create a pending area with the CREATE_PENDING_AREA procedure.">Creating a Pending Area</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="After you have validated your changes, call the SUBMIT_PENDING_AREA procedure to make your changes active.">Submitting the Pending Area</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="You can maintain consumer groups, resource plans, and resource plan directives for Oracle Database Resource Manager (the Resource Manager). You perform maintenance tasks using the DBMS_RESOURCE_MANAGER PL/SQL package.">Maintaining Consumer Groups, Plans, and Directives</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11895"></a><div class="props_rev_3"><a id="GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E" name="GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E"></a><h4 id="ADMIN-GUID-BF867BB4-2DCD-4715-A0A5-A2514CB2C43E" class="sect4"><span class="enumeration_section">27.9.3 </span>Updating a Plan
                  </h4>
                  <div>
                     <p>You use the <code class="codeph">UPDATE_PLAN</code> procedure to update plan information.
                     </p>
                     <div class="section">
                        <p>To update a plan:</p>
                        <ol>
                           <li>
                              <p>Create a pending area.</p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">UPDATE_PLAN</code> procedure. For example, the following PL/SQL block updates the <code class="codeph">COMMENT</code> parameter:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.UPDATE_PLAN(
   PLAN =&gt; 'DAYTIME',
   NEW_COMMENT =&gt; '50% more resources for OLTP applications');
END;
/</pre><p>If you do not specify the arguments for the <code class="codeph">UPDATE_PLAN</code> procedure, they remain unchanged in the data dictionary. 
                              </p>
                           </li>
                           <li>
                              <p>Submit the pending area.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="You create a pending area with the CREATE_PENDING_AREA procedure.">Creating a Pending Area</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="After you have validated your changes, call the SUBMIT_PENDING_AREA procedure to make your changes active.">Submitting the Pending Area</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="You can maintain consumer groups, resource plans, and resource plan directives for Oracle Database Resource Manager (the Resource Manager). You perform maintenance tasks using the DBMS_RESOURCE_MANAGER PL/SQL package.">Maintaining Consumer Groups, Plans, and Directives</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11896"></a><div class="props_rev_3"><a id="GUID-3EC483D5-2808-448A-84F5-24D79944F121" name="GUID-3EC483D5-2808-448A-84F5-24D79944F121"></a><h4 id="ADMIN-GUID-3EC483D5-2808-448A-84F5-24D79944F121" class="sect4"><span class="enumeration_section">27.9.4 </span>Deleting a Plan
                  </h4>
                  <div>
                     <p>The <code class="codeph">DELETE_PLAN</code> procedure deletes the specified plan as well as all the plan directives associated with it.
                     </p>
                     <div class="section">
                        <p>To delete a plan:</p>
                        <ol>
                           <li>
                              <p>Create a pending area.</p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">DELETE_PLAN_CASCADE</code> procedure. For example, the following PL/SQL block deletes the <code class="codeph">great_bread</code> plan and its directives. 
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.DELETE_PLAN(PLAN =&gt; 'great_bread');
END;
/
</pre><p>If you do not specify the arguments for the <code class="codeph">UPDATE_PLAN</code> procedure, they remain unchanged in the data dictionary. 
                              </p>
                              <p>The resource consumer groups referenced by the deleted directives are not deleted, but they are no longer associated with the <code class="codeph">great_bread</code> plan.
                              </p>
                              <p>The <code class="codeph">DELETE_PLAN_CASCADE</code> procedure deletes the specified plan as well as all its descendants: plan directives and those subplans and resource consumer groups that are not marked by the database as mandatory. If <code class="codeph">DELETE_PLAN_CASCADE</code> encounters an error, then it rolls back, leaving the plan unchanged.
                              </p>
                              <p>You cannot delete the currently active plan.</p>
                           </li>
                           <li>
                              <p>Submit the pending area.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="You create a pending area with the CREATE_PENDING_AREA procedure.">Creating a Pending Area</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="After you have validated your changes, call the SUBMIT_PENDING_AREA procedure to make your changes active.">Submitting the Pending Area</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="You can maintain consumer groups, resource plans, and resource plan directives for Oracle Database Resource Manager (the Resource Manager). You perform maintenance tasks using the DBMS_RESOURCE_MANAGER PL/SQL package.">Maintaining Consumer Groups, Plans, and Directives</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11899"></a><div class="props_rev_3"><a id="GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697" name="GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697"></a><h4 id="ADMIN-GUID-20267C07-2EBA-4AB4-90EA-8C853E7EA697" class="sect4"><span class="enumeration_section">27.9.5 </span>Updating a Resource Plan Directive
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">UPDATE_PLAN_DIRECTIVE</code> procedure to update plan directives. 
                     </p>
                     <div class="section">
                        <p>To update a resource plan directive:</p>
                        <ol>
                           <li>
                              <p>Create a pending area.</p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">UPDATE_PLAN_DIRECTIVE</code> procedure.
                              </p>
                              <p>The following example adds a comment to a directive:</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CLEAR_PENDING_AREA();
  DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA();
  DBMS_RESOURCE_MANAGER.UPDATE_PLAN_DIRECTIVE(
         PLAN             =&gt; 'SIMPLE_PLAN1',
         GROUP_OR_SUBPLAN =&gt; 'MYGROUP1',
         NEW_COMMENT      =&gt; 'Higher priority'
        );
  DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA();
END;
/
</pre><p>To clear (nullify) a comment, pass a null string (<code class="codeph">''</code>). To clear (zero or nullify) any numeric directive parameter, set its new value to -1:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RESOURCE_MANAGER.CLEAR_PENDING_AREA();
  DBMS_RESOURCE_MANAGER.CREATE_PENDING_AREA();
  DBMS_RESOURCE_MANAGER.UPDATE_PLAN_DIRECTIVE(
         PLAN                  =&gt; 'SIMPLE_PLAN1',
         GROUP_OR_SUBPLAN      =&gt; 'MYGROUP1',
         NEW_MAX_EST_EXEC_TIME =&gt; -1
        );
  DBMS_RESOURCE_MANAGER.SUBMIT_PENDING_AREA();
END;
/</pre><p>If you do not specify an argument for the <code class="codeph">UPDATE_PLAN_DIRECTIVE</code> procedure, then its corresponding parameter in the directive remains unchanged.
                              </p>
                           </li>
                           <li>
                              <p>Submit the pending area.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="You create a pending area with the CREATE_PENDING_AREA procedure.">Creating a Pending Area</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="After you have validated your changes, call the SUBMIT_PENDING_AREA procedure to make your changes active.">Submitting the Pending Area</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="You can maintain consumer groups, resource plans, and resource plan directives for Oracle Database Resource Manager (the Resource Manager). You perform maintenance tasks using the DBMS_RESOURCE_MANAGER PL/SQL package.">Maintaining Consumer Groups, Plans, and Directives</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ADMIN11900"></a><div class="props_rev_3"><a id="GUID-C61729C4-6ABF-45E4-831B-B0050152FE63" name="GUID-C61729C4-6ABF-45E4-831B-B0050152FE63"></a><h4 id="ADMIN-GUID-C61729C4-6ABF-45E4-831B-B0050152FE63" class="sect4"><span class="enumeration_section">27.9.6 </span>Deleting a Resource Plan Directive
                  </h4>
                  <div>
                     <p>To delete a resource plan directive, use the <code class="codeph">DELETE_PLAN_DIRECTIVE</code> procedure.
                     </p>
                     <div class="section">
                        <p>To delete a resource plan directive:</p>
                        <ol>
                           <li>
                              <p>Create a pending area.</p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">DELETE_PLAN_DIRECTIVE</code> procedure.
                              </p>
                           </li>
                           <li>
                              <p>Submit the pending area.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EF88A167-74C2-482A-BA44-2E14F6091411" title="You create a pending area with the CREATE_PENDING_AREA procedure.">Creating a Pending Area</a></li>
                           <li><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-6A81232C-BCA8-4939-8496-FC082ACA318E" title="After you have validated your changes, call the SUBMIT_PENDING_AREA procedure to make your changes active.">Submitting the Pending Area</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-86F4CE3C-3B5C-41D6-A50D-E965E13C1408" title="You can maintain consumer groups, resource plans, and resource plan directives for Oracle Database Resource Manager (the Resource Manager). You perform maintenance tasks using the DBMS_RESOURCE_MANAGER PL/SQL package.">Maintaining Consumer Groups, Plans, and Directives</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="ADMIN11901"></a><div class="props_rev_3"><a id="GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" name="GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301"></a><h3 id="ADMIN-GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" class="sect3"><span class="enumeration_section">27.10 </span>Viewing Database Resource Manager Configuration and Status
               </h3>
               <div>
                  <p>You can use several static data dictionary views and dynamic performance views to view the current configuration and status of Oracle Database Resource Manager (the Resource Manager).</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-8E8CEB24-10CA-40F7-8A90-8A31B84CCB08">Viewing Consumer Groups Granted to Users or Roles</a><br>The <code class="codeph">DBA_RSRC_CONSUMER_GROUP_PRIVS</code> view displays the consumer groups granted to users or roles.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB">Viewing Plan Information</a><br>An example illustrates using the <code class="codeph">DBA_RSRC_PLANS</code> view to display all of the resource plans defined in the database.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-56416F58-C6E7-4278-A1CF-BDA523669636">Viewing Current Consumer Groups for Sessions</a><br>You can use the <code class="codeph">V$SESSION</code> view to display the consumer groups that are currently assigned to sessions.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-855E2EBA-4B4E-414C-9C51-0E8D3E9ED748">Viewing the Currently Active Plans</a><br>The <code class="codeph">V$RSRC_PLAN</code> view displays currently active plans.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301__GUID-034D351F-FF18-4808-BA20-2A4A3204AC0D">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> for details on all static data dictionary views and dynamic performance views
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11902"></a><div class="props_rev_3"><a id="GUID-8E8CEB24-10CA-40F7-8A90-8A31B84CCB08" name="GUID-8E8CEB24-10CA-40F7-8A90-8A31B84CCB08"></a><h4 id="ADMIN-GUID-8E8CEB24-10CA-40F7-8A90-8A31B84CCB08" class="sect4"><span class="enumeration_section">27.10.1 </span>Viewing Consumer Groups Granted to Users or Roles
                  </h4>
                  <div>
                     <p>The <code class="codeph">DBA_RSRC_CONSUMER_GROUP_PRIVS</code> view displays the consumer groups granted to users or roles.
                     </p>
                     <div class="section">
                        <p>Specifically, it displays the groups to which a user or role is allowed to belong or be switched. For example, in the view shown below, user <code class="codeph">SCOTT</code> always starts in the <code class="codeph">SALES</code> consumer group, can switch to the <code class="codeph">MARKETING</code> group through a specific grant, and can switch to the <code class="codeph">DEFAULT_CONSUMER_GROUP</code> (<code class="codeph">OTHER_GROUPS</code>) and <code class="codeph">LOW_GROUP</code> groups because they are granted to <code class="codeph">PUBLIC</code>. <code class="codeph">SCOTT</code> also can grant the <code class="codeph">SALES</code> group but not the <code class="codeph">MARKETING</code> group to other users.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM dba_rsrc_consumer_group_privs;

GRANTEE            GRANTED_GROUP                  GRANT_OPTION INITIAL_GROUP
------------------ ------------------------------ ------------ -------------
PUBLIC             DEFAULT_CONSUMER_GROUP         YES          YES
PUBLIC             LOW_GROUP                      NO           NO
SCOTT              MARKETING                      NO           NO
SCOTT              SALES                          YES          YES
SYSTEM             SYS_GROUP                      NO           YES
</pre><p><code class="codeph">SCOTT</code> was granted the ability to switch to these groups using the <code class="codeph">DBMS_RESOURCE_MANAGER_PRIVS</code> package. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" title="You can use several static data dictionary views and dynamic performance views to view the current configuration and status of Oracle Database Resource Manager (the Resource Manager).">Viewing Database Resource Manager Configuration and Status</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11903"></a><div class="props_rev_3"><a id="GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB" name="GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB"></a><h4 id="ADMIN-GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB" class="sect4"><span class="enumeration_section">27.10.2 </span>Viewing Plan Information
                  </h4>
                  <div>
                     <p>An example illustrates using the <code class="codeph">DBA_RSRC_PLANS</code> view to display all of the resource plans defined in the database.
                     </p>
                     <div class="section">
                        <p>All plans have a <code class="codeph">NULL</code> status, meaning that they are not in the pending area.
                        </p>
                        <div class="infoboxnote" id="GUID-EB4E8ECE-74B9-4F13-80A7-B6ADCB1197AB__GUID-9AC701A2-088B-4FD4-B7FA-AAE86B65A8CC">
                           <p class="notep1">Note:</p>
                           <p>Plans in the pending area have a status of <code class="codeph">PENDING</code>. Plans in the pending area are being edited.
                           </p>
                        </div><pre class="oac_no_warn" dir="ltr">SELECT plan,status,comments FROM dba_rsrc_plans;

PLAN                        STATUS   COMMENTS
--------------------------- -------- ----------------------------------------
DSS_PLAN                             Example plan for DSS workloads that prio...
ETL_CRITICAL_PLAN                    Example plan for DSS workloads that prio...
MIXED_WORKLOAD_PLAN                  Example plan for a mixed workload that p...
DEFAULT_MAINTENANCE_PLAN             Default plan for maintenance windows tha...
DEFAULT_PLAN                         Default, basic, pre-defined plan that pr...
INTERNAL_QUIESCE                     Plan for quiescing the database.  This p...
INTERNAL_PLAN                        Internally-used plan for disabling the r...
.
.
.</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" title="You can use several static data dictionary views and dynamic performance views to view the current configuration and status of Oracle Database Resource Manager (the Resource Manager).">Viewing Database Resource Manager Configuration and Status</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11904"></a><div class="props_rev_3"><a id="GUID-56416F58-C6E7-4278-A1CF-BDA523669636" name="GUID-56416F58-C6E7-4278-A1CF-BDA523669636"></a><h4 id="ADMIN-GUID-56416F58-C6E7-4278-A1CF-BDA523669636" class="sect4"><span class="enumeration_section">27.10.3 </span>Viewing Current Consumer Groups for Sessions
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">V$SESSION</code> view to display the consumer groups that are currently assigned to sessions.
                     </p>
                     <div class="section">
                        <p>The following example queries the <code class="codeph">V$SESSION</code> view:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT sid,serial#,username,resource_consumer_group FROM v$session;

SID    SERIAL#  USERNAME                  RESOURCE_CONSUMER_GROUP
-----  -------  ------------------------  --------------------------------
   11       136 SYS                       SYS_GROUP
   13     16570 SCOTT                     SALES
   ...</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" title="You can use several static data dictionary views and dynamic performance views to view the current configuration and status of Oracle Database Resource Manager (the Resource Manager).">Viewing Database Resource Manager Configuration and Status</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11905"></a><div class="props_rev_3"><a id="GUID-855E2EBA-4B4E-414C-9C51-0E8D3E9ED748" name="GUID-855E2EBA-4B4E-414C-9C51-0E8D3E9ED748"></a><h4 id="ADMIN-GUID-855E2EBA-4B4E-414C-9C51-0E8D3E9ED748" class="sect4"><span class="enumeration_section">27.10.4 </span>Viewing the Currently Active Plans
                  </h4>
                  <div>
                     <p>The <code class="codeph">V$RSRC_PLAN</code> view displays currently active plans.
                     </p>
                     <div class="section">
                        <p>This example sets <code class="codeph">mydb_plan</code>, as created by the example shown in <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-57A6467A-4865-4C16-8A14-4DDCC969960F" title="An example illustrates a multilevel plan.">Multilevel Plan Example</a>"</span>, as the top level plan. It then queries the <code class="codeph">V$RSRC_PLAN</code> view to display the currently active plans. The view displays the current top level plan and all of its descendent subplans.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET RESOURCE_MANAGER_PLAN = mydb_plan;

System altered.

SELECT name, is_top_plan FROM v$rsrc_plan;

NAME             IS_TOP_PLAN
----------------------------
MYDB_PLAN        TRUE
MAILDB_PLAN      FALSE
BUGDB_PLAN       FALSE</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-3BFC030A-3C67-4255-9C3D-F8DAE8889301" title="You can use several static data dictionary views and dynamic performance views to view the current configuration and status of Oracle Database Resource Manager (the Resource Manager).">Viewing Database Resource Manager Configuration and Status</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12663"></a><a id="ADMIN12664"></a><a id="ADMIN12665"></a><a id="ADMIN12666"></a><a id="ADMIN12667"></a><a id="ADMIN13474"></a><a id="ADMIN13475"></a><a id="ADMIN11906"></a><div class="props_rev_3"><a id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0" name="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0"></a><h3 id="ADMIN-GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0" class="sect3"><span class="enumeration_section">27.11 </span>Monitoring Oracle Database Resource Manager
               </h3>
               <div>
                  <p>A set of dynamic performance views enable you to monitor the results of your Oracle Database Resource Manager settings.</p>
                  <div class="section">
                     <p>Use the following dynamic performance views to help you monitor the results of your Oracle Database Resource Manager settings: </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDJIIHI">V$RSRC_PLAN</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDCJCGB">V$RSRC_CONSUMER_GROUP</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDEFABB">V$RSRC_SESSION_INFO</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDBCICB">V$RSRC_PLAN_HISTORY</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDEGIIA">V$RSRC_CONS_GROUP_HISTORY</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFDBFA">V$RSRCMGRMETRIC</a></p>
                        </li>
                        <li>
                           <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFEDEI">V$RSRCMGRMETRIC_HISTORY</a></p>
                        </li>
                     </ul>
                     <p>These views provide:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Current status information</p>
                        </li>
                        <li>
                           <p>History of resource plan activations</p>
                        </li>
                        <li>
                           <p>Current and historical statistics on resource consumption and CPU waits by both resource consumer group and session</p>
                        </li>
                     </ul>
                     <p>In addition, historical statistics are available through the <code class="codeph">DBA_HIST_RSRC_PLAN</code> and <code class="codeph">DBA_HIST_RSRC_CONSUMER_GROUP</code> views, which contain Automatic Workload Repository (AWR) snapshots of the <code class="codeph">V$RSRC_PLAN_HISTORY</code> and <code class="codeph">V$RSRC_CONS_GROUP_HISTORY</code>, respectively.
                     </p>
                     <p>For assistance with tuning, the views <code class="codeph">V$RSRCMGRMETRIC</code> and <code class="codeph">V$RSRCMGRMETRIC_HISTORY</code> show how much time was spent waiting for CPU and how much CPU was consumed per minute for every consumer group for the past hour. These metrics can also be viewed graphically with Cloud Control, on the Resource Manager Statistics page.
                     </p>
                     <p>When Resource Manager is enabled, Resource Manager automatically records statistics about resource usage, and you can examine these statistics using real-time SQL monitoring and Resource Manager dynamic performance views.</p>
                     <p>You can use real-time SQL monitoring by accessing the SQL Monitor page in Cloud Control or by querying the <code class="codeph">V$SQL_MONITOR</code> view and other related views. The <code class="codeph">V$SQL_MONITOR</code> view also includes information about the last action performed by Resource Manager for a consumer group in the following columns: <code class="codeph">RM_CONSUMER_GROUP</code>, <code class="codeph">RM_LAST_ACTION</code>, <code class="codeph">RM_LAST_ACTION_REASON</code>, and <code class="codeph">RM_LAST_ACTION_TIME</code>.
                     </p>
                     <p>In addition, the following dynamic performance views contain statistics about resource usage:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">V$RSRCMGRMETRIC</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">V$RSRCMGRMETRIC_HISTORY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">V$RSRC_CONSUMER_GROUP</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">V$RSRC_CONS_GROUP_HISTORY</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-611CD077-89E7-4546-8352-481325A41250">
                        <p class="notep1">See Also:</p>
                        <p><a href="../tgsql/monitoring-database-operations.html#TGSQL789" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about real-time SQL monitoring
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDJIIHI">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-CF0117D1-C3B8-4225-AEB8-AA71ABCDABE3">V$RSRC_PLAN</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This view displays the currently active resource plan and its subplans.</p><pre class="oac_no_warn" dir="ltr">SELECT name, is_top_plan FROM v$rsrc_plan;
 
NAME                             IS_TOP_PLAN
-------------------------------- -----------
DEFAULT_PLAN                     TRUE
ORA$AUTOTASK                     FALSE
ORA$AUTOTASK_HIGH_SUB_PLAN       FALSE
</pre><p>The plan for which <code class="codeph">IS_TOP_PLAN</code> is <code class="codeph">TRUE</code> is the currently active (top) plan, and the other plans are subplans of either the top plan or of other subplans in the list.
                     </p>
                     <p>This view also contains other information, including the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">INSTANCE_CAGING</code> column shows whether instance caging is enabled.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">CPU_MANAGED</code> column shows whether CPU is being managed.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">PARALLEL_EXECUTION_MANAGED</code> column shows whether parallel statement queuing is enabled.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-61BF7BEA-E700-4620-B2D4-ADCBFBEFDF13">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/V-RSRC_PLAN.html#REFRN30216" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDCJCGB">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-1CF72898-F692-47B8-A9A8-941378C7AFE6">V$RSRC_CONSUMER_GROUP</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Use the <code class="codeph">V$RSRC_CONSUMER_GROUP</code> view to monitor resources consumed, including CPU, I/O, and parallel execution servers. It can also be used to monitor statistics related to CPU resource management, runaway query management, parallel statement queuing, and so on. All of the statistics are cumulative from the time when the plan was activated.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT name, active_sessions, queue_length,
  consumed_cpu_time, cpu_waits, cpu_wait_time
  FROM v$rsrc_consumer_group;

NAME               ACTIVE_SESSIONS QUEUE_LENGTH CONSUMED_CPU_TIME  CPU_WAITS CPU_WAIT_TIME
------------------ --------------- ------------ ----------------- ---------- -------------
OLTP_ORDER_ENTRY                 1            0             29690        467          6709
OTHER_GROUPS                     0            0           5982366       4089         60425
SYS_GROUP                        1            0           2420704        914         19540
DSS_QUERIES                      4            2           4594660       3004         55700
</pre><p>In the preceding query results, the <code class="codeph">DSS_QUERIES</code> consumer group has four sessions in its active session pool and two more sessions queued for activation.
                     </p>
                     <p>A key measure in this view is <code class="codeph">CPU_WAIT_TIME</code>. This indicates the total time that sessions in the consumer group waited for CPU because of resource management. Not included in this measure are waits due to latch or enqueue contention, I/O waits, and so on.
                     </p>
                     <div class="infoboxnote" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-C1B768DB-A711-4326-B3F0-98D91905C197">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">V$RSRC_CONSUMER_GROUP</code> view records statistics for resources that are not currently being managed by Resource Manager. when the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is set to <code class="codeph">ALL</code> or <code class="codeph">TYPICAL</code>.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-10F53C5C-1637-4DAC-85C2-4DF313CC04E5">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/V-RSRC_CONSUMER_GROUP.html#REFRN30214" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDEFABB">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-95CF85D9-B340-41A1-A133-0F11CD04AA22">V$RSRC_SESSION_INFO</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Use this view to monitor the status of one or more sessions. The view shows how the session has been affected by the Resource Manager. It provides information such as:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The consumer group that the session currently belongs to.</p>
                        </li>
                        <li>
                           <p>The consumer group that the session originally belonged to.</p>
                        </li>
                        <li>
                           <p>The session attribute that was used to map the session to the consumer group.</p>
                        </li>
                        <li>
                           <p>Session state (<code class="codeph">RUNNING</code>, <code class="codeph">WAIT_FOR_CPU</code>, <code class="codeph">QUEUED</code>, and so on).
                           </p>
                        </li>
                        <li>
                           <p>Current and cumulative statistics for metrics, such as CPU consumed, wait times, queued time, and number of active parallel servers used. Current statistics reflect statistics for the session since it joined its current consumer group. Cumulative statistics reflect statistics for the session in all consumer groups to which it has belonged since it was created.</p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">SELECT se.sid sess_id, co.name consumer_group, 
 se.state, se.consumed_cpu_time cpu_time, se.cpu_wait_time, se.queued_time
 FROM v$rsrc_session_info se, v$rsrc_consumer_group co
 WHERE se.current_consumer_group_id = co.id;

SESS_ID CONSUMER_GROUP     STATE     CPU_TIME CPU_WAIT_TIME QUEUED_TIME
------- ------------------ -------- --------- ------------- -----------
    113 OLTP_ORDER_ENTRY   WAITING     137947         28846           0
    135 OTHER_GROUPS       IDLE        785669         11126           0
    124 OTHER_GROUPS       WAITING      50401         14326           0
    114 SYS_GROUP          RUNNING        495             0           0
    102 SYS_GROUP          IDLE         88054            80           0
    147 DSS_QUERIES        WAITING     460910        512154           0
</pre><p><code class="codeph">CPU_WAIT_TIME</code> in this view has the same meaning as in the <code class="codeph">V$RSRC_CONSUMER_GROUP</code> view, but applied to an individual session.
                     </p>
                     <p>You can join this view with the <code class="codeph">V$SESSION</code> view for more information about a session.
                     </p>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-A0C0129C-204B-4E1A-B490-6FB1D3E9F510">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/V-RSRC_SESSION_INFO.html#REFRN30404" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                           </li>
                           <li>
                              <p><a href="../vldbg/monitor-parallel-performance.html#VLDBG14098" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDBCICB">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-A92895B4-7C29-41B2-9E55-4BA1944D0588">V$RSRC_PLAN_HISTORY</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This view shows when resource plans were enabled or disabled on the instance. Each resource plan activation or deactivation is assigned a sequence number. For each entry in the view, the <code class="codeph">V$RSRC_CONS_GROUP_HISTORY</code> view has a corresponding entry for each consumer group in the plan that shows the cumulative statistics for the consumer group. The two views are joined by the <code class="codeph">SEQUENCE#</code> column in each.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT sequence# seq, name plan_name,
to_char(start_time, 'DD-MON-YY HH24:MM') start_time,
to_char(end_time, 'DD-MON-YY HH24:MM') end_time, window_name
FROM v$rsrc_plan_history;

 SEQ PLAN_NAME                  START_TIME      END_TIME        WINDOW_NAME
---- -------------------------- --------------- --------------- ----------------
   1                            29-MAY-07 23:05 29-MAY-07 23:05
   2 DEFAULT_MAINTENANCE_PLAN   29-MAY-07 23:05 30-MAY-07 02:05 TUESDAY_WINDOW
   3                            30-MAY-07 02:05 30-MAY-07 22:05
   4 DEFAULT_MAINTENANCE_PLAN   30-MAY-07 22:05 31-MAY-07 02:05 WEDNESDAY_WINDOW
   5                            31-MAY-07 02:05 31-MAY-07 22:05
   6 DEFAULT_MAINTENANCE_PLAN   31-MAY-07 22:05                 THURSDAY_WINDOW
</pre><p>A null value under <code class="codeph">PLAN_NAME</code> indicates that no plan was active.
                     </p>
                     <p>AWR snapshots of this view are stored in the <code class="codeph">DBA_HIST_RSRC_PLAN</code> view.
                     </p>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-1706C531-D0B2-471E-BA62-8980E3049E25">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/V-RSRC_PLAN_HISTORY.html#REFRN30403" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__CHDEGIIA">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-6FB4BDB5-A635-4083-B040-28DA9402F7AE">V$RSRC_CONS_GROUP_HISTORY</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This view helps you understand how resources were shared among the consumer groups over time. The <code class="codeph">sequence#</code> column corresponds to the column of the same name in the <code class="codeph">V$RSRC_PLAN_HISTORY</code> view. Therefore, you can determine the plan that was active for each row of consumer group statistics.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT sequence# seq, name, cpu_wait_time, cpu_waits,
consumed_cpu_time FROM v$rsrc_cons_group_history;
 
 SEQ NAME                      CPU_WAIT_TIME  CPU_WAITS CONSUMED_CPU_TIME
---- ------------------------- ------------- ---------- -----------------
   2 SYS_GROUP                         18133        691          33364431
   2 OTHER_GROUPS                      51252        825         181058333
   2 ORA$AUTOTASK_MEDIUM_GROUP            21          5           4019709
   2 ORA$AUTOTASK_URGENT_GROUP            35          1            198760
   2 ORA$AUTOTASK_STATS_GROUP              0          0                 0
   2 ORA$AUTOTASK_SPACE_GROUP              0          0                 0
   2 ORA$AUTOTASK_SQL_GROUP                0          0                 0
   2 ORA$AUTOTASK_HEALTH_GROUP             0          0                 0
   4 SYS_GROUP                         40344         85          42519265
   4 OTHER_GROUPS                     123295       1040         371481422
   4 ORA$AUTOTASK_MEDIUM_GROUP             1          4           7433002
   4 ORA$AUTOTASK_URGENT_GROUP         22959        158          19964703
   4 ORA$AUTOTASK_STATS_GROUP              0          0                 0
      .
      .
</pre><p>AWR snapshots of this view are stored in the <code class="codeph">DBA_HIST_RSRC_CONSUMER_GROUP</code> view. Use <code class="codeph">DBA_HIST_RSRC_CONSUMER_GROUP</code> with <code class="codeph">DBA_HIST_RSRC_PLAN</code> to determine the plan that was active for each historical set of consumer group statistics.
                     </p>
                     <div class="infoboxnote" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-54836AB5-8BD8-4864-9F9E-786DD04134D0">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">V$RSRC_CONS_GROUP_HISTORY</code> view records statistics for resources that are not currently being managed by Resource Manager. when the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is set to <code class="codeph">ALL</code> or <code class="codeph">TYPICAL</code>.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-56500AF7-FC04-48BD-BFDB-A3A66D6EB348">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/V-RSRC_CONS_GROUP_HISTORY.html#REFRN30402" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                           </li>
                           <li>
                              <p><a href="../tgdba/gathering-database-statistics.html#TGDBA167" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about the AWR.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFDBFA">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-5511409A-1FE6-4912-A095-83547FC46D93">V$RSRCMGRMETRIC</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This view enables you to track CPU metrics in milliseconds, in terms of number of sessions, or in terms of utilization for the past one minute. It provides real-time metrics for each consumer group and is very useful in scenarios where you are running workloads and want to continuously monitor CPU resource utilization.</p>
                     <p>Use this view to compare the maximum possible CPU utilization and average CPU utilization percentage for consumer groups with other consumer group settings such as CPU time used, time waiting for CPU, average number of sessions that are consuming CPU, and number of sessions that are waiting for CPU allocation. For example, you can view the amount of CPU resources a consumer group used and how long it waited for resource allocation. Or, you can view how many sessions from each consumer group are executed against the total number of active sessions.</p>
                     <p>To track CPU consumption in terms of CPU utilization, use the <code class="codeph">CPU_UTILIZATION_LIMIT</code> and <code class="codeph">AVG_CPU_UTILIZATION</code> columns. <code class="codeph">AVG_CPU_UTILIZATION</code> lists the average percentage of the server's CPU that is consumed by a consumer group. <code class="codeph">CPU_UTILIZATION_LIMIT</code> represents the maximum percentage of the server's CPU that a consumer group can use. This limit is set using the <code class="codeph">UTILIZATION_LIMIT</code> directive attribute.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT consumer_group_name, cpu_utilization_limit,
avg_cpu_utilization FROM v$rsrcmgrmetric;
</pre><p>Use the <code class="codeph">CPU_CONSUMED_TIME</code> and <code class="codeph">CPU_TIME_WAIT</code> columns to track CPU consumption and throttling in milliseconds. The column <code class="codeph">NUM_CPUS</code> represents the number of CPUs that Resource Manager is managing.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT consumer_group_name, cpu_consumed_time,
cpu_wait_time, num_cpus FROM v$rsrcmgrmetric;
</pre><p>To track the CPU consumption and throttling in terms of number of sessions, use the <code class="codeph">RUNNING_SESSIONS_LIMIT</code>, <code class="codeph">AVG_RUNNING_SESSIONS</code>, and <code class="codeph">AVG_WAITING_SESSIONS</code> columns. <code class="codeph">RUNNING_SESSIONS_LIMIT</code> lists the maximum number of sessions, from a particular consumer group, that can be running at any time. This limit is defined by the <code class="codeph">UTILIZATION_LIMIT</code> directive attribute that you set either for the consumer group or for a subplan that contains the consumer group. For each consumer group, <code class="codeph">AVG_RUNNING_SESSIONS</code> lists the average number of sessions that are consuming CPU and <code class="codeph">AVG_WAITING_SESSIONS</code> lists the average number of sessions that are waiting for CPU.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT sequence#, consumer_group_name, running_sessions_limit,
avg_running_sessions, avg_waiting_sessions FROM v$rsrcmgrmetric;
</pre><p>To track parallel statements and parallel server use for a consumer group, use the <code class="codeph">AVG_ACTIVE_PARALLEL_STMTS</code>, <code class="codeph">AVG_QUEUED_PARALLEL_STMTS</code>, <code class="codeph">AVG_ACTIVE_PARALLEL_SERVERS</code>, <code class="codeph">AVG_QUEUED_PARALLEL_SERVERS</code>, and <code class="codeph">PARALLEL_SERVERS_LIMIT</code> columns. <code class="codeph">AVG_ACTIVE_PARALLEL_STMTS</code> and <code class="codeph">AVG_ACTIVE_PARALLEL_SERVERS</code> list the average number of parallel statements running and the average number of parallel servers used by the parallel statements. <code class="codeph">AVG_QUEUED_PARALLEL_STMTS</code> and <code class="codeph">AVG_QUEUED_PARALLEL_SERVERS</code> list the average number of parallel statements queued and average number of parallel servers that were requested by queued parallel statements. <code class="codeph">PARALLEL_SERVERS_LIMIT</code> lists the number of parallel servers allowed to be used by the consumer group.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT avg_active_parallel_stmts, avg_queued_parallel_stmts, 
avg_active_parallel_servers, avg_queued_parallel_servers, parallel_servers_limit
FROM v$rsrcmgrmetric;
</pre><div class="infoboxnote" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-B74E8299-14DC-4D27-A3E8-615EB9E6E1A9">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">V$RSRCMGRMETRIC</code> view records statistics for resources that are not currently being managed by Resource Manager. when the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is set to <code class="codeph">ALL</code> or <code class="codeph">TYPICAL</code>.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-525512EE-F925-4A4F-96E0-8750FECE22FB">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/V-RSRCMGRMETRIC.html#REFRN30482" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFEDEI">
                     <p class="subhead2" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-57D56FC4-E3CA-437F-8713-B2A3079908AC">V$RSRCMGRMETRIC_HISTORY</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The columns in the <code class="codeph">V$RSRCMGRMETRIC_HISTORY</code> are the same view as <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFDBFA">V$RSRCMGRMETRIC</a>. The only difference between these views is that <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__BABFDBFA">V$RSRCMGRMETRIC</a> contains metrics for the past one minute only, whereas V$<code class="codeph">RSRCMGRMETRIC_HISTORY</code> contains metrics for the last 60 minutes.
                     </p>
                     <div class="infoboxnote" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-430AABFE-858C-4042-B198-3245E0321BA6">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">V$RSRCMGRMETRIC_HISTORY</code> view records statistics for resources that are not currently being managed by Resource Manager. when the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is set to <code class="codeph">ALL</code> or <code class="codeph">TYPICAL</code>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-9CF57A7E-CCE3-4F80-9E21-29AF9B2283F0__GUID-C9ACD060-F7BA-4DB0-AD9C-54D4F9F4EBC3">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/V-RSRCMGRMETRIC_HISTORY.html#REFRN30483" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11910"></a><div class="props_rev_3"><a id="GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC" name="GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC"></a><h3 id="ADMIN-GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC" class="sect3"><span class="enumeration_section">27.12 </span>Interacting with Operating-System Resource Control
               </h3>
               <p>Many operating systems provide tools for resource management. These tools often contain "workload manager" or "resource manager" in their names, and are intended to allow multiple applications to share the resources of a single server, using an administrator-defined policy. Examples are Hewlett Packard's Process Resource Manager or Solaris Containers, Zones, and Resource Pools.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-F6FB7E46-64C9-47B3-A29B-27A82070EEDF">Guidelines for Using Operating-System Resource Control</a><br>Follow guidelines if you use operating-system resource control.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11911"></a><div class="props_rev_3"><a id="GUID-F6FB7E46-64C9-47B3-A29B-27A82070EEDF" name="GUID-F6FB7E46-64C9-47B3-A29B-27A82070EEDF"></a><h4 id="ADMIN-GUID-F6FB7E46-64C9-47B3-A29B-27A82070EEDF" class="sect4"><span class="enumeration_section">27.12.1 </span>Guidelines for Using Operating-System Resource Control
                  </h4>
                  <div>
                     <p>Follow guidelines if you use operating-system resource control.</p>
                     <p>If you choose to use operating-system resource control with Oracle Database, then you must use it judiciously, according to the following guidelines:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If you have multiple instances on a node, and you want to distribute resources among them, then each instance should be assigned to a dedicated operating-system resource manager group or managed entity. To run multiple instances in the managed entity, use instance caging to manage how the CPU resources within the managed entity should be distributed among the instances. When Oracle Database Resource Manager is managing CPU resources, it expects a fixed amount of CPU resources for the instance. Without instance caging, it expects the available CPU resources to be equal to the number of CPUs in the managed entity. With instance caging, it expects the available CPU resources to be equal to the value of the <code class="codeph">CPU_COUNT</code> initialization parameter. If there are less CPU resources than expected, then the Oracle Database Resource Manager is not as effective at enforcing the resource allocations in the resource plan. See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C00DB05B-E597-496B-835F-C9D0FB5EDFFD" title="Oracle Database provides a method for managing CPU allocations on a multi-CPU server running multiple database instances. This method is called instance caging. Instance caging and Oracle Database Resource Manager (the Resource Manager) work together to support desired levels of service across multiple instances.">Managing Multiple Database Instances on a Single Server</a>"</span> for information about instance caging.
                           </p>
                        </li>
                        <li>
                           <p>The dedicated entity running all the instance's processes must run at one priority (or resource consumption) level.</p>
                        </li>
                        <li>
                           <p>The CPU resources assigned to the dedicated entity cannot be changed more frequently than once every few minutes.</p>
                           <p>If the operating-system resource manager is rapidly changing the CPU resources allocated to an Oracle instance, then the Oracle Database Resource Manager might not manage CPU resources effectively. In particular, if the CPU resources allocated to the Oracle instance changes more frequently than every couple of minutes, then these changes might not be observed by Oracle because it only checks for such changes every couple of minutes. In these cases, Oracle Database Resource Manager can over-schedule processes if it concludes that more CPU resources are available than there actually are, and it can under-schedule processes if it concludes that less CPU resources are available than there actually are. If it over-schedules processes, then the <code class="codeph">UTILIZATION_LIMIT</code> directives might be exceeded, and the CPU directives might not be accurately enforced. If it under-schedules processes, then the Oracle instance might not fully use the server's resources.
                           </p>
                        </li>
                        <li>
                           <p>Process priority management must not be enabled.</p>
                        </li>
                        <li>
                           <p>Management of individual database processes at different priority levels (for example, using the <code class="codeph">nice</code> command on UNIX platforms) is not supported. Severe consequences, including instance crashes, can result. Similar undesirable results are possible if operating-system resource control is permitted to manage the memory to which an Oracle Database instance is pinned.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-299C66F7-6FDF-4C37-9334-8EB2C87D0AEC" title="Many operating systems provide tools for resource management. These tools often contain " workload="" manager"="" or="" "resource="" in="" their="" names,="" and="" are="" intended="" to="" allow="" multiple applications="" share="" the="" resources="" of="" a="" single="" server,="" using="" an="" administrator-defined="" policy.="" examples="" hewlett="" packard's="" process="" resource="" manager="" solaris="" containers,="" zones,="" pools."="">Interacting with Operating-System Resource Control</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11913"></a><div class="props_rev_3"><a id="GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" name="GUID-9C21E4B3-E708-4A42-8683-12F4434962CC"></a><h3 id="ADMIN-GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" class="sect3"><span class="enumeration_section">27.13 </span>Oracle Database Resource Manager Reference
               </h3>
               <p>Resource Manager includes predefined resource plans, consumer groups, and consumer groups mapping rules. You can query data dictionary views for information about your Resource Manager configuration.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4">Predefined Resource Plans and Consumer Groups</a><br>Oracle Database includes predefined resource plans.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0">Predefined Consumer Group Mapping Rules</a><br>Oracle Database includes predefined consumer group mapping rules.
                     </li>
                     <li class="ulchildlink"><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0">Resource Manager Data Dictionary Views</a><br>You can query a set of data dictionary views for information relating to database resource management.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" title="Oracle Database Resource Manager (Resource Manager) enables you to manage resource allocation for a database.">Managing Resources with Oracle Database Resource Manager</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13076"></a><a id="ADMIN13077"></a><a id="ADMIN11914"></a><div class="props_rev_3"><a id="GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4" name="GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4"></a><h4 id="ADMIN-GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4" class="sect4"><span class="enumeration_section">27.13.1 </span>Predefined Resource Plans and Consumer Groups
                  </h4>
                  <div>
                     <p>Oracle Database includes predefined resource plans.</p>
                     <div class="section">
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDBEJJB" title="This table has two columns: Resource Plan and Description.">Table 27-5</a> lists the resource plans and <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDJAJHE" title="This table has two columns: Resource Consumer Group and Description.">Table 27-6</a> lists the resource consumer groups that are predefined in each Oracle database. You can verify these by querying the views <code class="codeph">DBA_RSRC_PLANS</code> and <code class="codeph">DBA_RSRC_CONSUMER_GROUPS</code>.
                        </p>
                        <p>The following query displays the CPU allocations in the example plan <code class="codeph">DSS_PLAN</code>:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT group_or_subplan, mgmt_p1, mgmt_p2, mgmt_p3, mgmt_p4 
   FROM dba_rsrc_plan_directives WHERE plan = 'DSS_PLAN';
 
GROUP_OR_SUBPLAN                  MGMT_P1    MGMT_P2    MGMT_P3    MGMT_P4
------------------------------ ---------- ---------- ---------- ----------
SYS_GROUP                              75          0          0          0
DSS_CRITICAL_GROUP                     18          0          0          0
DSS_GROUP                               3          0          0          0
ETL_GROUP                               1          0          0          0
BATCH_GROUP                             1          0          0          0
ORA$AUTOTASK                            1          0          0          0
OTHER_GROUPS                            1          0          0          0
</pre></div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDBEJJB">
                        <p class="titleintable">Table 27-5 Predefined Resource Plans</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Predefined Resource Plans" summary="This table has two columns: Resource Plan and Description." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d241756e11088">Resource Plan</th>
                                 <th align="left" valign="bottom" width="69%" id="d241756e11091">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11096" headers="d241756e11088 ">
                                    <p><code class="codeph">DEFAULT_MAINTENANCE_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11096 d241756e11091 ">
                                    <p>Default plan for maintenance windows. See <span class="q">"<a href="managing-automated-database-maintenance-tasks.html#GUID-540BF1F6-5BAD-4628-8E49-EF8CEFC1E3BD" title="By default, all predefined maintenance windows use the resource plan DEFAULT_MAINTENANCE_PLAN. Automated maintenance tasks run under its subplan ORA$AUTOTASK. This subplan divides its portion of total resource allocation equally among the maintenance tasks.">About Resource Allocations for Automated Maintenance Tasks</a>"</span> for details of this plan. Because maintenance windows are regular Oracle Scheduler windows, you can change the resource plan associated with them, if desired. If you do change a maintenance window resource plan, ensure that you include the subplan <code class="codeph">ORA$AUTOTASK</code> in the new plan. 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11121" headers="d241756e11088 ">
                                    <p><code class="codeph">DEFAULT_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11121 d241756e11091 ">
                                    <p>Basic default plan that prioritizes <code class="codeph">SYS_GROUP</code> operations and allocates minimal resources for automated maintenance and diagnostics operations.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11132" headers="d241756e11088 ">
                                    <p><code class="codeph">DSS_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11132 d241756e11091 ">
                                    <p>Example plan for a data warehouse that prioritizes critical DSS queries over non-critical DSS queries and ETL operations.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11140" headers="d241756e11088 ">
                                    <p><code class="codeph">ETL_CRITICAL_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11140 d241756e11091 ">
                                    <p>Example plan for a data warehouse that prioritizes ETL operations over DSS queries.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11148" headers="d241756e11088 ">
                                    <p><code class="codeph">INTERNAL_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11148 d241756e11091 ">
                                    <p>For disabling the resource manager. For internal use only.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11156" headers="d241756e11088 ">
                                    <p><code class="codeph">INTERNAL_QUIESCE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11156 d241756e11091 ">
                                    <p>For quiescing the database. This plan cannot be activated directly. To activate, use the <code class="codeph">QUIESCE</code> command.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11167" headers="d241756e11088 ">
                                    <p><code class="codeph">MIXED_WORKLOAD_PLAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11167 d241756e11091 ">
                                    <p>Example plan for a mixed workload that prioritizes interactive operations over batch operations. See <span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-24C55451-A87D-45B7-8230-4B51392AE89F" title="Oracle Database includes a predefined resource plan, MIXED_WORKLOAD_PLAN, that prioritizes interactive operations over batch operations, and includes the required subplans and consumer groups recommended by Oracle.">An Oracle-Supplied Mixed Workload Plan</a>"</span> for details.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-9EAAC00F-008D-4F2D-B764-BF1D01F0CDD4__CHDJAJHE">
                        <p class="titleintable">Table 27-6 Predefined Resource Consumer Groups</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Predefined Resource Consumer Groups" summary="This table has two columns: Resource Consumer Group and Description." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d241756e11195">Resource Consumer Group</th>
                                 <th align="left" valign="bottom" width="69%" id="d241756e11198">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11203" headers="d241756e11195 ">
                                    <p><code class="codeph">BATCH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11203 d241756e11198 ">
                                    <p>Consumer group for batch operations. Referenced by the example plan <code class="codeph">MIXED_WORKLOAD_PLAN</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11214" headers="d241756e11195 ">
                                    <p><code class="codeph">DSS_CRITICAL_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11214 d241756e11198 ">
                                    <p>Consumer group for critical DSS queries. Referenced by the example plans <code class="codeph">DSS_PLAN</code> and <code class="codeph">ETL_CRITICAL_PLAN</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11228" headers="d241756e11195 ">
                                    <p><code class="codeph">DSS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11228 d241756e11198 ">
                                    <p>Consumer group for non-critical DSS queries. Referenced by the example plans <code class="codeph">DSS_PLAN</code> and <code class="codeph">ETL_CRITICAL_PLAN</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11242" headers="d241756e11195 ">
                                    <p><code class="codeph">ETL_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11242 d241756e11198 ">
                                    <p>Consumer group for ETL jobs. Referenced by the example plans <code class="codeph">DSS_PLAN</code> and <code class="codeph">ETL_CRITICAL_PLAN</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11256" headers="d241756e11195 ">
                                    <p><code class="codeph">INTERACTIVE_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11256 d241756e11198 ">
                                    <p>Consumer group for interactive, OLTP operations. Referenced by the example plan <code class="codeph">MIXED_WORKLOAD_PLAN</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11267" headers="d241756e11195 ">
                                    <p><code class="codeph">LOW_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11267 d241756e11198 ">
                                    <p>Consumer group for low-priority sessions.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11275" headers="d241756e11195 ">
                                    <p><code class="codeph">ORA$AUTOTASK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11275 d241756e11198 ">
                                    <p>Consumer group for maintenance tasks.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11283" headers="d241756e11195 ">
                                    <p><code class="codeph">OTHER_GROUPS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11283 d241756e11198 ">
                                    <p>Default consumer group for all sessions that do not have an explicit initial consumer group, are not mapped to a consumer group with session-to-consumer group mapping rules, or are mapped to a consumer group that is not in the currently active resource plan.</p>
                                    <p><code class="codeph">OTHER_GROUPS</code> must have a resource plan directive specified in every plan. It cannot be assigned explicitly to sessions through mapping rules.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d241756e11295" headers="d241756e11195 ">
                                    <p><code class="codeph">SYS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d241756e11295 d241756e11198 ">
                                    <p>Consumer group for system administrators. It is the initial consumer group for all sessions created by user accounts <code class="codeph">SYS</code> or <code class="codeph">SYSTEM</code>. This initial consumer group can be overridden by session-to-consumer group mapping rules.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" title="Resource Manager includes predefined resource plans, consumer groups, and consumer groups mapping rules. You can query data dictionary views for information about your Resource Manager configuration.">Oracle Database Resource Manager Reference</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13078"></a><a id="ADMIN11915"></a><div class="props_rev_3"><a id="GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0" name="GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0"></a><h4 id="ADMIN-GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0" class="sect4"><span class="enumeration_section">27.13.2 </span>Predefined Consumer Group Mapping Rules
                  </h4>
                  <div>
                     <p>Oracle Database includes predefined consumer group mapping rules.</p>
                     <div class="section">
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__CHDHJCHG" title="This table contains 3 columns: Rule, Mapped Consumer Group, and Notes. The 5 rows describe 5 different predefined mapping rules and their mapped consumer groups.">Table 27-7</a> summarizes the consumer group mapping rules that are predefined in Oracle Database. You can verify these rules by querying the view <code class="codeph">DBA_RSRC_GROUP_MAPPINGS</code>. You can use the <code class="codeph">DBMS_RESOURCE_MANAGER</code>.<code class="codeph">SET_CONSUMER_GROUP_MAPPING</code> procedure to modify or delete any of these mapping rules.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__CHDHJCHG">
                        <p class="titleintable">Table 27-7 Predefined Consumer Group Mapping Rules</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Predefined Consumer Group Mapping Rules" summary="This table contains 3 columns: Rule, Mapped Consumer Group, and Notes. The 5 rows describe 5 different predefined mapping rules and their mapped consumer groups." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d241756e11371">Attribute</th>
                                 <th align="left" valign="bottom" width="20%" id="d241756e11374">Value</th>
                                 <th align="left" valign="bottom" width="20%" id="d241756e11377">Mapped Consumer Group</th>
                                 <th align="left" valign="bottom" width="40%" id="d241756e11380">Notes</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11385" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_USER</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11385 d241756e11374 ">
                                    <p><code class="codeph">SYS</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11385 d241756e11377 ">
                                    <p><code class="codeph">SYS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11385 d241756e11380 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11401" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_USER</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11401 d241756e11374 ">
                                    <p><code class="codeph">SYSTEM</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11401 d241756e11377 ">
                                    <p><code class="codeph">SYS_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11401 d241756e11380 ">
                                    <p></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11417" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_FUNCTION</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11417 d241756e11374 ">
                                    <p><code class="codeph">BACKUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11417 d241756e11377 ">
                                    <p><code class="codeph">BATCH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11417 d241756e11380 ">
                                    <p>The session is running a backup operation with RMAN. The session is automatically switched to <code class="codeph">BATCH_GROUP</code> when the operation begins.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11437" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_FUNCTION</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11437 d241756e11374 ">
                                    <p><code class="codeph">COPY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11437 d241756e11377 ">
                                    <p><code class="codeph">BATCH_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11437 d241756e11380 ">
                                    <p>The session is running a copy operation with RMAN. The session is automatically switched to <code class="codeph">BATCH_GROUP</code> when the operation begins.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d241756e11457" headers="d241756e11371 ">
                                    <p><code class="codeph">ORACLE_FUNCTION</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11457 d241756e11374 ">
                                    <p><code class="codeph">DATALOAD</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d241756e11457 d241756e11377 ">
                                    <p><code class="codeph">ETL_GROUP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="40%" headers="d241756e11457 d241756e11380 ">
                                    <p>The session is performing a data load operation with Data Pump. The session is automatically switched to <code class="codeph">ETL_GROUP</code> when the operation begins.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AC101C05-DD43-445C-85F7-0A04DCBC2EE0__GUID-20034556-4D4D-49BA-9696-12A43A45337F">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-resources-with-oracle-database-resource-manager.html#GUID-5AA9FBC6-3C11-4DA5-B9EE-C98CC2553042" title="You can create and prioritize session-to-consumer group mapping rules.">Specifying Session-to-Consumer Group Mapping Rules</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" title="Resource Manager includes predefined resource plans, consumer groups, and consumer groups mapping rules. You can query data dictionary views for information about your Resource Manager configuration.">Oracle Database Resource Manager Reference</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13079"></a><a id="ADMIN11916"></a><div class="props_rev_3"><a id="GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0" name="GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0"></a><h4 id="ADMIN-GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0" class="sect4"><span class="enumeration_section">27.13.3 </span>Resource Manager Data Dictionary Views
                  </h4>
                  <div>
                     <p>You can query a set of data dictionary views for information relating to database resource management.</p>
                     <div class="section">
                        <p><a href="managing-resources-with-oracle-database-resource-manager.html#GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0__CHDBHJAA" title="Column 1 lists the names of views that display information relating to database resource management. Column 2 describes each view.">Table 27-8</a> lists views that are associated with the Resource Manager.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C253E1D1-513A-4F52-A619-325B1B33D8C0__CHDBHJAA">
                        <p class="titleintable">Table 27-8 Resource Manager Data Dictionary Views</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Resource Manager Data Dictionary Views" summary="Column 1 lists the names of views that display information relating to database resource management. Column 2 describes each view." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d241756e11548">View</th>
                                 <th align="left" valign="bottom" width="64%" id="d241756e11551">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11556" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_CONSUMER_GROUP_PRIVS.html#REFRN23233" target="_blank">DBA_RSRC_CONSUMER_GROUP_PRIVS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_RSRC_CONSUMER_GROUP_PRIVS.html#REFRN26233" target="_blank">USER_RSRC_CONSUMER_GROUP_PRIVS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11556 d241756e11551 ">
                                    <p><code class="codeph">DBA</code> view lists all resource consumer groups and the users and roles to which they have been granted. <code class="codeph">USER</code> view lists all resource consumer groups granted to the user.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11578" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_CONSUMER_GROUPS.html#REFRN23234" target="_blank">DBA_RSRC_CONSUMER_GROUPS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11578 d241756e11551 ">
                                    <p>Lists all resource consumer groups that exist in the database.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11589" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_MANAGER_SYSTEM_PRIVS.html#REFRN23235" target="_blank">DBA_RSRC_MANAGER_SYSTEM_PRIVS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_RSRC_MANAGER_SYSTEM_PRIVS.html#REFRN26235" target="_blank">USER_RSRC_MANAGER_SYSTEM_PRIVS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11589 d241756e11551 ">
                                    <p><code class="codeph">DBA</code> view lists all users and roles that have been granted Resource Manager system privileges. <code class="codeph">USER</code> view lists all the users that are granted system privileges for the <code class="codeph">DBMS_RESOURCE_MANAGER</code> package.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11614" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_PLAN_DIRECTIVES.html#REFRN23236" target="_blank">DBA_RSRC_PLAN_DIRECTIVES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11614 d241756e11551 ">
                                    <p>Lists all resource plan directives that exist in the database.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11625" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_PLANS.html#REFRN23237" target="_blank">DBA_RSRC_PLANS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11625 d241756e11551 ">
                                    <p>Lists all resource plans that exist in the database.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11636" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_RSRC_GROUP_MAPPINGS.html#REFRN23365" target="_blank">DBA_RSRC_GROUP_MAPPINGS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11636 d241756e11551 ">
                                    <p>Lists all of the various mapping pairs for all of the session attributes.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11647" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23366" target="_blank">DBA_RSRC_MAPPING_PRIORITY</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11647 d241756e11551 ">
                                    <p>Lists the current mapping priority of each attribute.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11658" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23650" target="_blank">DBA_HIST_RSRC_PLAN</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11658 d241756e11551 ">
                                    <p>Displays historical information about resource plan activation. This view contains AWR snapshots of <code class="codeph">V$RSRC_PLAN_HISTORY</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11671" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_HIST_RSRC_CONSUMER_GROUP.html#REFRN23649" target="_blank">DBA_HIST_RSRC_CONSUMER_GROUP</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11671 d241756e11551 ">
                                    <p>Displays historical statistical information about consumer groups. This view contains AWR snapshots of <code class="codeph">V$RSRC_CONS_GROUP_HISTORY</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11684" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23302" target="_blank">DBA_USERS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26302" target="_blank">USER_USERS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11684 d241756e11551 ">
                                    <p><code class="codeph">DBA</code> view contains information about all users of the database. It contains the initial resource consumer group for each user. <code class="codeph">USER</code> view contains information about the current user. It contains the current user's initial resource consumer group.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11706" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30402" target="_blank">V$RSRC_CONS_GROUP_HISTORY</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11706 d241756e11551 ">
                                    <p>For each entry in the view <code class="codeph">V$RSRC_PLAN_HISTORY</code>, contains an entry for each consumer group in the plan showing the cumulative statistics for the consumer group.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11720" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30214" target="_blank">V$RSRC_CONSUMER_GROUP</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11720 d241756e11551 ">
                                    <p>Displays information about active resource consumer groups. This view can be used for tuning.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11731" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN30482" target="_blank">V$RSRCMGRMETRIC</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11731 d241756e11551 ">
                                    <p>Displays a history of resources consumed and cumulative CPU wait time (due to resource management) per consumer group for the past minute.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11741" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-RSRCMGRMETRIC_HISTORY.html#REFRN30483" target="_blank">V$RSRCMGRMETRIC_HISTORY</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11741 d241756e11551 ">
                                    <p>Displays a history of resources consumed and cumulative CPU wait time (due to resource management) per consumer group for the past hour on a minute-by-minute basis. If a new resource plan is enabled, the history is cleared.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11751" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-RSRC_PLAN.html#REFRN30216" target="_blank">V$RSRC_PLAN</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11751 d241756e11551 ">
                                    <p>Displays the names of all currently active resource plans.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11762" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-RSRC_PLAN_HISTORY.html#REFRN30403" target="_blank">V$RSRC_PLAN_HISTORY</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11762 d241756e11551 ">
                                    <p>Shows when Resource Manager plans were enabled or disabled on the instance. It helps you understand how resources were shared among the consumer groups over time.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11772" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-RSRC_SESSION_INFO.html#REFRN30404" target="_blank">V$RSRC_SESSION_INFO</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11772 d241756e11551 ">
                                    <p>Displays Resource Manager statistics for each session. Shows how the session has been affected by the Resource Manager. Can be used for tuning.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d241756e11782" headers="d241756e11548 ">
                                    <p><code class="codeph"><a href="../refrn/V-SESSION.html#REFRN30223" target="_blank">V$SESSION</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d241756e11782 d241756e11551 ">
                                    <p>Lists session information for each current session. Specifically, lists the name of the resource consumer group of each current session.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-resources-with-oracle-database-resource-manager.html#GUID-9C21E4B3-E708-4A42-8683-12F4434962CC" title="Resource Manager includes predefined resource plans, consumer groups, and consumer groups mapping rules. You can query data dictionary views for information about your Resource Manager configuration.">Oracle Database Resource Manager Reference</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>