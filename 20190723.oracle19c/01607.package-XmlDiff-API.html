<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Package XmlDiff for XML C APIs</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="XML C API Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="XML C API Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-c-api-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T06:29:15-08:00">
      <meta name="dcterms.title" content="XML C API Reference">
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96478-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="package-XML-API.html" title="Previous" type="text/html">
      <link rel="next" href="package-XPath-API.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CAXML">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="package-XML-API.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="package-XPath-API.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XML C API Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Package XmlDiff for XML C APIs</li>
            </ol>
            <a id="GUID-C582D984-B998-424B-8CD9-0B050DBE5E59" name="GUID-C582D984-B998-424B-8CD9-0B050DBE5E59"></a><a id="CAXML6192"></a>
            
            <h2 id="CAXML-GUID-C582D984-B998-424B-8CD9-0B050DBE5E59" class="sect2"><span class="enumeration_chapter">12 </span>Package XmlDiff for XML C APIs
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The methods of the package <code class="codeph">XmlDiff</code> allow you to compare and modify XML documents. The <a href="package-XmlDiff-API.html#GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC">XmlDiff()</a> and <a href="package-XmlDiff-API.html#GUID-D318F02D-2734-4C9D-B9A7-EFCA376C2EC7">XmlPatch()</a> methods are generally equivalent to UNIX commands <code class="codeph">diff</code> and <code class="codeph">patch</code>, and in addition are optimized for, and aware of, XML.
               </p>
               <div class="section">
                  <p>The following table summarizes the methods available through the <code class="codeph">XmlDiff</code> package for XML C APIs.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-C582D984-B998-424B-8CD9-0B050DBE5E59__SUMMARYXPATH">
                  <p class="titleintable">Table 12-1 Summary of XmlDiff Methods for XML C Implementation</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of XmlDiff Methods for XML C Implementation" summary="First column lists interfaces; second column provides a brief description of these interfaces." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="41%" id="d122434e73">Function</th>
                           <th align="left" valign="bottom" width="59%" id="d122434e76">Summary</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="41%" id="d122434e81" headers="d122434e73 ">
                              <p><a href="package-XmlDiff-API.html#GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC">XmlDiff()</a></p>
                           </td>
                           <td align="left" valign="top" width="59%" headers="d122434e81 d122434e76 ">
                              <p>Determines the changes between two XML documents.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="41%" id="d122434e90" headers="d122434e73 ">
                              <p><a href="package-XmlDiff-API.html#GUID-D4D21AF1-2370-4466-80C5-6E5D509D408E">XmlHash()</a></p>
                           </td>
                           <td align="left" valign="top" width="59%" headers="d122434e90 d122434e76 ">
                              <p>Computes a hash value for an XML document or a node in DOM.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="41%" id="d122434e99" headers="d122434e73 ">
                              <p><a href="package-XmlDiff-API.html#GUID-D318F02D-2734-4C9D-B9A7-EFCA376C2EC7">XmlPatch()</a></p>
                           </td>
                           <td align="left" valign="top" width="59%" headers="d122434e99 d122434e76 ">
                              <p>Applies changes on input XML document.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="infoboxnotealso" id="GUID-C582D984-B998-424B-8CD9-0B050DBE5E59__GUID-D6C1EE26-7741-4C13-8369-A0ED6ECEED20">
                  <p class="notep1">See Also:</p>
                  <p><a href="../adxdk/determining-XML-differences-using-C.html#ADXDK-GUID-C602E94C-6FC5-4451-B2E0-ED6C5A888B52" target="_blank"><span><cite>Oracle XML Developer's Kit Programmer's Guide</cite></span></a></p>
               </div>
            </div><a id="CAXML6196"></a><a id="CAXML6197"></a><a id="CAXML6195"></a><div class="props_rev_3"><a id="GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC" name="GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC"></a><h3 id="CAXML-GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC" class="sect3">XmlDiff()</h3>
               <div>
                  <div class="section">
                     <p>Determines the changes between two XML documents.</p>
                     <p><a href="package-XmlDiff-API.html#GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC">XmlDiff()</a> captures the <code class="codeph">diff</code> between two documents in an XML format that conforms to the <code class="codeph">Xdiff</code> XML schema; you can customize this output. 
                     </p>
                     <p>These input documents can be specified either as DOM Trees, files, URI, <code class="codeph">orastream</code>, and so on.  DOM trees for both the inputs will be created if they are not supplied as DOM trees. The DOM for the diff document is created, and the doc node is returned. 
                     </p>
                     <p>If the caller supplies inputs as DOMs, the memory for the DOMs will not be freed. </p>
                     <p>Data (DOM) encoding of both documents must be the same as the data encoding in <code class="codeph">xctx</code>. The diff DOM will be created in the data encoding specified in <code class="codeph">xctx</code>.
                     </p>
                     <p>There are four algorithms that can be run in <a href="package-XmlDiff-API.html#GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC">XmlDiff()</a>: global, local, global with hashing, and local with hashing. The <code class="codeph">diff</code> may be different in the four cases.
                     </p>
                     <p>The global algorithm will generate minimal <code class="codeph">diff</code> using insert, append, delete and  update operations. It needs more memory and time than the local algorithm. The local algorithm may not generate minimal diff, but is faster and uses less space than the global algorithm.
                     </p>
                     <p>Hashing can be used with both global and local algorithms. If hashing is used with the global algorithm, it will speed up diff computation significantly, but may reduce the quality of diff. With local algorithm, it improves the quality of the <code class="codeph">diff</code>.
                     </p>
                     <p>You must specify a depth at which to use hashing. In hashing, the hash value for every element node is associated with a digest for the entire subtree rooted at that node. The tree is not investigated beyond the specified hash level depth while computing the <code class="codeph">diff</code>.
                     </p>
                     <p>The output of the global algorithm with or without hashing meets 'operations-in-docorder' requirement (the nodes must appear in same order as a preorder traversal of the document tree), but the output of the local algorithm does not.</p>
                     <p>The namespace prefixes <a href="package-XmlDiff-API.html#GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC">XmlDiff()</a> will use in the <code class="codeph">xdiff</code> document may be same as those in either the first or second <code class="codeph">doc</code>, depending on which prefix was seen first while processing. The NS URI will be bound to the prefix in the output appropriately. If this NS does not have a prefix in both <code class="codeph">doc</code>s, a new prefix will be generated and bound to the NS in <code class="codeph">xdiff</code> <code class="codeph">doc.</code></p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC__GUID-9C234508-5160-4702-A614-6115E8F854A9">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmldocnode *XmlDiff(
&nbsp;&nbsp;&nbsp;xmlctx *xctx,
&nbsp;&nbsp;&nbsp;xmlerr *err,
&nbsp;&nbsp;&nbsp;ub4  flags,
&nbsp;&nbsp;&nbsp;xmldfsrct firstSourceType,
&nbsp;&nbsp;&nbsp;void *firstSource,
&nbsp;&nbsp;&nbsp;void *firstSourceExtra,
&nbsp;&nbsp;&nbsp;xmldfsrct secondSourceType,
&nbsp;&nbsp;&nbsp;void *secondSource,
&nbsp;&nbsp;&nbsp;void *secondSourceExtra,
&nbsp;&nbsp;&nbsp;uword hashLevel,
&nbsp;&nbsp;&nbsp;oraprop *properties);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC__GUID-D9E09A87-507F-415E-8873-63780908DDA0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d122434e247">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d122434e250">In/Out</th>
                              <th align="left" valign="bottom" width="62%" id="d122434e253">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e258" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e258 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e258 d122434e253 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e268" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">xmlerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e268 d122434e250 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e268 d122434e253 ">
                                 <p>numeric error code, <code class="codeph">XMLERR_OK</code> on success
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e281" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">flags</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e281 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e281 d122434e253 ">
                                 <p>The following options are available:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">XMLDF_FL_DEFAULTS(=0)</code> chooses defaults
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">XMLDF_FL_ALGORITHM_GLOBAL</code> is the global algorithm
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">XMLDF_FL_ALGORITHM_LOCAL</code> is the local algorithm
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">XMLDF_FL_DISABLE_UPDATE</code> indicates a disable update operation, with the global algorithm
                                       </p>
                                    </li>
                                 </ul>
                                 <p>By default, global algorithm is used.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e314" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">firstSourceType</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e314 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e314 d122434e253 ">
                                 <p>Type of source for first document; if zero, <code class="codeph">firstSource</code> is assumed to be a DOM doc node.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e327" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">firstSource</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e327 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e327 d122434e253 ">
                                 <p>Pointer to the source for the first document</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e337" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">firstSourceExtra</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e337 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e337 d122434e253 ">
                                 <p>An additional pointer to the source for the first document; used for buffer length pointer</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e347" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">secondSourceType</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e347 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e347 d122434e253 ">
                                 <p>Type of source for second document; if zero, <code class="codeph">secondSource</code> is assumed to be a DOM doc node.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e360" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">secondSource</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e360 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e360 d122434e253 ">
                                 <p>Pointer to the source for the second document</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e370" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">secondSourceExtra</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e370 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e370 d122434e253 ">
                                 <p>An additional pointer to the source for the second document; used for buffer length pointer</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e380" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">hashLevel</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e380 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e380 d122434e253 ">
                                 <p>The depth (counting from <code class="codeph">1</code> for the root) at which to use hashing for sub trees; <code class="codeph">&lt;=1</code> means not to use hashing
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e396" headers="d122434e247 "><pre class="oac_no_warn" dir="ltr">properties</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e396 d122434e250 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e396 d122434e253 ">
                                 <p>Used for Output Builder</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC__GUID-0C84298E-9134-4A8D-8294-F236757E54C6">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmldocnode)</code> Doc node for the diff document, or <code class="codeph">NULL</code> on error
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6199"></a><a id="CAXML6200"></a><a id="CAXML6198"></a><div class="props_rev_3"><a id="GUID-D4D21AF1-2370-4466-80C5-6E5D509D408E" name="GUID-D4D21AF1-2370-4466-80C5-6E5D509D408E"></a><h3 id="CAXML-GUID-D4D21AF1-2370-4466-80C5-6E5D509D408E" class="sect3">XmlHash()</h3>
               <div>
                  <div class="section">
                     <p>Computes a hash value for an XML document or a node in DOM.</p>
                     <p>If the hash values for two XML subtrees are equal, the corresponding subtrees are equal to a very high probability. Computes the hash value using the Message Digest algorithm 5 (MD5), a widely-used cryptographic hash function with a 128-bit hash value, so there is a very small probability that two different inputs might map to same MD5 digest.</p>
                     <p>The source can be specified as a file, a URL, and so on. It can also be a Document node in DOM, or any other DOM node, and must be specified using the <code class="codeph">inputSource</code> parameter. If <code class="codeph">inputSource</code> is a non-Document DOM node, <code class="codeph">inputSourceExtra</code> must point to the Document node for the DOM.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4D21AF1-2370-4466-80C5-6E5D509D408E__GUID-6F401425-B596-4200-B257-27582943BA67">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlHash(
&nbsp;&nbsp;&nbsp;xmlctx *xctx,
&nbsp;&nbsp;&nbsp;xmlhasht *digest,
&nbsp;&nbsp;&nbsp;ub4 flags,
&nbsp;&nbsp;&nbsp;xmldfsrct iputSourceType,
&nbsp;&nbsp;&nbsp;void *inputSource,
&nbsp;&nbsp;&nbsp;void *inputSourceExtra,
&nbsp;&nbsp;&nbsp;oraprop *properties);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D4D21AF1-2370-4466-80C5-6E5D509D408E__GUID-73EF5F42-5F30-4986-AC96-37A4C051D2FB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d122434e489">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d122434e492">In/Out</th>
                              <th align="left" valign="bottom" width="62%" id="d122434e495">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e500" headers="d122434e489 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e500 d122434e492 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e500 d122434e495 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e510" headers="d122434e489 "><pre class="oac_no_warn" dir="ltr">digest</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e510 d122434e492 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e510 d122434e495 ">
                                 <p>The hash value for the XML sub-tree</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e520" headers="d122434e489 "><pre class="oac_no_warn" dir="ltr">flags</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e520 d122434e492 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e520 d122434e495 ">
                                 <p>Not used</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e530" headers="d122434e489 "><pre class="oac_no_warn" dir="ltr">inputSourceType</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e530 d122434e492 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e530 d122434e495 ">
                                 <p>Type of source for the input document; if zero, <code class="codeph">inputSource</code> is assumed to be a DOM doc node
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e543" headers="d122434e489 "><pre class="oac_no_warn" dir="ltr">inputSource</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e543 d122434e492 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e543 d122434e495 ">
                                 <p>Pointer to the source for the input document</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e553" headers="d122434e489 "><pre class="oac_no_warn" dir="ltr">inputSourceExtra</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e553 d122434e492 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e553 d122434e495 ">
                                 <p>An additional pointer to the source for the input document; if used for a node pointer in a DOM, <code class="codeph">inputSource</code> must be a document node.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e566" headers="d122434e489 "><pre class="oac_no_warn" dir="ltr">properties</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e566 d122434e492 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e566 d122434e495 ">
                                 <p>Not used</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D4D21AF1-2370-4466-80C5-6E5D509D408E__GUID-8FD5941C-5656-45CA-BF02-9DFDE20BD9A4">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric error code, <code class="codeph">XMLERR_OK</code> on success
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML6202"></a><a id="CAXML6203"></a><a id="CAXML6201"></a><div class="props_rev_3"><a id="GUID-D318F02D-2734-4C9D-B9A7-EFCA376C2EC7" name="GUID-D318F02D-2734-4C9D-B9A7-EFCA376C2EC7"></a><h3 id="CAXML-GUID-D318F02D-2734-4C9D-B9A7-EFCA376C2EC7" class="sect3">XmlPatch()</h3>
               <div>
                  <div class="section">
                     <p><a href="package-XmlDiff-API.html#GUID-D318F02D-2734-4C9D-B9A7-EFCA376C2EC7">XmlPatch()</a> applies <code class="codeph">Xdiff</code> schema-conforming changes to an input document. The input document and the <code class="codeph">diff</code> document can be specified  either as a DOM tree, file, URI, or buffer. 
                     </p>
                     <p>DOMs are built for both the input and <code class="codeph">diff</code> document if they are not supplied as DOMs.
                     </p>
                     <p>Data(DOM) encoding of both input and diff documents must be the same as the data encoding in <code class="codeph">xctx</code>. The patched DOM will be in the data encoding specified in <code class="codeph">xctx</code>.
                     </p>
                     <p>Only the simple XPath is supported in the snapshot model. The <code class="codeph">XPath</code> should identify a node with a posistion predicate in abbreviated syntax, such as <code class="codeph">/a[1]/b[2]</code>. The <code class="codeph">XPath</code>s generated by <a href="package-XmlDiff-API.html#GUID-7D3A370A-FE70-4D5F-B020-B3D0BFE3F4CC">XmlDiff()</a> meet this requirement. Also, 'operations-in-docorder' condition must be <code class="codeph">TRUE</code>; the nodes must appear in same order as a preorder traversal of the document tree.  Global (with or without hashing) meets this requirement. Local does not.
                     </p>
                     <p>The programming interface should specify the output model used in the diff doc. The <code class="codeph">oracle-xmldif</code> should be the first child of the top level <code class="codeph">xdiff</code> element.  It should also use flags to specify if operations are in document order (<code class="codeph">TRUE</code> or <code class="codeph">FALSE</code>), and wether the output model is a snapshot or current.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D318F02D-2734-4C9D-B9A7-EFCA376C2EC7__GUID-15DC261F-A719-49C5-BD73-DC775BDB0EBA">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmldocnode *XmlPatch(
&nbsp;&nbsp;&nbsp;xmlctx *xctx,
&nbsp;&nbsp;&nbsp;xmlerr *err,
&nbsp;&nbsp;&nbsp;ub4  flags,
&nbsp;&nbsp;&nbsp;xmldfsrct inputSourceType,
&nbsp;&nbsp;&nbsp;void *inputSource,
&nbsp;&nbsp;&nbsp;void *inputSourceExtra,
&nbsp;&nbsp;&nbsp;xmldfsrct diffSourceType,
&nbsp;&nbsp;&nbsp;void *diffSource,
&nbsp;&nbsp;&nbsp;void *diffSourceExtra,
&nbsp;&nbsp;&nbsp;oraprop *properties);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-D318F02D-2734-4C9D-B9A7-EFCA376C2EC7__GUID-B5DEE728-7A8A-4CFB-808E-053E01AD1659">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d122434e701">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d122434e704">In/Out</th>
                              <th align="left" valign="bottom" width="62%" id="d122434e707">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e712" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e712 d122434e704 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e712 d122434e707 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e722" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">xmlerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e722 d122434e704 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e722 d122434e707 ">
                                 <p>numeric error code, <code class="codeph">XMLERR_OK</code> on success
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e735" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">flags</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e735 d122434e704 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e735 d122434e707 ">
                                 <p>The following option is available:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">XMLDF_FL_DEFAULTS(=0)</code> chooses defaults
                                       </p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e751" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">inputSourceType</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e751 d122434e704 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e751 d122434e707 ">
                                 <p>Type of source for the input document; if zero, <code class="codeph">inputSource</code> is assumed to be a DOM doc node.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e764" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">inputSource</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e764 d122434e704 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e764 d122434e707 ">
                                 <p>Pointer to the source for the input document</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e774" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">inputSourceExtra</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e774 d122434e704 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e774 d122434e707 ">
                                 <p>An additional pointer to the source for the input document; used for buffer length pointer</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e784" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">diffSourceType</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e784 d122434e704 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e784 d122434e707 ">
                                 <p>Type of source for <code class="codeph">diff</code> document; if zero, <code class="codeph">secondSource</code> is assumed to be a DOM doc node.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e800" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">diffsSource</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e800 d122434e704 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e800 d122434e707 ">
                                 <p>Pointer to the source for the <code class="codeph">diff</code> document
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e813" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">diffSourceExtra</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e813 d122434e704 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e813 d122434e707 ">
                                 <p>An additional pointer to the source for the <code class="codeph">diff</code> document; used for buffer length pointer
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d122434e826" headers="d122434e701 "><pre class="oac_no_warn" dir="ltr">properties</pre></td>
                              <td align="left" valign="top" width="12%" headers="d122434e826 d122434e704 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="62%" headers="d122434e826 d122434e707 ">
                                 <p>Not used</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-D318F02D-2734-4C9D-B9A7-EFCA376C2EC7__GUID-AD5C0661-0415-4CDB-931E-6EF1B24A9AF7">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmldocnode)</code> Doc node for the pathed DOM, or <code class="codeph">NULL</code> on error
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>