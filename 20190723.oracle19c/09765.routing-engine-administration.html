<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">
      <meta name="description" content="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">
      <title>Routing Engine Administration</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94799-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="esri-shapefiles.html" title="Previous" type="text/html">
      <link rel="next" href="csw_support_old.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="SPATL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="esri-shapefiles.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="csw_support_old.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-supplementary-information.html" property="item" typeof="WebPage"><span property="name"> Supplementary Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Routing Engine Administration</li>
            </ol>
            <a id="GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" name="GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F"></a><a id="SPATL1561"></a>
            
            <h2 id="SPATL-GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" class="sect2"><span class="enumeration_chapter">E </span>Routing Engine Administration
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This appendix  is for advanced users who need to administer the routing engine. It is not intended for most routing users.</p>
               <div class="infoboxnote" id="GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F__GUID-805418FD-5E3A-47BA-BC31-9C0E8FB6FBF2">
                  <p class="notep1">Note:</p>
                  <p>It assumes that you are familiar with the concepts and techniques described in <a href="routing-engine-concepts.html#GUID-22403E02-1569-4D9E-8D04-02003D70C1B7" title="The Spatial and Graph routing engine (often referred to as the routing engine) enables you to host an XML-based web service that provides the following features."> Routing Engine</a>.
                  </p>
               </div>
               <p>The Oracle Spatial and Graph routing engine uses subprograms to handle the administration of the routing data. There are subprograms to partition the road data, to build a Network Data Model (NDM) network using the road data, to generate user data for trucking and turn restrictions, and to dump and validate the routing engine data and user data.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-A1971861-6411-4586-A275-D173CA485F8B">Logging Administration Operations</a><br></li>
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D">Network Data Model (NDM) Network Administration</a><br></li>
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">Routing Engine Data</a><br></li>
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">User Data</a><br></li>
                  <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-32CC3FB3-273E-40D4-B05C-8B3CE3395945">Other Functions and Procedures</a><br></li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="spatial-supplementary-information.html#GUID-27D2A555-529F-4F08-ADDC-C6587A35358C">Supplementary Information</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL1562"></a><div class="props_rev_3"><a id="GUID-A1971861-6411-4586-A275-D173CA485F8B" name="GUID-A1971861-6411-4586-A275-D173CA485F8B"></a><h3 id="SPATL-GUID-A1971861-6411-4586-A275-D173CA485F8B" class="sect3"><span class="enumeration_section">E.1 </span>Logging Administration Operations
               </h3>
               <div>
                  <p>The routing engine logs all of its administration functions to either a specified log file or to a default log file. All administrative logs are written to the directory described by the Oracle directory object SDO_ROUTER_LOG_DIR. </p>
                  <p>The SDO_ROUTER_LOG_DIR directory must exist; and both the MDSYS and routing engine schema must have the privileges to read and write to this directory from both PL/SQL and Java.</p>
                  <p>The following subprograms are related to logging administration operations.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-2E5B3F22-DBCC-4F87-B341-2DF40ABCDCC2">CREATE_SDO_ROUTER_LOG_DIR Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-B51E92B9-6FF4-444D-BAB4-ACE67C650B18">VALIDATE_SDO_ROUTER_LOG_DIR Procedure</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">Routing Engine Administration</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL1563"></a><div class="props_rev_3"><a id="GUID-2E5B3F22-DBCC-4F87-B341-2DF40ABCDCC2" name="GUID-2E5B3F22-DBCC-4F87-B341-2DF40ABCDCC2"></a><h4 id="SPATL-GUID-2E5B3F22-DBCC-4F87-B341-2DF40ABCDCC2" class="sect4"><span class="enumeration_section">E.1.1 </span>CREATE_SDO_ROUTER_LOG_DIR Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_SDO_ROUTER_LOG_DIR(
  ROUTER_SCHEMA IN VARCHAR2,
  NEW_DIR_PATH  IN VARCHAR2 DEFAULT NULL);
</pre><p>The CREATE_SDO_ROUTER_LOG_DIR procedure must be run from an account that has the Oracle privileges to create directory objects and grant privileges to other database users. Because this procedure grants privileges to the routing engine and MDSYS schemas, it cannot be run from either of these schemas.</p>
                     <p>The ROUTER_SCHEMA parameter must be specified and must be a valid schema containing the routing engine data.</p>
                     <p>The NEW_DIR_PATH parameter is an optional parameter. If the directory path is not specified, a valid SDO_ROUTER_LOG_DIR Oracle directory must already exist in the database. If it does not, an exception is raised. If the directory path is specified, a new SDO_ROUTER_LOG_DIR Oracle directory is created. If SDO_ROUTER_LOG_DIR had already been defined, the new definition replaces the old definition.</p>
                     <p>After the directory is created, read/write access is granted to the routing engine and MDSYS schemas from both PL/SQL and Java.</p>
                     <p>In previous versions of the routing engine, users ran the individual steps to create the directory and grant the privileges. This is no longer advised. Use of the CREATE_SDO_ROUTER_LOG_DIR procedure is now the recommended way to manage the Oracle directory needed by the routing engine.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-A1971861-6411-4586-A275-D173CA485F8B">Logging Administration Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1564"></a><div class="props_rev_3"><a id="GUID-B51E92B9-6FF4-444D-BAB4-ACE67C650B18" name="GUID-B51E92B9-6FF4-444D-BAB4-ACE67C650B18"></a><h4 id="SPATL-GUID-B51E92B9-6FF4-444D-BAB4-ACE67C650B18" class="sect4"><span class="enumeration_section">E.1.2 </span>VALIDATE_SDO_ROUTER_LOG_DIR Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.VALIDATE_SDO_ROUTER_LOG_DIR(
  LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log');
</pre><p>The VALIDATE_SDO_ROUTER_LOG_DIR procedure should be run from both the routing engine and MDSYS schema.</p>
                     <p>The LOG_FILE_NAME parameter is the name of the log file to open and attempt to write to. You can specify a name or use the default log file, <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>If the log file does not exist, it is created and opened in the SDO_ROUTER_LOG_DIR directory. If the log file does exist, it is reopened. The validation procedure attempts to write to the log file from both PL/SQL and Java, and then closes the log file.</p>
                     <p>If the directory does not exist or if PL/SQL and/or Java fail to write to the log file, an exception is thrown.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-A1971861-6411-4586-A275-D173CA485F8B">Logging Administration Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL1565"></a><div class="props_rev_3"><a id="GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D" name="GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D"></a><h3 id="SPATL-GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D" class="sect3"><span class="enumeration_section">E.2 </span>Network Data Model (NDM) Network Administration
               </h3>
               <div>
                  <p>The Oracle Routing Engine requires an Oracle Spatial and Graph network data model (NDM) network, built on the routing engine data, to process route requests and to generate responses.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-025B2003-E732-4DE0-9469-332D194FCEEE">CREATE_ROUTER_NETWORK Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A">DELETE_ROUTER_NETWORK Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-8DEBDF36-D478-4CC4-B936-516568DAC0E0">Network Creation Example</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">Routing Engine Administration</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL1566"></a><div class="props_rev_3"><a id="GUID-025B2003-E732-4DE0-9469-332D194FCEEE" name="GUID-025B2003-E732-4DE0-9469-332D194FCEEE"></a><h4 id="SPATL-GUID-025B2003-E732-4DE0-9469-332D194FCEEE" class="sect4"><span class="enumeration_section">E.2.1 </span>CREATE_ROUTER_NETWORK Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_ROUTER_NETWORK(
  LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
  NETWORK_NAME IN VARCHAR2 := 'ROUTER_NETWORK');
</pre><p>The CREATE_ROUTER_NETWORK procedure must be run from a routing engine schema that contains routing engine Oracle Data Format (ODF) data.</p>
                     <p>The LOG_FILE_NAME parameter is the name of the log file written during network creation. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose to log network creation in its own log file or write to the default partitioning log file, <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>The NETWORK_NAME parameter names the network being created. The name of the network is at the discretion of the user. Oracle recommends including the country code and data version in the name for clarity. For example, for North American data released in the first quarter of 2012 a suitable network name would be ROUTER_NA_Q112.</p>
                     <p>Creating a network using a name of an already existing network simply replaces the old network with the new network. This is not recommended. The old network should be deleted first (using the <a href="routing-engine-administration.html#GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A">DELETE_ROUTER_NETWORK Procedure</a>), then the new network created.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D">Network Data Model (NDM) Network Administration</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1567"></a><div class="props_rev_3"><a id="GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A" name="GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A"></a><h4 id="SPATL-GUID-6CC95CF6-E6BF-4492-BE4F-2A0408DBA55A" class="sect4"><span class="enumeration_section">E.2.2 </span>DELETE_ROUTER_NETWORK Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.DELTE_ROUTER_NETWORK(
  LOG_FILE_NAME	IN VARCHAR2 := 'sdo_router_partition.log',
  NETWORK_NAME	IN VARCHAR2 := 'ROUTER_NETWORK',
  LOG_DELETE    IN BOOLEAN DEFAULT TRUE);
</pre><p>The DELETE_ROUTER_NETWORK procedure must be run from a routing engine schema, and a network matching the network name parameter must exist within the schema.</p>
                     <p>The LOG_FILE_NAME parameter is the name of the log file written during network deletion. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose to log network deletion in its own log file or write to the default partitioning log file, <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>The NETWORK_NAME parameter is name of the network being deleted. If a network of this name does not exist, an exception is thrown and an error message is written to the log file.</p>
                     <p>The LOG_DELETE parameter controls whether the delete operation is logged to the log file. This parameter is used primarily for debugging.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D">Network Data Model (NDM) Network Administration</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1568"></a><div class="props_rev_3"><a id="GUID-8DEBDF36-D478-4CC4-B936-516568DAC0E0" name="GUID-8DEBDF36-D478-4CC4-B936-516568DAC0E0"></a><h4 id="SPATL-GUID-8DEBDF36-D478-4CC4-B936-516568DAC0E0" class="sect4"><span class="enumeration_section">E.2.3 </span>Network Creation Example
                  </h4>
                  <div>
                     <p>This section describes the steps for creating a sample NDM network for routing engine use.</p>
                     <ol>
                        <li>
                           <p>Validate the routing engine log directory in the routing engine schema. SDO_ROUTER_LOG_DIR must exist and have the correct privileges. Log in to the routing engine schema and execute the following statement:</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.VALIDATE_ROUTER_LOG_DIR(
    'validate_log.log');
</pre><p>When validation completes successfully, the <code class="codeph">validate_log.log</code> file should contain the following messages:
                           </p><pre class="oac_no_warn" dir="ltr">[INFO] PLSQL logging OK (ROUTER_SCHEMA)
[INFO] Java logging OK (ROUTER_SCHEMA)
[INFO] PLSQL logging OK (MDSYS)
[INFO] Java logging OK (MDSYS)
</pre></li>
                        <li>
                           <p>Validate the routing engine log directory in the MDSYS schema. SDO_ROUTER_LOG_DIR must exist and have the correct privileges. Log in to the MDSYS schema and execute the same statement as is step 1.</p>
                        </li>
                        <li>
                           <p>In the routing engine schema, use the following query to find the name of any existing networks:</p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR(view_name, 0, LENGTH(view_name)-7) Network_Name
 FROM user_views 
 WHERE view_name LIKE '%PBLOB$';
</pre><p>If no results are returned, go to step 5. If a result similar to the following is returned, go to the next step to delete the network before creating a new network.</p><pre class="oac_no_warn" dir="ltr">NETWORK_NAME
------------
<span class="italic">&lt;any-network-name&gt;</span>
</pre></li>
                        <li>
                           <p>Use the DELETE_NETWORK procedure to delete an existing network. For example, if the existing network is named ROUTER_NA_Q112:</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.DELETE_ROUTER_NETWORK(
    'delete_net.log', 'ROUTER_NA_Q112');
</pre><p>When deletion completes successfully, the <code class="codeph">delete_net.log</code> file should contain the following message:
                           </p><pre class="oac_no_warn" dir="ltr">INFO: deleting the Routeserver network: ROUTER_NA_Q112
</pre></li>
                        <li>
                           <p>Use the CREATE_ROUTER_NETWORK procedure to build a new network. For example:</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.CREATE_ROUTER_NETWORK(
    'create_net.log', 'ROUTER_NA_112');
</pre><p>When the create operation completes successfully, the <code class="codeph">create_net.log</code> file should contain the following messages:
                           </p><pre class="oac_no_warn" dir="ltr">INFO: creating the Routeserver network: ROUTER_NA_Q112
INFO: rebuild edge table statistics
      creating views
      generating metadata</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-EEB8645C-9A59-48E4-AC6E-F54C03DFE17D">Network Data Model (NDM) Network Administration</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL1569"></a><div class="props_rev_3"><a id="GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830" name="GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830"></a><h3 id="SPATL-GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830" class="sect3"><span class="enumeration_section">E.3 </span>Routing Engine Data
               </h3>
               <div>
                  <p>The routing engine uses routing engine data and user data. The routing engine data is stored in the EDGE, NODE, SIGN_POST, and PARTITION tables.</p>
                  <p>The routing engine data models a road network as a directed graph of nodes and edges. Partitioning breaks this road network into 2**N (2<sup>N</sup>) subgraphs (local partitions) and one highway partition. The nodes of the road network are partitioned topologically, so each local partition contains the same number of nodes. Each node in the network is in one and only one partition. An edge can be entirely within a partition, an internal edge, or a bridge two partitions (that is, a boundary edge). The partitions are stored in the database as BLOBs, so they can easily be read into and removed from a cache. This allows the routing engine to operate without needing the entire road network to be in memory.
                  </p>
                  <p>Partitions 1 through N, local partitions, are all roughly the same size. Local partitions are read into the cache as needed when computing a route. These partitions remain in the cache until the cache is full, at which point the least used partitions are swapped out to make room for the partitions needed to compute the current route.</p>
                  <p>Partition 0 (zero), the highway partition, differs from local partitions in two respects:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>It is not a topological partition of the road network. Instead, it is a subgraph of the road network containing only highway information. Because of this, the highway partition is much larger than a local partition.</p>
                     </li>
                     <li>
                        <p>It is read into the cache at routing engine start up and remains resident.</p>
                     </li>
                  </ul>
                  <p>The road network is partitioned in three phases. The first phase partitions the data, computing the number of partitions needed and which partitions contain which nodes and edges. The second phase converts these partitions into BLOBs and writes them to the database. The final phase rebuilds the routing engine network, partitions any user data, and writes the user data BLOBs to the database. </p>
                  <p>Routing engine data is versioned. During the third phase of partitioning the routing engine version is written to the SDO_ROUTER_DATA_VERSION table and becomes the data version for this data set. If the data set is exported for use in another routing engine schema, this new routing engine's version must be compatible with the data version of the data set.</p>
                  <p>Routing engine data is provided by data vendors in the Oracle Data Format (ODF) and is already partitioned. Generally, there is no need for a customer to repartition the data. However, there may be cases, such as when performance testing different partition sizes or merging data sets, where you may want to repartition the routing engine data. </p>
                  <div class="infoboxnote" id="GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830__GUID-9802A9CC-A24A-464E-ABE5-13063B9A55DE">
                     <p class="notep1">Note:</p>
                     <p>Repartitioning routing engine data can be a very time and resource intensive operation. Depending on the hardware being used, repartitioning a large data set, such as North America or the European Union, can easily run for a day or more.</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8">PARTITION_ROUTER Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD">CLEANUP_ROUTER Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-35492196-E7B6-40FA-8F13-5566A7C6CBA1">DUMP_PARTITIONS Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-85AA83BF-E7BD-4DEB-878B-0627A89B8244">VALIDATE_PARTITIONS Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-35EE3280-D593-49E5-8DE2-0BE6C9AE2083">GET_VERSION Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">Routing Engine Data Examples</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">Routing Engine Administration</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL1570"></a><div class="props_rev_3"><a id="GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8" name="GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8"></a><h4 id="SPATL-GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8" class="sect4"><span class="enumeration_section">E.3.1 </span>PARTITION_ROUTER Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.PARTION_ROUTER(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    MAX_V_NO      IN NUMBER DEFAULT 10000,
    DRIVING_SIDE  IN VARCHAR2 := 'R',
    NETWORK_NAME  IN VARCHAR := 'ROUTER_NETWORK',
    MAX_MEMORY    IN NUMBER := 1.75,
    CLEANUP       IN BOOLEAN DEFAULT TRUE,
    USE_SECUREFILES           IN BOOLEAN DEFAULT TRUE,
    GENERATE_11G_RESTRICTIONS IN BOOLEAN DEFAULT TRUE);
</pre><p>The PARTITION_ROUTER procedure must be run from a routing engine schema that contains routing engine Oracle Data Format data. This procedure partitions the road network and creates the PARTITION table containing the routing engine data in BLOB format.</p>
                     <p>The LOG_FILE_NAME parameter specifies the name of the log file written during routing engine partitioning. This log file is created in the SDO_ROUTER_LOG_DIR directory. Users can choose a log file name or use the default partitioning log file sdo_router_partition.log.</p>
                     <p>The MAX_V_NO parameter specifies the maximum number of nodes allowed in a partition. There must be at least (MAX_V_NO+1) nodes in the NODE table.</p>
                     <p>The DRIVING_SIDE parameter is a legacy parameter. Its only use was to generate Release 11<span class="italic">g</span> turn restrictions. Valid values are R (right side) and L (left side).The NETWORK_NAME parameter specifies the name of the routing engine network that is created during partitioning.
                     </p>
                     <p>The MAX_MEMORY parameter specifies the maximum Java heap size, in gigabytes, available to the partitioning process. The default value of 1.75G is enough for most data sets. This parameter only needs to be adjusted when partitioning data sets that are much smaller or much larger than normal.</p>
                     <p>The CLEANUP parameter is used for debugging. By default, all of the intermediate tables created during the partitioning of the routing engine data are cleaned up. If there is problem while partitioning, leaving these tables in place (specifying CLEANUP=&gt;FALSE) can provide substantial debugging information. </p>
                     <p>The USE_SECUREFILES parameter lets you create the routing engine's BLOBs in either BASICFILE or SECUREFILE format. Oracle recommends using the SECUREFILE format.</p>
                     <p>The GENERATE_11G_RESTRICTIONS parameter controls the generation of Release 11<span class="italic">g</span> turn restriction data. In Oracle Database Release 11<span class="italic">g</span>, basic turn restrictions were implemented and stored in the PARTITION table. In Oracle Database Release 12<span class="italic">c</span>, turn restrictions are expanded and are stored in a user data table, ROUTER_TURN_RESTRICTION_DATA. To allow data providers to ship data partitioned under Release 12<span class="italic">c</span> to users still using a Release 11<span class="italic">g</span> Route Server, both types of turn restrictions are generated by default. When repartitioning data under Oracle Release 12<span class="italic">c</span>, for a Release 12<span class="italic">c</span> Route Server, you may set this parameter to FALSE.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">Routing Engine Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1571"></a><div class="props_rev_3"><a id="GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD" name="GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD"></a><h4 id="SPATL-GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD" class="sect4"><span class="enumeration_section">E.3.2 </span>CLEANUP_ROUTER Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CLEANUP_ROUTER(
    ALL_TABLES IN BOOLEAN DEFAULT TRUE);
</pre><p>The CLEANUP_ROUTER procedure resets the routing engine's state, ensuring that all the tables and indexes are in good order and all intermediate tables are deleted. This is useful if partitioning fails or if partitioning completed successfully with the CLEANUP flag set to FALSE.</p>
                     <p>The ALL_TABLES parameter controls what is reset. When set to FALSE, the routing engine is reset to a stable state but leaves the intermediate tables for debugging. This can be useful if partitioning failed. When set to TRUE, the routing engine is reset to a stable state and all intermediate tables used in partitioning are deleted. This can be useful when cleaning up after a successful <a href="routing-engine-administration.html#GUID-C212EEC4-3A49-4044-8EAD-AD335A7F31A8">PARTITION_ROUTER Procedure</a> that was run with the CLEANUP parameter set to FALSE.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">Routing Engine Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1572"></a><div class="props_rev_3"><a id="GUID-35492196-E7B6-40FA-8F13-5566A7C6CBA1" name="GUID-35492196-E7B6-40FA-8F13-5566A7C6CBA1"></a><h4 id="SPATL-GUID-35492196-E7B6-40FA-8F13-5566A7C6CBA1" class="sect4"><span class="enumeration_section">E.3.3 </span>DUMP_PARTITIONS Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">DUMP_PARTITIONS(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    START_PID     IN NUMBER DEFAULT 0,
    END_PID       IN NUMBER DEFAULT -1,
    VERBOSE       IN BOOLEAN DEFAULT FALSE);
</pre><p>The DUMP_PARTITIONS procedure dumps the contents of routing engine data partition BLOBs. This procedure unpacks a BLOB, formats the data, and writes it to a log file. A single running of this procedure can dump a single partition or a contiguous range of partitions. This range is defined from START_PID to END_PID, inclusive. The default is to dump all partitions. A non-contiguous range of partitions cannot be dumped in a single call.</p>
                     <p>The LOG_FILE_NAME parameter is the name of the log file written when dumping routing engine partitions. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose a log file name or write to the default partitioning log file <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>The START_PID parameter is the ID of the first partition to dump. The default START_PID is 0. The START_PID must be less than or equal to END_PID.</p>
                     <p>The END_PID parameter is the ID of the last partition to dump. The default END_PID is -1, which is converted to the highest partition ID in the data set. If the start and end PID values are equal, a single partition is dumped. If END_PID is less than START_PID, an error message is written to the log.</p>
                     <p>The VERBOSE parameter controls what data is dumped. The default value of FALSE dumps a summary of the partition information, including, the number of node and edges and the size of the BLOB. If this parameter is TRUE, in addition to the summary, all the information describing all the nodes and edges in the partition is dumped.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">Routing Engine Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1573"></a><div class="props_rev_3"><a id="GUID-85AA83BF-E7BD-4DEB-878B-0627A89B8244" name="GUID-85AA83BF-E7BD-4DEB-878B-0627A89B8244"></a><h4 id="SPATL-GUID-85AA83BF-E7BD-4DEB-878B-0627A89B8244" class="sect4"><span class="enumeration_section">E.3.4 </span>VALIDATE_PARTITIONS Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">VALIDATE_PARTITIONS(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    START_PID     IN NUMBER DEFAULT 0,
    END_PID       IN NUMBER DEFAULT -1,
    VERBOSE       IN BOOLEAN DEFAULT FALSE);
</pre><p>The VALIDATE_PARTITIONS procedure validates the contents of routing engine data partition BLOBs. Validating all the partitions in a large dataset can take some time to run, but it is the fastest way to read every byte in every partition to ensure that the partitions are ready to be used for routing. Validation only needs to be run if you suspect that there may be a problem with the partitions. If validation is run, Oracle recommends running the initial validation on all partitions with the VERBOSE flag set to FALSE. If a problem is found, then rerun the validation on the problem partitions with VERBOSE set to true.</p>
                     <p>The LOG_FILE_NAME parameter is the name of the log file written while validating the routing engine data partitions. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose a log file name or write to the default partitioning log file <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>The START_PID parameter is the ID of the first partition to validate. The default START_PID is 0. The START_PID must be less than or equal to END_PID. </p>
                     <p>The END_PID parameter is the ID of the last partition to validate. The default END_PID is -1, which is converted to the highest partition ID in the data set. If the start and end PID values are equal, a single partition is validated. If END_PID is less than START_PID, an error message is written to the log.</p>
                     <p>The VERBOSE parameter controls the level of detail of the validation messages. The default value of FALSE simply logs whether a partition passed or failed validation. If this parameter is TRUE, the validation of each element in the BLOB is logged.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">Routing Engine Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1574"></a><div class="props_rev_3"><a id="GUID-35EE3280-D593-49E5-8DE2-0BE6C9AE2083" name="GUID-35EE3280-D593-49E5-8DE2-0BE6C9AE2083"></a><h4 id="SPATL-GUID-35EE3280-D593-49E5-8DE2-0BE6C9AE2083" class="sect4"><span class="enumeration_section">E.3.5 </span>GET_VERSION Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">GET_VERSION(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log');
</pre><p>The GET_VERSION procedure queries the SDO_ROUTER_DATA_VERSION table to get the routing engine data version and writes the result to the log file. (An an alternative, you can use SQL to query the SDO_ROUTER_DATA_VERSION table.)</p>
                     <p>The LOG_FILE_NAME parameter is the name of the log file where the routing engine data version is written. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose a log file name or write to the default partitioning log file <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">Routing Engine Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1575"></a><div class="props_rev_3"><a id="GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D" name="GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D"></a><h4 id="SPATL-GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D" class="sect4"><span class="enumeration_section">E.3.6 </span>Routing Engine Data Examples
                  </h4>
                  <div>
                     <p>This section contains examples of the following operations.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90">Partitioning a Small Data Set</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C">Partitioning a Full Data Set</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0">Dumping the Contents of a Partition</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-02C1157D-E11A-4432-88EC-6ED827B002EC">Validating the Contents of a Partition</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B">Querying the Routing Engine Data Version</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-0997AE3A-250A-4E80-B9C8-C014FC8C0830">Routing Engine Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SPATL1577"></a><a id="SPATL1576"></a><div class="props_rev_3"><a id="GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90" name="GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90"></a><h5 id="SPATL-GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90" class="sect5"><span class="enumeration_section">E.3.6.1 </span>Partitioning a Small Data Set
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90__CACEGCDH">Example E-1</a> shows partitioning of a small data set. The data set in this example is the road network data for a radius of 100 miles around the center of San Francisco. This data set contains about 520,000 nodes and 1,200,00 edges. To partition the routing engine data, execute the statement from within the routing engine schema.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-F1D63241-EE14-4FC9-9DEB-7215BE437B90__CACEGCDH">
                           <p class="titleinexample">Example E-1 Partitioning a Small Data Set</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.PARTITION_ROUTER(
   'sdo_router_partition.log', 1000, 'R', 
   'ROUTER_SF_NET', .75, FALSE, FALSE, FALSE);

******** Beginning SDO Router partitioning
** Schema: ROUTER_SF_SCHEMA
** Logfile location:/scratch/logs/sdo_router_partition.log
** Nodes per partition: 1000
** Driving side: R
** Router network name: ROUTER_SF_NET
** Max JVM Memory Size: .75GB (805306368 bytes)
** Cleanup temporary files: FALSE
** BLOBs stored in BASICFILE format
** Generating 11g turn restrictions: FALSE
[This header is followed by extensive logging of the partitioning process.]
</pre><p>This example produces 1025 partitions, 1 highway partition, and 1024 local partitions. There are, on average, 516 nodes per partition. The driving side is set but is not used because Release 11<span class="italic">g</span> turn restrictions were not requested. The Java maximum heap size was set to three quarters of a gigabyte, more than enough to partition such a small data set. The partition BLOBs were written in Basicfile format, and when the partitioning completed the intermediate tables were not cleaned up.
                           </p>
                           <p>To clean up the intermediate tables left behind by partitioning, enter the following:</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.CLEANUP_ROUTER()</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">Routing Engine Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1579"></a><a id="SPATL1578"></a><div class="props_rev_3"><a id="GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C" name="GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C"></a><h5 id="SPATL-GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C" class="sect5"><span class="enumeration_section">E.3.6.2 </span>Partitioning a Full Data Set
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C__CACJJGGC">Example E-2</a> shows partitioning of a full data set. The data set for this example is the entire North American road network. This data set contains about 30 million nodes and 74 million edges. To partition the routing engine data, execute the statement from within the routing engine schema.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-509C1DAD-8C62-41D9-B343-D3D69F34633C__CACJJGGC">
                           <p class="titleinexample">Example E-2 Partitioning a Full Data Set</p><pre class="oac_no_warn" dir="ltr">EXECUTE SDO_ROUTER_PARTITION.PARTITION_ROUTER(
   'sdo_router_partition.log, 32000, 'R', 'ROUTER_NA_NET');

******** Beginning SDO Router partitioning
** Schema: ROUTER_NA_SCHEMA
** Logfile location:/scratch/logs/sdo_router_partition.log
** Nodes per partition: 32000
** Driving side: R
** Router network name: ROUTER_NA_NET
** Max JVM Memory Size: 1.75GB (1879048192 bytes)
** Cleanup temporary files: TRUE
** BLOBs stored in SECUREFILE format
** Generating 11g turn restrictions: TRUE
[This header is followed by extensive logging of the partitioning process.]
++ Partitioning a data set of this size is time and resource intensive ++
 </pre><p>This example produces 1025 partitions, 1 highway partition, and 1024 local partitions. There are, on average, 29443 nodes per partition. The driving side is set to 'Right Side' and is used to generate the requested Oracle 11<span class="italic">g</span> turn restrictions. The default Java heap size of 1.75 gigabytes is used. All routing engine data and user data BLOBs are stored in SECUREFILE format, and all intermediate tables are cleaned up after the successful partitioning.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">Routing Engine Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1581"></a><a id="SPATL1582"></a><a id="SPATL1580"></a><div class="props_rev_3"><a id="GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0" name="GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0"></a><h5 id="SPATL-GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0" class="sect5"><span class="enumeration_section">E.3.6.3 </span>Dumping the Contents of a Partition
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0__CACBCGGD">Example E-3</a> shows a dump of partitions 0 through 3 with the default VERBOSE value (FALSE) from the San Francisco data set. Note the BLOB size difference between the highway and local partitions. Also note that the highway partition is completely self-contained so there are no outbound edges. Local partitions have outgoing edges that connect them to other local partitions.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0__CACBCGGD">
                           <p class="titleinexample">Example E-3 Dumping the Contents of a Partition (VERBOSE = FALSE)</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_PARTITIONS(
   'dump_part0-3.log', 0, 3);

******** Beginning partition dump
** Logfile location: /scratch/logs/dump_part0-3.log
** Routeserver data version: 12.1.0.2.1
** Start partition id: 0
** End partition id: 3
** Verbose mode: FALSE
[INFO] Starting dump of partition 0
  Number of Nodes: 19392
  Number of Nonboundary Edges: 22706
  Number of Outgoing Boundary Edges: 0
  Number of Incoming Boundary Edges: 0
  Stored Partition ID: 0
  Blob Length: 1748332
 
[INFO] Starting dump of partition 1
  Number of Nodes: 516
  Number of Nonboundary Edges: 1190
  Number of Outgoing Boundary Edges: 49
  Number of Incoming Boundary Edges: 49
  Stored Partition ID: 1
  Blob Length: 81372
 
[INFO] Starting dump of partition 2
  Number of Nodes: 516
  Number of Nonboundary Edges: 1099
  Number of Outgoing Boundary Edges: 68
  Number of Incoming Boundary Edges: 68
  Stored Partition ID: 2
  Blob Length: 78388
[INFO] Starting dump of partition 3
  Number of Nodes: 516
  Number of Nonboundary Edges: 1101
  Number of Outgoing Boundary Edges: 60
  Number of Incoming Boundary Edges: 60
  Stored Partition ID: 3
  Blob Length: 77756
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0__CACFADGB">
                           <p class="titleinexample">Example E-4 Dumping the Contents of a Partition (VERBOSE = TRUE)</p>
                           <p><a href="routing-engine-administration.html#GUID-25465F90-9C2C-4E86-BB4D-49A9B000C0E0__CACFADGB">Example E-4</a> shows a dump of partition 8 with VERBOSE set to TRUE from the San Francisco data set. Note that the outbound edges log the partition ID where they terminate, and the inbound edges log the partition ID where they originate.
                           </p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_PARTITIONS(
   'dump_part8.log', 8, 8, TRUE);

******** Beginning partition dump
** Logfile location:/scratch/logs/dump_part8.log
** Routeserver data version: 12.1.0.2.1
** Start partition id: 8
** End partition id: 8
** Verbose mode: TRUE
[INFO] Starting dump of partition 8
  Number of Nodes: 517
  Number of Non-boundary Edges: 1145
  Number of Outgoing Boundary Edges: 37
  Number of Incoming Boundary Edges: 37
  Stored Partition ID: 8
  Blob Length: 77957

  <span class="bold">Node information for partition 8:</span>
    Node ID/X/Y/Highway: 84096388/-120.50809/37.98399/false
    In Edges(3): -120862233, -120862227, 120862232
    Out Edges(3): -120862232, 120862227, 120862233
    *******************************
    Node ID/X/Y/Highway: 84098023/-120.4882/37.99961/true
    In Edges(3): -127829801, -120428259, 776737023
    Out Edges(3): -776737023, 120428259, 127829801
    *******************************
*** Node information for the other 515 nodes...

  <span class="bold">Non-boundary Edge information for partition 8:</span>
  Internal Edges(1145):
    Edge ID/Start Node ID/End Node ID: 910681077/942981443/206194644
    Length/Speed Limit/Function Class: 130.3/5/5
    *******************************
    Edge ID/Start Node ID/End Node ID: -105461005/206194651/206194644
    Length/Speed Limit/Function Class: 229.93/11/5
    *******************************
*** Edge information for the other 1143 internal edges...

   <span class="bold">Outbound Boundary Edges(37):</span>
    Edge ID/Start Node ID/End Node ID: -724019630/253265936/810705655
    End Node Partition ID/Length: 7/511.07
    Speed Limit/Function Class: 26/2
    *******************************
    Edge ID/Start Node ID/End Node ID: -105462459/252152310/206193109
    End Node Partition ID/Length: 7/814.68
    Speed Limit/Function Class: 11/5
    *******************************
*** Edge information for the other 35 outbound boundary edges...
 
   <span class="bold">Inbound Boundary Edges(37):</span>
    Edge ID/Start Node ID/End Node ID: 724019630/810705655/253265936
    Start Node Partition ID/Length: 7/511.07
    Speed Limit/Function Class: 26/2
    *******************************
    Edge ID/Start Node ID/End Node ID: 105462459/206193109/252152310
    Start Node Partition ID/Length: 7/814.68
    Speed Limit/Function Class: 11/5
    *******************************
*** Edge information for the other 35 inbound boundary edges...</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">Routing Engine Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1584"></a><a id="SPATL1585"></a><a id="SPATL1583"></a><div class="props_rev_3"><a id="GUID-02C1157D-E11A-4432-88EC-6ED827B002EC" name="GUID-02C1157D-E11A-4432-88EC-6ED827B002EC"></a><h5 id="SPATL-GUID-02C1157D-E11A-4432-88EC-6ED827B002EC" class="sect5"><span class="enumeration_section">E.3.6.4 </span>Validating the Contents of a Partition
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-02C1157D-E11A-4432-88EC-6ED827B002EC__CACEDJAA">Example E-5</a> shows validation of the contents of all the partitions in the data set with the default VERBOSE value (FALSE).
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-02C1157D-E11A-4432-88EC-6ED827B002EC__CACEDJAA">
                           <p class="titleinexample">Example E-5 Validating the Contents of Partitions (VERBOSE = FALSE)</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.VALIDATE_PARTITIONS(
   'validate_all_partitions.log');

******** Beginning partition validation
** Logfile location:/scratch/logs/validate_all_partitions.log
** Routeserver data version: 12.1.0.2.1
** Start partition id: 0
** End partition id: 1024
** Verbose mode: FALSE
[INFO] Starting validation of partition 0
[INFO] Starting validation of partition 1
[INFO] Starting validation of partition 2

[INFO] Starting validation of partition 1022
[INFO] Starting validation of partition 1023
[INFO] Starting validation of partition 1024
[INFO] Partition validation complete
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-02C1157D-E11A-4432-88EC-6ED827B002EC__CACFFAEH">
                           <p class="titleinexample">Example E-6 Validating the Contents of Partitions (VERBOSE = TRUE)</p>
                           <p><a href="routing-engine-administration.html#GUID-02C1157D-E11A-4432-88EC-6ED827B002EC__CACFFAEH">Example E-6</a> shows validation of the contents of partitions 7 and 8 with VERBOSE set to TRUE.
                           </p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.VALIDATE_PARTITIONS(
   'validate_part7-8.log', 7, 8, TRUE);

******** Beginning partition validation
** Logfile location: /scratch/logs/validate_part7-8.log
** Routeserver data version: 12.1.0.2.1
** Start partition id: 7
** End partition id: 8
** Verbose mode: TRUE
[INFO] Starting validation of partition 7
  Header node count: OK
  Header edge count: OK
  BLOB partition id: OK
  BLOB length: OK
  BLOB node count: OK
  BLOB information for 516 nodes: OK
  BLOB information for 1154 internal edges: OK
  BLOB information for 66 outbound boundary edges: OK
  BLOB information for 65 inbound boundary edges: OK

[INFO] Starting validation of partition 8
  Header node count: OK
  Header edge count: OK
  BLOB partition id: OK
  BLOB length: OK
  BLOB node count: OK
  BLOB information for 517 nodes: OK
  BLOB information for 1145 internal edges: OK
  BLOB information for 37 outbound boundary edges: OK
  BLOB information for 37 inbound boundary edges: OK

[INFO] Partition validation complete</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">Routing Engine Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1587"></a><a id="SPATL1586"></a><div class="props_rev_3"><a id="GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B" name="GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B"></a><h5 id="SPATL-GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B" class="sect5"><span class="enumeration_section">E.3.6.5 </span>Querying the Routing Engine Data Version
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B__CACHEBGD">Example E-7</a> queries the routing engine data version number, writing the result to a log file. 
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sdo_router_data_version;</pre></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-09B2B646-C587-47F6-B2AD-91E6DA21D81B__CACHEBGD">
                           <p class="titleinexample">Example E-7 Querying the Routing Data Version</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.GET_VERSION('version.log');

INFO: Routeserver data version: 12.1.0.2.1
</pre><p>Alternatively, you could use the following SQL query to get the routing engine data version:</p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-436A6B18-8EB6-4977-B621-17BB6EF56B1D">Routing Engine Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="SPATL1588"></a><div class="props_rev_3"><a id="GUID-017D8448-E91E-409E-A13B-4517FCB36238" name="GUID-017D8448-E91E-409E-A13B-4517FCB36238"></a><h3 id="SPATL-GUID-017D8448-E91E-409E-A13B-4517FCB36238" class="sect3"><span class="enumeration_section">E.4 </span>User Data
               </h3>
               <div>
                  <p>User data models restrictions on the road network. Currently, there are two kinds of user data in the routing engine: restricted driving maneuvers (turn restrictions) and trucking user data.</p>
                  <p>User data is versioned. When user data is partitioned, the routing engine data version from the SDO_ROUTER_DATA_VERSION table is stored in the user data BLOBs. When user data is brought into the cache, the version stored in the user data partition must be compatible with the version in the SDO_ROUTER_DATA_VERSION table.</p>
                  <p>Partitioning user data is generally a very fast operation. It can be done as part of the partitioning the routing engine data or, if the routing engine data is already partitioned, as a standalone operation. In both cases the user data partitioning uses the partitioned routing engine data as a guide, substantially speeding up the partitioning operation.</p>
                  <p>The number of user data partitions is equal to or less than the number of routing engine data partitions. If there is no user data associated with a routing engine data partition, then no user data partition is produced. User data local partitions move into and out of the cache with their associated routing engine data partition. The user data highway partition is loaded at routing engine startup and remains resident in the cache.</p>
                  <p>In Release 12<span class="italic">c</span> the restricted driving maneuver user data is part of the routing engine ODF data shipped by data vendors. Trucking user data is not shipped with the routing engine ODF data and must be purchased separately. When a Release 12<span class="italic">c</span> or later routing engine starts, it detects and uses any available user data. All versions of the routing engine before Release 12<span class="italic">c</span> do not detect the user data and will only use routing engine data to compute the routes.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-A5EA0363-6C36-4DB8-9574-562E78900740">Restricted Driving Maneuvers User Data</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-58FFF7B7-4C4E-4D92-925D-51D96D884879">CREATE_TURN_RESTRICTION_DATA Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-F24D3D65-C82E-4935-8BFF-2623AA249258">DUMP_TURN_RESTRICTION_DATA Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-3D1530B2-8621-48B6-9CB9-00666AE27724">CREATE_TRUCKING_DATA Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-8ACFD79A-11E7-4B63-ABDD-B5B8AB059732">DUMP_TRUCKING_DATA Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-72400A0B-3D0B-49DD-93FB-67E49193C02A">CREATE_TIMEZONE_DATA Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-7B05372C-9538-49F1-BCF5-CB243F426E10">DUMP_TIMEZONE_DATA Procedure</a><br></li>
                     <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">User Data Examples</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">Routing Engine Administration</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL1589"></a><div class="props_rev_3"><a id="GUID-A5EA0363-6C36-4DB8-9574-562E78900740" name="GUID-A5EA0363-6C36-4DB8-9574-562E78900740"></a><h4 id="SPATL-GUID-A5EA0363-6C36-4DB8-9574-562E78900740" class="sect4"><span class="enumeration_section">E.4.1 </span>Restricted Driving Maneuvers User Data
                  </h4>
                  <div>
                     <p>A restricted driving maneuver can be as simple as not allowing movement from one edge to another, such as a simple turn restriction that does not allow a left turn. Or it might be a highly complex maneuver involving many edges, such as a no U-turn restriction on a road divided with a median where there is a start edge, an edge over the median, and the edge on the road going the other direction.</p>
                     <p>The routing engine uses three tables for restricted driving maneuvers. The first two tables, ROUTER_NAV_STRAND and ROUTER_CONDITION contain the raw data to build the restricted maneuvers user data. </p>
                     <p>The final table, ROUTER_TURN_RESTRICTION_DATA, contains the partitioned restricted maneuver user data stored in BLOB format. Partitioning the restricted maneuver data allows it to move in and out of the cache with the routing engine data of the same partition. </p>
                     <p>In Release 12<span class="italic">c</span> the restricted driving maneuver user data is part of the ODF data shipped by the data vendors. When a Release 12<span class="italic">c</span> routing engine starts, it detects and uses the turn restriction user data. If a Release 11<span class="italic">g</span>routing engine starts, it will not detect the user data and will only use routing engine data to compute the routes.
                     </p>
                     <p>Because the restricted driving maneuver user data is part of the ODF data set, it is already partitioned. Generally, there is no reason to repartition this user data. However, if the routing engine data is repartitioned, the user data will also be repartitioned. It is also possible to repartition the turn restriction user data without having to repartition the routing engine data by re-creating the restricted driving maneuver user data.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">User Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1590"></a><div class="props_rev_3"><a id="GUID-58FFF7B7-4C4E-4D92-925D-51D96D884879" name="GUID-58FFF7B7-4C4E-4D92-925D-51D96D884879"></a><h4 id="SPATL-GUID-58FFF7B7-4C4E-4D92-925D-51D96D884879" class="sect4"><span class="enumeration_section">E.4.2 </span>CREATE_TURN_RESTRICTION_DATA Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_TURN_RESTRICTION_DATA(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    CLEANUP       IN BOOLEAN DEFAULT TRUE);
</pre><p>The CREATE_TURN_RESTRICTION_DATA procedure must be run from a routing engine schema that contains the restricted driving maneuver raw data tables ROUTER_NAV_STRAND and ROUTER_CONDITION. This procedure partitions the restricted driving maneuver data and creates the ROUTER_TURN_RESTRICTION_DATA table containing the turn restriction user data in BLOB format. Turn restriction user data creation requires access to the data version so the SDO_ROUTER_DATA_VERSION table must exist in the routing engine schema.</p>
                     <p>The LOG_FILE_NAME parameter is the name of the log file written during turn restriction generation. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose a log file name or use the default partitioning log file <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>The CLEANUP parameter is used for debugging. By default, all of the intermediate tables created during turn restriction generation are cleaned up. If there is problem with turn restriction generation, leaving these tables in place can provide substantial debugging information.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">User Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1591"></a><div class="props_rev_3"><a id="GUID-F24D3D65-C82E-4935-8BFF-2623AA249258" name="GUID-F24D3D65-C82E-4935-8BFF-2623AA249258"></a><h4 id="SPATL-GUID-F24D3D65-C82E-4935-8BFF-2623AA249258" class="sect4"><span class="enumeration_section">E.4.3 </span>DUMP_TURN_RESTRICTION_DATA Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.DUMP_TURN_RESTRICTION_DATA(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    START_PID     IN NUMBER DEFAULT 0,
    END_PID       IN NUMBER DEFAULT -1,
    DUMP_SOFT_RESTRICTIONS IN BOOLEAN DEFAULT FALSE);
</pre><p>The DUMP_TURN_RESTRICTION_DATA procedure dumps the contents of the turn restriction user data partition BLOBs. This procedure unpacks a BLOB, formats the data, and writes it to a log file. A single call to this procedure can dump a single partition or a contiguous range of partitions. This range is defined from START_PID to END_PID, inclusive. The default is to dump all partitions. A non-contiguous range of partitions cannot be dumped in a single call.</p>
                     <p>The LOG_FILE_NAME parameter specifies the name of the log file written when dumping turn restriction user data partitions. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose a log file name or write to the default partitioning log file <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>The START_PID parameter is the ID of the first partition to dump. The default START_PID is 0. The START_PID must be less than or equal to END_PID.</p>
                     <p>The END_PID parameter is the ID of the last partition to dump. The default END_PID is -1, which is converted to the highest partition ID in the data set. If the start and end PID values are equal, a single partition is dumped. If END_PID is less than START_PID, an error message is written to the log.</p>
                     <p>The DUMP_SOFT_RESTRICTIONS parameter controls how the turn restriction data is dumped. In turn restrictions that have more than two edges, a soft restriction is a series of edges that partially describe the turn restriction. This is a debugging parameter and should generally be left set to its default value, FALSE.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">User Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1592"></a><div class="props_rev_3"><a id="GUID-3D1530B2-8621-48B6-9CB9-00666AE27724" name="GUID-3D1530B2-8621-48B6-9CB9-00666AE27724"></a><h4 id="SPATL-GUID-3D1530B2-8621-48B6-9CB9-00666AE27724" class="sect4"><span class="enumeration_section">E.4.4 </span>CREATE_TRUCKING_DATA Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_TRUCKING_DATA(
    LOG_FILE_NAME IN VARCHAR2 := ' sdo_router_partition.log',
    CLEANUP       IN BOOLEAN DEFAULT TRUE);
</pre><p>The CREATE_TRUCKING_DATA procedure must be run from a routing engine schema that contains the raw trucking data table ROUTER_TRANSPORT. This procedure partitions the trucking data and creates the ROUTER_TRUCKING_DATA table containing the trucking user data in BLOB format. Trucking user data creation requires access to the data version, so the SDO_ROUTER_DATA_VERSION table must exist in the routing engine schema.</p>
                     <p>The LOG_FILE_NAME parameter is the name of the log file written during trucking restriction generation. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose a log file name or use the default partitioning log file<code class="codeph"> sdo_router_partition.log</code>.
                     </p>
                     <p>The CLEANUP parameter is used for debugging. By default, all of the intermediate tables created during trucking restriction generation are cleaned up. If there is problem with trucking restriction generation, leaving these tables in place can provide substantial debugging information.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">User Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1593"></a><div class="props_rev_3"><a id="GUID-8ACFD79A-11E7-4B63-ABDD-B5B8AB059732" name="GUID-8ACFD79A-11E7-4B63-ABDD-B5B8AB059732"></a><h4 id="SPATL-GUID-8ACFD79A-11E7-4B63-ABDD-B5B8AB059732" class="sect4"><span class="enumeration_section">E.4.5 </span>DUMP_TRUCKING_DATA Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.DUMP_TRUCKING_DATA(
    LOG_FILE_NAME    IN VARCHAR2 := ' sdo_router_partition.log',
    START_PID        IN NUMBER DEFAULT 0,
    END_PID          IN NUMBER DEFAULT -1,
    SKIP_UNSUPPORTED IN BOOLEAN DEFAULT TRUE);
</pre><p>The DUMP_TRUCKING_DATA procedure dumps the contents of the trucking restriction user data partition BLOBs. This procedure unpacks a BLOB, formats the data, and writes it to a log file. A single call to this procedure can dump a single partition or a contiguous range of partitions. This range is defined from START_PID to END_PID, inclusive. The default is to dump all partitions. A non-contiguous range of partitions cannot be dumped in a single call.</p>
                     <p>The LOG_FILE_NAME parameter specifies the name of the log file written when dumping trucking restriction user data partitions. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose a log file name or write to the default partitioning log file <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>The START_PID parameter is the ID of the first partition to dump. The default START_PID is 0. The START_PID must be less than or equal to END_PID.</p>
                     <p>The END_PID parameter is the ID of the last partition to dump. The default END_PID is -1, which is converted to the highest partition ID in the data set. If the start and end PID values are equal, a single partition is dumped. If END_PID is less than START_PID, an error message is written to the log.</p>
                     <p>The SKIP_UNSUPPORTED parameter controls how the trucking restriction data is dumped. The user data contains a number of restrictions included for future work but not currently supported. Setting SKIP_UNSUPPORTED to TRUE (the default) only dumps currently supported trucking restrictions. Setting SKIP_UNSUPPORTED to FALSE causes all trucking restrictions to be dumped.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">User Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-72400A0B-3D0B-49DD-93FB-67E49193C02A" name="GUID-72400A0B-3D0B-49DD-93FB-67E49193C02A"></a><h4 id="SPATL-GUID-72400A0B-3D0B-49DD-93FB-67E49193C02A" class="sect4"><span class="enumeration_section">E.4.6 </span>CREATE_TIMEZONE_DATA Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.CREATE_TIMEZONE_DATA(
    LOG_FILE_NAME IN VARCHAR2 := 'sdo_router_partition.log',
    CLEANUP       IN BOOLEAN DEFAULT TRUE);
</pre><p>The CREATE_TIMEZONE_DATA procedure creates the user data for the <a href="routing-engine-concepts.html#GUID-1A51B267-E86F-4D85-94C5-0DA1226A744D">ROUTER_TIMEZONE_DATA Table</a>. It should also be run every time that the data is repartitioned.
                     </p>
                     <p>The LOG_FILE_NAME parameter is the name of the log file written during the operation. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose a log file name or use the default partitioning log file <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>The CLEANUP parameter is used for debugging. By default, all of the intermediate tables created during the operation are cleaned up. If there is problem with the operation, leaving these tables in place can provide substantial debugging information.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">User Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7B05372C-9538-49F1-BCF5-CB243F426E10" name="GUID-7B05372C-9538-49F1-BCF5-CB243F426E10"></a><h4 id="SPATL-GUID-7B05372C-9538-49F1-BCF5-CB243F426E10" class="sect4"><span class="enumeration_section">E.4.7 </span>DUMP_TIMEZONE_DATA Procedure
                  </h4>
                  <div>
                     <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">SDO_ROUTER_PARTITION.DUMP_TIMEZONE_DATA(
    LOG_FILE_NAME    IN VARCHAR2 := ' sdo_router_partition.log',
    START_PID        IN NUMBER DEFAULT 0,
    END_PID          IN NUMBER DEFAULT -1);
</pre><p>The DUMP_TIMEZONE_DATA procedure dumps the contents of the time zone data partition BLOBs. This procedure unpacks a BLOB, formats the data, and writes it to a log file. A single call to this procedure can dump a single partition or a contiguous range of partitions. This range is defined from START_PID to END_PID, inclusive. The default is to dump all partitions. A non-contiguous range of partitions cannot be dumped in a single call.</p>
                     <p>The LOG_FILE_NAME parameter specifies the name of the log file written when dumping time zone user data partitions. This log file is created in the SDO_ROUTER_LOG_DIR directory. You can choose a log file name or write to the default partitioning log file <code class="codeph">sdo_router_partition.log</code>.
                     </p>
                     <p>The START_PID parameter is the ID of the first partition to dump. The default START_PID is 0. The START_PID must be less than or equal to END_PID.</p>
                     <p>The END_PID parameter is the ID of the last partition to dump. The default END_PID is -1, which is converted to the highest partition ID in the data set. If the start and end PID values are equal, a single partition is dumped. If END_PID is less than START_PID, an error message is written to the log.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">User Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1594"></a><div class="props_rev_3"><a id="GUID-B837EF74-6013-45E0-B599-4C6F306D898C" name="GUID-B837EF74-6013-45E0-B599-4C6F306D898C"></a><h4 id="SPATL-GUID-B837EF74-6013-45E0-B599-4C6F306D898C" class="sect4"><span class="enumeration_section">E.4.8 </span>User Data Examples
                  </h4>
                  <div>
                     <p>This section presents examples of operations involving user data. The data set in these examples is the road network data for a radius of 100 miles around the center of San Francisco. This data set contains about 520,000 nodes and 1,200,00 edges, including 82,000 edges with truck restrictions and 30,000 edges with restricted driving maneuvers.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2">Rebuilding the Turn Restriction User Data</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C">Dumping All Hard Turn Restriction User Data BLOBs</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-B668F2FA-D686-474B-87CB-B80026990892">Rebuilding the Trucking User Data</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-EC397410-F283-4011-8D0F-ABC41908FA47">Dumping the Trucking User Data Restrictions</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1">Rebuilding the Time Zone User Data</a><br></li>
                        <li class="ulchildlink"><a href="routing-engine-administration.html#GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D">Dumping All Time Zone User Data BLOBs</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-017D8448-E91E-409E-A13B-4517FCB36238">User Data</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SPATL1596"></a><a id="SPATL1595"></a><div class="props_rev_3"><a id="GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2" name="GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2"></a><h5 id="SPATL-GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2" class="sect5"><span class="enumeration_section">E.4.8.1 </span>Rebuilding the Turn Restriction User Data
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2__CACCEEIG">Example E-8</a> rebuilds the turn restriction user data. Because cleanup is set to FALSE, the intermediate tables used to rebuild the turn restriction user data will not be deleted. (To delete these tables execute the SDO_ROUTER_PARTITION.<a href="routing-engine-administration.html#GUID-C090BCBF-0E8B-4D0F-AED9-9627BAE33AFD">CLEANUP_ROUTER Procedure</a>.)
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-4AD407F1-CB69-4E56-86DF-D224BB020BC2__CACCEEIG">
                           <p class="titleinexample">Example E-8 Rebuilding the Turn Restriction User Data</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.CREATE_TURN_RESTRICTION_DATA('rebuild_turn_restriction_data.log', FALSE);

******** Begin generation of turn restriction user data
** Logfile location: /scratch/logs/rebuild_turn_restriction_data.log
[INFO] Generating turn restriction user data for 995 partitions, data version (12.1.0.1.2)
 
[INFO] SQL String: CREATE TABLE new_turn_restriction_data(partition_id NUMBER, num_edges NUMBER, turn_restriction_data BLOB) LOB(turn_restriction_data) STORE AS (STORAGE (INITIAL 512K NEXT 128K MAXEXTENTS UNLIMITED) CHUNK 32768 NOCACHE NOLOGGING)
[INFO] ---- Writing 573 edges for partition 0
[INFO] ---- Writing 16 edges for partition 1
[INFO] ---- Writing 10 edges for partition 2
 
*** Note that partition 3 contains no turn restriction user data
 
[INFO] ---- Writing 8 edges for partition 4
[INFO] ---- Writing 23 edges for partition 5
[INFO] ---- Writing 39 edges for partition 6
*** Many more Writing partition messages
[INFO] ---- Writing 4 edges for partition 1023
[INFO] ---- Writing 11 edges for partition 1024
 
INFO: creating the final turn restriction user data table
INFO: create index rtrud_p_idx on router_turn_restriction_data table
******** Completed generation of turn restriction user data</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">User Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1598"></a><a id="SPATL1597"></a><div class="props_rev_3"><a id="GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C" name="GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C"></a><h5 id="SPATL-GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C" class="sect5"><span class="enumeration_section">E.4.8.2 </span>Dumping All Hard Turn Restriction User Data BLOBs
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C__CACGDFII">Example E-9</a> dumps all of the hard turn restriction user data BLOBs. (Dumping soft restrictions produces much larger dump files and is only useful when debugging problems in the turn restrictions constraints.)
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C__CACGDFII">
                           <p class="titleinexample">Example E-9 Dumping All Hard Turn Restriction User Data BLOBs</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_TURN_RESTRICTION_DATA('dump_all_turn_restrictions.log');

******** Beginning turn restriction dump
** Logfile location: /scratch/logs/dump_all_turn_restrictions.log
** Routeserver data version: 12.1.0.1.2                  <span class="bold">(A)</span>
** Start partition id: 0
** End partition id: 1024
** Dumping soft restrictions: FALSE

Starting turn restriction dump for partition 0, blob length 19956 bytes
  Data version: 12.1.0.1.2
  Partition 0 has 573 edges with turn restrictions       <span class="bold">(B)</span>
    edge id -937799058 has 1 turn restrictions
      Restriction Type/Attributes: Hard/None
      AppliesTo(959): Trucks, Through Traffic, Taxies, Motorcycles,
                      Emergency Vehicles, Delivery Vehicles, Carpools,
                      Buses, Automobiles
      Subpath(1): 24501308
    *******************************
    edge id -936524317 has 2 turn restrictions           <span class="bold">(C)</span>
      Restriction Type/Attributes: Hard/None
      AppliesTo(943): Trucks, Through Traffic, Taxies, Motorcycles,
                      Delivery Vehicles, Carpools, Buses, Automobiles
      Subpath(1): -724922777
      -------
      Restriction Type/Attributes: Hard/None
      AppliesTo(959): Trucks, Through Traffic, Taxies, Motorcycles,
                      Emergency Vehicles, Delivery Vehicles, Carpools,
                      Buses, Automobiles
      Subpath(1): 936524317
    *******************************
    edge id -932185370 has 2 turn restrictions
      Restriction Type/Attributes: Hard/None
      AppliesTo(1023): All Vehicles
      Subpath(1): 836074944                              
      -------
      Restriction Type/Attributes: Hard/None
      AppliesTo(1023): All Vehicles
      Subpath(1): -24638792
    *******************************
    edge id 834380593 has 1 turn restrictions            <span class="bold">(D)</span>
      Restriction Type/Attributes: Hard/None
      AppliesTo(943): Trucks, Through Traffic, Taxies, Motorcycles,
                      Delivery Vehicles, Carpools, Buses, Automobiles
      Subpath(4): 112065672, -112065610, -112008660, -834380591
    *******************************

*** Dump of the remaining restrictions in Partition 0
Starting turn restriction dump for partition 1, blob length 520 bytes
  Partition 1 has 16 edges with turn restrictions        <span class="bold">(E)</span>
    edge id -806530190 has 1 turn restrictions      
      Restriction Type/Attributes: Hard/None
      AppliesTo(703): Trucks, Taxies, Motorcycles, Emergency Vehicles,
                      Delivery Vehicles, Carpools, Buses, Automobiles
      Subpath(1): 120865027
    *******************************
*** Dump of the remaining restrictions in Partition 1 through 1024
</pre><p>In <a href="routing-engine-administration.html#GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C__CACGDFII">Example E-9</a>:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">(A)</span>: The standard user dump header contains the location of the log file and the parameters used in the dump. It also contains the routing engine data version as queried from the SDO_ROUTER_DATA_VERSION table. This data version must match the data version stored in the header of the partition 0 BLOB. 
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">(B)</span>: In the BLOB header section for the partition 0 BLOB, all turn restriction user data BLOB headers contain the partition ID, length of the BLOB in bytes, and number of edges with turn restrictions on them. The BLOB header for partition 0 also contains the user data version. This version must match the data version found in the SDO_ROUTER_DATA_VERSION table.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">(C)</span>: In the dump of the turn restrictions for edge -936524317., this edge has two simple turn restrictions associated with it. Both restrictions are simple turn restrictions that do not allow movement from the single edge in the subpath to edge -936524317. Also note the difference in the vehicles to which the restrictions apply: the first restriction does not apply to emergency vehicles, but the second restriction does apply to emergency vehicles.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">(D)</span>: Edge 834380593 has only one turn restriction, but the restriction being described is much more complicated than a simple turn. If the subpath immediately previous to edge 834380593 matches the subpath that starts at edge -834380591 and goes through edges -112008660, -112065610, 112065672 in precisely that order, then the maneuver is not allowed. If the subpath to the current edge is missing one of the listed subpath edges or if the edges in the subpath are in a different order, then the maneuver is allowed.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">(E)</span>: In the BLOB header for local partitions, all turn restriction user data BLOB headers contain the partition ID, length of the BLOB in bytes, and number of edges with turn restrictions on them.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">User Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1600"></a><a id="SPATL1599"></a><div class="props_rev_3"><a id="GUID-B668F2FA-D686-474B-87CB-B80026990892" name="GUID-B668F2FA-D686-474B-87CB-B80026990892"></a><h5 id="SPATL-GUID-B668F2FA-D686-474B-87CB-B80026990892" class="sect5"><span class="enumeration_section">E.4.8.3 </span>Rebuilding the Trucking User Data
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-B668F2FA-D686-474B-87CB-B80026990892__CACDIEHJ">Example E-10</a> rebuilds the trucking user data. Since cleanup is using the default value of TRUE the intermediate tables used to rebuild the turn restriction user data are deleted when the build completes.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-B668F2FA-D686-474B-87CB-B80026990892__CACDIEHJ">
                           <p class="titleinexample">Example E-10 Rebuilding the Trucking User Data</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.CREATE_TRUCKING_DATA('rebuild_trucking_data.log');
******** Begin generation of trucking user data
** Logfile location:/scratch/logs/rebuild_trucking_data.log
[INFO] Generating trucking user data for <span class="bold">974 partitions</span>, 
data version (12.1.0.1.2)                                <span class="bold">(A)</span>
 
[INFO] SQL String: CREATE TABLE new_trucking_data
(partition_id NUMBER, num_edges NUMBER, trucking_data BLOB) LOB(trucking_data) STORE AS (STORAGE (INITIAL 512K NEXT 128K MAXEXTENTS UNLIMITED) CHUNK 32768 NOCACHE NOLOGGING)

INFO: creating the final trucking user data table
INFO: create index rtud_p_idx on router_trucking_data table
******** Completed generation of trucking user data
</pre><p>In <a href="routing-engine-administration.html#GUID-B668F2FA-D686-474B-87CB-B80026990892__CACDIEHJ">Example E-10</a>:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">(A)</span>: Note that there are only 974 partitions of trucking user data compared to the 1023 local partitions (see the output in <a href="routing-engine-administration.html#GUID-3AEC6EF4-1D09-486E-B014-05BCC2F0303C__CACGDFII">Example E-9</a>) of routing engine data. If a partition is missing in the user data output, this means there is no trucking data for the associated routing engine data partition.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">User Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL1602"></a><a id="SPATL1601"></a><div class="props_rev_3"><a id="GUID-EC397410-F283-4011-8D0F-ABC41908FA47" name="GUID-EC397410-F283-4011-8D0F-ABC41908FA47"></a><h5 id="SPATL-GUID-EC397410-F283-4011-8D0F-ABC41908FA47" class="sect5"><span class="enumeration_section">E.4.8.4 </span>Dumping the Trucking User Data Restrictions
                     </h5>
                     <div>
                        <div class="section">
                           <p><a href="routing-engine-administration.html#GUID-EC397410-F283-4011-8D0F-ABC41908FA47__CACECBGJ">Example E-11</a> dumps the trucking user data restrictions. This example dumps the supported restrictions for partitions 0 through 25. In the dump, Main Type is type of restriction, Subtype is the reason for the restriction, and Value is the means to measure the restriction. For example, a height restriction is a Main Type, the Subtype can be a thing like Bridge or Tunnel or can be Unknown, and Value can be a measure (always metric) like meters for height and width or metric tons for weight. Value can also be 0 for some restrictions (for example legal restrictions) that cannot be physically measured.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-EC397410-F283-4011-8D0F-ABC41908FA47__CACECBGJ">
                           <p class="titleinexample">Example E-11 Dumping the Trucking User Data Restrictions</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_TRUCKING_DATA('dump_trucking_data0-25.log', 0, 25);

******** Beginning trucking data dump
** Logfile location: /scratch/logs/dump_trucking_data0-25.log
** Routeserver data version: 12.1.0.1.2                  <span class="bold">(A)</span>
** Start partition id: 0
** End partition id: 25

Starting truck data dump for partition 0, blob length 1019048 bytes
  Data version: 12.1.0.1.2
  Partition 0 has 21808 edges with truck data            <span class="bold">(B)</span>
    edge id -939054768 has 4 truck restrictions
      Main Type(10): Physical Height Restriction
      Sub-type(99): Unknown
      Value: 4.65
    *******************************
    edge id -854677940 has 3 truck restrictions
      Main Type(10): Physical Height Restriction
      Sub-type(1): Bridge
      Value: 4.67
    *******************************
    edge id -929320205 has 4 truck restrictions          <span class="bold">(C)</span>
      Main Type(10): Physical Height Restriction
      Sub-type(2): Tunnel
      Value: 4.27
      -------
      Main Type(20): Physical Weight Restriction
      Sub-type(99): Unknown
      Value: 4.08
    *******************************

*** The rest of the trucking data for edges in partition 0

Starting truck data dump for partition 2, blob length 296 bytes
                                                         <span class="bold">(D)</span>

Starting truck data dump for partition 3, blob length 3272 bytes
  Partition 3 has 91 edges with truck data
    edge id -811551125 has 1 truck restrictions
      Main Type(50): Legal Restriction
      Sub-type(22): All trailers forbidden
      Value: 0.0
    *******************************
    edge id 105439903 has 1 truck restrictions
      Main Type(20): Physical Weight Restriction
      Sub-type(99): Unknown
      Value: 9.07
    *******************************
    edge id -105491810 has 1 truck restrictions          <span class="bold">(E)</span>
      Main Type(50): Legal Restriction
      Sub-type(21): All trucks forbidden
      Value: 0.0
    *******************************
    edge id -105449802 has 1 truck restrictions
      Main Type(50): Legal Restriction
      Sub-type(26): All trucks forbidden except deliveries and residents
      Value: 0.0
    *******************************

 *** The rest of the trucking data for edges in partitions 3 through 25
</pre><p>In <a href="routing-engine-administration.html#GUID-EC397410-F283-4011-8D0F-ABC41908FA47__CACECBGJ">Example E-11</a>:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">(A)</span>: The standard user dump header contains the location of the log file and the parameters used in the dump. It also contains the routing engine data version as queried from the SDO_ROUTER_DATA_VERSION table. This data version must match the data version stored in the header of the partition 0 BLOB.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">(B)</span>: In the BLOB header section for the partition 0 BLOB, all turn restriction user data BLOB headers contain the partition ID, length of the BLOB in bytes, and number of edges with turn restrictions on them. The BLOB header for partition 0 also contains the user data version. This version must match the data version found in the SDO_ROUTER_DATA_VERSION table.
                                 </p>
                                 <p>Edge -939054768 is listed as having 4 truck restrictions, but only one is listed. The other three restrictions are there, but are currently unsupported in the routing engine. To see these restrictions, set the SKIP_UNSUPPORTED to FALSE when requesting the dump.</p>
                                 <p>For edge -929320205 the Height restriction is because of a Bridge. Edge -939054768 also has a Height restriction, but there is no Subtype specified to explain why.</p>
                              </li>
                              <li>
                                 <p><span class="bold">(C)</span>: This is an example of an edge that has multiple restrictions on it, in this case both a height and weight restriction expressed in meters and metric tons. 
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">(D)</span>: Two things to note here: (1) partition 1 is missing, which means there is no trucking user data for partition 1; and (2) a partition header was printed for partition 2 but there is no data dumped, which means that there are trucking restrictions for partition 2 but the routing engine currently supports none of them.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">(E)</span>: This is an example of two kinds of legal restrictions that can be modeled. (1) Edge -105491810 is an example of an exclusive legal restriction. There is a legal restriction on the edge that forbids all trucks. (2) Edge -105449802 is an example of an inclusive legal restriction. There is a legal restriction that excludes trucks on the edge but also lists an exception for delivery and resident trucks.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">User Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1" name="GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1"></a><h5 id="SPATL-GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1" class="sect5"><span class="enumeration_section">E.4.8.5 </span>Rebuilding the Time Zone User Data
                     </h5>
                     <div>
                        <div class="section">
                           <p>The following example rebuilds the time zone user data. Before building the time zones user data, make sure that the SDO_TIMEZONES table exists in the data set. This table can be imported from the Oracle Router demo directory.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-9F1B71D5-512C-4A24-8389-28CE0FDEC1E1__REBUILDINGTHETRUCKINGUSERDATA-451CCE90">
                           <p class="titleinexample">Example E-12 Rebuilding the Time Zone User Data</p><pre class="oac_no_warn" dir="ltr">-- 1) Create a spatial index on the SDO_TIMEZONES table.

EXEC SDO_ROUTER_TIMEZONE.CREATE_SDO_TIMEZONES_INDEX(create_timezone_index.log);

******** Begin indexing of the sdo_timezones table
** Logfile location: /scratch/logs/create_timezone_index.log
[INFO] Creating metadata and spatial index on sdo_timezones for HERE_SF
[INFO] Added metadata for sdo_timezones to user_sdo_geom_metadata
[INFO] Rebuilding the spatial index on node table 
[INFO] Added metadata for node to user_sdo_geom_metadata

-- 2) Associate the edges in the data set with their correct time zone.

EXEC SDO_ROUTER_TIMEZONE.CREATE_ROUTER_TIMEZONES_EDGES('create_router_timezone_edges.log);

******** Begin generation of router_timezones_edges (timezones raw data)
** Logfile location: /scratch/logs/create_router_timezone_edges.log
[INFO] Creating router_timezones_edges table for HERE_SF
[INFO] Associate nodes to timezones
[INFO] Dropped metadata for router_timezones_nodes from user_sdo_geom_metadata
[INFO] Added metadata for router_timezones_nodes to user_sdo_geom_metadata
[INFO] Creating node id index on the router_timezones_nodes table
[INFO] Creating spatial index on the router_timezones_nodes table
[INFO] Associate orphan nodes to timezone polygons
[INFO] Duplicate node cleanup
[INFO] Associate edges to timezones
[INFO] Creating edge id index on the router_timezones_edges table
[INFO] Creating partition id index on the router_timezones_edges table
[INFO] Creating timezone id index on the router_timezones_edges table
******** Completed generation of router_timezones_edges

-- 3) Create the actual Router time zone user data.

EXEC SDO_ROUTER_PARTITION.CREATE_TIMEZONE_DATA('rebuild_timezone_data.log);

******** Begin generation of timezone user data
** Logfile location: /scratch/logs/rebuild_timezone_data.log
[INFO] Generating timezone user data for 65 partitions, data version (12.2.0.0.0)
[INFO] SQL String: CREATE TABLE new_timezone_data(partition_id NUMBER, num_edges NUMBER, timezone_data BLOB) LOB(timezone_data) STORE AS (STORAGE (INITIAL 512K NEXT 128K MAXEXTENTS UNLIMITED) CHUNK 32768 NOCACHE NOLOGGING)
[INFO] ---- Writing 3096 timezones for partition 0
[INFO] ---- Writing 2063 timezones for partition 1
[INFO] ---- Writing 1961 timezones for partition 2
[INFO] ---- Writing 2281 timezones for partition 3


[INFO] ---- Writing 1839 timezones for partition 64
INFO: creating the final timezone user data table
INFO: create index rtd_p_idx on router_timezone_data table
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">User Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D" name="GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D"></a><h5 id="SPATL-GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D" class="sect5"><span class="enumeration_section">E.4.8.6 </span>Dumping All Time Zone User Data BLOBs
                     </h5>
                     <div>
                        <div class="section">
                           <p>The following example dumps all time zone user data BLOBs.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-0BA45F22-ABDC-454B-9CAD-4C45CD19689D__DUMPINGALLTIMEZONEUSERDATABLOBS-451DBB63">
                           <p class="titleinexample">Example E-13 Dumping All Time Zone User Data BLOBs</p><pre class="oac_no_warn" dir="ltr">EXEC SDO_ROUTER_PARTITION.DUMP_TIMEZONE_DATA('dump_timezone_data.log');

Starting timezone user data dump for partition 0, blob length 30992 bytes
  Data version: 12.2.0.0.0
  Partition 0 has 3096 edges with timezone user data
    edge id/Timezone -960842086/America/Los_Angeles(0)
    edge id/Timezone -960842085/America/Los_Angeles(0)
    edge id/Timezone -958443422/America/Los_Angeles(0)


Starting timezone user data dump for partition 64, blob length 18398 bytes
  Partition 64 has 1839 edges with timezone user data
    edge id/Timezone -961912976/America/Los_Angeles(0)
    edge id/Timezone -961912975/America/Los_Angeles(0)
    edge id/Timezone -958078848/America/Los_Angeles(0)


</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-B837EF74-6013-45E0-B599-4C6F306D898C">User Data Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="SPATL1603"></a><div class="props_rev_3"><a id="GUID-32CC3FB3-273E-40D4-B05C-8B3CE3395945" name="GUID-32CC3FB3-273E-40D4-B05C-8B3CE3395945"></a><h3 id="SPATL-GUID-32CC3FB3-273E-40D4-B05C-8B3CE3395945" class="sect3"><span class="enumeration_section">E.5 </span>Other Functions and Procedures
               </h3>
               <div>
                  <p>The following functions and procedures are for internal use by the routing engine during the partitioning process. You should not call them directly unless instructed to by Oracle Support.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>GET_PID: Used to get partition ids during partitioning.</p>
                     </li>
                     <li>
                        <p>MIN_EIGENVECTOR: Eigenvector used during partitioning.</p>
                     </li>
                     <li>
                        <p>GATHER_TABLE_STATS: Deprecated. Used to rebuild table and index statistics.</p>
                     </li>
                     <li>
                        <p>All ELOCATION_*: Wrappers for Java code used in partitioning.</p>
                     </li>
                     <li>
                        <p>BUILD_TURN_RESTRICTIONS Deprecated. Used to build Release 11<span class="italic">g</span> turn restrictions.
                        </p>
                     </li>
                     <li>
                        <p>GET_EDGE_INFO: Collects edge information for building driving directions for a route.</p>
                     </li>
                     <li>
                        <p>GET_GEOMETRY_INFO: Builds the line string geometry for a route.</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="routing-engine-administration.html#GUID-ED1682F6-EEC2-4080-A29A-269CD89DEB4F" title="This appendix is for advanced users who need to administer the routing engine. It is not intended for most routing users.">Routing Engine Administration</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>