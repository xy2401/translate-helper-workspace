<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Flex ASM enables Oracle ASM instances to run on a separate physical server from the database servers.">
      <meta name="description" content="Oracle Flex ASM enables Oracle ASM instances to run on a separate physical server from the database servers.">
      <title>Managing Oracle Flex ASM</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="Oracle Flex ASM enables Oracle ASM instances to run on a separate physical server from the database servers.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96198-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configure-acfs-replication.html" title="Previous" type="text/html">
      <link rel="next" href="administer-filter-driver.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OSTMG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configure-acfs-replication.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="administer-filter-driver.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-advanced-topics.html" property="item" typeof="WebPage"><span property="name">Advanced Topics</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing Oracle Flex ASM</li>
            </ol>
            <a id="GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" name="GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30"></a>
            
            <h2 id="OSTMG-GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30" class="sect2"><span class="enumeration_chapter">19 </span>Managing Oracle Flex ASM
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Flex ASM enables Oracle ASM instances to run on a separate physical server from the database servers.</p>
               <p>This section discusses Oracle Flex ASM in the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6">Overview of Oracle Flex ASM</a></p>
                  </li>
                  <li>
                     <p><a href="manage-flex-asm.html#GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8">About Setting Up Oracle Flex ASM</a></p>
                  </li>
                  <li>
                     <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0">Administering Oracle Flex ASM</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-DE759521-9CF3-45D9-9123-7159C9ED4D30__GUID-BCEB133D-10A2-4BA6-9B57-ED7B97B915EF">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="../cwadd/oracle-flex-clusters.html#CWADD92401" target="_blank"><span class="italic"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></span></a> for information about Oracle Flex Cluster support
                        </p>
                     </li>
                     <li>
                        <p>Articles at <a href="https://support.oracle.com" target="_blank">My Oracle Support</a> (<a href="https://support.oracle.com" target="_blank"><code class="codeph">https://support.oracle.com</code></a>) for information about configuring Oracle Flex ASM with Oracle ASM and Oracle ACFS
                        </p>
                     </li>
                     <li>
                        <p><a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="This topic provides a summary of the ASMCMD member cluster management commands that are used with Oracle ASM remote instances.">ASMCMD Member Cluster Management Commands</a> for information about ASMCMD commands to manage member clusters
                        </p>
                     </li>
                     <li>
                        <p> <a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for information about installing and upgrading Oracle Grid Infrastructure
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="OSTMG104"></a><a id="OSTMG95646"></a><a id="OSTMG95645"></a><div class="props_rev_3"><a id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6" name="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6"></a><h3 id="OSTMG-GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6" class="sect3">Overview of Oracle Flex ASM</h3>
               <div>
                  <p>Oracle Flex ASM enables an Oracle ASM instance to run on a separate physical server from the database servers. With this deployment, larger clusters of Oracle ASM instances can support more database clients while reducing the Oracle ASM footprint for the overall system.</p>
                  <p>When using Oracle Flex ASM, Oracle ASM clients are configured with direct access to storage.</p>
                  <p>With Oracle Flex ASM, you can consolidate all the storage requirements into a single set of disk groups. All these disk groups are mounted by and managed by a small set of Oracle ASM instances running in a single cluster. You can specify the number of Oracle ASM instances with a cardinality setting. The default is three instances.</p>
                  <p>A cluster is a set of nodes that provide group membership services. Each cluster has a name that is globally unique. Every cluster has one or more Hub nodes. The Hub nodes have access to Oracle ASM disks. Every cluster has at least one private network and one public network. If the cluster is going to use Oracle ASM for storage, it has at least one Oracle ASM network. A single network can be used as both a private and an Oracle ASM network. For security reasons, an Oracle ASM network should never be public. There can be only one Oracle Flex ASM configuration running within a cluster.</p>
                  <p>An Oracle ASM instance can operate in several configurations in Oracle Flex ASM:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Local Oracle ASM clients with direct access to Oracle ASM disks (Standard Oracle ASM cluster)</p>
                     </li>
                     <li>
                        <p>Oracle Flex ASM clients with direct access to Oracle ASM disks</p>
                     </li>
                     <li>
                        <p>Oracle ACFS access through the Oracle ASM proxy instance</p>
                     </li>
                     <li>
                        <p>Network-based connectivity to Oracle ASM disk groups with Oracle IOServer (IOS)</p>
                     </li>
                  </ul>
                  <p>These configurations are illustrated in <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">Figure 19-1</a>, <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDCDBDJ">Figure 19-2</a>, and <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-A1886105-12E5-4DFB-BCB0-438F8EF19BFB">Figure 19-3</a>.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-B1DF476C-21BB-49AA-8499-3ABD3807A211">Local Oracle ASM clients with direct access to Oracle ASM disks (Standard Oracle ASM cluster)</p>
                     <p>With this mode, illustrated as <span class="bold">Hub Node A</span> in <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">Figure 19-1</a>, Oracle ASM continues to support existing standard architecture in which database clients are running with an Oracle ASM instance on the same host computer. The local client architecture is only supported on a Hub node. 
                     </p>
                     <div class="figure" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">
                        <p class="titleinfigure">Figure 19-1 Oracle Flex ASM Client Configurations</p><img src="img/ostmg012.png" width="504" alt="Description of Figure 19-1 follows" title="Description of Figure 19-1 follows" longdesc="img_text/ostmg012.html"><br><a href="img_text/ostmg012.html">Description of "Figure 19-1 Oracle Flex ASM Client Configurations"</a></div>
                     <!-- class="figure" -->
                     <p>In this configuration, the database instances are on the same Hub node as the Oracle ASM instance and are referred to as local Oracle ASM client instances. Oracle ASM metadata moves between Oracle ASM and the database instances. This client has direct I/O access to Oracle ASM disks. </p>
                     <p>Local mode does not use Oracle Flex ASM, so clusters configured with local Oracle ASM do not require an Oracle ASM network, nor do they contain other Oracle Flex ASM services.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-DA1B2FF4-3C62-486D-8B0A-FD9975194F15">Oracle Flex ASM clients with direct access to Oracle ASM disks</p>
                     <p>With this mode, illustrated as <span class="bold">Hub Node B</span> in <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">Figure 19-1</a>, database clients that are running on Hub nodes of the Oracle ASM cluster access Oracle ASM remotely for metadata, but perform block I/O operations directly to Oracle ASM disks. The hosts running the Oracle ASM server and the remote database client must both be Hub nodes. A Hub node is a node in an Oracle ASM cluster that is tightly connected with other servers and has direct access to a shared disk. 
                     </p>
                     <p>In this configuration, the database instances are on different host computers than the nearby Oracle ASM instance, as shown on <span class="bold">Hub Node C</span> in <a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDGHCBA">Figure 19-1</a>, and are referred to as Oracle ASM client instances. 
                     </p>
                     <p>The databases are in the same Oracle ASM cluster as the Oracle ASM instance and the database instances are located on a Hub node. Oracle ASM metadata moves between Oracle ASM and the database instance. This client has direct I/O access to Oracle ASM disks. </p>
                     <p>Depending on the distribution of database instances and Oracle ASM instances, a database client may access Oracle ASM locally on the same node or remotely over the Oracle ASM network. This mode of operation is used by database clients on Hub nodes in the Oracle ASM cluster. Direct access mode is also the only Oracle Flex ASM configuration supported by Oracle ASM cluster file system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-50382980-0D87-4E06-9588-F2A8C089EC57">Oracle ACFS access through the Oracle ASM proxy instance</p>
                     <p>An Oracle ASM proxy instance is an Oracle instance running on a Hub node with a direct Oracle ASM client. An Oracle ASM proxy instance provides support for Oracle Automatic Storage Management Cluster File System (Oracle ACFS) and Oracle ASM Dynamic Volume Manager (Oracle ADVM).</p>
                     <p><a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDCDBDJ">Figure 19-2</a> shows the configuration of Oracle ACFS and Oracle ADVM with an Oracle ASM Proxy server in Oracle Flex ASM.
                     </p>
                     <div class="figure" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__CHDCDBDJ">
                        <p class="titleinfigure">Figure 19-2 Oracle ACFS and Oracle ADVM in Oracle Flex ASM Configuration</p><img src="img/ostmg011.png" width="512" alt="Description of Figure 19-2 follows" title="Description of Figure 19-2 follows" longdesc="img_text/ostmg011.html"><br><a href="img_text/ostmg011.html">Description of "Figure 19-2 Oracle ACFS and Oracle ADVM in Oracle Flex ASM Configuration"</a></div>
                     <!-- class="figure" -->
                     <p>The <code class="codeph">INSTANCE_TYPE</code> initialization parameter is set to <code class="codeph">ASMPROXY</code> for Oracle ASM proxy instances.
                     </p>
                     <p>Oracle ACFS can also be used as a method of storage access for InDirect Storage Member Clusters. For information, refer to <a href="understand-acfs-concepts.html#GUID-484DA891-48DD-495C-8FEB-99C151705B32">About Oracle ACFS in the Cluster Domain</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-CD0FE709-11DE-4F6B-AB81-0DEDF8F14277">Network-based connectivity to Oracle ASM disk groups with Oracle IOServer (IOS)</p>
                     <p>An Oracle IOServer (IOS) instance provides Oracle ASM file access for Oracle Database instances on nodes of Oracle member clusters that do not have connectivity to Oracle ASM managed disks. For member clusters that do have connectivity to Oracle ASM managed disks, IOServer could be configured as a backup in the event of failure. An Oracle IOServer instance is used only with Oracle member clusters. </p>
                     <p><a href="manage-flex-asm.html#GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-A1886105-12E5-4DFB-BCB0-438F8EF19BFB">Figure 19-3</a>  shows the relationship of Oracle IOServer and an Oracle Database in a member cluster.
                     </p>
                     <div class="figure" id="GUID-545C311D-24C6-421A-ACBE-CA29E1FDA0A6__GUID-A1886105-12E5-4DFB-BCB0-438F8EF19BFB">
                        <p class="titleinfigure">Figure 19-3 Oracle IOServer Configuration</p><img src="img/ostmg014.png" alt="Description of Figure 19-3 follows" title="Description of Figure 19-3 follows" longdesc="img_text/ostmg014.html"><br><a href="img_text/ostmg014.html">Description of "Figure 19-3 Oracle IOServer Configuration"</a></div>
                     <!-- class="figure" -->
                     <p>In addition, IOS enables you to configure client clusters on such nodes. On the storage cluster, an IOServer instance opens up network ports to which clients send their IO. The IOServer instance receives data packets from the client and performs the appropriate IO to Oracle ASM disks similar to any other database client. On the client side, databases can use dNFS to communicate with an IOServer instance. However, there is no client side configuration so you are not required to provide a server IP address or any additional configuration information. On nodes and clusters that are configured to access Oracle ASM files through IOServer, the discovery of the Oracle IOS instance occurs automatically. </p>
                     <p>The IOS instance contains the following processes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Network processes: These processes open up network ports and receive dNFS requests from the client side. These requests are then placed in a queue for IO and Identifier processes to pick up and process. Network processes also pick up responses from those other types of processes and send the response back to the client.</p>
                        </li>
                        <li>
                           <p>Identifier processes: These processes pick up dNFS requests to create, delete, identify, unidentify, and resize Oracle ASM files.</p>
                        </li>
                        <li>
                           <p>IO processes: These processes perform the actual IO on files that are identified by the local IOS instance.</p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">ASM_IO_PROCESSES</code> initialization parameter specifies the number of IO worker processes to be started in an Oracle IO server instance. For information about the <code class="codeph">ASM_IO_PROCESSES</code> initialization parameter, refer to <a href="init-params-asm-instance.html#GUID-A793E8DC-FB4E-4A66-A81C-BE339A5F7A35" title="The ASM_IO_PROCESSES initialization parameter specifies the number of IO worker processes to be started in an Oracle IOServer (IOS) server instance.">ASM_IO_PROCESSES</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OSTMG105"></a><div class="props_rev_3"><a id="GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8" name="GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8"></a><h3 id="OSTMG-GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8" class="sect3">About Setting Up Oracle Flex ASM</h3>
               <div>
                  <p>To install an Oracle Flex ASM deployment, categorize the networks and choose the list of networks for use as Oracle ASM networks.</p>
                  <p>If you choose Oracle Flex ASM during a new installation, OUI requires you to choose the Oracle ASM networks.</p>
                  <p>The Oracle ASM listener resource is automatically created for each Oracle ASM network and then started on all nodes.</p>
                  <div class="infoboxnotealso" id="GUID-25C4837E-FA4C-42CC-B90E-5A85FB7CADC8__GUID-1E8950DD-36BC-4C1C-ADDB-78A30E5E1CB9">
                     <p class="notep1">See Also:</p>
                     <p><a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Grid Infrastructure Installation Guide</span></a> for information about Oracle Clusterware installation
                     </p>
                  </div>
               </div>
            </div><a id="OSTMG106"></a><div class="props_rev_3"><a id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0" name="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0"></a><h3 id="OSTMG-GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0" class="sect3">Administering Oracle Flex ASM</h3>
               <div>
                  <p>Oracle Flex ASM components are administered with ASMCA, ASMCMD CRSCTL, SQL*Plus, and SRVCTL. In addition, you can set the <code class="codeph">INSTANCE_TYPE</code> initialization parameter to specific instance types for use with Oracle Flex ASM.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__DISPLAYINGINFORMATIONABOUTORACLEFLE-0F1770D8">Displaying Information About Oracle Flex ASM</a></p>
                     </li>
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__SRVCTLANDCRSCTLCOMMANDSTOADMINISTER-0F1774CF">SRVCTL and CRSCTL Commands to Administer Oracle Flex ASM</a></p>
                     </li>
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__RELOCATINGACLIENTWITHALTERSYSTEM-0F17787C">Relocating a Client With ALTER SYSTEM</a></p>
                     </li>
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__ASMCMDCOMMANDSTOMANAGEMEMBERCLUSTER-0F177AF8">ASMCMD Commands to Manage Member Clusters</a></p>
                     </li>
                     <li>
                        <p><a href="manage-flex-asm.html#GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__INITIALIZATIONPARAMETERSFORORACLEFL-0F177DBB">Initialization Parameters for Oracle Flex ASM</a></p>
                     </li>
                  </ul>
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__DISPLAYINGINFORMATIONABOUTORACLEFLE-0F1770D8">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-EA7D48E6-82E6-4E19-A104-D45814A626EA">Displaying Information About Oracle Flex ASM</p>
                     <p>You can use the ASMCMD <code class="codeph">showclustermode</code> command to determine whether Oracle Flex ASM is enabled. For example:
                     </p><pre class="oac_no_warn" dir="ltr">$ asmcmd showclustermode
ASM cluster : Flex mode enabled 
</pre><p>You can view Oracle Flex ASM connections with SQL*Plus and ASMCMD commands. Fore example:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT instance_name, db_name, status FROM V$ASM_CLIENT;
INSTANCE_NAME   DB_NAME  STATUS
--------------- -------- ------------
+ASM1           +ASM     CONNECTED
orcl1           orcl     CONNECTED
orcl2           orcl     CONNECTED

$ asmcmd lsct data
DB_Name  Status    Software_Version  Compatible_version  Instance_Name  Disk_Group
+ASM     CONNECTED       19.0.0.0.0          19.0.0.0.0  +ASM           DATA
orcl     CONNECTED       19.0.0.0.0          19.0.0.0.0  orcl1          DATA
orcl     CONNECTED       19.0.0.0.0          19.0.0.0.0  orcl2          DATA
</pre></div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__SRVCTLANDCRSCTLCOMMANDSTOADMINISTER-0F1774CF">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-98D3271F-4195-47A2-BD60-5621801E9FED">SRVCTL and CRSCTL Commands to Administer Oracle Flex ASM</p>
                     <p>SRVCTL is extended to enable an administrator to create or change attributes of Oracle Clusterware resources. You can use SRVCTL to determine the status of the instances in an Oracle Flex ASM configuration. For example:</p><pre class="oac_no_warn" dir="ltr">$ srvctl status asm -detail
ASM is running on mynoden02,mynoden01
ASM is enabled.
</pre><p>You can also use SRVCTL to determine whether Oracle Flex ASM is enabled. If enabled, then <code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">asm</code> displays the number of Oracle ASM instances that has been specified for use with the Oracle Flex ASM configuration. For example:
                     </p><pre class="oac_no_warn" dir="ltr">$ srvctl config asm
ASM instance count: 3
</pre><p>You can modify the Oracle ASM instance count, or cardinality, with the SRVCTL <code class="codeph">modify</code> <code class="codeph">asm</code> command. For example:
                     </p><pre class="oac_no_warn" dir="ltr">$ srvctl modify asm -count 4

$ srvctl modify asm -count ALL
</pre><p>Clients are automatically relocated to another instance if an Oracle ASM instance fails. If necessary, clients can be manually relocated.</p>
                     <p>The <code class="codeph">SRVCTL</code> <code class="codeph">UPDATE</code> <code class="codeph">INSTANCE</code> and <code class="codeph">SRVCTL</code> <code class="codeph">UPDATE</code> <code class="codeph">IOSERVER</code> commands can change the Oracle ASM instance for a database, or the Oracle IOServer instance for a database, or the Oracle ASM instance for an Oracle IOServer. For example:
                     </p><pre class="oac_no_warn" dir="ltr">$ srvctl update instance -db my_orcl_db -instance my_instance_1 -targetinstance my_asm_instance_1

$ srvctl update ioserver -instance my_instance_2 -targetinstance my_asm_instance_2</pre><p>You can run the <code class="codeph">SRVCTL</code> <code class="codeph">STATUS</code> commands with the <code class="codeph">-detail</code> option to display which Oracle ASM instance or Oracle IOserver instance each client is connected to.
                     </p>
                     <p>Every database user must have a wallet with credentials to connect to Oracle ASM. CRSCTL commands can be used by the database user to manage this wallet. All Oracle ASM user names and passwords are system generated.</p>
                     <p>You can run SRVCTL commands to manage Oracle ASM networks and listeners. For example, as the root user you can add an Oracle ASM network using <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">asmnetwork</code>, with or without the optional network mask.
                     </p><pre class="oac_no_warn" dir="ltr"># srvctl add asmnetwork -netnum 1 -subnet nnn.nn.nn.n/255.255.255.0

# srvctl add asmnetwork -netnum 2 -subnet nnn.nn.nn.n</pre><p>As the root or as CRS user, you can check the status or configure the Oracle ASM network with <code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">asmnetwork</code>.
                     </p><pre class="oac_no_warn" dir="ltr">$ srvctl config asmnetwork
ASM network 1 exists
Subnet IPv4: nnn.nn.nn.n/255.255.255.0/
Subnet IPv6:
Network is enabled
Network is individually enabled on nodes:
Network is individually disabled on nodes:
ASM network 2 exists
Subnet IPv4: nnn.nn.nn.n//
Subnet IPv6:
Network is enabled
Network is individually enabled on nodes:
Network is individually disabled on nodes:</pre><p>
As the CRS user, you can add an Oracle ASM listener with <code class="codeph">srvctl</code> <code class="codeph">add</code> <code class="codeph">listener</code> You can use the default listener name (<code class="codeph">LISTENER_ASM</code>) or specify a name for the listener.
                     </p><pre class="oac_no_warn" dir="ltr">$ srvctl add listener -asmlistener -netnum 1

$ srvctl add listener -asmlistener -netnum 2 -listener listener2</pre><p>You can check the status of the Oracle ASM listener with <code class="codeph">srvctl</code> <code class="codeph">config</code> <code class="codeph">listener</code>.
                     </p><pre class="oac_no_warn" dir="ltr">$ srvctl config listener -asmlistener
Name: LISTENER2_ASM
Type: ASM Listener
Owner: msmith
Subnet: nnn.nn.nn.n
Home: &lt;CRS home&gt;
End points: TCP:1526
Listener is enabled.
Listener is individually enabled on nodes:
Listener is individually disabled on nodes:
Name: LISTENER_ASM
Type: ASM Listener
Owner: msmith
Subnet: nnn.nn.nn.n
Home: CRS_hOME
End points: TCP:1525
Listener is enabled.
Listener is individually enabled on nodes:
Listener is individually disabled on nodes:
</pre><p>As the root user, you can run the <code class="codeph">srvctl</code> <code class="codeph">modify</code> <code class="codeph">asmnetwork</code> command with the <code class="codeph">-deptype</code> option to specify the dependency type (<code class="codeph">mandatory</code> or <code class="codeph">optional</code>) for Oracle ASM networks. The <code class="codeph">-deptype</code> setting enables you to determine whether or not you want to tolerate the unavailability of any network.
                     </p>
                     <ul style="list-style-type: disc;" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__UL_AFQ_5QD_DGB">
                        <li>
                           <p>The <code class="codeph">-deptype</code> <code class="codeph">mandatory</code> option specifies a mandatory dependency on a Oracle ASM network. This means that the system does not tolerate the loss of that network. If only one of the Oracle ASM networks connects both the cluster nodes and Oracle ASM client clusters, then that network should be specified as <code class="codeph">mandatory</code> because the Oracle ASM client clusters cannot run when that network is not available. For example:
                           </p><pre class="oac_no_warn" dir="ltr"># srvctl modify asmnetwork -netnum 2 -deptype mandatory</pre></li>
                        <li>
                           <p>The <code class="codeph">-deptype</code> <code class="codeph">optional</code> option specifies an optional dependency on a Oracle ASM network. This means that the system can tolerate the loss of that network. If there are multiple Oracle ASM networks that only connect the cluster nodes, then you can specify them as <code class="codeph">optional</code> to tolerate the failure of one of the networks. The <code class="codeph">optional</code> value is the default setting for <code class="codeph">-deptype</code> in Oracle ASM 19c. For example: 
                           </p><pre class="oac_no_warn" dir="ltr"># srvctl modify asmnetwork -netnum 2 -deptype optional</pre></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__RELOCATINGACLIENTWITHALTERSYSTEM-0F17787C">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-511F59A2-1225-4E45-9E17-B7F566BC0E60">Relocating a Client With ALTER SYSTEM</p>
                     <p>You can use the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> <code class="codeph">RELOCATE</code> <code class="codeph">CLIENT</code> command to relocate a client. For example:
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER SYSTEM RELOCATE CLIENT '<span class="italic">client-id</span>';</pre><p>In the previous SQL statement, <span class="italic"><code class="codeph">client-id</code></span> is of the form <span class="italic"><code class="codeph">instance_name</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">db_name</code></span>. The <code class="codeph">INSTANCE_NAME</code> and <code class="codeph">DB_NAME</code> columns are contained in the <code class="codeph">V$ASM_CLIENT</code> view. You must connect as <code class="codeph">SYSASM</code> to the Oracle ASM instance to run the SQL statement. When you issue this statement, the connection to the client is terminated and the client fails over to the least loaded instance. If the client is currently connected to the least loaded instance, then the connection to the client is terminated and the client fails over to that same instance.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__ASMCMDCOMMANDSTOMANAGEMEMBERCLUSTER-0F177AF8">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-A766E0EB-A7C0-4BDC-A6EC-0BC735DE8B43">ASMCMD Commands to Manage Member Clusters</p>
                     <p>You can use ASMCMD commands to administer the configuration of member clusters. </p>
                     <p>You can list member clusters with the <code class="codeph">lscc</code> command and remove member clusters with the <code class="codeph">rmcc</code> command. 
                     </p>
                     <p>You create a member cluster with the <code class="codeph">mkcc</code> command or change a member cluster with the <code class="codeph">chcc</code> command. For example, you can change the storage method from direct Oracle ASM to indirect Oracle ASM, or change from indirect Oracle ASM to direct Oracle ASM using the ASMCMD <code class="codeph">chcc</code> and <code class="codeph">mkcc</code> commands.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__INITIALIZATIONPARAMETERSFORORACLEFL-0F177DBB">
                     <p class="subhead2" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-C3E367A4-DCB5-41E7-85F4-65ABE7D625AE">Initialization Parameters for Oracle Flex ASM</p>
                     <p>There are no new initialization parameters specifically for instances in an Oracle Flex ASM configuration; however, the settings of existing parameters should be reviewed and possibly adjusted for the Oracle Flex ASM environment. </p>
                     <p>The value of the <code class="codeph">INSTANCE_TYPE</code> initialization parameter specifies the type of instance, including Oracle ASM proxy instances. In addition to <code class="codeph">ASM</code> and <code class="codeph">RDBMS</code> values, the <code class="codeph">ASMPROXY</code> value identifies Oracle ASM proxy instances.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-39D13B70-30AE-4DFE-BFF9-2CD3A33A82E0__GUID-4BF2F4D9-6BD0-4A32-8700-4307DA28E56A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="init-params-asm-instance.html#GUID-6FA72F9A-CD1C-459F-B8A0-2754A11E76D0" title="The ASM_DISKGROUPS initialization parameter specifies a list of disk group names that an Oracle ASM instance mounts at startup when the SQL ALTER DISKGROUP ALL MOUNT statement is issued. The ASM_DISKSTRING initialization parameter specifies a comma-delimited list of strings that limits the set of disks that an Oracle ASM instance discovers. The ASM_IO_PROCESSES initialization parameter specifies the number of IO worker processes to be started in an Oracle IOServer (IOS) server instance. The ASM_POWER_LIMIT initialization parameter specifies the default power for disk rebalancing in a disk group. The ASM_PREFERRED_READ_FAILURE_GROUPS initialization parameter value is a comma-delimited list of strings that specifies the failure groups that should be preferentially read by the given instance.The setting for the DB_CACHE_SIZE parameter determines the size of the buffer cache. The DIAGNOSTIC_DEST initialization parameter specifies the directory where diagnostics for an instance are located. The INSTANCE_TYPE initialization parameter specifies whether the instance is a database instance, an Oracle Automatic Storage Management (Oracle ASM) instance, or an Oracle ASM Proxy instance.The setting for the LARGE_POOL_SIZE parameter is used for large allocations.The PROCESSES initialization parameter affects Oracle ASM, but the default value is usually suitable. The REMOTE_LOGIN_PASSWORDFILE initialization parameter specifies whether the Oracle ASM instance checks for a password file. The setting for the SHARED_POOL_SIZE parameter determines the amount of memory required to manage the instance.">Recommended Settings for Oracle ASM Initialization Parameters</a> for information about initialization parameters related to Oracle ASM
                              </p>
                           </li>
                           <li>
                              <p><a href="asmcmd-cluster-commands.html#GUID-65FC331C-58EA-4901-AB59-795761D3D80A" title="This topic provides a summary of the ASMCMD member cluster management commands that are used with Oracle ASM remote instances.">ASMCMD Member Cluster Management Commands</a> for information about ASMCMD commands to manage member clusters
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/ASM_DISKSTRING.html#REFRN10248" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">INSTANCE_TYPE</code> initialization parameter
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../cwadd/oracle-clusterware-control-crsctl-utility-reference.html#CWADD91142" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for information about CRSCTL commands
                              </p>
                           </li>
                           <li>
                              <p><a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for information about SRVCTL commands
                              </p>
                           </li>
                           <li>
                              <p><a href="../cwadd/server-control-command-reference.html#CWADD-GUID-1DCA9E3F-B929-4555-B673-921FF3588AC3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> and <a href="../racad/server-control-utility-reference.html#RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about SRVCTL commands
                              </p>
                           </li>
                           <li>
                              <p><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> for information about installing Oracle Clusterware
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>