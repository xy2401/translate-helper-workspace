<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>constraint</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="allocate_extent_clause.html" title="Previous" type="text/html">
      <link rel="next" href="deallocate_unused_clause.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="allocate_extent_clause.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="deallocate_unused_clause.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Common-SQL-DDL-Clauses.html" property="item" typeof="WebPage"><span property="name"> Common SQL DDL Clauses </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">constraint</li>
            </ol>
            <a id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE" name="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE"></a><a id="SQLRF52181"></a><a id="SQLRF52182"></a><a id="SQLRF52183"></a><a id="SQLRF52184"></a><a id="SQLRF52185"></a><a id="SQLRF52186"></a><a id="SQLRF52187"></a><a id="SQLRF52188"></a><a id="SQLRF52189"></a><a id="SQLRF52190"></a><a id="SQLRF52191"></a><a id="SQLRF52192"></a><a id="SQLRF52193"></a><a id="SQLRF30038"></a><a id="SQLRF52194"></a><a id="SQLRF52195"></a><a id="SQLRF52196"></a><a id="SQLRF52197"></a><a id="SQLRF52198"></a><a id="SQLRF52199"></a><a id="SQLRF52200"></a><a id="SQLRF52201"></a><a id="SQLRF52202"></a><a id="SQLRF52203"></a><a id="SQLRF52204"></a><a id="SQLRF52205"></a><a id="SQLRF52206"></a><a id="SQLRF52207"></a><a id="SQLRF52208"></a><a id="SQLRF52209"></a><a id="SQLRF52210"></a><a id="SQLRF52211"></a><a id="SQLRF52212"></a><a id="SQLRF52213"></a><a id="SQLRF52214"></a><a id="SQLRF52215"></a><a id="SQLRF52216"></a><a id="SQLRF52217"></a><a id="SQLRF52218"></a><a id="SQLRF52219"></a><a id="SQLRF57046"></a><a id="SQLRF52220"></a><a id="SQLRF52221"></a><a id="SQLRF52222"></a><a id="SQLRF52223"></a><a id="SQLRF52224"></a><a id="SQLRF52225"></a><a id="SQLRF52226"></a><a id="SQLRF52227"></a><a id="SQLRF52228"></a><a id="SQLRF52229"></a><a id="SQLRF52230"></a><a id="SQLRF30018"></a><a id="SQLRF52231"></a><a id="SQLRF52232"></a><a id="SQLRF52233"></a><a id="SQLRF52234"></a><a id="SQLRF52235"></a><a id="SQLRF52236"></a><a id="SQLRF52237"></a><a id="SQLRF52238"></a><a id="SQLRF52239"></a><a id="SQLRF52240"></a><a id="SQLRF52241"></a><a id="SQLRF52242"></a><a id="SQLRF52243"></a><a id="SQLRF52244"></a><a id="SQLRF52180"></a>
            
            <h2 id="SQLRF-GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE" class="sect2"><span class="italic">constraint</span></h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-D2D0F4FE-E72E-4A1D-8952-B1EE3F7844A7">Purpose </p>
                  <p><a id="d181256e357" class="indexterm-anchor"></a><a id="d181256e361" class="indexterm-anchor"></a>Use a <span class="italic"><code class="codeph">constraint</code></span> to define an <span class="bold">integrity constraintâ€”</span>a rule that restricts the values in a database. Oracle Database lets you create six types of constraints and lets you declare them in two ways.
                  </p>
                  <p>The six types of integrity constraint are described briefly here and more fully in <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002038">Semantics</a>"</span>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A <span class="bold"><code class="codeph">NOT</code></span> <span class="bold"><code class="codeph">NULL</code></span><span class="bold"> constraint</span> prohibits a database value from being null.
                        </p>
                     </li>
                     <li>
                        <p>A <span class="bold">unique constraint</span> prohibits multiple rows from having the same value in the same column or combination of columns but allows some values to be null.
                        </p>
                     </li>
                     <li>
                        <p>A <span class="bold">primary key constraint</span> combines a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint and a unique constraint in a single declaration. It prohibits multiple rows from having the same value in the same column or combination of columns and prohibits values from being null.
                        </p>
                     </li>
                     <li>
                        <p>A <span class="bold">foreign key constraint</span> requires values in one table to match values in another table.
                        </p>
                     </li>
                     <li>
                        <p>A <span class="bold">check constraint</span> requires a value in the database to comply with a specified condition.
                        </p>
                     </li>
                     <li>
                        <p>A <code class="codeph">REF</code> column by definition references an object in another object type or in a relational table. A <span class="bold">REF constraint</span> lets you further describe the relationship between the <code class="codeph">REF</code> column and the object it references.
                        </p>
                     </li>
                  </ul>
                  <p>You can define constraints syntactically in two ways:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>As part of the definition of an individual column or attribute. This is called <span class="bold">inline</span> specification.
                        </p>
                     </li>
                     <li>
                        <p>As part of the table definition. This is called <span class="bold">out-of-line</span> specification.
                        </p>
                     </li>
                  </ul>
                  <p><code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints must be declared inline. All other constraints can be declared either inline or out of line.
                  </p>
                  <p>Constraint clauses can appear in the following statements:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code> (see <a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">CREATE TABLE</a><code class="codeph">)</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> (see <a href="ALTER-TABLE.html#GUID-552E7373-BF93-477D-9DA3-B2C9386F2877">ALTER TABLE</a>)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CREATE</code> <code class="codeph">VIEW</code> (see <a href="CREATE-VIEW.html#GUID-61D2D2B4-DACC-4C7C-89EB-7E50D9594D30">CREATE VIEW</a><code class="codeph">)</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">ALTER</code> <code class="codeph">VIEW</code> (see <a href="ALTER-VIEW.html#GUID-0DEDE960-B481-4B55-8027-EA9E4C863625">ALTER VIEW</a><code class="codeph">)</code></p>
                     </li>
                  </ul>
                  <p><span class="bold">View Constraints</span></p>
                  <p>Oracle Database does not enforce view constraints. However, you can enforce constraints on views through constraints on base tables. </p>
                  <p>You can specify only unique, primary key, and foreign key constraints on views, and they are supported only in <code class="codeph">DISABLE</code> <code class="codeph">NOVALIDATE</code> mode. You cannot define view constraints on attributes of an object column.
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__FORADDITIONALINFORMATIONONVIEWCONST-39F5EACC">
                     <p class="notep1">See Also:</p>
                     <p><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002565">View Constraints</a> for additional information on view constraints and <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002349">DISABLE Clause</a>"</span> for information on <code class="codeph">DISABLE</code> <code class="codeph">NOVALIDATE</code> mode
                     </p>
                  </div>
                  <p><span class="bold">External Table Constraints</span></p>
                  <p>You can specify only <code class="codeph">NOT</code> <code class="codeph">NULL</code>, unique, primary key, and foreign key constraints on external tables. Unique, primary key, and foreign key constraints are supported only in <code class="codeph">RELY</code> <code class="codeph">DISABLE</code> mode.
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__FORADDITIONALINFORMATIONONEXTERNALT-39F5F415">
                     <p class="notep1">See Also:</p>
                     <p>  <a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002349">DISABLE Clause</a> for information on <code class="codeph">RELY</code> and <code class="codeph">DISABLE</code>.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-7D509693-BD52-4D1A-A6C4-1B79207A83F1">Prerequisites </p>
                  <p>You must have the privileges necessary to issue the statement in which you are defining the constraint.</p>
                  <p>To create a foreign key constraint, in addition, the parent table or view must be in your own schema or you must have the <code class="codeph">REFERENCES</code> privilege on the columns of the referenced key in the parent table or view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-1C3656DD-EF7A-4C35-B061-4F7C13B77B08">Syntax </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAEDFIB">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-1197B359-0AD1-47A7-A361-B6FFEDBEEF8C"><span class="italic">constraint</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-D8BD523A-D175-4AC7-8D0D-7C40A383915D"><img src="img/constraint.gif" alt="Description of constraint.eps follows" title="Description of constraint.eps follows" longdesc="img_text/constraint.html"><br><a href="img_text/constraint.html">Description of the illustration constraint.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAGIICD">inline_constraint::=</a></span>, <span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJADJGEC">out_of_line_constraint::=</a></span>, <span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAHIEIJ">inline_ref_constraint::=</a></span>, <span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJABCJJF">out_of_line_ref_constraint::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAGIICD">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-07EBBAB8-762E-4F8E-8998-F8957EBBCEEC"><span class="italic">inline_constraint</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-0A7AE30C-BC03-4DC3-AF5D-077E00CEE951"><img src="img/inline_constraint.gif" alt="Description of inline_constraint.eps follows" title="Description of inline_constraint.eps follows" longdesc="img_text/inline_constraint.html"><br><a href="img_text/inline_constraint.html">Description of the illustration inline_constraint.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAIHHGC">references_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJADJGEC">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-D67256F5-861D-40D0-9B18-96AC1EAA3003"><span class="italic">out_of_line_constraint</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-A37E2BF8-7BEC-4419-B27B-C75124D007FD"><img src="img/out_of_line_constraint.gif" alt="Description of out_of_line_constraint.eps follows" title="Description of out_of_line_constraint.eps follows" longdesc="img_text/out_of_line_constraint.html"><br><a href="img_text/out_of_line_constraint.html">Description of the illustration out_of_line_constraint.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAIHHGC">references_clause::=</a></span>, <span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAFFBAA">constraint_state::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAHIEIJ">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-0C38D543-72F8-47FE-AF13-E347E7AE3A6D"><span class="italic">inline_ref_constraint</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-DB460711-8217-414B-A355-CEBC9EF4A702"><img src="img/inline_ref_constraint.gif" alt="Description of inline_ref_constraint.eps follows" title="Description of inline_ref_constraint.eps follows" longdesc="img_text/inline_ref_constraint.html"><br><a href="img_text/inline_ref_constraint.html">Description of the illustration inline_ref_constraint.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAIHHGC">references_clause::=</a></span>, <span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAFFBAA">constraint_state::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJABCJJF">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-0FC194B0-AAE1-4A0D-8D4E-1E6E37C42415"><span class="italic">out_of_line_ref_constraint</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-E7800E68-29DE-4DC5-B7ED-1FBE34F91071"><img src="img/out_of_line_ref_constraint.gif" alt="Description of out_of_line_ref_constraint.eps follows" title="Description of out_of_line_ref_constraint.eps follows" longdesc="img_text/out_of_line_ref_constraint.html"><br><a href="img_text/out_of_line_ref_constraint.html">Description of the illustration out_of_line_ref_constraint.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAIHHGC">references_clause::=</a></span>, <span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAFFBAA">constraint_state::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAIHHGC">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-AE7D99CC-9D2F-46C6-A6D1-5FCBC7B2A844"><span class="italic">references_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-9435EACA-DE8E-42CE-B84D-743286DD4F1D"><img src="img/references_clause.gif" alt="Description of references_clause.eps follows" title="Description of references_clause.eps follows" longdesc="img_text/references_clause.html"><br><a href="img_text/references_clause.html">Description of the illustration references_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAFFBAA">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-F1E2ED02-F150-485C-9B44-84D55E0D77A7"><span class="italic">constraint_state</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-76F1D4D6-5267-49D0-9404-AF306504C2FD"><img src="img/constraint_state.gif" alt="Description of constraint_state.eps follows" title="Description of constraint_state.eps follows" longdesc="img_text/constraint_state.html"><br><a href="img_text/constraint_state.html">Description of the illustration constraint_state.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAGEBIG">using_index_clause::=</a></span>, <span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAEHIDE">exceptions_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAGEBIG">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-5F8738BB-182B-4FEE-9762-7AA9F5B5AF39"><span class="italic">using_index_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-6EFA3B97-B321-41E9-88A5-CD477F79832D"><img src="img/using_index_clause.gif" alt="Description of using_index_clause.eps follows" title="Description of using_index_clause.eps follows" longdesc="img_text/using_index_clause.html"><br><a href="img_text/using_index_clause.html">Description of the illustration using_index_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2125762">create_index::=</a></span>, <span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAIEIDI">index_properties::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAIEIDI">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-A23FF472-0368-4457-9887-C9B3B5C0AA66"><span class="italic">index_properties</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-018CED4A-A9C8-4951-A833-BA86784A8C03"><img src="img/index_properties.gif" alt="Description of index_properties.eps follows" title="Description of index_properties.eps follows" longdesc="img_text/index_properties.html"><br><a href="img_text/index_properties.html">Description of the illustration index_properties.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2126415">global_partitioned_index::=</a></span>, <span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2125897">local_partitioned_index::=</a></span>--part of <code class="codeph">CREATE</code> <code class="codeph">INDEX</code>, <span class="italic"><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAFHDJI">index_attributes::=</a></span>. The <code class="codeph">INDEXTYPE</code> <code class="codeph">IS</code> ... clause is not valid when defining a constraint.)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAFHDJI">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-0018EBE8-FA1C-4BCE-A6E1-0701393949C1"><span class="italic">index_attributes</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-AE9C3565-E94A-4398-B2DF-48DB2D27BA68"><img src="img/index_attributes.gif" alt="Description of index_attributes.eps follows" title="Description of index_attributes.eps follows" longdesc="img_text/index_attributes.html"><br><a href="img_text/index_attributes.html">Description of the illustration index_attributes.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="CREATE-CLUSTER.html#GUID-4DBC701F-AFC3-486D-AA32-B5CB1D6946F7__I2127411">physical_attributes_clause::=</a></span>, <span class="italic"><a href="logging_clause.html#GUID-C4212274-5595-4045-A599-F033772C496E__CJAHABGF">logging_clause::=</a></span>, <span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2127535">index_compression::=</a></span>, <span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BGEJJFGA">partial_index_clause::=</a></span>--all part of <code class="codeph">CREATE</code> <code class="codeph">INDEX</code>, <span class="italic"><code class="codeph">parallel_clause</code></span>: not supported in <span class="italic"><code class="codeph">using_index_clause</code></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__CJAEHIDE">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-D9EC4CF8-C958-40C3-9F02-49FD82E5DFB3"><span class="italic">exceptions_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-C62F52F6-D30E-4151-8A0F-7EF007FE8953"><img src="img/exceptions_clause.gif" alt="Description of exceptions_clause.eps follows" title="Description of exceptions_clause.eps follows" longdesc="img_text/exceptions_clause.html"><br><a href="img_text/exceptions_clause.html">Description of the illustration exceptions_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002038">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-85B53868-193B-4666-9F24-AC7AB7B804BC">Semantics</p>
                  <p>This section describes the semantics of <span class="italic"><code class="codeph">constraint</code></span>. For additional information, refer to the SQL statement in which you define or redefine a constraint for a table or view.
                  </p>
                  <p>Oracle Database does not support constraints on columns or attributes whose type is a user-defined object, nested table, <code class="codeph">VARRAY</code>, <code class="codeph">REF</code>, or LOB, with two exceptions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints are supported for a column or attribute whose type is user-defined object, <code class="codeph">VARRAY</code>, <code class="codeph">REF</code>, or LOB.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">NOT</code> <code class="codeph">NULL</code>, foreign key, and <code class="codeph">REF</code> constraints are supported on a column of type <code class="codeph">REF</code>.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-D6220E9B-DA81-4A3F-8020-AF3020DCAE6A">CONSTRAINT <span class="italic">constraint_name</span></p>
                  <p><a id="d181256e853" class="indexterm-anchor"></a>Specify a name for the constraint. The name must satisfy the requirements listed in <span class="q">"<a href="Database-Object-Names-and-Qualifiers.html#GUID-75337742-67FD-4EC0-985F-741C93D918DA">Database Object Naming Rules</a>"</span>. If you omit this identifier, then Oracle Database generates a name with the form <code class="codeph">SYS_C</code><span class="italic"><code class="codeph">n</code></span>. Oracle stores the name and the definition of the integrity constraint in the <code class="codeph">USER_</code>, <code class="codeph">ALL_</code>, and <code class="codeph">DBA_CONSTRAINTS</code> data dictionary views (in the <code class="codeph">CONSTRAINT_NAME</code> and <code class="codeph">SEARCH_CONDITION</code> columns, respectively). 
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-3DAC4E73-1A28-42A8-9510-3F363FF1988F">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/about-static-data-dictionary-views.html#REFRN002" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the data dictionary views
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-FEE1BA50-C365-4B16-BA6E-83A0D4C24464">NOT NULL Constraints</p>
                  <p>A <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint prohibits a column from containing nulls. The <code class="codeph">NULL</code> keyword by itself does not actually define an integrity constraint, but you can specify it to explicitly permit a column to contain nulls. You must define <code class="codeph">NOT</code> <code class="codeph">NULL</code> and <code class="codeph">NULL</code> using inline specification. If you specify neither <code class="codeph">NOT</code> <code class="codeph">NULL</code> nor <code class="codeph">NULL</code>, then the default is <code class="codeph">NULL</code>.
                  </p>
                  <p><code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints are the only constraints you can specify inline on <code class="codeph">XMLType</code> and <code class="codeph">VARRAY</code> columns.
                  </p>
                  <p>To satisfy a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint, every row in the table must contain a value for the column. 
                  </p>
                  <div class="infoboxnote" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-DDBE167E-2BF4-41FA-8A7B-56DD5C38B410">
                     <p class="notep1">Note:</p>
                     <p>Oracle Database does not index table rows in which all key columns are null except in the case of bitmap indexes. Therefore, if you want an index on all rows of a table, then you must either specify <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints for at least one of the index key columns or create a bitmap index.
                     </p>
                  </div>
                  <p><span class="bold">Restrictions on NOT NULL Constraints</span></p>
                  <p><code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints are subject to the following restrictions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify <code class="codeph">NULL</code> or <code class="codeph">NOT</code> <code class="codeph">NULL</code> in a view constraint.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify <code class="codeph">NULL</code> or <code class="codeph">NOT</code> <code class="codeph">NULL</code> for an attribute of an object. Instead, use a <code class="codeph">CHECK</code> constraint with the <code class="codeph">IS</code> [<code class="codeph">NOT</code>] <code class="codeph">NULL</code> condition.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-F30D36B1-957E-43C2-A7AE-0EC2F3535B41">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002779">Attribute-Level Constraints Example</a>"</span> and <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015640">NOT NULL Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1034458">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-2CB11BB9-CA90-45B4-BAD2-A178B8CF5C2F">Unique Constraints </p>
                  <p>A <span class="bold">unique</span> constraint designates a column as a unique key. A <span class="bold">composite unique key</span> designates a combination of columns as the unique key. When you define a unique constraint inline, you need only the <code class="codeph">UNIQUE</code> keyword. When you define a unique constraint out of line, you must also specify one or more columns. You must define a composite unique key out of line. 
                  </p>
                  <p>To satisfy a unique constraint, no two rows in the table can have the same value for the unique key. However, the unique key made up of a single column can contain nulls. To satisfy a composite unique key, no two rows in the table or view can have the same combination of values in the key columns. Any row that contains nulls in all key columns automatically satisfies the constraint. However, two rows that contain nulls for one or more key columns and the same combination of values for the other key columns violate the constraint.</p>
                  <p>Unique constraints are sensitive to declared collations of their key columns. See <a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__SECTION-1328-658D6C83">Collation Sensitivity of Constraints</a> for more details.
                  </p>
                  <p>When you specify a unique constraint on one or more columns, Oracle implicitly creates an index on the unique key. If you are defining uniqueness for purposes of query performance, then Oracle recommends that you instead create the unique index explicitly using a <code class="codeph">CREATE</code> <code class="codeph">UNIQUE</code> <code class="codeph">INDEX</code> statement. You can also use the <code class="codeph">CREATE</code> <code class="codeph">UNIQUE</code> <code class="codeph">INDEX</code> statement to create a unique function-based index that defines a conditional unique constraint. See <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BGEHDECJ">Using a Function-based Index to Define Conditional Uniqueness: Example</a>"</span> for more information.
                  </p>
                  <p>When you specify an enabled unique constraint on an extended data type column, you may receive a "maximum key length exceeded" error when Oracle tries to create the index to enforce uniqueness for the enabled constraint. See <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BGECBJDG">Creating an Index on an Extended Data Type Column</a>"</span> for information on how to work around this issue.
                  </p>
                  <p><span class="bold">Restrictions on Unique Constraints</span></p>
                  <p>Unique constraints are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>None of the columns in the unique key can be of LOB, <code class="codeph">LONG</code>, <code class="codeph">LONG</code> <code class="codeph">RAW</code>, <code class="codeph">VARRAY</code>, <code class="codeph">NESTED</code> <code class="codeph">TABLE</code>, <code class="codeph">OBJECT</code>, <code class="codeph">REF</code>, <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE,</code> or user-defined type. However, the unique key can contain a column of <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>.
                        </p>
                     </li>
                     <li>
                        <p>A composite unique key cannot have more than 32 columns. </p>
                     </li>
                     <li>
                        <p>You cannot designate the same column or combination of columns as both a primary key and a unique key. </p>
                     </li>
                     <li>
                        <p>You cannot specify a unique key when creating a subview in an inheritance hierarchy. The unique key can be specified only for the top-level (root) view.</p>
                     </li>
                     <li>
                        <p>When you specify a unique constraint for an external table, you must specify the <code class="codeph">RELY</code> and <code class="codeph">DISABLE</code> constraint states. See <a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__EXTERNALTABLECONSTRAINTS-5C72DEDF">External Table Constraints</a> for more information.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-F7F1DCE7-083E-49FE-92D7-0E6897ED9439">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015609">Unique Key Example</a>"</span> and <a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015598">Composite Unique Key Example</a></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-53B3123C-491A-4BD3-98B3-A896AD53234A">Primary Key Constraints </p>
                  <p>A <span class="bold">primary key</span> constraint designates a column as the primary key of a table or view. A <span class="bold">composite primary key</span> designates a combination of columns as the primary key. When you define a primary key constraint inline, you need only the <code class="codeph">PRIMARY</code> <code class="codeph">KEY</code> keywords. When you define a primary key constraint out of line, you must also specify one or more columns. You must define a composite primary key out of line.
                  </p>
                  <p>To satisfy a primary key constraint:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>No primary key value can appear in more than one row in the table. </p>
                     </li>
                     <li>
                        <p>No column that is part of the primary key can contain a null.</p>
                     </li>
                  </ul>
                  <p>When you create a primary key constraint:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle Database uses an existing index if it contains a unique set of values before enforcing the primary key constraint. The existing index can be defined as unique or nonunique. When a DML operation is performed, the primary key constraint is enforced using this existing index.</p>
                     </li>
                     <li>
                        <p>If no existing index can be used, then Oracle Database generates a unique index.</p>
                     </li>
                  </ul>
                  <p>When you drop a primary key constraint:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the primary key was created using an existing index, then the index is not dropped.</p>
                     </li>
                     <li>
                        <p>If the primary key was created using a system-generated index, then the index is dropped.</p>
                     </li>
                  </ul>
                  <p>When you designate an extended data type column as an enabled primary key, you may receive a "maximum key length exceeded" error when Oracle tries to create the index to enforce uniqueness for the enabled constraint. See <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__BGECBJDG">Creating an Index on an Extended Data Type Column</a>"</span> for information on how to work around this issue.
                  </p>
                  <p>Primary key constraints are sensitive to declared collations of their key columns. See <a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__SECTION-1328-658D6C83">Collation Sensitivity of Constraints</a> for more details.
                  </p>
                  <p><span class="bold">Restrictions on Primary Key Constraints</span></p>
                  <p>Primary constraints are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A table or view can have only one primary key.</p>
                     </li>
                     <li>
                        <p>None of the columns in the primary key can be LOB, <code class="codeph">LONG</code>, <code class="codeph">LONG</code> <code class="codeph">RAW</code>, <code class="codeph">VARRAY</code>, <code class="codeph">NESTED</code> <code class="codeph">TABLE</code>, <code class="codeph">BFILE</code>, <code class="codeph">REF</code>, <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>, or user-defined type. However, the primary key can contain a column of <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>.
                        </p>
                     </li>
                     <li>
                        <p>The size of the primary key cannot exceed approximately one database block.</p>
                     </li>
                     <li>
                        <p>A composite primary key cannot have more than 32 columns. </p>
                     </li>
                     <li>
                        <p>You cannot designate the same column or combination of columns as both a primary key and a unique key. </p>
                     </li>
                     <li>
                        <p>You cannot specify a primary key when creating a subview in an inheritance hierarchy. The primary key can be specified only for the top-level (root) view.</p>
                     </li>
                     <li>
                        <p>When you specify a primary key constraint for an external table, you must specify the <code class="codeph">RELY</code> and <code class="codeph">DISABLE</code> constraint states. See <a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__EXTERNALTABLECONSTRAINTS-5C72DEDF">External Table Constraints</a> for more information.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-6D10326B-842E-468D-A7E4-E153CB8969A5">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002629">Primary Key Example</a>"</span> and <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015668">Composite Primary Key Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002118">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-2555E0AA-FB82-4E03-A84B-23FCA92BA588">Foreign Key Constraints</p>
                  <p>A <span class="bold">foreign key constraint</span> (also called a <span class="bold">referential integrity constraint</span>) designates a column as the foreign key and establishes a relationship between that foreign key and a specified primary or unique key, called the <span class="bold">referenced key</span>. A <span class="bold">composite foreign key</span> designates a combination of columns as the foreign key. 
                  </p>
                  <p>The table or view containing the foreign key is called the <span class="bold">child</span> object, and the table or view containing the referenced key is called the <span class="bold">parent</span> object. The foreign key and the referenced key can be in the same table or view. In this case, the parent and child tables are the same. If you identify only the parent table or view and omit the column name, then the foreign key automatically references the primary key of the parent table or view. The corresponding column or columns of the foreign key and the referenced key must match in order, data types, and declared collations.
                  </p>
                  <p>Foreign key constraints are sensitive to declared collations of the referenced primary or unique key columns. See <a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__SECTION-1328-658D6C83">Collation Sensitivity of Constraints</a> for more details.
                  </p>
                  <p>You can define a foreign key constraint on a single key column either inline or out of line. You must specify a composite foreign key and a foreign key on an attribute out of line. </p>
                  <p>To satisfy a composite foreign key constraint, the composite foreign key must refer to a composite unique key or a composite primary key in the parent table or view, or the value of at least one of the columns of the foreign key must be null. </p>
                  <p>You can designate the same column or combination of columns as both a foreign key and a primary or unique key. You can also designate the same column or combination of columns as both a foreign key and a cluster key.</p>
                  <p>You can define multiple foreign keys in a table or view. Also, a single column can be part of more than one foreign key.</p>
                  <p><span class="bold">Restrictions on Foreign Key Constraints</span></p>
                  <p>Foreign key constraints are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>None of the columns in the foreign key can be of LOB, <code class="codeph">LONG</code>, <code class="codeph">LONG</code> <code class="codeph">RAW</code>, <code class="codeph">VARRAY</code>, <code class="codeph">NESTED</code> <code class="codeph">TABLE</code>, <code class="codeph">BFILE</code>, <code class="codeph">REF</code>, <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>, or user-defined type. However, the primary key can contain a column of <code class="codeph">TIMESTAMP</code> <code class="codeph">WITH</code> <code class="codeph">LOCAL</code> <code class="codeph">TIME</code> <code class="codeph">ZONE</code>.
                        </p>
                     </li>
                     <li>
                        <p>The referenced unique or primary key constraint on the parent table or view must already be defined.</p>
                     </li>
                     <li>
                        <p>A composite foreign key cannot have more than 32 columns. </p>
                     </li>
                     <li>
                        <p>The child and parent tables must be on the same database. To enable referential integrity constraints across nodes of a distributed database, you must use database triggers. See <a href="CREATE-TRIGGER.html#GUID-EE0DF3AA-7ADC-4171-B8E8-138BE9224E3B">CREATE TRIGGER</a>.
                        </p>
                     </li>
                     <li>
                        <p>If either the child or parent object is a view, then the constraint is subject to all restrictions on view constraints. See <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002565">View Constraints</a>"</span>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot define a foreign key constraint in a <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement that contains an <code class="codeph">AS</code> <span class="italic"><code class="codeph">subquery</code></span> clause. Instead, you must create the table without the constraint and then add it later with an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement.
                        </p>
                     </li>
                     <li>
                        <p>When a table has a foreign key, and the parent of the foreign key is an index-organized table, a session that updates a row that contains the foreign key can hang when another session is updating a non-key column in the parent table.</p>
                     </li>
                     <li>
                        <p>When you specify a foreign key constraint for an external table, you must specify the <code class="codeph">RELY</code> and <code class="codeph">DISABLE</code> constraint states. See <a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__EXTERNALTABLECONSTRAINTS-5C72DEDF">External Table Constraints</a> for more information.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-4EF9C921-C0EA-44EE-A14D-2A5D3DF5F2A6">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../adfns/data-integrity.html#ADFNS004" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for more information on using constraints
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1036780">Foreign Key Constraint Example</a>"</span> and <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015710">Composite Foreign Key Constraint Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-8E388631-3D99-4445-A2CD-A8776E8CEFC1"><span class="italic">references_clause</span></p>
                  <p>Foreign key constraints use the <span class="italic"><code class="codeph">references_clause</code></span> syntax. When you specify a foreign key constraint inline, you need only the <span class="italic"><code class="codeph">references_clause</code></span>. When you specify a foreign key constraint out of line, you must also specify the <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> keywords and one or more columns. 
                  </p>
                  <p><span class="bold">ON DELETE Clause</span></p>
                  <p>The <code class="codeph">ON</code> <code class="codeph">DELETE</code> clause lets you determine how Oracle Database automatically maintains referential integrity if you remove a referenced primary or unique key value. If you omit this clause, then Oracle does not allow you to delete referenced key values in the parent table that have dependent rows in the child table. 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">CASCADE</code> if you want Oracle to remove dependent foreign key values. 
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">SET</code> <code class="codeph">NULL</code> if you want Oracle to convert dependent foreign key values to <code class="codeph">NULL</code>. You cannot specify this clause for a virtual column, because the values in a virtual column cannot be updated directly. Rather, the values from which the virtual column are derived must be updated.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">Restriction on ON DELETE</span></p>
                  <p>You cannot specify this clause for a view constraint. </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-050BF9CA-E5AA-43BE-89E3-FC99F5417CD7">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015699">ON DELETE Example</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-3D961DC5-3C55-4598-9AB6-A41BA7B90105">Check Constraints</p>
                  <p>A <span class="bold">check constraint</span> lets you specify a condition that each row in the table must satisfy. To satisfy the constraint, each row in the table must make the condition either <code class="codeph">TRUE</code> or unknown (due to a null). When Oracle evaluates a check constraint condition for a particular row, any column names in the condition refer to the column values in that row. 
                  </p>
                  <p>The syntax for inline and out-of-line specification of check constraints is the same. However, inline specification can refer only to the column (or the attributes of the column if it is an object column) currently being defined, whereas out-of-line specification can refer to multiple columns or attributes.</p>
                  <p>Oracle does not verify that conditions of check constraints are not mutually exclusive. Therefore, if you create multiple check constraints for a column, design them carefully so their purposes do not conflict. Do not assume any particular order of evaluation of the conditions. </p>
                  <p>If the condition of a check constraint depends on NLS parameters, such as <code class="codeph">NLS_DATE_FORMAT</code>, Oracle evaluates the condition using the database values of the parameters, not the session values. You can find the database values of the NLS parameters in the data dictionary view <code class="codeph">NLS_DATABASE_PARAMETERS</code>. These values are associated with a database by the DDL statement <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> and never change afterwards.
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-37D5ACF8-4E18-4CE0-A736-96EEF4D07F60">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="Conditions.html#GUID-C2E3ED44-16E7-4924-9125-E1693B1022A8">Conditions</a> for additional information and syntax
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002719">Check Constraint Examples</a>"</span> and <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002779">Attribute-Level Constraints Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Restrictions on Check Constraints</span></p>
                  <p>Check constraints are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify a check constraint for a view. However, you can define the view using the <code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code> clause, which is equivalent to specifying a check constraint for the view.
                        </p>
                     </li>
                     <li>
                        <p>The condition of a check constraint can refer to any column in the table, but it cannot refer to columns of other tables. </p>
                     </li>
                     <li>
                        <p>Conditions of check constraints cannot contain the following constructs: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Subqueries and scalar subquery expressions</p>
                           </li>
                           <li>
                              <p>Calls to the functions that are not deterministic (<code class="codeph">CURRENT_DATE</code>, <code class="codeph">CURRENT_TIMESTAMP</code>, <code class="codeph">DBTIMEZONE</code>, <code class="codeph">LOCALTIMESTAMP</code>, <code class="codeph">SESSIONTIMEZONE</code>, <code class="codeph">SYSDATE</code>, <code class="codeph">SYSTIMESTAMP</code>, <code class="codeph">UID</code>, <code class="codeph">USER</code>, and <code class="codeph">USERENV</code>)
                              </p>
                           </li>
                           <li>
                              <p>Calls to user-defined functions</p>
                           </li>
                           <li>
                              <p>Dereferencing of <code class="codeph">REF</code> columns (for example, using the <code class="codeph">DEREF</code> function)
                              </p>
                           </li>
                           <li>
                              <p>Nested table columns or attributes</p>
                           </li>
                           <li>
                              <p>The pseudocolumns <code class="codeph">CURRVAL</code>, <code class="codeph">NEXTVAL</code>, <code class="codeph">LEVEL</code>, or <code class="codeph">ROWNUM</code> 
                              </p>
                           </li>
                           <li>
                              <p>Date constants that are not fully specified </p>
                           </li>
                           <li>
                              <p>You cannot specify a check constraint for an external table.</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-31D883E3-0C26-460A-A567-C4E96447E5F0">REF Constraints </p>
                  <p><code class="codeph">REF</code> constraints let you describe the relationship between a column of type <code class="codeph">REF</code> and the object it references. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-FBD23CCF-16A9-4DF5-95F0-16D8F5E8CCE6"><span class="italic">ref_constraint</span></p>
                  <p><code class="codeph">REF</code> constraints use the <span class="italic"><code class="codeph">ref_constraint</code></span> syntax. You define a <code class="codeph">REF</code> constraint either inline or out of line. Out-of-line specification requires you to specify the <code class="codeph">REF</code> column or attribute you are further describing.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For <span class="italic"><code class="codeph">ref_column</code></span>, specify the name of a <code class="codeph">REF</code> column of an object or relational table.
                        </p>
                     </li>
                     <li>
                        <p>For <span class="italic"><code class="codeph">ref_attribute</code></span>, specify an embedded <code class="codeph">REF</code> attribute within an object column of a relational table.
                        </p>
                     </li>
                  </ul>
                  <p>Both inline and out-of-line specification let you define a scope constraint, a rowid constraint, or a referential integrity constraint on a <code class="codeph">REF</code> column.
                  </p>
                  <p>If the scope table or referenced table of the <code class="codeph">REF</code> column has a primary-key-based object identifier, then the <code class="codeph">REF</code> column is a <span class="bold">user-defined </span><span class="bold"><code class="codeph">REF</code></span><span class="bold"> column</span>. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-664C8D91-1548-400D-824F-84E8780A8B6C">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../adobj/design-considerations-for-REFs.html#ADOBJ00805" target="_blank"><span class="italic">Oracle Database Object-Relational Developer's Guide</span></a> for more information on <code class="codeph">REF</code> data types
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002118">Foreign Key Constraints</a>"</span>, and <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015744">REF Constraint Examples</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002226">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-267F4A7D-C9FB-466F-B8FD-42B9B7398D45">SCOPE REF Constraints</p>
                  <p>In a table with a <code class="codeph">REF</code> column, each <code class="codeph">REF</code> value in the column can conceivably reference a row in a different object table. The <code class="codeph">SCOPE</code> clause restricts the scope of references to a single table, <span class="italic"><code class="codeph">scope_table</code></span>. The values in the <code class="codeph">REF</code> column or attribute point to objects in <span class="italic"><code class="codeph">scope_table</code></span>, in which object instances of the same type as the <code class="codeph">REF</code> column are stored. 
                  </p>
                  <p>Specify the <code class="codeph">SCOPE</code> clause to restrict the scope of references in the <code class="codeph">REF</code> column to a single table. For you to specify this clause, <span class="italic"><code class="codeph">scope_table</code></span> must be in your own schema, or you must have the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privilege on <span class="italic"><code class="codeph">scope_table</code></span>, or you must have the <code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> or <code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege. You can specify only one scope table for each <code class="codeph">REF</code> column.
                  </p>
                  <p><span class="bold">Restrictions on Scope Constraints</span></p>
                  <p>Scope constraints are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot add a scope constraint to an existing column unless the table is empty.</p>
                     </li>
                     <li>
                        <p>You cannot specify a scope constraint for the <code class="codeph">REF</code> elements of a <code class="codeph">VARRAY</code> column.
                        </p>
                     </li>
                     <li>
                        <p>You must specify this clause if you specify <code class="codeph">AS</code> <span class="italic"><code class="codeph">subquery</code></span> and the subquery returns user-defined <code class="codeph">REF</code> data types.
                        </p>
                     </li>
                     <li>
                        <p>You cannot subsequently drop a scope constraint from a <code class="codeph">REF</code> column.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify a scope constraint for an external table.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-3A96B7E0-AE8A-41E5-AB1F-DDC43EA863E3">Rowid REF Constraints </p>
                  <p>Specify <code class="codeph">WITH</code> <code class="codeph">ROWID</code> to store the rowid along with the <code class="codeph">REF</code> value in <span class="italic"><code class="codeph">ref_column </code></span>or <span class="italic"><code class="codeph">ref_attribute</code></span>. Storing the rowid with the <code class="codeph">REF</code> value can improve the performance of dereferencing operations, but will also use more space. Default storage of <code class="codeph">REF</code> values is without rowids.
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-2A200AF7-8FC6-43E3-9F76-DFFA5C0E70E7">
                     <p class="notep1">See Also:</p>
                     <p>The function <a href="DEREF.html#GUID-E551FFE4-619F-40CE-8303-683EFA3EB28F">DEREF</a> for an example of dereferencing
                     </p>
                  </div>
                  <p><span class="bold">Restrictions on Rowid Constraints</span></p>
                  <p>Rowid constraints are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot define a rowid constraint for the <code class="codeph">REF</code> elements of a <code class="codeph">VARRAY</code> column.
                        </p>
                     </li>
                     <li>
                        <p>You cannot subsequently drop a rowid constraint from a <code class="codeph">REF</code> column.
                        </p>
                     </li>
                     <li>
                        <p>If the <code class="codeph">REF</code> column or attribute is scoped, then this clause is ignored and the rowid is not stored with the <code class="codeph">REF</code> value.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify a rowid constraint for an external table.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-6212DAFF-5EBE-4846-9A65-11FD99446C52">Referential Integrity Constraints on REF Columns</p>
                  <p>The <span class="italic"><code class="codeph">references_clause</code></span> of the <span class="italic"><code class="codeph">ref_constraint</code></span> syntax lets you define a foreign key constraint on the <code class="codeph">REF</code> column. This clause also implicitly restricts the scope of the <code class="codeph">REF</code> column or attribute to the referenced table. However, whereas a foreign key constraint on a non-<code class="codeph">REF</code> column references an actual column in the parent table, a foreign key constraint on a <code class="codeph">REF</code> column references the implicit object identifier column of the parent table.
                  </p>
                  <p>If you do not specify <code class="codeph">a</code> constraint name, then Oracle generates a system name for the constraint of the form <code class="codeph">SYS_C</code><span class="italic"><code class="codeph">n</code></span>. 
                  </p>
                  <p>If you add a referential integrity constraint to an existing <code class="codeph">REF</code> column that is already scoped, then the referenced table must be the same as the scope table of the <code class="codeph">REF</code> column. If you later drop the referential integrity constraint, then the <code class="codeph">REF</code> column will remain scoped to the referenced table.
                  </p>
                  <p>As is the case for foreign key constraints on other types of columns, you can use the <span class="italic"><code class="codeph">references_clause</code></span> alone for inline declaration. For out-of-line declaration you must also specify the <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> keywords plus one or more <code class="codeph">REF</code> columns or attributes.
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-A3334732-2945-40A4-B9D4-8E4357B9CD2A">
                     <p class="notep1">See Also:</p>
                     <p><a href="../adobj/basic-components-of-oracle-objects.html#ADOBJ002" target="_blank"><span class="italic">Oracle Database Object-Relational Developer's Guide</span></a> for more information on object identifiers
                     </p>
                  </div>
                  <p><span class="bold">Restrictions on Foreign Key Constraints on REF Columns</span></p>
                  <p>Foreign key constraints on <code class="codeph">REF</code> columns have the following additional restrictions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle implicitly adds a scope constraint when you add a referential integrity constraint to an existing unscoped <code class="codeph">REF</code> column. Therefore, all the restrictions that apply for scope constraints also apply in this case.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify a column after the object name in the <span class="italic"><code class="codeph">references_clause</code></span>.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__SECTION-1328-658D6C83">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-2DDF3BAE-EE7F-4A79-8673-99C3F38E76B2">Collation Sensitivity of Constraints</p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), primary key, unique, and foreign key constraints are sensitive to declared collations of their key columns. A primary or unique key character column value from a new or updated row is compared with values in existing rows using the declared collation of the key column. For example, if the declared collation of the key column is the case-insensitive collation <code class="codeph">BINARY_CI</code>, a new or updated row may be rejected if the new key column value differs from some existing key value only by case. The collation <code class="codeph">BINARY_CI</code> treats character values differing only by case as equal.
                  </p>
                  <p>A foreign key character column value is compared to parent primary or unique key column values using the declared collation of the parent key column. For example, if the declared collation of the key column is the case-insensitive collation <code class="codeph">BINARY_CI</code>, a new or updated child row may be accepted even if there is no identical parent key value for the corresponding foreign key value, provided there exists a value differing only by case.
                  </p>
                  <p>The declared collation of a foreign key column must be the same as the collation of the corresponding parent key column.</p>
                  <p>Columns in a composite key of a constraint may have different declared collations.</p>
                  <p>When the declared collation of a key column of a constraint is a pseudo-collation, the constraint uses a corresponding variant of the collation <code class="codeph">BINARY</code>. Pseudo-collations cannot be used directly to compare values for a constraint, because constraints are static and cannot depend on session NLS parameters on which the pseudo-collations depend. Therefore:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The pseudo-collations <code class="codeph">USING_NLS_COMP</code>, <code class="codeph">USING_NLS_SORT</code>, and <code class="codeph">USING_NLS_SORT_CS</code> use the collation <code class="codeph">BINARY</code>.
                        </p>
                     </li>
                     <li>
                        <p>The pseudo-collation <code class="codeph">USING_NLS_COMP_CI</code> uses the collation <code class="codeph">BINARY_CI</code>.
                        </p>
                     </li>
                     <li>
                        <p>The pseudo-collation <code class="codeph">USING_NLS_COMP_AI</code> uses the collation <code class="codeph">BINARY_AI</code>.
                        </p>
                     </li>
                  </ul>
                  <p>When the effective collation used by a primary or unique key column is not <code class="codeph">BINARY</code>, Oracle creates a hidden virtual column for this column. The expression of the virtual column calculates collation keys for character values of the original key column. The primary key or unique constraint is internally created on the virtual column instead of the original column. The virtual column is visible in the data dictionary views of the <code class="codeph">*_TAB_COLS</code> family. For each of these hidden virtual columns, the <code class="codeph">COLLATED_COLUMN_ID</code> of the <code class="codeph">*_TAB_COLS</code> views contains the internal sequence number pointing to the corresponding original key column. The hidden virtual columns count to the 1000-column limit of a table.
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-23E4797E-E658-49C4-9D53-82C27E515A89">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__P-134369-659048FD">Case-Insensitive Constraints Example</a></p>
                        </li>
                        <li>
                           <p><a href="../nlspg/linguistic-sorting-and-matching.html#NLSPG005" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for more details about collations
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-4056A42A-397D-4B33-BAE5-C93411256246">Specifying Constraint State</p>
                  <p>You can specify how and when Oracle should enforce the constraint when you define the constraint. </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-AF4EE1FB-DC3A-462C-8E49-28F8F1270184"><span class="italic">constraint_state</span></p>
                  <p>You can use <span class="italic"><code class="codeph">constraint_state</code></span> with both inline and out-of-line specification. Except for the clauses <code class="codeph">DEFERRABLE</code> and <code class="codeph">INITIALLY</code>, that may be specified in any order, you must specify the rest of the component clauses in the order shown, and each clause only once. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-A2C302CD-DBF3-43A3-9BEA-9254C10F30EF">DEFERRABLE Clause</p>
                  <p>The <code class="codeph">DEFERRABLE</code> and <code class="codeph">NOT</code> <code class="codeph">DEFERRABLE</code> parameters indicate whether or not, in subsequent transactions, constraint checking can be deferred until the end of the transaction using the <code class="codeph">SET</code> <code class="codeph">CONSTRAINT</code>(<code class="codeph">S</code>) statement. If you omit this clause, then the default is <code class="codeph">NOT</code> <code class="codeph">DEFERRABLE</code>. 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Specify <code class="codeph">NOT</code> <code class="codeph">DEFERRABLE</code> to indicate that in subsequent transactions you cannot use the <code class="codeph">SET</code> <code class="codeph">CONSTRAINT</code>[<code class="codeph">S</code>] clause to defer checking of this constraint until the transaction is committed. The checking of a <code class="codeph">NOT</code> <code class="codeph">DEFERRABLE</code> constraint can never be deferred to the end of the transaction.
                        </p>
                        <p>If you declare a new constraint <code class="codeph">NOT</code> <code class="codeph">DEFERRABLE</code>, then it must be valid at the time the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement is committed or the statement will fail.
                        </p>
                     </li>
                     <li>
                        <p>Specify <code class="codeph">DEFERRABLE</code> to indicate that in subsequent transactions you can use the <code class="codeph">SET</code> <code class="codeph">CONSTRAINT</code>[<code class="codeph">S</code>] clause to defer checking of this constraint until a <code class="codeph">COMMIT</code> statement is submitted. If the constraint check fails, then the database returns an error and the transaction is not committed. This setting in effect lets you disable the constraint temporarily while making changes to the database that might violate the constraint until all the changes are complete.
                        </p>
                        <div class="infoboxnote" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-70784925-79E1-436C-9A41-0EFC0FAE6448">
                           <p class="notep1">Note:</p>
                           <p>The optimizer does not consider indexes on deferrable constraints as usable.</p>
                        </div>
                     </li>
                  </ul>
                  <p>You cannot alter the deferrability of a constraint. Whether you specify either of these parameters, or make the constraint <code class="codeph">NOT</code> <code class="codeph">DEFERRABLE</code> implicitly by specifying neither of them, you cannot specify this clause in an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement. You must drop the constraint and re-create it.
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-89A721AC-7073-4E80-AFA3-B691145F1F17">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="SET-CONSTRAINTS.html#GUID-1EF5B212-17C5-4F7C-9412-D777DFDEDCE9">SET CONSTRAINT[S]</a> for information on setting constraint checking for a transaction
                           </p>
                        </li>
                        <li>
                           <p><a href="../admin/managing-schema-objects.html#ADMIN021" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> and <a href="../cncpt/data-integrity.html#CNCPT021" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about deferred constraints
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015767">DEFERRABLE Constraint Examples</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Restriction on [NOT] DEFERRABLE</span></p>
                  <p>You cannot specify either of these parameters for a view constraint.</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-4FA3A9CE-8B6A-4F47-AE51-D04104F4C8D3">INITIALLY Clause</p>
                  <p>The <code class="codeph">INITIALLY</code> clause establishes the default checking behavior for constraints that are <code class="codeph">DEFERRABLE</code>. The <code class="codeph">INITIALLY</code> setting can be overridden by a <code class="codeph">SET</code> <code class="codeph">CONSTRAINT</code>(<code class="codeph">S</code>) statement in a subsequent transaction.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold"></span>Specify <code class="codeph">INITIALLY</code> <code class="codeph">IMMEDIATE</code> to indicate that Oracle should check this constraint at the end of each subsequent SQL statement. If you do not specify <code class="codeph">INITIALLY</code> at all, then the default is <code class="codeph">INITIALLY</code> <code class="codeph">IMMEDIATE</code>.
                        </p>
                        <p>If you declare a new constraint <code class="codeph">INITIALLY</code> <code class="codeph">IMMEDIATE</code>, then it must be valid at the time the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement is committed or the statement will fail.
                        </p>
                     </li>
                     <li>
                        <p><span class="bold"></span>Specify <code class="codeph">INITIALLY</code> <code class="codeph">DEFERRED</code> to indicate that Oracle should check this constraint at the end of subsequent transactions.
                        </p>
                     </li>
                  </ul>
                  <p>This clause is not valid if you have declared the constraint to be <code class="codeph">NOT</code> <code class="codeph">DEFERRABLE</code>, because a <code class="codeph">NOT</code> <code class="codeph">DEFERRABLE</code> constraint is automatically <code class="codeph">INITIALLY</code> <code class="codeph">IMMEDIATE</code> and cannot ever be <code class="codeph">INITIALLY</code> <code class="codeph">DEFERRED</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__RELYCLAUSE-84049E1E">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__RELYCLAUSE-84049E10">RELY Clause </p>
                  <p>The <code class="codeph">RELY</code> and <code class="codeph">NORELY</code> parameters specify whether a constraint in <code class="codeph">NOVALIDATE</code> mode is to be taken into account for query rewrite. Specify <code class="codeph">RELY</code> to activate a constraint in <code class="codeph">NOVALIDATE</code> mode for query rewrite in an unenforced query rewrite integrity mode. The constraint is in <code class="codeph">NOVALIDATE</code> mode, so Oracle does not enforce it. The default is <code class="codeph">NORELY</code>.
                  </p>
                  <p>Unenforced constraints are generally useful only with materialized views and query rewrite. Depending on the <a href="../refrn/QUERY_REWRITE_INTEGRITY.html#REFRN10177" target="_blank"><code class="codeph">QUERY_REWRITE_INTEGRITY</code> </a>mode, query rewrite can use only constraints that are in <code class="codeph">VALIDATE</code> mode, or that are in <code class="codeph">NOVALIDATE</code> mode with the <code class="codeph">RELY</code> parameter set, to determine join information.
                  </p>
                  <p><span class="bold">Restriction on the RELY Clause</span></p>
                  <p>You cannot set a nondeferrable <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint to <code class="codeph">RELY</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__ORACLEDATABASEDATAWAREHOUSINGGUIDEF-84049E18">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on materialized views and query rewrite
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__USINGINDEXESTOENFORCECONSTRAINTS-8404D35C">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__USINGINDEXESTOENFORCECONSTRAINTS-8404D2E4">Using Indexes to Enforce Constraints </p>
                  <p>When defining the state of a unique or primary key constraint, you can specify an index for Oracle to use to enforce the constraint, or you can instruct Oracle to create the index used to enforce the constraint.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__USING_INDEX_CLAUSE-8404D2EF">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__USING_INDEX_CLAUSE-8404D340"><span class="italic">using_index_clause</span></p>
                  <p>You can specify the <span class="italic"><code class="codeph">using_index_clause</code></span> only when enabling unique or primary key constraints. You can specify the clauses of the <span class="italic"><code class="codeph">using_index_clause</code></span> in any order, but you can specify each clause only once.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you specify <span class="italic"><code class="codeph">schema</code></span><span class="italic">.</span><span class="italic"><code class="codeph">index</code></span>, then Oracle attempts to enforce the constraint using the specified index. If Oracle cannot find the index or cannot use the index to enforce the constraint, then Oracle returns an error.
                        </p>
                     </li>
                     <li>
                        <p>If you specify the <span class="italic"><code class="codeph">create_index_statement</code></span>, then Oracle attempts to create the index and use it to enforce the constraint. If Oracle cannot create the index or cannot use the index to enforce the constraint, then Oracle returns an error.
                        </p>
                     </li>
                     <li>
                        <p>If you neither specify an existing index nor create a new index, then Oracle creates the index. In this case:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The index receives the same name as the constraint.</p>
                           </li>
                           <li>
                              <p>If <span class="italic"><code class="codeph">table</code></span> is partitioned, then you can specify a locally or globally partitioned index for the unique or primary key constraint. 
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p><span class="bold">Restrictions on the</span> <span class="bold"><span class="italic">using_index_clause</span></span></p>
                  <p>The following restrictions apply to the <span class="italic"><code class="codeph">using_index_clause</code></span>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify this clause for a view constraint.</p>
                     </li>
                     <li>
                        <p>You cannot specify this clause for a <code class="codeph">NOT</code> <code class="codeph">NULL</code>, foreign key, or check constraint.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify an index (<span class="italic"><code class="codeph">schema.index</code></span>) or create an index (<span class="italic"><code class="codeph">create_index_statement</code></span>) when enabling the primary key of an index-organized table.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify the <span class="italic"><code class="codeph">parallel_clause</code></span> of <span class="italic"><code class="codeph">index_attributes</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">INDEXTYPE</code> <code class="codeph">IS</code> ... clause of <span class="italic"><code class="codeph">index_properties</code></span> is not valid in the definition of a constraint.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__FORADESCRIPTIONOFTHEANDCLAUSESANDFO-8404D2EF">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE">CREATE INDEX</a> for a description of <span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2075657">index_attributes</a></span>, the <span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2150212">global_partitioned_index</a></span> and <span class="italic"><a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2135151">local_partitioned_index</a></span> clauses, and for a description of <code class="codeph">NOSORT</code> and the <span class="italic"><code class="codeph">logging_clause</code></span> in relation to indexes
                           </p>
                        </li>
                        <li>
                           <p><span class="italic"><a href="physical_attributes_clause.html#GUID-A15063A9-3237-43D3-B0AE-D01F6E80B393">physical_attributes_clause</a></span> and <code class="codeph">PCTFREE</code> parameters and <span class="italic"><a href="storage_clause.html#GUID-C5A67610-3160-41E9-8D48-03206BD5ED15">storage_clause</a></span> 
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002834">Explicit Index Control Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1010237">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-A6ECFCB9-A1AE-499E-882D-96B5049FB202">ENABLE Clause</p>
                  <p>Specify <code class="codeph">ENABLE</code> if you want the constraint to be applied to the data in the table.
                  </p>
                  <p>If you enable a unique or primary key constraint, and if no index exists on the key, then Oracle Database creates a unique index. Unless you specify <code class="codeph">KEEP INDEX</code> when subsequently disabling the constraint, this index is dropped and the database rebuilds the index every time the constraint is reenabled. 
                  </p>
                  <p>You can also avoid rebuilding the index and eliminate redundant indexes by creating new primary key and unique constraints initially disabled. Then create (or use existing) nonunique indexes to enforce the constraint. Oracle does not drop a nonunique index when the constraint is disabled, so subsequent <code class="codeph">ENABLE</code> operations are facilitated.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold"></span><code class="codeph">ENABLE</code> <code class="codeph">VALIDATE</code> specifies that all old and new data also complies with the constraint. An enabled validated constraint guarantees that all data is and will continue to be valid. 
                        </p>
                        <p>If any row in the table violates the integrity constraint, then the constraint remains disabled and Oracle returns an error. If all rows comply with the constraint, then Oracle enables the constraint. Subsequently, if new data violates the constraint, then Oracle does not execute the statement and returns an error indicating the integrity constraint violation.</p>
                        <p>If you place a primary key constraint in <code class="codeph">ENABLE</code> <code class="codeph">VALIDATE</code> mode, then the validation process will verify that the primary key columns contain no nulls. To avoid this overhead, mark each column in the primary key <code class="codeph">NOT</code> <code class="codeph">NULL</code> before entering data into the column and before enabling the primary key constraint of the table. 
                        </p>
                     </li>
                     <li>
                        <p><span class="bold"></span><code class="codeph">ENABLE</code> <code class="codeph">NOVALIDATE</code> ensures that all new DML operations on the constrained data comply with the constraint. This clause does not ensure that existing data in the table complies with the constraint.
                        </p>
                     </li>
                  </ul>
                  <p>If you specify neither <code class="codeph">VALIDATE</code> nor <code class="codeph">NOVALIDATE</code>, then the default is <code class="codeph">VALIDATE</code>.
                  </p>
                  <p>If you change the state of any single constraint from <code class="codeph">ENABLE</code> <code class="codeph">NOVALIDATE</code> to <code class="codeph">ENABLE</code> <code class="codeph">VALIDATE</code>, then the operation can be performed in parallel, and does not block reads, writes, or other DDL operations.
                  </p>
                  <p><span class="bold">Restriction on the ENABLE Clause</span></p>
                  <p>You cannot enable a foreign key that references a disabled unique or primary key.</p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002349">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-CC07C7AD-C1A8-45A5-A409-C13545B22094">DISABLE Clause</p>
                  <p>Specify <code class="codeph">DISABLE</code> to disable the integrity constraint. Disabled integrity constraints appear in the data dictionary along with enabled constraints. If you do not specify this clause when creating a constraint, then Oracle automatically enables the constraint.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">DISABLE</code> <code class="codeph">VALIDATE</code> disables the constraint and drops the index on the constraint, but keeps the constraint valid. This feature is most useful in data warehousing situations, because it lets you load large amounts of data while also saving space by not having an index. This setting lets you load data from a nonpartitioned table into a partitioned table using the <span class="italic"><code class="codeph">exchange_partition_subpart</code></span> clause of the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement or using SQL*Loader. All other modifications to the table (inserts, updates, and deletes) by other SQL statements are disallowed. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-FAE2E729-40EC-44A0-A566-4F4E32BD4342">
                           <p class="notep1">See Also:</p>
                           <p><a href="../dwhsg/data-warehouse-optimizations-techniques.html#DWHSG8151" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on using this setting
                           </p>
                        </div>
                     </li>
                     <li>
                        <p><code class="codeph">DISABLE</code> <code class="codeph">NOVALIDATE</code> signifies that Oracle makes no effort to maintain the constraint (because it is disabled) and cannot guarantee that the constraint is true (because it is not being validated). 
                        </p>
                        <p>You cannot drop a table whose primary key is being referenced by a foreign key even if the foreign key constraint is in <code class="codeph">DISABLE</code> <code class="codeph">NOVALIDATE</code> state. Further, the optimizer can use constraints in <code class="codeph">DISABLE</code> <code class="codeph">NOVALIDATE</code> state.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-158A6CFE-3777-4E3C-8EDA-73A438360528">
                           <p class="notep1">See Also:</p>
                           <p><a href="../tgsql/index.html" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for information on when to use this setting
                           </p>
                        </div>
                     </li>
                  </ul>
                  <p>If you specify neither <code class="codeph">VALIDATE</code> nor <code class="codeph">NOVALIDATE</code>, then the default is <code class="codeph">NOVALIDATE</code>.
                  </p>
                  <p>If you disable a unique or primary key constraint that is using a unique index, then Oracle drops the unique index. Refer to the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2062565">enable_disable_clause</a></span> for additional notes and restrictions.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__VALIDATENOVALIDATE-840490B8">VALIDATE | NOVALIDATE</p>
                  <p>The behavior of <code class="codeph">VALIDATE</code> and <code class="codeph">NOVALIDATE</code> depends on whether the constraint is enabled or disabled, either explicitly or by default. Therefore, the <code class="codeph">VALIDATE</code> and <code class="codeph">NOVALIDATE</code> keywords are described in the context of <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1010237">ENABLE Clause</a>"</span> and <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002349">DISABLE Clause</a>"</span>.
                  </p>
                  <p><span class="bold">Note on Foreign Key Constraints in NOVALIDATE Mode</span></p>
                  <p>When a foreign key constraint is in <code class="codeph">NOVALIDATE</code> mode, if existing data in the table does not comply with the constraint and the <code class="codeph">QUERY_REWRITE_INTEGRITY</code> parameter is not set to <code class="codeph">ENFORCED</code>, then the optimizer may use join elimination during queries on the table. In this case, a query may return table rows with noncompliant foreign key values even if the query contains a join condition that should filter out those rows.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1012716">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-62D354A1-E422-4753-A438-05491BFEE63E">Handling Constraint Exceptions </p>
                  <p>When defining the state of a constraint, you can specify a table into which Oracle places the rowids of all rows violating the constraint. </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-AA88263C-9A20-44EB-86B4-3823CE3DD50F"><span class="italic">exceptions_clause</span></p>
                  <p>Use the <span class="italic"><code class="codeph">exceptions_clause</code></span> syntax to define exception handling. If you omit <span class="italic"><code class="codeph">schema</code></span>, then Oracle assumes the exceptions table is in your own schema. If you omit this clause altogether, then Oracle assumes that the table is named <code class="codeph">EXCEPTIONS</code>. The <code class="codeph">EXCEPTIONS</code> table or the table you specify must exist on your local database.
                  </p>
                  <p>You can create the <code class="codeph">EXCEPTIONS</code> table using one of these scripts:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">UTLEXCPT.SQL</code> uses physical rowids. Therefore it can accommodate rows from conventional tables but not from index-organized tables. (See the Note that follows.)
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">UTLEXPT1.SQL</code> uses universal rowids, so it can accommodate rows from both conventional and index-organized tables.
                        </p>
                     </li>
                  </ul>
                  <p>If you create your own exceptions table, then it must follow the format prescribed by one of these two scripts. </p>
                  <p>If you are collecting exceptions from index-organized tables based on primary keys (rather than universal rowids), then you must create a separate exceptions table for each index-organized table to accommodate its primary-key storage. You create multiple exceptions tables with different names by modifying and resubmitting the script.</p>
                  <p><span class="bold">Restrictions on the</span> <span class="bold"><span class="italic">exceptions_clause</span></span></p>
                  <p>The following restrictions apply to the <span class="italic"><code class="codeph">exceptions_clause</code></span>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot specify this clause for a view constraint.</p>
                     </li>
                     <li>
                        <p>You cannot specify this clause in a <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement, because no rowids exist until <span class="italic">after</span> the successful completion of the statement.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-E496D9A1-98C3-43AC-9A66-6A30569E19BA">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The <code class="codeph">DBMS_IOT</code> package in <a href="../arpls/DBMS_IOT.html#ARPLS018" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on the SQL scripts
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../tgdba/index.html" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information on eliminating migrated and chained rows
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002565">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-CC519B1C-AB71-43F2-8276-97778AB899AE">View Constraints </p>
                  <p>Oracle does not enforce view constraints. However, operations on views are subject to the integrity constraints defined on the underlying base tables. This means that you can enforce constraints on views through constraints on base tables. </p>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__BABFCAIF"><span class="bold">Notes on View Constraints</span></p>
                  <p>View constraints are a subset of table constraints and are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can specify only unique, primary key, and foreign key constraints on views. However, you can define the view using the <code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code> clause, which is equivalent to specifying a check constraint for the view.
                        </p>
                     </li>
                     <li>
                        <p>View constraints are supported only in <code class="codeph">DISABLE</code> <code class="codeph">NOVALIDATE</code> mode. You cannot specify any other mode. You must specify the keyword <code class="codeph">DISABLE</code> when you declare the view constraint. You need not specify <code class="codeph">NOVALIDATE</code> explicitly, as it is the default.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">RELY</code> and <code class="codeph">NORELY</code> parameters are optional. View constraints, because they are unenforced, are usually specified with the <code class="codeph">RELY</code> parameter to make them more useful. The <code class="codeph">RELY</code> or <code class="codeph">NORELY</code> keyword must precede the <code class="codeph">DISABLE</code> keyword. 
                        </p>
                     </li>
                     <li>
                        <p>Because view constraints are not enforced directly, you cannot specify <code class="codeph">INITIALLY</code> <code class="codeph">DEFERRED</code> or <code class="codeph">DEFERRABLE</code>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify the <span class="italic"><code class="codeph">using_index_clause</code></span>, the <span class="italic"><code class="codeph">exceptions_clause</code></span> clause, or the <code class="codeph">ON</code> <code class="codeph">DELETE</code> clause of the <span class="italic"><code class="codeph">references_clause</code></span>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot define view constraints on attributes of an object column.</p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__EXTERNALTABLECONSTRAINTS-5C72DEDF">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-1380B7FD-9F5B-4177-88F4-5665FDFFAE9A">External Table Constraints </p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), you can specify <code class="codeph">NOT</code> <code class="codeph">NULL</code>, unique, primary key, and foreign key constraints on external tables.
                  </p>
                  <p><code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints on external tables are enforced and prohibit columns from containing nulls.
                  </p>
                  <p>Unique, primary key, and foreign key constraints are supported on external tables only in <code class="codeph">RELY</code> <code class="codeph">DISABLE</code> mode. You must specify the keywords <code class="codeph">RELY</code> and <code class="codeph">DISABLE</code> when you create these constraints. These constraints are declarative and are not enforced. They can increase query performance and reduce resource consumption because more optimizer transformations can be taken into account. In order for the optimizer to utilize these <code class="codeph">RELY</code> <code class="codeph">DISABLE</code> constraints, the <code class="codeph">QUERY_REWRITE_INTEGRITY</code> initialization parameter must be set to either <code class="codeph">trusted</code> or <code class="codeph">stale_tolerated</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__GUID-A83F5B26-F64A-438B-886C-4A49344604A9">Examples</p>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015609"><span class="bold">Unique Key Example</span></p>
                  <p>The following statement is a variation of the statement that created the sample table <code class="codeph">sh.promotions</code>. It defines inline and implicitly enables a unique key on the <code class="codeph">promo_id</code> column (other constraints are not shown):
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE promotions_var1
    ( promo_id         NUMBER(6)
                       CONSTRAINT promo_id_u  UNIQUE
    , promo_name       VARCHAR2(20)
    , promo_category   VARCHAR2(15)
    , promo_cost       NUMBER(10,2)
    , promo_begin_date DATE
    , promo_end_date   DATE
    ) ;
</pre><p>The constraint <code class="codeph">promo_id_u</code> identifies the <code class="codeph">promo_id</code> column as a unique key. This constraint ensures that no two promotions in the table have the same ID. However, the constraint does allow promotions without identifiers. 
                  </p>
                  <p>Alternatively, you can define and enable this constraint out of line:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE promotions_var2
    ( promo_id         NUMBER(6)
    , promo_name       VARCHAR2(20)
    , promo_category   VARCHAR2(15)
    , promo_cost       NUMBER(10,2)
    , promo_begin_date DATE
    , promo_end_date   DATE
    , CONSTRAINT promo_id_u UNIQUE (promo_id)
   USING INDEX PCTFREE 20
      TABLESPACE stocks
      STORAGE (INITIAL 8M) ); 
</pre><p>The preceding statement also contains the <span class="italic"><code class="codeph">using_index_clause</code></span>, which specifies storage characteristics for the index that Oracle creates to enable the constraint.
                  </p>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015598"><span class="bold">Composite Unique Key Example</span></p>
                  <p>The following statement defines and enables a composite unique key on the combination of the <code class="codeph">warehouse_id</code> and <code class="codeph">warehouse_name</code> columns of the <code class="codeph">oe.warehouses</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE warehouses
   ADD CONSTRAINT wh_unq UNIQUE (warehouse_id, warehouse_name)
   USING INDEX PCTFREE 5
   EXCEPTIONS INTO wrong_id;
</pre><p>The <code class="codeph">wh_unq</code> constraint ensures that the same combination of <code class="codeph">warehouse_id</code> and <code class="codeph">warehouse_name</code> values does not appear in the table more than once. 
                  </p>
                  <p>The <code class="codeph">ADD</code> <code class="codeph">CONSTRAINT</code> clause also specifies other properties of the constraint: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">USING</code> <code class="codeph">INDEX</code> clause specifies storage characteristics for the index Oracle creates to enable the constraint. 
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">EXCEPTIONS</code> <code class="codeph">INTO</code> clause causes Oracle to write to the <code class="codeph">wrong_id</code> table information about any rows currently in the <code class="codeph">warehouses</code> table that violate the constraint. If the <code class="codeph">wrong_id</code> exceptions table does not already exist, then this statement will fail.
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002629"><span class="bold">Primary Key Example</span></p>
                  <p>The following statement is a variation of the statement that created the sample table <code class="codeph">hr.locations</code>. It creates the <code class="codeph">locations_demo</code> table and defines and enables a primary key on the <code class="codeph">location_id</code> column (other constraints from the <code class="codeph">hr.locations</code> table are omitted):
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE locations_demo
    ( location_id    NUMBER(4) CONSTRAINT loc_id_pk PRIMARY KEY
    , street_address VARCHAR2(40)
    , postal_code    VARCHAR2(12)
    , city           VARCHAR2(30)
    , state_province VARCHAR2(25)
    , country_id     CHAR(2)
    ) ;
</pre><p>The <code class="codeph">loc_id_pk</code> constraint, specified inline, identifies the <code class="codeph">location_id</code> column as the primary key of the <code class="codeph">locations_demo</code> table. This constraint ensures that no two locations in the table have the same location number and that no location identifier is <code class="codeph">NULL</code>. 
                  </p>
                  <p>Alternatively, you can define and enable this constraint out of line:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE locations_demo
    ( location_id    NUMBER(4) 
    , street_address VARCHAR2(40)
    , postal_code    VARCHAR2(12)
    , city           VARCHAR2(30)
    , state_province VARCHAR2(25)
    , country_id     CHAR(2)
    , CONSTRAINT loc_id_pk PRIMARY KEY (location_id));</pre><p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015640"><span class="bold">NOT NULL Example</span></p>
                  <p>The following statement alters the <code class="codeph">locations_demo</code> table (created in <span class="q">"<a href="constraint.html#GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002629">Primary Key Example</a>"</span>) to define and enable a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint on the <code class="codeph">country_id</code> column:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE locations_demo
   MODIFY (country_id CONSTRAINT country_nn NOT NULL); 
</pre><p>The constraint <code class="codeph">country_nn</code> ensures that no location in the table has a null <code class="codeph">country_id</code>. 
                  </p>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015668"><span class="bold">Composite Primary Key Example</span></p>
                  <p>The following statement defines a composite primary key on the combination of the <code class="codeph">prod_id</code> and <code class="codeph">cust_id</code> columns of the sample table <code class="codeph">sh.sales</code>:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales 
    ADD CONSTRAINT sales_pk PRIMARY KEY (prod_id, cust_id) DISABLE; 
</pre><p>This constraint identifies the combination of the <code class="codeph">prod_id</code> and <code class="codeph">cust_id</code> columns as the primary key of the <code class="codeph">sales</code> table. The constraint ensures that no two rows in the table have the same combination of values for the <code class="codeph">prod_id</code> column and <code class="codeph">cust_id</code> columns. 
                  </p>
                  <p>The constraint clause (<code class="codeph">PRIMARY</code> <code class="codeph">KEY</code>) also specifies the following properties of the constraint: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The constraint definition does not include a constraint name, so Oracle generates a name for the constraint. </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">DISABLE</code> clause causes Oracle to define the constraint but not enable it. 
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1036780"><span class="bold">Foreign Key Constraint Example</span></p>
                  <p>The following statement creates the <code class="codeph">dept_20</code> table and defines and enables a foreign key on the <code class="codeph">department_id</code> column that references the primary key on the <code class="codeph">department_id</code> column of the <code class="codeph">departments</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE dept_20 
   (employee_id     NUMBER(4), 
    last_name       VARCHAR2(10), 
    job_id          VARCHAR2(9), 
    manager_id      NUMBER(4), 
    hire_date       DATE, 
    salary          NUMBER(7,2), 
    commission_pct  NUMBER(7,2), 
    department_id   CONSTRAINT fk_deptno 
                    REFERENCES departments(department_id) ); 
</pre><p>The constraint <code class="codeph">fk_deptno</code> ensures that all departments given for employees in the <code class="codeph">dept_20</code> table are present in the <code class="codeph">departments</code> table. However, employees can have null department numbers, meaning they are not assigned to any department. To ensure that all employees are assigned to a department, you could create a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint on the <code class="codeph">department_id</code> column in the <code class="codeph">dept_20</code> table in addition to the <code class="codeph">REFERENCES</code> constraint.
                  </p>
                  <p>Before you define and enable this constraint, you must define and enable a constraint that designates the <code class="codeph">department_id</code> column of the <code class="codeph">departments</code> table as a primary or unique key. 
                  </p>
                  <p>The foreign key constraint definition does not use the <code class="codeph">FOREIGN</code> <code class="codeph">KEY</code> clause, because the constraint is defined inline. The data type of the <span class="italic"><code class="codeph">department_id</code></span> column is not needed, because Oracle automatically assigns to this column the data type of the referenced key.
                  </p>
                  <p>The constraint definition identifies both the parent table and the columns of the referenced key. Because the referenced key is the primary key of the parent table, the referenced key column names are optional. </p>
                  <p>Alternatively, you can define this foreign key constraint out of line:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE dept_20 
   (employee_id     NUMBER(4), 
    last_name       VARCHAR2(10), 
    job_id          VARCHAR2(9), 
    manager_id      NUMBER(4), 
    hire_date       DATE, 
    salary          NUMBER(7,2), 
    commission_pct  NUMBER(7,2), 
    department_id, 
   CONSTRAINT fk_deptno 
      FOREIGN  KEY (department_id) 
      REFERENCES  departments(department_id) ); 
</pre><p>The foreign key definitions in both variations of this statement omit the <code class="codeph">ON</code> <code class="codeph">DELETE</code> clause, causing Oracle to prevent the deletion of a department if any employee works in that department. 
                  </p>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015699"><span class="bold">ON DELETE Example</span></p>
                  <p>This statement creates the <code class="codeph">dept_20</code> table, defines and enables two referential integrity constraints, and uses the <code class="codeph">ON</code> <code class="codeph">DELETE</code> clause:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE dept_20 
   (employee_id     NUMBER(4) PRIMARY KEY, 
    last_name       VARCHAR2(10), 
    job_id          VARCHAR2(9), 
    manager_id      NUMBER(4) CONSTRAINT fk_mgr
                    REFERENCES employees ON DELETE SET NULL, 
    hire_date       DATE, 
    salary          NUMBER(7,2), 
    commission_pct  NUMBER(7,2), 
    department_id   NUMBER(2)   CONSTRAINT fk_deptno 
                    REFERENCES departments(department_id) 
                    ON DELETE CASCADE ); 
</pre><p>Because of the first <code class="codeph">ON</code> <code class="codeph">DELETE</code> clause, if manager number 2332 is deleted from the <code class="codeph">employees</code> table, then Oracle sets to null the value of <code class="codeph">manager_id</code> for all employees in the <code class="codeph">dept_20</code> table who previously had manager 2332.
                  </p>
                  <p>Because of the second <code class="codeph">ON</code> <code class="codeph">DELETE</code> clause, Oracle cascades any deletion of a <code class="codeph">department_id</code> value in the <code class="codeph">departments</code> table to the <code class="codeph">department_id</code> values of its dependent rows of the <code class="codeph">dept_20</code> table. For example, if Department 20 is deleted from the <code class="codeph">departments</code> table, then Oracle deletes all of the employees in Department 20 from the <code class="codeph">dept_20</code> table. 
                  </p>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015710"><span class="bold">Composite Foreign Key Constraint Example</span></p>
                  <p>The following statement defines and enables a foreign key on the combination of the <code class="codeph">employee_id</code> and <code class="codeph">hire_date</code> columns of the <code class="codeph">dept_20</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE dept_20
   ADD CONSTRAINT fk_empid_hiredate
   FOREIGN KEY (employee_id, hire_date)
   REFERENCES hr.job_history(employee_id, start_date)
   EXCEPTIONS INTO wrong_emp;
</pre><p>The constraint <code class="codeph">fk_empid_hiredate</code> ensures that all the employees in the <code class="codeph">dept_20</code> table have <code class="codeph">employee_id</code> and <code class="codeph">hire_date</code> combinations that exist in the <code class="codeph">employees</code> table. Before you define and enable this constraint, you must define and enable a constraint that designates the combination of the <code class="codeph">employee_id</code> and <code class="codeph">hire_date</code> columns of the <code class="codeph">employees</code> table as a primary or unique key. 
                  </p>
                  <p>The <code class="codeph">EXCEPTIONS</code> <code class="codeph">INTO</code> clause causes Oracle to write information to the <code class="codeph">wrong_emp</code> table about any rows in the <code class="codeph">dept_20</code> table that violate the constraint. If the <code class="codeph">wrong_emp</code> exceptions table does not already exist, then this statement will fail.
                  </p>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002719"><span class="bold">Check Constraint Examples</span></p>
                  <p>The following statement creates a <code class="codeph">divisions</code> table and defines a <code class="codeph">check</code> constraint in each column of the table:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE divisions  
   (div_no    NUMBER  CONSTRAINT check_divno
              CHECK (div_no BETWEEN 10 AND 99) 
              DISABLE, 
    div_name  VARCHAR2(9)  CONSTRAINT check_divname
              CHECK (div_name = UPPER(div_name)) 
              DISABLE, 
    office    VARCHAR2(10)  CONSTRAINT check_office
              CHECK (office IN ('DALLAS','BOSTON',
              'PARIS','TOKYO')) 
              DISABLE); 
</pre><p>Each constraint restricts the values of the column in which it is defined: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">check_divno</code> ensures that no division numbers are less than 10 or greater than 99. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">check_divname</code> ensures that all division names are in uppercase. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">check_office</code> restricts office locations to Dallas, Boston, Paris, or Tokyo. 
                        </p>
                     </li>
                  </ul>
                  <p>Because each <code class="codeph">CONSTRAINT</code> clause contains the <code class="codeph">DISABLE</code> clause, Oracle only defines the constraints and does not enable them. 
                  </p>
                  <p>The following statement creates the <code class="codeph">dept_20</code> table, defining out of line and implicitly enabling a check constraint:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE dept_20
   (employee_id     NUMBER(4) PRIMARY KEY, 
    last_name       VARCHAR2(10), 
    job_id          VARCHAR2(9), 
    manager_id      NUMBER(4), 
    salary          NUMBER(7,2), 
    commission_pct  NUMBER(7,2), 
    department_id   NUMBER(2),
    CONSTRAINT check_sal CHECK (salary * commission_pct &lt;= 5000));
</pre><p>This constraint uses an inequality condition to limit an employee's total commission, the product of <code class="codeph">salary</code> and <code class="codeph">commission_pct</code>, to $5000: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If an employee has non-null values for both salary and commission, then the product of these values must not exceed $5000 to satisfy the constraint. </p>
                     </li>
                     <li>
                        <p>If an employee has a null salary or commission, then the result of the condition is unknown and the employee automatically satisfies the constraint. </p>
                     </li>
                  </ul>
                  <p>Because the constraint clause in this example does not supply a constraint name, Oracle generates a name for the constraint. </p>
                  <p>The following statement defines and enables a primary key constraint, two foreign key constraints, a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint, and two check constraints:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE order_detail 
  (CONSTRAINT pk_od PRIMARY KEY (order_id, part_no), 
   order_id    NUMBER 
      CONSTRAINT fk_oid 
         REFERENCES oe.orders(order_id), 
   part_no     NUMBER 
      CONSTRAINT fk_pno 
         REFERENCES oe.product_information(product_id), 
   quantity    NUMBER 
      CONSTRAINT nn_qty NOT NULL 
      CONSTRAINT check_qty CHECK (quantity &gt; 0), 
   cost        NUMBER 
      CONSTRAINT check_cost CHECK (cost &gt; 0) ); 
</pre><p>The constraints enable the following rules on table data:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p> <code class="codeph">pk_od</code> identifies the combination of the <code class="codeph">order_id</code> and <code class="codeph">part_no</code> columns as the primary key of the table. To satisfy this constraint, no two rows in the table can contain the same combination of values in the <code class="codeph">order_id</code> and the <code class="codeph">part_no</code> columns, and no row in the table can have a null in either the <code class="codeph">order_id</code> or the <code class="codeph">part_no</code> column.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">fk_oid</code> identifies the <code class="codeph">order_id</code> column as a foreign key that references the <code class="codeph">order_id</code> column in the <code class="codeph">orders</code> table in the sample schema <code class="codeph">oe</code>. All new values added to the column <code class="codeph">order_detail</code>.<code class="codeph">order_id</code> must already appear in the column <code class="codeph">oe.orders.order_id</code>. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">fk_pno</code> identifies the <code class="codeph">product_id</code> column as a foreign key that references the <code class="codeph">product_id</code> column in the <code class="codeph">product_information</code> table owned by <code class="codeph">oe</code>. All new values added to the column <code class="codeph">order_detail.product_id</code> must already appear in the column <code class="codeph">oe.product_information.product_id</code>. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">nn_qty</code> forbids nulls in the <code class="codeph">quantity</code> column. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">check_qty</code> ensures that values in the <code class="codeph">quantity</code> column are always greater than zero. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">check_cost</code> ensures the values in the cost column are always greater than zero. 
                        </p>
                     </li>
                  </ul>
                  <p>This example also illustrates the following points about constraint clauses and column definitions: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Out-of-line constraint definition can appear before or after the column definitions. In this example, the out-of-line definition of the <code class="codeph">pk_od</code> constraint precedes the column definitions. 
                        </p>
                     </li>
                     <li>
                        <p>A column definition can contain multiple inline constraint definitions. In this example, the definition of the <code class="codeph">quantity</code> column contains the definitions of both the <code class="codeph">nn_qty</code> and <code class="codeph">check_qty</code> constraints. 
                        </p>
                     </li>
                     <li>
                        <p>A table can have multiple <code class="codeph">CHECK</code> constraints. Multiple <code class="codeph">CHECK</code> constraints, each with a simple condition enforcing a single business rule, are preferable to a single <code class="codeph">CHECK</code> constraint with a complicated condition enforcing multiple business rules. When a constraint is violated, Oracle returns an error identifying the constraint. Such an error more precisely identifies the violated business rule if the identified constraint enables a single business rule. 
                        </p>
                     </li>
                  </ul>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__P-134369-659048FD"><span class="bold">Case-Insensitive Constraints Example</span></p>
                  <p>The following statements create two tables in a parent-child relationship. The parent table is a product description table and the child table is a product component description table. Unique constraints are defined to assure that product and description values are unambiguous. For illustrative purposes, the product and component ID are case-insensitive character values. (In real-world applications, primary key IDs are usually numeric or case-normalized.)</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE products
    ( product_id VARCHAR2(20) COLLATE BINARY_CI
           CONSTRAINT product_pk PRIMARY KEY
    , description VARCHAR2(1000) COLLATE BINARY_CI
           CONSTRAINT product_description_unq UNIQUE
    );

CREATE TABLE product_components
    ( component_id VARCHAR2(40) COLLATE BINARY_CI
           CONSTRAINT product_component_pk PRIMARY KEY
    , product_id CONSTRAINT product_component_fk REFERENCES products(product_id)
    , description VARCHAR2(1000) COLLATE BINARY_CI
           CONSTRAINT product_component_descr_unq UNIQUE
    );</pre><p>Note that if you do not specify the data type or the collation for a foreign key column, then they are inherited from the parent key column.</p>
                  <p>The following statements add a product and its components into the tables:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO products(product_id, description)
            VALUES('BICY0001', 'Men''s bicycle, fr 21", wh 24", gear 3x7');
INSERT INTO product_components(component_id, product_id, description)
            VALUES('BICY0001_FRAME01', 'BICY0001', 'Aluminium frame 21"');
INSERT INTO product_components(component_id, product_id, description)
            VALUES('BICY0001_WHEEL01', 'bicy0001', 'Wheels 24"');
INSERT INTO product_components(component_id, product_id, description)
            VALUES('BICY0001_GEAR01', 'Bicy0001', 'Front derailleur 3 chainrings');
INSERT INTO product_components(component_id, product_id, description)
            VALUES('BICY0001_gear02', 'BiCy0001', 'Rear derailleur 7 chainrings');</pre><p>Note the different case of the product ID in different component rows. Because the primary key on the product ID is declared as case-insensitive, all possible letter case combinations of the same ID are considered equal.</p>
                  <p>The following statement demonstrates that it is not possible to enter another product with the same description differing only by case. It fails with the error <code class="codeph">ORA-00001:</code> <code class="codeph">unique</code> <code class="codeph">constraint</code> <code class="codeph">(</code><span class="italic"><code class="codeph">schema</code></span><code class="codeph">.PRODUCT_DESCRIPTION_UNQ)</code> <code class="codeph">violated</code>.
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO products(product_id, description)
            VALUES('BICY0002', 'MEN''S BICYCLE, fr 21", wh 24", gear 3x7');</pre><p>Similarly, the following statement demonstrates that the primary key contraint of the product table is case-insensitive and does not allow values differing only by case. It fails with the error <code class="codeph">ORA-00001:</code> <code class="codeph">unique</code> <code class="codeph">constraint</code> <code class="codeph">(</code><span class="italic"><code class="codeph">schema</code></span><code class="codeph">.PRODUCT_PK)</code> <code class="codeph">violated</code>.
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO products(component_id, product_id, description)
            VALUES('bicy0001', 'Women''s bicycle, fr 21", wh 24", gear 2x6');</pre><p>The following statement demonstrates that it is not possible to enter another component with the same description differing only by case. It fails with the error <code class="codeph">ORA-00001:</code> <code class="codeph">unique</code> <code class="codeph">constraint</code> <code class="codeph">(</code><span class="italic"><code class="codeph">schema</code></span><code class="codeph">.PRODUCT_COMPONENT_DESCR_UNQ)</code> <code class="codeph">violated</code>.
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO product_components(component_id, product_id, description)
            VALUES('BICY0001_gear03', 'BiCy0001', 'REAR DERAILLEUR 7 CHAINRINGS');</pre><p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002779"><span class="bold">Attribute-Level Constraints Example</span></p>
                  <p>The following example guarantees that a value exists for both the <code class="codeph">first_name</code> and <code class="codeph">last_name</code> attributes of the <code class="codeph">name</code> column in the <code class="codeph">students</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE person_name AS OBJECT
   (first_name VARCHAR2(30), last_name VARCHAR2(30));
/

CREATE TABLE students (name person_name, age INTEGER,
   CHECK (name.first_name IS NOT NULL AND 
          name.last_name IS NOT NULL));</pre><p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015744"><span class="bold">REF Constraint Examples</span></p>
                  <p>The following example creates a duplicate of the sample schema object type <code class="codeph">cust_address_typ</code>, and then creates a table containing a <code class="codeph">REF</code> column with a <code class="codeph">SCOPE</code> constraint:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE cust_address_typ_new AS OBJECT
    ( street_address     VARCHAR2(40)
    , postal_code        VARCHAR2(10)
    , city               VARCHAR2(30)
    , state_province     VARCHAR2(10)
    , country_id         CHAR(2)
    );
/
CREATE TABLE address_table OF cust_address_typ_new;

CREATE TABLE customer_addresses (
   add_id NUMBER, 
   address REF cust_address_typ_new
   SCOPE IS address_table);
</pre><p>The following example creates the same table but with a referential integrity constraint on the <code class="codeph">REF</code> column that references the object identifier column of the parent table:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE customer_addresses (
   add_id NUMBER,
   address REF cust_address_typ REFERENCES address_table);
</pre><p>The following example uses the type <code class="codeph">department_typ</code> and the table <code class="codeph">departments_obj_t</code>, created in <span class="q">"<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2102043">Creating Object Tables: Examples</a>"</span>. A table with a scoped <code class="codeph">REF</code> is then created.
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employees_obj
   ( e_name   VARCHAR2(100),
     e_number NUMBER,
     e_dept   REF department_typ SCOPE IS departments_obj_t );
</pre><p>The following statement creates a table with a <code class="codeph">REF</code> column which has a referential integrity constraint defined on it: 
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employees_obj
   ( e_name   VARCHAR2(100),
     e_number NUMBER,
     e_dept   REF department_typ REFERENCES departments_obj_t);</pre><p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1002834"><span class="bold">Explicit Index Control Example</span></p>
                  <p>The following statement shows another way to create a unique (or primary key) constraint that gives you explicit control over the index (or indexes) Oracle uses to enforce the constraint:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE promotions_var3
    ( promo_id         NUMBER(6)
    , promo_name       VARCHAR2(20)
    , promo_category   VARCHAR2(15)
    , promo_cost       NUMBER(10,2)
    , promo_begin_date DATE
    , promo_end_date   DATE
    , CONSTRAINT promo_id_u UNIQUE (promo_id, promo_cost)
         USING INDEX (CREATE UNIQUE INDEX promo_ix1
            ON promotions_var3 (promo_id, promo_cost))
    , CONSTRAINT promo_id_u2 UNIQUE (promo_cost, promo_id) 
         USING INDEX promo_ix1);
</pre><p>This example also shows that you can create an index for one constraint and use that index to create and enable another constraint in the same statement.</p>
                  <p id="GUID-1055EA97-BA6F-4764-A15F-1024FD5B6DFE__I1015767"><span class="bold">DEFERRABLE Constraint Examples</span></p>
                  <p>The following statement creates table <code class="codeph">games</code> with a <code class="codeph">NOT</code> <code class="codeph">DEFERRABLE</code> <code class="codeph">INITIALLY</code> <code class="codeph">IMMEDIATE</code> constraint check (by default) on the <code class="codeph">scores</code> column:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE games (scores NUMBER CHECK (scores &gt;= 0));
</pre><p>To define a unique constraint on a column as <code class="codeph">INITIALLY</code> <code class="codeph">DEFERRED</code> <code class="codeph">DEFERRABLE</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE games
  (scores NUMBER, CONSTRAINT unq_num UNIQUE (scores)
   INITIALLY DEFERRED DEFERRABLE);</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>