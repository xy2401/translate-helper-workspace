<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>TREAT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="TRANSLATE-USING.html" title="Previous" type="text/html">
      <link rel="next" href="TRIM.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="TRANSLATE-USING.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="TRIM.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">TREAT </li>
            </ol>
            <a id="GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF" name="GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF"></a><a id="SQLRF51937"></a><a id="SQLRF51938"></a><a id="SQLRF51939"></a><a id="SQLRF06148"></a>
            
            <h2 id="SQLRF-GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF" class="sect2">TREAT </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF__GUID-67F39C21-F914-473D-BE31-19AF68B29971">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF__GUID-A2097FB4-1FC1-48B7-A004-CDCB41D4163E"><img src="img/treat.gif" alt="Description of treat.eps follows" title="Description of treat.eps follows" longdesc="img_text/treat.html"><br><a href="img_text/treat.html">Description of the illustration treat.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF__GUID-6F6D221F-A75D-4C04-BE5D-A99153B8A95D">Purpose</p>
                  <p>You can use the <code class="codeph">TREAT</code> function to change the declared type of an expression.
                  </p>
                  <p>Use the keywords <code class="codeph">AS JSON</code> when you want the expression to return JSON data. This is useful when you want to force some text to be interpreted as JSON data. For example, you can use it to interpret a <code class="codeph">VARCHAR2</code> value of {} as an empty JSON object instead of a string. 
                  </p>
                  <p>You must have the <code class="codeph">EXECUTE</code> object privilege on <span class="italic"><code class="codeph">type</code></span> to use this function. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>In <span class="italic"><code class="codeph">expr AS JSON</code></span> <span class="italic">, <code class="codeph">expr</code></span> is a SQL data type containing JSON, for example <code class="codeph">CLOB</code>.
                        </p>
                     </li>
                     <li>
                        <p>In <span class="italic"><code class="codeph">expr AS type</code></span> <span class="italic">, <code class="codeph">expr</code></span> and <span class="italic"><code class="codeph">type</code></span> must be a user-defined object types, excluding top-level collections.
                        </p>
                     </li>
                     <li>
                        <p><span class="italic"><code class="codeph">type</code></span> must be some supertype or subtype of the declared type of <span class="italic"><code class="codeph">expr</code></span>. If the most specific type of <span class="italic"><code class="codeph">expr</code></span> is <span class="italic"><code class="codeph">type</code></span> (or some subtype of <span class="italic"><code class="codeph">type</code></span>), then <code class="codeph">TREAT</code> returns <span class="italic"><code class="codeph">expr</code></span>. If the most specific type of <span class="italic"><code class="codeph">expr</code></span> is not <span class="italic"><code class="codeph">type</code></span> (or some subtype of <span class="italic"><code class="codeph">type</code></span>), then <code class="codeph">TREAT</code> returns <code class="codeph">NULL</code>.
                        </p>
                     </li>
                     <li>
                        <p>You can specify <code class="codeph">REF</code> only if the declared type of <span class="italic"><code class="codeph">expr</code></span> is a <code class="codeph">REF</code> type.
                        </p>
                     </li>
                     <li>
                        <p>If the declared type of <span class="italic"><code class="codeph">expr</code></span> is a <code class="codeph">REF</code> to a source type of <span class="italic"><code class="codeph">expr</code></span>, then <span class="italic"><code class="codeph">type</code></span> must be some subtype or supertype of the source type of <span class="italic"><code class="codeph">expr</code></span>. If the most specific type of <code class="codeph">DEREF</code>(<span class="italic"><code class="codeph">expr</code></span>) is <span class="italic"><code class="codeph">type</code></span> (or a subtype of <span class="italic"><code class="codeph">type</code></span>), then <code class="codeph">TREAT</code> returns <span class="italic"><code class="codeph">expr</code></span>. If the most specific type of <code class="codeph">DEREF</code>(<span class="italic"><code class="codeph">expr</code></span>) is not <span class="italic"><code class="codeph">type</code></span> (or a subtype of <span class="italic"><code class="codeph">type</code></span>), then <code class="codeph">TREAT</code> returns <code class="codeph">NULL</code>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF__GUID-BCC0B466-709B-407B-A534-43C7CF11EDC8">
                     <p class="notep1">See Also:</p>
                     <p> <span class="q">"<a href="Data-Type-Comparison-Rules.html#GUID-1563C817-86BF-430B-99AB-322EE2E29187">Data Type Comparison Rules</a>"</span> for more information 
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF__GUID-C75346D6-7288-4A8F-B185-3201C21607A2">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following statement uses the table <code class="codeph">oe.persons</code>, which is created in <span class="q">"<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2090577">Substitutable Table and Column Examples</a>"</span>. The example retrieves the salary attribute of all people in the <code class="codeph">persons</code> table, the value being null for instances of people that are not employees.
                  </p><pre class="oac_no_warn" dir="ltr">SELECT name, TREAT(VALUE(p) AS employee_t).salary salary 
   FROM persons p;

NAME                          SALARY
------------------------- ----------
Bob
Joe                           100000
Tim                             1000
</pre><p>You can use the <code class="codeph">TREAT</code> function to create an index on the subtype attributes of a substitutable column. For an example, see <span class="q">"<a href="CREATE-INDEX.html#GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE__I2089060">Indexing on Substitutable Columns: Examples</a>"</span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section"></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>