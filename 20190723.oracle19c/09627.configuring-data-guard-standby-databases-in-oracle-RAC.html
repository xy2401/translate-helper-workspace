<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="An Oracle Data Guard configuration can consist of any combination of single-instance and Oracle Real Application Clusters (Oracle RAC) multiple-instance databases.">
      <meta name="description" content="An Oracle Data Guard configuration can consist of any combination of single-instance and Oracle Real Application Clusters (Oracle RAC) multiple-instance databases.">
      <title>Oracle Data Guard and Oracle Real Application Clusters</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="An Oracle Data Guard configuration can consist of any combination of single-instance and Oracle Real Application Clusters (Oracle RAC) multiple-instance databases.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96244-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="data-type-ddl-support-on-logical-standby-databases.html" title="Previous" type="text/html">
      <link rel="next" href="creating-data-guard-standby-database-using-RMAN.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="SBYDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="data-type-ddl-support-on-logical-standby-databases.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="creating-data-guard-standby-database-using-RMAN.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-supplemental-information.html" property="item" typeof="WebPage"><span property="name"> Appendixes </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Data Guard and Oracle Real Application Clusters</li>
            </ol>
            <a id="GUID-084DF97B-5524-401A-BAA4-65BA279F5B11" name="GUID-084DF97B-5524-401A-BAA4-65BA279F5B11"></a><a id="SBYDB01700"></a>
            
            <h2 id="SBYDB-GUID-084DF97B-5524-401A-BAA4-65BA279F5B11" class="sect2"><span class="enumeration_chapter">D </span> Oracle Data Guard and Oracle Real Application Clusters
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>An Oracle Data Guard configuration can consist of any combination of single-instance and Oracle Real Application Clusters (Oracle RAC) multiple-instance databases. </p>
               <p>This appendix summarizes the configuration requirements and considerations that apply when using Oracle Data Guard with Oracle RAC databases. It contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-3140A293-DDD8-4559-8493-B6C21646E90F" title="You can configure a standby database to protect a primary database using Oracle Real Application Clusters (Oracle RAC).">Configuring Standby Databases in an Oracle RAC Environment</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-E754F226-C5EC-4A93-A506-C699581AA2AF" title="Oracle Real Application Clusters (Oracle RAC) have specific Oracle Data Guard configuration requirements regarding the format for archived redo log filenames, and for data protection modes.">Configuration Considerations in an Oracle RAC Environment</a></p>
                  </li>
               </ul>
            </div><a id="SBYDB4960"></a><div class="props_rev_3"><a id="GUID-3140A293-DDD8-4559-8493-B6C21646E90F" name="GUID-3140A293-DDD8-4559-8493-B6C21646E90F"></a><h3 id="SBYDB-GUID-3140A293-DDD8-4559-8493-B6C21646E90F" class="sect3"><span class="enumeration_section">D.1 </span>Configuring Standby Databases in an Oracle RAC Environment
               </h3>
               <div>
                  <p>You can configure a standby database to protect a primary database using Oracle Real Application Clusters (Oracle RAC). </p>
                  <div class="section">
                     <p>The following table describes the possible combinations of instances in the primary and standby databases:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-3140A293-DDD8-4559-8493-B6C21646E90F__GUID-62C7974A-995F-4232-A981-809C8F6C180D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="This 3 column table describes all possible combinations of single-instance and Real Application Clusters multi-instance databases in a Data Guard configuration." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="45%" id="d66977e185">Instance Combinations</th>
                              <th align="left" valign="bottom" width="29%" id="d66977e189">Single-Instance Standby Database</th>
                              <th align="left" valign="bottom" width="26%" id="d66977e192">Multi-Instance Standby Database</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d66977e197" headers="d66977e185 ">
                                 <p><span class="bold">Single-instance primary database</span></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d66977e197 d66977e189 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d66977e197 d66977e192 ">
                                 <p>No</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="45%" id="d66977e208" headers="d66977e185 ">
                                 <p><span class="bold">Multi-instance primary database</span></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d66977e208 d66977e189 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d66977e208 d66977e192 ">
                                 <p>Yes</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>In each scenario, each instance of the primary database transmits its redo data to an instance of the standby database. As of Oracle Database 12c release 2 (12.2.0.1) you can also perform multi-instance redo apply.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="sect3"><a id="GUID-00B72AF1-0453-4FBD-901F-A3764631BE1F" name="GUID-00B72AF1-0453-4FBD-901F-A3764631BE1F"></a><h4 id="SBYDB-GUID-00B72AF1-0453-4FBD-901F-A3764631BE1F" class="sect4"><span class="enumeration_section">D.1.1 </span>Setting Up Multi-Instance Redo Apply
                  </h4>
                  <div>
                     <p>As of Oracle Database 12<code class="codeph">c</code> Release 2 (12.2.0.1), a new <code class="codeph"> INSTANCES [ ALL | <span class="variable" translate="no">integer</span>]</code> clause is available on the SQL <code class="codeph">ALTER DATABASE RECOVER MANAGED STANDBY DATABASE</code> command.
                     </p>
                     <p></p>
                     <p>To use In-Memory Column Store with multi-instance redo apply in an Active Data Guard environment, set the <code class="codeph">enable_imc_with_mira</code> initialization parameter to <code class="codeph">TRUE</code>.
                     </p>
                     <p>The following restrictions apply:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The clause is applicable only for Oracle Real Application Clusters (Oracle RAC) or Oracle RAC One Node databases.</p>
                        </li>
                        <li>
                           <p>You cannot use multi-instance redo apply when you enable <code class="codeph">STANDBY NOLOGGING FOR DATA AVAILABILITY</code> or <code class="codeph">STANDBY NOLOGGING FOR LOAD PERFORMANCE</code> on the primary database.
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">ALL</code> option causes redo apply to run on all instances in an Oracle RAC standby database that are in an open or mounted state at the time recovery is started. All instances must be in the same state — either open or mounted. A mix of states is not allowed.
                     </p>
                     <p>The <code class="codeph"><span class="variable" translate="no">integer</span></code> option restricts the number of instances that redo apply uses to the number you specify. For integer, specify an integer value from 1 to the number of instances in the standby database. The database chooses the instances on which to perform Redo Apply; you cannot specify particular instances. 
                     </p>
                     <p>The <code class="codeph">V$RECOVERY_PROGRESS</code> view is only populated on the instance where recovery was started (where the MRP0 process resides).
                     </p>
                     <p>If you omit the <code class="codeph">INSTANCES </code>clause, then recovery happens on only one instance where the command was issued.
                     </p>
                     <p>Because recovery processes ship redo among instances, redo apply performance is directly related to network bandwidth and latency.</p>
                  </div>
               </div><a id="SBYDB5098"></a><a id="SBYDB5099"></a><a id="SBYDB5100"></a><a id="SBYDB4961"></a><div class="props_rev_3"><a id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26" name="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26"></a><h4 id="SBYDB-GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26" class="sect4"><span class="enumeration_section">D.1.2 </span>Setting Up a Multi-Instance Primary with a Single-Instance Standby
                  </h4>
                  <div>
                     <p>This figure illustrates an Oracle RAC database with two primary database instances (a multi-instance primary database) transmitting redo data to a single-instance standby database.</p>
                     <div class="section">
                        <div class="figure" id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__I635256">
                           <p class="titleinfigure">Figure D-1 Transmitting Redo Data from a Multi-Instance Primary Database</p><img src="img/sbydb056.gif" alt="Description of Figure D-1 follows" title="Description of Figure D-1 follows" longdesc="img_text/sbydb056.html"><br><a href="img_text/sbydb056.html">Description of "Figure D-1 Transmitting Redo Data from a Multi-Instance Primary Database"</a></div>
                        <!-- class="figure" -->
                        <p>In this case, Instance 1 of the primary database archives redo data to local archived redo log files 1, 2, 3, 4, 5 and transmits the redo data to the standby database destination, while Instance 2 archives redo data to local archived redo log files 32, 33, 34, 35, 36 and transmits the redo data to the same standby database destination. The standby database automatically determines the correct order in which to apply the archived redo log files.</p>
                        <p>Although <a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__I635256">Figure D-1</a> does not show standby redo logs, it is a best practice to configure standby redo logs at the standby for both instances of the primary. The redo from the primary online redo log files at Instance 1 and Instance 2 would then be received first in the standby redo logs for Instance 1 and Instance 2, respectively, and then archived.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__GUID-32B1DFFE-C28B-4292-98D2-16864768F3DE">To Configure a Primary Database in an Oracle RAC Environment</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Before you create a standby database you must first ensure the primary database is properly configured. To do so, you must perform some preparatory steps, after which the database is prepared to serve as the primary database for one or more standby databases.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__GUID-E50903D9-AD90-4261-A854-A5797DFAFBDE">To Configure a Single Instance Standby Database</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To specify the location of the archived redo log files and standby redo log files, define the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> and <code class="codeph">LOG_ARCHIVE_FORMAT</code> parameters.
                        </p>
                        <div class="infoboxnotealso" id="GUID-EBCDC4F9-B0C7-49C7-B04C-AD4DF60F3D26__GUID-7EAC46AE-84F4-4DF7-82E8-63F8F4B04A0B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="oracle-data-guard-redo-transport-services.html#GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937">Managing Standby Redo Logs</a> for more information about standby redo logs
                                 </p>
                              </li>
                              <li>
                                 <p><a href="creating-oracle-data-guard-physical-standby.html#GUID-B511FB6E-E3E7-436D-94B5-071C37550170" title="You can manually create a physical standby database in maximum performance mode using asynchronous redo transport and real-time apply, the default Oracle Data Guard configuration.">Creating a Physical Standby Database</a> for information about configuring a primary database when creating a physical standby database.
                                 </p>
                              </li>
                              <li>
                                 <p><a href="creating-oracle-data-guard-logical-standby.html#GUID-3666CA35-D993-44B6-8D70-A2B8B9EC8B2E" title="There are a number of steps involved in creating a logical standby database, including prerequisites and post-creation tasks.">Creating a Logical Standby Database</a> for information about configuring a primary database when creating a logical standby database.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4962"></a><div class="props_rev_3"><a id="GUID-65F87F2F-6602-4673-B971-4AEE3B4F7B4D" name="GUID-65F87F2F-6602-4673-B971-4AEE3B4F7B4D"></a><h4 id="SBYDB-GUID-65F87F2F-6602-4673-B971-4AEE3B4F7B4D" class="sect4"><span class="enumeration_section">D.1.3 </span>Setting Up Oracle RAC Primary and Standby Databases
                  </h4>
                  <div>
                     <p>An Oracle RAC primary database must be set up to send redo data to an Oracle RAC standby database, and an Oracle RAC standby database must be set up to receive redo data.</p>
                  </div><a id="SBYDB4963"></a><div class="props_rev_3"><a id="GUID-54BEB161-7125-4879-98B4-ED1F61BC3E9E" name="GUID-54BEB161-7125-4879-98B4-ED1F61BC3E9E"></a><h5 id="SBYDB-GUID-54BEB161-7125-4879-98B4-ED1F61BC3E9E" class="sect5"><span class="enumeration_section">D.1.3.1 </span>Configuring an Oracle RAC Standby Database to Receive Redo Data
                     </h5>
                     <div>
                        <p>These steps describe how to configure an Oracle RAC standby database to receive redo data from a primary database.</p>
                        <div class="section"></div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>Create a standby redo log on the standby database. The redo log files in the standby redo log must reside in a location that can be accessed by all of the standby database instances, such as on a cluster file system or Oracle ASM instance. See <a href="oracle-data-guard-redo-transport-services.html#GUID-E6EC6104-3C38-482D-B807-A0E84ECFB937">Managing Standby Redo Logs</a> for more information about creating a standby redo log.</span></li>
                           <li><span>Configure standby redo log archival on each standby database instance. The standby redo log must be archived to a location that can be accessed by all of the standby database instances, and every standby database instance must be configured to archive the standby redo log to the same location.</span></li>
                        </ol>
                     </div>
                  </div><a id="SBYDB4964"></a><div class="props_rev_3"><a id="GUID-AD6594AC-6F4B-4EC0-84DD-54CEF3A6C1A7" name="GUID-AD6594AC-6F4B-4EC0-84DD-54CEF3A6C1A7"></a><h5 id="SBYDB-GUID-AD6594AC-6F4B-4EC0-84DD-54CEF3A6C1A7" class="sect5"><span class="enumeration_section">D.1.3.2 </span>Configuring an Oracle RAC Primary Database to Send Redo Data
                     </h5>
                     <div>
                        <div>Configure each instance of the Oracle RAC primary database to send its redo data to the Oracle RAC standby database.  <span>These are the best practices that Oracle recommends you follow when you configure an Oracle RAC primary database to send redo data to an Oracle RAC standby database.</span></div>
                        <ol>
                           <li>
                              <p>Use the same <code class="codeph">LOG_ARCHIVE_DEST_n</code> parameter on each primary database instance to send redo data to a given standby database.
                              </p>
                           </li>
                           <li>
                              <p>Set the <code class="codeph">SERVICE</code> attribute of each <code class="codeph">LOG_ARCHIVE_DEST_n</code> parameter that corresponds to a given standby database to the same net service name.
                              </p>
                           </li>
                           <li>
                              <p>The net service name should resolve to an Oracle Net connect descriptor that contains an address list, and that address list should contain connection data for each standby database instance.</p>
                           </li>
                        </ol>
                        <p><a href="oracle-data-guard-redo-transport-services.html#GUID-45DFFA7C-3967-4B46-8C2C-DBD22A4D6A74" title="To specify a redo transport destination, use the LOG_ARCHIVE_DEST_n database initialization parameter (where n is an integer from 1 to 31).">Configuring an Oracle Database to Send Redo Data</a> describes how to configure an Oracle database instance to send redo data to another database.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB4965"></a><div class="props_rev_3"><a id="GUID-E754F226-C5EC-4A93-A506-C699581AA2AF" name="GUID-E754F226-C5EC-4A93-A506-C699581AA2AF"></a><h3 id="SBYDB-GUID-E754F226-C5EC-4A93-A506-C699581AA2AF" class="sect3"><span class="enumeration_section">D.2 </span>Configuration Considerations in an Oracle RAC Environment
               </h3>
               <div>
                  <p>Oracle Real Application Clusters (Oracle RAC) have specific Oracle Data Guard configuration requirements regarding the format for archived redo log filenames, and for data protection modes.</p>
                  <p>See the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-1D0678E0-160E-4097-8D51-10563838FB98" title="The format for archived redo log filenames is in the form of log_%parameter.">Format for Archived Redo Log Filenames</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-7920893D-D3D2-44F4-A640-F68B6D516B1C" title="If any instance of an Oracle RAC primary database loses connectivity with a standby database, all other primary database instances stop sending redo to the standby database for the number of seconds specified on the LOG_ARCHIVE_DEST_n REOPEN attribute, after which all primary database instances attempt to reconnect to the standby database.">Data Protection Modes</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB5101"></a><a id="SBYDB4966"></a><div class="props_rev_3"><a id="GUID-1D0678E0-160E-4097-8D51-10563838FB98" name="GUID-1D0678E0-160E-4097-8D51-10563838FB98"></a><h4 id="SBYDB-GUID-1D0678E0-160E-4097-8D51-10563838FB98" class="sect4"><span class="enumeration_section">D.2.1 </span>Format for Archived Redo Log Filenames
                  </h4>
                  <div>
                     <p>The format for archived redo log filenames is in the form of log_%<span class="variable" translate="no">parameter</span>.
                     </p>
                     <div class="section">
                        <p>The %<span class="variable" translate="no">parameter</span> can include one or more of the parameters in <a href="configuring-data-guard-standby-databases-in-oracle-RAC.html#GUID-1D0678E0-160E-4097-8D51-10563838FB98__G649139" title="This 2 column table describes the log_%parameter directives you set on the LOG_ARCHIVE_FORMAT initialization parameter to format archived redo log filenames.">Table D-1</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-1D0678E0-160E-4097-8D51-10563838FB98__G649139">
                        <p class="titleintable">Table D-1 Directives for the LOG_ARCHIVE_FORMAT Initialization Parameter</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Directives for the LOG_ARCHIVE_FORMAT Initialization Parameter" summary="This 2 column table describes the log_%parameter directives you set on the LOG_ARCHIVE_FORMAT initialization parameter to format archived redo log filenames." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d66977e964">Directives</th>
                                 <th align="left" valign="bottom" width="69%" id="d66977e967">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e972" headers="d66977e964 ">
                                    <p><code class="codeph">%a</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e972 d66977e967 ">
                                    <p>Database activation ID.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e980" headers="d66977e964 ">
                                    <p><code class="codeph">%A</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e980 d66977e967 ">
                                    <p>Database activation ID, zero filled.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e988" headers="d66977e964 ">
                                    <p><code class="codeph">%d</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e988 d66977e967 ">
                                    <p>Database ID.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e996" headers="d66977e964 ">
                                    <p><code class="codeph">%D</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e996 d66977e967 ">
                                    <p>Database ID, zero filled.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1004" headers="d66977e964 ">
                                    <p><code class="codeph">%t</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1004 d66977e967 ">
                                    <p>Instance thread number.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1012" headers="d66977e964 ">
                                    <p><code class="codeph">%T</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1012 d66977e967 ">
                                    <p>Instance thread number, zero filled.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1020" headers="d66977e964 ">
                                    <p><code class="codeph">%s</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1020 d66977e967 ">
                                    <p>Log file sequence number.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1028" headers="d66977e964 ">
                                    <p><code class="codeph">%S</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1028 d66977e967 ">
                                    <p>Log file sequence number, zero filled.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1036" headers="d66977e964 ">
                                    <p><code class="codeph">%r</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1036 d66977e967 ">
                                    <p>Resetlogs ID.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d66977e1044" headers="d66977e964 ">
                                    <p><code class="codeph">%R</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d66977e1044 d66977e967 ">
                                    <p>Resetlogs ID, zero filled.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>For example:</p><pre class="oac_no_warn" dir="ltr">LOG_ARCHIVE_FORMAT = log%d_%t_%s_%r.arc
</pre><p>The thread parameters %t or %T are mandatory for Oracle RAC to uniquely identify the archived redo log files with the <code class="codeph">LOG_ARCHIVE_FORMAT</code> parameter.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4967"></a><div class="props_rev_3"><a id="GUID-7920893D-D3D2-44F4-A640-F68B6D516B1C" name="GUID-7920893D-D3D2-44F4-A640-F68B6D516B1C"></a><h4 id="SBYDB-GUID-7920893D-D3D2-44F4-A640-F68B6D516B1C" class="sect4"><span class="enumeration_section">D.2.2 </span>Data Protection Modes
                  </h4>
                  <div>
                     <p>If any instance of an Oracle RAC primary database loses connectivity with a standby database, all other primary database instances stop sending redo to the standby database for the number of seconds specified on the <code class="codeph">LOG_ARCHIVE_DEST_</code><span class="italic"><code class="codeph">n</code></span> <code class="codeph">REOPEN</code> attribute, after which all primary database instances attempt to reconnect to the standby database.
                     </p>
                     <p>The following list describes the behavior of the protection modes in Oracle RAC environments:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Maximum protection configuration</p>
                           <p>If a lost destination is the <span class="italic">last</span> participating <code class="codeph">SYNC</code> destination, then the instance loses connectivity and is shut down. Other instances in an Oracle RAC configuration that still have connectivity to the standby destinations recover the lost instance and continue sending redo to their standby destinations. Only when every instance in an Oracle RAC configuration loses connectivity to the last standby destination is the primary database shut down.
                           </p>
                        </li>
                        <li>
                           <p>Maximum availability and maximum performance configurations</p>
                           <p>Other instances in an Oracle RAC configuration that still have connectivity to the standby destination recover the lost instance and continue sending redo to their standby destinations. When every instance in an Oracle RAC configuration loses connectivity to the standby destination, the primary database continues operation in maximum performance mode. The maximum performance mode ensures very minimal data loss except when the entire standby fails.</p>
                           <p>The maximum availability protection mode ensures zero data loss except in the case of certain double faults, such as failure of the primary database after the failure of all standby databases. </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>