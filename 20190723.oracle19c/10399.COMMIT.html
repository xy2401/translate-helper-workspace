<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>COMMIT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SQL-Statements-COMMIT-to-CREATE-JAVA.html" title="Previous" type="text/html">
      <link rel="next" href="CREATE-ANALYTIC-VIEW.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SQL-Statements-COMMIT-to-CREATE-JAVA.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CREATE-ANALYTIC-VIEW.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-COMMIT-to-CREATE-JAVA.html" property="item" typeof="WebPage"><span property="name"> SQL Statements: COMMIT to CREATE JAVA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">COMMIT </li>
            </ol>
            <a id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2" name="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2"></a><a id="SQLRF53771"></a><a id="SQLRF53772"></a><a id="SQLRF53773"></a><a id="SQLRF53774"></a><a id="SQLRF53775"></a><a id="SQLRF53776"></a><a id="SQLRF53777"></a><a id="SQLRF53778"></a><a id="SQLRF53779"></a><a id="SQLRF53780"></a><a id="SQLRF53781"></a><a id="SQLRF01110"></a>
            
            <h2 id="SQLRF-GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2" class="sect2">COMMIT </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-49EAFBF2-8E61-4268-8000-1FB82D9D4A53">Purpose </p>
                  <p><a id="d299968e134" class="indexterm-anchor"></a><a id="d299968e138" class="indexterm-anchor"></a><a id="d299968e142" class="indexterm-anchor"></a><a id="d299968e146" class="indexterm-anchor"></a>Use the <code class="codeph">COMMIT</code> statement to end your current transaction and make permanent all changes performed in the transaction. A <span class="bold">transaction</span> is a sequence of SQL statements that Oracle Database treats as a single unit. This statement also erases all savepoints in the transaction and releases transaction locks. 
                  </p>
                  <p>Until you commit a transaction:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can see any changes you have made during the transaction by querying the modified tables, but other users cannot see the changes. After you commit the transaction, the changes are visible to other users' statements that execute after the commit. </p>
                     </li>
                     <li>
                        <p>You can roll back (undo) any changes made during the transaction with the <code class="codeph">ROLLBACK</code> statement (see <a href="ROLLBACK.html#GUID-94551F0C-A47F-43DE-BC68-9B1C1ED38C93">ROLLBACK</a>).
                        </p>
                     </li>
                  </ul>
                  <p>Oracle Database issues an implicit <code class="codeph">COMMIT</code> under the following circumstances:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Before any syntactically valid data definition language (DDL) statement, even if the statement results in an error</p>
                     </li>
                     <li>
                        <p>After any data definition language (DDL) statement that completes without an error</p>
                     </li>
                  </ul>
                  <p><a id="d299968e185" class="indexterm-anchor"></a>You can also use this statement to:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Commit an in-doubt distributed transaction manually</p>
                     </li>
                     <li>
                        <p>Terminate a read-only transaction begun by a <code class="codeph">SET</code> <code class="codeph">TRANSACTION</code> statement
                        </p>
                     </li>
                  </ul>
                  <p>Oracle recommends that you explicitly end every transaction in your application programs with a <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> statement, including the last transaction, before disconnecting from Oracle Database. If you do not explicitly commit the transaction and the program terminates abnormally, then the last uncommitted transaction is automatically rolled back. 
                  </p>
                  <p><a id="d299968e214" class="indexterm-anchor"></a><a id="d299968e218" class="indexterm-anchor"></a>A normal exit from most Oracle utilities and tools causes the current transaction to be committed. A normal exit from an Oracle precompiler program does not commit the transaction and relies on Oracle Database to roll back the current transaction. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-AF088E30-3A7F-463E-BF07-D7800200BF26">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/introduction-to-oracle-database.html#CNCPT016" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information on transactions
                           </p>
                        </li>
                        <li>
                           <p><a href="SET-TRANSACTION.html#GUID-F11E1E30-5871-48D1-8266-F80A1DF126A1">SET TRANSACTION</a> for more information on specifying characteristics of a transaction
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-7E1A4098-948D-4F8F-B7E1-09CA13E9F809">Prerequisites </p>
                  <p>You need no privileges to commit your current transaction. </p>
                  <p>To manually commit a distributed in-doubt transaction that you originally committed, you must have <code class="codeph">FORCE</code> <code class="codeph">TRANSACTION</code> system privilege. To manually commit a distributed in-doubt transaction that was originally committed by another user, you must have <code class="codeph">FORCE</code> <code class="codeph">ANY</code> <code class="codeph">TRANSACTION</code> system privilege. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-3460E3E2-A05D-473C-91D3-8E70E26FD976">Syntax </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-66969D6B-27C2-47BE-A5E5-20F9A4773B18"><span class="italic">commit</span>::=
                  </p>
                  <div class="figure" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-A3523852-522C-47B3-8057-254B9064D187"><img src="img/commit.gif" alt="Description of commit.eps follows" title="Description of commit.eps follows" longdesc="img_text/commit.html"><br><a href="img_text/commit.html">Description of the illustration commit.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-9A61ABF3-E967-48BD-8783-6984F164DBB9">Semantics </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-9F603413-4BB7-488E-823B-90C59CEB77A0">COMMIT</p>
                  <p>All clauses after the <code class="codeph">COMMIT</code> keyword are optional. If you specify only <code class="codeph">COMMIT</code>, then the default is <code class="codeph">COMMIT</code> <code class="codeph">WORK</code> <code class="codeph">WRITE</code> <code class="codeph">WAIT</code> <code class="codeph">IMMEDIATE</code>. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-2E91E4E5-EB74-4ECE-99F1-8F4757DEB88F">WORK</p>
                  <p>The <code class="codeph">WORK</code> keyword is supported for compliance with standard SQL. The statements <code class="codeph">COMMIT</code> and <code class="codeph">COMMIT</code> <code class="codeph">WORK</code> are equivalent. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-76FB25C8-02E5-4737-A8F8-E6B713D052D6">COMMENT Clause</p>
                  <p><a id="d299968e321" class="indexterm-anchor"></a><a id="d299968e325" class="indexterm-anchor"></a>This clause is supported for backward compatibility. Oracle recommends that you use named transactions instead of commit comments.
                  </p>
                  <div class="infoboxnotealso" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-4293C6E3-1314-4E55-B683-5C1457DF8C77">
                     <p class="notep1">See Also:</p>
                     <p><a href="SET-TRANSACTION.html#GUID-F11E1E30-5871-48D1-8266-F80A1DF126A1">SET TRANSACTION</a> and <a href="../cncpt/transactions.html#CNCPT1122" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information on named transactions
                     </p>
                  </div>
                  <p>Specify a comment to be associated with the current transaction. The '<span class="italic"><code class="codeph">text</code></span>' is a quoted literal of up to 255 bytes that Oracle Database stores in the data dictionary view <code class="codeph">DBA_2PC_PENDING</code> along with the transaction ID if a distributed transaction becomes in doubt. This comment can help you diagnose the failure of a distributed transaction.
                  </p>
                  <div class="infoboxnotealso" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-4EC688A2-BEED-461D-82DC-3BF0DBD7A302">
                     <p class="notep1">See Also:</p>
                     <p><a href="COMMENT.html#GUID-65F447C4-6914-4823-9691-F15D52DB74D7">COMMENT</a> for more information on adding comments to SQL statements
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-194E1890-5736-490C-BAF9-4B627E1BE671">WRITE Clause</p>
                  <p><a id="d299968e358" class="indexterm-anchor"></a><a id="d299968e362" class="indexterm-anchor"></a><a id="d299968e366" class="indexterm-anchor"></a>Use this clause to specify the priority with which the redo information generated by the commit operation is written to the redo log. This clause can improve performance by reducing latency, thus eliminating the wait for an I/O to the redo log. Use this clause to improve response time in environments with stringent response time requirements where the following conditions apply:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The volume of update transactions is large, requiring that the redo log be written to disk frequently.</p>
                     </li>
                     <li>
                        <p>The application can tolerate the loss of an asynchronously committed transaction.</p>
                     </li>
                     <li>
                        <p>The latency contributed by waiting for the redo log write to occur contributes significantly to overall response time.</p>
                     </li>
                  </ul>
                  <p>You can specify the <code class="codeph">WAIT</code> | <code class="codeph">NOWAIT</code> and <code class="codeph">IMMEDIATE</code> | <code class="codeph">BATCH</code> clauses in any order.
                  </p>
                  <div class="infoboxnote" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-7DC8E660-D44C-47D7-9DCC-9DF04B7DA13C">
                     <p class="notep1">Note:</p>
                     <p>If you omit this clause, then the behavior of the commit operation is controlled by the <code class="codeph">COMMIT_LOGGING</code> and <code class="codeph">COMMIT_WAIT</code> initialization parameters, if they have been set.
                     </p>
                  </div>
                  <p><span class="bold">WAIT | NOWAIT</span></p>
                  <p>Use these clauses to specify when control returns to the user.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">WAIT</code> parameter ensures that the commit will return only after the corresponding redo is persistent in the online redo log. Whether in <code class="codeph">BATCH</code> or <code class="codeph">IMMEDIATE</code> mode, when the client receives a successful return from this <code class="codeph">COMMIT</code> statement, the transaction has been committed to durable media. A crash occurring after a successful write to the log can prevent the success message from returning to the client. In this case the client cannot tell whether or not the transaction committed.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">NOWAIT</code> parameter causes the commit to return to the client whether or not the write to the redo log has completed. This behavior can increase transaction throughput. With the <code class="codeph">WAIT</code> parameter, if the commit message is received, then you can be sure that no data has been lost.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-59733FB9-935C-41CC-BBC5-82F2AB93D2DF">
                     <p class="notep1">Note:</p>
                     <p>With <code class="codeph">NOWAIT</code>, a crash occurring after the commit message is received, but before the redo log record(s) are written, can falsely indicate to a transaction that its changes are persistent. 
                     </p>
                  </div>
                  <p>If you omit this clause, then the transaction commits with the <code class="codeph">WAIT</code> behavior.
                  </p>
                  <p><span class="bold">IMMEDIATE | BATCH</span></p>
                  <p>Use these clauses to specify when the redo is written to the log.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <code class="codeph">IMMEDIATE</code> parameter causes the log writer process (LGWR) to write the transaction's redo information to the log. This operation option forces a disk I/O, so it can reduce transaction throughput.
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">BATCH</code> parameter causes the redo to be buffered to the redo log, along with other concurrently executing transactions. When sufficient redo information is collected, a disk write of the redo log is initiated. This behavior is called "group commit", as redo for multiple transactions is written to the log in a single I/O operation. 
                        </p>
                     </li>
                  </ul>
                  <p>If you omit this clause, then the transaction commits with the <code class="codeph">IMMEDIATE</code> behavior.
                  </p>
                  <div class="infoboxnotealso" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-7322276B-FC6C-4A6E-B89C-C078942D8014">
                     <p class="notep1">See Also:</p>
                     <p><a href="../cncpt/transactions.html#CNCPT1119" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information on asynchronous commit
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-C6507E1F-BD3A-473D-902E-4FB04EC43D63">FORCE Clause</p>
                  <p><a id="d299968e478" class="indexterm-anchor"></a><a id="d299968e482" class="indexterm-anchor"></a><a id="d299968e486" class="indexterm-anchor"></a><a id="d299968e492" class="indexterm-anchor"></a><a id="d299968e496" class="indexterm-anchor"></a>In a distributed database system, the <code class="codeph">FORCE</code> <span class="italic"><code class="codeph">string</code></span> [, <span class="italic"><code class="codeph">integer</code></span>] clause lets you manually commit an in-doubt distributed transaction. The transaction is identified by the '<span class="italic"><code class="codeph">string</code></span>' containing its local or global transaction ID. To find the IDs of such transactions, query the data dictionary view <code class="codeph">DBA_2PC_PENDING</code>. You can use <span class="italic"><code class="codeph">integer</code></span> to specifically assign the transaction a system change number (SCN). If you omit <span class="italic"><code class="codeph">integer</code></span>, then the transaction is committed using the current SCN. 
                  </p>
                  <div class="infoboxnote" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-195436F5-25E5-40C4-9D52-5E5C812B2A53">
                     <p class="notep1">Note:</p>
                     <p>A <code class="codeph">COMMIT</code> statement with a <code class="codeph">FORCE</code> clause commits only the specified transactions. Such a statement does not affect your current transaction. 
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-4BF2E3B5-962A-4B50-83F8-A01C3CF9BBCE">
                     <p class="notep1">See Also:</p>
                     <p><a href="../admin/managing-distributed-transactions.html#ADMIN032" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information on these topics
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-6CD5C9A7-54B9-4FA2-BA3C-D6B4492B9EE2__GUID-6853D9EC-F35D-40E3-96B1-F3B50B4A0FC4">Examples</p>
                  <p><span class="bold">Committing an Insert: Example</span></p>
                  <p>This statement inserts a row into the <code class="codeph">hr.regions</code> table and commits this change:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO regions VALUES (5, 'Antarctica'); 

COMMIT WORK;
 </pre><p>To commit the same insert operation and instruct the database to buffer the change to the redo log, without initiating disk I/O, use the following <code class="codeph">COMMIT</code> statement:
                  </p><pre class="oac_no_warn" dir="ltr">COMMIT WRITE BATCH;</pre><p><span class="bold">Commenting on COMMIT: Example</span></p>
                  <p>The following statement commits the current transaction and associates a comment with it:</p><pre class="oac_no_warn" dir="ltr">COMMIT 
    COMMENT 'In-doubt transaction Code 36, Call (415) 555-2637'; 
</pre><p>If a network or machine failure prevents this distributed transaction from committing properly, then Oracle Database stores the comment in the data dictionary along with the transaction ID. The comment indicates the part of the application in which the failure occurred and provides information for contacting the administrator of the database where the transaction was committed. </p>
                  <p><span class="bold">Forcing an In-Doubt Transaction: Example</span></p>
                  <p>The following statement manually commits a hypothetical in-doubt distributed transaction. Query the <code class="codeph">V$CORRUPT_XID_LIST</code> data dictionary view to find the transaction IDs of corrupt transactions. You must have DBA privileges to view the <code class="codeph">V$CORRUPT_XID_LIST</code> and to issue this statement. 
                  </p><pre class="oac_no_warn" dir="ltr">COMMIT FORCE '22.57.53'; </pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>