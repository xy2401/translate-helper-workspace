<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes how OCI manages transaction operations.">
      <meta name="description" content="This chapter describes how OCI manages transaction operations.">
      <title>Managing Scalable Platforms</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This chapter describes how OCI manages transaction operations.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="lobs-and-bfile-operations.html" title="Previous" type="text/html">
      <link rel="next" href="session-and-connection-pooling.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="lobs-and-bfile-operations.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="session-and-connection-pooling.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Managing Scalable Platforms</li>
            </ol>
            <a id="GUID-F7F03E35-68F1-49CB-AAA7-231675506C62" name="GUID-F7F03E35-68F1-49CB-AAA7-231675506C62"></a><a id="LNOCI080"></a>
            
            <h2 id="LNOCI-GUID-F7F03E35-68F1-49CB-AAA7-231675506C62" class="sect2"><span class="enumeration_chapter">10 </span> Managing Scalable Platforms
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how OCI manages transaction operations.</p>
               <p>This chapter contains these topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-3E96017A-64D3-4A29-B617-C9879610B5F2" title="OCI has a set of API calls to support operations on both local and global transactions.">OCI Support for Transactions</a></p>
                  </li>
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-AE6D1A12-06BA-4E37-971E-5B7B7111359E" title="OCI supports several levels of transaction complexity.">Levels of Transactional Complexity</a></p>
                  </li>
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-5579C27E-2536-4B21-96DB-3EDFECF576B5" title="OCI can authenticate and maintain multiple users.">Password and Session Management</a></p>
                  </li>
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-A5830D58-3079-45DD-BE3A-81C41991DA70" title="A middle-tier application receives requests from browser clients.">Middle-Tier Applications in OCI</a></p>
                  </li>
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-301306B2-A746-484D-BA6B-6A029B54FE75" title="An externally initialized context is an application context where attributes can be initialized from OCI. Use the SQL statement CREATE CONTEXT to create a context namespace in the server with the option INITIALIZED EXTERNALLY.">Externally Initialized Context in OCI</a></p>
                  </li>
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-01D8848B-FF4C-4332-B0AA-C4CDF064A65D" title="Application context enables database clients (such as mid-tier applications) to set and send arbitrary session data to the server with each executed statement in only one round-trip.">Client Application Context</a></p>
                  </li>
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-2F470037-FE5A-4F21-A7FC-352BD083CAE5" title="An edition provides a staging area where "editionable" objects changed by an application patch can be installed and executed while the existing application is still available.">Using Edition-Based Redefinition</a></p>
                  </li>
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-73D8C87C-ABD9-463A-921D-3D5F1E232F85" title="The following security enhancements use configured parameters in the init.ora file or the sqlnet.ora file (the latter file is specifically noted for that feature).">OCI Security Enhancements</a></p>
                  </li>
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-FB0528A0-460A-4778-9703-52BB0932E911" title="Threads are lightweight processes that exist within a larger process.">Overview of OCI Multithreaded Development</a></p>
                  </li>
                  <li>
                     <p><a href="managing-scalable-platforms.html#GUID-AAE70C09-E0D8-4264-8E88-1D6916ABF717" title="The OCIThread package provides some commonly used threading primitives.">OCIThread Package</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI16529"></a><div class="props_rev_3"><a id="GUID-3E96017A-64D3-4A29-B617-C9879610B5F2" name="GUID-3E96017A-64D3-4A29-B617-C9879610B5F2"></a><h3 id="LNOCI-GUID-3E96017A-64D3-4A29-B617-C9879610B5F2" class="sect3"><span class="enumeration_section">10.1 </span>OCI Support for Transactions
               </h3>
               <div>
                  <p>OCI has a set of API calls to support operations on both local and global transactions.</p>
                  <p>These calls include object support, so that if an OCI application is running in object mode, the commit and rollback calls synchronize the object cache with the state of the transaction.</p>
                  <p>The functions listed later perform transaction operations. Each call takes a service context handle that must be initialized with the proper server context and user session handle. The transaction handle is the third element of the service context; it stores specific information related to a transaction. When a SQL statement is prepared, it is associated with a particular service context. When the statement is executed, its effects (query, fetch, insert) become part of the transaction that is currently associated with the service context.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">OCITransStart()</code> marks the start of a transaction.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">OCITransDetach()</code> detaches a transaction. 
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">OCITransCommit()</code> commits a transaction.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">OCITransRollback()</code> rolls back a transaction.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">OCITransPrepare()</code> prepares a transaction to be committed in a distributed processing environment.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">OCITransMultiPrepare()</code> prepares a transaction with multiple branches in a single call.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">OCITransForget()</code> causes the server to forget a heuristically completed global transaction.
                        </p>
                     </li>
                  </ul>
                  <p>Depending on the level of transactional complexity in your application, you may need all or only a few of these calls. The following section discusses this in more detail.</p>
                  <div class="infoboxnotealso" id="GUID-3E96017A-64D3-4A29-B617-C9879610B5F2__GUID-C7AB60F6-B834-4D50-B2BF-25E86A4729EA">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="transaction-functions.html#GUID-69F748A0-89C2-431C-A126-1C0DF0552084" title="Lists and describes the transaction functions.">Transaction Functions</a></p>
                        </li>
                        <li>
                           <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                        </li>
                        <li>
                           <p><a href="transaction-functions.html#GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09" title="Detaches a global transaction.">OCITransDetach()</a></p>
                        </li>
                        <li>
                           <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                        </li>
                        <li>
                           <p><a href="transaction-functions.html#GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366" title="Rolls back the current transaction.">OCITransRollback()</a></p>
                        </li>
                        <li>
                           <p><a href="transaction-functions.html#GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3" title="Prepares a global transaction for commit.">OCITransPrepare()</a></p>
                        </li>
                        <li>
                           <p><a href="transaction-functions.html#GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7" title="Prepares a transaction with multiple branches in a single call.">OCITransMultiPrepare()</a></p>
                        </li>
                        <li>
                           <p><a href="transaction-functions.html#GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00" title="Causes the server to forget a heuristically completed global transaction.">OCITransForget()</a></p>
                        </li>
                     </ul>
                     <p>  </p>
                  </div>
               </div>
            </div><a id="LNOCI16530"></a><div class="props_rev_3"><a id="GUID-AE6D1A12-06BA-4E37-971E-5B7B7111359E" name="GUID-AE6D1A12-06BA-4E37-971E-5B7B7111359E"></a><h3 id="LNOCI-GUID-AE6D1A12-06BA-4E37-971E-5B7B7111359E" class="sect3"><span class="enumeration_section">10.2 </span>Levels of Transactional Complexity
               </h3>
               <div>
                  <p>OCI supports several levels of transaction complexity.</p>
                  <p>These levels of transaction complexity include:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="managing-scalable-platforms.html#GUID-7190D8FF-EA02-4D7B-9967-62A3FC458605" title="Many applications work with only simple local transactions.">Simple Local Transactions</a></p>
                     </li>
                     <li>
                        <p><a href="managing-scalable-platforms.html#GUID-5D71AFC0-8891-48E9-AA98-4F0ED8EA5C88" title="Applications requiring serializable or read-only transactions require an additional OCI OCITransStart() call to start the transaction.">Serializable or Read-Only Local Transactions</a></p>
                     </li>
                     <li>
                        <p><a href="managing-scalable-platforms.html#GUID-7FE56616-EE7C-4565-A5EF-010A6B0A550B" title="Global transactions are necessary only in more sophisticated transaction-processing applications.">Global Transactions</a></p>
                     </li>
                  </ul>
                  <div class="p">This section includes the following additional topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-19B0B50B-3FA7-4796-9ABF-30C9F3D27F19" title="Shows how to use the transaction OCI calls.">Transaction Examples</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-373004EB-EB38-4CC0-BDD3-217DFB5EAEF4" title="Two initialization parameters relate to the use of global transaction branches and migratable open connections.">Initialization Parameters</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16531"></a><div class="props_rev_3"><a id="GUID-7190D8FF-EA02-4D7B-9967-62A3FC458605" name="GUID-7190D8FF-EA02-4D7B-9967-62A3FC458605"></a><h4 id="LNOCI-GUID-7190D8FF-EA02-4D7B-9967-62A3FC458605" class="sect4"><span class="enumeration_section">10.2.1 </span>Simple Local Transactions
                  </h4>
                  <div>
                     <p>Many applications work with only simple local transactions. </p>
                     <p>In these applications, an implicit transaction is created when the application makes database changes. The only transaction-specific calls needed by such applications are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCITransCommit()</code> to commit the transaction
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCITransRollback()</code> to roll back the transaction
                           </p>
                        </li>
                     </ul>
                     <p>As soon as one transaction has been committed or rolled back, the next modification to the database creates a new implicit transaction for the application.</p>
                     <p>Only one implicit transaction can be active at any time on a service context. Attributes of the implicit transaction are opaque to the user.</p>
                     <p>If an application creates multiple sessions, each one can have an implicit transaction associated with it.</p>
                     <div class="infoboxnotealso" id="GUID-7190D8FF-EA02-4D7B-9967-62A3FC458605__GUID-910CDE78-04A4-45C2-82DC-BAA5D53CA3BF">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a> for sample code showing the use of simple local transactions
                              </p>
                           </li>
                           <li>
                              <p><a href="transaction-functions.html#GUID-06EF9A0A-01A3-40CE-A0B7-DF0504A93366" title="Rolls back the current transaction.">OCITransRollback()</a></p>
                           </li>
                        </ul>
                        <p> </p>
                     </div>
                  </div>
               </div><a id="LNOCI16532"></a><div class="props_rev_3"><a id="GUID-5D71AFC0-8891-48E9-AA98-4F0ED8EA5C88" name="GUID-5D71AFC0-8891-48E9-AA98-4F0ED8EA5C88"></a><h4 id="LNOCI-GUID-5D71AFC0-8891-48E9-AA98-4F0ED8EA5C88" class="sect4"><span class="enumeration_section">10.2.2 </span>Serializable or Read-Only Local Transactions
                  </h4>
                  <div>
                     <p>Applications requiring serializable or read-only transactions require an additional OCI <code class="codeph">OCITransStart()</code> call to start the transaction.
                     </p>
                     <p>The <code class="codeph">OCITransStart()</code> call must specify <code class="codeph">OCI_TRANS_SERIALIZABLE</code> or <code class="codeph">OCI_TRANS_READONLY</code>, as appropriate, for the <code class="codeph">flags</code> parameter. If no flag is specified, the default value is <code class="codeph">OCI_TRANS_READWRITE</code> for a standard read/write transaction.
                     </p>
                     <p>Specifying the read-only option in the <code class="codeph">OCITransStart()</code> call saves the application from performing a server round-trip to execute a <code class="codeph">SET TRANSACTION READ ONLY</code> statement.
                     </p>
                     <div class="infoboxnotealso" id="GUID-5D71AFC0-8891-48E9-AA98-4F0ED8EA5C88__GUID-3E2E2903-92B4-4EA8-A253-2BA8B028BF73">
                        <p class="notep1">See Also:</p>
                        <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                     </div>
                  </div>
               </div><a id="LNOCI16533"></a><div class="props_rev_3"><a id="GUID-7FE56616-EE7C-4565-A5EF-010A6B0A550B" name="GUID-7FE56616-EE7C-4565-A5EF-010A6B0A550B"></a><h4 id="LNOCI-GUID-7FE56616-EE7C-4565-A5EF-010A6B0A550B" class="sect4"><span class="enumeration_section">10.2.3 </span>Global Transactions
                  </h4>
                  <div>
                     <p>Global transactions are necessary only in more sophisticated transaction-processing applications.</p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-538CC7A5-8E2D-4E1D-9F4E-F942A4FA4182" title="Three-tier applications such as transaction processing (TP) monitors create and manage global transactions.">Transaction Identifiers</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-EF8493A6-3BA7-454B-9CA6-DE5786E18307" title="When this attribute is set in a transaction handle, the length of the name can be at most 64 bytes.">Attribute OCI_ATTR_TRANS_NAME</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-9C16201F-7975-4E14-8162-62695B1C9AE4" title="Within a single global transaction, Oracle Database supports both tightly coupled and loosely coupled relationships between a pair of branches.">Transaction Branches</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-4279B122-6581-47B0-8D1D-E4AE6E0D8DF9" title="Transaction branches are classified into two states: active branches and inactive branches.">Branch States</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-334DF00F-A4B2-45AD-AF3D-C794C488F172" title="A branch becomes inactive when an OCI application detaches it, using the OCITransDetach() call.">Detaching and Resuming Branches</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-BAFC9277-5659-4000-AD46-EB8C2B6B93F9" title="The server handle has OCI_ATTR_EXTERNAL_NAME and OCI_ATTR_INTERNAL_NAME attributes.">About Setting the Client Database Name</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-E249AA40-2C56-4BA7-B64E-136BFB3E15A2" title="Global transactions can be committed in one or two phases.">One-Phase Commit Versus Two-Phase Commit</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-AF8253A5-CECB-42CD-9973-C5D78FBAA82C" title="Sometimes when multiple applications use different branches of a global transaction against the same Oracle database.">Preparing Multiple Branches in a Single Message</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16535"></a><a id="LNOCI16534"></a><div class="props_rev_3"><a id="GUID-538CC7A5-8E2D-4E1D-9F4E-F942A4FA4182" name="GUID-538CC7A5-8E2D-4E1D-9F4E-F942A4FA4182"></a><h5 id="LNOCI-GUID-538CC7A5-8E2D-4E1D-9F4E-F942A4FA4182" class="sect5"><span class="enumeration_section">10.2.3.1 </span>Transaction Identifiers
                     </h5>
                     <div>
                        <p>Three-tier applications such as transaction processing (TP) monitors create and manage global transactions. </p>
                        <p>They supply a <span class="italic">global transaction identifier</span> (<code class="codeph">XID</code>) that a server associates with a local transaction.
                        </p>
                        <p>A global transaction has one or more <span class="italic">branches</span>. Each branch is identified by an <code class="codeph">XID</code>. The <code class="codeph">XID</code> consists of a <span class="italic">global transaction identifier</span> (<code class="codeph">gtrid</code>) and a<span class="italic"> branch qualifier</span> (<code class="codeph">bqual</code>). This structure is based on the standard XA specification.
                        </p>
                        <p><a href="managing-scalable-platforms.html#GUID-538CC7A5-8E2D-4E1D-9F4E-F942A4FA4182__BGBDGIAF" title="This table has 2 columns. Column 1 is the component name and column 2 describes its value.">Table 10-1</a> provides the structure for one possible <code class="codeph">XID</code> of 1234.
                        </p>
                        <div class="tblformal" id="GUID-538CC7A5-8E2D-4E1D-9F4E-F942A4FA4182__BGBDGIAF">
                           <p class="titleintable">Table 10-1 Global Transaction Identifier</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Global Transaction Identifier" summary="This table has 2 columns. Column 1 is the component name and column 2 describes its value. " width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="50%" id="d106260e1799">Component</th>
                                    <th align="left" valign="bottom" width="50%" id="d106260e1802">Value</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d106260e1807" headers="d106260e1799 ">
                                       <p><code class="codeph">gtrid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d106260e1807 d106260e1802 ">
                                       <p><code class="codeph">12</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d106260e1816" headers="d106260e1799 ">
                                       <p><code class="codeph">bqual</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d106260e1816 d106260e1802 ">
                                       <p><code class="codeph">34</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d106260e1825" headers="d106260e1799 ">
                                       <p><code class="codeph">gtrid+bqual=XID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d106260e1825 d106260e1802 ">
                                       <p><code class="codeph">1234</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The transaction identifier used by OCI transaction calls is set in the <code class="codeph">OCI_ATTR_XID</code> attribute of the transaction handle, by using <code class="codeph">OCIAttrSet()</code>. Alternately, the transaction can be identified by a name set in the <code class="codeph">OCI_ATTR_TRANS_NAME</code> attribute.
                        </p>
                        <div class="infoboxnotealso" id="GUID-538CC7A5-8E2D-4E1D-9F4E-F942A4FA4182__GUID-473BC002-201D-4420-814D-EC38F2AABC76">
                           <p class="notep1">See Also:</p>
                           <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16536"></a><div class="props_rev_3"><a id="GUID-EF8493A6-3BA7-454B-9CA6-DE5786E18307" name="GUID-EF8493A6-3BA7-454B-9CA6-DE5786E18307"></a><h5 id="LNOCI-GUID-EF8493A6-3BA7-454B-9CA6-DE5786E18307" class="sect5"><span class="enumeration_section">10.2.3.2 </span>Attribute OCI_ATTR_TRANS_NAME
                     </h5>
                     <div>
                        <p>When this attribute is set in a transaction handle, the length of the name can be at most 64 bytes.</p>
                        <p>The <code class="codeph">formatid</code> of the <code class="codeph">XID</code> is 0 and the branch qualifier is 0.
                        </p>
                        <p>When this attribute is retrieved from a transaction handle, the returned transaction name is the global transaction identifier. The size is the length of the global transaction identifier.</p>
                     </div>
                  </div><a id="LNOCI16538"></a><a id="LNOCI16539"></a><a id="LNOCI16537"></a><div class="props_rev_3"><a id="GUID-9C16201F-7975-4E14-8162-62695B1C9AE4" name="GUID-9C16201F-7975-4E14-8162-62695B1C9AE4"></a><h5 id="LNOCI-GUID-9C16201F-7975-4E14-8162-62695B1C9AE4" class="sect5"><span class="enumeration_section">10.2.3.3 </span>Transaction Branches
                     </h5>
                     <div>
                        <p>Within a single global transaction, Oracle Database supports both tightly coupled and loosely coupled relationships between a pair of branches.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Tightly coupled branches share the same local transaction. The <code class="codeph">gtrid</code> references a unique local transaction, and multiple branches point to that same transaction. The owner of the transaction is the branch that was created first.
                              </p>
                           </li>
                           <li>
                              <p>Loosely coupled branches use different local transactions. The <code class="codeph">gtrid</code> and <code class="codeph">bqual</code> together map to a unique local transaction. Each branch points to a different transaction.
                              </p>
                           </li>
                        </ul>
                        <p>The <code class="codeph">flags</code> parameter of <code class="codeph">OCITransStart()</code> allows applications to pass <code class="codeph">OCI_TRANS_TIGHT</code> or <code class="codeph">OCI_TRANS_LOOSE</code>  values to specify the type of coupling.
                        </p>
                        <p>A session corresponds to a user session, created with <code class="codeph">OCISessionBegin()</code>.
                        </p>
                        <p><a href="managing-scalable-platforms.html#GUID-9C16201F-7975-4E14-8162-62695B1C9AE4__I443620">Figure 10-1</a> illustrates tightly coupled branches within an application. The <code class="codeph">XID</code>s of the two branches (B1 and B2) share the same <code class="codeph">gtrid</code>, because they are operating on the same transaction (T), but they have a different <code class="codeph">bqual</code>, because they are on separate branches.
                        </p>
                        <div class="figure" id="GUID-9C16201F-7975-4E14-8162-62695B1C9AE4__I443620">
                           <p class="titleinfigure">Figure 10-1 Multiple Tightly Coupled Branches</p><img src="img/lnoci023.gif" alt="Description of Figure 10-1 follows" title="Description of Figure 10-1 follows" longdesc="img_text/lnoci023.html"><br><a href="img_text/lnoci023.html">Description of "Figure 10-1 Multiple Tightly Coupled Branches"</a></div>
                        <!-- class="figure" -->
                        <p><a href="managing-scalable-platforms.html#GUID-9C16201F-7975-4E14-8162-62695B1C9AE4__I433197">Figure 10-2</a> illustrates how a single session operates on different branches. The <code class="codeph">gtrid</code> components of the <code class="codeph">XID</code>s are different, because they represent separate global transactions.
                        </p>
                        <div class="figure" id="GUID-9C16201F-7975-4E14-8162-62695B1C9AE4__I433197">
                           <p class="titleinfigure">Figure 10-2 Session Operating on Multiple Branches</p><img src="img/lnoci024.gif" alt="Description of Figure 10-2 follows" title="Description of Figure 10-2 follows" longdesc="img_text/lnoci024.html"><br><a href="img_text/lnoci024.html">Description of "Figure 10-2 Session Operating on Multiple Branches"</a></div>
                        <!-- class="figure" -->
                        <p>It is possible for a single session to operate on multiple branches that share the same transaction, but this scenario does not have much practical value. </p>
                        <div class="infoboxnotealso" id="GUID-9C16201F-7975-4E14-8162-62695B1C9AE4__GUID-C9FFB30E-B9FE-4D22-8E20-BA957B8C5DB3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a> for sample code demonstrating this scenario
                                 </p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                              </li>
                           </ul>
                           <p></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16540"></a><div class="props_rev_3"><a id="GUID-4279B122-6581-47B0-8D1D-E4AE6E0D8DF9" name="GUID-4279B122-6581-47B0-8D1D-E4AE6E0D8DF9"></a><h5 id="LNOCI-GUID-4279B122-6581-47B0-8D1D-E4AE6E0D8DF9" class="sect5"><span class="enumeration_section">10.2.3.4 </span>Branch States
                     </h5>
                     <div>
                        <p>Transaction branches are classified into two states: <span class="italic">active branches</span> and <span class="italic">inactive branches</span>.
                        </p>
                        <p>A branch is active if a server process is executing requests on the branch. A branch is inactive if no server processes are executing requests in the branch. In this case, no session is the parent of the branch, and the branch becomes owned by the <code class="codeph">PMON</code> process in the server.
                        </p>
                     </div>
                  </div><a id="LNOCI16541"></a><div class="props_rev_3"><a id="GUID-334DF00F-A4B2-45AD-AF3D-C794C488F172" name="GUID-334DF00F-A4B2-45AD-AF3D-C794C488F172"></a><h5 id="LNOCI-GUID-334DF00F-A4B2-45AD-AF3D-C794C488F172" class="sect5"><span class="enumeration_section">10.2.3.5 </span>Detaching and Resuming Branches
                     </h5>
                     <div>
                        <p>A branch becomes inactive when an OCI application detaches it, using the <code class="codeph">OCITransDetach()</code> call.
                        </p>
                        <p>The branch can be made active again by resuming it with a call to <code class="codeph">OCITransStart()</code> with the <code class="codeph">flags</code> parameter set to <code class="codeph">OCI_TRANS_RESUME</code>.
                        </p>
                        <p>When an application detaches a branch with <code class="codeph">OCITransDetach()</code>, it uses the value specified in the <code class="codeph">timeout</code> parameter of the <code class="codeph">OCITransStart()</code> call that created the branch. The <code class="codeph">timeout</code> specifies the number of seconds the transaction can remain dormant as a child of <code class="codeph">PMON</code> before being deleted.
                        </p>
                        <p>To resume a branch, the application calls <code class="codeph">OCITransStart()</code>, specifying the <code class="codeph">XID</code> of the branch as an attribute of the transaction handle, <code class="codeph">OCI_TRANS_RESUME</code> for the <code class="codeph">flags</code> parameter, and a different <code class="codeph">timeout</code> parameter. This <span class="italic">timeout</span> value for this call specifies the length of time that the session waits for the branch to become available if it is currently in use by another process. If no other processes are accessing the branch, it can be resumed immediately. A transaction can be resumed by a different process than the one that detached it, if that process has the same authorization as the one that detached the transaction.
                        </p>
                        <div class="infoboxnotealso" id="GUID-334DF00F-A4B2-45AD-AF3D-C794C488F172__GUID-30548B3F-0C41-48A3-8BE7-53C5BA465F3B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="transaction-functions.html#GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09" title="Detaches a global transaction.">OCITransDetach()</a></p>
                              </li>
                              <li>
                                 <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16542"></a><div class="props_rev_3"><a id="GUID-BAFC9277-5659-4000-AD46-EB8C2B6B93F9" name="GUID-BAFC9277-5659-4000-AD46-EB8C2B6B93F9"></a><h5 id="LNOCI-GUID-BAFC9277-5659-4000-AD46-EB8C2B6B93F9" class="sect5"><span class="enumeration_section">10.2.3.6 </span>About Setting the Client Database Name
                     </h5>
                     <div>
                        <p>The server handle has <code class="codeph">OCI_ATTR_EXTERNAL_NAME</code> and <code class="codeph">OCI_ATTR_INTERNAL_NAME</code> attributes.
                        </p>
                        <p>These attributes set the client database name recorded when performing global transactions. The name can be used by the database administrator to track transactions that may be pending in a prepared state because of failures.</p>
                        <div class="infoboxnote" id="GUID-BAFC9277-5659-4000-AD46-EB8C2B6B93F9__GUID-34E57CA8-EC4F-446B-B25D-79664098BBE3">
                           <p class="notep1">Note:</p>
                           <p>An OCI application sets these attributes, by using <code class="codeph">OCIAttrSet()</code> before logging on and using global transactions.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-BAFC9277-5659-4000-AD46-EB8C2B6B93F9__GUID-E6064F0A-FE09-4686-BB3A-43E4189E0C26">
                           <p class="notep1">See Also:</p>
                           <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16543"></a><div class="props_rev_3"><a id="GUID-E249AA40-2C56-4BA7-B64E-136BFB3E15A2" name="GUID-E249AA40-2C56-4BA7-B64E-136BFB3E15A2"></a><h5 id="LNOCI-GUID-E249AA40-2C56-4BA7-B64E-136BFB3E15A2" class="sect5"><span class="enumeration_section">10.2.3.7 </span>One-Phase Commit Versus Two-Phase Commit
                     </h5>
                     <div>
                        <p>Global transactions can be committed in one or two phases.</p>
                        <p>The simplest situation is when a single transaction is operating against a single database. In this case, the application can perform a one-phase commit of the transaction by calling <code class="codeph">OCITransCommit()</code>, because the default value of the call is for one-phase commit.
                        </p>
                        <p>The situation is more complicated if the application is processing transactions against multiple Oracle databases. In this case, a two-phase commit is necessary. A two-phase commit operation consists of these steps:</p>
                        <ol>
                           <li>
                              <p>Prepare - The application issues an <code class="codeph">OCITransPrepare()</code> call against each transaction. Each transaction returns a value indicating whether or not it can commit its current work (<code class="codeph">OCI_SUCCESS</code>) or not (<code class="codeph">OCI_ERROR</code>).
                              </p>
                           </li>
                           <li>
                              <p>Commit - If each <code class="codeph">OCITransPrepare()</code> call returns a value of <code class="codeph">OCI_SUCCESS</code>, the application can issue an <code class="codeph">OCITransCommit()</code> call to each transaction. The <code class="codeph">flags</code> parameter of the commit call must be explicitly set to <code class="codeph">OCI_TRANS_TWOPHASE</code> for the appropriate behavior, because the default for this call is for one-phase commit.
                              </p>
                              <div class="infoboxnote" id="GUID-E249AA40-2C56-4BA7-B64E-136BFB3E15A2__GUID-4ACF2293-F360-488B-A357-D4BBEF7AC858">
                                 <p class="notep1">Note:</p>
                                 <p>The <code class="codeph">OCITransPrepare()</code> call can also return <code class="codeph">OCI_SUCCESS_WITH_INFO</code> if a transaction must indicate that it is read-only. Thus a commit is neither appropriate nor necessary.
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <p>An additional call, <code class="codeph">OCITransForget()</code>, causes a database to "forget" a completed transaction. This call is for situations in which a problem has occurred that requires that a two-phase commit be terminated. When an Oracle database receives an <code class="codeph">OCITransForget()</code> call, it removes all information about the transaction. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-E249AA40-2C56-4BA7-B64E-136BFB3E15A2__GUID-F6D15239-468C-4C1A-B872-4CA898491733">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                              </li>
                              <li>
                                 <p><a href="transaction-functions.html#GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3" title="Prepares a global transaction for commit.">OCITransPrepare()</a></p>
                              </li>
                              <li>
                                 <p><a href="transaction-functions.html#GUID-1BBB1A11-66F5-424D-B0CA-8034085C7E00" title="Causes the server to forget a heuristically completed global transaction.">OCITransForget()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16544"></a><div class="props_rev_3"><a id="GUID-AF8253A5-CECB-42CD-9973-C5D78FBAA82C" name="GUID-AF8253A5-CECB-42CD-9973-C5D78FBAA82C"></a><h5 id="LNOCI-GUID-AF8253A5-CECB-42CD-9973-C5D78FBAA82C" class="sect5"><span class="enumeration_section">10.2.3.8 </span>Preparing Multiple Branches in a Single Message
                     </h5>
                     <div>
                        <p>Sometimes when multiple applications use different branches of a global transaction against the same Oracle database.</p>
                        <p>Before such a transaction can be committed, all branches must be prepared.</p>
                        <p>Most often, the applications using the branches are responsible for preparing their own branches. However, some architectures turn this responsibility over to an external transaction service. This external transaction service must then prepare each branch of the global transaction. The traditional <code class="codeph">OCITransPrepare()</code> call is inefficient for this task as each branch must be individually prepared. The <code class="codeph">OCITransMultiPrepare()</code> call, prepares multiple branches involved in the same global transaction in one round-trip. This call is more efficient and can greatly reduce the number of messages sent from the client to the server.
                        </p>
                        <div class="infoboxnotealso" id="GUID-AF8253A5-CECB-42CD-9973-C5D78FBAA82C__GUID-AFB86446-4810-4146-9F34-3F57BB528651">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="transaction-functions.html#GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3" title="Prepares a global transaction for commit.">OCITransPrepare()</a></p>
                              </li>
                              <li>
                                 <p><a href="transaction-functions.html#GUID-8278951C-98FA-4C08-A48B-5F24EADA6BD7" title="Prepares a transaction with multiple branches in a single call.">OCITransMultiPrepare() </a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16545"></a><div class="props_rev_3"><a id="GUID-19B0B50B-3FA7-4796-9ABF-30C9F3D27F19" name="GUID-19B0B50B-3FA7-4796-9ABF-30C9F3D27F19"></a><h4 id="LNOCI-GUID-19B0B50B-3FA7-4796-9ABF-30C9F3D27F19" class="sect4"><span class="enumeration_section">10.2.4 </span>Transaction Examples
                  </h4>
                  <div>
                     <p> Shows how to use the transaction OCI calls.</p>
                     <p><a href="managing-scalable-platforms.html#GUID-538CC7A5-8E2D-4E1D-9F4E-F942A4FA4182__BGBDGIAF" title="This table has 2 columns. Column 1 is the component name and column 2 describes its value.">Table 10-1</a> through <a href="managing-scalable-platforms.html#GUID-7E9DAAEC-C836-4AFF-88FA-CEACAFC5415A__BGBJJFHC" title="This table has 5 columns. Column 1 is the step number, column 2 is the OCI action, column 3 is the XID value, column 4 is the flags value, and column 5 is the result.">Table 10-5</a> illustrate how to use the transaction OCI calls.
                     </p>
                     <p>They show a series of OCI calls and other actions, along with their resulting behavior. For simplicity, not all parameters to these calls are listed; rather, it is the flow of calls that is being demonstrated.</p>
                     <p>The OCI Action column indicates what the OCI application is doing, or what call it is making. The <code class="codeph">XID</code> column lists the transaction identifier, when necessary. The Flags column lists the values passed in the <code class="codeph">flags</code> parameter. The Result column describes the result of the call.
                     </p>
                  </div>
               </div><a id="LNOCI16546"></a><div class="props_rev_3"><a id="GUID-373004EB-EB38-4CC0-BDD3-217DFB5EAEF4" name="GUID-373004EB-EB38-4CC0-BDD3-217DFB5EAEF4"></a><h4 id="LNOCI-GUID-373004EB-EB38-4CC0-BDD3-217DFB5EAEF4" class="sect4"><span class="enumeration_section">10.2.5 </span>Initialization Parameters
                  </h4>
                  <div>
                     <p>Two initialization parameters relate to the use of global transaction branches and migratable open connections.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">TRANSACTIONS</code> - This parameter specifies the maximum number of global transaction branches in the entire system. In contrast, the maximum number of branches on a single global transaction is 8.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OPEN_LINKS_PER_INSTANCE</code> - This parameter specifies the maximum number of migratable open connections. Migratable open connections are used by global transactions to cache connections after committing a transaction. Contrast this with the <code class="codeph">OPEN_LINKS</code> parameter, which controls the number of connections from a session and is not applicable to applications that use global transactions.
                           </p>
                        </li>
                     </ul>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-10517B08-0320-43D3-9B84-7FDF3B1091C1" title="Lists the steps for a one-phase commit operation.">Showing Update Successfully, One-Phase Commit</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-6D657924-E7C3-4DC0-90AF-CBD294271520" title="Lists the steps for a two-phase commit operation.">Showing Starting a Transaction, Detach, Resume, Prepare, Two-Phase Commit</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-E686C22B-8290-44C3-AC89-23B57CE1F3A5" title="Lsts the steps in a failed read-only update operation.">Showing a Read-Only Update Fails</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-7E9DAAEC-C836-4AFF-88FA-CEACAFC5415A" title="Lists the steps for a read-only transaction.">Showing Starting a Read-Only Transaction, Select, and Commit</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16548"></a><a id="LNOCI16547"></a><div class="props_rev_3"><a id="GUID-10517B08-0320-43D3-9B84-7FDF3B1091C1" name="GUID-10517B08-0320-43D3-9B84-7FDF3B1091C1"></a><h5 id="LNOCI-GUID-10517B08-0320-43D3-9B84-7FDF3B1091C1" class="sect5"><span class="enumeration_section">10.2.5.1 </span>Showing Update Successfully, One-Phase Commit
                     </h5>
                     <div>
                        <p>Lists the steps for a one-phase commit operation.</p>
                        <div class="section">
                           <p><a href="managing-scalable-platforms.html#GUID-10517B08-0320-43D3-9B84-7FDF3B1091C1__BGBCCHBE" title="This table has 5 columns. Column 1 is the step number, column 2 is the OCI action, column 3 is the XID value, column 4 is the flags value, and column 5 is the result.">Table 10-2</a> lists the steps for a one-phase commit operation.
                           </p>
                           <div class="tblformalwide" id="GUID-10517B08-0320-43D3-9B84-7FDF3B1091C1__BGBCCHBE">
                              <p class="titleintable">Table 10-2 One-Phase Commit </p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="One-Phase Commit " summary="This table has 5 columns. Column 1 is the step number, column 2 is the OCI action, column 3 is the XID value, column 4 is the flags value, and column 5 is the result. " width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="9%" id="d106260e4189">Step</th>
                                       <th align="left" valign="bottom" width="26%" id="d106260e4192">OCI Action</th>
                                       <th align="left" valign="bottom" width="9%" id="d106260e4195">XID</th>
                                       <th align="left" valign="bottom" width="24%" id="d106260e4198">Flags</th>
                                       <th align="left" valign="bottom" width="33%" id="d106260e4201">Result</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="9%" id="d106260e4206" headers="d106260e4189 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d106260e4206 d106260e4192 "><pre class="oac_no_warn" dir="ltr">OCITransStart()</pre></td>
                                       <td align="left" valign="top" width="9%" headers="d106260e4206 d106260e4195 ">
                                          <p>1234</p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d106260e4206 d106260e4198 ">
                                          <p><code class="codeph">OCI_TRANS_NEW</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d106260e4206 d106260e4201 ">
                                          <p>Starts new read/write transaction</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="9%" id="d106260e4223" headers="d106260e4189 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d106260e4223 d106260e4192 "><pre class="oac_no_warn" dir="ltr">SQL UPDATE</pre></td>
                                       <td align="left" valign="top" width="9%" headers="d106260e4223 d106260e4195 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d106260e4223 d106260e4198 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d106260e4223 d106260e4201 ">
                                          <p>Update rows</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="9%" id="d106260e4239" headers="d106260e4189 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="26%" headers="d106260e4239 d106260e4192 "><pre class="oac_no_warn" dir="ltr">OCITransCommit()</pre></td>
                                       <td align="left" valign="top" width="9%" headers="d106260e4239 d106260e4195 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="24%" headers="d106260e4239 d106260e4198 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d106260e4239 d106260e4201 ">
                                          <p>Commit succeeds.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-10517B08-0320-43D3-9B84-7FDF3B1091C1__GUID-FC39B9A9-CC78-4A59-B6EA-2526F6D8A842">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI16550"></a><a id="LNOCI16549"></a><div class="props_rev_3"><a id="GUID-6D657924-E7C3-4DC0-90AF-CBD294271520" name="GUID-6D657924-E7C3-4DC0-90AF-CBD294271520"></a><h5 id="LNOCI-GUID-6D657924-E7C3-4DC0-90AF-CBD294271520" class="sect5"><span class="enumeration_section">10.2.5.2 </span>Showing Starting a Transaction, Detach, Resume, Prepare, Two-Phase Commit
                     </h5>
                     <div>
                        <p>Lists the steps for a two-phase commit operation.</p>
                        <div class="section">
                           <p><a href="managing-scalable-platforms.html#GUID-6D657924-E7C3-4DC0-90AF-CBD294271520__BGBECJCF" title="This table has 5 columns. Column 1 is the step number, column 2 is the OCI action, column 3 is the XID value, column 4 is the flags value, and column 5 is the result.">Table 10-3</a> lists the steps for a two-phase commit operation.
                           </p>
                           <div class="tblformalwide" id="GUID-6D657924-E7C3-4DC0-90AF-CBD294271520__BGBECJCF">
                              <p class="titleintable">Table 10-3 Two-Phase Commit </p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Two-Phase Commit " summary="This table has 5 columns. Column 1 is the step number, column 2 is the OCI action, column 3 is the XID value, column 4 is the flags value, and column 5 is the result. " width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="8%" id="d106260e4485">Step</th>
                                       <th align="left" valign="bottom" width="34%" id="d106260e4488">OCI Action</th>
                                       <th align="left" valign="bottom" width="8%" id="d106260e4491">XID</th>
                                       <th align="left" valign="bottom" width="21%" id="d106260e4495">Flags</th>
                                       <th align="left" valign="bottom" width="29%" id="d106260e4498">Result</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4503" headers="d106260e4485 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d106260e4503 d106260e4488 "><pre class="oac_no_warn" dir="ltr">OCITransStart()</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4503 d106260e4491 ">
                                          <p>1234</p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d106260e4503 d106260e4495 ">
                                          <p><code class="codeph">OCI_TRANS_NEW</code></p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d106260e4503 d106260e4498 ">
                                          <p>Starts new read-only transaction</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4520" headers="d106260e4485 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d106260e4520 d106260e4488 "><pre class="oac_no_warn" dir="ltr">SQL UPDATE</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4520 d106260e4491 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d106260e4520 d106260e4495 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d106260e4520 d106260e4498 ">
                                          <p>Updates rows</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4536" headers="d106260e4485 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d106260e4536 d106260e4488 "><pre class="oac_no_warn" dir="ltr">OCITransDetach()</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4536 d106260e4491 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d106260e4536 d106260e4495 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d106260e4536 d106260e4498 ">
                                          <p>Transaction is detached.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4552" headers="d106260e4485 ">
                                          <p>4</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d106260e4552 d106260e4488 "><pre class="oac_no_warn" dir="ltr">OCITransStart()</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4552 d106260e4491 ">
                                          <p>1234</p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d106260e4552 d106260e4495 ">
                                          <p><code class="codeph">OCI_TRANS_RESUME</code></p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d106260e4552 d106260e4498 ">
                                          <p>Transaction is resumed.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4569" headers="d106260e4485 ">
                                          <p>5</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d106260e4569 d106260e4488 "><pre class="oac_no_warn" dir="ltr">SQL UPDATE</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4569 d106260e4491 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d106260e4569 d106260e4495 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d106260e4569 d106260e4498 ">
                                          <p>-</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4585" headers="d106260e4485 ">
                                          <p>6</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d106260e4585 d106260e4488 "><pre class="oac_no_warn" dir="ltr">OCITransPrepare()</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4585 d106260e4491 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d106260e4585 d106260e4495 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d106260e4585 d106260e4498 ">
                                          <p>Transaction is prepared for two-phase commit.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4601" headers="d106260e4485 ">
                                          <p>7</p>
                                       </td>
                                       <td align="left" valign="top" width="34%" headers="d106260e4601 d106260e4488 "><pre class="oac_no_warn" dir="ltr">OCITransCommit()</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4601 d106260e4491 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="21%" headers="d106260e4601 d106260e4495 ">
                                          <p><code class="codeph">OCI_TRANS_TWOPHASE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d106260e4601 d106260e4498 ">
                                          <p>Transaction is committed.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>In Step 4, the transaction can be resumed by a different process, as long as it had the same authorization.</p>
                           <div class="infoboxnotealso" id="GUID-6D657924-E7C3-4DC0-90AF-CBD294271520__GUID-DBD00368-FD52-4F0A-95EF-A5AC78DBEA07">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-03AB7BAB-C8F0-4DFF-BD10-7CE0F3C8CE09" title="Detaches a global transaction.">OCITransDetach()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-B8ADEE8D-9A5F-48C6-A862-4FFE280BA0D3" title="Prepares a global transaction for commit.">OCITransPrepare()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI16552"></a><a id="LNOCI16551"></a><div class="props_rev_3"><a id="GUID-E686C22B-8290-44C3-AC89-23B57CE1F3A5" name="GUID-E686C22B-8290-44C3-AC89-23B57CE1F3A5"></a><h5 id="LNOCI-GUID-E686C22B-8290-44C3-AC89-23B57CE1F3A5" class="sect5"><span class="enumeration_section">10.2.5.3 </span>Showing a Read-Only Update Fails
                     </h5>
                     <div>
                        <p> Lsts the steps in a failed read-only update operation.</p>
                        <div class="section">
                           <p><a href="managing-scalable-platforms.html#GUID-E686C22B-8290-44C3-AC89-23B57CE1F3A5__BGBBHJGC" title="This table has 5 columns. Column 1 is the step number, column 2 is the OCI action, column 3 is the XID value, column 4 is the flags value, and column 5 is the result.">Table 10-4</a> lists the steps in a failed read-only update operation.
                           </p>
                           <div class="tblformalwide" id="GUID-E686C22B-8290-44C3-AC89-23B57CE1F3A5__BGBBHJGC">
                              <p class="titleintable">Table 10-4 Read-Only Update Fails </p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Read-Only Update Fails " summary="This table has 5 columns. Column 1 is the step number, column 2 is the OCI action, column 3 is the XID value, column 4 is the flags value, and column 5 is the result. " width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="8%" id="d106260e4863">Step</th>
                                       <th align="left" valign="bottom" width="30%" id="d106260e4866">OCI Action</th>
                                       <th align="left" valign="bottom" width="8%" id="d106260e4869">XID</th>
                                       <th align="left" valign="bottom" width="22%" id="d106260e4872">Flags</th>
                                       <th align="left" valign="bottom" width="31%" id="d106260e4875">Result</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4880" headers="d106260e4863 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d106260e4880 d106260e4866 "><pre class="oac_no_warn" dir="ltr">OCITransStart()</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4880 d106260e4869 ">
                                          <p>1234</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d106260e4880 d106260e4872 ">
                                          <p><code class="codeph">OCI_TRANS_NEW</code> |
                                          </p>
                                          <p><code class="codeph">OCI_TRANS_READONLY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="31%" headers="d106260e4880 d106260e4875 ">
                                          <p>Starts new read-only transaction.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4901" headers="d106260e4863 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d106260e4901 d106260e4866 "><pre class="oac_no_warn" dir="ltr">SQL UPDATE</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4901 d106260e4869 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d106260e4901 d106260e4872 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="31%" headers="d106260e4901 d106260e4875 ">
                                          <p>Update fails, because the transaction is read-only.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="8%" id="d106260e4917" headers="d106260e4863 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d106260e4917 d106260e4866 "><pre class="oac_no_warn" dir="ltr">OCITransCommit()</pre></td>
                                       <td align="left" valign="top" width="8%" headers="d106260e4917 d106260e4869 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d106260e4917 d106260e4872 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="31%" headers="d106260e4917 d106260e4875 ">
                                          <p>Commit has no effect.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-E686C22B-8290-44C3-AC89-23B57CE1F3A5__GUID-0027593C-0B2D-4597-A371-2243D6F88752">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI16554"></a><a id="LNOCI16553"></a><div class="props_rev_3"><a id="GUID-7E9DAAEC-C836-4AFF-88FA-CEACAFC5415A" name="GUID-7E9DAAEC-C836-4AFF-88FA-CEACAFC5415A"></a><h5 id="LNOCI-GUID-7E9DAAEC-C836-4AFF-88FA-CEACAFC5415A" class="sect5"><span class="enumeration_section">10.2.5.4 </span>Showing Starting a Read-Only Transaction, Select, and Commit
                     </h5>
                     <div>
                        <p>Lists the steps for a read-only transaction.</p>
                        <div class="section">
                           <p><a href="managing-scalable-platforms.html#GUID-7E9DAAEC-C836-4AFF-88FA-CEACAFC5415A__BGBJJFHC" title="This table has 5 columns. Column 1 is the step number, column 2 is the OCI action, column 3 is the XID value, column 4 is the flags value, and column 5 is the result.">Table 10-5</a> lists the steps for a read-only transaction.
                           </p>
                           <div class="tblformalwide" id="GUID-7E9DAAEC-C836-4AFF-88FA-CEACAFC5415A__BGBJJFHC">
                              <p class="titleintable">Table 10-5 Read-Only Transaction </p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Read-Only Transaction " summary="This table has 5 columns. Column 1 is the step number, column 2 is the OCI action, column 3 is the XID value, column 4 is the flags value, and column 5 is the result. " width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="9%" id="d106260e5156">Step</th>
                                       <th align="left" valign="bottom" width="27%" id="d106260e5159">OCI Action</th>
                                       <th align="left" valign="bottom" width="9%" id="d106260e5162">XID</th>
                                       <th align="left" valign="bottom" width="23%" id="d106260e5165">Flags</th>
                                       <th align="left" valign="bottom" width="32%" id="d106260e5168">Result</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="9%" id="d106260e5173" headers="d106260e5156 ">
                                          <p>1</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d106260e5173 d106260e5159 "><pre class="oac_no_warn" dir="ltr">OCITransStart()</pre></td>
                                       <td align="left" valign="top" width="9%" headers="d106260e5173 d106260e5162 ">
                                          <p>1234</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d106260e5173 d106260e5165 ">
                                          <p><code class="codeph">OCI_TRANS_NEW</code> |
                                          </p>
                                          <p><code class="codeph">OCI_TRANS_READONLY</code></p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d106260e5173 d106260e5168 ">
                                          <p>Starts new read-only transaction</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="9%" id="d106260e5194" headers="d106260e5156 ">
                                          <p>2</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d106260e5194 d106260e5159 "><pre class="oac_no_warn" dir="ltr">SQL SELECT</pre></td>
                                       <td align="left" valign="top" width="9%" headers="d106260e5194 d106260e5162 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d106260e5194 d106260e5165 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d106260e5194 d106260e5168 ">
                                          <p>Queries the database</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="9%" id="d106260e5210" headers="d106260e5156 ">
                                          <p>3</p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d106260e5210 d106260e5159 "><pre class="oac_no_warn" dir="ltr">OCITransCommit()</pre></td>
                                       <td align="left" valign="top" width="9%" headers="d106260e5210 d106260e5162 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d106260e5210 d106260e5165 ">
                                          <p>-</p>
                                       </td>
                                       <td align="left" valign="top" width="32%" headers="d106260e5210 d106260e5168 ">
                                          <p>No effect — transaction is read-only, no changes made</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-7E9DAAEC-C836-4AFF-88FA-CEACAFC5415A__GUID-B7DF7ADB-0F62-4544-9C01-3335C332CE57">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-81E5963B-4DE7-47E1-ABB0-C1490AF3BAA8" title="Sets the beginning of a transaction.">OCITransStart()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="transaction-functions.html#GUID-DDAE3122-8769-4A30-8D78-EB2A3CCF77D4" title="Commits the transaction associated with a specified service context.">OCITransCommit()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16555"></a><div class="props_rev_3"><a id="GUID-5579C27E-2536-4B21-96DB-3EDFECF576B5" name="GUID-5579C27E-2536-4B21-96DB-3EDFECF576B5"></a><h3 id="LNOCI-GUID-5579C27E-2536-4B21-96DB-3EDFECF576B5" class="sect3"><span class="enumeration_section">10.3 </span>Password and Session Management
               </h3>
               <div>
                  <p>OCI can authenticate and maintain multiple users. </p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-0C150A00-8DE9-4A8C-83BC-802D25503CA5" title="The OCISessionBegin() call authenticates a user against the server set in the service context handle.">OCI Authentication Management</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-D3FDA896-99A8-401B-8DD7-EE775DB133F6" title="The OCIPasswordChange() call enables an application to modify a user's database password as necessary.">OCI Password Management</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-9B8EC09D-7347-4FB4-90A4-08A2984DAED7" title="For large-scale deployments where applications use password credentials to connect to databases, it is possible to store such credentials in a client-side Oracle wallet.">Secure External Password Store</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-69A0AE8C-3F8D-4EDD-A817-730F17B3DF3E" title="Transaction servers that actively balance user load by multiplexing user sessions over a few server connections must group these connections into a server group.">OCI Session Management</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16556"></a><div class="props_rev_3"><a id="GUID-0C150A00-8DE9-4A8C-83BC-802D25503CA5" name="GUID-0C150A00-8DE9-4A8C-83BC-802D25503CA5"></a><h4 id="LNOCI-GUID-0C150A00-8DE9-4A8C-83BC-802D25503CA5" class="sect4"><span class="enumeration_section">10.3.1 </span>OCI Authentication Management
                  </h4>
                  <div>
                     <p>The <code class="codeph">OCISessionBegin()</code> call authenticates a user against the server set in the service context handle.
                     </p>
                     <p>It must be the first call for any given server handle. <code class="codeph">OCISessionBegin()</code> authenticates the user for access to the Oracle database specified by the server handle and the service context of the call: after <code class="codeph">OCIServerAttach()</code> initializes a server handle, <code class="codeph">OCISessionBegin()</code> must be called to authenticate the user for that server. 
                     </p>
                     <p>When <code class="codeph">OCISessionBegin()</code> is called for the first time on a server handle, the user session may not be created in migratable mode (<code class="codeph">OCI_MIGRATE</code>). After <code class="codeph">OCISessionBegin()</code> has been called for a server handle, the application can call <code class="codeph">OCISessionBegin()</code> again to initialize another user session handle with different or the same credentials and different or the same operation modes. For an application to authenticate a user in <code class="codeph">OCI_MIGRATE</code> mode, the service handle must already be associated with a nonmigratable user handle. The <code class="codeph">userid</code> of that user handle becomes the ownership ID of the migratable user session. Every migratable session must have a nonmigratable parent session.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If <code class="codeph">OCI_MIGRATE</code> mode is not specified, then the user session context can be used only with the server handle specified with the <code class="codeph">OCISessionBegin()</code>.
                           </p>
                        </li>
                        <li>
                           <p>If <code class="codeph">OCI_MIGRATE</code> mode is specified, then the user authentication can be set with other server handles. However, the user session context can only be used with server handles that resolve to the same database instance. Security checking is performed during session switching.
                           </p>
                        </li>
                     </ul>
                     <p>A migratable session can switch to a different server handle only if the ownership ID of the session matches the <code class="codeph">userid</code> of a nonmigratable session currently connected to that same server.
                     </p>
                     <p><code class="codeph">OCI_SYSDBA</code>, <code class="codeph">OCI_SYSOPER</code>, <code class="codeph">OCI_SYSBKP</code>, <code class="codeph">OCI_SYSDGD</code>, <code class="codeph">OCI_SYSKMT</code>, <code class="codeph">OCI_SYSRAC</code>, <code class="codeph">OCI_SYSASM</code>, and <code class="codeph">OCI_PRELIM_AUTH</code> settings can only be used with a primary user session context. For <code class="codeph">OCI_SYSASM</code>, the SYSASM connection works only to ASM instances (not database instances). 
                     </p>
                     <p>A migratable session can be switched, or migrated, to a server handle within an environment represented by an environment handle. It can also migrate or be cloned to a server handle in another environment in the same process, or in a different process in a different mode. To perform this migration or cloning, you must do the following:</p>
                     <ol>
                        <li>
                           <p>Extract the session ID from the session handle using <code class="codeph">OCI_ATTR_MIGSESSION</code>. This is an array of bytes that must not be modified by the caller. 
                           </p>
                        </li>
                        <li>
                           <p> Transport this session ID to another process.</p>
                        </li>
                        <li>
                           <p>In the new environment, create a session handle and set the session ID using <code class="codeph">OCI_ATTR_MIGSESSION</code>.
                           </p>
                        </li>
                        <li>
                           <p>Execute <code class="codeph">OCISessionBegin()</code>. The resulting session handle is fully authenticated.
                           </p>
                        </li>
                     </ol>
                     <p>To provide credentials for a call to <code class="codeph">OCISessionBegin()</code>, you must provide a valid user name and password pair for database authentication in the user session handle parameter. This involves using <code class="codeph">OCIAttrSet()</code> to set the <code class="codeph">OCI_ATTR_USERNAME</code> and <code class="codeph">OCI_ATTR_PASSWORD</code> attributes on the user session handle. Then <code class="codeph">OCISessionBegin()</code> is called with <code class="codeph">OCI_CRED_RDBMS</code>.
                     </p>
                     <p>When the user session handle is terminated using <code class="codeph">OCISessionEnd()</code>, the user name and password attributes are changed and thus cannot be reused in a future call to <code class="codeph">OCISessionBegin()</code>. They must be reset to new values before the next <code class="codeph">OCISessionBegin()</code> call.
                     </p>
                     <p>Or, you can supply external credentials. No attributes need to be set on the user session handle before calling <code class="codeph">OCISessionBegin()</code>. The credential type is <code class="codeph">OCI_CRED_EXT</code>. If values have been set for <code class="codeph">OCI_ATTR_USERNAME</code> and <code class="codeph">OCI_ATTR_PASSWORD</code>, these are ignored if <code class="codeph">OCI_CRED_EXT</code> is used.
                     </p>
                     <div class="infoboxnotealso" id="GUID-0C150A00-8DE9-4A8C-83BC-802D25503CA5__GUID-69D20040-BA46-47CF-A85C-5EE93EF4B7CA">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977" title="Lists and describes user session handle attributes.">User Session Handle Attributes</a> for more information about <code class="codeph">OCI_ATTR_MIGSESSION</code></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-B6291228-DA2F-4CE9-870A-F94243141757" title="Creates an access path to a data source for OCI operations.">OCIServerAttach()</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-2AE88BDC-2C44-4958-B26A-434B0407F06F" title="Terminates a user session context created by OCISessionBegin().">OCISessionEnd()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI16557"></a><div class="props_rev_3"><a id="GUID-D3FDA896-99A8-401B-8DD7-EE775DB133F6" name="GUID-D3FDA896-99A8-401B-8DD7-EE775DB133F6"></a><h4 id="LNOCI-GUID-D3FDA896-99A8-401B-8DD7-EE775DB133F6" class="sect4"><span class="enumeration_section">10.3.2 </span>OCI Password Management
                  </h4>
                  <div>
                     <p>The <code class="codeph">OCIPasswordChange()</code> call enables an application to modify a user's database password as necessary.
                     </p>
                     <p>This is particularly useful if a call to <code class="codeph">OCISessionBegin()</code> returns an error message or warning indicating that a user's password has expired.
                     </p>
                     <p>Applications can also use <code class="codeph">OCIPasswordChange()</code> to establish a user authentication context and to change the password. If <code class="codeph">OCIPasswordChange()</code> is called with an uninitialized service context, it establishes a service context and authenticates the user's account using the old password, and then changes the password to the new password. If the <code class="codeph">OCI_AUTH</code> flag is set, the call leaves the user session initialized. Otherwise, the user session is cleared.
                     </p>
                     <p>If the service context passed to <code class="codeph">OCIPasswordChange()</code> is already initialized, then <code class="codeph">OCIPasswordChange()</code> authenticates the given account using the old password and changes the password to the new password. In this case, no matter how the flag is set, the user session remains initialized.
                     </p>
                     <div class="infoboxnotealso" id="GUID-D3FDA896-99A8-401B-8DD7-EE775DB133F6__GUID-4C30DEDF-72B3-4D23-971D-2D50047701F8">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="miscellaneous-functions.html#GUID-5C677395-E96C-4CCF-8448-AA3ADA22C26B" title="Changes the password of an account.">OCIPasswordChange()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI13251"></a><div class="props_rev_3"><a id="GUID-9B8EC09D-7347-4FB4-90A4-08A2984DAED7" name="GUID-9B8EC09D-7347-4FB4-90A4-08A2984DAED7"></a><h4 id="LNOCI-GUID-9B8EC09D-7347-4FB4-90A4-08A2984DAED7" class="sect4"><span class="enumeration_section">10.3.3 </span>Secure External Password Store
                  </h4>
                  <div>
                     <p>For large-scale deployments where applications use password credentials to connect to databases, it is possible to store such credentials in a client-side Oracle wallet.</p>
                     <p>An Oracle wallet is a secure software container that is used to store authentication and signing credentials.</p>
                     <p>Storing database password credentials in a client-side Oracle wallet eliminates the need to embed user names and passwords in application code, batch jobs, or scripts. This reduces the risk of exposing passwords in the clear in scripts and application code, and simplifies maintenance because you need not change your code each time user names and passwords change. In addition, not having to change application code makes it easier to enforce password management policies for these user accounts.</p>
                     <p>When you configure a client to use the external password store, applications can use the following syntax to connect to databases that use password authentication:</p><pre class="oac_no_warn" dir="ltr">CONNECT /@<span class="italic">database_alias</span>
</pre><p>Note that you need not specify database login credentials in this <code class="codeph">CONNECT</code> statement. Instead your system looks for database login credentials in the client wallet.
                     </p>
                     <div class="infoboxnotealso" id="GUID-9B8EC09D-7347-4FB4-90A4-08A2984DAED7__GUID-9FF6515E-9770-4915-A269-F392EAF0A3C8">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN11133" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a> for information about configuring your client to use the secure external password store
                        </p>
                     </div>
                  </div>
               </div><a id="LNOCI72640"></a><a id="LNOCI16558"></a><div class="props_rev_3"><a id="GUID-69A0AE8C-3F8D-4EDD-A817-730F17B3DF3E" name="GUID-69A0AE8C-3F8D-4EDD-A817-730F17B3DF3E"></a><h4 id="LNOCI-GUID-69A0AE8C-3F8D-4EDD-A817-730F17B3DF3E" class="sect4"><span class="enumeration_section">10.3.4 </span>OCI Session Management
                  </h4>
                  <div>
                     <p>Transaction servers that actively balance user load by multiplexing user sessions over a few server connections must group these connections into a server group.</p>
                     <p>Oracle Database uses server groups to identify these connections so that sessions can be managed effectively and securely. </p>
                     <p>The attribute <code class="codeph">OCI_ATTR_SERVER_GROUP</code> must be defined to specify the server group name by using the <code class="codeph">OCIAttrSet()</code> call, as shown in <a href="managing-scalable-platforms.html#GUID-69A0AE8C-3F8D-4EDD-A817-730F17B3DF3E__BGBFFEAB">Example 10-1</a>.
                     </p>
                     <p>The server group name is an alphanumeric string not exceeding 30 characters. This attribute can only be set <span class="italic">after</span> calling <code class="codeph">OCIServerAttach()</code>. <code class="codeph">OCI_ATTR_SERVER_GROUP</code> attribute must be set in the server context before creating the first nonmigratable session that uses that context. After the session is created successfully and the connection to the server is established, the server group name cannot be changed. 
                     </p>
                     <p>All migratable sessions created on servers within a server group can only migrate to other servers in the same server group. Servers that terminate are removed from the server group. New servers can be created within an existing server group at any time.</p>
                     <p>The use of server groups is optional. If no server group is specified, the server is created in a server group called <code class="codeph">DEFAULT</code>.
                     </p>
                     <p>The owner of the first nonmigratable session created in a nondefault server group becomes the owner of the server group. All subsequent nonmigratable sessions for any server in this server group must be created by the owner of the server group.</p>
                     <p>The server group feature is useful when dedicated servers are used. It has no effect on shared servers. All shared servers effectively belong to the server group <code class="codeph">DEFAULT</code>. 
                     </p>
                     <div class="example" id="GUID-69A0AE8C-3F8D-4EDD-A817-730F17B3DF3E__BGBFFEAB">
                        <p class="titleinexample">Example 10-1 Defining the OCI_ATTR_SERVER_GROUP Attribute to Pass the Server Group Name</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet ((void *) srvhp, (ub4) OCI_HTYPE_SERVER, (void *) group_name, 
            (ub4) strlen ((CONST char *) group_name), 
            (ub4) OCI_ATTR_SERVER_GROUP, errhp);
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-69A0AE8C-3F8D-4EDD-A817-730F17B3DF3E__GUID-AF9B0214-A3CD-4AAD-BFA8-C712A07D8A10">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-2B6D06A7-8EDF-46FF-BDEF-320D293DCA65" title="Lists and describes server handle attributes.">Server Handle Attributes</a> for more information about <code class="codeph">OCI_ATTR_SERVER_GROUP</code> attribute
                                 </p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-B6291228-DA2F-4CE9-870A-F94243141757" title="Creates an access path to a data source for OCI operations.">OCIServerAttach()</a></p>
                              </li>
                           </ul>
                           <p></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNOCI16559"></a><div class="props_rev_3"><a id="GUID-A5830D58-3079-45DD-BE3A-81C41991DA70" name="GUID-A5830D58-3079-45DD-BE3A-81C41991DA70"></a><h3 id="LNOCI-GUID-A5830D58-3079-45DD-BE3A-81C41991DA70" class="sect3"><span class="enumeration_section">10.4 </span>Middle-Tier Applications in OCI
               </h3>
               <div>
                  <p>A middle-tier application receives requests from browser clients.</p>
                  <p>The application determines database access and whether to generate an HTML page. Applications can have multiple <span class="italic">lightweight</span> user sessions within a single database session. These lightweight sessions allow each user to be authenticated without the overhead of a separate database connection, and they preserve the identity of the real user through the middle tier.
                  </p>
                  <p>As long as the client authenticates itself with the middle tier, and the middle tier authenticates itself with the database, and the middle tier is authorized to act on behalf of the client by the administrator, client identities can be maintained all the way into the database without compromising the security of the client.</p>
                  <p>The design of a secure three-tier architecture is developed around a set of three trust zones. </p>
                  <p>The first is the client trust zone. Clients connecting to a web application server are authenticated by the middle tier using any means: password, cryptographic token, or another. This method can be entirely different from the method used to establish the other trust zones. </p>
                  <p>The second trust zone is the application server. The data server verifies the identity of the application server and trusts it to pass the correct identity of the client. </p>
                  <p>The third trust zone is the data server interaction with the authorization server to obtain the roles assigned to the client and the application server.</p>
                  <p>The application server creates a primary session for itself after it connects to a server. It authenticates itself in the normal manner to the database, creating the application server trust zone. The application server identity is now well known and trusted by the data server.</p>
                  <p>When the application verifies the identity of a client connecting to the application server, it creates the first trust zone. The application server now needs a session handle for the client so that it can service client requests. The middle-tier process allocates a session handle and then sets the following attributes of the client using <code class="codeph">OCIAttrSet()</code>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">OCI_ATTR_USERNAME</code> sets the database user name of the client.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">OCI_ATTR_PROXY_CREDENTIALS</code> indicates the authenticated application making the proxy request.
                        </p>
                     </li>
                  </ul>
                  <p>To specify a list of roles activated after the application server connects as the client, it can call <code class="codeph">OCIAttrSet()</code> with the attribute <code class="codeph">OCI_ATTR_INITIAL_CLIENT_ROLES</code> and an array of strings that contains the list of roles before the <code class="codeph">OCISessionBegin()</code> call. Then the role is established and proxy capability is verified in one round-trip. If the application server is not allowed to act on behalf of the client, or if the application server is not allowed to activate the specified roles, the <code class="codeph">OCISessionBegin()</code> call fails. 
                  </p>
                  <p>This section includes the following topic: <a href="managing-scalable-platforms.html#GUID-B95CE5B4-1B9A-45F7-964B-614B4D151A83" title="The following attributes enable you to specify the external name and initial privileges of a client.">OCI Attributes for Middle-Tier Applications</a>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-A5830D58-3079-45DD-BE3A-81C41991DA70__GUID-4D201B07-B29C-4717-B6FF-804CB856EF2A">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                        </li>
                        <li>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16560"></a><div class="props_rev_3"><a id="GUID-B95CE5B4-1B9A-45F7-964B-614B4D151A83" name="GUID-B95CE5B4-1B9A-45F7-964B-614B4D151A83"></a><h4 id="LNOCI-GUID-B95CE5B4-1B9A-45F7-964B-614B4D151A83" class="sect4"><span class="enumeration_section">10.4.1 </span>OCI Attributes for Middle-Tier Applications
                  </h4>
                  <div>
                     <p>The following attributes enable you to specify the external name and initial privileges of a client.</p>
                     <p>These credentials are used by applications as alternative means of identifying or authenticating the client.</p>
                     <div class="p">These attributes include:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-FF1A654F-6B03-4378-B325-024E92BEAF19" title="Use OCI_CRED_PROXY as the value passed in the credt parameter of OCISessionBegin().">OCI_CRED_PROXY</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-385D595C-F915-458F-A8E4-1A7CC4BF6C19" title="Use the OCI_ATTR_PROXY_CREDENTIALS attribute to specify the credentials of the application server in client authentication.">OCI_ATTR_PROXY_CREDENTIALS</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-D4106D41-743B-411E-82D6-7C41BDAF44C5" title="Use OCI_ATTR_DISTINGUISHED_NAME to pass the distinguished name of the client.">OCI_ATTR_DISTINGUISHED_NAME</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-69416D35-A689-41EB-9086-7B77B3331C9D" title="Certificate-based proxy authentication using OCI_ATTR_CERTIFICATE will not be supported in future Oracle Database releases.">OCI_ATTR_CERTIFICATE</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-B835FE41-2149-4912-9CB7-B65B15E1ABB1" title="Use the OCI_ATTR_INITIAL_CLIENT_ROLES attribute to specify the roles the client is to possess when the application server connects to the Oracle database.">OCI_ATTR_INITIAL_CLIENT_ROLES</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-8A9F1295-4360-4AC6-99A4-050C5C82E0B0" title="Use OCI_ATTR_CLIENT_IDENTIFIER on the middle tier to track end-user identity.">OCI_ATTR_CLIENT_IDENTIFIER</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-BAD07740-13A4-4760-A794-8552A040E70A" title="To use the password of the client for validation on the middle-tier, the application server can use the existing attribute OCI_ATTR_PASSWORD with the client’s authentication data.">OCI_ATTR_PASSWORD</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16561"></a><div class="props_rev_3"><a id="GUID-FF1A654F-6B03-4378-B325-024E92BEAF19" name="GUID-FF1A654F-6B03-4378-B325-024E92BEAF19"></a><h5 id="LNOCI-GUID-FF1A654F-6B03-4378-B325-024E92BEAF19" class="sect5"><span class="enumeration_section">10.4.1.1 </span>OCI_CRED_PROXY
                     </h5>
                     <div>
                        <p>Use <code class="codeph">OCI_CRED_PROXY</code> as the value passed in the <code class="codeph">credt</code> parameter of <code class="codeph">OCISessionBegin()</code>.
                        </p>
                        <p>When an application server starts a session on behalf of a client, use <code class="codeph">OCI_CRED_PROXY</code> as the value passed in the <code class="codeph">credt</code> parameter of <code class="codeph">OCISessionBegin()</code> rather than <code class="codeph">OCI_CRED_RDBMS</code> (database user name and password required) or <code class="codeph">OCI_CRED_EXT</code> (externally provided credentials).
                        </p>
                        <div class="infoboxnotealso" id="GUID-FF1A654F-6B03-4378-B325-024E92BEAF19__GUID-4A184AC3-377B-40B0-A184-21695AA0A413">
                           <p class="notep1">See Also:</p>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI72641"></a><a id="LNOCI16562"></a><div class="props_rev_3"><a id="GUID-385D595C-F915-458F-A8E4-1A7CC4BF6C19" name="GUID-385D595C-F915-458F-A8E4-1A7CC4BF6C19"></a><h5 id="LNOCI-GUID-385D595C-F915-458F-A8E4-1A7CC4BF6C19" class="sect5"><span class="enumeration_section">10.4.1.2 </span>OCI_ATTR_PROXY_CREDENTIALS
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">OCI_ATTR_PROXY_CREDENTIALS</code> attribute to specify the credentials of the application server in client authentication.
                        </p>
                        <p> You can code the following declarations and <code class="codeph">OCIAttrSet()</code> call, as shown in <a href="managing-scalable-platforms.html#GUID-385D595C-F915-458F-A8E4-1A7CC4BF6C19__BGBEJIGA">Example 10-2</a>.
                        </p>
                        <div class="example" id="GUID-385D595C-F915-458F-A8E4-1A7CC4BF6C19__BGBEJIGA">
                           <p class="titleinexample">Example 10-2 Defining the OCI_ATTR_PROXY_CREDENTIALS Attribute to Specify the Credentials of the Application Server for Client Authentication</p><pre class="oac_no_warn" dir="ltr">OCISession *session_handle;
OCISvcCtx  *application_server_session_handle;
OCIError   *error_handle;
...
OCIAttrSet((void *)session_handle, (ub4) OCI_HTYPE_SESSION, 
           (void *)application_server_session_handle, (ub4) 0, 
            OCI_ATTR_PROXY_CREDENTIALS, error_handle);
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-385D595C-F915-458F-A8E4-1A7CC4BF6C19__GUID-7A650D2D-EE2A-485C-9791-8E8BFF4ECC89">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI72642"></a><a id="LNOCI16563"></a><div class="props_rev_3"><a id="GUID-D4106D41-743B-411E-82D6-7C41BDAF44C5" name="GUID-D4106D41-743B-411E-82D6-7C41BDAF44C5"></a><h5 id="LNOCI-GUID-D4106D41-743B-411E-82D6-7C41BDAF44C5" class="sect5"><span class="enumeration_section">10.4.1.3 </span>OCI_ATTR_DISTINGUISHED_NAME
                     </h5>
                     <div>
                        <p>Use <code class="codeph">OCI_ATTR_DISTINGUISHED_NAME</code> to pass the distinguished name of the client.
                        </p>
                        <p>Your applications can use the distinguished name contained within a X.509 certificate as the login name of the client, instead of the database user name. </p>
                        <p>To pass the distinguished name of the client, the middle-tier server calls <code class="codeph">OCIAttrSet()</code>, passing <code class="codeph">OCI_ATTR_DISTINGUISHED_NAME</code>, as shown in <a href="managing-scalable-platforms.html#GUID-D4106D41-743B-411E-82D6-7C41BDAF44C5__BGBIGEGE">Example 10-3</a>.
                        </p>
                        <div class="example" id="GUID-D4106D41-743B-411E-82D6-7C41BDAF44C5__BGBIGEGE">
                           <p class="titleinexample">Example 10-3 Defining the OCI_ATTR_DISTINGUISHED_NAME Attribute to Pass the Distinguished Name of the Client</p><pre class="oac_no_warn" dir="ltr">/* Declarations */
...
OCIAttrSet((void *)session_handle, (ub4) OCI_HTYPE_SESSION,
           (void *)distinguished_name, (ub4) 0,
           OCI_ATTR_DISTINGUISHED_NAME, error_handle);
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-D4106D41-743B-411E-82D6-7C41BDAF44C5__GUID-E5973470-A9BB-4691-A9B5-3594620E36AC">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI72643"></a><a id="LNOCI16564"></a><div class="props_rev_3"><a id="GUID-69416D35-A689-41EB-9086-7B77B3331C9D" name="GUID-69416D35-A689-41EB-9086-7B77B3331C9D"></a><h5 id="LNOCI-GUID-69416D35-A689-41EB-9086-7B77B3331C9D" class="sect5"><span class="enumeration_section">10.4.1.4 </span>OCI_ATTR_CERTIFICATE
                     </h5>
                     <div>
                        <p>Certificate-based proxy authentication using <code class="codeph">OCI_ATTR_CERTIFICATE</code> will not be supported in future Oracle Database releases. 
                        </p>
                        <p>Use <code class="codeph">OCI_ATTR_DISTINGUISHED_NAME</code> or <code class="codeph">OCI_ATTR_USERNAME</code> attribute instead. This method of authentication is similar to the use of the distinguished name. The entire X.509 certificate is passed by the middle-tier server to the database.
                        </p>
                        <p>To pass over the entire certificate, the middle tier calls <code class="codeph">OCIAttrSet()</code>, passing <code class="codeph">OCI_ATTR_CERTIFICATE</code>, as shown in <a href="managing-scalable-platforms.html#GUID-69416D35-A689-41EB-9086-7B77B3331C9D__BGBCCFFC">Example 10-4</a>.
                        </p>
                        <div class="example" id="GUID-69416D35-A689-41EB-9086-7B77B3331C9D__BGBCCFFC">
                           <p class="titleinexample">Example 10-4 Defining the OCI_ATTR_CERTIFICATE Attribute to Pass the Entire X.509 Certificate</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet((void *)session_handle, (ub4) OCI_HTYPE_SESSION, 
           (void *)certificate, ub4 certificate_length, 
           OCI_ATTR_CERTIFICATE, error_handle);
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-69416D35-A689-41EB-9086-7B77B3331C9D__GUID-4DCF7449-7C46-4845-B27E-D9AEE6DC484E">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI72644"></a><a id="LNOCI16565"></a><div class="props_rev_3"><a id="GUID-B835FE41-2149-4912-9CB7-B65B15E1ABB1" name="GUID-B835FE41-2149-4912-9CB7-B65B15E1ABB1"></a><h5 id="LNOCI-GUID-B835FE41-2149-4912-9CB7-B65B15E1ABB1" class="sect5"><span class="enumeration_section">10.4.1.5 </span>OCI_ATTR_INITIAL_CLIENT_ROLES
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">OCI_ATTR_INITIAL_CLIENT_ROLES</code> attribute to specify the roles the client is to possess when the application server connects to the Oracle database. 
                        </p>
                        <p>To enable a set of roles, the function <code class="codeph">OCIAttrSet()</code> is called with the attribute, an array of <code class="codeph">NULL</code>-terminated strings, and the number of strings in the array, as shown in <a href="managing-scalable-platforms.html#GUID-B835FE41-2149-4912-9CB7-B65B15E1ABB1__BGBCGEEF">Example 10-5</a>.
                        </p>
                        <div class="example" id="GUID-B835FE41-2149-4912-9CB7-B65B15E1ABB1__BGBCGEEF">
                           <p class="titleinexample">Example 10-5 Defining the OCI_ATTR_INITIAL_CLIENT_ROLES Attribute to Pass the Client Roles</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet((void *)session_handle, (ub4) OCI_HTYPE_SESSION, 
           (void *)role_array, (ub4) number_of_strings,
           OCI_ATTR_INITIAL_CLIENT_ROLES, error_handle);</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-B835FE41-2149-4912-9CB7-B65B15E1ABB1__GUID-BCA2230A-2239-4014-9E19-8B5EBDFB07C9">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI72645"></a><a id="LNOCI16566"></a><div class="props_rev_3"><a id="GUID-8A9F1295-4360-4AC6-99A4-050C5C82E0B0" name="GUID-8A9F1295-4360-4AC6-99A4-050C5C82E0B0"></a><h5 id="LNOCI-GUID-8A9F1295-4360-4AC6-99A4-050C5C82E0B0" class="sect5"><span class="enumeration_section">10.4.1.6 </span>OCI_ATTR_CLIENT_IDENTIFIER
                     </h5>
                     <div>
                        <p>Use <code class="codeph">OCI_ATTR_CLIENT_IDENTIFIER</code> on the middle tier to track end-user identity.
                        </p>
                        <p>Many middle-tier applications connect to the database as an application, and rely on the middle tier to track end-user identity. To integrate tracking of the identity of these users in various database components, the database client can set the <code class="codeph">CLIENT_IDENTIFIER</code> (a predefined attribute from the application context namespace <code class="codeph">USERENV</code>) in the session handle at any time. Use the OCI attribute <code class="codeph">OCI_ATTR_CLIENT_IDENTIFIER</code> in the call to <code class="codeph">OCIAttrSet()</code>, as shown in <a href="managing-scalable-platforms.html#GUID-8A9F1295-4360-4AC6-99A4-050C5C82E0B0__BGBIEGGA">Example 10-6</a>. On the next request to the server, the information is propagated and stored in the server session.
                        </p>
                        <p>The <code class="codeph">CLIENT_IDENTIFIER</code>, which can also be set using the <code class="codeph">DBMS_SESSION.SET_IDENTIFIER</code> procedure, is automatically truncated if the supplied input is more than 64 bytes because the maximum size for the client id is 64 bytes.
                        </p>
                        <p><code class="codeph">OCI_ATTR_CLIENT_IDENTIFIER</code> can also be used in conjunction with the global application context to restrict availability of the context to the selected identity of these users.
                        </p>
                        <p>When a client has multiple sessions, execute <code class="codeph">OCIAttrSet()</code> for each session using the same client identifier. <code class="codeph">OCIAttrSet()</code> must be executed manually for sessions that are reestablished through transparent application failover (TAF).
                        </p>
                        <p>The client identifier is found in <code class="codeph">V$SESSION</code> as a <code class="codeph">CLIENT_IDENTIFIER</code> column or through the system context with this SQL statement:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT <code class="codeph">SYS_CONTEXT</code>('userenv', 'client_identifier') FROM DUAL;
</pre><div class="example" id="GUID-8A9F1295-4360-4AC6-99A4-050C5C82E0B0__BGBIEGGA">
                           <p class="titleinexample">Example 10-6 Defining the OCI_ATTR_CLIENT_IDENTIFIER Attribute to Pass the End-User Identity</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet((void *)session_handle, (ub4) OCI_HTYPE_SESSION, 
           (void *)"janedoe", (ub4)strlen("janedoe"),
           OCI_ATTR_CLIENT_IDENTIFIER, error_handle);
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-8A9F1295-4360-4AC6-99A4-050C5C82E0B0__GUID-FE06E10E-B455-499C-BFA7-756EAE3A7A78">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../dbseg/configuring-authentication.html#DBSEG15003" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> the section about preserving user identity in multi-tiered environments"
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="high-availability-in-oci.html#GUID-F7817CD2-4A2C-4D37-BD36-56DBABD4725F" title="Transparent application failover (TAF) is a client-side feature designed to minimize disruptions to end-user applications that occur when database connectivity fails because of instance or network failure.">Transparent Application Failover in OCI</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI72646"></a><a id="LNOCI72647"></a><a id="LNOCI16567"></a><div class="props_rev_3"><a id="GUID-BAD07740-13A4-4760-A794-8552A040E70A" name="GUID-BAD07740-13A4-4760-A794-8552A040E70A"></a><h5 id="LNOCI-GUID-BAD07740-13A4-4760-A794-8552A040E70A" class="sect5"><span class="enumeration_section">10.4.1.7 </span>OCI_ATTR_PASSWORD
                     </h5>
                     <div>
                        <p>To use the password of the client for validation on the middle-tier, the application server can use the existing attribute <code class="codeph">OCI_ATTR_PASSWORD</code> with the client’s authentication data.
                        </p>
                        <p>A middle tier can ask the database server to authenticate a client on its behalf by validating the password of the client rather than doing the authentication itself. Although it appears that this is the same as a client/server connection, the client does not have to have Oracle Database software installed on the client's system to be able to perform database operations. To use the password of the client, the application server supplies <code class="codeph">OCIAttrSet()</code> with the authentication data, using the existing attribute <code class="codeph">OCI_ATTR_PASSWORD</code>, as shown in <a href="managing-scalable-platforms.html#GUID-BAD07740-13A4-4760-A794-8552A040E70A__BGBCIHIA">Example 10-7</a>.
                        </p>
                        <p><a href="managing-scalable-platforms.html#GUID-BAD07740-13A4-4760-A794-8552A040E70A__BGBBBEFJ">Example 10-8</a> shows OCI attributes that enable you to specify the external name and initial privileges of a client. These credentials are used by OCI applications as alternative means of identifying or authenticating the client.
                        </p>
                        <div class="example" id="GUID-BAD07740-13A4-4760-A794-8552A040E70A__BGBCIHIA">
                           <p class="titleinexample">Example 10-7 Defining the OCI_ATTR_PASSWORD Attribute to Pass the Password for Validation</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet((void *)session_handle, (ub4) OCI_HTYPE_SESSION, (void *)password,
           (ub4)0, OCI_ATTR_PASSWORD, error_handle);
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-BAD07740-13A4-4760-A794-8552A040E70A__BGBBBEFJ">
                           <p class="titleinexample">Example 10-8 OCI Attributes That Let You Specify the External Name and Initial Privileges of a Client</p><pre class="oac_no_warn" dir="ltr">...
*OCIEnv *environment_handle; 
OCIServer *data_server_handle; 
OCIError *error_handle; 
OCISvcCtx *application_server_service_handle; 
OraText *client_roles[2]; 
OCISession *first_client_session_handle, second_client_session_handle; 
...
/*
** General initialization and allocation of contexts. 
*/
 
(void) OCIInitialize((ub4) OCI_DEFAULT, (void *)0,
                     (void * (*)(void *, size_t)) 0, 
                     (void * (*)(void *, void *, size_t))0, 
                     (void (*)(void *, void *)) 0 ); 
(void) OCIEnvInit( (OCIEnv **) &amp;environment_handle, OCI_DEFAULT, (size_t) 0,
                  (void **) 0 ); 
(void) OCIHandleAlloc( (void *) environment_handle, (void **) &amp;error_handle,
     OCI_HTYPE_ERROR, (size_t) 0, (void **) 0); 
/* 
** Allocate and initialize the server and service contexts used by the
** application server. 
*/ 

(void) OCIHandleAlloc( (void *) environment_handle, 
     (void **)&amp;data_server_handle, OCI_HTYPE_SERVER, (size_t) 0, (void **) 0); 
(void) OCIHandleAlloc( (void *) environment_handle, (void **)
     &amp;application_server_service_handle, OCI_HTYPE_SVCCTX, (size_t) 0, 
     (void **) 0);  
(void) OCIAttrSet((void *) application_server_service_handle,
     OCI_HTYPE_SVCCTX, (void *) data_server_handle, (ub4) 0, OCI_ATTR_SERVER,
     error_handle); 
/* 
** Authenticate the application server. In this case, external authentication is
** being used. 
*/

(void) OCIHandleAlloc((void *) environment_handle, 
     (void **)&amp;application_server_session_handle, (ub4) OCI_HTYPE_SESSION,
     (size_t) 0, (void **) 0); 
checkerr(error_handle, OCISessionBegin(application_server_service_handle,
     error_handle, application_server_session_handle, OCI_CRED_EXT,
     OCI_DEFAULT)); 
/* 
** Authenticate the first client. 
** Note that no password is specified by the 
** application server for the client as it is trusted. 
*/ 

(void) OCIHandleAlloc((void *) environment_handle, 
     (void **)&amp;first_client_session_handle, (ub4) OCI_HTYPE_SESSION, 
     (size_t) 0,(void **) 0); 
(void) OCIAttrSet((void *) first_client_session_handle, 
     (ub4) OCI_HTYPE_SESSION, (void *) "jeff", (ub4) strlen("jeff"),
     OCI_ATTR_USERNAME, error_handle); 
/* 
** In place of specifying a password, pass the session handle of the application
** server instead. 
*/ 

(void) OCIAttrSet((void *) first_client_session_handle, 
     (ub4) OCI_HTYPE_SESSION, (void *) application_server_session_handle, 
     (ub4) 0, OCI_ATTR_PROXY_CREDENTIALS, error_handle); 
(void) OCIAttrSet((void *) first_client_session_handle, 
     (ub4) OCI_HTYPE_SESSION, (void *) "jeff@VeryBigBank.com", 
     (ub4) strlen("jeff@VeryBigBank.com"), OCI_ATTR_EXTERNAL_NAME,
     error_handle); 
/* 
** Establish the roles that the application server can use as the client. 
*/
 
client_roles[0] = (OraText *) "TELLER"; 
client_roles[1] = (OraText *) "SUPERVISOR";
(void) OCIAttrSet((void *) first_client_session_handle, 
     OCI_ATTR_INITIAL_CLIENT_ROLES, error_handle); 
checkerr(error_handle, OCISessionBegin(application_server_service_handle,
     error_handle, first_client_session_handle, OCI_CRED_PROXY, OCI_DEFAULT)); 
/* 
** To start a session as another client, the application server does the 
** following.
** This code is unchanged from the current way of doing session switching. 
*/

(void) OCIHandleAlloc((void *) environment_handle, 
     (void **)&amp;second_client_session_handle, (ub4) OCI_HTYPE_SESSION, 
     (size_t) 0, (void **) 0); 
(void) OCIAttrSet((void *) second_client_session_handle, 
     (ub4) OCI_HTYPE_SESSION, (void *) "mutt", (ub4) strlen("mutt"),
     OCI_ATTR_USERNAME, error_handle); 
(void) OCIAttrSet((void *) second_client_session_handle, 
     (ub4) OCI_HTYPE_SESSION, (void *) application_server_session_handle, 
     (ub4) 0, OCI_ATTR_PROXY_CREDENTIALS, error_handle); 
(void) OCIAttrSet((void *) second_client_session_handle, 
     (ub4) OCI_HTYPE_SESSION, (void *) "mutt@VeryBigBank.com", 
     (ub4) strlen("mutt@VeryBigBank.com"), OCI_ATTR_EXTERNAL_NAME,
     error_handle); 
/* 
** Note that the application server has not specified any initial roles to have
** as the second client. 
*/
 
checkerr(error_handle, OCISessionBegin(application_server_service_handle,
     error_handle, second_client_session_handle, OCI_CRED_PROXY, OCI_DEFAULT)); 
/* 
** To switch to the first user, the application server applies the session
** handle obtained by the first 
** OCISessionBegin() call. This is the same as is currently done. 
*/ 

(void) OCIAttrSet((void *)application_server_service_handle, 
     (ub4) OCI_HTYPE_SVCCTX, (void *)first_client_session_handle, 
     (ub4)0, (ub4)OCI_ATTR_SESSION, error_handle); 
/* 
** After doing some operations, the application server can switch to
** the second client. That 
** is be done by the following call: 
*/

(void) OCIAttrSet((void *)application_server_service_handle, 
     (ub4) OCI_HTYPE_SVCCTX, 
     (void *)second_client_session_handle, (ub4)0, (ub4)OCI_ATTR_SESSION,
     error_handle); 
/* 
** and then do operations as that client 
*/
...
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-BAD07740-13A4-4760-A794-8552A040E70A__GUID-FC3804B2-7F22-4D48-80C1-01B02A7204D8">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977" title="Lists and describes user session handle attributes.">User Session Handle Attributes</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI840"></a><div class="props_rev_3"><a id="GUID-301306B2-A746-484D-BA6B-6A029B54FE75" name="GUID-301306B2-A746-484D-BA6B-6A029B54FE75"></a><h3 id="LNOCI-GUID-301306B2-A746-484D-BA6B-6A029B54FE75" class="sect3"><span class="enumeration_section">10.5 </span>Externally Initialized Context in OCI
               </h3>
               <div>
                  <p>An externally initialized context is an application context where attributes can be initialized from OCI. Use the SQL statement <code class="codeph">CREATE</code> <code class="codeph">CONTEXT</code> to create a context namespace in the server with the option <code class="codeph">INITIALIZED</code> <code class="codeph">EXTERNALLY</code>. 
                  </p>
                  <p>Then, you can initialize an OCI interface when establishing a session using <code class="codeph">OCIAttrSet()</code> and <code class="codeph">OCISessionBegin()</code>. Issue subsequent commands to write to any attributes inside the namespace only with the PL/SQL package designated in the <code class="codeph">CREATE</code> <code class="codeph">CONTEXT</code> statement.
                  </p>
                  <p>You can set default values and other session attributes through the <code class="codeph">OCISessionBegin()</code> call, thus reducing server round-trips.
                  </p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-301306B2-A746-484D-BA6B-6A029B54FE75" title="An externally initialized context is an application context where attributes can be initialized from OCI. Use the SQL statement CREATE CONTEXT to create a context namespace in the server with the option INITIALIZED EXTERNALLY.">Externally Initialized Context in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-477E1BD7-E650-4E9C-B5C7-F9FACBCF2494" title="Use the following attributes to measure server call time, not including server round-trips.">End-to-End Application Tracing</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-1BB0936C-DF43-45E2-94C9-29FA597F28C8" title="When you call OCISessionBegin(), the context set in the session handle is pushed to the server.">Using OCISessionBegin() with an Externally Initialized Context</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-301306B2-A746-484D-BA6B-6A029B54FE75__GUID-72A2AAB7-39B8-441A-B6FD-BAC51DC0B0DE">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../dbseg/managing-security-for-application-developers.html#DBSEG005" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> the chapter about managing security for application developers
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/CREATE-CONTEXT.html#SQLRF01202" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> the <code class="codeph">CREATE</code> <code class="codeph">CONTEXT</code> statement and the <code class="codeph">SYS_CONTEXT</code> function
                           </p>
                        </li>
                        <li>
                           <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                        </li>
                        <li>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16573"></a><div class="props_rev_3"><a id="GUID-6BE7672C-39B7-4929-939B-07726F15F6B5" name="GUID-6BE7672C-39B7-4929-939B-07726F15F6B5"></a><h4 id="LNOCI-GUID-6BE7672C-39B7-4929-939B-07726F15F6B5" class="sect4"><span class="enumeration_section">10.5.1 </span>Externally Initialized Context Attributes in OCI
                  </h4>
                  <div>
                     <p>The client applications you develop can set application contexts explicitly in the session handle before authentication.</p>
                     <div class="p">To do this, use the following attributes in OCI functions:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-953B21F5-4C1A-4B09-AB57-A37D2754C82F" title="Use the OCI_ATTR_APPCTX_SIZE attribute to initialize the context array size with the desired number of context attributes in the OCIAttrSet() call.">OCI_ATTR_APPCTX_SIZE</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-1AF00FA2-D9B4-42CC-8DF2-37F04F98F635" title="Use the OCI_ATTR_APPCTX_LIST attribute to get a handle on the application context list descriptor for the session in the OCIAttrGet() call.">OCI_ATTR_APPCTX_LIST</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-921FC680-5D91-438E-9FD4-ED0F23395C19" title="Shows how to set the appropriate session handle attributes values for the application context.">Session Handle Attributes Used to Set an Externally Initialized Context</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI72648"></a><a id="LNOCI16574"></a><div class="props_rev_3"><a id="GUID-953B21F5-4C1A-4B09-AB57-A37D2754C82F" name="GUID-953B21F5-4C1A-4B09-AB57-A37D2754C82F"></a><h5 id="LNOCI-GUID-953B21F5-4C1A-4B09-AB57-A37D2754C82F" class="sect5"><span class="enumeration_section">10.5.1.1 </span>OCI_ATTR_APPCTX_SIZE
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">OCI_ATTR_APPCTX_SIZE</code> attribute to initialize the context array size with the desired number of context attributes in the <code class="codeph">OCIAttrSet()</code> call.
                        </p>
                        <p>This is shown in <a href="managing-scalable-platforms.html#GUID-953B21F5-4C1A-4B09-AB57-A37D2754C82F__BGBFJCBI">Example 10-9</a>.
                        </p>
                        <div class="example" id="GUID-953B21F5-4C1A-4B09-AB57-A37D2754C82F__BGBFJCBI">
                           <p class="titleinexample">Example 10-9 Defining the OCI_ATTR_APPCTX_SIZE Attribute to Initialize the Context Array Size with the Desired Number of Context Attributes</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet(session, (ub4) OCI_HTYPE_SESSION, 
           (void *)&amp;size, (ub4)0, OCI_ATTR_APPCTX_SIZE, error_handle); 
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-953B21F5-4C1A-4B09-AB57-A37D2754C82F__GUID-59B536DD-B66E-4A60-8A3C-6BB8B08EB927">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI72649"></a><a id="LNOCI72650"></a><a id="LNOCI16575"></a><div class="props_rev_3"><a id="GUID-1AF00FA2-D9B4-42CC-8DF2-37F04F98F635" name="GUID-1AF00FA2-D9B4-42CC-8DF2-37F04F98F635"></a><h5 id="LNOCI-GUID-1AF00FA2-D9B4-42CC-8DF2-37F04F98F635" class="sect5"><span class="enumeration_section">10.5.1.2 </span>OCI_ATTR_APPCTX_LIST
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">OCI_ATTR_APPCTX_LIST</code> attribute to get a handle on the application context list descriptor for the session in the <code class="codeph">OCIAttrGet()</code> call.
                        </p>
                        <p>This is shown in <a href="managing-scalable-platforms.html#GUID-1AF00FA2-D9B4-42CC-8DF2-37F04F98F635__BGBFBIAI">Example 10-10</a>. (The parameter <code class="codeph">ctxl_desc</code> must be of data type <code class="codeph">OCIParam *</code>).
                        </p>
                        <p><a href="managing-scalable-platforms.html#GUID-1AF00FA2-D9B4-42CC-8DF2-37F04F98F635__BGBHJGAG">Example 10-11</a> shows how to use the application context list descriptor to obtain an individual descriptor for the i-th application context in a call to <code class="codeph">OCIParamGet()</code>.
                        </p>
                        <div class="example" id="GUID-1AF00FA2-D9B4-42CC-8DF2-37F04F98F635__BGBFBIAI">
                           <p class="titleinexample">Example 10-10 Using the OCI_ATTR_APPCTX_LIST Attribute to Get a Handle on the Application Context List Descriptor for the Session</p><pre class="oac_no_warn" dir="ltr">OCIAttrGet(session, (ub4) OCI_HTYPE_SESSION, 
           (void *)&amp;ctxl_desc, (ub4)0, OCI_ATTR_APPCTX_LIST, error_handle);
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-1AF00FA2-D9B4-42CC-8DF2-37F04F98F635__BGBHJGAG">
                           <p class="titleinexample">Example 10-11 Calling OCIParamGet() to Obtain an Individual Descriptor for the i-th Application Context Using the Application Context List Descriptor</p><pre class="oac_no_warn" dir="ltr">OCIParamGet(ctxl_desc, OCI_DTYPE_PARAM, error_handle,(void **)&amp;ctx_desc, i);
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-1AF00FA2-D9B4-42CC-8DF2-37F04F98F635__GUID-E6CA5353-52FE-4777-98E2-D5ECC55B40D4">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                                 </li>
                                 <li>
                                    <p><a href="handle-and-descriptor-functions.html#GUID-35D2FF91-139B-4A5C-97C8-8BC29866CCA4" title="Returns a descriptor of a parameter specified by position in the describe handle or statement handle.">OCIParamGet()</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI72651"></a><a id="LNOCI16576"></a><div class="props_rev_3"><a id="GUID-921FC680-5D91-438E-9FD4-ED0F23395C19" name="GUID-921FC680-5D91-438E-9FD4-ED0F23395C19"></a><h5 id="LNOCI-GUID-921FC680-5D91-438E-9FD4-ED0F23395C19" class="sect5"><span class="enumeration_section">10.5.1.3 </span>Session Handle Attributes Used to Set an Externally Initialized Context
                     </h5>
                     <div>
                        <p>Shows how to set the appropriate session handle attributes values for the application context.</p>
                        <p>Set the appropriate values of the application context using these attributes:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCI_ATTR_APPCTX_NAME</code> to set the namespace of the context, which must be a valid SQL identifier.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_APPCTX_ATTR</code> to set an attribute name in the given context, a non-case-sensitive string of up to 30 bytes.
                              </p>
                           </li>
                           <li>
                              <p> <code class="codeph">OCI_ATTR_APPCTX_VALUE</code> to set the value of an attribute in the given context.
                              </p>
                           </li>
                        </ul>
                        <p>Each namespace can have many attributes, each of which has one value. <a href="managing-scalable-platforms.html#GUID-921FC680-5D91-438E-9FD4-ED0F23395C19__BGBHCHGH">Example 10-12</a> shows the calls you can use to set them.
                        </p>
                        <p>Note that only character type is supported, because application context operations are based on the <code class="codeph">VARCHAR2</code> data type.
                        </p>
                        <div class="example" id="GUID-921FC680-5D91-438E-9FD4-ED0F23395C19__BGBHCHGH">
                           <p class="titleinexample">Example 10-12 Defining Session Handle Attributes to Set Externally Initialized Context</p><pre class="oac_no_warn" dir="ltr">OCIAttrSet(ctx_desc, OCI_DTYPE_PARAM,
     (void *)ctx_name, sizeof(ctx_name), OCI_ATTR_APPCTX_NAME, error_handle);
  
OCIAttrSet(ctx_desc, OCI_DTYPE_PARAM,
     (void *)attr_name, sizeof(attr_name), OCI_ATTR_APPCTX_ATTR, error_handle);  
  
OCIAttrSet(ctx_desc, OCI_DTYPE_PARAM,
     (void *)value, sizeof(value), OCI_ATTR_APPCTX_VALUE, error_handle);  
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-921FC680-5D91-438E-9FD4-ED0F23395C19__GUID-63ED9BD7-2FD6-48AB-A102-36B0D9B79D5D">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977" title="Lists and describes user session handle attributes.">User Session Handle Attributes</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="LNOCI16569"></a><div class="props_rev_3"><a id="GUID-477E1BD7-E650-4E9C-B5C7-F9FACBCF2494" name="GUID-477E1BD7-E650-4E9C-B5C7-F9FACBCF2494"></a><h4 id="LNOCI-GUID-477E1BD7-E650-4E9C-B5C7-F9FACBCF2494" class="sect4"><span class="enumeration_section">10.5.2 </span>End-to-End Application Tracing
                  </h4>
                  <div>
                     <p>Use the following attributes to measure server call time, not including server round-trips.</p>
                     <p>These attributes can also be set by using the PL/SQL package <code class="codeph">DBMS_APPLICATION_INFO</code>, which incurs one round-trip to the server. Using OCI to set the attributes does not incur a round-trip.
                     </p>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-3DAC717B-3F1D-4881-9328-E8D19BA86EFD" title="Use the attribute OCI_ATTR_COLLECT_CALL_TIME and set the value to TRUE to enable the server to measure each call time.">OCI_ATTR_COLLECT_CALL_TIME</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-0EE33BBC-E0CF-4820-951B-CBD20614012B" title="Use the attribute OCI_ATTR_CALL_TIME to get the elapsed time of the last server call.">OCI_ATTR_CALL_TIME</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-624A4771-58C5-4E2B-8131-E3389F58A0D6" title="Use these attributes for monitoring, tracing, and debugging applications.">Attributes for End-to-End Application Tracing</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI16570"></a><div class="props_rev_3"><a id="GUID-3DAC717B-3F1D-4881-9328-E8D19BA86EFD" name="GUID-3DAC717B-3F1D-4881-9328-E8D19BA86EFD"></a><h5 id="LNOCI-GUID-3DAC717B-3F1D-4881-9328-E8D19BA86EFD" class="sect5"><span class="enumeration_section">10.5.2.1 </span>OCI_ATTR_COLLECT_CALL_TIME
                     </h5>
                     <div>
                        <p>Use the attribute <code class="codeph">OCI_ATTR_COLLECT_CALL_TIME</code> and set the value to <code class="codeph">TRUE</code> to enable the server to measure each call time.
                        </p>
                        <p>Set a <code class="codeph">boolean</code> variable to <code class="codeph">TRUE</code> or <code class="codeph">FALSE</code>. After you set the <code class="codeph">OCI_ATTR_COLLECT_CALL_TIME</code> attribute by calling <code class="codeph">OCIAttrSet()</code>, the server measures each call time. All server times between setting the variable to <code class="codeph">TRUE</code> and setting it to <code class="codeph">FALSE</code> are measured.
                        </p>
                        <div class="infoboxnotealso" id="GUID-3DAC717B-3F1D-4881-9328-E8D19BA86EFD__GUID-A31FA396-6EFC-4D0F-88D8-5D89F8CE0CDE">
                           <p class="notep1">See Also:</p>
                           <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI72652"></a><a id="LNOCI16571"></a><div class="props_rev_3"><a id="GUID-0EE33BBC-E0CF-4820-951B-CBD20614012B" name="GUID-0EE33BBC-E0CF-4820-951B-CBD20614012B"></a><h5 id="LNOCI-GUID-0EE33BBC-E0CF-4820-951B-CBD20614012B" class="sect5"><span class="enumeration_section">10.5.2.2 </span>OCI_ATTR_CALL_TIME
                     </h5>
                     <div>
                        <p>Use the attribute <code class="codeph">OCI_ATTR_CALL_TIME</code> to get the elapsed time of the last server call. 
                        </p>
                        <p>The elapsed time, in microseconds, of the last server call is returned in a <code class="codeph">ub8</code> variable by calling <code class="codeph">OCIAttrGet()</code> with the <code class="codeph">OCI_ATTR_CALL_TIME</code> attribute. <a href="managing-scalable-platforms.html#GUID-0EE33BBC-E0CF-4820-951B-CBD20614012B__BGBDBFIE">Example 10-13</a> shows how to do this in a code fragment.
                        </p>
                        <div class="example" id="GUID-0EE33BBC-E0CF-4820-951B-CBD20614012B__BGBDBFIE">
                           <p class="titleinexample">Example 10-13 Using the OCI_ATTR_CALL_TIME Attribute to Get the Elapsed Time of the Last Server Call </p><pre class="oac_no_warn" dir="ltr">boolean enable_call_time;
ub8 call_time;
...
enable_call_time = TRUE;
OCIAttrSet(session, OCI_HTYPE_SESSION, (void *)&amp;enable_call_time,
           (ub4)0, OCI_ATTR_COLLECT_CALL_TIME,
           (OCIError *)error_handle);
OCIStmtExecute(...);
OCIAttrGet(session, OCI_HTYPE_SESSION, (void *)&amp;call_time,
           (ub4)0, OCI_ATTR_CALL_TIME, 
           (OCIError *)error_handle);
...
</pre></div>
                        <!-- class="example" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-0EE33BBC-E0CF-4820-951B-CBD20614012B__GUID-73FC1D0F-7635-48A7-A937-FFEF500B4AC7">
                              <p class="notep1">See Also:</p>
                              <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="LNOCI16572"></a><div class="props_rev_3"><a id="GUID-624A4771-58C5-4E2B-8131-E3389F58A0D6" name="GUID-624A4771-58C5-4E2B-8131-E3389F58A0D6"></a><h5 id="LNOCI-GUID-624A4771-58C5-4E2B-8131-E3389F58A0D6" class="sect5"><span class="enumeration_section">10.5.2.3 </span>Attributes for End-to-End Application Tracing
                     </h5>
                     <div>
                        <p>Use these attributes for monitoring, tracing, and debugging applications.</p>
                        <p>Set these attributes for monitoring, tracing, and debugging applications:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OCI_ATTR_MODULE</code> - Name of the current module in the client application.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_ACTION</code> - Name of the current action within the current module. Set to <code class="codeph">NULL</code> if you do not want to specify an action.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_DBOP</code> - Name of the database operation set by the client application to be monitored in the database. Set to <code class="codeph">NULL</code> if you want to end monitoring the current running database operation.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">OCI_ATTR_CLIENT_INFO</code> - Client application additional information.
                              </p>
                              <div class="infoboxnotealso" id="GUID-624A4771-58C5-4E2B-8131-E3389F58A0D6__GUID-A2E783EF-47A5-4CE9-A542-EF7C49167A8B">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977" title="Lists and describes user session handle attributes.">User Session Handle Attributes</a></p>
                                 <p><a href="../tgsql/monitoring-database-operations.html#TGSQL-GUID-C941CE9D-97E1-42F8-91ED-4949B2B710BF" target="_blank">Monitoring Database Operations</a> in <span><cite>Oracle Database SQL Tuning Guide</cite></span></p>
                                 <p><a href="../tdppt/monitoring-real-time-database-performance.html#TDPPT-GUID-EB19F9B4-A912-4354-8D8D-F89EEFD56704" target="_blank">Monitoring Real-Time Database Performance</a> in <span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></p>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNOCI72653"></a><a id="LNOCI16577"></a><div class="props_rev_3"><a id="GUID-1BB0936C-DF43-45E2-94C9-29FA597F28C8" name="GUID-1BB0936C-DF43-45E2-94C9-29FA597F28C8"></a><h4 id="LNOCI-GUID-1BB0936C-DF43-45E2-94C9-29FA597F28C8" class="sect4"><span class="enumeration_section">10.5.3 </span>Using OCISessionBegin() with an Externally Initialized Context
                  </h4>
                  <div>
                     <p>When you call <code class="codeph">OCISessionBegin()</code>, the context set in the session handle is pushed to the server. 
                     </p>
                     <div class="section">
                        <p>No additional contexts are propagated to the server session. <a href="managing-scalable-platforms.html#GUID-1BB0936C-DF43-45E2-94C9-29FA597F28C8__BGBCCBGF">Example 10-14</a> illustrates the use of these calls and attributes.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1BB0936C-DF43-45E2-94C9-29FA597F28C8__BGBCCBGF">
                        <p class="titleinexample">Example 10-14 Using OCISessionBegin() with an Externally Initialized Context</p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;oci.h&gt;

static OraText *username = (OraText *) "HR";
static OraText *password = (OraText *) "HR";

static OCIEnv *envhp;
static OCIError *errhp;

int main(/*_ int argc, char *argv[] _*/);

static sword status;

int main(argc, argv)
int argc;
char *argv[];
{

  OCISession *authp = (OCISession *) 0;
  OCIServer *srvhp;
  OCISvcCtx *svchp;
  OCIDefine *defnp = (OCIDefine *) 0;
  void     *parmdp;
  ub4        ctxsize;
  OCIParam  *ctxldesc;
  OCIParam  *ctxedesc;

  OCIEnvCreate(&amp;envhp, OCI_DEFAULT, (void *)0, 0, 0, 0,
                            (size_t)0, (void *)0);

  (void) OCIHandleAlloc( (void *) envhp, (void **) &amp;errhp, OCI_HTYPE_ERROR,
                   (size_t) 0, (void **) 0);

  /* server contexts */
  (void) OCIHandleAlloc( (void *) envhp, (void **) &amp;srvhp, OCI_HTYPE_SERVER,
                   (size_t) 0, (void **) 0);

  (void) OCIHandleAlloc( (void *) envhp, (void **) &amp;svchp, OCI_HTYPE_SVCCTX,
                   (size_t) 0, (void **) 0);

  (void) OCIServerAttach( srvhp, errhp, (OraText *)"", strlen(""), 0);

  /* set attribute server context in the service context */
  (void) OCIAttrSet( (void *) svchp, OCI_HTYPE_SVCCTX, (void *)srvhp,
                    (ub4) 0, OCI_ATTR_SERVER, (OCIError *) errhp);

  (void) OCIHandleAlloc((void *) envhp, (void **)&amp;authp,
                        (ub4) OCI_HTYPE_SESSION, (size_t) 0, (void **) 0);
/****************************************/
  /* set app ctx size to 2 because you want to set up 2 application contexts */
  ctxsize = 2;

  /* set up app ctx buffer */
  (void) OCIAttrSet((void *) authp, (ub4) OCI_HTYPE_SESSION,
                 (void *) &amp;ctxsize, (ub4) 0,
                 (ub4) OCI_ATTR_APPCTX_SIZE, errhp);

  /* retrieve the list descriptor */
  (void) OCIAttrGet((void *)authp, (ub4) OCI_HTYPE_SESSION,
                    (void *)&amp;ctxldesc, 0, OCI_ATTR_APPCTX_LIST, errhp );

  /* retrieve the 1st ctx element descriptor */
  (void) OCIParamGet(ctxldesc, OCI_DTYPE_PARAM, errhp, (void**)&amp;ctxedesc, 1);

  (void) OCIAttrSet((void *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (void *) "HR", (ub4) strlen((char *)"HR"),
                 (ub4) OCI_ATTR_APPCTX_NAME, errhp);

  (void) OCIAttrSet((void *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (void *) "ATTR1", (ub4) strlen((char *)"ATTR1"),
                 (ub4) OCI_ATTR_APPCTX_ATTR, errhp);

  (void) OCIAttrSet((void *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (void *) "VALUE1", (ub4) strlen((char *)"VALUE1"),
                 (ub4) OCI_ATTR_APPCTX_VALUE, errhp);

  /* set second context */
  (void) OCIParamGet(ctxldesc, OCI_DTYPE_PARAM, errhp, (void**)&amp;ctxedesc, 2);

  (void) OCIAttrSet((void *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (void *) "HR", (ub4) strlen((char *)"HR"),
                 (ub4) OCI_ATTR_APPCTX_NAME, errhp);

  (void) OCIAttrSet((void *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (void *) "ATTR2", (ub4) strlen((char *)"ATTR2"),
                 (ub4) OCI_ATTR_APPCTX_ATTR, errhp);

  (void) OCIAttrSet((void *) ctxedesc, (ub4) OCI_DTYPE_PARAM,
                 (void *) "VALUE2", (ub4) strlen((char *)"VALUE2"),
                 (ub4) OCI_ATTR_APPCTX_VALUE, errhp);
/****************************************/
  (void) OCIAttrSet((void *) authp, (ub4) OCI_HTYPE_SESSION,
                 (void *) username, (ub4) strlen((char *)username),
                 (ub4) OCI_ATTR_USERNAME, errhp);

  (void) OCIAttrSet((void *) authp, (ub4) OCI_HTYPE_SESSION,
                 (void *) password, (ub4) strlen((char *)password),
                 (ub4) OCI_ATTR_PASSWORD, errhp);

  OCISessionBegin ( svchp,  errhp, authp, OCI_CRED_EXT, (ub4) OCI_DEFAULT);

}
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-1BB0936C-DF43-45E2-94C9-29FA597F28C8__GUID-38A86E13-32CB-4928-A4E8-FD1EAD7BCC24">
                           <p class="notep1">See Also:</p>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="LNOCI3605"></a><div class="props_rev_3"><a id="GUID-01D8848B-FF4C-4332-B0AA-C4CDF064A65D" name="GUID-01D8848B-FF4C-4332-B0AA-C4CDF064A65D"></a><h3 id="LNOCI-GUID-01D8848B-FF4C-4332-B0AA-C4CDF064A65D" class="sect3"><span class="enumeration_section">10.6 </span>Client Application Context
               </h3>
               <div>
                  <p>Application context enables database clients (such as mid-tier applications) to set and send arbitrary session data to the server with each executed statement in only one round-trip.</p>
                  <p>The server stores this data in the session context before statement execution, from which it can be used to restrict queries or DML operations. All database features such as views, triggers, virtual private database (VPD) policies, or PL/SQL stored procedures can use session data to constrain their operations. </p>
                  <p>A public writable namespace, <code class="codeph">nm</code>, is created:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE CONTEXT nm USING hr.package1;
</pre><p>To modify the data grouped in that namespace, users must execute the designated PL/SQL package, <code class="codeph">hr.package1</code>. However, no privilege is needed to query this information in a user session.
                  </p>
                  <p>The variable length application context data that is stored in the user session is in the form of an attribute and value pair grouped under the context namespace.</p>
                  <p>For example, if you want a human resources application to store an end-user's responsibility information in the user session, then it could create an <code class="codeph">nm</code> namespace and an attribute called "responsibility" that can be assigned a value such as "manager" or "accountant". This is referred to as the <span class="italic">set operation</span> in this document.
                  </p>
                  <p>If you want the application to clear the value of the "responsibility" attribute in the <code class="codeph">nm</code> namespace, then it could set it to <code class="codeph">NULL</code> or an empty string. This is referred to as the <span class="italic">clear operation</span> in this document.
                  </p>
                  <p>To clear all information in the <code class="codeph">nm</code> namespace, the application can send the namespace information as a part of the clear-all operation to the server. This is referred to as the <span class="italic">clear-all operation</span> in a namespace in this document.
                  </p>
                  <p>If there is no package security defined for a namespace, then this namespace is deemed to be a client namespace, and any OCI client can transport data for that namespace to the server. No privilege or package security check is done.</p>
                  <p>Network transport of application context data is done in a single round-trip to the server.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-80DDC2E5-11B8-4154-90B9-1C3DDEEB22D7" title="Use the OCIAppCtxSet() function to perform a series of set operations on the "responsibility" attribute in the CLIENTCONTEXT namespace.">Using Multiple SET Operations</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-6D968D96-DEFD-40CB-BE01-46B8F9076B68" title="You can clear all the context information in a specific client namespace, using the OCIAppCtxClearAll() function, and it will also be cleared on the server-side user session, during the next network transport.">Using CLEAR-ALL Operations Between SET Operations</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-A85FF5D3-77C5-4F26-A37C-8EB0E88A2BD4" title="It is possible that an application could send application context information on an OCIStmtExecute() call to the server, and also attempt to change the same context information during that call by executing the DBMS_SESSION package.">Network Transport and PL/SQL on Client Namespace</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI72654"></a><a id="LNOCI72655"></a><a id="LNOCI16578"></a><div class="props_rev_3"><a id="GUID-80DDC2E5-11B8-4154-90B9-1C3DDEEB22D7" name="GUID-80DDC2E5-11B8-4154-90B9-1C3DDEEB22D7"></a><h4 id="LNOCI-GUID-80DDC2E5-11B8-4154-90B9-1C3DDEEB22D7" class="sect4"><span class="enumeration_section">10.6.1 </span>Using Multiple SET Operations
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">OCIAppCtxSet()</code> function to perform a series of set operations on the "responsibility" attribute in the <code class="codeph">CLIENTCONTEXT</code> namespace. 
                     </p>
                     <div class="section">
                        <p>When this information is sent to the server, the latest value prevails for that particular attribute in a namespace. To change the value of the "responsibility" attribute in the <code class="codeph">CLIENTCONTEXT</code> namespace from "manager" to "vp", use the code fragment shown in <a href="managing-scalable-platforms.html#GUID-80DDC2E5-11B8-4154-90B9-1C3DDEEB22D7__BGBCEJGD">Example 10-15</a>, on the client side. When this information is transported to the server, the server shows the latest value "vp" for the "responsibility" attribute in the <code class="codeph">CLIENTCONTEXT</code> namespace.
                        </p>
                        <p>You can clear specific attribute information in a client namespace. This can be done by setting the value of an attribute to <code class="codeph">NULL</code> or to an empty string, as shown in <a href="managing-scalable-platforms.html#GUID-80DDC2E5-11B8-4154-90B9-1C3DDEEB22D7__BGBCHDHB">Example 10-16</a> using the <code class="codeph">OCIAppCtxSet()</code> function.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-80DDC2E5-11B8-4154-90B9-1C3DDEEB22D7__BGBCEJGD">
                        <p class="titleinexample">Example 10-15 Changing the "responsibility" Attribute Value in the CLIENTCONTEXT Namespace</p><pre class="oac_no_warn" dir="ltr">err = OCIAppCtxSet((void *) sesshndl,(void *)"CLIENTCONTEXT",(ub4) 13,
                   (void *)"responsibility", 14
                   (void *)"manager", 7, errhp, OCI_DEFAULT);
err = OCIAppCtxSet((void *) sesshndl, (void*)"CLIENTCONTEXT", 13,
                   (void *)"responsibility", 14,(void *)"vp",2, errhp,
                   OCI_DEFAULT);
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-80DDC2E5-11B8-4154-90B9-1C3DDEEB22D7__BGBCHDHB">
                        <p class="titleinexample">Example 10-16 Two Ways to Clear Specific Attribute Information in a Client Namespace</p><pre class="oac_no_warn" dir="ltr">(void) OCIAppCtxSet((void *) sesshndl, (void *)"CLIENTCONTEXT", 13,
                    (void *)"responsibility", 14, (void *)0, 0,errhp,
                    OCI_DEFAULT);

(void) OCIAppCtxSet((void *) sesshndl, (void *)"CLIENTCONTEXT", 13
                    (void *)"responsibility", 14, (void *)"", 0,errhp,
                     OCI_DEFAULT);
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-80DDC2E5-11B8-4154-90B9-1C3DDEEB22D7__GUID-49EDE835-058C-4DCE-8756-5BCBF75B7BE8">
                           <p class="notep1">See Also:</p>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-1F4B1879-4D91-4F06-BE5C-8F2324F3B4E7" title="Sets an attribute and its associated value in a namespace of an application context.">OCIAppCtxSet()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI72656"></a><a id="LNOCI16579"></a><div class="props_rev_3"><a id="GUID-6D968D96-DEFD-40CB-BE01-46B8F9076B68" name="GUID-6D968D96-DEFD-40CB-BE01-46B8F9076B68"></a><h4 id="LNOCI-GUID-6D968D96-DEFD-40CB-BE01-46B8F9076B68" class="sect4"><span class="enumeration_section">10.6.2 </span>Using CLEAR-ALL Operations Between SET Operations
                  </h4>
                  <div>
                     <p>You can clear all the context information in a specific client namespace, using the <code class="codeph">OCIAppCtxClearAll()</code> function, and it will also be cleared on the server-side user session, during the next network transport.
                     </p>
                     <div class="section">
                        <p>If the client application performs a clear-all operation in a namespace after several set operations, then values of all attributes in that namespace that were set before this clear-all operation are cleaned up on the client side and the server side. Only the set operations that were done after the clear-all operation are reflected on the server side. On the client side, the code appears, as shown in <a href="managing-scalable-platforms.html#GUID-6D968D96-DEFD-40CB-BE01-46B8F9076B68__BGBDGIEA">Example 10-17</a>.
                        </p>
                        <p>The clear-all operation clears any information set by earlier operations in the namespace <code class="codeph">CLIENTCONTEXT</code>: "responsibility" = "manager" is removed. The information that was set subsequently will not be reflected on the server side.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6D968D96-DEFD-40CB-BE01-46B8F9076B68__BGBDGIEA">
                        <p class="titleinexample">Example 10-17 Clearing All the Context Information in a Specific Client Namespace</p><pre class="oac_no_warn" dir="ltr">err = OCIAppCtxSet((void *) sesshndl,(void *)"CLIENTCONTEXT", 13,
                   (void *)"responsibility", 14,
                   (void *)"manager", 7,errhp, OCI_DEFAULT);
err = OCIAppCtxClearAll((void *) sesshndl, (void *)"CLIENTCONTEXT", 13, errhp,
                        OCI_DEFAULT);
err = OCIAppCtxSet((void *) sesshndl, (void*)"CLIENTCONTEXT",13
                   (void *)"office",6, (void *)"2op123", 5, errhp, OCI_DEFAULT);
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-6D968D96-DEFD-40CB-BE01-46B8F9076B68__GUID-E31CBD2F-49C0-4692-AEE1-AD175283A636">
                           <p class="notep1">See Also:</p>
                           <p><a href="connect-authorize-and-initialize-functions.html#GUID-D60E78B5-E600-4CDE-87A7-B4ACDA9FEE5E" title="Clears all attribute-value information in a namespace of an application context.">OCIAppCtxClearAll()</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI16580"></a><div class="props_rev_3"><a id="GUID-A85FF5D3-77C5-4F26-A37C-8EB0E88A2BD4" name="GUID-A85FF5D3-77C5-4F26-A37C-8EB0E88A2BD4"></a><h4 id="LNOCI-GUID-A85FF5D3-77C5-4F26-A37C-8EB0E88A2BD4" class="sect4"><span class="enumeration_section">10.6.3 </span>Network Transport and PL/SQL on Client Namespace
                  </h4>
                  <div>
                     <p>It is possible that an application could send application context information on an <code class="codeph">OCIStmtExecute()</code> call to the server, and also attempt to change the same context information during that call by executing the <code class="codeph">DBMS_SESSION</code> package.
                     </p>
                     <p>In general, on the server side, the transported information is processed first and the main call is processed later. This behavior applies to the application context network transports as well.</p>
                     <p>If they are both writing to the same client namespace and attribute set, then the main call's information overwrites the information set provided by the fast network transport mechanism. If an error occurs in the network transport call, the main call is not executed.</p>
                     <p>However, an error in the main call does not affect the processing of the network transport call. Once the network transport call is processed, then there is no way to undo it. When the error is reported to the caller (by an OCI function), it is reported as a generic ORA error. Currently, there is no easy way to distinguish an error in the network transport call from an error in the main call. The client should not assume that an error from the main call will undo the round-trip network processing and should implement appropriate exception-handling mechanisms to prevent any inconsistencies.</p>
                     <div class="infoboxnotealso" id="GUID-A85FF5D3-77C5-4F26-A37C-8EB0E88A2BD4__GUID-7ADBFC2B-8B9D-4237-9E9F-31F6198A8DEA">
                        <p class="notep1">See Also:</p>
                        <p> </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="statement-functions.html#GUID-98B26708-3E02-45C0-8258-5D5544F32BE9" title="Associates an application request with a server.">OCIStmtExecute()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-D60E78B5-E600-4CDE-87A7-B4ACDA9FEE5E" title="Clears all attribute-value information in a namespace of an application context.">OCIAppCtxClearAll()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-1F4B1879-4D91-4F06-BE5C-8F2324F3B4E7" title="Sets an attribute and its associated value in a namespace of an application context.">OCIAppCtxSet()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI72657"></a><a id="LNOCI08100"></a><div class="props_rev_3"><a id="GUID-2F470037-FE5A-4F21-A7FC-352BD083CAE5" name="GUID-2F470037-FE5A-4F21-A7FC-352BD083CAE5"></a><h3 id="LNOCI-GUID-2F470037-FE5A-4F21-A7FC-352BD083CAE5" class="sect3"><span class="enumeration_section">10.7 </span>Using Edition-Based Redefinition
               </h3>
               <div>
                  <p>An edition provides a staging area where "editionable" objects changed by an application patch can be installed and executed while the existing application is still available. </p>
                  <div class="section">
                     <p>You can specify an edition other than the database default by setting the attribute <code class="codeph">OCI_ATTR_EDITION</code> at session initiation time. The application can call <code class="codeph">OCIAttrSet()</code> specifying this attribute name and the edition as the value, as shown in <a href="managing-scalable-platforms.html#GUID-2F470037-FE5A-4F21-A7FC-352BD083CAE5__BGBHHAFE">Example 10-18</a>.
                     </p>
                     <p>If <code class="codeph">OCIAttrSet()</code> is not called, the value of the edition name is obtained from the operating system environment variable <code class="codeph">ORA_EDITION</code>. If that variable is not set, then the value of <code class="codeph">OCI_ATTR_EDITION</code> is the empty string. If a nonempty value was specified, then the server sets the specified edition for the session, or the session uses the database default edition. The server then checks that the user has the <code class="codeph">USE</code> privilege on the edition. If not, then the connect fails. If a nonexistent edition name was specified, then an error is returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-2F470037-FE5A-4F21-A7FC-352BD083CAE5__BGBHHAFE">
                     <p class="titleinexample">Example 10-18 Calling OCIAttrSet() to Set the OCI_ATTR_EDITION Attribute</p><pre class="oac_no_warn" dir="ltr">static void workerFunction()
{
  OCISvcCtx *svchp = (OCISvcCtx *) 0;
  OCIAuthInfo *authp = (OCIAuthInfo *)0;
  sword err;
  err =  OCIHandleAlloc((void *) envhp, (void **)&amp;authp,
                        (ub4) OCI_HTYPE_AUTHINFO,
                        (size_t) 0, (void **) 0);
  if (err)
    checkerr(errhp, err);
 
  checkerr(errhp, OCIAttrSet((void *) authp, (ub4) OCI_HTYPE_AUTHINFO,
           (void *) username, (ub4) strlen((char *)username),
           (ub4) OCI_ATTR_USERNAME, errhp));
 
  checkerr(errhp,OCIAttrSet((void *) authp, (ub4) OCI_HTYPE_AUTHINFO,
           (void *) password, (ub4) strlen((char *)password),
           (ub4) OCI_ATTR_PASSWORD, errhp));
 
  (void) OCIAttrSet((void *) authp, (ub4) OCI_HTYPE_SESSION,
                    (void *) "Patch_Bug_12345",
                    (ub4) strlen((char *)"Patch_Bug_12345"),
                    (ub4) OCI_ATTR_EDITION, errhp);
 
  printf(("Create a new session that connects to the specified edition\n");
  if (err = OCISessionGet(envhp, errhp, &amp;svchp, authp,
               (OraText *)connstr, (ub4)strlen((char *)connstr), NULL,
               0, NULL, NULL, NULL, OCI_DEFAULT))
  {
    checkerr(errhp, err);
    exit(1);
  }
 
  checkerr(errhp, OCISessionRelease(svchp, errhp, NULL, (ub4)0, OCI_DEFAULT));
 
  OCIHandleFree((void *)authp, OCI_HTYPE_AUTHINFO);
}
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-2F470037-FE5A-4F21-A7FC-352BD083CAE5__GUID-35DFE6AA-932D-48BC-AAD0-2AF9D5A5332B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>OCI_ATTR_EDITION in <a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__BAJHBAFA">OCI_ATTR_EDITION</a></p>
                           </li>
                           <li>
                              <p><a href="../adfns/editions.html#ADFNS020" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> for a more complete description of edition-based redefinition
                              </p>
                           </li>
                           <li>
                              <p>Restrictions on Attributes Supported for OCI Session Pool in <a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI08103"></a><div class="props_rev_3"><a id="GUID-73D8C87C-ABD9-463A-921D-3D5F1E232F85" name="GUID-73D8C87C-ABD9-463A-921D-3D5F1E232F85"></a><h3 id="LNOCI-GUID-73D8C87C-ABD9-463A-921D-3D5F1E232F85" class="sect3"><span class="enumeration_section">10.8 </span>OCI Security Enhancements
               </h3>
               <div>
                  <p>The following security enhancements use configured parameters in the <code class="codeph">init.ora</code> file or the <code class="codeph">sqlnet.ora</code> file (the latter file is specifically noted for that feature).
                  </p>
                  <p>These security enhancements are described in more detail in <span><cite>Oracle Database Security Guide</cite></span>. These initialization parameters apply to all instances of the database.
                  </p>
                  <div class="infoboxnotealso" id="GUID-73D8C87C-ABD9-463A-921D-3D5F1E232F85__GUID-00BFF1B8-FE8F-4930-A021-36F7643526CA">
                     <p class="notep1">See Also:</p>
                     <p><a href="../dbseg/using-application-contexts-to-retrieve-user-information.html#DBSEG70785" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a>, the section about embedding calls in middle-tier applications to get, set, and clear client session IDs
                     </p>
                  </div>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-9D521FEA-88FD-47BB-8F9E-93BC3A0FC5CC" title="The OCIServerVersion() function can be issued before authentication (on a connected server handle after calling OCIServerAttach()) to get the database version.">Controlling the Database Version Banner Displayed</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-C666E5EF-8F59-4660-B7A8-904E60831C94" title="The following systemwide parameters are in sqlnet.ora and warn users against unauthorized access and possible auditing of user actions.">Banners for Unauthorized Access and User Actions Auditing</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-85391B02-0993-423F-9F45-8C4D005732BA" title="Non-deferred linkage of applications is no longer supported and the Makefile is modified to remove it.">Non-Deferred Linkage</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16581"></a><div class="props_rev_3"><a id="GUID-9D521FEA-88FD-47BB-8F9E-93BC3A0FC5CC" name="GUID-9D521FEA-88FD-47BB-8F9E-93BC3A0FC5CC"></a><h4 id="LNOCI-GUID-9D521FEA-88FD-47BB-8F9E-93BC3A0FC5CC" class="sect4"><span class="enumeration_section">10.8.1 </span>Controlling the Database Version Banner Displayed
                  </h4>
                  <div>
                     <p>The <code class="codeph">OCIServerVersion()</code> function can be issued before authentication (on a connected server handle after calling <code class="codeph">OCIServerAttach()</code>) to get the database version. 
                     </p>
                     <div class="section">
                        <p>To avoid disclosing the database version string before authentication, set the <code class="codeph">SEC_RETURN_SERVER_RELEASE_BANNER</code> initialization parameter to <code class="codeph">NO</code>. For example:
                        </p><pre class="oac_no_warn" dir="ltr">SEC_RETURN_SERVER_RELEASE_BANNER = NO
</pre><p>This displays the following string for Oracle Database Release 11.1 and all subsequent 11.1 releases and patch sets:</p><pre class="oac_no_warn" dir="ltr">Oracle Database 11g Release 11.1.0.0.0 - Production
</pre><p>Set <code class="codeph">SEC_RETURN_SERVER_RELEASE_BANNER</code> to <code class="codeph">YES</code> and then the current banner is displayed. If you have installed Oracle Database Release 11.2.0.2, the banner displayed is:
                        </p><pre class="oac_no_warn" dir="ltr">Oracle Database 11g Enterprise Edition Release 11.2.0.2 - Production
</pre><p>This feature works with an Oracle Database Release 11.1 or later server, and any version client.</p>
                        <div class="infoboxnotealso" id="GUID-9D521FEA-88FD-47BB-8F9E-93BC3A0FC5CC__GUID-304E432F-EEC3-46E5-8B45-4B12DA592FC4">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="miscellaneous-functions.html#GUID-5EED124F-6D98-40EA-8B3F-09374F020B89" title="Returns the Oracle Database version string.">OCIServerVersion()</a></p>
                              </li>
                              <li>
                                 <p><a href="connect-authorize-and-initialize-functions.html#GUID-B6291228-DA2F-4CE9-870A-F94243141757" title="Creates an access path to a data source for OCI operations.">OCIServerAttach()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="LNOCI16582"></a><div class="props_rev_3"><a id="GUID-C666E5EF-8F59-4660-B7A8-904E60831C94" name="GUID-C666E5EF-8F59-4660-B7A8-904E60831C94"></a><h4 id="LNOCI-GUID-C666E5EF-8F59-4660-B7A8-904E60831C94" class="sect4"><span class="enumeration_section">10.8.2 </span>Banners for Unauthorized Access and User Actions Auditing
                  </h4>
                  <div>
                     <p>The following systemwide parameters are in <code class="codeph">sqlnet.ora</code> and warn users against unauthorized access and possible auditing of user actions.
                     </p>
                     <p> These features are available in Oracle Database Release 11.1 and later servers and clients. The content of the banners is in text files that the database administrator creates. There is a 512 byte buffer limit for displaying the banner content. If this buffer limit is exceeded, the banner content will appear to be cut off. The access banner syntax is:</p><pre class="oac_no_warn" dir="ltr">SEC_USER_UNAUTHORIZED_ACCESS_BANNER = <span class="italic">file_path1</span>
</pre><p>In this syntax, <span class="italic"><code class="codeph">file_path1</code></span> is the path of a text file. To retrieve the banner, get the value of the attribute <code class="codeph">OCI_ATTR_ACCESS_BANNER</code> from the server handle after calls to either <code class="codeph">OCIServerAttach()</code> or <code class="codeph">OCISessionGet()</code>. 
                     </p>
                     <p>The audit banner syntax is:</p><pre class="oac_no_warn" dir="ltr">SEC_USER_AUDIT_ACTION_BANNER = <span class="italic">file_path2</span>
</pre><p>In this syntax, <span class="italic"><code class="codeph">file_path2</code></span> is the path of a text file. To retrieve the banner, get the value of the attribute <code class="codeph">OCI_ATTR_AUDIT_BANNER</code> from the session handle after calls to either <code class="codeph">OCISessionBegin()</code>, <code class="codeph">OCISessionGet()</code>, <code class="codeph">OCILogon()</code>, or <code class="codeph">OCILogon2()</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-C666E5EF-8F59-4660-B7A8-904E60831C94__GUID-832C4668-5693-42EC-B630-3F277EB65444">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-2B6D06A7-8EDF-46FF-BDEF-320D293DCA65__CHDBBEEC">OCI_ATTR_ACCESS_BANNER</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-FB263210-118E-4DB3-A840-1769EF0CB977__BAJIFFFE">OCI_ATTR_AUDIT_BANNER</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-B6291228-DA2F-4CE9-870A-F94243141757" title="Creates an access path to a data source for OCI operations.">OCIServerAttach()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-890DFBC4-718B-4339-A0EA-6226A25B8241" title="Gets a session.">OCISessionGet()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-31B1FDB3-056E-4AF9-9B89-8DA6AA156947" title="Creates a user session and begins a user session for a given server.">OCISessionBegin()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-F4592576-BE9D-4583-83AD-5D56D2E592E6" title="Creates a simple logon session.">OCILogon()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-425D4B32-257C-480E-B69C-7112BE9482E6" title="Gets a session.">OCILogon2()</a></p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div><a id="LNOCI16583"></a><div class="props_rev_3"><a id="GUID-85391B02-0993-423F-9F45-8C4D005732BA" name="GUID-85391B02-0993-423F-9F45-8C4D005732BA"></a><h4 id="LNOCI-GUID-85391B02-0993-423F-9F45-8C4D005732BA" class="sect4"><span class="enumeration_section">10.8.3 </span>Non-Deferred Linkage
                  </h4>
                  <div>
                     <p>Non-deferred linkage of applications is no longer supported and the <code class="codeph">Makefile</code> is modified to remove it. 
                     </p>
                     <p>This method of linking was used before OCI V7.</p>
                  </div>
               </div>
            </div><a id="LNOCI16584"></a><div class="props_rev_3"><a id="GUID-FB0528A0-460A-4778-9703-52BB0932E911" name="GUID-FB0528A0-460A-4778-9703-52BB0932E911"></a><h3 id="LNOCI-GUID-FB0528A0-460A-4778-9703-52BB0932E911" class="sect3"><span class="enumeration_section">10.9 </span>Overview of OCI Multithreaded Development
               </h3>
               <div>
                  <p>Threads are lightweight processes that exist within a larger process. </p>
                  <p>Threads share the same code and data segments but have their own program counters, system registers, and stacks. Global and static variables are common to all threads, and a mutual exclusion mechanism is required to manage access to these variables from multiple threads within an application.</p>
                  <p>Once spawned, threads run asynchronously with respect to one another. They can access common data elements and make OCI calls in any order. Because of this shared access to data elements, a synchronized mechanism is required to maintain the integrity of data being accessed.</p>
                  <p>The mechanism to manage data access takes the form of <span class="italic">mutexes</span> (mutual exclusion locks). This mechanism is implemented to ensure that no conflicts arise between multiple threads accessing shared internal data that are opaque to users. In OCI, mutexes are granted for each environment handle.
                  </p>
                  <p>The thread safety feature of Oracle Database and the OCI libraries allows developers to use OCI in a multithreaded environment. Thread safety ensures that code can be reentrant, with multiple threads making OCI calls without side effects.</p>
                  <div class="infoboxnote" id="GUID-FB0528A0-460A-4778-9703-52BB0932E911__GUID-14179E39-21D2-407C-A965-8E74606A51FC">
                     <p class="notep1">Note:</p>
                     <p>Thread safety is not available on every operating system. Check your Oracle Database system-specific documentation for more information.</p>
                     <p>In a multithreaded Linux or UNIX environment, OCI calls except <code class="codeph">OCIBreak()</code> are not allowed in a user signal handler.
                     </p>
                     <p>The correct way to use and free handles is to create the handle, use the handle, then free the handle only after all the threads have been destroyed, when the application is terminating.</p>
                  </div>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-7AB8E442-FDFD-4B66-AE84-DFB4B9FD0CF3" title="Lists the advantages of implementing thread safety.">Advantages of OCI Thread Safety</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-2E7DE663-CB17-4AA8-90D2-9F24F2BA458A" title="In addition to client/server applications, where the client can be a multithreaded program, a typical use of multithreaded applications is in three-tier (client-agent-server) architectures.">OCI Thread Safety and Three-Tier Architectures</a></p>
                        </li>
                        <li>
                           <p><a href="managing-scalable-platforms.html#GUID-17B33216-F71E-4CD8-9E07-AD8F551A9C69" title="To take advantage of thread safety, an application must be running on a thread-safe operating system.">About Implementing Thread Safety</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-FB0528A0-460A-4778-9703-52BB0932E911__GUID-A237430A-E586-450D-A9DE-B88DEEE73A70">
                     <p class="notep1">See Also:</p>
                     <p><a href="miscellaneous-functions.html#GUID-A414B5DE-07A3-4593-A448-B6023F87C2D0" title="Performs an immediate asynchronous break.">OCIBreak()</a></p>
                  </div>
               </div><a id="LNOCI16585"></a><div class="props_rev_3"><a id="GUID-7AB8E442-FDFD-4B66-AE84-DFB4B9FD0CF3" name="GUID-7AB8E442-FDFD-4B66-AE84-DFB4B9FD0CF3"></a><h4 id="LNOCI-GUID-7AB8E442-FDFD-4B66-AE84-DFB4B9FD0CF3" class="sect4"><span class="enumeration_section">10.9.1 </span>Advantages of OCI Thread Safety
                  </h4>
                  <div>
                     <p>Lists the advantages of implementing thread safety. </p>
                     <p>The implementation of thread safety in OCI has the following advantages:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Multiple threads of execution can make OCI calls with the same result as successive calls made by a single thread.</p>
                        </li>
                        <li>
                           <p>When multiple threads make OCI calls, there are no side effects between threads.</p>
                        </li>
                        <li>
                           <p>Users who do not write multithreaded programs do not pay a performance penalty for using thread-safe OCI calls.</p>
                        </li>
                        <li>
                           <p>Use of multiple threads can improve program performance. Gains may be seen on multiprocessor systems where threads run concurrently on separate processors, and on single processor systems where overlap can occur between slower operations and faster operations.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16586"></a><div class="props_rev_3"><a id="GUID-2E7DE663-CB17-4AA8-90D2-9F24F2BA458A" name="GUID-2E7DE663-CB17-4AA8-90D2-9F24F2BA458A"></a><h4 id="LNOCI-GUID-2E7DE663-CB17-4AA8-90D2-9F24F2BA458A" class="sect4"><span class="enumeration_section">10.9.2 </span>OCI Thread Safety and Three-Tier Architectures
                  </h4>
                  <div>
                     <p>In addition to client/server applications, where the client can be a multithreaded program, a typical use of multithreaded applications is in three-tier (client-agent-server) architectures.</p>
                     <p>In this architecture, the client is concerned only with presentation services. The agent (application server) processes the application logic for the client application. Typically, this relationship is a many-to-one relationship, with multiple clients sharing the same application server.</p>
                     <p>The server tier in this scenario is a database. The application server (agent) is very well suited to being a multithreaded application server, with each thread serving a single client application. In an Oracle Database environment, this application server is an OCI or precompiler program.</p>
                  </div>
               </div><a id="LNOCI16587"></a><div class="props_rev_3"><a id="GUID-17B33216-F71E-4CD8-9E07-AD8F551A9C69" name="GUID-17B33216-F71E-4CD8-9E07-AD8F551A9C69"></a><h4 id="LNOCI-GUID-17B33216-F71E-4CD8-9E07-AD8F551A9C69" class="sect4"><span class="enumeration_section">10.9.3 </span>About Implementing Thread Safety
                  </h4>
                  <div>
                     <p>To take advantage of thread safety, an application must be running on a thread-safe operating system.</p>
                     <p>The application specifies that it is running in a multithreaded environment by making an <code class="codeph">OCIEnvNlsCreate()</code> call with <code class="codeph">OCI_THREADED</code> as the value of the <code class="codeph">mode</code> parameter.
                     </p>
                     <p>All subsequent calls to <code class="codeph">OCIEnvNlsCreate()</code> must also be made with <code class="codeph">OCI_THREADED</code>. 
                     </p>
                     <div class="infoboxnote" id="GUID-17B33216-F71E-4CD8-9E07-AD8F551A9C69__GUID-52009A99-1755-4E82-8B35-721EAEEE9489">
                        <p class="notep1">Note:</p>
                        <p>Applications running on non-thread-safe operating systems must not pass a value of <code class="codeph">OCI_THREADED</code> to <code class="codeph">OCIEnvCreate()</code> or <code class="codeph">OCIEnvNlsCreate()</code>.
                        </p>
                     </div>
                     <p>If an application is single-threaded, whether or not the operating system is thread-safe, the application must pass a value of <code class="codeph">OCI_DEFAULT</code> to <code class="codeph">OCIEnvCreate()</code> or <code class="codeph">OCIEnvNlsCreate()</code>. Single-threaded applications that run in <code class="codeph">OCI_THREADED</code> mode may incur lower performance.
                     </p>
                     <p>If a multithreaded application is running on a thread-safe operating system, the OCI library manages mutexes for the application for each environment handle. An application can override this feature and maintain its own mutex scheme by specifying a value of <code class="codeph">OCI_ENV_NO_MUTEX</code> in the <code class="codeph">mode</code> parameter of either the <code class="codeph">OCIEnvCreate()</code> or <code class="codeph">OCIEnvNlsCreate()</code> calls.
                     </p>
                     <p>The following scenarios are possible, depending on how many connections exist in each environment handle, and how many threads are spawned in each connection.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If an application has multiple environment handles, with a single thread in each, mutexes are not required.</p>
                        </li>
                        <li>
                           <p>If an application running in <code class="codeph">OCI_THREADED</code> mode maintains one or more environment handles, with multiple connections, it has these options:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Pass a value of <code class="codeph">OCI_ENV_NO_MUTEX</code> for the <code class="codeph">mode</code> of <code class="codeph">OCIEnvNlsCreate()</code>. The application must set mutual exclusion locks (mutex) for OCI calls made on the same environment handle. This has the advantage that the mutex scheme can be optimized to the application design. The programmer must also ensure that only one OCI call is in process on the environment handle connection at any given time.
                                 </p>
                              </li>
                              <li>
                                 <p>Pass a value of <code class="codeph">OCI_DEFAULT</code> for the <code class="codeph">mode</code> of <code class="codeph">OCIEnvNlsCreate()</code>. The OCI library automatically gets a mutex on every OCI call on the same environment handle.
                                 </p>
                                 <div class="infoboxnote" id="GUID-17B33216-F71E-4CD8-9E07-AD8F551A9C69__GUID-4282E2C6-5193-4A2E-8081-508AFA4FFA94">
                                    <p class="notep1">Note:</p>
                                    <p>Most processing of an OCI call happens on the server, so if two threads using OCI calls go to the same connection, then one of them can be blocked while the other finishes processing at the server.</p>
                                    <p>Use one error handle for each thread in an application, because OCI errors can be overwritten by other threads.</p>
                                 </div>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-B7FE3C01-69E3-4E44-BEA3-B41B5DC3488D" title="OCI supports polling mode operations.">About Polling Mode Operations and Thread Safety</a></p>
                           </li>
                           <li>
                              <p><a href="managing-scalable-platforms.html#GUID-33640C43-C7F2-4031-B0D7-740F23077AD1" title="If an application is mixing later release and 7.x OCI calls, and the application has been initialized as thread-safe (with the appropriate calls of the later release), it is not necessary to call opinit() to achieve thread safety.">Mixing 7.x and Later Release OCI Calls</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-17B33216-F71E-4CD8-9E07-AD8F551A9C69__GUID-9FCE1EF8-74D2-4DD0-81B9-A56DFA6874AB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></p>
                           </li>
                           <li>
                              <p><a href="connect-authorize-and-initialize-functions.html#GUID-16BDA1F1-7DAF-41CA-9EE1-C9A4CB467244" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvCreate()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="LNOCI72658"></a><div class="props_rev_3"><a id="GUID-B7FE3C01-69E3-4E44-BEA3-B41B5DC3488D" name="GUID-B7FE3C01-69E3-4E44-BEA3-B41B5DC3488D"></a><h5 id="LNOCI-GUID-B7FE3C01-69E3-4E44-BEA3-B41B5DC3488D" class="sect5"><span class="enumeration_section">10.9.3.1 </span>About Polling Mode Operations and Thread Safety
                     </h5>
                     <div>
                        <p>OCI supports polling mode operations.</p>
                        <p>When OCI is operating in threaded mode, OCI calls that poll for completion acquire mutexes when the OCI call is actively executing. However, when OCI returns control to the application, OCI releases any acquired mutexes. The caller should ensure that no other OCI call is made on the connection until the polling mode OCI operation in progress completes.</p>
                        <div class="infoboxnotealso" id="GUID-B7FE3C01-69E3-4E44-BEA3-B41B5DC3488D__GUID-051F15BF-230B-45BE-9A47-598FAE101B78">
                           <p class="notep1">See Also:</p>
                           <p><a href="oci-programming-basics.html#GUID-83F4D3B1-56A7-4EEE-A905-BB84D399713D" title="OCI has calls that poll for completion.">Polling Mode Operations in OCI</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16588"></a><div class="props_rev_3"><a id="GUID-33640C43-C7F2-4031-B0D7-740F23077AD1" name="GUID-33640C43-C7F2-4031-B0D7-740F23077AD1"></a><h5 id="LNOCI-GUID-33640C43-C7F2-4031-B0D7-740F23077AD1" class="sect5"><span class="enumeration_section">10.9.3.2 </span>Mixing 7.x and Later Release OCI Calls
                     </h5>
                     <div>
                        <p>If an application is mixing later release and 7.x OCI calls, and the application has been initialized as thread-safe (with the appropriate calls of the later release), it is not necessary to call <code class="codeph">opinit()</code> to achieve thread safety.
                        </p>
                        <p>The application gets 7.x behavior on any subsequent 7.x function calls.</p>
                     </div>
                  </div>
               </div>
            </div><a id="LNOCI16589"></a><div class="props_rev_3"><a id="GUID-AAE70C09-E0D8-4264-8E88-1D6916ABF717" name="GUID-AAE70C09-E0D8-4264-8E88-1D6916ABF717"></a><h3 id="LNOCI-GUID-AAE70C09-E0D8-4264-8E88-1D6916ABF717" class="sect3"><span class="enumeration_section">10.10 </span>OCIThread Package
               </h3>
               <div>
                  <p>The <code class="codeph">OCIThread</code> package provides some commonly used threading primitives.
                  </p>
                  <p>The <code class="codeph">OCIThread</code> package offers a portable interface to threading capabilities native to various operating systems, but does not implement threading on operating systems that do not have native threading capability.
                  </p>
                  <p><code class="codeph">OCIThread</code> does not provide a portable implementation, but it serves as a set of portable covers for native multithreaded facilities. Therefore, operating systems that do not have native support for multithreading are only able to support a limited implementation of the <code class="codeph">OCIThread</code> package. As a result, products that rely on all of the <code class="codeph">OCIThread</code> functionality do not port to all operating systems. Products that must be ported to all operating systems must use only a subset of the <code class="codeph">OCIThread</code> functionality.
                  </p>
                  <p>The <code class="codeph">OCIThread</code> API consists of three main parts. Each part is described briefly here. The following subsections describe each in greater detail: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="managing-scalable-platforms.html#GUID-CB94E283-B577-48E5-99D8-844D22DE45F5" title="The types and functions described in this section are associated with the initialization and termination of the OCIThread package. OCIThread must be initialized before you can use any of its functionality.">Initialization and Termination</a>. These calls deal with the initialization and termination of <code class="codeph">OCIThread</code> context, which is required for other <code class="codeph">OCIThread</code> calls. 
                        </p>
                        <p><code class="codeph">OCIThread</code> only requires that the process initialization function, <code class="codeph">OCIThreadProcessInit()</code>, is called when <code class="codeph">OCIThread</code> is being used in a multithreaded application. Failing to call <code class="codeph">OCIThreadProcessInit()</code> in a single-threaded application is not an error.
                        </p>
                        <p>Separate calls to <code class="codeph">OCIThreadInit()</code> all return the same <code class="codeph">OCIThread</code> context. Each call to <code class="codeph">OCIThreadInit()</code> must eventually be matched by a call to <code class="codeph">OCIThreadTerm()</code>.
                        </p>
                     </li>
                     <li>
                        <p><a href="managing-scalable-platforms.html#GUID-B8E195BF-33E6-4408-991C-2BF9610DA00F" title="Lists the passive threading primitive functions.">Passive Threading Primitives</a>. <span>Passive</span> threading primitives are used to manipulate mutual exclusion locks (mutex), thread IDs, and thread-specific data keys. These primitives are described as passive because although their specifications allow for the existence of multiple threads, they do not require it. It is possible for these primitives to be implemented according to specification in both single-threaded and multithreaded environments. As a result, <code class="codeph">OCIThread</code> clients that use only these primitives do not require a multiple-thread environment to work correctly. They are able to work in single-threaded environments without branching code.
                        </p>
                     </li>
                     <li>
                        <p><a href="managing-scalable-platforms.html#GUID-A80A28BF-5AFF-49FA-825D-DB43CAA16B8A" title="Lists the active threading primitives, which deal with manipulation of actual threads.">Active Threading Primitives</a>. Active threading primitives deal with the creation, termination, and manipulation of threads. These primitives are described as <span class="italic">active</span> because they can only be used in true multithreaded environments. Their specification explicitly requires multiple threads. If you must determine at run time whether you are in a multithreaded environment, call <code class="codeph">OCIThreadIsMulti()</code> before using an <code class="codeph">OCIThread</code> active threading primitive.
                        </p>
                        <p>To write a version of the same application to run on single-threaded operating system, it is necessary to branch your code, whether by branching versions of the source file or by branching at run time with the <code class="codeph">OCIThreadIsMuilt()</code> call.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-AAE70C09-E0D8-4264-8E88-1D6916ABF717__GUID-82364962-D0AB-44EC-A9A9-73E6075F2B49">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="thread-management-functions.html#GUID-41E79A5A-4D95-4610-9496-49CA5AC65FA5" title="Lists and describes the thread management functions.">Thread Management Functions</a></p>
                        </li>
                        <li>
                           <p><code class="codeph">cdemothr.c</code> in the <code class="codeph">demo</code> directory is an example of a multithreading application
                           </p>
                        </li>
                        <li>
                           <p><a href="thread-management-functions.html#GUID-F13EFBDB-F51E-4838-AA70-F8E70D1AB613" title="Performs OCIThread process initialization.">OCIThreadProcessInit()</a></p>
                        </li>
                        <li>
                           <p><a href="thread-management-functions.html#GUID-B1CD9DB9-9362-4C4B-97D7-98F2C755CE21" title="Initializes the OCIThread context.">OCIThreadInit()</a></p>
                        </li>
                        <li>
                           <p><a href="thread-management-functions.html#GUID-FDB9D57D-EA5D-490A-941C-A04E4FA57065" title="Releases the OCIThread context.">OCIThreadTerm()</a></p>
                        </li>
                        <li>
                           <p><a href="thread-management-functions.html#GUID-D36F5FBC-56DA-4365-92E4-3B6B78F75F09" title="Tells the caller whether the application is running in a multithreaded environment or a single-threaded environment.">OCIThreadIsMulti()</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="LNOCI16591"></a><a id="LNOCI16590"></a><div class="props_rev_3"><a id="GUID-CB94E283-B577-48E5-99D8-844D22DE45F5" name="GUID-CB94E283-B577-48E5-99D8-844D22DE45F5"></a><h4 id="LNOCI-GUID-CB94E283-B577-48E5-99D8-844D22DE45F5" class="sect4"><span class="enumeration_section">10.10.1 </span>Initialization and Termination
                  </h4>
                  <div>
                     <p>The types and functions described in this section are associated with the initialization and termination of the <code class="codeph">OCIThread</code> package. <code class="codeph">OCIThread</code> must be initialized before you can use any of its functionality.
                     </p>
                     <div class="section">
                        <p>The observed behavior of the initialization and termination functions is the same regardless of whether <code class="codeph">OCIThread</code> is in a single-threaded or a multithreaded environment. <a href="managing-scalable-platforms.html#GUID-CB94E283-B577-48E5-99D8-844D22DE45F5__G473609" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 10-6</a> lists functions for thread initialization and termination.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CB94E283-B577-48E5-99D8-844D22DE45F5__G473609">
                        <p class="titleintable">Table 10-6 Initialization and Termination Multithreading Functions </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Initialization and Termination Multithreading Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d106260e15256">Function</th>
                                 <th align="left" valign="bottom" width="58%" id="d106260e15259">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d106260e15264" headers="d106260e15256 ">
                                    <p><a href="thread-management-functions.html#GUID-F13EFBDB-F51E-4838-AA70-F8E70D1AB613" title="Performs OCIThread process initialization.">OCIThreadProcessInit()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d106260e15264 d106260e15259 ">
                                    <p>Performs OCIThread process initialization</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d106260e15276" headers="d106260e15256 ">
                                    <p><a href="thread-management-functions.html#GUID-B1CD9DB9-9362-4C4B-97D7-98F2C755CE21" title="Initializes the OCIThread context.">OCIThreadInit()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d106260e15276 d106260e15259 ">
                                    <p>Initializes OCIThread context</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d106260e15288" headers="d106260e15256 ">
                                    <p><a href="thread-management-functions.html#GUID-FDB9D57D-EA5D-490A-941C-A04E4FA57065" title="Releases the OCIThread context.">OCIThreadTerm()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d106260e15288 d106260e15259 ">
                                    <p>Terminates the OCIThread layer and frees context memory</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d106260e15300" headers="d106260e15256 ">
                                    <p><a href="thread-management-functions.html#GUID-D36F5FBC-56DA-4365-92E4-3B6B78F75F09" title="Tells the caller whether the application is running in a multithreaded environment or a single-threaded environment.">OCIThreadIsMulti()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d106260e15300 d106260e15259 ">
                                    <p>Tells the caller whether the application is running in a multithreaded environment or a single-threaded environment</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>This section includes the following topic: <a href="managing-scalable-platforms.html#GUID-99D37BBB-6205-4427-8555-C63029FA18F9" title="Most calls to OCIThread functions use the OCI environment or user session handle as a parameter.">OCIThread Context</a>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-CB94E283-B577-48E5-99D8-844D22DE45F5__GUID-53A0836D-B3D7-4539-8DF4-9D7929C2F9EE">
                           <p class="notep1">See Also:</p>
                           <p> <a href="thread-management-functions.html#GUID-41E79A5A-4D95-4610-9496-49CA5AC65FA5" title="Lists and describes the thread management functions.">Thread Management Functions</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI16592"></a><div class="props_rev_3"><a id="GUID-99D37BBB-6205-4427-8555-C63029FA18F9" name="GUID-99D37BBB-6205-4427-8555-C63029FA18F9"></a><h5 id="LNOCI-GUID-99D37BBB-6205-4427-8555-C63029FA18F9" class="sect5"><span class="enumeration_section">10.10.1.1 </span>OCIThread Context
                     </h5>
                     <div>
                        <p>Most calls to <code class="codeph">OCIThread</code> functions use the OCI environment or user session handle as a parameter. 
                        </p>
                        <p>The <code class="codeph">OCIThread</code> context is part of the OCI environment or user session handle, and it must be initialized by calling <code class="codeph">OCIThreadInit()</code>. Termination of the <code class="codeph">OCIThread</code> context occurs by calling <code class="codeph">OCIThreadTerm()</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-99D37BBB-6205-4427-8555-C63029FA18F9__GUID-96621A3B-0085-48DF-9BCF-EE5BF1A6F65C">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">OCIThread</code> context is an opaque data structure. Do not attempt to examine the contents of the context.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-99D37BBB-6205-4427-8555-C63029FA18F9__GUID-B3256976-F5DC-4717-BD31-A0D009BEECA9">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-B1CD9DB9-9362-4C4B-97D7-98F2C755CE21" title="Initializes the OCIThread context.">OCIThreadInit()</a></p>
                              </li>
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-FDB9D57D-EA5D-490A-941C-A04E4FA57065" title="Releases the OCIThread context.">OCIThreadTerm()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16594"></a><a id="LNOCI16593"></a><div class="props_rev_3"><a id="GUID-B8E195BF-33E6-4408-991C-2BF9610DA00F" name="GUID-B8E195BF-33E6-4408-991C-2BF9610DA00F"></a><h4 id="LNOCI-GUID-B8E195BF-33E6-4408-991C-2BF9610DA00F" class="sect4"><span class="enumeration_section">10.10.2 </span>Passive Threading Primitives
                  </h4>
                  <div>
                     <p>Lists the passive threading primitive functions.</p>
                     <div class="section">
                        <p>The passive threading primitives deal with the manipulation of mutex, thread IDs, and thread-specific data. Because the specifications of these primitives do not require the existence of multiple threads, they can be used both in multithreaded and single-threaded operating systems. <a href="managing-scalable-platforms.html#GUID-B8E195BF-33E6-4408-991C-2BF9610DA00F__G473537" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 10-7</a> lists functions used to implement passive threading. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-B8E195BF-33E6-4408-991C-2BF9610DA00F__G473537">
                        <p class="titleintable">Table 10-7 Passive Threading Primitives </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Passive Threading Primitives " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="35%" id="d106260e15762">Function</th>
                                 <th align="left" valign="bottom" width="65%" id="d106260e15765">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15770" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-C7D25B80-DFD4-4C67-9624-0ED40F69F518" title="Allocates and initializes a mutex.">OCIThreadMutexInit()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15770 d106260e15765 ">
                                    <p>Allocates and initializes a mutex</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15782" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-CDC1183C-006E-4F09-8BCB-CA079774B56C" title="Destroys and deallocates a mutex.">OCIThreadMutexDestroy()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15782 d106260e15765 ">
                                    <p>Destroys and deallocates a mutex</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15794" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-BE59FB94-FF0F-4A2C-80CC-2DE6F2586517" title="Acquires a mutex for the thread in which it is called.">OCIThreadMutexAcquire()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15794 d106260e15765 ">
                                    <p>Acquires a mutex for the thread in which it is called</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15806" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-B1B2121E-A22D-40B6-984B-B9A129D353DE" title="Releases a mutex.">OCIThreadMutexRelease()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15806 d106260e15765 ">
                                    <p>Releases a mutex</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15818" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-DA9EA87A-19A5-4D8F-BACB-7E7502787825" title="Creates a key.">OCIThreadKeyInit()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15818 d106260e15765 ">
                                    <p>Allocates and generates a new key</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15830" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-7AF48B2F-FFF8-46A8-8D36-E84C62E58791" title="Destroys and deallocates the key pointed to by key.">OCIThreadKeyDestroy()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15830 d106260e15765 ">
                                    <p>Destroys and deallocates a key</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15845" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-28097F63-B1FB-45D7-BE66-5C567B1395DD" title="Gets the calling thread's current value for a key.">OCIThreadKeyGet()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15845 d106260e15765 ">
                                    <p>Gets the calling thread's current value for a key</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15857" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-1F70DBC5-AAC8-427D-A68B-B6903D1B215E" title="Sets the calling thread's value for a key.">OCIThreadKeySet()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15857 d106260e15765 ">
                                    <p>Sets the calling thread's value for a key</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15869" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-E6695C5A-DC79-42D7-936A-F2D0441139F2" title="Allocate and initialize the thread ID tid.">OCIThreadIdInit()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15869 d106260e15765 ">
                                    <p>Allocates and initializes a thread ID</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15884" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-B9999844-44F2-4631-AEEA-B4BBA183C4AA" title="Destroys and deallocates a thread ID.">OCIThreadIdDestroy()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15884 d106260e15765 ">
                                    <p>Destroys and deallocates a thread ID</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15896" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-0AE9F3AC-C8D8-438D-932B-2A5AF1BCB570" title="Sets one OCIThreadId to another.">OCIThreadIdSet()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15896 d106260e15765 ">
                                    <p>Sets one thread ID to another</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15912" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-3229209A-999B-4D08-A454-3C6200FD3DBE" title="Sets the NULL thread ID to a given OCIThreadId.">OCIThreadIdSetNull()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15912 d106260e15765 ">
                                    <p>Nulls a thread ID</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15930" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-9D60F215-4E65-4533-B926-DD4D73C35CE7" title="Retrieves the OCIThreadId of the thread in which it is called.">OCIThreadIdGet()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15930 d106260e15765 ">
                                    <p>Retrieves a thread ID for the thread in which it is called</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15945" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-6C5A2E82-05E8-48D6-872F-1F4D453943D6" title="Determines whether two OCIThreadIds represent the same thread.">OCIThreadIdSame()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15945 d106260e15765 ">
                                    <p>Determines if two thread IDs represent the same thread</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="35%" id="d106260e15960" headers="d106260e15762 ">
                                    <p><a href="thread-management-functions.html#GUID-1E466BF0-506A-42F0-A110-44F1484C1537" title="Determines whether a given OCIThreadId is the NULL thread ID.">OCIThreadIdNull()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d106260e15960 d106260e15765 ">
                                    <p>Determines if a thread ID is <code class="codeph">NULL</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="p">This section includes the following topics:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="managing-scalable-platforms.html#GUID-5470400F-35D3-464B-8C9A-7C192F62F4B7" title="The OCIThreadMutex data type is used to represent a mutex.">OCIThreadMutex</a></p>
                              </li>
                              <li>
                                 <p><a href="managing-scalable-platforms.html#GUID-2446894A-9B59-4CC0-A969-FE9C16EF1AEE" title="The data type OCIThreadKey can be thought of as a process-wide variable with a thread-specific value.">OCIThreadKey</a></p>
                              </li>
                              <li>
                                 <p><a href="managing-scalable-platforms.html#GUID-349E94ED-D50C-43BC-8964-00B330375BC0" title="OCIThreadKeyDestFunc is the type of a pointer to a key's destructor routine.">OCIThreadKeyDestFunc</a></p>
                              </li>
                              <li>
                                 <p><a href="managing-scalable-platforms.html#GUID-8F0A4417-7196-4AAD-910B-739E8A608321" title="OCIThreadId data type is used to identify a thread.">OCIThreadId</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="LNOCI16595"></a><div class="props_rev_3"><a id="GUID-5470400F-35D3-464B-8C9A-7C192F62F4B7" name="GUID-5470400F-35D3-464B-8C9A-7C192F62F4B7"></a><h5 id="LNOCI-GUID-5470400F-35D3-464B-8C9A-7C192F62F4B7" class="sect5"><span class="enumeration_section">10.10.2.1 </span>OCIThreadMutex
                     </h5>
                     <div>
                        <p>The <code class="codeph">OCIThreadMutex</code> data type is used to represent a mutex.
                        </p>
                        <p> This mutex is used to ensure that either: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Only one thread accesses a given set of data at a time</p>
                           </li>
                           <li>
                              <p>Only one thread executes a given critical section of code at a time</p>
                           </li>
                        </ul>
                        <p>Mutex pointers can be declared as parts of client structures or as standalone variables. Before they can be used, they must be initialized using <code class="codeph">OCIThreadMutexInit()</code>. Once they are no longer needed, they must be destroyed using <code class="codeph">OCIThreadMutexDestroy()</code>.
                        </p>
                        <p>A thread can acquire a mutex by using <code class="codeph">OCIThreadMutexAcquire()</code>. This ensures that only one thread at a time is allowed to hold a given mutex. A thread that holds a mutex can release it by calling <code class="codeph">OCIThreadMutexRelease()</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-5470400F-35D3-464B-8C9A-7C192F62F4B7__GUID-571F6387-9168-4D79-B5A9-BF998B42764A">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-C7D25B80-DFD4-4C67-9624-0ED40F69F518" title="Allocates and initializes a mutex.">OCIThreadMutexInit()</a></p>
                              </li>
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-CDC1183C-006E-4F09-8BCB-CA079774B56C" title="Destroys and deallocates a mutex.">OCIThreadMutexDestroy()</a></p>
                              </li>
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-BE59FB94-FF0F-4A2C-80CC-2DE6F2586517" title="Acquires a mutex for the thread in which it is called.">OCIThreadMutexAcquire()</a></p>
                              </li>
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-B1B2121E-A22D-40B6-984B-B9A129D353DE" title="Releases a mutex.">OCIThreadMutexRelease()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16596"></a><div class="props_rev_3"><a id="GUID-2446894A-9B59-4CC0-A969-FE9C16EF1AEE" name="GUID-2446894A-9B59-4CC0-A969-FE9C16EF1AEE"></a><h5 id="LNOCI-GUID-2446894A-9B59-4CC0-A969-FE9C16EF1AEE" class="sect5"><span class="enumeration_section">10.10.2.2 </span>OCIThreadKey
                     </h5>
                     <div>
                        <p>The data type <code class="codeph">OCIThreadKey</code> can be thought of as a process-wide variable with a thread-specific value.
                        </p>
                        <p> Thus all threads in a process can use a given key, but each thread can examine or modify that key independently of the other threads. The value that a thread sees when it examines the key is always the same as the value that it last set for the key. It does not see any values set for the key by other threads. The data type of the value held by a key is a <code class="codeph">void *</code> generic pointer.
                        </p>
                        <p>Keys can be created using <code class="codeph">OCIThreadKeyInit()</code>. Key value are initialized to <code class="codeph">NULL</code> for all threads.
                        </p>
                        <p>A thread can set a key's value using <code class="codeph">OCIThreadKeySet()</code>. A thread can get a key's value using <code class="codeph">OCIThreadKeyGet()</code>.
                        </p>
                        <p>The <code class="codeph">OCIThread</code> key functions save and retrieve data specific to the thread. When clients maintain a pool of threads and assign them to different tasks, it may not be appropriate for a task to use <code class="codeph">OCIThread</code> key functions to save data associated with it. 
                        </p>
                        <p>Here is a scenario of how things can fail: A thread is assigned to execute the initialization of a task. During initialization, the task stores data in the thread using <code class="codeph">OCIThread</code> key functions. After initialization, the thread is returned to the threads pool. Later, the threads pool manager assigns another thread to perform some operations on the task, and the task must retrieve the data it stored earlier in initialization. Because the task is running in another thread, it is not able to retrieve the same data. Application developers that use thread pools must be aware of this.
                        </p>
                        <div class="infoboxnotealso" id="GUID-2446894A-9B59-4CC0-A969-FE9C16EF1AEE__GUID-7422B2D5-AC81-434D-8107-C79D7DB17473">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-DA9EA87A-19A5-4D8F-BACB-7E7502787825" title="Creates a key.">OCIThreadKeyInit()</a></p>
                              </li>
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-1F70DBC5-AAC8-427D-A68B-B6903D1B215E" title="Sets the calling thread's value for a key.">OCIThreadKeySet()</a></p>
                              </li>
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-28097F63-B1FB-45D7-BE66-5C567B1395DD" title="Gets the calling thread's current value for a key.">OCIThreadKeyGet()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="LNOCI16597"></a><div class="props_rev_3"><a id="GUID-349E94ED-D50C-43BC-8964-00B330375BC0" name="GUID-349E94ED-D50C-43BC-8964-00B330375BC0"></a><h5 id="LNOCI-GUID-349E94ED-D50C-43BC-8964-00B330375BC0" class="sect5"><span class="enumeration_section">10.10.2.3 </span>OCIThreadKeyDestFunc
                     </h5>
                     <div>
                        <p><code class="codeph">OCIThreadKeyDestFunc</code> is the type of a pointer to a key's destructor routine.
                        </p>
                        <p> Keys can be associated with a destructor routine when they are created using <code class="codeph">OCIThreadKeyInit()</code>. A key's destructor routine is called whenever a thread with a non-<code class="codeph">NULL</code> value for the key terminates. The destructor routine returns nothing and takes one parameter, the value that was set for key when the thread terminated.
                        </p>
                        <p>The destructor routine is guaranteed to be called on a thread's value in the key after the termination of the thread and before process termination. No more precise guarantee can be made about the timing of the destructor routine call; no code in the process may assume any post-condition of the destructor routine. In particular, the destructor is not guaranteed to execute before a join call on the terminated thread returns.</p>
                        <div class="infoboxnotealso" id="GUID-349E94ED-D50C-43BC-8964-00B330375BC0__GUID-2C575F7F-1F01-4B2D-B905-4C533A585287">
                           <p class="notep1">See Also:</p>
                           <p><a href="thread-management-functions.html#GUID-DA9EA87A-19A5-4D8F-BACB-7E7502787825" title="Creates a key.">OCIThreadKeyInit()</a></p>
                        </div>
                     </div>
                  </div><a id="LNOCI16598"></a><div class="props_rev_3"><a id="GUID-8F0A4417-7196-4AAD-910B-739E8A608321" name="GUID-8F0A4417-7196-4AAD-910B-739E8A608321"></a><h5 id="LNOCI-GUID-8F0A4417-7196-4AAD-910B-739E8A608321" class="sect5"><span class="enumeration_section">10.10.2.4 </span>OCIThreadId
                     </h5>
                     <div>
                        <p><code class="codeph">OCIThreadId</code> data type is used to identify a thread.
                        </p>
                        <p> At any given time, no two threads can have the same <code class="codeph">OCIThreadId</code>, but <code class="codeph">OCIThreadId</code> values can be recycled; after a thread dies, a new thread may be created that has the same <code class="codeph">OCIThreadId</code> value. In particular, the thread ID must uniquely identify a thread <code class="codeph">T</code> within a process, and it must be consistent and valid in all threads <code class="codeph">U</code> of the process for which it can be guaranteed that <code class="codeph">T</code> is running concurrently with <code class="codeph">U</code>. The thread ID for a thread <code class="codeph">T</code> must be retrievable within thread <code class="codeph">T</code>. This is done using <code class="codeph">OCIThreadIdGet()</code>.
                        </p>
                        <p>The <code class="codeph">OCIThreadId</code> type supports the concept of a <code class="codeph">NULL</code> thread ID: the <code class="codeph">NULL</code> thread ID can never be the same as the ID of an actual thread.
                        </p>
                        <div class="infoboxnotealso" id="GUID-8F0A4417-7196-4AAD-910B-739E8A608321__GUID-D1D45893-F96A-47E7-B998-5D5F74123EC4">
                           <p class="notep1">See Also:</p>
                           <p><a href="thread-management-functions.html#GUID-9D60F215-4E65-4533-B926-DD4D73C35CE7" title="Retrieves the OCIThreadId of the thread in which it is called.">OCIThreadIdGet()</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="LNOCI16600"></a><a id="LNOCI16599"></a><div class="props_rev_3"><a id="GUID-A80A28BF-5AFF-49FA-825D-DB43CAA16B8A" name="GUID-A80A28BF-5AFF-49FA-825D-DB43CAA16B8A"></a><h4 id="LNOCI-GUID-A80A28BF-5AFF-49FA-825D-DB43CAA16B8A" class="sect4"><span class="enumeration_section">10.10.3 </span>Active Threading Primitives
                  </h4>
                  <div>
                     <p>Lists the  active threading primitives, which deal with manipulation of actual threads.</p>
                     <p>Because specifications of most of these primitives require multiple threads, they work correctly only in the enabled <code class="codeph">OCIThread</code>. In the disabled <code class="codeph">OCIThread</code>, they always return an error. The exception is <code class="codeph">OCIThreadHandleGet()</code>; it may be called in a single-threaded environment and has no effect.
                     </p>
                     <p>Active primitives can only be called by code running in a multithreaded environment. You can call <code class="codeph">OCIThreadIsMulti()</code> to determine whether the environment is multithreaded or single-threaded. <a href="managing-scalable-platforms.html#GUID-A80A28BF-5AFF-49FA-825D-DB43CAA16B8A__G473467" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 10-8</a> lists functions used to implement active threading. 
                     </p>
                     <div class="tblformal" id="GUID-A80A28BF-5AFF-49FA-825D-DB43CAA16B8A__G473467">
                        <p class="titleintable">Table 10-8 Active Threading Primitives </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Active Threading Primitives " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d106260e17181">Function</th>
                                 <th align="left" valign="bottom" width="55%" id="d106260e17184">Purpose</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d106260e17189" headers="d106260e17181 ">
                                    <p><a href="thread-management-functions.html#GUID-1D3F6256-B071-436D-B6D6-5C34AF691304" title="Allocates and initializes the thread handle.">OCIThreadHndInit()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d106260e17189 d106260e17184 ">
                                    <p>Allocates and initializes a thread handle</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d106260e17201" headers="d106260e17181 ">
                                    <p><a href="thread-management-functions.html#GUID-4D18C196-37FA-4A98-812D-6DDB09478BAF" title="Destroys and deallocates the thread handle.">OCIThreadHndDestroy()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d106260e17201 d106260e17184 ">
                                    <p>Destroys and deallocates a thread handle</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d106260e17213" headers="d106260e17181 ">
                                    <p><a href="thread-management-functions.html#GUID-1F526093-3270-4899-9284-D807854694CE" title="Creates a new thread.">OCIThreadCreate()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d106260e17213 d106260e17184 ">
                                    <p>Creates a new thread</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d106260e17225" headers="d106260e17181 ">
                                    <p><a href="thread-management-functions.html#GUID-3065242A-47F0-48EB-A124-96CF95E89254" title="Allows the calling thread to join with another thread.">OCIThreadJoin()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d106260e17225 d106260e17184 ">
                                    <p>Allows the calling thread to join with another</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d106260e17237" headers="d106260e17181 ">
                                    <p><a href="thread-management-functions.html#GUID-E461E3CB-5F38-4F50-B822-681065D18822" title="Closes a thread handle.">OCIThreadClose()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d106260e17237 d106260e17184 ">
                                    <p>Closes a thread handle</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d106260e17249" headers="d106260e17181 ">
                                    <p><a href="thread-management-functions.html#GUID-6CAE9E6B-4402-4038-A5FD-4B7A485E96DD" title="Retrieves the OCIThreadHandle of the thread in which it is called.">OCIThreadHandleGet()</a></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d106260e17249 d106260e17184 ">
                                    <p>Retrieves a thread handle</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>This section includes the following topic: <a href="managing-scalable-platforms.html#GUID-E7BA1A77-6643-4CAE-81C3-CCB21556554C" title="Data type OCIThreadHandle is used to manipulate a thread in the active primitives, OCIThreadJoin() and OCIThreadClose().">OCIThreadHandle</a>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A80A28BF-5AFF-49FA-825D-DB43CAA16B8A__GUID-D8D10F29-BDBE-473D-B663-72E9B40FE7CA">
                        <p class="notep1">See Also:</p>
                        <p><a href="thread-management-functions.html#GUID-D36F5FBC-56DA-4365-92E4-3B6B78F75F09" title="Tells the caller whether the application is running in a multithreaded environment or a single-threaded environment.">OCIThreadIsMulti()</a></p>
                     </div>
                  </div><a id="LNOCI16601"></a><div class="props_rev_3"><a id="GUID-E7BA1A77-6643-4CAE-81C3-CCB21556554C" name="GUID-E7BA1A77-6643-4CAE-81C3-CCB21556554C"></a><h5 id="LNOCI-GUID-E7BA1A77-6643-4CAE-81C3-CCB21556554C" class="sect5"><span class="enumeration_section">10.10.3.1 </span>OCIThreadHandle
                     </h5>
                     <div>
                        <p>Data type <code class="codeph">OCIThreadHandle</code> is used to manipulate a thread in the active primitives, <code class="codeph">OCIThreadJoin()</code> and <code class="codeph">OCIThreadClose()</code>. 
                        </p>
                        <p>A thread handle opened by <code class="codeph">OCIThreadCreate()</code> must be closed in a matching call to <code class="codeph">OCIThreadClose()</code>. A thread handle is invalid after the call to <code class="codeph">OCIThreadClose()</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E7BA1A77-6643-4CAE-81C3-CCB21556554C__GUID-A64CEF6D-21CF-4F88-9B4A-392E354DD7A2">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-3065242A-47F0-48EB-A124-96CF95E89254" title="Allows the calling thread to join with another thread.">OCIThreadJoin()</a></p>
                              </li>
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-E461E3CB-5F38-4F50-B822-681065D18822" title="Closes a thread handle.">OCIThreadClose()</a></p>
                              </li>
                              <li>
                                 <p><a href="thread-management-functions.html#GUID-1F526093-3270-4899-9284-D807854694CE" title="Creates a new thread.">OCIThreadCreate()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>