<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Error Messages, Diagnosis, and Reporting</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-drda-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T16:51:33-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18236-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="developing-applications.html" title="Previous" type="text/html">
      <link rel="next" href="db2-data-dictionary.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for DRDA User's Guide">
    <meta name="dcterms.isVersionOf" content="DRDAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="developing-applications.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="db2-data-dictionary.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Error Messages, Diagnosis, and Reporting</li>
            </ol>
            <a id="GUID-7C0401EB-B206-4CC0-A4A6-8FB5782B57D7" name="GUID-7C0401EB-B206-4CC0-A4A6-8FB5782B57D7"></a><a id="DRDAG199"></a>
            
            <h2 id="DRDAG-GUID-7C0401EB-B206-4CC0-A4A6-8FB5782B57D7" class="sect2"><span class="enumeration_chapter">5 </span> Error Messages, Diagnosis, and Reporting
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following sections provide information about error <a id="d42006e20" class="indexterm-anchor"></a>messages and error codes specific to the Oracle Database Gateway for DRDA:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="database-gateway-drda-error-messages.html#GUID-682846C7-B32A-4AB1-8E96-CFAC816BD27B">Interpreting Gateway Error Messages</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-drda-error-messages.html#GUID-6F880170-01F9-40D4-AD5C-0CBA3A907B92">Mapped Errors</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-drda-error-messages.html#GUID-852CD270-E7F8-45AC-BB98-FCB3F2CE37AC">SQL Tracing and the Gateway </a></p>
                  </li>
               </ul>
            </div><a id="DRDAG200"></a><div class="props_rev_3"><a id="GUID-682846C7-B32A-4AB1-8E96-CFAC816BD27B" name="GUID-682846C7-B32A-4AB1-8E96-CFAC816BD27B"></a><h3 id="DRDAG-GUID-682846C7-B32A-4AB1-8E96-CFAC816BD27B" class="sect3">Interpreting Gateway Error Messages</h3>
               <div>
                  <p>The gateway architecture consists of different components. Any component may detect and report an <a id="d42006e69" class="indexterm-anchor"></a>error condition while processing SQL statements that refer to one or more DRDA database tables. This means that errors can be complex, involving error codes and supporting data from multiple components. In all cases, however, the application ultimately receives a single error code or a return code.
                  </p>
                  <p>As most gateway messages exceed the 70&nbsp;character message area in the Oracle SQL Communications Area (SQLCA), the programmatic interfaces and <a id="d42006e76" class="indexterm-anchor"></a>Oracle Call Interfaces, that you use to access data through the gateway should use SQLGLM or OERHMS to view the entire text of messages. Refer to the programmer's guide to the Oracle precompilers for additional information about SQLGLM, and refer to the <a href="../lncpp/index.html" target="_blank"><span class="italic">Oracle C++ Call Interface Programmer's Guide</span></a> for additional information about OERHMS.
                  </p>
                  <p>Errors encountered when using the gateway can originate from many sources, as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Errors detected by the Oracle database</p>
                     </li>
                     <li>
                        <p>Errors detected by the gateway</p>
                     </li>
                     <li>
                        <p>Errors detected in the DRDA software, either on the client or server side</p>
                     </li>
                     <li>
                        <p>Communication errors</p>
                     </li>
                     <li>
                        <p>Errors detected by the server database</p>
                     </li>
                  </ul>
               </div><a id="DRDAG201"></a><div class="props_rev_3"><a id="GUID-C5255F58-F7C9-4FB5-91B7-765DA2C81683" name="GUID-C5255F58-F7C9-4FB5-91B7-765DA2C81683"></a><h4 id="DRDAG-GUID-C5255F58-F7C9-4FB5-91B7-765DA2C81683" class="sect4">Errors Detected by the Gateway</h4>
                  <div>
                     <p>Errors detected by the Oracle database are reported back to the application or tool with the standard <code class="codeph">ORA</code> type message. Refer to <a href="../errmg/index.html" target="_blank"><span class="italic">Oracle Database Error Messages</span></a> for descriptions of these errors. For example, the following error occurs when an undefined database link name is specified:
                     </p><pre class="oac_no_warn" dir="ltr"><a id="d42006e143" class="indexterm-anchor"></a><a id="d42006e145" class="indexterm-anchor"></a>ORA-02019:  connection description for <a id="d42006e150" class="indexterm-anchor"></a>remote database not found 
</pre><p>Errors in the <code class="codeph">ORA-9100</code> to <code class="codeph">ORA-9199</code> range are reserved for the generic gateway layer (components of the gateway that are not specific to DRDA). Messages in this range are documented in <a href="../errmg/index.html" target="_blank"><span class="italic">Oracle Database Error Messages</span></a>.
                     </p>
                  </div>
               </div><a id="DRDAG203"></a><div class="props_rev_3"><a id="GUID-61392C26-5D60-4D45-898A-9B4D2D870611" name="GUID-61392C26-5D60-4D45-898A-9B4D2D870611"></a><h4 id="DRDAG-GUID-61392C26-5D60-4D45-898A-9B4D2D870611" class="sect4">Errors Detected in the DRDA Software</h4>
                  <div>
                     <p>Errors detected in the DRDA gateway, on the client or server side, are usually reported with <a id="d42006e200" class="indexterm-anchor"></a>error <a id="d42006e205" class="indexterm-anchor"></a><code class="codeph">ORA-28500</code>, followed by a gateway-specific expanded error message. There are two return codes reported in the expanded message:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">drc</code> specifies DRDA-specific errors.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">grc</code> specifies generic gateway errors detected in the DRDA layer. These errors are documented in the <a href="../errmg/index.html" target="_blank"><span class="italic">Oracle Database Error Messages</span></a>. 
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-61392C26-5D60-4D45-898A-9B4D2D870611__GUID-90D5EB75-3C56-43A0-8021-0D8DA72889FE">
                        <p class="notep1">Note:</p>
                        <p>Error code <code class="codeph">ORA‐28500 </code>was error code <code class="codeph">ORA‐09100</code> prior to gateway version&nbsp;8. Error code<code class="codeph"> ORA‐28501</code> was listed as <code class="codeph">ORA‐09101</code> prior to gateway version&nbsp;8.
                        </p>
                     </div>
                     <p>The values in parentheses that follow the <code class="codeph">drc</code> values are used for <a id="d42006e248" class="indexterm-anchor"></a><a id="d42006e254" class="indexterm-anchor"></a>debugging by Oracle Support Services. The<code class="codeph"> errp </code>field indicates the program (client or server) that detected the error. If present,<a id="d42006e262" class="indexterm-anchor"></a><a id="d42006e266" class="indexterm-anchor"></a><code class="codeph"> errmc </code>lists any <a id="d42006e274" class="indexterm-anchor"></a>error tokens. 
                     </p>
                     <p>For example, the following error message is returned when the database name specified with the <code class="codeph">DRDA_REMOTE_NAME</code> parameter in the i<code class="codeph">nitsid.ora</code> file is not defined at the DRDA server:
                     </p><pre class="oac_no_warn" dir="ltr">ORA-28500: connection from ORACLE to non-Oracle system returned the message:
</pre></div>
               </div><a id="DRDAG205"></a><div class="props_rev_3"><a id="GUID-02F07CE0-4BDE-4170-B164-4252CA1701B2" name="GUID-02F07CE0-4BDE-4170-B164-4252CA1701B2"></a><h4 id="DRDAG-GUID-02F07CE0-4BDE-4170-B164-4252CA1701B2" class="sect4">Errors Detected by the DRDA Server</h4>
                  <div>
                     <p><a id="d42006e311" class="indexterm-anchor"></a>Errors detected by the DRDA server<a id="d42006e318" class="indexterm-anchor"></a> are reported with an <code class="codeph">ORA-28500</code> followed by a gateway-specific expanded error message. Refer to IBM documentation for the specific database being used. Also refer to <a href="database-gateway-drda-error-messages.html#GUID-6F880170-01F9-40D4-AD5C-0CBA3A907B92">Mapped Errors</a>for some SQL errors that get translated. 
                     </p>
                     <div class="infoboxnote" id="GUID-02F07CE0-4BDE-4170-B164-4252CA1701B2__GUID-E193A70E-95E0-4AE0-91E2-517E04C0C22E">
                        <p class="notep1">Note:</p>
                        <p>Error code <code class="codeph">ORA‐28500</code> was error code<code class="codeph"> ORA‐09100</code> prior to gateway version&nbsp;8. Error code <code class="codeph">ORA‐28501</code> was listed as  <code class="codeph">ORA‐09101</code> prior to gateway version&nbsp;8.
                        </p>
                     </div>
                     <p>For example, the following error message indicates that the DRDA server did not find the DB2 database name specified in the <code class="codeph">HS_FDS_CONNECT_INFO</code> parameter in the <code class="codeph">initSID.ora</code> file:
                     </p><pre class="oac_no_warn" dir="ltr">ORA-28500: connection from ORACLE to a non-Oracle system returned this message:
[Oracle][ODBC DB2 Wire Protocol driver]Remote Database Not Found: UNKNOWN
</pre></div>
               </div>
            </div><a id="DRDAG206"></a><div class="props_rev_3"><a id="GUID-6F880170-01F9-40D4-AD5C-0CBA3A907B92" name="GUID-6F880170-01F9-40D4-AD5C-0CBA3A907B92"></a><h3 id="DRDAG-GUID-6F880170-01F9-40D4-AD5C-0CBA3A907B92" class="sect3">Mapped Errors</h3>
               <div>
                  <p>Some <a id="d42006e375" class="indexterm-anchor"></a>SQL errors are returned from the DRDA server and are translated to an <a id="d42006e380" class="indexterm-anchor"></a><a id="d42006e384" class="indexterm-anchor"></a>Oracle error code. This is needed when the Oracle instance or gateway provides special handling of an error condition.
                  </p>
                  <p>The following is an example of a translated object does not exist error:</p><pre class="oac_no_warn" dir="ltr">ORA-00942: table or view does not exist
[Oracle][ODBC DB2 Wire Protocol driver][UDB DB2 for OS/390 and z/OS]PCASTRO.XXX IS AN UNDEFINED NAME.
</pre></div>
            </div><a id="DRDAG208"></a><div class="props_rev_3"><a id="GUID-852CD270-E7F8-45AC-BB98-FCB3F2CE37AC" name="GUID-852CD270-E7F8-45AC-BB98-FCB3F2CE37AC"></a><h3 id="DRDAG-GUID-852CD270-E7F8-45AC-BB98-FCB3F2CE37AC" class="sect3">SQL Tracing and the Gateway </h3>
               <div>
                  <p>When developing applications, it is often useful to be able to see the exact SQL statements that are being passed through the gateway. The following sections describe setting appropriate <a id="d42006e416" class="indexterm-anchor"></a>trace <a id="d42006e421" class="indexterm-anchor"></a>parameters and setting up the <a id="d42006e426" class="indexterm-anchor"></a><a id="d42006e430" class="indexterm-anchor"></a><a id="d42006e434" class="indexterm-anchor"></a>debug gateway. 
                  </p>
               </div><a id="DRDAG209"></a><div class="props_rev_3"><a id="GUID-8CB43673-CF56-4D65-9885-18BF4CE477C9" name="GUID-8CB43673-CF56-4D65-9885-18BF4CE477C9"></a><h4 id="DRDAG-GUID-8CB43673-CF56-4D65-9885-18BF4CE477C9" class="sect4">SQL Tracing in the Oracle Database</h4>
                  <div>
                     <p>Oracle database has a command for capturing the SQL statement that is actually sent to the gateway. This command is called <a id="d42006e469" class="indexterm-anchor"></a><a id="d42006e473" class="indexterm-anchor"></a><code class="codeph">EXPLAIN PLAN</code>. The <code class="codeph">EXPLAIN PLAN</code> command is used to determine the execution plan that Oracle database follows to execute a specified SQL statement. This command inserts a row, which describes each step of the execution plan, into a specified table. If you are using cost-based optimization, then this command also determines the cost of executing the statement. The syntax of the command is:
                     </p><pre class="oac_no_warn" dir="ltr">EXPLAIN PLAN [ SET STATEMENT_ID = 'text' ]
    [ INTO [schema.]table[@dblink] ] FOR statement 
</pre><p>For detailed information on this command, refer to the <a href="../sqlrf/EXPLAIN-PLAN.html#SQLRF01601" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                     </p>
                     <div class="infoboxnote" id="GUID-8CB43673-CF56-4D65-9885-18BF4CE477C9__GUID-C07AF14E-CBC9-4136-9276-111DAB0A30F0">
                        <p class="notep1">Note:</p>
                        <p>In most cases, <code class="codeph">EXPLAIN&nbsp;PLAN</code> should be sufficient to extract the SQL statement that is actually sent to the gateway, and thus sent to the DRDA server. However, certain SQL statement form have <a id="d42006e496" class="indexterm-anchor"></a>post-processing performed on them in the gateway.
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>