<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Type Support</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQLJ Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQLJ Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sqlj-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T08:20:03-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96458-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="basic-language-features.html" title="Previous" type="text/html">
      <link rel="next" href="objects-collections-and-OPAQUE-types.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQLJ Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JSQLJ">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="basic-language-features.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="objects-collections-and-OPAQUE-types.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQLJ Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Type Support</li>
            </ol>
            <a id="GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9" name="GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9"></a><a id="JSQLJ348"></a>
            
            <h2 id="JSQLJ-GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9" class="sect2"><span class="enumeration_chapter">6 </span> Type Support
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter documents data types supported by the Oracle SQLJ implementation, listing supported SQL types and the Java types that correspond to them. This is followed by details about support for streams and Oracle type extensions. SQLJ support of Java types refers to types that can be used in host expressions.</p>
               <p>This chapter covers the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="type-support.html#GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC">Supported Types for Host Expressions</a></p>
                  </li>
                  <li>
                     <p><a href="type-support.html#GUID-5C678045-D184-41AB-B339-9E1E12FE4D46">Support for Streams</a></p>
                  </li>
                  <li>
                     <p><a href="type-support.html#GUID-9C82F6F4-197C-4B80-8491-B3CF03861384">Support for JDBC 2.0 LOB Types and Oracle Type Extensions</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-5890BFD9-7FF0-4ED3-BBDB-9CC1B729E2C9__GUID-ABB4470C-F265-41AF-A160-D20B77802C93">
                  <p class="notep1">See Also:</p>
                  <p><a href="objects-collections-and-OPAQUE-types.html#GUID-93B64A3E-4928-4039-BC10-D7B05E768BFF"> Objects_ Collections_ and OPAQUE Types</a></p>
               </div>
            </div><a id="JSQLJ349"></a><div class="props_rev_3"><a id="GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC" name="GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC"></a><h3 id="JSQLJ-GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC" class="sect3">Supported Types for Host Expressions</h3>
               <div>
                  <p>This section summarizes the types supported by the Oracle SQLJ implementation, including information about new support for Java Database Connectivity (JDBC) 2.0 types.</p>
                  <div class="infoboxnotealso" id="GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC__GUID-6BE0FE49-E8EA-4BC8-A116-AE1785D535C4">
                     <p class="notep1">See Also:</p>
                     <p><a href="../jjdbc/JDBC-reference-information.html#JJDBC-GUID-E77C2AE8-E22B-48BF-A4CB-010CBC8FE7C2" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for a complete list of legal Java mappings for each Oracle SQL type
                     </p>
                  </div>
                  <div class="infoboxnote" id="GUID-81FC46CA-8D0E-43F8-BD02-F9AA31625DEC__GUID-9937CD32-2887-4619-81EC-4C7950C60895">
                     <p class="notep1">Note:</p>
                     <p>SQLJ performs implicit conversions between SQL and Java types. Although this is generally useful and helpful, it can produce unexpected results. Do not rely on translation-time type-checking alone to ensure the correctness of your code.</p>
                  </div>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF">Summary of Supported Types</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D">Supported Types and Requirements for JDBC 2.0</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-C4E5120C-58A2-4540-9398-58D01DEE9052">Using PL/SQL BOOLEAN_ RECORD Types_ and TABLE Types</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ351"></a><a id="JSQLJ350"></a><div class="props_rev_3"><a id="GUID-291119E7-0C44-4324-B373-6154D5418CDF" name="GUID-291119E7-0C44-4324-B373-6154D5418CDF"></a><h4 id="JSQLJ-GUID-291119E7-0C44-4324-B373-6154D5418CDF" class="sect4">Summary of Supported Types</h4>
                  <div>
                     <p><a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="Summary">Table 6-1</a> lists the Java types that you can use in host expressions when employing Oracle JDBC drivers. This table also documents the correlation between Java types, SQL types whose type codes are defined in the <code class="codeph">oracle.jdbc.OracleTypes</code> class, and data types in Oracle Database 12<span class="italic">c </span>Release 2 (12.2). 
                     </p>
                     <div class="infoboxnote" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-519C8BD8-CA21-4430-94E3-7ED538F4B56D">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">OracleTypes</code> class simply defines a type code, which is an integer constant, for each Oracle data type. For standard JDBC types, the <code class="codeph">OracleTypes</code> value is identical to the standard <code class="codeph">java.sql.Types</code> value.
                        </p>
                     </div>
                     <p>SQL data output to a Java variable is converted to the corresponding Java type. A Java variable input to SQL is converted to the corresponding Oracle data type.</p>
                     <div class="tblformal" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI">
                        <p class="titleintable">Table 6-1 Type Mappings for Supported Host Expression Types</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Type Mappings for Supported Host Expression Types" summary="Summary" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d22137e173">Java Type</th>
                                 <th align="left" valign="bottom" width="28%" id="d22137e176">OracleTypes Definition</th>
                                 <th align="left" valign="bottom" width="27%" id="d22137e179">Oracle SQL Data Type</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e184" headers="d22137e173 ">
                                    <p><span class="bold">STANDARD JDBC 1.x TYPES</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e184 d22137e176 ">
                                    <p>&nbsp;</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e184 d22137e179 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e195" headers="d22137e173 ">
                                    <p><code class="codeph">boolean</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e195 d22137e176 ">
                                    <p><code class="codeph">BIT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e195 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e208" headers="d22137e173 ">
                                    <p><code class="codeph">byte</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e208 d22137e176 ">
                                    <p><code class="codeph">TINYINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e208 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e221" headers="d22137e173 ">
                                    <p><code class="codeph">short</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e221 d22137e176 ">
                                    <p><code class="codeph">SMALLINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e221 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e234" headers="d22137e173 ">
                                    <p><code class="codeph">int</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e234 d22137e176 ">
                                    <p><code class="codeph">INTEGER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e234 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e247" headers="d22137e173 ">
                                    <p><code class="codeph">long</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e247 d22137e176 ">
                                    <p><code class="codeph">BIGINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e247 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e260" headers="d22137e173 ">
                                    <p><code class="codeph">float</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e260 d22137e176 ">
                                    <p><code class="codeph">REAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e260 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e273" headers="d22137e173 ">
                                    <p><code class="codeph">double</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e273 d22137e176 ">
                                    <p><code class="codeph">FLOAT</code>, <code class="codeph">DOUBLE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e273 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e289" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang.String</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e289 d22137e176 ">
                                    <p><code class="codeph">CHAR</code> <code class="codeph">VARCHAR</code> <code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e289 d22137e179 ">
                                    <p><code class="codeph">CHAR</code> <code class="codeph">VARCHAR2</code> <code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e318" headers="d22137e173 ">
                                    <p><code class="codeph">byte[]</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e318 d22137e176 ">
                                    <p><code class="codeph">BINARY</code> <code class="codeph">VARBINARY</code> <code class="codeph">LONGVARBINARY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e318 d22137e179 ">
                                    <p><code class="codeph">RAW</code> <code class="codeph">RAW</code> <code class="codeph">LONGRAW</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e347" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql.Date</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e347 d22137e176 ">
                                    <p><code class="codeph">DATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e347 d22137e179 ">
                                    <p><code class="codeph">DATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e361" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql.Time</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e361 d22137e176 ">
                                    <p><code class="codeph">TIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e361 d22137e179 ">
                                    <p><code class="codeph">DATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e374" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql.Timestamp</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e374 d22137e176 ">
                                    <p><code class="codeph">TIMESTAMP</code> <code class="codeph">TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e374 d22137e179 ">
                                    <p><code class="codeph">DATE</code> <code class="codeph">TIMESTAMP</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e395" headers="d22137e173 ">
                                    <p><code class="codeph">java.math.BigDecimal</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e395 d22137e176 ">
                                    <p><code class="codeph">NUMERIC</code> <code class="codeph">DECIMAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e395 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code> <code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e416" headers="d22137e173 ">
                                    <p><span class="bold">STANDARD JDBC 2.0 TYPES</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e416 d22137e176 ">
                                    <p>&nbsp;</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e416 d22137e179 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e427" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql.Blob</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e427 d22137e176 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e427 d22137e179 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e440" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql.Clob</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e440 d22137e176 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e440 d22137e179 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e453" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql.Struct</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e453 d22137e176 ">
                                    <p><code class="codeph">STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e453 d22137e179 ">
                                    <p>Object types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e465" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql.Ref</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e465 d22137e176 ">
                                    <p><code class="codeph">REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e465 d22137e179 ">
                                    <p>Reference types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e477" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql.Array</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e477 d22137e176 ">
                                    <p><code class="codeph">ARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e477 d22137e179 ">
                                    <p>Collection types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e489" headers="d22137e173 ">
                                    <p>Custom object classes implementing <code class="codeph">java.sql.SQLData</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e489 d22137e176 ">
                                    <p><code class="codeph">STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e489 d22137e179 ">
                                    <p>Object types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e502" headers="d22137e173 ">
                                    <p><span class="bold">JAVA WRAPPER CLASSES</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e502 d22137e176 ">
                                    <p>&nbsp;</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e502 d22137e179 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e514" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang.Boolean</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e514 d22137e176 ">
                                    <p><code class="codeph">BIT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e514 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e527" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang.Byte</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e527 d22137e176 ">
                                    <p><code class="codeph">TINYINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e527 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e540" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang.Short</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e540 d22137e176 ">
                                    <p><code class="codeph">SMALLINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e540 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e553" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang.Integer</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e553 d22137e176 ">
                                    <p><code class="codeph">INTEGER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e553 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e566" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang.Long</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e566 d22137e176 ">
                                    <p><code class="codeph">BIGINT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e566 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e579" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang.Float</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e579 d22137e176 ">
                                    <p><code class="codeph">REAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e579 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e592" headers="d22137e173 ">
                                    <p><code class="codeph">java.lang.Double</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e592 d22137e176 ">
                                    <p><code class="codeph">FLOAT</code>, <code class="codeph">DOUBLE</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e592 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e609" headers="d22137e173 ">
                                    <p><span class="bold">SQLJ STREAM CLASSES</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e609 d22137e176 ">
                                    <p>&nbsp;</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e609 d22137e179 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e620" headers="d22137e173 ">
                                    <p><code class="codeph">sqlj.runtime.BinaryStream</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e620 d22137e176 ">
                                    <p><code class="codeph">LONGVARBINARY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e620 d22137e179 ">
                                    <p><code class="codeph">LONG RAW</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e633" headers="d22137e173 ">
                                    <p><code class="codeph">sqlj.runtime.CharacterStream</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e633 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e633 d22137e179 ">
                                    <p><code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e646" headers="d22137e173 ">
                                    <p><code class="codeph">sqlj.runtime.AsciiStream</code>  (Deprecated; use <code class="codeph">CharacterStream</code>.)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e646 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e646 d22137e179 ">
                                    <p><code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e666" headers="d22137e173 ">
                                    <p><code class="codeph">sqlj.runtime.UnicodeStream</code>  (Deprecated; use <code class="codeph">CharacterStream</code>.)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e666 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e666 d22137e179 ">
                                    <p><code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e685" headers="d22137e173 ">
                                    <p><span class="bold">ORACLE EXTENSIONS</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e685 d22137e176 ">
                                    <p>&nbsp;</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e685 d22137e179 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e696" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e696 d22137e176 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e696 d22137e179 ">
                                    <p><code class="codeph">NUMBER</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e709" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e709 d22137e176 ">
                                    <p><code class="codeph">CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e709 d22137e179 ">
                                    <p><code class="codeph">CHAR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e722" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.RAW</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e722 d22137e176 ">
                                    <p><code class="codeph">RAW</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e722 d22137e179 ">
                                    <p><code class="codeph">RAW</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e735" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.DATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e735 d22137e176 ">
                                    <p><code class="codeph">DATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e735 d22137e179 ">
                                    <p><code class="codeph">DATE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e748" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e748 d22137e176 ">
                                    <p><code class="codeph">TIMESTAMP</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e748 d22137e179 ">
                                    <p><code class="codeph">TIMESTAMP</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e761" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.TIMESTAMPTZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e761 d22137e176 ">
                                    <p><code class="codeph">TIMESTAMPTZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e761 d22137e179 ">
                                    <p><code class="codeph">TIMESTAMP-WITH- TIMEZONE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e776" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.TIMESTAMPLTZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e776 d22137e176 ">
                                    <p><code class="codeph">TIMESTAMPLTZ</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e776 d22137e179 ">
                                    <p><code class="codeph">TIMESTAMP-WITH- LOCAL-TIMEZONE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e791" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.ROWID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e791 d22137e176 ">
                                    <p><code class="codeph">ROWID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e791 d22137e179 ">
                                    <p><code class="codeph">ROWID</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e804" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e804 d22137e176 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e804 d22137e179 ">
                                    <p><code class="codeph">BLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e818" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e818 d22137e176 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e818 d22137e179 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e831" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.BFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e831 d22137e176 ">
                                    <p><code class="codeph">BFILE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e831 d22137e179 ">
                                    <p><code class="codeph">BFILE</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e844" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e844 d22137e176 ">
                                    <p><code class="codeph">STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e844 d22137e179 ">
                                    <p>Object types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e856" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e856 d22137e176 ">
                                    <p><code class="codeph">REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e856 d22137e179 ">
                                    <p>Reference types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e868" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.ARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e868 d22137e176 ">
                                    <p><code class="codeph">ARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e868 d22137e179 ">
                                    <p>Collection types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e880" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.OPAQUE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e880 d22137e176 ">
                                    <p><code class="codeph">OPAQUE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e880 d22137e179 ">
                                    <p><code class="codeph">OPAQUE</code> types
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e894" headers="d22137e173 ">
                                    <p>Custom object classes implementing <code class="codeph">oracle.sql.ORAData</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e894 d22137e176 ">
                                    <p><code class="codeph">STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e894 d22137e179 ">
                                    <p>Object types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e907" headers="d22137e173 ">
                                    <p>Custom reference classes implementing <code class="codeph">oracle.sql.ORAData</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e907 d22137e176 ">
                                    <p><code class="codeph">REF</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e907 d22137e179 ">
                                    <p>Reference types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e920" headers="d22137e173 ">
                                    <p>Custom collection classes implementing <code class="codeph">oracle.sql.ORAData</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e920 d22137e176 ">
                                    <p><code class="codeph">ARRAY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e920 d22137e179 ">
                                    <p>Collection types</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e933" headers="d22137e173 ">
                                    <p>Custom classes implementing <code class="codeph">oracle.sql.ORAData</code> for <code class="codeph">OPAQUE</code> types (for example, <code class="codeph">oracle.xdb.XMLType</code>)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e933 d22137e176 ">
                                    <p><code class="codeph">OPAQUE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e933 d22137e179 ">
                                    <p><code class="codeph">OPAQUE</code> types
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e955" headers="d22137e173 ">
                                    <p>Other custom Java classes implementing <code class="codeph">oracle.sql.ORAData</code> (to wrap any <code class="codeph">oracle.sql</code> type)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e955 d22137e176 ">
                                    <p>Any</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e955 d22137e179 ">
                                    <p>Any</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e972" headers="d22137e173 ">
                                    <p>SQLJ object Java types (can implement either <code class="codeph">SQLData</code> or <code class="codeph">ORAData</code>)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e972 d22137e176 ">
                                    <p><code class="codeph">JAVA_STRUCT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e972 d22137e179 ">
                                    <p>SQLJ object SQL types (<code class="codeph">JAVA_STRUCT</code> behind the scenes; automatic conversion to an appropriate Java class)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e992" headers="d22137e173 ">
                                    <p><span class="bold">JAVA TYPES FOR PL/SQL TYPES</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e992 d22137e176 ">
                                    <p>&nbsp;</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e992 d22137e179 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1003" headers="d22137e173 ">
                                    <p>Scalar indexed-by table represented by a Java numeric array or an array of <code class="codeph">String</code>, <code class="codeph">oracle.sql.CHAR</code>, or <code class="codeph">oracle.sql.NUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1003 d22137e176 ">
                                    <p>NA</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1003 d22137e179 ">
                                    <p>NA</p>
                                    <p><span class="bold">Note</span>: There is a <code class="codeph">PLSQL_INDEX_TABLE</code> type, but it does not appear to be used externally.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1028" headers="d22137e173 ">
                                    <p><span class="bold">GLOBALIZATION SUPPORT</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1028 d22137e176 ">
                                    <p>&nbsp;</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1028 d22137e179 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1039" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.NCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1039 d22137e176 ">
                                    <p><code class="codeph">CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1039 d22137e179 ">
                                    <p><code class="codeph">CHAR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1052" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.NString</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1052 d22137e176 ">
                                    <p><code class="codeph">CHAR</code> <code class="codeph">VARCHAR</code> <code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1052 d22137e179 ">
                                    <p><code class="codeph">CHAR</code> <code class="codeph">VARCHAR2</code> <code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1081" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sql.NCLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1081 d22137e176 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1081 d22137e179 ">
                                    <p><code class="codeph">CLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1094" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sqlj.runtime.NcharCharacterStream</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1094 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1094 d22137e179 ">
                                    <p><code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1107" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sqlj.runtime. NcharAsciiStream</code> (Deprecated; use <code class="codeph">NcharCharacterStream</code>.)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1107 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1107 d22137e179 ">
                                    <p><code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1126" headers="d22137e173 ">
                                    <p><code class="codeph">oracle.sqlj.runtime. NcharUnicodeStream</code> (Deprecated; use <code class="codeph">NcharCharacterStream</code>.)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1126 d22137e176 ">
                                    <p><code class="codeph">LONGVARCHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1126 d22137e179 ">
                                    <p><code class="codeph">LONG</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1145" headers="d22137e173 ">
                                    <p><span class="bold">QUERY RESULT OBJECTS</span></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1145 d22137e176 ">
                                    <p>&nbsp;</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1145 d22137e179 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1157" headers="d22137e173 ">
                                    <p><code class="codeph">java.sql.ResultSet</code></p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1157 d22137e176 ">
                                    <p><code class="codeph">CURSOR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1157 d22137e179 ">
                                    <p><code class="codeph">CURSOR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d22137e1170" headers="d22137e173 ">
                                    <p>SQLJ iterator objects</p>
                                 </td>
                                 <td align="left" valign="top" width="28%" headers="d22137e1170 d22137e176 ">
                                    <p><code class="codeph">CURSOR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d22137e1170 d22137e179 ">
                                    <p><code class="codeph">CURSOR</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-19F5C974-DED5-4571-9BCA-E09F56B45635">
                        <p class="notep1">See Also:</p>
                        <p><a href="../jjdbc/JDBC-standards-support.html#JJDBC-GUID-8475E348-352E-4C1E-B2F2-49EAFF0E2DAE" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for more information about Oracle type support.
                        </p>
                     </div>
                     <p>The following points relate to type support for standard features:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>JDBC and SQLJ do not support Java <code class="codeph">char</code> and <code class="codeph">Character</code> types. Instead, use the Java <code class="codeph">String</code> type to represent character data.
                           </p>
                        </li>
                        <li>
                           <p>Do not confuse the supported <code class="codeph">java.sql.Date</code> type with <code class="codeph">java.util.Date</code>, which is not directly supported. The <code class="codeph">java.sql.Date</code> class is a wrapper for <code class="codeph">java.util.Date</code> that enables JDBC to identify the data as a SQL <code class="codeph">DATE</code> and adds formatting and parsing operations to support JDBC escape syntax for date values.
                           </p>
                        </li>
                        <li>
                           <p>Remember that all numeric types in Oracle Database 12<span class="italic">c </span>Release 2 (12.2) are stored as <code class="codeph">NUMBER</code>. Although you can specify additional precision when you declare a <code class="codeph">NUMBER</code> during table creation, this precision may be lost when retrieving the data through Oracle JDBC drivers, depending on the Java type that you use to receive the data. An <code class="codeph">oracle.sql.NUMBER</code> instance would preserve full information.
                           </p>
                        </li>
                        <li>
                           <p>The Java wrapper classes, such as <code class="codeph">Integer</code> and <code class="codeph">Float</code>, are useful in cases where <code class="codeph">NULL</code> may be returned by the SQL statement. Primitive types, such as <code class="codeph">int</code> and <code class="codeph">float</code>, cannot contain null values.
                           </p>
                           <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-FDC6C177-E921-46EC-B927-0622C85D57D7">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="key-programming-considerations.html#GUID-EA345D88-D2AE-4118-986A-472764A6E1A4">NULL-Handling</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>The SQLJ stream classes are required in using streams as host variables.</p>
                           <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-218EFFC1-59DA-4A7E-9F4E-C88A7D251DE9">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="type-support.html#GUID-5C678045-D184-41AB-B339-9E1E12FE4D46">Support for Streams</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>Weak types cannot be used for <code class="codeph">OUT</code> or <code class="codeph">INOUT</code> parameters. This applies to the <code class="codeph">Struct</code>, <code class="codeph">Ref</code>, and <code class="codeph">Array</code> standard JDBC 2.0 types, as well as to corresponding Oracle extended types.
                           </p>
                        </li>
                        <li>
                           <p>A new set of interfaces, in the <code class="codeph">oracle.jdbc</code> package, was first added in the Oracle9<span class="italic">i</span> JDBC implementation in place of classes of the <code class="codeph">oracle.jdbc.driver</code> package. These interfaces provide a more generic way for users to access Oracle-specific features using Oracle JDBC drivers. Specifically, when creating programs for the middle tier, you should use the <code class="codeph">oracle.jdbc</code> application programming interface (API). However, SQLJ programmers will not typically use these interfaces directly. They are used transparently by the SQLJ run time or in Oracle-specific generated code.
                           </p>
                           <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-738EC984-6648-4C67-A5F4-6C9AB61C016E">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="objects-collections-and-OPAQUE-types.html#GUID-B1819CB7-8F69-4B34-BF26-CABFA465F17F">Custom Java Class Interface Specifications</a>"</span></p>
                           </div>
                        </li>
                        <li>
                           <p>For information about SQLJ support for result set and iterator host variables, refer to <span class="q">"<a href="basic-language-features.html#GUID-D3CC3825-1F5D-45AF-9E96-5848B98B7D21">Using Iterators and Result Sets as Host Variables</a>"</span><a href="basic-language-features.html#GUID-F45F4FF0-6D2A-455D-A8A0-0BC3770845B2">Using Iterators and Result Sets as Stored Function Returns</a>.
                           </p>
                        </li>
                     </ul>
                     <p>The following points relate to Oracle extensions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The Oracle SQLJ implementation requires any class that implements <code class="codeph">oracle.sql.ORAData</code> to set the static<code class="codeph"> _SQL_TYPECODE</code> parameter according to values defined in the <code class="codeph">OracleTypes</code> class. In some cases, an additional parameter must be set as well, such as<code class="codeph"> _SQL_NAME</code> for objects and<code class="codeph"> _SQL_BASETYPE</code> for object references.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">oracle.sql</code> classes are wrappers for SQL data for each of the Oracle data types. The <code class="codeph">ARRAY</code>, <code class="codeph">STRUCT</code>, <code class="codeph">REF</code>, <code class="codeph">BLOB</code>, and <code class="codeph">CLOB</code> classes correspond to standard JDBC 2.0 interfaces.
                           </p>
                           <div class="infoboxnotealso" id="GUID-291119E7-0C44-4324-B373-6154D5418CDF__GUID-AEF2BA26-192F-4B3F-8DA7-30F959E6314A">
                              <p class="notep1">See Also:</p>
                              <p><a href="../jjdbc/Oracle-extensions.html#JJDBC-GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a> for information about these classes and Oracle extensions
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Custom Java classes can map to Oracle objects, which implement <code class="codeph">ORAData</code> or <code class="codeph">SQLData</code>, references, which implement <code class="codeph">ORAData</code> only, collections, which implement <code class="codeph">ORAData</code> only, <code class="codeph">OPAQUE</code> types, which implement <code class="codeph">ORAData</code> only, or other SQL types for customized handling, which implement <code class="codeph">ORAData</code> only.
                           </p>
                        </li>
                        <li>
                           <p>The Oracle SQLJ implementation has functionality for automatic blank padding when comparing a string to a <code class="codeph">CHAR</code> column value for a <code class="codeph">WHERE</code> clause. Otherwise the string would have to be padded to match the number of characters in the database column. This is available as a SQLJ translator option for Oracle-specific code generation, or as an Oracle customizer option for ISO standard code generation.
                           </p>
                        </li>
                        <li>
                           <p>Weak types cannot be used for <code class="codeph">OUT</code> or <code class="codeph">INOUT</code> parameters. This applies to the <code class="codeph">STRUCT</code>, <code class="codeph">REF</code>, and <code class="codeph">ARRAY</code> Oracle extended types and corresponding standard JDBC 2.0 types, as well as to Oracle <code class="codeph">OPAQUE</code> types.
                           </p>
                        </li>
                        <li>
                           <p>Using any of the Oracle extensions requires the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle JDBC driver</p>
                              </li>
                              <li>
                                 <p>Oracle-specific code generation or Oracle customization during translation</p>
                              </li>
                              <li>
                                 <p>Oracle SQLJ run time when your application runs</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="JSQLJ353"></a><a id="JSQLJ352"></a><div class="props_rev_3"><a id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D" name="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D"></a><h4 id="JSQLJ-GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D" class="sect4">Supported Types and Requirements for JDBC 2.0</h4>
                  <div>
                     <p>As indicated in <a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="Summary">Table 6-1</a>, the Oracle JDBC and SQLJ implementations support JDBC 2.0 types in the standard <code class="codeph">java.sql</code> package. This section lists JDBC 2.0 supported types and related Oracle extensions.
                     </p>
                     <p><a href="type-support.html#GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__BCEDBCDJ" title="summary">Table 6-2</a> lists the JDBC 2.0 types supported by the Oracle SQLJ implementation. You can use them wherever you can use the corresponding Oracle extensions, summarized in the table.
                     </p>
                     <p>The Oracle extensions have been available in prior releases and are still available as well. These <code class="codeph">oracle.sql.*</code> classes provide functionality to wrap raw SQL data.
                     </p>
                     <div class="infoboxnotealso" id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__GUID-0B03A7CB-3A4F-4CC9-AF3C-C1C245C595A5">
                        <p class="notep1">See Also:</p>
                        <p><a href="../jjdbc/Oracle-extensions.html#JJDBC-GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a></p>
                     </div>
                     <div class="tblformal" id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__BCEDBCDJ">
                        <p class="titleintable">Table 6-2 Correlation between Oracle Extensions and JDBC 2.0 Types </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Correlation between Oracle Extensions and JDBC 2.0 Types " summary="summary" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="27%" id="d22137e1512">JDBC 2.0 Type</th>
                                 <th align="left" valign="bottom" width="73%" id="d22137e1515">Oracle Extension</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1520" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql.Blob</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1520 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql.BLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1529" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql.Clob</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1529 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql.CLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1538" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql.Struct</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1538 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql.STRUCT</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1547" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql.Ref</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1547 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql.REF</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1556" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql.Array</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1556 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql.ARRAY</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1565" headers="d22137e1512 ">
                                    <p><code class="codeph">java.sql.SQLData</code></p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1565 d22137e1515 ">
                                    <p>NA</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="27%" id="d22137e1573" headers="d22137e1512 ">
                                    <p>NA</p>
                                 </td>
                                 <td align="left" valign="top" width="73%" headers="d22137e1573 d22137e1515 ">
                                    <p><code class="codeph">oracle.sql.ORAData (_SQL_TYPECODE = OracleTypes.STRUCT)</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><code class="codeph">ORAData</code> functionality is an Oracle-specific alternative to standard <code class="codeph">SQLData</code> functionality for Java support of user-defined types.
                     </p>
                     <div class="infoboxnotealso" id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__GUID-A9837D9E-EDBC-4992-9D94-0DD838E5EB1C">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="objects-collections-and-OPAQUE-types.html#GUID-7B1AEDD4-C53B-47C9-973E-DD23EAA7608E">Custom Java Classes</a>"</span>, <span class="q">"<a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A">Support for BLOB_ CLOB_ and BFILE</a>"</span>, and <span class="q">"<a href="objects-collections-and-OPAQUE-types.html#GUID-D7354A29-368B-4DB4-A7A5-49C0C0905006">Support for Weakly Typed Objects_ References_ and Collections</a>"</span></p>
                     </div>
                     <p>The following JDBC 2.0 types are currently <span class="italic">not</span> supported in the Oracle JDBC and SQLJ implementations:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">JAVA_OBJECT</code>: Represents an instance of a Java type in a SQL column.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DISTINCT</code>: A distinct SQL type represented in or retrievable from a basic SQL type. For example, <code class="codeph">SHOESIZE</code> --&gt; <code class="codeph">NUMBER</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-7D9C77A3-7F3A-40FA-AF8B-BB4542D3F65D__GUID-328052ED-FA3B-46BD-8549-96FAEC6FA3CC">
                        <p class="notep1">Note:</p>
                        <p>Begin<a id="d22137e1630" class="indexterm-anchor"></a><a id="d22137e1634" class="indexterm-anchor"></a>ning with Oracle Database 11<span class="italic">g</span>, the Oracle SQLJ implementation supports the ISO SQLJ feature of allowing array types for iterator columns. You can declare an iterator that uses <code class="codeph">java.sql.Array</code> or <code class="codeph">oracle.sql.ARRAY</code> columns. For example, suppose the following database table is defined:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TYPE arr_type IS VARRAY(20) OF NUMBER;
CREATE TABLE arr_type (arr_col1 arr_type, arr_col2
                       arr_type);</pre><p>You could define a corresponding iterator type as follows:</p><pre class="oac_no_warn" dir="ltr">#sql static iterator MyIter (oracle.sql.ARRAY arr_col1,
                             java.sql.Array arr_col2);</pre></div>
                  </div>
               </div><a id="JSQLJ355"></a><a id="JSQLJ356"></a><a id="JSQLJ354"></a><div class="props_rev_3"><a id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052" name="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052"></a><h4 id="JSQLJ-GUID-C4E5120C-58A2-4540-9398-58D01DEE9052" class="sect4">Using PL/SQL BOOLEAN, RECORD Types, and TABLE Types</h4>
                  <div>
                     <div class="section">
                        <p>The Oracle SQLJ and JDBC implementations do not support calling arguments or return values of the PL/SQL <code class="codeph">BOOLEAN</code> type or RECORD types.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052__GUID-D7ADEBEA-3B4D-4C37-8649-C75C0251AF41">Support for TABLE Types</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Oracle JDBC drivers support scalar PL/SQL indexed-by tables.</p>
                        <div class="infoboxnotealso" id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052__GUID-1C408ED2-E0E1-4D36-BE67-7B3115D78AE0">
                           <p class="notep1">See Also:</p>
                           <p><a href="../jjdbc/JDBC-reference-information.html#JJDBC-GUID-9A3DFD72-E254-4BC6-B533-A6B7A9EDFBEE" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a></p>
                        </div>
                        <p>The Oracle SQLJ implementation simplifies the process of writing and retrieving data in scalar indexed-by tables. The following array types are supported:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Numeric types: <code class="codeph">int[]</code>, <code class="codeph">long[]</code>, <code class="codeph">float[]</code>, <code class="codeph">double[]</code>, <code class="codeph">short[]</code>, <code class="codeph">java.math.BigDecimal[]</code>, <code class="codeph">oracle.sql.NUMBER[]</code></p>
                           </li>
                           <li>
                              <p>Character types: <code class="codeph">java.lang.String[]</code>, <code class="codeph">oracle.sql.CHAR[]</code></p>
                           </li>
                        </ul>
                        <p>The following is an example of writing indexed-by table data to the database:</p><pre class="oac_no_warn" dir="ltr">int[] vals = {1,2,3};
#sql { call procin(:vals) };
</pre><p>The following is an example of retrieving indexed-by table data from the database:</p><pre class="oac_no_warn" dir="ltr">oracle.sql.CHAR[] outvals;
#sql { call procout(:OUT outvals/*[111](22)*/) };
</pre><p>You must specify the maximum length of the output array being retrieved, using the <code class="codeph">[xxx]</code> syntax inside the <code class="codeph">/*...*/</code> syntax, as shown. Also, for character-like binds, you can optionally include the <code class="codeph">(xx)</code> syntax, as shown, to specify the maximum length of an array element in bytes.
                        </p>
                        <div class="infoboxnote" id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052__GUID-9F87B935-A34B-4A13-9B22-EBD8E5735EFE">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">oracle.sql.Datum</code> class is not supported directly. You must use an appropriate subclass, such as <code class="codeph">oracle.sql.CHAR</code> or <code class="codeph">oracle.sql.NUMBER</code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C4E5120C-58A2-4540-9398-58D01DEE9052__GUID-D5B6EAAE-0B38-473B-9F1F-48ED4F50147C">Workarounds for Unsupported Types</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>As a workaround for an unsupported type, you can create wrapper procedures that process the data using supported types. For example, to wrap a stored procedure that uses PL/SQL boolean values, you can create a stored procedure that takes a character or number from JDBC and passes it to the original procedure as <code class="codeph">BOOLEAN</code>, or for an output parameter, accepts a <code class="codeph">BOOLEAN</code> argument from the original procedure and passes it as a <code class="codeph">CHAR</code> or <code class="codeph">NUMBER</code> to JDBC. Similarly, to wrap a stored procedure that uses PL/SQL records, you can create a stored procedure that handles a record in its individual components, such as <code class="codeph">CHAR</code> and <code class="codeph">NUMBER</code>. To wrap a stored procedure that uses PL/SQL TABLE types, you can break the data into components or perhaps use Oracle collection types.
                        </p>
                        <p>The following is an example of a PL/SQL wrapper procedure <code class="codeph">MY_PROC</code> for a stored procedure <code class="codeph">PROC</code> that takes a <code class="codeph">BOOLEAN</code> as input:
                        </p><pre class="oac_no_warn" dir="ltr">PROCEDURE MY_PROC (n NUMBER) IS
BEGIN
   IF n=0
      THEN proc(false);
      ELSE proc(true);
   END IF;
END;

PROCEDURE PROC (b BOOLEAN) IS
BEGIN
...
END;
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ358"></a><a id="JSQLJ357"></a><div class="props_rev_3"><a id="GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2" name="GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2"></a><h4 id="JSQLJ-GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2" class="sect4">Backward Compatibility for Previous Oracle JDBC Releases</h4>
                  <div>
                     <p>This section summarizes backward compatibility issues when using the Oracle SQLJ implementation with earlier Oracle JDBC releases.</p>
                     <p>In Oracle Database 11<span class="italic">g </span>release 1 (11.1), SQLJ fully supports applications developed in Oracle9<span class="italic">i</span> Database and Oracle Database 10<span class="italic">g </span>release 1 (10.1). However, in Oracle Database 11<span class="italic">g </span>release 1 (11.1), JDBC resources are no longer closed by the SQLJ run time resource finalizers. Therefore, some applications developed prior to Oracle Database 11<span class="italic">g </span>release 1 (11.1) may observe JDBC connection and statement leaking. To prevent such leaking, you must properly close all the SQLJ run-time resources, such as connection context, execution context, and iterator, in your SQLJ applications.
                     </p>
                     <div class="infoboxnote" id="GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2__GUID-ECCD16D3-4B86-4C1E-92DB-49E2AB381B90">
                        <p class="notep1">Note:</p>
                        <p>Oracle9<span class="italic">i</span> release 2 first added support for OPAQUE types and TIMESTAMP types.
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-99886D7F-B3AA-402D-9B76-5BDDA88F1AC2__GUID-4CB0A89F-1AE1-4100-BCEA-E37D63CD1BC1">Backward Compatibility for Oracle8<span class="italic">i</span> Database
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following Oracle Database 11<span class="italic">g</span> features, which are also available in Oracle9<span class="italic">i</span> Database, are not supported or supported differently in the Oracle8<span class="italic">i</span> JDBC drivers:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">oracle.sql.ORAData</code> and <code class="codeph">ORADataFactory</code> interfaces for Java mapping of user-defined SQL types
                              </p>
                              <p>Use the <code class="codeph">oracle.sql.CustomDatum</code> and <code class="codeph">CustomDatumFactory</code> interfaces instead.
                              </p>
                           </li>
                           <li>
                              <p>Oracle extensions for character types for globalization support: <code class="codeph">NCHAR</code>, <code class="codeph">NCLOB</code>, <code class="codeph">NString</code>, and <code class="codeph">NcharCharacterStream</code> (or <code class="codeph">NcharAsciiStream</code> and <code class="codeph">NcharUnicodeStream</code> in earlier releases)
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JSQLJ359"></a><div class="props_rev_3"><a id="GUID-5C678045-D184-41AB-B339-9E1E12FE4D46" name="GUID-5C678045-D184-41AB-B339-9E1E12FE4D46"></a><h3 id="JSQLJ-GUID-5C678045-D184-41AB-B339-9E1E12FE4D46" class="sect3">Support for Streams</h3>
               <div>
                  <div class="section">
                     <p>Standard SQLJ provides the following specialized classes for convenient processing of long data in streams:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">sqlj.runtime.BinaryStream</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">sqlj.runtime.CharacterStream</code></p>
                        </li>
                     </ul>
                     <p>These stream types can be used for iterator columns to retrieve data from the database or for input host variables to send data to the database. As with Java streams in general, these classes allow the convenience of processing and transferring large data items in manageable chunks.</p>
                     <p>This section discusses general use of these classes, Oracle SQLJ extended functionality, and stream class methods. It covers the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="type-support.html#GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A">General Use of SQLJ Streams</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96">Key Aspects of Stream Support Classes</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B">Using SQLJ Streams to Send Data</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7">Retrieving Data into Streams: Precautions</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE">Using SQLJ Streams to Retrieve Data</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-80703741-F468-4555-9AF4-752C3BF07E76">Stream Class Methods</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-D050D2F7-8020-40EA-A175-8FE2038FED12">Examples of Retrieving and Processing Stream Data</a></p>
                        </li>
                        <li>
                           <p><a href="type-support.html#GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75">SQLJ Stream Objects as Output Parameters and Function Return Values</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-5C678045-D184-41AB-B339-9E1E12FE4D46__GUID-CAE72888-7AEA-439A-B4B6-6B66C36515D9">
                        <p class="notep1">Note:</p>
                        <p>Starting from JDBC 2.0, the <code class="codeph">CharacterStream</code> class replaces the <code class="codeph">AsciiStream</code> and <code class="codeph">UnicodeStream</code> classes. <code class="codeph">CharacterStream</code> shelters users from unnecessary logistics regarding encoding.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="JSQLJ360"></a><div class="props_rev_3"><a id="GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A" name="GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A"></a><h4 id="JSQLJ-GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A" class="sect4">General Use of SQLJ Streams</h4>
                  <div>
                     <p><a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="Summary">Table 6-1</a> lists the data types you would typically process using these stream classes. To summarize:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">BinaryStream</code> is typically used for <code class="codeph">LONG RAW</code> (<code class="codeph">Types.LONGVARBINARY</code>), but might also be used for <code class="codeph">RAW</code> (<code class="codeph">Types.BINARY</code> or <code class="codeph">Types.VARBINARY</code>).
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CharacterStream</code> is typically used for <code class="codeph">LONG</code> (<code class="codeph">java.sql.Types.LONGVARCHAR</code>), but might also be used for <code class="codeph">VARCHAR2</code> (<code class="codeph">Types.VARCHAR</code>).
                           </p>
                        </li>
                     </ul>
                     <p>Of course, any use of streams is at your discretion. You can use the SQLJ stream types for host variables to either send or retrieve data.</p>
                     <p>As <a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="Summary">Table 6-1</a> documents, <code class="codeph">LONG</code> and <code class="codeph">VARCHAR2</code> data can also be manifested in Java <code class="codeph">String</code>, while <code class="codeph">RAW</code> and <code class="codeph">LONGRAW</code> data can also be manifested in Java <code class="codeph">byte[]</code> arrays. Also, if your database supports large object types, such as <code class="codeph">BLOB</code> and <code class="codeph">CLOB</code>, then you may find these to be preferable to types like <code class="codeph">LONG</code> and <code class="codeph">LONG RAW</code>, although streams might still be used in extracting data from large objects. The Oracle SQLJ and JDBC implementations support large object types.
                     </p>
                     <div class="infoboxnotealso" id="GUID-C2A27BA4-2051-4C2D-B7C1-3B8D7CE7C46A__GUID-52F6D69D-9351-4C82-8D56-947C1BCF0DF6">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A">Support for BLOB_ CLOB_ and BFILE</a>"</span></p>
                     </div>
                     <p>Both SQLJ stream classes are subclasses of standard Java classes, <code class="codeph">java.io.InputStream</code> for <code class="codeph">BinaryStream</code> and <code class="codeph">java.io.Reader</code> for <code class="codeph">CharacterStream</code>, and act as wrappers to provide the functionality required by SQLJ. This functionality is to communicate to SQLJ the type and length of the underlying data so that it can be processed and formatted properly.
                     </p>
                  </div>
               </div><a id="JSQLJ361"></a><div class="props_rev_3"><a id="GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96" name="GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96"></a><h4 id="JSQLJ-GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96" class="sect4">Key Aspects of Stream Support Classes</h4>
                  <div>
                     <p>The following abbreviated code illustrates key aspects of the <code class="codeph">BinaryStream</code> class, such as what it extends, constructor signatures, and key method signatures:
                     </p><pre class="oac_no_warn" dir="ltr">public class sqlj.runtime.BinaryStream extends sqlj.runtime.StreamWrapper
{   public sqlj.runtime.BinaryStream(java.io.InputStream);
    public sqlj.runtime.BinaryStream(java.io.InputStream,int);
    public java.io.InputStream getInputStream();
    public int getLength();
    public void setLength(int);
}
</pre><p>The following abbreviated code illustrates key aspects of the <code class="codeph">CharacterStream</code> class:
                     </p><pre class="oac_no_warn" dir="ltr">public class sqlj.runtime.CharacterStream extends java.io.FilterReader
{   public sqlj.runtime.CharacterStream(java.io.Reader);
    public sqlj.runtime.CharacterStream(java.io.Reader,int);
    public int getLength();
    public java.io.Reader getReader();
    public void setLength(int);
}
</pre><div class="infoboxnote" id="GUID-688197C3-FFD7-4EE9-8A8B-4A174EBF2D96__GUID-1E35390A-85CC-4E01-8AA8-E243055EDC45">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">int</code> parameters in the constructors are for data length, in bytes or characters as applicable.
                              </p>
                           </li>
                           <li>
                              <p>For any method that takes a <code class="codeph">java.io.InputStream</code> object as input, you can use a <code class="codeph">BinaryStream</code> object instead. Similarly, for any method that takes a <code class="codeph">java.io.Reader</code> object as input, you can use a <code class="codeph">CharacterStream</code> object instead.
                              </p>
                           </li>
                           <li>
                              <p>The deprecated <code class="codeph">AsciiStream</code> and <code class="codeph">UnicodeStream</code> classes have the same key aspects and signatures as <code class="codeph">BinaryStream</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JSQLJ363"></a><a id="JSQLJ364"></a><a id="JSQLJ362"></a><div class="props_rev_3"><a id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B" name="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B"></a><h4 id="JSQLJ-GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B" class="sect4">Using SQLJ Streams to Send Data</h4>
                  <div>
                     <div class="section">
                        <p>Standard SQLJ enables you to use streams as host variables to update the database. A key point in sending a SQLJ stream to the database is that you must somehow determine the length of the data and specify that length to the constructor of the SQLJ stream.</p>
                        <p>You can use a SQLJ stream to send data to the database as follows:</p>
                        <ol>
                           <li>
                              <p>Determine the length of the data.</p>
                           </li>
                           <li>
                              <p>Create an appropriate standard Java data object for input. For <code class="codeph">BinaryStream</code>, this would be an input stream, an instance of <code class="codeph">java.io.InputStream</code> or some subclass. For <code class="codeph">CharacterStream</code>, this would be a reader object, an instance of <code class="codeph">java.io.Reader</code> or some subclass.
                              </p>
                           </li>
                           <li>
                              <p>Create an instance of the appropriate SQLJ stream class depending on the type of data, passing the data object and length to the constructor.</p>
                           </li>
                           <li>
                              <p>Use the SQLJ stream instance as a host variable in a suitable SQL operation in a SQLJ executable statement.</p>
                           </li>
                           <li>
                              <p>Close the stream.</p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-01621CF9-FF36-4889-AF2E-9739E47EEE45">
                           <p class="notep1">Note:</p>
                           <p>Although not required, it is recommended that you close the stream after using it.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-331DBD61-6053-4166-AC48-F597C8BBFBE5">Updating LONG or LONG RAW from a File</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This section illustrates how to create a <code class="codeph">CharacterStream</code> object or a <code class="codeph">BinaryStream</code> object from a <code class="codeph">File</code> object and use it to update the database. The code example at the end uses a <code class="codeph">CharacterStream</code> for a <code class="codeph">LONG</code> column.
                        </p>
                        <p>In updating a database column from a file, a step is needed to determine the length. You can do this by creating a <code class="codeph">java.io.File</code> object before you create your input stream.
                        </p>
                        <p>Following are the steps for updating the database from a file:</p>
                        <ol>
                           <li>
                              <p>Create a <code class="codeph">java.io.File</code> object from your file. You can specify the file path name to the <code class="codeph">File</code> class constructor.
                              </p>
                           </li>
                           <li>
                              <p>Use the <code class="codeph">length()</code> method of the <code class="codeph">File</code> object to determine the length of the data. This method returns a <code class="codeph">long</code> value, which you must cast to an <code class="codeph">int</code> for input to the SQLJ stream class constructor. 
                              </p>
                              <div class="infoboxnote" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-E6419F2E-5FA1-4385-A112-26208E168404">
                                 <p class="notep1">Note:</p>
                                 <p>Before performing this cast, test the <code class="codeph">long</code> value to ensure that it is not too big to fit into an <code class="codeph">int</code> variable. The static constant <code class="codeph">MAX_VALUE</code> in the class <code class="codeph">java.lang.Integer</code> indicates the largest possible Java <code class="codeph">int</code> value.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>For character data, create a <code class="codeph">java.io.FileReader</code> object from the <code class="codeph">File</code> object. You can pass the <code class="codeph">File</code> object to the <code class="codeph">FileReader</code> constructor.
                              </p>
                              <p>For binary data, create a <code class="codeph">java.io.FileInputStream</code> object from the <code class="codeph">File</code> object. You can pass the <code class="codeph">File</code> object to the <code class="codeph">FileInputStream</code> constructor.
                              </p>
                           </li>
                           <li>
                              <p>Create an appropriate SQLJ stream object. This would be a <code class="codeph">CharacterStream</code> object for a character file or a <code class="codeph">BinaryStream</code> object for a binary file. Pass the <code class="codeph">FileReader</code> or <code class="codeph">FileInputStream</code> object, as applicable, and the data length as an <code class="codeph">int</code> to the SQLJ stream class constructor.
                              </p>
                           </li>
                           <li>
                              <p>Use the SQLJ stream object as a host variable in an appropriate SQL operation in a SQLJ executable statement.</p>
                           </li>
                        </ol>
                        <p>The following is an example of writing <code class="codeph">LONG</code> data to the database from a file. Presume you have an HTML file in <code class="codeph">/private/mydir/myfile.html</code> and want to insert the file contents into a <code class="codeph">LONG</code> column, <code class="codeph">chardata</code>, in the <code class="codeph">filetable</code> database table.
                        </p><pre class="oac_no_warn" dir="ltr">import java.io.*;
import sqlj.runtime.*;

...
File myfile = new File ("/private/mydir/myfile.html");
int length = (int)myfile.length();     // Must cast long output to int.
FileReader filereader = new FileReader(myfile);
CharacterStream charstream = new CharacterStream(filereader, length);
#sql { INSERT INTO filetable (chardata) VALUES (:charstream) };
charstream.close();
...
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-3CE71012-2DA1-4997-965B-931E951D7453">Updating LONG RAW from a Byte Array</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This section illustrates how to create a <code class="codeph">BinaryStream</code> object from a byte array and uses it to update the database.
                        </p>
                        <p>You must determine the length of the data before updating the database from a byte array. This is more trivial for arrays than for files, though, because all Java arrays have functionality to return the length.</p>
                        <p>Following are the steps in updating the database from a byte array:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Use the <code class="codeph">length</code> functionality of the array to determine the length of the data. This returns an <code class="codeph">int</code>, which is what you will need for the constructor of any of the SQLJ stream classes.</span></li>
                        <li class="stepexpand"><span>Create a <code class="codeph">java.io.ByteArrayInputStream</code> object from your array. You can pass the byte array to the <code class="codeph">ByteArrayInputStream</code> constructor.</span></li>
                        <li class="stepexpand"><span>Create a <code class="codeph">BinaryStream</code> object. Pass the <code class="codeph">ByteArrayInputStream</code> object and data length as an <code class="codeph">int</code> to the <code class="codeph">BinaryStream</code> class constructor.</span><div>
                              <p>The constructor signature is as follows:</p><pre class="oac_no_warn" dir="ltr">BinaryStream (InputStream in, int length)
</pre><p>You can use an instance of <code class="codeph">java.io.InputStream</code> or of any subclass, such as the <code class="codeph">ByteArrayInputStream</code> class.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Use the SQLJ stream object as a host variable in an appropriate SQL operation in a SQLJ executable statement.</span></li>
                     </ol>
                     <div class="section">
                        <p>The following is an example of writing <code class="codeph">LONG RAW</code> data to the database from a byte array. Presume you have a byte array, <code class="codeph">bytearray[]</code>, and you want to insert its contents into a <code class="codeph">LONG RAW</code> column, <code class="codeph">BINDATA</code>, in the <code class="codeph">BINTABLE</code> database table.
                        </p><pre class="oac_no_warn" dir="ltr">import java.io.*;
import sqlj.runtime.*;

...
byte[] bytearray = new byte[100];

(<span class="italic">Populate </span>bytearray<span class="italic"> somehow</span>.)
...
int length = bytearray.length;
ByteArrayInputStream arraystream = new ByteArrayInputStream(bytearray);
BinaryStream binstream = new BinaryStream(arraystream, length);
#sql { INSERT INTO bintable (bindata) VALUES (:binstream) };
binstream.close();
...
</pre><div class="infoboxnote" id="GUID-63BC1794-8E38-4D5D-9A7E-8C43E622789B__GUID-6282A32C-AF80-4C62-BE82-8B64433681C4">
                           <p class="notep1">Note:</p>
                           <p>It is not necessary to use a stream as in this example. Alternatively, you can update the database directly from a byte array.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ365"></a><div class="props_rev_3"><a id="GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7" name="GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7"></a><h4 id="JSQLJ-GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7" class="sect4">Retrieving Data into Streams: Precautions</h4>
                  <div>
                     <div class="section">
                        <p>You can also use the SQLJ stream classes to retrieve data, but the logistics of using streams make certain precautions necessary with some database products. When reading long data and writing it to a stream using Oracle Database 12<span class="italic">c </span>Release 2 (12.2) and an Oracle JDBC driver, you must be careful in how you access and process the stream data.
                        </p>
                        <p>As Oracle JDBC drivers access data from an iterator row, they must flush any stream item from the communications pipe before accessing the next data item. Even though the stream data is written to a local stream while the iterator row is processed, this stream data will be lost if you do not read it from the local stream before the JDBC driver accesses the next data item. This is because of the manner in which streams must be processed, which is due to their potentially large size and unknown length.</p>
                        <p>Therefore, as soon as your Oracle JDBC driver has accessed a stream item and written it to a local stream variable, you must read and process the local stream before anything else is accessed from the iterator.</p>
                        <p>This is especially problematic in using positional iterators, with their requisite <code class="codeph">FETCH INTO</code> syntax. With each fetch, all columns are read before any are processed. Therefore, there can be only one stream item and it must be the last item accessed.
                        </p>
                        <p>The precautions you must take can be summarized as follows:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When using a positional iterator, you can have only one stream column and it must be the last column. As soon as you have fetched each row of the iterator, writing the stream item to a local input stream variable in the process, you must read and process the local stream variable before advancing to the next row of the iterator.</p>
                           </li>
                           <li>
                              <p>When using a named iterator, you can have multiple stream columns. However, as you process each iterator row, each time you access a stream field, writing the data to a local stream variable in the process, you must read and process the local stream immediately, before reading anything else from the iterator.</p>
                              <p>Furthermore, in processing each row of a named iterator, you must call the column accessor methods in the same order in which the database columns were selected in the query that populated the iterator. As mentioned in the preceding discussion, this is because stream data remains in the communications pipe after the query. If you try to access columns out of order, then the stream data may be skipped over and lost in the course of accessing other columns.</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-73C5D0AF-01C6-4445-B2F9-B4D7E2AEF1E7__GUID-79ED5DB9-9539-44C3-82BD-791519CBD7B7">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Oracle Database 12<span class="italic">c </span>Release 2 (12.2) and Oracle JDBC drivers do not support use of streams in <code class="codeph">SELECT INTO</code> statements.
                                 </p>
                              </li>
                              <li>
                                 <p>Input streams, by default, do not support <code class="codeph">mark</code> and <code class="codeph">reset</code> methods. If you pass any arbitrary input stream to the constructor, then the <code class="codeph">reset</code> method of <code class="codeph">InputStream</code> class will throw an <code class="codeph">IOException</code>. So, always ensure that the input stream is in the proper state when passed to the <code class="codeph">NcharAsciiStream</code> constructor. For example, reset the stream before passing it to <code class="codeph">NcharAsciiStream</code> if the stream has no more data or if the stream is closed.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ367"></a><a id="JSQLJ368"></a><a id="JSQLJ366"></a><div class="props_rev_3"><a id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE" name="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE"></a><h4 id="JSQLJ-GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE" class="sect4">Using SQLJ Streams to Retrieve Data</h4>
                  <div>
                     <div class="section">
                        <p>To retrieve data as a stream, standard SQLJ enables you to select data into a named or positional iterator that has a column of the appropriate SQLJ stream type.</p>
                        <p>This section covers the basic steps in retrieving data into a SQLJ stream using a positional iterator or a named iterator, taking into account the precautions documented in the preceding section.</p>
                        <div class="infoboxnotealso" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-BC3FB9FC-1873-4D6A-92CE-DF9149AE00E4">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="type-support.html#GUID-80703741-F468-4555-9AF4-752C3BF07E76">Stream Class Methods</a>"</span> and <span class="q">"<a href="type-support.html#GUID-D050D2F7-8020-40EA-A175-8FE2038FED12">Examples of Retrieving and Processing Stream Data</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-FF3F6015-E808-4C40-955B-9D60F05AB89F">Using a SQLJ Stream Column in a Positional Iterator </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use the following steps to retrieve data into a SQLJ stream using a positional iterator:</p>
                        <ol>
                           <li>
                              <p>Declare a positional iterator class with the last column being of the appropriate SQLJ stream type.</p>
                           </li>
                           <li>
                              <p>Declare a local variable of your iterator type.</p>
                           </li>
                           <li>
                              <p>Declare a local variable of the appropriate SQLJ stream type. This will be used as a host variable to receive data from each row of the SQLJ stream column of the iterator. </p>
                           </li>
                           <li>
                              <p>Execute a query to populate the iterator you declared in Step 2.</p>
                           </li>
                           <li>
                              <p>Process the iterator as usual. Because the host variables in the <code class="codeph">INTO</code>-list of the <code class="codeph">FETCH INTO</code> statement must be in the same order as the columns of the positional iterator, the local input stream variable is the last host variable in the list.
                              </p>
                              <div class="infoboxnotealso" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-ECF79D64-86BD-4B50-BC24-70CA5B4BD943">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="basic-language-features.html#GUID-C99760AC-46A2-446C-8CA6-D032FC4C303D">Using Positional Iterators</a>"</span></p>
                              </div>
                           </li>
                           <li>
                              <p>In the iterator processing loop, after each iterator row is accessed, immediately read and process the local input stream, storing or printing the stream data as desired.</p>
                           </li>
                           <li>
                              <p>Close the local input stream each time through the iterator processing loop. </p>
                           </li>
                           <li>
                              <p>Close the iterator.</p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-3C5DAC09-29AB-4844-B3FF-A8040DD46DE9">
                           <p class="notep1">Note:</p>
                           <p>Although not required, it is recommended that you close the local input stream each time through the iterator processing loop.</p>
                        </div>
                        <p>&lt;&lt;&lt;[for 11g?] Use code examples. &gt;&gt;&gt;</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-D3BAEF42-98E3-4FB5-AD53-D1C0859FAEF8">Using SQLJ Stream Columns in a Named Iterator </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use the following steps to retrieve data into one or more SQLJ streams using a named iterator:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Declare a named iterator class with one or more columns of appropriate SQLJ stream type.</span></li>
                        <li class="stepexpand"><span>Declare a local variable of your iterator type.</span></li>
                        <li class="stepexpand"><span>Declare a local variable of some input stream or reader type for each SQLJ stream column in the iterator. These will be used to receive data from the stream-column accessor methods. These local stream variables need not be of the SQLJ stream types. They can be standard <code class="codeph">java.io.InputStream</code> or <code class="codeph">java.io.Reader</code>, as applicable.</span><div>
                              <div class="infoboxnote" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-D76771F0-13BF-41EF-864E-0F839005900B">
                                 <p class="notep1">Note:</p>
                                 <p>The local stream variables need not be of the SQLJ stream types, because the data was already correctly formatted as a result of the iterator columns being of appropriate SQLJ stream types.</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Execute a query to populate the iterator you declared in Step 2.</span></li>
                        <li class="stepexpand"><span>Process the iterator as usual. In processing each row of the iterator, as each stream-column accessor method returns the stream data, write it to the corresponding local input stream variable you declared in Step 3.</span><div>
                              <p>To ensure that stream data will not be lost, call the column accessor methods in the same order in which columns were selected in the query in Step 4.</p>
                              <div class="infoboxnotealso" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-4CCA8ADE-334B-4B70-96EB-4DE3C95B7FD1">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="basic-language-features.html#GUID-C99760AC-46A2-446C-8CA6-D032FC4C303D">Using Positional Iterators</a>"</span></p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the iterator processing loop, immediately after calling the accessor method for any stream column and writing the data to a local input stream variable, read and process the local input stream, storing or printing the stream data as desired.</span></li>
                        <li class="stepexpand"><span>Close the local input stream each time through the iterator processing loop.</span></li>
                        <li class="stepexpand"><span>Close the iterator.</span></li>
                     </ol>
                     <div class="section">
                        <p>&lt;&lt;&lt;[for 11g?] Use code examples. &gt;&gt;&gt;</p>
                        <div class="infoboxnote" id="GUID-E4C50F0D-0508-4B35-9BBA-BFCB28F3AADE__GUID-61C8F50C-4B39-4EF8-A6F9-AD0885D4D4A6">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When you populate a SQLJ stream object with data, the length attribute of the stream will not be meaningful. This attribute is meaningful only when you set it explicitly, either using the <code class="codeph">setLength()</code> method that each SQLJ stream class provides or specifying the length to the constructor.
                                 </p>
                              </li>
                              <li>
                                 <p>Although not required, it is recommended that you close the local input stream each time through the iterator processing loop.</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ370"></a><a id="JSQLJ371"></a><a id="JSQLJ369"></a><div class="props_rev_3"><a id="GUID-80703741-F468-4555-9AF4-752C3BF07E76" name="GUID-80703741-F468-4555-9AF4-752C3BF07E76"></a><h4 id="JSQLJ-GUID-80703741-F468-4555-9AF4-752C3BF07E76" class="sect4">Stream Class Methods</h4>
                  <div>
                     <p>In processing a SQLJ stream column in a named or positional iterator, the local stream variable used to receive the stream data can be either a SQLJ stream type or the standard <code class="codeph">java.io.InputStream</code> or <code class="codeph">java.io.Reader</code> type, as applicable. In either case, standard methods of the input data object are supported.
                     </p>
                     <p>If the local stream variable is a SQLJ stream type, <code class="codeph">BinaryStream</code> or <code class="codeph">CharacterStream</code>, you have the option of either reading data directly from the SQLJ stream object or retrieving the underlying <code class="codeph">InputStream</code> or <code class="codeph">Reader</code> object and reading data from that.
                     </p>
                     <div class="infoboxnote" id="GUID-80703741-F468-4555-9AF4-752C3BF07E76__GUID-E33A4392-BBC5-47AD-8DDC-68AA314B244D">
                        <p class="notep1">Note:</p>
                        <p>This is just a matter of preference. The former approach is simpler. However, the latter approach involves more direct and efficient data access.</p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-80703741-F468-4555-9AF4-752C3BF07E76__GUID-7081D267-FECC-41D5-B0E6-4BA4DAB27D67">Binary Stream Methods</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">BinaryStream</code> class is a subclass of the <code class="codeph">sqlj.runtime.StreamWrapper</code> class. The <code class="codeph">StreamWrapper</code> class provides the following key methods:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">InputStream getInputStream()</code>: You can optionally use this method to get the underlying <code class="codeph">java.io.InputStream</code> object. However, this is not required, because you can also process SQLJ stream objects directly.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">void setLength(int length)</code>: You can use this to set the <code class="codeph">length</code> attribute of a SQLJ stream object. This is not necessary if you have already set <code class="codeph">length</code> in constructing the stream object, unless you want to change it for some reason.
                              </p>
                              <p>The <code class="codeph">length</code> attribute must be set to an appropriate value before you send a SQLJ stream to the database.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">int getLength()</code>: This method returns the value of the <code class="codeph">length</code> attribute of a SQLJ stream. This value is meaningful only if you explicitly set it using the stream object constructor or the <code class="codeph">setLength()</code> method. When you retrieve data into a stream, the <code class="codeph">length</code> attribute is not set automatically.
                              </p>
                           </li>
                        </ul>
                        <p>The <code class="codeph">sqlj.runtime.StreamWrapper</code> class is a subclass of the <code class="codeph">java.io.FilterInputStream</code> class, which is a subclass of the <code class="codeph">java.io.InputStream</code> class. The following important methods of the <code class="codeph">InputStream</code> class are supported by the SQLJ <code class="codeph">BinaryStream</code> class as well:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">int read ()</code>: Reads the next byte of data from the input stream. The byte of data is returned as an <code class="codeph">int</code> value in the range 0 to 255. If the end of the stream has already been reached, then the value <code class="codeph">-1</code> is returned. This method blocks program execution until one of the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Input data is available</p>
                                 </li>
                                 <li>
                                    <p>The end of the stream is detected</p>
                                 </li>
                                 <li>
                                    <p>An exception is thrown</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">int read (byte b[])</code>: Reads up to <code class="codeph">b.length</code> bytes of data from the input stream, writing the data into the specified <code class="codeph">b[]</code> byte array. It returns an <code class="codeph">int</code> value indicating how many bytes were read, or <code class="codeph">-1</code> if the end of the stream has already been reached. This method blocks program execution until input is available.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">int read (byte b[], int off, int len)</code>: Reads up to <code class="codeph">len</code> bytes of data from the input stream, starting at the byte specified by the offset, <code class="codeph">off</code>, and writing the data into the specified <code class="codeph">b[]</code> byte array. It returns an <code class="codeph">int</code> value indicating how many bytes were read, or <code class="codeph">-1</code> if the end of the stream has already been reached. This method blocks until input is available.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">long skip (long n)</code>: Skips over and discards <code class="codeph">n</code> bytes of data from the input stream. However, in some circumstances, this method will actually skip a smaller number of bytes. It returns a <code class="codeph">long</code> value indicating the actual number of bytes skipped.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">void close()</code>: Closes the stream and releases any associated resources.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-80703741-F468-4555-9AF4-752C3BF07E76__GUID-430D1EC2-B5DE-4927-8C12-1393EA5327B8">Character Stream Methods</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">CharacterStream</code> class provides the following key methods:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">Reader getReader()</code>: You can optionally use this method to get the underlying <code class="codeph">java.io.Reader</code> object. However, this is not required, because you can also process SQLJ stream objects directly.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">void setLength(int length)</code>: You can use this method to set the length of the stream object.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">int getLength()</code>: You can use this method to get the length of the stream object.
                              </p>
                           </li>
                        </ul>
                        <p>The <code class="codeph">sqlj.runtime.CharacterStream</code> class is a subclass of the <code class="codeph">java.io.FilterReader</code> class, which is a subclass of the <code class="codeph">java.io.Reader</code> class. The following important methods of the <code class="codeph">Reader</code> class are supported by the SQLJ <code class="codeph">CharacterStream</code> class as well:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">int read ()</code>: Reads the next character of data from the reader. The data is returned as an <code class="codeph">int</code> value in the range 0 to 65535. If the end of the data has already been reached, then the value <code class="codeph">-1</code> is returned. This method blocks program execution until one of the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Input data is available</p>
                                 </li>
                                 <li>
                                    <p>The end of the data is detected</p>
                                 </li>
                                 <li>
                                    <p>An exception is thrown</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">int read (char cbuf[])</code>: Reads characters into an array, writing the data into the specified <code class="codeph">cbuf[]</code> char array. It returns an <code class="codeph">int</code> value indicating how many characters were read, or <code class="codeph">-1</code> if the end of the data has already been reached. This method blocks program execution until input is available.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">int read (char cbuf[], int off, int len)</code>: Reads up to <code class="codeph">len</code> characters of data from the input, starting at the character specified by the offset, <code class="codeph">off</code>, and writing the data into the specified <code class="codeph">char[]</code> char array. It returns an <code class="codeph">int</code> value indicating how many characters were read, or <code class="codeph">-1</code> if the end of the data has already been reached. This method blocks until input is available.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">long skip (long n)</code>: Skips over and discards <code class="codeph">n</code> characters of data from the input. However, in some circumstances, this method will actually skip a smaller number of characters. It returns a <code class="codeph">long</code> value indicating the actual number of characters skipped.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">void close()</code>: Closes the stream and releases any associated resources.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ373"></a><a id="JSQLJ374"></a><a id="JSQLJ372"></a><div class="props_rev_3"><a id="GUID-D050D2F7-8020-40EA-A175-8FE2038FED12" name="GUID-D050D2F7-8020-40EA-A175-8FE2038FED12"></a><h4 id="JSQLJ-GUID-D050D2F7-8020-40EA-A175-8FE2038FED12" class="sect4">Examples of Retrieving and Processing Stream Data</h4>
                  <div>
                     <p>This section provides examples of various scenarios of retrieving stream data, as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Using a <code class="codeph">SELECT</code> statement to select data from a <code class="codeph">LONG</code> column and populate a SQLJ <code class="codeph">CharacterStream</code> column in a named iterator, as shown in <a href="type-support.html#GUID-D050D2F7-8020-40EA-A175-8FE2038FED12__CHDBFGEJ">Example 6-1</a></p>
                        </li>
                        <li>
                           <p>Using a <code class="codeph">SELECT</code> statement to select data from a <code class="codeph">LONG RAW</code> column and populate a SQLJ <code class="codeph">BinaryStream</code> column in a positional iterator, as shown in <a href="type-support.html#GUID-D050D2F7-8020-40EA-A175-8FE2038FED12__CHDIBIFI">Example 6-2</a></p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-D050D2F7-8020-40EA-A175-8FE2038FED12__CHDBFGEJ">
                        <p class="titleinexample">Example 6-1 Selecting LONG Data into CharacterStream Column of Named Iterator</p>
                        <p>This example selects data from a <code class="codeph">LONG</code> database column, populating a SQLJ <code class="codeph">CharacterStream</code> column in a named iterator.
                        </p>
                        <p>Assume there is a table named <code class="codeph">FILETABLE</code> with a <code class="codeph">VARCHAR2</code> column called <code class="codeph">FILENAME</code> that contains file names and a <code class="codeph">LONG</code> column called <code class="codeph">FILECONTENTS</code> that contains file contents in character format. The code is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">import sqlj.runtime.*;
import java.io.*;
...
#sql iterator MyNamedIter (String filename, CharacterStream filecontents);

...
MyNamedIter namediter = null;
String fname;
CharacterStream charstream;
#sql namediter = { SELECT filename, filecontents FROM filetable };
while (namediter.next()) {
   fname = namediter.filename();
   charstream = namediter.filecontents();
   System.out.println("Contents for file " + fname + ":");
   printStream(charstream);
   charstream.close();
}

namediter.close();
...
public void printStream(Reader in) throws IOException
{
   int character;
   while ((character = in.read()) != -1) {
      System.out.print((char)character);
   }
}
</pre><p>Remember that you can pass a SQLJ character stream to any method that takes a standard <code class="codeph">java.io.Reader</code> as an input parameter.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D050D2F7-8020-40EA-A175-8FE2038FED12__CHDIBIFI">
                        <p class="titleinexample">Example 6-2 : Selecting LONG RAW Data into BinaryStream Column of Positional Iterator</p>
                        <p>This example selects data from a <code class="codeph">LONG RAW</code> column, populating a SQLJ <code class="codeph">BinaryStream</code> column in a positional iterator.
                        </p>
                        <p>As explained in the preceding section, there can be only one stream column in a positional iterator and it must be the last column. Assume there is a table named <code class="codeph">BINTABLE</code> with a <code class="codeph">NUMBER</code> column called <code class="codeph">IDENTIFIER</code> and a <code class="codeph">LONG RAW</code> column called <code class="codeph">BINDATA</code> that contains binary data associated with the identifier. The code is as follows:
                        </p><pre class="oac_no_warn" dir="ltr">import sqlj.runtime.*;
...
#sql iterator MyPosIter (int, BinaryStream);

...
MyPosIter positer = null;
int id=0;
BinaryStream binstream=null;
#sql positer = { SELECT identifier, bindata FROM bintable };
while (true) {
   #sql { FETCH :positer INTO :id, :binstream };
   if (positer.endFetch()) break;
   
   (...<span class="italic">process data as desired</span>...)
   
   binstream.close();
}
positer.close();
...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="JSQLJ376"></a><a id="JSQLJ377"></a><a id="JSQLJ375"></a><div class="props_rev_3"><a id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75" name="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75"></a><h4 id="JSQLJ-GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75" class="sect4">SQLJ Stream Objects as Output Parameters and Function Return Values</h4>
                  <div>
                     <p>As described in the preceding sections, standard SQLJ supports the use of the <code class="codeph">BinaryStream</code> and <code class="codeph">CharacterStream</code> classes in the <code class="codeph">sqlj.runtime</code> package for retrieval of stream data into iterator columns.
                     </p>
                     <p>In addition, the Oracle SQLJ implementation enables the following uses of the SQLJ stream types if you use Oracle9<span class="italic">i</span> Database or later version, an Oracle JDBC driver, Oracle-specific code generation or Oracle customizer, and Oracle SQLJ run time:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>They can appear as <code class="codeph">OUT</code> or <code class="codeph">INOUT</code> host variables from a stored procedure or function call.
                           </p>
                        </li>
                        <li>
                           <p> They can appear as the return value from a stored function call.</p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75__GUID-A72FEF0F-1EAD-4A3A-9680-629F785A5899">Streams as Stored Procedure Output Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>You can use the <code class="codeph">BinaryStream</code> and <code class="codeph">CharacterStream</code> types as the assignment type for a stored procedure or stored function <code class="codeph">OUT</code> or <code class="codeph">INOUT</code> parameter.
                        </p>
                        <p>Assume the following table definition:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE streamexample (name VARCHAR2 (256), data LONG);
INSERT INTO streamexample (data, name)
   VALUES
   ('0000000000111111111112222222222333333333344444444445555555555',
   'StreamExample');
</pre><p>Also, presume the following stored procedure definition, which uses the <code class="codeph">STREAMEXAMPLE</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE out_longdata 
                            (dataname VARCHAR2, longdata OUT LONG) IS
BEGIN
   SELECT data INTO longdata FROM streamexample WHERE name = dataname;
END out_longdata;
</pre><p>The following sample code uses a call to the <code class="codeph">out_longdata</code> stored procedure to read the long data:
                        </p><pre class="oac_no_warn" dir="ltr">import sqlj.runtime.*;

...
CharacterStream data;
#sql { CALL out_longdata('StreamExample', :OUT data) };
int c;
while ((c = data.read ()) != -1)
   System.out.print((char)c);
System.out.flush();
data.close();
...
</pre><div class="infoboxnote" id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75__GUID-22F94A96-F473-42E7-9F1F-6B274991EB5A">
                           <p class="notep1">Note:</p>
                           <p>Closing the stream is recommended, but not required.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75__GUID-29810A4F-D9C8-4978-BA8E-31616CFD8649">Streams as Stored Function Results</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>You can use the <code class="codeph">BinaryStream</code> and <code class="codeph">CharacterStream</code> types as the assignment type for a stored function return result.
                        </p>
                        <p>Assume the same <code class="codeph">STREAMEXAMPLE</code> table definition as in the preceding stored procedure example. Also, assume the following stored function definition, which uses the <code class="codeph">STREAMEXAMPLE</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION get_longdata (dataname VARCHAR2) RETURN long
   IS longdata LONG;
BEGIN
   SELECT data INTO longdata FROM streamexample WHERE name = dataname;
   RETURN longdata;
END get_longdata;
</pre><p>The following sample code uses a call to the <code class="codeph">get_longdata</code> stored function to read the long data:
                        </p><pre class="oac_no_warn" dir="ltr">import sqlj.runtime.*;

...
CharacterStream data;
#sql data = { VALUES(get_longdata('StreamExample')) };
int c;
while ((c = data.read ()) != -1)
   System.out.print((char)c);
System.out.flush();
data.close();
...
</pre><div class="infoboxnote" id="GUID-4A655FE2-512D-4854-8BF4-3785B37D9E75__GUID-D09F2398-C0ED-4894-BAC4-5149EFFBF7A5">
                           <p class="notep1">Note:</p>
                           <p>Closing the stream is recommended, but not required.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JSQLJ378"></a><div class="props_rev_3"><a id="GUID-9C82F6F4-197C-4B80-8491-B3CF03861384" name="GUID-9C82F6F4-197C-4B80-8491-B3CF03861384"></a><h3 id="JSQLJ-GUID-9C82F6F4-197C-4B80-8491-B3CF03861384" class="sect3">Support for JDBC 2.0 LOB Types and Oracle Type Extensions</h3>
               <div>
                  <p>The Oracle SQLJ implementation offers extended functionality for the following JDBC 2.0 and Oracle-specific data types:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>JDBC 2.0 large object (LOB) types (<code class="codeph">BLOB</code> and <code class="codeph">CLOB</code>)
                        </p>
                     </li>
                     <li>
                        <p>Oracle <code class="codeph">BFILE</code> type
                        </p>
                     </li>
                     <li>
                        <p>Oracle <code class="codeph">ROWID</code> type
                        </p>
                     </li>
                     <li>
                        <p>Oracle REF CURSOR types</p>
                     </li>
                     <li>
                        <p>Other Oracle Database 12<span class="italic">c </span>Release 2 (12.2) data types, such as <code class="codeph">NUMBER</code> and <code class="codeph">RAW</code></p>
                     </li>
                  </ul>
                  <p>These data types are supported by classes in the <code class="codeph">oracle.sql</code> package. LOBs and binary files (BFILEs) are handled similarly in many ways, so are discussed together. Additionally, the Oracle SQLJ implementation offers extended support for the standard BigDecimal JDBC type.
                  </p>
                  <p>JDBC 2.0 functionality for user-defined SQL objects, object references, and collections are also supported.</p>
                  <div class="infoboxnotealso" id="GUID-9C82F6F4-197C-4B80-8491-B3CF03861384__GUID-C82E762E-F71C-4522-BD08-6926CDFC8721">
                     <p class="notep1">See Also:</p>
                     <p><a href="objects-collections-and-OPAQUE-types.html#GUID-93B64A3E-4928-4039-BC10-D7B05E768BFF"> Objects_ Collections_ and OPAQUE Types</a></p>
                  </div>
                  <p>Note that using Oracle extensions in your code requires the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use one of Oracle JDBC drivers.</p>
                     </li>
                     <li>
                        <p>Use Oracle-specific code generation or for ISO code generation, customize the profiles appropriately. The default customizer, <code class="codeph">oracle.sqlj.runtime.util.OraCustomizer</code>, is recommended.
                        </p>
                     </li>
                     <li>
                        <p>Use Oracle SQLJ run time when your application runs. </p>
                     </li>
                  </ul>
                  <p>Oracle SQLJ run time and an Oracle JDBC driver are required whenever you use Oracle customizer, even if you do not actually use Oracle extensions in your code.</p>
                  <p>For Oracle-specific semantics-checking, you must use an appropriate checker. The default checker, <code class="codeph">oracle.sqlj.checker.OracleChecker</code>, acts as a front end and will run the appropriate checker based on your environment. This will be one of the Oracle specific checkers if you are using an Oracle JDBC driver.
                  </p>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="type-support.html#GUID-40A26589-5F08-42BB-A405-E54F86714CE6">Package oracle.sql</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A">Support for BLOB_ CLOB_ and BFILE</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-179B1345-8836-49B7-9790-36F69BEAF15A">Support for Oracle ROWID</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1">Support for Oracle REF CURSOR Types</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-E0DD7B28-A856-4454-8B4D-3EB86F6FD2A9">Support for Other Oracle Database 11g Data Types</a></p>
                     </li>
                     <li>
                        <p><a href="type-support.html#GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316">Extended Support for BigDecimal</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ379"></a><div class="props_rev_3"><a id="GUID-40A26589-5F08-42BB-A405-E54F86714CE6" name="GUID-40A26589-5F08-42BB-A405-E54F86714CE6"></a><h4 id="JSQLJ-GUID-40A26589-5F08-42BB-A405-E54F86714CE6" class="sect4">Package oracle.sql</h4>
                  <div>
                     <p>SQLJ users, as well as JDBC users, should be aware of the <code class="codeph">oracle.sql</code> package, which includes classes to support all the Oracle Database 12<span class="italic">c </span>Release 2 (12.2) data types, such as <code class="codeph">oracle.sql.ROWID</code>, <code class="codeph">oracle.sql.CLOB</code>, and <code class="codeph">oracle.sql.NUMBER</code>. The <code class="codeph">oracle.sql</code> classes are wrappers for the raw SQL data and provide appropriate mappings and conversion methods to Java formats. An <code class="codeph">oracle.sql.*</code> object contains a binary representation of the corresponding SQL data in the form of a byte array. Each <code class="codeph">oracle.sql.*</code> data type class is a subclass of the <code class="codeph">oracle.sql.Datum</code> class.
                     </p>
                     <p>For Oracle-specific semantics-checking, you must use an appropriate checker. The default checker, <code class="codeph">oracle.sqlj.checker.OracleChecker</code>, acts as a front end and will run the appropriate checker based on your environment. This will be one of the Oracle specific checkers if you are using an Oracle JDBC driver.
                     </p>
                     <div class="infoboxnotealso" id="GUID-40A26589-5F08-42BB-A405-E54F86714CE6__GUID-013C5D90-3935-40EE-BC42-41B742C2DFAC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-E001FA35-824A-47A1-8973-AA5771B0DFE5">Connection Options</a>"</span> 
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-ED7DD3DE-CA91-4085-82B2-D07EC9B15FB6">Semantics-Checking and Offline-Parsing Options</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../jjdbc/Oracle-extensions.html#JJDBC-GUID-DB1F687A-CF1C-4B3F-92C0-126DC782EF53" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JSQLJ381"></a><a id="JSQLJ384"></a><a id="JSQLJ389"></a><a id="JSQLJ390"></a><a id="JSQLJ391"></a><a id="JSQLJ392"></a><a id="JSQLJ393"></a><a id="JSQLJ382"></a><a id="JSQLJ383"></a><a id="JSQLJ385"></a><a id="JSQLJ386"></a><a id="JSQLJ387"></a><a id="JSQLJ388"></a><a id="JSQLJ380"></a><div class="props_rev_3"><a id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A" name="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A"></a><h4 id="JSQLJ-GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A" class="sect4">Support for BLOB, CLOB, and BFILE</h4>
                  <div>
                     <div class="section">
                        <p>The Oracle SQLJ and JDBC implementations support JDBC 2.0 LOB types and provide similar support for the Oracle specific <code class="codeph">BFILE</code> type (read-only binary files stored outside the database). These data types are supported by the following classes:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">oracle.sql.BLOB</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql.CLOB</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sql.BFILE</code></p>
                           </li>
                        </ul>
                        <p>These classes can be used in Oracle-specific SQLJ applications in the following ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>As <code class="codeph">IN</code>, <code class="codeph">OUT</code>, or <code class="codeph">INOUT</code> host variables in executable SQLJ statements and in <code class="codeph">INTO</code>-lists
                              </p>
                           </li>
                           <li>
                              <p>As return values from stored function calls</p>
                           </li>
                           <li>
                              <p>As column types in iterator declarations</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-55B37B86-695C-48F2-BE81-99D7F1E39525">
                           <p class="notep1">See Also:</p>
                           <p><a href="../jjdbc/JDBC-reference-information.html#JJDBC-GUID-260661A5-E0CE-40D5-8590-FC15266C3392" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide </span></a>for more information about LOBs and BFILEs and use of supported stream APIs<span class="italic">.</span></p>
                        </div>
                        <p><a id="d22137e3723" class="indexterm-anchor"></a>You can manipulate LOBs by using methods defined in the <code class="codeph">BLOB</code> and <code class="codeph">CLOB</code> classes, which is recommended, or by using the procedures and functions defined in the <code class="codeph">DBMS_LOB</code> PL/SQL package. All procedures and functions defined in this package can be called by SQLJ programs.
                        </p>
                        <p>You can manipulate BFILEs by using methods defined in the <code class="codeph">BFILE</code> class, which is recommended, or by using the file-handling routines of the <code class="codeph">DBMS_LOB</code> package.
                        </p>
                        <p>Using methods of the <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, and <code class="codeph">BFILE</code> classes in a Java application is more convenient than using the <code class="codeph">DBMS_LOB</code> package and may also lead to faster execution in some cases.
                        </p>
                        <p>Note that the type of the chunk being read or written depends on the kind of LOB being manipulated. For example, character large objects (CLOBs) contain character data and, therefore, Java strings are used to hold chunks of data. Binary large objects (BLOBs) contain binary data and, therefore, Java byte arrays are used to hold chunks of data.</p>
                        <div class="infoboxnote" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-F1C335E9-C67E-40A6-97C3-FDA8F3AD06F5">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">DBMS_LOB</code> package requires a round trip to the server. Methods in the <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, and <code class="codeph">BFILE</code> classes may also result in a round trip to the server.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-D6C3EEF0-A388-423C-8C98-557695EB7756">BFILE Class versus DBMS_LOB Functionality for BFILEs</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDFAIDC">Example 6-3</a> and <a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDCEIED">Example 6-4</a> contrast use of the <code class="codeph">oracle.sql</code> methods with use of the <code class="codeph">DBMS_LOB</code> package for BFILEs:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-40FFB69C-800F-4153-8FD7-433D9A34ACFA">BLOB and CLOB Classes versus DBMS_LOB Functionality for LOBs</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDBABAB">Example 6-5</a> and <a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDHJJII">Example 6-6</a> contrast use of the <code class="codeph">oracle.sql</code> methods with use of the <code class="codeph">DBMS_LOB</code> package for BLOBs, and <a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDGABAC">Example 6-7</a> and <a href="type-support.html#GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDEJAJJ">Example 6-8</a> contrast use of the <code class="codeph">oracle.sql</code> methods with use of the <code class="codeph">DBMS_LOB</code> package for CLOBs.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-4DE9E351-ED5F-471D-92FA-78365D53DFE9">LOB and BFILE Stored Function Results</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Host variables of the <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, and <code class="codeph">BFILE</code> type can be assigned to the result of a stored function call. The following example is for a CLOB, but code for BLOBs and BFILEs would be functionally the same.
                        </p>
                        <p>First, presume the following function definition:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION longer_clob (c1 CLOB, c2 CLOB) RETURN CLOB IS 
   result CLOB;
BEGIN
   IF dbms_lob.getLength(c2) &gt; dbms_lob.getLength(c1) THEN
      result := c2;
   ELSE 
      result := c1;
   END IF;
   RETURN result; 
END longer_clob;
</pre><p>The following example uses a CLOB as the assignment type for a return value from the <code class="codeph">longer_clob</code> function:
                        </p><pre class="oac_no_warn" dir="ltr">void readFromLongest(CLOB c1, CLOB c2) throws SQLException
{
   CLOB longest;
   #sql longest = { VALUES(longer_clob(:c1, :c2)) };
   readFromClob(longest);
}
</pre><p>The <code class="codeph">readFromLongest()</code> method prints the contents of the longer passed CLOB, using the <code class="codeph">readFromClob()</code> method defined previously.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-7665D8D1-C007-4F9B-82E1-4A1A20C462AD">LOB and BFILE Host Variables and SELECT INTO Targets</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Host variables of the <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, and <code class="codeph">BFILE</code> type can appear in the <code class="codeph">INTO</code>-list of a <code class="codeph">SELECT INTO</code> executable statement. The following example is for a BLOB and CLOB, but code for BFILEs would be functionally the same.
                        </p>
                        <p>Assume the following table definition:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE basic_lob_table(x VARCHAR2(30), b BLOB, c CLOB);
INSERT INTO basic_lob_table 
   VALUES('one', '010101010101010101010101010101', 'onetwothreefour');
INSERT INTO basic_lob_table 
   VALUES('two', '020202020202020202020202020202', 'twothreefourfivesix');
</pre><p>The following example uses a BLOB and a CLOB as host variables that receive data from the table defined, using a <code class="codeph">SELECT INTO</code> statement:
                        </p><pre class="oac_no_warn" dir="ltr">...
BLOB blob;
CLOB clob; 
#sql { SELECT one.b, two.c INTO :blob, :clob 
     FROM basic_lob_table one, basic_lob_table two 
     WHERE one.x='one' AND two.x='two' };
#sql { INSERT INTO basic_lob_table VALUES('three', :blob, :clob) };
...
</pre><p>This example selects the BLOB from the first row and the CLOB from the second row of <code class="codeph">BASIC_LOB_TABLE</code>. It then inserts a third row into the table using the BLOB and CLOB selected in the previous operation.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-587B97E7-F573-4AF6-8CC6-2788529A483E">LOBs and BFILEs in Iterator Declarations</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, and <code class="codeph">BFILE</code> types can be used as column types for SQLJ positional and named iterators. Such iterators can be populated as a result of compatible executable SQLJ operations.
                        </p>
                        <p>Following are sample declarations:</p><pre class="oac_no_warn" dir="ltr">#sql iterator NamedLOBIter(CLOB c);
#sql iterator PositionedLOBIter(BLOB);
#sql iterator NamedFILEIter(BFILE bf);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-B5661E73-F4E9-47D1-8E91-65C27C00F193">LOB and BFILE Host Variables and Named Iterator Results</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following example uses the <code class="codeph">BASIC_LOB_TABLE</code> table and the <code class="codeph">readFromLongest()</code> method defined in previous examples and a CLOB in a named iterator. Similar code could be written for BLOBs and BFILEs.
                        </p><pre class="oac_no_warn" dir="ltr">#sql iterator NamedLOBIter(CLOB c);

...
NamedLOBIter iter;  
#sql iter = { SELECT c FROM basic_lob_table };
if (iter.next())
   CLOB c1 = iter.c();
if (iter.next())
   CLOB c2 = iter.c();
iter.close();
readFromLongest(c1, c2);
...
</pre><p>This example uses an iterator to select two CLOBs from the first two rows of <code class="codeph">BASIC_LOB_TABLE</code>, then prints the larger of the two using the <code class="codeph">readFromLongest()</code> method. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__GUID-1291A623-08DE-43F6-ADAC-36AB49A7C343">LOB and BFILE Host Variables and Positional Iterator FETCH INTO Targets</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Host variables of the <code class="codeph">BLOB</code>, <code class="codeph">CLOB</code>, and <code class="codeph">BFILE</code> type can be used with positional iterators and appear in the <code class="codeph">INTO</code>-list of the associated <code class="codeph">FETCH INTO</code> statement if the corresponding column attribute in the iterator is of the identical type. 
                        </p>
                        <p>The following example uses the <code class="codeph">BASIC_LOB_TABLE</code> table and the <code class="codeph">writeToBlob()</code> method defined in previous examples. Similar code could be written for CLOBs and BFILEs.
                        </p><pre class="oac_no_warn" dir="ltr">#sql iterator PositionedLOBIter(BLOB);

...
PositionedLOBIter iter;
BLOB blob = null;
#sql iter = { SELECT b FROM basic_lob_table };
for (long rowNum = 1; ; rowNum++) 
{
    #sql { FETCH :iter INTO :blob };
    if (iter.endFetch()) break;
    writeToBlob(blob, 512*rowNum); 
}
iter.close();
...
</pre><p>This example calls <code class="codeph">writeToBlob()</code> for each BLOB in <code class="codeph">BASIC_LOB_TABLE</code>. Each row writes an additional 512 bytes of data.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDFAIDC">
                        <p class="titleinexample">Example 6-3 Use of oracle.sql.BFILE File-Handling Methods with BFILE</p>
                        <p>This example manipulates a BFILE using file-handling methods of the <code class="codeph">oracle.sql.BFILE</code> class.
                        </p><pre class="oac_no_warn" dir="ltr">BFILE openFile (BFILE file) throws SQLException 
{ 
  String dirAlias, name; 
  dirAlias = file.getDirAlias(); 
  name = file.getName(); 
  System.out.println("name: " + dirAlias + "/" + name); 
   
  if (!file.isFileOpen())  
  { 
    file.openFile(); 
  } 
  return file; 
} 
</pre><p>The <code class="codeph">BFILE</code> <code class="codeph">getDirAlias()</code> and <code class="codeph">getName()</code> methods construct the full path and file name. The <code class="codeph">openFile()</code> method opens the file. You cannot manipulate BFILEs until they have been opened.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDCEIED">
                        <p class="titleinexample">Example 6-4 Use of DBMS_LOB File-Handling Routines with BFILE</p>
                        <p>This example manipulates a BFILE using file-handling routines of the <code class="codeph">DBMS_LOB</code> package.
                        </p><pre class="oac_no_warn" dir="ltr">BFILE openFile(BFILE file) throws SQLException 
{
   String dirAlias, name;
   #sql { CALL dbms_lob.filegetname(:file, :out dirAlias, :out name) };
   System.out.println("name: " + dirAlias + "/" + name);

   boolean isOpen;
   #sql isOpen = { VALUES(dbms_lob.fileisopen(:file)) };
   if (!isOpen) 
   {
      #sql { CALL dbms_lob.fileopen(:inout file) };
   }
   return file;
}
</pre><p>The <code class="codeph">openFile()</code> method prints the name of a file object and then returns an opened version of the file. Note that BFILEs can be manipulated only after being opened with a call to <code class="codeph">DBMS_LOB.FILEOPEN</code> or equivalent method in the <code class="codeph">BFILE</code> class.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDBABAB">
                        <p class="titleinexample">Example 6-5 Example: Use of oracle.sql.CLOB Read Methods with CLOB</p>
                        <p>This example reads data from a CLOB using methods of the <code class="codeph">oracle.sql.CLOB</code> class.
                        </p><pre class="oac_no_warn" dir="ltr">void readFromClob(CLOB clob) throws SQLException 
{ 
  long clobLen, readLen; 
  String chunk; 
 
  clobLen = clob.length(); 
 
  for (long i = 0; i &lt; clobLen; i+= readLen) { 
    chunk = clob.getSubString(i, 10); 
    readLen = chunk.length(); 
    System.out.println("read " + readLen + " chars: " + chunk); 
  } 
} 
</pre><p>This method contains a loop that reads from the CLOB and returns a 10-character Java string each time. The loop continues until the entire CLOB has been read.</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDHJJII">
                        <p class="titleinexample">Example 6-6 Example: Use of DBMS_LOB Read Routines with CLOB</p>
                        <p>This example uses routines of the <code class="codeph">DBMS_LOB</code> package to read from a CLOB.
                        </p><pre class="oac_no_warn" dir="ltr">void readFromClob(CLOB clob) throws SQLException
{
   long clobLen, readLen;
   String chunk;

   #sql clobLen = { VALUES(dbms_lob.getlength(:clob)) };

   for (long i = 1; i &lt;= clobLen; i += readLen) {
       readLen = 10;
       #sql { CALL dbms_lob.read(:clob, :inout readLen, :i, :out chunk) };
       System.out.println("read " + readLen + " chars: " + chunk);
   }
}
</pre><p>This method reads the contents of a CLOB in chunks of 10 characters at a time. Note that the chunk host variable is of the <code class="codeph">String</code> type.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDGABAC">
                        <p class="titleinexample">Example 6-7 Example: Use of oracle.sql.BLOB Write Routines with BLOB</p>
                        <p>This example writes data to a BLOB using methods of the <code class="codeph">oracle.sql.BLOB</code> class. Input a BLOB and specified length.
                        </p><pre class="oac_no_warn" dir="ltr">void writeToBlob(BLOB blob, long blobLen) throws SQLException 
{ 
  byte[] chunk = { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 }; 
  long chunkLen = (long)chunk.length; 
   
  for (long i = 0; i &lt; blobLen; i+= chunkLen) { 
    if (blobLen &lt; chunkLen) chunkLen = blobLen; 
    chunk[0] = (byte)(i+1); 
    chunkLen = blob.putBytes(i, chunk); 
  } 
} 
</pre><p>This method goes through a loop that writes to the BLOB in 10-byte chunks until the specified BLOB length has been reached.</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-438F40D6-F42D-450B-AC6D-89E280E21A7A__CHDEJAJJ">
                        <p class="titleinexample">Example 6-8 Example: Use of DBMS_LOB Write Routines with BLOB</p>
                        <p>This example uses routines of the <code class="codeph">DBMS_LOB</code> package to write to a BLOB.
                        </p><pre class="oac_no_warn" dir="ltr">void writeToBlob(BLOB blob, long blobLen) throws SQLException
{
   byte[] chunk = { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 };
   long chunkLen = (long)chunk.length;

   for (long i = 1; i &lt;= blobLen; i += chunkLen) {
      if ((blobLen - i + 1) &lt; chunkLen) chunkLen = blobLen - i + 1;
      chunk[0] = (byte)i;       
      #sql { CALL dbms_lob.write(:INOUT blob, :chunkLen, :i, :chunk) };
   }
} 
</pre><p>This method fills the contents of a BLOB in 10-byte chunks. Note that the chunk host variable is of the <code class="codeph">byte[]</code> type.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="JSQLJ395"></a><a id="JSQLJ396"></a><a id="JSQLJ397"></a><a id="JSQLJ398"></a><a id="JSQLJ399"></a><a id="JSQLJ400"></a><a id="JSQLJ401"></a><a id="JSQLJ402"></a><a id="JSQLJ394"></a><div class="props_rev_3"><a id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A" name="GUID-179B1345-8836-49B7-9790-36F69BEAF15A"></a><h4 id="JSQLJ-GUID-179B1345-8836-49B7-9790-36F69BEAF15A" class="sect4">Support for Oracle ROWID</h4>
                  <div>
                     <p>The Oracle specific <code class="codeph">ROWID</code> type stores the unique address for each row in a database table. The <code class="codeph">oracle.sql.ROWID</code> class wraps ROWID information and is used to bind and define variables of the <code class="codeph">ROWID</code> type.
                     </p>
                     <p>Variables of the <code class="codeph">oracle.sql.ROWID</code> type can be used in SQLJ applications connecting to Oracle Database 12<span class="italic">c </span>Release 2 (12.2) in the following ways:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>As <code class="codeph">IN</code>, <code class="codeph">OUT</code> or <code class="codeph">INOUT</code> host variables in SQLJ executable statements and in <code class="codeph">INTO</code>-lists
                           </p>
                        </li>
                        <li>
                           <p>As a return value from a stored function call</p>
                        </li>
                        <li>
                           <p>As column types in iterator declarations</p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-7DA3B23C-94E4-4A14-8574-365623DD630B">ROWIDs in Iterator Declarations</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>You can use <code class="codeph">oracle.sql.ROWID</code> as a column type for SQLJ positional and named iterators, as shown in the following declarations:
                        </p><pre class="oac_no_warn" dir="ltr">#sql iterator NamedRowidIter (String ename, ROWID rowid);

#sql iterator PositionedRowidIter (String, ROWID);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-1F6ECA07-8FD4-4039-B065-55222CD830F5">ROWID Host Variables and Named-Iterator SELECT Results</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>You can use <code class="codeph">ROWID</code> objects as <code class="codeph">IN</code>, <code class="codeph">OUT</code> and <code class="codeph">INOUT</code> parameters in SQLJ executable statements. In addition, you can populate iterators whose columns include <code class="codeph">ROWID</code> types. This code example uses the preceding example declarations.
                        </p><pre class="oac_no_warn" dir="ltr">#sql iterator NamedRowidIter (String ename, ROWID rowid);

...
NamedRowidIter iter; 
ROWID rowid;
#sql iter = { SELECT first_name, rowid FROM employees };
while (iter.next())
{
   if (iter.first_name().equals("Peter Hall"))
   {
       rowid = iter.rowid();
       #sql { UPDATE employees SET salary = salary + 500 WHERE rowid = :rowid };
   }
}
iter.close();
...
</pre><p>This example increases the salary of the employee named Peter Hall by $500 according to the ROWID.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-A3911636-1588-4913-AA5D-2629FB8FB82C">ROWID Stored Function Results</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Consider the following function:</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION get_rowid (name VARCHAR2) RETURN ROWID IS
   rid ROWID;
BEGIN
   SELECT rowid INTO rid FROM employees WHERE first_name = name;
   RETURN rid;
END get_rowid;
</pre><p>Given the preceding stored function, the following example indicates how a <code class="codeph">ROWID</code> object is used as the assignment type for the function return result:
                        </p><pre class="oac_no_warn" dir="ltr">ROWID rowid;
#sql rowid = { values(get_rowid('AMY FEINER')) };
#sql { UPDATE employees SET salary = salary + 500 WHERE rowid = :rowid };
</pre><p>This example increases the salary of the employee named Amy Feiner by $500 according to the <code class="codeph">ROWID</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-F1460D96-BF2F-4003-99D8-DB40B39C243F">ROWID SELECT INTO Targets</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Host variables of the <code class="codeph">ROWID</code> type can appear in the <code class="codeph">INTO</code>-list of a <code class="codeph">SELECT INTO</code> statement.
                        </p><pre class="oac_no_warn" dir="ltr">ROWID rowid;
#sql { SELECT rowid INTO :rowid FROM employees WHERE first_name='PETER HALL' };
#sql { UPDATE employees SET salary = salary + 500 WHERE rowid = :rowid };
</pre><p>This example increases the salary of the employee named Peter Hall by $500 according to the <code class="codeph">ROWID</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-29D2BB36-CF5B-4C9C-AA27-2FDD190404D0">ROWID Host Variables and Positional Iterator FETCH INTO Targets</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Host variables of the <code class="codeph">ROWID</code> type can appear in the <code class="codeph">INTO</code>-list of a <code class="codeph">FETCH INTO</code> statement if the corresponding column attribute in the iterator is of the identical type.
                        </p><pre class="oac_no_warn" dir="ltr">#sql iterator PositionedRowidIter (String, ROWID);

...
PositionedRowidIter iter;
ROWID rowid = null;
String ename = null;
#sql iter = { SELECT first_name, rowid FROM employees };
while (true)
{
   #sql { FETCH :iter INTO :ename, :rowid };
   if (iter.endFetch()) break;
   if (ename.equals("PETER HALL"))
   {
       #sql { UPDATE employees SET salary = salary + 500 WHERE rowid = :rowid };
   }
}
iter.close();
...
</pre><p>This example is similar to the previous named iterator example, but uses a positional iterator with its customary <code class="codeph">FETCH INTO</code> syntax.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-7884D233-B5ED-45F4-AF65-3C84C5F621B3">Positioned Update and Delete</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Since Oracle Database 11<span class="italic">g</span> Release 1, SQLJ supports positioned update and delete operations. A positioned update or delete operation can be done using an iterator. The iterator used for positioned update or delete should implement the <code class="codeph">sqlj.runtime.ForUpdate</code> interface. You can use a named iterator, positional iterator, or scrollable iterator.
                        </p>
                        <p>The following code illustrates a positioned update:</p><pre class="oac_no_warn" dir="ltr">...
#sql iterator iter implements sqlj.runtime.ForUpdate(String str)
...
#sql iter = {SELECT first_name FROM employees WHERE department_id=10};
...
while(iter.next())
{
 #sql {UPDATE employees SET salary=salary+5000 <a id="d22137e4280" class="indexterm-anchor"></a>WHERE CURRENT OF :iter};
}
...
</pre><p>In the preceding code, an iterator <code class="codeph">iter</code> is created and used to update the <code class="codeph">employees</code> table.
                        </p>
                        <div class="infoboxnote" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-B3088ADE-EE58-4E3E-9168-5D2724ED54A5">
                           <p class="notep1">Note:</p>
                           <p>If you want to avoid synchronization problems, then issue a <code class="codeph">SELECT ... FOR UPDATE</code> statement.
                           </p>
                        </div>
                        <p>You can similarly perform a positioned delete. For example:</p><pre class="oac_no_warn" dir="ltr">...
#sql {DELETE FROM employees WHERE CURRENT OF :iter}
...
</pre><p>In the preceding example, <code class="codeph">iter</code> is an iterator used to perform positioned delete.
                        </p>
                        <p>The iterators that can be used with the <code class="codeph">WHERE CURRENT OF</code> clause have the following limitations:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The query used to populate the iterator should not operate on multiple tables.</p>
                           </li>
                           <li>
                              <p>You <span class="italic">cannot</span> use a PL/SQL procedure returning a <code class="codeph">REF CURSOR</code> with the iterator.
                              </p>
                           </li>
                           <li>
                              <p>You <span class="italic">cannot</span> use an iterator that has been populated from a result set. That is, an iterator populated using the following statement, where <code class="codeph">rs</code> is a result set:
                              </p><pre class="oac_no_warn" dir="ltr">#sql iter = {cast :rs}
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-90ECA164-A453-46BC-9833-B88C337E7F4C">for_update Option</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If <code class="codeph">for_update</code> option is set at translation time, then <code class="codeph">"FOR UPDATE</code>" is appended to the SELECT statements, which in turn return results into a <code class="codeph">ForUpdate</code> iterator as follows:
                        </p><pre class="oac_no_warn" dir="ltr">% sqlj &#x2013;for_update abc.sqlj
 
/* abc.sqlj */
#sql iterator  SalByName (double sal, String ename)  implements sqlj.runtime.ForUpdate;
 
public class abc {
…..
  void func1()
  {
    SalByName salbn;
    #sql salbn = {select salary, first_name from employees };
  }
…..
}
</pre><p>Now, "<code class="codeph">FOR UPDATE</code>" is appended to the SELECT statement returning the <code class="codeph">ForUpdate</code> iterator <code class="codeph">salbn</code> in the following way:
                        </p><pre class="oac_no_warn" dir="ltr">………
String theSqlTS = “SELECT rowid sjT_rowid,first_name, salary FROM employees WHERE first_name =  :1 FOR UPDATE";
………
</pre><p><a href="type-support.html#GUID-179B1345-8836-49B7-9790-36F69BEAF15A__BCEFAHIE" title="Table showing plausible values for the for_update option and the corresponding SQL statement">Table 6-3</a> shows the plausible values for the <code class="codeph">for_update</code> option and the corresponding SQL statement for the preceding example:
                        </p>
                        <div class="tblformal" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__BCEFAHIE">
                           <p class="titleintable">Table 6-3 Plausible values for the for_update option and the corresponding SQL statement</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Plausible values for the for_update option and the corresponding SQL statement" summary="Table showing plausible values for the for_update option and the corresponding SQL statement" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d22137e4385">for_update option</th>
                                    <th align="left" valign="bottom" width="33%" id="d22137e4388">SQLJ Statement</th>
                                    <th align="left" valign="bottom" width="33%" id="d22137e4391">SQL Statement</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d22137e4396" headers="d22137e4385 ">
                                       <p>none</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4396 d22137e4388 ">
                                       <p><code class="codeph">sqlj -for_update abc.sqlj</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4396 d22137e4391 ">
                                       <p><code class="codeph">SELECT rowid sjT_rowid,first_name, salary FROM employees WHERE first_name = :1 FOR UPDATE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d22137e4408" headers="d22137e4385 ">
                                       <p><code class="codeph">nowait</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4408 d22137e4388 ">
                                       <p><code class="codeph">sqlj -P-for_update=nowait QueryDemo.sqlj</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4408 d22137e4391 ">
                                       <p><code class="codeph">SELECT rowid sjT_rowid,first_name, salary FROM employees WHERE first_name = :1 FOR UPDATE nowait</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d22137e4421" headers="d22137e4385 ">
                                       <p><code class="codeph">number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4421 d22137e4388 ">
                                       <p><code class="codeph">sqlj -P-for_update=10 QueryDemo.sqlj</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d22137e4421 d22137e4391 ">
                                       <p><code class="codeph">SELECT rowid sjT_rowid,first_name, salary FROM employees WHERE first_name = :1 FOR UPDATE wait 10</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-179B1345-8836-49B7-9790-36F69BEAF15A__GUID-130EB0E6-EC59-4E8F-9214-F910DF9200C7">
                           <p class="notep1">Note:</p>
                           <p>If the application already has <code class="codeph">FOR UPDATE</code> in the select query, then using these new translator options will throw warnings during online check at translation time. If offline parsing is chosen during translation, then errors are not detected at translation time.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ404"></a><a id="JSQLJ405"></a><a id="JSQLJ406"></a><a id="JSQLJ403"></a><div class="props_rev_3"><a id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1" name="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1"></a><h4 id="JSQLJ-GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1" class="sect4">Support for Oracle REF CURSOR Types</h4>
                  <div>
                     <p>Oracle PL/SQL and the Oracle SQLJ implementation support the use of cursor variables that represent database cursors.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-BED9A85A-DC84-4BED-9907-FB2D94B70B1C">Overview of REF CURSOR Types</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Cursor variables are functionally equivalent to JDBC result sets, essentially encapsulating the results of a query. A cursor variable is often referred to as a REF CURSOR, but <code class="codeph">REF CURSOR</code> itself is a type specifier, and not a type name. Instead, named REF CURSOR types must be specified. The following example shows a REF CURSOR type specification:
                        </p><pre class="oac_no_warn" dir="ltr">TYPE EmpCurType IS REF CURSOR;
</pre><p>Stored procedures and stored functions can return parameters of Oracle REF CURSOR types. You must use PL/SQL to return a REF CURSOR parameter. You cannot accomplish this using SQL alone. A PL/SQL stored procedure or function can declare a variable of some named REF CURSOR type, execute a <code class="codeph">SELECT</code> statement, and return the results in the REF CURSOR variable.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-ADE0B406-27C1-4195-B2AE-5D4D84519FE3">
                           <p class="notep1">See Also:</p>
                           <p><a href="../lnpls/dynamic-sql.html#LNPLS-GUID-A194C9FA-221A-466B-9179-6238FEC5143B" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-7B98AD97-5E29-4DE2-B4D3-37DBEBF236E6">REF CURSOR Types in SQLJ</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In the Oracle SQLJ implementation, a REF CURSOR type can be mapped to iterator columns or host variables of any iterator class type or of the <code class="codeph">java.sql.ResultSet</code> type, but host variables can be <code class="codeph">OUT</code> only. Support for REF CURSOR types can be summarized as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>As result expressions for stored function returns</p>
                           </li>
                           <li>
                              <p>As output host expressions for stored procedure or function output parameters</p>
                           </li>
                           <li>
                              <p>As output host expressions in <code class="codeph">INTO</code>-lists
                              </p>
                           </li>
                           <li>
                              <p>As iterator columns</p>
                           </li>
                        </ul>
                        <p>You can use the SQL <code class="codeph">CURSOR</code> operator for a nested <code class="codeph">SELECT</code> within an outer <code class="codeph">SELECT</code> statement. This is how you can write a REF CURSOR object to an iterator column or <code class="codeph">ResultSet</code> column in an iterator, or write a REF CURSOR object to an iterator host variable or <code class="codeph">ResultSet</code> host variable in an <code class="codeph">INTO</code>-list.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-43FB46B6-25F0-4C49-9AB4-1B16C21E2FE9">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="basic-language-features.html#GUID-D3CC3825-1F5D-45AF-9E96-5848B98B7D21">Using Iterators and Result Sets as Host Variables</a>"</span> for examples illustrating the use of implicit REF CURSOR variables, including an example of the <code class="codeph">CURSOR</code> operator.
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-41E8E821-F0F6-4405-AAC4-C31175FF4250">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use the type code <code class="codeph">OracleTypes.CURSOR</code> for REF CURSOR types.
                                 </p>
                              </li>
                              <li>
                                 <p>There is no <code class="codeph">oracle.sql</code> class for REF CURSOR types. Use either <code class="codeph">java.sql.ResultSet</code> or an iterator class. Close the result set or iterator to release resources when you are done processing it.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1BCF3CF2-DBC7-41C7-AFF3-F31CDCF634E1__GUID-83F6E2DB-2E23-4812-AE83-97ADD11C2A67">REF CURSOR Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The following sample method shows a REF CURSOR type being retrieved from an anonymous block:</p><pre class="oac_no_warn" dir="ltr">private static EmpIter refCursInAnonBlock(String name, int no) 
  throws java.sql.SQLException {
  EmpIter emps = null;    

  System.out.println("Using anonymous block for ref cursor.."); 
  #sql { begin
           INSERT INTO employees (first_name, employee_id) VALUES (:name, :no);
           OPEN :out emps FOR SELECT first_name, employee_id FROM employees ORDER BY employee_id;
         end
       };
  return emps;
}
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ407"></a><div class="props_rev_3"><a id="GUID-E0DD7B28-A856-4454-8B4D-3EB86F6FD2A9" name="GUID-E0DD7B28-A856-4454-8B4D-3EB86F6FD2A9"></a><h4 id="JSQLJ-GUID-E0DD7B28-A856-4454-8B4D-3EB86F6FD2A9" class="sect4">Support for Other Oracle Database 11<span class="italic">g</span> Data Types
                  </h4>
                  <div>
                     <p>All <code class="codeph">oracle.sql</code> classes can be used for iterator columns or for input, output, or input-output host variables in the same way that any standard Java type can be used. This includes the classes mentioned in the preceding sections and others, such as the <code class="codeph">oracle.sql.NUMBER</code>, <code class="codeph">oracle.sql.CHAR</code>, and <code class="codeph">oracle.sql.RAW</code> classes.
                     </p>
                     <p>Because the <code class="codeph">oracle.sql.*</code> classes do not require conversion to Java type format, they offer greater efficiency and precision than equivalent Java types. You would have to convert the data to standard Java types, however, to use it with standard Java programs or to display it to end users.
                     </p>
                  </div>
               </div><a id="JSQLJ408"></a><div class="props_rev_3"><a id="GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316" name="GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316"></a><h4 id="JSQLJ-GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316" class="sect4">Extended Support for BigDecimal</h4>
                  <div>
                     <p>SQLJ supports <code class="codeph">java.math.BigDecimal</code> in the following situations:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>As host variables in SQLJ executable statements</p>
                        </li>
                        <li>
                           <p>As return values from stored function calls</p>
                        </li>
                        <li>
                           <p>As iterator column types</p>
                        </li>
                     </ul>
                     <p>Standard SQLJ has the limitation that a value can be retrieved as <code class="codeph">BigDecimal</code> only if that is the JDBC default mapping, which is the case only for numeric and decimal data.
                     </p>
                     <div class="infoboxnotealso" id="GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316__GUID-EC8EC4CD-9BDA-4E50-8DE3-7859766A2DE1">
                        <p class="notep1">See Also:</p>
                        <p><a href="type-support.html#GUID-291119E7-0C44-4324-B373-6154D5418CDF__BCECCCFI" title="Summary">Table 6-1</a></p>
                     </div>
                     <p>In the Oracle SQLJ implementation, however, you can map to nondefault types as long as the data type is convertible from numeric and you use Oracle9<span class="italic">i</span> Database or later version, an Oracle JDBC driver, Oracle-specific code generation or Oracle customizer, and Oracle SQLJ run time. The <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR2</code>, <code class="codeph">LONG</code>, and <code class="codeph">NUMBER</code> types are convertible. For example, you can retrieve data from a <code class="codeph">CHAR</code> column into a <code class="codeph">BigDecimal</code> variable. However, to avoid errors, you must be careful that the character data consists only of numbers.
                     </p>
                     <div class="infoboxnote" id="GUID-8DD58EE1-3FFF-4ADB-918B-2C86AFB2B316__GUID-BD49F481-943C-4D54-8DFE-067F2540892B">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">BigDecimal</code> class is in the standard <code class="codeph">java.math</code> package.
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>