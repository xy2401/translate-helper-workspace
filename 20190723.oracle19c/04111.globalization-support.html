<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Globalization Support</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JDBC Developer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JDBC Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00">
      <meta name="dcterms.title" content="JDBC Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96471-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="JDBC-Rowsets.html" title="Previous" type="text/html">
      <link rel="next" href="performance-and-scalability.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="JDBC-Rowsets.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="performance-and-scalability.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="data-access-and-manipulation.html" property="item" typeof="WebPage"><span property="name"> Data Access and Manipulation</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Globalization Support </li>
            </ol>
            <a id="GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97" name="GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97"></a><a id="JJDBC28643"></a>
            
            <h2 id="JJDBC-GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97" class="sect2"><span class="enumeration_chapter">19 </span> Globalization Support 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <a id="d63983e22" class="indexterm-anchor"></a>Oracle Java Database Connectivity (JDBC) drivers provide globalization support, formerly known as National Language Support (NLS). Globalization<a id="d63983e27" class="indexterm-anchor"></a><a id="d63983e29" class="indexterm-anchor"></a> support enables you to retrieve data or insert data into a database in any character set that Oracle supports. If the clients and the server use different character sets, then the driver provides the support to perform the conversions between the database character set and the client character set.
               </p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="globalization-support.html#GUID-74E71A76-E1EA-4C63-9D7C-CB2293DB0488">About Providing Globalization Support</a></p>
                  </li>
                  <li>
                     <p><a href="globalization-support.html#GUID-C29926B3-8B5B-4B05-9193-29B247B52C66">NCHAR_ NVARCHAR2_ NCLOB and the defaultNChar Property</a></p>
                  </li>
                  <li>
                     <p><a href="globalization-support.html#GUID-DB3BCB15-C62F-47B1-B527-5F2DF28E5CFB">New Methods for National Character Set Type Data in JDK 6</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97__GUID-23FBC34A-E9A2-4A67-8B18-D998B73C7D74">
                  <p class="notep1">Note:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Starting from Oracle Database 10<span class="italic">g</span>, the <code class="codeph">NLS_LANG</code> variable is no longer part of the JDBC globalization mechanism. The JDBC driver does not check NLS environment. So, setting it has no effect.
                        </p>
                     </li>
                     <li>
                        <p>The JDBC server-side internal driver provides complete globalization support and does not require any globalization extension files.</p>
                     </li>
                     <li>
                        <p>JDBC 4.0 includes methods for reading and writing national character set values. You should use these methods when using JSE 6 or later.</p>
                     </li>
                  </ul>
               </div>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="Oracle-extensions.html#GUID-E180187D-07AA-4D64-9946-4D08FBB2E46E">Oracle Character Data Types Support</a></li>
                     <li><a href="../nlspg/overview-of-globalization-support.html#NLSPG-GUID-C7D51299-95B5-4C2D-A747-776100E8DBED" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a></li>
                  </ul>
               </div>
            </div><a id="JJDBC28645"></a><a id="JJDBC28644"></a><div class="props_rev_3"><a id="GUID-74E71A76-E1EA-4C63-9D7C-CB2293DB0488" name="GUID-74E71A76-E1EA-4C63-9D7C-CB2293DB0488"></a><h3 id="JJDBC-GUID-74E71A76-E1EA-4C63-9D7C-CB2293DB0488" class="sect3"><span class="enumeration_section">19.1 </span>About Providing Globalization Support
               </h3>
               <div>
                  <p>The basic Java Archive (JAR) file <code class="codeph">ojdbc7.jar</code>, contains all the necessary classes to provide complete globalization support for:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle character sets for <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR</code>, <code class="codeph">LONGVARCHAR</code>, or <code class="codeph">CLOB</code> data that is not being retrieved or inserted as a data member of an Oracle object or collection type.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CHAR</code> or <code class="codeph">VARCHAR</code> data members of object and collection for the character sets <code class="codeph">US7ASCII</code>, <code class="codeph">WE8DEC</code>, <code class="codeph">WE8ISO8859P1</code>, <code class="codeph">WE8MSWIN1252</code>, and <code class="codeph">UTF8</code>.
                        </p>
                     </li>
                  </ul>
                  <p>To use any other character sets in <code class="codeph">CHAR</code> or <code class="codeph">VARCHAR</code> data members of objects or collections, you must include <code class="codeph">orai18n.jar</code> in the <code class="codeph">CLASSPATH</code> environment variable:
                  </p><pre class="oac_no_warn" dir="ltr"><span class="italic">ORACLE_HOME</span>/jlib/orai18n.jar
</pre><div class="infoboxnote" id="GUID-74E71A76-E1EA-4C63-9D7C-CB2293DB0488__GUID-5B055964-2388-411F-859E-C3A7DDD916FD">
                     <p class="notep1">Note:</p>
                     <p>Previous releases depended on the <code class="codeph">nls_charset12.zip</code> file. This file is now obsolete.
                     </p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-74E71A76-E1EA-4C63-9D7C-CB2293DB0488__GUID-2064C966-EDE2-4EC1-B7C6-CF48DA02FC17">Compressing orai18n.jar</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <a id="d63983e179" class="indexterm-anchor"></a><code class="codeph">orai18n.jar</code> file contains many important character set and globalization support files. You can reduce the size of <code class="codeph">orai18n.jar</code> using the built-in customization tool, as follows:
                     </p><pre class="oac_no_warn" dir="ltr">java -jar orai18n.jar -custom-charsets-jar [<span class="italic">jar/zip_filename</span>] -charset <span class="italic">characterset_name</span> [<span class="italic">characterset_name</span> ...]
</pre><p>For example, if you want to create a custom character set file, <code class="codeph">custom_orai18n_ja.jar</code>, that includes the JA16SJIS and JA16EUC character sets, then issue the following command:
                     </p><pre class="oac_no_warn" dir="ltr">$ java -jar orai18n.jar -custom-charsets-jar custom_orai18n_ja.jar -charset JA16SJIS JA16EUC
</pre><p>The output of the command is as follows:</p><pre class="oac_no_warn" dir="ltr">Added Character set : JA16SJIS
Added Character set : JA16EUC
</pre><p>If you do not specify a file name for your custom JAR/ZIP file, then a file with the name <code class="codeph">jdbc_orai18n_cs.jar</code> is created in the current working directory. Also, for your custom JAR/ZIP file, you cannot specify a name that starts with <code class="codeph">orai18n</code>.
                     </p>
                     <p>If any invalid or unsupported character set name is specified in the command, then no output JAR/ZIP file will be created. If the custom JAR/ZIP file exists, then the file will not be updated or removed.</p>
                     <p>The custom character set JAR/ZIP does not accept any command. However, it prints the version information and the command that was used to generate the JAR/ZIP file. For example, you have <code class="codeph">jdbc_orai18n_cs.zip</code>, the command that displays the information and the displayed information is as follows:
                     </p><pre class="oac_no_warn" dir="ltr">$ java -jar jdbc_orai18n_cs.jar
Oracle Globalization Development Kit - 12.1.X.X.X Release
This custom character set jar/zip file was created with the following command:
java -jar orai18n.jar -custom-charsets-jar jdbc_orai18n_cs.jar -charset WE8ISO8859P15
</pre><p>The limitation to the number of character sets that can be specified depends on that of the shell or command prompt of the operating system. It is certified that all supported character sets can be specified with the command.</p>
                     <div class="infoboxnote" id="GUID-74E71A76-E1EA-4C63-9D7C-CB2293DB0488__GUID-AA890414-3793-44DB-8DC3-D5D1A24EAC0A">
                        <p class="notep1">Note:</p>
                        <p>If you are using a custom character set, then you need to perform the following so that JDBC supports the custom character set:</p>
                        <ol>
                           <li>
                              <p>After creating the <code class="codeph">.nlt</code> and <code class="codeph">.nlb</code> files as part of the process of creating a custom character set, create <code class="codeph">.glb</code> files for the newly created character set and also for the <code class="codeph">lx0boot.nlt</code> file using the following command:
                              </p><pre class="oac_no_warn" dir="ltr">java -classpath $ORACLE_HOME/jlib/orai18n.jar:$ORACLE_HOME/lib/xmlparserv2.jar Ginstall -[add | a] &lt;<span class="italic">NLT_file_name</span>&gt;</pre></li>
                           <li>
                              <p>Add the generated files and <code class="codeph">$ORACLE_HOME/jlib/orai18n-mappings.jar</code> into the <code class="codeph">classpath</code> environment variable while executing the JDBC code that connects to the database with the custom character set.
                              </p>
                           </li>
                        </ol>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28646"></a><div class="props_rev_3"><a id="GUID-C29926B3-8B5B-4B05-9193-29B247B52C66" name="GUID-C29926B3-8B5B-4B05-9193-29B247B52C66"></a><h3 id="JJDBC-GUID-C29926B3-8B5B-4B05-9193-29B247B52C66" class="sect3"><span class="enumeration_section">19.2 </span>NCHAR, NVARCHAR2, NCLOB and the defaultNChar Property
               </h3>
               <div>
                  <div class="section">
                     <p>By default, the <code class="codeph">oracle.jdbc.OraclePreparedStatement</code> interface treats the data type of all the columns in the same way as they are encoded in the database character set. However, since Oracle Database 10<span class="italic">g</span>, if you set the value of <code class="codeph">oracle.jdbc.defaultNChar</code> system property to <code class="codeph">true</code>, then JDBC treats all character columns as being national-language.
                     </p>
                     <p>The default value of <code class="codeph">defaultNChar</code> is false. If the value of <code class="codeph">defaultNChar</code> is false, then you must call the <code class="codeph">setFormOfUse(&lt;column_Index&gt;, OraclePreparedStatement.FORM_NCHAR)</code> method for those columns that specifically need national-language characters. For example:
                     </p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt =
conn.prepareStatement("insert into TEST values(?,?,?)");
pstmt.setFormOfUse(1, OraclePreparedStatement.FORM_NCHAR);
pstmt.setString(1, myUnicodeString1); // NCHAR column
pstmt.setFormOfUse(2, OraclePreparedeStatement.FORM_NCHAR);
pstmt.setString(2, myUnicodeString2); // NVARCHAR2 column
</pre><p>If you want to set the value of <code class="codeph">defaultNChar</code> to <code class="codeph">true</code>, then specify the following at the command-line:
                     </p><pre class="oac_no_warn" dir="ltr">java -Doracle.jdbc.defaultNChar=true <span class="italic">myApplication</span>
</pre><p>If you prefer, then you can also specify <code class="codeph">defaultNChar</code> as a connection property and access <code class="codeph">NCHAR</code>, <code class="codeph">NVARCHAR2</code>, or <code class="codeph">NCLOB</code> data.
                     </p><pre class="oac_no_warn" dir="ltr">Properties props = new Properties();
props.put(OracleConnection.CONNECTION_PROPERTY_DEFAULTNCHAR, "true");
// set URL, username, password, and so on.
...
Connection conn = DriverManager.getConnection(props);
</pre><p>If the value of <code class="codeph">defaultNChar</code> is <code class="codeph">true</code>, then you should call the <code class="codeph">setFormOfUse(&lt;column_Index&gt;, FORM_CHAR)</code> for columns that do not need national-language characters. For example:
                     </p><pre class="oac_no_warn" dir="ltr">PreparedStatement pstmt =
conn.prepareStatement("insert into TEST values(?,?,?)");
pstmt.setFormOfUse(3, OraclePreparedStatement.FORM_CHAR);
pstmt.setString(3, myString); // CHAR column
</pre><div class="infoboxnote" id="GUID-C29926B3-8B5B-4B05-9193-29B247B52C66__GUID-13440068-8525-4ABF-825A-DD40F21189D2">
                        <p class="notep1">Note:</p>
                        <p>If you set the value of <code class="codeph">defaultNChar</code> to <code class="codeph">true</code> and then access <code class="codeph">CHAR</code> columns, then the database will implicitly convert all <code class="codeph">CHAR</code> data into <code class="codeph">NCHAR</code>. This conversion has a substantial performance impact.
                        </p>
                     </div>
                     <div class="infoboxnote" id="GUID-C29926B3-8B5B-4B05-9193-29B247B52C66__GUID-8D48BE92-9C17-4729-A5C4-EADC6AEB6796">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Always use <code class="codeph">java.lang.String</code> for character data instead of <code class="codeph">oracle.sql.CHAR</code>. <code class="codeph">CHAR</code> is provided only for backward compatibility.
                              </p>
                           </li>
                           <li>
                              <p>You can also use the <code class="codeph">setObject</code> method to access national character set types, but if the <code class="codeph">setObject</code> method is used, then the target data type must be specified as <code class="codeph">Types.NCHAR</code>, <code class="codeph">Types.NCLOB</code>, <code class="codeph">Types.NVARCHAR</code>, or <code class="codeph">Types.LONGNVARCHAR</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-C29926B3-8B5B-4B05-9193-29B247B52C66__GUID-89C366EE-78A9-4B84-95C8-A24B88AADC86">
                        <p class="notep1">Note:</p>
                        <p>In Oracle Database, SQL strings are converted to the database character set. Therefore you need to keep in mind the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>In Oracle Database 10<span class="italic">g</span> release 1 (10.1) and earlier releases, JDBC drivers do not support any <code class="codeph">NCHAR</code> literal (n'...') containing Unicode characters that are not representable in the database character set. All Unicode characters that are not representable in the database character set get corrupted.
                              </p>
                           </li>
                           <li>
                              <p>If an Oracle Database 10<span class="italic">g</span> release 2 (10.2) JDBC driver is connected to an Oracle Database 10<span class="italic">g</span> release 2 (10.2) database server, then all <code class="codeph">NCHAR</code> literals (n'...') are converted to Unicode literals (u'...') and all non-ASCII characters are converted to their corresponding Unicode escape sequence. This is done automatically to prevent data corruption.
                              </p>
                           </li>
                           <li>
                              <p>If an Oracle Database 10<span class="italic">g</span> release 2 (10.2) JDBC driver is connected to an Oracle Database 10<span class="italic">g</span> release 1 (10.1) or earlier database server, then <code class="codeph">NCHAR</code> literals (n'...') are not converted and any character that is not representable in the database character set gets corrupted.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="JJDBC28647"></a><div class="props_rev_3"><a id="GUID-DB3BCB15-C62F-47B1-B527-5F2DF28E5CFB" name="GUID-DB3BCB15-C62F-47B1-B527-5F2DF28E5CFB"></a><h3 id="JJDBC-GUID-DB3BCB15-C62F-47B1-B527-5F2DF28E5CFB" class="sect3"><span class="enumeration_section">19.3 </span>New Methods for National Character Set Type Data in JDK 6
               </h3>
               <div>
                  <div class="section">
                     <p>JDBC 4.0 introduces support for the following four additional SQL types to access the national character set types:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">NCHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NVARCHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LONGNVARCHAR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NCLOB</code></p>
                        </li>
                     </ul>
                     <p>These types are similar to the <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR</code>, <code class="codeph">LONGVARCHAR</code>, and <code class="codeph">CLOB</code> types, except that the values are encoded using the national character set. The JDBC specification uses the <code class="codeph">String</code> class to represent <code class="codeph">NCHAR</code>, <code class="codeph">NVARCHAR</code>, and <code class="codeph">LONGNVARCHAR</code> data, and the <code class="codeph">NClob</code> class to represent <code class="codeph">NCLOB</code> values.
                     </p>
                     <p>To retrieve a national character value, an application calls one of the following methods:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">getNString</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">getNClob</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">getNCharacterStream</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">getObject</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-DB3BCB15-C62F-47B1-B527-5F2DF28E5CFB__GUID-38C61180-CEA8-4B09-8D2F-3A84C19F96F8">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">getClob</code> method may be used to return an <code class="codeph">NClob</code> object since <code class="codeph">NClob</code> implements <code class="codeph">Clob</code>.
                        </p>
                     </div>
                     <p>To specify a value for a parameter marker of national character type, an application calls one of the following methods:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">setNString</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">setNCharacterStream</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">setNClob</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">setObject</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-DB3BCB15-C62F-47B1-B527-5F2DF28E5CFB__GUID-66CDA380-7034-4A28-A5FF-CBB1EC3AE13B">
                        <p class="notep1">Note:</p>
                        <p>You can use the <code class="codeph">setFormOfUse</code> method to specify a national character value in JDK 6. But this practice is discouraged because this method will be deprecated in future release. So, Oracle recommends you to use the methods discussed in this section.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-DB3BCB15-C62F-47B1-B527-5F2DF28E5CFB__GUID-CEB4C811-641D-4D97-8EEF-B96F31333FA8">
                        <p class="notep1">See Also:</p>
                        <p>If the <code class="codeph">setObject</code> method is used, then the target data type must be specified as <code class="codeph">Types.NCHAR</code>, <code class="codeph">Types.NCLOB</code>, <code class="codeph">Types.NVARCHAR</code>, or <code class="codeph">Types.LONGNVARCHAR</code>.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>