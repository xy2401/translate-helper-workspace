<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The FORALL statement runs one DML statement multiple times, with different values in the VALUES and WHERE clauses.">
      <meta name="description" content="The FORALL statement runs one DML statement multiple times, with different values in the VALUES and WHERE clauses.">
      <title>FORALL Statement</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database PL/SQL Language Reference ">
      <meta property="og:description" content="The FORALL statement runs one DML statement multiple times, with different values in the VALUES and WHERE clauses.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database PL/SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-13T20:26:20-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96448-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="FOR-LOOP-statement.html" title="Previous" type="text/html">
      <link rel="next" href="formal-parameter-declaration.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="LNPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="FOR-LOOP-statement.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="formal-parameter-declaration.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database PL/SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="plsql-language-elements.html" property="item" typeof="WebPage"><span property="name">PL/SQL Language Elements</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">FORALL Statement</li>
            </ol>
            <a id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB" name="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB"></a><a id="LNPLS1532"></a><a id="LNPLS1171"></a><a id="LNPLS1172"></a><a id="LNPLS1533"></a><a id="LNPLS1534"></a><a id="LNPLS1535"></a><a id="LNPLS1536"></a><a id="LNPLS1537"></a><a id="LNPLS1538"></a><a id="LNPLS1539"></a><a id="LNPLS1541"></a><a id="LNPLS1554"></a><a id="LNPLS1555"></a><a id="LNPLS1556"></a><a id="LNPLS1557"></a><a id="LNPLS01321"></a>
            
            <h2 id="LNPLS-GUID-C45B8241-F9DF-4C93-8577-C840A25963DB" class="sect2"><span class="enumeration_section">13.34 </span>FORALL Statement
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">FORALL</code> statement runs one DML statement multiple times, with different values in the <code class="codeph">VALUES</code> and <code class="codeph">WHERE</code> clauses. 
               </p>
               <div class="section">
                  <p>The different values come from existing, populated collections or host arrays. The <code class="codeph">FORALL</code> statement is usually much faster than an equivalent <code class="codeph">FOR</code> <code class="codeph">LOOP</code> statement.
                  </p>
                  <div class="infoboxnote" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-2D860C31-ADFC-44B0-ADF6-DDF4B04626C8">
                     <p class="notep1">Note:</p>
                     <p>You can use the <code class="codeph">FORALL</code> statement only in server programs, not in client programs.
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-297D8035-8CCE-4238-A773-B3EADB4E7F0B">Topics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="FORALL-statement.html#GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJADDGFI">Syntax</a></p>
                     </li>
                     <li>
                        <p><a href="FORALL-statement.html#GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAHCBJH">Semantics</a></p>
                     </li>
                     <li>
                        <p><a href="FORALL-statement.html#GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAIBIAA">Examples</a></p>
                     </li>
                     <li>
                        <p><a href="FORALL-statement.html#GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAJIIGC">Related Topics</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJADDGFI">
                  <p class="subhead1" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-DF01DCDB-A353-4BD7-943F-26AC7131461E">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-EF24D54E-6D39-497D-9643-B545945499C8"><span class="italic">forall_statement</span> ::=
                  </p>
                  <div class="figure" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-3C7B249E-CBD3-486C-9346-0BCBFB1CBDC2"><img src="img/forall_statement.gif" alt="Description of forall_statement.eps follows" title="Description of forall_statement.eps follows" longdesc="img_text/forall_statement.html"><br><a href="img_text/forall_statement.html">Description of the illustration forall_statement.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-81540AAB-1D28-4B93-B249-5124B8BA3902"><span class="italic">bounds_clause</span> ::=
                  </p>
                  <div class="figure" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-8C6C5252-41F4-416C-8630-CC379D45635A"><img src="img/bounds_clause.gif" alt="Description of bounds_clause.eps follows" title="Description of bounds_clause.eps follows" longdesc="img_text/bounds_clause.html"><br><a href="img_text/bounds_clause.html">Description of the illustration bounds_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAHCBJH">
                  <p class="subhead1" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-90482728-71A7-47F6-B233-E0F8C4E43770">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-3B4BE2F2-7303-4440-86EB-2159B1D0FC43"><span class="italic">forall_statement</span></p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">index</span></span></p>
                  <p>Name for the implicitly declared integer variable that is local to the <code class="codeph">FORALL</code> statement. Statements outside the <code class="codeph">FORALL</code> statement cannot reference <span class="italic"><code class="codeph">index</code></span>. Statements inside the <code class="codeph">FORALL</code> statement can reference <span class="italic"><code class="codeph">index</code></span> as an index variable, but cannot use it in expressions or change its value. After the <code class="codeph">FORALL</code> statement runs, <span class="italic"><code class="codeph">index</code></span> is undefined.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">dml_statement</span></span></p>
                  <p>A static or dynamic <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, or <code class="codeph">MERGE</code> statement that references at least one collection in its <code class="codeph">VALUES</code> or <code class="codeph">WHERE</code> clause. Performance benefits apply only to collection references that use <span class="italic"><code class="codeph">index</code></span> as an index.
                  </p>
                  <p>Every collection that <span class="italic"><code class="codeph">dml_statement</code></span> references must have indexes that match the values of <span class="italic"><code class="codeph">index</code></span>. If you apply the <code class="codeph">DELETE</code>, <code class="codeph">EXTEND</code>, or <code class="codeph">TRIM</code> method to one collection, apply it to the other collections also, so that all collections have the same set of indexes. If any collection lacks a referenced element, PL/SQL raises an exception.
                  </p>
                  <p><span class="bold">Restriction on <span class="italic">dml_statement</span></span></p>
                  <p>If <span class="italic"><code class="codeph">dml_statement</code></span> is a dynamic SQL statement, then values in the <code class="codeph">USING</code> clause (bind variables for the dynamic SQL statement) must be simple references to the collection, not expressions. For example, <span class="italic"><code class="codeph">collection</code></span><code class="codeph">(</code><span class="italic"><code class="codeph">i</code></span><code class="codeph">)</code> is valid, but <code class="codeph">UPPER(</code><span class="italic"><code class="codeph">collection</code></span><code class="codeph">(</code><span class="italic"><code class="codeph">i</code></span><code class="codeph">))</code> is invalid.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">SAVE EXCEPTIONS</span></p>
                  <p>Lets the <code class="codeph">FORALL</code> statement continue even if some of its DML statements fail. For more information, see <span class="q">"<a href="plsql-optimization-and-tuning.html#GUID-DAF46F06-EF3F-4B1A-A518-5238B80C69FA" title="To allow a FORALL statement to continue even if some of its DML statements fail, include the SAVE EXCEPTIONS clause. When a DML statement fails, PL/SQL does not raise an exception; instead, it saves information about the failure. After the FORALL statement completes, PL/SQL raises a single exception for the FORALL statement (ORA-24381).">Handling FORALL Exceptions After FORALL Statement Completes</a>"</span>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-28AA16A2-0BC2-4EBC-82BB-408BD51DACB5"><span class="italic">bounds_clause</span></p>
                  <p>Specifies the collection element indexes that provide values for the variable <span class="italic"><code class="codeph">index</code></span>. For each value, the SQL engine runs <span class="italic"><code class="codeph">dml_statement</code></span> once.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold"><span class="italic">lower_bound</span> .. <span class="italic">upper_bound</span></span></p>
                  <p>Both <span class="italic"><code class="codeph">lower_bound</code></span> and <span class="italic"><code class="codeph">upper_bound</code></span> are numeric expressions that PL/SQL evaluates once, when the <code class="codeph">FORALL</code> statement is entered, and rounds to the nearest integer if necessary. The resulting integers must be the lower and upper bounds of a valid range of consecutive index numbers. If an element in the range is missing or was deleted, PL/SQL raises an exception.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">INDICES OF <span class="italic">collection</span> [ BETWEEN <span class="italic">lower_bound</span> AND <span class="italic">upper_bound</span> ]</span></p>
                  <p>Specifies that the values of <span class="italic"><code class="codeph">index</code></span> correspond to the indexes of the elements of <span class="italic"><code class="codeph">collection</code></span>. The indexes need not be consecutive.
                  </p>
                  <p>Both <span class="italic"><code class="codeph">lower_bound</code></span> and <span class="italic"><code class="codeph">upper_bound</code></span> are numeric expressions that PL/SQL evaluates once, when the <code class="codeph">FORALL</code> statement is entered, and rounds to the nearest integer if necessary. The resulting integers are the lower and upper bounds of a valid range of index numbers, which need not be consecutive.
                  </p>
                  <p><span class="bold">Restriction on <span class="italic">collection</span></span></p>
                  <p>If <span class="italic"><code class="codeph">collection</code></span> is an associative array, it must be indexed by <code class="codeph">PLS_INTEGER</code>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><span class="bold">VALUES OF <span class="italic">index_collection</span></span></p>
                  <p>Specifies that the values of <span class="italic"><code class="codeph">index</code></span> are the elements of <span class="italic"><code class="codeph">index_collection</code></span>, a collection of <code class="codeph">PLS_INTEGER</code> elements that is indexed by <code class="codeph">PLS_INTEGER</code>. The indexes of <span class="italic"><code class="codeph">index_collection</code></span> need not be consecutive. If <span class="italic"><code class="codeph">index_collection</code></span> is empty, PL/SQL raises an exception and the <code class="codeph">FORALL</code> statement does not run.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAIBIAA">
                  <p class="subhead1" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-CA88B810-A99C-4BB8-85F9-BFED5703F698">Examples</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-6D4A1425-64DD-4723-8AAE-87B0A51A2854__BABDBAAJ">Example 12-8</a>, <span class="q">"DELETE Statement in FORALL Statement"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-6D4A1425-64DD-4723-8AAE-87B0A51A2854__BABEDFJE">Example 12-9</a>, <span class="q">"Time Difference for INSERT Statement in FOR LOOP and FORALL Statements"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-6D4A1425-64DD-4723-8AAE-87B0A51A2854__BABIIEEI">Example 12-10</a>, <span class="q">"FORALL Statement for Subset of Collection"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-82049618-CB67-4CF1-8455-02AC6AEB5F8E__BABJCEFE">Example 12-11</a>, <span class="q">"FORALL Statements for Sparse Collection and Its Subsets"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-42AF6F5C-B06D-4EB6-9C7A-630FF65DBD5D__BABBBJCF">Example 12-12</a>, <span class="q">"Handling FORALL Exceptions Immediately"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-DAF46F06-EF3F-4B1A-A518-5238B80C69FA__BABGBABA">Example 12-13</a>, <span class="q">"Handling FORALL Exceptions After FORALL Statement Completes"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-D67D19A6-4717-4556-B027-15C3DED0519A__BABEJHDE">Example 12-26</a>, <span class="q">"DELETE with RETURN BULK COLLECT INTO in FORALL Statement"</span></p>
                     </li>
                     <li>
                        <p><a href="plsql-optimization-and-tuning.html#GUID-14F071C6-C0AE-4D39-803F-420840FD34AB__BABJFFFB">Example 12-28</a>, <span class="q">"Anonymous Block Bulk-Binds Input Host Array"</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__CJAJIIGC">
                  <p class="subhead1" id="GUID-C45B8241-F9DF-4C93-8577-C840A25963DB__GUID-6FEC9DDD-B174-4720-9A77-854BF5B4C2AF">Related Topics</p>
                  <p>In this chapter:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="FOR-LOOP-statement.html#GUID-D00F8F0B-ECFC-48B6-B399-D8B5114E7E21" title="With each iteration of the FOR LOOP statement, its statements run, its index is either incremented or decremented, and control returns to the top of the loop. The FOR LOOP statement ends when its index reaches a specified value, or when a statement inside the loop transfers control outside the loop or raises an exception.">FOR LOOP Statement</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="implicit-cursor-attribute.html#GUID-5A938EE7-E8D2-468C-B60F-81898F110BE1" title="An implicit cursor has attributes that return information about the most recently run SELECT or DML statement that is not associated with a named cursor.">Implicit Cursor Attribute</a>"</span></p>
                     </li>
                  </ul>
                  <p>In other chapters:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="plsql-optimization-and-tuning.html#GUID-6D4A1425-64DD-4723-8AAE-87B0A51A2854" title="The FORALL statement, a feature of bulk SQL, sends DML statements from PL/SQL to SQL in batches rather than one at a time.">FORALL Statement</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="plsql-optimization-and-tuning.html#GUID-19F50644-C88E-49AF-B31C-3EE4B4432714" title="The BULK COLLECT clause, a feature of bulk SQL, returns results from SQL to PL/SQL in batches rather than one at a time.">BULK COLLECT Clause</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="plsql-optimization-and-tuning.html#GUID-D67D19A6-4717-4556-B027-15C3DED0519A" title="In a FORALL statement, the DML statement can have a RETURNING BULK COLLECT INTO clause. For each iteration of the FORALL statement, the DML statement stores the specified values in the specified collections—without overwriting the previous values, as the same DML statement would do in a FOR LOOP statement.">Using FORALL Statement and BULK COLLECT Clause Together</a>"</span></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>