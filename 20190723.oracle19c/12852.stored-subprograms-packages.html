<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Stored subprograms and packages can be used as building blocks for many different database applications.">
      <meta name="description" content="Stored subprograms and packages can be used as building blocks for many different database applications.">
      <title>Developing Stored Subprograms and Packages</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="2 Day Developer's Guide ">
      <meta property="og:description" content="Stored subprograms and packages can be used as building blocks for many different database applications.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="2 Day Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="2-day-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T13:00:30-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94801-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="creating-managing-schema-objects.html" title="Previous" type="text/html">
      <link rel="next" href="using-triggers.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="2 Day Developer's Guide">
    <meta name="dcterms.isVersionOf" content="TDDDG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-managing-schema-objects.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-triggers.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2 Day Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Developing Stored Subprograms and Packages</li>
            </ol>
            <a id="GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" name="GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F"></a><a id="TDDDG40000"></a>
            
            <h2 id="TDDDG-GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" class="sect2"><span class="enumeration_chapter">5 </span>Developing Stored Subprograms and Packages
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='stored-subprograms-packages'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Stored subprograms and packages can be used as building blocks for many different database applications.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-06E542A7-90A1-438A-951C-D9F60F908394">About Stored Subprograms</a><br>A <strong class="term">stored subprogram</strong> is a subprogram that is stored in the database. Because they are stored in the database, stored programs can be used as building blocks for many different database applications.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-711EE477-C725-40BE-A82B-1880EECBF912">About Packages</a><br>A <strong class="term">package</strong> is a PL/SQL unit that consists of related subprograms and the declared cursors and variables that they use. Oracle recommends that you put your subprograms into packages.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-558EF48E-4929-435C-A3CC-32EB3C048C98">About PL/SQL Identifiers</a><br>Every PL/SQL subprogram, package, parameter, variable, constant, exception, and declared cursor has a name, which is a PL/SQL identifier.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-6C848D95-8B1E-436E-835D-2225567977B5">About PL/SQL Data Types</a><br>Every PL/SQL constant, variable, subprogram parameter, and function return value has a data type that determines its storage format, constraints, valid range of values, and operations that can be performed on it.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C">Creating and Managing Standalone Subprograms</a><br>You can create and manage standalone PL/SQL subprograms.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484">Creating and Managing Packages</a><br>You can create and manage PL/SQL packages.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-57A239C2-095F-4707-A813-797B75C369AC">Declaring and Assigning Values to Variables and Constants</a><br>A variable or constant declared in a package specification is available to any program that has access to the package. A variable or constant declared in a package body or subprogram is local to that package or subprogram. When declaring a constant, you must assign it an initial value.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51">Controlling Program Flow</a><br>Unlike SQL, which runs statements in the order in which you enter them, PL/SQL has control statements that let you control the flow of your program.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38">Using Records and Cursors</a><br>You can store data values in records, and use a cursor as a pointer to a result set and related processing information.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E">Using Associative Arrays</a><br>An associative array is a type of collection.
                  </li>
                  <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-7D9BAC1B-A6AA-428E-8C08-73DB9D7911D5">Handling Exceptions (Runtime Errors)</a><br>You can handle exceptions that occur at run time with PL/SQL code.
                  </li>
               </ul>
            </div>
            <a id="TDDDG48000"></a><div class="props_rev_3"><a id="GUID-06E542A7-90A1-438A-951C-D9F60F908394" name="GUID-06E542A7-90A1-438A-951C-D9F60F908394"></a><h3 id="TDDDG-GUID-06E542A7-90A1-438A-951C-D9F60F908394" class="sect3"><span class="enumeration_section">5.1 </span>About Stored Subprograms
               </h3>
               <div>
                  <p>A <strong class="term">stored subprogram</strong> is a subprogram that is stored in the database. Because they are stored in the database, stored programs can be used as building blocks for many different database applications.
                  </p>
                  <p>A <strong class="term">subprogram</strong> is a PL/SQL unit that consists of SQL and PL/SQL statements that solve a specific problem or perform a set of related tasks. A subprogram can have parameters, whose values are supplied by the invoker. A subprogram can be either a procedure or a function. Typically, you use a procedure to perform an action and a function to compute and return a value.
                  </p>
                  <p>Because stored subprograms are stored in the database, stored programs can be used as building blocks for many different database applications. A subprogram that is declared within another subprogram, or within an anonymous block, is called a <strong class="term">nested subprogram</strong> or <strong class="term">local subprogram</strong>. It cannot be invoked from outside the subprogram or block in which it is declared. An <strong class="term">anonymous block</strong> is a block that is not stored in the database.
                  </p>
                  <p>There are two kinds of stored subprograms:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><strong class="term">Standalone subprogram</strong>, which is created at schema level
                        </p>
                     </li>
                     <li>
                        <p><strong class="term">Package subprogram</strong>, which is created inside a package
                        </p>
                     </li>
                  </ul>
                  <p>Standalone subprograms are useful for testing pieces of program logic, but when you are sure that they work as intended, Oracle recommends that you put them into packages.</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-06E542A7-90A1-438A-951C-D9F60F908394__GUID-84637F30-EC66-4225-ABD5-F28637AE8299">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/server-side-programming.html#CNCPT1776" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for general information about stored subprograms
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-subprograms.html#LNPLS008" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for complete information about PL/SQL subprograms
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TDDDG99991"></a><div class="props_rev_3"><a id="GUID-711EE477-C725-40BE-A82B-1880EECBF912" name="GUID-711EE477-C725-40BE-A82B-1880EECBF912"></a><h3 id="TDDDG-GUID-711EE477-C725-40BE-A82B-1880EECBF912" class="sect3"><span class="enumeration_section">5.2 </span>About Packages
               </h3>
               <div>
                  <p>A <strong class="term">package</strong> is a PL/SQL unit that consists of related subprograms and the declared cursors and variables that they use. Oracle recommends that you put your subprograms into packages.
                  </p>
                  <p>Some reasons that Oracle recommends that you put your subprograms into packages are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Packages allow you to hide implementation details from client programs.</p>
                        <p>Hiding implementation details from client programs is a widely accepted best practice. Many Oracle customers follow this practice strictly, allowing client programs to access the database only by invoking PL/SQL subprograms. Some customers allow client programs to use <span class="keyword">SELECT</span> statements to retrieve information from database tables, but require them to invoke PL/SQL subprograms for all business functions that change the database.
                        </p>
                     </li>
                     <li>
                        <p>Package subprograms must be qualified with package names when invoked from outside the package, which ensures that their names will always work when invoked from outside the package.</p>
                        <p>For example, suppose that you developed a schema-level procedure named CONTINUE before Oracle Database 11<span class="italic">g </span>. Oracle Database 11<span class="italic">g </span> introduced the <span class="keyword">CONTINUE</span> statement. Therefore, if you ported your code to Oracle Database 11<span class="italic">g </span>, it would no longer compile. However, if you had developed your procedure inside a package, your code would refer to the procedure as <span class="italic">package_name</span>.CONTINUE, so the code would still compile.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-711EE477-C725-40BE-A82B-1880EECBF912__GUID-A6580A92-3EDB-4442-8E2A-C4B0B92E2176">
                     <p class="notep1">Note:</p>
                     <p>Oracle Database supplies many PL/SQL packages to extend database functionality and provide PL/SQL access to SQL features. You can use the supplied packages when creating your applications or for ideas in creating your own stored procedures. For information about these packages, see <a href="../arpls/index.html" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-711EE477-C725-40BE-A82B-1880EECBF912__GUID-404044BB-9F2A-4F2D-8CA8-2FD33FDEAD73">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/server-side-programming.html#CNCPT1784" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for general information about packages
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-packages.html#LNPLS00902" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more reasons to use packages
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-packages.html#LNPLS009" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for complete information about PL/SQL packages
                           </p>
                        </li>
                        <li>
                           <p><a href="../arpls/index.html" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for complete information about the PL/SQL packages that Oracle provides
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TDDDG42210"></a><div class="props_rev_3"><a id="GUID-558EF48E-4929-435C-A3CC-32EB3C048C98" name="GUID-558EF48E-4929-435C-A3CC-32EB3C048C98"></a><h3 id="TDDDG-GUID-558EF48E-4929-435C-A3CC-32EB3C048C98" class="sect3"><span class="enumeration_section">5.3 </span>About PL/SQL Identifiers
               </h3>
               <div>
                  <p>Every PL/SQL subprogram, package, parameter, variable, constant, exception, and declared cursor has a name, which is a PL/SQL identifier.</p>
                  <p>The minimum length of an identifier is one character; the maximum length is 30 characters. The first character must be a letter, but each later character can be either a letter, numeral, dollar sign ($), underscore (_), or number sign (#). For example, these are acceptable identifiers:</p><pre class="oac_no_warn" dir="ltr">X
t2
phone#
credit_limit
LastName
oracle$number
money$$$tree
SN##
try_again_
</pre><p>PL/SQL is not case-sensitive for identifiers. For example, PL/SQL considers these to be the same:</p><pre class="oac_no_warn" dir="ltr">lastname
LastName
LASTNAME
</pre><p>You cannot use a PL/SQL reserved word as an identifier. You can use a PL/SQL keyword as an identifier, but it is not recommended. For lists of PL/SQL reserved words and keywords, see <a href="../lnpls/plsql-reserved-words-keywords.html#LNPLS019" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-558EF48E-4929-435C-A3CC-32EB3C048C98__GUID-162D313A-3EAB-452B-9120-4BF5FE111BF6">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../lnpls/plsql-language-fundamentals.html#LNPLS99973" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for additional general information about PL/SQL identifiers
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-language-fundamentals.html#LNPLS99973" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for additional information about PL/SQL naming conventions
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-language-fundamentals.html#LNPLS99945" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the scope and visibility of PL/SQL identifiers
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS01213" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information how to collect data on PL/SQL identifiers
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-name-resolution.html#LNPLS017" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about how PL/SQL resolves identifier names
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TDDDG42100"></a><div class="props_rev_3"><a id="GUID-6C848D95-8B1E-436E-835D-2225567977B5" name="GUID-6C848D95-8B1E-436E-835D-2225567977B5"></a><h3 id="TDDDG-GUID-6C848D95-8B1E-436E-835D-2225567977B5" class="sect3"><span class="enumeration_section">5.4 </span>About PL/SQL Data Types
               </h3>
               <div>
                  <p>Every PL/SQL constant, variable, subprogram parameter, and function return value has a data type that determines its storage format, constraints, valid range of values, and operations that can be performed on it.</p>
                  <p>A PL/SQL data type is either a SQL data type (such as <span class="keyword">VARCHAR2</span>, <span class="keyword">NUMBER</span>, or <span class="keyword">DATE</span>) or a PL/SQL-only data type. The latter include <span class="keyword">BOOLEAN</span>, <span class="keyword">RECORD</span>, <span class="keyword">REF CURSOR</span>, and many predefined subtypes. PL/SQL also lets you define your own subtypes.
                  </p>
                  <p>A <strong class="term">subtype</strong> is a subset of another data type, which is called its <strong class="term">base type</strong>. A subtype has the same valid operations as its base type, but only a subset of its valid values. Subtypes can increase reliability, provide compatibility with ANSI/ISO types, and improve readability by indicating the intended use of constants and variables.
                  </p>
                  <p>The predefined numeric subtype <span class="keyword">PLS_INTEGER</span> is especially useful, because its operations use hardware arithmetic, rather than the library arithmetic that its base type uses.
                  </p>
                  <p>You cannot use PL/SQL-only data types at schema level (that is, in tables or standalone subprograms). Therefore, to use these data types in a stored subprogram, you must put them in a package.</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-6C848D95-8B1E-436E-835D-2225567977B5__GUID-1C188F21-998B-4B6E-ACAF-C05D105D1587">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../lnpls/plsql-data-types.html#LNPLS003" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for general information about PL/SQL data types
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00305" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <span class="keyword">PLS_INTEGER</span> data type
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-033333E2-F3CE-4161-A6C3-BA9811E58D5D" title="When you create a table, you must specify the SQL data type for each column, which determines what values the column can contain.">About SQL Data Types</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TDDDG41000"></a><div class="props_rev_4"><a id="GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C" name="GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C"></a><h3 id="TDDDG-GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C" class="sect3"><span class="enumeration_section">5.5 </span>Creating and Managing Standalone Subprograms
               </h3>
               <div>
                  <p>You can create and manage standalone PL/SQL subprograms.</p>
                  <div class="infoboxnote" id="GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C__GUID-493716F8-6AA3-4015-A69A-E0C83E4FDE15">
                     <p class="notep1">Note:</p>
                     <p>To do the tutorials in this document, you must be connected to Oracle Database as the user HR from SQL Developer.</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-8C076E20-30D0-4E91-8485-246B02FA5BB8">About Subprogram Structure</a><br></li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44">Tutorial: Creating a Standalone Procedure</a><br>This tutorial shows how to use the Create Procedure tool to create a standalone procedure named ADD_EVALUATION that adds a row to the EVALUATIONS table.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735">Tutorial: Creating a Standalone Function</a><br>This tutorial shows how to use the Create Function tool to create a standalone function named CALCULATE_SCORE that has three parameters and returns a value of type <span class="keyword">NUMBER</span>.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-FFEAD0D9-4234-422B-A683-9CA63B0C173E">Changing Standalone Subprograms</a><br>To change a standalone subprogram, use either the SQL Developer tool Edit or the DDL statement <span class="keyword">ALTER PROCEDURE</span> or <span class="keyword">ALTER FUNCTION</span>.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-0BB18DA5-209F-4B12-9D52-4FF3074B0A5A">Tutorial: Testing a Standalone Function</a><br>This tutorial shows how to use the SQL Developer tool Run to test the standalone function CALCULATE_SCORE.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-0BA5A5AC-7E7C-4D14-9A46-8A7A15DC1F81">Dropping Standalone Subprograms</a><br>To drop a standalone subprogram, use either the SQL Developer <span class="wintitle">Connections</span> frame and Drop tool, or the DDL statement <span class="keyword">DROP PROCEDURE</span> or <span class="keyword">DROP FUNCTION</span>.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG42205"></a><div class="props_rev_3"><a id="GUID-8C076E20-30D0-4E91-8485-246B02FA5BB8" name="GUID-8C076E20-30D0-4E91-8485-246B02FA5BB8"></a><h4 id="TDDDG-GUID-8C076E20-30D0-4E91-8485-246B02FA5BB8" class="sect4"><span class="enumeration_section">5.5.1 </span>About Subprogram Structure
                  </h4>
                  <div>
                     <p></p>
                     <p>A subprogram follows PL/SQL block structure; that is, it has:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><strong class="term">Declarative part</strong> (optional)
                           </p>
                           <p>The declarative part contains declarations of types, constants, variables, exceptions, declared cursors, and nested subprograms. These items are local to the subprogram and cease to exist when the subprogram completes execution.</p>
                        </li>
                        <li>
                           <p><strong class="term">Executable part</strong> (required)
                           </p>
                           <p>The executable part contains statements that assign values, control execution, and manipulate data.</p>
                        </li>
                        <li>
                           <p><strong class="term">Exception-handling part</strong> (optional)
                           </p>
                           <p>The exception-handling part contains code that handles exceptions (runtime errors).</p>
                        </li>
                     </ul>
                     <p><strong class="term">Comments</strong> can appear anywhere in PL/SQL code. The PL/SQL compiler ignores them. Adding comments to your program promotes readability and aids understanding. A <strong class="term">single-line comment</strong> starts with a double hyphen (<code class="codeph">--</code>) and extends to the end of the line. A <strong class="term">multiline comment</strong> starts with a slash and asterisk (<code class="codeph">/*</code>) and ends with an asterisk and a slash (<code class="codeph">*/</code>).
                     </p>
                     <p>The structure of a procedure is:</p><pre class="oac_no_warn" dir="ltr">  PROCEDURE <span class="italic">name</span> [ ( <span class="italic">parameter_list</span> ) ]
  { IS | AS }
    [ <span class="italic">declarative_part</span> ]
  BEGIN  -- executable part begins
    <span class="italic">statement</span>; [ <span class="italic">statement</span>; ]...
  [ EXCEPTION -- executable part ends, exception-handling part begins]
    <span class="italic">exception_handler</span>; [ <span class="italic">exception_handler</span>; ]... ]
  END; /* exception-handling part ends if it exists;
          otherwise, executable part ends */
</pre><p>The structure of a function is like that of a procedure, except that it includes a <code class="codeph">RETURN</code> clause and at least one <code class="codeph">RETURN</code> statement (and some optional clauses that are beyond the scope of this document):
                     </p><pre class="oac_no_warn" dir="ltr">  FUNCTION <span class="italic">name</span> [ ( <span class="italic">parameter_list</span> ) ] <span class="bold">RETURN</span> <span class="italic"><span class="bold"><code class="codeph">data_type</code></span></span> [ <span class="italic">clauses</span> ]
  { IS | AS }
    [ <span class="italic">declarative_part</span> ]
  BEGIN  -- executable part begins
    -- <span class="bold">at least one statement must be a RETURN statement</span>
    <span class="italic">statement</span>; [ <span class="italic">statement</span>; ]...
  [ EXCEPTION -- executable part ends, exception-handling part begins]
    <span class="italic">exception_handler</span>; [ <span class="italic">exception_handler</span>; ]... ]
  END; /* exception-handling part ends if it exists;
          otherwise, executable part ends */
</pre><p>The code that begins with <span class="keyword">PROCEDURE</span> or <span class="keyword">FUNCTION</span> and ends before <span class="keyword">IS</span> or <span class="keyword">AS</span> is the <strong class="term">subprogram signature</strong>. The declarative, executable, and exception-handling parts comprise the <strong class="term">subprogram body</strong>. The syntax of <span class="synph">exception-handler</span> is in <span class="q">"<a href="stored-subprograms-packages.html#GUID-46958EB5-3629-4E28-A922-9899D73F93FB" title="When a runtime error occurs in PL/SQL code, an exception is raised. If the subprogram (or block) in which the exception is raised has an exception-handling part, then control transfers to it; otherwise, execution stops.">About Exceptions and Exception Handlers</a>"</span>.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8C076E20-30D0-4E91-8485-246B02FA5BB8__GUID-8B26424D-1DDB-463D-BA72-CD30C88C50A8">
                        <p class="notep1">See Also:</p>
                        <p><a href="../lnpls/plsql-subprograms.html#LNPLS99897" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about subprogram parts
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C" title="You can create and manage standalone PL/SQL subprograms.">Creating and Managing Standalone Subprograms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG215"></a><a id="TDDDG99975"></a><div class="props_rev_3"><a id="GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44" name="GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44"></a><h4 id="TDDDG-GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44" class="sect4"><span class="enumeration_section">5.5.2 </span>Tutorial: Creating a Standalone Procedure
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the Create Procedure tool to create a standalone procedure named ADD_EVALUATION that adds a row to the EVALUATIONS table.</p>
                     <div class="section">
                        <p>The EVALUATIONS table was created in <a href="creating-managing-schema-objects.html#GUID-E30613F2-506F-4A41-B167-B3F07968DD7A__CHDJCGGG">Example 4-1</a>.
                        </p>
                        <p>To create a standalone procedure, use either the SQL Developer tool Create Procedure or the DDL statement <span class="keyword">CREATE PROCEDURE</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__GUID-BA9AB9A1-FDE8-4AAC-BC13-DFD91EA15B7E">To create a standalone procedure using Create Procedure tool:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, right-click <span class="uicontrol bold">Procedures</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">New Procedure</span>.</span><div>
                              <p>The <span class="wintitle">Create Procedure</span> window opens.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>For <span class="wintitle">Schema</span>, accept the default value, HR.</span></li>
                        <li class="stepexpand"><span>For <span class="wintitle">Name</span>, change PROCEDURE1 to <kbd class="userinput">ADD_EVALUATION</kbd>.</span></li>
                        <li class="stepexpand" id="GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABJCIIF"><span>Click the icon <span class="uicontrol bold">Add Parameter</span>.</span><div>
                              <p>A row appears under the column headings. Its fields have these default values: <span class="wintitle">Name</span>, PARAM1; <span class="wintitle">Mode</span>, <span class="keyword">IN</span>; <span class="wintitle">No Copy</span>, deselected; <span class="wintitle">Data Type</span>, <span class="keyword">VARCHAR2</span>; <span class="wintitle">Default Value</span>, empty.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>For <span class="wintitle">Name</span>, change PARAM1 to <kbd class="userinput">EVALUATION_ID</kbd>.</span></li>
                        <li class="stepexpand"><span>For <span class="wintitle">Mode</span>, accept the default value, <span class="keyword">IN</span>.</span></li>
                        <li class="stepexpand"><span>For <span class="wintitle">Data Type</span>, select <span class="uicontrol bold">NUMBER</span> from the menu.</span></li>
                        <li class="stepexpand" id="GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABFCHHF"><span>Leave <span class="wintitle">Default Value</span> empty.</span></li>
                        <li class="stepexpand"><span>Add a second parameter by repeating steps&nbsp;<a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABJCIIF">6</a> through <a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABFCHHF">10</a> with the <span class="wintitle">Name</span> <kbd class="userinput">EMPLOYEE_ID</kbd> and the <span class="wintitle">Data Type</span> <span class="keyword">NUMBER</span>.</span></li>
                        <li class="stepexpand"><span>Add a third parameter by repeating steps&nbsp;<a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABJCIIF">6</a> through <a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABFCHHF">10</a> with the <span class="wintitle">Name</span> <kbd class="userinput">EVALUATION_DATE</kbd> and the <span class="wintitle">Data Type</span> <span class="keyword">DATE</span>.</span></li>
                        <li class="stepexpand"><span>Add a fourth parameter by repeating steps&nbsp;<a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABJCIIF">6</a> through <a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABFCHHF">10</a> with the <span class="wintitle">Name</span> <kbd class="userinput">JOB_ID</kbd> and the <span class="wintitle">Data Type</span> <span class="keyword">VARCHAR2</span>.</span></li>
                        <li class="stepexpand"><span>Add a fifth parameter by repeating steps&nbsp;<a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABJCIIF">6</a> through <a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABFCHHF">10</a> with the <span class="wintitle">Name</span> <kbd class="userinput">MANAGER_ID</kbd> and the <span class="wintitle">Data Type</span> <span class="keyword">NUMBER</span>.</span></li>
                        <li class="stepexpand"><span>Add a sixth parameter by repeating steps&nbsp;<a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABJCIIF">6</a> through <a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABFCHHF">10</a> with the <span class="wintitle">Name</span> <kbd class="userinput">DEPARTMENT_ID</kbd> and the <span class="wintitle">Data Type</span> <span class="keyword">NUMBER</span>.</span></li>
                        <li class="stepexpand"><span>Add a seventh parameter by repeating steps&nbsp;<a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABJCIIF">6</a> through <a href="stored-subprograms-packages.html#GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__BABFCHHF">10</a> with the <span class="wintitle">Name</span> <kbd class="userinput">TOTAL_SCORE</kbd> and the <span class="wintitle">Data Type</span> <span class="keyword">NUMBER</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span><div><pre class="oac_no_warn" dir="ltr"><span class="bold">CREATE OR REPLACE PROCEDURE</span> ADD_EVALUATION
(
  EVALUATION_ID <span class="bold">IN NUMBER</span>
, EMPLOYEE_ID <span class="bold">IN NUMBER</span>
, EVALUATION_DATE <span class="bold">IN DATE</span>
, JOB_ID <span class="bold">IN VARCHAR2</span>
, MANAGER_ID <span class="bold">IN NUMBER</span>
, DEPARTMENT_ID <span class="bold">IN NUMBER</span>
, TOTAL_SCORE <span class="bold">IN NUMBER</span>
) <span class="bold">AS</span>
<span class="bold">BEGIN</span>
  <span class="bold">NULL</span>;
<span class="bold">END</span> ADD_EVALUATION;
</pre><p>The title of the <span class="wintitle">ADD_EVALUATION</span> pane is in italic font, indicating that the procedure is not yet saved in the database.
                              </p>
                              <p>Because the execution part of the procedure contains only the <span class="keyword">NULL</span> statement, the procedure does nothing.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Replace the <span class="keyword">NULL</span> statement with this statement:</span><div><pre class="oac_no_warn" dir="ltr">INSERT INTO EVALUATIONS (
   evaluation_id,
   employee_id,
   evaluation_date,
   job_id,
   manager_id,
   department_id,
   total_score 
)
VALUES (
  ADD_EVALUATION.evaluation_id,
  ADD_EVALUATION.employee_id,
  ADD_EVALUATION.evaluation_date,
  ADD_EVALUATION.job_id,
  ADD_EVALUATION.manager_id,
  ADD_EVALUATION.department_id,
  ADD_EVALUATION.total_score
);
</pre><p>(Qualifying the parameter names with the procedure name ensures that they are not confused with the columns that have the same names.)</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>From the File menu, select <span class="uicontrol bold">Save</span>.</span><div>
                              <p>Oracle Database compiles the procedure and saves it. The title of the <span class="wintitle">ADD_EVALUATION</span> pane is no longer in italic font. The <span class="wintitle">Message - Log</span> pane has the message <samp class="sysout">Compiled</samp>.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-05E1E3F2-F1F5-4EA9-B29D-5BBA28DAEB44__GUID-D0D14C05-2176-4B78-9637-E6938BE03D1A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG20600" target="_blank"><span class="italic">Oracle SQL Developer User's Guide</span></a> for another example of using SQL Developer to create a standalone procedure
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-0663F857-7E62-464C-9EE8-42BC600FAA6C" title="Data definition language (DDL) statements create, change, and drop schema objects. Before and after a DDL statement, Oracle Database issues an implicit COMMIT statement; therefore, you cannot roll back a DDL statement.">About Data Definition Language (DDL) Statements</a>"</span> for general information that applies to the <span class="keyword">CREATE PROCEDURE</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/CREATE-PROCEDURE-statement.html#LNPLS01373" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <span class="keyword">CREATE PROCEDURE</span> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C" title="You can create and manage standalone PL/SQL subprograms.">Creating and Managing Standalone Subprograms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG216"></a><a id="TDDDG99984"></a><div class="props_rev_3"><a id="GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735" name="GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735"></a><h4 id="TDDDG-GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735" class="sect4"><span class="enumeration_section">5.5.3 </span>Tutorial: Creating a Standalone Function
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the Create Function tool to create a standalone function named CALCULATE_SCORE that has three parameters and returns a value of type <span class="keyword">NUMBER</span>.
                     </p>
                     <div class="section">
                        <p>To create a standalone function, use either the SQL Developer tool Create Function or the DDL statement <span class="keyword">CREATE FUNCTION</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735__GUID-F797379D-05C9-48ED-8DC6-599B4EFDB9AF">To create a standalone function using Create Function tool:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, right-click <span class="uicontrol bold">Functions</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">New Function</span>.</span><div>
                              <p>The <span class="wintitle">Create Function</span> window opens.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>For <span class="wintitle">Schema</span>, accept the default value, HR.</span></li>
                        <li class="stepexpand"><span>For <span class="wintitle">Name</span>, change FUNCTION1 to <kbd class="userinput">CALCULATE_SCORE</kbd>.</span></li>
                        <li class="stepexpand"><span>For <span class="wintitle">Return Type</span>, select <span class="uicontrol bold">NUMBER</span> from the menu.</span></li>
                        <li class="stepexpand" id="GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735__BABBECCF"><span>Click the icon <span class="uicontrol bold">Add Parameter</span>.</span><div>
                              <p>A row appears under the column headings. Its fields have these default values: <span class="wintitle">Name</span>, PARAM1; <span class="wintitle">Mode</span>, <span class="keyword">IN</span>; <span class="wintitle">No Copy</span>, deselected; <span class="wintitle">Data Type</span>, <span class="keyword">VARCHAR2</span>; <span class="wintitle">Default Value</span>, empty.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>For <span class="wintitle">Name</span>, change PARAM1 to <kbd class="userinput">cat</kbd>.</span></li>
                        <li class="stepexpand"><span>For <span class="wintitle">Mode</span>, accept the default value, <span class="keyword">IN</span>.</span></li>
                        <li class="stepexpand"><span>For <span class="wintitle">Data Type</span>, accept the default, <span class="keyword">VARCHAR2</span>.</span></li>
                        <li class="stepexpand" id="GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735__BABFDIBH"><span>Leave <span class="wintitle">Default Value</span> empty.</span></li>
                        <li class="stepexpand"><span>Add a second parameter by repeating steps&nbsp;<a href="stored-subprograms-packages.html#GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735__BABBECCF">7</a> through <a href="stored-subprograms-packages.html#GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735__BABFDIBH">11</a> with the <span class="wintitle">Name</span> <kbd class="userinput">score</kbd> and the <span class="wintitle">Data Type</span> <span class="keyword">NUMBER</span>.</span></li>
                        <li class="stepexpand"><span>Add a third parameter by repeating steps&nbsp;<a href="stored-subprograms-packages.html#GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735__BABBECCF">7</a> through <a href="stored-subprograms-packages.html#GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735__BABFDIBH">11</a> with the <span class="wintitle">Name</span> <kbd class="userinput">weight</kbd> and the <span class="wintitle">Data Type</span> <span class="keyword">NUMBER</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="uicontrol bold">OK</span>.</span><div>
                              <p>The <span class="wintitle">CALCULATE_SCORE</span> pane opens, showing the <span class="keyword">CREATE FUNCTION</span> statement that created the function:
                              </p><pre class="oac_no_warn" dir="ltr"><span class="bold">CREATE OR REPLACE FUNCTION</span> CALCULATE_SCORE
(
  CAT <span class="bold">IN VARCHAR2</span>
, SCORE <span class="bold">IN NUMBER</span>
, WEIGHT <span class="bold">IN NUMBER</span>
) <span class="bold">RETURN NUMBER AS</span>
<span class="bold">BEGIN</span>
  <span class="bold">RETURN NULL</span>;
<span class="bold">END</span> CALCULATE_SCORE;
</pre><p>The title of the <span class="wintitle">CALCULATE_SCORE</span> pane is in italic font, indicating that the function is not yet saved in the database.
                              </p>
                              <p>Because the only statement in the execution part of the function is the statement <span class="keyword">RETURN NULL</span>, the function does nothing.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Replace <span class="keyword">NULL</span> with <kbd class="userinput">score * weight</kbd>.</span></li>
                        <li class="stepexpand"><span>From the <span class="wintitle">File</span> menu, select <span class="uicontrol bold">Save</span>.</span><div>
                              <p>Oracle Database compiles the function and saves it. The title of the <span class="wintitle">CALCULATE_SCORE</span> pane is no longer in italic font. The <span class="wintitle">Message - Log</span> pane has the message <samp class="sysout">Compiled</samp>.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B89C969D-B6E5-4E6C-8184-58BC909EA735__GUID-ABABC482-DBA3-4222-8AE3-609485B8D836">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-0663F857-7E62-464C-9EE8-42BC600FAA6C" title="Data definition language (DDL) statements create, change, and drop schema objects. Before and after a DDL statement, Oracle Database issues an implicit COMMIT statement; therefore, you cannot roll back a DDL statement.">About Data Definition Language (DDL) Statements</a>"</span> for general information that applies to the <span class="keyword">CREATE FUNCTION</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/CREATE-FUNCTION-statement.html#LNPLS01370" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <span class="keyword">CREATE FUNCTION</span> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C" title="You can create and manage standalone PL/SQL subprograms.">Creating and Managing Standalone Subprograms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG217"></a><a id="TDDDG41200"></a><div class="props_rev_3"><a id="GUID-FFEAD0D9-4234-422B-A683-9CA63B0C173E" name="GUID-FFEAD0D9-4234-422B-A683-9CA63B0C173E"></a><h4 id="TDDDG-GUID-FFEAD0D9-4234-422B-A683-9CA63B0C173E" class="sect4"><span class="enumeration_section">5.5.4 </span>Changing Standalone Subprograms
                  </h4>
                  <div>
                     <p>To change a standalone subprogram, use either the SQL Developer tool Edit or the DDL statement <span class="keyword">ALTER PROCEDURE</span> or <span class="keyword">ALTER FUNCTION</span>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FFEAD0D9-4234-422B-A683-9CA63B0C173E__GUID-406BE374-C2DE-4BED-980A-C6B29BBD7394">To change a standalone subprogram using the Edit tool:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, expand either <span class="uicontrol bold">Functions</span> or <span class="uicontrol bold">Procedures</span>.</span><div>
                              <p>A list of functions or procedures appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the function or procedure to change.</span><div>
                              <p>To the right of the <span class="wintitle">Connections</span> frame, a frame appears. Its top tab has the name of the subprogram to change. The <span class="wintitle">Code</span> pane shows the code that created the subprogram.
                              </p>
                              <p>The <span class="wintitle">Code</span> pane is in write mode. (Clicking the pencil icon switches the mode from write mode to read only, or the reverse.)
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the <span class="wintitle">Code</span> pane, change the code.</span><div>
                              <p>The title of the pane changes to italic font, indicating that the change is not yet saved in the database.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>From the <span class="wintitle">File</span> menu, select <span class="uicontrol bold">Save</span>.</span><div>
                              <p>Oracle Database compiles the subprogram and saves it. The title of the pane is no longer in italic font. The <span class="wintitle">Message - Log</span> pane has the message <samp class="sysout">Compiled</samp>.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FFEAD0D9-4234-422B-A683-9CA63B0C173E__GUID-A9BE04CE-A824-44B8-96D6-F81AE6D7047C">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-0663F857-7E62-464C-9EE8-42BC600FAA6C" title="Data definition language (DDL) statements create, change, and drop schema objects. Before and after a DDL statement, Oracle Database issues an implicit COMMIT statement; therefore, you cannot roll back a DDL statement.">About Data Definition Language (DDL) Statements</a>"</span> for general information that applies to the <span class="keyword">ALTER PROCEDURE</span> and <span class="keyword">ALTER FUNCTION</span> statements
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/ALTER-PROCEDURE-statement.html#LNPLS99997" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <span class="keyword">ALTER PROCEDURE</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/ALTER-FUNCTION-statement.html#LNPLS99999" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <span class="keyword">ALTER FUNCTION</span> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C" title="You can create and manage standalone PL/SQL subprograms.">Creating and Managing Standalone Subprograms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG218"></a><a id="TDDDG41400"></a><div class="props_rev_3"><a id="GUID-0BB18DA5-209F-4B12-9D52-4FF3074B0A5A" name="GUID-0BB18DA5-209F-4B12-9D52-4FF3074B0A5A"></a><h4 id="TDDDG-GUID-0BB18DA5-209F-4B12-9D52-4FF3074B0A5A" class="sect4"><span class="enumeration_section">5.5.5 </span>Tutorial: Testing a Standalone Function
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the SQL Developer tool Run to test the standalone function CALCULATE_SCORE.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0BB18DA5-209F-4B12-9D52-4FF3074B0A5A__GUID-B9005814-C563-4056-868D-DD5CF5A87AB2">To test the CALCULATE_SCORE function using the Run tool:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, expand <span class="uicontrol bold">Functions</span>.</span></li>
                        <li class="stepexpand"><span>In the list of functions, right-click <span class="uicontrol bold">CALCULATE_SCORE</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Run</span>.</span><div>
                              <p>The <span class="wintitle">Run PL/SQL</span> window opens. Its PL/SQL Block frame includes this code:
                              </p><pre class="oac_no_warn" dir="ltr">v_Return := CALCULATE_SCORE (
    CAT =&gt; CAT,
    SCORE =&gt; SCORE,
    WEIGHT =&gt; WEIGHT
  );
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Change the values of <span class="wintitle">SCORE</span> and <span class="wintitle">WEIGHT</span> to <kbd class="userinput">8</kbd> and <kbd class="userinput">0.2</kbd>, respectively:</span><div><pre class="oac_no_warn" dir="ltr">v_Return := CALCULATE_SCORE (
    CAT =&gt; CAT,
    SCORE =&gt; <span class="bold">8</span>,
    WEIGHT =&gt; <span class="bold">0.2</span>
  );
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="uicontrol bold">OK</span>.</span><div>
                              <p>Under the <span class="wintitle">Code</span> pane, the <span class="wintitle">Running</span> window opens, showing this result:
                              </p><pre class="oac_no_warn" dir="ltr">Connecting to the database hr_conn.
Process exited.
Disconnecting from the database hr_conn.
</pre><p>To the right of the tab <span class="wintitle">Running</span> is the tab <span class="wintitle">Output Variables</span>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the tab <span class="uicontrol bold">Output Variables</span>.</span><div>
                              <p>Two frames appear, <span class="wintitle">Variable</span> and <span class="wintitle">Value</span>, which contain the values &lt;Return Value&gt; and 1.6, respectively.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0BB18DA5-209F-4B12-9D52-4FF3074B0A5A__GUID-582972DB-6AFC-495A-8C42-6E951C615432">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=RPTUG10600" target="_blank"><span class="italic">Oracle SQL Developer User's Guide</span></a> for information about using SQL Developer to run and debug procedures and functions
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C" title="You can create and manage standalone PL/SQL subprograms.">Creating and Managing Standalone Subprograms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG219"></a><a id="TDDDG41300"></a><div class="props_rev_3"><a id="GUID-0BA5A5AC-7E7C-4D14-9A46-8A7A15DC1F81" name="GUID-0BA5A5AC-7E7C-4D14-9A46-8A7A15DC1F81"></a><h4 id="TDDDG-GUID-0BA5A5AC-7E7C-4D14-9A46-8A7A15DC1F81" class="sect4"><span class="enumeration_section">5.5.6 </span>Dropping Standalone Subprograms
                  </h4>
                  <div>
                     <p>To drop a standalone subprogram, use either the SQL Developer <span class="wintitle">Connections</span> frame and Drop tool, or the DDL statement <span class="keyword">DROP PROCEDURE</span> or <span class="keyword">DROP FUNCTION</span>.
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-0BA5A5AC-7E7C-4D14-9A46-8A7A15DC1F81__GUID-69535032-842C-48C9-B0BA-190E766B361F">
                           <p class="notep1">Caution:</p>
                           <p>Do not drop the procedure <code class="codeph">ADD_EVALUATION</code> or the function <code class="codeph">CALCULATE_SCORE</code>—you need them for later tutorials. If you want to practice dropping subprograms, create simple ones and then drop them.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0BA5A5AC-7E7C-4D14-9A46-8A7A15DC1F81__GUID-F5CACE33-286C-4566-AC04-E52578257060">To drop a standalone subprogram using the Drop tool:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li><span>In the list of schema object types, expand either <span class="uicontrol bold">Functions</span> or <span class="uicontrol bold">Procedures</span>.</span></li>
                        <li><span>In the list of functions or procedures, right-click the name of the function or procedure to drop.</span></li>
                        <li><span>In the list of choices, click <span class="uicontrol bold">Drop</span>.</span></li>
                        <li><span>In the <span class="wintitle">Drop</span> window, click <span class="uicontrol bold">Apply</span>.</span></li>
                        <li><span>In the <span class="wintitle">Confirmation</span> window, click <span class="uicontrol bold">OK</span>.</span></li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0BA5A5AC-7E7C-4D14-9A46-8A7A15DC1F81__GUID-872CD71C-BA3D-4FBD-A478-DB45CDFC7BD7">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-0663F857-7E62-464C-9EE8-42BC600FAA6C" title="Data definition language (DDL) statements create, change, and drop schema objects. Before and after a DDL statement, Oracle Database issues an implicit COMMIT statement; therefore, you cannot roll back a DDL statement.">About Data Definition Language (DDL) Statements</a>"</span> for general information that applies to the <span class="keyword">DROP PROCEDURE</span> and <span class="keyword">DROP FUNCTION</span> statements
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/DROP-PROCEDURE.html#SQLRF01528" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <span class="keyword">DROP PROCEDURE</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/DROP-FUNCTION.html#SQLRF01518" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <span class="keyword">DROP FUNCTION</span> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-0712D99B-5AE1-4E5E-8B8E-630783D4D86C" title="You can create and manage standalone PL/SQL subprograms.">Creating and Managing Standalone Subprograms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG47000"></a><div class="props_rev_4"><a id="GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484" name="GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484"></a><h3 id="TDDDG-GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484" class="sect3"><span class="enumeration_section">5.6 </span>Creating and Managing Packages
               </h3>
               <div>
                  <p>You can create and manage PL/SQL packages.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-2B6A3A0E-59B9-421B-8446-EC98453311ED">About Package Structure</a><br>A package always has a specification, and usually has a body. The specification defines the package itself, and is an application program interface (API). The body defines  the queries for the declared cursors, and the code for the subprograms, that are declared in the package specification.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-B781B764-7A16-43A4-B3E7-310F2D53AFDA">Tutorial: Creating a Package Specification</a><br>This tutorial shows how to use the Create Package tool to create a specification for a package named EMP_EVAL, which appears in many tutorials and examples in this document.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-70B09116-C33F-452A-878E-DFFD9C91ACBD">Tutorial: Changing a Package Specification</a><br>This tutorial shows how to use the Edit tool to change the specification for the EMP_EVAL package, which appears in many tutorials and examples in this document. Specifically, the tutorial shows how to add declarations for a procedure, EVAL_DEPARTMENT, and a function, CALCULATE_SCORE.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-056688EF-E8CD-4215-A832-D004ABFB993C">Tutorial: Creating a Package Body</a><br>This tutorial shows how to use the Create Body tool to create a body for the EMP_EVAL package, which appears in many examples and tutorials in this document.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-BEE92DA5-F64D-4B6F-BA8D-216BD0F63A9C">Dropping a Package</a><br>To drop a package (both specification and body), use either the SQL Developer <span class="wintitle">Connections</span> frame and Drop tool, or the DDL statement <span class="keyword">DROP PACKAGE</span>.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484__GUID-4D7428CA-2260-4F17-B3A1-0F04A225A4E7">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="stored-subprograms-packages.html#GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" title="This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function. (This tutorial is also an example of changing a package body.)">Tutorial: Declaring Variables and Constants in a Subprogram</a>"</span>, which shows how to change a package body
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99993"></a><div class="props_rev_3"><a id="GUID-2B6A3A0E-59B9-421B-8446-EC98453311ED" name="GUID-2B6A3A0E-59B9-421B-8446-EC98453311ED"></a><h4 id="TDDDG-GUID-2B6A3A0E-59B9-421B-8446-EC98453311ED" class="sect4"><span class="enumeration_section">5.6.1 </span>About Package Structure
                  </h4>
                  <div>
                     <p>A package always has a specification, and usually has a body. The specification defines the package itself, and is an application program interface (API). The body defines  the queries for the declared cursors, and the code for the subprograms, that are declared in the package specification.</p>
                     <p>The <strong class="term">package specification</strong> defines the package, declaring the types, variables, constants, exceptions, declared cursors, and subprograms that can be referenced from outside the package. A package specification is an <strong class="term">application program interface (API)</strong>: It has all the information that client programs need to invoke its subprograms, but no information about their implementation.
                     </p>
                     <p>The <strong class="term">package body</strong> defines the queries for the declared cursors, and the code for the subprograms, that are declared in the package specification (therefore, a package with neither declared cursors nor subprograms does not need a body). The package body can also define <strong class="term">local subprograms</strong>, which are not declared in the specification and can be invoked only by other subprograms in the package. Package body contents are hidden from client programs. You can change the package body without invalidating the applications that call the package.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2B6A3A0E-59B9-421B-8446-EC98453311ED__GUID-D2F227FC-5C37-4E51-9514-38D3EF759336">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/plsql-packages.html#LNPLS00904" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about the package specification
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00905" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about the package body
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484" title="You can create and manage PL/SQL packages.">Creating and Managing Packages</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG220"></a><a id="TDDDG47200"></a><div class="props_rev_3"><a id="GUID-B781B764-7A16-43A4-B3E7-310F2D53AFDA" name="GUID-B781B764-7A16-43A4-B3E7-310F2D53AFDA"></a><h4 id="TDDDG-GUID-B781B764-7A16-43A4-B3E7-310F2D53AFDA" class="sect4"><span class="enumeration_section">5.6.2 </span>Tutorial: Creating a Package Specification
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the Create Package tool to create a specification for a package named EMP_EVAL, which appears in many tutorials and examples in this document.</p>
                     <div class="section">
                        <p>To create a package specification, use either the SQL Developer tool Create Package or the DDL statement <span class="keyword">CREATE PACKAGE</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B781B764-7A16-43A4-B3E7-310F2D53AFDA__GUID-2F3B1DD8-0C09-4493-A8DB-95B46EED637F">To create a package specification using Create Package tool:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, right-click <span class="uicontrol bold">Packages</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">New Package</span>.</span><div>
                              <p>The <span class="wintitle">Create Package</span> window opens. The field <span class="wintitle">Schema</span> has the value HR, the field <span class="wintitle">Name</span> has the default value PACKAGE1, and the check box <span class="wintitle">Add New Source In Lowercase</span> is deselected.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>For <span class="wintitle">Schema</span>, accept the default value, HR.</span></li>
                        <li class="stepexpand"><span>For <span class="wintitle">Name</span>, change the value PACKAGE1 to <kbd class="userinput">EMP_EVAL</kbd>.</span></li>
                        <li class="stepexpand"><span>Click <span class="underline">OK</span>.</span><div>
                              <p>The <span class="wintitle">EMP_EVAL</span> pane opens, showing the <span class="keyword">CREATE PACKAGE</span> statement that created the package:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE emp_eval AS
 
  /* TODO enter package declarations (types, exceptions, methods etc) here */
 
END emp_eval;
</pre><p>The title of the pane is in italic font, indicating that the package is not saved to the database.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>(Optional) In the <span class="keyword">CREATE PACKAGE</span> statement, replace the comment with declarations.</span><div>
                              <p>If you do not do this step now, you can do it later, as in <span class="q">"<a href="stored-subprograms-packages.html#GUID-70B09116-C33F-452A-878E-DFFD9C91ACBD" title="This tutorial shows how to use the Edit tool to change the specification for the EMP_EVAL package, which appears in many tutorials and examples in this document. Specifically, the tutorial shows how to add declarations for a procedure, EVAL_DEPARTMENT, and a function, CALCULATE_SCORE.">Tutorial: Changing a Package Specification</a>"</span>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>From the File menu, select <span class="uicontrol bold">Save</span>.</span><div>
                              <p>Oracle Database compiles the package and saves it. The title of the <span class="wintitle">EMP_EVAL</span> pane is no longer in italic font.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B781B764-7A16-43A4-B3E7-310F2D53AFDA__GUID-221A38C5-3809-4A88-A491-E363FF240EFC">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01371" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <span class="keyword">CREATE PACKAGE</span> statement (for the package specification)
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484" title="You can create and manage PL/SQL packages.">Creating and Managing Packages</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG221"></a><a id="TDDDG47300"></a><div class="props_rev_3"><a id="GUID-70B09116-C33F-452A-878E-DFFD9C91ACBD" name="GUID-70B09116-C33F-452A-878E-DFFD9C91ACBD"></a><h4 id="TDDDG-GUID-70B09116-C33F-452A-878E-DFFD9C91ACBD" class="sect4"><span class="enumeration_section">5.6.3 </span>Tutorial: Changing a Package Specification
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the Edit tool to change the specification for the EMP_EVAL package, which appears in many tutorials and examples in this document. Specifically, the tutorial shows how to add declarations for a procedure, EVAL_DEPARTMENT, and a function, CALCULATE_SCORE.</p>
                     <div class="section">
                        <p>To change a package specification, use either the SQL Developer tool Edit or the DDL statement <span class="keyword">CREATE PACKAGE</span> with the <span class="keyword">OR REPLACE</span> clause.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-70B09116-C33F-452A-878E-DFFD9C91ACBD__GUID-6A5B280D-6F44-4AAC-A693-252B9B465820">To change EMP_EVAL package specification using the Edit tool:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, expand <span class="uicontrol bold">Packages</span>.</span></li>
                        <li class="stepexpand"><span>In the list of packages, right-click <span class="uicontrol bold">EMP_EVAL</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Edit</span>.</span><div>
                              <p>The <span class="wintitle">EMP_EVAL</span> pane opens, showing the <span class="keyword">CREATE PACKAGE</span> statement that created the package:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE emp_eval AS
 
  /* TODO enter package declarations (types, exceptions, methods etc) here */
 
END emp_eval;
</pre><p>The title of the pane is not in italic font, indicating that the package is saved in the database.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the <span class="wintitle">EMP_EVAL</span> pane, replace the comment with this code:</span><div><pre class="oac_no_warn" dir="ltr">PROCEDURE eval_department ( dept_id IN NUMBER );

FUNCTION calculate_score ( evaluation_id IN NUMBER
                         , performance_id IN NUMBER)
                         RETURN NUMBER;
</pre><p>The title of the <span class="wintitle">EMP_EVAL</span> pane changes to italic font, indicating that the changes have not been saved to the database.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the icon <span class="uicontrol bold">Compile</span>.</span><div>
                              <p>The changed package specification compiles and is saved to the database. The title of the <span class="wintitle">EMP_EVAL</span> pane is no longer in italic font.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-70B09116-C33F-452A-878E-DFFD9C91ACBD__GUID-8DE570FA-01D1-4655-B38B-C818BCA122E0">
                        <p class="notep1">See Also:</p>
                        <p><a href="../lnpls/CREATE-PACKAGE-statement.html#LNPLS01371" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <span class="keyword">CREATE PACKAGE</span> statement with the <code class="codeph">OR</code> <code class="codeph">REPLACE</code> clause
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484" title="You can create and manage PL/SQL packages.">Creating and Managing Packages</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG222"></a><a id="TDDDG99992"></a><div class="props_rev_3"><a id="GUID-056688EF-E8CD-4215-A832-D004ABFB993C" name="GUID-056688EF-E8CD-4215-A832-D004ABFB993C"></a><h4 id="TDDDG-GUID-056688EF-E8CD-4215-A832-D004ABFB993C" class="sect4"><span class="enumeration_section">5.6.4 </span>Tutorial: Creating a Package Body
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the Create Body tool to create a body for the EMP_EVAL package, which appears in many examples and tutorials in this document.</p>
                     <div class="section">
                        <p>To create a package body, use either the SQL Developer tool Create Body or the DDL statement <span class="keyword">CREATE PACKAGE BODY</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-056688EF-E8CD-4215-A832-D004ABFB993C__GUID-0672CCC1-7D49-4AA0-82D8-837A75F4A5CE">To create a body for the package EMP_EVAL using the Create Body tool:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, expand <span class="uicontrol bold">Packages</span>.</span></li>
                        <li class="stepexpand"><span>In the list of packages, right-click <span class="uicontrol bold">EMP_EVAL</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Create Body</span>.</span><div>
                              <p>The <span class="wintitle">EMP_EVAL Body</span> pane appears, showing the automatically generated code for the package body:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE
PACKAGE BODY EMP_EVAL AS
 
  PROCEDURE eval_department(dept_id IN NUMBER) AS
  BEGIN
    -- TODO implementation required for PROCEDURE EMP_EVAL.eval_department
    NULL;
  END eval_department;
 
  FUNCTION calculate_score ( evaluation_id IN NUMBER
                           , performance_id IN NUMBER)
                           RETURN NUMBER AS
  BEGIN
    -- TODO implementation required for FUNCTION EMP_EVAL.calculate_score
    RETURN NULL;
  END calculate_score;

END EMP_EVAL;
</pre><p>The title of the pane is in italic font, indicating that the code is not saved in the database.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>(Optional) In the <span class="keyword">CREATE PACKAGE BODY</span> statement:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Replace the comments with executable statements.</p>
                                 </li>
                                 <li>
                                    <p>(Optional) In the executable part of the procedure, either delete <span class="keyword">NULL</span> or replace it with an executable statement.
                                    </p>
                                 </li>
                                 <li>
                                    <p>(Optional) In the executable part of the function, either replace <span class="keyword">NULL</span> with another expression.
                                    </p>
                                 </li>
                              </ul>
                              <p>If you do not do this step now, you can do it later, as in <span class="q">"<a href="stored-subprograms-packages.html#GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" title="This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function. (This tutorial is also an example of changing a package body.)">Tutorial: Declaring Variables and Constants in a Subprogram</a>"</span>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the icon <span class="uicontrol bold">Compile</span>.</span><div>
                              <p>The changed package body compiles and is saved to the database. The title of the <span class="wintitle">EMP_EVAL Body</span> pane is no longer in italic font.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-056688EF-E8CD-4215-A832-D004ABFB993C__GUID-77E24372-5850-4612-A06D-E591A021113E">
                        <p class="notep1">See Also:</p>
                        <p><a href="../lnpls/CREATE-PACKAGE-BODY-statement.html#LNPLS01372" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <span class="keyword">CREATE PACKAGE BODY</span> statement (for the package body)
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484" title="You can create and manage PL/SQL packages.">Creating and Managing Packages</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG223"></a><a id="TDDDG47400"></a><div class="props_rev_3"><a id="GUID-BEE92DA5-F64D-4B6F-BA8D-216BD0F63A9C" name="GUID-BEE92DA5-F64D-4B6F-BA8D-216BD0F63A9C"></a><h4 id="TDDDG-GUID-BEE92DA5-F64D-4B6F-BA8D-216BD0F63A9C" class="sect4"><span class="enumeration_section">5.6.5 </span>Dropping a Package
                  </h4>
                  <div>
                     <p>To drop a package (both specification and body), use either the SQL Developer <span class="wintitle">Connections</span> frame and Drop tool, or the DDL statement <span class="keyword">DROP PACKAGE</span>.
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-BEE92DA5-F64D-4B6F-BA8D-216BD0F63A9C__GUID-AFCAC6C8-960E-4555-A55B-A798A1C5A6B1">
                           <p class="notep1">Caution:</p>
                           <p>Do not drop the package EMP_EVAL—you need it for later tutorials. If you want to practice dropping packages, create simple ones and then drop them.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BEE92DA5-F64D-4B6F-BA8D-216BD0F63A9C__GUID-CD2EF23B-3AEA-4E83-8918-4F85D4D9DA82">To drop a package using the Drop tool:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, expand <span class="uicontrol bold">Packages</span>.</span><div>
                              <p>A list of packages appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the list of packages, right-click the name of the package to drop.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Drop Package</span>.</span></li>
                        <li class="stepexpand"><span>In the <span class="wintitle">Drop</span> window, click <span class="uicontrol bold">Apply</span>.</span></li>
                        <li class="stepexpand"><span>In the <span class="wintitle">Confirmation</span> window, click <span class="uicontrol bold">OK</span>.</span></li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-BEE92DA5-F64D-4B6F-BA8D-216BD0F63A9C__GUID-DD88B5C9-67C1-4CFE-8B3B-ADA75CF28DA2">
                        <p class="notep1">See Also:</p>
                        <p><a href="../lnpls/DROP-PACKAGE-statement.html#LNPLS99992" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about the <span class="keyword">DROP PACKAGE</span> statement
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-84755B9D-6E53-4066-8FEE-5FD1A42B6484" title="You can create and manage PL/SQL packages.">Creating and Managing Packages</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG42000"></a><div class="props_rev_3"><a id="GUID-57A239C2-095F-4707-A813-797B75C369AC" name="GUID-57A239C2-095F-4707-A813-797B75C369AC"></a><h3 id="TDDDG-GUID-57A239C2-095F-4707-A813-797B75C369AC" class="sect3"><span class="enumeration_section">5.7 </span>Declaring and Assigning Values to Variables and Constants
               </h3>
               <div>
                  <p>A variable or constant declared in a package specification is available to any program that has access to the package. A variable or constant declared in a package body or subprogram is local to that package or subprogram. When declaring a constant, you must assign it an initial value.</p>
                  <p>One significant advantage that PL/SQL has over SQL is that PL/SQL lets you declare and use variables and constants.</p>
                  <p>A variable or constant declared in a package specification is available to any program that has access to the package. A variable or constant declared in a package body or subprogram is local to that package or subprogram.</p>
                  <p>A <strong class="term">variable</strong> holds a value of a particular data type. Your program can change the value at runtime. A <strong class="term">constant</strong> holds a value that cannot be changed.
                  </p>
                  <p>A variable or constant can have any PL/SQL data type. When declaring a variable, you can assign it an initial value; if you do not, its initial value is <span class="keyword">NULL</span>. When declaring a constant, you must assign it an initial value. To assign an initial value to a variable or constant, use the assignment operator (<code class="codeph">:=</code>).
                  </p>
                  <div class="infobox-tip" id="GUID-57A239C2-095F-4707-A813-797B75C369AC__GUID-C63C14DC-79BD-4963-98A1-092ED3F88BEF">
                     <p class="notep1">Tip:</p>
                     <p>Declare all values that do not change as constants. This practice optimizes your compiled code and makes your source code easier to maintain.</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413">Tutorial: Declaring Variables and Constants in a Subprogram</a><br>This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function.  (This tutorial is also an example of changing a package body.)
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-3B89ACCF-1BF4-480C-AE7D-855D11BA1E95">Ensuring that Variables, Constants, and Parameters Have Correct Data Types</a><br>Ensure that variables, constants, and parameters have the correct data types by declaring them with the <span class="keyword">%TYPE</span> attribute.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-592F12C2-5BD0-434F-AF77-7CE941223A89">Tutorial: Changing Declarations to Use the %TYPE Attribute</a><br>This tutorial shows how to use the SQL Developer tool Edit to change the declarations of the variables, constants, and formal parameters of the EMP_EVAL.CALCULATE_SCORE function to use the <span class="keyword">%TYPE</span> attribute.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-82079350-4F1D-48F8-96E0-935DF9A78568">Assigning Values to Variables</a><br></li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-57A239C2-095F-4707-A813-797B75C369AC__GUID-4EF8C839-AA2B-4D8C-A0F0-91D4CFD9AB42">
                     <p class="notep1">See Also:</p>
                     <p><a href="../lnpls/plsql-language-fundamentals.html#LNPLS00202" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for general information about variables and constants
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG224"></a><a id="TDDDG42200"></a><div class="props_rev_3"><a id="GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" name="GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413"></a><h4 id="TDDDG-GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" class="sect4"><span class="enumeration_section">5.7.1 </span>Tutorial: Declaring Variables and Constants in a Subprogram
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function.  (This tutorial is also an example of changing a package body.)</p>
                     <div class="section">
                        <p>The EMP_EVAL.CALCULATE_SCORE function is specified in <span class="q">"<a href="stored-subprograms-packages.html#GUID-B781B764-7A16-43A4-B3E7-310F2D53AFDA" title="This tutorial shows how to use the Create Package tool to create a specification for a package named EMP_EVAL, which appears in many tutorials and examples in this document.">Tutorial: Creating a Package Specification</a>"</span>).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413__GUID-C0B862F5-7AC8-4564-8386-D9C23570D356">To declare variables and constants in CALCULATE_SCORE function:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, expand <span class="uicontrol bold">Packages</span>.</span></li>
                        <li class="stepexpand"><span>In the list of packages, expand <span class="uicontrol bold">EMP_EVAL</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, right-click <span class="uicontrol bold">EMP_EVAL Body</span>.</span><div>
                              <p>A list of choices appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Edit</span>.</span><div>
                              <p>The <span class="wintitle">EMP_EVAL Body</span> pane appears, showing the code for the package body:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE
PACKAGE BODY EMP_EVAL AS
 
  PROCEDURE eval_department ( dept_id IN NUMBER ) AS

  BEGIN
    -- TODO implementation required for PROCEDURE EMP_EVAL.eval_department
    NULL;
  END eval_department;
 
  FUNCTION calculate_score ( evaluation_id IN NUMBER
                           , performance_id IN NUMBER)
                           RETURN NUMBER AS
  BEGIN
    -- TODO implementation required for FUNCTION EMP_EVAL.calculate_score
    RETURN NULL;
  END calculate_score;

END EMP_EVAL;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Between <code class="codeph">RETURN NUMBER AS</code> and <code class="codeph">BEGIN</code>, add these variable and constant declarations:</span><div><pre class="oac_no_warn" dir="ltr">n_score       NUMBER(1,0);                -- variable
n_weight      NUMBER;                     -- variable
max_score     CONSTANT NUMBER(1,0) := 9;  -- constant, initial value 9
max_weight    CONSTANT NUMBER(8,8) := 1;  -- constant, initial value 1
</pre><p>The title of the <span class="wintitle">EMP_EVAL Body</span>pane changes to italic font, indicating that the code is not saved in the database.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>From the <span class="wintitle">File</span> menu, select <span class="uicontrol bold">Save</span>.</span><div>
                              <p>Oracle Database compiles and saves the changed package body. The title of the <span class="wintitle">EMP_EVAL Body</span> pane is no longer in italic font.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413__GUID-E62F560B-7A23-4192-AF8A-39C7123B2F0F">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/plsql-language-fundamentals.html#LNPLS00202" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for general information about declaring variables and constants
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="stored-subprograms-packages.html#GUID-5BBDCDC0-B8DD-4263-9014-5144883ED2B0" title="With the assignment operator (:=), you can assign the value of an expression to a variable in either the declarative or executable part of a subprogram.">Assigning Values to Variables with the Assignment Operator</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-57A239C2-095F-4707-A813-797B75C369AC" title="A variable or constant declared in a package specification is available to any program that has access to the package. A variable or constant declared in a package body or subprogram is local to that package or subprogram. When declaring a constant, you must assign it an initial value.">Declaring and Assigning Values to Variables and Constants</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG42220"></a><div class="props_rev_3"><a id="GUID-3B89ACCF-1BF4-480C-AE7D-855D11BA1E95" name="GUID-3B89ACCF-1BF4-480C-AE7D-855D11BA1E95"></a><h4 id="TDDDG-GUID-3B89ACCF-1BF4-480C-AE7D-855D11BA1E95" class="sect4"><span class="enumeration_section">5.7.2 </span>Ensuring that Variables, Constants, and Parameters Have Correct Data Types
                  </h4>
                  <div>
                     <p>Ensure that variables, constants, and parameters have the correct data types by declaring them with the <span class="keyword">%TYPE</span> attribute.
                     </p>
                     <p>After <span class="q">"<a href="stored-subprograms-packages.html#GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" title="This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function. (This tutorial is also an example of changing a package body.)">Tutorial: Declaring Variables and Constants in a Subprogram</a>"</span>, the code for the EMP_EVAL.CALCULATE_SCORE function is:
                     </p><pre class="oac_no_warn" dir="ltr">FUNCTION calculate_score ( evaluation_id IN NUMBER
                          , performance_id IN NUMBER )
                          RETURN NUMBER AS
  n_score       NUMBER(1,0);                -- variable
  n_weight      NUMBER;                     -- variable
  max_score     CONSTANT NUMBER(1,0) := 9;  -- constant, initial value 9
  max_weight    CONSTANT NUMBER(8,8) := 1;  -- constant, initial value 1
  BEGIN
    -- TODO implementation required for FUNCTION EMP_EVAL.calculate_score
    RETURN NULL;
  END calculate_score;
</pre><p>The variables, constants, and parameters of the function represent values from the tables SCORES and PERFORMANCE_PARTS (created in <span class="q">"<a href="creating-managing-schema-objects.html#GUID-87AA2B05-2B7B-49D9-AD21-1B2877113D23" title="To create tables, use either the SQL Developer tool Create Table or the DDL statement CREATE TABLE.">Creating Tables</a>"</span>):
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Variable n_score will hold a value from the column SCORE.SCORES and constant max_score will be compared to such values.</p>
                        </li>
                        <li>
                           <p>Variable n_weight will hold a value from the column PERFORMANCE_PARTS.WEIGHT and constant max_weight will be compared to such values.</p>
                        </li>
                        <li>
                           <p>Parameter evaluation_id will hold a value from the column SCORE.EVALUATION_ID.</p>
                        </li>
                        <li>
                           <p>Parameter performance_id will hold a value from the column SCORE.PERFORMANCE_ID.</p>
                        </li>
                     </ul>
                     <p>Therefore, each variable, constant, and parameter has the same data type as its corresponding column.</p>
                     <p>If the data types of the columns change, you want the data types of the variables, constants, and parameters to change to the same data types; otherwise, the CALCULATE_SCORE function is invalidated.</p>
                     <p>To ensure that the data types of the variables, constants, and parameters always match those of the columns, declare them with the <span class="keyword">%TYPE</span> attribute. The <span class="keyword">%TYPE</span> attribute supplies the data type of a table column or another variable, ensuring the correct data type assignment.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3B89ACCF-1BF4-480C-AE7D-855D11BA1E95__GUID-F98C4322-9E67-469E-8E84-FB9C1CEDD9C3">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/plsql-language-fundamentals.html#LNPLS99970" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about the <code class="codeph">%TYPE</code> attribute
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/TYPE-attribute.html#LNPLS01352" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of the <span class="keyword">%TYPE</span> attribute
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-57A239C2-095F-4707-A813-797B75C369AC" title="A variable or constant declared in a package specification is available to any program that has access to the package. A variable or constant declared in a package body or subprogram is local to that package or subprogram. When declaring a constant, you must assign it an initial value.">Declaring and Assigning Values to Variables and Constants</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG225"></a><a id="TDDDG99960"></a><div class="props_rev_3"><a id="GUID-592F12C2-5BD0-434F-AF77-7CE941223A89" name="GUID-592F12C2-5BD0-434F-AF77-7CE941223A89"></a><h4 id="TDDDG-GUID-592F12C2-5BD0-434F-AF77-7CE941223A89" class="sect4"><span class="enumeration_section">5.7.3 </span>Tutorial: Changing Declarations to Use the %TYPE Attribute
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the SQL Developer tool Edit to change the declarations of the variables, constants, and formal parameters of the EMP_EVAL.CALCULATE_SCORE function to use the <span class="keyword">%TYPE</span> attribute.
                     </p>
                     <div class="section">
                        <p>The EMP_EVAL.CALCULATE_SCORE function is shown in <span class="q">"<a href="stored-subprograms-packages.html#GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" title="This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function. (This tutorial is also an example of changing a package body.)">Tutorial: Declaring Variables and Constants in a Subprogram</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-592F12C2-5BD0-434F-AF77-7CE941223A89__GUID-ADA83268-0997-4980-BFFF-EF168E12928A">To change the declarations in CALCULATE_SCORE to use %TYPE:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, expand <span class="uicontrol bold">Packages</span>.</span></li>
                        <li class="stepexpand"><span>In the list of packages, expand <span class="uicontrol bold">EMP_EVAL</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, right-click <span class="uicontrol bold">EMP_EVAL Body</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Edit</span>.</span><div>
                              <p>The <span class="wintitle">EMP_EVAL Body</span>pane appears, showing the code for the package body:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE
PACKAGE BODY emp_eval AS
 
  PROCEDURE eval_department ( dept_id IN NUMBER ) AS
  BEGIN
    -- TODO implementation required for PROCEDURE EMP_EVAL.eval_department
    NULL;
  END eval_department;
 
  FUNCTION calculate_score ( evaluation_id IN NUMBER
                           , performance_id IN NUMBER )
                           RETURN NUMBER AS
  n_score       NUMBER(1,0);                -- variable
  n_weight      NUMBER;                     -- variable
  max_score     CONSTANT NUMBER(1,0) := 9;  -- constant, initial value 9
  max_weight    CONSTANT NUMBER(8,8) := 1;  -- constant, initial value 1
  BEGIN
    -- TODO implementation required for FUNCTION EMP_EVAL.calculate_score
    RETURN NULL;
  END calculate_score;

END emp_eval;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>In the code for the function, make the changes shown in bold font:</span><div><pre class="oac_no_warn" dir="ltr">  FUNCTION calculate_score ( evaluation_id IN <span class="bold">SCORES.EVALUATION_ID%TYPE</span>
                            , performance_id IN <span class="bold">SCORES.PERFORMANCE_ID%TYPE</span>)
                            RETURN NUMBER AS
  n_score       <span class="bold">SCORES.SCORE%TYPE</span>;
  n_weight      <span class="bold">PERFORMANCE_PARTS.WEIGHT%TYPE</span>;
  max_score     CONSTANT <span class="bold">SCORES.SCORE%TYPE</span> := 9;
  max_weight    CONSTANT <span class="bold">PERFORMANCE_PARTS.WEIGHT%TYPE</span> := 1;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Right-click <span class="uicontrol bold">EMP_EVAL</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Edit</span>.</span><div>
                              <p>The <span class="wintitle">EMP_EVAL pane</span>opens, showing the <span class="keyword">CREATE PACKAGE</span> statement that created the package:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE EMP_EVAL AS
 
PROCEDURE eval_department(dept_id IN NUMBER);
FUNCTION calculate_score(evaluation_id IN NUMBER
                        , performance_id IN NUMBER)
                          RETURN NUMBER;
 
END EMP_EVAL;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>In the code for the function, make the changes shown in bold font:</span><div><pre class="oac_no_warn" dir="ltr">FUNCTION calculate_score(evaluation_id IN <span class="bold">scores.evaluation_id%TYPE</span>
                        , performance_id IN <span class="bold">scores.performance_id%TYPE</span>)
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Right-click <span class="uicontrol bold">EMP_EVAL</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Compile</span>.</span></li>
                        <li class="stepexpand"><span>Right-click <span class="uicontrol bold">EMP_EVAL Body</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Compile</span>.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-57A239C2-095F-4707-A813-797B75C369AC" title="A variable or constant declared in a package specification is available to any program that has access to the package. A variable or constant declared in a package body or subprogram is local to that package or subprogram. When declaring a constant, you must assign it an initial value.">Declaring and Assigning Values to Variables and Constants</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG42300"></a><div class="props_rev_3"><a id="GUID-82079350-4F1D-48F8-96E0-935DF9A78568" name="GUID-82079350-4F1D-48F8-96E0-935DF9A78568"></a><h4 id="TDDDG-GUID-82079350-4F1D-48F8-96E0-935DF9A78568" class="sect4"><span class="enumeration_section">5.7.4 </span>Assigning Values to Variables
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can assign a value to a variable in these ways:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the assignment operator to assign it the value of an expression.</p>
                           </li>
                           <li>
                              <p>Use the <span class="keyword">SELECT INTO</span> or <span class="keyword">FETCH</span> statement to assign it a value from a table.
                              </p>
                           </li>
                           <li>
                              <p>Pass it to a subprogram as an <span class="keyword">OUT</span> or <span class="keyword">IN OUT</span> parameter, and then assign the value inside the subprogram.
                              </p>
                           </li>
                           <li>
                              <p>Bind the variable to a value.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-5BBDCDC0-B8DD-4263-9014-5144883ED2B0">Assigning Values to Variables with the Assignment Operator</a><br>With the assignment operator (<code class="codeph">:=</code>), you can assign the value of an expression to a variable in either the declarative or executable part of a subprogram.
                        </li>
                        <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-3D2B6489-265A-432B-BBC1-2409235493E2">Assigning Values to Variables with the SELECT INTO Statement</a><br>To use table values in subprograms or packages, you must assign them to variables with <span class="keyword">SELECT INTO</span> statements.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-82079350-4F1D-48F8-96E0-935DF9A78568__GUID-564B2867-EFB3-4743-865A-320D8A5A95D5">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/plsql-language-fundamentals.html#LNPLS00205" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about assigning values to variables
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=TDPJD210" target="_blank"><span class="italic">Oracle Database 2 Day + Java Developer's Guide</span></a> for information about binding variables
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-57A239C2-095F-4707-A813-797B75C369AC" title="A variable or constant declared in a package specification is available to any program that has access to the package. A variable or constant declared in a package body or subprogram is local to that package or subprogram. When declaring a constant, you must assign it an initial value.">Declaring and Assigning Values to Variables and Constants</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TDDDG226"></a><a id="TDDDG42320"></a><div class="props_rev_3"><a id="GUID-5BBDCDC0-B8DD-4263-9014-5144883ED2B0" name="GUID-5BBDCDC0-B8DD-4263-9014-5144883ED2B0"></a><h5 id="TDDDG-GUID-5BBDCDC0-B8DD-4263-9014-5144883ED2B0" class="sect5"><span class="enumeration_section">5.7.4.1 </span>Assigning Values to Variables with the Assignment Operator
                     </h5>
                     <div>
                        <p>With the assignment operator (<code class="codeph">:=</code>), you can assign the value of an expression to a variable in either the declarative or executable part of a subprogram.
                        </p>
                        <div class="section">
                           <p>In the declarative part of a subprogram, you can assign an initial value to a variable when you declare it. The syntax is:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">variable_name</span> <span class="italic">data_type</span> <span class="bold">:=</span> <span class="italic">expression</span>;
</pre><p>In the executable part of a subprogram, you can assign a value to a variable with an assignment statement. The syntax is:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">variable_name</span> <span class="bold">:=</span> <span class="italic">expression</span>;
</pre><p><a href="stored-subprograms-packages.html#GUID-5BBDCDC0-B8DD-4263-9014-5144883ED2B0__BABDEEDD">Example 5-1</a> shows, in bold font, the changes to make to the EMP_EVAL.CALCULATE_SCORE function to add a variable, running_total, and use it as the return value of the function. The assignment operator appears in both the declarative and executable parts of the function. (The data type of running_total must be <span class="keyword">NUMBER</span>, rather than SCORES.SCORE%TYPE or PERFORMANCE_PARTS.WEIGHT%TYPE, because it holds the product of two <span class="keyword">NUMBER</span> values with different precisions and scales.)
                           </p>
                           <div class="infoboxnotealso" id="GUID-5BBDCDC0-B8DD-4263-9014-5144883ED2B0__GUID-761A2074-C3F7-4918-AC61-06F025DDEC21">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01388" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for variable declaration syntax
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01301" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for assignment statement syntax
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-5BBDCDC0-B8DD-4263-9014-5144883ED2B0__BABDEEDD">
                           <p class="titleinexample">Example 5-1 Assigning Values to a Variable with Assignment Operator</p><pre class="oac_no_warn" dir="ltr">FUNCTION calculate_score(evaluation_id IN SCORES.EVALUATION_ID%TYPE
                         , performance_id IN SCORES.PERFORMANCE_ID%TYPE)
                         RETURN NUMBER AS
  n_score       SCORES.SCORE%TYPE;
  n_weight      PERFORMANCE_PARTS.WEIGHT%TYPE;
  <span class="bold">running_total NUMBER := 0;</span>
  max_score     CONSTANT SCORES.SCORE%TYPE := 9;
  max_weight    CONSTANT PERFORMANCE_PARTS.WEIGHT%TYPE:= 1;
BEGIN
  <span class="bold">running_total := max_score * max_weight;</span>
  RETURN <span class="bold">running_total</span>;
END calculate_score;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-82079350-4F1D-48F8-96E0-935DF9A78568">Assigning Values to Variables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG227"></a><a id="TDDDG228"></a><a id="TDDDG42330"></a><div class="props_rev_3"><a id="GUID-3D2B6489-265A-432B-BBC1-2409235493E2" name="GUID-3D2B6489-265A-432B-BBC1-2409235493E2"></a><h5 id="TDDDG-GUID-3D2B6489-265A-432B-BBC1-2409235493E2" class="sect5"><span class="enumeration_section">5.7.4.2 </span>Assigning Values to Variables with the SELECT INTO Statement
                     </h5>
                     <div>
                        <p>To use table values in subprograms or packages, you must assign them to variables with <span class="keyword">SELECT INTO</span> statements.
                        </p>
                        <div class="section">
                           <p><a href="stored-subprograms-packages.html#GUID-3D2B6489-265A-432B-BBC1-2409235493E2__BABFIGBI">Example 5-2</a> shows, in bold font, the changes to make to the EMP_EVAL.CALCULATE_SCORE function to have it calculate running_total from table values.
                           </p>
                           <p>The ADD_EVAL procedure in <a href="stored-subprograms-packages.html#GUID-3D2B6489-265A-432B-BBC1-2409235493E2__BABBDEHA">Example 5-3</a> inserts a row into the EVALUATIONS table, using values from the corresponding row in the EMPLOYEES table. Add the ADD_EVAL procedure to the body of the EMP_EVAL package, but not to the specification. Because it is not in the specification, ADD_EVAL is local to the package—it can be invoked only by other subprograms in the package, not from outside the package.
                           </p>
                           <div class="infoboxnotealso" id="GUID-3D2B6489-265A-432B-BBC1-2409235493E2__GUID-A0659E0C-1E4E-40CE-89C6-4F34698A87A7">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01345" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about the <span class="keyword">SELECT INTO</span> statement
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-3D2B6489-265A-432B-BBC1-2409235493E2__BABFIGBI">
                           <p class="titleinexample">Example 5-2 Assigning Table Values to Variables with SELECT INTO</p><pre class="oac_no_warn" dir="ltr">FUNCTION calculate_score ( evaluation_id IN scores.evaluation_id%TYPE
                         , performance_id IN scores.performance_id%TYPE )
                         RETURN NUMBER AS

  n_score       scores.score%TYPE;
  n_weight      performance_parts.weight%TYPE;
  running_total NUMBER := 0;
  max_score     CONSTANT scores.score%TYPE := 9;
  max_weight    CONSTANT performance_parts.weight%TYPE:= 1;
BEGIN
  <span class="bold">SELECT s.score INTO n_score</span>
  <span class="bold">FROM SCORES s</span>
  <span class="bold">WHERE evaluation_id = s.evaluation_id </span>
  <span class="bold">AND performance_id = s.performance_id;</span>

  <span class="bold">SELECT p.weight INTO n_weight</span>
  <span class="bold">FROM PERFORMANCE_PARTS p</span>
  <span class="bold">WHERE performance_id = p.performance_id;</span>

  running_total := <span class="bold">n_score * n_weight</span>;
  RETURN running_total;
END calculate_score;
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-3D2B6489-265A-432B-BBC1-2409235493E2__BABBDEHA">
                           <p class="titleinexample">Example 5-3 Inserting a Table Row with Values from Another Table</p><pre class="oac_no_warn" dir="ltr">PROCEDURE add_eval ( employee_id IN EMPLOYEES.EMPLOYEE_ID%TYPE
                   , today IN DATE )
AS
  job_id         EMPLOYEES.JOB_ID%TYPE;
  manager_id     EMPLOYEES.MANAGER_ID%TYPE;
  department_id  EMPLOYEES.DEPARTMENT_ID%TYPE;
BEGIN
  INSERT INTO EVALUATIONS (
    evaluation_id,
    employee_id,
    evaluation_date,
    job_id,
    manager_id,
    department_id,
    total_score
  )
  SELECT
    evaluations_sequence.NEXTVAL,   -- evaluation_id
    add_eval.employee_id,      -- employee_id
    add_eval.today,            -- evaluation_date
    e.job_id,                  -- job_id
    e.manager_id,              -- manager_id
    e.department_id,           -- department_id
    0                          -- total_score
  FROM employees e;

  IF SQL%ROWCOUNT = 0 THEN
    RAISE NO_DATA_FOUND;
  END IF;
END add_eval;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-82079350-4F1D-48F8-96E0-935DF9A78568">Assigning Values to Variables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="TDDDG44000"></a><div class="props_rev_4"><a id="GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51" name="GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51"></a><h3 id="TDDDG-GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51" class="sect3"><span class="enumeration_section">5.8 </span>Controlling Program Flow
               </h3>
               <div>
                  <p>Unlike SQL, which runs statements in the order in which you enter them, PL/SQL has control statements that let you control the flow of your program.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-A9812516-AB03-4AFC-A4AD-7607753F0254">About Control Statements</a><br>PL/SQL has three categories of control statements: conditional selection statements, loop statements, and sequential control statements.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-8E9ADF4C-BA52-44DE-8C5C-B2635785BBC4">Using the IF Statement</a><br>The <span class="keyword">IF</span> statement either executes or skips a sequence of statements, depending on the value of a Boolean expression.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-985AF0C3-948B-4EE7-95D6-B814A35CD8F2">Using the CASE Statement</a><br>The <span class="keyword">CASE</span> statement chooses from a sequence of conditions, and executes the corresponding statement.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-0C2C4B51-E161-45DF-864C-E68A336C20D9">Using the FOR LOOP Statement</a><br>The <span class="keyword">FOR LOOP</span> statement repeats a sequence of statements once for each integer in the range <span class="synph">lower_bound</span> through <span class="synph">upper_bound</span>.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-CBFF6F8E-CB57-4897-BD86-467924F3BFBC">Using the WHILE LOOP Statement</a><br>The <span class="keyword">WHILE LOOP</span> statement repeats a sequence of statements while a condition is <span class="keyword">TRUE</span>.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-9D8169B6-3267-470B-907E-58D66F14562C">Using the Basic LOOP and EXIT WHEN Statements</a><br>The basic <span class="keyword">LOOP</span> statement repeats a sequence of statements.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99959"></a><div class="props_rev_3"><a id="GUID-A9812516-AB03-4AFC-A4AD-7607753F0254" name="GUID-A9812516-AB03-4AFC-A4AD-7607753F0254"></a><h4 id="TDDDG-GUID-A9812516-AB03-4AFC-A4AD-7607753F0254" class="sect4"><span class="enumeration_section">5.8.1 </span>About Control Statements
                  </h4>
                  <div>
                     <p>PL/SQL has three categories of control statements: conditional selection statements, loop statements, and sequential control statements.</p>
                     <p><strong class="term">Conditional selection statements</strong> let you execute different statements for different data values. The conditional selection statements are <code class="codeph">IF</code> and <code class="codeph">CASE</code>.
                     </p>
                     <p><strong class="term">Loop statements</strong> let you repeat the same statements with a series of different data values. The loop statements are <code class="codeph">FOR</code> <code class="codeph">LOOP</code>, <code class="codeph">WHILE</code> <code class="codeph">LOOP</code>, and basic <code class="codeph">LOOP</code>. The <code class="codeph">EXIT</code> statement transfers control to the end of a loop. The <code class="codeph">CONTINUE</code> statement exits the current iteration of a loop and transfers control to the next iteration. Both <code class="codeph">EXIT</code> and <code class="codeph">CONTINUE</code> have an optional <code class="codeph">WHEN</code> clause, in which you can specify a condition.
                     </p>
                     <p><strong class="term">Sequential control statements</strong> let you go to a specified labeled statement or to do nothing. The sequential control statements are <code class="codeph">GOTO</code> and <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A9812516-AB03-4AFC-A4AD-7607753F0254__GUID-C83F2FE8-62F2-42F7-BEDD-384A15F3CD55">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00401" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for an overview of PL/SQL control statements
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51" title="Unlike SQL, which runs statements in the order in which you enter them, PL/SQL has control statements that let you control the flow of your program.">Controlling Program Flow</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG229"></a><a id="TDDDG44110"></a><div class="props_rev_3"><a id="GUID-8E9ADF4C-BA52-44DE-8C5C-B2635785BBC4" name="GUID-8E9ADF4C-BA52-44DE-8C5C-B2635785BBC4"></a><h4 id="TDDDG-GUID-8E9ADF4C-BA52-44DE-8C5C-B2635785BBC4" class="sect4"><span class="enumeration_section">5.8.2 </span>Using the IF Statement
                  </h4>
                  <div>
                     <p>The <span class="keyword">IF</span> statement either executes or skips a sequence of statements, depending on the value of a Boolean expression.
                     </p>
                     <p>The <span class="keyword">IF</span> statement has this syntax:
                     </p><pre class="oac_no_warn" dir="ltr">IF <span class="italic">boolean_expression</span> THEN <span class="italic">statement</span> [, <span class="italic">statement</span> ]
[ ELSIF <span class="italic">boolean_expression</span> THEN <span class="italic">statement</span> [, <span class="italic">statement</span> ] ]...
[ ELSE  <span class="italic">statement</span> [, <span class="italic">statement</span> ] ]
END IF;
</pre><p>Suppose that your company evaluates employees twice a year in the first 10 years of employment, but only once a year afterward. You want a function that returns the evaluation frequency for an employee. You can use an <span class="keyword">IF</span> statement to determine the return value of the function, as in <a href="stored-subprograms-packages.html#GUID-8E9ADF4C-BA52-44DE-8C5C-B2635785BBC4__BABEIIJG">Example 5-4</a>.
                     </p>
                     <p>Add the EVAL_FREQUENCY function to the body of the EMP_EVAL package, but not to the specification. Because it is not in the specification, EVAL_FREQUENCY is local to the package—it can be invoked only by other subprograms in the package, not from outside the package.</p>
                     <div class="infobox-tip" id="GUID-8E9ADF4C-BA52-44DE-8C5C-B2635785BBC4__GUID-7C311466-FAA6-4542-9637-C5838008CE1F">
                        <p class="notep1">Tip:</p>
                        <p>When using a PL/SQL variable in a SQL statement, as in the second <span class="keyword">SELECT</span> statement in <a href="stored-subprograms-packages.html#GUID-8E9ADF4C-BA52-44DE-8C5C-B2635785BBC4__BABEIIJG">Example 5-4</a>, qualify the variable with the subprogram name to ensure that it is not mistaken for a table column.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-8E9ADF4C-BA52-44DE-8C5C-B2635785BBC4__GUID-064197DF-2A57-4B5A-8ED6-0E3E8A248CB3">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/IF-statement.html#LNPLS01324" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of the <span class="keyword">IF</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00402" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about using the <span class="keyword">IF</span> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="example" id="GUID-8E9ADF4C-BA52-44DE-8C5C-B2635785BBC4__BABEIIJG">
                        <p class="titleinexample">Example 5-4 IF Statement that Determines Return Value of Function</p><pre class="oac_no_warn" dir="ltr">FUNCTION eval_frequency (emp_id IN EMPLOYEES.EMPLOYEE_ID%TYPE)
  RETURN PLS_INTEGER
AS
  h_date     EMPLOYEES.HIRE_DATE%TYPE;
  today      EMPLOYEES.HIRE_DATE%TYPE;
  eval_freq  PLS_INTEGER;
BEGIN
  SELECT SYSDATE INTO today FROM DUAL;

  SELECT HIRE_DATE INTO h_date
  FROM EMPLOYEES
  WHERE EMPLOYEE_ID = <span class="bold">eval_frequency.emp_id</span>;

  <span class="bold">IF</span> ((h_date + (INTERVAL '120' MONTH)) &lt; today) <span class="bold">THEN</span>
    eval_freq := 1;
  <span class="bold">ELSE</span>
    eval_freq := 2;
  <span class="bold">END IF</span>;

  RETURN eval_freq;
END eval_frequency;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51" title="Unlike SQL, which runs statements in the order in which you enter them, PL/SQL has control statements that let you control the flow of your program.">Controlling Program Flow</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG230"></a><a id="TDDDG44120"></a><div class="props_rev_3"><a id="GUID-985AF0C3-948B-4EE7-95D6-B814A35CD8F2" name="GUID-985AF0C3-948B-4EE7-95D6-B814A35CD8F2"></a><h4 id="TDDDG-GUID-985AF0C3-948B-4EE7-95D6-B814A35CD8F2" class="sect4"><span class="enumeration_section">5.8.3 </span>Using the CASE Statement
                  </h4>
                  <div>
                     <p>The <span class="keyword">CASE</span> statement chooses from a sequence of conditions, and executes the corresponding statement.
                     </p>
                     <p>The simple <span class="keyword">CASE</span> statement evaluates a single expression and compares it to several potential values. It has this syntax:
                     </p><pre class="oac_no_warn" dir="ltr">CASE <span class="italic">expression</span>
WHEN <span class="italic">value</span> THEN <span class="italic">statement</span>
[ WHEN <span class="italic">value</span> THEN <span class="italic">statement</span> ]...
[ ELSE <span class="italic">statement</span> [, <span class="italic">statement</span> ]... ]
END CASE;
</pre><p>The searched <span class="keyword">CASE</span> statement evaluates multiple Boolean expressions and chooses the first one whose value is <span class="keyword">TRUE</span>. For information about the searched <span class="keyword">CASE</span> statement, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS99972" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                     </p>
                     <div class="infobox-tip" id="GUID-985AF0C3-948B-4EE7-95D6-B814A35CD8F2__GUID-4976077F-0A84-4CA2-BE8B-72249C39B292">
                        <p class="notep1">Tip:</p>
                        <p>When you can use either a <span class="keyword">CASE</span> statement or nested <span class="keyword">IF</span> statements, use a <span class="keyword">CASE</span> statement—it is both more readable and more efficient.
                        </p>
                     </div>
                     <p>Suppose that, if an employee is evaluated only once a year, you want the EVAL_FREQUENCY function to suggest a salary increase, which depends on the JOB_ID.</p>
                     <p>Change the EVAL_FREQUENCY function as shown in bold font in <a href="stored-subprograms-packages.html#GUID-985AF0C3-948B-4EE7-95D6-B814A35CD8F2__BABGJFBG">Example 5-5</a>. (For information about the procedures that prints the strings, DBMS_OUTPUT.PUT_LINE, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ARPLS036" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.)
                     </p>
                     <div class="example" id="GUID-985AF0C3-948B-4EE7-95D6-B814A35CD8F2__BABGJFBG">
                        <p class="titleinexample">Example 5-5 CASE Statement that Determines Which String to Print</p><pre class="oac_no_warn" dir="ltr">FUNCTION eval_frequency (emp_id IN EMPLOYEES.EMPLOYEE_ID%TYPE)
  RETURN PLS_INTEGER
AS
  h_date     EMPLOYEES.HIRE_DATE%TYPE;
  today      EMPLOYEES.HIRE_DATE%TYPE;
  eval_freq  PLS_INTEGER;
  <span class="bold">j_id       EMPLOYEES.JOB_ID%TYPE;</span>

BEGIN
  SELECT SYSDATE INTO today FROM DUAL;

  SELECT HIRE_DATE, <span class="bold">JOB_ID</span> INTO h_date, <span class="bold">j_id</span>
  FROM EMPLOYEES
  WHERE EMPLOYEE_ID = eval_frequency.emp_id;

  IF ((h_date + (INTERVAL '12' MONTH)) &lt; today) THEN
    eval_freq := 1;

    <span class="bold">CASE</span> j_id
       <span class="bold">WHEN</span> 'PU_CLERK' <span class="bold">THEN</span> DBMS_OUTPUT.PUT_LINE(
         'Consider 8% salary increase for employee # ' || emp_id);
       <span class="bold">WHEN</span> 'SH_CLERK' <span class="bold">THEN</span> DBMS_OUTPUT.PUT_LINE(
         'Consider 7% salary increase for employee # ' || emp_id);
       <span class="bold">WHEN</span> 'ST_CLERK' <span class="bold">THEN</span> DBMS_OUTPUT.PUT_LINE(
         'Consider 6% salary increase for employee # ' || emp_id);
       <span class="bold">WHEN</span> 'HR_REP' <span class="bold">THEN</span> DBMS_OUTPUT.PUT_LINE(
         'Consider 5% salary increase for employee # ' || emp_id);
       <span class="bold">WHEN</span> 'PR_REP' <span class="bold">THEN</span> DBMS_OUTPUT.PUT_LINE(
         'Consider 5% salary increase for employee # ' || emp_id);
       <span class="bold">WHEN</span> 'MK_REP' <span class="bold">THEN</span> DBMS_OUTPUT.PUT_LINE(
         'Consider 4% salary increase for employee # ' || emp_id);
       <span class="bold">ELSE</span> DBMS_OUTPUT.PUT_LINE(
         'Nothing to do for employee #' || emp_id);
    <span class="bold">END CASE</span>;
  ELSE
    eval_freq := 2;
  END IF;
 
  RETURN eval_freq;
END eval_frequency;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-985AF0C3-948B-4EE7-95D6-B814A35CD8F2__GUID-CC805C40-E83F-44D7-BA9B-2DB01394E360">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="connecting-exploring-database.html#GUID-B7BACC62-95F0-42D9-BA26-882FE5268A0F" title="A CASE expression lets you use IF ... THEN ... ELSE logic in SQL statements without invoking subprograms. There are two kinds of CASE expressions, simple and searched.">Using CASE Expressions in Queries</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../lnpls/CASE-statement.html#LNPLS01304" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of the <span class="keyword">CASE</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00402" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about using the <span class="keyword">CASE</span> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51" title="Unlike SQL, which runs statements in the order in which you enter them, PL/SQL has control statements that let you control the flow of your program.">Controlling Program Flow</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG231"></a><a id="TDDDG44210"></a><div class="props_rev_3"><a id="GUID-0C2C4B51-E161-45DF-864C-E68A336C20D9" name="GUID-0C2C4B51-E161-45DF-864C-E68A336C20D9"></a><h4 id="TDDDG-GUID-0C2C4B51-E161-45DF-864C-E68A336C20D9" class="sect4"><span class="enumeration_section">5.8.4 </span>Using the FOR LOOP Statement
                  </h4>
                  <div>
                     <p>The <span class="keyword">FOR LOOP</span> statement repeats a sequence of statements once for each integer in the range <span class="synph">lower_bound</span> through <span class="synph">upper_bound</span>.
                     </p>
                     <p>The syntax of the <span class="keyword">FOR LOOP</span> is:
                     </p><pre class="oac_no_warn" dir="ltr">FOR <span class="italic">counter</span> IN <span class="italic">lower_bound</span>..<span class="italic">upper_bound</span> LOOP
  <span class="italic">statement</span> [, <span class="italic">statement</span> ]...
END LOOP;
</pre><p>The statements between <span class="keyword">LOOP</span> and <span class="keyword">END LOOP</span> can use <span class="synph">counter</span>, but cannot change its value.
                     </p>
                     <p>Suppose that, instead of only suggesting a salary increase, you want the EVAL_FREQUENCY function to report what the salary would be if it increased by the suggested amount every year for five years.</p>
                     <p>Change the EVAL_FREQUENCY function as shown in bold font in <a href="stored-subprograms-packages.html#GUID-0C2C4B51-E161-45DF-864C-E68A336C20D9__BABJDIHB">Example 5-6</a>. (For information about the procedure that prints the strings, <code class="codeph">DBMS_OUTPUT.PUT_LINE</code>, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ARPLS036" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.)
                     </p>
                     <div class="example" id="GUID-0C2C4B51-E161-45DF-864C-E68A336C20D9__BABJDIHB">
                        <p class="titleinexample">Example 5-6 FOR LOOP Statement that Computes Salary After Five Years</p><pre class="oac_no_warn" dir="ltr">FUNCTION eval_frequency (emp_id IN EMPLOYEES.EMPLOYEE_ID%TYPE)
  RETURN PLS_INTEGER
AS
  h_date      EMPLOYEES.HIRE_DATE%TYPE;
  today       EMPLOYEES.HIRE_DATE%TYPE;
  eval_freq   PLS_INTEGER;
  j_id        EMPLOYEES.JOB_ID%TYPE;
  <span class="bold">sal         EMPLOYEES.SALARY%TYPE;</span>
  <span class="bold">sal_raise   NUMBER(3,3) := 0;</span>

BEGIN
  SELECT SYSDATE INTO today FROM DUAL;

  SELECT HIRE_DATE, JOB_ID, <span class="bold">SALARY</span> INTO h_date, j_id, <span class="bold">sal</span>
  FROM EMPLOYEES
  WHERE EMPLOYEE_ID = eval_frequency.emp_id;

  IF ((h_date + (INTERVAL '12' MONTH)) &lt; today) THEN
    eval_freq := 1;

    CASE j_id
      WHEN 'PU_CLERK' THEN <span class="bold">sal_raise := 0.08</span>;
      WHEN 'SH_CLERK' THEN <span class="bold">sal_raise := 0.07</span>;
      WHEN 'ST_CLERK' THEN <span class="bold">sal_raise := 0.06</span>;
      WHEN 'HR_REP'   THEN <span class="bold">sal_raise := 0.05</span>;
      WHEN 'PR_REP'   THEN <span class="bold">sal_raise := 0.05</span>;
      WHEN 'MK_REP'   THEN <span class="bold">sal_raise := 0.04</span>;
      ELSE NULL;
    END CASE;

    <span class="bold">IF (sal_raise != 0) THEN</span>
      <span class="bold">BEGIN</span>
        <span class="bold">DBMS_OUTPUT.PUT_LINE('If salary ' || sal || ' increases by ' ||</span>
          <span class="bold">ROUND((sal_raise * 100),0) ||</span>
          <span class="bold">'% each year for 5 years, it will be:');</span>

        <span class="bold">FOR i IN 1..5 LOOP</span>
          <span class="bold">sal := sal * (1 + sal_raise);</span>
          <span class="bold">DBMS_OUTPUT.PUT_LINE(ROUND(sal, 2) || ' after ' || i || ' year(s)');</span>
        <span class="bold">END LOOP;</span>
      <span class="bold">END;</span>
    <span class="bold">END IF;</span>

  ELSE
    eval_freq := 2;
  END IF;

  RETURN eval_freq;
END eval_frequency;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0C2C4B51-E161-45DF-864C-E68A336C20D9__GUID-2F524FEC-AC04-46ED-9D0B-6F4E72B3B366">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/basic-LOOP-statement.html#LNPLS01328" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of the <span class="keyword">FOR LOOP</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/plsql-control-statements.html#LNPLS00403" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about using the <span class="keyword">FOR LOOP</span> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51" title="Unlike SQL, which runs statements in the order in which you enter them, PL/SQL has control statements that let you control the flow of your program.">Controlling Program Flow</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG232"></a><a id="TDDDG44220"></a><div class="props_rev_3"><a id="GUID-CBFF6F8E-CB57-4897-BD86-467924F3BFBC" name="GUID-CBFF6F8E-CB57-4897-BD86-467924F3BFBC"></a><h4 id="TDDDG-GUID-CBFF6F8E-CB57-4897-BD86-467924F3BFBC" class="sect4"><span class="enumeration_section">5.8.5 </span>Using the WHILE LOOP Statement
                  </h4>
                  <div>
                     <p>The <span class="keyword">WHILE LOOP</span> statement repeats a sequence of statements while a condition is <span class="keyword">TRUE</span>.
                     </p>
                     <p>The syntax of the <span class="keyword">WHILE LOOP</span> statement is:
                     </p><pre class="oac_no_warn" dir="ltr">WHILE <span class="italic">condition</span> LOOP
  <span class="italic">statement</span> [, <span class="italic">statement</span> ]...
END LOOP;</pre><div class="infoboxnote" id="GUID-CBFF6F8E-CB57-4897-BD86-467924F3BFBC__GUID-A5CF38CC-C669-4779-832A-A3C8FEEA8224">
                        <p class="notep1">Note:</p>
                        <p>If the statements between <span class="keyword">LOOP</span> and <span class="keyword">END LOOP</span> never cause <span class="synph">condition</span> to become <span class="keyword">FALSE</span>, then the <span class="keyword">WHILE LOOP</span> statement runs indefinitely.
                        </p>
                     </div>
                     <p>Suppose that the EVAL_FREQUENCY function uses the <span class="keyword">WHILE LOOP</span> statement instead of the <span class="keyword">FOR LOOP</span> statement and ends after the proposed salary exceeds the maximum salary for the JOB_ID.
                     </p>
                     <p>Change the EVAL_FREQUENCY function as shown in bold font in <a href="stored-subprograms-packages.html#GUID-CBFF6F8E-CB57-4897-BD86-467924F3BFBC__BABFBBDC">Example 5-7</a>. (For information about the procedures that prints the strings, DBMS_OUTPUT.PUT_LINE, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ARPLS036" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.)
                     </p>
                     <div class="example" id="GUID-CBFF6F8E-CB57-4897-BD86-467924F3BFBC__BABFBBDC">
                        <p class="titleinexample">Example 5-7 WHILE LOOP Statement that Computes Salary to Maximum</p><pre class="oac_no_warn" dir="ltr">FUNCTION eval_frequency (emp_id IN EMPLOYEES.EMPLOYEE_ID%TYPE)
  RETURN PLS_INTEGER
AS
  h_date      EMPLOYEES.HIRE_DATE%TYPE;
  today       EMPLOYEES.HIRE_DATE%TYPE;
  eval_freq   PLS_INTEGER;
  j_id        EMPLOYEES.JOB_ID%TYPE;
  sal         EMPLOYEES.SALARY%TYPE;
  sal_raise   NUMBER(3,3) := 0;
  <span class="bold">sal_max     JOBS.MAX_SALARY%TYPE;</span>

BEGIN
  SELECT SYSDATE INTO today FROM DUAL;

  SELECT HIRE_DATE, j.JOB_ID, SALARY, <span class="bold">MAX_SALARY</span> INTO h_date, j_id, sal, <span class="bold">sal_max</span>
  <span class="bold">FROM EMPLOYEES e, JOBS j</span>
  WHERE EMPLOYEE_ID = eval_frequency.emp_id AND JOB_ID = eval_frequency.j_id;

  IF ((h_date + (INTERVAL '12' MONTH)) &lt; today) THEN
    eval_freq := 1;

    CASE j_id
      WHEN 'PU_CLERK' THEN sal_raise := 0.08;
      WHEN 'SH_CLERK' THEN sal_raise := 0.07;
      WHEN 'ST_CLERK' THEN sal_raise := 0.06;
      WHEN 'HR_REP'   THEN sal_raise := 0.05;
      WHEN 'PR_REP'   THEN sal_raise := 0.05;
      WHEN 'MK_REP'   THEN sal_raise := 0.04;
      ELSE NULL;
    END CASE;

    IF (sal_raise != 0) THEN
      BEGIN
        DBMS_OUTPUT.PUT_LINE('If salary ' || sal || ' increases by ' ||
          ROUND((sal_raise * 100),0) ||
          <span class="bold">'% each year, it will be:'</span>);

        <span class="bold">WHILE sal &lt;= sal_max LOOP</span>
          sal := sal * (1 + sal_raise);
          <span class="bold">DBMS_OUTPUT.PUT_LINE(ROUND(sal, 2));</span>
        END LOOP;

        <span class="bold">DBMS_OUTPUT.PUT_LINE('Maximum salary for this job is ' || sal_max);</span>
      END;
    END IF;
  ELSE
    eval_freq := 2;
  END IF;
 
  RETURN eval_freq;
END eval_frequency;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CBFF6F8E-CB57-4897-BD86-467924F3BFBC__GUID-C9C672CB-CCD2-4D36-B9D1-4C1EAF2D7C3B">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01328" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of the <span class="keyword">WHILE LOOP</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00403" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about using the <span class="keyword">WHILE LOOP</span> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51" title="Unlike SQL, which runs statements in the order in which you enter them, PL/SQL has control statements that let you control the flow of your program.">Controlling Program Flow</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG233"></a><a id="TDDDG44230"></a><div class="props_rev_3"><a id="GUID-9D8169B6-3267-470B-907E-58D66F14562C" name="GUID-9D8169B6-3267-470B-907E-58D66F14562C"></a><h4 id="TDDDG-GUID-9D8169B6-3267-470B-907E-58D66F14562C" class="sect4"><span class="enumeration_section">5.8.6 </span>Using the Basic LOOP and EXIT WHEN Statements
                  </h4>
                  <div>
                     <p>The basic <span class="keyword">LOOP</span> statement repeats a sequence of statements.
                     </p>
                     <p>The syntax of the basic <span class="keyword">LOOP</span> statement is:
                     </p><pre class="oac_no_warn" dir="ltr">LOOP
  <span class="italic">statement</span> [, <span class="italic">statement</span> ]...
END LOOP;
</pre><p>At least one <span class="synph">statement</span> must be an <span class="keyword">EXIT</span> statement; otherwise, the <span class="keyword">LOOP</span> statement runs indefinitely.
                     </p>
                     <p>The <span class="keyword">EXIT WHEN</span> statement (the <span class="keyword">EXIT</span> statement with its optional <span class="keyword">WHEN</span> clause) exits a loop when a condition is <span class="keyword">TRUE</span> and transfers control to the end of the loop.
                     </p>
                     <p>In the EVAL_FREQUENCY function, in the last iteration of the <span class="keyword">WHILE LOOP</span> statement, the last computed value usually exceeds the maximum salary.
                     </p>
                     <p>Change the <span class="keyword">WHILE LOOP</span> statement to a basic <span class="keyword">LOOP</span> statement that includes an <span class="keyword">EXIT WHEN</span> statement, as in <a href="stored-subprograms-packages.html#GUID-9D8169B6-3267-470B-907E-58D66F14562C__BABDCEFE">Example 5-8</a>.
                     </p>
                     <div class="example" id="GUID-9D8169B6-3267-470B-907E-58D66F14562C__BABDCEFE">
                        <p class="titleinexample">Example 5-8 Using the EXIT WHEN Statement</p><pre class="oac_no_warn" dir="ltr">FUNCTION eval_frequency (emp_id IN EMPLOYEES.EMPLOYEE_ID%TYPE)
  RETURN PLS_INTEGER
AS
  h_date      EMPLOYEES.HIRE_DATE%TYPE;
  today       EMPLOYEES.HIRE_DATE%TYPE;
  eval_freq   PLS_INTEGER;
  j_id        EMPLOYEES.JOB_ID%TYPE;
  sal         EMPLOYEES.SALARY%TYPE;
  sal_raise   NUMBER(3,3) := 0;
  sal_max     JOBS.MAX_SALARY%TYPE;

BEGIN
  SELECT SYSDATE INTO today FROM DUAL;

  SELECT HIRE_DATE, j.JOB_ID, SALARY, MAX_SALARY INTO h_date, j_id, sal, sal_max
  FROM EMPLOYEES e, JOBS j
  WHERE EMPLOYEE_ID = eval_frequency.emp_id AND JOB_ID = eval_frequency.j_id;

  IF ((h_date + (INTERVAL '12' MONTH)) &lt; today) THEN
    eval_freq := 1;

    CASE j_id
      WHEN 'PU_CLERK' THEN sal_raise := 0.08;
      WHEN 'SH_CLERK' THEN sal_raise := 0.07;
      WHEN 'ST_CLERK' THEN sal_raise := 0.06;
      WHEN 'HR_REP'   THEN sal_raise := 0.05;
      WHEN 'PR_REP'   THEN sal_raise := 0.05;
      WHEN 'MK_REP'   THEN sal_raise := 0.04;
      ELSE NULL;
    END CASE;

    IF (sal_raise != 0) THEN
      BEGIN
        DBMS_OUTPUT.PUT_LINE('If salary ' || sal || ' increases by ' ||
          ROUND((sal_raise * 100),0) ||
          '% each year, it will be:');

        <span class="bold">LOOP</span>
          <span class="bold">sal := sal * (1 + sal_raise);</span>
          <span class="bold">EXIT WHEN sal &gt; sal_max;</span>
          DBMS_OUTPUT.PUT_LINE(ROUND(sal,2));
        <span class="bold">END LOOP;</span>

        DBMS_OUTPUT.PUT_LINE('Maximum salary for this job is ' || sal_max);
      END;
    END IF;
  ELSE
    eval_freq := 2;
  END IF;
 
  RETURN eval_freq;
END eval_frequency;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9D8169B6-3267-470B-907E-58D66F14562C__GUID-B70FD2EC-E887-4D23-8A1B-2691EE6DBA35">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01328" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of the <span class="keyword">LOOP</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01318" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of the <span class="keyword">EXIT</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00403" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about using the <span class="keyword">LOOP</span> and <span class="keyword">EXIT</span> statements
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51" title="Unlike SQL, which runs statements in the order in which you enter them, PL/SQL has control statements that let you control the flow of your program.">Controlling Program Flow</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG43000"></a><div class="props_rev_4"><a id="GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" name="GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38"></a><h3 id="TDDDG-GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" class="sect3"><span class="enumeration_section">5.9 </span>Using Records and Cursors
               </h3>
               <div>
                  <p>You can store data values in records, and use a cursor as a pointer to a result set and related processing information.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-E8EB2F03-3417-4D92-8484-4593343E3DD5">About Records</a><br>A <strong class="term">record</strong> is a PL/SQL composite variable that can store data values of different types. You can treat Internal components (<strong class="term">fields</strong>) like scalar variables. You can pass entire records as subprogram parameters. Records are useful for holding data from table rows, or from certain columns of table rows.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-706251E8-2ACF-4798-81A7-5BD61AEACE78">Tutorial: Declaring a RECORD Type</a><br>This tutorial shows how to use the SQL Developer tool Edit to declare a <span class="keyword">RECORD</span> type, sal_info, whose fields can hold salary information for an employee—job ID, minimum and maximum salary for that job ID, current salary, and suggested raise.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-BC10DB90-5802-4BEF-B89A-BC546C94863D">Tutorial: Creating and Invoking a Subprogram with a Record Parameter</a><br>This tutorial shows how to use the SQL Developer tool Edit to create and invoke a subprogram with a parameter of the record type sal_info.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F">About Cursors</a><br>When Oracle Database executes a SQL statement, it stores the result set and processing information in an unnamed private SQL area. A pointer to this unnamed area, called a <strong class="term">cursor</strong>, lets you retrieve the result set one row at a time. <strong class="term">Cursor attributes</strong> return information about the state of the cursor.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-43519FA9-743A-4BB4-ADB3-A947650A9706">Using a Declared Cursor to Retrieve Result Set Rows One at a Time</a><br>You can use a declared cursor to retrieve result set rows one at a time.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-F263299E-B3B7-4F80-924E-3B4777E03713">Tutorial: Using a Declared Cursor to Retrieve Result Set Rows One at a Time</a><br>This tutorial shows how to implement the procedure EMP_EVAL.EVAL_DEPARTMENT, which uses a declared cursor, emp_cursor.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-AAF33D3B-FE73-42AC-AB07-3FA1A45CE02B">About Cursor Variables</a><br>A <strong class="term">cursor variable</strong> is like a cursor that it is not limited to one query. You can open a cursor variable for a query, process the result set, and then use the cursor variable for another query. Cursor variables are useful for passing query results between subprograms.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-C096B097-0B42-4D72-B702-85BADCF9DD26">Using a Cursor Variable to Retrieve Result Set Rows One at a Time</a><br>You can use a cursor variable to retrieve result set rows one at a time.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-D8EAC5CF-8D2B-4BC3-A295-810B0BDF2F4B">Tutorial: Using a Cursor Variable to Retrieve Result Set Rows One at a Time</a><br>This tutorial shows how to change the EMP_EVAL.EVAL_DEPARTMENT procedure so that it uses a cursor variable instead of a declared cursor (which lets it process multiple departments) and how to make EMP_EVAL.EVAL_DEPARTMENT and EMP_EVAL.ADD_EVAL more efficient.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38__GUID-64153AD0-83E2-4A26-801D-691EBF36F81A">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS005" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about records
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99958"></a><div class="props_rev_3"><a id="GUID-E8EB2F03-3417-4D92-8484-4593343E3DD5" name="GUID-E8EB2F03-3417-4D92-8484-4593343E3DD5"></a><h4 id="TDDDG-GUID-E8EB2F03-3417-4D92-8484-4593343E3DD5" class="sect4"><span class="enumeration_section">5.9.1 </span>About Records
                  </h4>
                  <div>
                     <p>A <strong class="term">record</strong> is a PL/SQL composite variable that can store data values of different types. You can treat Internal components (<strong class="term">fields</strong>) like scalar variables. You can pass entire records as subprogram parameters. Records are useful for holding data from table rows, or from certain columns of table rows.
                     </p>
                     <p>A <strong class="term">record</strong> is a PL/SQL composite variable that can store data values of different types, similar to a <span class="keyword">struct</span> type in C, C++, or Java. The internal components of a record are called <strong class="term">fields</strong>. To access a record field, you use <strong class="term">dot notation</strong>: <span class="synph">record_name.field_name</span>.
                     </p>
                     <p>You can treat record fields like scalar variables. You can also pass entire records as subprogram parameters.</p>
                     <p>Records are useful for holding data from table rows, or from certain columns of table rows. Each record field corresponds to a table column.</p>
                     <p>There are three ways to create a record:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Declare a <strong class="term">RECORD</strong> type and then declare a variable of that type.
                           </p>
                           <p>The syntax is:</p><pre class="oac_no_warn" dir="ltr">TYPE <span class="italic">record_name</span> IS RECORD
  ( <span class="italic">field_name</span> <span class="italic">data_type</span> [:= <span class="italic">initial_value</span>]
 [, <span class="italic">field_name</span> <span class="italic">data_type</span> [:= <span class="italic">initial_value</span> ] ]... );

<span class="italic">variable_name record_name</span>;
</pre></li>
                        <li>
                           <p>Declare a variable of the type <span class="synph">table_name</span><span class="keyword">%ROWTYPE</span>.
                           </p>
                           <p>The fields of the record have the same names and data types as the columns of the table.</p>
                        </li>
                        <li>
                           <p>Declare a variable of the type <span class="synph">cursor_name</span><span class="keyword">%ROWTYPE</span>.
                           </p>
                           <p>The fields of the record have the same names and data types as the columns of the table in the <span class="keyword">FROM</span> clause of the cursor <span class="keyword">SELECT</span> statement.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E8EB2F03-3417-4D92-8484-4593343E3DD5__GUID-AF2D7EA0-1FC3-4E61-A953-9BB5A6B557BC">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00509" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about defining <span class="keyword">RECORD</span> types and declaring records of that type
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01338" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of a <span class="keyword">RECORD</span> type definition
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS99971" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about the <span class="keyword">%ROWTYPE</span> attribute
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01342" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of the <span class="keyword">%ROWTYPE</span> attribute
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" title="You can store data values in records, and use a cursor as a pointer to a result set and related processing information.">Using Records and Cursors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG234"></a><a id="TDDDG99957"></a><div class="props_rev_3"><a id="GUID-706251E8-2ACF-4798-81A7-5BD61AEACE78" name="GUID-706251E8-2ACF-4798-81A7-5BD61AEACE78"></a><h4 id="TDDDG-GUID-706251E8-2ACF-4798-81A7-5BD61AEACE78" class="sect4"><span class="enumeration_section">5.9.2 </span>Tutorial: Declaring a RECORD Type
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the SQL Developer tool Edit to declare a <span class="keyword">RECORD</span> type, sal_info, whose fields can hold salary information for an employee—job ID, minimum and maximum salary for that job ID, current salary, and suggested raise.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-706251E8-2ACF-4798-81A7-5BD61AEACE78__GUID-198A29A0-2A8B-442E-B45A-22BDA96361C7">To declare RECORD type sal_info:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span><div>
                              <p>Under the <span class="wintitle">hr_conn</span> icon, a list of schema object types appears.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Expand <span class="uicontrol bold">Packages</span>.</span><div>
                              <p>A list of packages appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Right-click <span class="uicontrol bold">EMP_EVAL</span>.</span><div>
                              <p>A list of choices appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="uicontrol bold">Edit</span>.</span><div>
                              <p>The <span class="wintitle">EMP_EVAL</span> pane opens, showing the <code class="codeph">CREATE PACKAGE</code> statement that created the package:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE EMP_EVAL AS
 
PROCEDURE eval_department(dept_id IN NUMBER);
FUNCTION calculate_score(evaluation_id IN NUMBER
                        , performance_id IN NUMBER)
                          RETURN NUMBER;
 
END EMP_EVAL;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>In the <span class="wintitle">EMP_EVAL</span> pane, immediately before <code class="codeph">END EMP_EVAL</code>, add this code:</span><div><pre class="oac_no_warn" dir="ltr">TYPE sal_info IS RECORD
  ( j_id     jobs.job_id%type
  , sal_min  jobs.min_salary%type
  , sal_max  jobs.max_salary%type
  , sal      employees.salary%type
  , sal_raise NUMBER(3,3) );
</pre><p>The title of the pane is in italic font, indicating that the changes have not been saved to the database.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the icon <span class="uicontrol bold">Compile</span>.</span><div>
                              <p>The changed package specification compiles and is saved to the database. The title of the <span class="wintitle">EMP_EVAL</span> pane is no longer in italic font.
                              </p>
                              <p>Now you can declare records of the type sal_info, as in <span class="q">"<a href="stored-subprograms-packages.html#GUID-BC10DB90-5802-4BEF-B89A-BC546C94863D" title="This tutorial shows how to use the SQL Developer tool Edit to create and invoke a subprogram with a parameter of the record type sal_info.">Tutorial: Creating and Invoking a Subprogram with a Record Parameter</a>"</span>.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" title="You can store data values in records, and use a cursor as a pointer to a result set and related processing information.">Using Records and Cursors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG235"></a><a id="TDDDG99956"></a><div class="props_rev_3"><a id="GUID-BC10DB90-5802-4BEF-B89A-BC546C94863D" name="GUID-BC10DB90-5802-4BEF-B89A-BC546C94863D"></a><h4 id="TDDDG-GUID-BC10DB90-5802-4BEF-B89A-BC546C94863D" class="sect4"><span class="enumeration_section">5.9.3 </span>Tutorial: Creating and Invoking a Subprogram with a Record Parameter
                  </h4>
                  <div>
                     <p>This tutorial shows how to use the SQL Developer tool Edit to create and invoke a subprogram with a parameter of the record type sal_info.</p>
                     <div class="section">
                        <p>The record type sal_info was created in <span class="q">"<a href="stored-subprograms-packages.html#GUID-706251E8-2ACF-4798-81A7-5BD61AEACE78" title="This tutorial shows how to use the SQL Developer tool Edit to declare a RECORD type, sal_info, whose fields can hold salary information for an employee—job ID, minimum and maximum salary for that job ID, current salary, and suggested raise.">Tutorial: Declaring a RECORD Type</a>"</span>.
                        </p>
                        <p>This tutorial shows how to use the SQL Developer tool Edit to do the following:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Create a procedure, SALARY_SCHEDULE, which has a parameter of type sal_info.</p>
                           </li>
                           <li>
                              <p>Change the EVAL_FREQUENCY function so that it declares a record, emp_sal, of the type sal_info, populates its fields, and passes it to the SALARY_SCHEDULE procedure.</p>
                           </li>
                        </ul>
                        <p>Because EVAL_FREQUENCY will invoke SALARY_SCHEDULE, the declaration of SALARY_SCHEDULE must precede the declaration of EVAL_FREQUENCY (otherwise the package will not compile). However, the definition of SALARY_SCHEDULE can be anywhere in the package body.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BC10DB90-5802-4BEF-B89A-BC546C94863D__GUID-C3EF5CEC-80B7-4D6F-9859-BDEF812FEF7D">To create SALARY_SCHEDULE and change EVAL_FREQUENCY:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the <span class="wintitle">Connections</span> frame, expand <span class="uicontrol bold">hr_conn</span>.</span></li>
                        <li class="stepexpand"><span>In the list of schema object types, expand <span class="uicontrol bold">Packages</span>.</span></li>
                        <li class="stepexpand"><span>In the list of packages, expand <span class="uicontrol bold">EMP_EVAL</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, right-click <span class="uicontrol bold">EMP_EVAL Body</span>.</span></li>
                        <li class="stepexpand"><span>In the list of choices, click <span class="uicontrol bold">Edit</span>.</span><div>
                              <p>The <span class="wintitle">EMP_EVAL Body</span>pane appears, showing the code for the package body.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the <span class="wintitle">EMP_EVAL Body</span> pane, immediately before <code class="codeph">END EMP_EVAL</code>, add this definition of the SALARY_SCHEDULE procedure:</span><div><pre class="oac_no_warn" dir="ltr">PROCEDURE salary_schedule (emp IN sal_info) AS
  accumulating_sal  NUMBER;
BEGIN
  DBMS_OUTPUT.PUT_LINE('If salary ' || emp.sal || 
    ' increases by ' || ROUND((emp.sal_raise * 100),0) || 
    '% each year, it will be:');

  accumulating_sal := emp.sal;

  WHILE accumulating_sal &lt;= emp.sal_max LOOP
    accumulating_sal := accumulating_sal * (1 + emp.sal_raise);
    DBMS_OUTPUT.PUT_LINE(ROUND(accumulating_sal,2) ||', ');
  END LOOP;
END salary_schedule;
</pre><p>The title of the pane is in italic font, indicating that the changes have not been saved to the database.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>In the <span class="wintitle">EMP_EVAL Body</span> pane, enter the code shown in bold font, in this position:</span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE
PACKAGE BODY EMP_EVAL AS

<span class="bold">FUNCTION eval_frequency (emp_id EMPLOYEES.EMPLOYEE_ID%TYPE)</span>
  <span class="bold">RETURN PLS_INTEGER;</span>
<span class="bold">PROCEDURE salary_schedule(emp IN sal_info);</span>
<span class="bold">PROCEDURE add_eval(employee_id IN employees.employee_id%type, today IN DATE);</span>
 
PROCEDURE eval_department (dept_id IN NUMBER) AS
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Edit the <code class="codeph">EVAL_FREQUENCY</code> function, making the changes shown in bold font:</span><div><pre class="oac_no_warn" dir="ltr">FUNCTION eval_frequency (emp_id EMPLOYEES.EMPLOYEE_ID%TYPE)
  RETURN PLS_INTEGER
AS
  h_date     EMPLOYEES.HIRE_DATE%TYPE;
  today      EMPLOYEES.HIRE_DATE%TYPE;
  eval_freq  PLS_INTEGER;
  <span class="bold">emp_sal    SAL_INFO;  -- replaces sal, sal_raise, and sal_max</span>
 
BEGIN
  SELECT SYSDATE INTO today FROM DUAL;
 
  SELECT HIRE_DATE INTO h_date
  FROM EMPLOYEES
  WHERE EMPLOYEE_ID = eval_frequency.emp_id;
 
  IF ((h_date + (INTERVAL '120' MONTH)) &lt; today) THEN
     eval_freq := 1;
 
     <span class="bold">/* populate emp_sal */</span>
 
     <span class="bold">SELECT j.JOB_ID, j.MIN_SALARY, j.MAX_SALARY, e.SALARY</span>
     <span class="bold">INTO emp_sal.j_id, emp_sal.sal_min, emp_sal.sal_max, emp_sal.sal</span>
     <span class="bold">FROM EMPLOYEES e, JOBS j</span>
     <span class="bold">WHERE e.EMPLOYEE_ID = eval_frequency.emp_id</span>
     <span class="bold">AND j.JOB_ID = eval_frequency.emp_id;</span>
 
     <span class="bold">emp_sal.sal_raise := 0;  -- default</span>
 
     CASE <span class="bold">emp_sal.</span>j_id
       WHEN 'PU_CLERK' THEN <span class="bold">emp_sal.</span>sal_raise := 0.08;
       WHEN 'SH_CLERK' THEN <span class="bold">emp_sal.</span>sal_raise := 0.07;
       WHEN 'ST_CLERK' THEN <span class="bold">emp_sal.</span>sal_raise := 0.06;
       WHEN 'HR_REP' THEN <span class="bold">emp_sal.</span>sal_raise := 0.05;
       WHEN 'PR_REP' THEN <span class="bold">emp_sal.</span>sal_raise := 0.05;
       WHEN 'MK_REP' THEN <span class="bold">emp_sal.</span>sal_raise := 0.04;
       ELSE NULL;
     END CASE;
 
     IF (<span class="bold">emp_sal.</span>sal_raise != 0) THEN
       <span class="bold">salary_schedule(emp_sal);</span>
     END IF;
   ELSE
     eval_freq := 2;
   END IF;
 
   RETURN eval_freq;
 END eval_frequency;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="uicontrol bold">Compile</span>.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" title="You can store data values in records, and use a cursor as a pointer to a result set and related processing information.">Using Records and Cursors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG236"></a><a id="TDDDG45000"></a><div class="props_rev_3"><a id="GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F" name="GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F"></a><h4 id="TDDDG-GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F" class="sect4"><span class="enumeration_section">5.9.4 </span>About Cursors
                  </h4>
                  <div>
                     <p>When Oracle Database executes a SQL statement, it stores the result set and processing information in an unnamed private SQL area. A pointer to this unnamed area, called a <strong class="term">cursor</strong>, lets you retrieve the result set one row at a time. <strong class="term">Cursor attributes</strong> return information about the state of the cursor.
                     </p>
                     <p>Every time you run either a SQL DML statement or a PL/SQL <span class="keyword">SELECT INTO</span> statement, PL/SQL opens an <strong class="term">implicit cursor</strong>. You can get information about this cursor from its attributes, but you cannot control it. After the statement runs, the database closes the cursor; however, its attribute values remain available until another DML or <span class="keyword">SELECT INTO</span> statement runs.
                     </p>
                     <p>PL/SQL also lets you declare cursors. A <strong class="term">declared cursor</strong> has a name and is associated with a query (SQL <span class="keyword">SELECT</span> statement)—usually one that returns multiple rows. After declaring a cursor, you must process it, either implicitly or explicitly. To process the cursor implicitly, use a cursor <span class="keyword">FOR LOOP</span>. The syntax is:
                     </p><pre class="oac_no_warn" dir="ltr">FOR <span class="italic">record_name</span> IN <span class="italic">cursor_name</span> LOOP
  <span class="italic">statement</span>
  [ <span class="italic">statement</span> ]...
END LOOP;
</pre><p>To process the cursor explicitly, open it (with the <span class="keyword">OPEN</span> statement), fetch rows from the result set either one at a time or in bulk (with the <span class="keyword">FETCH</span> statement), and close the cursor (with the <span class="keyword">CLOSE</span> statement). After closing the cursor, you can neither fetch records from the result set nor see the cursor attribute values.
                     </p>
                     <p>The syntax for the value of an implicit cursor attribute is <span class="keyword">SQL%</span><span class="synph">attribute</span> (for example, <span class="keyword">SQL%FOUND</span>). <span class="keyword">SQL%</span><span class="synph">attribute</span> always refers to the most recently run DML or <span class="keyword">SELECT INTO</span> statement.
                     </p>
                     <p>The syntax for the value of a declared cursor attribute is <span class="synph">cursor_name</span>%<span class="synph">attribute</span> (for example, c1%FOUND).
                     </p>
                     <p><a href="stored-subprograms-packages.html#GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F__BABCDDED" title="This table has three columns and four rows. The first column lists the four cursor attributes. The second column describes the information that the attribute returns for an implicit cursor. The third column describes the information that the attribute returns for an explicit cursor.">Table 5-1</a> lists the cursor attributes and the values that they can return. (Implicit cursors have additional attributes that are beyond the scope of this book.)
                     </p>
                     <div class="tblformal" id="GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F__BABCDDED">
                        <p class="titleintable">Table 5-1 Cursor Attribute Values</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Cursor Attribute Values" summary="This table has three columns and four rows. The first column lists the four cursor attributes. The second column describes the information that the attribute returns for an implicit cursor. The third column describes the information that the attribute returns for an explicit cursor." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d16920e6554">Attribute</th>
                                 <th align="left" valign="bottom" width="41%" id="d16920e6557">Values for Declared Cursor</th>
                                 <th align="left" valign="bottom" width="41%" id="d16920e6560">Values for Implicit Cursor</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d16920e6565" headers="d16920e6554 ">
                                    <p><span class="keyword">%FOUND</span></p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d16920e6565 d16920e6557 ">
                                    <p>If cursor is open<a id="GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F__CIHFEFJI" name="GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F__CIHFEFJI" href="#GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F__CIHFEFJI" onclick="footdisplay(1, "If the cursor is not open, the attribute raises the predefined exception INVALID_CURSOR.")"><sup>Foot&nbsp;1</sup></a> but no fetch was attempted, <span class="keyword">NULL</span>.
                                    </p>
                                    <p>If the most recent fetch returned a row, <span class="keyword">TRUE</span>.
                                    </p>
                                    <p>If the most recent fetch did not return a row, <span class="keyword">FALSE</span>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d16920e6565 d16920e6560 ">
                                    <p>If no DML or <span class="keyword">SELECT INTO</span> statement has run, <span class="keyword">NULL</span>.
                                    </p>
                                    <p>If the most recent DML or <span class="keyword">SELECT INTO</span>statement returned a row, <span class="keyword">TRUE</span>.
                                    </p>
                                    <p>If the most recent DML or <span class="keyword">SELECT INTO</span>statement did not return a row, <span class="keyword">FALSE</span>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d16920e6618" headers="d16920e6554 ">
                                    <p><span class="keyword">%NOTFOUND</span></p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d16920e6618 d16920e6557 ">
                                    <p>If cursor is open<a id="fnsrc_d16920e6625" name="fnsrc_d16920e6625" href="#fnsrc_d16920e6625" onclick="footdisplay(1, "If the cursor is not open, the attribute raises the predefined exception INVALID_CURSOR.")"><sup>Footref&nbsp;1</sup></a> but no fetch was attempted, <span class="keyword">NULL</span>.
                                    </p>
                                    <p>If the most recent fetch returned a row, <span class="keyword">FALSE</span>.
                                    </p>
                                    <p>If the most recent fetch did not return a row, <span class="keyword">TRUE</span>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d16920e6618 d16920e6560 ">
                                    <p>If no DML or <span class="keyword">SELECT INTO</span> statement has run, <span class="keyword">NULL</span>.
                                    </p>
                                    <p>If the most recent DML or <span class="keyword">SELECT INTO</span>statement returned a row, <code class="codeph">FALSE</code>.
                                    </p>
                                    <p>If the most recent DML or <span class="keyword">SELECT INTO</span> statement did not return a row, <code class="codeph">TRUE</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d16920e6667" headers="d16920e6554 ">
                                    <p><span class="keyword">%ROWCOUNT</span></p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d16920e6667 d16920e6557 ">
                                    <p>If cursor is open<a id="fnsrc_d16920e6674" name="fnsrc_d16920e6674" href="#fnsrc_d16920e6674" onclick="footdisplay(1, "If the cursor is not open, the attribute raises the predefined exception INVALID_CURSOR.")"><sup>Footref&nbsp;1</sup></a>, a number greater than or equal to zero.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d16920e6667 d16920e6560 ">
                                    <p><span class="keyword">NULL</span> if no DML or <span class="keyword">SELECT INTO</span> statement has run; otherwise, a number greater than or equal to zero.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d16920e6686" headers="d16920e6554 ">
                                    <p><span class="keyword">%ISOPEN</span></p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d16920e6686 d16920e6557 ">
                                    <p>If cursor is open, <span class="keyword">TRUE</span>; if not, <span class="keyword">FALSE</span>.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d16920e6686 d16920e6560 ">
                                    <p>Always <span class="keyword">FALSE</span>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup></p><p>If the cursor is not open, the attribute raises the predefined exception <span class="keyword">INVALID_CURSOR</span>.
                        </p>
                     <p></p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F__GUID-9EE1F43C-95C2-4AFA-A9EF-48B50F411C40">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="connecting-exploring-database.html#GUID-A6EC754C-D820-43EC-8509-DD7CF663FD03" title="A query, or SQL SELECT statement, selects data from one or more tables or views.">About Queries</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="dml-and-transactions.html#GUID-40EE6F61-F008-4F37-8256-D31A2DE49DC9" title="Data manipulation language (DML) statements access and manipulate data in existing tables.">About Data Manipulation Language (DML) Statements</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01345" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about the <span class="keyword">SELECT INTO</span> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00602" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about managing cursors in PL/SQL
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" title="You can store data values in records, and use a cursor as a pointer to a result set and related processing information.">Using Records and Cursors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG237"></a><a id="TDDDG46100"></a><div class="props_rev_3"><a id="GUID-43519FA9-743A-4BB4-ADB3-A947650A9706" name="GUID-43519FA9-743A-4BB4-ADB3-A947650A9706"></a><h4 id="TDDDG-GUID-43519FA9-743A-4BB4-ADB3-A947650A9706" class="sect4"><span class="enumeration_section">5.9.5 </span>Using a Declared Cursor to Retrieve Result Set Rows One at a Time
                  </h4>
                  <div>
                     <p>You can use a declared cursor to retrieve result set rows one at a time.</p>
                     <div class="section">
                        <p>The following procedure uses each necessary statement in its simplest form, but provides references to its complete syntax.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-43519FA9-743A-4BB4-ADB3-A947650A9706__GUID-39F20D83-7C62-4661-B563-B6E18699DA41">To use a declared cursor to retrieve result set rows one at a time:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>In the declarative part:</p>
                              <ol type="a">
                                 <li>
                                    <p>Declare the cursor:</p><pre class="oac_no_warn" dir="ltr">CURSOR <span class="italic">cursor_name</span> IS <span class="italic">query</span>;
</pre><p>For complete declared cursor declaration syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01313" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Declare a record to hold the row returned by the cursor:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">record_name</span> <span class="italic">cursor_name</span>%ROWTYPE;
</pre><p>For complete <span class="keyword">%ROWTYPE</span> syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01342" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>In the executable part:</p>
                              <ol type="a">
                                 <li>
                                    <p>Open the cursor:</p><pre class="oac_no_warn" dir="ltr">OPEN <span class="italic">cursor_name</span>;
</pre><p>For complete <span class="keyword">OPEN</span> statement syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01332" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Fetch rows from the cursor (rows from the result set) one at a time, using a <span class="keyword">LOOP</span> statement that has syntax similar to this:
                                    </p><pre class="oac_no_warn" dir="ltr">LOOP
  FETCH <span class="italic">cursor_name</span> INTO <span class="italic">record_name</span>;
  EXIT WHEN <span class="italic">cursor_name</span>%NOTFOUND;
  -- Process row that is in <span class="italic">record_name</span>:
  <span class="italic">statement</span>;
  [ <span class="italic">statement</span>; ]...
END LOOP;
</pre><p>For complete <span class="keyword">FETCH</span> statement syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01320" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Close the cursor:</p><pre class="oac_no_warn" dir="ltr">CLOSE <span class="italic">cursor_name</span>;
</pre><p>For complete <span class="keyword">CLOSE</span> statement syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01305" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" title="You can store data values in records, and use a cursor as a pointer to a result set and related processing information.">Using Records and Cursors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG238"></a><a id="TDDDG99953"></a><div class="props_rev_3"><a id="GUID-F263299E-B3B7-4F80-924E-3B4777E03713" name="GUID-F263299E-B3B7-4F80-924E-3B4777E03713"></a><h4 id="TDDDG-GUID-F263299E-B3B7-4F80-924E-3B4777E03713" class="sect4"><span class="enumeration_section">5.9.6 </span>Tutorial: Using a Declared Cursor to Retrieve Result Set Rows One at a Time
                  </h4>
                  <div>
                     <p>This tutorial shows how to implement the procedure EMP_EVAL.EVAL_DEPARTMENT, which uses a declared cursor, emp_cursor.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F263299E-B3B7-4F80-924E-3B4777E03713__GUID-A211DA25-3E70-4116-BAA6-894D7991D61E">To implement the EMP_EVAL.EVAL_DEPARTMENT procedure:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the EMP_EVAL package specification, change the declaration of the EVAL_DEPARTMENT procedure as shown in bold font:</span><div><pre class="oac_no_warn" dir="ltr">PROCEDURE eval_department(dept_id IN <span class="bold">employees.department_id%TYPE</span>);
</pre></div>
                        </li>
                        <li class="stepexpand"><span>In the EMP_EVAL package body, change the definition of the EVAL_DEPARTMENT procedure as shown in bold font:</span><div><pre class="oac_no_warn" dir="ltr">PROCEDURE eval_department (dept_id IN <span class="bold">employees.department_id%TYPE</span>)
AS
  <span class="bold">CURSOR emp_cursor IS</span>
    <span class="bold">SELECT * FROM EMPLOYEES</span>
    <span class="bold">WHERE DEPARTMENT_ID = eval_department.dept_id;</span>

  <span class="bold">emp_record  EMPLOYEES%ROWTYPE;</span>  -- for row returned by cursor
  <span class="bold">all_evals   BOOLEAN;</span>  -- true if all employees in dept need evaluations
  <span class="bold">today       DATE;</span>

BEGIN
  <span class="bold">today := SYSDATE;</span>

  <span class="bold">IF (EXTRACT(MONTH FROM today) &lt; 6) THEN</span>
    <span class="bold">all_evals := FALSE;</span> -- only new employees need evaluations
  <span class="bold">ELSE</span>
    <span class="bold">all_evals := TRUE;</span>  -- all employees need evaluations
  <span class="bold">END IF;</span>

  <span class="bold">OPEN emp_cursor;</span>

  <span class="bold">DBMS_OUTPUT.PUT_LINE (</span>
    <span class="bold">'Determining evaluations necessary in department # ' ||</span>
    <span class="bold">dept_id );</span>

  <span class="bold">LOOP</span>
    <span class="bold">FETCH emp_cursor INTO emp_record;</span>
    <span class="bold">EXIT WHEN emp_cursor%NOTFOUND;</span>

    <span class="bold">IF all_evals THEN</span>
      <span class="bold">add_eval(emp_record.employee_id, today);</span>
    <span class="bold">ELSIF (eval_frequency(emp_record.employee_id) = 2) THEN</span>
      <span class="bold">add_eval(emp_record.employee_id, today);</span>
    <span class="bold">END IF;</span>
  <span class="bold">END LOOP;</span>

  <span class="bold">DBMS_OUTPUT.PUT_LINE('Processed ' || emp_cursor%ROWCOUNT || ' records.');</span>

  <span class="bold">CLOSE emp_cursor;</span>
END eval_department;
</pre><p>(For a step-by-step example of changing a package body, see <span class="q">"<a href="stored-subprograms-packages.html#GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" title="This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function. (This tutorial is also an example of changing a package body.)">Tutorial: Declaring Variables and Constants in a Subprogram</a>"</span>.)
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Compile the EMP_EVAL package specification.</span></li>
                        <li class="stepexpand"><span>Compile the EMP_EVAL package body.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" title="You can store data values in records, and use a cursor as a pointer to a result set and related processing information.">Using Records and Cursors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG99939"></a><div class="props_rev_3"><a id="GUID-AAF33D3B-FE73-42AC-AB07-3FA1A45CE02B" name="GUID-AAF33D3B-FE73-42AC-AB07-3FA1A45CE02B"></a><h4 id="TDDDG-GUID-AAF33D3B-FE73-42AC-AB07-3FA1A45CE02B" class="sect4"><span class="enumeration_section">5.9.7 </span>About Cursor Variables
                  </h4>
                  <div>
                     <p>A <strong class="term">cursor variable</strong> is like a cursor that it is not limited to one query. You can open a cursor variable for a query, process the result set, and then use the cursor variable for another query. Cursor variables are useful for passing query results between subprograms.
                     </p>
                     <p>For information about cursors, see <span class="q">"<a href="stored-subprograms-packages.html#GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F" title="When Oracle Database executes a SQL statement, it stores the result set and processing information in an unnamed private SQL area. A pointer to this unnamed area, called a cursor, lets you retrieve the result set one row at a time. Cursor attributes return information about the state of the cursor.">About Cursors</a>"</span>.
                     </p>
                     <p>To declare a cursor variable, you declare a <span class="keyword">REF CURSOR</span> type, and then declare a variable of that type (therefore, a cursor variable is often called a <strong class="term">REF CURSOR</strong>). A <span class="keyword">REF CURSOR</span> type can be either strong or weak.
                     </p>
                     <p>A <strong class="term">strong REF CURSOR type</strong> specifies a <strong class="term">return type</strong>, which is the <span class="keyword">RECORD</span> type of its cursor variables. The PL/SQL compiler does not allow you to use these <strong class="term">strongly typed</strong> cursor variables for queries that return rows that are not of the return type. Strong <span class="keyword">REF CURSOR</span> types are less error-prone than weak ones, but weak ones are more flexible.
                     </p>
                     <p>A <strong class="term">weak REF CURSOR type</strong> does not specify a return type. The PL/SQL compiler accepts <strong class="term">weakly typed</strong> cursor variables in any queries. Weak <span class="keyword">REF CURSOR</span> types are interchangeable; therefore, instead of creating weak <span class="keyword">REF CURSOR</span> types, you can use the predefined type weak cursor type <span class="keyword">SYS_REFCURSOR</span>.
                     </p>
                     <p>After declaring a cursor variable, you must open it for a specific query (with the <span class="keyword">OPEN FOR</span> statement), fetch rows one at a time from the result set (with the <span class="keyword">FETCH</span> statement), and then either close the cursor (with the <span class="keyword">CLOSE</span> statement) or open it for another specific query (with the <span class="keyword">OPEN FOR</span> statement). Opening the cursor variable for another query closes it for the previous query. After closing a cursor variable for a specific query, you can neither fetch records from the result set of that query nor see the cursor attribute values for that query.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AAF33D3B-FE73-42AC-AB07-3FA1A45CE02B__GUID-C287FF43-0395-4EDA-B357-958E8106AF9D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00605" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about using cursor variables
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01312" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for the syntax of cursor variable declaration
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" title="You can store data values in records, and use a cursor as a pointer to a result set and related processing information.">Using Records and Cursors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG239"></a><a id="TDDDG99954"></a><div class="props_rev_3"><a id="GUID-C096B097-0B42-4D72-B702-85BADCF9DD26" name="GUID-C096B097-0B42-4D72-B702-85BADCF9DD26"></a><h4 id="TDDDG-GUID-C096B097-0B42-4D72-B702-85BADCF9DD26" class="sect4"><span class="enumeration_section">5.9.8 </span>Using a Cursor Variable to Retrieve Result Set Rows One at a Time
                  </h4>
                  <div>
                     <p>You can use a cursor variable to retrieve result set rows one at a time.</p>
                     <div class="section">
                        <p>The following procedure uses each of the necessary statements in its simplest form, but provides references to their complete syntax.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C096B097-0B42-4D72-B702-85BADCF9DD26__GUID-77F8B405-96C4-48AA-A32C-D78B177905BF">To use a cursor variable to retrieve result set rows one at a time:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>In the declarative part:</p>
                              <ol type="a">
                                 <li>
                                    <p>Declare the <span class="keyword">REF CURSOR</span> type:
                                    </p><pre class="oac_no_warn" dir="ltr">TYPE <span class="italic">cursor_type</span> IS REF CURSOR [ RETURN <span class="italic"><code class="codeph">return_type</code></span> ];
</pre><p>For complete <span class="keyword">REF CURSOR</span> type declaration syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01312" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Declare a cursor variable of that type:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">cursor_variable cursor_type</span>;
</pre><p>For complete cursor variable declaration syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01312" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Declare a record to hold the row returned by the cursor:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">record_name</span> <span class="italic"><code class="codeph">return_type</code></span>;
</pre><p>For complete information about record declaration syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01338" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>In the executable part:</p>
                              <ol type="a">
                                 <li>
                                    <p>Open the cursor variable for a specific query:</p><pre class="oac_no_warn" dir="ltr">OPEN <span class="italic">cursor_variable</span> FOR <span class="italic">query</span>;
</pre><p>For complete information about <span class="keyword">OPEN FOR</span> statement syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01333" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Fetch rows from the cursor variable (rows from the result set) one at a time, using a <span class="keyword">LOOP</span> statement that has syntax similar to this:
                                    </p><pre class="oac_no_warn" dir="ltr">LOOP
  FETCH <span class="italic">cursor_variable</span> INTO <span class="italic">record_name</span>;
  EXIT WHEN <span class="italic">cursor_variable</span>%NOTFOUND;
  -- Process row that is in <span class="italic">record_name</span>:
  <span class="italic">statement</span>;
  [ <span class="italic">statement</span>; ]...
END LOOP;
</pre><p>For complete information about <span class="keyword">FETCH</span> statement syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01320" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Close the cursor variable:</p><pre class="oac_no_warn" dir="ltr">CLOSE <span class="italic">cursor_variable</span>;
</pre><p>Alternatively, you can open the cursor variable for another query, which closes it for the current query.</p>
                                    <p>For complete information about <span class="keyword">CLOSE</span> statement syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01305" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" title="You can store data values in records, and use a cursor as a pointer to a result set and related processing information.">Using Records and Cursors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG240"></a><a id="TDDDG99955"></a><div class="props_rev_3"><a id="GUID-D8EAC5CF-8D2B-4BC3-A295-810B0BDF2F4B" name="GUID-D8EAC5CF-8D2B-4BC3-A295-810B0BDF2F4B"></a><h4 id="TDDDG-GUID-D8EAC5CF-8D2B-4BC3-A295-810B0BDF2F4B" class="sect4"><span class="enumeration_section">5.9.9 </span>Tutorial: Using a Cursor Variable to Retrieve Result Set Rows One at a Time
                  </h4>
                  <div>
                     <p>This tutorial shows how to change the EMP_EVAL.EVAL_DEPARTMENT procedure so that it uses a cursor variable instead of a declared cursor (which lets it process multiple departments) and how to make EMP_EVAL.EVAL_DEPARTMENT and EMP_EVAL.ADD_EVAL more efficient.</p>
                     <div class="section">
                        <p>How this tutorial makes EMP_EVAL.EVAL_DEPARTMENT and EMP_EVAL.ADD_EVAL more efficient: Instead of passing one field of a record to ADD_EVAL and having ADD_EVAL use three queries to extract three other fields of the same record, EVAL_DEPARTMENT passes the entire record to ADD_EVAL, and ADD_EVAL uses dot notation to access the values of the other three fields.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D8EAC5CF-8D2B-4BC3-A295-810B0BDF2F4B__GUID-030F40F1-4AAE-4C3D-B530-1B626D5A4488">To change the EMP_EVAL.EVAL_DEPARTMENT procedure to use a cursor variable:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In the EMP_EVAL package specification, add the procedure declaration and the <span class="keyword">REF CURSOR</span> type definition, as shown in bold font:</span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE
PACKAGE emp_eval AS

  PROCEDURE eval_department (dept_id IN employees.department_id%TYPE);

  <span class="bold">PROCEDURE eval_everyone;</span>

  FUNCTION calculate_score(eval_id IN scores.evaluation_id%TYPE 
                         , perf_id IN scores.performance_id%TYPE) 
                           RETURN NUMBER;
  TYPE SAL_INFO IS RECORD
      ( j_id jobs.job_id%type
      , sal_min jobs.min_salary%type
      , sal_max jobs.max_salary%type
      , salary employees.salary%type
      , sal_raise NUMBER(3,3));
      

  <span class="bold">TYPE emp_refcursor_type IS REF CURSOR RETURN employees%ROWTYPE;</span>
END emp_eval;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>In the EMP_EVAL package body, add a forward declaration for the procedure EVAL_LOOP_CONTROL and change the declaration of the procedure ADD_EVAL, as shown in bold font:</span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE
PACKAGE BODY EMP_EVAL AS

  FUNCTION eval_frequency (emp_id IN EMPLOYEES.EMPLOYEE_ID%TYPE)
    RETURN PLS_INTEGER;

  PROCEDURE salary_schedule(emp IN sal_info);

  <span class="bold">PROCEDURE add_eval(emp_record IN EMPLOYEES%ROWTYPE, today IN DATE);</span>

  <span class="bold">PROCEDURE eval_loop_control(emp_cursor IN emp_refcursor_type);</span>
...</pre><p>(For a step-by-step example of changing a package body, see <span class="q">"<a href="stored-subprograms-packages.html#GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" title="This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function. (This tutorial is also an example of changing a package body.)">Tutorial: Declaring Variables and Constants in a Subprogram</a>"</span>.)
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Change the EVAL_DEPARTMENT procedure to retrieve three separate result sets based on the department, and to invoke the EVAL_LOOP_CONTROL procedure, as shown in bold font:</span><div><pre class="oac_no_warn" dir="ltr">PROCEDURE eval_department(dept_id IN employees.department_id%TYPE) AS
  <span class="bold">emp_cursor    emp_refcursor_type;</span>
  <span class="bold">current_dept  departments.department_id%TYPE;</span>

BEGIN
  <span class="bold">current_dept := dept_id;</span>

  <span class="bold">FOR loop_c IN 1..3 LOOP</span>
    <span class="bold">OPEN emp_cursor FOR</span>
      <span class="bold">SELECT *</span> 
      <span class="bold">FROM employees</span>
      <span class="bold">WHERE current_dept = eval_department.dept_id;</span>

    DBMS_OUTPUT.PUT_LINE
      ('Determining necessary evaluations in department #' ||
       <span class="bold">current_dept</span>);

    <span class="bold">eval_loop_control(emp_cursor);</span>

    DBMS_OUTPUT.PUT_LINE
      ('Processed ' || emp_cursor%ROWCOUNT || ' records.');

    CLOSE emp_cursor;
    <span class="bold">current_dept := current_dept + 10;</span> 
  <span class="bold">END LOOP;</span>
END eval_department;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Change the ADD_EVAL procedure as shown in bold font:</span><div><pre class="oac_no_warn" dir="ltr">PROCEDURE add_eval(<span class="bold">emp_record IN employees%ROWTYPE</span>, today IN DATE)
AS
<span class="bold">-- (Delete local variables)</span>
BEGIN
  INSERT INTO EVALUATIONS (
    evaluation_id,
    employee_id,
    evaluation_date,
    job_id,
    manager_id,
    department_id,
    total_score
  )
  VALUES (
    evaluations_sequence.NEXTVAL,   -- evaluation_id
    <span class="bold">emp_record.employee_id,    -- employee_id</span>
    today,                     -- evaluation_date
    <span class="bold">emp_record.job_id,         -- job_id</span>
    <span class="bold">emp_record.manager_id,     -- manager_id</span>
    <span class="bold">emp_record.department_id,  -- department_id</span>
    0                           -- total_score
);
END add_eval;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Before <code class="codeph">END EMP_EVAL</code>, add the following procedure, which fetches the individual records from the result set and processes them:</span><div><pre class="oac_no_warn" dir="ltr">PROCEDURE eval_loop_control (emp_cursor IN emp_refcursor_type) AS
   emp_record      EMPLOYEES%ROWTYPE;
   all_evals       BOOLEAN;
   today           DATE;
BEGIN
  today := SYSDATE;

  IF (EXTRACT(MONTH FROM today) &lt; 6) THEN
    all_evals := FALSE;
  ELSE 
    all_evals := TRUE;
  END IF;

  LOOP
    FETCH emp_cursor INTO emp_record;
    EXIT WHEN emp_cursor%NOTFOUND;

    IF all_evals THEN
      add_eval(emp_record, today);
    ELSIF (eval_frequency(emp_record.employee_id) = 2) THEN
      add_eval(emp_record, today);
    END IF;
  END LOOP;
END eval_loop_control;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Before <code class="codeph">END EMP_EVAL</code>, add the following procedure, which retrieves a result set that contains all employees in the company:</span><div><pre class="oac_no_warn" dir="ltr">PROCEDURE eval_everyone AS
  emp_cursor emp_refcursor_type;
BEGIN
  OPEN emp_cursor FOR SELECT * FROM employees;
  DBMS_OUTPUT.PUT_LINE('Determining number of necessary evaluations.');
  eval_loop_control(emp_cursor);
  DBMS_OUTPUT.PUT_LINE('Processed ' || emp_cursor%ROWCOUNT || ' records.');
  CLOSE emp_cursor;
END eval_everyone;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Compile the <code class="codeph">EMP_EVAL</code> package specification.</span></li>
                        <li class="stepexpand"><span>Compile the <code class="codeph">EMP_EVAL</code> package body.</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-3D91FF89-07B3-4F27-9E73-FCFDA001EF38" title="You can store data values in records, and use a cursor as a pointer to a result set and related processing information.">Using Records and Cursors</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG49000"></a><div class="props_rev_4"><a id="GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E" name="GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E"></a><h3 id="TDDDG-GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E" class="sect3"><span class="enumeration_section">5.10 </span>Using Associative Arrays
               </h3>
               <div>
                  <p>An associative array is a type of collection.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-8D238CE2-20B7-47DB-A20B-A5AE23B8ABFD">About Collections</a><br>A <strong class="term">collection</strong> is a PL/SQL composite variable that stores elements of the same type in a specified order, similar to a one-dimensional array. The internal components of a collection are called <strong class="term">elements</strong>. Each element has a unique subscript that identifies its position in the collection.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-159C7208-9AA4-479F-8DDC-8C1812785DC1">About Associative Arrays</a><br>An <strong class="term">associative array</strong> is an unbounded set of key-value pairs. Each key is unique, and serves as the subscript of the element that holds the corresponding value. Therefore, you can access elements without knowing their positions in the array, and without traversing the array.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-43060654-B9CC-45E3-B7F3-0233753279A1">Declaring Associative Arrays</a><br>To declare an associative array, you declare an associative array type and then declare a variable of that type.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F">Populating Associative Arrays</a><br>The most efficient way to populate a dense associative array is usually with a <span class="keyword">SELECT</span> statement with a <span class="keyword">BULK COLLECT INTO</span> clause.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-E02BABFA-5547-4A52-BEA3-716D4E6D86AE">Traversing Dense Associative Arrays</a><br>A <strong class="term">dense associative array</strong> (indexed by integer) has no gaps between elements—every element between the first and last element is defined and has a value (which can be <span class="keyword">NULL</span>).
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-0139973B-C839-4049-82C1-5AC0D7D69778">Traversing Sparse Associative Arrays</a><br>A <strong class="term">sparse associative array</strong> (indexed by string) might have gaps between elements.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E__GUID-362FE22D-4364-45F5-A44C-64A836F856F7">
                     <p class="notep1">See Also:</p>
                     <p>For more information about collections:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=CNCPT1787" target="_blank"><span class="italic">Oracle Database Concepts</span></a> 
                           </p>
                        </li>
                        <li>
                           <p><a href="../lnpls/plsql-collections-and-records.html#LNPLS005" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99952"></a><div class="props_rev_3"><a id="GUID-8D238CE2-20B7-47DB-A20B-A5AE23B8ABFD" name="GUID-8D238CE2-20B7-47DB-A20B-A5AE23B8ABFD"></a><h4 id="TDDDG-GUID-8D238CE2-20B7-47DB-A20B-A5AE23B8ABFD" class="sect4"><span class="enumeration_section">5.10.1 </span>About Collections
                  </h4>
                  <div>
                     <p>A <strong class="term">collection</strong> is a PL/SQL composite variable that stores elements of the same type in a specified order, similar to a one-dimensional array. The internal components of a collection are called <strong class="term">elements</strong>. Each element has a unique subscript that identifies its position in the collection.
                     </p>
                     <p>To access a collection element, you use <strong class="term">subscript notation</strong>: <span class="synph">collection_name</span>(<span class="synph">element_subscript</span>).
                     </p>
                     <p>You can treat collection elements like scalar variables. You can also pass entire collections as subprogram parameters (if neither the sending nor receiving subprogram is a standalone subprogram).</p>
                     <p>A <strong class="term">collection method</strong> is a built-in PL/SQL subprogram that either returns information about a collection or operates on a collection. To invoke a collection method, you use <strong class="term">dot notation</strong>: <span class="synph">collection_name</span>.<span class="synph">method_name</span>. For example, <span class="synph">collection_name</span>.<span class="keyword">COUNT</span> returns the number of elements in the collection.
                     </p>
                     <p>PL/SQL has three types of collections:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Associative arrays (formerly called "PL/SQL tables" or "index-by tables")</p>
                        </li>
                        <li>
                           <p>Nested tables</p>
                        </li>
                        <li>
                           <p>Variable arrays (varrays)</p>
                        </li>
                     </ul>
                     <p>This document explains only associative arrays.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8D238CE2-20B7-47DB-A20B-A5AE23B8ABFD__GUID-8725CEBB-0EC4-4EC8-A950-A96559C5BB54">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00501" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about PL/SQL collection types
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00508" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about collection methods
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E" title="An associative array is a type of collection.">Using Associative Arrays</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG99951"></a><div class="props_rev_3"><a id="GUID-159C7208-9AA4-479F-8DDC-8C1812785DC1" name="GUID-159C7208-9AA4-479F-8DDC-8C1812785DC1"></a><h4 id="TDDDG-GUID-159C7208-9AA4-479F-8DDC-8C1812785DC1" class="sect4"><span class="enumeration_section">5.10.2 </span>About Associative Arrays
                  </h4>
                  <div>
                     <p>An <strong class="term">associative array</strong> is an unbounded set of key-value pairs. Each key is unique, and serves as the subscript of the element that holds the corresponding value. Therefore, you can access elements without knowing their positions in the array, and without traversing the array.
                     </p>
                     <p>The data type of the key can be either <span class="keyword">PLS_INTEGER</span> or <span class="keyword">VARCHAR2</span>&nbsp;(<span class="synph">length</span>).
                     </p>
                     <p>If the data type of the key is <span class="keyword">PLS_INTEGER</span> and the associative array is <strong class="term">indexed by integer</strong> and is <strong class="term">dense</strong> (that is, has no gaps between elements), then every element between the first and last element is defined and has a value (which can be <span class="keyword">NULL</span>).
                     </p>
                     <p>If the key type is <span class="keyword">VARCHAR2</span>&nbsp;(<span class="synph">length</span>), the associative array is <strong class="term">indexed by string</strong> (of <span class="synph">length</span> characters) and is <strong class="term">sparse</strong>; that is, it might have gaps between elements.
                     </p>
                     <p>When traversing a dense associative array, you need not beware of gaps between elements; when traversing a sparse associative array, you do.</p>
                     <p>To assign a value to an associative array element, you can use an assignment operator:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">array_name</span>(<span class="italic">key</span>) := <span class="italic">value</span>
</pre><p>If <span class="synph">key</span> is not in the array, then the assignment statement adds the <span class="synph">key</span>-<span class="synph">value</span> pair to the array. Otherwise, the statement changes the value of <span class="synph">array_name</span>(<span class="synph">key</span>) to <span class="synph">value</span>.
                     </p>
                     <p>Associative arrays are useful for storing data temporarily. They do not use the disk space or network operations that tables require. However, because associative arrays are intended for temporary storage, you cannot manipulate them with DML statements.</p>
                     <p>If you declare an associative array in a package and assign values to the variable in the package body, then the associative array exists for the life of the database session. Otherwise, it exists for the life of the subprogram in which you declare it.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-159C7208-9AA4-479F-8DDC-8C1812785DC1__GUID-BB3C11A9-15AE-4BDE-9235-1B7C45F230C0">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS99969" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about associative arrays
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E" title="An associative array is a type of collection.">Using Associative Arrays</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG241"></a><a id="TDDDG242"></a><a id="TDDDG99950"></a><div class="props_rev_3"><a id="GUID-43060654-B9CC-45E3-B7F3-0233753279A1" name="GUID-43060654-B9CC-45E3-B7F3-0233753279A1"></a><h4 id="TDDDG-GUID-43060654-B9CC-45E3-B7F3-0233753279A1" class="sect4"><span class="enumeration_section">5.10.3 </span>Declaring Associative Arrays
                  </h4>
                  <div>
                     <p>To declare an associative array, you declare an associative array type and then declare a variable of that type.</p>
                     <div class="section">
                        <p>The simplest syntax is:</p><pre class="oac_no_warn" dir="ltr">TYPE <span class="italic">array_type</span> IS TABLE OF <span class="italic">element_type</span> INDEX BY <span class="italic">key_type</span>;

<span class="italic">array_name  array_type</span>;
</pre><p>An efficient way to declare an associative array is with a cursor, using the following procedure. The procedure uses each necessary statement in its simplest form, but provides references to its complete syntax.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-43060654-B9CC-45E3-B7F3-0233753279A1__GUID-190D12B7-5F66-4604-8AAE-0DE3334FB2A4">To use a cursor to declare an associative array:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>In the declarative part:</p>
                              <ol type="a">
                                 <li>
                                    <p>Declare the cursor:</p><pre class="oac_no_warn" dir="ltr">CURSOR <span class="italic">cursor_name</span> IS <span class="italic">query</span>;
</pre><p>For complete declared cursor declaration syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01307" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Declare the associative array type:</p><pre class="oac_no_warn" dir="ltr">TYPE <span class="italic">array_type</span> IS TABLE OF <span class="italic">cursor_name</span>%ROWTYPE
  INDEX BY { PLS_INTEGER | VARCHAR2 <span class="italic"><code class="codeph">length</code></span> }
</pre><p>For complete associative array type declaration syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01313" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Declare an associative array variable of that type:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">array_name  array_type</span>;
</pre><p>For complete variable declaration syntax, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01388" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                        <p><a href="stored-subprograms-packages.html#GUID-43060654-B9CC-45E3-B7F3-0233753279A1__BABCJGAD">Example 5-9</a> uses the preceding procedure to declare two associative arrays, employees_jobs and jobs_, and then declares a third associative array, job_titles, without using a cursor. The first two arrays are indexed by integer; the third is indexed by string.
                        </p>
                        <div class="infoboxnote" id="GUID-43060654-B9CC-45E3-B7F3-0233753279A1__GUID-BC6A1B46-CE6D-4C39-AEB6-065023B584B4">
                           <p class="notep1">Note:</p>
                           <p>The <span class="keyword">ORDER BY</span> clause in the declaration of employees_jobs_cursor determines the storage order of the elements of the associative array employee_jobs.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-43060654-B9CC-45E3-B7F3-0233753279A1__BABCJGAD">
                        <p class="titleinexample">Example 5-9 Declaring Associative Arrays</p><pre class="oac_no_warn" dir="ltr">DECLARE
  -- Declare cursor:

  CURSOR employees_jobs_cursor IS
    SELECT FIRST_NAME, LAST_NAME, JOB_ID
    FROM EMPLOYEES
    ORDER BY JOB_ID, LAST_NAME, FIRST_NAME;

  -- Declare associative array type:

  TYPE employees_jobs_type IS TABLE OF employees_jobs_cursor%ROWTYPE
    INDEX BY PLS_INTEGER;

  -- Declare associative array:

  employees_jobs  employees_jobs_type;

  -- Use same procedure to declare another associative array:

  CURSOR jobs_cursor IS
    SELECT JOB_ID, JOB_TITLE
    FROM JOBS;

  TYPE jobs_type IS TABLE OF jobs_cursor%ROWTYPE
    INDEX BY PLS_INTEGER;

  jobs_  jobs_type;

-- Declare associative array without using cursor:

  TYPE job_titles_type IS TABLE OF JOBS.JOB_TITLE%TYPE
    INDEX BY JOBS.JOB_ID%TYPE;  -- jobs.job_id%type is varchar2(10)

  job_titles  job_titles_type;

BEGIN
  NULL;
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-43060654-B9CC-45E3-B7F3-0233753279A1__GUID-46714F5E-355F-407C-A7C4-097C96A56ABB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="stored-subprograms-packages.html#GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F" title="When Oracle Database executes a SQL statement, it stores the result set and processing information in an unnamed private SQL area. A pointer to this unnamed area, called a cursor, lets you retrieve the result set one row at a time. Cursor attributes return information about the state of the cursor.">About Cursors</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01307" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for associative array declaration syntax
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E" title="An associative array is a type of collection.">Using Associative Arrays</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG244"></a><a id="TDDDG99949"></a><div class="props_rev_3"><a id="GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F" name="GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F"></a><h4 id="TDDDG-GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F" class="sect4"><span class="enumeration_section">5.10.4 </span>Populating Associative Arrays
                  </h4>
                  <div>
                     <p>The most efficient way to populate a dense associative array is usually with a <span class="keyword">SELECT</span> statement with a <span class="keyword">BULK COLLECT INTO</span> clause.
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F__GUID-0A5653FB-10F5-4F3B-AA64-BB86CA903C6F">
                           <p class="notep1">Note:</p>
                           <p>If a dense associative array is so large that a <span class="keyword">SELECT</span> statement would a return a result set too large to fit in memory, then do not use a <span class="keyword">SELECT</span> statement. Instead, populate the array with a cursor and the <span class="keyword">FETCH</span> statement with the clauses <span class="keyword">BULK COLLECT INTO</span> and <span class="keyword">LIMIT</span>. For information about using the <span class="keyword">FETCH</span> statement with <span class="keyword">BULK COLLECT INTO</span> clause, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS894" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                           </p>
                        </div>
                        <p>You cannot use a <span class="keyword">SELECT</span> statement to populate a sparse associative array (such as job_titles in <span class="q">"<a href="stored-subprograms-packages.html#GUID-43060654-B9CC-45E3-B7F3-0233753279A1" title="To declare an associative array, you declare an associative array type and then declare a variable of that type.">Declaring Associative Arrays</a>"</span>). Instead, you must use an assignment statement inside a loop statement. For information about loop statements, see <span class="q">"<a href="stored-subprograms-packages.html#GUID-19AC8484-5CCE-4037-9E53-E95ACBCB2E51" title="Unlike SQL, which runs statements in the order in which you enter them, PL/SQL has control statements that let you control the flow of your program.">Controlling Program Flow</a>"</span>.
                        </p>
                        <p><a href="stored-subprograms-packages.html#GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F__CIHJHGAI">Example 5-10</a> uses <span class="keyword">SELECT</span> statements to populate the associative arrays employees_jobs and jobs_, which are indexed by integer. Then it uses an assignment statement inside a <span class="keyword">FOR LOOP</span> statement to populate the associative array job_titles, which is indexed by string.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F__CIHJHGAI">
                        <p class="titleinexample">Example 5-10 Populating Associative Arrays</p><pre class="oac_no_warn" dir="ltr">-- Declarative part from <a href="stored-subprograms-packages.html#GUID-43060654-B9CC-45E3-B7F3-0233753279A1__BABCJGAD">Example 5-9</a> goes here.

BEGIN
  -- Populate associative arrays indexed by integer:

SELECT FIRST_NAME, LAST_NAME, JOB_ID BULK COLLECT INTO employees_jobs
  FROM EMPLOYEES ORDER BY JOB_ID, LAST_NAME, FIRST_NAME;

SELECT JOB_ID, JOB_TITLE BULK COLLECT INTO jobs_ FROM JOBS;

  -- Populate associative array indexed by string:

  FOR i IN 1..jobs_.COUNT() LOOP
    job_titles(jobs_(i).job_id) := jobs_(i).job_title;
  END LOOP;
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F__GUID-770F4BFA-4B8E-4E1E-B9CB-0F9A71264D1B">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="stored-subprograms-packages.html#GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F" title="When Oracle Database executes a SQL statement, it stores the result set and processing information in an unnamed private SQL area. A pointer to this unnamed area, called a cursor, lets you retrieve the result set one row at a time. Cursor attributes return information about the state of the cursor.">About Cursors</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E" title="An associative array is a type of collection.">Using Associative Arrays</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG245"></a><a id="TDDDG49500"></a><div class="props_rev_3"><a id="GUID-E02BABFA-5547-4A52-BEA3-716D4E6D86AE" name="GUID-E02BABFA-5547-4A52-BEA3-716D4E6D86AE"></a><h4 id="TDDDG-GUID-E02BABFA-5547-4A52-BEA3-716D4E6D86AE" class="sect4"><span class="enumeration_section">5.10.5 </span>Traversing Dense Associative Arrays
                  </h4>
                  <div>
                     <p>A <strong class="term">dense associative array</strong> (indexed by integer) has no gaps between elements—every element between the first and last element is defined and has a value (which can be <span class="keyword">NULL</span>).
                     </p>
                     <div class="section">
                        <p>You can traverse a dense array with a <span class="keyword">FOR LOOP</span> statement, as in <a href="stored-subprograms-packages.html#GUID-E02BABFA-5547-4A52-BEA3-716D4E6D86AE__CIHFJFDG">Example 5-11</a>.
                        </p>
                        <p>When inserted in the executable part of <a href="stored-subprograms-packages.html#GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F__CIHJHGAI">Example 5-10</a>, after the code that populates the employees_jobs array, the <span class="keyword">FOR LOOP</span> statement in <a href="stored-subprograms-packages.html#GUID-E02BABFA-5547-4A52-BEA3-716D4E6D86AE__CIHFJFDG">Example 5-11</a> prints the elements of the employees_jobs array in the order in which they were stored. Their storage order was determined by the <span class="keyword">ORDER BY</span> clause in the declaration of employees_jobs_cursor, which was used to declare employees_jobs (see <a href="stored-subprograms-packages.html#GUID-43060654-B9CC-45E3-B7F3-0233753279A1__BABCJGAD">Example 5-9</a>).
                        </p>
                        <p>The upper bound of the <span class="keyword">FOR LOOP</span> statement, employees_jobs.<span class="keyword">COUNT</span>, invokes a collection method that returns the number of elements in the array. For more information about <span class="keyword">COUNT</span>, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS99967" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E02BABFA-5547-4A52-BEA3-716D4E6D86AE__CIHFJFDG">
                        <p class="titleinexample">Example 5-11 Traversing a Dense Associative Array</p><pre class="oac_no_warn" dir="ltr">-- Code that populates employees_jobs must precede this code:

FOR i IN 1..<span class="bold">employees_jobs.COUNT</span> LOOP
  DBMS_OUTPUT.PUT_LINE(
    RPAD(employees_jobs(i).first_name, 23) ||
    RPAD(employees_jobs(i).last_name,  28) ||     employees_jobs(i).job_id);
  END LOOP;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">William                Gietz                       AC_ACCOUNT
Shelley                Higgins                     AC_MGR
Jennifer               Whalen                      AD_ASST
Steven                 King                        AD_PRES
Lex                    De Haan                     AD_VP
Neena                  Kochhar                     AD_VP
John                   Chen                        FI_ACCOUNT
...
Jose Manuel            Urman                       FI_ACCOUNT
Nancy                  Greenberg                   FI_MGR
Susan                  Mavris                      HR_REP
David                  Austin                      IT_PROG
...
Valli                  Pataballa                   IT_PROG
Michael                Hartstein                   MK_MAN
Pat                    Fay                         MK_REP
Hermann                Baer                        PR_REP
Shelli                 Baida                       PU_CLERK
...
Sigal                  Tobias                      PU_CLERK
Den                    Raphaely                    PU_MAN
Gerald                 Cambrault                   SA_MAN
...
Eleni                  Zlotkey                     SA_MAN
Ellen                  Abel                        SA_REP
...
Clara                  Vishney                     SA_REP
Sarah                  Bell                        SH_CLERK
...
Peter                  Vargas                      ST_CLERK
Adam                   Fripp                       ST_MAN
...
Matthew                Weiss                       ST_MAN</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E" title="An associative array is a type of collection.">Using Associative Arrays</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG246"></a><a id="TDDDG99948"></a><div class="props_rev_3"><a id="GUID-0139973B-C839-4049-82C1-5AC0D7D69778" name="GUID-0139973B-C839-4049-82C1-5AC0D7D69778"></a><h4 id="TDDDG-GUID-0139973B-C839-4049-82C1-5AC0D7D69778" class="sect4"><span class="enumeration_section">5.10.6 </span>Traversing Sparse Associative Arrays
                  </h4>
                  <div>
                     <p>A <strong class="term">sparse associative array</strong> (indexed by string) might have gaps between elements.
                     </p>
                     <div class="section">
                        <p>You can traverse it with a <span class="keyword">WHILE LOOP</span> statement, as in <a href="stored-subprograms-packages.html#GUID-0139973B-C839-4049-82C1-5AC0D7D69778__CIHFADJH">Example 5-12</a>.
                        </p>
                        <p>To run the code in <a href="stored-subprograms-packages.html#GUID-0139973B-C839-4049-82C1-5AC0D7D69778__CIHFADJH">Example 5-12</a>, which prints the elements of the job_titles array:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>At the end of the declarative part of <a href="stored-subprograms-packages.html#GUID-43060654-B9CC-45E3-B7F3-0233753279A1__BABCJGAD">Example 5-9</a>, insert this variable declaration:</span><div><pre class="oac_no_warn" dir="ltr">i jobs.job_id%TYPE;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>In the executable part of <a href="stored-subprograms-packages.html#GUID-018BD661-D3E1-49D6-A46B-BC8006672B7F__CIHJHGAI">Example 5-10</a>, after the code that populates the job_titles array, insert the code from <a href="stored-subprograms-packages.html#GUID-0139973B-C839-4049-82C1-5AC0D7D69778__CIHFADJH">Example 5-12</a>.</span></li>
                     </ol>
                     <div class="example" id="GUID-0139973B-C839-4049-82C1-5AC0D7D69778__CIHFADJH">
                        <p class="titleinexample">Example 5-12 Traversing a Sparse Associative Array</p><pre class="oac_no_warn" dir="ltr">/* Declare this variable in declarative part:

   i jobs.job_id%TYPE;

   Add this code to the executable part,
   after code that populates job_titles:
*/

i := <span class="bold">job_titles.FIRST</span>;

WHILE i IS NOT NULL LOOP
  DBMS_OUTPUT.PUT_LINE(RPAD(i, 12) || job_titles(i));
  i := <span class="bold">job_titles.NEXT(i)</span>;
END LOOP;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">AC_ACCOUNT  Public Accountant
AC_MGR      Accounting Manager
AD_ASST     Administration Assistant
AD_PRES     President
AD_VP       Administration Vice President
FI_ACCOUNT  Accountant
FI_MGR      Finance Manager
HR_REP      Human Resources Representative
IT_PROG     Programmer
MK_MAN      Marketing Manager
MK_REP      Marketing Representative
PR_REP      Public Relations Representative
PU_CLERK    Purchasing Clerk
PU_MAN      Purchasing Manager
SA_MAN      Sales Manager
SA_REP      Sales Representative
SH_CLERK    Shipping Clerk
ST_CLERK    Stock Clerk
ST_MAN      Stock Manager</pre><p><a href="stored-subprograms-packages.html#GUID-0139973B-C839-4049-82C1-5AC0D7D69778__CIHFADJH">Example 5-12</a> includes two collection method invocations, job_titles.<span class="keyword">FIRST</span> and job_titles.<span class="keyword">NEXT(i)</span>. job_titles.<span class="keyword">FIRST</span> returns the first element of job_titles, and job_titles.<span class="keyword">NEXT(i)</span> returns the subscript that succeeds <code class="codeph">i</code>. For more information about <span class="keyword">FIRST</span>, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS99965" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>. For more information about <span class="keyword">NEXT</span>, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS99964" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                        </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-6200D2F0-1A2E-46BB-AE2E-C72E4FE82C2E" title="An associative array is a type of collection.">Using Associative Arrays</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG46000"></a><div class="props_rev_4"><a id="GUID-7D9BAC1B-A6AA-428E-8C08-73DB9D7911D5" name="GUID-7D9BAC1B-A6AA-428E-8C08-73DB9D7911D5"></a><h3 id="TDDDG-GUID-7D9BAC1B-A6AA-428E-8C08-73DB9D7911D5" class="sect3"><span class="enumeration_section">5.11 </span>Handling Exceptions (Runtime Errors)
               </h3>
               <div>
                  <p>You can handle exceptions that occur at run time with PL/SQL code.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-46958EB5-3629-4E28-A922-9899D73F93FB">About Exceptions and Exception Handlers</a><br>When a runtime error occurs in PL/SQL code, an <strong class="term">exception</strong> is raised. If the subprogram (or block) in which the exception is raised has an exception-handling part, then control transfers to it; otherwise, execution stops.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-AD2E9A8A-AF04-433B-A974-D17262871652">When to Use Exception Handlers</a><br>Oracle recommends using exception handlers only in these situations.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-A3B25A8E-746A-4E6D-9635-5758BD5459CB">Handling Predefined Exceptions</a><br>You can handle predefined exceptions.
                     </li>
                     <li class="ulchildlink"><a href="stored-subprograms-packages.html#GUID-F13424DB-ED01-4C48-AAC4-D8889963D578">Declaring and Handling User-Defined Exceptions</a><br>You can declare and handle user-defined exceptions.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-7D9BAC1B-A6AA-428E-8C08-73DB9D7911D5__GUID-FDDDA4E4-6BA2-48B1-A7A4-185DCB0C48E6">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS007" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about handling PL/SQL errors
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-1BF71E98-6A2D-4BC2-B780-7E7C2CBF080F" title="Stored subprograms and packages can be used as building blocks for many different database applications.">Developing Stored Subprograms and Packages</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99947"></a><div class="props_rev_3"><a id="GUID-46958EB5-3629-4E28-A922-9899D73F93FB" name="GUID-46958EB5-3629-4E28-A922-9899D73F93FB"></a><h4 id="TDDDG-GUID-46958EB5-3629-4E28-A922-9899D73F93FB" class="sect4"><span class="enumeration_section">5.11.1 </span>About Exceptions and Exception Handlers
                  </h4>
                  <div>
                     <p>When a runtime error occurs in PL/SQL code, an <strong class="term">exception</strong> is raised. If the subprogram (or block) in which the exception is raised has an exception-handling part, then control transfers to it; otherwise, execution stops.
                     </p>
                     <p>Runtime errors can arise from design faults, coding mistakes, hardware failures, and many other sources.</p>
                     <p>Oracle Database has many <strong class="term">predefined exceptions</strong>, which it raises automatically when a program violates database rules or exceeds system-dependent limits. For example, if a <span class="keyword">SELECT INTO</span> statement returns no rows, then Oracle Database raises the predefined exception <span class="keyword">NO_DATA_FOUND</span>. For a summary of predefined PL/SQL exceptions, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00703" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                     </p>
                     <p>PL/SQL lets you define (declare) your own exceptions. An exception declaration has this syntax:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">exception_name</span> EXCEPTION;
</pre><p>Unlike a predefined exception, a <strong class="term">user-defined exception</strong> must be raised explicitly, using either the <span class="keyword">RAISE</span> statement or the DBMS_STANDARD.RAISE_APPLICATION_ERROR. procedure. For example:
                     </p><pre class="oac_no_warn" dir="ltr">IF <span class="italic">condition</span> THEN RAISE <span class="italic">exception_name</span>;
</pre><p>For information about the DBMS_STANDARD.RAISE_APPLICATION_ERROR procedure, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS99960" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                     </p>
                     <p>The exception-handling part of a subprogram contains one or more exception handlers. An <strong class="term">exception handler</strong> has this syntax:
                     </p><pre class="oac_no_warn" dir="ltr">WHEN { <span class="italic">exception_name</span> [ OR <span class="italic">exception_name</span> ]... | OTHERS } THEN
  <span class="italic">statement</span>; [ <span class="italic">statement</span>; ]...
</pre><p>(<span class="q">"<a href="stored-subprograms-packages.html#GUID-8C076E20-30D0-4E91-8485-246B02FA5BB8">About Subprogram Structure</a>"</span> shows where to put the exception-handling part of a subprogram.)
                     </p>
                     <p>A <span class="keyword">WHEN OTHERS</span> exception handler handles unexpected runtime errors. If used, it must be last. For example:
                     </p><pre class="oac_no_warn" dir="ltr">EXCEPTION
  WHEN <span class="italic">exception_1</span> THEN
    <span class="italic">statement</span>; [ <span class="italic">statement</span>; ]...
  WHEN <span class="italic">exception_2</span> OR <span class="italic">exception_3</span> THEN
    <span class="italic">statement</span>; [ <span class="italic">statement</span>; ]...
  WHEN OTHERS THEN
    <span class="italic">statement</span>; [ <span class="italic">statement</span>; ]...
    RAISE;  -- Reraise the exception (very important).
END;
</pre><p>An alternative to the <span class="keyword">WHEN OTHERS</span> exception handler is the <span class="keyword">EXCEPTION_INIT</span> pragma, which associates a user-defined exception name with an Oracle Database error number.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-46958EB5-3629-4E28-A922-9899D73F93FB__GUID-424BCDB8-89AD-497C-A347-F771AD18FB6F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01387" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about exception declaration syntax
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01316" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about exception handler syntax
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS01315" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about the <span class="keyword">EXCEPTION_INIT</span> pragma
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-7D9BAC1B-A6AA-428E-8C08-73DB9D7911D5" title="You can handle exceptions that occur at run time with PL/SQL code.">Handling Exceptions (Runtime Errors)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG142"></a><div class="props_rev_3"><a id="GUID-AD2E9A8A-AF04-433B-A974-D17262871652" name="GUID-AD2E9A8A-AF04-433B-A974-D17262871652"></a><h4 id="TDDDG-GUID-AD2E9A8A-AF04-433B-A974-D17262871652" class="sect4"><span class="enumeration_section">5.11.2 </span>When to Use Exception Handlers
                  </h4>
                  <div>
                     <p>Oracle recommends using exception handlers only in these situations.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You expect an exception and want to handle it.</p>
                           <p>For example, you expect that eventually, a <span class="keyword">SELECT INTO</span> statement will return no rows, causing Oracle Database to raise the predefined exception <span class="keyword">NO_DATA_FOUND</span>. You want your subprogram or block to handle that exception (which is not an error) and then continue, as in <a href="stored-subprograms-packages.html#GUID-A3B25A8E-746A-4E6D-9635-5758BD5459CB__BABDJCJC">Example 5-13</a>.
                           </p>
                        </li>
                        <li>
                           <p>You must relinquish or close a resource.</p>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">...
file := UTL_FILE.OPEN ...
BEGIN
  <span class="italic">statement</span> <span class="italic">statement</span>]...  -- If this code fails for any reason,
EXCEPTION
  WHEN OTHERS THEN
    UTL_FILE.FCLOSE(file);     -- then you want to close the file.
    RAISE;                     -- Reraise the exception (very important).
END;
UTL_FILE.FCLOSE(file);
...
</pre></li>
                        <li>
                           <p>At the top level of the code, you want to log the error.</p>
                           <p>For example, a client process might issue this block:</p><pre class="oac_no_warn" dir="ltr">BEGIN
  proc(...);
EXCEPTION
  WHEN OTHERS THEN
    log_error_using_autonomous_transaction(...);
    RAISE;  -- Reraise the exception (very important).
END;
/
</pre><p>Alternatively, the standalone subprogram that the client invokes can include the same exception-handling logic—but only at the top level.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-7D9BAC1B-A6AA-428E-8C08-73DB9D7911D5" title="You can handle exceptions that occur at run time with PL/SQL code.">Handling Exceptions (Runtime Errors)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG247"></a><a id="TDDDG99940"></a><div class="props_rev_3"><a id="GUID-A3B25A8E-746A-4E6D-9635-5758BD5459CB" name="GUID-A3B25A8E-746A-4E6D-9635-5758BD5459CB"></a><h4 id="TDDDG-GUID-A3B25A8E-746A-4E6D-9635-5758BD5459CB" class="sect4"><span class="enumeration_section">5.11.3 </span>Handling Predefined Exceptions
                  </h4>
                  <div>
                     <p>You can handle predefined exceptions.</p>
                     <div class="section">
                        <p><a href="stored-subprograms-packages.html#GUID-A3B25A8E-746A-4E6D-9635-5758BD5459CB__BABDJCJC">Example 5-13</a> shows, in bold font, how to change the EMP_EVAL.EVAL_DEPARTMENT procedure to handle the predefined exception <span class="keyword">NO_DATA_FOUND</span>. Make this change and compile the changed procedure. (For an example of how to change a package body, see <span class="q">"<a href="stored-subprograms-packages.html#GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" title="This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function. (This tutorial is also an example of changing a package body.)">Tutorial: Declaring Variables and Constants in a Subprogram</a>"</span>.)
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A3B25A8E-746A-4E6D-9635-5758BD5459CB__BABDJCJC">
                        <p class="titleinexample">Example 5-13 Handling Predefined Exception NO_DATA_FOUND</p><pre class="oac_no_warn" dir="ltr">PROCEDURE eval_department(dept_id IN employees.department_id%TYPE) AS
  emp_cursor    emp_refcursor_type;
  current_dept  departments.department_id%TYPE;

BEGIN
  current_dept := dept_id;

  FOR loop_c IN 1..3 LOOP
    OPEN emp_cursor FOR
      SELECT * 
      FROM employees
      WHERE current_dept = eval_department.dept_id;

    DBMS_OUTPUT.PUT_LINE
      ('Determining necessary evaluations in department #' ||
       current_dept);

    eval_loop_control(emp_cursor);

    DBMS_OUTPUT.PUT_LINE
      ('Processed ' || emp_cursor%ROWCOUNT || ' records.');

    CLOSE emp_cursor;
    current_dept := current_dept + 10; 
  END LOOP;
<span class="bold">EXCEPTION</span>
  <span class="bold">WHEN NO_DATA_FOUND THEN</span>
    <span class="bold">DBMS_OUTPUT.PUT_LINE ('The query did not return a result set');</span>
END eval_department;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A3B25A8E-746A-4E6D-9635-5758BD5459CB__GUID-3035DDCB-EA2B-4612-8654-0AEED50B83A6">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00703" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about predefined exceptions
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-7D9BAC1B-A6AA-428E-8C08-73DB9D7911D5" title="You can handle exceptions that occur at run time with PL/SQL code.">Handling Exceptions (Runtime Errors)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG248"></a><a id="TDDDG46200"></a><div class="props_rev_3"><a id="GUID-F13424DB-ED01-4C48-AAC4-D8889963D578" name="GUID-F13424DB-ED01-4C48-AAC4-D8889963D578"></a><h4 id="TDDDG-GUID-F13424DB-ED01-4C48-AAC4-D8889963D578" class="sect4"><span class="enumeration_section">5.11.4 </span>Declaring and Handling User-Defined Exceptions
                  </h4>
                  <div>
                     <p>You can declare and handle user-defined exceptions.</p>
                     <div class="section">
                        <p><a href="stored-subprograms-packages.html#GUID-F13424DB-ED01-4C48-AAC4-D8889963D578__BABDJFFF">Example 5-14</a> shows, in bold font, how to change the EMP_EVAL.CALCULATE_SCORE function to declare and handle two user-defined exceptions, wrong_weight and wrong_score. Make this change and compile the changed function. (For an example of how to change a package body, see <span class="q">"<a href="stored-subprograms-packages.html#GUID-92B10EDA-E0B1-42AF-9289-24E87EE65413" title="This tutorial shows how to use the SQL Developer tool Edit to declare variables and constants in the EMP_EVAL.CALCULATE_SCORE function. (This tutorial is also an example of changing a package body.)">Tutorial: Declaring Variables and Constants in a Subprogram</a>"</span>.)
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-F13424DB-ED01-4C48-AAC4-D8889963D578__BABDJFFF">
                        <p class="titleinexample">Example 5-14 Handling User-Defined Exceptions</p><pre class="oac_no_warn" dir="ltr">FUNCTION calculate_score ( evaluation_id IN scores.evaluation_id%TYPE
                         , performance_id IN scores.performance_id%TYPE )
                         RETURN NUMBER AS

  <span class="bold">weight_wrong  EXCEPTION;</span>
  <span class="bold">score_wrong   EXCEPTION;</span>
  n_score       scores.score%TYPE;
  n_weight      performance_parts.weight%TYPE;
  running_total NUMBER := 0;
  max_score     CONSTANT scores.score%TYPE := 9;
  max_weight    CONSTANT performance_parts.weight%TYPE:= 1;
BEGIN
  SELECT s.score INTO n_score
  FROM SCORES s
  WHERE evaluation_id = s.evaluation_id 
  AND performance_id = s.performance_id;

  SELECT p.weight INTO n_weight
  FROM PERFORMANCE_PARTS p
  WHERE performance_id = p.performance_id;

  <span class="bold">BEGIN</span>
    <span class="bold">IF (n_weight &gt; max_weight) OR (n_weight &lt; 0) THEN</span>
      <span class="bold">RAISE weight_wrong;</span>
    <span class="bold">END IF;</span>
  <span class="bold">END;</span>

  <span class="bold">BEGIN</span>
    <span class="bold">IF (n_score &gt; max_score) OR (n_score &lt; 0) THEN</span>
      <span class="bold">RAISE score_wrong;</span>
   <span class="bold"> END IF;</span>
 <span class="bold"> END;</span>

  running_total := n_score * n_weight;
  RETURN running_total;

<span class="bold">EXCEPTION</span>
  <span class="bold">WHEN weight_wrong THEN</span>
    <span class="bold">DBMS_OUTPUT.PUT_LINE(</span>
      <span class="bold">'The weight of a score must be between 0 and ' || max_weight);</span>
    <span class="bold">RETURN -1;</span>
  <span class="bold">WHEN score_wrong THEN</span>
    <span class="bold">DBMS_OUTPUT.PUT_LINE(</span>
      <span class="bold">'The score must be between 0 and ' || max_score);</span>
    <span class="bold">RETURN -1;</span>
END calculate_score;</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F13424DB-ED01-4C48-AAC4-D8889963D578__GUID-07A7E33B-D83E-4055-B474-9C0F36716F43">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS00704" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about user-defined exceptions
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="stored-subprograms-packages.html#GUID-7D9BAC1B-A6AA-428E-8C08-73DB9D7911D5" title="You can handle exceptions that occur at run time with PL/SQL code.">Handling Exceptions (Runtime Errors)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>