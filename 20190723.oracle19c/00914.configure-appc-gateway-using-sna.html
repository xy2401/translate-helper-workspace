<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring the Gateway Using SNA Communication Protocol</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and Configuration Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:10:00-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18240-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="appc-gateway-configure-oltp.html" title="Previous" type="text/html">
      <link rel="next" href="configure-appc-gateway-using-tcp-ip.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows">
    <meta name="dcterms.isVersionOf" content="APPCW">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="appc-gateway-configure-oltp.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configure-appc-gateway-using-tcp-ip.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and Configuration Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring the Gateway Using SNA Communication Protocol </li>
            </ol>
            <a id="GUID-D5DF29FD-80BA-4E55-831D-D9CBD826E413" name="GUID-D5DF29FD-80BA-4E55-831D-D9CBD826E413"></a><a id="APPCW192"></a>
            
            <h2 id="APPCW-GUID-D5DF29FD-80BA-4E55-831D-D9CBD826E413" class="sect2"><span class="enumeration_chapter">8 </span> Configuring the Gateway Using SNA Communication Protocol 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics outline the steps needed to configure the Oracle database for a gateway using the SNA protocol on the Microsoft Windows platform. They show you how to configure commit-confirm, should you choose to implement it. The topics also provide the steps to verify installation and configuration of the gateway components, including optional commit-confirm.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-F913CE5A-572C-4C9B-A4F0-2EB4AA3631F4">Before You Begin</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09">Preparing to Configure a Gateway Installation/Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D">Integrating Server Configuration: First-Time Gateway Installations</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154">Upgrading or Migrating the Oracle Database from Previous Gateways</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-40EEFA66-1FCB-47BB-9EFF-EE6B25B97D5F">Configuring the Oracle Database  for Gateways to Coexist</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-C750A196-5039-4370-99ED-0EB71862A930">Optional Configuration Steps to Permit Multiple Users</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-383121C7-26B7-4869-9C28-D9E83EAB79EA">Configuring the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-D2D24B90-BD74-455C-98B5-08B35261CF06">Configuring Commit-Confirm</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-04DFBC73-2DC5-437C-83F5-CB679F20C35C">Verifying the Gateway Installation and OLTP Configuration</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-sna.html#GUID-04B54C37-0458-4E94-BA62-D00F2F823AFD">Performing Postinstallation Procedures</a></p>
                  </li>
               </ul>
               <p><a id="d8806e82" class="indexterm-anchor"></a><a id="d8806e86" class="indexterm-anchor"></a><a id="d8806e90" class="indexterm-anchor"></a>Configuring the Oracle Database Gateway for APPC using SNA involves working with the following components:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>the Oracle database </p>
                  </li>
                  <li>
                     <p>your Microsoft Windows system</p>
                  </li>
                  <li>
                     <p>your network</p>
                  </li>
                  <li>
                     <p>the OLTP</p>
                  </li>
               </ul>
            </div><a id="APPCW193"></a><div class="props_rev_3"><a id="GUID-F913CE5A-572C-4C9B-A4F0-2EB4AA3631F4" name="GUID-F913CE5A-572C-4C9B-A4F0-2EB4AA3631F4"></a><h3 id="APPCW-GUID-F913CE5A-572C-4C9B-A4F0-2EB4AA3631F4" class="sect3">Before You Begin</h3>
               <div>
                  <p>The following topics require you to input parameters unique to your system in order to properly configure the gateway and SNA communications interface. </p>
                  <p>Refer to <a href="appc-gateway-configuration-worksheet.html#GUID-96B6C85D-6B37-42C7-ADE0-5752F46AF88A"> Configuration Worksheet</a> for a worksheet listing the installation parameters you will need to know before you can complete the configuration process. Ask your network administrator to provide you with these unique parameter names before you begin.
                  </p>
               </div>
            </div><a id="APPCW318"></a><a id="APPCW319"></a><a id="APPCW320"></a><a id="APPCW194"></a><div class="props_rev_3"><a id="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09" name="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09"></a><h3 id="APPCW-GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09" class="sect3">Preparing to Configure a Gateway Installation/Upgrade</h3>
               <div>
                  <div class="section">
                     <p>There are three ways to establish the gateway-Oracle database  relationship when you are installing or upgrading/migrating the gateway:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configure-appc-gateway-using-sna.html#GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__I1012371">When the Oracle Database and the gateway are installed in the same ORACLE_HOME on the same machine</a></p>
                        </li>
                        <li>
                           <p><a href="configure-appc-gateway-using-sna.html#GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__I1012376">When the Oracle Database and the gateway are installed on separate machine</a></p>
                        </li>
                        <li>
                           <p><a href="configure-appc-gateway-using-sna.html#GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__I1012381">When the Oracle Database and the gateway are on the same machine but in different directories</a></p>
                        </li>
                     </ul>
                     <p><a id="d8806e200" class="indexterm-anchor"></a><a id="d8806e204" class="indexterm-anchor"></a><a id="d8806e208" class="indexterm-anchor"></a>Depending on the location of your gateway and your Oracle database, you may need to transfer some of the gateway administrative files to the location where your Oracle database  is installed. 
                     </p>
                     <p>Follow the instructions suitable to your combination of the gateway-Oracle database  locations listed below. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__I1012371">
                     <p class="subhead2" id="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__GUID-15DEE0DB-B745-4763-AC1C-83EBEC27E034">When the Oracle Database  and the gateway are installed in the same ORACLE_HOME on the same machine</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You do not need to transfer files. Proceed to <span class="q">"<a href="configure-appc-gateway-using-sna.html#GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D">Integrating Server Configuration: First-Time Gateway Installations</a>"</span>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__I1012376">
                     <p class="subhead2" id="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__GUID-9336CDD2-E9EA-4653-8674-50A8B1B07525">When the Oracle Database  and the gateway are installed on separate machine</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>Locate the gateway administrative files in the gateway <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. All files in this directory that have the suffix <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>, and <code class="codeph">.pkb</code> must be copied into a similarly-named directory in the Oracle database's Oracle home directory. 
                           </p>
                        </li>
                        <li>
                           <p>Now, locate the gateway demo files and subdirectories in the gateway's  <code class="codeph">%ORACLE_HOME%\dg4appc\demo</code> directory. Copy the <code class="codeph">pgavsn.sql</code> and <code class="codeph">pgaecho.sql</code> files into a similarly named directory in the Oracle database .
                           </p>
                        </li>
                        <li>
                           <p>Copy the other subdirectories and files related to your installed OLTP on your remote host. For example, if you have CICS as your only OLTP, then copy the gateway <code class="codeph">%ORACLE_HOME%\dg4appc\demo\CICS </code>files into a similarly named directory in the Oracle database .
                           </p>
                           <div class="infoboxnote" id="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__GUID-054CB851-EC5F-4AF8-B746-BAB2A66BEDAD">
                              <p class="notep1">Note:</p>
                              <p>Before transferring the files from the                             <code class="codeph">%ORACLE_HOME%\dg4appc\demo</code> directory, make sure that you have generated your required TIPs. You need to transfer the TIPs as well. 
                              </p>
                              <p>Refer to the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for information about generating TIPs using PGAU.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__I1012381">
                     <p class="subhead2" id="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__GUID-9A1A110B-6FEB-43AF-8253-3288583148BA">When the Oracle Database  and the gateway are on the same machine but in different directories</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You must change your gateway's Oracle home to the Oracle database 's Oracle home directory. </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>For example, if your gateway's Oracle home is set as follows:</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; echo %ORACLE_HOME%
C:\oracle\pga\12.2
</pre><p>and your server's Oracle home is located in the <code class="codeph">\oracle\pga\12.2</code> directory, then you need to do the following:
                           </p><pre class="oac_no_warn" dir="ltr">C:\&gt; SET ORACLE_HOME=C:\oracle\pga\12.2
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Now create the directories with the following commands: </span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%
C:\&gt; mkdir dg4appc
C:\&gt; mkdir dg4appc\admin
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Use whatever file transfer mechanism is available on your system to copy all the <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>, and <code class="codeph">.pkb</code> files from the gateway Oracle home                                     <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory to the Oracle database 's Oracle home <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory.</span></li>
                     <li class="stepexpand"><span>You may also transfer the demo files from the gateway directory to the Oracle database  directory. Copy the files and the directory recursively from the gateway Oracle home <code class="codeph">%ORACLE_HOME%\dg4appc\demo</code> directory to the Oracle database  <code class="codeph">%ORACLE_HOME%\dg4appc\demo</code> directory. </span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc
C:\&gt; mkdir\demo
C:\&gt; cd demo
C:\&gt; xcopy C:\oracle\pga\12.2\demo /E /I /Q
</pre><div class="infoboxnote" id="GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09__GUID-280FA1FD-CA80-468B-A6B6-F13E54B6ACC6">
                              <p class="notep1">Note:</p>
                              <p>Before transferring the files from the <code class="codeph">%ORACLE_HOME%\dg4appc\demo</code> directory, make sure that you have generated the required TIPs. You need to transfer the TIPs as well. 
                              </p>
                              <p>Refer to the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for information about generating TIPs using PGAU.
                              </p>
                           </div>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>If this is a first-time installation, then proceed with <span class="q">"<a href="configure-appc-gateway-using-sna.html#GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D">Integrating Server Configuration: First-Time Gateway Installations</a>"</span>.
                     </p>
                     <p>If this is an upgrade, then proceed with <span class="q">"<a href="configure-appc-gateway-using-sna.html#GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154">Upgrading or Migrating the Oracle Database from Previous Gateways</a>"</span>. 
                     </p>
                     <p>Following those steps, you may want to perform the <a href="configure-appc-gateway-using-sna.html#GUID-C750A196-5039-4370-99ED-0EB71862A930">Optional Configuration Steps to Permit Multiple Users</a>,<a href="configure-appc-gateway-using-sna.html#GUID-C750A196-5039-4370-99ED-0EB71862A930">Optional Configuration Steps to Permit Multiple Users</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW195"></a><div class="props_rev_3"><a id="GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D" name="GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D"></a><h3 id="APPCW-GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D" class="sect3">Integrating Server Configuration: First-Time Gateway Installations</h3>
               <div>
                  <div class="section">
                     <p>Follow these steps to configure your <a id="d8806e407" class="indexterm-anchor"></a>Oracle database  if you have installed Oracle Database Gateway for APPC for the first time:
                     </p>
                     <ol>
                        <li>
                           <p>Ensure that the <a id="d8806e418" class="indexterm-anchor"></a><a id="d8806e420" class="indexterm-anchor"></a><a id="d8806e424" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> PL/SQL package has been installed on your Oracle database . <a id="d8806e433" class="indexterm-anchor"></a><a id="d8806e439" class="indexterm-anchor"></a>All PGAU-generated TIP specifications use <code class="codeph">UTL_RAW</code>, which provides routines for manipulating raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use <a id="d8806e451" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW
</pre><p>The <code class="codeph">DESCRIBE</code> statement produces output on your screen. If you browse through the output, then you should see some functions, including a compare function. If you do not see this output, then continue the <code class="codeph">UTL_RAW</code> installation by performing Step 1.d. below. 
                                 </p>
                                 <p>If the <a id="d8806e474" class="indexterm-anchor"></a><a id="d8806e478" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement indicates success, then your Oracle database  has <a id="d8806e483" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> installed and you can proceed to Step&nbsp;2.
                                 </p>
                              </li>
                              <li>
                                 <p>Use <a id="d8806e491" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li id="GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D__I1009705">
                                 <p>From SQL*Plus, run the <a id="d8806e502" class="indexterm-anchor"></a><a id="d8806e506" class="indexterm-anchor"></a>utlraw.sql and <a id="d8806e511" class="indexterm-anchor"></a><a id="d8806e513" class="indexterm-anchor"></a>prvtrawb.plb scripts in the Oracle database 's <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory, in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @utlraw.sql
SQL&gt; @prvtrawb.plb
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D__I1009709">
                           <p>Ensure that the <a id="d8806e526" class="indexterm-anchor"></a><a id="d8806e528" class="indexterm-anchor"></a><code class="codeph">DBMS_OUTPUT</code> standard PL/SQL <a id="d8806e535" class="indexterm-anchor"></a><a id="d8806e537" class="indexterm-anchor"></a><a id="d8806e541" class="indexterm-anchor"></a>package is enabled on your <a id="d8806e546" class="indexterm-anchor"></a>Oracle database . The sample programs and installation verification programs on the distribution media use this standard package.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, then use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT
</pre></li>
                           </ol>
                           <p>The <a id="d8806e565" class="indexterm-anchor"></a><a id="d8806e569" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement produces output on your screen. If you browse through that output, you should see some functions, including a <a id="d8806e576" class="indexterm-anchor"></a><a id="d8806e578" class="indexterm-anchor"></a>put_line function.
                           </p>
                           <p>If you do not see this output, then you must create the <code class="codeph">DBMS_OUTPUT</code> package. Refer to the <a href="../arpls/DBMS_OUTPUT.html#ARPLS036" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about creating the <code class="codeph">DBMS_OUTPUT</code> package. After successful installation of the <code class="codeph">DBMS_OUTPUT</code> package, issue the <code class="codeph">DESCRIBE</code> statement.
                           </p>
                           <p>If the <code class="codeph">DESCRIBE</code> statement indicates success, then your Oracle database  has <code class="codeph">DBMS_OUTPUT</code> created, and you can proceed to Step&nbsp;3.
                           </p>
                        </li>
                        <li>
                           <p>Install the <a id="d8806e613" class="indexterm-anchor"></a><a id="d8806e617" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> PL/SQL package. All <a id="d8806e624" class="indexterm-anchor"></a><a id="d8806e630" class="indexterm-anchor"></a>PGAU-generated TIP specifications use <code class="codeph">UTL_PG</code>, which provides routines for performing numeric conversions to and from raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, then use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">utlpg.sql </code>and <a id="d8806e651" class="indexterm-anchor"></a><a id="d8806e655" class="indexterm-anchor"></a><code class="codeph">prvtpgb.plb</code> scripts in the Oracle database 's <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory, in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @utlpg.sql
SQL&gt; @prvtpgb.plb
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>I<a id="d8806e670" class="indexterm-anchor"></a>nstall the Heterogeneous Services (HS) catalogs.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE HS_FDS_CLASS
</pre><p>The <code class="codeph">DESCRIBE</code> statement produces output on your screen. If the <code class="codeph">DESCRIBE</code> statement indicates success, then heterogeneous services catalogs have been created on your Oracle database  and you can proceed to Step&nbsp;5. otherwise follow the next step only if the <code class="codeph">DESCRIBE</code> statement does not indicate success. The next step will create the Heterogeneous Services catalog.
                                 </p>
                              </li>
                              <li>
                                 <p>If it is necessary to create the Heterogeneous Services catalog, then enter the following command:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @caths.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D__BGBGGAIG">
                           <p><a id="d8806e707" class="indexterm-anchor"></a><a id="d8806e711" class="indexterm-anchor"></a>Create a public database link to access Oracle Database Gateway for APPC:<a id="d8806e718" class="indexterm-anchor"></a> 
                           </p>
                           <p>Use <a id="d8806e725" class="indexterm-anchor"></a>SQL*Plus to connect to the <a id="d8806e730" class="indexterm-anchor"></a>Oracle database  as user <code class="codeph">SYSTEM</code>. You can use the following SQL*Plus<a id="d8806e736" class="indexterm-anchor"></a> sample whether the Oracle database  and the gateway are on the same system or on different systems. In the following sample, <code class="codeph">pgasrv</code> is the <span class="italic"><code class="codeph">tns_name_entry</code></span> that will be assigned to the gateway when you modify the <a id="d8806e749" class="indexterm-anchor"></a><a id="d8806e751" class="indexterm-anchor"></a>tnsnames.ora file later.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK PGA USING '<span class="italic">PGASRV</span>'
</pre></li>
                        <li>
                           <p>Create the gateway administrator user <a id="d8806e764" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> and install the <a id="d8806e771" class="indexterm-anchor"></a>PG DD.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYSTEM</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the pgacr8au.sql <a id="d8806e786" class="indexterm-anchor"></a><a id="d8806e788" class="indexterm-anchor"></a>script in the                                                        <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script creates the <code class="codeph">PGAADMIN</code> user&nbsp;ID.
                                 </p>
                                 <p>The initial password defined for <a id="d8806e801" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> is <code class="codeph">PGAADMIN</code>. Use the <a id="d8806e811" class="indexterm-anchor"></a><a id="d8806e813" class="indexterm-anchor"></a><code class="codeph">ALTER USER</code> command to change the password. For further information about password issues, refer to the <a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgacr8au.sql
</pre></li>
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8.sql </code><a id="d8806e838" class="indexterm-anchor"></a><a id="d8806e840" class="indexterm-anchor"></a><a id="d8806e844" class="indexterm-anchor"></a>script in the                                                         <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script installs the PG&nbsp;DD.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddcr8.sql
</pre></li>
                              <li>
                                 <p>From SQL*Plus, connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d8806e862" class="indexterm-anchor"></a>Grant execution privileges on <a id="d8806e867" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> to <code class="codeph">PGAADMIN</code>:<a id="d8806e875" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO PGAADMIN
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <a id="d8806e884" class="indexterm-anchor"></a><a id="d8806e888" class="indexterm-anchor"></a>TIP trace access PL/SQL routines. These routines require that the <a id="d8806e891" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> standard PL/SQL package is installed and that <a id="d8806e896" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> has execute privileges on it. For more information on <code class="codeph">DBMS_PIPE</code>, refer to the <a href="../arpls/DBMS_PIPE.html#ARPLS038" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, then use SQL*Plus to connect to the <a id="d8806e914" class="indexterm-anchor"></a>Oracle database  as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the<code class="codeph"> pgatiptr.sql</code> script in the                                                          <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script creates<a id="d8806e929" class="indexterm-anchor"></a> PL/SQL routines that can be called to read and purge trace information created by PGAU-generated <a id="d8806e934" class="indexterm-anchor"></a>TIP specifications. It also creates public synonyms for these routines. The script prompts you for the necessary user&nbsp;IDs and passwords.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgatiptr.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <code class="codeph">GPGLOCAL</code> package. This package is required for compilation and execution of all PGAU-generated <a id="d8806e947" class="indexterm-anchor"></a>TIP specifications. <a id="d8806e952" class="indexterm-anchor"></a><a id="d8806e956" class="indexterm-anchor"></a><a id="d8806e960" class="indexterm-anchor"></a>TIP developers should be granted execute privileges on <a id="d8806e965" class="indexterm-anchor"></a><code class="codeph">GPGLOCAL</code> (refer to Step&nbsp;3 of <span class="q">"<a href="configure-appc-gateway-using-sna.html#GUID-C750A196-5039-4370-99ED-0EB71862A930">Optional Configuration Steps to Permit Multiple Users</a>"</span>).
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <a id="d8806e980" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the<code class="codeph"> gpglocal.pkh</code> script in the                                                       <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script compiles the <code class="codeph">GPGLOCAL</code> package specification.<a id="d8806e997" class="indexterm-anchor"></a><a id="d8806e999" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @gpglocal.pkh
</pre></li>
                              <li>
                                 <p>From SQL*Plus, run the<code class="codeph"> gpglocal.pkb</code> script in the                                                       <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script compiles the <code class="codeph">GPGLOCAL</code> package body.<a id="d8806e1017" class="indexterm-anchor"></a><a id="d8806e1019" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @gpglocal.pkb</pre></li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW196"></a><div class="props_rev_3"><a id="GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154" name="GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154"></a><h3 id="APPCW-GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154" class="sect3">Upgrading or Migrating the Oracle Database from Previous Gateways</h3>
               <div>
                  <div class="section">
                     <p>Follow these instructions <span class="italic">only</span> if you have a previous version of the Oracle Database Gateway for APPC installed on your system and need to configure it for 12<span class="italic">c</span> Release 2 (12.2) of the gateway.
                     </p>
                     <ol>
                        <li>
                           <p>Upgrade your Oracle Database Gateway for APPC to current version levels as follows:</p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                 </p>
                              </li>
                              <li id="GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154__I1010080">
                                 <p>Install the <code class="codeph">UTL_RAW</code> package body. From SQL*Plus, run the <code class="codeph">prvtrawb.plb</code> <a id="d8806e1098" class="indexterm-anchor"></a><a id="d8806e1100" class="indexterm-anchor"></a>script from the <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory. This script upgrades the <code class="codeph">UTL_RAW</code> package body.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @prvtrawb.plb
</pre></li>
                              <li id="GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154__I1010098">
                                 <p>Install the <code class="codeph">UTL_PG</code> package body. From SQL*Plus, run the <code class="codeph">prvtpgb.plb</code> <a id="d8806e1122" class="indexterm-anchor"></a><a id="d8806e1126" class="indexterm-anchor"></a>script from the <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory.<a id="d8806e1134" class="indexterm-anchor"></a><a id="d8806e1139" class="indexterm-anchor"></a> This script upgrades the <code class="codeph">UTL_PG</code> package body.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @prvtpgb.plb
</pre><p>The <code class="codeph">prvtrawb.plb</code> and<code class="codeph"> prvtpgb.plb</code> scripts should complete successfully. If they fail because specifications do not exist or were invalidated, then consider reinstalling the package specifications as directed in <a href="configure-appc-gateway-using-sna.html#GUID-6ED43492-2A39-4F74-B830-1D79F7A69B32">If You Must Reinstall Package Specifications</a>.
                                 </p>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW342"></a><a id="APPCW343"></a><a id="APPCW197"></a><div class="props_rev_3"><a id="GUID-6ED43492-2A39-4F74-B830-1D79F7A69B32" name="GUID-6ED43492-2A39-4F74-B830-1D79F7A69B32"></a><h4 id="APPCW-GUID-6ED43492-2A39-4F74-B830-1D79F7A69B32" class="sect4">If You Must Reinstall Package Specifications</h4>
                  <div>
                     <div class="section">
                        <p>If the <a id="d8806e1205" class="indexterm-anchor"></a><a id="d8806e1211" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> or <a id="d8806e1220" class="indexterm-anchor"></a><a id="d8806e1226" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> package has been invalidated or removed, then the <code class="codeph">prvtrawb.plb</code> and <code class="codeph">prvtpgb.plb</code> scripts may not complete successfully, then, you might have to reinstall <a id="d8806e1242" class="indexterm-anchor"></a><a id="d8806e1246" class="indexterm-anchor"></a><a id="d8806e1250" class="indexterm-anchor"></a>the package specifications. 
                        </p>
                        <p>If you do reinstall the package specifications, then any dependent objects (such as existing user TIPs and client applications) are invalidated and will subsequently need <a id="d8806e1259" class="indexterm-anchor"></a>to be recompiled. The impact of this is a one-time performance delay while recompilation of the TIPs and dependent client applications proceeds.
                        </p>
                        <div class="infoboxnote" id="GUID-6ED43492-2A39-4F74-B830-1D79F7A69B32__GUID-001C08EE-CFEB-4DBB-B630-540E884CCD47">
                           <p class="notep1">Note:</p>
                           <p>Before proceeding with reinstallation of the package scripts, make sure that you are in the                                      <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory<span class="bold">.</span></p>
                        </div>
                        <p>TIPs were split into separate specification and body files in release&nbsp;3.3 to avoid cascaded recompilations in later releases.</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-6ED43492-2A39-4F74-B830-1D79F7A69B32__GUID-6232BC83-4B68-4197-9325-A89FD5395573">
                                 <!-- --></a>Step 1&nbsp;&nbsp;&nbsp;Run the following scripts before proceeding with the PGAU upgrade
                           </dt>
                           <dd>
                              <ol>
                                 <li>
                                    <p>If necessary, then use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYS</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>From SQL*Plus, run the <code class="codeph">utlraw.sql</code> and <code class="codeph">utlpg.sql</code> scripts in the Oracle database  <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory, in the following order, to upgrade their respective package specifications:<a id="d8806e1302" class="indexterm-anchor"></a><a id="d8806e1306" class="indexterm-anchor"></a><a id="d8806e1310" class="indexterm-anchor"></a><a id="d8806e1314" class="indexterm-anchor"></a> 
                                    </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\rdbms\admin
SQL&gt; @utlraw.sql
SQL&gt; @utlpg.sql</pre></li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-6ED43492-2A39-4F74-B830-1D79F7A69B32__GUID-2080BC4B-FDAE-49E5-928C-884C1D0A8C7A">
                                 <!-- --></a>Step 2&nbsp;&nbsp;&nbsp;Repeat installation of UTL_RAW and UTL_PG package body
                           </dt>
                           <dd>
                              <p>After the scripts have run, repeat Steps 1<a href="configure-appc-gateway-using-sna.html#GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154__I1010080">b.</a> and <a href="configure-appc-gateway-using-sna.html#GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154__I1010098">c.</a> in <a href="configure-appc-gateway-using-sna.html#GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154">Upgrading or Migrating the Oracle Database from Previous Gateways</a><a href="configure-appc-gateway-using-sna.html#GUID-4E439D8E-8B91-439A-B239-1AE0FBA43154">Upgrading or Migrating the Oracle Database from Previous Gateways</a>. Then, proceed to the section titled <span class="q">"<a href="configure-appc-gateway-using-sna.html#GUID-A95D962C-066C-4FA1-BBD6-1E7FFAFD819E">Upgrading PGAU from Previous Gateway Releases</a>"</span>.
                              </p>
                              <div class="infoboxnote" id="GUID-6ED43492-2A39-4F74-B830-1D79F7A69B32__GUID-58D56AA8-72CD-4982-ADA4-04744310FE76">
                                 <p class="notep1">Note:</p>
                                 <p>TIPs and dependent client applications must be recompiled after reinstallation of the package specifications. Refer to the "Compiling a TIP" section in Chapter&nbsp;3 of the <a href="../appug/creating-tip-oracle-database-gateway-appc.html#APPUG300" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for information about compiling TIPs.
                                 </p>
                              </div>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCW198"></a><div class="props_rev_3"><a id="GUID-A95D962C-066C-4FA1-BBD6-1E7FFAFD819E" name="GUID-A95D962C-066C-4FA1-BBD6-1E7FFAFD819E"></a><h4 id="APPCW-GUID-A95D962C-066C-4FA1-BBD6-1E7FFAFD819E" class="sect4">Upgrading PGAU from Previous Gateway Releases</h4>
                  <div>
                     <div class="section">
                        <ol>
                           <li>
                              <p>Upgrade the <a id="d8806e1390" class="indexterm-anchor"></a>PG DD as follows before executing the new PGAU:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>If necessary, then use SQL*Plus to connect to the Oracle database  as user <code class="codeph">PGAADMIN</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>From SQL*Plus, run the <code class="codeph">pgddupgr.sql </code><a id="d8806e1407" class="indexterm-anchor"></a><a id="d8806e1409" class="indexterm-anchor"></a>script in the                                                     <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script upgrades the PG&nbsp;DD. 
                                    </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddupgr.sql</pre></li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCW199"></a><div class="props_rev_3"><a id="GUID-40EEFA66-1FCB-47BB-9EFF-EE6B25B97D5F" name="GUID-40EEFA66-1FCB-47BB-9EFF-EE6B25B97D5F"></a><h3 id="APPCW-GUID-40EEFA66-1FCB-47BB-9EFF-EE6B25B97D5F" class="sect3">Configuring the Oracle Database  for Gateways to Coexist</h3>
               <div>
                  <div class="section">
                     <p><a id="d8806e1451" class="indexterm-anchor"></a>You may have an older version of the gateway already installed. Be aware that although a version&nbsp;10 gateway can communicate with a version&nbsp;9 data dictionary (PG DD), a version&nbsp;9 gateway cannot communicate with a version&nbsp;10 data dictionary. So, if you upgrade your data dictionary to version&nbsp;10, no gateways which were configured with a version&nbsp;9 data dictionary will be able to communicate with it.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW200"></a><div class="props_rev_3"><a id="GUID-C750A196-5039-4370-99ED-0EB71862A930" name="GUID-C750A196-5039-4370-99ED-0EB71862A930"></a><h3 id="APPCW-GUID-C750A196-5039-4370-99ED-0EB71862A930" class="sect3">Optional Configuration Steps to Permit Multiple Users</h3>
               <div>
                  <div class="section">
                     <p>The following configuration steps are optional. Perform these steps if you want to permit users other than <a id="d8806e1504" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> to perform <a id="d8806e1511" class="indexterm-anchor"></a>PG DD operations using PGAU.
                     </p>
                     <ol>
                        <li>
                           <p>Create <a id="d8806e1520" class="indexterm-anchor"></a><a id="d8806e1522" class="indexterm-anchor"></a>public synonyms for the PG DD to allow other users to access the tables:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYSTEM</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the<code class="codeph"> pgddcr8s.sql</code> script in the                                                       <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script creates public synonyms for the PG DD.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddcr8s.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Create roles for accessing the PG DD, performing definitions of transactions, and generating <a id="d8806e1548" class="indexterm-anchor"></a>TIP specifications. The <code class="codeph">PGAADMIN</code> user can grant these roles to other users as necessary.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <a id="d8806e1566" class="indexterm-anchor"></a><a id="d8806e1568" class="indexterm-anchor"></a><code class="codeph">pgddcr8r.sql </code>script in the                                                        <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script creates two roles, <code class="codeph">PGDDDEF</code> and <code class="codeph">PGDDGEN</code>. The <a id="d8806e1585" class="indexterm-anchor"></a><a id="d8806e1587" class="indexterm-anchor"></a><code class="codeph">PGDDDEF</code> role provides <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges against some of the <a id="d8806e1607" class="indexterm-anchor"></a>PG DD tables, and select privileges against others, and allows execution of the <code class="codeph">PGAU</code> <code class="codeph">DEFINE</code>, <code class="codeph">GENERATE</code>, <code class="codeph">REDEFINE</code>, <code class="codeph">REPORT</code>, and <code class="codeph">UNDEFINE</code> statements. The <a id="d8806e1631" class="indexterm-anchor"></a><a id="d8806e1633" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role provides select privileges against the PG DD tables, and allows execution of the <code class="codeph">PGAU</code> <code class="codeph">GENERATE</code> and <code class="codeph">REPORT</code> statements only.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddcr8r.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C750A196-5039-4370-99ED-0EB71862A930__i1012843">
                           <p><a id="d8806e1653" class="indexterm-anchor"></a><a id="d8806e1657" class="indexterm-anchor"></a><a id="d8806e1661" class="indexterm-anchor"></a><a id="d8806e1665" class="indexterm-anchor"></a>Grant access to PGA required packages.
                           </p>
                           <p><a id="d8806e1671" class="indexterm-anchor"></a><a id="d8806e1675" class="indexterm-anchor"></a>TIP developers require access to the following PL/SQL packages, which are shipped with the <a id="d8806e1680" class="indexterm-anchor"></a>Oracle database :
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a id="d8806e1688" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> in the <code class="codeph">%ORACLE_HOME%\rdbms\admin </code>directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d8806e1698" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> in the <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d8806e1708" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> in the <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> directory
                                 </p>
                              </li>
                           </ul>
                           <p>Explicit grants to execute these packages must be made to TIP developers.</p>
                           <p>These grants can be private, as in the following example:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; sqlplus SYS\<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON UTL_RAW TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON UTL_PG TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO <span class="italic">tip_developer;</span> 
SQL&gt; CONNECT PGAADMIN\<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO <span class="italic">tip_developer;</span> 
SQL&gt; exit
</pre><p>Alternatively, these grants can be public, as in the following example:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; sqlplus SYS\pw@<span class="italic">database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON UTL_RAW TO PUBLIC;
SQL&gt; GRANT EXECUTE ON UTL_PG TO PUBLIC;
SQL&gt; GRANT EXECUTE ON DBMS_PIPE to PUBLIC;
SQL&gt; CONNECT PGAADMIN\<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO PUBLIC;
SQL&gt; EXIT
</pre><p>You can use either private or public grants. Both grants are sufficient for using PGA. Public grants are easier and can be performed now. If you use private grants, then they must be issued each time a new TIP developer user&nbsp;ID is created.<a id="d8806e1759" class="indexterm-anchor"></a><a id="d8806e1763" class="indexterm-anchor"></a></p>
                           <p>SQL scripts for performing these grants are provided in the                                                <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. The<a id="d8806e1772" class="indexterm-anchor"></a><a id="d8806e1776" class="indexterm-anchor"></a> <a id="d8806e1781" class="indexterm-anchor"></a><a id="d8806e1785" class="indexterm-anchor"></a><code class="codeph">pgddapub.sql</code> script performs these grants for public access to the packages. The <a id="d8806e1792" class="indexterm-anchor"></a><a id="d8806e1797" class="indexterm-anchor"></a><a id="d8806e1801" class="indexterm-anchor"></a><a id="d8806e1805" class="indexterm-anchor"></a><code class="codeph">pgddadev.sql</code> script performs the grants for private access to the packages by a single TIP developer. If you are going to use private grants, then you must run the <code class="codeph">pgddadev.sql </code>script once for each TIP developer's user&nbsp;ID:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the suitable script (<code class="codeph">pgddapub.sql</code> or <code class="codeph">pgddadev.sql</code>) from the <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. The script performs the necessary grants as described earlier. You are prompted for the required user&nbsp;IDs, passwords, and database specification strings. 
                                 </p>
                                 <p>If you are using private grants, then repeat this step for each user&nbsp;ID requiring access to the packages.</p><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\admin
SQL&gt; @pgddapub.sql
</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @pgddadev.sql</pre><p></p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d8806e1845" class="indexterm-anchor"></a><a id="d8806e1851" class="indexterm-anchor"></a>If you are upgrading from a previous release of the gateway and if you want to upgrade your existing <a id="d8806e1856" class="indexterm-anchor"></a><a id="d8806e1860" class="indexterm-anchor"></a><a id="d8806e1861" class="indexterm-anchor"></a>TIPs with new function and maintenance, then regenerate existing T<a id="d8806e1866" class="indexterm-anchor"></a>IP specifications using the <a id="d8806e1871" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> statement.
                           </p>
                           <div class="infoboxnote" id="GUID-C750A196-5039-4370-99ED-0EB71862A930__GUID-DED79438-E62E-4CCE-A9FB-379FE905ADB8">
                              <p class="notep1">Note:</p>
                              <p>The <a id="d8806e1883" class="indexterm-anchor"></a>Procedural Gateway Administrative Utility (PGAU) has been enhanced to automatically upgrade existing PG DD entries <a id="d8806e1888" class="indexterm-anchor"></a><a id="d8806e1892" class="indexterm-anchor"></a>with a new attribute when a <a id="d8806e1897" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> command is executed. To support this enhancement, add a new privilege to the <a id="d8806e1905" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role. To do this, as the <code class="codeph">PGAADMIN</code> user, use SQL*Plus to connect to the Oracle database  where the PG&nbsp;DD is stored. Then issue the following SQL command:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT INSERT ON PGA_DATA_VALUES TO PGDDGEN</pre></div>
                           <ol type="a">
                              <li>
                                 <p>Call PGAU in the directory path where the PGAU control files are generated and where TIPs are stored:</p><pre class="oac_no_warn" dir="ltr">C:\&gt; pgau
PGAU&gt; CONNECT PGAADMIN\pgaadmin@<span class="italic">database_specification_string</span> 
PGAU&gt; GENERATE <span class="italic">tranname</span> 
PGAU&gt; EXIT
</pre></li>
                           </ol>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the PGAU <code class="codeph">GENERATE</code> command section in Chapter 2 of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                           <p>Note that it is not necessary to define the PG DD entries again.</p>
                        </li>
                        <li>
                           <p>Call SQL*Plus in the same directory path where the newly-generated TIP specifications are stored.</p><pre class="oac_no_warn" dir="ltr">C:\&gt; sqlplus <span class="italic">tip_owner\pw@database_specification_string</span> 
SQL&gt; @<span class="italic">tipname.</span>pkh 
SQL&gt; @<span class="italic">tipname</span>.pkb
SQL&gt; exit
</pre><p><a id="d8806e1960" class="indexterm-anchor"></a><a id="d8806e1966" class="indexterm-anchor"></a><a id="d8806e1970" class="indexterm-anchor"></a><code class="codeph">PGAU</code> <code class="codeph">GENERATE</code> produces the TIP in two output file, a specification and a body. You must compile both, first the specification and then the body.
                           </p>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the PGAU <code class="codeph">GENERATE</code> command section in Chapter 2 of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW201"></a><div class="props_rev_3"><a id="GUID-383121C7-26B7-4869-9C28-D9E83EAB79EA" name="GUID-383121C7-26B7-4869-9C28-D9E83EAB79EA"></a><h3 id="APPCW-GUID-383121C7-26B7-4869-9C28-D9E83EAB79EA" class="sect3">Configuring the Gateway</h3>
               <div>
                  <div class="section">
                     <p>To configure the gateway, perform the following steps:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Customize the Oracle Database Gateway for APPC parameters.</span><div>
                           <p>Parameters specific<a id="d8806e2033" class="indexterm-anchor"></a> to the gateway are supplied in the gateway parameter file, <a id="d8806e2040" class="indexterm-anchor"></a><a id="d8806e2042" class="indexterm-anchor"></a><code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code>, which is in the <a id="d8806e2052" class="indexterm-anchor"></a><code class="codeph">%ORACLE_HOME%\dg4appc\admin </code>directory. A sample gateway parameter <a id="d8806e2057" class="indexterm-anchor"></a><a id="d8806e2060" class="indexterm-anchor"></a><a id="d8806e2066" class="indexterm-anchor"></a>file, <a id="d8806e2071" class="indexterm-anchor"></a><a id="d8806e2073" class="indexterm-anchor"></a><code class="codeph">initPGA.ora</code>, is provided in this subdirectory.<a id="d8806e2080" class="indexterm-anchor"></a><a id="d8806e2084" class="indexterm-anchor"></a><a id="d8806e2090" class="indexterm-anchor"></a></p>
                           <div class="infoboxnote" id="GUID-383121C7-26B7-4869-9C28-D9E83EAB79EA__GUID-0E51276A-7C64-40BA-A755-20121F28C6B3">
                              <p class="notep1">Note:</p>
                              <p>In the <a id="d8806e2097" class="indexterm-anchor"></a><a id="d8806e2099" class="indexterm-anchor"></a><code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code> file, substitute your <code class="codeph">dg4appc</code> SID name for "<span class="italic"><code class="codeph">sid</code></span> " in this file name.
                              </p>
                              <p>The <code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code> file contains both APPC and TCP/IP parameters, separated by a description. You must modify the <code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code> file by deleting the TCP/IP parameters. Refer to <a href="appc-gateway-initialization-parameters-sna.html#GUID-84F7EB01-3551-4335-A54A-918F7E637F5D"> Gateway Initialization Parameters for SNA Protocol</a> for the valid APPC parameters.
                              </p>
                           </div>
                           <p>The parameters fall into two categories:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>gateway initialization <a id="d8806e2140" class="indexterm-anchor"></a><a id="d8806e2146" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>These parameters control the general operation of the gateway in the Oracle environment.</p>
                                 <div class="infoboxnote" id="GUID-383121C7-26B7-4869-9C28-D9E83EAB79EA__GUID-A64F7F9C-EE58-4060-9353-14DCAADC60CD">
                                    <p class="notep1">Note:</p>
                                    <p>Before performing the following step, refer to <a href="appc-gateway-initialization-parameters-sna.html#GUID-84F7EB01-3551-4335-A54A-918F7E637F5D"> Gateway Initialization Parameters for SNA Protocol</a> for information about tailoring gateway initialization and PGA parameters. Pay special attention to the information about using the <a id="d8806e2160" class="indexterm-anchor"></a><code class="codeph">PGA_CAPABILITY</code> parameter.
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>PGA <a id="d8806e2170" class="indexterm-anchor"></a><a id="d8806e2174" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>PGA parameters control the APPC interface portion of the gateway. Use the <a id="d8806e2183" class="indexterm-anchor"></a><a id="d8806e2187" class="indexterm-anchor"></a><code class="codeph">SET</code> gateway initialization parameter to specify PGA parameters. Oracle recommends that you group all <code class="codeph">SET</code> commands<a id="d8806e2199" class="indexterm-anchor"></a><a id="d8806e2201" class="indexterm-anchor"></a> for PGA parameters at the end of the <code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code> file.
                                 </p>
                                 <div class="infoboxnote" id="GUID-383121C7-26B7-4869-9C28-D9E83EAB79EA__GUID-D05F29C2-8000-4D48-919E-AFC51D726B4D">
                                    <p class="notep1">Note:</p>
                                    <p>Misspelled parameters are ignored<a id="d8806e2215" class="indexterm-anchor"></a>. However, if the <code class="codeph">%ORACLE_HOME%\dg4appc\admin\initsid.ora</code> file is missing, then all calls to the gateway fail and return a <code class="codeph">PGA-20928</code> error. 
                                    </p>
                                 </div>
                                 <p>If you do not plan to configure commit-confirm, then proceed to<span class="q">"<a href="configure-appc-gateway-using-sna.html#GUID-04DFBC73-2DC5-437C-83F5-CB679F20C35C">Verifying the Gateway Installation and OLTP Configuration</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCW202"></a><div class="props_rev_3"><a id="GUID-D2D24B90-BD74-455C-98B5-08B35261CF06" name="GUID-D2D24B90-BD74-455C-98B5-08B35261CF06"></a><h3 id="APPCW-GUID-D2D24B90-BD74-455C-98B5-08B35261CF06" class="sect3">Configuring Commit-Confirm</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-D2D24B90-BD74-455C-98B5-08B35261CF06__GUID-CDA7133F-B45C-4B92-8F22-434FE902B4B9">
                        <p class="notep1">Note:</p>
                        <p>If you are planning to implement commit-confirm, then read the detailed explanation of commit-confirm capabilities in Chapter&nbsp;5 of the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>, "Implementing Commit-Confirm (SNA Only) before proceeding.
                        </p>
                     </div>
                     <p>Follow these steps to configure the commit-confirm components. </p>
                     <p>The steps for <a id="d8806e2276" class="indexterm-anchor"></a>configuring commit-confirm include:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>configuring the Oracle database  where the gateway server will store its transaction log information</p>
                        </li>
                        <li>
                           <p>configuring the gateway initialization parameters, and </p>
                        </li>
                        <li>
                           <p>configuring the OLTP. </p>
                        </li>
                     </ul>
                     <p>All these steps must be performed before attempting to use any application that uses commit-confirm. <a id="d8806e2294" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW203"></a><div class="props_rev_3"><a id="GUID-A9F0651B-9F3B-427D-A7E1-D12E01CC5374" name="GUID-A9F0651B-9F3B-427D-A7E1-D12E01CC5374"></a><h4 id="APPCW-GUID-A9F0651B-9F3B-427D-A7E1-D12E01CC5374" class="sect4">Configuring the Oracle Database for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p>The <a id="d8806e2331" class="indexterm-anchor"></a><a id="d8806e2335" class="indexterm-anchor"></a>Oracle database  where the gateway server will store its transaction log information should ideally be on the same system where the gateway runs. The configuration of the server consists of creating the gateway DBA user, creating the commit-confirm log tables and creating the <a id="d8806e2340" class="indexterm-anchor"></a>PL/SQL stored procedure used by the gateway server for logging transactions.<a id="d8806e2345" class="indexterm-anchor"></a></p>
                        <p>The <a id="d8806e2353" class="indexterm-anchor"></a><a id="d8806e2355" class="indexterm-anchor"></a><code class="codeph">pgaccau.sql</code> script from the <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory creates the gateway DBA user&nbsp;ID. The default user&nbsp;ID is <code class="codeph">PGADBA</code> with the initial password set to <code class="codeph">PGADBA</code>. If you want to change the user&nbsp;ID or initial password, you must modify the script.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Use <a id="d8806e2375" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database  as user <code class="codeph">SYSTEM</code>.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgaccau.sql</code> script from the                                      <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script creates the gateway DBA user&nbsp;ID. If you want to change the password at any time after running this script, then you can use the <code class="codeph">ALTER USER</code> command to change the password. For further information, refer to the <a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.</span></li>
                        <li><span>Use SQL*Plus to connect to the Oracle database  as user <code class="codeph">PGADBA</code>.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgaccpnd.sql</code> script from the                                   <code class="codeph">%ORACLE_HOME%\dg4appc\admin </code>directory. This script creates the                 <code class="codeph">PGA_CC_PENDING</code> table used by the gateway server for its commit-confirm transaction log.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgacclog.sql</code> script from the                                     <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code> directory. This script creates the                     <code class="codeph">PGA_CC_LOG</code> <a id="d8806e2430" class="indexterm-anchor"></a>PL/SQL stored procedure used by the gateway server for updating the <code class="codeph">PGA_CC_PENDING</code> table.</span></li>
                        <li><span>Disconnect from the Oracle database .</span></li>
                     </ol>
                  </div>
               </div><a id="APPCW204"></a><div class="props_rev_3"><a id="GUID-D0334257-DC09-45B3-8071-62EE8F0A43E2" name="GUID-D0334257-DC09-45B3-8071-62EE8F0A43E2"></a><h4 id="APPCW-GUID-D0334257-DC09-45B3-8071-62EE8F0A43E2" class="sect4">Configuring Gateway Initialization Parameters for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p><a id="d8806e2471" class="indexterm-anchor"></a><a id="d8806e2477" class="indexterm-anchor"></a><a id="d8806e2481" class="indexterm-anchor"></a> The gateway initialization parameters are described in <a href="appc-gateway-initialization-parameters-sna.html#GUID-84F7EB01-3551-4335-A54A-918F7E637F5D"> Gateway Initialization Parameters for SNA Protocol</a>. The parameters necessary for commit-confirm support in the gateway are:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">PGA_CAPABILITY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_DB</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_USER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_PASS</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_USER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_PASS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_TPNAME</code></p>
                           </li>
                        </ul>
                        <p>These parameters should be added to your <a id="d8806e2523" class="indexterm-anchor"></a><a id="d8806e2525" class="indexterm-anchor"></a><code class="codeph">init<span class="codeinlineitalic">sid</span>.ora</code> file, where <span class="italic"><code class="codeph">sid</code></span> is the gateway SID for the commit-confirm gateway. 
                        </p>
                        <p>Refer to <a href="appc-gateway-initialization-parameters-sna.html#GUID-84F7EB01-3551-4335-A54A-918F7E637F5D"> Gateway Initialization Parameters for SNA Protocol</a> for full information about the gateway initialization parameters supported by the Oracle Database Gateway for APPC.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCW205"></a><div class="props_rev_3"><a id="GUID-4E9B411B-D554-4945-825A-B4316404F7C0" name="GUID-4E9B411B-D554-4945-825A-B4316404F7C0"></a><h4 id="APPCW-GUID-4E9B411B-D554-4945-825A-B4316404F7C0" class="sect4">Configuring the OLTP for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p>Configuration of the OLTP includes the following:<a id="d8806e2579" class="indexterm-anchor"></a><a id="d8806e2585" class="indexterm-anchor"></a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>defining and installing the commit-confirm transaction log database</p>
                           </li>
                           <li>
                              <p>defining and installing the commit-confirm forget/recovery transaction</p>
                           </li>
                           <li>
                              <p>defining and installing the sample commit-confirm applications provided with the gateway. </p>
                              <div class="infoboxnote" id="GUID-4E9B411B-D554-4945-825A-B4316404F7C0__GUID-879AC126-4755-4E62-9932-0567065BF392">
                                 <p class="notep1">Note:</p>
                                 <p>A restart of the OLTP may be necessary to implement the changes required for commit-confirm support. You should plan for this with your OLTP system administrator.</p>
                              </div>
                           </li>
                        </ul>
                        <p>Detailed instructions for configuring the Transaction Server for z/OS and IMS/TM are provided in the <code class="codeph">%ORACLE_HOME%\dg4appc\demo\CICS\README.doc</code>  and                             <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\README.doc</code> files, respectively. 
                        </p>
                        <p>Refer<a id="d8806e2613" class="indexterm-anchor"></a><a id="d8806e2617" class="indexterm-anchor"></a> to Chapter 5, "Implementing Commit-Confirm (SNA Only)" in the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for detailed information about commit-confirm.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You will take steps to verify configuration of commit-confirm later, in <a href="configure-appc-gateway-using-sna.html#GUID-487E4EE1-6B30-4B46-A79D-F3A0389EC612">Verifying OLTP Configuration for Commit-Confirm</a><a href="configure-appc-gateway-using-sna.html#GUID-487E4EE1-6B30-4B46-A79D-F3A0389EC612">Verifying OLTP Configuration for Commit-Confirm</a>.
                              </p>
                           </li>
                        </ul>
                        <p>However, first proceed to <a href="configure-appc-gateway-using-sna.html#GUID-04DFBC73-2DC5-437C-83F5-CB679F20C35C">Verifying the Gateway Installation and OLTP Configuration</a> to verify the gateway installation.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCW206"></a><div class="props_rev_3"><a id="GUID-04DFBC73-2DC5-437C-83F5-CB679F20C35C" name="GUID-04DFBC73-2DC5-437C-83F5-CB679F20C35C"></a><h3 id="APPCW-GUID-04DFBC73-2DC5-437C-83F5-CB679F20C35C" class="sect3">Verifying the Gateway Installation and OLTP Configuration</h3>
               <div>
                  <div class="section">
                     <p>To verify the gateway installation and the OLTP configuration, perform the following procedures after installing Oracle Database Gateway for APPC.<a id="d8806e2678" class="indexterm-anchor"></a><a id="d8806e2684" class="indexterm-anchor"></a> In addition, if you chose to configure commit-confirm, then follow the steps to verify the OLTP configuration for commit-confirm. 
                     </p>
                     <div class="infoboxnote" id="GUID-04DFBC73-2DC5-437C-83F5-CB679F20C35C__GUID-D4DEE5CE-C93F-49A2-B818-30562D16FFC2">
                        <p class="notep1">Note:</p>
                        <p>If your <a id="d8806e2694" class="indexterm-anchor"></a>database link name is not PGA, then modify the demonstration .sql files to give them the particular database link name that you created in Step&nbsp;<a href="configure-appc-gateway-using-sna.html#GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D__BGBGGAIG">5</a> of <span class="q">"<a href="configure-appc-gateway-using-sna.html#GUID-C6CBC625-C0FE-496C-9EEC-096A04004A7D">Integrating Server Configuration: First-Time Gateway Installations</a>"</span>. You must modify the following .sql files:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">pgavsn.sql </code></p>
                           </li>
                           <li>
                              <p><a id="d8806e2714" class="indexterm-anchor"></a><a id="d8806e2716" class="indexterm-anchor"></a><code class="codeph">pgaecho.sql </code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgacics.sql</code> 
                              </p>
                           </li>
                           <li>
                              <p><a id="d8806e2729" class="indexterm-anchor"></a><a id="d8806e2731" class="indexterm-anchor"></a><code class="codeph">pgaidms.sql</code> 
                              </p>
                           </li>
                           <li>
                              <p><a id="d8806e2740" class="indexterm-anchor"></a><a id="d8806e2742" class="indexterm-anchor"></a><code class="codeph">pgaims.sql </code></p>
                           </li>
                           <li>
                              <p><a id="d8806e2750" class="indexterm-anchor"></a><a id="d8806e2752" class="indexterm-anchor"></a><code class="codeph">pgamvs.sql </code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW207"></a><div class="props_rev_3"><a id="GUID-4270B0C3-A67D-4A2D-A06D-9B74836ED48E" name="GUID-4270B0C3-A67D-4A2D-A06D-9B74836ED48E"></a><h4 id="APPCW-GUID-4270B0C3-A67D-4A2D-A06D-9B74836ED48E" class="sect4">Verifying the Gateway Installation</h4>
                  <div>
                     <div class="section">
                        <p>To verify the gateway software installation using the <a id="d8806e2805" class="indexterm-anchor"></a>database link PGA previously created, perform the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Using SQL*Plus, connect to the <a id="d8806e2816" class="indexterm-anchor"></a>Oracle database  as user <a id="d8806e2823" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code>. </span></li>
                        <li class="stepexpand"><span>Run <code class="codeph">%ORACLE_HOME%\dg4appc\demo\pgavsn.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\demo
SQL&gt; @pgavsn.sql
</pre><p>The server version number banner appears at your terminal. You will receive the following output:</p><pre class="oac_no_warn" dir="ltr">Oracle Database Gateway for APPC.
Version 11.2.0.0.2 Thu Jun 11 14:39:15
2009
 
Copyright (c) Oracle Corporation 1979, 2009.  All rights reserved.
 
 
PL/SQL procedure successfully completed.
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run <code class="codeph">%ORACLE_HOME%\dg4appc\demo\pgaecho.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\demo
SQL&gt; @pgaecho.sql
</pre><p>You will receive the following output:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your installation was successful. &lt;==</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="APPCW208"></a><div class="props_rev_3"><a id="GUID-273B8DEB-A60B-4B98-9122-8E03D0FFB216" name="GUID-273B8DEB-A60B-4B98-9122-8E03D0FFB216"></a><h4 id="APPCW-GUID-273B8DEB-A60B-4B98-9122-8E03D0FFB216" class="sect4">Verifying the OLTP Configuration </h4>
                  <div>
                     <div class="section">
                        <p>The procedure for verifying the OLTP configuration varies, depending on which OLTP you are using and depending on the platform the OLTP is running on. CICS Transaction Server for z/OS, IMS/TM, APPC/MVS and z/OS are the currently supported <a id="d8806e2903" class="indexterm-anchor"></a>OLTPs. Follow the instructions for verifying the installation.
                        </p>
                        <div class="infoboxnote" id="GUID-273B8DEB-A60B-4B98-9122-8E03D0FFB216__GUID-B327AF46-AD50-4080-9836-4F4965264566">
                           <p class="notep1">Note:</p>
                           <p>If you have not completed the file transfers detailed in <span class="q">"<a href="configure-appc-gateway-using-sna.html#GUID-B9313098-CEE8-4D8B-837B-ED87E67F7D09">Preparing to Configure a Gateway Installation/Upgrade</a>"</span>, then complete them now, before proceeding to the next step.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPCW209"></a><div class="props_rev_3"><a id="GUID-BEFDE1DF-6102-48C2-86B5-315E7E9C485F" name="GUID-BEFDE1DF-6102-48C2-86B5-315E7E9C485F"></a><h5 id="APPCW-GUID-BEFDE1DF-6102-48C2-86B5-315E7E9C485F" class="sect5">CICS Verification </h5>
                     <div>
                        <div class="section">
                           <p>If your OLTP is <a id="d8806e2967" class="indexterm-anchor"></a><a id="d8806e2973" class="indexterm-anchor"></a>CICS Transaction Server for z/OS, then perform the following steps to verify the CICS configuration.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>To verify that the <a id="d8806e2984" class="indexterm-anchor"></a><code class="codeph">FLIP</code> transaction is installed correctly, log on to your CICS Transaction Server for z/OS and enter the following transaction, replacing <code class="codeph">FLIP</code> with the transaction ID you chose for <code class="codeph">FLIP</code> when you configured your CICS Transaction Server for z/OS for the gateway:</span><div><pre class="oac_no_warn" dir="ltr">FLIP<span class="italic"> </span>THIS MESSAGE
</pre><p>The following output appears at your terminal:</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF 
</pre></div>
                           </li>
                           <li class="stepexpand"><span>From the Windows platform, modify the pgacics.sql file which resides at <code class="codeph">%ORACLE_HOME%\dg4appc\demo\CICS\pgacics.sql</code>. </span><div>
                                 <p>Customize the following three items used for accessing the gateway and the CICS Transaction Server for z/OS, as described in the comments at the beginning of the file:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>the <a id="d8806e3022" class="indexterm-anchor"></a>CICS transaction ID
                                       </p>
                                    </li>
                                    <li>
                                       <p>the <a id="d8806e3030" class="indexterm-anchor"></a>side profile name
                                       </p>
                                    </li>
                                    <li>
                                       <p>the <a id="d8806e3036" class="indexterm-anchor"></a>logmode entry name
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that <a id="d8806e3042" class="indexterm-anchor"></a>the SNA Server on the system has been started.</span></li>
                           <li class="stepexpand"><span>Log on to the CICS Transaction Server for z/OS and enter this transaction, where <span class="italic"><code class="codeph">name</code></span> is the name of the <code class="codeph">CONNECTION</code> definition installed by the <code class="codeph">DFHCSDUP</code> job you ran in the CICS configuration steps:</span><div><pre class="oac_no_warn" dir="ltr">CEMT SET CONNECTION<span class="italic">(name)</span> ACQUIRED
</pre><p>This transaction activates the CICS connection to Windows.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Use SQL*Plus to connect to the Oracle database  as <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <a id="d8806e3075" class="indexterm-anchor"></a><a id="d8806e3077" class="indexterm-anchor"></a><code class="codeph">pgacics.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\demo\CICS
SQL&gt; @pgacics.sql
</pre><p>The following message appears:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your gateway is communicating with CICS &lt;==
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>The CICS Transaction Server for z/OS installation verification is complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="APPCW210"></a><div class="props_rev_3"><a id="GUID-0D83B68D-908B-427E-A1E7-DDEED4B95C5E" name="GUID-0D83B68D-908B-427E-A1E7-DDEED4B95C5E"></a><h5 id="APPCW-GUID-0D83B68D-908B-427E-A1E7-DDEED4B95C5E" class="sect5">IMS/TM Verification</h5>
                     <div>
                        <div class="section">
                           <p>If the OLTP is <a id="d8806e3147" class="indexterm-anchor"></a>IMS/TM, then perform the following steps to verify the IMS/TM configuration:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>To verify that the <a id="d8806e3158" class="indexterm-anchor"></a><code class="codeph">FLIP</code> transaction is installed correctly, log on to the IMS/TM system and enter the following transaction, replacing <code class="codeph">FLIP</code> with the transaction ID you chose for <code class="codeph">FLIP</code> when you configured the IMS/TM system for the gateway:</span><div><pre class="oac_no_warn" dir="ltr">FLIP THIS MESSAGE
</pre><p>The following output appears on the terminal:</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF
</pre></div>
                           </li>
                           <li class="stepexpand"><span>From a Windows platform, modify the <code class="codeph">pgaims.sql</code> file, which resides at      </span><div>
                                 <p> <a id="d8806e3189" class="indexterm-anchor"></a><a id="d8806e3191" class="indexterm-anchor"></a><code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\pgaims.sql</code>. Customize the following three items used for accessing the gateway and the IMS/TM system, as described in the comments at the beginning of the file:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>the IMS/TM transaction ID</p>
                                    </li>
                                    <li>
                                       <p>the side profile name</p>
                                    </li>
                                    <li>
                                       <p>the logmode entry name</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the <a id="d8806e3209" class="indexterm-anchor"></a>SNA Server on the system has been started.</span></li>
                           <li class="stepexpand"><span> <a id="d8806e3215" class="indexterm-anchor"></a>Use SQL*Plus to connect to the Oracle database  as <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <a id="d8806e3228" class="indexterm-anchor"></a><a id="d8806e3230" class="indexterm-anchor"></a><code class="codeph">pgaims.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\demo\IMS
SQL&gt; @pgaims.sql
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>The following message appears:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your gateway is communicating with IMS/TM &lt;==
</pre><p>The IMS/TM installation verification is now complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="APPCW211"></a><div class="props_rev_3"><a id="GUID-15353C3B-AC05-40C8-9CC7-F899E56239CD" name="GUID-15353C3B-AC05-40C8-9CC7-F899E56239CD"></a><h5 id="APPCW-GUID-15353C3B-AC05-40C8-9CC7-F899E56239CD" class="sect5">APPC/MVS Verification </h5>
                     <div>
                        <div class="section">
                           <p>If the OLTP is <a id="d8806e3293" class="indexterm-anchor"></a><a id="d8806e3299" class="indexterm-anchor"></a>APPC/MVS, then perform the following steps to verify the APPC/MVS configuration:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Verify that the APPC/MVS subsystem is active.</span></li>
                           <li class="stepexpand"><span>From the Windows platform, modify the <code class="codeph">pgamvs.sql</code> file, which resides at <a id="d8806e3314" class="indexterm-anchor"></a><code class="codeph">%ORACLE_HOME%\dg4appc\demo\MVS\pgamvs.sql</code>. Customize the following three items used for accessing the gateway and the APPC/MVS system, as described in the comments at the beginning of the file:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>the APPC/MVS transaction ID</p>
                                    </li>
                                    <li>
                                       <p>the side profile name</p>
                                    </li>
                                    <li>
                                       <p>the logmode entry name</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the <a id="d8806e3333" class="indexterm-anchor"></a>SNA Server on the system has been started.</span></li>
                           <li class="stepexpand"><span>Use SQL*Plus to connect to the <a id="d8806e3339" class="indexterm-anchor"></a>Oracle database  as <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <code class="codeph">pgamvs.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">C:\&gt; cd %ORACLE_HOME%\dg4appc\demo\MVS
SQL&gt; @pgamvs.sql
</pre><p>The following message appears:</p><pre class="oac_no_warn" dir="ltr">=&gt; Congratulations, your gateway is communicating with APPC/MVS &lt;=</pre></div>
                           </li>
                        </ol>
                        <div class="section"><pre class="oac_no_warn" dir="ltr"></pre><p>The APPC/MVS installation verification is now complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="APPCW212"></a><div class="props_rev_3"><a id="GUID-487E4EE1-6B30-4B46-A79D-F3A0389EC612" name="GUID-487E4EE1-6B30-4B46-A79D-F3A0389EC612"></a><h4 id="APPCW-GUID-487E4EE1-6B30-4B46-A79D-F3A0389EC612" class="sect4">Verifying OLTP Configuration for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p>If you chose to configure commit-confirm in <a href="configure-appc-gateway-using-sna.html#GUID-D2D24B90-BD74-455C-98B5-08B35261CF06">Configuring Commit-Confirm</a>, then the following section will assist you in verifying the configuration.
                        </p>
                        <div class="infoboxnote" id="GUID-487E4EE1-6B30-4B46-A79D-F3A0389EC612__GUID-5226AF76-A796-4337-9C91-A702A9D349FA">
                           <p class="notep1">Note:</p>
                           <p>Refer to Chapter&nbsp;5, "Implementing Commit-Confirm" in the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for background information about the components and capabilities of commit-confirm.
                           </p>
                        </div>
                        <p>Samples are provided with the gateway for Transaction Server for z/OS and IMS/TM for implementing commit-confirm support. They are in the following directories, respectively: <code class="codeph">%ORACLE_HOME%\dg4appc\demo\CICS</code> and                                       <code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS. A README.doc</code> file in each directory provides detailed information about installing and using the samples. JCL files for compiling and linking the sample programs are provided as well.<a id="d8806e3420" class="indexterm-anchor"></a> The samples included with the gateway assist you with the following:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Creating and initializing the commit-confirm transaction log databases and defining those databases to the OLTP. For Transaction Server for z/OS, the sample uses a VSAM file for the log database. For IMS/TM, a SHISAM/VSAM database is used.</p>
                           </li>
                           <li>
                              <p>Using subroutines for receiving the <a id="d8806e3433" class="indexterm-anchor"></a>Oracle Global Transaction ID from the gateway and logging it into the <a id="d8806e3436" class="indexterm-anchor"></a>commit-confirm transaction log database. These subroutines are provided in the <a id="d8806e3441" class="indexterm-anchor"></a><a id="d8806e3443" class="indexterm-anchor"></a><code class="codeph">pgacclg.asm </code>files. They can be used in the applications to reduce the complexity of the code changes to the programs.
                              </p>
                              <p>For Transaction Server for z/OS, the subroutine provided is called using the EXEC CICS LINK interface. For IMS/TM, the subroutine provided is called using the standard <code class="codeph">CALL</code> statement or its equivalent in the application's programming language. Both these subroutines are written in 370 assembler to eliminate any interlanguage interface complexities and compiler dependencies.
                              </p>
                           </li>
                           <li>
                              <p>Installing forget/recovery transactions in the OLTP. These are provided in the <code class="codeph">pgareco.asm </code>files. Forget/recovery transactions must be accessible through APPC so that the gateway can call them to forget a transaction once it has been successfully committed, and to query a transaction's state during recovery processing. These transactions delete the entry for a particular Oracle <a id="d8806e3461" class="indexterm-anchor"></a>Global Transaction ID from the OLTP commit-confirm transaction log database during forget processing, and query the entry for a particular Oracle Global Transaction ID from the OLTP commit-confirm transaction log database during recovery processing. For both Transaction Server for z/OS and IMS/TM, these transactions are written in 370 assembler.
                              </p>
                           </li>
                           <li>
                              <p>Using the sample commit-confirm transaction log databases and subroutines. For Transaction Server for z/OS, a sample DB2 update transaction, <code class="codeph">DB2C</code>, is provided in the<code class="codeph"> pgadb2c.cob file</code>. This is a COBOL example that updates the DB2 sample <code class="codeph">EMP</code> table. For IMS/TM, a sample DLI update transaction, <code class="codeph">PGAIMSU</code>, is provided in the <code class="codeph">pgaimsu.cob</code> file. This is a COBOL example that updates the DLI sample <code class="codeph">PARTS</code> database.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCW213"></a><div class="props_rev_3"><a id="GUID-04B54C37-0458-4E94-BA62-D00F2F823AFD" name="GUID-04B54C37-0458-4E94-BA62-D00F2F823AFD"></a><h3 id="APPCW-GUID-04B54C37-0458-4E94-BA62-D00F2F823AFD" class="sect3">Performing Postinstallation Procedures</h3>
               <div>
                  <p>The following are optional steps that you can perform as necessary. Installation of the sample applications for your OLTP is recommended to help you to fully understand how the gateway works and how it interfaces with the OLTP.</p>
               </div><a id="APPCW214"></a><div class="props_rev_3"><a id="GUID-129F07F3-C3DC-4BCC-9C4E-10A98AB35E98" name="GUID-129F07F3-C3DC-4BCC-9C4E-10A98AB35E98"></a><h4 id="APPCW-GUID-129F07F3-C3DC-4BCC-9C4E-10A98AB35E98" class="sect4">Installing Sample Applications</h4>
                  <div>
                     <div class="section">
                        <p>The Oracle Database Gateway for APPC package contains sample PL/SQL procedures and OLTP transaction programs that demonstrate the capabilities of the gateway. Samples are provided for the following:</p>
                        <p>APPC/MVS</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p> z/OS dataset information</p>
                           </li>
                        </ul>
                        <p>CICS Transaction Server for z/OS</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>DB2 inquiry</p>
                           </li>
                           <li>
                              <p>DB2 multirow inquiry</p>
                           </li>
                           <li>
                              <p>DB2 update</p>
                           </li>
                           <li>
                              <p>VSAM inquiry</p>
                           </li>
                           <li>
                              <p>VSAM update</p>
                           </li>
                           <li>
                              <p>DLI inquiry</p>
                           </li>
                           <li>
                              <p>FEPI DB2 inquiry</p>
                           </li>
                           <li>
                              <p>FEPI VSAM inquiry</p>
                           </li>
                        </ul>
                        <p>IMS/TM</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>IMS inquiry using IVTNO and IVTNV sample transactions</p>
                           </li>
                           <li>
                              <p>IMS PARTS inquiry (<a id="d8806e3622" class="indexterm-anchor"></a>CPI-C)
                              </p>
                           </li>
                           <li>
                              <p>IMS PARTS update (CPI-C)</p>
                           </li>
                        </ul>
                        <p>Additional samples are added to the distribution media in later releases of the product. Wherever possible, the sample applications use the sample databases provided with the database products.</p>
                        <p>For this release, full documentation on installing and using the sample applications is available in the <code class="codeph">README.doc </code>files in the following directories:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">%ORACLE_HOME%\dg4appc\CICS\sample_CICS_applications.txt</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">%ORACLE_HOME%\dg4appc\IMS\sample_IMS_applications.txt</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">%ORACLE_HOME%\dg4appc\MVS\sample_MVS_applications.txt</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>