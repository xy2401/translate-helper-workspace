<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">
      <meta name="description" content="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">
      <title>Spatial Concepts</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T14:11:51-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94799-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="spatial-concepts-usage.html" title="Previous" type="text/html">
      <link rel="next" href="spatial-datatypes-metadata.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="SPATL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="spatial-concepts-usage.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="spatial-datatypes-metadata.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="spatial-concepts-usage.html" property="item" typeof="WebPage"><span property="name">  Conceptual and Usage Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Spatial Concepts</li>
            </ol>
            <a id="GUID-67E4037F-C40F-442A-8662-837DD5539784" name="GUID-67E4037F-C40F-442A-8662-837DD5539784"></a><a id="SPATL010"></a>
            
            <h2 id="SPATL-GUID-67E4037F-C40F-442A-8662-837DD5539784" class="sect2"><span class="enumeration_chapter">1 </span> Spatial Concepts
            </h2>
         </header>
         <div class="ind">
            <div>
               <div><span>Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.</span></div>
               <p>Spatial data represents the essential location characteristics of real or conceptual objects as those objects relate to the real or conceptual space in which they exist. </p>
               <p>Major topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F">What Is Oracle Spatial and Graph?</a><br>Oracle Spatial and Graph, often referred to as Spatial and Graph, includes advanced features for spatial data and analysis and for physical, logical, network, and social and semantic graph applications.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-F625B59E-4412-4B3F-9A7E-A5161DD1F5A6">Object-Relational Model</a><br>Spatial and Graph supports the <span class="bold">object-relational</span> model for representing geometries. This model stores an entire geometry in the Oracle native spatial data type for vector data, SDO_GEOMETRY.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-6D0BA4FE-0D15-4D53-8A59-B76C6D9023D8">Introduction to Spatial Data</a><br>Oracle Spatial and Graph is designed to make spatial data management easier and more natural to users of location-enabled applications and geographic information system (GIS) applications. Once spatial data is stored in an Oracle database, it can be easily manipulated, retrieved, and related to all other data stored in the database.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206">Geometry Types</a><br>A <span class="bold">geometry</span> is an ordered sequence of vertices that are connected by straight line segments or circular arcs.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15">Data Model</a><br>The spatial data model in Oracle Spatial and Graph is a hierarchical structure consisting of elements, geometries, and layers. Layers are composed of geometries, which in turn are made up of elements.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-79F09397-E9DA-4E91-B154-9ECB327A5809">Query Model</a><br>Spatial and Graph uses a <span class="bold">two-tier query model</span> to resolve spatial queries and spatial joins.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC">Indexing of Spatial Data</a><br>The integration of spatial indexing capabilities into the Oracle Database engine is a key feature of the Spatial and Graph product. 
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89">Spatial Relationships and Filtering</a><br>Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244">Spatial Operators, Procedures, and Functions</a><br>The Spatial and Graph PL/SQL application programming interface (API) includes several operators and many procedures and functions.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4">Spatial Aggregate Functions</a><br>SQL has long had aggregate functions, which are used to aggregate the results of a SQL query.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A">Three-Dimensional Spatial Objects</a><br>Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-DDCFF26D-19E0-41FC-9ADC-F742AB651CB2">Geocoding</a><br><span class="bold">Geocoding</span> is the process of converting tables of address data into standardized address, location, and possibly other data.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-1319B328-0F3E-4202-868C-B7435E4FA98F">Location Data Enrichment</a><br>Oracle Spatial and Graph includes a place name data set, with hierarchical geographical data from HERE, that you can load into the database.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0">JSON and GeoJSON Support in Oracle Spatial and Graph</a><br>Spatial and Graph supports the use of JSON and GeoJSON objects to store, index, and manage geographic data that is in JSON (JavaScript Object Notation) format.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-03E5061C-190F-4465-857C-2344FEAF9814">NURBS Curve Support in Oracle Spatial and Graph</a><br>Spatial and Graph supports non-uniform rational B-spline (NURBS) curve geometries.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-D0143C10-296E-4E6F-A3DC-6370313CF53A">Sharded Database Support by Oracle Spatial and Graph</a><br>Spatial and Graph supports the use of sharded database technology.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-F721391C-9B12-455F-8D52-DA3CC9496EB1">Spatial and Graph Java Application Programming Interface</a><br>Oracle Spatial and Graph provides a Java application programming interface (API) .
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467">Predefined User Accounts Created by Spatial and Graph</a><br>During installation, Spatial and Graph creates user accounts that have the minimum privileges needed to perform their jobs.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-FFA351D4-F647-4254-B21C-1F50C9D9792E">Performance and Tuning Information</a><br>Many factors can affect the performance of Oracle Spatial and Graph applications, such as the use of optimizer hints to influence the plan for query execution.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-2CFFA9C3-1873-4D93-AE89-746A7E041B65">OGC and ISO Compliance</a><br>Oracle Spatial and Graph is conformant with Open Geospatial Consortium (OGC) Simple Features Specification 1.1.1 (Document 99-049), starting with Oracle Database release 10<span class="italic">g</span> (version 10.1.0.4).
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-365A972C-51C9-4363-B230-FED19D86F213">Spatial and Graph Release (Version) Number</a><br>To check which release of Spatial and Graph you are running, use the SDO_VERSION function.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669">SPATIAL_VECTOR_ACCELERATION System Parameter</a><br>To accelerate the performance of spatial operators, it is recommended that you enable the Vector Performance Accelerator (VPA) feature by setting the SPATIAL_VECTOR_ACCELERATION database system parameter to the value <code class="codeph">TRUE</code>. (This feature and associated system parameter are authorized for use only by licensed Oracle Spatial and Graph users, and the default value for the parameter is <code class="codeph">FALSE</code>.)
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6">Spatially Enabling a Table</a><br>If you have a regular Oracle table without an SDO_GEOMETRY column, but containing location-related information (such as latitude/longitude values for points), you can <span class="italic">spatially enable</span> the table by adding an SDO_GEOMETRY column and using existing (and future) location-related information in records to populate the SDO_GEOMETRY column values.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-7D60F812-61A2-4AC2-8171-D0E5CB1FE787">Moving Spatial Metadata (MDSYS.MOVE_SDO)</a><br>Database administrators (DBAs) can use the MDSYS.MOVE_SDO procedure to move all Oracle Spatial and Graph metadata tables to a specified target tablespace.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-E084ADA0-6926-4BD6-B06B-D81F71CD405B">Spatial Application Hardware Requirement Considerations</a><br>This topic discusses some general guidelines that affect the amount of disk storage space and CPU power needed for applications that use Oracle Spatial and Graph. 
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-5ECB6265-8891-487A-B476-B15896AA469E">Spatial and Graph Error Messages</a><br>Spatial and Graph has a set of error messages.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-8EAC36B2-11E8-48FD-A5D0-65C2A8E73B70">Spatial Examples</a><br>Oracle Spatial and Graph provides examples that you can use to reinforce your learning and to create models for coding certain operations.
                  </li>
                  <li class="ulchildlink"><a href="spatial-concepts.html#GUID-28BF04E9-D9EC-474E-B6C0-40231A6CCF99">README File for Spatial and Graph and Related Features</a><br>A <code class="codeph">README.txt</code> file supplements the information in several manuals.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="spatial-concepts-usage.html#GUID-EEEED709-34A1-46EA-9AF3-869FD06E3076">Conceptual and Usage Information</a></p>
                  </div>
               </div>
            </div>
            <a id="SPATL440"></a><div class="props_rev_3"><a id="GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F" name="GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F"></a><h3 id="SPATL-GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F" class="sect3"><span class="enumeration_section">1.1 </span>What Is Oracle Spatial and Graph?
               </h3>
               <div>
                  <p>Oracle Spatial and Graph, often referred to as Spatial and Graph, includes advanced features for spatial data and analysis and for physical, logical, network, and social and semantic graph applications.</p>
                  <p>The spatial features provide a schema and functions that facilitate the storage, retrieval, update, and query of collections of spatial features in an Oracle database. Spatial and Graph consists of the following: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a id="d9079e372" class="indexterm-anchor"></a>A schema (MDSYS) that prescribes the storage, syntax, and semantics of supported geometric data types
                        </p>
                     </li>
                     <li>
                        <p>A spatial indexing mechanism </p>
                     </li>
                     <li>
                        <p>Operators, functions, and procedures for performing area-of-interest queries, spatial join queries, and other spatial analysis operations</p>
                     </li>
                     <li>
                        <p>Functions and procedures for utility and tuning operations</p>
                     </li>
                     <li>
                        <p>Topology data model for working with data about nodes, edges, and faces in a topology (described in <a href="../topol/topology-data-model-overview.html#TOPOL100" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide</span></a>).
                        </p>
                     </li>
                     <li>
                        <p>Network data model for representing capabilities or objects that are modeled as nodes and links (vertices and edges) in a graph (described in <a href="../topol/network-data-model-graph-overview.html#TOPOL700" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide</span></a>).
                        </p>
                     </li>
                     <li>
                        <p>GeoRaster, a feature that lets you store, index, query, analyze, and deliver GeoRaster data, that is, raster image and gridded data and its associated metadata (described in <a href="../geors/georaster-overview-and-concepts.html#GEORS100" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster Developer's Guide</span></a>).
                        </p>
                     </li>
                  </ul>
                  <p>The spatial component of a spatial feature is the geometric representation of its shape in some coordinate space. This is referred to as its <span class="bold">geometry</span>.
                  </p>
                  <div class="infoboxnote" id="GUID-DC672B8C-1342-4AE3-91BB-4D8F6631492F__GUID-CE6BEFB3-588E-4597-9C25-07D49DD8856B">
                     <p class="notep1">Note:</p>
                     <p>Do not modify any packages, tables, or other objects under the MDSYS schema. (The only exception is if you need to create a user-defined coordinate reference system, as explained in <a href="coordinate-systems-concepts.html#GUID-C199908B-F3D5-41F7-8F60-E8CD3BEA7E29" title="If the coordinate systems supplied by Oracle are not sufficient for your needs, you can create user-defined coordinate reference systems.">Creating a User-Defined Coordinate Reference System</a>.)
                     </p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL441"></a><div class="props_rev_3"><a id="GUID-F625B59E-4412-4B3F-9A7E-A5161DD1F5A6" name="GUID-F625B59E-4412-4B3F-9A7E-A5161DD1F5A6"></a><h3 id="SPATL-GUID-F625B59E-4412-4B3F-9A7E-A5161DD1F5A6" class="sect3"><span class="enumeration_section">1.2 </span>Object-Relational Model
               </h3>
               <div>
                  <p>Spatial and Graph supports the <span class="bold">object-relational</span> model for representing geometries. This model stores an entire geometry in the Oracle native spatial data type for vector data, SDO_GEOMETRY.
                  </p>
                  <p>An Oracle table can contain one or more SDO_GEOMETRY columns. The object-relational model corresponds to a "SQL with Geometry Types" implementation of spatial feature tables in the Open GIS ODBC/SQL specification for geospatial features.</p>
                  <p>The benefits provided by the object-relational model include:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Support for many geometry types, including arcs, circles, compound polygons, compound line strings, and optimized rectangles</p>
                     </li>
                     <li>
                        <p>Ease of use in creating and maintaining indexes and in performing spatial queries</p>
                     </li>
                     <li>
                        <p>Index maintenance by the Oracle database</p>
                     </li>
                     <li>
                        <p>Geometries modeled in a single column</p>
                     </li>
                     <li>
                        <p>Optimal performance</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL442"></a><div class="props_rev_3"><a id="GUID-6D0BA4FE-0D15-4D53-8A59-B76C6D9023D8" name="GUID-6D0BA4FE-0D15-4D53-8A59-B76C6D9023D8"></a><h3 id="SPATL-GUID-6D0BA4FE-0D15-4D53-8A59-B76C6D9023D8" class="sect3"><span class="enumeration_section">1.3 </span>Introduction to Spatial Data
               </h3>
               <div>
                  <p>Oracle Spatial and Graph is designed to make spatial data management easier and more natural to users of location-enabled applications and geographic information system (GIS) applications. Once spatial data is stored in an Oracle database, it can be easily manipulated, retrieved, and related to all other data stored in the database.</p>
                  <p>A common example of spatial data can be seen in a road map. A road map is a two-dimensional object that contains points, lines, and polygons that can represent cities, roads, and political boundaries such as states or provinces. A road map is a visualization of geographic information. The location of cities, roads, and political boundaries that exist on the surface of the Earth are projected onto a two-dimensional display or piece of paper, preserving the relative positions and relative distances of the rendered objects. </p>
                  <p>The data that indicates the Earth location (such as longitude and latitude) of these rendered objects is the spatial data. When the map is rendered, this spatial data is used to project the locations of the objects on a two-dimensional piece of paper. A GIS is often used to store, retrieve, and render this Earth-relative spatial data.</p>
                  <p>Types of spatial data (other than GIS data) that can be stored using Spatial and Graph include data from computer-aided design (CAD) and computer-aided manufacturing (CAM) systems. Instead of operating on objects on a geographic scale, CAD/CAM systems work on a smaller scale, such as for an automobile engine or printed circuit boards. </p>
                  <p>The differences among these systems are in the size and precision of the data, not the data's complexity. The systems might all involve the same number of data points. On a geographic scale, the location of a bridge can vary by a few tenths of an inch without causing any noticeable problems to the road builders, whereas if the diameter of an engine's pistons is off by a few tenths of an inch, the engine will not run.</p>
                  <p>In addition, the complexity of data is independent of the absolute scale of the area being represented. For example, a printed circuit board is likely to have many thousands of objects etched on its surface, containing in its small area information that may be more complex than the details shown on a road builder's blueprints.</p>
                  <p>These applications all store, retrieve, update, or query some collection of features that have both nonspatial and spatial attributes. Examples of nonspatial attributes are name, soil_type, landuse_classification, and part_number. The spatial attribute is a coordinate geometry, or vector-based representation of the shape of the feature.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL444"></a><a id="SPATL443"></a><div class="props_rev_3"><a id="GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206" name="GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206"></a><h3 id="SPATL-GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206" class="sect3"><span class="enumeration_section">1.4 </span>Geometry Types
               </h3>
               <div>
                  <p>A <span class="bold">geometry</span> is an ordered sequence of vertices that are connected by straight line segments or circular arcs.
                  </p>
                  <p>The semantics of the geometry are determined by its type. Spatial and Graph supports several primitive types, and geometries composed of collections of these types, including two-dimensional:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Points and point clusters</p>
                     </li>
                     <li>
                        <p>Line strings</p>
                     </li>
                     <li>
                        <p><span class="italic">n</span>-point polygons
                        </p>
                     </li>
                     <li>
                        <p>Arc line strings (All arcs are generated as circular arcs.)</p>
                     </li>
                     <li>
                        <p>Arc polygons</p>
                     </li>
                     <li>
                        <p>Compound polygons</p>
                     </li>
                     <li>
                        <p>Compound line strings</p>
                     </li>
                     <li>
                        <p>Circles</p>
                     </li>
                     <li>
                        <p>Optimized rectangles</p>
                     </li>
                  </ul>
                  <p><span class="bold">Two-dimensional points</span> are elements composed of two ordinates, X and Y, often corresponding to longitude and latitude. <span class="bold">Line strings</span> are composed of one or more pairs of points that define line segments. <span class="bold">Polygons</span> are composed of connected line strings that form a closed ring, and the area of the polygon is implied. For example, a point might represent a building location, a line string might represent a road or flight path, and a polygon might represent a state, city, zoning district, or city block.
                  </p>
                  <p><a id="d9079e698" class="indexterm-anchor"></a><a id="d9079e700" class="indexterm-anchor"></a><a id="d9079e704" class="indexterm-anchor"></a>Self-crossing polygons are not supported, although self-crossing line strings are supported. If a line string crosses itself, it does not become a polygon. A self-crossing line string does not have any implied area. 
                  </p>
                  <p>The following figure illustrates the geometric types.</p>
                  <div class="figure" id="GUID-CD6ABC34-1CB4-476D-ACB1-BDA07026C206__I885654">
                     <p class="titleinfigure">Figure 1-1 Geometric Types</p><img src="img/geom_types.gif" alt="Description of Figure 1-1 follows" title="Description of Figure 1-1 follows" longdesc="img_text/geom_types.html"><br><a href="img_text/geom_types.html">Description of "Figure 1-1 Geometric Types"</a></div>
                  <!-- class="figure" -->
                  <p>Spatial and Graph also supports the storage and indexing of three-dimensional and four-dimensional geometric types, where three or four coordinates are used to define each vertex of the object being defined. For information about support for three-dimensional geometries, see <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a>. 
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL445"></a><div class="props_rev_3"><a id="GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" name="GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15"></a><h3 id="SPATL-GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" class="sect3"><span class="enumeration_section">1.5 </span>Data Model
               </h3>
               <div>
                  <p>The spatial data model in Oracle Spatial and Graph is a hierarchical structure consisting of elements, geometries, and layers. Layers are composed of geometries, which in turn are made up of elements.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-F63D217A-2917-4EFA-B6CF-CC599B4C306A">Element</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-CB1DDE04-4572-4F1D-801B-D556B6F43BD6">Geometry</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-5907B2EA-8ECB-4364-A630-369C0667C287">Layer</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF">Coordinate System</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL446"></a><div class="props_rev_3"><a id="GUID-F63D217A-2917-4EFA-B6CF-CC599B4C306A" name="GUID-F63D217A-2917-4EFA-B6CF-CC599B4C306A"></a><h4 id="SPATL-GUID-F63D217A-2917-4EFA-B6CF-CC599B4C306A" class="sect4"><span class="enumeration_section">1.5.1 </span>Element
                  </h4>
                  <div>
                     <p>An<span class="bold"> element</span> is the basic building block of a geometry. The supported spatial element types are points, line strings, and polygons. For example, elements might model star constellations (point clusters), roads (line strings), and county boundaries (polygons). Each coordinate in an element is stored as an X,Y pair. The exterior ring and zero or more interior rings (holes) of a complex polygon are considered a single element.
                     </p>
                     <p><span class="bold">Point data</span> consists of one coordinate. <span class="bold">Line data</span> consists of two coordinates representing a line segment of the element. <span class="bold">Polygon data</span> consists of coordinate pair values, one vertex pair for each line segment of the polygon. Coordinates are defined in order around the polygon (counterclockwise for an exterior polygon ring, clockwise for an interior polygon ring).
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="The spatial data model in Oracle Spatial and Graph is a hierarchical structure consisting of elements, geometries, and layers. Layers are composed of geometries, which in turn are made up of elements.">Data Model</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL447"></a><div class="props_rev_3"><a id="GUID-CB1DDE04-4572-4F1D-801B-D556B6F43BD6" name="GUID-CB1DDE04-4572-4F1D-801B-D556B6F43BD6"></a><h4 id="SPATL-GUID-CB1DDE04-4572-4F1D-801B-D556B6F43BD6" class="sect4"><span class="enumeration_section">1.5.2 </span>Geometry
                  </h4>
                  <div>
                     <p>A <span class="bold">geometry</span> (or <span class="bold">geometry object</span>) is the representation of a spatial feature, modeled as an ordered set of primitive elements. A geometry can consist of a single element, which is an instance of one of the supported primitive types, or a homogeneous or heterogeneous collection of elements. A multipolygon, such as one used to represent a set of islands, is a homogeneous collection. A heterogeneous collection is one in which the elements are of different types, for example, a point and a polygon.
                     </p>
                     <p>An example of a geometry might describe the buildable land in a town. This could be represented as a polygon with holes where water or zoning prevents construction.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="The spatial data model in Oracle Spatial and Graph is a hierarchical structure consisting of elements, geometries, and layers. Layers are composed of geometries, which in turn are made up of elements.">Data Model</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL448"></a><div class="props_rev_3"><a id="GUID-5907B2EA-8ECB-4364-A630-369C0667C287" name="GUID-5907B2EA-8ECB-4364-A630-369C0667C287"></a><h4 id="SPATL-GUID-5907B2EA-8ECB-4364-A630-369C0667C287" class="sect4"><span class="enumeration_section">1.5.3 </span>Layer
                  </h4>
                  <div>
                     <p>A<span class="bold"> layer</span> is a collection of geometries having the same attribute set. For example, one layer in a GIS might include topographical features, while another describes population density, and a third describes the network of roads and bridges in the area (lines and points). The geometries and associated spatial index for each layer are stored in the database in standard tables.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="The spatial data model in Oracle Spatial and Graph is a hierarchical structure consisting of elements, geometries, and layers. Layers are composed of geometries, which in turn are made up of elements.">Data Model</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL449"></a><div class="props_rev_3"><a id="GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF" name="GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF"></a><h4 id="SPATL-GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF" class="sect4"><span class="enumeration_section">1.5.4 </span>Coordinate System
                  </h4>
                  <div>
                     <p>A <span class="bold">coordinate system</span> (also called a <span class="italic">spatial reference system</span>) is a means of assigning coordinates to a location and establishing relationships between sets of such coordinates. It enables the interpretation of a set of coordinates as a representation of a position in a real world space. 
                     </p>
                     <p>Any spatial data has a coordinate system associated with it. The coordinate system can be <span class="italic">georeferenced</span> (related to a specific representation of the Earth) or not georeferenced (that is, Cartesian, and not related to a specific representation of the Earth). If the coordinate system is georeferenced, it has a default <span class="italic">unit of measurement</span> (such as meters) associated with it, but you can have Spatial and Graph automatically return results in another specified unit (such as miles).
                     </p>
                     <p>Spatial data can be associated with a Cartesian, geodetic (geographical), projected, or local coordinate system:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d9079e1137" class="indexterm-anchor"></a><a id="d9079e1139" class="indexterm-anchor"></a><span class="bold">Cartesian coordinates</span> are coordinates that measure the position of a point from a defined origin along axes that are perpendicular in the represented two-dimensional or three-dimensional space.
                           </p>
                           <p>If a coordinate system is not explicitly associated with a geometry, a Cartesian coordinate system is assumed.</p>
                        </li>
                        <li>
                           <p><a id="d9079e1150" class="indexterm-anchor"></a><a id="d9079e1152" class="indexterm-anchor"></a><a id="d9079e1156" class="indexterm-anchor"></a><a id="d9079e1160" class="indexterm-anchor"></a><span class="bold">Geodetic coordinates</span> (sometimes called <span class="italic">geographic coordinates</span>) are angular coordinates (longitude and latitude), closely related to spherical polar coordinates, and are defined relative to a particular Earth geodetic datum. (A <a id="d9079e1170" class="indexterm-anchor"></a><a id="d9079e1172" class="indexterm-anchor"></a>geodetic datum is a means of representing the figure of the Earth and is the reference for the system of geodetic coordinates.)
                           </p>
                        </li>
                        <li>
                           <p><a id="d9079e1179" class="indexterm-anchor"></a><a id="d9079e1181" class="indexterm-anchor"></a><span class="bold">Projected coordinates</span> are planar Cartesian coordinates that result from performing a mathematical mapping from a point on the Earth's surface to a plane. There are many such mathematical mappings, each used for a particular purpose.
                           </p>
                        </li>
                        <li>
                           <p><a id="d9079e1190" class="indexterm-anchor"></a><a id="d9079e1192" class="indexterm-anchor"></a><span class="bold">Local coordinates</span> are Cartesian coordinates in a non-Earth (non-georeferenced) coordinate system. Local coordinate systems are often used for CAD applications and local surveys.
                           </p>
                        </li>
                     </ul>
                     <p>When performing operations on geometries, Spatial and Graph uses either a Cartesian or curvilinear computational model, as appropriate for the coordinate system associated with the spatial data.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="spatial-datatypes-metadata.html#GUID-5984C12A-0A22-4BFD-B777-7C837D3CBB99" title="Geometry functions that involve measurement allow an optional unit parameter to specify the unit of measurement for a specified distance or area, if a georeferenced coordinate system (SDO_SRID value) is associated with the input geometry or geometries.">Unit of Measurement Support</a></li>
                           <li><a href="coordinate-systems-concepts.html#GUID-C3573533-1E3E-42BC-9C43-45AA09EDE150" title="This chapter describes in detail the Oracle Spatial and Graph coordinate system support.">Coordinate Systems (Spatial Reference Systems)</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="The spatial data model in Oracle Spatial and Graph is a hierarchical structure consisting of elements, geometries, and layers. Layers are composed of geometries, which in turn are made up of elements.">Data Model</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL450"></a><div class="props_rev_3"><a id="GUID-7469388B-6D23-4294-904F-78CA3B7191D3" name="GUID-7469388B-6D23-4294-904F-78CA3B7191D3"></a><h4 id="SPATL-GUID-7469388B-6D23-4294-904F-78CA3B7191D3" class="sect4"><span class="enumeration_section">1.5.5 </span>Tolerance
                  </h4>
                  <div>
                     <p>Tolerance is used to associate a level of precision with spatial data. <span class="bold">Tolerance</span> reflects the <span class="italic">distance that two points can be apart and still be considered the same</span> (for example, to accommodate rounding errors). The tolerance value must be a positive number greater than zero. The significance of the value depends on whether or not the spatial data is associated with a geodetic coordinate system. (Geodetic and other types of coordinate systems are described in <a href="spatial-concepts.html#GUID-0F6E5C63-2E2B-43A7-B7B9-60DF9E99EAAF">Coordinate System</a>.)
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For geodetic data (such as data identified by longitude and latitude coordinates), the tolerance value is a number of meters. For example, a tolerance value of 10 indicates a tolerance of 10 meters.</p>
                        </li>
                        <li>
                           <p>For non-geodetic data, the tolerance value is a number of the units that are associated with the coordinate system associated with the data. For example, if the unit of measurement is miles, a tolerance value of 0.005 indicates a tolerance of 0.005 (that is, 1/200) mile (approximately 26 feet or 7.9 meters), and a tolerance value of 2 indicates a tolerance of 2 miles.</p>
                        </li>
                     </ul>
                     <p>In both cases, the smaller the tolerance value, the more precision is to be associated with the data.</p>
                     <p>For geodetic and projected data, the tolerance value should be less than 10. In addition, ensure that geometries are valid at the specified tolerance.</p>
                     <p>For geometries that have 16 or more digits of precision, Spatial and Graph boolean operations (such as <a href="SDO_GEOM-reference.html#GUID-35318AFF-1981-4A8B-BA8A-D4E8272E86AB">SDO_GEOM.SDO_UNION</a> and <a href="SDO_GEOM-reference.html#GUID-6191E200-BFBF-4D97-A9B2-92846DBF7175">SDO_GEOM.SDO_INTERSECTION</a>) and the <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> function might produce inconsistent results due to the loss of precision in floating point arithmetic. The number of digits of precision is calculated as in the following example: if the tolerance is set to 0.0000000005 and the coordinates have 6 digits to the left of decimal (for example, 123456.4321), the precision is 10 + 6 digits (16). In such cases, it is better to use a larger tolerance value (fewer leading zeros after the decimal) to get consistent results using spatial operations.
                     </p>
                     <div class="infoboxnote" id="GUID-7469388B-6D23-4294-904F-78CA3B7191D3__GUID-ECD21A1A-1B6E-48C6-9756-DDBCB2CF28E0">
                        <p class="notep1">Note:</p>
                        <p>Floating point operations tend to lose precision when the number of digits used in the computation is more than 15, so make sure the number of digits specified for computations is less than 15. For example, if the number is 123456.789 and the tolerance is 10E-10, then this effectively means 16 (10+6) digits of precision, which is more than the recommended 15.</p>
                     </div>
                     <p>A tolerance value is specified in two cases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>In the geometry metadata definition for a layer</p>
                        </li>
                        <li>
                           <p>As an input parameter to certain functions</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="spatial-concepts.html#GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233">Tolerance in the Geometry Metadata for a Layer</a><br></li>
                        <li class="ulchildlink"><a href="spatial-concepts.html#GUID-929DAEEC-EBE2-4BB6-9B51-85E833F9D0D6">Tolerance as an Input Parameter</a><br></li>
                     </ul>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="lrs-linear-referencing-system-concepts.html#GUID-2A6BC86B-0BE8-43F5-98D9-44E08ADF692C">Tolerance Values with LRS Functions</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-D92BAC59-0CF2-4C3E-B17A-D690AEA90F15" title="The spatial data model in Oracle Spatial and Graph is a hierarchical structure consisting of elements, geometries, and layers. Layers are composed of geometries, which in turn are made up of elements.">Data Model</a></p>
                        </div>
                     </div>
                  </div><a id="SPATL451"></a><div class="props_rev_3"><a id="GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233" name="GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233"></a><h5 id="SPATL-GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233" class="sect5"><span class="enumeration_section">1.5.5.1 </span>Tolerance in the Geometry Metadata for a Layer
                     </h5>
                     <div>
                        <p>The dimensional information for a layer includes a tolerance value. Specifically, the DIMINFO column (described in <a href="spatial-datatypes-metadata.html#GUID-483D9FB7-AEC1-433C-A2AF-D0FE3018CDCF">DIMINFO</a>) of the xxx_SDO_GEOM_METADATA views includes an SDO_TOLERANCE value for each dimension, and the value should be the same for each dimension.
                        </p>
                        <p>If a function accepts an optional <code class="codeph">tolerance</code> parameter and this parameter is null or not specified, the SDO_TOLERANCE value of the layer is used. Using the non-geodetic data from the example in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting, Indexing, and Querying Spatial Data</a>, the actual distance between geometries <code class="codeph">cola_b</code> and <code class="codeph">cola_d</code> is 0.846049894. If a query uses the <a href="SDO_GEOM-reference.html#GUID-EC93D8DA-F207-460F-A85A-AA50B92385EC">SDO_GEOM.SDO_DISTANCE</a> function to return the distance between <code class="codeph">cola_b</code> and <code class="codeph">cola_d</code> and does not specify a <code class="codeph">tolerance</code> parameter value, the result depends on the SDO_TOLERANCE value of the layer. For example:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the SDO_TOLERANCE value of the layer is 0.005, this query returns .846049894.</p>
                           </li>
                           <li>
                              <p>If the SDO_TOLERANCE value of the layer is 0.5, this query returns 0.</p>
                              <p>The zero result occurs because Spatial and Graph first constructs an imaginary buffer of the tolerance value (0.5) around each geometry to be considered, and the buffers around <code class="codeph">cola_b</code> and <code class="codeph">cola_d</code> overlap in this case. (If the two geometries being considered have different tolerance values, the higher value is used for the imaginary buffer.)
                              </p>
                           </li>
                        </ul>
                        <p>You can, therefore, take either of two approaches in selecting an SDO_TOLERANCE value for a layer:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The value can reflect the desired level of precision in queries for distances between objects. For example, if two non-geodetic geometries 0.8 units apart should be considered as separated, specify a small SDO_TOLERANCE value such as 0.05 or smaller. </p>
                           </li>
                           <li>
                              <p>The value can reflect the precision of the values associated with geometries in the layer. For example, if all geometries in a non-geodetic layer are defined using integers and if two objects 0.8 units apart should not be considered as separated, an SDO_TOLERANCE value of 0.5 is appropriate. To have greater precision in any query, you must override the default by specifying the <code class="codeph">tolerance</code> parameter.
                              </p>
                           </li>
                        </ul>
                        <p>With non-geodetic data, the guideline to follow for most instances of the second case (precision of the values of the geometries in the layer) is: take the highest level of precision in the geometry definitions, and use .5 at the next level as the SDO_TOLERANCE value. For example, if geometries are defined using integers (as in the simplified example in <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting, Indexing, and Querying Spatial Data</a>), the appropriate value is 0.5; however, if geometries are defined using numbers up to four decimal positions (for example, 31.2587), the appropriate value is 0.00005.
                        </p>
                        <div class="infoboxnote" id="GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233__GUID-90C051F0-5A6D-4270-A90A-C306340A9F28">
                           <p class="notep1">Note:</p>
                           <p>This guideline should not be used if the geometries include any polygons that are so narrow at any point that the distance between facing sides is less than the proposed tolerance value. Be sure that the tolerance value is less than the shortest distance between any two sides in any polygon.</p>
                           <p>Moreover, if you encounter "invalid geometry" errors with inserted or updated geometries, and if the geometries are in fact valid, consider increasing the precision of the tolerance value (for example, changing 0.00005 to 0.000005).</p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="SPATL452"></a><div class="props_rev_3"><a id="GUID-929DAEEC-EBE2-4BB6-9B51-85E833F9D0D6" name="GUID-929DAEEC-EBE2-4BB6-9B51-85E833F9D0D6"></a><h5 id="SPATL-GUID-929DAEEC-EBE2-4BB6-9B51-85E833F9D0D6" class="sect5"><span class="enumeration_section">1.5.5.2 </span>Tolerance as an Input Parameter
                     </h5>
                     <div>
                        <p>Many spatial functions accept a <code class="codeph">tolerance</code> parameter, which (if specified) overrides the default tolerance value for the layer (explained in <a href="spatial-concepts.html#GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233">Tolerance in the Geometry Metadata for a Layer</a>). If the distance between two points is less than or equal to the tolerance value, Spatial and Graph considers the two points to be a single point. Thus, tolerance is usually a reflection of how accurate or precise users perceive their spatial data to be.
                        </p>
                        <p>For example, assume that you want to know which restaurants are within 5 kilometers of your house. Assume also that Maria's Pizzeria is 5.1 kilometers from your house. If the spatial data has a geodetic coordinate system and if you ask, <span class="italic">Find all restaurants within 5 kilometers and use a tolerance of 100</span> (or greater, such as 500), Maria's Pizzeria will be included, because 5.1 kilometers (5100 meters) is within 100 meters of 5 kilometers (5000 meters). However, if you specify a tolerance less than 100 (such as 50), Maria's Pizzeria will not be included.
                        </p>
                        <p>Tolerance values for spatial functions are typically very small, although the best value in each case depends on the kinds of applications that use or will use the data. See also the tolerance guidelines in <a href="spatial-concepts.html#GUID-3C14F80F-10BF-48B3-BED8-FECBBF26D233">Tolerance in the Geometry Metadata for a Layer</a>, and ensure that all input geometries are valid. (Spatial functions may not work as expected if the geometry data is not valid.)
                        </p>
                        <p>If you explicitly want to use the tolerance value from the dimensional information array for the geometry layer, and if a subprogram has separate formats with <code class="codeph">tolerance</code> (or <code class="codeph">tol</code>) and <code class="codeph">dim</code> parameters, use the format with <code class="codeph">dim</code>. In the following example, the first statement uses the tolerance value from the dimensional information array, and the second statement specifies a numeric tolerance value (0.005):
                        </p><pre class="oac_no_warn" dir="ltr">-- Return the area of the cola_a geometry.
 
SELECT c.name, SDO_GEOM.SDO_AREA(c.shape, m.diminfo) 
  FROM cola_markets c, user_sdo_geom_metadata m 
  WHERE m.table_name = 'COLA_MARKETS' AND m.column_name = 'SHAPE' 
  AND c.name = 'cola_a';
 
SELECT c.name, SDO_GEOM.SDO_AREA(c.shape, 0.005) FROM cola_markets c 
   WHERE c.name = 'cola_a';</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="SPATL454"></a><a id="SPATL453"></a><div class="props_rev_3"><a id="GUID-79F09397-E9DA-4E91-B154-9ECB327A5809" name="GUID-79F09397-E9DA-4E91-B154-9ECB327A5809"></a><h3 id="SPATL-GUID-79F09397-E9DA-4E91-B154-9ECB327A5809" class="sect3"><span class="enumeration_section">1.6 </span>Query Model
               </h3>
               <div>
                  <p>Spatial and Graph uses a <span class="bold">two-tier query model</span> to resolve spatial queries and spatial joins.
                  </p>
                  <p><a id="d9079e1658" class="indexterm-anchor"></a>The term is used to indicate that two distinct operations are performed to resolve queries. The output of the two combined operations yields the exact result set.
                  </p>
                  <p>The two operations are referred to as <span class="italic">primary </span>and <span class="italic">secondary</span> filter operations.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <span class="bold">primary filter</span> permits fast selection of candidate records to pass along to the secondary filter. The primary filter compares geometry approximations to reduce computation complexity and is considered a lower-cost filter. Because the primary filter compares geometric approximations, it returns a superset of the exact result set.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="bold">secondary filter</span> applies exact computations to geometries that result from the primary filter. The secondary filter yields an accurate answer to a spatial query. The secondary filter operation is computationally expensive, but it is only applied to the primary filter results, not the entire data set. 
                        </p>
                     </li>
                  </ul>
                  <p><a href="spatial-concepts.html#GUID-79F09397-E9DA-4E91-B154-9ECB327A5809__I878085">Figure 1-2</a> illustrates the relationship between the primary and secondary filters.
                  </p>
                  <div class="figure" id="GUID-79F09397-E9DA-4E91-B154-9ECB327A5809__I878085">
                     <p class="titleinfigure">Figure 1-2 Query Model</p><img src="img/query.gif" alt="Description of Figure 1-2 follows" title="Description of Figure 1-2 follows" longdesc="img_text/query.html"><br><a href="img_text/query.html">Description of "Figure 1-2 Query Model"</a></div>
                  <!-- class="figure" -->
                  <p>As shown in <a href="spatial-concepts.html#GUID-79F09397-E9DA-4E91-B154-9ECB327A5809__I878085">Figure 1-2</a>, the primary filter operation on a large input data set produces a smaller candidate set, which contains at least the exact result set and may contain more records. The secondary filter operation on the smaller candidate set produces the exact result set.
                  </p>
                  <p>Spatial and Graph uses a spatial index to implement the primary filter. Spatial and Graph does not require the use of both the primary and secondary filters. In some cases, just using the primary filter is sufficient. For example, a <span class="italic">zoom</span> feature in a mapping application queries for data that has any interaction with a rectangle representing visible boundaries. The primary filter very quickly returns a superset of the query. The mapping application can then apply clipping routines to display the target area.
                  </p>
                  <p>The purpose of the primary filter is to quickly create a subset of the data and reduce the processing burden on the secondary filter. The primary filter, therefore, should be as efficient (that is, selective yet fast) as possible. This is determined by the characteristics of the spatial index on the data.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="indexing-querying-spatial-data.html#GUID-34D74D79-6B6A-4827-B418-A05D3F41103D" title="The structures of a spatial layer are used to resolve spatial queries and spatial joins.">Querying Spatial Data</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL455"></a><div class="props_rev_3"><a id="GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC" name="GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC"></a><h3 id="SPATL-GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC" class="sect3"><span class="enumeration_section">1.7 </span>Indexing of Spatial Data
               </h3>
               <div>
                  <p>The integration of spatial indexing capabilities into the Oracle Database engine is a key feature of the Spatial and Graph product. </p>
                  <p><a id="d9079e1773" class="indexterm-anchor"></a><a id="d9079e1777" class="indexterm-anchor"></a>A spatial index, like any other index, provides a mechanism to limit searches, but in this case the mechanism is based on spatial criteria such as intersection and containment. For example, a spatial index is used to: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Find objects within an indexed data space that interact with a given point or area of interest (window query)</p>
                     </li>
                     <li>
                        <p>Find pairs of objects from within two indexed data spaces that interact spatially with each other (spatial join)</p>
                     </li>
                  </ul>
                  <p>Effective with Release 12.2 and later, creating and using a spatial index is not mandatory for the use of any Oracle Spatial and Graph features. However, spatial indexes are highly recommended, and not using them can negatively affect performance in some cases.</p>
                  <p>Testing of spatial indexes with many workloads and operators is ongoing, and further results and recommendations will be documented as they become available.</p>
                  <p>The following sections explain the concepts and options associated with R-tree indexing.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-69A50E50-F713-4E3D-9182-AF3797250B97">R-Tree Indexing</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2">R-Tree Quality</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL457"></a><a id="SPATL458"></a><a id="SPATL456"></a><div class="props_rev_3"><a id="GUID-69A50E50-F713-4E3D-9182-AF3797250B97" name="GUID-69A50E50-F713-4E3D-9182-AF3797250B97"></a><h4 id="SPATL-GUID-69A50E50-F713-4E3D-9182-AF3797250B97" class="sect4"><span class="enumeration_section">1.7.1 </span>R-Tree Indexing
                  </h4>
                  <div>
                     <p><a id="d9079e1871" class="indexterm-anchor"></a><a id="d9079e1877" class="indexterm-anchor"></a>A spatial R-tree index can index spatial data of up to four dimensions. An R-tree index approximates each geometry by a single rectangle that minimally encloses the geometry (called the minimum bounding rectangle, or MBR), as shown in <a href="spatial-concepts.html#GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884362">Figure 1-3</a>. 
                     </p>
                     <div class="figure" id="GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884362">
                        <p class="titleinfigure">Figure 1-3 MBR Enclosing a Geometry</p><img src="img/rt_mbr.gif" alt="Description of Figure 1-3 follows" title="Description of Figure 1-3 follows" longdesc="img_text/rt_mbr.html"><br><a href="img_text/rt_mbr.html">Description of "Figure 1-3 MBR Enclosing a Geometry"</a></div>
                     <!-- class="figure" -->
                     <p>For a layer of geometries, an R-tree index consists of a hierarchical index on the MBRs of the geometries in the layer, as shown in <a href="spatial-concepts.html#GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884377">Figure 1-4</a>. 
                     </p>
                     <div class="figure" id="GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884377">
                        <p class="titleinfigure">Figure 1-4 R-Tree Hierarchical Index on MBRs</p><img src="img/rt_tree.gif" alt="Description of Figure 1-4 follows" title="Description of Figure 1-4 follows" longdesc="img_text/rt_tree.html"><br><a href="img_text/rt_tree.html">Description of "Figure 1-4 R-Tree Hierarchical Index on MBRs"</a></div>
                     <!-- class="figure" -->
                     <p>In <a href="spatial-concepts.html#GUID-69A50E50-F713-4E3D-9182-AF3797250B97__I884377">Figure 1-4</a>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic">1</span> through <span class="italic">9</span> are geometries in a layer.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">a</span>, <span class="italic">b</span>, <span class="italic">c</span>, and <span class="italic">d</span> are the leaf nodes of the R-tree index, and contain minimum bounding rectangles of geometries, along with pointers to the geometries. For example, <span class="italic">a</span> contains the MBR of geometries <span class="italic">1</span> and <span class="italic">2</span>, <span class="italic">b</span> contains the MBR of geometries <span class="italic">3</span> and <span class="italic">4</span>, and so on.
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">A</span> contains the MBR of <span class="italic">a</span> and <span class="italic">b</span>, and <span class="italic">B</span> contains the MBR of <span class="italic">c</span> and <span class="italic">d</span>.
                           </p>
                        </li>
                        <li>
                           <p>The root contains the MBR of <span class="italic">A</span> and <span class="italic">B</span> (that is, the entire area shown).
                           </p>
                        </li>
                     </ul>
                     <p>An R-tree index is stored in the spatial index table (SDO_INDEX_TABLE in the USER_SDO_INDEX_METADATA view, described in <a href="spatial-datatypes-metadata.html#GUID-154F785A-F706-47E9-9C42-355FBD316295" title="This topic describes the structure of the tables containing the spatial index data and metadata.">Spatial Index-Related Structures</a>). The R-tree index also maintains a sequence object (SDO_RTREE_SEQ_NAME in the USER_SDO_INDEX_METADATA view) to ensure that simultaneous updates by concurrent users can be made to the index.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC" title="The integration of spatial indexing capabilities into the Oracle Database engine is a key feature of the Spatial and Graph product.">Indexing of Spatial Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL459"></a><div class="props_rev_3"><a id="GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2" name="GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2"></a><h4 id="SPATL-GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2" class="sect4"><span class="enumeration_section">1.7.2 </span>R-Tree Quality
                  </h4>
                  <div>
                     <p>A substantial number of insert and delete operations affecting an R-tree index may degrade the quality of the R-tree structure, which may adversely affect query performance.</p>
                     <p>The R-tree is a hierarchical tree structure with nodes at different heights of the tree. The performance of an R-tree index structure for queries is roughly proportional to the area and perimeter of the index nodes of the R-tree. The area covered at level 0 represents the area occupied by the minimum bounding rectangles of the data geometries, the area at level 1 indicates the area covered by leaf-level R-tree nodes, and so on. The original ratio of the area at the root (topmost level) to the area at level 0 can change over time based on updates to the table; and if there is a degradation in that ratio (that is, if it increases significantly), rebuilding the index may help the performance of queries.</p>
                     <p>If the performance of <a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a> operations has degraded, and if there have been a large number of insert, update, or delete operations affecting geometries, the performance degradation may be due to a degradation in the quality of the associated R-tree index.
                     </p>
                     <p>To rebuild an R-tree index, use the <a href="sql-indexing-spatial-data.html#GUID-9DBFA670-1F9D-49CB-8D68-66F1C31C1677">ALTER INDEX REBUILD</a> statement.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-54CCC43F-56B7-42C6-8C87-86843FA25AFC" title="The integration of spatial indexing capabilities into the Oracle Database engine is a key feature of the Spatial and Graph product.">Indexing of Spatial Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL461"></a><a id="SPATL462"></a><a id="SPATL463"></a><a id="SPATL460"></a><div class="props_rev_3"><a id="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" name="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89"></a><h3 id="SPATL-GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89" class="sect3"><span class="enumeration_section">1.8 </span>Spatial Relationships and Filtering
               </h3>
               <div>
                  <p>Spatial and Graph uses secondary filters to determine the spatial relationship between entities in the database. The spatial relationship is based on geometry locations.</p>
                  <p>The most common spatial relationships are based on topology and distance. <a id="d9079e2135" class="indexterm-anchor"></a>For example, the <span class="italic">boundary</span> of an area consists of a set of curves that separates the area from the rest of the coordinate space. <a id="d9079e2143" class="indexterm-anchor"></a>The <span class="italic">interior</span> of an area consists of all points in the area that are not on its boundary. Given this, two areas are said to be adjacent if they share part of a boundary but do not share any points in their interior. 
                  </p>
                  <p>The distance between two spatial objects is the minimum distance between any points in them. Two objects are said to be <span class="italic">within a given distance</span> of one another if their distance is less than the given distance.
                  </p>
                  <p>To determine spatial relationships, Spatial and Graph has several secondary filter methods:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator evaluates topological criteria.
                        </p>
                     </li>
                     <li>
                        <p>The <a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a> operator determines if two spatial objects are within a specified distance of each other.
                        </p>
                     </li>
                     <li>
                        <p>The <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator identifies the nearest neighbors for a spatial object.
                        </p>
                     </li>
                  </ul>
                  <p>The <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> operator implements a nine-intersection model for categorizing binary topological relationships between points, lines, and polygons. Each spatial object has an interior, a boundary, and an exterior. <a id="d9079e2186" class="indexterm-anchor"></a><a id="d9079e2190" class="indexterm-anchor"></a>The boundary consists of points or lines that separate the interior from the exterior. The boundary of a line string consists of its end points; however, if the end points overlap (that is, if they are the same point), the line string has no boundary. <a id="d9079e2195" class="indexterm-anchor"></a><a id="d9079e2199" class="indexterm-anchor"></a>The boundaries of a multiline string are the end points of each of the component line strings; however, if the end points overlap, only the end points that overlap an odd number of times are boundaries. <a id="d9079e2204" class="indexterm-anchor"></a><a id="d9079e2208" class="indexterm-anchor"></a>The boundary of a polygon is the line that describes its perimeter. The interior consists of points that are in the object but not on its boundary, and the exterior consists of those points that are not in the object and are not on its boundary.
                  </p>
                  <p>Given that an object A has three components (a boundary Ab, an interior Ai, and an exterior Ae), any pair of objects has nine possible interactions between their components. Pairs of components have an empty (0) or not empty (1) set intersection. The set of interactions between two geometries is represented by a nine-intersection matrix that specifies which pairs of components intersect and which do not. <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I879003">Figure 1-5</a> shows the nine-intersection matrix for two polygons that are adjacent to one another. This matrix yields the following bit mask, generated in row-major form: "101001111".
                  </p>
                  <div class="figure" id="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I879003">
                     <p class="titleinfigure">Figure 1-5 The Nine-Intersection Model</p><img src="img/nine_inter.gif" alt="Description of Figure 1-5 follows" title="Description of Figure 1-5 follows" longdesc="img_text/nine_inter.html"><br><a href="img_text/nine_inter.html">Description of "Figure 1-5 The Nine-Intersection Model"</a></div>
                  <!-- class="figure" -->
                  <p>Some of the topological relationships identified in the seminal work by Professor Max Egenhofer (University of Maine, Orono) and colleagues have names associated with them. Spatial and Graph uses the following names:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a id="d9079e2227" class="indexterm-anchor"></a>DISJOINT: The boundaries and interiors do not intersect.
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2234" class="indexterm-anchor"></a>TOUCH: The boundaries intersect but the interiors do not intersect.
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2241" class="indexterm-anchor"></a>OVERLAPBDYDISJOINT: The interior of one object intersects the boundary and interior of the other object, but the two boundaries do not intersect. This relationship occurs, for example, when a line originates outside a polygon and ends inside that polygon. 
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2248" class="indexterm-anchor"></a>OVERLAPBDYINTERSECT: The boundaries and interiors of the two objects intersect.
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2255" class="indexterm-anchor"></a>EQUAL: The two objects have the same boundary and interior. 
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2262" class="indexterm-anchor"></a>CONTAINS: The interior and boundary of one object is completely contained in the interior of the other object.
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2269" class="indexterm-anchor"></a>COVERS: The boundary and interior of one object is completely contained in the interior or the boundary of the other object, their interiors intersect, and the boundary or the interior of one object and the boundary of the other object intersect.
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2276" class="indexterm-anchor"></a>INSIDE: The opposite of CONTAINS. A INSIDE B implies B CONTAINS A.
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2283" class="indexterm-anchor"></a>COVEREDBY: The opposite of COVERS. A COVEREDBY B implies B COVERS A.
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2290" class="indexterm-anchor"></a>ON: The interior and boundary of one object is on the boundary of the other object. This relationship occurs, for example, when a line is on the boundary of a polygon.
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2297" class="indexterm-anchor"></a><a id="d9079e2301" class="indexterm-anchor"></a>ANYINTERACT: The objects are non-disjoint. 
                        </p>
                     </li>
                  </ul>
                  <p><a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I883562">Figure 1-6</a> illustrates these topological relationships.
                  </p>
                  <div class="figure" id="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I883562">
                     <p class="titleinfigure">Figure 1-6 Topological Relationships</p><img src="img/top_rel.gif" alt="Description of Figure 1-6 follows" title="Description of Figure 1-6 follows" longdesc="img_text/top_rel.html"><br><a href="img_text/top_rel.html">Description of "Figure 1-6 Topological Relationships"</a></div>
                  <!-- class="figure" -->
                  <p>The <a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a> operator determines if two spatial objects, A and B, are within a specified distance of one another. This operator first constructs a distance buffer, D<sub>b</sub>, around the reference object B. It then checks that A and D<sub>b</sub> are non-disjoint. The distance buffer of an object consists of all points within the given distance from that object. <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I878990">Figure 1-7</a> shows the distance buffers for a point, a line, and a polygon.
                  </p>
                  <div class="figure" id="GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I878990">
                     <p class="titleinfigure">Figure 1-7 Distance Buffers for Points, Lines, and Polygons</p><img src="img/buffers.gif" alt="Description of Figure 1-7 follows" title="Description of Figure 1-7 follows" longdesc="img_text/buffers.html"><br><a href="img_text/buffers.html">Description of "Figure 1-7 Distance Buffers for Points, Lines, and Polygons"</a></div>
                  <!-- class="figure" -->
                  <p>In the point, line, and polygon geometries shown in <a href="spatial-concepts.html#GUID-FA71CB03-FFF0-4529-BA07-AD0605DA7A89__I878990">Figure 1-7</a>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The dashed lines represent distance buffers. Notice how the buffer is rounded near the corners of the objects.</p>
                     </li>
                     <li>
                        <p>The geometry on the right is a polygon with a hole: the large rectangle is the exterior polygon ring and the small rectangle is the interior polygon ring (the hole). The dashed line outside the large rectangle is the buffer for the exterior ring, and the dashed line inside the small rectangle is the buffer for the interior ring.</p>
                     </li>
                  </ul>
                  <p>The <a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator returns a specified number of objects from a geometry column that are closest to a specified geometry (for example, the five closest restaurants to a city park). In determining how close two geometry objects are, the shortest possible distance between any two points on the surface of each object is used.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL464"></a><div class="props_rev_3"><a id="GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244" name="GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244"></a><h3 id="SPATL-GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244" class="sect3"><span class="enumeration_section">1.9 </span>Spatial Operators, Procedures, and Functions
               </h3>
               <div>
                  <p>The Spatial and Graph PL/SQL application programming interface (API) includes several operators and many procedures and functions.</p>
                  <p>Spatial operators, such as <a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a> and <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a>, provide optimum performance because they use the spatial index. (Spatial operators require that the geometry column in the first parameter have a spatial index defined on it.) Spatial operators must be used in the WHERE clause of a query. The first parameter of any operator specifies the geometry column to be searched, and the second parameter specifies a query window. If the query window does not have the same coordinate system as the geometry column, Spatial and Graph performs an implicit coordinate system transformation. For detailed information about the spatial operators, see <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type."> Spatial Operators </a>.
                  </p>
                  <p>Spatial procedures and functions are provided as subprograms in PL/SQL packages, such as SDO_GEOM, SDO_CS, and SDO_LRS. These subprograms do not require that a spatial index be defined, and they do not use a spatial index if it is defined. These subprograms can be used in the WHERE clause or in a subquery. If two geometries are input parameters to a spatial procedure or function, both must have the same coordinate system.</p>
                  <div class="infoboxnote" id="GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244__GUID-4885688C-DB99-431F-9BF0-C75736572819">
                     <p class="notep1">Note:</p>
                     <p>For any numbers in string (VARCHAR2) parameters to Spatial and Graph operators and subprograms, the period (.) must be used for any decimal points regardless of the locale. Example: <code class="codeph">'distance=3.7'</code></p>
                  </div>
                  <p><a id="d9079e2448" class="indexterm-anchor"></a><a id="d9079e2452" class="indexterm-anchor"></a><a id="d9079e2456" class="indexterm-anchor"></a>The following performance-related guidelines apply to the use of spatial operators, procedures, and functions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If an operator and a procedure or function perform comparable operations, and if the operator satisfies your requirements, use the operator. For example, unless you need to do otherwise, use <a href="spatial-operators-reference.html#GUID-97C17C18-F05E-49B4-BE11-E89B972E2A02">SDO_RELATE</a> instead of <a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a>, and use <a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a> instead of <a href="SDO_GEOM-reference.html#GUID-E467CD0E-DFC9-4D83-8469-7A238DDD5139">SDO_GEOM.WITHIN_DISTANCE</a>.
                        </p>
                     </li>
                     <li>
                        <p>With operators, always specify <code class="codeph">TRUE</code> in uppercase. That is, specify <code class="codeph">= 'TRUE'</code>, and do not specify <code class="codeph">&lt;&gt; 'FALSE'</code> or <code class="codeph">= 'true'</code>.
                        </p>
                     </li>
                     <li>
                        <p><a id="d9079e2498" class="indexterm-anchor"></a><a id="d9079e2502" class="indexterm-anchor"></a><a id="d9079e2504" class="indexterm-anchor"></a>With operators, use the <code class="codeph">/*+ ORDERED */</code> optimizer hint if the query window comes from a table. (You must use this hint if multiple windows come from a table.) See the Usage Notes and Examples for specific operators for more information.
                        </p>
                     </li>
                  </ul>
                  <p>For information about using operators with topologies, see <a href="../topol/topology-data-model-overview.html#TOPOL300" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide</span></a>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL130"></a><a id="SPATL1042"></a><a id="SPATL465"></a><div class="props_rev_3"><a id="GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4" name="GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4"></a><h3 id="SPATL-GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4" class="sect3"><span class="enumeration_section">1.10 </span>Spatial Aggregate Functions
               </h3>
               <div>
                  <p>SQL has long had aggregate functions, which are used to aggregate the results of a SQL query.</p>
                  <p>The following example uses the SUM aggregate function to aggregate employee salaries by department:</p><pre class="oac_no_warn" dir="ltr">SELECT SUM(salary), dept
   FROM employees
   GROUP BY dept;
</pre><p>Spatial aggregate functions aggregate the results of SQL queries involving geometry objects. Spatial aggregate functions return a geometry object of type SDO_GEOMETRY. For example, the following statement returns the minimum bounding rectangle of all geometries in a table (using the definitions and data from <a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting, Indexing, and Querying Spatial Data</a>):
                  </p><pre class="oac_no_warn" dir="ltr">SELECT SDO_AGGR_MBR(shape) FROM cola_markets;
</pre><p>The following example returns the union of all geometries except <code class="codeph">cola_d</code>:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT SDO_AGGR_UNION(SDOAGGRTYPE(c.shape, 0.005))
  FROM cola_markets c WHERE c.name &lt;&gt; 'cola_d';
</pre><p>For reference information about the spatial aggregate functions and examples of their use, see the <a href="spatial-aggregate-functions.html#GUID-F6D76405-3876-4834-9FAB-75F97BDF4BD9" title="This chapter contains reference and usage information for the spatial aggregate functions."> Spatial Aggregate Functions</a> reference chapter.
                  </p>
                  <div class="infoboxnote" id="GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4__GUID-375AA0E8-7DE1-4B98-8F10-7D077BA128CF">
                     <p class="notep1">Note:</p>
                     <p>Spatial aggregate functions are supported for two-dimensional geometries only, except for <a href="spatial-aggregate-functions.html#GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2">SDO_AGGR_MBR</a>, which is supported for both two-dimensional and three-dimensional geometries.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6">SDOAGGRTYPE Object Type</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL467"></a><a id="SPATL466"></a><div class="props_rev_3"><a id="GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6" name="GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6"></a><h4 id="SPATL-GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6" class="sect4"><span class="enumeration_section">1.10.1 </span>SDOAGGRTYPE Object Type
                  </h4>
                  <div>
                     <p>Many spatial aggregate functions accept an input parameter of type SDOAGGRTYPE. Oracle Spatial and Graph defines the object type SDOAGGRTYPE as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdoaggrtype AS OBJECT (
 geometry SDO_GEOMETRY,
 tolerance NUMBER);</pre><div class="infoboxnote" id="GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6__GUID-919C1430-1244-48BA-A6B2-1D21CB0CC8AE">
                        <p class="notep1">Note:</p>
                        <p>Do not use SDOAGGRTYPE as the data type for a column in a table. Use this type only in calls to spatial aggregate functions.</p>
                     </div>
                     <p>The <code class="codeph">tolerance</code> value in the SDOAGGRTYPE definition should be the same as the SDO_TOLERANCE value specified in the DIMINFO column in the xxx_SDO_GEOM_METADATA views for the geometries, unless you have a specific reason for wanting a different value. For more information about tolerance, see <a href="spatial-concepts.html#GUID-7469388B-6D23-4294-904F-78CA3B7191D3">Tolerance</a>; for information about the xxx_SDO_GEOM_METADATA views, see <a href="spatial-datatypes-metadata.html#GUID-AEA8FA01-880B-4865-8074-3B6FBD17A5E1" title="The geometry metadata describing the dimensions, lower and upper bounds, and tolerance in each dimension is stored in a global table owned by MDSYS (which users should never directly update). Each Spatial and Graph user has the following views available in the schema associated with that user.">Geometry Metadata Views</a>.
                     </p>
                     <p>The <code class="codeph">tolerance</code> value in the SDOAGGRTYPE definition can affect the result of a spatial aggregate function. <a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6__I885315">Figure 1-8</a> shows a spatial aggregate union (<a href="spatial-aggregate-functions.html#GUID-F562BBD0-5294-43DD-9CDA-0B982BA3E627">SDO_AGGR_UNION</a>) operation of two geometries using two different tolerance values: one smaller and one larger than the distance between the geometries.
                     </p>
                     <div class="figure" id="GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6__I885315">
                        <p class="titleinfigure">Figure 1-8 Tolerance in an Aggregate Union Operation</p><img src="img/tol_union.gif" alt="Description of Figure 1-8 follows" title="Description of Figure 1-8 follows" longdesc="img_text/tol_union.html"><br><a href="img_text/tol_union.html">Description of "Figure 1-8 Tolerance in an Aggregate Union Operation"</a></div>
                     <!-- class="figure" -->
                     <p>In the first aggregate union operation in <a href="spatial-concepts.html#GUID-CE10AB14-D5EA-43BA-A647-DAC9EEF41EE6__I885315">Figure 1-8</a>, where the tolerance is less than the distance between the rectangles, the result is a compound geometry consisting of two rectangles. In the second aggregate union operation, where the tolerance is greater than the distance between the rectangles, the result is a single geometry.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-3BD00273-E74F-4830-9444-A3BB15AA0AC4" title="SQL has long had aggregate functions, which are used to aggregate the results of a SQL query.">Spatial Aggregate Functions</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL469"></a><a id="SPATL1446"></a><a id="SPATL468"></a><div class="props_rev_3"><a id="GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" name="GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A"></a><h3 id="SPATL-GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" class="sect3"><span class="enumeration_section">1.11 </span>Three-Dimensional Spatial Objects
               </h3>
               <div>
                  <p>Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.</p>
                  <p><a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A__BABFDHDH" title="SDO_GEOMETRY Attributes for Three-Dimensional Geometries. Column 1 is Type of 3-D Data, column 2 is SDO_GTYPE, and column 3 is Element Type, Interpretation in SDO_ELEM_INFO.">Table 1-1</a> shows the SDO_GTYPE and element-related attributes of the SDO_GEOMETRY type that are relevant to three-dimensional geometries. (The SDO_GEOMETRY type is explained in <a href="spatial-datatypes-metadata.html#GUID-683FF8C5-A773-4018-932D-2AF6EC8BC119" title="With Spatial and Graph, the geometric description of a spatial object is stored in a single row, in a single column of object type SDO_GEOMETRY in a user-defined table.">SDO_GEOMETRY Object Type</a>.)
                  </p>
                  <div class="tblformal" id="GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A__BABFDHDH">
                     <p class="titleintable">Table 1-1 SDO_GEOMETRY Attributes for Three-Dimensional Geometries</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_GEOMETRY Attributes for Three-Dimensional Geometries" summary="SDO_GEOMETRY Attributes for Three-Dimensional Geometries. Column 1 is Type of 3-D Data, column 2 is SDO_GTYPE, and column 3 is Element Type, Interpretation in SDO_ELEM_INFO." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d9079e2880">Type of 3-D Data</th>
                              <th align="left" valign="bottom" id="d9079e2883">SDO_GTYPE</th>
                              <th align="left" valign="bottom" id="d9079e2886">Element Type, Interpretation in SDO_ELEM_INFO</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2891" headers="d9079e2880 ">
                                 <p>Point</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2891 d9079e2883 ">
                                 <p>3001</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2891 d9079e2886 ">
                                 <p>Does not apply. Specify all 3 dimension values in the SDO_POINT_TYPE attribute.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2901" headers="d9079e2880 ">
                                 <p>Line</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2901 d9079e2883 ">
                                 <p>3002</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2901 d9079e2886 ">
                                 <p>2, 1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2911" headers="d9079e2880 ">
                                 <p>Polygon</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2911 d9079e2883 ">
                                 <p>3003</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2911 d9079e2886 ">
                                 <p>1003, 1: planar exterior polygon</p>
                                 <p>2003, 1: planar interior polygon</p>
                                 <p>1003, 3: planar exterior rectangle</p>
                                 <p>2003, 3: planar interior rectangle</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2927" headers="d9079e2880 ">
                                 <p>Surface</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2927 d9079e2883 ">
                                 <p>3003</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2927 d9079e2886 ">
                                 <p>1006, 1: surface (followed by element information for the polygons)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2937" headers="d9079e2880 ">
                                 <p>Collection</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2937 d9079e2883 ">
                                 <p>3004</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2937 d9079e2886 ">
                                 <p>Same considerations as for two-dimensional</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2947" headers="d9079e2880 ">
                                 <p>Multipoint (point cloud)</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2947 d9079e2883 ">
                                 <p>3005</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2947 d9079e2886 ">
                                 <p>1, <span class="italic">n</span> (where <span class="italic">n</span> is the number of points)
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2963" headers="d9079e2880 ">
                                 <p>Multiline</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2963 d9079e2883 ">
                                 <p>3006</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2963 d9079e2886 ">
                                 <p>2, 1 (same as for Line)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2973" headers="d9079e2880 ">
                                 <p>Multisurface</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2973 d9079e2883 ">
                                 <p>3007</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2973 d9079e2886 ">
                                 <p>Element definitions for one or more surfaces</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2983" headers="d9079e2880 ">
                                 <p>Solid</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2983 d9079e2883 ">
                                 <p>3008</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2983 d9079e2886 ">
                                 <p>Simple solid formed by a single closed surface: one element type 1007, followed by one element type 1006 (the external surface) and optionally one or more element type 2006 (internal surfaces)</p>
                                 <p>Composite solid formed by multiple adjacent simple solids: one element type 1008 (holding the count of simple solids), followed by any number of element type 1007 (each describing one simple solid)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d9079e2995" headers="d9079e2880 ">
                                 <p>Multisolid</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2995 d9079e2883 ">
                                 <p>3009</p>
                              </td>
                              <td align="left" valign="top" headers="d9079e2995 d9079e2886 ">
                                 <p>Element definitions for one or more simple solids (element type 1007) or composite solids (element type 1008)</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>The following spatial operators consider all three dimensions in their computations:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-A0695FED-9497-4896-95FB-A90E28B38C7F">SDO_ANYINTERACT</a></p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a></p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-0080FCAB-C640-4E50-9639-9EE273E411FB">SDO_INSIDE</a> (for solid geometries only)
                        </p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a></p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a></p>
                     </li>
                  </ul>
                  <p>The other operators consider only the first two dimensions. For some of preceding operators the height information is ignored when dealing with geodetic data, as explained later in this section. (Spatial operators are described in <a href="spatial-operators-reference.html#GUID-85422854-5133-4F1D-BF0E-228CA6EDAF87" title="This chapter describes the operators that you can use when working with the spatial object data type."> Spatial Operators </a>.)
                  </p>
                  <p>The <a href="SDO_GEOM-reference.html#GUID-0BF308CC-39A7-489C-B7AA-997927D684CC">SDO_GEOM.SDO_VOLUME</a> function applies only to solid geometries, which are by definition three-dimensional; however, this function cannot be used with geodetic data. For information about support for three-dimensional geometries with other SDO_GEOM subprograms, see the usage information in <a href="SDO_GEOM-reference.html#GUID-0D52F048-18B4-4A2C-B5BF-6A5F6BD3E113" title="The MDSIS.SDO_GEOM package contains subprograms for working with geometry objects.">SDO_GEOM Package (Geometry)</a>.
                  </p>
                  <p>For distance computations with three-dimensional geometries:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the data is geodetic (geographic 3D), the distance computations are done on the geodetic surface.</p>
                     </li>
                     <li>
                        <p>If the data is non-geodetic (projected or local), the distance computations are valid only if the unit of measure is the same for all three dimensions.</p>
                     </li>
                  </ul>
                  <p>To have any functions, procedures, or operators consider all three dimensions, you must specify <code class="codeph">PARAMETERS ('sdo_indx_dims=3')</code> in the <a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a> statement when you create the spatial index on a spatial table containing Geographic3D data (longitude, latitude, ellipsoidal height). If you do not specify that parameter in the <a href="sql-indexing-spatial-data.html#GUID-BB6D7C9E-277B-4F49-BDD4-539CFE88D12C">CREATE INDEX</a> statement, a two-dimensional index is created.
                  </p>
                  <p>For spatial functions, procedures, and operators that consider all three dimensions, distance and length computations correctly factor in the height or elevation. For example, consider two three-dimensional points, one at the origin of a Cartesian space (0,0,0), and the other at X=3 on the Y axis and a height (Z) of 4 (3,0,4).</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the operation considers all three dimensions, the distance between the two points is 5. (Think of the hypotenuse of a 3-4-5 right triangle.)</p>
                     </li>
                     <li>
                        <p>If the operation considers only two dimensions, the distance between the two points is 3. (That is, the third dimension, or height, is ignored.)</p>
                     </li>
                  </ul>
                  <p>However, for the following operators and subprograms, when dealing with geodetic data, the distances with three-dimensional geometries are computed between the "ground" representations (for example, the longitude/latitude extent of the footprint of a building), and the height information is approximated:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-41E6B1FA-1A03-480B-996F-830E8566661D">SDO_NN</a> operator
                        </p>
                     </li>
                     <li>
                        <p><a href="spatial-operators-reference.html#GUID-682B258F-1604-4BE8-824D-F6E05376E7EC">SDO_WITHIN_DISTANCE</a> operator
                        </p>
                     </li>
                     <li>
                        <p><a href="SDO_GEOM-reference.html#GUID-EC93D8DA-F207-460F-A85A-AA50B92385EC">SDO_GEOM.SDO_DISTANCE</a> function
                        </p>
                     </li>
                     <li>
                        <p><a href="SDO_GEOM-reference.html#GUID-E467CD0E-DFC9-4D83-8469-7A238DDD5139">SDO_GEOM.WITHIN_DISTANCE</a> function
                        </p>
                     </li>
                  </ul>
                  <p>For a two-dimensional query window with three-dimensional data, you can use the <a href="spatial-operators-reference.html#GUID-9AB42477-D0C0-4A87-826F-1BDDF1CA1FE5">SDO_FILTER</a> operator, but not any other spatial operators.
                  </p>
                  <p>For examples of creating different types of three-dimensional spatial geometries, see <a href="spatial-datatypes-metadata.html#GUID-C709FFCF-39BE-49A8-842F-0AB41A782ACE">Three-Dimensional Geometry Types</a>. That section also includes an example showing how to update the spatial metadata and create spatial indexes for three-dimensional geometries.
                  </p>
                  <p>For information about support for three-dimensional coordinate reference systems, see <a href="coordinate-systems-concepts.html#GUID-15FBE081-AD2E-4316-84A7-14BCDD25C7AF" title="The Oracle Spatial and Graph support for three-dimensional coordinate reference systems complies with the EPSG model.">Three-Dimensional Coordinate Reference System Support</a>.
                  </p>
                  <p>Three-dimensional support does not apply to many spatial aggregate functions and PL/SQL packages and subprograms. The following are supported for two-dimensional geometries only:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Spatial aggregate functions, except for <a href="spatial-aggregate-functions.html#GUID-8D10FCCD-5FDD-44F0-B330-D1CE07D5C6B2">SDO_AGGR_MBR</a>, which is supported for both two-dimensional and three-dimensional geometries.
                        </p>
                     </li>
                     <li>
                        <p>SDO_GEOM (geometry) subprograms, except for the following, which are supported for both two-dimensional and three-dimensional geometries: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-E1209A71-F5D8-42A9-A93E-72657B115579">SDO_GEOM.RELATE</a> with the ANYINTERACT mask
                              </p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-735F96FF-E3C9-4045-98C9-68E0A219478D">SDO_GEOM.SDO_AREA</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-EC93D8DA-F207-460F-A85A-AA50B92385EC">SDO_GEOM.SDO_DISTANCE</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-023C4905-41CD-4752-9306-3E3D48003706">SDO_GEOM.SDO_LENGTH</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-19DF7A4F-9C7A-43FC-9E3B-5AC59050AA8D">SDO_GEOM.SDO_MAX_MBR_ORDINATE</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-646638D0-2C5F-490A-AF63-DE9B7A4C97C1">SDO_GEOM.SDO_MBR</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-3C0C4B2F-96FE-4FE7-921C-ED7B42E1305B">SDO_GEOM.SDO_MIN_MBR_ORDINATE</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-0BF308CC-39A7-489C-B7AA-997927D684CC">SDO_GEOM.SDO_VOLUME</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-D909C540-8CED-453D-AEA6-0212D09F1781">SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT</a></p>
                           </li>
                           <li>
                              <p><a href="SDO_GEOM-reference.html#GUID-E467CD0E-DFC9-4D83-8469-7A238DDD5139">SDO_GEOM.WITHIN_DISTANCE</a></p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>SDO_SAM (spatial analysis and mining) subprograms</p>
                     </li>
                     <li>
                        <p><a href="SDO_MIGRATE-reference.html#GUID-83196024-5E64-4DA7-A588-0A31717FF150">SDO_MIGRATE.TO_CURRENT</a> procedure
                        </p>
                     </li>
                  </ul>
                  <p><a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A__BHCFEGJF" title="How geodetic calculations are performed for various operations. Column 1 is Type of Calculation, and column 2 is Internal Calculations Performed.">Table 1-2</a> describes how Oracle Spatial and Graph internally performs certain <span class="italic"><span class="bold">geodetic</span></span> three-dimensional calculations.
                  </p>
                  <div class="tblformal" id="GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A__BHCFEGJF">
                     <p class="titleintable">Table 1-2 How Geodetic 3D Calculations Are Performed</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="How Geodetic 3D Calculations Are Performed" summary="How geodetic calculations are performed for various operations. Column 1 is Type of Calculation, and column 2 is Internal Calculations Performed." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d9079e3233">Type of Calculation</th>
                              <th align="left" valign="bottom" width="76%" id="d9079e3236">Internal Calculations Performed</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d9079e3241" headers="d9079e3233 ">
                                 <p>ANYINTERACT</p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d9079e3241 d9079e3236 ">
                                 <p>The input geometries are transformed using Gnomonic transformation; then the ANYINTERACT relationship is computed with the resulting geometries.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d9079e3248" headers="d9079e3233 ">
                                 <p>Area</p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d9079e3248 d9079e3236 ">
                                 <p>The input geometry is projected onto a local tangent plane; then the area is computed with the resulting input geometry.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d9079e3255" headers="d9079e3233 ">
                                 <p>Distance or Length</p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d9079e3255 d9079e3236 ">
                                 <p>The 2D precise ellipsoidal distance is computed using the longitude/latitude of the two closest points of approach; then the height or length difference is included using an approximation.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d9079e3262" headers="d9079e3233 ">
                                 <p>Volume</p>
                              </td>
                              <td align="left" valign="top" width="76%" headers="d9079e3262 d9079e3236 ">
                                 <p>The input geometry is projected onto a local tangent plane; then the volume is computed with the resulting input geometry.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB">Modeling Surfaces</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3">Modeling Solids</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-73A39253-BDBE-499D-BCE9-F40A18B817F9">Three-Dimensional Optimized Rectangles</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA">Using Texture Data</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-FFA9D5FA-9403-4D57-8ABE-77C5B45320D6">Validation Checks for Three-Dimensional Geometries</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               <a id="SPATL470"></a><div class="props_rev_3"><a id="GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB" name="GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB"></a><h4 id="SPATL-GUID-0984BFE8-962A-4E87-87A8-FDBF3AFBCCDB" class="sect4"><span class="enumeration_section">1.11.1 </span>Modeling Surfaces
                  </h4>
                  <div>
                     <p>A surface contains an area but not a volume, and it can have two or three dimensions. A surface is often constructed by a set of planar regions.</p>
                     <p>Surfaces can be modeled as surface-type SDO_GEOMETRY objects or, if they are very large, as SDO_TIN objects. The surface-type in SDO_GEOMETRY can be an arbitrary surface defining a contiguous area bounded by adjacent three-dimensional polygons. The number of polygons in the SDO_GEOMETRY is limited by the number of ordinates that can be in the SDO_ORDINATES_ARRAY. An SDO_TIN object, on the other hand, models the surface as a network of triangles with no explicit limit on the number of triangles.</p>
                     <p><a id="d9079e3382" class="indexterm-anchor"></a><a id="d9079e3384" class="indexterm-anchor"></a>Surfaces are stored as a network of triangles, called triangulated irregular networks, or <span class="bold">TINs</span>. The TIN model represents a surface as a set of contiguous, non-overlapping triangles. Within each triangle the surface is represented by a plane. The triangles are made from a set of points called mass points. If mass points are carefully selected, the TIN represents an accurate representation of the model of the surface. Well-placed mass points occur where there is a major change in the shape of the surface, for example, at the peak of a mountain, the floor of a valley, or at the edge (top and bottom) of cliffs.
                     </p>
                     <p>TINs are generally computed from a set of three-dimensional points specifying coordinate values in the longitude (x), latitude (y), and elevation (z) dimensions. Oracle TIN generation software uses the Delaunay triangulation algorithm, but it is not required that TIN data be formed using only Delaunay triangulation techniques.</p>
                     <p>The general process for working with a TIN is as follows:</p>
                     <ol>
                        <li>
                           <p>Initialize the TIN, using the <a href="SDO_TIN_PKG-reference.html#GUID-0EF36ACE-1A34-45A5-93AA-8AC794B1F1E6">SDO_TIN_PKG.INIT</a> function.
                           </p>
                        </li>
                        <li>
                           <p>Create the TIN, using the <a href="SDO_TIN_PKG-reference.html#GUID-088CFF52-91B0-43A3-9195-812D32201A66">SDO_TIN_PKG.CREATE_TIN</a> procedure.
                           </p>
                        </li>
                        <li>
                           <p>As needed for queries, clip the TIN, using the <a href="SDO_TIN_PKG-reference.html#GUID-878FD6C7-56EA-4B38-A428-2099ABDC185F">SDO_TIN_PKG.CLIP_TIN</a> function.
                           </p>
                        </li>
                        <li>
                           <p>If necessary, use the <a href="SDO_TIN_PKG-reference.html#GUID-5AEA8578-CE7A-4C94-AAEB-9E12B33B82CD">SDO_TIN_PKG.TO_GEOMETRY</a> function (for example, to convert the result of a clip operation into a single SDO_GEOMETRY object).
                           </p>
                        </li>
                     </ol>
                     <p>For a Java example of working with TINs, see the following files:</p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/md/demo/TIN/examples/java/README.txt
$ORACLE_HOME/md/demo/TIN/examples/java/readTIN.java</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL472"></a><a id="SPATL471"></a><div class="props_rev_3"><a id="GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3" name="GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3"></a><h4 id="SPATL-GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3" class="sect4"><span class="enumeration_section">1.11.2 </span>Modeling Solids
                  </h4>
                  <div>
                     <p>The simplest types of solids can be represented as cuboids, such as a cube or a brick. A more complex solid is a <span class="bold">frustum</span>, which is a pyramid formed by cutting a larger pyramid (with three or more faces) by a plane parallel to the base of that pyramid. Frustums are sometimes used as query windows to spatial operators. Frustums and cubes are typically modeled as solid-type SDO_GEOMETRY objects. <a href="spatial-concepts.html#GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3__BABDBFII">Figure 1-9</a> shows a frustum as a query window, with two spatial objects at different distances from the view point.
                     </p>
                     <div class="figure" id="GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3__BABDBFII">
                        <p class="titleinfigure">Figure 1-9 Frustum as Query Window for Spatial Objects</p><img src="img/frustum_view.gif" alt="Description of Figure 1-9 follows" title="Description of Figure 1-9 follows" longdesc="img_text/frustum_view.html"><br><a href="img_text/frustum_view.html">Description of "Figure 1-9 Frustum as Query Window for Spatial Objects"</a></div>
                     <!-- class="figure" -->
                     <p><a id="d9079e3522" class="indexterm-anchor"></a><span class="bold">Point clouds</span>, which are large collections of points, can sometimes be used to model the shape or structure of solid and surface geometries. Most applications that use point cloud data contain queries based on location. Applications can also go outside Spatial and Graph to add visibility logic to perform queries based on both location and visibility.
                     </p>
                     <p>Most applications that use point cloud data seek to minimize data transfer by retrieving objects based on their distance from a view point. For example, in <a href="spatial-concepts.html#GUID-06B8E15C-C0F3-471C-8BA8-E93C651C18B3__BABDBFII">Figure 1-9</a>, object B is farther from the view point than object A, and therefore the application might retrieve object A in great detail (high resolution) and object B in less detail (low resolution). In most scenarios, the number of objects or points increases significantly as the distance from the view point increases; and if farther objects are retrieved at lower resolutions than nearer objects, the number of bytes returned by the query and the rendering time for the objects decrease significantly.
                     </p>
                     <p>For storage of point cloud data, you can use either an SDO_PC object or is a flat table. The approach to use depends on your hardware environment and usage patterns. An advantage of the flat format is its efficient and dynamic nature, because updates to the point data do not require reblocking.</p>
                     <p>The general process for working with a point cloud is as follows, depending on whether the point cloud data will be stored in an SDO_PC object or in a flat table.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>To use point cloud data stored as an SDO_PC object:</p>
                           <ol>
                              <li>
                                 <p>Initialize the point cloud, using the <a href="SDO_PC_PKG-reference.html#GUID-6F67239D-3C8F-4360-A973-2E1B58C23065">SDO_PC_PKG.INIT</a> function.
                                 </p>
                              </li>
                              <li>
                                 <p>Create the point cloud, using the <a href="SDO_PC_PKG-reference.html#GUID-E4BE0857-F580-47AE-9E99-443B01D62940">SDO_PC_PKG.CREATE_PC</a> procedure.
                                 </p>
                              </li>
                              <li>
                                 <p>As needed for queries, clip the point cloud, using the <a href="SDO_PC_PKG-reference.html#GUID-6E652233-209D-4172-B738-0544898BCA1D">SDO_PC_PKG.CLIP_PC</a> function.
                                 </p>
                              </li>
                              <li>
                                 <p>If necessary, use the <a href="SDO_PC_PKG-reference.html#GUID-197ABD88-0CB9-45B2-82D6-5DBBB98B6547">SDO_PC_PKG.TO_GEOMETRY</a> function (for example, to convert the result of a clip operation into a single SDO_GEOMETRY object).
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>To use point cloud data stored in a flat table:</p>
                           <ol>
                              <li>
                                 <p>Create the table (or a view based on an appropriate table) for the point cloud data.</p>
                                 <p>Each row will contain the values of the first three spatial dimensions of a point, and optionally values for nonspatial dimensions. The table or view definition must start with the following columns: VAL_D1 NUMBER, VAL_D2 NUMBER, VAL_D3 NUMBER. It can also contain columns for point cloud nonspatial dimensions.</p>
                              </li>
                              <li>
                                 <p>Populate the table with point data.</p>
                              </li>
                              <li>
                                 <p>As needed for queries, clip the point cloud, using the <a href="SDO_PC_PKG-reference.html#GUID-888DDB41-6FDB-454B-B6A3-F48776034A44">SDO_PC_PKG.CLIP_PC_FLAT</a> function.
                                 </p>
                              </li>
                           </ol>
                        </li>
                     </ul>
                     <p>For a Java example of working with point clouds, see the following files:</p><pre class="oac_no_warn" dir="ltr">$ORACLE_HOME/md/demo/PointCloud/examples/java/README.txt
$ORACLE_HOME/md/demo/PointCloud/examples/java/readPointCloud.java</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL473"></a><div class="props_rev_3"><a id="GUID-73A39253-BDBE-499D-BCE9-F40A18B817F9" name="GUID-73A39253-BDBE-499D-BCE9-F40A18B817F9"></a><h4 id="SPATL-GUID-73A39253-BDBE-499D-BCE9-F40A18B817F9" class="sect4"><span class="enumeration_section">1.11.3 </span>Three-Dimensional Optimized Rectangles
                  </h4>
                  <div>
                     <p><a id="d9079e3664" class="indexterm-anchor"></a><a id="d9079e3668" class="indexterm-anchor"></a>Instead of specifying all the vertices for a three-dimensional rectangle (a polygon in the shape of rectangle in three-dimensional space), you can represent the rectangle by specifying just the two corners corresponding to the minimum ordinate values (<span class="italic">min-corner</span>) and the maximum ordinate values (<span class="italic">max-corner</span>) for the X, Y, and Z dimensions.
                     </p>
                     <p>The orientation of a three-dimensional rectangle defined in this way is as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the rectangle is specified as <span class="italic">&lt;min-corner, max-corner&gt;</span>, the normal points in the positive direction of the perpendicular third dimension.
                           </p>
                        </li>
                        <li>
                           <p>If the rectangle is specified as <span class="italic">&lt;max-corner, min-corner&gt;</span>, the normal points in the negative direction of the perpendicular third dimension.
                           </p>
                        </li>
                     </ul>
                     <p>For example, if the rectangle is in the XY plane and the order of the vertices is <span class="italic">&lt;min-corner, max-corner&gt;</span>, the normal is along the positive Z-axis; but if the order is <span class="italic">&lt;max-corner, min-corner&gt;</span>, the normal is along the negative Z-axis.
                     </p>
                     <p>Using these orientation rules for rectangles, you can specify the order of the <span class="italic">min-corner</span> and <span class="italic">max-corner</span> vertices for a rectangle appropriately so that the following requirements are met:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The normal for each polygon in a solid always points outward from the solid when the rectangle is part of the solid.</p>
                        </li>
                        <li>
                           <p>An inner rectangle polygon is oriented in the reverse direction as its outer when the rectangle is part of a surface.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="SPATL1406"></a><a id="SPATL1407"></a><a id="SPATL1408"></a><a id="SPATL1405"></a><div class="props_rev_3"><a id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA" name="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA"></a><h4 id="SPATL-GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA" class="sect4"><span class="enumeration_section">1.11.4 </span>Using Texture Data
                  </h4>
                  <div>
                     <div class="infoboxnote" id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__GUID-F2A9AECA-422F-4E13-AA9F-249A5A3486C3">
                        <p class="notep1">Note:</p>
                        <p>This section describes concepts that you will need to understand for using texture data with Spatial and Graph. However, the texture metadata is not yet fully implemented in Oracle Spatial and Graph, and a viewer is not yet supported. This section will be updated when texture support is released.</p>
                     </div>
                     <p>A <span class="bold">texture</span> is an image that represents one or more parts of a feature. Textures are commonly used with visualizer applications (viewers) that display objects stored as spatial geometries. For example, a viewer might display an office building (three-dimensional solid) using textures, to allow a more realistic visualization than using just colors. Textures can be used with two-dimensional and three-dimensional geometries.
                     </p>
                     <p>In the simplest case, a rectangular geometry can be draped with a texture bitmap. However, often only a subregion of a texture bitmap is used, as in the following example cases:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the texture bitmap contains multiple sides of the same building, as well as the roof and roof gables. In this case, each bitmap portion is draped over one of the geometry faces.</p>
                        </li>
                        <li>
                           <p>If the texture bitmap represents a single panel or window on the building surface, and a geometric face represents a wall with 15 such panels or windows (five on each of three floors). In this case, the single texture bitmap is tiled 15 times over the face.</p>
                        </li>
                        <li>
                           <p>If the face is non-rectangular sub-faces, such as roof gables. In this case, only a portion (possible triangular) of the texture bitmap is used.</p>
                        </li>
                     </ul>
                     <p><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">Figure 1-10</a> shows a large rectangular surface that, when viewed, appears to consist of three textures, each of which is repeated multiple times in various places on the surface.
                     </p>
                     <div class="figure" id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">
                        <p class="titleinfigure">Figure 1-10 Faces and Textures</p><img src="img/textures_2.gif" alt="Description of Figure 1-10 follows" title="Description of Figure 1-10 follows" longdesc="img_text/textures_2.html"><br><a href="img_text/textures_2.html">Description of "Figure 1-10 Faces and Textures"</a></div>
                     <!-- class="figure" -->
                     <p>As shown in <a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">Figure 1-10</a>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The entire image is a large surface that consists of 12 smaller rectangular faces (surface geometries), each of which can be represented by one of three images (labeled A, B, and C).</p>
                        </li>
                        <li>
                           <p>Three texture bitmaps (labeled A, B, and C) can be used to visualize all of the faces. In this case, bitmap A is used 3 times, bitmap B is used 6 times, and bitmap C is used 3 times.</p>
                        </li>
                     </ul>
                     <p><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGHCCG">Figure 1-11</a> shows a texture bitmap mapped to a triangular face.
                     </p>
                     <div class="figure" id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGHCCG">
                        <p class="titleinfigure">Figure 1-11 Texture Mapped to a Face</p><img src="img/textures_3.gif" alt="Description of Figure 1-11 follows" title="Description of Figure 1-11 follows" longdesc="img_text/textures_3.html"><br><a href="img_text/textures_3.html">Description of "Figure 1-11 Texture Mapped to a Face"</a></div>
                     <!-- class="figure" -->
                     <p>As shown in <a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGHCCG">Figure 1-11</a>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The face (surface geometry) is a triangle. (For example, a side or roof of a building may contain several occurrences of this face.)</p>
                        </li>
                        <li>
                           <p>The texture bitmap (image) is a rectangle, shown in the box in the middle.</p>
                        </li>
                        <li>
                           <p>A portion of the texture bitmap represents an image of the face. This portion is shown by a dashed line in the box on the right.</p>
                           <p>In your application, you will need to specify coordinates within the texture bitmap to map the appropriate portion to the face geometry.</p>
                        </li>
                     </ul>
                     <p>To minimize the storage requirements for image data representing surfaces, you should store images for only the distinct textures that will be needed. The data type for storing a texture is SDO_ORDINATE_ARRAY, which is used in the SDO_GEOMETRY type definition (explained in <a href="spatial-datatypes-metadata.html#GUID-683FF8C5-A773-4018-932D-2AF6EC8BC119" title="With Spatial and Graph, the geometric description of a spatial object is stored in a single row, in a single column of object type SDO_GEOMETRY in a user-defined table.">SDO_GEOMETRY Object Type</a>).
                     </p>
                     <p>For example, assume that the large surface in <a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">Figure 1-10</a> has the following definition:
                     </p><pre class="oac_no_warn" dir="ltr">SDO_GEOMETRY(
  2003,  -- two-dimensional polygon
  NULL,
  NULL,
  SDO_ELEM_INFO_ARRAY(1,1003,1), -- one polygon (exterior polygon ring)
  SDO_ORDINATE_ARRAY(1,1. 1,13, 13,13, 1,13, 1,1)
)
</pre><p>Assume that you have a MY_TEXTURE_COORDINATES table with the following definition:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE my_texture_coordinates (
  texture_coord_id NUMBER PRIMARY KEY,
  texture_name VARCHAR2(32),
  texture_coordinates SDO_ORDINATE_ARRAY);
</pre><p><a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGDAGE">Example 1-1</a> inserts three texture coordinate definitions into this table. For each texture, its coordinates reflect one of the appropriate smaller rectangles shown in <a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">Figure 1-10</a>; however, you can choose any one of the appropriate rectangles for each texture. In <a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGDAGE">Example 1-1</a>, the SDO_ORDINATE_ARRAY definitions for each texture reflect a polygon near the top of <a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABBFEEH">Figure 1-10</a>.
                     </p>
                     <div class="example" id="GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA__BABGDAGE">
                        <p class="titleinexample">Example 1-1 Inserting Texture Coordinate Definitions</p><pre class="oac_no_warn" dir="ltr">INSERT INTO my_texture_coordinates VALUES(
  1,
  'Texture_A',
   SDO_ORDINATE_ARRAY(1,9, 1,5, 5,12, 1,12, 1,9)
  );
 
INSERT INTO my_texture_coordinates VALUES(
  2,
  'Texture_B', 
  SDO_ORDINATE_ARRAY(5,9, 9,9, 9,12, 5,12, 5,9)
  );
 
INSERT INTO my_texture_coordinates VALUES(
  3,
  'Texture_C', 
  SDO_ORDINATE_ARRAY(1,12, 13,12, 13,13, 1,13, 1,12)
  );</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="spatial-concepts.html#GUID-B51DE18F-33B3-453D-86D2-973998A86C2E">Schema Considerations with Texture Data</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="SPATL1410"></a><a id="SPATL1409"></a><div class="props_rev_3"><a id="GUID-B51DE18F-33B3-453D-86D2-973998A86C2E" name="GUID-B51DE18F-33B3-453D-86D2-973998A86C2E"></a><h5 id="SPATL-GUID-B51DE18F-33B3-453D-86D2-973998A86C2E" class="sect5"><span class="enumeration_section">1.11.4.1 </span>Schema Considerations with Texture Data
                     </h5>
                     <div>
                        <p>Texture bitmaps (stored as BLOBs or as URLs in VARCHAR2 format) and texture coordinate arrays (stored using type SDO_ORDINATE_ARRAY) can be stored in the same table as the SDO_GEOMETRY column or in separate tables; however, especially for the texture bitmaps, it is usually better to use separate tables. Texture bitmaps are likely to be able to be shared among features (such as different office buildings), but texture coordinate definitions are less likely to be sharable among features. (For example, many office buildings may share the same general type of glass exterior, but few of the buildings have the same number of windows and floors. In designing your textures and applications, you must consider how many buildings use the same texture subregion or drape the texture in the same size of repetitive matrix.)</p>
                        <p>An exception is a texture coordinate array that drapes an entire texture bitmap over a rectangular geometric face. In this case, the texture coordinate array can be specified as (0,0, 1,0, 1,1, 0,1, 1,1), defined by vertices "lower left", "lower right", "upper right", "upper left", and closing with "lower left". Many data sets use this texture coordinate array extensively, because they have primarily rectangular faces and they store one facade for each texture bitmap.</p>
                        <p>If you used separate tables, you could link them to the surface geometries using foreign keys, as in <a href="spatial-concepts.html#GUID-B51DE18F-33B3-453D-86D2-973998A86C2E__BABFDAIF">Example 1-2</a>.
                        </p>
                        <div class="example" id="GUID-B51DE18F-33B3-453D-86D2-973998A86C2E__BABFDAIF">
                           <p class="titleinexample">Example 1-2 Creating Tables for Texture Coordinates, Textures, and Surfaces</p><pre class="oac_no_warn" dir="ltr">-- One row for each texture coordinates definition.
CREATE TABLE my_texture_coordinates (
  texture_coord_id NUMBER PRIMARY KEY,
  texture_coordinates SDO_ORDINATE_ARRAY);
 
-- One row for each texture.
CREATE TABLE my_textures(
  texture_id NUMBER PRIMARY KEY,
  texture BLOB);
 
-- One row for each surface (each individual "piece" of a 
-- potentially larger surface).
CREATE TABLE my_surfaces(
  surface_id NUMBER PRIMARY KEY,
  surface_geometry SDO_GEOMETRY,
  texture_id NUMBER,
  texture_coord_id NUMBER,
  CONSTRAINT texture_id_fk 
    FOREIGN KEY (texture_id) REFERENCES my_textures(texture_id),
  CONSTRAINT texture_coord_id_fk 
    FOREIGN KEY (texture_coord_id) REFERENCES 
      my_texture_coordinates(texture_coord_id));</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-7BFE95C7-DA1F-46EF-9153-E64B80D315EA">Using Texture Data</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="SPATL474"></a><div class="props_rev_3"><a id="GUID-FFA9D5FA-9403-4D57-8ABE-77C5B45320D6" name="GUID-FFA9D5FA-9403-4D57-8ABE-77C5B45320D6"></a><h4 id="SPATL-GUID-FFA9D5FA-9403-4D57-8ABE-77C5B45320D6" class="sect4"><span class="enumeration_section">1.11.5 </span>Validation Checks for Three-Dimensional Geometries
                  </h4>
                  <div>
                     <p>The <a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a> and <a href="SDO_GEOM-reference.html#GUID-D909C540-8CED-453D-AEA6-0212D09F1781">SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT</a> subprograms can validate two-dimensional and three-dimensional geometries. For a three-dimensional geometry, these subprograms perform any necessary checks on any two-dimensional geometries (see the Usage Notes for <a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a>) within the overall three-dimensional geometry, but also several checks specific to the three-dimensional nature of the overall object.
                     </p>
                     <p>For a simple solid (one outer surface and any number of inner surfaces), these subprograms perform the following checks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Closedness: The solid must be closed.</p>
                        </li>
                        <li>
                           <p>Reachability: Each face of a solid must have a full-edge intersection with its neighboring faces, and all faces must be reachable from any face. (However, inner shells are ignored, because inner shells can, by definition, be not connected to the other shells.)</p>
                        </li>
                        <li>
                           <p>Inner-outer disjointedness: An inner surface must not intersect the outer surface at more than a point or a line; that is, there must be no overlapping areas with inner surfaces.</p>
                        </li>
                        <li>
                           <p>No surface patch: No additional surfaces can be defined on the surfaces that make up the solid.</p>
                        </li>
                        <li>
                           <p><a id="d9079e4060" class="indexterm-anchor"></a><a id="d9079e4062" class="indexterm-anchor"></a>Orientation: For all surfaces, the vertices must be aligned so that the normal vector (or surface normal, or "the normal") points to the outside of (away from) the outer solid. Thus, the volume of the outer solid must be greater than zero, and the volume of any inner solid must be less than zero.
                           </p>
                        </li>
                     </ul>
                     <p>For a composite solid (one or more solids connected to each other), these subprograms perform the following checks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Connectedness: All solids of a composite solid must share at least one face.</p>
                        </li>
                        <li>
                           <p>Zero-volume intersections: Any intersections of the solids in a composite solid must have a volume of zero.</p>
                        </li>
                     </ul>
                     <p>For a multisolid (one or more solids, each of which is a simple or composite solid), these subprograms perform the following check:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Disjointedness: Any two solids of a multisolid can share points or lines, but must not intersect in any other manner.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-6F3A9C6E-3617-47D9-AE61-CF9F1770555A" title="Oracle Spatial and Graph supports the storage and retrieval of three-dimensional spatial data, which can include points, point clouds (collections of points), lines, polygons, surfaces, and solids.">Three-Dimensional Spatial Objects</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL475"></a><div class="props_rev_3"><a id="GUID-DDCFF26D-19E0-41FC-9ADC-F742AB651CB2" name="GUID-DDCFF26D-19E0-41FC-9ADC-F742AB651CB2"></a><h3 id="SPATL-GUID-DDCFF26D-19E0-41FC-9ADC-F742AB651CB2" class="sect3"><span class="enumeration_section">1.12 </span>Geocoding
               </h3>
               <div>
                  <p><span class="bold">Geocoding</span> is the process of converting tables of address data into standardized address, location, and possibly other data.
                  </p>
                  <p>The result of a geocoding operation includes the pair of longitude and latitude coordinates that correspond with the input address or location. For example, if the input address is <span class="italic">22 Monument Square, Concord, MA 01742</span>, the longitude and latitude coordinates in the result of the geocoding operation may be (depending on the geocoding data provider) -71.34937 and 42.46101, respectively.
                  </p>
                  <p>Given a geocoded address, you can perform proximity or location queries using a spatial engine, such as Oracle Spatial and Graph, or demographic analysis using tools and data from Oracle's business partners. In addition, you can use geocoded data with other spatial data such as block group, postal code, and county code for association with demographic information. Results of analyses or queries can be presented as maps, in addition to tabular formats, using third-party software integrated with Oracle Spatial and Graph.</p>
                  <p>For conceptual and usage information about the geocoding capabilities of Oracle Spatial and Graph, see <a href="geocoding-address-data-concepts.html#GUID-8240D09F-D705-472C-9603-336AA362D41B" title="Geocoding is the process of associating spatial locations (longitude and latitude coordinates) with postal addresses."> Geocoding Address Data</a>. For reference information about the MDSYS.SDO_GCDR PL/SQL package, see <a href="SDO_GCDR-reference.html#GUID-74DA21CB-D78A-40C7-88CF-65EE41310349" title="The MDSYS.SDO_GCDR package contains subprograms for performing geocoding."> SDO_GCDR Package (Geocoding) </a>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" name="GUID-1319B328-0F3E-4202-868C-B7435E4FA98F"></a><h3 id="SPATL-GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" class="sect3"><span class="enumeration_section">1.13 </span>Location Data Enrichment
               </h3>
               <div>
                  <p>Oracle Spatial and Graph includes a place name data set, with hierarchical geographical data from HERE, that you can load into the database.</p>
                  <p>You can then then search this place name data set using the <a href="SDO_UTIL-reference.html#GUID-49677E42-B9C3-4790-9931-0F96CD6F1113">SDO_UTIL.GEO_SEARCH</a> function. The data set includes commonly used textual location data such as place names, addresses and partial addresses, and latitude and longitude information.
                  </p>
                  <p>Location tags are extracted from text data, and are matched with well known place names using Oracle Text and enhanced with other geographic information associated with the well known place names.</p>
                  <p>The results can be stored as additional attributes with the original data.</p>
                  <p>This feature enables you to process less structured geographic and location data so that the information can be categorized, compared, filtered, and associated with other data. For example, data with only partial names can be enriched to include city, county, state, and country, allowing it to be joined or analyzed with other data sets that may have state level information. This is especially useful when comparing Big Data results with structured information in operational systems and data warehouses.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-1319B328-0F3E-4202-868C-B7435E4FA98F__GUID-CD1F7468-B689-4A93-824A-40778D43B1AD">Setting Up and Using Location Data Enrichment Support</p>
                     <p>To use the location data enrichment support, you just perform certain setup actions, such as editing scripts that will create the necessary database objects and load the data set into Oracle Database, and running those scripts.</p>
                     <ol>
                        <li>
                           <p>Go to <code class="codeph">$ORACLE_HOME//md/demo/GeoSearch</code>, which contains all the required files.
                           </p>
                        </li>
                        <li>
                           <p>Read the <code class="codeph">README</code> file, a text file containing an overview of the basic steps.
                           </p>
                        </li>
                        <li>
                           <p>Perform the actions indicated in the <code class="codeph">README</code> file.
                           </p>
                           <p>These actions include reading the <code class="codeph">LICENSES.TXT</code> file, creating a single zip file from split files, editing the <code class="codeph">load_data.sql</code> and <code class="codeph">create_index.sql</code> script files (which contain explanatory comments), and running those scripts.
                           </p>
                        </li>
                     </ol>
                     <p>The <code class="codeph">create_index.sql</code> file includes some example queries using the <a href="SDO_UTIL-reference.html#GUID-49677E42-B9C3-4790-9931-0F96CD6F1113">SDO_UTIL.GEO_SEARCH</a> function. You can use those examples, plus the <a href="SDO_UTIL-reference.html#GUID-49677E42-B9C3-4790-9931-0F96CD6F1113">SDO_UTIL.GEO_SEARCH</a> reference and usage information, to develop your own uses of the location data enrichment support.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29">ELOC_ADMIN_AREA_SEARCH Table</a><br></li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-7A7BF2EB-17A7-42FD-A170-83E02BD5375A">Adding User Data to the Geographic Name Hierarchy</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29" name="GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29"></a><h4 id="SPATL-GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29" class="sect4"><span class="enumeration_section">1.13.1 </span>ELOC_ADMIN_AREA_SEARCH Table
                  </h4>
                  <div>
                     <p>The ELOC_ADMIN_AREA_SEARCH table is used to store the data for location data enrichment. It is created only if you have performed the required setup actions described in <a href="spatial-concepts.html#GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" title="Oracle Spatial and Graph includes a place name data set, with hierarchical geographical data from HERE, that you can load into the database.">Location Data Enrichment</a>, and it is created in the database schema that you chose.
                     </p>
                     <p>This table is accessed by the <a href="SDO_UTIL-reference.html#GUID-49677E42-B9C3-4790-9931-0F96CD6F1113">SDO_UTIL.GEO_SEARCH</a> procedure. The table has the following columns.
                     </p>
                     <div class="tblformal" id="GUID-60CF62EA-AD0E-4823-993B-EFFE53DF8E29__GUID-A389CDDA-F739-49E2-9B83-54976535C6F5">
                        <p class="titleintable">Table 1-3 LOC_ADMIN_AREA_SEARCH Table</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="LOC_ADMIN_AREA_SEARCH Table" summary="2&#x2013;column table: column 1 is Column Name, and column 2 is Description." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d9079e4394">Column Name</th>
                                 <th align="left" valign="bottom" width="20%" id="d9079e4396">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4400" headers="d9079e4394 ">AREA_ID</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4400 d9079e4396 ">Unique ID for the place name.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4405" headers="d9079e4394 ">FULL_NAME</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4405 d9079e4396 ">The name of the place as a searchable string. For example,  “NASHUA,HILLSBOROUGH,NEW HAMPSHIRE,NH,UNITED STATES,USA” is the searchable name for the city of Nashua in NH, USA.
                                    <p>This entry is a concatenated list of all possible names for each level of the name hierarchy. That is, for state it can have both the abbreviation and the full name. Similarly, for country it can have both the abbreviation and the full name. This enables the search to find this entry even when different search terms are used for each of these administrative areas.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4412" headers="d9079e4394 ">AREA_NAME</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4412 d9079e4396 ">The actual area name of the administrative place.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4417" headers="d9079e4394 ">KEY</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4417 d9079e4396 ">A standardized text key that is returned from the search API. This is a normalized standard key that can be used for joining the search term with other terms.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4422" headers="d9079e4394 ">LANG_CODE</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4422 d9079e4396 ">3- letter ISO code of the language used for this entry.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4427" headers="d9079e4394 ">PART_ID</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4427 d9079e4396 ">A number that is used when this table is partitioned (see the README for more details).</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4432" headers="d9079e4394 ">CENTER_LONG</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4432 d9079e4396 ">Longitude of the place name.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4437" headers="d9079e4394 ">CENTER_LAT</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4437 d9079e4396 ">Latitude of the place name.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d9079e4442" headers="d9079e4394 "> POPULATION</td>
                                 <td align="left" valign="top" width="20%" headers="d9079e4442 d9079e4396 ">A number that is used to order the results when multiple matches are found for a given search term. The intent is to return more populated areas first before retuning less populated areas where multiple matches are found for the same search term.</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" title="Oracle Spatial and Graph includes a place name data set, with hierarchical geographical data from HERE, that you can load into the database.">Location Data Enrichment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-7A7BF2EB-17A7-42FD-A170-83E02BD5375A" name="GUID-7A7BF2EB-17A7-42FD-A170-83E02BD5375A"></a><h4 id="SPATL-GUID-7A7BF2EB-17A7-42FD-A170-83E02BD5375A" class="sect4"><span class="enumeration_section">1.13.2 </span>Adding User Data to the Geographic Name Hierarchy
                  </h4>
                  <div>
                     <p>In some cases, users might want to add their own data to augment the data provided by Oracle. For example, if the users wants to create an entry for a park in the city (like Central Park in New York City) they can create an entry for it in this table. </p>
                     <p>For example, they can do :</p><pre class="pre codeblock"><code>insert into ELOC_ADMIN_AREA_SEARCH values (1469286010, 'CENTRAL PARK,NEW YORK CITY,NEW YORK,NYC,RICHMOND,NEW YORK,NY,UNITED STATES,USA', 'CENTRAL PARK', 'CENTRAL PARK|NEW YORK|RICHMOND|NEW YORK|UNITED STATES', 'ENG', 7, 73.9654,40.7829, 0);
commit;
</code></pre><p>The COMMIT statement after inserting new data is important, because the text index performs a synchronization only after the commit is issued.</p>
                     <p>In this example, the area_id is chosen to be some value that does not already exist in the table, and a random partition_id value is used (7 in this case). However,  a suitable value should be chosen based on the partitioning scheme used for the table (see the README for more details).</p>
                     <p>Now a search for central park will result a match:</p><pre class="pre codeblock"><code>select * from table(sdo_util.geo_search('central park,new york,NY,UNITED STATES'));
CENTRAL PARK
CENTRAL PARK|NEW YORK|RICHMOND|NEW YORK|UNITED STATES
ENG	73.9654    40.7829	  100
</code></pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-1319B328-0F3E-4202-868C-B7435E4FA98F" title="Oracle Spatial and Graph includes a place name data set, with hierarchical geographical data from HERE, that you can load into the database.">Location Data Enrichment</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0" name="GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0"></a><h3 id="SPATL-GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0" class="sect3"><span class="enumeration_section">1.14 </span>JSON and GeoJSON Support in Oracle Spatial and Graph
               </h3>
               <div>
                  <p>Spatial and Graph supports the use of JSON and GeoJSON objects to store, index, and manage geographic data that is in JSON (JavaScript Object Notation) format.</p>
                  <p>JSON support, introduced in Release 18.1, substantially expands the limited GeoJSON support available in the previous release, in that it supports a larger range of geometries, including 2D and 3D, solid, surface, and LRS geometries. While the Spatial and Graph GeoJSON-specific APIs are still supported, you are encouraged to use the more comprehensive JSON support.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C">JSON Support in Oracle Spatial and Graph</a><br>Spatial and Graph supports the use of JSON objects to store, index, and manage geographic data that is in JSON (JavaScript Object Notation) format.
                     </li>
                     <li class="ulchildlink"><a href="spatial-concepts.html#GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F">GeoJSON Support in Oracle Spatial and Graph</a><br>Spatial and Graph supports the use of GeoJSON objects to store, index, and manage geographic data that is in JSON (JavaScript Object Notation) format.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C" name="GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C"></a><h4 id="SPATL-GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C" class="sect4"><span class="enumeration_section">1.14.1 </span>JSON Support in Oracle Spatial and Graph
                  </h4>
                  <div>
                     <p>Spatial and Graph supports the use of JSON objects to store, index, and manage geographic data that is in JSON (JavaScript Object Notation) format.</p>
                     <p>You can convert any Oracle Spatial and Graph SDO_GEOMETRY object to a JSON geometry object, and geometry JSON object back to an SDO_GEOMETRY object.</p>
                     <p>JSON support in Spatial and Graph includes the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-49B32484-EF2B-4541-8C7A-26A532727245">SDO_UTIL.TO_JSON</a>&nbsp;converts an SDO_GEOMETRY object to a JSON object in CLOB format.
                           </p>
                        </li>
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-E8072BC2-2B85-4AA7-943A-38585ED338C4">SDO_UTIL.TO_JSON_VARCHAR</a> converts an SDO_GEOMETRY object to a JSON object in VARCHAR2 format.
                           </p>
                        </li>
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-77D8F7B9-C3C7-4B65-B6D7-025C06A3834B">SDO_UTIL.FROM_JSON</a> converts a JSON object (in CLOB or VARCHAR2 format) to an SDO_GEOMETRY object. This function can also convert a GeoJSON object to an SDO_GEOMETRY object.
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-DC4512C6-B051-4959-8082-73EBF46E8E8C__JSONSUPPORTINSPATIALANDGRAPH-36BD5580">
                        <p class="titleinexample">Example 1-3 JSON Support in Spatial and Graph</p>
                        <p>This example shows some operations using the JSON support in Oracle Spatial and Graph. The example creates a simple table with a JSON column and an SDO_GEOMETRY column, inserts some sample data, performs some simple queries, creates a spatial index, and performs a query using the SDO_WITHIN_DISTANCE operator..</p>
                        <p>The example uses the following JSON-related feature of Oracle Database, which is documented in <a href="../adjsn/index.html" target="_blank"><span class="italic">Oracle Database JSON Developer's Guide</span></a>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The IS JSON Oracle SQL condition in a check constraint in the CREATE TABLE statement to ensure that a column contains JSON data</p>
                           </li>
                        </ul>
                        <p>The example includes descriptive comments and the output of the SQL statements. (The output has been reformatted for readability.)</p><pre class="pre codeblock"><code>-- Some operations using JSON support in Spatial and Graph.
-- Create a table with 3 columns: one JSONC (JSON CLOB), one JSONV (JSON VARCHAR2),
-- and one SDO_GEOMETRY.
CREATE TABLE JSON_TBL (
  jsonc CLOB, jsonv VARCHAR2(4000), 
  geom SDO_GEOMETRY,
  CONSTRAINT json_tbl_json CHECK (jsonc IS JSON) );
Table created.

-- Test the constraint
INSERT INTO json_tbl VALUES ('Not JSON', NULL, NULL);
ORA-02290: check constraint (SCOTT.JSON_TBL_JSON) violated
-- Insert some data (2 points).

INSERT INTO JSON_TBL(jsonc)
  VALUES ('{"srid": 8307, "point": {"directposition": [123.4, -10.1]}}');
1 row created.
  
INSERT INTO JSON_TBL(jsonc) 
  VALUES ('{"srid": 8307, "point": {"directposition": [123.5, -10.2]}}');
1 row created. 
 
COMMIT;  
Commit complete. 

-- Update the table with the VARCHAR formatted JSON object and 
-- an SDO_GEOMETRY created from a JSON object
UPDATE JSON_TBL SET
  jsonv=SDO_UTIL.TO_JSON_VARCHAR(SDO_UTIL.FROM_JSON(jsonc)),
  geom=SDO_UTIL.FROM_JSON(jsonc); 
2 rows updated.

COMMIT;

SELECT jsonc, jsonv, geom FROM json_tbl;

JSONC
-------
JSONV
-------
GEOM(SDO_GTYPE, SDO_SRID, SDO_POINT(X, Y, Z), SDO_ELEM_INFO, SDO_ORDINATES)
-----------------------------------------------------------------------

{"srid": 8307, "point": {"directposition": [123.4, -10.1]}}
{"srid": 8307, "point": {"directposition": [123.4, -10.1]}}
SDO_GEOMETRY(2001, 8307, SDO_POINT_TYPE(123.4, -10.1, NULL), NULL, NULL)
{"srid": 8307, "point": {"directposition": [123.5, -10.2]}}
{"srid": 8307, "point": {"directposition": [123.5, -10.2]}}
SDO_GEOMETRY(2001, 8307, SDO_POINT_TYPE(123.5, -10.2, NULL), NULL, NULL)
</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0" title="Spatial and Graph supports the use of JSON and GeoJSON objects to store, index, and manage geographic data that is in JSON (JavaScript Object Notation) format.">JSON and GeoJSON Support in Oracle Spatial and Graph</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F" name="GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F"></a><h4 id="SPATL-GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F" class="sect4"><span class="enumeration_section">1.14.2 </span>GeoJSON Support in Oracle Spatial and Graph
                  </h4>
                  <div>
                     <p>Spatial and Graph supports the use of GeoJSON objects to store, index, and manage geographic data that is in JSON (JavaScript Object Notation) format.</p>
                     <p>You can convert Oracle Spatial and Graph SDO_GEOMETRY objects to GeoJSON objects, and GeoJSON objects to SDO_GEOMETRY objects. You can use spatial operators, functions, and a special SDO_GEOMETRY method to work with GeoJSON data.</p>
                     <p>GeoJSON support in Spatial and Graph includes the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-DB459897-729F-41D6-A2F3-DD39F22D8F63">SDO_UTIL.TO_GEOJSON</a> function to convert an SDO_GEOMETRY object to a GeoJSON object..
                           </p>
                        </li>
                        <li>
                           <p><a href="SDO_UTIL-reference.html#GUID-9D040DDE-64CD-4C98-B04B-11DA36D3A0D6">SDO_UTIL.FROM_GEOJSON</a> function to convert a GeoJSON object to an SDO_GEOMETRY object.
                           </p>
                        </li>
                        <li>
                           <p>Get_GeoJson method (member function) of the SDO_GEOMETRY type (see <a href="spatial-datatypes-metadata.html#GUID-9BE85C1A-B96B-4CDB-A202-11AFFC7E9FC1" title="The SDO_GEOMETRY object type has methods (member functions) that retrieve information about a geometry object.">SDO_GEOMETRY Methods</a> for an explanation and an example).
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-D703DF4D-57D1-4990-8F53-CAAA9C8FCB2F__GUID-3F6882F9-FDCA-428D-BD69-2753B6A03831">
                        <p class="titleinexample">Example 1-4 GeoJSON Support in Spatial and Graph</p>
                        <p>This example shows some operations using the GeoJSON support in Oracle Spatial and Graph. The example creates a simple table with a GeoJSON column and an SDO_GEOMETRY column, inserts some sample data, performs some simple queries, creates a spatial index, and performs a query using the SDO_WITHIN_DISTANCE operator.</p>
                        <p>The example uses the following JSON-related features of Oracle Database, which are documented in <a href="../adjsn/index.html" target="_blank"><span class="italic">Oracle Database JSON Developer's Guide</span></a>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The JSON_VALUE Oracle SQL function with <code class="codeph">RETURNING SDO_GEOMETRY</code> to return SDO_GEOMETRY objects reflecting GeoJSON objects
                              </p>
                           </li>
                           <li>
                              <p>The IS JSON Oracle SQL condition in a check constraint in the CREATE TABLE statement to ensure that a column contains JSON data</p>
                           </li>
                        </ul>
                        <p>The example includes descriptive comments and the output of the SQL statements. (The output has been reformatted for readability.)</p><pre class="pre codeblock"><code>-- Some operations using GeoJSON support in Spatial and Graph.
-- Create a table with 2 columns: one GeoJSON, one SDO_GEOMETRY.
CREATE TABLE GEO_TABLE (geojson_col VARCHAR2(4000), geom_col SDO_GEOMETRY,
			    CONSTRAINT CHECK (geojson_col IS JSON));

Table created.

-- Insert some data (2 points).
INSERT INTO GEO_TABLE(geojson_col)
	  values ('{"a":{"type":"Point","coordinates":[+123.4,+10.1]}}');

1 row created.

INSERT INTO GEO_TABLE(geojson_col)
	  values ('{"a":{"type":"Point","coordinates":[+123.5,-10.1]}}');

1 row created.

commit;

Commit complete.

SQL&gt; -- For each geojson_col value, return what its SDO_GEOMETRY equivalent would be.
SQL&gt; SELECT JSON_VALUE(geojson_col, '$.a' RETURNING SDO_GEOMETRY) from GEO_TABLE;

JSON_VALUE(GEOJSON_COL,'$.A'RETURNINGSDO_GEOMETRY)(SDO_GTYPE, SDO_SRID, SDO_POIN
--------------------------------------------------------------------------------
SDO_GEOMETRY(2001, 4326, SDO_POINT_TYPE(123.4, 10.1, NULL), NULL, NULL)         
SDO_GEOMETRY(2001, 4326, SDO_POINT_TYPE(123.5, -10.1, NULL), NULL, NULL)        

-- For a specified GeoJSON object definition, return what its SDO_GEOMETRY
-- equivalent would be.
SELECT JSON_VALUE('{"type":"Point","coordinates":[+123.5,-10.1]}',
		       '$' RETURNING SDO_GEOMETRY) from DUAL;

JSON_VALUE('{"TYPE":"POINT","COORDINATES":[+123.5,-10.1]}','$'RETURNINGSDO_GEOME
--------------------------------------------------------------------------------
SDO_GEOMETRY(2001, 4326, SDO_POINT_TYPE(123.5, -10.1, NULL), NULL, NULL)        

-- Update to populate geom_col with SDO_GEOMETRY objects reflecting the JSON data
-- in the geojson_col column.
UPDATE GEO_TABLE
	set geom_col = JSON_VALUE(geojson_col, '$.a' RETURNING SDO_GEOMETRY);

2 rows updated.

commit;

Commit complete.

-- Create spatial index on the returned SDO_GEOMETRY objects from the JSON data.
CREATE INDEX GEO_TABLE_IX
	     ON GEO_TABLE
		  (
		  JSON_VALUE(geojson_col, '$.a' RETURNING SDO_GEOMETRY)
		  )
       INDEXTYPE IS MDSYS.SPATIAL_INDEX_V2;

Index created.

-- SDO_WITHIN_DISTANCE query: Are two grometries within 100 miles apart?
SELECT 1
  FROM GEO_TABLE
 WHERE SDO_WITHIN_DISTANCE(
	      JSON_VALUE(geojson_col, '$.a' RETURNING SDO_GEOMETRY),
	      JSON_VALUE('{"type":"Point","coordinates":[+123.5,-10.1]}',
			 '$' RETURNING SDO_GEOMETRY),
       'distance=100 unit=mile') = 'TRUE';

         1                                                                      
----------                                                                      
         1 </code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-0D253291-6FB9-4DBF-BD84-925E7E9C93D0" title="Spatial and Graph supports the use of JSON and GeoJSON objects to store, index, and manage geographic data that is in JSON (JavaScript Object Notation) format.">JSON and GeoJSON Support in Oracle Spatial and Graph</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="SPATL1447"></a><div class="props_rev_3"><a id="GUID-03E5061C-190F-4465-857C-2344FEAF9814" name="GUID-03E5061C-190F-4465-857C-2344FEAF9814"></a><h3 id="SPATL-GUID-03E5061C-190F-4465-857C-2344FEAF9814" class="sect3"><span class="enumeration_section">1.15 </span>NURBS Curve Support in Oracle Spatial and Graph
               </h3>
               <div>
                  <p>Spatial and Graph supports non-uniform rational B-spline (NURBS) curve geometries.</p>
                  <p>NURBS curves allow representation of free-form shapes with arbitrary shapes. NURBS representation allows control over the shape of the curve because control points and knots guide the shape of the curve, and they allow complex shapes to be represented with little data.</p>
                  <p>Support for NURBS curves in Spatial and Graph includes the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>WKT/WKB and GML functions for loading and storing of NURBS curve geometries in Oracle Spatial and Graph.</p>
                     </li>
                     <li>
                        <p>Validation of NURBS curve geometries.</p>
                     </li>
                     <li>
                        <p>Spatial indexing of NURBS curve geometries along with the SDO_FILTER, SDO_RELATE, and other operators. Spatial operators use an approximation of the curve for computation.</p>
                     </li>
                  </ul>
                  <p>A NURBS representation requires specification of the control points and the basis functions. The basis functions, in turn, are defined using the knot vector and the degree of the curve. The control points are used to determine the shape of the NURBS curve. The knot vector does not directly control the shape of the curve, but is used to control the exact placement of end points. The knot vector is also used to create curves with kinks and corners. Non-uniform knot vectors are used for manipulating the curve.</p>
                  <p>To represent a NURBS curve, the following data must be stored: the control points, the knot vector, and the degree of the curve. The set of control points can be represented in either the Euclidean form as <code class="codeph">(x, y, z, w)</code> where <code class="codeph">w</code> represents the weight of the control point or in the homogeneous form as <code class="codeph">(wx, wy, wz, w)</code>. If <code class="codeph">wi</code>=1 for all <code class="codeph">i</code>, the curve is non-rational. The control points are specified in the weighted Euclidean form. Basis functions can be uniform or non-uniform based on the knot vector. A non-uniform knot vector is useful for placement of end points and creating kinks or corners. A normalized knot vector must be specified, that is, the first knot in the knot vector must be zero and the last knot in the knot vector must be one. It is also required that the knot vector is "clamped" at the end points. This requirement is enforced by ensuring that the first <code class="codeph">d</code>+1 values in the knot vector are all zeros and the last <code class="codeph">d</code>+1 values are all ones, where <code class="codeph">d</code> represents the degree of the NURBS curve.
                  </p>
                  <p>The implementation of NURBS curves in Oracle Spatial and Graph follows the SQL/MM standards. The SQL/MM standards for NURBS curves are used to represent splines, polynomial splines, cubic splines, B-splines, and Bezier curves. In Oracle Spatial and Graph, the SDO_GEOMETRY object type is used for NURBS representation. NURBS curves can be included in the Line, Multiline, and Collection type geometry objects. In these geometries, the simple line string and compound line string type elements can contain NURBS.</p>
                  <p>For compound line strings containing at least one NURBS segment, the last point of the previous segment is the same as the "clamped" first control point of a NURBS segment, and the last "clamped" control point of a NURBS segment is the same as the first point of the next segment. That is, the vertices will be repeated.</p>
                  <p>For geometry elements with element type value 2 representing a line string, the interpretation value of 3 is used to represent a NURBS curve; interpretation values of 1 and 2 represent linear segments and arcs. The SDO_ELEM_INFO_ARRAY for a NURBS curve is stored as (<span class="italic">offset</span>, 2, 3), which represents the offset, element type, and the interpretation value.
                  </p>
                  <p>The SDO_ORDINATE_ARRAY stores the degree of the curve <code class="codeph">d</code>, the set of <code class="codeph">m</code> control points and a knot vector of size <code class="codeph">n</code>. So, the ordinate array is stored as a sequence of values <code class="codeph">(d, m, x1, y1, z1, w1…. xm, ym, zm, wm, n, k1….kn)</code>. The control points are stored in the Euclidean form as specified in the SQL/MM standards. Note that for a NURBS curve the number of knots is equal to the sum of the degree, the number of control points, and 1. Therefore,<code class="codeph"> n=d+m+1</code>, an equation which is useful for validating NURBS curve geometries. 
                  </p>
                  <p>The following considerations apply to defining a NURBS curve:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The degree of the curve should be greater than 1, because a curve of degree 1 represents polylines.</p>
                     </li>
                     <li>
                        <p>The number of control points must be greater than or equal to 3, and must be greater than the degree.</p>
                     </li>
                     <li>
                        <p>The number of knots must be equal to the (number of control points + degree + 1).</p>
                     </li>
                     <li>
                        <p>The weight component of each control point must be positive.</p>
                     </li>
                     <li>
                        <p>Control points are represented in "weighted Euclidean" form <code class="codeph">[wx, wy, (wz), w]</code>.
                        </p>
                     </li>
                     <li>
                        <p>Knot values should be specified in non-decreasing order, and the knot vector must be a normalized knot vector <code class="codeph">[0, .. ……, 1]</code>.
                        </p>
                     </li>
                     <li>
                        <p>If <code class="codeph">d</code> is the degree of the curve, there must be <code class="codeph">d</code>+1 consecutive equal knots at the beginning of the curve (value 0) and <code class="codeph">d</code>+1 consecutive equal knots at the end of the curve (value 1). This is to ensure that the curve is clamped at the end points.
                        </p>
                     </li>
                     <li>
                        <p>If <code class="codeph">d</code> is the degree of the curve, there must not be more than <code class="codeph">d</code> consecutive equal knots except at the beginning or end of the curve where <code class="codeph">d</code>+1 knots must be present.
                        </p>
                     </li>
                  </ul>
                  <p>Be sure to validate geometries with NURBS segments before creating the spatial index or performing any spatial operations on them. (This recommendation applies to all geometry types, NURBS or otherwise.)</p>
                  <p>For examples that specify NURBS curve geometries, see <a href="spatial-datatypes-metadata.html#GUID-BE099474-48F2-4F89-B211-449BB2A5CEFE">NURBS Curve</a>.
                  </p>
                  <p>To get a line string geometry that is an approximation of an input NURBS curve geometry, use the <a href="SDO_UTIL-reference.html#GUID-2827946E-0D8E-447C-B046-299F633B21D8">SDO_UTIL.GETNURBSAPPROX</a> function.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-D0143C10-296E-4E6F-A3DC-6370313CF53A" name="GUID-D0143C10-296E-4E6F-A3DC-6370313CF53A"></a><h3 id="SPATL-GUID-D0143C10-296E-4E6F-A3DC-6370313CF53A" class="sect3"><span class="enumeration_section">1.16 </span>Sharded Database Support by Oracle Spatial and Graph
               </h3>
               <div>
                  <p>Spatial and Graph supports the use of sharded database technology.</p>
                  <p>However, Partitioned Management Operations (PMO), such as MERGE PARTITION and SPLIT PARTITION, are not supported by Spatial and Graph.</p>
                  <p>For an overview of Oracle sharding, see <a href="../shard/sharding-overview.html#GUID-0F39B1FB-DCF9-4C8A-A2EA-88705B90C5BF" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL476"></a><div class="props_rev_3"><a id="GUID-F721391C-9B12-455F-8D52-DA3CC9496EB1" name="GUID-F721391C-9B12-455F-8D52-DA3CC9496EB1"></a><h3 id="SPATL-GUID-F721391C-9B12-455F-8D52-DA3CC9496EB1" class="sect3"><span class="enumeration_section">1.17 </span>Spatial and Graph Java Application Programming Interface
               </h3>
               <div>
                  <p>Oracle Spatial and Graph provides a Java application programming interface (API) .</p>
                  <p>This API includes the following packages:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">oracle.spatial.geometry</code> provides support for the Spatial and Graph SQL SDO_GEOMETRY data type, which is documented in this guide.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.georaster</code> provides support for the core GeoRaster features, which are documented in <a href="../geors/georaster-overview-and-concepts.html#GEORS100" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster Developer's Guide</span></a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.georaster.image</code> provides support for generating Java images from a GeoRaster object or subset of a GeoRaster object, and for processing the images. These features are documented in <a href="../geors/georaster-overview-and-concepts.html#GEORS100" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster Developer's Guide</span></a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.georaster.sql</code> provides support for wrapping the GeoRaster PL/SQL API, which is documented in <a href="../geors/georaster-overview-and-concepts.html#GEORS100" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster Developer's Guide</span></a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.network</code> provides support for the Oracle Spatial and Graph Network Data Model Graph, which is documented in <a href="../topol/network-data-model.html#TOPOL-GUID-090C37E3-4092-40A6-8E29-D84DF16765BA" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide</span></a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.network.lod</code> provides support for the load-on-demand (LOD) approach of network analysis in the Oracle Spatial and Graph Network Data Model Graph, which is documented in <a href="../topol/network-data-model-graph-overview.html#TOPOL904" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide</span></a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.network.lod.config</code> provides support for the configuration of load-on-demand (LOD) network analysis in the Oracle Spatial and Graph Network Data Model Graph, which is documented in <a href="../topol/network-data-model-graph-overview.html#TOPOL904" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide</span></a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.topo</code> provides support for the Oracle Spatial and Graph topology data model, which is documented in <a href="../topol/topology-data-model.html#TOPOL-GUID-568DB747-C605-43E8-A8B4-8FA268B9D687" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide</span></a>.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.spatial.util</code> provides classes that perform miscellaneous operations.
                        </p>
                     </li>
                  </ul>
                  <p>For detailed reference information about the classes and interfaces in these packages, see <a href="../spajv/index.html" target="_blank"><span class="italic">Oracle Spatial and Graph Java API Reference</span></a> (Javadoc).
                  </p>
                  <p>The Spatial and Graph Java class libraries are in <code class="codeph">.jar</code> files under the <code class="codeph">&lt;ORACLE_HOME&gt;/md/jlib/</code> directory.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL478"></a><a id="SPATL477"></a><div class="props_rev_3"><a id="GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467" name="GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467"></a><h3 id="SPATL-GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467" class="sect3"><span class="enumeration_section">1.18 </span>Predefined User Accounts Created by Spatial and Graph
               </h3>
               <div>
                  <p>During installation, Spatial and Graph creates user accounts that have the minimum privileges needed to perform their jobs.</p>
                  <p>These accounts are created locked and expired; so if you need to use the accounts, you must unlock them. <a href="spatial-concepts.html#GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467__BABDBJJA" title="Predefined user accounts created by Spatial. Column 1 is User Account, and column 2 is Description.">Table 1-4</a> lists the predefined user accounts created by Spatial and Graph.
                  </p>
                  <div class="tblformal" id="GUID-795B0382-55BB-43A7-B85F-EF05D4BB2467__BABDBJJA">
                     <p class="titleintable">Table 1-4 Predefined User Accounts Created by Spatial and Graph</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Predefined User Accounts Created by Spatial and Graph" summary="Predefined user accounts created by Spatial. Column 1 is User Account, and column 2 is Description." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d9079e5384">User Account</th>
                              <th align="left" valign="bottom" width="67%" id="d9079e5387">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d9079e5392" headers="d9079e5384 ">
                                 <p>MDSYS</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d9079e5392 d9079e5387 ">
                                 <p>The schema used by Oracle Spatial and Graph for prescribing the storage, syntax, and semantics of supported geometric data types.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d9079e5399" headers="d9079e5384 ">
                                 <p>MDDATA</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d9079e5399 d9079e5387 ">
                                 <p>The schema used by Oracle Spatial and Graph for storing data used by geocoding and routing applications. This is the default schema for Oracle software that accesses geocoding and routing data.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d9079e5406" headers="d9079e5384 ">
                                 <p>SPATIAL_CSW_ADMIN_USR</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d9079e5406 d9079e5387 ">
                                 <p>The Catalog Services for the Web (CSW) account. It is used by the Oracle Spatial and Graph CSW cache manager to load all record type metadata and all record instances from the database into main memory for the record types that are cached.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL479"></a><div class="props_rev_3"><a id="GUID-FFA351D4-F647-4254-B21C-1F50C9D9792E" name="GUID-FFA351D4-F647-4254-B21C-1F50C9D9792E"></a><h3 id="SPATL-GUID-FFA351D4-F647-4254-B21C-1F50C9D9792E" class="sect3"><span class="enumeration_section">1.19 </span>Performance and Tuning Information
               </h3>
               <div>
                  <p>Many factors can affect the performance of Oracle Spatial and Graph applications, such as the use of optimizer hints to influence the plan for query execution.</p>
                  <p>This guide contains some information about performance and tuning where it is relevant to a particular topic. For example, <a href="spatial-concepts.html#GUID-CBB1C185-9B3B-4D37-B470-953C4179FEC2">R-Tree Quality</a> discusses R-tree quality and its possible effect on query performance, and <a href="spatial-concepts.html#GUID-2CFC33C7-D5A6-4360-B9EB-9A147188C244" title="The Spatial and Graph PL/SQL application programming interface (API) includes several operators and many procedures and functions.">Spatial Operators_ Procedures_ and Functions</a> explains why spatial operators provide better performance than procedures and functions.
                  </p>
                  <p>In addition, more spatial performance and tuning information is available in one or more white papers through the Oracle Technology Network (OTN). That information is often more detailed than what is in this guide, and it is periodically updated as a result of internal testing and consultations with Spatial and Graph users. To find that information on the OTN, go to</p>
                  <p><a href="http://www.oracle.com/technetwork/database/options/spatialandgraph/" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/database/options/spatialandgraph/</code></a></p>
                  <p>Look for material relevant to spatial performance and tuning.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL480"></a><div class="props_rev_3"><a id="GUID-2CFFA9C3-1873-4D93-AE89-746A7E041B65" name="GUID-2CFFA9C3-1873-4D93-AE89-746A7E041B65"></a><h3 id="SPATL-GUID-2CFFA9C3-1873-4D93-AE89-746A7E041B65" class="sect3"><span class="enumeration_section">1.20 </span>OGC and ISO Compliance
               </h3>
               <div>
                  <p>Oracle Spatial and Graph is conformant with Open Geospatial Consortium (OGC) Simple Features Specification 1.1.1 (Document 99-049), starting with Oracle Database release 10<span class="italic">g</span> (version 10.1.0.4).
                  </p>
                  <p>Conformance with the Geometry Types Implementation means that Oracle Spatial and Graph supports all the types, functions, and language constructs detailed in Section 3.2 of the specification.</p>
                  <p><a id="d9079e5589" class="indexterm-anchor"></a>Synonyms are created to match all OGC function names except for <code class="codeph">X(p Point)</code> and <code class="codeph">Y(p Point)</code>. For these functions, you must use the names <code class="codeph">OGC_X</code> and <code class="codeph">OGC_Y</code> instead of just <code class="codeph">X</code> and <code class="codeph">Y</code>.
                  </p>
                  <p>Oracle Spatial and Graph is conformant with the following International Organization for Standardization (ISO) standards:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>ISO 13249-3 SQL Multimedia and Application Packages - Part 3: Spatial</p>
                     </li>
                     <li>
                        <p>ISO 19101: Geographic information - Reference model (definition of terms and approach)</p>
                     </li>
                     <li>
                        <p>ISO 19109: Geographic information - Rules for application schema (called the General Feature Model)</p>
                     </li>
                     <li>
                        <p>ISO 19111: Geographic information - Spatial referencing by coordinates (also OGC Abstract specification for coordinate reference systems)</p>
                     </li>
                     <li>
                        <p>ISO 19118: Geographic information - Encoding (GML 2.1 and GML 3.1.1)</p>
                     </li>
                     <li>
                        <p>ISO 19107: Geographic information - Spatial schema (also OGC Abstract specification for Geometry)</p>
                     </li>
                  </ul>
                  <p>However, standards compliance testing for Oracle Spatial and Graph is ongoing, and compliance with more recent versions of standards or with new standards might be announced at any time. For current information about compliance with standards, see <a href="http://www.oracle.com/technetwork/database/options/spatialandgraph/documentation/" target="_blank"><code class="codeph">http://www.oracle.com/technetwork/database/options/spatialandgraph/documentation/</code></a>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL481"></a><div class="props_rev_3"><a id="GUID-365A972C-51C9-4363-B230-FED19D86F213" name="GUID-365A972C-51C9-4363-B230-FED19D86F213"></a><h3 id="SPATL-GUID-365A972C-51C9-4363-B230-FED19D86F213" class="sect3"><span class="enumeration_section">1.21 </span>Spatial and Graph Release (Version) Number
               </h3>
               <div>
                  <p>To check which release of Spatial and Graph you are running, use the SDO_VERSION function.</p>
                  <p>For example:</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_VERSION FROM DUAL;

SDO_VERSION
--------------------------------------------------------------------------------
12.2.0.1.0
</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1470"></a><div class="props_rev_3"><a id="GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669" name="GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669"></a><h3 id="SPATL-GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669" class="sect3"><span class="enumeration_section">1.22 </span>SPATIAL_VECTOR_ACCELERATION System Parameter
               </h3>
               <div>
                  <p>To accelerate the performance of spatial operators, it is recommended that you enable the Vector Performance Accelerator (VPA) feature by setting the SPATIAL_VECTOR_ACCELERATION database system parameter to the value <code class="codeph">TRUE</code>. (This feature and associated system parameter are authorized for use only by licensed Oracle Spatial and Graph users, and the default value for the parameter is <code class="codeph">FALSE</code>.)
                  </p>
                  <p>The benefits of setting the SPATIAL_VECTOR_ACCELERATION parameter to <code class="codeph">TRUE</code> include:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Improved spatial algorithms for spatial operators and functions</p>
                     </li>
                     <li>
                        <p>Metadata caching for all spatial operators and functions, which improves their overall performance</p>
                     </li>
                     <li>
                        <p>Metadata caching for all DML operations, which makes insert, update, and delete operations on spatial tables run faster</p>
                     </li>
                  </ul>
                  <p>You can set this parameter for the whole system or for a single session. To set the value for the whole system, do either of the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Enter the following statement from a suitably privileged account:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET SPATIAL_VECTOR_ACCELERATION = TRUE;
</pre></li>
                     <li>
                        <p>Add the following to the database initialization file (<span class="italic">xxx</span>init.ora):
                        </p><pre class="oac_no_warn" dir="ltr">SPATIAL_VECTOR_ACCELERATION = TRUE;
</pre></li>
                  </ul>
                  <p>To set the value for the current session, enter the following statement from a suitably privileged account:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET SPATIAL_VECTOR_ACCELERATION = TRUE;</pre></div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E813A365-6433-4CB8-B155-A5ACA8AAD669__GUID-B18E3595-E2DC-41EA-84D0-28D6BC75E935">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../refrn/SPATIAL_VECTOR_ACCELERATION.html#REFRN10337" target="_blank"><span class="italic">Oracle Database Reference</span></a> for reference and usage information about the <code class="codeph">SPATIAL_VECTOR_ACCELERATION</code> database initialization parameter
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1515"></a><a id="SPATL1514"></a><div class="props_rev_3"><a id="GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6" name="GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6"></a><h3 id="SPATL-GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6" class="sect3"><span class="enumeration_section">1.23 </span>Spatially Enabling a Table
               </h3>
               <div>
                  <p>If you have a regular Oracle table without an SDO_GEOMETRY column, but containing location-related information (such as latitude/longitude values for points), you can <span class="italic">spatially enable</span> the table by adding an SDO_GEOMETRY column and using existing (and future) location-related information in records to populate the SDO_GEOMETRY column values.
                  </p>
                  <div class="section">
                     <p>The following are the basic steps for spatially enabling a regular table. They assume that the regular table has columns that contain location-related values associated with each record in the table.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>Alter the table to add a geometry (SDO_GEOMETRY) column.</span></li>
                     <li><span>Update the table to populate the SDO_GEOMETRY objects using existing location-related data values.</span></li>
                     <li><span>Update the spatial metadata (USER_SDO_GEOM_METADATA).</span></li>
                     <li><span>Create the spatial index on the table.</span></li>
                  </ol>
                  <div class="example" id="GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6__BHCGHJBG">
                     <p class="titleinexample">Example 1-5 Spatially Enabling a Table</p><pre class="oac_no_warn" dir="ltr">-- Original table without a spatial geometry column.
CREATE TABLE city_points (
  city_id NUMBER PRIMARY KEY,
  city_name VARCHAR2(25),
  latitude NUMBER,
  longitude NUMBER);
 
-- Original data for the table.
-- (The sample coordinates are for a random point in or near the city.)
INSERT INTO city_points (city_id, city_name, latitude, longitude)
  VALUES (1, 'Boston', 42.207905, -71.015625);
INSERT INTO city_points (city_id, city_name, latitude, longitude)
  VALUES (2, 'Raleigh', 35.634679, -78.618164);
INSERT INTO city_points (city_id, city_name, latitude, longitude)
  VALUES (3, 'San Francisco', 37.661791, -122.453613);
INSERT INTO city_points (city_id, city_name, latitude, longitude)
  VALUES (4, 'Memphis', 35.097140, -90.065918);
 
-- Add a spatial geometry column.
ALTER TABLE city_points ADD (shape SDO_GEOMETRY);
 
-- Update the table to populate geometry objects using existing
-- latutide and longitude coordinates.
UPDATE city_points SET shape = 
  SDO_GEOMETRY(
    2001,
    8307,
    SDO_POINT_TYPE(LONGITUDE, LATITUDE, NULL),
    NULL,
    NULL
   );
 
-- Update the spatial metadata.
INSERT INTO user_sdo_geom_metadata VALUES (
  'city_points',
  'SHAPE', 
  SDO_DIM_ARRAY(
    SDO_DIM_ELEMENT('Longitude',-180,180,0.5), 
    SDO_DIM_ELEMENT('Latitude',-90,90,0.5)
  ), 
  8307
);
 
-- Create the spatial index.
CREATE INDEX city_points_spatial_idx on city_points(SHAPE) 
  INDEXTYPE IS MDSYS.SPATIAL_INDEX_V2;
 
-- Later, add new records to the table, using original INSERT format
-- (latitude and longitude, no spatial geometry object data).
-- Then update to include spatial geometry object information.
-- Tip: For efficiency, keep track of existing and new records, and use 
-- a WHERE clause to restrict the UPDATE to new records (not shown here).
 
INSERT INTO city_points (city_id, city_name, latitude, longitude)
  VALUES (5, 'Chicago', 41.848832, -87.648926);
INSERT INTO city_points (city_id, city_name, latitude, longitude)
  VALUES (6, 'Miami', 25.755043, -80.200195);
 
UPDATE city_points SET shape = 
  SDO_GEOMETRY(
    2001,
    8307,
    SDO_POINT_TYPE(LONGITUDE, LATITUDE, NULL),
    NULL,
    NULL
   );
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p><a href="spatial-concepts.html#GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6__BHCGHJBG">Example 1-5</a> creates a table (CITY_POINTS) that initially does not contain an SDO_GEOMETRY column but does contain latitude and longitude values for each record (a point in or near a specified city). It spatially enables the table, updating the existing records to include the SDO_GEOMETRY information, and it also inserts new records and updates those.
                     </p>
                     <p>Notes on <a href="spatial-concepts.html#GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6__BHCGHJBG">Example 1-5</a>:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>It does not matter that the original table has the LATITUDE and LONGITUDE values in that order, as long as the column names are specified in the correct order in the geometry constructor (SDO_POINT in this case) in the UPDATE statement. (SDO_GEOMETRY objects have longitude first, then latitude for points.)</p>
                        </li>
                        <li>
                           <p>Geometry validation is not included in the example because validation is not relevant for points. However, if you spatially enable a table with other types of geometries, you should validate all initial and added geometries. (To perform validation, use <a href="SDO_GEOM-reference.html#GUID-D909C540-8CED-453D-AEA6-0212D09F1781">SDO_GEOM.VALIDATE_LAYER_WITH_CONTEXT</a> or <a href="SDO_GEOM-reference.html#GUID-5243762A-A199-48FF-87BB-B5955F4FF604">SDO_GEOM.VALIDATE_GEOMETRY_WITH_CONTEXT</a>.)
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-3A2A86DD-C987-4C23-9DA0-7C287117CDA6__GUID-2E98A317-BF24-489E-A3AF-66D0E6E6E50A">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="spatial-datatypes-metadata.html#GUID-5A7FCD16-E726-430F-91BE-56D7F7BAA359" title="The spatial features in Oracle Spatial and Graph consist of a set of object data types, type methods, and operators, functions, and procedures that use these types. A geometry is stored as an object, in a single row, in a column of type SDO_GEOMETRY. Spatial index creation and maintenance is done using basic DDL (CREATE, ALTER, DROP) and DML (INSERT, UPDATE, DELETE) statements."> Spatial Data Types and Metadata</a></p>
                        </li>
                        <li>
                           <p><a href="indexing-querying-spatial-data.html#GUID-07129836-0DAE-4BCC-B290-942C456AE2EA" title="After you have loaded spatial data , you should create a spatial index on it to enable efficient query performance using the data."> Indexing and Querying Spatial Data</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL1448"></a><div class="props_rev_3"><a id="GUID-7D60F812-61A2-4AC2-8171-D0E5CB1FE787" name="GUID-7D60F812-61A2-4AC2-8171-D0E5CB1FE787"></a><h3 id="SPATL-GUID-7D60F812-61A2-4AC2-8171-D0E5CB1FE787" class="sect3"><span class="enumeration_section">1.24 </span>Moving Spatial Metadata (MDSYS.MOVE_SDO)
               </h3>
               <div>
                  <p>Database administrators (DBAs) can use the MDSYS.MOVE_SDO procedure to move all Oracle Spatial and Graph metadata tables to a specified target tablespace.</p>
                  <p>By default, the spatial metadata tables are created in the <code class="codeph">SYSAUX</code> tablespace in Release 11.1 and later releases, and in the <code class="codeph">SYSTEM</code> tablespace in releases before 11.1.
                  </p>
                  <p>The MDSYS.MOVE_SDO procedure has the following syntax:</p><pre class="oac_no_warn" dir="ltr">MDSYS.MOVE_SDO(
   target_tablespace_name IN VARCHAR2);
</pre><p>The required <code class="codeph">target_tablespace_name</code> parameter specifies the name of the tablespace to which to move the spatial metadata tables.
                  </p>
                  <p>This procedure should be used only by DBAs.</p>
                  <p>During the move operation, all other Oracle Spatial and Graph capabilities are disabled.</p>
                  <p>The following example moves the spatial metadata tables to the <code class="codeph">SYSAUX</code> tablespace.
                  </p><pre class="oac_no_warn" dir="ltr">EXECUTE MDSYS.MOVE_SDO('SYSAUX');</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL482"></a><div class="props_rev_3"><a id="GUID-E084ADA0-6926-4BD6-B06B-D81F71CD405B" name="GUID-E084ADA0-6926-4BD6-B06B-D81F71CD405B"></a><h3 id="SPATL-GUID-E084ADA0-6926-4BD6-B06B-D81F71CD405B" class="sect3"><span class="enumeration_section">1.25 </span>Spatial Application Hardware Requirement Considerations
               </h3>
               <div>
                  <p>This topic discusses some general guidelines that affect the amount of disk storage space and CPU power needed for applications that use Oracle Spatial and Graph. </p>
                  <p>These guidelines are intended to supplement, not replace, any other guidelines you use for general application sizing.</p>
                  <p>The following characteristics of spatial applications can affect the need for storage space and CPU power:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Data volumes: The amount of storage space needed for spatial objects depends on their complexity (precision of representation and number of points for each object). For example, storing one million point objects takes less space than storing one million road segments or land parcels. Complex natural features such as coastlines, seismic fault lines, rivers, and land types can require significant storage space if they are stored at a high precision.</p>
                     </li>
                     <li>
                        <p>Query complexity: The CPU requirements for simple mapping queries, such as <span class="italic">Select all features in this rectangle</span>, are lower than for more complex queries, such as <span class="italic">Find all seismic fault lines that cross this coastline</span>.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL483"></a><div class="props_rev_3"><a id="GUID-5ECB6265-8891-487A-B476-B15896AA469E" name="GUID-5ECB6265-8891-487A-B476-B15896AA469E"></a><h3 id="SPATL-GUID-5ECB6265-8891-487A-B476-B15896AA469E" class="sect3"><span class="enumeration_section">1.26 </span>Spatial and Graph Error Messages
               </h3>
               <div>
                  <p>Spatial and Graph has a set of error messages.</p>
                  <p>The Spatial and Graph error messages are documented in <a href="../errmg/index.html" target="_blank"><span class="italic">Oracle Database Error Messages</span></a>.
                  </p>
                  <p>Oracle error message documentation is only available in HTML. You can browse the error messages by range; and once you find the specific range, use your browser's "find in page" feature to locate the specific message. You can also search for a specific error message using the error message search feature of the Oracle online documentation.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL484"></a><div class="props_rev_3"><a id="GUID-8EAC36B2-11E8-48FD-A5D0-65C2A8E73B70" name="GUID-8EAC36B2-11E8-48FD-A5D0-65C2A8E73B70"></a><h3 id="SPATL-GUID-8EAC36B2-11E8-48FD-A5D0-65C2A8E73B70" class="sect3"><span class="enumeration_section">1.27 </span>Spatial Examples
               </h3>
               <div>
                  <p>Oracle Spatial and Graph provides examples that you can use to reinforce your learning and to create models for coding certain operations.</p>
                  <p><a id="d9079e6315" class="indexterm-anchor"></a>If you installed the demo files from the Oracle Database Examples media (see <a href="../exmpl/index.html" target="_blank"><span class="italic">Oracle Database Examples Installation Guide</span></a>), several examples are provided in the following directory:
                  </p><pre class="oac_no_warn" dir="ltr"><span class="italic">$ORACLE_HOME</span>/md/demo/examples
</pre><p><a id="d9079e6330" class="indexterm-anchor"></a><a id="d9079e6334" class="indexterm-anchor"></a><a id="d9079e6338" class="indexterm-anchor"></a><a id="d9079e6342" class="indexterm-anchor"></a><a id="d9079e6344" class="indexterm-anchor"></a>The following files in that directory are helpful for applications that use the Oracle Call Interface (OCI):
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">readgeom.c</code> and <code class="codeph">readgeom.h</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">writegeom.c</code> and <code class="codeph">writegeom.h</code></p>
                     </li>
                  </ul>
                  <p><a id="d9079e6363" class="indexterm-anchor"></a><a id="d9079e6367" class="indexterm-anchor"></a><a id="d9079e6371" class="indexterm-anchor"></a><a id="d9079e6373" class="indexterm-anchor"></a>This guide also includes many examples in SQL and PL/SQL. One or more examples are usually provided with the reference information for each function or procedure, and several simplified examples are provided that illustrate table and index creation, combinations of functions and procedures, and advanced features:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Inserting, indexing, and querying spatial data (<a href="spatial-datatypes-metadata.html#GUID-51A767CA-82EE-4475-8C8B-13E685C04934" title="This topic presents a simple example of creating a spatial table, inserting data, creating the spatial index, and performing spatial queries">Simple Example: Inserting_ Indexing_ and Querying Spatial Data</a>)
                        </p>
                     </li>
                     <li>
                        <p>Coordinate systems (spatial reference systems) (<a href="coordinate-systems-concepts.html#GUID-A20C91C0-FE69-4F2C-B725-6B327B43558C" title="This topic presents a simplified example that uses coordinate system transformation functions and procedures.">Example of Coordinate System Transformation</a>)
                        </p>
                     </li>
                     <li>
                        <p>Linear referencing system (LRS) (<a href="lrs-linear-referencing-system-concepts.html#GUID-699CED71-3497-4826-A4A5-60BF13CD3770" title="This section presents a simplified example that uses LRS functions.">Example of LRS Functions</a>)
                        </p>
                     </li>
                     <li>
                        <p>SDO_GEOMETRY objects in function-based indexes (<a href="extending-spatial-indexing.html#GUID-CFB6B6DB-4B97-43D1-86A1-21C1BA853089" title="A function-based spatial index facilitates queries that use location information (of type SDO_GEOMETRY) returned by a function or expression. In this case, the spatial index is created based on the precomputed values returned by the function or expression.">SDO_GEOMETRY Objects in Function-Based Indexes</a>)
                        </p>
                     </li>
                     <li>
                        <p>Complex queries (<a href="complex-spatial-queries.html#GUID-66516CA7-D36C-4A73-90FC-28C650DDDF68" title="This appendix provides examples, with explanations, of queries that are more complex than the examples in the reference chapters."> Complex Spatial Queries: Examples</a>)
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="SPATL485"></a><div class="props_rev_3"><a id="GUID-28BF04E9-D9EC-474E-B6C0-40231A6CCF99" name="GUID-28BF04E9-D9EC-474E-B6C0-40231A6CCF99"></a><h3 id="SPATL-GUID-28BF04E9-D9EC-474E-B6C0-40231A6CCF99" class="sect3"><span class="enumeration_section">1.28 </span>README File for Spatial and Graph and Related Features
               </h3>
               <div>
                  <p>A <code class="codeph">README.txt</code> file supplements the information in several manuals.
                  </p>
                  <p><a id="d9079e6493" class="indexterm-anchor"></a>These manuals are <span class="italic">Oracle Spatial and Graph Developer's Guide</span> (this manual), <a href="../geors/index.html" target="_blank"><span class="italic">Oracle Spatial and Graph GeoRaster Developer's Guide</span></a>, and <a href="../topol/index.html" target="_blank"><span class="italic">Oracle Spatial and Graph Topology Data Model and Network Data Model Graph Developer's Guide</span></a>. This file is located at:
                  </p><pre class="oac_no_warn" dir="ltr"><span class="italic">$ORACLE_HOME</span>/md/doc/README.txt</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="spatial-concepts.html#GUID-67E4037F-C40F-442A-8662-837DD5539784" title="Oracle Spatial and Graph is an integrated set of functions, procedures, data types, and data models that support spatial and graph analytics. The spatial features enable spatial data to be stored, accessed, and analyzed quickly and efficiently in an Oracle database.">Spatial Concepts</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>