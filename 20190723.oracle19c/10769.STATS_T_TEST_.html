<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>STATS_T_TEST_*</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="STATS_ONE_WAY_ANOVA.html" title="Previous" type="text/html">
      <link rel="next" href="STATS_WSR_TEST.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="STATS_ONE_WAY_ANOVA.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="STATS_WSR_TEST.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">STATS_T_TEST_* </li>
            </ol>
            <a id="GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A" name="GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A"></a><a id="SQLRF51784"></a><a id="SQLRF51785"></a><a id="SQLRF51786"></a><a id="SQLRF51787"></a><a id="SQLRF06323"></a>
            
            <h2 id="SQLRF-GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A" class="sect2">STATS_T_TEST_* </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>The <span class="italic">t</span>-test functions are:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a id="d155979e133" class="indexterm-anchor"></a><a id="d155979e135" class="indexterm-anchor"></a><code class="codeph">STATS_T_TEST_ONE</code>: A one-sample <span class="italic">t</span>-test
                        </p>
                     </li>
                     <li>
                        <p><a id="d155979e147" class="indexterm-anchor"></a><a id="d155979e149" class="indexterm-anchor"></a><code class="codeph">STATS_T_TEST_PAIRED</code>: A two-sample, paired <span class="italic">t</span>-test (also known as a crossed <span class="italic">t</span>-test)
                        </p>
                     </li>
                     <li>
                        <p><a id="d155979e164" class="indexterm-anchor"></a><a id="d155979e166" class="indexterm-anchor"></a><code class="codeph">STATS_T_TEST_INDEP</code>: A <span class="italic">t</span>-test of two independent groups with the same variance (pooled variances)
                        </p>
                     </li>
                     <li>
                        <p><a id="d155979e178" class="indexterm-anchor"></a><a id="d155979e180" class="indexterm-anchor"></a><code class="codeph">STATS_T_TEST_INDEPU</code>: A <span class="italic">t</span>-test of two independent groups with unequal variance (unpooled variances)
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A__GUID-C4D7C036-C998-459F-ADBC-83996510577E">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A__GUID-36A9E78C-33E2-49A2-9724-84AD81BDB7E8"><span class="italic">stats_t_test</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A__GUID-66F65C68-DA54-4669-8E72-B4E7C369C48C"><img src="img/stats_t_test.gif" alt="Description of stats_t_test.eps follows" title="Description of stats_t_test.eps follows" longdesc="img_text/stats_t_test.html"><br><a href="img_text/stats_t_test.html">Description of the illustration stats_t_test.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A__GUID-658D8257-E783-4D1D-8516-FB14827F423F">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The <span class="italic">t</span>-test measures the significance of a difference of means. You can use it to compare the means of two groups or the means of one group with a constant. Each <span class="italic">t</span>-test function takes two expression arguments, although the second expression is optional for the one-sample function (<code class="codeph">STATS_T_TEST_ONE</code>). Each <span class="italic">t</span>-test function takes an optional third argument, which lets you specify the meaning of the <code class="codeph">NUMBER</code> value returned by the function, as shown in <a href="STATS_T_TEST_.html#GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A__G1514103" title="The first column lists the values you can specify for the argument of the function and the second column explains the return value meanings.">Table 7-9</a>. For this argument, you can specify a text literal, or a bind variable or expression that evaluates to a constant character value. If you omit the third argument, then the default is <code class="codeph">'TWO_SIDED_SIG'</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A__GUID-50A31406-2FBB-4309-A191-9581EF877502">
                     <p class="notep1">See Also:</p>
                     <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for the collation determination rules for the <code class="codeph">STATS_T_TEST_*</code> functions
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-B570D6F6-E4D7-4033-AC83-7E76F2E9CC2A__G1514103">
                  <p class="titleintable">Table 7-9 STATS_T_TEST_* Return Values</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="STATS_T_TEST_* Return Values" summary="The first column lists the values you can specify for the argument of the function and the second column explains the return value meanings." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="31%" id="d155979e253">Argument</th>
                           <th align="left" valign="bottom" width="69%" id="d155979e256">Return Value Meaning</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d155979e261" headers="d155979e253 ">
                              <p><code class="codeph">'STATISTIC'</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d155979e261 d155979e256 ">
                              <p>The observed value of <span class="italic">t</span></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d155979e271" headers="d155979e253 ">
                              <p><code class="codeph">'DF'</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d155979e271 d155979e256 ">
                              <p>Degree of freedom</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d155979e279" headers="d155979e253 ">
                              <p><code class="codeph">'ONE_SIDED_SIG'</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d155979e279 d155979e256 ">
                              <p>One-tailed significance of <span class="italic">t</span></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d155979e289" headers="d155979e253 ">
                              <p><code class="codeph">'TWO_SIDED_SIG'</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d155979e289 d155979e256 ">
                              <p>Two-tailed significance of <span class="italic">t</span></p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <p>The two independent <code class="codeph">STATS_T_TEST_</code>* functions can take a fourth argument (<span class="italic"><code class="codeph">expr3</code></span>) if the third argument is specified as <code class="codeph">'STATISTIC'</code> or <code class="codeph">'ONE_SIDED_SIG'</code>. In this case, <span class="italic"><code class="codeph">expr3</code></span> indicates which value of <span class="italic"><code class="codeph">expr1</code></span> is the high value, or the value whose rejection region is the upper tail. 
                  </p>
                  <p>The significance of the observed value of <span class="italic">t</span> is the probability that the value of <span class="italic">t</span> would have been obtained by chanceâ€”a number between 0 and 1. The smaller the value, the more significant the difference between the means. One-sided significance is always respect to the upper tail. For one-sample and paired <span class="italic">t</span>-test, the high value is the first expression. For independent <span class="italic">t</span>-test, the high value is the one specified by <span class="italic"><code class="codeph">expr3</code></span>.  
                  </p>
                  <p>The degree of freedom depends on the type of <span class="italic">t</span>-test that resulted in the observed value of <span class="italic">t</span>. For example, for a one-sample <span class="italic">t</span>-test (<code class="codeph">STATS_T_TEST_ONE</code>), the degree of freedom is the number of observations in the sample minus 1.
                  </p>
               </div>
               <!-- class="section" -->
            </div><a id="SQLRF51789"></a><a id="SQLRF51788"></a><div class="props_rev_3"><a id="GUID-448CF6C8-3F3A-4AD4-868A-6EC31D34B61B" name="GUID-448CF6C8-3F3A-4AD4-868A-6EC31D34B61B"></a><h3 id="SQLRF-GUID-448CF6C8-3F3A-4AD4-868A-6EC31D34B61B" class="sect3">STATS_T_TEST_ONE </h3>
               <div>
                  <div class="section">
                     <p>In the <code class="codeph">STATS_T_TEST_ONE</code> function, <span class="italic"><code class="codeph">expr1</code></span> is the sample and <span class="italic"><code class="codeph">expr2</code></span> is the constant mean against which the sample mean is compared. For this <span class="italic">t</span>-test only, <span class="italic"><code class="codeph">expr2</code></span> is optional; the constant mean defaults to 0. This function obtains the value of <span class="italic">t</span> by dividing the difference between the sample mean and the known mean by the standard error of the mean (rather than the standard error of the difference of the means, as for <code class="codeph">STATS_T_TEST_PAIRED</code>).
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-448CF6C8-3F3A-4AD4-868A-6EC31D34B61B__GUID-97342943-2D21-485A-A06C-D505259C3860">STATS_T_TEST_ONE Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example determines the significance of the difference between the average list price and the constant value 60:</p><pre class="oac_no_warn" dir="ltr">SELECT AVG(prod_list_price) group_mean,
       STATS_T_TEST_ONE(prod_list_price, 60, 'STATISTIC') t_observed,
       STATS_T_TEST_ONE(prod_list_price, 60) two_sided_p_value
  FROM sh.products;

GROUP_MEAN T_OBSERVED TWO_SIDED_P_VALUE
---------- ---------- -----------------
139.545556 2.32107746        .023158537
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF51790"></a><div class="props_rev_3"><a id="GUID-34C56EBD-F075-4203-9E70-723329FBD13F" name="GUID-34C56EBD-F075-4203-9E70-723329FBD13F"></a><h3 id="SQLRF-GUID-34C56EBD-F075-4203-9E70-723329FBD13F" class="sect3">STATS_T_TEST_PAIRED </h3>
               <div>
                  <div class="section">
                     <p>In the <code class="codeph">STATS_T_TEST_PAIRED</code> function, <span class="italic"><code class="codeph">expr1</code></span> and <span class="italic"><code class="codeph">expr2</code></span> are the two samples whose means are being compared. This function obtains the value of <span class="italic">t</span> by dividing the difference between the sample means by the standard error of the difference of the means (rather than the standard error of the mean, as for <code class="codeph">STATS_T_TEST_ONE</code>).
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF51793"></a><a id="SQLRF51794"></a><a id="SQLRF51792"></a><div class="props_rev_3"><a id="GUID-93DB178B-55ED-4526-B676-07F93823484B" name="GUID-93DB178B-55ED-4526-B676-07F93823484B"></a><h3 id="SQLRF-GUID-93DB178B-55ED-4526-B676-07F93823484B" class="sect3">STATS_T_TEST_INDEP and STATS_T_TEST_INDEPU </h3>
               <div>
                  <div class="section">
                     <p>In the <code class="codeph">STATS_T_TEST_INDEP</code> and <code class="codeph">STATS_T_TEST_INDEPU</code> functions, <span class="italic"><code class="codeph">expr1</code></span> is the grouping column and <span class="italic"><code class="codeph">expr2</code></span> is the sample of values. The pooled variances version (<code class="codeph">STATS_T_TEST_INDEP</code>) tests whether the means are the same or different for two distributions that have similar variances. The unpooled variances version (<code class="codeph">STATS_T_TEST_INDEPU</code>) tests whether the means are the same or different even if the two distributions are known to have significantly different variances.
                     </p>
                     <p>Before using these functions, it is advisable to determine whether the variances of the samples are significantly different. If they are, then the data may come from distributions with different shapes, and the difference of the means may not be very useful. You can perform an <span class="italic">f</span>-test to determine the difference of the variances. If they are not significantly different, use <code class="codeph">STATS_T_TEST_INDEP</code>. If they are significantly different, use <code class="codeph">STATS_T_TEST_INDEPU</code>. Refer to <a href="STATS_F_TEST.html#GUID-9E2A91FC-5BB3-449A-810C-DA6CB52B56ED">STATS_F_TEST</a> for information on performing an <span class="italic">f</span>-test.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93DB178B-55ED-4526-B676-07F93823484B__GUID-E1F13F1B-8D56-409F-AD88-016C4573E1BE">STATS_T_TEST_INDEP Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example determines the significance of the difference between the average sales to men and women where the distributions are assumed to have similar (pooled) variances: </p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR(cust_income_level, 1, 22) income_level,
      AVG(DECODE(cust_gender, 'M', amount_sold, null)) sold_to_men,
      AVG(DECODE(cust_gender, 'F', amount_sold, null)) sold_to_women,
      STATS_T_TEST_INDEP(cust_gender, amount_sold, 'STATISTIC', 'F') t_observed,
      STATS_T_TEST_INDEP(cust_gender, amount_sold) two_sided_p_value
  FROM sh.customers c, sh.sales s
  WHERE c.cust_id = s.cust_id
  GROUP BY ROLLUP(cust_income_level)
  ORDER BY income_level, sold_to_men, sold_to_women, t_observed;

INCOME_LEVEL           SOLD_TO_MEN SOLD_TO_WOMEN T_OBSERVED TWO_SIDED_P_VALUE
---------------------- ----------- ------------- ---------- -----------------
A: Below 30,000          105.28349    99.4281447 -1.9880629        .046811482
B: 30,000 - 49,999       102.59651    109.829642 3.04330875        .002341053
C: 50,000 - 69,999      105.627588    110.127931 2.36148671        .018204221
D: 70,000 - 89,999      106.630299     110.47287 2.28496443        .022316997
E: 90,000 - 109,999     103.396741    101.610416 -1.2544577        .209677823
F: 110,000 - 129,999     106.76476    105.981312 -.60444998        .545545304
G: 130,000 - 149,999    108.877532     107.31377 -.85298245        .393671218
H: 150,000 - 169,999    110.987258    107.152191 -1.9062363        .056622983
I: 170,000 - 189,999    102.808238     107.43556 2.18477851        .028908566
J: 190,000 - 249,999    108.040564    115.343356 2.58313425        .009794516
K: 250,000 - 299,999    112.377993    108.196097 -1.4107871        .158316973
L: 300,000 and above    120.970235    112.216342 -2.0642868        .039003862
                        107.121845     113.80441 .686144393        .492670059
                        106.663769    107.276386 1.08013499        .280082357
14 rows selected.</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-93DB178B-55ED-4526-B676-07F93823484B__GUID-6B49F834-529B-438C-8F64-6159827F715F">STATS_T_TEST_INDEPU Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The following example determines the significance of the difference between the average sales to men and women where the distributions are known to have significantly different (unpooled) variances:</p><pre class="oac_no_warn" dir="ltr">SELECT SUBSTR(cust_income_level, 1, 22) income_level,
       AVG(DECODE(cust_gender, 'M', amount_sold, null)) sold_to_men,
       AVG(DECODE(cust_gender, 'F', amount_sold, null)) sold_to_women,
       STATS_T_TEST_INDEPU(cust_gender, amount_sold, 'STATISTIC', 'F') t_observed,
       STATS_T_TEST_INDEPU(cust_gender, amount_sold) two_sided_p_value
  FROM sh.customers c, sh.sales s
  WHERE c.cust_id = s.cust_id
  GROUP BY ROLLUP(cust_income_level)
  ORDER BY income_level, sold_to_men, sold_to_women, t_observed;

INCOME_LEVEL           SOLD_TO_MEN SOLD_TO_WOMEN T_OBSERVED TWO_SIDED_P_VALUE
---------------------- ----------- ------------- ---------- -----------------
A: Below 30,000          105.28349    99.4281447 -2.0542592        .039964704
B: 30,000 - 49,999       102.59651    109.829642 2.96922332        .002987742
C: 50,000 - 69,999      105.627588    110.127931  2.3496854        .018792277
D: 70,000 - 89,999      106.630299     110.47287 2.26839281        .023307831
E: 90,000 - 109,999     103.396741    101.610416 -1.2603509        .207545662
F: 110,000 - 129,999     106.76476    105.981312 -.60580011        .544648553
G: 130,000 - 149,999    108.877532     107.31377 -.85219781        .394107755
H: 150,000 - 169,999    110.987258    107.152191 -1.9451486        .051762624
I: 170,000 - 189,999    102.808238     107.43556 2.14966921        .031587875
J: 190,000 - 249,999    108.040564    115.343356 2.54749867        .010854966
K: 250,000 - 299,999    112.377993    108.196097 -1.4115514        .158091676
L: 300,000 and above    120.970235    112.216342 -2.0726194        .038225611
                        107.121845     113.80441 .689462437        .490595765
                        106.663769    107.276386 1.07853782        .280794207
14 rows selected.</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>