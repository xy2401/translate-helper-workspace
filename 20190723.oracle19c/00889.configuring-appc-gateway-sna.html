<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring the Gateway Using SNA Communication Protocol</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and Configuration Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), and HP-UX Itanium">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:10:33-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="appc-gateway-config-sna-solaris.html" title="Previous" type="text/html">
      <link rel="next" href="appc-gateway-config-oltp.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64">
    <meta name="dcterms.isVersionOf" content="APPCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="appc-gateway-config-sna-solaris.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="appc-gateway-config-oltp.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and Configuration Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Configuring the Gateway Using SNA Communication Protocol </li>
            </ol>
            <a id="GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3" name="GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3"></a><a id="APPCI216"></a>
            
            <h2 id="APPCI-GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3" class="sect2"><span class="enumeration_chapter">9 </span>Configuring the Gateway Using SNA Communication Protocol 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics describe how to configure the Oracle database for a gateway using the SNA protocol on your UNIX based platform. It also shows you how to configure commit-confirm, should you choose to implement it.</p>
               <p>The topics provide the steps necessary to verify installation and configuration of the gateway components, including optional commit-confirm.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C">Before You Begin</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E">Preparing to Configure a Gateway Installation/Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle Database Configuration: First-Time Gateway Installations</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-48D53BAD-4F1D-4789-842A-00FAE311B565">Upgrading or Migrating the Oracle Database from Previous Gateways</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-0323371A-CA16-4CC7-9055-3D136A8314A0">Configuring the Oracle Database for Gateways to Coexist</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288">Optional Configuration Steps to Permit Multiple Users</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4">Configuring the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-544B3014-8746-41E6-9132-12E473D38254">Configuring Commit-Confirm</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56">Verifying the Gateway Installation and OLTP Configuration</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-835A25DB-1E5B-485C-9054-E920CC262570">Performing Postinstallation Procedures</a></p>
                  </li>
               </ul>
               <p><a id="d10176e84" class="indexterm-anchor"></a><a id="d10176e88" class="indexterm-anchor"></a><a id="d10176e92" class="indexterm-anchor"></a>Configuring the Oracle Database Gateway for APPC using SNA involves working with the following components:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Oracle database</p>
                  </li>
                  <li>
                     <p>UNIX system</p>
                  </li>
                  <li>
                     <p>Network</p>
                  </li>
                  <li>
                     <p>OLTP</p>
                  </li>
               </ul>
            </div><a id="APPCI217"></a><div class="props_rev_3"><a id="GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C" name="GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C"></a><h3 id="APPCI-GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C" class="sect3">Before You Begin</h3>
               <div>
                  <p>Gateway configuration using SNA communication protocol requires you to input parameters unique to your system to properly configure the gateway and SNA communications interface. </p>
                  <p>Refer to <a href="appc-gateway-configuration-worksheet.html#GUID-2660834A-3E7D-4288-BDAA-AC38EC4D6230"> Configuration Worksheet</a> for a worksheet listing the installation parameters that you need to know before you can complete the configuration process. Ask your network administrator to provide you with these unique parameter names before you begin.
                  </p>
               </div>
            </div><a id="APPCI362"></a><a id="APPCI363"></a><a id="APPCI364"></a><a id="APPCI218"></a><div class="props_rev_3"><a id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E" name="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E"></a><h3 id="APPCI-GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E" class="sect3">Preparing to Configure a Gateway Installation/Upgrade</h3>
               <div>
                  <div class="section">
                     <p>There are three ways to establish the gateway-Oracle database relationship when you are installing or upgrading or migrating the gateway:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012371">When Oracle Database and the Gateway Are Installed in the Same ORACLE_HOME</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012376">When Oracle Database and the Gateway Are Installed on Separate Systems</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012381">When Oracle Database and the Gateway Are on the Same System but in Different Directories</a></p>
                        </li>
                     </ul>
                     <p><a id="d10176e202" class="indexterm-anchor"></a><a id="d10176e206" class="indexterm-anchor"></a><a id="d10176e210" class="indexterm-anchor"></a>Depending on the location of the gateway and the Oracle database, you might need to transfer some of the gateway administrative files to the location where Oracle database is installed.
                     </p>
                     <p>Follow the instructions corresponding to your combination of the gateway-Oracle database locations listed below.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012371">
                     <p class="subhead2" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-FCFA7BC4-8110-4426-8F6B-B68806B1AD47">When Oracle Database and the Gateway Are Installed in the Same ORACLE_HOME</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You do not need to transfer files. Proceed to <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle Database Configuration: First-Time Gateway Installations</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012376">
                     <p class="subhead2" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-9BBDC1F1-7E57-4094-89D6-19D1388A2D7A">When Oracle Database and the Gateway Are Installed on Separate Systems</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You need to perform the following tasks if Oracle database and the gateway are installed on separate systems:</p>
                     <ol>
                        <li>
                           <p>Locate the gateway administrative files in the gateway <code class="codeph"> $ORACLE_HOME/dg4appc/admin</code> directory. All files in this directory that have the <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>,<span class="bold"> </span>or <code class="codeph">.pkb</code> suffixes must be copied into a similarly-named directory in the Oracle database Oracle home directory.
                           </p>
                        </li>
                        <li>
                           <p>Now locate the gateway demo files and subdirectories in the  <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory of the gateway. Copy the <code class="codeph">pgavsn.sql</code> and <code class="codeph">pgaecho.sql</code> files into a similarly named directory in Oracle database.
                           </p>
                        </li>
                        <li>
                           <p>Copy the other subdirectories and files related to your installed OLTP on your remote host. For example, if you have CICS as your only OLTP, then copy the  <code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS</code> gateway files into a similarly named directory in the Oracle database.
                           </p>
                           <div class="infoboxnote" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-30E48FE2-2823-4878-A651-CF1F0549A06C">
                              <p class="notep1">Note:</p>
                              <p>Before transferring the files from the  <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory, ensure that you have generated your required TIPs. You need to transfer the TIPs as well.
                              </p>
                              <p>Refer to the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for information about generating TIPs using Procedural Gateway Administrative Utility (PGAU).
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012381">
                     <p class="subhead2" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-0D156646-C9FA-4219-B334-48A06AF6ED00">When Oracle Database and the Gateway Are on the Same System but in Different Directories</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You must change your gateway Oracle home to the Oracle home directory of Oracle database.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>For example, if your gateway Oracle home is set as follows:</span><div><pre class="oac_no_warn" dir="ltr">$ echo $ORACLE_HOME
/oracle/pga/12.2
</pre><p>and your server Oracle home is located in the <code class="codeph">/oracle/pga/12.2</code> directory, then you need to do the following:
                           </p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME=/oracle/pga/12.2; export ORACLE_HOME
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Now create the directories with the following commands:<a id="d10176e311" class="indexterm-anchor"></a></span><div><pre class="oac_no_warn" dir="ltr">$ cd $ORACLE_HOME
$ mkdir dg4appc
$ mkdir dg4appc/admin
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Use whatever file transfer mechanism is available on your system to copy all of the <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>, and <code class="codeph">.pkb</code> files from the gateway Oracle home <code class="codeph"> $ORACLE_HOME/dg4appc/admin</code> directory to the Oracle database Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory.</span></li>
                     <li class="stepexpand"><span>You might also transfer the demo files from the gateway directory to the Oracle database directory. Copy the files and directory recursively from the gateway Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory to the Oracle database <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory. </span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">$ cp -p -R /oracle/pga/12.2/dg4appc/demo $ORACLE_HOME/dg4appc</pre><div class="infoboxnote" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-C1EBFCEB-5D4C-4C35-B35F-5C30A4BCC110">
                              <p class="notep1">Note:</p>
                              <p>Before transferring the files from the  <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory, ensure that you have generated your required TIPs. You need to transfer the TIPs as well.
                              </p>
                              <p>Refer to the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide </span></a> for information about generating TIPs using PGAU.
                              </p>
                           </div>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>If this is a first-time installation, proceed with <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle Database Configuration: First-Time Gateway Installations</a>.
                     </p>
                     <p>If this is an upgrade, proceed with <a href="configuring-appc-gateway-sna.html#GUID-48D53BAD-4F1D-4789-842A-00FAE311B565">Upgrading or Migrating the Oracle Database from Previous Gateways</a>. 
                     </p>
                     <p>Following those steps, you might want to perform the <a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288">Optional Configuration Steps to Permit Multiple Users</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI219"></a><div class="props_rev_3"><a id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D" name="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D"></a><h3 id="APPCI-GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D" class="sect3">Oracle Database Configuration: First-Time Gateway Installations</h3>
               <div>
                  <div class="section">
                     <p>Follow these steps to configure your <a id="d10176e417" class="indexterm-anchor"></a>Oracle database if you have installed Oracle Database Gateway for APPC for the first time:
                     </p>
                     <ol>
                        <li>
                           <p>Ensure that the <a id="d10176e428" class="indexterm-anchor"></a><a id="d10176e430" class="indexterm-anchor"></a><a id="d10176e434" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> PL/SQL package has been installed on your Oracle database. <a id="d10176e443" class="indexterm-anchor"></a><a id="d10176e449" class="indexterm-anchor"></a>All PGAU-generated TIP specifications use <code class="codeph">UTL_RAW</code>, which provides routines for manipulating raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use <a id="d10176e461" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database as the <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW
</pre><p>The <code class="codeph">DESCRIBE</code> statement produces output on your screen. If you browse through the output, you should see some functions, including a compare function. If you do not see this output, then continue the <code class="codeph">UTL_RAW</code> installation by performing Step <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009705">1.d</a> below. 
                                 </p>
                                 <p>If the <a id="d10176e487" class="indexterm-anchor"></a><a id="d10176e491" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement indicates success, then your Oracle database has <a id="d10176e496" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> installed and you can proceed to Step <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009709">2</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Use <a id="d10176e507" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database as the SYS user.
                                 </p>
                              </li>
                              <li id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009705">
                                 <p>From SQL*Plus, run the <a id="d10176e515" class="indexterm-anchor"></a><a id="d10176e519" class="indexterm-anchor"></a><code class="codeph">utlraw.sql</code> and <a id="d10176e526" class="indexterm-anchor"></a><a id="d10176e528" class="indexterm-anchor"></a><code class="codeph">prvtrawb.plb</code> scripts in the Oracle database <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory, in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/utlraw.sql
SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtrawb.plb
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009709">
                           <p>Ensure that the <a id="d10176e543" class="indexterm-anchor"></a><a id="d10176e545" class="indexterm-anchor"></a>DBMS_OUTPUT standard PL/SQL <a id="d10176e550" class="indexterm-anchor"></a><a id="d10176e552" class="indexterm-anchor"></a><a id="d10176e556" class="indexterm-anchor"></a>package is enabled on <a id="d10176e561" class="indexterm-anchor"></a>Oracle database. The sample programs and installation verification programs on the distribution media use this standard package.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the Oracle database as the  <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT
</pre></li>
                           </ol>
                           <p>The <a id="d10176e580" class="indexterm-anchor"></a><a id="d10176e584" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement produces output on your screen. If you browse through that output, you should see some functions, including a <a id="d10176e591" class="indexterm-anchor"></a><a id="d10176e593" class="indexterm-anchor"></a><code class="codeph">put_line</code> function.
                           </p>
                           <p>If you do not see this output, then you must create the <code class="codeph">DBMS_OUTPUT</code> package. Refer to the <a href="../arpls/DBMS_OUTPUT.html#ARPLS036" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_OUTPUT</code> package. After successful installation of the <code class="codeph">DBMS_OUTPUT</code> package, issue the <code class="codeph">DESCRIBE</code> statement.
                           </p>
                           <p>If the <code class="codeph">DESCRIBE</code> statement indicates success, then your Oracle database has <code class="codeph">DBMS_OUTPUT</code> created, and you can proceed to Step&nbsp;3.
                           </p>
                        </li>
                        <li>
                           <p>Install the <a id="d10176e630" class="indexterm-anchor"></a><a id="d10176e634" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> PL/SQL package. All <a id="d10176e641" class="indexterm-anchor"></a><a id="d10176e647" class="indexterm-anchor"></a>PGAU-generated TIP specifications use <code class="codeph">UTL_PG</code>, which provides routines for performing numeric conversions to and from raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the Oracle database as the  <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <a id="d10176e665" class="indexterm-anchor"></a><a id="d10176e669" class="indexterm-anchor"></a><code class="codeph">utlpg.sql</code> and <code class="codeph">prvtpgb.plb</code> scripts in the Oracle database <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory, in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/utlpg.sql
SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtpgb.plb
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>I<a id="d10176e687" class="indexterm-anchor"></a>nstall the Heterogeneous Services (HS) catalogs.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the Oracle database as the  <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE HS_FDS_CLASS
</pre><p>The <code class="codeph">DESCRIBE</code> statement produces output on your screen. If the <code class="codeph">DESCRIBE</code> statement indicates success, then heterogeneous services catalogs have been created on your Oracle database and you can proceed to Step&nbsp;5, otherwise follow the next step only if the <code class="codeph">DESCRIBE</code> statement does not indicate success. Step c creates the Heterogeneous Services catalog.
                                 </p>
                              </li>
                              <li>
                                 <p>If it is necessary to create the Heterogeneous Services catalog, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; $ORACLE_HOME/rdbms/admin/caths.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1008586">
                           <p><a id="d10176e724" class="indexterm-anchor"></a><a id="d10176e728" class="indexterm-anchor"></a>Create a public database link to access Oracle Database Gateway for APPC:<a id="d10176e735" class="indexterm-anchor"></a> 
                           </p>
                           <p>Use <a id="d10176e742" class="indexterm-anchor"></a>SQL*Plus to connect to the <a id="d10176e747" class="indexterm-anchor"></a>Oracle database as the <code class="codeph">SYSTEM</code> user. You can use the following SQL*Plus<a id="d10176e753" class="indexterm-anchor"></a> sample whether the Oracle database and the gateway are on the same system or on different systems. In the following sample, <code class="codeph">pgasrv</code> is the <span class="italic"><code class="codeph">tns_name_entry</code></span> that will be assigned to the gateway when you modify the <code class="codeph">tnsnames.ora</code> file later.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK PGA USING '<span class="italic">PGASRV</span>'
</pre></li>
                        <li>
                           <p>Create the gateway administrator user <a id="d10176e777" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> and install the <a id="d10176e784" class="indexterm-anchor"></a>PG DD.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as the <code class="codeph">SYSTEM</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgacr8au.sql</code> <a id="d10176e802" class="indexterm-anchor"></a><a id="d10176e804" class="indexterm-anchor"></a>script in the <code class="codeph"> $ORACLE_HOME/dg4appc/admin</code> directory. This script creates the <code class="codeph">PGAADMIN</code> user&nbsp;ID.
                                 </p>
                                 <p>The initial password defined for <a id="d10176e818" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> is <code class="codeph">PGAADMIN</code>. Use the <a id="d10176e828" class="indexterm-anchor"></a><a id="d10176e830" class="indexterm-anchor"></a><code class="codeph">ALTER USER</code> command to change the password. For more information about password issues, refer to the <a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgacr8au.sql
</pre></li>
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8.sql</code> <a id="d10176e856" class="indexterm-anchor"></a><a id="d10176e858" class="indexterm-anchor"></a><a id="d10176e862" class="indexterm-anchor"></a>script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script installs the PG&nbsp;DD.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddcr8.sql
</pre></li>
                              <li>
                                 <p>From SQL*Plus, connect to the Oracle database as the <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d10176e882" class="indexterm-anchor"></a>Grant execution privileges on <a id="d10176e887" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> to <code class="codeph">PGAADMIN</code>:<a id="d10176e895" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO PGAADMIN
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <a id="d10176e904" class="indexterm-anchor"></a><a id="d10176e908" class="indexterm-anchor"></a>TIP trace access PL/SQL routines. These routines require that the <a id="d10176e911" class="indexterm-anchor"></a>DBMS_PIPES standard PL/SQL package is installed and that <a id="d10176e914" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> has execute privileges on it. For more information on <code class="codeph">DBMS_PIPES</code>, refer to the <a href="../arpls/index.html" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the <a id="d10176e932" class="indexterm-anchor"></a>Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgatiptr.sql</code> script in the                                                          <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates<a id="d10176e947" class="indexterm-anchor"></a> PL/SQL routines that can be called to read and purge trace information created by PGAU-generated <a id="d10176e952" class="indexterm-anchor"></a>TIP specifications. It also creates public synonyms for these routines. The script prompts you for the necessary user&nbsp;IDs and passwords.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgatiptr.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <code class="codeph">GPGLOCAL</code> package. This package is required for compilation and execution of all PGAU-generated <a id="d10176e965" class="indexterm-anchor"></a>TIP specifications. <a id="d10176e970" class="indexterm-anchor"></a><a id="d10176e974" class="indexterm-anchor"></a><a id="d10176e978" class="indexterm-anchor"></a>TIP developers should be granted execute privileges on <a id="d10176e983" class="indexterm-anchor"></a><code class="codeph">GPGLOCAL</code> (refer to Step <a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A__I1012843">3</a>of <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288__I1012843">Optional Configuration Steps to Permit Multiple Users</a>"</span>).
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as user <a id="d10176e1001" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">gpglocal.pkh</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script compiles the <code class="codeph">GPGLOCAL</code> package specification.<a id="d10176e1020" class="indexterm-anchor"></a><a id="d10176e1022" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/gpglocal.pkh
</pre></li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">gpglocal.pkb</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script compiles the <code class="codeph">GPGLOCAL</code> package body.<a id="d10176e1042" class="indexterm-anchor"></a><a id="d10176e1044" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/gpglocal.pkb</pre></li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI220"></a><div class="props_rev_3"><a id="GUID-48D53BAD-4F1D-4789-842A-00FAE311B565" name="GUID-48D53BAD-4F1D-4789-842A-00FAE311B565"></a><h3 id="APPCI-GUID-48D53BAD-4F1D-4789-842A-00FAE311B565" class="sect3">Upgrading or Migrating the Oracle Database from Previous Gateways</h3>
               <div>
                  <div class="section">
                     <p>Follow these instructions only if you have a previous version of the Oracle Database Gateway for APPC installed on your system and need to configure it for 12<span class="italic">c</span> Release 2 (12.2) of the gateway.
                     </p>
                     <p>Upgrade your Oracle Database Gateway for APPC to current version levels as follows:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Use SQL*Plus to connect to the Oracle database as the <code class="codeph">SYS</code> user.</span></li>
                     <li class="stepexpand"><span>Install the <code class="codeph">UTL_RAW</code> package body. From SQL*Plus, run the <code class="codeph">prvtrawb.plb</code> <a id="d10176e1118" class="indexterm-anchor"></a><a id="d10176e1120" class="indexterm-anchor"></a>script from the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory. This script upgrades the <code class="codeph">UTL_RAW</code> package body.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtrawb.plb
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Install the <code class="codeph">UTL_PG</code> package body. From SQL*Plus, run the <code class="codeph">prvtpgb.plb</code> <a id="d10176e1143" class="indexterm-anchor"></a><a id="d10176e1147" class="indexterm-anchor"></a>script from the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory.<a id="d10176e1155" class="indexterm-anchor"></a><a id="d10176e1160" class="indexterm-anchor"></a> This script upgrades the <code class="codeph">UTL_PG</code> package body.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtpgb.plb
</pre><p>The <code class="codeph">prvtrawb.plb</code> and <code class="codeph">prvtpgb.plb</code> scripts should complete successfully. If they fail because specifications do not exist or were invalidated, then consider reinstalling the package specifications as directed in the following section.
                           </p>
                        </div>
                     </li>
                  </ol>
               </div><a id="APPCI385"></a><a id="APPCI386"></a><a id="APPCI221"></a><div class="props_rev_3"><a id="GUID-51835C81-F475-4490-B9A7-4E872EC86D38" name="GUID-51835C81-F475-4490-B9A7-4E872EC86D38"></a><h4 id="APPCI-GUID-51835C81-F475-4490-B9A7-4E872EC86D38" class="sect4">If You Must Reinstall Package Specifications</h4>
                  <div>
                     <div class="section">
                        <p>If the <a id="d10176e1223" class="indexterm-anchor"></a><a id="d10176e1229" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> or <a id="d10176e1238" class="indexterm-anchor"></a><a id="d10176e1244" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> package has been invalidated or deinstalled, the <code class="codeph">prvtrawb.plb</code> and <code class="codeph">prvtpgb.plb</code> scripts might not complete successfully and you might have to reinstall <a id="d10176e1260" class="indexterm-anchor"></a><a id="d10176e1264" class="indexterm-anchor"></a><a id="d10176e1268" class="indexterm-anchor"></a>the package specifications.
                        </p>
                        <p>If you do reinstall the package specifications, any dependent objects (such as existing user TIPs and client applications) are invalidated and will subsequently need <a id="d10176e1277" class="indexterm-anchor"></a>to be recompiled. The impact of this is a one-time performance delay while recompilation of the TIPs and dependent client applications proceeds.
                        </p>
                        <div class="infoboxnote" id="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-B2627796-3BE1-48CA-834B-8B7D8996718A">
                           <p class="notep1">Note:</p>
                           <p>Before proceeding with reinstallation of the package scripts, make sure that you are in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory.
                           </p>
                        </div>
                        <p>TIPs were split into separate specification and body files in release&nbsp;3.3 to avoid cascaded recompilations in later releases.</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-181B9164-5FC3-407E-A2E0-2020A68CD63E">
                                 <!-- --></a>Step 1&nbsp;&nbsp;&nbsp;Run the Following Scripts before Proceeding with the PGAU Upgrade
                           </dt>
                           <dd>
                              <p>From SQL*Plus, run the <code class="codeph">utlraw.sql</code> script:
                              </p>
                              <ol>
                                 <li>
                                    <p>If necessary, use SQL*Plus to connect to the Oracle database as the <code class="codeph">SYS</code> user.
                                    </p>
                                 </li>
                                 <li>
                                    <p>From SQL*Plus, run the <code class="codeph">utlraw.sql</code> and <code class="codeph">utlpg.sql</code> scripts in Oracle database <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory, in the following order, to upgrade their respective package specifications:<a id="d10176e1325" class="indexterm-anchor"></a><a id="d10176e1329" class="indexterm-anchor"></a><a id="d10176e1333" class="indexterm-anchor"></a><a id="d10176e1337" class="indexterm-anchor"></a> 
                                    </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/utlraw.sql
SQL&gt; @$ORACLE_HOME/rdbms/admin/utlpg.sql</pre></li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-EFAADD91-92B4-4A3C-9846-64F37A6011AD">
                                 <!-- --></a>Step 2&nbsp;&nbsp;&nbsp;Repeat Installation of UTL_RAW and UTL_PG Package Body
                           </dt>
                           <dd>
                              <p>After the scripts have run, repeat Steps 2 and 3 in <a href="configuring-appc-gateway-sna.html#GUID-48D53BAD-4F1D-4789-842A-00FAE311B565">Upgrading or Migrating the Oracle Database from Previous Gateways</a>. Then proceed to the section titled <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31">Upgrading PGAU From Previous Gateway Releases</a>"</span>.
                              </p>
                              <div class="infoboxnote" id="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-8C266EC6-A473-4EE1-90CB-2A1B6E7416C2">
                                 <p class="notep1">Note:</p>
                                 <p>TIPs and dependent client applications must be recompiled after reinstallation of the package specifications. Refer to the "Compiling a TIP" section in Chapter&nbsp;3 of the <a href="../appug/creating-tip-oracle-database-gateway-appc.html#APPUG300" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for information about compiling TIPs.
                                 </p>
                              </div>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI222"></a><div class="props_rev_3"><a id="GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31" name="GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31"></a><h4 id="APPCI-GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31" class="sect4">Upgrading PGAU From Previous Gateway Releases</h4>
                  <div>
                     <div class="section">
                        <p>Upgrade the <a id="d10176e1400" class="indexterm-anchor"></a>PG DD as follows before executing the new PGAU:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>If necessary, use SQL*Plus to connect to the Oracle database as user <code class="codeph">PGAADMIN</code>.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgddupgr.sql</code> <a id="d10176e1418" class="indexterm-anchor"></a><a id="d10176e1420" class="indexterm-anchor"></a>script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script upgrades the PG&nbsp;DD. </span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="APPCI223"></a><div class="props_rev_3"><a id="GUID-0323371A-CA16-4CC7-9055-3D136A8314A0" name="GUID-0323371A-CA16-4CC7-9055-3D136A8314A0"></a><h3 id="APPCI-GUID-0323371A-CA16-4CC7-9055-3D136A8314A0" class="sect3">Configuring the Oracle Database for Gateways to Coexist</h3>
               <div>
                  <div class="section">
                     <p><a id="d10176e1462" class="indexterm-anchor"></a>You might have an older version of the gateway already installed. Be aware that although a version&nbsp;10 gateway can communicate with a version&nbsp;9 data dictionary (PGDD), a version&nbsp;9 gateway cannot communicate with a version&nbsp;10 data dictionary. Thus, if you upgrade your data dictionary to a version&nbsp;10, no gateways which were configured with a version&nbsp;9 data dictionary will be able to communicate with it.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0DE22027-F985-4E80-982C-F5521271D288" name="GUID-0DE22027-F985-4E80-982C-F5521271D288"></a><h3 id="APPCI-GUID-0DE22027-F985-4E80-982C-F5521271D288" class="sect3">Optional Configuration Steps to Permit Multiple Users</h3>
               <div>
                  <div class="section">
                     <p>The following configuration steps are optional. Perform these steps if you want to allow users other than <a id="d10176e1514" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> to perform <a id="d10176e1521" class="indexterm-anchor"></a>PG DD operations using PGAU.
                     </p>
                     <ol>
                        <li>
                           <p>Create <a id="d10176e1530" class="indexterm-anchor"></a><a id="d10176e1532" class="indexterm-anchor"></a>public synonyms for the PG DD to allow other users to access the tables:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as the <code class="codeph">SYSTEM</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <a id="d10176e1547" class="indexterm-anchor"></a><a id="d10176e1549" class="indexterm-anchor"></a><code class="codeph">pgddcr8s.sql </code>script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates public synonyms for the PG DD.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddcr8s.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Create roles for accessing the PG DD, performing definitions of transactions, and generating <a id="d10176e1566" class="indexterm-anchor"></a>TIP specifications. The <code class="codeph">PGAADMIN</code> user can grant these roles to other users as necessary.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8r.sql</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates two roles, <code class="codeph">PGDDDEF</code> and <code class="codeph">PGDDGEN</code>. The <a id="d10176e1599" class="indexterm-anchor"></a><a id="d10176e1601" class="indexterm-anchor"></a><code class="codeph">PGDDDEF</code> role provides <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges against some of the <a id="d10176e1621" class="indexterm-anchor"></a>PG DD tables, and <code class="codeph">SELECT</code> privileges against others, and allows execution of the PGAU <code class="codeph">DEFINE</code>, <code class="codeph">GENERATE</code>, <code class="codeph">REDEFINE</code>, <code class="codeph">REPORT</code>, and <code class="codeph">UNDEFINE</code> statements. The <a id="d10176e1645" class="indexterm-anchor"></a><a id="d10176e1647" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role provides select privileges against the PG DD tables, and allows execution of the PGAU <code class="codeph">GENERATE</code> and <code class="codeph">REPORT</code> statements only.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddcr8r.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-0DE22027-F985-4E80-982C-F5521271D288__I1012843">
                           <p><a id="d10176e1664" class="indexterm-anchor"></a><a id="d10176e1668" class="indexterm-anchor"></a><a id="d10176e1672" class="indexterm-anchor"></a><a id="d10176e1676" class="indexterm-anchor"></a>Grant access to PGA required packages.
                           </p>
                           <p><a id="d10176e1682" class="indexterm-anchor"></a><a id="d10176e1686" class="indexterm-anchor"></a>TIP developers require access to the following PL/SQL packages, which are shipped with the <a id="d10176e1691" class="indexterm-anchor"></a>Oracle database:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a id="d10176e1699" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> in the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d10176e1709" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> in the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d10176e1719" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> in the <code class="codeph">$ORACLE_HOME/rdbms/admin</code><a id="d10176e1726" class="indexterm-anchor"></a><a id="d10176e1730" class="indexterm-anchor"></a> directory
                                 </p>
                              </li>
                           </ul>
                           <p>Explicit grants to execute these packages must be made to TIP developers.</p>
                           <p>These grants can be private as in the following example:</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS/<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON UTL_RAW TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON UTL_PG TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO <span class="italic">tip_developer;</span> 
SQL&gt; CONNECT PGAADMIN/<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO <span class="italic">tip_developer;</span> 
SQL&gt; exit
</pre><p>Alternatively, these grants can be public as in the following example:</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS/pw@<span class="italic">database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON UTL_RAW TO PUBLIC;
SQL&gt; GRANT EXECUTE ON UTL_PG TO PUBLIC;
SQL&gt; GRANT EXECUTE ON DBMS_PIPE to PUBLIC;
SQL&gt; CONNECT PGAADMIN/<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO PUBLIC;
SQL&gt; EXIT
</pre><p>You can use either private or public grants. Both are sufficient for using PGA. Public grants are easier and can be performed now. If you use private grants, then they must be issued each time a new TIP developer user&nbsp;ID is created.<a id="d10176e1778" class="indexterm-anchor"></a><a id="d10176e1782" class="indexterm-anchor"></a></p>
                           <p>SQL scripts for performing these grants are provided in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. The<a id="d10176e1793" class="indexterm-anchor"></a><a id="d10176e1797" class="indexterm-anchor"></a> <code class="codeph">pgddapub.sql</code> script performs these grants for public access to the packages. The <code class="codeph">pgddadev.sql </code>script performs the grants for private access to the packages by a single TIP developer. If you are going to use private grants, then you must run the <code class="codeph">pgddadev.sql</code> script once for each TIP developer user&nbsp;ID:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the appropriate script (<code class="codeph">pgddapub.sql</code> or <code class="codeph">pgddadev.sql</code>) from the <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. The script performs the necessary grants as described earlier. You are prompted for the required user&nbsp;IDs, passwords, and database specification strings.
                                 </p>
                                 <p>If you are using private grants, then repeat this step for each user&nbsp;ID requiring access to the packages.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddapub.sql
SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddadev.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d10176e1837" class="indexterm-anchor"></a><a id="d10176e1843" class="indexterm-anchor"></a>If you are upgrading from a previous release of the gateway, and if you want to upgrade your existing <a id="d10176e1848" class="indexterm-anchor"></a><a id="d10176e1852" class="indexterm-anchor"></a><a id="d10176e1853" class="indexterm-anchor"></a>TIPs with new function and maintenance, then regenerate existing T<a id="d10176e1858" class="indexterm-anchor"></a>IP specifications using the <a id="d10176e1863" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> statement.
                           </p>
                           <div class="infoboxnote" id="GUID-0DE22027-F985-4E80-982C-F5521271D288__GUID-86A409E0-92F4-49D1-94C7-30302624A3EF">
                              <p class="notep1">Note:</p>
                              <p>The <a id="d10176e1875" class="indexterm-anchor"></a>PGAU has been enhanced to automatically upgrade existing PG DD entries <a id="d10176e1880" class="indexterm-anchor"></a><a id="d10176e1884" class="indexterm-anchor"></a>with a new attribute when a <a id="d10176e1889" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> command is executed. To support this enhancement, add a new privilege to the <a id="d10176e1897" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role. To do this, as the <code class="codeph">PGAADMIN</code> user, use SQL*Plus to connect to the Oracle database where the PG&nbsp;DD is stored. Then issue the following SQL command:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT INSERT ON PGA_DATA_VALUES TO PGDDGEN</pre></div>
                           <ol type="a">
                              <li>
                                 <p>Invoke PGAU in the directory path where the PGAU control files are generated and where TIPs are stored:</p><pre class="oac_no_warn" dir="ltr">$ pgau
PGAU&gt; CONNECT PGAADMIN/pgaadmin@<span class="italic">database_specification_string</span> 
PGAU&gt; GENERATE <span class="italic">tranname</span> 
PGAU&gt; EXIT
</pre></li>
                           </ol>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the PGAU <code class="codeph">GENERATE</code> command section in Chapter 2, of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                           <p>Note that it is not necessary to define the PG DD entries again.</p>
                        </li>
                        <li>
                           <p>Invoke SQL*Plus in the same directory path where the newly-generated TIP specifications are stored.</p><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">tip_owner/pw@database_specification_string</span> 
SQL&gt; @<span class="italic">tipname.</span>pkh 
SQL&gt; @<span class="italic">tipname</span>.pkb
SQL&gt; exit
</pre><p><a id="d10176e1952" class="indexterm-anchor"></a><a id="d10176e1958" class="indexterm-anchor"></a><a id="d10176e1962" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> produces the TIP in two output files: a specification and a body. You must compile both, first the specification and then the body.
                           </p>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the PGAU <code class="codeph">GENERATE</code> command section in Chapter 2, of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI225"></a><div class="props_rev_3"><a id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4" name="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4"></a><h3 id="APPCI-GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4" class="sect3">Configuring the Gateway</h3>
               <div>
                  <div class="section">
                     <p>To configure the gateway, perform the following steps:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Customize the Oracle Database Gateway for APPC parameters.</span><div>
                           <p>Parameters specific<a id="d10176e2023" class="indexterm-anchor"></a> to the gateway are supplied in the gateway parameter file, <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code>, which is in the <a id="d10176e2039" class="indexterm-anchor"></a><code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. A sample gateway parameter <a id="d10176e2045" class="indexterm-anchor"></a><a id="d10176e2047" class="indexterm-anchor"></a><a id="d10176e2053" class="indexterm-anchor"></a>file, <a id="d10176e2058" class="indexterm-anchor"></a><a id="d10176e2060" class="indexterm-anchor"></a><code class="codeph">initPGA.ora</code> is provided in this subdirectory.<a id="d10176e2067" class="indexterm-anchor"></a><a id="d10176e2071" class="indexterm-anchor"></a><a id="d10176e2077" class="indexterm-anchor"></a></p>
                           <div class="infoboxnote" id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4__GUID-8F262371-02CF-40BC-9035-FB067218D077">
                              <p class="notep1">Note:</p>
                              <p>In the <a id="d10176e2084" class="indexterm-anchor"></a><a id="d10176e2086" class="indexterm-anchor"></a><code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file, substitute your <code class="codeph">dg4appc</code> SID name for "<span class="italic"><code class="codeph">sid</code></span> " in this file name.
                              </p>
                              <p>The <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file contains both APPC and TCP/IP parameters, separated by a description. You must modify the <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file by deleting the TCP/IP parameters. Refer to <a href="appc-gateway-initialization-parameters-sna.html#GUID-53D8F882-4389-4150-8998-300818E476B9"> Gateway Initialization Parameters for SNA Protocol</a> for the valid APPC parameters.
                              </p>
                           </div>
                           <p>The parameters fall into two categories:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Gateway initialization <a id="d10176e2137" class="indexterm-anchor"></a><a id="d10176e2143" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>These parameters control the general operation of the gateway in the Oracle environment.</p>
                                 <div class="infoboxnote" id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4__GUID-4B155CE5-EB9D-4CD6-ADC9-DC121DB133EA">
                                    <p class="notep1">Note:</p>
                                    <p>Before performing the following step, refer to <a href="appc-gateway-initialization-parameters-sna.html#GUID-53D8F882-4389-4150-8998-300818E476B9"> Gateway Initialization Parameters for SNA Protocol</a> for information about tailoring gateway initialization and PGA parameters. Pay special attention to the information about using the <code class="codeph">PGA_CAPABILITY</code> parameter.
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>PGA <a id="d10176e2163" class="indexterm-anchor"></a><a id="d10176e2167" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>PGA parameters control the APPC interface portion of the gateway. Use the <a id="d10176e2176" class="indexterm-anchor"></a><a id="d10176e2180" class="indexterm-anchor"></a><code class="codeph">SET</code> gateway initialization parameter to specify PGA parameters. Oracle recommends that you group all <code class="codeph">SET</code> commands<a id="d10176e2192" class="indexterm-anchor"></a><a id="d10176e2194" class="indexterm-anchor"></a> for PGA parameters at the end of the <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file.
                                 </p>
                                 <div class="infoboxnote" id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4__GUID-8D91EB1A-7B2B-4570-A028-F62AEFD7E7C8">
                                    <p class="notep1">Note:</p>
                                    <p>Misspelled parameters are ignored<a id="d10176e2212" class="indexterm-anchor"></a>. However, if the <code class="codeph">$ORACLE_HOME/dg4appc/admin/init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file is missing, all calls to the gateway fail and return a <code class="codeph">PGA-20928</code> error.
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCI226"></a><div class="props_rev_3"><a id="GUID-544B3014-8746-41E6-9132-12E473D38254" name="GUID-544B3014-8746-41E6-9132-12E473D38254"></a><h3 id="APPCI-GUID-544B3014-8746-41E6-9132-12E473D38254" class="sect3">Configuring Commit-Confirm</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-544B3014-8746-41E6-9132-12E473D38254__GUID-9C1E0C43-0172-4681-B4EC-C3E9FCE8828F">
                        <p class="notep1">Note:</p>
                        <p>If you are planning to implement commit-confirm, read the detailed explanation of commit-confirm's capabilities in Chapter&nbsp;5 of the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>, "Implementing Commit-Confirm (SNA Only) before proceeding.
                        </p>
                     </div>
                     <p>Follow these steps to configure the commit-confirm components. The steps for <a id="d10176e2270" class="indexterm-anchor"></a>configuring commit-confirm include:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Configuring the Oracle database where the gateway server will store its transaction log information</p>
                        </li>
                        <li>
                           <p>Configuring the gateway initialization parameters </p>
                        </li>
                        <li>
                           <p>Configuring the OLTP</p>
                        </li>
                     </ul>
                     <p>All of these steps must be performed before attempting to use any applications that use commit-confirm.<a id="d10176e2288" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI227"></a><div class="props_rev_3"><a id="GUID-F9218AF1-8735-4377-AC79-7325D8396BE7" name="GUID-F9218AF1-8735-4377-AC79-7325D8396BE7"></a><h4 id="APPCI-GUID-F9218AF1-8735-4377-AC79-7325D8396BE7" class="sect4">Configuring the Oracle Database for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p>The <a id="d10176e2325" class="indexterm-anchor"></a><a id="d10176e2329" class="indexterm-anchor"></a>Oracle database installation where the gateway server will store its transaction log information should ideally be on the same system where the gateway runs. The configuration of the server consists of creating the gateway DBA user, creating the commit-confirm log tables and creating the <a id="d10176e2334" class="indexterm-anchor"></a>PL/SQL stored procedure used by the gateway server for logging transactions.<a id="d10176e2339" class="indexterm-anchor"></a></p>
                        <p>The <code class="codeph">pgaccau.sql </code>script from the <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory creates the gateway DBA user&nbsp;ID. The default user&nbsp;ID is <code class="codeph">PGADBA</code> with the initial password set to <code class="codeph">PGADBA</code>. If you want to change the user&nbsp;ID or initial password, you must modify the script.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Use <a id="d10176e2363" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database as the <code class="codeph">SYSTEM</code> user.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgaccau.sql</code> script from the <code class="codeph"> $ORACLE­_HOME/dg4appc/admin</code> directory. This script creates the gateway DBA user&nbsp;ID. If you want to change the password at any time after running this script, you can use the <code class="codeph">ALTER USER</code> command to change the password. For further information, refer to the <a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.</span></li>
                        <li><span>Use SQL*Plus to connect to Oracle database as the <code class="codeph">PGADBA</code> user.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgaccpnd.sql</code> script from the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates the  <code class="codeph">PGA_CC_PENDING</code> table used by the gateway server for its commit-confirm transaction log.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgacclog.sql</code> script from the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates the  <code class="codeph">PGA_CC_LOG</code> <a id="d10176e2428" class="indexterm-anchor"></a>PL/SQL stored procedure used by the gateway server for updating the <code class="codeph">PGA_CC_PENDING</code> table.</span></li>
                        <li><span>Disconnect from Oracle database.</span></li>
                     </ol>
                  </div>
               </div><a id="APPCI228"></a><div class="props_rev_3"><a id="GUID-DE8EFB77-D7DC-4505-A8FC-5F004E8F0E0E" name="GUID-DE8EFB77-D7DC-4505-A8FC-5F004E8F0E0E"></a><h4 id="APPCI-GUID-DE8EFB77-D7DC-4505-A8FC-5F004E8F0E0E" class="sect4">Configuring Gateway Initialization Parameters for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p><a id="d10176e2469" class="indexterm-anchor"></a><a id="d10176e2475" class="indexterm-anchor"></a><a id="d10176e2479" class="indexterm-anchor"></a>The gateway initialization parameters are described in <a href="appc-gateway-initialization-parameters-sna.html#GUID-53D8F882-4389-4150-8998-300818E476B9"> Gateway Initialization Parameters for SNA Protocol</a>. The parameters necessary for commit-confirm support in the gateway are:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">PGA_CAPABILITY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_DB</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_USER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_PASS</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_USER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_PASS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_TPNAME</code></p>
                           </li>
                        </ul>
                        <p>These parameters should be added to your <a id="d10176e2521" class="indexterm-anchor"></a><a id="d10176e2523" class="indexterm-anchor"></a><code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file, where <span class="italic"><code class="codeph">sid</code></span> is the gateway SID for your commit-confirm gateway.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI229"></a><div class="props_rev_3"><a id="GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8" name="GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8"></a><h4 id="APPCI-GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8" class="sect4">Configuring the OLTP for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p>Configuration of the OLTP includes defining and installing the following:<a id="d10176e2574" class="indexterm-anchor"></a><a id="d10176e2580" class="indexterm-anchor"></a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Commit-confirm transaction log database</p>
                           </li>
                           <li>
                              <p>Commit-confirm forget or recovery transaction</p>
                           </li>
                           <li>
                              <p>Sample commit-confirm applications provided with the gateway</p>
                              <div class="infoboxnote" id="GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8__GUID-85A8BBDA-8502-452A-A6AA-35AEF42E17D2">
                                 <p class="notep1">Note:</p>
                                 <p>A restart of the OLTP may be necessary to implement the changes required for commit-confirm support. You should plan for this with your OLTP system administrator.</p>
                              </div>
                           </li>
                        </ul>
                        <p>Detailed instructions for configuring the Transaction Server for z/OS and IMS/TM are provided in the <code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS/README.doc</code> and                             <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/README.doc</code> files, respectively.
                        </p>
                        <p>Refer<a id="d10176e2608" class="indexterm-anchor"></a><a id="d10176e2612" class="indexterm-anchor"></a> to Chapter 5, "Implementing Commit-Confirm (SNA Only)" in the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for detailed information about commit-confirm. You will take steps to verify configuration of commit-confirm later in <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C">Verifying OLTP Configuration for Commit-Confirm</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCI230"></a><div class="props_rev_3"><a id="GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56" name="GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56"></a><h3 id="APPCI-GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56" class="sect3">Verifying the Gateway Installation and OLTP Configuration</h3>
               <div>
                  <div class="section">
                     <p>To verify the gateway installation and the OLTP configuration, perform the following procedures after installing Oracle Database Gateway for APPC.<a id="d10176e2661" class="indexterm-anchor"></a><a id="d10176e2667" class="indexterm-anchor"></a> In addition, if you chose to configure commit-confirm, follow the steps to verify the OLTP configuration for commit-confirm.
                     </p>
                     <div class="infoboxnote" id="GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56__GUID-D9DF6D1C-6AC6-407B-85B2-8477362A3E37">
                        <p class="notep1">Note:</p>
                        <p>If your <a id="d10176e2677" class="indexterm-anchor"></a>database link name is not <code class="codeph">PGA</code>, modify the demonstration <code class="codeph">.sql</code> files to give them the particular database link name that you created in Step <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1008586">5</a> of <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle Database Configuration: First-Time Gateway Installations</a>"</span>. You must modify the following <code class="codeph">.sql</code> files:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a id="d10176e2703" class="indexterm-anchor"></a><a id="d10176e2705" class="indexterm-anchor"></a><code class="codeph">pgavsn.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaecho.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgacics.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaidms.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaims.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgamvs.sql</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI231"></a><div class="props_rev_3"><a id="GUID-D52AF0FF-E0D5-4210-BA3A-D02872A1D87D" name="GUID-D52AF0FF-E0D5-4210-BA3A-D02872A1D87D"></a><h4 id="APPCI-GUID-D52AF0FF-E0D5-4210-BA3A-D02872A1D87D" class="sect4">Verifying the Gateway Installation</h4>
                  <div>
                     <div class="section">
                        <p>To verify the gateway software installation using the <a id="d10176e2778" class="indexterm-anchor"></a>database link PGA previously created, perform the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Using SQL*Plus, connect to your <a id="d10176e2789" class="indexterm-anchor"></a>Oracle database as <a id="d10176e2796" class="indexterm-anchor"></a><code class="codeph">PGAADMIN. </code></span></li>
                        <li class="stepexpand"><span>Run <code class="codeph">$ORACLE_HOME/dg4appc/demo/pgavsn.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/pgavsn.sql
</pre><p>The server version number banner appears at your terminal. The following output appears:</p><pre class="oac_no_warn" dir="ltr">Oracle Database Gateway for APPC.
Version 12.2.0.1.0 Wed Aug 24 14:39:15 
2016<a id="d10176e2813" class="indexterm-anchor"></a>

Copyright (c) Oracle Corporation 1979,2016.  All rights reserved.
</pre><p>PL/SQL procedure successfully completed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run <code class="codeph">$ORACLE_HOME/dg4appc/demo/pgaecho.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/pgaecho.sql
</pre><p>You will receive the following output:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your installation was successful. &lt;==</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="APPCI232"></a><div class="props_rev_3"><a id="GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6" name="GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6"></a><h4 id="APPCI-GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6" class="sect4">Verifying the OLTP Configuration </h4>
                  <div>
                     <div class="section">
                        <p>The procedure for verifying your OLTP configuration varies, depending on which OLTP you are using and depending upon which platform the OLTP is running on. CICS Transaction Server for z/OS, IMS/TM, APPC/MVS, and z/OS are the currently supported <a id="d10176e2879" class="indexterm-anchor"></a>OLTPs. Follow the instructions in the following sections for verifying installation:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-appc-gateway-sna.html#GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A">CICS Verification </a></p>
                           </li>
                           <li>
                              <p><a href="configuring-appc-gateway-sna.html#GUID-86FF2AE4-0009-4126-A28F-5F466115E345">IMS/TM Verification</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-appc-gateway-sna.html#GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2">APPC/MVS Verification </a></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6__GUID-C577253C-DB56-47B7-BB79-7366E4C9F467">
                           <p class="notep1">Note:</p>
                           <p>If you have not completed the file transfers detailed in <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E">Preparing to Configure a Gateway Installation/Upgrade</a>"</span>, complete them now, before proceeding to the next step.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPCI233"></a><div class="props_rev_3"><a id="GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A" name="GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A"></a><h5 id="APPCI-GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A" class="sect5">CICS Verification </h5>
                     <div>
                        <div class="section">
                           <p>If your OLTP is <a id="d10176e2960" class="indexterm-anchor"></a><a id="d10176e2966" class="indexterm-anchor"></a>CICS Transaction Server for z/OS, perform the following steps to verify the CICS configuration.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>To verify that the <a id="d10176e2977" class="indexterm-anchor"></a>FLIP transaction is installed correctly, log on to your CICS Transaction Server for z/OS and enter the following transaction, replacing <code class="codeph">FLIP</code> with the transaction ID you chose for <code class="codeph">FLIP</code> when you configure your CICS Transaction Server for z/OS for the gateway:</span><div><pre class="oac_no_warn" dir="ltr">FLIP<span class="italic"> </span>THIS MESSAGE
</pre><p>The following output appears:</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Log on to UNIX.</span></li>
                           <li class="stepexpand"><span>Modify the <code class="codeph">pgacics.sql</code> file, which is located at<code class="codeph">  $ORACLE_HOME/dg4appc/demo/CICS/pgacics.sql</code>. Customize the following three items used for accessing the gateway and the CICS Transaction Server for z/OS as described in the comments at the beginning of the file:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a id="d10176e3018" class="indexterm-anchor"></a>CICS transaction ID
                                       </p>
                                    </li>
                                    <li>
                                       <p><a id="d10176e3025" class="indexterm-anchor"></a>Side Profile name
                                       </p>
                                    </li>
                                    <li>
                                       <p><a id="d10176e3030" class="indexterm-anchor"></a>Logmode entry name
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that <a id="d10176e3036" class="indexterm-anchor"></a>the SNA communication package on your system has been started.</span></li>
                           <li class="stepexpand"><span>Log on to your CICS Transaction Server for z/OS and run this transaction, where <span class="italic"><code class="codeph">name</code></span> is the name of the <code class="codeph">CONNECTION</code> definition installed by the <code class="codeph">DFHCSDUP</code> job run in the CICS configuration steps:</span><div><pre class="oac_no_warn" dir="ltr">CEMT SET CONNECTION<span class="italic">(name)</span> ACQUIRED
</pre><p>This transaction activates the CICS connection to UNIX.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Use SQL*Plus to connect to your Oracle database as <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <code class="codeph">pgacics.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/CICS/pgacics.sql
</pre><p>The following message appears:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your gateway is communicating with CICS &lt;==
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>Your CICS Transaction Server for z/OS installation verification is complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="APPCI234"></a><div class="props_rev_3"><a id="GUID-86FF2AE4-0009-4126-A28F-5F466115E345" name="GUID-86FF2AE4-0009-4126-A28F-5F466115E345"></a><h5 id="APPCI-GUID-86FF2AE4-0009-4126-A28F-5F466115E345" class="sect5">IMS/TM Verification</h5>
                     <div>
                        <div class="section">
                           <p>If your OLTP is <a id="d10176e3135" class="indexterm-anchor"></a>IMS/TM, then perform the following steps to verify the IMS/TM configuration:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>To verify that the <a id="d10176e3146" class="indexterm-anchor"></a>FLIP transaction is installed correctly, log on to your IMS/TM system and enter the following transaction, replacing <code class="codeph">FLIP</code> with the transaction ID you chose for <code class="codeph">FLIP</code> when you configured your IMS/TM system for the gateway:</span><div><pre class="oac_no_warn" dir="ltr">FLIP THIS MESSAGE
</pre><p>The following output appears on your terminal:</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Log on to UNIX. </span></li>
                           <li class="stepexpand"><span>Modify the <code class="codeph">pgaims.sql</code> file, which is located at  <a id="d10176e3177" class="indexterm-anchor"></a><a id="d10176e3179" class="indexterm-anchor"></a><code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql</code>. Customize the following three items used for accessing the gateway and the IMS/TM system as described in the comments at the beginning of the file:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>IMS/TM transaction ID</p>
                                    </li>
                                    <li>
                                       <p>Side Profile Name</p>
                                    </li>
                                    <li>
                                       <p>Logmode entry name</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the <a id="d10176e3198" class="indexterm-anchor"></a>SNA communication package on your system has been started.</span></li>
                           <li class="stepexpand"><span> <a id="d10176e3204" class="indexterm-anchor"></a>Use SQL*Plus to connect to Oracle database as <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <code class="codeph">pgaims.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>The following message appears:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your gateway is communicating with IMS/TM &lt;==
</pre><p>Your IMS/TM installation verification is now complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="APPCI235"></a><div class="props_rev_3"><a id="GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2" name="GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2"></a><h5 id="APPCI-GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2" class="sect5">APPC/MVS Verification </h5>
                     <div>
                        <div class="section">
                           <p>If your OLTP is <a id="d10176e3276" class="indexterm-anchor"></a><a id="d10176e3282" class="indexterm-anchor"></a>APPC/MVS, perform the following steps to verify the APPC/MVS configuration:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Verify that your APPC/MVS subsystem is active.</span></li>
                           <li class="stepexpand"><span>Log on to UNIX</span></li>
                           <li class="stepexpand"><span>Modify the <code class="codeph">pgamvs.sql</code> file, which is located at  <code class="codeph"> $ORACLE_HOME/dg4appc/demo/MVS/pgamvs.sql</code>. Customize the following three items used for accessing the gateway and the APPC/MVS system as described in the comments at the beginning of the file:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>APPC/MVS transaction ID</p>
                                    </li>
                                    <li>
                                       <p>Side Profile Name</p>
                                    </li>
                                    <li>
                                       <p>Logmode entry name</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the <a id="d10176e3318" class="indexterm-anchor"></a>SNA communication package on your system has been started.</span></li>
                           <li class="stepexpand"><span>Use SQL*Plus to connect to your <a id="d10176e3324" class="indexterm-anchor"></a>Oracle database as <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <code class="codeph">pgamvs.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/MVS/pgamvs.sql
</pre><p>The following message appears:</p><pre class="oac_no_warn" dir="ltr">=&gt; Congratulations, your gateway is communicating with APPC/MVS &lt;=</pre></div>
                           </li>
                        </ol>
                        <div class="section"><pre class="oac_no_warn" dir="ltr"></pre><p>Your APPC/MVS installation verification is now complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="APPCI236"></a><div class="props_rev_3"><a id="GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C" name="GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C"></a><h4 id="APPCI-GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C" class="sect4">Verifying OLTP Configuration for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p>If you chose to configure commit-confirm in <a href="configuring-appc-gateway-sna.html#GUID-544B3014-8746-41E6-9132-12E473D38254">Configuring Commit-Confirm</a>, the following section will assist you in verifying the configuration.
                        </p>
                        <div class="infoboxnote" id="GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C__GUID-BC77C5F5-9F99-48FE-B470-8BD4162900DD">
                           <p class="notep1">Note:</p>
                           <p>Refer to Chapter&nbsp;5, "Implementing Commit-Confirm" in the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for background information on the components and capabilities of commit-confirm.
                           </p>
                        </div>
                        <p>Samples are provided with the gateway for Transaction Server for z/OS and IMS/TM for implementing commit-confirm support. They are in the following directories, respectively: <code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS</code> and                                       <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>. A <code class="codeph">README.doc</code> file in each directory provides detailed information about installing and using the samples. JCL files for compiling and linking the sample programs are provided as well.<a id="d10176e3408" class="indexterm-anchor"></a> The samples included with the gateway assist you with the following:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Creating and initializing the commit-confirm transaction log databases and defining those databases to the OLTP</p>
                              <p>For Transaction Server for z/OS, the sample uses a VSAM file for the log database. For IMS/TM, a SHISAM/VSAM database is used.</p>
                           </li>
                           <li>
                              <p>Using subroutines for receiving the <a id="d10176e3423" class="indexterm-anchor"></a>Oracle Global Transaction ID from the gateway and logging it into the <a id="d10176e3426" class="indexterm-anchor"></a>commit-confirm transaction log database
                              </p>
                              <p>These subroutines are provided in the <code class="codeph">pgacclg.asm</code> files. They can be used in your applications to reduce the complexity of the code changes to your programs. For Transaction Server for z/OS, the subroutine provided is called using the EXEC CICS LINK interface. For IMS/TM, the subroutine provided is called using the standard <code class="codeph">CALL</code> statement or its equivalent in the application programming language. Both of these subroutines are written in 370 assembler to eliminate any interlanguage interface complexities and compiler dependencies.
                              </p>
                           </li>
                           <li>
                              <p>Forget and recovery transactions </p>
                              <p>These are provided in the <code class="codeph">pgareco.asm</code> files. Forget and recovery transactions must be installed into your OLTP and accessible through APPC so that the gateway can invoke them to forget a transaction once it has been successfully committed, and to query transaction state during recovery processing. These transactions delete the entry for a particular Oracle <a id="d10176e3447" class="indexterm-anchor"></a>Global Transaction ID from the OLTP commit-confirm transaction log database during forget processing, and query the entry for a particular Oracle Global Transaction ID from the OLTP commit-confirm transaction log database during recovery processing. For both Transaction Server for z/OS and IMS/TM, these transactions are written in 370 assembler.
                              </p>
                           </li>
                           <li>
                              <p>Using the sample commit-confirm transaction log databases and subroutines </p>
                              <p>For Transaction Server for z/OS, a sample DB2 update transaction, <code class="codeph">DB2C</code>, is provided in the <code class="codeph">pgadb2c.cob</code> file. This is a COBOL example that updates the DB2 sample <code class="codeph">EMP</code> table. For IMS/TM, a sample DLI update transaction, <code class="codeph">PGAIMSU</code>, is provided in the <code class="codeph">pgaimsu.cob</code> file. This is a COBOL example that updates the DLI sample <code class="codeph">PARTS</code> database.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCI237"></a><div class="props_rev_3"><a id="GUID-835A25DB-1E5B-485C-9054-E920CC262570" name="GUID-835A25DB-1E5B-485C-9054-E920CC262570"></a><h3 id="APPCI-GUID-835A25DB-1E5B-485C-9054-E920CC262570" class="sect3">Performing Postinstallation Procedures</h3>
               <div>
                  <div class="section">
                     <p>The following are optional steps that you can perform as necessary. Installation of the sample applications for your OLTP is recommended to help you to fully understand how the gateway works and how it interfaces with your OLTP.</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI238"></a><div class="props_rev_3"><a id="GUID-7499EFA4-3633-44E1-9784-5F4D027ABFFE" name="GUID-7499EFA4-3633-44E1-9784-5F4D027ABFFE"></a><h4 id="APPCI-GUID-7499EFA4-3633-44E1-9784-5F4D027ABFFE" class="sect4">Installing Sample Applications</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Database Gateway for APPC package contains the following sample PL/SQL procedures and OLTP transaction programs that demonstrate the capabilities of the gateway. </p>
                        <p><span class="bold">APPC/MVS</span></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p> z/OS data set information</p>
                           </li>
                        </ul>
                        <p><span class="bold">CICS Transaction Server for z/OS</span></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>DB2 inquiry</p>
                           </li>
                           <li>
                              <p>DB2 multi-row inquiry</p>
                           </li>
                           <li>
                              <p>DB2 update</p>
                           </li>
                           <li>
                              <p>VSAM inquiry</p>
                           </li>
                           <li>
                              <p>VSAM update</p>
                           </li>
                           <li>
                              <p>DLI inquiry</p>
                           </li>
                           <li>
                              <p>FEPI DB2 inquiry</p>
                           </li>
                           <li>
                              <p>FEPI VSAM inquiry</p>
                           </li>
                        </ul>
                        <p><span class="bold">IMS/TM</span></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>IMS inquiry using IVTNO and IVTNV sample transactions</p>
                           </li>
                           <li>
                              <p>IMS PARTS inquiry (<a id="d10176e3614" class="indexterm-anchor"></a>CPI-C)
                              </p>
                           </li>
                           <li>
                              <p>IMS PARTS update (CPI-C)</p>
                           </li>
                        </ul>
                        <p>Additional samples are added to the distribution media in later releases of the product. Wherever possible, sample applications use the sample databases provided with the database products.</p>
                        <p>For this release, full documentation on installing and using the sample applications is available in the following directories and files:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">$ORACLE_HOME/dg4appc/CICS/sample_CICS_applications.txt</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">$ORACLE_HOME/dg4appc/IMS/sample_IMS_applications.txt</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">$ORACLE_HOME/dg4appc/MVS/sample_MVS_applications.txt</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>