<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Performance Tuning</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="c-c-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T03:52:01-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96467-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="reserved-words-keywords-namespaces.html" title="Previous" type="text/html">
      <link rel="next" href="syntactic-and-semantic-checking.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Pro*C/C++ Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNPCC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="reserved-words-keywords-namespaces.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="syntactic-and-semantic-checking.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="appendixes.html" property="item" typeof="WebPage"><span property="name"> Appendixes </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> 	Performance Tuning </li>
            </ol>
            <a id="GUID-70BC5747-18C2-4017-AC44-500891008097" name="GUID-70BC5747-18C2-4017-AC44-500891008097"></a><a id="LNPCC023"></a>
            
            <h2 id="LNPCC-GUID-70BC5747-18C2-4017-AC44-500891008097" class="sect2"><span class="enumeration_chapter">B </span> 	Performance Tuning 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This appendix shows you some simple, easy-to-apply methods for improving the performance of your applications. Using these methods, you can often reduce processing time by 25% or more. This appendix contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="performance-tuning.html#GUID-202E5664-DE49-4AF2-84C4-46FD0E530382">What Causes Poor Performance? </a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-AA4A3450-10AC-4D68-817B-383E0E19C521">How Can Performance Be Improved? </a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-2989CC58-E238-41B7-B9A4-3401B2FAE8EE">About Using Host Arrays </a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858">About Using Embedded PL/SQL </a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-15C3024A-8425-4D18-A4A0-B673BE8F676E">About Optimizing SQL Statements </a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-AE542335-820C-4F3B-876D-74621D4C1DBD">About Statement Caching</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-6ABFCC28-2166-47F2-B188-D8D03B4158F0">About Using Indexes </a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-E9767A74-C760-42A4-9829-4CF99F09918C">About Taking Advantage of Row-Level Locking </a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-A12D1A51-23B1-4B1F-A539-F89035B175F8">About Eliminating Unnecessary Parsing </a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-2FD19C63-B523-4B93-9FB1-CDD376EA2423">About Using Connection Pooling</a></p>
                  </li>
                  <li>
                     <p><a href="performance-tuning.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" title="Oracle Connection Manager in Traffic Director Mode is a proxy that is placed between supported database clients and database instances.">About Using Oracle Connection Manager in Traffic Director Mode</a></p>
                  </li>
               </ul>
            </div><a id="LNPCC4556"></a><div class="props_rev_3"><a id="GUID-202E5664-DE49-4AF2-84C4-46FD0E530382" name="GUID-202E5664-DE49-4AF2-84C4-46FD0E530382"></a><h3 id="LNPCC-GUID-202E5664-DE49-4AF2-84C4-46FD0E530382" class="sect3"><span class="enumeration_section">B.1 </span>What Causes Poor Performance? 
               </h3>
               <div>
                  <p>One cause of poor performance is high communications overhead. The server must process SQL statements one at a time. Thus, each statement results in another call to single and higher overhead. In a networked environment, SQL statements must be sent over the network, adding to network traffic. Heavy network traffic can slow down your application significantly.<a id="d114141e104" class="indexterm-anchor"></a><a id="d114141e108" class="indexterm-anchor"></a> 
                  </p>
                  <p>Another cause of poor performance is inefficient SQL statements. Because SQL is so flexible, you can get the same result with two different statements, but one statement might be less efficient. For example, the following two SELECT statements return the same rows (the name and number of every department having at least one employee): </p><pre class="oac_no_warn" dir="ltr">EXEC SQL SELECT dname, deptno 
    FROM dept 
    WHERE deptno IN (SELECT deptno FROM emp); 
 
EXEC SQL SELECT dname, deptno 
    FROM dept 
    WHERE EXISTS 
    (SELECT deptno FROM emp WHERE dept.deptno = emp.deptno); 
</pre><p>However, the first statement is slower because it does a time-consuming full scan of the EMP table for every department number in the DEPT table. Even if the DEPTNO column in EMP is indexed, the index is not used because the subquery lacks a WHERE clause naming DEPTNO. </p>
                  <p>A third cause of poor performance is unnecessary parsing and binding. Recall that before executing a SQL statement, the server must parse and bind it. Parsing means examining the SQL statement to make sure it follows syntax rules and refers to valid database objects. Binding means associating host variables in the SQL statement with their addresses so that the server can read or write their values. </p>
                  <p>Many applications manage cursors poorly. This results in unnecessary parsing and binding, which adds noticeably to processing overhead. </p>
               </div>
            </div><a id="LNPCC4557"></a><div class="props_rev_3"><a id="GUID-AA4A3450-10AC-4D68-817B-383E0E19C521" name="GUID-AA4A3450-10AC-4D68-817B-383E0E19C521"></a><h3 id="LNPCC-GUID-AA4A3450-10AC-4D68-817B-383E0E19C521" class="sect3"><span class="enumeration_section">B.2 </span>How Can Performance Be Improved? 
               </h3>
               <div>
                  <p>If you are unhappy with the performance of your precompiled programs, there are several ways you can reduce overhead. </p>
                  <p>You can greatly reduce communications overhead, especially in networked environments, by<a id="d114141e147" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Using host arrays </p>
                     </li>
                     <li>
                        <p>Using embedded PL/SQL </p>
                     </li>
                  </ul>
                  <p>You can reduce processing overhead—sometimes dramatically—by </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Optimizing SQL statements </p>
                     </li>
                     <li>
                        <p>Using indexes </p>
                     </li>
                     <li>
                        <p>Taking advantage of row-level locking </p>
                     </li>
                     <li>
                        <p>Eliminating unnecessary parsing </p>
                     </li>
                     <li>
                        <p>Avoiding unnecessary reparsing</p>
                     </li>
                  </ul>
                  <p>The following sections look at each of these ways to cut overhead. </p>
               </div>
            </div><a id="LNPCC4558"></a><div class="props_rev_3"><a id="GUID-2989CC58-E238-41B7-B9A4-3401B2FAE8EE" name="GUID-2989CC58-E238-41B7-B9A4-3401B2FAE8EE"></a><h3 id="LNPCC-GUID-2989CC58-E238-41B7-B9A4-3401B2FAE8EE" class="sect3"><span class="enumeration_section">B.3 </span>About Using Host Arrays 
               </h3>
               <div>
                  <p>Host arrays can increase performance because they let you manipulate an entire collection of data with a single SQL statement. For example, suppose you want to INSERT salaries for 300 employees into the EMP table. Without arrays your program must do 300 individual INSERTs—one for each employee. With arrays, only one INSERT is necessary. Consider the following statement:<a id="d114141e204" class="indexterm-anchor"></a><a id="d114141e208" class="indexterm-anchor"></a> 
                  </p><pre class="oac_no_warn" dir="ltr">EXEC SQL INSERT INTO emp (sal) VALUES (:salary); 
</pre><p>If <span class="italic">salary</span> is a simple host variable, the server executes the INSERT statement once, inserting a single row into the EMP table. In that row, the SAL column has the value of <span class="italic">salary</span>. To insert 300 rows this way, you must execute the INSERT statement 300 times. 
                  </p>
                  <p>However, if <span class="italic">salary</span> is a host array of size 300, all 300 rows are inserted into the EMP table at once. In each row, the SAL column has the value of an element in the <span class="italic">salary</span> array. 
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="host-arrays.html#GUID-6B57FBAE-0303-41B9-9056-5C20384442B7">Host Arrays</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCC4560"></a><a id="LNPCC4559"></a><div class="props_rev_3"><a id="GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858" name="GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858"></a><h3 id="LNPCC-GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858" class="sect3"><span class="enumeration_section">B.4 </span>About Using Embedded PL/SQL 
               </h3>
               <div>
                  <p>As <a href="performance-tuning.html#GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858__CHEBHDFF">Figure B-1</a> shows, if your application is database-intensive, you can use control structures to group SQL statements in a PL/SQL block, then send the entire block to the database server. This can drastically reduce communication between your application and the database server.<a id="d114141e267" class="indexterm-anchor"></a><a id="d114141e271" class="indexterm-anchor"></a></p>
                  <p>Also, you can use PL/SQL subprograms to reduce calls from your application to the server. For example, to execute ten individual SQL statements, ten calls are required, but to execute a subprogram containing ten SQL statements, only one call is required.</p>
                  <div class="figure" id="GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858__CHEBHDFF">
                     <p class="titleinfigure">Figure B-1 PL/SQL Boosts Performance</p><img src="img/lnpcc019.gif" width="499" alt="Description of Figure B-1 follows" title="Description of Figure B-1 follows" longdesc="img_text/lnpcc019.html"><br><a href="img_text/lnpcc019.html">Description of "Figure B-1 PL/SQL Boosts Performance"</a></div>
                  <!-- class="figure" -->
                  <p>PL/SQL can also cooperate with Oracle application development tools such as Oracle Forms. By adding procedural processing power to these tools, PL/SQL boosts performance. Using PL/SQL, a tool can do any computation quickly and efficiently without calling on the database server. This saves time and reduces network traffic.<a id="d114141e284" class="indexterm-anchor"></a> 
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="embedded-PL-SQL.html#GUID-BCE83EB3-88D8-4EA1-853F-D5B66D426654">Embedded PL/SQL</a></li>
                        <li><a href="../lnpls/index.html" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="LNPCC4561"></a><div class="props_rev_3"><a id="GUID-15C3024A-8425-4D18-A4A0-B673BE8F676E" name="GUID-15C3024A-8425-4D18-A4A0-B673BE8F676E"></a><h3 id="LNPCC-GUID-15C3024A-8425-4D18-A4A0-B673BE8F676E" class="sect3"><span class="enumeration_section">B.5 </span>About Optimizing SQL Statements 
               </h3>
               <div>
                  <p>For every SQL statement, the Oracle optimizer generates an <span class="italic">execution plan</span>, which is a series of steps that the server takes to execute the statement. These steps are determined by rules given in Oracle Application Developer's Guide - Fundamentals. Following these rules will help you write optimal SQL statements.<a id="d114141e327" class="indexterm-anchor"></a><a id="d114141e331" class="indexterm-anchor"></a><a id="d114141e335" class="indexterm-anchor"></a><a id="d114141e337" class="indexterm-anchor"></a></p>
               </div><a id="LNPCC4562"></a><div class="props_rev_3"><a id="GUID-DF15DFCE-BA9E-4472-902E-53E16066E0C0" name="GUID-DF15DFCE-BA9E-4472-902E-53E16066E0C0"></a><h4 id="LNPCC-GUID-DF15DFCE-BA9E-4472-902E-53E16066E0C0" class="sect4"><span class="enumeration_section">B.5.1 </span>Optimizer Hints 
                  </h4>
                  <div>
                     <p>In some cases, you can suggest to the server the way to optimize a SQL statement. These suggestions, called <span class="italic">hints</span>, let you influence decisions made by the optimizer.<a id="d114141e368" class="indexterm-anchor"></a> 
                     </p>
                     <p>Hints are not directives; they merely help the optimizer do its job. Some hints limit the scope of information used to optimize a SQL statement, while others suggest overall strategies. </p>
                     <p>You can use hints to specify the </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Optimization approach for a SQL statement </p>
                        </li>
                        <li>
                           <p>Access path for each referenced table </p>
                        </li>
                        <li>
                           <p>Join order for a join </p>
                        </li>
                        <li>
                           <p>Method used to join tables </p>
                        </li>
                     </ul>
                     <p>Hence, hints fall into the following four categories: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Optimization Approach </p>
                        </li>
                        <li>
                           <p>Access Path </p>
                        </li>
                        <li>
                           <p>Join Order </p>
                        </li>
                        <li>
                           <p>Join Operation </p>
                        </li>
                     </ul>
                     <p>For example, the two optimization approach hints, COST and NOCOST, invoke the cost-based optimizer and the rule-based optimizer, respectively. </p>
                     <p>You give hints to the optimizer by placing them in a C-style comment immediately after the verb in a SELECT, UPDATE, INSERT, or DELETE statement. For instance, the optimizer uses the cost-based approach for the following statement:<a id="d114141e407" class="indexterm-anchor"></a><a id="d114141e411" class="indexterm-anchor"></a> 
                     </p><pre class="oac_no_warn" dir="ltr">SELECT /*+ COST */ ename, sal INTO ... 
</pre><p>For C++ code, optimizer hints in the form //+ are also recognized.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../adfns/editions.html#ADFNS-GUID-58DE05A0-5DEF-4791-8FA8-F04D11964906" target="_blank">Using Edition-Based Redefinition</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="LNPCC4563"></a><div class="props_rev_3"><a id="GUID-110A35EF-F937-4B44-BC1B-846644B3B02D" name="GUID-110A35EF-F937-4B44-BC1B-846644B3B02D"></a><h4 id="LNPCC-GUID-110A35EF-F937-4B44-BC1B-846644B3B02D" class="sect4"><span class="enumeration_section">B.5.2 </span>Trace Facility 
                  </h4>
                  <div>
                     <p>You can use the SQL trace facility and the EXPLAIN PLAN statement to identify SQL statements that might be slowing down your application.<a id="d114141e447" class="indexterm-anchor"></a><a id="d114141e451" class="indexterm-anchor"></a> 
                     </p>
                     <p>The SQL trace facility generates statistics for every SQL statement executed. From these statistics, you can determine which statements take the most time to process. Then, you can concentrate your tuning efforts on those statements.<a id="d114141e458" class="indexterm-anchor"></a> 
                     </p>
                     <p>The EXPLAIN PLAN statement shows the execution plan for each SQL statement in your application. An <span class="italic">execution plan</span> describes the database operations that must be carried out to execute a SQL statement. You can use the execution plan to identify inefficient SQL statements.<a id="d114141e468" class="indexterm-anchor"></a><a id="d114141e472" class="indexterm-anchor"></a> 
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../adfns/performance-and-scalability.html#ADFNS-GUID-3BC2DA6F-0836-42EF-8155-C6FA27893360" target="_blank">Tools for Performance</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="LNPCC4564"></a><div class="props_rev_3"><a id="GUID-AE542335-820C-4F3B-876D-74621D4C1DBD" name="GUID-AE542335-820C-4F3B-876D-74621D4C1DBD"></a><h3 id="LNPCC-GUID-AE542335-820C-4F3B-876D-74621D4C1DBD" class="sect3"><span class="enumeration_section">B.6 </span>About Statement Caching
               </h3>
               <div>
                  <p>This is a feature that will help in the performance improvement of all the precompiler applications that rely on dynamic SQL statements. The new implementation will remove the overhead of parsing the dynamic statements on reuse. The precompiler application user can obtain this performance improvement using a new command line option (for the statement cache size), which will enable the statement caching of the dynamic statements. By enabling the new option, the statement cache will be created at session creation time. The caching is only applicable for the dynamic statements and the cursor cache for the static statements co-exists with this feature.</p>
               </div>
            </div><a id="LNPCC4565"></a><div class="props_rev_3"><a id="GUID-6ABFCC28-2166-47F2-B188-D8D03B4158F0" name="GUID-6ABFCC28-2166-47F2-B188-D8D03B4158F0"></a><h3 id="LNPCC-GUID-6ABFCC28-2166-47F2-B188-D8D03B4158F0" class="sect3"><span class="enumeration_section">B.7 </span>About Using Indexes 
               </h3>
               <div>
                  <p>Using ROWIDs, an <span class="italic">index</span> associates each distinct value in a table column with the rows containing that value. An index is created with the CREATE INDEX statement. For details, see <a href="../sqlrf/CREATE-INDEX.html#SQLRF-GUID-1F89BBC0-825F-4215-AF71-7588E31D8BFE" target="_blank">CREATE INDEX</a>.
                  </p>
                  <p>You can use indexes to boost the performance of queries that return less than 15% of the rows in a table. A query that returns 15% or more of the rows in a table is executed faster by a <span class="italic">full scan</span>, that is, by reading all rows sequentially.<a id="d114141e551" class="indexterm-anchor"></a> 
                  </p>
                  <p>Any query that names an indexed column in its WHERE clause can use the index. For guidelines that help you choose which columns to index, see<a href="../adfns/index.html" target="_blank"><span class="italic"> Oracle Database Advanced Application Developer's Guide</span></a>. 
                  </p>
               </div>
            </div><a id="LNPCC4566"></a><div class="props_rev_3"><a id="GUID-E9767A74-C760-42A4-9829-4CF99F09918C" name="GUID-E9767A74-C760-42A4-9829-4CF99F09918C"></a><h3 id="LNPCC-GUID-E9767A74-C760-42A4-9829-4CF99F09918C" class="sect3"><span class="enumeration_section">B.8 </span>About Taking Advantage of Row-Level Locking 
               </h3>
               <div>
                  <p>By default, data is locked at the row level rather than at the table level. Row-level locking allows multiple users to access different rows in the same table concurrently. The resulting performance gain is significant. </p>
                  <p>You can specify table-level locking, but it lessens the effectiveness of the transaction processing option. <a id="d114141e589" class="indexterm-anchor"></a><a id="d114141e593" class="indexterm-anchor"></a><a id="d114141e597" class="indexterm-anchor"></a> 
                  </p>
                  <p>Applications that do online transaction processing benefit most from row-level locking. If your application relies on table-level locking, modify it to take advantage of row-level locking. In general, avoid explicit table-level locking. </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="database-concepts.html#GUID-A62517E8-BF42-4E4D-B3A1-BD318DFB42BD">Using LOCK TABLE</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNPCC4567"></a><div class="props_rev_3"><a id="GUID-A12D1A51-23B1-4B1F-A539-F89035B175F8" name="GUID-A12D1A51-23B1-4B1F-A539-F89035B175F8"></a><h3 id="LNPCC-GUID-A12D1A51-23B1-4B1F-A539-F89035B175F8" class="sect3"><span class="enumeration_section">B.9 </span>About Eliminating Unnecessary Parsing 
               </h3>
               <div>
                  <p>Eliminating unnecessary parsing requires correct handling of cursors and selective use of the following cursor management options:<a id="d114141e638" class="indexterm-anchor"></a> 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>MAXOPENCURSORS </p>
                     </li>
                     <li>
                        <p>HOLD_CURSOR </p>
                     </li>
                     <li>
                        <p>RELEASE_CURSOR </p>
                     </li>
                  </ul>
                  <p>These options affect implicit and explicit cursors, the cursor cache, and private SQL areas.<a id="d114141e655" class="indexterm-anchor"></a><a id="d114141e661" class="indexterm-anchor"></a><a id="d114141e667" class="indexterm-anchor"></a> 
                  </p>
               </div><a id="LNPCC4568"></a><div class="props_rev_3"><a id="GUID-9BF835AA-E44D-42C6-ADBC-3620EF610582" name="GUID-9BF835AA-E44D-42C6-ADBC-3620EF610582"></a><h4 id="LNPCC-GUID-9BF835AA-E44D-42C6-ADBC-3620EF610582" class="sect4"><span class="enumeration_section">B.9.1 </span>About Handling Explicit Cursors 
                  </h4>
                  <div>
                     <p>Recall that there are two types of cursors: implicit and explicit. A cursor is implicitly declared for all data definition and data manipulation statements. However, for queries that return more than one row, you must explicitly declare a cursor (or use host arrays). You use the DECLARE CURSOR statement to declare an explicit cursor. The way you handle the opening and closing of explicit cursors affects performance.<a id="d114141e698" class="indexterm-anchor"></a> 
                     </p>
                     <p>If you need to reevaluate the active set, simply reOPEN the cursor. OPEN will use any new host-variable values. You can save processing time if you do not CLOSE the cursor first. </p>
                     <div class="infoboxnote" id="GUID-9BF835AA-E44D-42C6-ADBC-3620EF610582__GUID-462D3554-5DE9-44DE-BE0D-4C383156C35F">
                        <p class="notep1">Note:</p>
                        <p>To make performance tuning easier, you can reOPEN an already open cursor. However, this is an ANSI extension. So, when MODE=ANSI, you must CLOSE a cursor before reOPENing it. </p>
                     </div>
                     <p>Only CLOSE a cursor when you want to free the resources (memory and locks) acquired by OPENing the cursor. For example, your program should CLOSE all cursors before exiting. </p>
                  </div><a id="LNPCC4569"></a><div class="props_rev_3"><a id="GUID-18762F0E-DE09-46BA-8F91-1517B3A7B066" name="GUID-18762F0E-DE09-46BA-8F91-1517B3A7B066"></a><h5 id="LNPCC-GUID-18762F0E-DE09-46BA-8F91-1517B3A7B066" class="sect5"><span class="enumeration_section">B.9.1.1 </span>Cursor Control 
                     </h5>
                     <div>
                        <p>In general, there are three ways to control an explicitly declared cursor: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use DECLARE, OPEN, and CLOSE. </p>
                           </li>
                           <li>
                              <p>Use PREPARE, DECLARE, OPEN, and CLOSE. </p>
                           </li>
                           <li>
                              <p>COMMIT closes the cursor when MODE=ANSI.</p>
                           </li>
                        </ul>
                        <p>With the first way, beware of unnecessary parsing. OPEN does the parsing, but only if the parsed statement is unavailable because the cursor was CLOSEd or never OPENed. Your program should DECLARE the cursor, reOPEN it every time the value of a host variable changes, and CLOSE it only when the SQL statement is no longer needed. </p>
                        <p>With the second way (for dynamic SQL Methods 3 and 4), PREPARE does the parsing, and the parsed statement is available until a CLOSE is executed. Your program should do the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>PREPARE the SQL statement</p>
                           </li>
                           <li>
                              <p>DECLARE the cursor</p>
                           </li>
                           <li>
                              <p>Again OPEN the cursor every time the value of a host variable changes</p>
                           </li>
                           <li>
                              <p>Again PREPARE the SQL statement</p>
                           </li>
                           <li>
                              <p>Again OPEN the cursor if the SQL statement changes</p>
                           </li>
                           <li>
                              <p>CLOSE the cursor only when the SQL statement is no longer needed.</p>
                           </li>
                        </ul>
                        <p>When possible, avoid placing OPEN and CLOSE statements in a loop; this is a potential cause of unnecessary reparsing of the SQL statement. In the next example, both the OPEN and CLOSE statements are inside the outer <span class="italic">while</span> loop. When MODE=ANSI, the CLOSE statement must be positioned as shown, because ANSI requires a cursor to be CLOSEd before being reOPENed.
                        </p><pre class="oac_no_warn" dir="ltr">EXEC SQL DECLARE emp_cursor CURSOR FOR 
     SELECT ename, sal from emp where sal &gt;  :salary and  
                                      sal &lt;= :salary + 1000; 
salary = 0; 
while (salary &lt; 5000) 
{  
     EXEC SQL OPEN emp_cursor; 
     while (SQLCODE==0) 
     { 
         EXEC SQL FETCH emp_cursor INTO .... 
         ... 
     } 
     salary += 1000; 
     EXEC SQL CLOSE emp_cursor; 
}
</pre><p>With MODE=ORACLE, however, a CLOSE statement can execute without the cursor being OPENed. By placing the CLOSE statement outside the outer <span class="italic">while </span>loop, you can avoid possible reparsing at each iteration of the OPEN statement.
                        </p><pre class="oac_no_warn" dir="ltr">... 
while (salary &lt; 5000) 
{  
     EXEC SQL OPEN emp_cursor; 
     while (sqlca.sqlcode==0) 
     { 
         EXEC SQL FETCH emp_cursor INTO .... 
         ... 
     } 
     salary += 1000; 
} 
EXEC SQL CLOSE emp_cursor;</pre></div>
                  </div>
               </div><a id="LNPCC4570"></a><div class="props_rev_3"><a id="GUID-946F1EED-4C19-4F6F-8217-0C009730CD9A" name="GUID-946F1EED-4C19-4F6F-8217-0C009730CD9A"></a><h4 id="LNPCC-GUID-946F1EED-4C19-4F6F-8217-0C009730CD9A" class="sect4"><span class="enumeration_section">B.9.2 </span>About Using the Cursor Management Options 
                  </h4>
                  <div>
                     <p>A SQL statement need be parsed only once unless you change its makeup. For example, you change the makeup of a query by adding a column to its select list or WHERE clause. The HOLD_CURSOR, RELEASE_CURSOR, and MAXOPENCURSORS options give you some control over how the server manages the parsing and reparsing of SQL statements. Declaring an explicit cursor gives you maximum control over parsing. </p>
                  </div><a id="LNPCC4572"></a><a id="LNPCC4571"></a><div class="props_rev_3"><a id="GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570" name="GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570"></a><h5 id="LNPCC-GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570" class="sect5"><span class="enumeration_section">B.9.2.1 </span>SQL Areas and Cursor Cache 
                     </h5>
                     <div>
                        <p>When a data manipulation statement is executed, its associated cursor is linked to an entry in the Pro*C/C++ cursor cache. The cursor cache is a continuously updated area of memory used for cursor management. The cursor cache entry is in turn linked to a private SQL area.<a id="d114141e830" class="indexterm-anchor"></a> 
                        </p>
                        <p>The private SQL area, a work area created dynamically at run time, contains the addresses of host variables, and other information needed to process the statement. An explicit cursor lets you name a SQL statement, access the information in its private SQL area, and, to some extent, control its processing.<a id="d114141e837" class="indexterm-anchor"></a> 
                        </p>
                        <p><a href="performance-tuning.html#GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570__CHEGCFFE">Figure B-2</a> represents the cursor cache after your program has done an INSERT and a DELETE. 
                        </p>
                        <div class="figure" id="GUID-ED9A6E00-A9D8-4F9E-9C6A-7EA13DD13570__CHEGCFFE">
                           <p class="titleinfigure">Figure B-2  Cursors Linked using the Cursor Cache</p><img src="img/pco81062.gif" alt="Description of Figure B-2 follows" title="Description of Figure B-2 follows" longdesc="img_text/pco81062.html"><br><a href="img_text/pco81062.html">Description of "Figure B-2  Cursors Linked using the Cursor Cache"</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="LNPCC4573"></a><div class="props_rev_3"><a id="GUID-2E1D8D3F-C59A-4E6B-A187-24C8556886E7" name="GUID-2E1D8D3F-C59A-4E6B-A187-24C8556886E7"></a><h5 id="LNPCC-GUID-2E1D8D3F-C59A-4E6B-A187-24C8556886E7" class="sect5"><span class="enumeration_section">B.9.2.2 </span>Resource Use 
                     </h5>
                     <div>
                        <p>The maximum number of open cursors for each user session is set by the initialization parameter OPEN_CURSORS.</p>
                        <p>MAXOPENCURSORS specifies the <span class="italic">initial</span> size of the cursor cache. If a new cursor is needed and there are no free cache entries, the server tries to reuse an entry. Its success depends on the values of HOLD_CURSOR and RELEASE_CURSOR and, for explicit cursors, on the status of the cursor itself. 
                        </p>
                        <p>If the value of MAXOPENCURSORS is less than the number of cache entries actually needed, the server uses the first cache entry marked as reusable. For example, suppose an INSERT statement's cache entry <span class="italic">E</span>(1) is marked as reusable, and the number of cache entries already equals MAXOPENCURSORS. If the program executes a new statement, cache entry <span class="italic">E</span>(1) and its private SQL area might be reassigned to the new statement. To reexecute the INSERT statement, the server would have to reparse it and reassign another cache entry. 
                        </p>
                        <p>The server allocates an additional cache entry if it cannot find one to reuse. For example, if MAXOPENCURSORS=8 and all eight entries are active, a ninth is created. If necessary, the server keeps allocating additional cache entries until it runs out of memory or reaches the limit set by OPEN_CURSORS. This dynamic allocation adds to processing overhead. </p>
                        <p>Thus, specifying a low value for MAXOPENCURSORS saves memory but causes potentially expensive dynamic allocations and deallocations of new cache entries. Specifying a high value for MAXOPENCURSORS assures speedy execution but uses more memory.<a id="d114141e891" class="indexterm-anchor"></a> 
                        </p>
                     </div>
                  </div><a id="LNPCC4574"></a><div class="props_rev_3"><a id="GUID-3F741D64-7F2B-4C07-96D0-91DEED0D4AC2" name="GUID-3F741D64-7F2B-4C07-96D0-91DEED0D4AC2"></a><h5 id="LNPCC-GUID-3F741D64-7F2B-4C07-96D0-91DEED0D4AC2" class="sect5"><span class="enumeration_section">B.9.2.3 </span>Infrequent Execution 
                     </h5>
                     <div>
                        <p>Sometimes, the link between an <span class="italic">infrequently</span> executed SQL statement and its private SQL area should be temporary. 
                        </p>
                        <p>When HOLD_CURSOR=NO (the default), after the server executes the SQL statement and the cursor is closed, the precompiler marks the link between the cursor and cursor cache as reusable. The link is reused as soon as the cursor cache entry to which it points is needed for another SQL statement. This frees memory allocated to the private SQL area and releases parse locks. However, because a PREPAREd cursor must remain active, its link is maintained even when HOLD_CURSOR=NO. </p>
                        <p>When RELEASE_CURSOR=YES, after the server executes the SQL statement and the cursor is closed, the private SQL area is automatically freed and the parsed statement lost. This might be necessary if, for example, MAXOPENCURSORS is set low at your site to conserve memory. </p>
                        <p>If a data manipulation statement precedes a data definition statement and they reference the same tables, specify RELEASE_CURSOR=YES for the data manipulation statement. This avoids a conflict between the parse lock obtained by the data manipulation statement and the exclusive lock required by the data definition statement. </p>
                        <p>When RELEASE_CURSOR=YES, the link between the private SQL area and the cache entry is immediately removed and the private SQL area freed. Even if you specify HOLD_CURSOR=YES, the server must still reallocate memory for a private SQL area and reparse the SQL statement before executing it because RELEASE_CURSOR=YES overrides HOLD_CURSOR=YES. </p>
                        <p>However, when RELEASE_CURSOR=YES, the reparse might still require no extra processing because the server caches the parsed representations of SQL statements and PL/SQL blocks in its <span class="italic">Shared SQL Cache</span>. Even if its cursor is closed, the parsed representation remains available until it is aged out of the cache. 
                        </p>
                     </div>
                  </div><a id="LNPCC4575"></a><div class="props_rev_3"><a id="GUID-7F3A3CA0-B0CE-4883-AE5F-CD473DEECCDA" name="GUID-7F3A3CA0-B0CE-4883-AE5F-CD473DEECCDA"></a><h5 id="LNPCC-GUID-7F3A3CA0-B0CE-4883-AE5F-CD473DEECCDA" class="sect5"><span class="enumeration_section">B.9.2.4 </span>Frequent Execution 
                     </h5>
                     <div>
                        <p>The links between a <span class="italic">frequently</span> executed SQL statement and its private SQL area should be maintained because the private SQL area contains all the information needed to execute the statement. Maintaining access to this information makes subsequent execution of the statement much faster. 
                        </p>
                        <p>When HOLD_CURSOR=YES, the link between the cursor and cursor cache is maintained after the server executes the SQL statement. Thus, the parsed statement and allocated memory remain available. This is useful for SQL statements that you want to keep active because it avoids unnecessary reparsing.<a id="d114141e968" class="indexterm-anchor"></a><a id="d114141e974" class="indexterm-anchor"></a> 
                        </p>
                        <p>When RELEASE_CURSOR=NO (the default), the link between the cache entry and the private SQL area is maintained after the server executes the SQL statement and is not reused unless the number of open cursors exceeds the value of MAXOPENCURSORS. This is useful for SQL statements that are executed often because the parsed statement and allocated memory remain available.<a id="d114141e981" class="indexterm-anchor"></a><a id="d114141e985" class="indexterm-anchor"></a> 
                        </p>
                        <div class="infoboxnote" id="GUID-7F3A3CA0-B0CE-4883-AE5F-CD473DEECCDA__GUID-D8FD0E9D-6869-4DB2-A382-43B82A53ADBF">
                           <p class="notep1">Note:</p>
                           <p>With versions of Oracle prior to Oracle8<span class="italic">i</span>, when RELEASE_CURSOR=NO and HOLD_CURSOR=YES, after the server executes a SQL statement, its parsed representation remains available. But with later versions of Oracle, when RELEASE_CURSOR=NO and HOLD_CURSOR=YES, the parsed representation remains available only until it is aged out of the Shared SQL Cache. Normally, this is not a problem, but you might get unexpected results if the definition of a referenced object changes before the SQL statement is reparsed.
                           </p>
                        </div>
                     </div>
                  </div><a id="LNPCC4576"></a><div class="props_rev_3"><a id="GUID-989DD868-1723-48B9-B153-0233ED8BA776" name="GUID-989DD868-1723-48B9-B153-0233ED8BA776"></a><h5 id="LNPCC-GUID-989DD868-1723-48B9-B153-0233ED8BA776" class="sect5"><span class="enumeration_section">B.9.2.5 </span>Embedded PL/SQL Considerations
                     </h5>
                     <div>
                        <p>For the purposes of cursor management, an embedded PL/SQL block is treated just like a SQL statement. When an embedded PL/SQL block is executed, a parent cursor is associated with the entire block and a link is created between the cache entry and the private SQL area in the PGA for the embedded PL/SQL block. Be aware that each SQL statement inside the embedded block also requires a private SQL area in the PGA. These SQL statements use child cursors that PL/SQL manages itself. The disposition of the child cursors is determined through its associated parent cursor. That is, the private SQL areas used by the child cursors are freed after the private SQL area for its parent cursor is freed.</p>
                     </div>
                  </div><a id="LNPCC4578"></a><a id="LNPCC4577"></a><div class="props_rev_3"><a id="GUID-D181D93D-C6BF-41D8-A9A4-E31ABE9C9A3B" name="GUID-D181D93D-C6BF-41D8-A9A4-E31ABE9C9A3B"></a><h5 id="LNPCC-GUID-D181D93D-C6BF-41D8-A9A4-E31ABE9C9A3B" class="sect5"><span class="enumeration_section">B.9.2.6 </span>Parameter Interactions 
                     </h5>
                     <div>
                        <p><a href="performance-tuning.html#GUID-969E1F8A-3380-4B6F-8337-15EE0E68D858__CHEBHDFF">Figure B-1</a> shows how HOLD_CURSOR and RELEASE_CURSOR interact. Notice that HOLD_CURSOR=NO overrides RELEASE_CURSOR=NO and that RELEASE_CURSOR=YES overrides HOLD_CURSOR=YES.
                        </p>
                        <div class="tblformal" id="GUID-D181D93D-C6BF-41D8-A9A4-E31ABE9C9A3B__CHEDAEHH">
                           <p class="titleintable">Table B-1 HOLD_CURSOR and RELEASE _CURSOR Interactions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="HOLD_CURSOR and RELEASE _CURSOR Interactions" summary="HOLD_CURSOR and RELEASE _CURSOR Interactions" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d114141e1058">HOLD_CURSOR</th>
                                    <th align="left" valign="bottom" width="32%" id="d114141e1061">RELEASE_CURSOR</th>
                                    <th align="left" valign="bottom" width="32%" id="d114141e1064">Links are ...</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d114141e1069" headers="d114141e1058 ">
                                       <p>NO</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1069 d114141e1061 ">
                                       <p>NO</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1069 d114141e1064 ">
                                       <p>marked as reusable</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d114141e1079" headers="d114141e1058 ">
                                       <p>YES</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1079 d114141e1061 ">
                                       <p>NO</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1079 d114141e1064 ">
                                       <p>maintained</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d114141e1089" headers="d114141e1058 ">
                                       <p>NO</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1089 d114141e1061 ">
                                       <p>YES</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1089 d114141e1064 ">
                                       <p>removed immediately</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d114141e1099" headers="d114141e1058 ">
                                       <p>YES</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1099 d114141e1061 ">
                                       <p>YES</p>
                                    </td>
                                    <td align="left" valign="top" width="32%" headers="d114141e1099 d114141e1064 ">
                                       <p>removed immediately</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div>
               </div>
            </div><a id="LNPCC4579"></a><div class="props_rev_3"><a id="GUID-ED50D9C4-2B22-43AB-AA63-3B6400FFCB7D" name="GUID-ED50D9C4-2B22-43AB-AA63-3B6400FFCB7D"></a><h3 id="LNPCC-GUID-ED50D9C4-2B22-43AB-AA63-3B6400FFCB7D" class="sect3"><span class="enumeration_section">B.10 </span>About Avoiding Unnecessary Reparsing
               </h3>
               <div>
                  <div class="section">
                     <p>Avoiding unnecessary reparsing involves eliminating errors encountered during the execute phase of an SQL statement in a loop. When an embedded SQL statement is executed in a loop, the SQL statement is parsed only once. However, if the execution of the SQL statement results in an error, the SQL statement is usually reparsed. In this case, reparsing will occur for all errors encountered, except the following:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>ORA-1403 (not found)</p>
                        </li>
                        <li>
                           <p>ORA-1405 (truncation)</p>
                        </li>
                        <li>
                           <p>ORA-1406 (null value)</p>
                        </li>
                     </ul>
                     <p>By eliminating all other errors, you can avoid unnecessary reparsing.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNPCC4580"></a><div class="props_rev_3"><a id="GUID-2FD19C63-B523-4B93-9FB1-CDD376EA2423" name="GUID-2FD19C63-B523-4B93-9FB1-CDD376EA2423"></a><h3 id="LNPCC-GUID-2FD19C63-B523-4B93-9FB1-CDD376EA2423" class="sect3"><span class="enumeration_section">B.11 </span>About Using Connection Pooling
               </h3>
               <div>
                  <div class="section">
                     <p>This section describes performance tuning using connection pooling. If an application is multithreaded and is performing concurrent operations on the same database, users can use the connection pooling feature to achieve better performance. Users can tune an application's performance by choosing the appropriate values for parameters used with connection pooling, and can achieve up to three times performance increase, when compared to existing application performance.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="multithreaded-applications.html#GUID-76B52DE9-54B7-4F3C-9905-AADE6420BE84">Multithreaded Applications</a></li>
                        <li><a href="multithreaded-applications.html#GUID-617D04C1-EA48-44D0-B5E6-E8CB9C241B07">Connection Pooling</a></li>
                        <li><a href="../lnoci/index.html" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" name="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61"></a><h3 id="LNPCC-GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61" class="sect3"><span class="enumeration_section">B.12 </span>About Using Oracle Connection Manager in Traffic Director Mode
               </h3>
               <div>
                  <p>Oracle Connection Manager in Traffic Director Mode is a proxy that is placed between supported database clients and database instances.</p>
                  <div class="p">Supported clients from Oracle Database 11<span class="italic">g</span> Release 2 (11.2) and later can connect to Oracle Connection Manager in Traffic Director Mode. Oracle Connection Manager in Traffic Director Mode provides improved high availability (HA) for planned and unplanned database server outages, connection multiplexing support, and load balancing. Support for Oracle Connection Manager in Traffic Director Mode is described in more detail in the following sections
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="performance-tuning.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__MODESOFOPERATION-4FD4C8FE">Modes of Operation</a></p>
                        </li>
                        <li>
                           <p><a href="performance-tuning.html#GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__KEYFEATURES-4FD4D08F">Key Features</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="section" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__MODESOFOPERATION-4FD4C8FE">
                     <p class="subhead2" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-749BC524-93BC-42F1-B765-970605875B7F">Modes of Operation</p>
                     <p>Oracle Connection Manager in Traffic Director Mode supports the following modes of operation:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <div class="p">In pooled connection mode, Oracle Connection Manager in Traffic Director Mode supports any application using the following database client releases:
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>OCI, OCCI, and Open Source Drivers (Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.4) and later))
                                    </p>
                                 </li>
                                 <li>
                                    <p>JDBC (Oracle Database 12<span class="italic">c</span> release 1 (12.1) and later)
                                    </p>
                                 </li>
                                 <li>
                                    <p>ODP.NET (Oracle Database 12<span class="italic">c</span> release 2 (12.2) and later)
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <p>In addition, applications must use DRCP. That is, the application must enable DRCP in the connect string (or in the <code class="codeph">tnsnames.ora</code> alias).
                           </p>
                        </li>
                        <li>
                           <p>In non-pooled connection (or dedicated) mode, Oracle Connection Manager in Traffic Director Mode supports any application using database client releases Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.4) and later. In this mode, some capabilities, such as connection multiplexing are not available. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__KEYFEATURES-4FD4D08F">
                     <p class="subhead2" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-3A52B2C3-D63C-4ACB-8FED-1BAFC3801338">Key Features</p>
                     <div class="p">Oracle Connection Manager in Traffic Director Mode furnishes support for the following:
                        <ul style="list-style-type: disc;">
                           <li>
                              <div class="p">Transparent performance enhancements and connection multiplexing, which includes:
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Statement caching, rows prefetching, and result set caching are auto-enabled for all modes of operation.</p>
                                    </li>
                                    <li>
                                       <p>Database session multiplexing (pooled mode only) using the proxy resident connection pool (PRCP), where PRCP is a proxy mode of Database Resident Connection Pooling (DRCP). Applications get transparent connect-time load balancing and run-time load balancing between Oracle Connection Manager in Traffic Director Mode and the database.</p>
                                    </li>
                                    <li>
                                       <p>For multiple Oracle Connection Manager in Traffic Director Mode instances, applications get increased scalability through client-side connect time load balancing or with a load balancer (BIG-IP, NGINX, and others)</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">Zero application downtime
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <div class="p">Planned database maintenance or pluggable database (PDB) relocation
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>Pooled mode</p>
                                                <p>Oracle Connection Manager in Traffic Director Mode responds to Oracle Notification Service (ONS) events for planned outages and redirects work. Connections are drained from the pool on Oracle Connection Manager in Traffic Director Mode when the request completes. Service relocation is supported for Oracle Database 11<span class="italic">g</span> release 2 (11.2.0.4) and later.
                                                </p>
                                                <p>For PDB relocation, Oracle Connection Manager in Traffic Director Mode responds to in-band notifications when a PDB is relocated, that is even when ONS is not configured (for Oracle Database release 18c, version 18.1 and later server only)&nbsp;</p>
                                             </li>
                                             <li>
                                                <p>Non-pooled or dedicated mode</p>
                                                <div class="p">When there is no request boundary information from the client, Oracle Connection Manager in Traffic Director Mode supports planned outage for many applications (as long as only simple session state and cursor state need to be preserved across the request/transaction boundaries). This support includes:
                                                   <ul style="list-style-type: disc;">
                                                      <li>
                                                         <p>Stop service/PDB at the transaction boundary or it leverages Oracle Database release 18c&nbsp;continuous application availability&nbsp;to stop the service at the request boundary</p>
                                                      </li>
                                                      <li>
                                                         <p>Oracle Connection Manager in Traffic Director Mode leverages Transparent Application Failover (TAF) failover restore to reconnect and restore simple states.</p>
                                                      </li>
                                                   </ul>
                                                </div>
                                             </li>
                                          </ul>
                                       </div>
                                    </li>
                                    <li>
                                       <p>Unplanned database outages for read-mostly workloads</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">High Availability of Oracle Connection Manager in Traffic Director Mode to avoid a single point of failure. This is supported by:
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Multiple instances of Oracle Connection Manager in Traffic Director Mode using a load balancer or client side load balancing/failover in the connect string</p>
                                    </li>
                                    <li>
                                       <p>Rolling upgrade of Oracle Connection Manager in Traffic Director Mode instances</p>
                                    </li>
                                    <li>
                                       <p>Graceful close of existing connections from client to Oracle Connection Manager in Traffic Director Mode for planned outages</p>
                                    </li>
                                    <li>
                                       <p>In-band notifications to Oracle Database release 18c and later clients</p>
                                    </li>
                                    <li>
                                       <p>For older clients, notifications are sent with the response of the current request</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <div class="p">For security and isolation, Oracle Connection Manager in Traffic Director Mode furnishes:
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Database Proxy supporting transmission control protocol/transmission control protocol secure (TCP/TCPS) and protocol conversion</p>
                                    </li>
                                    <li>
                                       <p>Firewall based on the IP address, service name, and secure socket layer/transport layer security (SSL/TLS) wallets</p>
                                    </li>
                                    <li>
                                       <p>Tenant isolation in a multi-tenant environment</p>
                                    </li>
                                    <li>
                                       <p>Protection against denial-of-service and fuzzing attacks</p>
                                    </li>
                                    <li>
                                       <p>Secure tunneling of database traffic across Oracle Database on-premises and Oracle Cloud</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-BF9AFFD6-537A-4252-BBFB-3A60EEAC3E61__GUID-A2DD3A99-8792-4704-A482-B66B30AD1B85">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-3917FC5D-4B23-4752-85BA-39A88C4D13F8" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about configuring <code class="codeph">cman.ora</code> configuration file to set up Oracle Connection Manager in Traffic Director Mode
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-58847B76-3836-41DB-9EB6-A81D5C397024" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about configuring databases for Oracle Connection Manager in Traffic Director Mode proxy authentication
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-96FA23BA-F32B-4D47-9CBB-69D27E8D94F6" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about configuring Oracle Connection Manager in Traffic Director Mode for unplanned down events
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-E73658E7-BBF7-4C13-AAD5-70D32062AD8D" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about configuring Oracle Connection Manager in Traffic Director Mode for planned down events
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-15756B12-5ED5-4EDE-9D4B-6B890D5BE9AF" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span> </a> for information about configuring proxy resident connection pools for use by Oracle Connection Manager in Traffic Director Mode
                              </p>
                           </li>
                           <li>
                              <p><a href="../netag/configuring-oracle-connection-manager.html#NETAG-GUID-FC833F8F-CE5A-4C02-A962-244954158853" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about functionality not supported for all drivers with Oracle Connection Manager in Traffic Director Mode
                              </p>
                           </li>
                           <li>
                              <p><a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> for an overview of Oracle CMAN configuration file
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>