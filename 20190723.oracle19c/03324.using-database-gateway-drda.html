<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using the Oracle Database Gateway for DRDA</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-drda-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T16:51:33-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18236-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="database-gateway-drda-release-information.html" title="Previous" type="text/html">
      <link rel="next" href="developing-applications.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for DRDA User's Guide">
    <meta name="dcterms.isVersionOf" content="DRDAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-gateway-drda-release-information.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="developing-applications.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Using the Oracle Database Gateway for DRDA</li>
            </ol>
            <a id="GUID-7C1EA11D-0B32-4BF5-9BA0-D90B6C011307" name="GUID-7C1EA11D-0B32-4BF5-9BA0-D90B6C011307"></a><a id="DRDAG137"></a>
            
            <h2 id="DRDAG-GUID-7C1EA11D-0B32-4BF5-9BA0-D90B6C011307" class="sect2"><span class="enumeration_chapter">3 </span> Using the Oracle Database Gateway for DRDA
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d4497e19" class="indexterm-anchor"></a><a id="d4497e21" class="indexterm-anchor"></a>Using the Oracle Database Gateway for DRDA involves connecting to the corresponding gateway system and the remote DRDA database associated with the gateway. 
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-CC26958C-89D7-4230-A598-200F135D8987">DRDA Gateway Features</a></p>
                  </li>
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-0456C1B9-D99D-4D78-BD5D-C4AEB097AF58">Processing a Database Link</a></p>
                  </li>
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A">Accessing the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-E716BE71-7D67-4AA4-8C5E-B8843733B388">Accessing i5/OS File Members</a></p>
                  </li>
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-ABF1C711-C195-4E65-AB3B-199CB484FB21">Using the Synonym Feature</a></p>
                  </li>
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-DB4B2396-1F94-4C1E-B47D-D312EEAF4BB2">Performing Distributed Queries </a></p>
                  </li>
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-3C8C4F0C-49AF-4587-BA69-A1E154EB55C5">Replicating in a Heterogeneous Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-332D7A50-49C1-4CED-90C7-B3A821DDE165">Copying Data from Oracle Database  to DRDA Server</a></p>
                  </li>
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-43ADB851-BBBF-4418-9C57-7D4E3934282F">Copying Data from DRDA Server to Oracle Database </a></p>
                  </li>
                  <li>
                     <p><a href="using-database-gateway-drda.html#GUID-D39B98BF-6E54-4606-88CF-4C0993CB1A14">Tracing SQL Statements</a></p>
                  </li>
               </ul>
            </div><a id="DRDAG1248"></a><div class="props_rev_3"><a id="GUID-CC26958C-89D7-4230-A598-200F135D8987" name="GUID-CC26958C-89D7-4230-A598-200F135D8987"></a><h3 id="DRDAG-GUID-CC26958C-89D7-4230-A598-200F135D8987" class="sect3">DRDA Gateway Features</h3>
               <div>
                  <p>This section describes the following DRDA gateway features:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-database-gateway-drda.html#GUID-AC6A0159-7272-4A88-AA31-043832565FA8">CHAR Semantics</a></p>
                     </li>
                     <li>
                        <p><a href="using-database-gateway-drda.html#GUID-3A4227E2-FBEB-4771-9CDA-341465ADAAB1">Multi-byte Character Sets Ratio Suppression</a></p>
                     </li>
                     <li>
                        <p><a href="using-database-gateway-drda.html#GUID-4401E8A1-0D7A-4080-B656-BD7E11465D50">IPv6 Support</a></p>
                     </li>
                     <li>
                        <p><a href="using-database-gateway-drda.html#GUID-43B42207-A8E7-4C3C-A13F-FFA189854D18">Gateway Session IDLE Timeout</a></p>
                     </li>
                  </ul>
               </div><a id="DRDAG1249"></a><div class="props_rev_3"><a id="GUID-AC6A0159-7272-4A88-AA31-043832565FA8" name="GUID-AC6A0159-7272-4A88-AA31-043832565FA8"></a><h4 id="DRDAG-GUID-AC6A0159-7272-4A88-AA31-043832565FA8" class="sect4">CHAR Semantics</h4>
                  <div>
                     <p>This feature allows the gateway to optionally run in <code class="codeph">CHAR</code> Semantics mode.  Rather than always describing UDB <code class="codeph">CHAR</code> columns as <code class="codeph">CHAR(n BYTE)</code>, this feature describes them as <code class="codeph">CHAR(n CHAR)</code> and <code class="codeph">VARCHAR(n CHAR)</code>. The concept is similar to Oracle database <code class="codeph">CHAR</code> Semantics. You need to specify <code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code>  gateway parameter to activate this option. Refer to <a href="database-gateway-drda-initialization-parameters.html#GUID-D5965054-49C8-4D6A-91C3-C33BA2477434"> Initialization Parameters</a> for more detail.
                     </p>
                  </div>
               </div><a id="DRDAG1250"></a><div class="props_rev_3"><a id="GUID-3A4227E2-FBEB-4771-9CDA-341465ADAAB1" name="GUID-3A4227E2-FBEB-4771-9CDA-341465ADAAB1"></a><h4 id="DRDAG-GUID-3A4227E2-FBEB-4771-9CDA-341465ADAAB1" class="sect4">Multi-byte Character Sets Ratio Suppression</h4>
                  <div>
                     <p>This feature optionally suppresses the ratio expansion from UDB database to Oracle database involving multi-byte character set. By default, Oracle Database Gateway for DRDA assumes the worst ratio to prevent data being truncated or insufficient buffer size situation. However, if you have specific knowledge of your UDB database and do not want the expansion to occur, you can specify <code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code> parameter to suppress the expansion. Refer to <a href="database-gateway-drda-initialization-parameters.html#GUID-D5965054-49C8-4D6A-91C3-C33BA2477434"> Initialization Parameters</a> for more detail.
                     </p>
                  </div>
               </div><a id="DRDAG1251"></a><div class="props_rev_3"><a id="GUID-4401E8A1-0D7A-4080-B656-BD7E11465D50" name="GUID-4401E8A1-0D7A-4080-B656-BD7E11465D50"></a><h4 id="DRDAG-GUID-4401E8A1-0D7A-4080-B656-BD7E11465D50" class="sect4">IPv6 Support</h4>
                  <div>
                     <p>Besides full IPv6 support between Oracle databases and the gateway, IPv6 is also supported between this gateway and UDB database. Refer to the <code class="codeph">HS_FDS_CONNECT_INFO</code> parameter in <a href="database-gateway-drda-initialization-parameters.html#GUID-D5965054-49C8-4D6A-91C3-C33BA2477434"> Initialization Parameters</a> for more detail.
                     </p>
                  </div>
               </div><a id="DRDAG1252"></a><div class="props_rev_3"><a id="GUID-43B42207-A8E7-4C3C-A13F-FFA189854D18" name="GUID-43B42207-A8E7-4C3C-A13F-FFA189854D18"></a><h4 id="DRDAG-GUID-43B42207-A8E7-4C3C-A13F-FFA189854D18" class="sect4">Gateway Session IDLE Timeout</h4>
                  <div>
                     <p>You can optionally choose to terminate long idle gateway sessions automatically with the gateway parameter <code class="codeph">HS_IDLE_TIMEOUT</code>. Specifically, when a gateway session is idle for more than the specified time limit, the gateway session is terminated with any pending update rolled back
                     </p>
                  </div>
               </div>
            </div><a id="DRDAG138"></a><div class="props_rev_3"><a id="GUID-0456C1B9-D99D-4D78-BD5D-C4AEB097AF58" name="GUID-0456C1B9-D99D-4D78-BD5D-C4AEB097AF58"></a><h3 id="DRDAG-GUID-0456C1B9-D99D-4D78-BD5D-C4AEB097AF58" class="sect3">Processing a Database Link</h3>
               <div>
                  <p>The database and application administrators of a distributed database system are responsible for managing the database links that define paths to the Oracle Database Gateway for DRDA. The tasks are as follows: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-database-gateway-drda.html#GUID-63BC573D-B0A9-4225-879B-D1D889F8E9A2">Creating Database Links</a></p>
                     </li>
                     <li>
                        <p><a href="using-database-gateway-drda.html#GUID-C53FA2C5-693F-4370-99F4-AABF931B6ECE">Dropping Database Links</a></p>
                     </li>
                     <li>
                        <p><a href="using-database-gateway-drda.html#GUID-69B44DAD-E1B7-4D7D-9ECA-6E10621C7403">Examining Available Database Links</a></p>
                     </li>
                     <li>
                        <p><a href="using-database-gateway-drda.html#GUID-CD8C4BE6-4F3A-4A76-8642-03E606B9C9F7">Limiting the Number of Active Database Links</a></p>
                     </li>
                  </ul>
               </div><a id="DRDAG1253"></a><a id="DRDAG139"></a><div class="props_rev_3"><a id="GUID-63BC573D-B0A9-4225-879B-D1D889F8E9A2" name="GUID-63BC573D-B0A9-4225-879B-D1D889F8E9A2"></a><h4 id="DRDAG-GUID-63BC573D-B0A9-4225-879B-D1D889F8E9A2" class="sect4">Creating Database Links</h4>
                  <div>
                     <div class="section">
                        <p>To create a database link and define a path to a <a id="d4497e345" class="indexterm-anchor"></a>remote database, use the <a id="d4497e352" class="indexterm-anchor"></a><a id="d4497e356" class="indexterm-anchor"></a><code class="codeph">CREATE</code> <code class="codeph">DATABASE LINK </code>statement. The <a id="d4497e364" class="indexterm-anchor"></a><a id="d4497e368" class="indexterm-anchor"></a><code class="codeph">CONNECT TO</code> clause specifies the <a id="d4497e374" class="indexterm-anchor"></a>remote user&nbsp;ID and password to use when creating a session in the remote database. The <a id="d4497e379" class="indexterm-anchor"></a><a id="d4497e383" class="indexterm-anchor"></a><code class="codeph">USING</code> clause points to a <a id="d4497e388" class="indexterm-anchor"></a>tnsnames.ora connect descriptor.
                        </p>
                        <div class="infoboxnote" id="GUID-63BC573D-B0A9-4225-879B-D1D889F8E9A2__GUID-11E15628-4EE8-4778-855A-34AC1F73C9D7">
                           <p class="notep1">Note:</p>
                           <p>If you do not specify a user ID and a password in the <code class="codeph">CONNECT TO</code> clause, then the Oracle database user ID and password are used.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-63BC573D-B0A9-4225-879B-D1D889F8E9A2__GUID-178E14A9-265C-45DA-B27C-0BEC0A3481C7">
                           <p class="notep1">See Also:</p>
                           <p>Refer to Chapter 15, "Security Considerations" in <a href="../otgis/drda-gateway-security-consideration.html#OTGIS150" target="_blank"><span class="italic">Oracle Database Gateway Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), Oracle Solaris on x86-64 (64-Bit) and HP-UX Itanium</span></a> or <a href="../otgiw/security-consideration-drda-gateway.html#OTGIW150" target="_blank"><span class="italic">Oracle Database Gateway Installation and Configuration Guide for Microsoft Windows</span></a> for details. 
                           </p>
                        </div>
                        <p>The following example creates a database link to access information in the DRDA server:</p><pre class="oac_no_warn" dir="ltr">CREATE PUBLIC DATABASE LINK <span class="italic">dblink</span> 
CONNECT TO <span class="italic">userid</span> IDENTIFIED BY <span class="italic">password</span>  
USING '<span class="italic">tns_name_entry</span>';
</pre><p>where:</p>
                        <p><code class="codeph">dblink</code> is the complete database link name.
                        </p>
                        <p><code class="codeph">user id</code> is the user&nbsp;ID used to establish a session in the <a id="d4497e438" class="indexterm-anchor"></a>remote database. This user ID must be a valid DRDA server user ID. It must be authorized to any table or file on the DRDA server that is referenced in the SQL commands. Length restrictions on user IDs are dependent on the authorization system used by the DRDA server.  In many cases this limit is eight characters, but in other cases, it may be longer.  See DB2 platform documentation for limitations.
                        </p>
                        <p><code class="codeph">password</code> is the password used to establish a session in the remote database. This password must be a valid DRDA server password. Length restrictions on passwords are dependent on the authorization system used by the DRDA server.  In many cases this limit is eight characters, but in other cases, it may be longer.  See DB2 platform documentation for limitations. 
                        </p>
                        <p><a id="d4497e450" class="indexterm-anchor"></a><code class="codeph">tns_name_entry</code> specifies the Oracle Net connect descriptor used to identify the gateway. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-63BC573D-B0A9-4225-879B-D1D889F8E9A2__GUID-FF79E640-E9F1-4B6C-A267-8C40BFFB0FA1">Guidelines for Database Links</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Database links are active for the duration of a gateway session. If you want to close a database link during a session, then use the <a id="d4497e463" class="indexterm-anchor"></a><code class="codeph">ALTER SESSION CLOSE DATABASE LINK</code> <span class="italic"><code class="codeph">dblink</code></span> statement. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DRDAG140"></a><div class="props_rev_3"><a id="GUID-C53FA2C5-693F-4370-99F4-AABF931B6ECE" name="GUID-C53FA2C5-693F-4370-99F4-AABF931B6ECE"></a><h4 id="DRDAG-GUID-C53FA2C5-693F-4370-99F4-AABF931B6ECE" class="sect4">Dropping Database Links</h4>
                  <div>
                     <div class="section">
                        <p>You can drop a database link with the <a id="d4497e503" class="indexterm-anchor"></a><a id="d4497e507" class="indexterm-anchor"></a><code class="codeph">DROP DATABASE LINK</code> statement. For example, to drop the public database link named<code class="codeph"> DBLINK,</code> use the statement:
                        </p><pre class="oac_no_warn" dir="ltr">DROP PUBLIC DATABASE LINK dblink;</pre><div class="infoboxnote" id="GUID-C53FA2C5-693F-4370-99F4-AABF931B6ECE__GUID-9C393E3E-76DB-4F23-BE8C-EEDE64306536">
                           <p class="notep1">Note:</p>
                           <p>A database link should not be dropped if it is required to resolve an in-doubt distributed transaction. Refer to <span class="italic">Oracle Database Administrator's Guide</span> for additional information about dropping database links.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-C53FA2C5-693F-4370-99F4-AABF931B6ECE__GUID-F1AFF97F-B2CA-4C7E-BE38-E63CC7AA4E99">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/DROP-DATABASE-LINK.html#SQLRF01514" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for additional information about dropping database links
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DRDAG141"></a><div class="props_rev_3"><a id="GUID-69B44DAD-E1B7-4D7D-9ECA-6E10621C7403" name="GUID-69B44DAD-E1B7-4D7D-9ECA-6E10621C7403"></a><h4 id="DRDAG-GUID-69B44DAD-E1B7-4D7D-9ECA-6E10621C7403" class="sect4">Examining Available Database Links</h4>
                  <div>
                     <div class="section">
                        <p>The data dictionary of each database stores the definitions of all the database links in that database. The <a id="d4497e562" class="indexterm-anchor"></a><a id="d4497e568" class="indexterm-anchor"></a><code class="codeph">USER_DB_LINKS</code> data dictionary view shows the privately defined database links, that is, those accessible to the current Oracle user. The <a id="d4497e573" class="indexterm-anchor"></a><a id="d4497e579" class="indexterm-anchor"></a><code class="codeph">ALL_DB_LINKS</code> data dictionary views show all accessible (public and private) database links. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DRDAG142"></a><div class="props_rev_3"><a id="GUID-CD8C4BE6-4F3A-4A76-8642-03E606B9C9F7" name="GUID-CD8C4BE6-4F3A-4A76-8642-03E606B9C9F7"></a><h4 id="DRDAG-GUID-CD8C4BE6-4F3A-4A76-8642-03E606B9C9F7" class="sect4">Limiting the Number of Active Database Links</h4>
                  <div>
                     <div class="section">
                        <p>You can limit the number of connections from a user process to remote databases with the <a id="d4497e615" class="indexterm-anchor"></a><a id="d4497e617" class="indexterm-anchor"></a>parameter <code class="codeph">OPEN_LINKS</code>. This parameter controls the number of <a id="d4497e625" class="indexterm-anchor"></a>remote connections that any single user process can concurrently use with a single SQL statement. Refer to <a href="../admin/distributed-database-concepts.html#ADMIN12083" target="_blank"><span class="italic">Oracle Database Administrator’s Guide</span></a> for additional information about limiting the number of active database links. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DRDAG1254"></a><a id="DRDAG1255"></a><a id="DRDAG1256"></a><a id="DRDAG143"></a><div class="props_rev_3"><a id="GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A" name="GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A"></a><h3 id="DRDAG-GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A" class="sect3">Accessing the Gateway</h3>
               <div>
                  <div class="section">
                     <p>To access the <a id="d4497e676" class="indexterm-anchor"></a>gateway, complete the following steps on the <a id="d4497e681" class="indexterm-anchor"></a>Oracle database:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span><a href="using-database-gateway-drda.html#GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A__BABJBIAA">Example 3-1</a></span><br></li>
                     <li><span><a href="using-database-gateway-drda.html#GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A__BABGGIJG">Example 3-2</a></span><br></li>
                     <li><span><a href="using-database-gateway-drda.html#GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A__BABEFGEE">Example 3-3</a></span><br></li>
                  </ol>
                  <div class="example" id="GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A__BABJBIAA">
                     <p class="titleinexample">Example 3-1 Login to the Oracle Database</p>
                     <p>Login to the Oracle database to access the gateway</p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A__BABGGIJG">
                     <p class="titleinexample">Example 3-2 Create a database link to the DRDA Database</p>
                     <p>For example, use:</p><pre class="oac_no_warn" dir="ltr">CREATE PUBLIC DATABASE LINK DRDA
CONNECT TO ORADRDA IDENTIFIED BY <span class="italic">oracle_pw</span> 
USING '<span class="italic">tns_name_entry</span>' </pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-AA0A394C-8E8B-4ECD-8C29-A8763EAC0C0A__BABEFGEE">
                     <p class="titleinexample">Example 3-3 Retrieve data from the DRDA Database</p>
                     <p>This query fetches the <code class="codeph">TABLE</code> table in the schema <code class="codeph">SECURE</code>, using the name <code class="codeph">ORADRDA</code> as the DRDA server user profile. The <code class="codeph">ORADRDA</code> user profile must have the appropriate privileges on the DRDA server to access the <code class="codeph">SECURE.TABLE</code> files:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM SECURE.TABLE@DRDA
</pre><p>The following is an example of the error messages that are displayed if insufficient privileges are displayed:</p><pre class="oac_no_warn" dir="ltr">ORA-28500: connection from ORACLE to a non-Oracle system returned this message:
[Oracle][ODBC DB2 Wire Protocol driver][UDB DB2 for Windows, UNIX, and
Linux]ORADRDA DOES NOT HAVE PRIVILEGE TO PERFORM OPERATION SELECT ON THIS
OBJECT SECURE.TABLE.
ORA-02063: preceding 2 lines from DRDA
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="DRDAG144"></a><div class="props_rev_3"><a id="GUID-E716BE71-7D67-4AA4-8C5E-B8843733B388" name="GUID-E716BE71-7D67-4AA4-8C5E-B8843733B388"></a><h3 id="DRDAG-GUID-E716BE71-7D67-4AA4-8C5E-B8843733B388" class="sect3">Accessing i5/OS File Members</h3>
               <div>
                  <div class="section">
                     <p>Access to <a id="d4497e769" class="indexterm-anchor"></a>i5/OS files and file members is not specifically controlled by DRDA or the gateway. However, DB2 UDB for iSeries uses a naming convention that implies that the <a id="d4497e774" class="indexterm-anchor"></a>file member name is the same as the name of the file being addressed. For example, accessing <code class="codeph">schema.table</code> implies that table is the file name and also that table is the file member name being accessed. 
                     </p>
                     <p>To access file members with names that differ from the associated file name, you must create a view within the file so that DB2 UDB for iSeries can reference the correct file member.</p>
                     <p>One method for creating this view involves issuing the i5/OS command <code class="codeph">Create Logical File</code> (<code class="codeph">CRTLF</code>). This action creates a logical association between the file name and the file member name. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-E716BE71-7D67-4AA4-8C5E-B8843733B388__GUID-3FFCF680-E2DB-47EA-B321-F5B23C6A9C5B">
                        <p class="notep1">See Also:</p>
                        <p>For additional information, refer to the i5/OS Command Language (CL)  documentation or to the DB2 UDB for iSeries SQL reference document. </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG145"></a><div class="props_rev_3"><a id="GUID-ABF1C711-C195-4E65-AB3B-199CB484FB21" name="GUID-ABF1C711-C195-4E65-AB3B-199CB484FB21"></a><h3 id="DRDAG-GUID-ABF1C711-C195-4E65-AB3B-199CB484FB21" class="sect3">Using the Synonym Feature</h3>
               <div>
                  <div class="section">
                     <p>You can provide complete data, location, and network transparency by using the synonym feature of Oracle database. When a synonym is defined, the user need not know the underlying table or network <a id="d4497e824" class="indexterm-anchor"></a>protocol being used. A synonym can be public, which means it is available to all Oracle users. A synonym can also be defined as private, available only to the user who created it. Refer to <a href="../refrn/index.html" target="_blank"><span class="italic">Oracle Database Reference</span></a> for details on the synonym feature.
                     </p>
                     <p>The following statement creates a system-wide synonym for the <code class="codeph">EMP</code> file in the DRDA server with ownership of <code class="codeph">ORACLE</code>:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE PUBLIC SYNONYM <a id="d4497e844" class="indexterm-anchor"></a>EMP FOR ORACLE.EMP@DRDA</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG146"></a><div class="props_rev_3"><a id="GUID-DB4B2396-1F94-4C1E-B47D-D312EEAF4BB2" name="GUID-DB4B2396-1F94-4C1E-B47D-D312EEAF4BB2"></a><h3 id="DRDAG-GUID-DB4B2396-1F94-4C1E-B47D-D312EEAF4BB2" class="sect3">Performing Distributed Queries </h3>
               <div>
                  <div class="section">
                     <p>The Oracle Database Gateway technology enables the execution of distributed queries that join data in an Oracle database and in DRDA servers and data from any other data store for which Oracle provides a <a id="d4497e877" class="indexterm-anchor"></a>gateway. These complex operations can be completely transparent to the users requesting the data.
                     </p>
                     <p>The following example joins data between an Oracle database, DB2 UDB for z/OS, and a DRDA server: </p><pre class="oac_no_warn" dir="ltr">SELECT o.custname, p.projno, e.ename, sum(e.rate*p.hours)
FROM orders@DB2 o, EMP@ORACLE7 e, projects@DRDA p
WHERE o.projno = p.projno 
AND p.empno = e.empno
GROUP BY o.custname, p.projno, e.ename
</pre><p>A combination of views and synonyms, using the following SQL statements, keeps the process of distributed queries transparent to the user:</p><pre class="oac_no_warn" dir="ltr">CREATE SYNONYM orders for orders@DB2;
CREATE SYNONYM PROJECTS for PROJECTS@DRDA;
CREATE VIEW details (custname,projno,ename,spend)
AS 
SELECT o.custname, p.projno, e.ename, sum(e.rate*p.hours)
FROM orders o, EMP e, projects p
WHERE o.projno = p.projno
AND p.empno = e.empno
GROUP BY o.custname, p.projno, e.ename
</pre><p>The following SQL statement retrieves information from these three data stores in one command:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DETAILS;
</pre><p>The results of this command are:</p><pre class="oac_no_warn" dir="ltr">CUSTNAME   PROJNO     ENAME      SPEND
---------  ---------  ---------  ---------
ABC Co.    1         Jones      400
ABC Co.    1         Smith      180
XYZ Inc.   2         Jones      400
XYZ Inc.   2         Smith      180</pre></div>
                  <!-- class="section" -->
               </div><a id="DRDAG147"></a><div class="props_rev_3"><a id="GUID-7EF0BD28-0AB6-4087-9562-E0BE00D40522" name="GUID-7EF0BD28-0AB6-4087-9562-E0BE00D40522"></a><h4 id="DRDAG-GUID-7EF0BD28-0AB6-4087-9562-E0BE00D40522" class="sect4">Two-Phase Commit Processing</h4>
                  <div>
                     <p>To fully participate in a two-phase commit transaction, a server must support the <a id="d4497e932" class="indexterm-anchor"></a><a id="d4497e936" class="indexterm-anchor"></a><code class="codeph">PREPARE TRANSACTION</code> statement. The <code class="codeph">PREPARE TRANSACTION</code> statement ensures that all participating databases are prepared to <code class="codeph">COMMIT</code> or to <code class="codeph">ROLLBACK</code> a specific unit of work.
                     </p>
                     <p>Oracle database supports the <code class="codeph">PREPARE TRANSACTION</code> statement. Any number of Oracle database can participate in a distributed two-phase commit transaction. The <code class="codeph">PREPARE TRANSACTION</code> statement is performed automatically when a <code class="codeph">COMMIT</code> is issued explicitly by an application or implicitly at the normal end of the application.
                     </p>
                     <p>The gateway does not support <a id="d4497e963" class="indexterm-anchor"></a>the <code class="codeph">PREPARE TRANSACTION</code> statement. This limits the <a id="d4497e971" class="indexterm-anchor"></a>two-phase commit protocol when the gateway participates in a distributed transaction. The gateway becomes the commit focal point site of a distributed transaction. The gateway is configured as commit/confirm, so it is always the commit point site, regardless of the commit point strength setting. The gateway commits the unit of work after verifying that all Oracle databases in the transaction have successfully committed their work. The gateway must coordinate the distributed transaction so that only one gateway instance can participate in a two-phase commit transaction.
                     </p>
                     <p>Two-phase commit transactions are recorded in the <code class="codeph">HS_TRANSACTION_LOG</code> table (see the initialization parameter <code class="codeph">HS_FDS_TRANSACTION_LOG</code>), which is created during installation. This table is created when the <a id="d4497e984" class="indexterm-anchor"></a><code class="codeph">o2pc.sql </code>script is run. The owner of this table also owns the package. Refer to  "DRDA Gateway Package Binding Considerations" on <a href="../otgis/config-drda-server.html#OTGIS130" target="_blank"><span class="italic">Oracle Database Gateway Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), Oracle Solaris on x86-64 (64-Bit) and HP-UX Itanium</span></a> or <a href="../otgiw/config-drda-server.html#OTGIW130" target="_blank"><span class="italic">Oracle Database Gateway Installation and Configuration Guide for Microsoft Windows</span></a>, depending on your platform, for more information.
                     </p>
                  </div>
               </div><a id="DRDAG148"></a><div class="props_rev_3"><a id="GUID-D2D11F31-C45D-42B1-B7A6-CA7F3DFB2D17" name="GUID-D2D11F31-C45D-42B1-B7A6-CA7F3DFB2D17"></a><h4 id="DRDAG-GUID-D2D11F31-C45D-42B1-B7A6-CA7F3DFB2D17" class="sect4">Distributed DRDA Transactions</h4>
                  <div>
                     <p><a id="d4497e1022" class="indexterm-anchor"></a>Because the <code class="codeph">HS_TRANSACTION_LOG</code> table is used to record the status of a gateway transaction, this table must be in at the database where the DRDA update takes place. Therefore, all updates that take place over the gateway must be local to the IBM database. 
                     </p>
                     <div class="infoboxnote" id="GUID-D2D11F31-C45D-42B1-B7A6-CA7F3DFB2D17__GUID-9BBC2ED8-6C0A-4E98-BD6F-3778C274376A">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Updates to the <code class="codeph">HS_TRANSACTION_LOG</code> table cannot be part of an IBM distributed transaction.
                              </p>
                           </li>
                           <li>
                              <p>The default commit mode on OS400 V5R1 and later is <code class="codeph">READ UNCOMMITTED (*CHG)</code> and this requires files to be journaled.  Hence, the object specified by the <code class="codeph">HS_TRANSACTION_LOG</code> initialization parameter must be journaled.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>For additional information about the two-phase commit process, refer to <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/drdag&amp;id=HETER4068" target="_blank"><span class="italic">Oracle Database Heterogeneous Connectivity User's Guide</span></a>.
                     </p>
                  </div>
               </div>
            </div><a id="DRDAG1257"></a><a id="DRDAG1258"></a><a id="DRDAG150"></a><div class="props_rev_3"><a id="GUID-3C8C4F0C-49AF-4587-BA69-A1E154EB55C5" name="GUID-3C8C4F0C-49AF-4587-BA69-A1E154EB55C5"></a><h3 id="DRDAG-GUID-3C8C4F0C-49AF-4587-BA69-A1E154EB55C5" class="sect3">Replicating in a Heterogeneous Environment</h3>
               <div>
                  <div class="section">
                     <p>Oracle Database Gateway for DRDA provides a number of <a id="d4497e1096" class="indexterm-anchor"></a>options for replicating Oracle and non-Oracle data throughout the enterprise.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3C8C4F0C-49AF-4587-BA69-A1E154EB55C5__GUID-CA783B3F-DDBB-413B-818E-796DCECAA5BB">Oracle Database Triggers</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>When updates are made to Oracle database, synchronous copies of Oracle and non-Oracle data can be maintained automatically by using <a id="d4497e1107" class="indexterm-anchor"></a><a id="d4497e1111" class="indexterm-anchor"></a>Oracle database triggers. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3C8C4F0C-49AF-4587-BA69-A1E154EB55C5__GUID-438CDF91-8165-4A8A-B566-49CA242E7063">Oracle Snapshots</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Oracle Database Gateway for DRDA can use the Oracle snapshot feature to automatically replicate non-Oracle data into Oracle database. The complete refresh capability of Oracle<a id="d4497e1120" class="indexterm-anchor"></a> snapshot can be used to propagate a complete copy or a subset of the non-Oracle data into Oracle database at user-defined intervals.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG151"></a><div class="props_rev_3"><a id="GUID-332D7A50-49C1-4CED-90C7-B3A821DDE165" name="GUID-332D7A50-49C1-4CED-90C7-B3A821DDE165"></a><h3 id="DRDAG-GUID-332D7A50-49C1-4CED-90C7-B3A821DDE165" class="sect3">Copying Data from Oracle Database  to DRDA Server</h3>
               <div>
                  <div class="section">
                     <p>This Oracle SQL INSERT command now works with the CALLBACK feature:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO DRDA_table SELECT * FROM local_table
</pre><p>Alternatively, you could use sqlplus <code class="codeph">COPY</code> command. The <a id="d4497e1167" class="indexterm-anchor"></a><code class="codeph">COPY</code> command<a id="d4497e1174" class="indexterm-anchor"></a> enables you to copy data from Oracle database to a DRDA server. To copy data from your Oracle database to the DRDA server, you can also use:
                     </p><pre class="oac_no_warn" dir="ltr">COPY FROM <span class="italic">username/password@connect_identifier -</span> 
INSERT <span class="italic">destination_table -</span>  
USING <span class="italic">query</span> 
</pre><p>For example, to select all rows from the local Oracle<code class="codeph"> </code><code class="codeph">EMP</code> table, insert them into the<code class="codeph"> EMP </code>table on the DRDA server, and commit the transaction, use:
                     </p><pre class="oac_no_warn" dir="ltr">COPY FROM scott/tiger@ORACLE -
INSERT scott.EMP@DRDA -
USING SELECT * FROM EMP
</pre><p>The <a id="d4497e1206" class="indexterm-anchor"></a>SQL*Plus <code class="codeph">COPY</code> command supports <a id="d4497e1214" class="indexterm-anchor"></a><code class="codeph">APPEND</code>, <a id="d4497e1221" class="indexterm-anchor"></a><code class="codeph">CREATE</code>, <a id="d4497e1229" class="indexterm-anchor"></a><code class="codeph">INSERT</code>, and <a id="d4497e1236" class="indexterm-anchor"></a><code class="codeph">REPLACE</code> <a id="d4497e1241" class="indexterm-anchor"></a> commands. However, <code class="codeph">INSERT</code> is the only command supported when copying to the DRDA server. For more information about the <a id="d4497e1249" class="indexterm-anchor"></a><a id="d4497e1256" class="indexterm-anchor"></a><code class="codeph">COPY</code> command, refer to <a href="../sqpug/COPY.html#SQPUG601" target="_blank"><span class="italic">SQL*Plus User's Guide and Reference</span></a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG152"></a><div class="props_rev_3"><a id="GUID-43ADB851-BBBF-4418-9C57-7D4E3934282F" name="GUID-43ADB851-BBBF-4418-9C57-7D4E3934282F"></a><h3 id="DRDAG-GUID-43ADB851-BBBF-4418-9C57-7D4E3934282F" class="sect3">Copying Data from DRDA Server to Oracle Database </h3>
               <div>
                  <div class="section">
                     <p>The <code class="codeph">CREATE TABLE</code> command enables you to copy data from a DRDA server to Oracle database. To create a table on your Oracle database and to insert rows from a DRDA server table, use:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE <span class="italic">table_name</span> 
AS <span class="italic">query</span> 
</pre><p>A SQL <code class="codeph">INSERT</code> into an Oracle table can be done selecting data from the gateway as follows:
                     </p><pre class="oac_no_warn" dir="ltr">INSERT INTO <span class="italic">local_table</span> SELECT * FROM <span class="italic">drda_table</span>
</pre><p>The following example creates the table <code class="codeph">EMP</code> in your local Oracle database and inserts the rows from the <code class="codeph">EMP</code> table on the DRDA server:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE EMP
AS SELECT * FROM scott.EMP@DRDA
</pre><p>Alternatively, you can use the SQL*Plus <code class="codeph">COPY</code> command to copy data from a DRDA server to Oracle database. For more information about the <code class="codeph">COPY</code> command, refer to <a href="../sqpug/COPY.html#SQPUG601" target="_blank"><span class="italic">SQL*Plus User's Guide and Reference</span></a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DRDAG153"></a><div class="props_rev_3"><a id="GUID-D39B98BF-6E54-4606-88CF-4C0993CB1A14" name="GUID-D39B98BF-6E54-4606-88CF-4C0993CB1A14"></a><h3 id="DRDAG-GUID-D39B98BF-6E54-4606-88CF-4C0993CB1A14" class="sect3">Tracing SQL Statements</h3>
               <div>
                  <div class="section">
                     <p><a id="d4497e1383" class="indexterm-anchor"></a>SQL statements issued through the gateway can be changed before reaching the DRDA database. These changes are made to make the format acceptable to the gateway or to make Oracle SQL compatible with DRDA server SQL. Oracle database and the gateway can change the statements depending on the situation.
                     </p>
                     <p>For various reasons, you might need to assess whether the gateway has altered the statement correctly or whether the statement could be rewritten to improve performance. <a id="d4497e1392" class="indexterm-anchor"></a>SQL tracing is a feature that allows you to view the changes made to a SQL statement by the Oracle database or the gateway.
                     </p>
                     <p>SQL tracing reduces gateway performance. Use tracing only when testing and <a id="d4497e1399" class="indexterm-anchor"></a><a id="d4497e1405" class="indexterm-anchor"></a>debugging your application. Do not enable SQL tracing when the application is running in a production environment. For more information about enabling SQL tracing, refer to the section on <span class="q">"<a href="database-gateway-drda-error-messages.html#GUID-852CD270-E7F8-45AC-BB98-FCB3F2CE37AC">SQL Tracing and the Gateway </a>"</span> in <a href="database-gateway-drda-error-messages.html#GUID-7C0401EB-B206-4CC0-A4A6-8FB5782B57D7"> Error Messages_ Diagnosis_ and Reporting</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>