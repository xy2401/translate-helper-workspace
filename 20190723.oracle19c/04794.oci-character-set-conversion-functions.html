<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Lists and describes OCI character set conversion functions.">
      <meta name="description" content="Lists and describes OCI character set conversion functions.">
      <title>OCI Character Set Conversion Functions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="Lists and describes OCI character set conversion functions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oci-character-classification-functions.html" title="Previous" type="text/html">
      <link rel="next" href="oci-messaging-functions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-character-classification-functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oci-messaging-functions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oci-globalization-support-functions.html" property="item" typeof="WebPage"><span property="name"> OCI Globalization Support Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">OCI Character Set Conversion Functions</li>
            </ol>
            <a id="GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3" name="GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3"></a><a id="LNOCI17685"></a><a id="LNOCI215"></a>
            
            <h2 id="LNOCI-GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3" class="sect2"><span class="enumeration_section">31.6 </span>OCI Character Set Conversion Functions
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Lists and describes OCI character set conversion functions.</p>
               <div class="section">
                  <p>Conversion between Oracle Database character sets and Unicode (16-bit, fixed-width Unicode encoding) is supported. Replacement characters are used if a character has no mapping from Unicode to the Oracle Database character set. Therefore, conversion back to the original character set is not always possible without data loss.</p>
                  <p><a href="oci-character-set-conversion-functions.html#GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3__G566952" title="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose.">Table 31-6</a> lists the OCI character set conversion functions. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-DBC622E6-500C-4C79-9B06-CD84C48E44D3__G566952">
                  <p class="titleintable">Table 31-6 OCI Character Set Conversion Functions </p>
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="OCI Character Set Conversion Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes its purpose." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="70%" id="d310030e203">Function</th>
                           <th align="left" valign="bottom" width="30%" id="d310030e206">Purpose</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="70%" id="d310030e211" headers="d310030e203 ">
                              <p><a href="oci-character-set-conversion-functions.html#GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" title="Indicates whether replacement characters were used for characters that could not be converted in the last invocation of OCINlsCharSetConvert() or OCICharSetToUnicode().">OCICharSetConversionIsReplacementUsed()</a></p>
                           </td>
                           <td align="left" valign="top" width="30%" headers="d310030e211 d310030e206 ">
                              <p>Indicate whether replacement characters were used for characters that could not be converted in the last invocation of <code class="codeph">OCINlsCharSetConvert()</code> or <code class="codeph">OCICharSetToUnicode()</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="70%" id="d310030e233" headers="d310030e203 ">
                              <p><a href="oci-character-set-conversion-functions.html#GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9" title="Converts a multibyte string to Unicode.">OCICharSetToUnicode()</a></p>
                           </td>
                           <td align="left" valign="top" width="30%" headers="d310030e233 d310030e206 ">
                              <p>Convert a multibyte string to Unicode</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="70%" id="d310030e245" headers="d310030e203 ">
                              <p><a href="oci-character-set-conversion-functions.html#GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8" title="Converts a string from one character set to another.">OCINlsCharSetConvert()</a></p>
                           </td>
                           <td align="left" valign="top" width="30%" headers="d310030e245 d310030e206 ">
                              <p>Convert a string from one character set to another</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="70%" id="d310030e257" headers="d310030e203 ">
                              <p><a href="oci-character-set-conversion-functions.html#GUID-03339D23-71A8-4AD8-9964-66796DFED062" title="Converts a Unicode string into multibyte string out to an array.">OCIUnicodeToCharSet()</a></p>
                           </td>
                           <td align="left" valign="top" width="30%" headers="d310030e257 d310030e206 ">
                              <p>Convert a Unicode string into multibyte </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNOCI17686"></a><div class="props_rev_3"><a id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" name="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842"></a><h3 id="LNOCI-GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" class="sect3"><span class="enumeration_section">31.6.1 </span>OCICharSetConversionIsReplacementUsed()
               </h3>
               <div>
                  <p>Indicates whether replacement characters were used for characters that could not be converted in the last invocation of <code class="codeph">OCINlsCharSetConvert()</code> or <code class="codeph">OCICharSetToUnicode().</code></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-E7E95FE0-7AC3-482D-9C92-8B66A621E09B">Purpose</p>
                     <p>Indicates whether the replacement character was used for characters that could not be converted during the last invocation of <code class="codeph">OCICharSetToUnicode()</code> or <code class="codeph">OCINlsCharSetConvert()</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-E70268FE-D2E7-4236-9ED1-7C4625A0B66B">Syntax</p><pre class="oac_no_warn" dir="ltr">boolean OCICharSetConversionIsReplacementUsed ( void *hndl );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-209804BD-D590-4B90-A78E-417872BEEE93">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-13A98185-E165-46D5-91F0-9BB460C160F6">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>Pointer to an OCI environment or user session handle.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-976C5451-4DC2-40CC-AF32-8F15280F351B">Comments</p>
                     <p>Conversion between the Oracle Database character set and Unicode (16-bit, fixed-width Unicode encoding) is supported. Replacement characters are used if there is no mapping for a character from Unicode to the Oracle Database character set. Thus, not every character can make a round-trip conversion to the original character. Data loss occurs with certain characters.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842__GUID-D5DA4D7D-6F9B-4D76-BD5F-75EABFDBDA94">Returns</p>
                     <p>The function returns <code class="codeph">TRUE</code> if the replacement character was used when <code class="codeph">OCINlsCharSetConvert()</code> or <code class="codeph">OCICharSetToUnicode()</code> was last invoked. Otherwise the function returns <code class="codeph">FALSE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-character-set-conversion-functions.html#GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8" title="Converts a string from one character set to another.">OCINlsCharSetConvert()</a></li>
                        <li><a href="oci-character-set-conversion-functions.html#GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9" title="Converts a multibyte string to Unicode.">OCICharSetToUnicode()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17687"></a><div class="props_rev_3"><a id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9" name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9"></a><h3 id="LNOCI-GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9" class="sect3"><span class="enumeration_section">31.6.2 </span>OCICharSetToUnicode()
               </h3>
               <div>
                  <p>Converts a multibyte string to Unicode.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-154019A8-BD96-47B2-A9E6-E4EA864BAD8F">Purpose</p>
                     <p>Converts a multibyte string pointed to by <code class="codeph">src</code> to Unicode out to the array pointed to by <code class="codeph">dst</code>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-07870570-958E-4404-9692-920F756102FF">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCICharSetToUnicode ( void              *hndl, 
                            ub2               *dst, 
                            size_t             dstlen, 
                            const OraText     *src, 
                            size_t             srclen, 
                            size_t            *rsize );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-47E3D531-49D7-4C82-9448-4FDB77C89B0C">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-BEAB298D-ECB7-4B5B-80B9-27B6427B362C">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>Pointer to an OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-4FD10276-A48A-4ECD-A21B-591371DC581F">
                              <!-- --></a>dst (OUT)
                        </dt>
                        <dd>
                           <p>Pointer to a destination buffer.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-03E373ED-E94F-4CE6-997A-553465DC8DCE">
                              <!-- --></a>dstlen (IN)
                        </dt>
                        <dd>
                           <p>The size of the destination buffer in characters.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-E8F1CDBC-4123-42F1-9D06-A063D15BA75C">
                              <!-- --></a>src (IN)
                        </dt>
                        <dd>
                           <p>Pointer to a multibyte source string.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-F91E2C6A-7C1A-4888-8DE0-8F8BD49F3F37">
                              <!-- --></a>srclen (IN)
                        </dt>
                        <dd>
                           <p>The size of the source string in bytes.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-9AA91D2F-D513-4B0F-940A-88510A89CE8F">
                              <!-- --></a>rsize (OUT<code class="codeph">)</code></dt>
                        <dd>
                           <p>The number of characters converted. If it is a <code class="codeph">NULL</code> pointer, then nothing is returned.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-197A75BE-5433-4322-92A2-FA96B4F09FDE">Comments</p>
                     <p>The conversion stops when it reaches the source limitation or destination limitation. The function returns the number of characters converted into a Unicode string. If <code class="codeph">dstlen</code> is <code class="codeph">0</code>, then the function scans the string, counts the number of characters, and returns the number of characters out to <code class="codeph">rsize</code>, but does not convert the string. 
                     </p>
                     <p>If <code class="codeph">OCI_UTF16ID</code> is specified for SQL <code class="codeph">CHAR</code> data in the <code class="codeph">OCIEnvNlsCreate()</code> function, then this function produces an error.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C47D31BF-9DC2-451A-954E-576D8F3186D9__GUID-99357465-3289-45C9-8F28-787E11BAFE63">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>, <code class="codeph">OCI_INVALID_HANDLE</code>, or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17688"></a><div class="props_rev_3"><a id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8" name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8"></a><h3 id="LNOCI-GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8" class="sect3"><span class="enumeration_section">31.6.3 </span>OCINlsCharSetConvert()
               </h3>
               <div>
                  <p>Converts a string from one character set to another.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-CF179197-603F-4954-ADE1-A97773B3E1CF">Purpose</p>
                     <p>Converts a string pointed to by <code class="codeph">src</code> in the character set specified by <code class="codeph">srcid</code> to the array pointed to by <code class="codeph">dst</code> in the character set specified by <code class="codeph">dstid</code>. The conversion stops when it reaches the data size limitation of either the source or the destination. The function returns the number of bytes converted into the destination buffer.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-25DA7713-CF33-4D1B-BEAF-7BE81DEA8864">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCINlsCharSetConvert ( void          *hndl, 
                             OCIError      *errhp,
                             ub2            dstid, 
                             void          *dstp, 
                             size_t         dstlen,
                             ub2            srcid, 
                             const void    *srcp, 
                             size_t         srclen, 
                             size_t        *rsize );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-4CB98C8B-D239-4EE3-B412-5A949CD50390">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-2789F8B2-2525-43E6-943C-8DA7733E74E3">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>Pointer to an OCI environment or user session handle. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-F567CEE0-E8F8-4307-B4AF-E7F770ECBC42">
                              <!-- --></a>errhp (IN/OUT)
                        </dt>
                        <dd>
                           <p>OCI error handle. If there is an error, then it is recorded in <code class="codeph">errhp</code> and the function returns a <code class="codeph">NULL</code> pointer. Diagnostic information can be obtained by calling <code class="codeph">OCIErrorGet()</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-F15C6768-2DDC-46CB-9C1F-92B621081E56">
                              <!-- --></a>dstid (IN)
                        </dt>
                        <dd>
                           <p>Character set ID for the destination buffer.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-2610E2FD-CD23-459A-8CB8-AE1568EFA4C4">
                              <!-- --></a>dstp (OUT)
                        </dt>
                        <dd>
                           <p>Pointer to the destination buffer.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-A38F2055-969E-4FD0-AC8B-DE83D12B0669">
                              <!-- --></a>dstlen (IN)
                        </dt>
                        <dd>
                           <p>The maximum size in bytes of the destination buffer.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-7EE4568E-58C8-49C2-B756-0370C63FBC3C">
                              <!-- --></a>srcid (IN)
                        </dt>
                        <dd>
                           <p>Character set ID for the source buffer.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-44141ED3-5339-4134-AD3D-D1587AB66D16">
                              <!-- --></a>srcp (IN)
                        </dt>
                        <dd>
                           <p>Pointer to the source buffer.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-42806786-D4C5-4550-83ED-56775A9FA548">
                              <!-- --></a>srclen (IN)
                        </dt>
                        <dd>
                           <p>The length in bytes of the source buffer.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-FC6D65B7-1569-414B-AABB-F78DFB1482D6">
                              <!-- --></a>rsize (OUT)
                        </dt>
                        <dd>
                           <p>The number of characters converted. If the pointer is <code class="codeph">NULL</code>, then nothing is returned.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-F143DDD3-D679-4A7E-8EEF-0CEBB70D6C48">Comments</p>
                     <p>Although either the source or the destination character set ID can be specified as <code class="codeph">OCI_UTF16ID</code>, the length of the original and the converted data is represented in bytes, rather than number of characters. Note that the conversion does not stop when it encounters null data. To get the character set ID from the character set name, use <code class="codeph">OCINlsCharSetNameToId()</code>. To check if derived data in the destination buffer contains replacement characters, use <code class="codeph">OCICharSetConversionIsReplacementUsed()</code>. The buffers should be aligned with the byte boundaries appropriate for the character sets. For example, the <code class="codeph">ub2</code> data type is necessary to hold strings in UTF-16.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-165A9301-2A88-448C-A7DB-CE1DD5DEB6F8__GUID-461C564A-954D-454D-9D96-D4B7DE33D5FB">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code> or <code class="codeph">OCI_ERROR</code>; number of bytes converted.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-locale-functions.html#GUID-6C255C8A-180F-4328-9300-CE7BA9BEEE6D" title="Returns the Oracle Database character set ID for the specified Oracle Database character set name.">OCINlsCharSetNameToId()</a></li>
                        <li><a href="oci-character-set-conversion-functions.html#GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" title="Indicates whether replacement characters were used for characters that could not be converted in the last invocation of OCINlsCharSetConvert() or OCICharSetToUnicode().">OCICharSetConversionIsReplacementUsed()</a></li>
                        <li><a href="miscellaneous-functions.html#GUID-4B99087C-74F6-498A-8310-D6645172390A" title="Returns an error message and an Oracle Database error code.">OCIErrorGet()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="LNOCI17689"></a><div class="props_rev_3"><a id="GUID-03339D23-71A8-4AD8-9964-66796DFED062" name="GUID-03339D23-71A8-4AD8-9964-66796DFED062"></a><h3 id="LNOCI-GUID-03339D23-71A8-4AD8-9964-66796DFED062" class="sect3"><span class="enumeration_section">31.6.4 </span>OCIUnicodeToCharSet()
               </h3>
               <div>
                  <p>Converts a Unicode string into multibyte string out to an array.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-6FC18032-D935-46E4-A8A8-AF768CCFF0B6">Purpose</p>
                     <p>Converts a Unicode string to a multibyte string out to an array. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-1FAFB547-0156-4BB2-9E21-6782B79B1547">Syntax</p><pre class="oac_no_warn" dir="ltr">sword OCIUnicodeToCharSet ( void        *hndl, 
                            OraText     *dst, 
                            size_t       dstlen, 
                            const ub2   *src, 
                            size_t       srclen, 
                            size_t      *rsize );</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-3B0FF46B-B6CE-4722-8734-6C52AE883C91">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-623B90F3-AAB3-4211-885F-9B532F4EB0BB">
                              <!-- --></a>hndl (IN/OUT)
                        </dt>
                        <dd>
                           <p>Pointer to an OCI environment or user session handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-9E751468-8F9B-4EDB-A2F5-26ED89C3B8E7">
                              <!-- --></a>dst (OUT)
                        </dt>
                        <dd>
                           <p>Pointer to a destination buffer.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-21F96161-9338-41CD-9E4B-024E33843A68">
                              <!-- --></a>dstlen (IN)
                        </dt>
                        <dd>
                           <p>The size of the destination buffer in bytes.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-B7EE8F38-4C84-49C8-828F-391E2CAC99CD">
                              <!-- --></a>src (IN)
                        </dt>
                        <dd>
                           <p>Pointer to a Unicode string.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-DB30E890-48DC-4ECB-A615-CCEAF5279FE1">
                              <!-- --></a>srclen (IN)
                        </dt>
                        <dd>
                           <p>The size of the source string in characters.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-CC6017DD-4CFF-4D9B-B1DB-EC941338C502">
                              <!-- --></a>rsize (OUT)
                        </dt>
                        <dd>
                           <p>The number of bytes converted. If it is a <code class="codeph">NULL</code> pointer, then nothing is returned.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-A892B474-E0DA-4C2A-8A5E-7F5986EB5411">Comments</p>
                     <p>The conversion stops when it reaches the source limitation or destination limitation. The function returns the number of bytes converted into a multibyte string. If <code class="codeph">dstlen</code> is zero, then the function returns the number of bytes out to <code class="codeph">rsize</code> without conversion.
                     </p>
                     <p>If a Unicode character is not convertible for the character set specified in OCI environment or user session handle, then a replacement character is used. In this case, <code class="codeph">OCICharSetConversionIsReplacementUsed()</code> returns <code class="codeph">TRUE</code>.
                     </p>
                     <p>If <code class="codeph">OCI_UTF16ID</code> is specified for SQL <code class="codeph">CHAR</code> data in the <code class="codeph">OCIEnvNlsCreate()</code> function, then this function produces an error.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03339D23-71A8-4AD8-9964-66796DFED062__GUID-B34F1BF1-EEDC-4D2C-9EBA-EA9CEB9671BD">Returns</p>
                     <p><code class="codeph">OCI_SUCCESS</code>; <code class="codeph">OCI_INVALID_HANDLE</code>; or <code class="codeph">OCI_ERROR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oci-character-set-conversion-functions.html#GUID-67FFF7B4-8196-45BE-907C-17C06B0FB842" title="Indicates whether replacement characters were used for characters that could not be converted in the last invocation of OCINlsCharSetConvert() or OCICharSetToUnicode().">OCICharSetConversionIsReplacementUsed()</a></li>
                        <li><a href="connect-authorize-and-initialize-functions.html#GUID-0B6911A9-4B46-476C-BC5E-B87581666CD9" title="Creates and initializes an environment handle for OCI functions to work under.">OCIEnvNlsCreate()</a></li>
                     </ul>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>