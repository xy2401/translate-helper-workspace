<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Procedures for converting from Oracle Database single-instance databases to Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node databases.">
      <meta name="description" content="Procedures for converting from Oracle Database single-instance databases to Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node databases.">
      <title>Converting Single-Instance Oracle Databases to Oracle RAC and Oracle RAC One Node</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Clusters Administration and Deployment Guide">
      <meta property="og:description" content="Procedures for converting from Oracle Database single-instance databases to Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node databases.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Clusters Administration and Deployment Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-clusters-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T14:02:30-07:00">
      <meta name="dcterms.title" content="Real Application Clusters Administration and Deployment Guide">
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95728-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="monitoring-performance.html" title="Previous" type="text/html">
      <link rel="next" href="server-control-utility-reference.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="RACAD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="monitoring-performance.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="server-control-utility-reference.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Clusters Administration and Deployment Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Converting Single-Instance Oracle Databases to Oracle RAC and Oracle RAC One Node </li>
            </ol>
            <a id="GUID-B7E960A0-A4E8-47FE-AB6D-4172AD45944A" name="GUID-B7E960A0-A4E8-47FE-AB6D-4172AD45944A"></a><a id="RACAD8851"></a>
            
            <h2 id="RACAD-GUID-B7E960A0-A4E8-47FE-AB6D-4172AD45944A" class="sect2"><span class="enumeration_chapter">15 </span>Converting Single-Instance Oracle Databases to Oracle RAC and Oracle RAC One Node 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Procedures for converting from Oracle Database single-instance databases to Oracle Real Application Clusters (Oracle RAC) and Oracle RAC One Node databases.</p>
               <p>The procedures in this chapter assume that your original single-instance database and the target Oracle RAC database are using the same release and running on the same platform. If you are upgrading from an earlier version of Oracle RAC to Oracle RAC 12<span class="italic">c</span>, then use Oracle Database Upgrade Assistant (DBUA).
               </p>
               <p>This chapter includes the following topics: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-5B11828D-A9D1-4B7B-8759-DBA14AA9425D">Administrative Issues for Converting Databases to Oracle RAC</a></p>
                  </li>
                  <li>
                     <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-E39F5684-4416-4040-B4CC-62214F5D8E52" title="You can use Database Configuration Assistant (DBCA) to convert from single-instance Oracle databases to Oracle RAC or Oracle RAC One Node databases.">Converting to Oracle RAC and Oracle RAC One Node Using DBCA</a></p>
                  </li>
                  <li>
                     <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-28618CE4-3610-425B-B4B0-AC5D9D67AAF3" title="You can use Oracle Enterprise Manager Cloud Control to convert a single-instance database to an Oracle RAC database.">Preparing to Convert with rconfig and Oracle Enterprise Manager</a></p>
                  </li>
                  <li>
                     <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-1D7BB9E0-8C0F-4C80-9A22-E35F46B207EB">Converting Databases to Oracle RAC Using rconfig</a></p>
                  </li>
                  <li>
                     <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-2BCC2430-C55B-4CBA-A3DD-85CFF7EF996A">Example of rconfig XML Input Files for ConvertToRAC</a></p>
                  </li>
                  <li>
                     <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-41B9B4C9-B5CF-44F6-AFA1-6FDDE156D92C">Postconversion Steps</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-B7E960A0-A4E8-47FE-AB6D-4172AD45944A__GUID-7E8C6E2C-A7C1-4C7D-BA25-B6264080B5F8">
                  <p class="notep1">Note:</p>
                  <p>You must use clustered Oracle Automatic Storage Management (Oracle ASM) instances for Oracle RAC databases.</p>
               </div>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="../dblic/Licensing-Information.html#DBLIC-GUID-B6113390-9586-46D7-9008-DCC9EDA45AB4" target="_blank"><span><cite>Oracle Database Licensing Information User Manual</cite></span></a></li>
                  </ul>
               </div>
            </div><a id="RACAD8852"></a><div class="sect2"><a id="GUID-5B11828D-A9D1-4B7B-8759-DBA14AA9425D" name="GUID-5B11828D-A9D1-4B7B-8759-DBA14AA9425D"></a><h3 id="RACAD-GUID-5B11828D-A9D1-4B7B-8759-DBA14AA9425D" class="sect3">Administrative Issues for Converting Databases to Oracle RAC</h3>
               <div>
                  <p>Note the following <a id="d45639e356" class="indexterm-anchor"></a>administrative considerations before converting single-instance databases to Oracle RAC: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>B<a id="d45639e367" class="indexterm-anchor"></a>ackup procedures should be available before converting from a single-instance Oracle Database to Oracle RAC. This includes taking a backup of your existing database before converting to Oracle RAC and being prepared to backup your Oracle RAC database immediately following the conversion.
                        </p>
                     </li>
                     <li>
                        <p>For <a id="d45639e375" class="indexterm-anchor"></a>archiving with Oracle RAC environments, the archive file format requires a thread number.
                        </p>
                     </li>
                     <li>
                        <p>The archived logs from all instances of an Oracle RAC database are required for media recovery. Because of this requirement, if you archive to a file and you do not use a cluster file system, or some other means to provide shared file systems, then you require a method of accessing the archive logs from all nodes on which the cluster database has instances.</p>
                     </li>
                     <li>
                        <p>By default, all database files are migrated to Oracle Managed Files. This feature simplifies tablespace creation, ensures data file location consistency and compliance with Oracle Flexible Architecture rules, and reduces human error with data file management.</p>
                     </li>
                  </ul>
               </div>
            </div><a id="RACAD8853"></a><div class="sect2"><a id="GUID-E39F5684-4416-4040-B4CC-62214F5D8E52" name="GUID-E39F5684-4416-4040-B4CC-62214F5D8E52"></a><h3 id="RACAD-GUID-E39F5684-4416-4040-B4CC-62214F5D8E52" class="sect3">Converting to Oracle RAC and Oracle RAC One Node Using DBCA</h3>
               <div>
                  <p>You can use Database Configuration Assistant (DBCA) to convert from single-instance Oracle databases to Oracle RAC or Oracle RAC One Node databases.</p>
                  <p>DBCA automates the configuration of the control file attributes, creates the undo tablespaces and the redo logs, and creates the initialization parameter file entries for cluster-enabled environments. DBCA also configures Oracle Net Services, Oracle Clusterware resources, and the configuration for Oracle RAC database management using Oracle Enterprise Manager or the Server Control utility (SRVCTL). </p>
                  <p>Before you use DBCA to convert a single-instance database to an Oracle RAC or an Oracle RAC One Node database, ensure that your system meets the following conditions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Your system uses supported hardware and operating system software. Your system is configured properly to support an Oracle RAC database.</p>
                     </li>
                     <li>
                        <p>The nodes have access to shared storage; for example, either Oracle Cluster File System or Oracle ASM is available and accessible from all nodes. On Linux on POWER systems, ensure that GPFS is available and accessible from all nodes.</p>
                     </li>
                     <li>
                        <p>Your applications have no design characteristics that preclude their use with cluster database processing.</p>
                     </li>
                  </ul>
                  <p>If your platform supports a cluster file system, then you can use it for Oracle RAC. You can also convert to Oracle RAC and use a non-shared file system. In either case, Oracle strongly recommends that you use Oracle Universal Installer to install Oracle Database 12<span class="italic">c</span>, which sets up the Oracle home and inventory in an identical location on each of the selected nodes in your cluster.
                  </p>
                  <p>This section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-ABE5F623-FC13-44A1-83AD-444FABBB542C" title="Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:">Converting Oracle Database Installations to Oracle RAC Using DBCA</a></p>
                     </li>
                     <li>
                        <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-7F9A7E91-1738-4509-9388-FD4C0A7BC23E">Converting Single Instance on a Cluster to Oracle RAC One Node Using DBCA</a></p>
                     </li>
                     <li>
                        <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-17D75A80-D910-4662-A1A5-94F47A1D653A">Converting Single Instance on a Cluster to Oracle RAC Using DBCA</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="administering-oracle-rac-one-node.html#GUID-0FF68097-A6DA-467D-A46C-EEB8F05FB05B" title="Use SRVCTL to convert an Oracle RAC database to an Oracle RAC One Node database.">Converting Databases</a></li>
                     </ul>
                  </div>
               </div><a id="RACAD8854"></a><div class="sect3"><a id="GUID-ABE5F623-FC13-44A1-83AD-444FABBB542C" name="GUID-ABE5F623-FC13-44A1-83AD-444FABBB542C"></a><h4 id="RACAD-GUID-ABE5F623-FC13-44A1-83AD-444FABBB542C" class="sect4">Converting Oracle Database Installations to Oracle RAC Using DBCA</h4>
                  <div>
                     <p>To convert from a single-instance Oracle Database that is on a <a id="d45639e723" class="indexterm-anchor"></a><a id="d45639e727" class="indexterm-anchor"></a>non-clustered computer to Oracle RAC, perform the procedures described in the following sections, and in the order shown:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-B2E3B500-D57D-40D4-A33F-1D0B6890DFA1" title="Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:">Use DBCA to Create an Image of the Single-Instance Database</a></p>
                        </li>
                        <li>
                           <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-6E53E393-DA83-4E4B-ABC1-1B46FA4DAF12">Complete the Oracle Clusterware Installation</a></p>
                        </li>
                        <li>
                           <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-3828ACCE-DCFD-4F8B-B817-6873079D1F78">Validate the Cluster</a></p>
                        </li>
                        <li>
                           <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-BEF28BD4-0A06-4C4B-AEBD-93311B326AD9">Copy the Preconfigured Database Image</a></p>
                        </li>
                        <li>
                           <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-CDCBB95C-59EA-4CA7-BDB6-11B3D114E397">Install Oracle Database 12c Software with Oracle RAC</a></p>
                        </li>
                     </ul>
                  </div><a id="RACAD8855"></a><div class="sect4"><a id="GUID-B2E3B500-D57D-40D4-A33F-1D0B6890DFA1" name="GUID-B2E3B500-D57D-40D4-A33F-1D0B6890DFA1"></a><h5 id="RACAD-GUID-B2E3B500-D57D-40D4-A33F-1D0B6890DFA1" class="sect5">Use DBCA to Create an Image of the Single-Instance Database</h5>
                     <div>
                        <p>Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:</p>
                        <ol>
                           <li>
                              <p>Navigate to the <code class="codeph">bin</code> directory in <code class="codeph">$ORACLE_HOME</code>, and start DBCA.
                              </p>
                           </li>
                           <li>
                              <p>At the Welcome page, click <span class="bold">Next</span>.
                              </p>
                           </li>
                           <li>
                              <p>On the Operations page, select <span class="bold">Manage Templates</span>, and click <span class="bold">Next</span>.
                              </p>
                           </li>
                           <li>
                              <p>On the Template Management page, select <span class="bold">Create a database template</span> and <span class="bold">From an existing database (structure as well as data)</span>, then click <span class="bold">Next</span>.
                              </p>
                           </li>
                           <li>
                              <p>On the Source Database page, select the database name in the Database instance list, and click <span class="bold">Next</span>.
                              </p>
                           </li>
                           <li>
                              <p>Use SQL to ensure that all pluggable databases (PDBs) are open, as follows:</p><pre class="pre codeblock"><code>SQL&gt; SELECT name, open_mode FROM v$pdbs;</code></pre><p>If any of the PDBs are in a state other than OPEN, then open them using SQL.</p>
                           </li>
                           <li>
                              <p>On the Template Properties page, enter a name for your template in the Name field. Oracle recommends that you use the database name.</p>
                              <p>By default, the template files are generated in the directory <code class="codeph">$ORACLE_HOME/assistants/dbca/templates</code>. You can enter a description of the file in the Description field, and change the template file location in the Template data file field.
                              </p>
                              <p>When you have completed the entries, click <span class="bold">Next</span>.
                              </p>
                           </li>
                           <li>
                              <p>On the Location of Database Related Files page, select <span class="bold">Maintain the file locations</span>, so that you can restore the database to the current directory structure, and click <span class="bold">Finish</span>.
                              </p>
                           </li>
                        </ol>
                        <p>DBCA generates two files: a database structure file (<span class="italic"><code class="codeph">template_name</code></span><code class="codeph">.dbc</code>), and a database preconfigured image file (<span class="italic"><code class="codeph">template_name</code></span><code class="codeph">.dfb</code>).
                        </p>
                     </div>
                  </div><a id="RACAD8856"></a><div class="sect4"><a id="GUID-6E53E393-DA83-4E4B-ABC1-1B46FA4DAF12" name="GUID-6E53E393-DA83-4E4B-ABC1-1B46FA4DAF12"></a><h5 id="RACAD-GUID-6E53E393-DA83-4E4B-ABC1-1B46FA4DAF12" class="sect5">Complete the Oracle Clusterware Installation</h5>
                     <div>
                        <p>Complete the installation of Oracle Clusterware.</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="RACAD8857"></a><div class="sect4"><a id="GUID-3828ACCE-DCFD-4F8B-B817-6873079D1F78" name="GUID-3828ACCE-DCFD-4F8B-B817-6873079D1F78"></a><h5 id="RACAD-GUID-3828ACCE-DCFD-4F8B-B817-6873079D1F78" class="sect5">Validate the Cluster</h5>
                     <div>
                        <p>Validate the cluster configuration using Cluster Verification Utility (CVU).</p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../cwadd/cluster-verification-utility-reference.html#CWADD-GUID-B445A858-9F00-4423-990E-109545AC11C3" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="RACAD8858"></a><div class="sect4"><a id="GUID-BEF28BD4-0A06-4C4B-AEBD-93311B326AD9" name="GUID-BEF28BD4-0A06-4C4B-AEBD-93311B326AD9"></a><h5 id="RACAD-GUID-BEF28BD4-0A06-4C4B-AEBD-93311B326AD9" class="sect5">Copy the Preconfigured Database Image</h5>
                     <div>
                        <p>Copy the preconfigured database image. This includes copying the database structure <code class="codeph">*.dbc</code> file and the database preconfigured image <code class="codeph">*.dfb</code> file (that you used DBCA to create in a previous section) to a temporary location on the node in the cluster from which you plan to run DBCA.
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-B2E3B500-D57D-40D4-A33F-1D0B6890DFA1" title="Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:">Use DBCA to Create an Image of the Single-Instance Database</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="RACAD8859"></a><div class="sect4"><a id="GUID-CDCBB95C-59EA-4CA7-BDB6-11B3D114E397" name="GUID-CDCBB95C-59EA-4CA7-BDB6-11B3D114E397"></a><h5 id="RACAD-GUID-CDCBB95C-59EA-4CA7-BDB6-11B3D114E397" class="sect5">Install Oracle Database 12<span class="italic">c</span> Software with Oracle RAC
                     </h5>
                     <div>
                        <ol>
                           <li>
                              <p>Run Oracle Universal Installer to install an Oracle Database with Oracle RAC.</p>
                           </li>
                           <li>
                              <p>Select <span class="bold">Cluster Installation Mode</span> on the Specify Hardware Cluster Installation page of Oracle Universal Installer, and select the nodes to include in your Oracle RAC database. 
                              </p>
                           </li>
                           <li>
                              <p>On the Oracle Universal Installer Database Configuration Types page, select the <span class="bold">Advanced</span> installation type.
                              </p>
                              <p>After installing the Oracle Database software, Oracle Universal Installer runs postinstallation configuration tools, such as Net Configuration Assistant (NETCA), DBCA, and so on.</p>
                           </li>
                           <li>
                              <p>On the DBCA Template Selection page, use the template that you copied to a temporary location in the previous section. Use the browse option to select the template location.</p>
                              <p>Select the option that you want to deploy. Your choices are the following: Oracle RAC database; Oracle RAC One Node database; or Oracle single-instance database.</p>
                           </li>
                           <li>
                              <p>After creating the Oracle RAC database, DBCA displays the Password Management page on which you must change the passwords for database users who have SYSDBA and SYSOPER privileges. When DBCA exits, the conversion process is complete.</p>
                           </li>
                        </ol>
                     </div>
                  </div>
               </div><a id="RACAD8860"></a><div class="sect3"><a id="GUID-7F9A7E91-1738-4509-9388-FD4C0A7BC23E" name="GUID-7F9A7E91-1738-4509-9388-FD4C0A7BC23E"></a><h4 id="RACAD-GUID-7F9A7E91-1738-4509-9388-FD4C0A7BC23E" class="sect4">Converting Single Instance on a Cluster to Oracle RAC One Node Using DBCA</h4>
                  <div>
                     <p>Use DBCA to convert a single-instance Oracle Database to Oracle RAC One Node by using the following procedure:</p>
                     <ol>
                        <li>
                           <p>Change directory to <code class="codeph">$ORACLE_HOME/bin</code>.
                           </p>
                        </li>
                        <li>
                           <p>Start DBCA:</p><pre class="pre codeblock"><code>$ dbca</code></pre></li>
                        <li>
                           <p>From the Welcome window, select <span class="bold">Oracle RAC One Node</span> database.
                           </p>
                        </li>
                        <li>
                           <p>Use the template that you selected to deploy in the previous section.</p>
                        </li>
                     </ol>
                  </div>
               </div><a id="RACAD8861"></a><div class="sect3"><a id="GUID-17D75A80-D910-4662-A1A5-94F47A1D653A" name="GUID-17D75A80-D910-4662-A1A5-94F47A1D653A"></a><h4 id="RACAD-GUID-17D75A80-D910-4662-A1A5-94F47A1D653A" class="sect4">Converting Single Instance on a Cluster to Oracle RAC Using DBCA</h4>
                  <div>
                     <p>There are three scenarios in which a single-instance database can exist on a cluster node:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Scenario 1: The Oracle home for the single-instance database was installed on a cluster node and has Oracle RAC enabled.</p>
                        </li>
                        <li>
                           <p>Scenario 2: The Oracle home for the single-instance database was installed on a cluster node, but the Oracle RAC feature is disabled for this Oracle home.</p>
                        </li>
                        <li>
                           <p>Scenario 3: The Oracle home for the single-instance database was installed on only the local node in a cluster. This happens when you select the Local Installation option on the Oracle Universal Installer Specify Hardware Cluster Installation page during the Oracle Database 12<span class="italic">c</span> installation. 
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-0BA2E0B2-2AD4-4BDD-99AC-3969D9E44C54">Single-Instance Database on a Cluster Running from an Oracle RAC-Enabled Home</a></li>
                           <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-0B53B175-4EF8-4634-8A80-A4307F12DF0C">Single-Instance Database on a Cluster Running from an Oracle RAC-Disabled Home</a></li>
                           <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-ABE5F623-FC13-44A1-83AD-444FABBB542C" title="Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:">Converting Oracle Database Installations to Oracle RAC Using DBCA</a></li>
                           <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-CDCBB95C-59EA-4CA7-BDB6-11B3D114E397">Install Oracle Database 12c Software with Oracle RAC</a></li>
                        </ul>
                     </div>
                  </div><a id="RACAD8862"></a><div class="sect4"><a id="GUID-0BA2E0B2-2AD4-4BDD-99AC-3969D9E44C54" name="GUID-0BA2E0B2-2AD4-4BDD-99AC-3969D9E44C54"></a><h5 id="RACAD-GUID-0BA2E0B2-2AD4-4BDD-99AC-3969D9E44C54" class="sect5">Single-Instance Database on a Cluster Running from an Oracle RAC-Enabled Home</h5>
                     <div>
                        <p>Perform the following procedures to convert a single-instance database on a cluster node running from an Oracle home that has the Oracle RAC option enabled.</p>
                        <ol>
                           <li>
                              <p>Use DBCA to create a preconfigured image of your single-instance database. To perform the conversion manually, shut down the single-instance database.</p>
                           </li>
                           <li id="GUID-0BA2E0B2-2AD4-4BDD-99AC-3969D9E44C54__BABCEJBG">
                              <p>Add nodes to your cluster. Ensure that all nodes can access the shared storage used by Oracle Clusterware and Oracle RAC.</p>
                           </li>
                           <li>
                              <p>From the existing Oracle home, extend this home to the new nodes.</p>
                           </li>
                           <li>
                              <p>From a newly added node, configure the listeners on the additional nodes using NETCA. Choose the same port number and protocol that you used on the existing node. If NETCA displays the existing node in the node list page, then do not select this node, because the listener is already configured on it.</p>
                           </li>
                           <li>
                              <p>Convert the database using one of the following procedures: </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-811A4A82-4B4F-4C79-8A8C-78110D30C149">Automated Conversion Procedure Using DBCA</a></p>
                                 </li>
                                 <li>
                                    <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-A4F1E90E-152C-4A18-9E34-2CA7AE14F10C">Manual Conversion Procedure</a></p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-B2E3B500-D57D-40D4-A33F-1D0B6890DFA1" title="Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:">Use DBCA to Create an Image of the Single-Instance Database</a></li>
                              <li><a href="../cwadd/adding-and-deleting-cluster-nodes.html#CWADD-GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                              <li><a href="adding-and-deleting-oracle-rac-from-nodes-on-linux-and-unix-systems.html#GUID-924C2E52-4C34-4500-92FB-80A453FE14A9" title="You can use DBCA in silent mode to add instances to nodes on which you have extended an Oracle Clusterware home and an Oracle Database home.">Adding Oracle RAC to Nodes with Oracle Clusterware Installed</a></li>
                           </ul>
                        </div>
                     </div><a id="RACAD8863"></a><div class="sect5"><a id="GUID-811A4A82-4B4F-4C79-8A8C-78110D30C149" name="GUID-811A4A82-4B4F-4C79-8A8C-78110D30C149"></a><h6 id="RACAD-GUID-811A4A82-4B4F-4C79-8A8C-78110D30C149" class="sect6">Automated Conversion Procedure Using DBCA</h6>
                        <div>
                           <p></p>
                           <p>If you used DBCA to create a preconfigured image of your single-instance database as described in a previous section, then perform the following steps to complete the conversion to an Oracle RAC database:</p>
                           <ol>
                              <li>
                                 <p>Start DBCA from the initial node. Select the names of the nodes to include as part of your cluster database. On the Template Selection page, select the preconfigured template that you created. Enter the database name and respond to the remaining DBCA prompts.</p>
                              </li>
                              <li>
                                 <p>Specify the shared storage location for the Oracle Database data files.</p>
                              </li>
                           </ol>
                           <p>After creating the Oracle RAC database, DBCA displays the Password Management page on which you must change the passwords for the database users who have SYSDBA and SYSOPER privileges. When DBCA exits, the conversion process is complete.</p>
                        </div>
                        <div>
                           <div class="relinfo">
                              <p><strong>Related Topics</strong></p>
                              <ul>
                                 <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-B2E3B500-D57D-40D4-A33F-1D0B6890DFA1" title="Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:">Use DBCA to Create an Image of the Single-Instance Database</a></li>
                                 <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-A4F1E90E-152C-4A18-9E34-2CA7AE14F10C">Manual Conversion Procedure</a></li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="RACAD8864"></a><div class="sect5"><a id="GUID-A4F1E90E-152C-4A18-9E34-2CA7AE14F10C" name="GUID-A4F1E90E-152C-4A18-9E34-2CA7AE14F10C"></a><h6 id="RACAD-GUID-A4F1E90E-152C-4A18-9E34-2CA7AE14F10C" class="sect6">Manual Conversion Procedure</h6>
                        <div>
                           <p>If you did not use DBCA to create a preconfigured image of your single-instance database as described in a previous section, then perform the following steps to complete the conversion:</p>
                           <ol>
                              <li>
                                 <p>Create the Optimal Flexible Architecture directory structure on each of the nodes that you have added.</p>
                              </li>
                              <li>
                                 <p>Re-create the control files by running the <code class="codeph">CREATE CONTROLFILE</code> SQL statement with the <code class="codeph">REUSE</code> keyword and specify <code class="codeph">MAXINSTANCES</code> and <code class="codeph">MAXLOGFILES</code>, and so on, as needed for your Oracle RAC configuration. The <code class="codeph">MAXINSTANCES</code> recommended default is 32.
                                 </p>
                              </li>
                              <li>
                                 <p>Shut down the database instance. </p>
                              </li>
                              <li id="GUID-A4F1E90E-152C-4A18-9E34-2CA7AE14F10C__BABIHFFH">
                                 <p>If your single-instance database was using an SPFILE, then create a temporary parameter file (PFILE) from the SPFILE using the following SQL statement: </p><pre class="pre codeblock"><code>CREATE PFILE='<span class="variable" translate="no">pfile_name</span>' from spfile='<span class="variable" translate="no">spfile_name</span>'</code></pre></li>
                              <li>
                                 <p>Set the <code class="codeph">CLUSTER_DATABASE</code> parameter to <code class="codeph">TRUE</code>, and set the <code class="codeph">INSTANCE_NUMBER</code> parameter to a unique value for each instance, using the <code class="codeph"><span class="variable" translate="no">sid</span>.<span class="variable" translate="no">parameter</span>=<span class="variable" translate="no">value</span></code> syntax.
                                 </p>
                                 <p>If you optimized memory usage on your single-instance database, then adjust the size of the system global area (SGA) to avoid swapping and paging when you convert to Oracle RAC. You should make this adjustment because Oracle RAC requires about 350 bytes for each buffer to accommodate the Global Cache Service (GCS). For example, if you have 10,000 buffers, then Oracle RAC requires approximately 350 multiplied by 10,000 bytes more memory. Therefore, adjust the size of the SGA by changing the <code class="codeph">DB_CACHE_SIZE</code> and <code class="codeph">DB_nK_CACHE_SIZE</code> parameters accordingly. 
                                 </p>
                              </li>
                              <li>
                                 <p>Start the database instance using the PFILE created in Step <a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-A4F1E90E-152C-4A18-9E34-2CA7AE14F10C__BABIHFFH">4</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>If your single-instance database was using automatic undo management, then create an undo tablespace for each additional instance using the <code class="codeph">CREATE UNDO TABLESPACE</code> SQL statement.
                                 </p>
                              </li>
                              <li>
                                 <p>Create redo threads that have at least two redo logs for each additional instance. Enable the new redo threads by using an <code class="codeph">ALTER DATABASE</code> SQL statement. Then, shut down the database instance.
                                 </p>
                              </li>
                              <li>
                                 <p>Copy the Oracle password file from the initial node, or from the node on which you are working, to the corresponding location on the additional nodes on which the cluster database will have an instance. Replace the <code class="codeph">ORACLE_SID</code> name in each password file appropriately for each additional instance.
                                 </p>
                              </li>
                              <li>
                                 <p>Set the <code class="codeph">REMOTE_LISTENER</code> parameter to the single client access name (SCAN) and port.
                                 </p>
                              </li>
                              <li>
                                 <p>Configure the net service entries for the database and instances, and address entries for the <code class="codeph">LOCAL_LISTENER</code> for each instance and for the <code class="codeph">REMOTE_LISTENER</code> in the <code class="codeph">tnsnames.ora</code> file, and copy the <code class="codeph">tnsnames.ora</code> file to all nodes.
                                 </p>
                              </li>
                              <li>
                                 <p>Create the SPFILE from the PFILE.</p>
                              </li>
                              <li>
                                 <p>Create the <code class="codeph">$ORACLE_HOME/dbs/init<span class="variable" translate="no">sid</span>.ora</code> file that contains the following entry, where <code class="codeph"><span class="variable" translate="no">spfile_path_name</span></code> is the complete path name of the SPFILE:
                                 </p><pre class="pre codeblock"><code>spfile=<span class="variable" translate="no">'spfile_path_name</span>'</code></pre></li>
                              <li>
                                 <p>On the local node, use SQL*Plus to run <code class="codeph">catclust.sql</code>. This script creates the dictionary views needed for Oracle RAC databases. For example:
                                 </p><pre class="pre codeblock"><code>SQL&gt; start ?/rdbms/admin/catclust.sql</code></pre></li>
                              <li>
                                 <p>Add the configuration for the Oracle RAC or Oracle RAC One Node database and its instance-to-node mapping using SRVCTL.</p>
                                 <ol type="a">
                                    <li>
                                       <p>To add the configuration of an Oracle RAC database, use the following commands:</p><pre class="pre codeblock"><code>$ srvctl add database -dbname <span class="variable" translate="no">db_name</span> -oraclehome <span class="variable" translate="no">Oracle_home</span> -spfile <span class="variable" translate="no">spfile_path_name</span>
$ srvctl add instance -dbname <span class="variable" translate="no">db_name</span> -instance <span class="variable" translate="no">inst1_name</span> -node <span class="variable" translate="no">node1_name</span>
$ srvctl add instance -dbname <span class="variable" translate="no">db_name</span> -instance <span class="variable" translate="no">inst2_name</span> -node <span class="variable" translate="no">node2_name</span>
...</code></pre></li>
                                    <li>
                                       <p>To add the configuration of an Oracle RAC One Node database, use the following command:</p><pre class="pre codeblock"><code>$ srvctl add database -dbname <span class="variable" translate="no">db_name</span> -dbtype RACONENODE -oraclehome <span class="italic">Oracle_home</span>
  -spfile <span class="variable" translate="no">spfile_path_name</span></code></pre></li>
                                 </ol>
                              </li>
                              <li>
                                 <p>Start the Oracle RAC or Oracle RAC One Node database using SRVCTL:</p><pre class="pre codeblock"><code>srvctl start database -d <span class="variable" translate="no">db_name</span></code></pre></li>
                           </ol>
                           <p>After starting the database with SRVCTL, your conversion process is complete. You can run the following SQL statement to see the status of all the instances in your Oracle RAC database:</p><pre class="pre codeblock"><code>SQL&gt; SELECT * FROM v$active_instances;</code></pre></div>
                        <div>
                           <div class="relinfo">
                              <p><strong>Related Topics</strong></p>
                              <ul>
                                 <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-B2E3B500-D57D-40D4-A33F-1D0B6890DFA1" title="Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:">Use DBCA to Create an Image of the Single-Instance Database</a></li>
                                 <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Real Application Clusters Installation Guide</cite></span></a></li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div><a id="RACAD8865"></a><div class="sect4"><a id="GUID-0B53B175-4EF8-4634-8A80-A4307F12DF0C" name="GUID-0B53B175-4EF8-4634-8A80-A4307F12DF0C"></a><h5 id="RACAD-GUID-0B53B175-4EF8-4634-8A80-A4307F12DF0C" class="sect5">Single-Instance Database on a Cluster Running from an Oracle RAC-Disabled Home</h5>
                     <div>
                        <p>You can create a single-instance database on a cluster running from an Oracle home with the Oracle RAC option disabled. To create an Oracle home on a cluster with Oracle RAC disabled, you can select <span class="bold">local</span> and <span class="bold">non-cluster</span> on the Node Selection Page of Oracle Universal Installer when installing the Oracle Database software. You can also performed a one-node cluster (with Oracle RAC) installation, but later disable the Oracle RAC option.
                        </p>
                        <p>Perform the following procedures to convert this type of single-instance database to an Oracle RAC or Oracle RAC One Node database:</p>
                        <ol>
                           <li>
                              <p>Use DBCA to create a preconfigured image of your single-instance database as described in a previous section. To perform the conversion manually, shut down the single-instance database.</p>
                           </li>
                           <li>
                              <p>Change the directory to the <code class="codeph">lib</code> subdirectory in the <code class="codeph">rdbms</code> directory under the Oracle home.
                              </p>
                           </li>
                           <li>
                              <p>Relink the <code class="codeph">oracle</code> binary by running the following commands: 
                              </p><pre class="pre codeblock"><code>make -f ins_rdbms.mk rac_on
make -f ins_rdbms.mk ioracle </code></pre></li>
                           <li>
                              <p>Add nodes to your cluster. Ensure that all nodes can access the shared storage used by Oracle Clusterware and Oracle RAC.</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-B2E3B500-D57D-40D4-A33F-1D0B6890DFA1" title="Use DBCA to create a preconfigured image of your single-instance database by using the following procedure:">Use DBCA to Create an Image of the Single-Instance Database</a></li>
                              <li><a href="../cwadd/adding-and-deleting-cluster-nodes.html#CWADD-GUID-929C0CD9-9B67-45D6-B864-5ED3B47FE458" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD8867"></a><div class="sect2"><a id="GUID-28618CE4-3610-425B-B4B0-AC5D9D67AAF3" name="GUID-28618CE4-3610-425B-B4B0-AC5D9D67AAF3"></a><h3 id="RACAD-GUID-28618CE4-3610-425B-B4B0-AC5D9D67AAF3" class="sect3">Preparing to Convert with rconfig and Oracle Enterprise Manager</h3>
               <div>
                  <p>You can use <code class="codeph">rconfig</code>, or <a id="d45639e2993" class="indexterm-anchor"></a><a id="d45639e2995" class="indexterm-anchor"></a><a id="d45639e2999" class="indexterm-anchor"></a>Oracle Enterprise Manager to assist with converting a single-instance database installation to an Oracle RAC database. The first of these, <code class="codeph">rconfig</code>, is a command-line utility. Oracle Enterprise Manager Cloud Control database administration option, Convert to Cluster Database, provides a GUI-based conversion tool. The following sections describe how to use these conversion tools:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-F03B7CD7-4C61-47E9-8F58-7D3E1C611E90">Prerequisites for Converting to Oracle RAC Databases</a></p>
                     </li>
                     <li>
                        <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-409E33E5-8E49-4C90-A85C-9EA3923510C3">Configuration Changes During Oracle RAC Conversion Using rconfig</a></p>
                     </li>
                     <li>
                        <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-C846650A-B9CC-40C7-B31B-02CEE1177D60">Converting Databases to Oracle RAC Using rconfig or Oracle Enterprise Manager</a></p>
                     </li>
                     <li>
                        <p><a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-AB9AFE38-0992-4EC1-A645-E41C0E25BE0A" title="You can use Oracle Enterprise Manager Cloud Control to convert a single-instance database to an Oracle RAC database.">Converting Databases to Oracle RAC Using Oracle Enterprise Manager</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-28618CE4-3610-425B-B4B0-AC5D9D67AAF3__GUID-CA30EEC8-0B26-491C-BA8D-387CDD6D2964">
                     <p class="notep1">Note:</p>
                     <p>Before you start the conversion, back up your existing database; you should take a backup of your database before starting any major change.</p>
                  </div>
               </div><a id="RACAD8868"></a><div class="sect3"><a id="GUID-F03B7CD7-4C61-47E9-8F58-7D3E1C611E90" name="GUID-F03B7CD7-4C61-47E9-8F58-7D3E1C611E90"></a><h4 id="RACAD-GUID-F03B7CD7-4C61-47E9-8F58-7D3E1C611E90" class="sect4">Prerequisites for Converting to Oracle RAC Databases</h4>
                  <div>
                     <p>Before you convert a single-instance database to an Oracle RAC database, ensure that the following conditions are met for each cluster node that you intend to make an Oracle RAC database node:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Oracle Clusterware 12<span class="italic">c</span> is installed, configured, and running.
                           </p>
                        </li>
                        <li>
                           <p>Oracle RAC 12<span class="italic">c</span> software is installed.
                           </p>
                        </li>
                        <li>
                           <p>The Oracle software has the Oracle RAC option enabled.</p>
                        </li>
                        <li>
                           <p>Shared storage, either Oracle Cluster File System or Oracle ASM, is available and accessible from all nodes.</p>
                        </li>
                        <li>
                           <p>User equivalence exists for the <code class="codeph">oracle</code> account, or the user account used to install the Oracle software.
                           </p>
                        </li>
                        <li>
                           <p>If you intend to use Oracle Enterprise Manager, then the Oracle Management Agent on each node is configured and running, and is configured with cluster and host information.</p>
                        </li>
                        <li>
                           <p>You have backed up your existing database.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-F03B7CD7-4C61-47E9-8F58-7D3E1C611E90__GUID-C839EB9C-A1ED-4546-915A-DFF1C94A1A5C">
                        <p class="notep1">Note:</p>
                        <p>You must use clustered Oracle ASM instances for Oracle RAC databases. </p>
                     </div>
                  </div>
               </div><a id="RACAD8869"></a><div class="sect3"><a id="GUID-409E33E5-8E49-4C90-A85C-9EA3923510C3" name="GUID-409E33E5-8E49-4C90-A85C-9EA3923510C3"></a><h4 id="RACAD-GUID-409E33E5-8E49-4C90-A85C-9EA3923510C3" class="sect4">Configuration Changes During Oracle RAC Conversion Using rconfig</h4>
                  <div>
                     <p>The following changes occur when you convert a single-instance database to Oracle RAC using the <code class="codeph">rconfig</code> utility:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>During the conversion, <code class="codeph">rconfig</code> places the target Oracle RAC database into archive log mode, and enables archiving for the database. If you do not plan to use archive log space, then you can disable archive logging after the conversion has completed.
                           </p>
                        </li>
                        <li>
                           <p>For the <span class="bold">Shared Storage Type</span> value, if you enter <span class="bold">CFS</span>, and you use a cluster file system for your single-instance database storage, then <code class="codeph">rconfig</code> converts the environment to use Oracle Managed Files for database storage, and places the data files in a subdirectory located under the shared storage location.
                           </p>
                        </li>
                        <li>
                           <p>During the conversion, <code class="codeph">rconfig</code> moves database files to a specified shared location, and configures them using Oracle Managed Files.
                           </p>
                           <p>To avoid using Oracle Managed Files with your converted database, the single-instance database files must be located in a shared file system, and you must indicate that <code class="codeph">rconfig</code> should not move the files.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RACAD8870"></a><div class="sect3"><a id="GUID-C846650A-B9CC-40C7-B31B-02CEE1177D60" name="GUID-C846650A-B9CC-40C7-B31B-02CEE1177D60"></a><h4 id="RACAD-GUID-C846650A-B9CC-40C7-B31B-02CEE1177D60" class="sect4">Converting Databases to Oracle RAC Using rconfig or Oracle Enterprise Manager</h4>
                  <div>
                     <p>The following list describes scenarios for converting a single-instance Oracle database to an Oracle RAC database:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Converting a single-instance Oracle Database 12<span class="italic">c</span> database to an Oracle RAC 12<span class="italic">c</span> database, running out of the <span class="italic">same</span> Oracle home and using the same data files as the single-instance database.
                           </p>
                           <p>In this scenario, run the <code class="codeph">rconfig</code> utility from the Oracle RAC database home, or use the <span class="bold">Convert to RAC</span> option on the single-instance database target of Oracle Enterprise Manager Cloud Control.
                           </p>
                        </li>
                        <li>
                           <p>Converting a single-instance database that uses a release of Oracle Database earlier than Oracle Database 12<span class="italic">c</span> to an Oracle RAC 12<span class="italic">c</span> database, running out of the same Oracle home and using the same data files as the single-instance database
                           </p>
                           <p>In this scenario, use Oracle Universal Installer and Database Upgrade Assistant (DBUA) to update the single-instance database to Oracle Database 12<span class="italic">c</span>. Then use <code class="codeph">rconfig</code> or the Oracle Enterprise Manager <span class="bold">Convert to RAC</span> option, as described in the preceding scenario.
                           </p>
                        </li>
                        <li>
                           <p>Converting a single-instance Oracle Database 12<span class="italic">c</span> to an Oracle RAC 12<span class="italic">c</span> database, running out of a <span class="italic">different</span> Oracle home and using the same data files as the single-instance database.
                           </p>
                           <p>In this scenario, run the <code class="codeph">rconfig</code> utility in the target database home, or use the <span class="bold">Convert to RAC</span> option in the single-instance database target of Oracle Enterprise Manager Cloud Control. Provide the file storage location when prompted.
                           </p>
                           <div class="infoboxnote" id="GUID-C846650A-B9CC-40C7-B31B-02CEE1177D60__GUID-0E500A1A-BFF1-4201-A792-CDF88B173E78">
                              <p class="notep1">Note:</p>
                              <p>If you specify Oracle home users for both the target database home and the source database home, then the Oracle home user for the target database home must be the same as the Oracle home user for the source database home.</p>
                           </div>
                        </li>
                        <li>
                           <p>Converting a single-instance Oracle Database 12<span class="italic">c</span> to an Oracle RAC 12<span class="italic">c</span> database, running out of a <span class="italic">different</span> Oracle home, and where the host on which the single-instance database runs is <span class="italic">not</span> a node used by the Oracle RAC database.
                           </p>
                           <p>In this scenario, create a clone image of the single-instance database, and move the clone image to a host that is one of the nodes used by the Oracle RAC database. Then use <code class="codeph">rconfig</code> or the Oracle Enterprise Manager <span class="bold">Convert to RAC</span> option, as described in the preceding scenario.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="RACAD8871"></a><div class="sect3"><a id="GUID-AB9AFE38-0992-4EC1-A645-E41C0E25BE0A" name="GUID-AB9AFE38-0992-4EC1-A645-E41C0E25BE0A"></a><h4 id="RACAD-GUID-AB9AFE38-0992-4EC1-A645-E41C0E25BE0A" class="sect4">Converting Databases to Oracle RAC Using Oracle Enterprise Manager</h4>
                  <div>
                     <p>You can use Oracle Enterprise Manager Cloud Control to convert a single-instance database to an Oracle RAC database.</p>
                     <p>To use this feature, complete the following steps:</p>
                     <ol>
                        <li>
                           <p>Log in to Oracle Enterprise Manager Cloud Control. From the Home page, click the <span class="bold">Targets</span> tab.
                           </p>
                        </li>
                        <li>
                           <p>On the Targets page, click the <span class="bold">Databases</span> secondary tab, and click the link in the Names column of the database to convert to Oracle RAC.
                           </p>
                        </li>
                        <li>
                           <p>On the Database home page, from the Availability menu, select <span class="bold">Convert to Cluster Database</span>.
                           </p>
                        </li>
                        <li>
                           <p>Log in as the database user <code class="codeph">SYS</code> with <code class="codeph">SYSDBA</code> privileges to the database you want to convert, and click <span class="bold">Next</span>.
                           </p>
                        </li>
                        <li>
                           <p>On the Convert to Cluster Database: Cluster Credentials page, provide a user name and password for the <code class="codeph">oracle</code> user and password of the target database to convert. If the target database is using Oracle ASM, then also provide the SYSASM user and password, and then click <span class="bold">Next</span>.
                           </p>
                        </li>
                        <li>
                           <p>On the Hosts page, select the host nodes in the cluster to be cluster members in the installed Oracle RAC database. When you have completed your selection, click <span class="bold">Next</span>.
                           </p>
                        </li>
                        <li>
                           <p>On the Convert to Database: Options page, select whether you want to use the existing listener and port number, or specify a new listener and port number for the cluster. Also provide a prefix for cluster database instances on the cluster.</p>
                           <p>When you have finished entering information, click <span class="bold">Next</span>, or click <span class="bold">Help</span> if you need assistance in deciding how to enter information.
                           </p>
                        </li>
                        <li>
                           <p>On the Convert to Cluster Database: Shared Storage page, either select the option to use your existing shared storage area, or select the option to have your database files copied to a new shared storage location. Also, decide if you want to use your existing fast recovery area or copy your recovery files to a new fast recovery area using files managed by Oracle Database.</p>
                           <p>If you use Oracle ASM, then Oracle recommends that you place the data files and the recovery files in separate failure groups. A failure group is defined by shared hardware, such as a controller shared between two disks, or two disks that are on the same spindle. If two disks share hardware that could fail, making both disks unavailable, then theses disks are said to be in the same failure group. If you do not use Oracle ASM, then Oracle recommends that the data files and the recovery files are stored in separate locations, for example, separate Oracle ASM failure groups, so that a hardware failure does not affect availability. </p>
                           <p>When you have finished entering information, click <span class="bold">Next</span>, or click <span class="bold">Help</span> if you need assistance in deciding how to enter information.
                           </p>
                        </li>
                        <li>
                           <p>On the Convert to Cluster Database: Review page, review the options you have selected. Click <span class="bold">Submit Job</span> to proceed with the conversion. To change any options you have selected, click <span class="bold">Back</span>. To cancel the conversion, click <span class="bold">Cancel</span>.
                           </p>
                        </li>
                        <li>
                           <p>On the Confirmation page, click <span class="bold">View Job</span> to check the status of the conversion.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../upgrd/intro-to-upgrading-oracle-database.html#UPGRD-GUID-FA024F34-A61A-4C4B-AA60-C123A9191A16" target="_blank"><span><cite>Oracle Database Upgrade Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="RACAD8872"></a><div class="sect2"><a id="GUID-1D7BB9E0-8C0F-4C80-9A22-E35F46B207EB" name="GUID-1D7BB9E0-8C0F-4C80-9A22-E35F46B207EB"></a><h3 id="RACAD-GUID-1D7BB9E0-8C0F-4C80-9A22-E35F46B207EB" class="sect3">Converting Databases to Oracle RAC Using rconfig</h3>
               <div>
                  <p>You can use the command-line utility <code class="codeph">rconfig</code> to convert a single-instance database to an Oracle RAC database, or to convert it to an Oracle RAC One Node database, depending on the values you provide in the <code class="codeph">ConvertToRAC.xml</code> file. To use this feature, complete the following steps:
                  </p>
                  <ol>
                     <li>
                        <p>As the <code class="codeph">oracle</code> user, navigate to the directory <code class="codeph">$ORACLE_HOME/assistants/rconfig/sampleXMLs</code>, and open the file <code class="codeph">ConvertToRAC.xml</code> using a text editor, such as <code class="codeph">vi</code>.
                        </p>
                     </li>
                     <li id="GUID-1D7BB9E0-8C0F-4C80-9A22-E35F46B207EB__BABGIGID">
                        <p>Review the <code class="codeph">ConvertToRAC.xml</code> file, and modify the parameters as required for your system. The XML sample file contains comments that provide instructions for how to configure the file. 
                        </p>
                        <div class="infoboxnote" id="GUID-1D7BB9E0-8C0F-4C80-9A22-E35F46B207EB__GUID-9493B1E2-CDE7-4A3D-A320-5786DC2979E5">
                           <p class="notep1">Caution:</p>
                           <p>Set the convert option <code class="codeph">Convert verify="ONLY"</code> to perform a test conversion to ensure that a conversion can be completed successfully.
                           </p>
                        </div>
                        <p>When you have finished modifying parameters, save the file with a name of the format <code class="codeph"><span class="variable" translate="no">file_name</span>.xml</code>. Make a note of the name you select.
                        </p>
                     </li>
                     <li>
                        <p>Navigate to the directory <code class="codeph">$ORACLE_HOME/bin</code>, and use the following command to run the command <code class="codeph">rconfig</code>, where <code class="codeph"><span class="variable" translate="no">input.xml</span></code> is the name of the XML input file you configured in Step <a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-1D7BB9E0-8C0F-4C80-9A22-E35F46B207EB__BABGIGID">2</a>:
                        </p><pre class="pre codeblock"><code>rconfig <span class="variable" translate="no">input.xml</span></code></pre><p>For example, if you create an input XML file called <code class="codeph">convert.xml</code>, then you would use the following command
                        </p><pre class="oac_no_warn" dir="ltr">$ ./rconfig convert.xml</pre></li>
                  </ol>
                  <div class="infoboxnote" id="GUID-1D7BB9E0-8C0F-4C80-9A22-E35F46B207EB__GUID-7B23BCDC-AF50-4C37-88FD-91A617CA5250">
                     <p class="notep1">Note:</p>
                     <p>The <code class="codeph">Convert verify</code> option in the <code class="codeph">ConvertToRAC.xml</code> file has three options:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">Convert verify="YES"</code>: rconfig performs checks to ensure that the prerequisites for single-instance to Oracle RAC conversion have been met before it starts conversion
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">Convert verify="NO"</code>: rconfig does not perform prerequisite checks, and starts conversion
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">Convert verify="ONLY"</code> rconfig only performs prerequisite checks; it does not start conversion after completing prerequisite checks
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>If performing the conversion fails, then use the following procedure to recover and reattempt the conversion.:</p>
                  <ol>
                     <li>
                        <p>Attempt to delete the database using the DBCA delete database option.</p>
                     </li>
                     <li>
                        <p>Restore the source database.</p>
                     </li>
                     <li>
                        <p>Review the conversion log, and fix any problems reported by <code class="codeph">rconfig</code> that may have caused the conversion failure. The <code class="codeph">rconfig</code> log files are under the <code class="codeph">rconfig</code> directory in <code class="codeph">$ORACLE_BASE/cfgtoollogs</code>.
                        </p>
                     </li>
                     <li>
                        <p>Reattempt the conversion.</p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../upgrd/intro-to-upgrading-oracle-database.html#UPGRD-GUID-FA024F34-A61A-4C4B-AA60-C123A9191A16" target="_blank"><span><cite>Oracle Database Upgrade Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="RACAD8874"></a><a id="RACAD8875"></a><a id="RACAD8873"></a><div class="sect2"><a id="GUID-2BCC2430-C55B-4CBA-A3DD-85CFF7EF996A" name="GUID-2BCC2430-C55B-4CBA-A3DD-85CFF7EF996A"></a><h3 id="RACAD-GUID-2BCC2430-C55B-4CBA-A3DD-85CFF7EF996A" class="sect3">Example of rconfig XML Input Files for ConvertToRAC</h3>
               <div>
                  <p><a id="d45639e4279" class="indexterm-anchor"></a>The following are two examples of an XML <code class="codeph">ConvertToRAC</code> input file for the <code class="codeph">rconfig</code> utility. <a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-2BCC2430-C55B-4CBA-A3DD-85CFF7EF996A__CACJJIEE">Example 15-1</a> is an XML input file to convert a single-instance database with Oracle ASM to a policy-managed Oracle RAC database (using server pools) on Oracle ASM storage. <a href="converting-single-instance-oracle-databases-to-oracle-rac-and-oracle-rac-one-node.html#GUID-2BCC2430-C55B-4CBA-A3DD-85CFF7EF996A__CACJHJDH">Example 15-2</a> is an XML input file to convert a single-instance database with Oracle ASM to an administrator-managed Oracle RAC database.
                  </p>
                  <div class="example" id="GUID-2BCC2430-C55B-4CBA-A3DD-85CFF7EF996A__CACJJIEE">
                     <p class="titleinexample">Example 15-1 Example rconfig ConvertToRAC XML File for Policy-Managed Databases</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;n:RConfig xmlns:n="http://www.example.com/rconfig"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://www.example.com/rconfig"&gt;
    &lt;n:ConvertToRAC&gt;   
&lt;!-- Verify does a precheck to ensure all pre-requisites are met, before the
 conversion is attempted. Allowable values are: YES|NO|ONLY --&gt;
	&lt;n:Convert verify="YES"&gt;
&lt;!--Specify current OracleHome of non-rac database for SourceDBHome --&gt;
	      &lt;n:SourceDBHome&gt;/oracle/product/12.1.0/db_1&lt;/n:SourceDBHome&gt;
&lt;!--Specify OracleHome where the rac database should be configured. It can be same
 as SourceDBHome --&gt;
	      &lt;n:TargetDBHome&gt;/oracle/product/12.1.0/db_1&lt;/n:TargetDBHome&gt;
&lt;!--Specify SID of non-rac database and credential. User with sysdba role is
 required to perform conversion --&gt;
              &lt;n:SourceDBInfo SID="sales"&gt;
	        &lt;n:Credentials&gt;
	          &lt;n:User&gt;sys&lt;/n:User&gt;
	          &lt;n:Password&gt;oracle&lt;/n:Password&gt;
	          &lt;n:Role&gt;sysdba&lt;/n:Role&gt;
	        &lt;/n:Credentials&gt;
	      &lt;/n:SourceDBInfo&gt;
&lt;!--Specify the list of existing or new server pools which are used by the
 Policy Managed Cluster Database. --&gt;
              &lt;n:ServerPoolList&gt;
                &lt;n:ExistingServerPool name="custom"/&gt;
                &lt;n:NewServerPool name="newpool" cardinality="2"/&gt;
              &lt;/n:ServerPoolList&gt;
&lt;!--Specify RacOneNode along with servicename to convert database to RACOne 
Node --&gt;
              &lt;!--n:RacOneNode  servicename="salesrac1service"/--&gt;
&lt;!--InstancePrefix is not required for Policy Managed database. If specified, it
 will be ignored. Instance names are generated automatically based on db_unique_
name for Policy Managed dababase.--&gt;
&lt;!-- Listener details are no longer needed starting 11.2. Database is registered
 with default listener and SCAN listener running from Oracle Grid Infrastructure
 home. --&gt;
&lt;!--Specify the type of storage to be used by rac database. Allowable values are
 CFS|ASM. The non-rac database should have same storage type. ASM credentials are
 no needed for conversion. --&gt;
	      &lt;n:SharedStorage type="ASM"&gt;
&lt;!--Specify Database Area Location to be configured for rac database.If this field
 is left empty, current storage will be used for rac database. For CFS, this field
 will have directory path. --&gt;
	        &lt;n:TargetDatabaseArea&gt;+ASMDG&lt;/n:TargetDatabaseArea&gt;
&lt;!--Specify Fast Recovery Area to be configured for rac database. If this field is
 left empty, current recovery area of non-rac database will be configured for rac
 database. If current database is not using recovery Area, the resulting rac
 database will not have a recovery area. --&gt;
	        &lt;n:TargetFlashRecoveryArea&gt;+ASMDG&lt;/n:TargetFlashRecoveryArea&gt;
	      &lt;/n:SharedStorage&gt;
        &lt;/n:Convert&gt;
    &lt;/n:ConvertToRAC&gt;
&lt;/n:RConfig&gt;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-2BCC2430-C55B-4CBA-A3DD-85CFF7EF996A__CACJHJDH">
                     <p class="titleinexample">Example 15-2 Example rconfig ConvertToRAC XML File for Administrator-Managed Databases</p><pre class="oac_no_warn" dir="ltr">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;n:RConfig xmlns:n="http://www.example.com/rconfig"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://www.example.com/rconfig rconfig.xsd"&gt;
    &lt;n:ConvertToRAC&gt;   
&lt;!-- Verify does a precheck to ensure all pre-requisites are met, before the
 conversion is attempted. Allowable values are: YES|NO|ONLY --&gt;
	&lt;n:Convert verify="YES"&gt;
&lt;!--Specify current OracleHome of non-rac database for SourceDBHome --&gt;
	      &lt;n:SourceDBHome&gt;/oracle/product/12.1.0/db_1&lt;/n:SourceDBHome&gt;
&lt;!--Specify OracleHome where the rac database should be configured. It can be same
 as SourceDBHome --&gt;
	      &lt;n:TargetDBHome&gt;/oracle/product/12.1.0/db_1&lt;/n:TargetDBHome&gt;
&lt;!--Specify SID of non-rac database and credential. User with sysdba role is
 required to perform conversion --&gt;
              &lt;n:SourceDBInfo SID="sales"&gt;
	        &lt;n:Credentials&gt;
	          &lt;n:User&gt;sys&lt;/n:User&gt;
	          &lt;n:Password&gt;oracle&lt;/n:Password&gt;
	          &lt;n:Role&gt;sysdba&lt;/n:Role&gt;
	        &lt;/n:Credentials&gt;
	      &lt;/n:SourceDBInfo&gt;
&lt;!--Specify the list of nodes that should have rac instances running for the Admin
 Managed Cluster Database. LocalNode should be the first node in this nodelist.
 --&gt;
	      &lt;n:NodeList&gt;        
	        &lt;n:Node name="node1"/&gt;
	        &lt;n:Node name="node2"/&gt;
	      &lt;/n:NodeList&gt;
&lt;!--Specify RacOneNode along with servicename to convert database to RACOne 
Node --&gt;
&lt;!--n:RacOneNode  servicename="salesrac1service"/--&gt;
&lt;!--Instance Prefix tag is optional starting with 11.2. If left empty, it is
 derived from db_unique_name.--&gt;
	      &lt;n:InstancePrefix&gt;sales&lt;/n:InstancePrefix&gt;
&lt;!-- Listener details are no longer needed starting 11.2. Database is registered
 with default listener and SCAN listener running from Oracle Grid Infrastructure
 home. --&gt;
&lt;!--Specify the type of storage to be used by rac database. Allowable values are
 CFS|ASM. The non-rac database should have same storage type. ASM credentials 
are not needed for conversion. --&gt;
	      &lt;n:SharedStorage type="ASM"&gt;
&lt;!--Specify Database Area Location to be configured for rac database.If this field
 is left empty, current storage will be used for rac database. For CFS, this 
field will have directory path. --&gt;
	        &lt;n:TargetDatabaseArea&gt;+ASMDG&lt;/n:TargetDatabaseArea&gt;
&lt;!--Specify Fast Recovery Area to be configured for rac database. If this field is
 left empty, current recovery area of non-rac database will be configured for rac
 database. If current database is not using recovery Area, the resulting rac
 database will not have a recovery area. --&gt;
	        &lt;n:TargetFlashRecoveryArea&gt;+ASMDG&lt;/n:TargetFlashRecoveryArea&gt;
	      &lt;/n:SharedStorage&gt;
        &lt;/n:Convert&gt;
    &lt;/n:ConvertToRAC&gt;
&lt;/n:RConfig&gt;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="RACAD8876"></a><div class="sect2"><a id="GUID-41B9B4C9-B5CF-44F6-AFA1-6FDDE156D92C" name="GUID-41B9B4C9-B5CF-44F6-AFA1-6FDDE156D92C"></a><h3 id="RACAD-GUID-41B9B4C9-B5CF-44F6-AFA1-6FDDE156D92C" class="sect3">Postconversion Steps</h3>
               <div>
                  <p>After completing the conversion, note the following recommendations for Oracle RAC environments, as described in the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Follow the recommendations for using load balancing and transparent application failover, as previously described</p>
                     </li>
                     <li>
                        <p>Use locally managed tablespaces instead of dictionary managed tablespaces to reduce contention and manage sequences in Oracle RAC as described in <span><cite>Oracle Database Administrator’s Guide</cite></span></p>
                     </li>
                     <li>
                        <p>Follow the guidelines for using automatic segment space management as described in <span><cite>Oracle Database Administrator’s Guide</cite></span></p>
                     </li>
                  </ul>
                  <p>The buffer cache and shared pool capacity requirements in Oracle RAC are slightly greater than the requirements for single-instance Oracle databases. Therefore, you should increase the size of the buffer cache by about 10%, and the size of the shared pool by about 15%.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="workload-management-with-dynamic-database-services.html#GUID-8DC4D5E0-CA9D-47BC-BAD0-8769405AFEC5" title="Workload management includes load balancing, enabling clients for Oracle Real Application Clusters (Oracle RAC), distributed transaction processing, and services.">Workload Management with Dynamic Database Services</a></li>
                        <li><a href="../admin/managing-tablespaces.html#ADMIN-GUID-66D4E07A-E88C-4111-96DB-9D42B532D51E" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></li>
                        <li><a href="../admin/managing-tablespaces.html#ADMIN-GUID-5254F3ED-DDFA-4797-B09C-A49DC62E80B0" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>