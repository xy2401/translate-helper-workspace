<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Enterprise User Security Configuration Tasks and Troubleshooting</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Enterprise User Security Administrator's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Enterprise User Security Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="enterprise-user-security-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:14:01-08:00">
      <meta name="dcterms.title" content="Enterprise User Security Administrator's Guide">
      <meta name="dcterms.dateCopyrighted" content="2000, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96086-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configuration-and-administration-tools-overview.html" title="Previous" type="text/html">
      <link rel="next" href="administering-enterprise-user-security.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DBIMI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuration-and-administration-tools-overview.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="administering-enterprise-user-security.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Enterprise User Security Administrator's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Enterprise User Security Configuration Tasks and Troubleshooting</li>
            </ol>
            <a id="GUID-C88D3DC6-3956-4728-B04B-764D28760F19" name="GUID-C88D3DC6-3956-4728-B04B-764D28760F19"></a><a id="DBIMI150"></a>
            
            <h2 id="DBIMI-GUID-C88D3DC6-3956-4728-B04B-764D28760F19" class="sect2"><span class="enumeration_chapter">4 </span>Enterprise User Security Configuration Tasks and Troubleshooting
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes configuring Enterprise User Security using a sequence of steps. They include the initial database and directory preparation through connecting to the database as an enterprise user, where authentication can use passwords, Kerberos tickets, or SSL. A troubleshooting section helps you when you test your Enterprise User Security implementation.</p>
               <div class="p">This chapter contains the following topics:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040">Enterprise User Security Configuration Overview</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-04FF478D-6CE0-40F4-9890-E7B9B4C6C5CC">Enterprise User Security Configuration Roadmap</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">Preparing the Directory for Enterprise User Security (Phase One)</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">Configuring Enterprise User Security Objects in the Database and the Directory (Phase Two)</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-80ED2984-6B82-4E8E-A21B-3C853455B412">Configure Enterprise User Security for the Authentication Method You Require (Phase Three)</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-4799D4A6-D8E8-4D27-85D3-2930894D3C27">Enabling Current User Database Links</a></p>
                     </li>
                     <li>
                        <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC">Troubleshooting Enterprise User Security</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBIMI576"></a><a id="DBIMI254"></a><div class="props_rev_3"><a id="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040" name="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040"></a><h3 id="DBIMI-GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040" class="sect3">Enterprise User Security Configuration Overview</h3>
               <div>
                  <p>Configuring Enterprise User Security means creating shared schemas and global roles in databases that you want accessible to enterprise users. You configure the identity management realm in the directory to reflect those database roles and schemas, and then associate directory users with them. These steps apply regardless of the authentication method you choose: password, Kerberos, or SSL.</p>
                  <p>The primary configuration differences among the authentication types are in network connection configuration. You must consider the following three connection types:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Client-to-database</p>
                     </li>
                     <li>
                        <p>Database-to-directory</p>
                     </li>
                     <li>
                        <p>Database-to-database (current user database links can be secured by SSL only)</p>
                     </li>
                  </ul>
                  <p>Enterprise User Security supports many combinations of authentication types between databases, directories, and clients. The three most common implementations of Enterprise User Security, described in this chapter, use the following authentication methods for client-database and database-directory connections:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Passwords for both connections</p>
                     </li>
                     <li>
                        <p>SSL for both connections</p>
                     </li>
                     <li>
                        <p>Kerberos for client-database connections and passwords for database-directory connections</p>
                     </li>
                  </ul>
                  <p>You decide which of these to choose based primarily on your network environment, because the security and integrity of your enterprise data depend on creating secure network connections. Typical network environments can have all clients, databases, and directories residing within the same network behind a firewall, or distributed across several networks and perhaps exposed to the Internet. Different environments can dictate what authentication types you choose, in order to secure your Enterprise User Security network connections. </p>
                  <p>A second consideration in making such choices is the fact that more rigorous authentication types, such as SSL and Kerberos, require greater configuration complexity, additional software, and ongoing maintenance.</p>
                  <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__I1010104">Figure 4-1</a> shows the configuration process for Enterprise User Security. It is a step-by-step process with decision points based on your implementation and how your users are authenticated. The configuration steps represented with broken lines are optional.
                  </p>
                  <div class="figure" id="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__I1010104">
                     <p class="titleinfigure">Figure 4-1 Enterprise User Security Configuration Flow Chart</p><img src="img/asoag034.gif" width="615" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows" longdesc="img_text/asoag034.html"><br><a href="img_text/asoag034.html">Description of "Figure 4-1 Enterprise User Security Configuration Flow Chart"</a></div>
                  <!-- class="figure" -->
                  <p>For brevity, some product names and features have been abbreviated in this flow chart. The following table lists the abbreviations used and the meaning of each:</p>
                  <div class="tblformal" id="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__GUID-482501B8-63E5-424D-9EFB-926764C45FBC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the product name abbreviations used in Figure 11-1 and provides their meanings." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d14512e264">Abbreviation</th>
                              <th align="left" valign="bottom" width="71%" id="d14512e268">Meaning</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e273" headers="d14512e264 ">
                                 <p>DBCA</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e273 d14512e268 ">
                                 <p>Database Configuration Assistant</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e280" headers="d14512e264 ">
                                 <p>EM</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e280 d14512e268 ">
                                 <p>Oracle Enterprise Manager</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e287" headers="d14512e264 ">
                                 <p>IM Realm</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e287 d14512e268 ">
                                 <p>Identity Management Realm</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e294" headers="d14512e264 ">
                                 <p>Netmgr</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e294 d14512e268 ">
                                 <p>Oracle Net Manager</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e301" headers="d14512e264 ">
                                 <p>ODM</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e301 d14512e268 ">
                                 <p>Oracle Directory Manager</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e308" headers="d14512e264 ">
                                 <p>OID</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e308 d14512e268 ">
                                 <p>Oracle Internet Directory</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e315" headers="d14512e264 ">
                                 <p>OID DAS</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e315 d14512e268 ">
                                 <p>Oracle Internet Directory Delegated Administration Services</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e322" headers="d14512e264 ">
                                 <p>OWM</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e322 d14512e268 ">
                                 <p>Oracle Wallet Manager</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d14512e329" headers="d14512e264 ">
                                 <p>SQL</p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d14512e329 d14512e268 ">
                                 <p>SQL*Plus</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__GUID-F409ADFE-C3CE-4252-9970-3D67D5C87072">
                     <p class="notep1">See Also:</p>
                     <p><a href="introducing-enterprise-user-security.html#GUID-080DE6BD-8D54-49EC-BAC4-4EC5CC6A25BF">Introducing Enterprise User Security</a> for information about the realm Oracle Context, its administrative groups, and entries that pertain to Enterprise User Security
                     </p>
                  </div>
               </div>
            </div><a id="DBIMI255"></a><div class="props_rev_3"><a id="GUID-04FF478D-6CE0-40F4-9890-E7B9B4C6C5CC" name="GUID-04FF478D-6CE0-40F4-9890-E7B9B4C6C5CC"></a><h3 id="DBIMI-GUID-04FF478D-6CE0-40F4-9890-E7B9B4C6C5CC" class="sect3">Enterprise User Security Configuration Roadmap</h3>
               <div>
                  <p>This section provides detailed descriptions of the configuration steps that <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7CE9F5A0-B834-4BFE-AD8F-7D22F8E7B040__I1010104">Figure 4-1</a> illustrates. They should be performed in the following order:
                  </p>
                  <ol>
                     <li>
                        <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">Preparing the Directory for Enterprise User Security (Phase One)</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">Configuring Enterprise User Security Objects in the Database and the Directory (Phase Two)</a>"</span></p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-80ED2984-6B82-4E8E-A21B-3C853455B412">Configure Enterprise User Security for the Authentication Method You Require (Phase Three)</a>"</span>, which completes your Enterprise User Security configuration by establishing your chosen authentication method as one of the following three:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5">Configuring Enterprise User Security for Password Authentication</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F">Configuring Enterprise User Security for Kerberos Authentication</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199">Configuring Enterprise User Security for SSL Authentication</a>"</span></p>
                           </li>
                        </ul>
                     </li>
                  </ol>
               </div>
            </div><a id="DBIMI577"></a><a id="DBIMI578"></a><a id="DBIMI579"></a><a id="DBIMI580"></a><a id="DBIMI581"></a><a id="DBIMI582"></a><a id="DBIMI583"></a><a id="DBIMI584"></a><a id="DBIMI585"></a><a id="DBIMI586"></a><a id="DBIMI120"></a><div class="props_rev_3"><a id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F" name="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F"></a><h3 id="DBIMI-GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F" class="sect3">Preparing the Directory for Enterprise User Security (Phase One)</h3>
               <div>
                  <div class="section">
                     <p>This configuration phase must be performed before you can configure any other part of Enterprise User Security.</p>
                     <p>Enterprise User Security for 12<span class="italic">c</span> Release 1 (12.1) requires Release 9.0.4 (or later) version of Oracle Internet Directory, which installs with the required version of the Oracle schema. This schema is backward compatible. After you have installed Oracle Internet Directory, perform the following directory usage configuration tasks:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009645">Task 1: (Optional) Create an identity management realm in the directory</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009650">Task 2: (Optional) Set identity management realm properties</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009655">Task 3: Identify administrative users in the directory</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009661">Task 4: (Optional) Set the default database-to-directory authentication type for the identity management realm</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009666">Task 5: (Optional) Configure your Oracle home for directory usage</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009285">Task 6: Register the database in the directory</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009645">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-A060EF7D-FC03-49F3-BB3C-B3A3D10E7C1B">Task 1: (Optional) Create an identity management realm in the directory</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>If necessary, use Oracle Internet Directory Self-Service Console (Delegated Administration Service) to create an identity management realm in the directory. You can use Oracle Internet Directory Configuration Assistant to upgrade an Oracle9<span class="italic">i</span> Oracle Context to a 9.0.4 or higher version Identity Management Realm.
                     </p>
                     <p>You must have version 9.0.4 (or later) identity management realm to use Oracle Database 10<span class="italic">g</span> or Oracle Database 11<span class="italic">g</span>. Version 9.0.4 realms are backward compatible to Oracle9<span class="italic">i</span>, so you can register Oracle9<span class="italic">i </span>and Oracle Database 12<span class="italic">c</span> Release 1 (12.1) in the same realm and place them in the same domain, if desired.
                     </p>
                     <div class="infoboxnotealso" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-23BC1C87-0C42-46ED-94FA-01B9BB70EDBC">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIMDA005" target="_blank"><span class="italic">Oracle Identity Management Guide to Delegated Administration</span></a> for more information on creating identity management realms in Oracle Internet Directory
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009650">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-95553F39-B6E3-4937-80F6-0575FECD153A">Task 2: (Optional) Set identity management realm properties</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__BABFIBCD" title="This table has 3 columns and shows the defaults for a version 9.0.4 identity management realm. Column 1 is the user search base, column 2 is the group search base, and column 3 is the logon name attribute (nickname).">Table 4-1</a> shows the defaults for a version 9.0.4 identity management realm.
                     </p>
                     <div class="tblformal" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__BABFIBCD">
                        <p class="titleintable">Table 4-1 Identity Realm Defaults</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Identity Realm Defaults" summary="This table has 3 columns and shows the defaults for a version 9.0.4 identity management realm. Column 1 is the user search base, column 2 is the group search base, and column 3 is the logon name attribute (nickname)." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d14512e662">User Search Base</th>
                                 <th align="left" valign="bottom" width="31%" id="d14512e665">Group Search Base</th>
                                 <th align="left" valign="bottom" width="41%" id="d14512e668">Login Name Attribute (nickname) </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d14512e673" headers="d14512e662 ">
                                    <p><code class="codeph">cn=Users,</code><span class="italic"><code class="codeph">realm_DN</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="31%" headers="d14512e673 d14512e665 ">
                                    <p><code class="codeph">cn=Groups,</code><span class="italic"><code class="codeph">realm_DN</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d14512e673 d14512e668 ">
                                    <p><span class="italic"><code class="codeph">uid</code></span>, the user id
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If you want different settings, then use Oracle Internet Directory Self-Service Console to set the user search base, group search base, and login name attribute (<a id="d14512e695" class="indexterm-anchor"></a>nickname). You can also set up the necessary context administrators in the identity management realm you plan to use in the directory. 
                     </p>
                     <p>To perform this task, see <span class="q">"<a href="administering-enterprise-user-security.html#GUID-CE62462D-4A95-4E6E-A0F2-A4EF8BBB24C9">Setting Properties of an Identity Management Realm</a>"</span>.
                     </p>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-A91EDC80-CDE6-497F-A652-67F659DF34C4">
                        <p class="notep1">Note:</p>
                        <p>Each identity management realm includes an orcladmin user who is the root user of that realm only. These realm-specific orcladmin users are represented by the directory entries <code class="codeph">cn=orcladmin,cn=Users,&lt;realm_DN&gt;</code>. Note that when you are logged in to Enterprise User Security administration tools as a realm-specific orcladmin user, then you can only manage directory objects for that realm. To manage objects in another realm, you must log in to administration tools as the orcladmin user for that realm.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009655">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-379B302A-0196-4D5E-BB0D-F0EFB33FD39E">Task 3: Identify administrative users in the directory</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Identify administrative users in the directory who are authorized to perform the following tasks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Register databases</p>
                        </li>
                        <li>
                           <p>Administer database security</p>
                        </li>
                        <li>
                           <p>Create and manage enterprise domains</p>
                        </li>
                     </ul>
                     <p>If administrative users do not already exist who can perform these tasks, then see <a href="administering-enterprise-user-security.html#GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7">Administering Enterprise User Security</a> to create them.
                     </p>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-2C6DA29B-9268-49DD-8678-D6E09D65383B">
                        <p class="notep1">Note:</p>
                        <p>Although one administrator can perform all Enterprise User Security administrative tasks, you can create many different kinds of administrators so security tasks can be assigned to different people. Separating security tasks in this way results in a more secure enterprise environment, but this requires coordination among the different administrators.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009661">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-5F327304-8C30-41CC-B8E6-BD13085AC0BA">Task 4: (Optional) Set the default database-to-directory authentication type for the identity management realm</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>By default, the database-to-directory authentication type for the identity management realm is set to passwords. If you want a different default setting, then use the Oracle Enterprise Manager interface to change it. For example, if you are using a public key infrastructure (PKI), then you would need to set the authentication type to SSL. See <span class="q">"<a href="administering-enterprise-user-security.html#GUID-EEDDF2CA-0078-4AF8-A513-438429EEA370">Setting the Default Database-to-Directory Authentication Type for an Identity Management Realm</a>"</span>.
                     </p>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-13E67DF2-6C8D-406E-AADA-1D4CCC4D0C6A">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>This default realmwide setting can be overridden on a database by setting the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> initialization parameter. See <a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more information about this parameter.
                              </p>
                           </li>
                           <li>
                              <p>If you are using SSL, then see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG008" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for information about setting up SSL with two-way authentication for Oracle Internet Directory.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009666">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-6E2DDB59-44EF-40FB-AF08-C10B0912E6FE">Task 5: (Optional) Configure your Oracle home for directory usage</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>This step is optional because users of Domain Name System (DNS) discovery (automatic domain name lookup to locate the directory on a network) do not need to perform this step. (See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG2184" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for information about DNS server discovery.) 
                     </p>
                     <p>If you are <span class="italic">not</span> using DNS discovery, then you <span class="italic">must</span> use Oracle Net Configuration Assistant (NetCA) to create an <code class="codeph">ldap.ora</code> file for your Oracle home. This configuration file specifies the directory host and port information, and the location of the identity management realm so the database can connect to the directory. (See <span class="q">"<a href="configuration-and-administration-tools-overview.html#GUID-29E799B0-312F-4C00-B395-87E5FC2094EC">Starting Oracle Net Configuration Assistant</a>"</span>)
                     </p>
                     <p>To create an <code class="codeph">ldap.ora</code> file for your Oracle home:
                     </p>
                     <ol>
                        <li>
                           <p>In the Oracle Net Configuration Assistant welcome page, choose <span class="bold">Directory Service Usage Configuration</span>, and click <span class="bold">Next</span>.
                           </p>
                        </li>
                        <li>
                           <p>On the Directory Usage Configuration page, select an option appropriate for your environment. Then follow the prompts in the wizard and refer to the online Help to create an <code class="codeph">ldap.ora</code> file for your Oracle home.
                           </p>
                           <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-B4DA51EF-3E36-46C1-983C-68AF380F3016">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>SSL authentication between your database and directory requires that the SSL port entered in the <code class="codeph">ldap.ora</code> file support two-way authentication, in which both client and server send certificates to each other. Thus, you must acquire a PKI digital certificate and wallet for Oracle Internet Directory, and bring up Oracle Internet Directory in the SSL mutual authentication mode. The second port in the <code class="codeph">ldap.ora</code> file should have the SSL mutual authentication port. (See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG008" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a>.)
                                    </p>
                                 </li>
                                 <li>
                                    <p>If you are using password authentication for your database-to-directory connection, then the SSL port entered in the <code class="codeph">ldap.ora</code> file must support SSL with no authentication. No wallet or certificate is required for Oracle Internet Directory. The second port in the <code class="codeph">ldap.ora</code> file should have the SSL no authentication port.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-C1365335-BE9C-4CA7-BE25-67BC226D2D28">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="getting-started-with-enterprise-user-security.html#GUID-941C4042-75F4-40E3-BFDB-E940A705A7F1">Configuring Your Database to Use the Directory</a>"</span>  for an example of using NetCA to configure directory usage
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__I1009285">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-F699EFAA-C79D-4F5F-90D0-873085707047">Task 6: Register the database in the directory</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>After you have configured your Oracle home for directory usage, use Database Configuration Assistant to register the database in the directory. Registration creates an entry in the directory so the database can bind (log in) to it.</p>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-15235585-A188-4035-84A7-8434EC4BBF97">
                        <p class="notep1">Note:</p>
                        <p>To perform this task, you must be the directory superuser or a member of either the <code class="codeph">OracleDBCreators</code> group or the <code class="codeph">OracleContextAdmins</code> group.
                        </p>
                     </div>
                     <p>When registering a database in the directory, Database Configuration Assistant performs the following configuration tasks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Creates a new database service entry and subtree, and assigns a DN to it in the Oracle Context for the identity management realm you are using.</p>
                        </li>
                        <li>
                           <p>Adds the database to the default enterprise domain.</p>
                        </li>
                        <li>
                           <p>Establishes the authentication type of the database to the directory by setting the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> parameter to one of the three allowable settings: <code class="codeph">NONE</code>, <code class="codeph">PASSWORD</code>, or <code class="codeph">SSL</code>. Database Configuration Assistant reads the default database to directory authentication attribute setting for the identity management realm to determine the authentication type setting for the database. 
                           </p>
                           <p>The <code class="codeph">LDAP_DIRECTORY_ACCESS</code> parameter, residing in the database initialization parameter file, determines whether and how the database attempts authentication to the directory. An administrator can change this authentication type setting by using the <code class="codeph">ALTER SYSTEM</code> command.
                           </p>
                        </li>
                        <li>
                           <p>Creates a database wallet, containing the database DN in the following form:</p>
                           <p><code class="codeph">cn=</code><span class="italic"><code class="codeph">short_database_name</code></span><code class="codeph">,cn=OracleContext,</code><span class="italic"><code class="codeph">realm_DN</code></span> 
                           </p>
                           <p>where <span class="italic"><code class="codeph">short_database_name</code></span> is the first part of the fully qualified domain name for a database. 
                           </p>
                           <p>For example, if you have a database named <code class="codeph">db1.us.example.com</code>, then the short database name is <code class="codeph">db1</code>.
                           </p>
                        </li>
                        <li>
                           <p>Randomly generates a database password for directory access, storing it in the database wallet and in the directory.</p>
                        </li>
                        <li>
                           <p>     After creating the wallet, Database Configuration Assistant stores it at <code class="codeph">$ORACLE_BASE</code><code class="codeph">/admin/</code><span class="italic"><code class="codeph">Oracle_SID</code></span><code class="codeph">/wallet</code> (in UNIX environments), if the <code class="codeph">ORACLE_BASE</code> environment variable is present. If the <code class="codeph">ORACLE_BASE</code> environment variable is not present, then the <code class="codeph">$ORACLE_HOME/admin/</code><span class="italic"><code class="codeph">Oracle_SID</code></span><code class="codeph">/wallet</code> directory is used.
                           </p>
                           <p>In Windows environments, replace the slashes (/) with backslashes (\). </p>
                           <p>If a database wallet already exists, then Database Configuration Assistant uses it and updates the password in the wallet.</p>
                        </li>
                        <li>
                           <p>Enables autologin for the database wallet.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-EFE3524B-0D43-4905-BEEB-57DB47A3B618">
                        <p class="notep1">Note:</p>
                        <p>The database's password-based credentials for authentication to Oracle Internet Directory are placed in the wallet when an Oracle database is registered in Oracle Internet Directory.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__CHDDAAFB">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-2C1BF2C4-562B-4319-B265-54F121DA1BB0">To register a database with the directory:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>See <span class="q">"<a href="configuration-and-administration-tools-overview.html#GUID-F10A7BBD-8658-4B10-B4FD-B6AAEA04B3C0">Starting Database Configuration Assistant</a>"</span> to start this tool.
                     </p>
                     <ol>
                        <li>
                           <p>After starting Database Configuration Assistant, select <span class="bold">Configure Database Options in a Database</span> and click <span class="bold">Next</span>.
                           </p>
                        </li>
                        <li>
                           <p>Select a database and click <span class="bold">Next</span>.
                           </p>
                        </li>
                        <li>
                           <p>To register the database, click <span class="bold">Yes, Register the Database</span>.
                           </p>
                        </li>
                        <li>
                           <p>Enter a Custom Database Name for the database. </p>
                           <p>The ability to specify a custom database name is new in Oracle Database 12<span class="italic">c</span> Release 1 (12.1). By default, the database CN (first part of the DN or the distinguished name) in the directory is the <span class="italic"><code class="codeph">DB_UNIQUE_NAME</code></span>. You can change this to a custom value.
                           </p>
                        </li>
                        <li>
                           <p>Enter the directory credentials for a user in the OracleDBCreators group.</p>
                        </li>
                        <li>
                           <p>Enter a password for the database wallet.</p>
                           <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-11357F46-9BD9-4829-81C7-2674AA8DB93C">
                              <p class="notep1">Note:</p>
                              <p>Remember the database wallet password you entered in Step 5. It cannot be retrieved after you finish database registration. If you do not know the password, a multistep process is required to generate a new wallet and reregister the database. See <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220">About the Database Wallet and Password</a>"</span> for further information.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Click <span class="bold">Finish</span> if you are only registering the database. Click <span class="bold">Next</span> if you want to configure additional database features.
                           </p>
                           <div class="infoboxnotealso" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-CB6B4051-D7F1-4711-9CB1-7E4F0F9A20C5">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="getting-started-with-enterprise-user-security.html#GUID-E7630A49-7279-4B0A-9068-EC8E45E6EB77">Registering Your Database with the Directory</a>"</span> for an example of using DBCA to register the database
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__CHDHJDIF">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-85BAABA1-2DB0-4D6C-B853-DC4D5E915C0D">To change the database's directory password:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>After starting Database Configuration Assistant, select <span class="bold">Configure Database Options in a Database</span>, and click <span class="bold">Next</span>.
                     </p>
                     <ol>
                        <li>
                           <p>Select a database and click <span class="bold">Next</span>.
                           </p>
                        </li>
                        <li>
                           <p>Select <span class="bold">Regenerate database password</span>.
                           </p>
                        </li>
                        <li>
                           <p>Enter the directory credentials for a user in the OracleDBCreators group and a password for the database wallet. Click <span class="bold">OK</span>.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Finish</span> if you are only regenerating the password. Click <span class="bold">Next</span> if you want to configure additional database features.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-31A9F68B-72B0-4C6D-AA02-756A03B12637">To unregister a database from the directory:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>See <span class="q">"<a href="configuration-and-administration-tools-overview.html#GUID-F10A7BBD-8658-4B10-B4FD-B6AAEA04B3C0">Starting Database Configuration Assistant</a>"</span> to start this tool.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>After starting Database Configuration Assistant, select <span class="bold">Configure Database Options in a Database</span> and click <span class="bold">Next</span>.</span></li>
                     <li><span>Select a database and click <span class="bold">Next</span>.</span></li>
                     <li><span>To unregister the database, select the <span class="bold">Unregister</span> option.</span></li>
                     <li><span>Enter the directory credentials for a user with the appropriate permissions.</span></li>
                     <li><span>Enter a password for the database wallet.</span></li>
                  </ol>
                  <div class="section">
                     <p>When you unregister a database from the directory, Database Configuration Assistant performs the following configuration tasks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Removes the database entry and subtree from the directory.</p>
                        </li>
                        <li>
                           <p>Sets the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> parameter to <code class="codeph">NONE</code>.
                           </p>
                        </li>
                        <li>
                           <p>Removes the database from its enterprise domain (if the user has sufficient permissions).</p>
                           <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-B8D0A49D-9C2A-41E3-8540-8C89C57BEFAF">
                              <p class="notep1">Note:</p>
                              <p>Depending on user permissions, Database Configuration Assistant may be unable to remove a database from its domain in the directory. If it cannot, then use Oracle Enterprise Manager to remove it from the enterprise domain.</p>
                           </div>
                        </li>
                        <li>
                           <p>Does not remove the database wallet. </p>
                           <div class="infoboxnotealso" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-BF5E5200-B137-497D-B750-96F20BE3FFAA">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="using-oracle-wallet-manager.html#GUID-2341A64C-E24F-444C-A533-52863B5C9001">About Oracle Wallet Manager</a>"</span> and <span class="q">"<a href="using-oracle-wallet-manager.html#GUID-64EF6FB2-E837-49C4-86CD-5AA7F32071F3">Deleting an Oracle Wallet</a>"</span> for more information about deleting the wallet
                              </p>
                           </div>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F__GUID-C89F2BA5-50F5-48FE-8172-E3BD5EF44BF6">
                        <p class="notep1">Note:</p>
                        <p>To succeed at unregistering an Oracle Database from Oracle Internet Directory by using Database Configuration Assistant, you must be one of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A member of the Oracle Context Admin group</p>
                           </li>
                           <li>
                              <p>A member of both the Database Admin group (for the database you are unregistering) and the Database Security Admin group</p>
                           </li>
                           <li>
                              <p>A member of both the Database Admin group (for the database you are unregistering) and the Domain Admin group (for the enterprise domain that contains the database).</p>
                           </li>
                        </ul>
                     </div>
                     <p>This section includes the following topic: <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220">About the Database Wallet and Password</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="DBIMI256"></a><div class="props_rev_3"><a id="GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220" name="GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220"></a><h4 id="DBIMI-GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220" class="sect4">About the Database Wallet and Password</h4>
                  <div>
                     <p>The database requires the wallet even if no SSL (Secure Sockets Layer) is used to secure the connection between the database and the directory. If SSL is used, then this wallet should be used to store the database's digital PKI certificate.</p>
                     <p>The wallet password you enter when using Database Configuration Assistant to register a database in the directory is the password to the wallet itself. This password is not the database's directory login credentials.</p>
                     <p>You can change this wallet password later, using Oracle Wallet Manager. However, if you forget this wallet password, then you must generate an entirely new wallet and password. To do so, you must first delete the existing database wallet, create a new wallet (which can be empty) and put it at the default wallet location, <code class="codeph">$ORACLE_HOME/admin/</code><span class="italic"><code class="codeph">Oracle_SID</code></span><code class="codeph">/wallet </code>(in UNIX environment). Next, unregister the database from the directory, and reregister the database in the directory. During that registration, another database wallet and password can be generated.
                     </p>
                     <div class="infoboxnotealso" id="GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220__GUID-02727DC7-3510-4C66-B581-4F358DC79DBF">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="using-oracle-wallet-manager.html#GUID-89D18B21-A63B-4A31-BE58-7AF6E4E22519">Changing the Oracle Wallet Password</a>"</span> for information about using Oracle Wallet Manager to change wallet passwords and, in general, to manage public key infrastructure (PKI) credentials
                        </p>
                     </div>
                     <p>After you have prepared the directory for Enterprise User Security, then you can create the Enterprise User Security database and directory objects as described in <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">Configuring Enterprise User Security Objects in the Database and the Directory (Phase Two)</a>"</span>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-4E5537BD-6474-43F8-A549-DB8E22F3D220__GUID-5B09F521-7729-45AC-9D93-4B23663B24F7">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG075" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for information about configuring an identity management realm in the directory
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about changing the value of the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>This section includes the following topic: <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-46B64655-632D-4A5E-A745-872F41994E3C">Sharing Wallets and sqlnet.ora Files Among Multiple Databases</a>.
                     </p>
                  </div><a id="DBIMI257"></a><div class="props_rev_3"><a id="GUID-46B64655-632D-4A5E-A745-872F41994E3C" name="GUID-46B64655-632D-4A5E-A745-872F41994E3C"></a><h5 id="DBIMI-GUID-46B64655-632D-4A5E-A745-872F41994E3C" class="sect5">Sharing Wallets and sqlnet.ora Files Among Multiple Databases</h5>
                     <div>
                        <p>Multiple databases (that are not replicas) cannot share wallets, because wallets contain a database's identity. Therefore, if a <code class="codeph">sqlnet.ora</code> file contains a wallet location, then multiple databases cannot share that <code class="codeph">sqlnet.ora</code> file.
                        </p>
                        <p>In order to share a single <code class="codeph">sqlnet.ora</code> file among multiple databases, the following preconditions are required:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>User authentication should use passwords or Kerberos. </p>
                           </li>
                           <li>
                              <p>The wallet containing the password should reside at the default wallet location, which is where Database Configuration Assistant creates it.</p>
                           </li>
                        </ul>
                        <p>If the preceding conditions are met, then multiple databases <span class="italic">can</span> share the <code class="codeph">sqlnet.ora</code> file because no wallet location information is stored in that file.
                        </p>
                        <p>However, when <span class="italic">SSL</span> authentication is used between the user (client) and the database, the wallet location must be specified in the database server's <code class="codeph">sqlnet.ora</code> file. Such a <code class="codeph">sqlnet.ora</code> file cannot be shared by multiple databases for SSL-authenticated enterprise users.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="DBIMI587"></a><a id="DBIMI588"></a><a id="DBIMI589"></a><a id="DBIMI590"></a><a id="DBIMI591"></a><a id="DBIMI258"></a><div class="props_rev_3"><a id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352" name="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352"></a><h3 id="DBIMI-GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352" class="sect3">Configuring Enterprise User Security Objects in the Database and the Directory (Phase Two)</h3>
               <div>
                  <div class="section">
                     <p>This is the second phase of configuration steps required to implement Enterprise User Security. The configuration steps in this section assume the following recommended setup:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You have prepared your database and your directory by completing the tasks described in <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">Preparing the Directory for Enterprise User Security (Phase One)</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Your users are stored in an identity management realm Users subtree.</p>
                        </li>
                        <li>
                           <p>You use the OracleDefaultDomain, which is the default <a href="glossary.html#GUID-54BA3120-94F0-4B48-8A39-7B81DA675240"><span class="xrefglossterm">enterprise domain</span></a> that Database Configuration Assistant uses when you register databases in the directory.
                           </p>
                        </li>
                     </ul>
                     <p>Note that databases must be in an enterprise domain that is in an identity management realm in order for enterprise user logins to work.</p>
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-EB41479C-5C23-4B1C-9472-47F967BF7DCD">
                        <p class="notep1">See Also:</p>
                        <p>If you do not use the OracleDefaultDomain or store your users in an identity management realm Users subtree, then see the following documentation:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG075" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for information about creating a new identity management realm or modifying an existing one, and for information about setting access control lists on directory objects
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="administering-enterprise-user-security.html#GUID-38C395C8-3D91-4177-9A0E-D24A3744080F">Creating an Enterprise Domain</a>"</span> to create another domain in which to put your database. Then substitute your new domain name for OracleDefaultDomain in the following configuration steps
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>To configure Enterprise User Security objects in the database and directory perform the following tasks:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1006748">Task 1: Create Global Schemas and Global Roles in the Database</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1010324">Task 2: Configure User-Schema Mappings for the Enterprise Domain</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1006807">Task 3: Create Enterprise Roles in the Enterprise Domain</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1009695">Task 4: Add Global Database Roles to Enterprise Roles</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1009700">Task 5: Grant Enterprise Roles to Enterprise Users for Database Access</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1006748">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-B84C7955-51A4-4188-AC5C-A7353F620E3B">Task 1: Create Global Schemas and Global Roles in the Database</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Although this step can also be completed by using Oracle Enterprise Manager, the following examples use SQL*Plus directly:</p>
                     <ol>
                        <li>
                           <p>Create a shared schema for enterprise users. The following syntax example creates a shared schema named guest:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE USER guest IDENTIFIED GLOBALLY AS '';
</pre><p>If you do not want to use a shared schema, then specify a user DN between the single quotation marks to create an exclusive schema.</p>
                        </li>
                        <li>
                           <p>Grant the <code class="codeph">CREATE SESSION</code> privilege to the shared schema created in Step 1 so users can connect to it. The following syntax example grants the <code class="codeph">CREATE SESSION</code> privilege to the guest shared schema:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT CREATE SESSION TO guest;
</pre><p>Alternatively, you can grant the <code class="codeph">CREATE SESSION</code> privilege to a global role, which you grant to specific users through an <a href="glossary.html#GUID-2038C643-C389-452E-9317-2105E39909A8"><span class="xrefglossterm">enterprise role</span></a>. See Step 3.
                           </p>
                        </li>
                        <li>
                           <p>Create global roles for the database to hold relevant privileges. The following syntax examples create the <code class="codeph">emprole</code> and <code class="codeph">custrole</code> global roles:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE ROLE emprole IDENTIFIED GLOBALLY;
SQL&gt; CREATE ROLE custrole IDENTIFIED GLOBALLY;
</pre><p>Global roles are associated with enterprise roles, which are created later, and then are allocated to enterprise users.</p>
                        </li>
                        <li>
                           <p>Grant privileges to the new global roles that were created in Step 3. The following syntax example grants the <code class="codeph">SELECT</code> privilege to <code class="codeph">emprole</code> and <code class="codeph">custrole</code> global roles on the products table:
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT select ON products TO custrole, emprole;</pre><div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-C1EE73EA-2014-47F6-8C1C-D0C9F13B4E90">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/CREATE-USER.html#SQLRF-GUID-F0246961-558F-480B-AC0F-14B50134621C" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the syntax for creating a user.
                              </p>
                              <p><a href="../sqlrf/GRANT.html#SQLRF-GUID-20B4E2C0-A7F8-4BC8-A5E8-BE61BDC41AC3" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the syntax for granting a privilege to a user or role.
                              </p>
                              <p><a href="../sqlrf/CREATE-ROLE.html#SQLRF-GUID-B2252DC5-5AE7-49B7-9048-98062993E450" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the syntax for creating a role.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1010324">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-9043AEFB-FDF6-4196-9FC3-B5DECDD74F80">Task 2: Configure User-Schema Mappings for the Enterprise Domain</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Use Enterprise Manager to configure user-schema mappings for the OracleDefaultDomain by using the following steps:</p>
                     <ol>
                        <li>
                           <p>Log in to Enterprise Manager Cloud Control, as an administrative user.</p>
                        </li>
                        <li>
                           <p>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.
                           </p>
                        </li>
                        <li>
                           <p>Click the database name in the list that appears. The database page appears.</p>
                        </li>
                        <li>
                           <p>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.
                           </p>
                        </li>
                        <li>
                           <p>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.
                           </p>
                           <p>The Enterprise User Security page appears.</p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Manage Enterprise Domains</span>.
                           </p>
                           <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                        </li>
                        <li>
                           <p>Select <span class="bold">OracleDefaultDomain</span>. Click <span class="bold">Configure</span>.
                           </p>
                           <p>The Configure Domain page appears. </p>
                        </li>
                        <li>
                           <p>Click the <span class="bold">User-Schema Mappings</span> tab. All user-schema maps created at the domain level are displayed. User-schema maps created at database levels are not displayed here.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Create</span> to create a new user-schema mapping for the domain.
                           </p>
                           <p>The Create Mapping page is displayed.</p>
                        </li>
                        <li>
                           <p>Under the From section, select <span class="bold">Users</span> to map an individual enterprise user to a database schema. Alternatively, select <span class="bold">Subtree</span> to map a directory subtree containing multiple users. You can use the Search icon to search for the appropriate user or subtree.
                           </p>
                        </li>
                        <li>
                           <p>Under the To section, enter the name of the <span class="bold">Schema</span> to which the user or subtree should be mapped. This is the schema that you created in Task 1.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Continue</span> in the Create Mapping page.
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">OK</span> in the Configure Domain page.
                           </p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-CA8D799A-D68F-4D06-982B-D86F09376819">
                        <p class="notep1">Note:</p>
                        <p>You can also create user-schema mappings for an individual database in an enterprise domain. Such mappings apply only to that particular database and not to other databases in the domain.</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-F15724C7-9E0A-4DCA-B997-0D2777076328">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="getting-started-with-enterprise-user-security.html#GUID-2EFFF189-C67D-4C78-8A8C-270428A977B4">Mapping Enterprise Users to the Shared Schema</a>"</span>  for an example on creating user-schema mappings
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1006807">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-63127788-995F-468F-A63C-84F1FBBC53EA">Task 3: Create Enterprise Roles in the Enterprise Domain</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Use Enterprise Manager to create enterprise roles in the OracleDefaultDomain by using the following steps:</p>
                     <ol>
                        <li>
                           <p>Select OracleDefaultDomain in the Manage Enterprise Domains page. Click <span class="bold">Configure</span>.
                           </p>
                           <p>The Configure Domain page appears. </p>
                        </li>
                        <li>
                           <p>Click the <span class="bold">Enterprise Roles</span> tab. 
                           </p>
                        </li>
                        <li>
                           <p>Click <span class="bold">Create</span> to create a new enterprise role.
                           </p>
                           <p>The <span class="bold">Create Enterprise Role</span> page appears.
                           </p>
                        </li>
                        <li>
                           <p>Enter a name for the enterprise role in the <span class="bold">Name</span> field. Click <span class="bold">Continue</span>.
                           </p>
                           <p>The new role is displayed in the Configure Domain page. </p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-B0123802-372D-4F29-98A3-81C19AC6786F">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="getting-started-with-enterprise-user-security.html#GUID-86219ABB-1E28-4206-A847-F9366A679785">Using Enterprise Roles</a>"</span>  for an example on creating and using enterprise roles
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1009695">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-A1CE70E0-34A8-4A5E-BA2C-3B99F93054DC">Task 4: Add Global Database Roles to Enterprise Roles</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Use Enterprise Manager to add the global database roles that you created in Task 1 to the enterprise roles that you created in Task 3 by using the following steps:</p>
                     <ol>
                        <li>
                           <p>Select the enterprise role that you just created in the Configure Domain page. Click <span class="bold">Edit</span>.
                           </p>
                           <p> The Edit Enterprise Role page is displayed.</p>
                        </li>
                        <li>
                           <p>Make sure that the <span class="bold">DB Global Roles</span> tab is selected. Click <span class="bold">Add</span> to add global roles from databases that are part of the enterprise domain.
                           </p>
                           <p>The Search and Select Database Global Roles page appears. </p>
                        </li>
                        <li>
                           <p>Select the <span class="bold">Database</span> that contains the global roles you wish to add. Log in to the selected database by supplying a <span class="bold">User Name</span> and <span class="bold">Password</span>. Click <span class="bold">Go</span>.
                           </p>
                        </li>
                        <li>
                           <p>Select the global roles to add. Click <span class="bold">Select</span>.
                           </p>
                           <p>The selected roles appear in the Edit Enterprise Role page. </p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-43CC9F91-765B-4874-96CB-C01564F31234">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="getting-started-with-enterprise-user-security.html#GUID-86219ABB-1E28-4206-A847-F9366A679785">Using Enterprise Roles</a>"</span>  for an example on creating and using enterprise roles
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__I1009700">
                     <p class="subhead2" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-054398D7-DD34-4D11-9157-12AE30025BB5">Task 5: Grant Enterprise Roles to Enterprise Users for Database Access</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Use Enterprise Manager to grant enterprise roles that you created in Task 3 to the enterprise users by using the following steps:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Click the <span class="bold">Grantees</span> tab in the Edit Enterprise Role page.</span></li>
                     <li class="stepexpand"><span>Click <span class="bold">Add</span>.</span><div>
                           <p>The Select Users or Groups page is displayed.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Select the <span class="bold">Search Base</span> or the subtree that contains the user or group. Select User under <span class="bold">View</span> if you are granting the enterprise role to a user. Select Group under <span class="bold">View</span>, if you are granting the role to a group. Optionally, enter the common name of the user or group in the <span class="bold">Name</span> field. Click <span class="bold">Go</span>.</span></li>
                     <li class="stepexpand"><span>Select the users or groups to be granted the enterprise role. Click <span class="bold">Select</span>.</span></li>
                     <li class="stepexpand"><span>Click <span class="bold">Continue</span> in the Edit Enterprise Role page.</span></li>
                     <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure Domain page.</span></li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352__GUID-E41874B6-50DE-40A2-B64B-11A2271A559E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="getting-started-with-enterprise-user-security.html#GUID-86219ABB-1E28-4206-A847-F9366A679785">Using Enterprise Roles</a>"</span>  for an example on creating and using enterprise roles
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="DBIMI259"></a><div class="props_rev_3"><a id="GUID-80ED2984-6B82-4E8E-A21B-3C853455B412" name="GUID-80ED2984-6B82-4E8E-A21B-3C853455B412"></a><h3 id="DBIMI-GUID-80ED2984-6B82-4E8E-A21B-3C853455B412" class="sect3">Configure Enterprise User Security for the Authentication Method You Require (Phase Three)</h3>
               <div>
                  <div class="p">In the third phase, you complete the Enterprise User Security configuration based on the authentication method you have chosen. Go to one of the following sections:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5">Configuring Enterprise User Security for Password Authentication</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F">Configuring Enterprise User Security for Kerberos Authentication</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199">Configuring Enterprise User Security for SSL Authentication</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-80ED2984-6B82-4E8E-A21B-3C853455B412__GUID-B255CF6E-6270-4B8C-A68B-02D076A24EB9">
                     <p class="notep1">See Also:</p>
                     <p><a href="introducing-enterprise-user-security.html#GUID-7145F4E9-20A7-4387-8D2C-BA0B894071F6__CHDFEJBG" title="This table has 3 columns and lists the benefits provided by the three available enterprise user security authentication methods: column 1 is password authentication, column 2 is SSL authentication, and column 3 is Kerberos authentication. You can use this information to select the appropriate authentication method for your implementation.">Table 1-1</a> for a comparison of the benefits provided by password, Kerberos, and SSL authentication for Enterprise User Security
                     </p>
                  </div>
               </div><a id="DBIMI592"></a><a id="DBIMI593"></a><a id="DBIMI122"></a><div class="props_rev_3"><a id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5" name="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5"></a><h4 id="DBIMI-GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5" class="sect4">Configuring Enterprise User Security for Password Authentication</h4>
                  <div>
                     <div class="section">
                        <p>By default, new enterprise domains are configured to accept all supported user authentication types (password, Kerberos, and SSL). If you want enterprise users to be authenticated by passwords, then you must configure that as described in the following tasks.</p>
                        <p>The configuration steps in this section assume the following:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You have prepared your directory by completing the tasks described in <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">Preparing the Directory for Enterprise User Security (Phase One)</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>You have configured your Enterprise User Security objects in the database and the directory by completing the tasks described in <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">Configuring Enterprise User Security Objects in the Database and the Directory (Phase Two)</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>You have configured an SSL instance with no authentication for Oracle Internet Directory as described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG008" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a>. If you are using an <code class="codeph">ldap.ora</code> file, then also ensure that the port number for this SSL with no authentication instance is listed there as your directory SSL port.
                              </p>
                           </li>
                        </ul>
                        <p>To configure Enterprise User Security for password authentication, perform the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__I1009712">Task 1: (Optional) Enable the Enterprise Domain to Accept Password Authentication</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__I1009722">Task 2: Connect as a Password-Authenticated Enterprise User</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__I1009712">
                        <p class="subhead3" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__GUID-AF718EDD-ED55-4EBA-AA9B-3362664E09AE">Task 1: (Optional) Enable the Enterprise Domain to Accept Password Authentication</p>
                        <p>By default, OracleDefaultDomain is configured to accept password authentication. If this has been changed, then use Oracle Enterprise Manager to enable password authentication for OracleDefaultDomain using the following steps: </p>
                        <ol>
                           <li>Log in to Enterprise Manager Cloud Control, as an administrative user.</li>
                           <li>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.
                           </li>
                           <li>Click the database name in the list that appears. The database page appears.</li>
                           <li>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.
                           </li>
                           <li>
                              <p>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.
                              </p> 
                              <p>The Enterprise User Security page appears.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Manage Enterprise Domains</span>.
                              </p> 
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </li>
                           <li>
                              <p>Select <span class="bold">OracleDefaultDomain</span>. Click <span class="bold">Configure</span>.
                              </p> 
                              <p>The Configure Domain page appears. </p>
                           </li>
                           <li>Click the <span class="bold">Configuration</span> tab. 
                           </li>
                           <li>Under User Authentication Types Accepted, select <span class="bold">Password</span>.
                           </li>
                           <li>Click <span class="bold">OK</span>.
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__I1009722">
                        <p class="subhead3" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__GUID-E0B8C9D3-2431-4B38-AEBF-C03E8C9B6DA3">Task 2: Connect as a Password-Authenticated Enterprise User</p>
                        <p>For an enterprise user whose directory login name is <code class="codeph">hscortea</code> and whose password is <code class="codeph">Easy2rem</code>, enter the following to connect to the database by using SQL*Plus:
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; connect hscortea@&lt;<span class="variable" translate="no">Oracle Net Service Name</span>&gt;
Enter password:
/* Enter Easy2rem when prompted for the password*/
</pre><p>The database authenticates the enterprise user (<code class="codeph">hscortea</code>) by verifying the username-password combination against the directory entry associated with this user. Then, it identifies the proper schema and retrieves the user's global roles. If successful, then the connection to the database is established.
                        </p>
                        <p>If your connection succeeds, then the system responds <code class="codeph">Connected to:...</code>. This is the confirmation message of a successful connect and setup. If an error message is displayed, then see <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919">ORA-n Errors for Password-Authenticated Enterprise Users</a>"</span>.
                        </p>
                        <p>If you do connect successfully, then check that the appropriate global roles were retrieved from the directory, by entering the following at the SQL*Plus prompt:</p><pre class="oac_no_warn" dir="ltr">select * from session_roles
</pre><p>If the global roles were not retrieved from the directory, then see <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-3EF6F46A-8E91-42BA-844C-E316BB395710">NO-GLOBAL-ROLES Checklist</a>"</span>.
                        </p>
                        <p>You have completed password-authenticated Enterprise User Security configuration.</p>
                        <div class="infoboxnotealso" id="GUID-D5E8895D-F6F0-45FD-A4B3-265E16A543B5__GUID-CA6B6287-5EB8-47F1-8C5A-FF68E83D65CE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC">Troubleshooting Enterprise User Security</a>"</span> for information about diagnosing and resolving errors
                                 </p>
                              </li>
                              <li>
                                 <p><a href="administering-enterprise-user-security.html#GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7">Administering Enterprise User Security</a> for information about configuring the identity management realm, and about creating and managing enterprise domains, enterprise roles, and enterprise users
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI594"></a><a id="DBIMI595"></a><a id="DBIMI596"></a><a id="DBIMI597"></a><a id="DBIMI598"></a><a id="DBIMI123"></a><div class="props_rev_3"><a id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F" name="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F"></a><h4 id="DBIMI-GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F" class="sect4">Configuring Enterprise User Security for Kerberos Authentication</h4>
                  <div>
                     <div class="section">
                        <p>The configuration steps in this section assume the following:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You have registered your databases with the Kerberos authentication server and configured your Oracle Net Services as described in information about configuring Kerberos authentication in <a href="../dbseg/configuring-kerberos-authentication.html#DBSEG060" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a>.
                              </p>
                           </li>
                           <li>
                              <p>You have prepared your directory by completing the tasks described in <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">Preparing the Directory for Enterprise User Security (Phase One)</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>You have configured your Enterprise User Security objects in the database and the directory by completing the tasks described in <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">Configuring Enterprise User Security Objects in the Database and the Directory (Phase Two)</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>You have configured an SSL instance with no authentication for Oracle Internet Directory as described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG075" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a>. If you are using an <code class="codeph">ldap.ora</code>, then also ensure that the port number for this SSL with no authentication instance is listed there as your directory SSL port.
                              </p>
                           </li>
                        </ul>
                        <p>To configure Enterprise User Security for Kerberos authentication, perform the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009790">Task 1: Configure Oracle Internet Directory Self-Service Console to display the Kerberos principal name attribute</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009795">Task 2: (Optional) Configure the Kerberos Principal Name Directory Attribute for the Identity Management Realm</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009800">Task 3: Specify the Enterprise User's Kerberos Principal Name in the krbPrincipalName Attribute</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009805">Task 4: (Optional) Enable the Enterprise Domain to Accept Kerberos Authentication</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009810">Task 5: Connect as a Kerberos-Authenticated Enterprise User</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009790">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-229A2499-392C-4A7E-9970-FEC34EFDB056">Task 1: Configure Oracle Internet Directory Self-Service Console to display the Kerberos principal name attribute</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>By default, the Oracle Internet Directory Self-Service Console user interface does not display the field where you can configure Kerberos principal names. The first time you create Kerberos-authenticated users in the directory, you must configure this tool to display the <code class="codeph">krbPrincipalName</code> attribute in its Create User page by using the following steps:
                        </p>
                        <ol>
                           <li>
                              <p>Log in to the Oracle Internet Directory Self-Service Console. </p>
                              <p>Enter the URL to access the Oracle Internet Directory Self-Service Console in a browser window. For example:</p><pre class="oac_no_warn" dir="ltr">http://myhost1:7777/oiddas
</pre><p>Log in as the <code class="codeph">orcladmin</code> user.
                              </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Configuration</span> tab. Click the <span class="bold">User Entry</span> subtab.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Next</span> until the Configure User Attributes page appears.
                              </p>
                           </li>
                           <li>
                              <p>In the Configure User Attributes page, click <span class="bold">Add New Attribute</span>.
                              </p>
                              <p>The Add New Attribute page appears.</p>
                           </li>
                           <li>
                              <p>In the Add New Attribute page, select <span class="bold">krbPrincipalName</span> from the <span class="bold">Directory Attribute Name</span> box (or the attribute that you have configured for <code class="codeph">orclCommonKrbPrincipalAttribute</code> in your identity management realm) and perform the following steps on this page:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Enter a value, say Kerberos Principal Name, for the <span class="bold">UI Label</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Searchable</span> and <span class="bold">Viewable</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Select <span class="bold">Single Line Text</span> from the <span class="bold">UI Type</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click<span class="bold">Done</span>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Click <span class="bold">Next</span> to navigate to the Configure Attribute Categories page. Select <span class="bold">Basic Information</span> and click <span class="bold">Edit</span>.
                              </p>
                              <p>The Edit Category page appears. </p>
                           </li>
                           <li>
                              <p>Perform the following steps on the <span class="bold">Edit Category</span> page:
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Select <span class="bold">krbPrincipalName</span> in the left category list.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Move,</span> to move <span class="bold">krbPrincipalName</span> to the right-hand list.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Click <span class="bold">Done</span>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Click <span class="bold">Next</span> until you reach the last step. Click <span class="bold">Finish</span> to save your work.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009795">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-6F05501E-9DB9-47C1-B98D-35048A974396">Task 2: (Optional) Configure the Kerberos Principal Name Directory Attribute for the Identity Management Realm</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use Oracle Internet Directory Self-Service Console to enter the directory attribute used to store the Kerberos principal name for the identity management realm you are using in the directory. By default, Kerberos principal names are stored in the <code class="codeph">krbPrincipalName</code> attribute but can be changed to correspond to your directory configuration by changing <code class="codeph">orclCommonKrbPrincipalAttribute</code> in the identity management realm. For more information about this task, see <span class="q">"<a href="administering-enterprise-user-security.html#GUID-CE2E1AE1-D6FB-40D2-AEAB-125A163F8CCA">Setting Login Name, Kerberos Principal Name, User Search Base, and Group Search Base Identity Management Realm Attributes</a>"</span>.
                        </p>
                        <div class="infoboxnote" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-CFDB7342-2565-4C63-B215-A863148E384F">
                           <p class="notep1">Note:</p>
                           <p>By default, the Oracle Internet Directory Self-Service Console user interface does not display the field where you can configure Kerberos principal names. The first time you create Kerberos-authenticated users in the directory, you must configure the console to display the <code class="codeph">krbPrincipalName</code> attribute in its Create User window.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009800">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-23C4E80A-B621-43AC-93D8-8A3212B7832D">Task 3: Specify the Enterprise User's Kerberos Principal Name in the krbPrincipalName Attribute</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use Oracle Internet Directory Self-Service Console to specify the enterprise user's Kerberos principal name (<code class="codeph">Kerberos_username@Kerberos_realm</code>) in the <code class="codeph">krbPrincipalName</code> attribute of the enterprise user's directory entry. For more information about this task, see <span class="q">"<a href="administering-enterprise-user-security.html#GUID-250B15FC-6A53-4688-9A56-8B08D030EA46">Creating New Enterprise Users</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009805">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-BCAB6924-A44C-493E-8528-B0777C26D441">Task 4: (Optional) Enable the Enterprise Domain to Accept Kerberos Authentication</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>By default, OracleDefaultDomain is configured to accept all types of authentication. If this has been changed or if you are using another domain, then use Oracle Enterprise Manager to enable Kerberos authentication for your enterprise domain by performing the following steps:</p>
                        <ol>
                           <li>
                              <p>Log in to Enterprise Manager Cloud Control, as an administrative user.</p>
                           </li>
                           <li>
                              <p>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.
                              </p>
                           </li>
                           <li>
                              <p>Click the database name in the list that appears. The database page appears.</p>
                           </li>
                           <li>
                              <p>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.
                              </p>
                           </li>
                           <li>
                              <p>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.
                              </p>
                              <p>The Enterprise User Security page appears.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Manage Enterprise Domains</span>.
                              </p>
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </li>
                           <li>
                              <p>Select <span class="bold">OracleDefaultDomain</span>. Click <span class="bold">Configure</span>.
                              </p>
                              <p>The Configure Domain page appears. </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Configuration</span> tab. 
                              </p>
                           </li>
                           <li>
                              <p>Under User Authentication Types Accepted, select <span class="bold">Kerberos</span>.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">OK</span>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009810">
                        <p class="subhead3" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-4D354E58-D033-4BF3-8D70-4E031EEE5D5C">Task 5: Connect as a Kerberos-Authenticated Enterprise User</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If the <a href="glossary.html#GUID-83AB2E95-0933-4F3E-B475-E9AA76C0575C"><span class="xrefglossterm">KDC</span></a> is not part of the operating system, such as Kerberos V5 from MIT, then the user must get an initial ticket with the <code class="codeph">FORWARDABLE</code> flag set by using the <code class="codeph">okinit</code> utility. See <a href="../dbseg/configuring-kerberos-authentication.html#DBSEG062" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for information about obtaining the initial ticket with the <code class="codeph">okinit</code> Utility.
                        </p>
                        <p>If the KDC is part of the operating system, such as Windows 2000 or some versions of Linux or UNIX, then the operating system automatically picks up the user's ticket (with the <code class="codeph">FORWARDABLE</code> flag set) from the cache when the user logs in.
                        </p>
                        <p>The user connects to the database by launching SQL*Plus and entering the following at the command line:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; connect /@&lt;net_service_name&gt;
</pre><p>The database uses Kerberos to authenticate the user. The database authenticates itself to the directory by password.</p>
                        <p>If your connection succeeds, then the system responds with <code class="codeph">Connected to:...</code>. This is the confirmation message of a successful connect and setup. If an error message is displayed, then see <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-E206A3C8-96DA-4F40-9137-452B055AF922">ORA-n Errors for Kerberos-Authenticated Enterprise Users</a>"</span>.
                        </p>
                        <p>If you do connect successfully, then check that the appropriate global roles were retrieved from the directory, by entering the following at the SQL*Plus prompt:</p><pre class="oac_no_warn" dir="ltr">select * from session_roles
</pre><p>If the global roles were not retrieved from the directory, then see <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-3EF6F46A-8E91-42BA-844C-E316BB395710">NO-GLOBAL-ROLES Checklist</a>"</span>.
                        </p>
                        <p>You have completed Kerberos-authenticated Enterprise User Security configuration.</p>
                        <div class="infoboxnotealso" id="GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__GUID-565777F8-1F61-44BB-8D9A-5875DD54E7AF">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC">Troubleshooting Enterprise User Security</a>"</span> for information about diagnosing and resolving errors
                                 </p>
                              </li>
                              <li>
                                 <p><a href="administering-enterprise-user-security.html#GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7">Administering Enterprise User Security</a> for information about configuring the identity management realm, and information about creating and managing enterprise domains, enterprise roles, and enterprise users
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI599"></a><a id="DBIMI600"></a><a id="DBIMI601"></a><a id="DBIMI602"></a><a id="DBIMI260"></a><div class="props_rev_3"><a id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199" name="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199"></a><h4 id="DBIMI-GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199" class="sect4">Configuring Enterprise User Security for SSL Authentication</h4>
                  <div>
                     <div class="section">
                        <p>The configuration steps in this section assume the following:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You have obtained the appropriate PKI credentials and used Oracle Wallet Manager to create wallets for the directories, databases, and clients that you want to include in your Enterprise User Security implementation.</p>
                           </li>
                           <li>
                              <p>You have confirmed that each enterprise user entry in Oracle Internet Directory is provisioned with a unique PKI credential. However, in this release an enterprise user can have different DNs in his or her PKI certificate and Oracle Internet Directory entry. Also in this release, the database entry can have different DNs in its PKI certificate and Oracle Internet Directory entry.</p>
                              <p>You must provision user certificates in their respective Oracle Internet Directory user entries in order to support using different DNs in the certificate and the directory. A user certificate is provisioned in to the <code class="codeph">usercertificate</code> attribute of the user entry. If you prefer not to provision the certificates, then you must make sure that the subject DNs in the certificates match the user DNs in the directory.
                              </p>
                              <p>Oracle Internet Directory 10<span class="italic">g</span> Release2 (10.1.2) includes certificate matching rules to support the new functionality of being able to use different DNs in the certificate and the directory. The <code class="codeph">orclpkimatchingrule</code> attribute in Oracle Internet Directory determines the type of match that is used. 
                              </p>
                              <p>The default value of <code class="codeph">orclpkimatchingrule</code> is 2. This enables you to support both provisioned and non-provisioned user entries. The database finds out a user's Oracle Internet Directory DN based on a search for the user's certificate provisioned in the directory. If the certificate search fails, then the database reverts to using an exact match between the user's certificate DN and his or her Oracle Internet Directory DN. 
                              </p>
                              <p>If all users have certificates provisioned in Oracle Internet Directory, then you can set the <code class="codeph">orclpkimatchingrule</code> to 1. This instructs Oracle Internet Directory to always conduct a certificate search. For instance, if your certificate authority does not support two common names in certificate DNs but the directory DNs are using two common names, then you would need to provision all user certificates into the directory. You can then set the <code class="codeph">orclpkimatchingrule</code> to 1. 
                              </p>
                              <p>If you do not want to support the functionality of using different DNs in the PKI certificate and Oracle Internet Directory, then you can set the <code class="codeph">orclpkimatchingrule</code> value to 0. You use this setting if all certificate DNs match directory DNs and you do not wish to provision the certificates.
                              </p>
                              <p>You can also create your own mapping rules to map certificate DNs to directory DNs in Oracle Internet Directory 10g Release 2 (10.1.2.0.2). To use mapping rules, <code class="codeph">orclpkimatchingrule</code> is set to 3 or 4. 
                              </p>
                              <p>When you want to use the mapping rule for all users, set <code class="codeph">orclpkimatchingrule</code> to 3. If you also need to support certificate-based search and exact match, then set <code class="codeph">orclpkimatchingrule</code> to 4.
                              </p>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__CHDCEJEB" title="This tables has 2 columns and lists the values that can be assigned to the orclpkimatchingrule attribute in Oracle Internet Directory. Column 1 is the value and column 2 is the matching rule.">Table 4-2</a> describes the values of the <code class="codeph">orclpkimatchingrule</code> attribute.
                              </p>
                              <div class="tblformal" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__CHDCEJEB">
                                 <p class="titleintable">Table 4-2 Oracle Internet Directory Matching Rules</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Internet Directory Matching Rules" summary="This tables has 2 columns and lists the values that can be assigned to the orclpkimatchingrule attribute in Oracle Internet Directory. Column 1 is the value and column 2 is the matching rule." width="90%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="36%" id="d14512e2991">Value</th>
                                          <th align="left" valign="bottom" width="64%" id="d14512e2994">Rule</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e2999" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule=0</code></p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e2999 d14512e2994 ">
                                             <p>Exact match. The bind is based on the subject DN of the client certificate. This DN is compared with the DN of the user in the directory.</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e3007" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule=1</code></p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e3007 d14512e2994 ">
                                             <p>Certificate hash. The bind is based on the hashed value of the certificate.</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e3015" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule=2</code></p>
                                             <p>(default)</p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e3015 d14512e2994 ">
                                             <p>Certificate hash/exact match. The bind is based on the hashed value of the certificate. If this operation fails, then a bind based on the subject DN of the client certificate is performed.</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e3025" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule=3</code></p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e3025 d14512e2994 ">
                                             <p>Mapping rule only.</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="36%" id="d14512e3033" headers="d14512e2991 ">
                                             <p><code class="codeph">orclpkimatchingrule=4</code></p>
                                          </td>
                                          <td align="left" valign="top" width="64%" headers="d14512e3033 d14512e2994 ">
                                             <p>Mapping rule/certificate hash/exact match. The bind is based on the mapping rule. If this operation fails, a bind based on the hashed value of the certificate is performed. If this operation fails, then a bind based on an exact match of the certificate is performed. </p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <div class="infoboxnote" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-0400C6B9-B9D0-445E-8871-9A2000862C57">
                                 <p class="notep1">Note:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG2561" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIMUR0801" target="_blank"><span class="italic">Oracle Fusion Middleware Reference for Oracle Identity Management</span></a> for information on how to modify the <code class="codeph">orclpkimatchingrule</code> attribute
                                 </p>
                              </div>
                              <div class="infoboxnote" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-8987C2E5-C215-4B4D-8993-C049991FE651">
                                 <p class="notep1">Note:</p>
                                 <p>A certificate search will fail if there is no user entry under the realm's user search base with that certificate, or if you are using an older version of Oracle Internet Directory that does not support the certificate search functionality. If the certificate search fails, then the database will revert to the old behavior of matching the user DN with the certificate DN for a successful connection. </p>
                              </div>
                           </li>
                           <li>
                              <p>You have enabled SSL for your client-database Oracle Net connections as described in <a href="../dbseg/configuring-secure-sockets-layer-authentication.html#DBSEG074" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for information about enabling SSL. Ensure that you included the following steps when you enabled SSL:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Enabled SSL for your database listener on <code class="codeph">TCPS</code> and provided a corresponding TNS name
                                    </p>
                                 </li>
                                 <li>
                                    <p>Stored your database PKI credentials in the database wallet that Database Configuration Assistant automatically created during database registration</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>You have configured an SSL instance with two-way authentication for Oracle Internet Directory as described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG008" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a>.
                              </p>
                           </li>
                           <li>
                              <p>You have prepared your directory by completing the tasks described in <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-03E997DC-1402-4A99-8E2F-CD0EA94AA25F">Preparing the Directory for Enterprise User Security (Phase One)</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>You have configured your Enterprise User Security objects in the database and the directory by completing the tasks described in <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-835DB1B7-0AFE-42C2-9110-5F4502C68352">Configuring Enterprise User Security Objects in the Database and the Directory (Phase Two)</a>"</span>.
                              </p>
                           </li>
                        </ul>
                        <p>To configure Enterprise User Security for SSL authentication, perform the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009819">Task 1: Enable the Enterprise Domain to Accept SSL Authentication</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009824">Task 2: Set the LDAP_DIRECTORY_ACCESS Initialization Parameter to SSL</a></p>
                           </li>
                           <li>
                              <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009829">Task 3: Connect as an SSL-Authenticated Enterprise User</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009819">
                        <p class="subhead3" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-040A5007-2FC5-4E78-B1CC-31FF1E11C245">Task 1: Enable the Enterprise Domain to Accept SSL Authentication</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>By default, OracleDefaultDomain is configured to accept all types of authentication. If this has been changed or if you are using another domain, then use Oracle Enterprise Manager to enable SSL authentication for your enterprise domain by performing the following steps:</p>
                        <ol>
                           <li>
                              <p>Log in to Enterprise Manager Cloud Control, as an administrative user.</p>
                           </li>
                           <li>
                              <p>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.
                              </p>
                           </li>
                           <li>
                              <p>Click the database name in the list that appears. The database page appears.</p>
                           </li>
                           <li>
                              <p>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.
                              </p>
                           </li>
                           <li>
                              <p>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.
                              </p>
                              <p>The Enterprise User Security page appears.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Manage Enterprise Domains</span>.
                              </p>
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </li>
                           <li>
                              <p>Select <span class="bold">OracleDefaultDomain</span>. Click <span class="bold">Configure</span>.
                              </p>
                              <p>The Configure Domain page appears. </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Configuration</span> tab. 
                              </p>
                           </li>
                           <li>
                              <p>Under User Authentication Types Accepted, select <span class="bold">SSL</span>.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">OK</span>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009824">
                        <p class="subhead3" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-9F29EA77-2520-4492-9D76-4DBF913A7FFD">Task 2: Set the LDAP_DIRECTORY_ACCESS Initialization Parameter to SSL</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>You can change this initialization parameter either by editing your database initialization parameter file or by issuing an <code class="codeph">ALTER SYSTEM</code> SQL command with the <code class="codeph">SET</code> clause.
                        </p>
                        <p>For example, the following <code class="codeph">ALTER SYSTEM</code> command changes the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> parameter value to <code class="codeph">SSL</code> in the server parameter file:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LDAP_DIRECTORY_ACCESS=SSL SCOPE=SPFILE</pre><div class="infoboxnotealso" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-D5409CB0-9B89-4153-9B14-4F712C0D936B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about editing initialization parameters
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/changing-parameter-values-in-a-parameter-file.html#REFRN00102" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> initialization parameter
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about using the <code class="codeph">ALTER SYSTEM</code> command with the <code class="codeph">SET</code> clause
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__I1009829">
                        <p class="subhead3" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-782577F8-644B-4EF4-A782-901C510C3375">Task 3: Connect as an SSL-Authenticated Enterprise User</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Connecting as an SSL-authenticated enterprise user involves ensuring that you have the appropriate Oracle wallet features configured and that you do not have a wallet location specified in the client <code class="codeph">sqlnet.ora</code> file. If the client <code class="codeph">sqlnet.ora</code> file contains a wallet location, then multiple users and databases cannot share that file. Only the server <code class="codeph">sqlnet.ora</code> file must have a value for the wallet location parameter.
                        </p>
                        <div class="infoboxnotealso" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-009055BB-1011-4701-8122-749CAEFBEC6E">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="using-oracle-wallet-manager.html#GUID-16134D08-3155-4610-A22C-96A9F36874DA">Saving an Oracle Wallet to the System Default Directory Location</a>"</span> for the default location of a user's wallet when the authentication used between the user and the database is SSL
                           </p>
                        </div>
                        <p>To connect as an SSL-authentication enterprise user, perform the following steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Use Oracle Wallet Manager to download a user wallet from the directory. See <span class="q">"<a href="using-oracle-wallet-manager.html#GUID-8D08EBD8-6AEB-43D9-AC20-7613082F50F4">Downloading an Oracle Wallet from an LDAP Directory</a>"</span>.</span></li>
                        <li class="stepexpand"><span>Use Oracle Wallet Manager to enable autologin for the user wallet. Enabling autologin generates a single sign-on (<code class="codeph">.sso</code>) file and enables authentication to the SSL adapter. See <span class="q">"<a href="using-oracle-wallet-manager.html#GUID-C327BEC9-C5AC-4CC0-B8F4-680C0824F31C">Using Auto Login for Oracle Wallets to Enable Access Without Human Intervention</a>"</span> for information about using the autologin feature of Oracle Wallet Manager.</span></li>
                        <li class="stepexpand"><span>Set the <code class="codeph">TNS_ADMIN</code> environment variable (to point to the client's <code class="codeph">sqlnet.ora</code> file) for the client if the client Oracle home points to a server Oracle home. (Because a server must have a wallet location set in its <code class="codeph">sqlnet.ora</code> file and a client cannot have a wallet location specified there, the server and client cannot share <code class="codeph">sqlnet.ora</code> files.)</span><div>
                              <p>If you have a separate client Oracle home, then you do not need to set the <code class="codeph">TNS_ADMIN</code> environment variable.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Launch SQL*Plus and enter the following at the command line:</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; /@<span class="variable" translate="no">connect_identifier</span>
</pre><p>where <code class="codeph">connect_identifer</code> is the Oracle Net service name you set up when you configured SSL for the database client.
                              </p>
                              <p>If your connection succeeds, then the system responds with <code class="codeph">Connected to:...</code>. This is the confirmation message of a successful connect and setup. If an error message is displayed, then see <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-B2FE2454-450D-40AD-B165-93BCB151D655">ORA-n Errors for SSL-Authenticated Enterprise Users</a>"</span>.
                              </p>
                              <p>If you do connect successfully, then check that the appropriate global roles were retrieved from the directory, by entering the following at the SQL*Plus prompt:</p><pre class="oac_no_warn" dir="ltr">select * from session_roles
</pre><p>If the global roles were not retrieved from the directory, then see <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-3EF6F46A-8E91-42BA-844C-E316BB395710">NO-GLOBAL-ROLES Checklist</a>"</span>.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>You have completed SSL-authenticated Enterprise User Security configuration.</p>
                        <div class="infoboxnote" id="GUID-EB0012E1-DB03-4921-8E5B-9D58779B4199__GUID-3BCB69E0-7839-4C73-A0A2-A05DCCF3BBC4">
                           <p class="notep1">Note:</p>
                           <p>For security purposes, ensure that you disable auto login for the user wallet after logging out from the enterprise user session with the database. This is especially important if the client computer is shared by more than one user. See <span class="q">"<a href="using-oracle-wallet-manager.html#GUID-60513669-FCDD-4154-BE57-0D6DBF332054">Disabling Auto Login for Oracle Wallets</a>"</span> for information about using Oracle Wallet Manager to disable auto login for an Oracle wallet.
                           </p>
                        </div>
                        <p>This section includes the following topic: <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1">Viewing the Database DN in the Wallet and in the Directory</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBIMI261"></a><div class="props_rev_3"><a id="GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1" name="GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1"></a><h5 id="DBIMI-GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1" class="sect5">Viewing the Database DN in the Wallet and in the Directory</h5>
                     <div>
                        <div class="section">
                           <p>When you use Database Configuration Assistant to register your database in the directory, this tool automatically creates identical DNs for the database wallet and the database directory entry. To view the database DN, use one of the following options:</p>
                           <p>Use Oracle Directory Manager to look in the directory under the realm Oracle Context for </p>
                           <p><code class="codeph">cn=&lt;short_database_name&gt;,cn=OracleContext,&lt;</code><span class="italic"><code class="codeph">realm_DN</code></span><code class="codeph">&gt;</code> 
                           </p>
                           <p>where <span class="italic"><code class="codeph">short_database_name</code></span> is the first part of the fully qualified domain name for a database. For example, if you have a database named <code class="codeph">db1.us.example.com</code>, then the short database name is <code class="codeph">db1</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use the following <a id="d14512e3487" class="indexterm-anchor"></a><a id="d14512e3489" class="indexterm-anchor"></a><code class="codeph">mkstore</code> utility syntax on the command line:
                                 </p><pre class="oac_no_warn" dir="ltr">mkstore -wrl &lt;wallet_location&gt; -viewEntry ORACLE.SECURITY.DN
</pre><p>where <span class="italic"><code class="codeph">wallet_location</code></span> is the path to the database wallet.
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-0BA363B4-C30A-4BDF-8368-9F34C482A2B1__GUID-AD7A09AE-AC0B-41D9-8611-1A2BB3A41DCC">
                                    <p class="notep1">See Also:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC">Troubleshooting Enterprise User Security</a>"</span> for information about diagnosing and resolving errors
                                          </p>
                                       </li>
                                       <li>
                                          <p><a href="administering-enterprise-user-security.html#GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7">Administering Enterprise User Security</a> for information about configuring the identity management realm, and information about creating and managing enterprise domains, enterprise roles, and enterprise users
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="DBIMI262"></a><div class="props_rev_3"><a id="GUID-4799D4A6-D8E8-4D27-85D3-2930894D3C27" name="GUID-4799D4A6-D8E8-4D27-85D3-2930894D3C27"></a><h3 id="DBIMI-GUID-4799D4A6-D8E8-4D27-85D3-2930894D3C27" class="sect3">Enabling Current User Database Links</h3>
               <div>
                  <div class="section">
                     <p>Current user database links require SSL-enabled network connections between the databases. Before you can enable current user database links, you must enable SSL, create Oracle wallets, and obtain PKI credentials for all databases involved.</p>
                     <p>Then, use Oracle Enterprise Manager to enable current user database links between databases within the <a href="glossary.html#GUID-54BA3120-94F0-4B48-8A39-7B81DA675240"><span class="xrefglossterm">enterprise domain</span></a> in the directory by using the following steps:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                     <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                     <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                     <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                     <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                           <p>The Enterprise User Security page appears.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Click <span class="bold">Manage Enterprise Domains</span>.</span><div>
                           <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Select the enterprise domain that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                           <p>The Configure Domain page appears. </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Click the <span class="bold">Configuration</span> tab. </span></li>
                     <li class="stepexpand"><span>Select <span class="bold">Enable Current User Database Links in this domain</span>.</span></li>
                     <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span></li>
                  </ol>
               </div>
            </div><a id="DBIMI263"></a><div class="props_rev_3"><a id="GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC" name="GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC"></a><h3 id="DBIMI-GUID-6B65BBCB-40F0-4AF5-AF4A-72EA0E4DE8FC" class="sect3">Troubleshooting Enterprise User Security</h3>
               <div>
                  <div class="p">This section describes potential problems and associated corrective actions in the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919">ORA-n Errors for Password-Authenticated Enterprise Users</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-E206A3C8-96DA-4F40-9137-452B055AF922">ORA-n Errors for Kerberos-Authenticated Enterprise Users</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-B2FE2454-450D-40AD-B165-93BCB151D655">ORA-n Errors for SSL-Authenticated Enterprise Users</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-3EF6F46A-8E91-42BA-844C-E316BB395710">NO-GLOBAL-ROLES Checklist</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94">USER-SCHEMA ERROR Checklist</a></p>
                        </li>
                        <li>
                           <p><a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR Checklist</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBIMI264"></a><div class="props_rev_3"><a id="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919" name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919"></a><h4 id="DBIMI-GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919" class="sect4">ORA-n Errors for Password-Authenticated Enterprise Users</h4>
                  <div>
                     <div class="section">
                        <p>If you receive an ORA-n error while using password-authenticated Enterprise User Security, then locate the error in the following section and take the recommended action.</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-909AE5B6-49B7-4D71-B8EE-FE73A04B5A0A">
                                 <!-- --></a>ORA-1017: Invalid username/password; login denied
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> See <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94">USER-SCHEMA ERROR Checklist</a>"</span></p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__I1007866">
                                 <!-- --></a>ORA-28030: Server encountered problems accessing LDAP directory service
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> Indicates a problem with the connection between the database and the directory.
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check the following:
                              </p>
                              <ol>
                                 <li>
                                    <p>Check that the correct <code class="codeph">wallet_location</code> value is specified in the database's <code class="codeph">sqlnet.ora</code> file in case you are not using the default wallet location. You can use Oracle Net Manager to enter the wallet location. You do not need to specify a wallet location in the <code class="codeph">sqlnet.ora</code> file if the default wallet location is being used. If a wallet location is specified in the <code class="codeph">sqlnet.ora</code> file, then you must ensure that it is correct.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If Domain Name System (DNS) server discovery of Oracle Internet Directory is not used, check that there is a correct <code class="codeph">ldap.ora</code> file in <code class="codeph">$LDAP_ADMIN</code>, <code class="codeph">$ORACLE_HOME/ldap/admin</code>, <code class="codeph">$TNS_ADMIN</code>, or <code class="codeph">$ORACLE_HOME/network/admin</code>. (See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG2184" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for information about DNS server discovery.)
                                    </p>
                                 </li>
                                 <li>
                                    <p>Check that the SSL port used (by way of either DNS discovery or an <code class="codeph">ldap.ora</code> file) supports SSL with no authentication.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Check that the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> parameter is set to <code class="codeph">PASSWORD</code> in the database initialization parameters file.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use Database Configuration Assistant to reset the database password used to authenticate the database to Oracle Internet Directory. This resets it both locally in the database wallet, and remotely in the database entry in Oracle Internet Directory.</p>
                                 </li>
                                 <li>
                                    <p>Check that the database wallet has autologin enabled. Either use Oracle Wallet Manager or check that there is a <code class="codeph">cwallet.sso</code> file in <code class="codeph">$ORACLE_HOME/admin/&lt;ORACLE_SID&gt;/wallet/</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use the password stored in the database wallet to check that the database can bind to Oracle Internet Directory:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Use the <code class="codeph">mkstore</code> command-line utility to retrieve the database password from the wallet by using the following syntax:
                                          </p><pre class="oac_no_warn" dir="ltr">mkstore -wrl &lt;<span class="variable" translate="no">database wallet location</span>&gt; -viewEntry ORACLE.SECURITY.PASSWORD
</pre></li>
                                       <li>
                                          <p>Use the password returned from <code class="codeph">mkstore</code> in the following <code class="codeph">ldapbind</code>:
                                          </p><pre class="oac_no_warn" dir="ltr">ldapbind -h &lt;<span class="variable" translate="no">directory host</span>&gt; -p &lt;<span class="variable" translate="no">non-SSL directory port</span>&gt; -D "&lt;<span class="variable" translate="no">database DN</span>&gt;" -q
Please enter bind password: <span class="italic">Password returned by mkstore</span>
</pre></li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>Check to ensure that the database belongs to only one enterprise domain.</p>
                                    <div class="infoboxnote" id="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-5E4D4D4C-CDCF-446B-A821-65B25AC5A03B">
                                       <p class="notep1">Note:</p>
                                       <p>The <code class="codeph">mkstore</code> utility is for troubleshooting purposes only. The name and functionality of this tool may change in the future.
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-4DB46667-5CAE-4126-91CD-2E6AF1C04623">
                                 <!-- --></a>ORA-28043: Invalid bind credentials for DB/OID connection
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> The database directory password no longer synchronizes with the directory.
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Use the <span class="bold">Regenerate Password</span> button in Database Configuration Assistant to generate a new directory password for the database, synchronize it with the directory, and store it in the database wallet.
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__I1007889">
                                 <!-- --></a>ORA-28271: No permission to read user entry in LDAP directory service
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check the following:
                              </p>
                              <ol>
                                 <li>
                                    <p>Use Oracle Internet Directory Self-Service Console to check that a user search base containing this user is listed in the user search base attribute of the realm that you are using.</p>
                                 </li>
                                 <li>
                                    <p>Check the ACL on the User Search Base in Oracle Internet Directory to ensure that the <code class="codeph">verifierServices</code> group has read permission on the user entry, and that this permission is not prevented by an ACL between the User Search Base entry and the user entry in the directory tree.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Check that the enterprise domain is in the password-accessible domains group for that realm Oracle Context.</p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-8D0D0C53-C866-407C-BCC0-AC6F2092D4FC">
                                 <!-- --></a>ORA-28272: Domain policy restricts password-based GLOBAL user authentication.
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Use the Oracle Enterprise Manager interface to set the user authentication policy for this enterprise domain to <span class="bold">Password</span> or <span class="bold">ALL</span>.
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-458AC957-C594-4D2C-992D-2B2ADABA6EEA">
                                 <!-- --></a>ORA-28273: No mapping for user nickname to LDAP distinguished name exists
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check the following:
                              </p>
                              <ol>
                                 <li>
                                    <p>Check that a user entry exists in Oracle Internet Directory for your user.</p>
                                 </li>
                                 <li>
                                    <p>Use Oracle Internet Directory Self-Service Console to check that a user search base containing this user is listed in the identity management realm that you are using.</p>
                                 </li>
                                 <li>
                                    <p>Check that the user entry contains the correct login name:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Use Oracle Internet Directory Self-Service Console to find the login name attribute that is configured for the directory in your realm, and</p>
                                       </li>
                                       <li>
                                          <p>Check that the name provided during the attempted user database login is the value for that attribute in the user directory entry.</p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>If you have an exclusive schema for the global user in the database, then check that the DN in the database matches the DN of the user entry in Oracle Internet Directory.</p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-81EEA5AD-6EC9-42AB-B342-DA9E67C1A49A">
                                 <!-- --></a>ORA-28274: No ORACLE password attribute corresponding to user nickname exists
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check the following:
                              </p>
                              <ol>
                                 <li>
                                    <p>Check that the user entry in the directory has the <code class="codeph">orcluser</code> object class. If it does not, then perform the following steps:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Use Oracle Internet Directory Self-Service Console to check that the default object classes for new user creation include <code class="codeph">orcluser</code>, and then
                                          </p>
                                       </li>
                                       <li>
                                          <p>Use Oracle Internet Directory Self-Service Console to re-create the user, or</p>
                                       </li>
                                       <li>
                                          <p>Add the <code class="codeph">orcluser</code> and the <code class="codeph">orcluserV2</code> object classes.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>Check that there is a value for the attribute <code class="codeph">orclpassword</code> in the user entry. If there is no value, then reset the user's directory password (<code class="codeph">userpassword</code> attribute). This should prompt Oracle Internet Directory to regenerate the database password verifier for the user.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use Oracle Internet Directory Self-Service Console to check that the user search base containing this user is listed in the user search base attribute of the realm that you are using.</p>
                                 </li>
                                 <li>
                                    <p>Check that the ACL on the user search base attribute allows read and search access to the <code class="codeph">orclpassword</code> attributes by the <code class="codeph">verifierServices</code> group. This is set properly by default, but may have been altered.
                                    </p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-6ACDA55D-5281-47EA-9125-081C3B7ED5FA">
                                 <!-- --></a>ORA-28275: Multiple mappings for user nickname to LDAP distinguished name exist
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> There are multiple user DNs in the directory within the user search base whose login name for the user matches what was provided during the database connection.
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Use Oracle Internet Directory Self-Service Console to make the login name value unique (no two users share the same login name) within all user search bases associated with the realm Oracle Context.
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-F9A4D280-4626-4C55-93D6-3DE83EBE70F8">
                                 <!-- --></a>ORA-28277: LDAP search, while authenticating global user with passwords, failed
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check that the relevant directory instance is up and running.
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-DF07CFD8-9BF4-428A-9A93-FD9D1BD4D214">
                                 <!-- --></a>ORA-28278: No domain policy registered for password-based GLOBAL users
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> The database cannot read the enterprise domain information that it needs.
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> See <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR Checklist</a>"</span></p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__GUID-363CBACF-8C3C-4428-89CF-6483A4A9FF8D">
                                 <!-- --></a>ORA-28862: SSL connection failed
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check that you are using a non-SSL connect string.
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI265"></a><div class="props_rev_3"><a id="GUID-E206A3C8-96DA-4F40-9137-452B055AF922" name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922"></a><h4 id="DBIMI-GUID-E206A3C8-96DA-4F40-9137-452B055AF922" class="sect4">ORA-n Errors for Kerberos-Authenticated Enterprise Users</h4>
                  <div>
                     <div class="section">
                        <p>If you receive an ORA-n error while using Kerberos-authenticated Enterprise User Security, then locate the error in the following section and take the recommended action.</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-380AC4C5-8565-468D-9592-86FF2E3AD511">
                                 <!-- --></a>ORA-1017: Invalid username/password; login denied
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> See <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94">USER-SCHEMA ERROR Checklist</a>"</span></p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-03406C44-1A7A-44EA-82A2-205C17EFCF4A">
                                 <!-- --></a>ORA-28030: Problem accessing LDAP directory service
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> Indicates a problem with the connection between the database and the directory.
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> See the actions listed for resolving <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__I1007866">"ORA-28030: Server encountered problems accessing LDAP directory service"</a> in the troubleshooting section for password-authenticated enterprise users.
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-150FDE1F-F777-4E34-8B0A-206B689B9261">
                                 <!-- --></a>ORA-28271: No permission to read user entry in LDAP directory service
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> See the actions listed for resolving <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-13F9852F-1F73-4DCC-8494-595CE9E8F919__I1007889">"ORA-28271: No permission to read user entry in LDAP directory service"</a> in the troubleshooting section for password-authenticated enterprise users.
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-177CDD67-218F-4746-80CB-41588CF9BEAD">
                                 <!-- --></a>ORA-28292: No domain policy registered for Kerberos-based authentication
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Perform the following actions:
                              </p>
                              <ol>
                                 <li>
                                    <p>Use Oracle Enterprise Manager to set the user authentication policy for this enterprise domain to <span class="bold">KERBEROS</span> or <span class="bold">ALL</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>See <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR Checklist</a>"</span></p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-E7BE277D-0724-4190-8773-5BA0AFF21741">
                                 <!-- --></a>ORA-28290: Multiple entries found for the same Kerberos principal name
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> The Kerberos principal name for this user is not unique within the user search base containing this user.
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Use Oracle Internet Directory Self-Service Console to change the Kerberos principal name, or to change the other copies so that it is unique.
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-4B01A048-0E2A-45DB-9C33-35F92B6A81DF">
                                 <!-- --></a>ORA-28291: No Kerberos principal value found
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check the following:
                              </p>
                              <ol>
                                 <li>
                                    <p>Check that the user entry in the directory has the <code class="codeph">krbprincipalname</code> attribute.
                                    </p>
                                    <p>If it does not have the <code class="codeph">krbprincipalname</code> attribute, then check the following:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Check that the default attributes for new user creation by using Oracle Internet Directory Self-Service Console include <code class="codeph">krbprincipalname</code>, and then
                                          </p>
                                       </li>
                                       <li>
                                          <p>Use Oracle Internet Directory Self-Service Console to create the user again, or</p>
                                       </li>
                                       <li>
                                          <p>Add the <code class="codeph">orclcommonattributes</code> object class.
                                          </p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>Check that there is a value for the attribute <code class="codeph">krbprincipalname</code> in the user entry. If there is no value, then use Oracle Internet Directory Self-Service Console to enter one.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Use Oracle Internet Directory Self-Service Console to check that the user search base containing this user is listed in the realm Oracle Context that you are using.</p>
                                 </li>
                                 <li>
                                    <p>Check that the ACL on the user search base attribute allows read and search access to the <code class="codeph">krbprincipalname</code> attributes by the <code class="codeph">verifierServices</code> group. This is set properly by default, but may have been altered.
                                    </p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-1D08DB96-C67C-4C94-8802-F8A73366A9C2">
                                 <!-- --></a>ORA-28293: No matched Kerberos principal found in any user entry.
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check the following:
                              </p>
                              <ol>
                                 <li>
                                    <p>Check that a user entry exists in Oracle Internet Directory for your user.</p>
                                 </li>
                                 <li>
                                    <p>Use Oracle Internet Directory Self-Service Console or <code class="codeph">ldapsearch</code> to check that a user search base containing this user is listed in the identity management realm that you are using.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Check that the user entry in the directory contains the correct Kerberos principal name, by using the following steps:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Use Oracle Internet Directory Self-Service Console to find the Kerberos principal name attribute that is configured for the directory in your realm, and</p>
                                       </li>
                                       <li>
                                          <p>Check that the correct Kerberos principal name appears in that attribute in the user's directory entry.</p>
                                       </li>
                                    </ul>
                                 </li>
                                 <li>
                                    <p>If you have an exclusive schema for the global user in the database, check that the DN in the database matches the DN of the user entry in Oracle Internet Directory.</p>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-3FF0BBA1-20AC-4F7E-9F7A-79AEA57954E5">
                                 <!-- --></a>ORA-28300: No permission to read user entry in LDAP directory service
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check that the database wallet contains the correct credentials for the database-to-directory connection. The wallet DN should be the DN of the database in Oracle Internet Directory. To retrieve the credentials, perform the following steps:
                              </p>
                              <ol>
                                 <li>
                                    <p>Use the <code class="codeph">mkstore</code> command-line utility to retrieve the database password for the wallet by using the following syntax:
                                    </p><pre class="oac_no_warn" dir="ltr">mkstore -wrl &lt;<span class="variable" translate="no">database wallet location</span>&gt; -viewEntry ORACLE.SECURITY.PASSWORD -viewEntry ORACLE.SECURITY.DN
</pre></li>
                                 <li>
                                    <p>If these values are incorrect, reset the database wallet by using Database Configuration Assistant.</p>
                                 </li>
                                 <li>
                                    <p>Use the DN and the password returned by <code class="codeph">mkstore</code> in the following <code class="codeph">ldapbind</code>:
                                    </p><pre class="oac_no_warn" dir="ltr">ldapbind -h &lt;<span class="variable" translate="no">directory host</span>&gt; -p &lt;<span class="variable" translate="no">non-SSL directory port</span>&gt; -D "&lt;<span class="variable" translate="no">database DN</span>&gt;" -q
Please enter bind password: <span class="italic">Password returned by mkstore</span></pre><div class="infoboxnote" id="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-B3866FB7-BBBB-4162-B8B2-366A27D5A183">
                                       <p class="notep1">Note:</p>
                                       <p>The <code class="codeph">mkstore</code> utility is for troubleshooting purposes only. The name and functionality of this tool may change in the future.
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-E206A3C8-96DA-4F40-9137-452B055AF922__GUID-546EEB72-05EA-4749-9649-DDEB48539553">
                                 <!-- --></a>ORA-28302: User does not exist in the LDAP directory service
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check that the user entry is present in the directory.
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI266"></a><div class="props_rev_3"><a id="GUID-B2FE2454-450D-40AD-B165-93BCB151D655" name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655"></a><h4 id="DBIMI-GUID-B2FE2454-450D-40AD-B165-93BCB151D655" class="sect4">ORA-n Errors for SSL-Authenticated Enterprise Users</h4>
                  <div>
                     <div class="section">
                        <p>If you receive an ORA-n error while using SSL-authenticated Enterprise User Security, then locate the error in the following section and perform the recommended action.</p>
                        <dl class="1.00* 2.47* 1.53*">
                           <dt class="dlterm"><a name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-E3C54104-287C-4E92-AE41-2088C0DA6822">
                                 <!-- --></a>ORA-1017: Invalid username/password; login denied
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> See <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94">USER-SCHEMA ERROR Checklist</a>"</span></p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-2B8C5FF2-1573-4A81-93A3-0AA9CA024FAD">
                                 <!-- --></a>ORA-28030: Problem accessing LDAP directory service
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> Indicates a problem with the connection between the database and the directory.
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Check the following:
                              </p>
                              <ol>
                                 <li>
                                    <p>Check that there is a correct <code class="codeph">wallet_location</code> value in the database's <code class="codeph">sqlnet.ora</code> file. If not, then use Oracle Net Manager to enter one.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If Domain Name System (DNS) server discovery of Oracle Internet Directory is not used, then check that there is a correct <code class="codeph">ldap.ora</code> file in <code class="codeph">$LDAP_ADMIN</code>, <code class="codeph">$ORACLE_HOME/ldap/admin</code>, <code class="codeph">$TNS_ADMIN</code> or <code class="codeph">$ORACLE_HOME/network/admin</code>. (See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIDAG2184" target="_blank"><span class="italic">Oracle Fusion Middleware Administrator's Guide for Oracle Internet Directory</span></a> for information about DNS server discovery.)
                                    </p>
                                 </li>
                                 <li>
                                    <p>Check that the Oracle Internet Directory SSL port used (by way of DNS discovery or an <code class="codeph">ldap.ora</code> file) supports SSL with two-way authentication.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Check that the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> parameter is set to <code class="codeph">SSL</code> in the database initialization parameters file.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Check that the database wallet has autologin enabled. Either use Oracle Wallet Manager or check that there is a <code class="codeph">cwallet.sso</code> file in <code class="codeph">$ORACLE_HOME/admin/&lt;ORACLE_SID&gt;/wallet/.</code></p>
                                 </li>
                                 <li>
                                    <p>Use the <code class="codeph">mkstore</code> command-line utility to check that the database wallet has the database DN in it by using the following syntax:
                                    </p><pre class="oac_no_warn" dir="ltr">mkstore -wrl &lt;database_wallet_location&gt; -viewEntry ORACLE.SECURITY.DN
</pre><p>If the wallet does not contain the database DN, then use Database Configuration Assistant to reregister the database with Oracle Internet Directory.</p>
                                 </li>
                                 <li>
                                    <p>Check that the database can bind to Oracle Internet Directory, by using its wallet with the following <code class="codeph">ldapbind</code>:
                                    </p><pre class="oac_no_warn" dir="ltr">ldapbind -h &lt;<span class="variable" translate="no">directory_host</span>&gt; -p &lt;<span class="variable" translate="no">directory_SSLport</span>&gt; -U 3 -W "file:&lt;<span class="variable" translate="no">database wallet_location</span>&gt;" -Q
Please enter SSL wallet password: <span class="italic">wallet_password</span>
</pre></li>
                                 <li>
                                    <p>Check to ensure that the database belongs to only one enterprise domain.</p>
                                    <div class="infoboxnote" id="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-99143B20-D0AF-4420-BCC4-DA031039147F">
                                       <p class="notep1">Note:</p>
                                       <p>The <code class="codeph">mkstore</code> utility is for troubleshooting purposes only. The name and functionality of this tool may change in the future.
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-E0EE6D68-F4EB-4D63-ABE9-5D03252A85ED">
                                 <!-- --></a>ORA-28301: Domain policy has not been registered for SSL authentication
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> Use Oracle Enterprise Manager to set the user authentication policy for this enterprise domain to include SSL.
                              </p>
                           </dd>
                           <dt class="dlterm"><a name="GUID-B2FE2454-450D-40AD-B165-93BCB151D655__GUID-FE0DA396-FB00-4631-8DD6-5F96DF15BE06">
                                 <!-- --></a>ORA-28862: SSL handshake failed
                           </dt>
                           <dd>
                              <p><span class="keyword">Cause:</span> As in error message
                              </p>
                           </dd>
                           <dd class="ddexpand">
                              <p><span class="keyword">Action:</span> See the SSL (Secure Sockets Layer) chapter in <a href="../dbseg/configuring-secure-sockets-layer-authentication.html#DBSEG070" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for information about configuring your SSL connection.
                              </p>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI267"></a><div class="props_rev_3"><a id="GUID-3EF6F46A-8E91-42BA-844C-E316BB395710" name="GUID-3EF6F46A-8E91-42BA-844C-E316BB395710"></a><h4 id="DBIMI-GUID-3EF6F46A-8E91-42BA-844C-E316BB395710" class="sect4">NO-GLOBAL-ROLES Checklist</h4>
                  <div>
                     <div class="section">
                        <p>If the enterprise user can connect to the database but a <code class="codeph">select * from session_roles</code> returns no global roles, then check the following:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Check that the global role has been created in the database. To create global roles, use the following syntax:</span><div><pre class="oac_no_warn" dir="ltr">CREATE ROLE &lt;<span class="variable" translate="no">role_name</span>&gt; IDENTIFIED GLOBALLY;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Use Oracle Enterprise Manager to check that the global role is included in an enterprise role in the directory.</span></li>
                        <li class="stepexpand"><span>Use Oracle Enterprise Manager to check that the enterprise role is assigned to the user in the directory.</span></li>
                        <li class="stepexpand"><span>If these checks are fine, then see the <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR Checklist</a>"</span>.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI268"></a><div class="props_rev_3"><a id="GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94" name="GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94"></a><h4 id="DBIMI-GUID-7C274CD8-47AD-4201-A1C2-1729D1B5EB94" class="sect4">USER-SCHEMA ERROR Checklist</h4>
                  <div>
                     <div class="section">
                        <p>If your database cannot read the user schema, then check the following:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>If this is a globally authenticated administrative user who logged in as <code class="codeph">SYSDBA</code> to shut down the database, the database shuts down successfully followed by the <code class="codeph">ORA-01017: invalid username/password; logon denied</code> error, then ensure that the <code class="codeph">sqlnet.ora</code> is configured with the wallet location of the Database-OID wallet. An Administrative user login and database shutdown and startup operation using this login does happen gracefully when the <code class="codeph">sqlnet.ora</code> has the wallet location explicitly set to the directory where the Database-OID wallet file is present.</span></li>
                        <li class="stepexpand"><span>If this is an SSL-authenticated enterprise user, then ensure that the correct user wallet is being used by checking the following:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>There is no <code class="codeph">WALLET_LOCATION</code> parameter value in the client <code class="codeph">sqlnet.ora</code> file, and
                                    </p>
                                 </li>
                                 <li>
                                    <p>The <code class="codeph">TNS_ADMIN</code> parameter is set properly so that the correct <code class="codeph">sqlnet.ora</code> file is being used.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Check that the schema was created in the database as a global user, by using the following syntax:</span><div><pre class="oac_no_warn" dir="ltr">CREATE USER username IDENTIFIED GLOBALLY AS ' ';
</pre><p>or by using the following syntax:</p><pre class="oac_no_warn" dir="ltr">CREATE USER username IDENTIFIED GLOBALLY AS '&lt;DN&gt;';
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Suppose the following is true:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The user schema is an exclusive schema (created with the <code class="codeph">CREATE USER </code><span class="italic"><code class="codeph">username</code></span><code class="codeph"> IDENTIFIED GLOBALLY AS '</code><span class="italic"><code class="codeph">user_DN</code></span><code class="codeph">';</code> syntax), and
                                    </p>
                                 </li>
                                 <li>
                                    <p>This is an SSL-authenticated user.</p>
                                 </li>
                              </ul>
                              <p>Then, ensure that the DN in the user wallet matches the DN that was used in the <code class="codeph">CREATE USER</code> statement.
                              </p>
                              <p>Use Oracle Wallet Manager to view the DN in the user wallet.</p>
                              <p>Use the following syntax to view the DN that was used with the <code class="codeph">CREATE USER</code> statement:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT EXTERNAL_NAME FROM DBA_USERS WHERE USERNAME='<span class="italic">schema</span>';
</pre></div>
                        </li>
                        <li class="stepexpand"><span>If you are using a shared schema, then check the following:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use Oracle Enterprise Manager to ensure that you have created a user-schema mapping either for the entire enterprise domain or for the database.</p>
                                 </li>
                                 <li>
                                    <p>If the user-schema mapping is intended to apply to this database (not to the entire enterprise domain), then check that the database can read its own entry and subtree in the directory.</p>
                                    <p>To check this, enter the following <code class="codeph">ldapsearch</code> command for your database-to-directory connection type:
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>If the database connects to the directory over SSL, then use</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_SSLport</span> -U 3 -W "file:<span class="italic">database_wallet_path</span>" -Q -b "<span class="italic">database_DN</span>" "objectclass=*"
Please enter SSL wallet password: <span class="italic">wallet_password</span>
</pre><p>where <span class="italic"><code class="codeph">wallet_password</code></span> is the password to the wallet, which enables you to open or change the wallet.
                                          </p>
                                       </li>
                                       <li>
                                          <p>If the database connects to the directory by using password authentication, then use</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_port</span> -D <span class="variable" translate="no">database_DN</span> -q -b "<span class="italic">database_DN</span>" "objectclass=*"
Please enter bind password: <span class="italic">database_directory_password</span>
</pre><p>where <span class="italic"><code class="codeph">database_directory_password</code></span> is the database bind password returned by a utility like <code class="codeph">mkstore</code>.
                                          </p>
                                       </li>
                                    </ul>
                                    <p>You should see the database entry and the relevant mapping.</p>
                                 </li>
                                 <li>
                                    <p>If the user-schema mapping applies to the entire enterprise domain rather than to only this individual database, then see <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8">DOMAIN-READ-ERROR Checklist</a>"</span>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="DBIMI269"></a><div class="props_rev_3"><a id="GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8" name="GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8"></a><h4 id="DBIMI-GUID-DE65DA2A-A9D9-495D-86D1-6C6C72B1B3A8" class="sect4">DOMAIN-READ-ERROR Checklist</h4>
                  <div>
                     <div class="section">
                        <p>If your database cannot read its enterprise domain information in Oracle Internet Directory, then check the following:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Use Oracle Enterprise Manager to check that the database is a member of exactly one enterprise domain, and add it to one if it is not.</span></li>
                        <li class="stepexpand"><span>Check that the database can see its domain, by entering one of the following at the command line:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If the database connects to the directory over SSL, then use</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_SSLport</span> -U 3 -W "file:<span class="italic">database_wallet_path</span>" -Q -b "cn=OracleContext, <span class="italic">realm_DN</span>" "objectclass=orclDBEnterpriseDomain"
Please enter SSL wallet password: <span class="italic">wallet_password</span>
</pre><p>where <span class="italic"><code class="codeph">wallet_password</code></span> is the password to the wallet, which enables you to open or change the wallet.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the database connects to the directory by using password authentication, then use</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_port</span> -D <span class="italic">database_DN</span> -q -b "cn=OracleContext, <span class="italic">realm_DN</span>" "objectclass=orclDBEnterpriseDomain"
Please enter bind password: <span class="italic">database_directory_password</span>
</pre><p>where <span class="italic"><code class="codeph">database_directory_password</code></span> is the password in the database wallet, which is the database's password to Oracle Internet Directory.
                                    </p>
                                 </li>
                              </ul>
                              <p>The <code class="codeph">ldapsearch</code> command should return exactly one enterprise domain.
                              </p>
                              <p>If no domain is returned and Oracle Enterprise Manager shows the database as a member of a domain, then restart the database. Restarting the database updates the cached value for the enterprise domain.</p>
                              <p>If more than one domain is returned, then use Oracle Enterprise Manager to remove the database from the additional domain.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Check that the database can read the enterprise domain subtree and thus can read its enterprise roles and mappings, by entering one of the following at the command line:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If the database connects to the directory over SSL, then use</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_SSLport</span> -U 3 -W "file:<span class="italic">database_wallet_path</span>" -Q -b "cn=OracleContext, <span class="italic">realm_DN</span>" "objectclass=orclDBEnterpriseRole"
Please enter SSL wallet password: <span class="italic">wallet_password</span>
</pre><p>where <span class="italic"><code class="codeph">wallet_password</code></span> is the password to the wallet, which enables you to open or change the wallet.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the database connects to the directory by using password authentication, then use</p><pre class="oac_no_warn" dir="ltr">ldapsearch -h <span class="italic">directory_host</span> -p <span class="italic">directory_port</span> -D <span class="italic">database_DN</span> -q -b "cn=OracleContext, <span class="italic">realm_DN</span>" "objectclass=orclDBEnterpriseRole"
Please enter bind password: <span class="italic">database_directory_password</span>
</pre><p>where <span class="italic"><code class="codeph">database_directory_password</code></span> is the password in the database wallet, which is the database password to Oracle Internet Directory.
                                    </p>
                                 </li>
                              </ul>
                              <p>This <code class="codeph">ldapsearch</code> should return all of the enterprise roles that you have created for this domain. If it does not, then use Oracle Enterprise Manager to create enterprise roles and mappings.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Use Oracle Enterprise Manager to set or reset the user authentication policy for the relevant enterprise domain. See <span class="q">"<a href="administering-enterprise-user-security.html#GUID-1338F679-CC93-4A46-9676-47248F110393">Configuring User Authentication Types and Enabling Current User Database Links</a>"</span> for information about setting the user authentication policy for an enterprise domain.</span></li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>