<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Use this information about common issues and resolutions to maintain your Oracle Data Guard environment.">
      <meta name="description" content="Use this information about common issues and resolutions to maintain your Oracle Data Guard environment.">
      <title>Troubleshooting Oracle Data Guard</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Broker ">
      <meta property="og:description" content="Use this information about common issues and resolutions to maintain your Oracle Data Guard environment.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Broker">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-guard-broker.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-29T04:14:25-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96245-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oracle-data-guard-broker-properties.html" title="Previous" type="text/html">
      <link rel="next" href="upgrading-downgrading-in-data-guard-broker-configuration.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Broker">
    <meta name="dcterms.isVersionOf" content="DGBKR">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-guard-broker-properties.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="upgrading-downgrading-in-data-guard-broker-configuration.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Broker </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Troubleshooting Oracle Data Guard</li>
            </ol>
            <a id="GUID-CF46FC94-2F5B-40AA-89A6-8B8F2B124807" name="GUID-CF46FC94-2F5B-40AA-89A6-8B8F2B124807"></a><a id="DGBKR1020"></a>
            
            <h2 id="DGBKR-GUID-CF46FC94-2F5B-40AA-89A6-8B8F2B124807" class="sect2"><span class="enumeration_chapter">9 </span> Troubleshooting Oracle Data Guard
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Use this information about common issues and resolutions to maintain your Oracle Data Guard environment.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-A7D1301B-635F-46C6-9E33-FDA2093B8ABA" title="The Oracle Data Guard broker provides information about its activities in several forms.">Sources of Diagnostic Information</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-0AED2023-2A96-4B7B-96A2-CE0942AC0144" title="These topics describe general problems and solutions when using Oracle Data Guard broker.">General Problems and Solutions</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-E417A951-84C5-4693-9136-8480FB8B1876" title="If the switchover fails due to problems with the configuration, then the broker reports any problems it encounters in the alert log files or in the broker log files.">Troubleshooting Problems During a Switchover Operation</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-0BA77759-4B36-42FA-BEE1-BE132ED88ACE" title="Although it is possible for a failover operation to fail, it is unlikely. If an error does occur there are guidelines you can follow to fix the problem and then retry the broker failover.">Troubleshooting Problems During a Failover Operation</a></p>
                  </li>
                  <li>
                     <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-C6AAB2E3-1714-4AFB-AC7B-BEA4B43F19C9" title="The observer continuously monitors the fast-start failover environment to ensure the primary database is available.">Troubleshooting Problems with the Observer</a></p>
                  </li>
               </ul>
            </div><a id="DGBKR1025"></a><div class="props_rev_3"><a id="GUID-A7D1301B-635F-46C6-9E33-FDA2093B8ABA" name="GUID-A7D1301B-635F-46C6-9E33-FDA2093B8ABA"></a><h3 id="DGBKR-GUID-A7D1301B-635F-46C6-9E33-FDA2093B8ABA" class="sect3"><span class="enumeration_section">9.1 </span>Sources of Diagnostic Information
               </h3>
               <div>
                  <p>The Oracle Data Guard broker provides information about its activities in several forms.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Database status information (see <a href="managing-oracle-data-guard-broker-configuration-members.html#GUID-85D20060-248B-42A1-B78D-15C23AAA2F59" title="In general, the broker checks the health of a database by verifying that the actual database state and settings match those described in the broker configuration file.">Database Status</a>)
                        </p>
                     </li>
                     <li>
                        <p>Oracle alert log files</p>
                        <p>The broker records key information in the alert log file for each instance of each database in a broker configuration. You can check the alert log files for such information when troubleshooting Oracle Data Guard.</p>
                     </li>
                     <li>
                        <p>Oracle Data Guard "broker log files" <a id="d77355e118" class="indexterm-anchor"></a><a id="d77355e122" class="indexterm-anchor"></a><a id="d77355e126" class="indexterm-anchor"></a></p>
                        <p>For each instance of each database in a broker configuration, the broker DMON process records important behavior and status information in a broker log file, useful in diagnosing Oracle Data Guard failures. The <code class="codeph">TraceLevel</code> configuration property (see <a href="oracle-data-guard-broker-properties.html#GUID-30441264-7892-48EC-96B0-A63D70CF46F8" title="The TraceLevel configuration property is used to control the amount of tracing performed by the broker for every member in the configuration.">TraceLevel</a>) is used to specify the level of diagnostic information reported in the broker log files.
                        </p>
                        <p>The broker log file is created in the same directory as the alert log and is named <code class="codeph">drc&lt;$ORACLE_SID&gt;.log</code>.
                        </p>
                        <p></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DGBKR1030"></a><div class="props_rev_3"><a id="GUID-0AED2023-2A96-4B7B-96A2-CE0942AC0144" name="GUID-0AED2023-2A96-4B7B-96A2-CE0942AC0144"></a><h3 id="DGBKR-GUID-0AED2023-2A96-4B7B-96A2-CE0942AC0144" class="sect3"><span class="enumeration_section">9.2 </span>General Problems and Solutions
               </h3>
               <div>
                  <p>These topics describe general problems and solutions when using Oracle Data Guard broker.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-17E8BAEE-3D30-4A49-9869-C3D13180C709" title="A request was issued to the broker, but the database instance through which you have connected is no longer a part of the broker configuration.">ORA-16596: database not part of the Oracle Data Guard broker configuration</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-203CF4DA-A3D3-4BB3-A840-64D61CE2862B" title="By viewing the Log File Details page in Cloud Control, you have determined that log files are accumulating on the primary database and are not being archived to some of the standby databases in the broker configuration.">Redo Accumulating on the Primary Is Not Sent to Some Standby Databases</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378" title="By viewing the Performance page or Log File Details page in Cloud Control, you have determined that the standby database accumulates too many log files without applying them.">Many Log Files Are Received on a Standby Database But Not Applied</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-3C04CB40-B5E3-4952-BD2D-C953CE1FCC57" title="If the broker requests are not completing within the normal timeout parameters, try these actions to solve the problem.">The Request Timed Out or Cloud Control Performance Is Sluggish</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-AE89C1C3-F896-4526-A0EA-372301DAF5C4" title="If the primary database is flashed back, then the standby databases in the configuration must be also be flashed back or re-created to be viable targets for switchovers or failovers.">The Primary Database is Flashed Back</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-AC5641FD-20E9-411C-A9D2-5F2EA384325E" title="An ORA-12514 error may be generated if the DGMGRL CLI fails to automatically start up an instance after a broker operation (for example, a switchover, reinstatement, or convert to physical standby).">Standby Fails to Automatically Start Up Due to Unknown Service (ORA-12514)</a></p>
                     </li>
                  </ul>
               </div><a id="DGBKR3614"></a><a id="DGBKR1035"></a><div class="props_rev_3"><a id="GUID-17E8BAEE-3D30-4A49-9869-C3D13180C709" name="GUID-17E8BAEE-3D30-4A49-9869-C3D13180C709"></a><h4 id="DGBKR-GUID-17E8BAEE-3D30-4A49-9869-C3D13180C709" class="sect4"><span class="enumeration_section">9.2.1 </span>ORA-16596: database not part of the Oracle Data Guard broker configuration
                  </h4>
                  <div>
                     <p>A request was issued to the broker, but the database instance through which you have connected is no longer a part of the broker configuration.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-17E8BAEE-3D30-4A49-9869-C3D13180C709__GUID-5B92BDE5-F216-4AA2-BC42-5562133F76A0">Solution</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Reconnect to the configuration through another database that you know is part of the broker configuration. Confirm that a database exists in the broker configuration that has a name that matches the <code class="codeph">db_unique_name</code> value of the database that returned the ORA-16596 error.
                        </p>
                        <p>This problem can also occur if you attempt to enable a configuration, but the broker configuration file for one of its databases was accidentally removed or is outdated. In this case, remove the database from the broker configuration, manually delete the configuration file for that standby database (not for the primary database), and try again to enable the configuration. After the configuration is enabled, you can either use the Cloud Control Add Standby Database wizard and choose the <span>Add existing standby database</span> option, or you can use the DGMGRL command-line interface and issue the <code class="codeph">ADD DATABASE </code>command.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR3615"></a><a id="DGBKR1040"></a><div class="props_rev_3"><a id="GUID-203CF4DA-A3D3-4BB3-A840-64D61CE2862B" name="GUID-203CF4DA-A3D3-4BB3-A840-64D61CE2862B"></a><h4 id="DGBKR-GUID-203CF4DA-A3D3-4BB3-A840-64D61CE2862B" class="sect4"><span class="enumeration_section">9.2.2 </span>Redo Accumulating on the Primary Is Not Sent to Some Standby Databases
                  </h4>
                  <div>
                     <p>By viewing the Log File Details page in Cloud Control, you have determined that log files are accumulating on the primary database and are not being archived to some of the standby databases in the broker configuration.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-203CF4DA-A3D3-4BB3-A840-64D61CE2862B__GUID-6010B37C-DE01-4E9F-9A5E-7BFDAAADE0DC">Solution</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To narrow down the problem, do the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Verify that the state of the primary database is in the <code class="codeph">TRANSPORT-ON</code> state (not <code class="codeph">TRANSPORT-OFF</code>).
                              </p>
                           </li>
                           <li>
                              <p>Verify that the value of the <code class="codeph">LogShipping</code> database property of the standby database in question is <code class="codeph">ON</code>.
                              </p>
                           </li>
                           <li>
                              <p>Check the status of the redo transport services on the primary database using the <code class="codeph">LogXptStatus</code> monitorable property. If redo transport services have an error, then use the error message to determine further checking and resolution action. For example:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If the error indicates the standby database is not available, you need to restart the standby database.</p>
                                 </li>
                                 <li>
                                    <p>If the error indicates no listener, you need to restart the listener.</p>
                                 </li>
                                 <li>
                                    <p>If the error indicates the standby database has no local destination, you need to set up a standby location to store archived redo log files from the primary database.</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR3616"></a><a id="DGBKR3617"></a><a id="DGBKR3618"></a><a id="DGBKR1045"></a><div class="props_rev_3"><a id="GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378" name="GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378"></a><h4 id="DGBKR-GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378" class="sect4"><span class="enumeration_section">9.2.3 </span>Many Log Files Are Received on a Standby Database But Not Applied
                  </h4>
                  <div>
                     <p>By viewing the Performance page or Log File Details page in Cloud Control, you have determined that the standby database accumulates too many log files without applying them.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378__GUID-8D186CAA-8B44-4C89-8B57-BE8245913454">Solution</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>There are many possible reasons why archived redo log files might not be applied to the standby database. Investigate why the log files are building up and rule out the valid reasons.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378__GUID-20C40827-2240-4BB4-9BCF-D86EDF514F75">If the current status of the standby database is not normal:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Determine whether or not the log apply services might be unexpectedly stopped. See the ORA-16766 (for physical standby databases) or ORA-16768 (for logical standby databases) error description and solution statement for more help.</p>
                           </li>
                           <li>
                              <p>If this is a logical standby database, check to see if a failed transaction has occurred.</p>
                           </li>
                           <li>
                              <p>If you want to suppress the error while you investigate the problem, you can temporarily disable broker management of the database.</p>
                              <div class="infoboxnotealso" id="GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378__GUID-800585DC-4D65-499D-A9D3-2BFD697BB884">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="oracle-data-guard-broker-commands.html#GUID-E7889124-C414-466F-9FBB-B8F035881F89" title="Use the command reference to understand how you can use the Data Guard broker command-line interface (DGMGRL) to manage your broker configuration."> Oracle Data Guard Command-Line Interface Reference</a> for additional information about disabling the database using the DGMGRL command-line interface
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378__GUID-531777D2-6003-4B67-9378-57694032AC55">If the current status of the standby database is normal:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Verify the state of the standby database is <code class="codeph">APPLY-ON</code> (not in the <code class="codeph">APPLY-OFF</code> state).
                              </p>
                           </li>
                           <li>
                              <p>Verify the state of the primary database is <code class="codeph">TRANSPORT-ON</code> (not in the <code class="codeph">TRANSPORT-OFF</code> state).
                              </p>
                              <div class="infoboxnotealso" id="GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378__GUID-05F262BD-68EB-4EB0-8674-53F3E9B72096">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="oracle-data-guard-broker-properties.html#GUID-1966A317-DD75-4385-8A64-ADEC75662F7E" title="Use Oracle Data Guard broker properties to manage instances or the entire configuration."> Oracle Data Guard Broker Properties</a> for additional information about the <code class="codeph">LogShipping</code> database property
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Check to see if log files are building up because the value of the <code class="codeph">DelayMins</code> property is set too large. (Log apply services will delay applying the archived redo log files on the standby database for the number of minutes specified.)
                              </p>
                              <div class="infoboxnotealso" id="GUID-87B880E0-EA12-4C6A-8640-0EF39EF0C378__GUID-A2496017-567A-4479-954A-81E3DC973249">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="oracle-data-guard-broker-properties.html#GUID-1966A317-DD75-4385-8A64-ADEC75662F7E" title="Use Oracle Data Guard broker properties to manage instances or the entire configuration."> Oracle Data Guard Broker Properties</a> for additional information about the <code class="codeph">DelayMins</code> database property
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>If you cannot see any errors, compare the archive rate to the apply rate on the Performance page in Cloud Control to see if the apply rate is lower than the archive rate.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR3443"></a><div class="props_rev_3"><a id="GUID-3C04CB40-B5E3-4952-BD2D-C953CE1FCC57" name="GUID-3C04CB40-B5E3-4952-BD2D-C953CE1FCC57"></a><h4 id="DGBKR-GUID-3C04CB40-B5E3-4952-BD2D-C953CE1FCC57" class="sect4"><span class="enumeration_section">9.2.4 </span>The Request Timed Out or Cloud Control Performance Is Sluggish
                  </h4>
                  <div>
                     <p>If the broker requests are not completing within the normal timeout parameters, try these actions to solve the problem.</p>
                     <div class="section">
                        <ol>
                           <li>
                              <p>Verify the network is operating appropriately.</p>
                           </li>
                           <li>
                              <p>Try to ping all of the nodes in the configuration.</p>
                           </li>
                           <li>
                              <p>Try reconnecting through another database to retry the operation.</p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">VERIFY</code> command to determine on which database the broker is unable to process the requests.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR1050"></a><div class="props_rev_3"><a id="GUID-AE89C1C3-F896-4526-A0EA-372301DAF5C4" name="GUID-AE89C1C3-F896-4526-A0EA-372301DAF5C4"></a><h4 id="DGBKR-GUID-AE89C1C3-F896-4526-A0EA-372301DAF5C4" class="sect4"><span class="enumeration_section">9.2.5 </span>The Primary Database is Flashed Back
                  </h4>
                  <div>
                     <p>If the primary database is flashed back, then the standby databases in the configuration must be also be flashed back or re-created to be viable targets for switchovers or failovers. </p>
                     <div class="section">
                        <p>The broker will report errors for the standby databases if the primary database has been flashed back.</p>
                        <p>For more information about restoring the viability of a standby database that was disabled by the broker, see <a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-D1C0709A-FBF0-4635-95A4-385506A5EC2D" title="To restore your original disaster-recovery solution after switchover to a logical standby database or after failover to any standby database, you may need to perform additional steps.">Reenabling Disabled Databases After a Role Change</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR3846"></a><div class="props_rev_3"><a id="GUID-AC5641FD-20E9-411C-A9D2-5F2EA384325E" name="GUID-AC5641FD-20E9-411C-A9D2-5F2EA384325E"></a><h4 id="DGBKR-GUID-AC5641FD-20E9-411C-A9D2-5F2EA384325E" class="sect4"><span class="enumeration_section">9.2.6 </span>Standby Fails to Automatically Start Up Due to Unknown Service (ORA-12514)
                  </h4>
                  <div>
                     <p>An <code class="codeph">ORA-12514</code> error may be generated if the DGMGRL CLI fails to automatically start up an instance after a broker operation (for example, a switchover, reinstatement, or convert to physical standby).
                     </p>
                     <div class="section">
                        <p>The full error text is <code class="codeph">ORA-12514: TNS:listener does not currently know of service requested in connect descriptor</code>. If you receive this error, and your database is not managed by Oracle Clusterware, then you must manually start the instance to complete or continue the broker operation.
                        </p>
                        <div class="infoboxnote" id="GUID-AC5641FD-20E9-411C-A9D2-5F2EA384325E__GUID-90C41398-98C4-4483-A2FC-74EA12FA7524">
                           <p class="notep1">Note:</p>
                           <p>The troubleshooting information in this section applicable only to databases that are not managed by Oracle Clusterware.</p>
                        </div>
                        <p>You can restart the instance before or after completing the following steps:</p>
                        <ol>
                           <li>
                              <p>Issue the following DGMGRL CLI command to check the value of the <code class="codeph">StaticConnectIdentifer</code> configurable property for the instance the DGMGRL CLI was unable to restart. (You will have to connect to another running instance to issue this command):
                              </p><pre class="pre codeblock"><code>SHOW DATABASE <span class="italic">db_unique_name</span> StaticConnectIdentifier;</code></pre></li>
                           <li>
                              <p>The static service name specified in the value of the <code class="codeph">StaticConnectIdentifer</code> instance property should be registered with the listener specified in the property value. The default value for the static service name is of the following form:
                              </p><pre class="oac_no_warn" dir="ltr"><span class="italic">db_unique_name</span>_DGMGRL.<span class="italic">db_domain</span>
</pre><p>See <a href="oracle-data-guard-broker-installation-requirements.html#GUID-BFDA8675-DA97-4910-B3FF-5DD5CFF5CC6D" title="These are the conditions that must be met before you can use the broker.">Prerequisites</a> for more information about this, and other prerequisites, for using the broker.
                              </p>
                           </li>
                           <li>
                              <p>Confirm that the static service name is registered with the listener specified in the <code class="codeph">StaticConnectIdentifer</code> configurable property value by using the Listener Control utility's status command. If the static service name is properly registered with the listener, it will be included in the output generated by the following command:
                              </p><pre class="oac_no_warn" dir="ltr">lsnrctl status
</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DGBKR1060"></a><div class="props_rev_3"><a id="GUID-E417A951-84C5-4693-9136-8480FB8B1876" name="GUID-E417A951-84C5-4693-9136-8480FB8B1876"></a><h3 id="DGBKR-GUID-E417A951-84C5-4693-9136-8480FB8B1876" class="sect3"><span class="enumeration_section">9.3 </span>Troubleshooting Problems During a Switchover Operation
               </h3>
               <div>
                  <p>If the switchover fails due to problems with the configuration, then the broker reports any problems it encounters in the alert log files or in the broker log files.</p>
                  <p>See <a href="troubleshooting-oracle-data-guard-broker.html#GUID-A7D1301B-635F-46C6-9E33-FDA2093B8ABA" title="The Oracle Data Guard broker provides information about its activities in several forms.">Sources of Diagnostic Information</a> for more information about log files. If the reported problems can be corrected, you can retry the switchover operation and it will usually succeed. If the reported problems cannot be corrected or the switchover operation fails even after correcting the reported problems, then you can choose another database for the switchover or restore the configuration to its pre-switchover state and then retry the switchover.
                  </p>
                  <p>If fast-start failover is enabled, the broker does not allow switchover to any standby database except to the target standby database. In addition, switchover to the target standby database is allowed only when the value of the <code class="codeph">FS_FAILOVER_STATUS</code> column in the <code class="codeph">V$DATABASE</code> view on the target standby database is either <code class="codeph">READY</code> or <code class="codeph">SUSPENDED</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-E417A951-84C5-4693-9136-8480FB8B1876__GUID-BFC682AD-0276-4755-A3DC-18E8FBED7899">
                     <p class="notep1">See Also:</p>
                     <p><a href="using-data-guard-broker-to-manage-switchovers-failovers.html#GUID-824C3FEF-9D1D-4AA7-9C7A-DBDBADC77F47" title="After fast-start failover is enabled and up to three observers are started, one observer is nominated as the master observer that continuously monitors the environment to ensure the primary database is available.">When Fast-Start Failover Is Enabled and the Observer Is Running</a></p>
                  </div>
               </div>
            </div><a id="DGBKR1055"></a><div class="props_rev_3"><a id="GUID-0BA77759-4B36-42FA-BEE1-BE132ED88ACE" name="GUID-0BA77759-4B36-42FA-BEE1-BE132ED88ACE"></a><h3 id="DGBKR-GUID-0BA77759-4B36-42FA-BEE1-BE132ED88ACE" class="sect3"><span class="enumeration_section">9.4 </span>Troubleshooting Problems During a Failover Operation
               </h3>
               <div>
                  <p>Although it is possible for a failover operation to fail, it is unlikely. If an error does occur there are guidelines you can follow to fix the problem and then retry the broker failover.</p>
               </div><a id="DGBKR3452"></a><div class="props_rev_3"><a id="GUID-17CB06EF-2B0E-41F7-9D08-7759987FFB4E" name="GUID-17CB06EF-2B0E-41F7-9D08-7759987FFB4E"></a><h4 id="DGBKR-GUID-17CB06EF-2B0E-41F7-9D08-7759987FFB4E" class="sect4"><span class="enumeration_section">9.4.1 </span>Failed Failovers to Physical Standby Databases
                  </h4>
                  <div>
                     <p>These steps describe how  to recover from a failed broker failover to a physical standby database.</p>
                  </div><a id="DGBKR3453"></a><div class="props_rev_3"><a id="GUID-5FB1AC6D-D817-4064-BD39-D9F7B965452A" name="GUID-5FB1AC6D-D817-4064-BD39-D9F7B965452A"></a><h5 id="DGBKR-GUID-5FB1AC6D-D817-4064-BD39-D9F7B965452A" class="sect5"><span class="enumeration_section">9.4.1.1 </span>Failed Broker Complete Physical Failovers
                     </h5>
                     <div>
                        <p>Examine the alert log file and the broker log file (drc*.log) on the target standby database to determine the cause of the failure and correct the problem. </p>
                        <div class="section">
                           <p>If the reported problem can be corrected, then retry the failover operation. If the reported problem cannot be corrected or if the failover operation fails again after the reported problem has been corrected, then take the following steps:</p>
                           <ol>
                              <li>
                                 <p>Connect to the target standby database and disable fast-start failover using the <code class="codeph">FORCE</code> option if it is enabled.
                                 </p>
                              </li>
                              <li>
                                 <p>Then you can either:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Connect to another physical standby database and attempt a broker complete failover.</p>
                                    </li>
                                    <li>
                                       <p>Perform a broker immediate failover to the target physical standby database.</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Reinstate the original primary database and any bystander physical standby databases that are disabled with a status of reinstatement required (<code class="codeph">ORA-16661</code>).
                                 </p>
                              </li>
                              <li>
                                 <p>Reenable fast-start failover if it was disabled in step 1.</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="DGBKR3454"></a><div class="props_rev_3"><a id="GUID-BEBFF44B-9000-44EE-9F1F-0640F49B183A" name="GUID-BEBFF44B-9000-44EE-9F1F-0640F49B183A"></a><h5 id="DGBKR-GUID-BEBFF44B-9000-44EE-9F1F-0640F49B183A" class="sect5"><span class="enumeration_section">9.4.1.2 </span>Failed Broker Immediate Physical Failovers
                     </h5>
                     <div>
                        <p>Examine the alert log file and the broker log file (drc*.log) on the target standby database to determine the cause of the failure and correct the problem.</p>
                        <div class="section">
                           <p>If the problem can be corrected, retry the broker immediate failover. Otherwise connect to another physical standby database and attempt either a broker complete or immediate failover.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DGBKR3455"></a><div class="props_rev_3"><a id="GUID-AF1C816F-A0E5-4F6C-9DA6-A489EB256388" name="GUID-AF1C816F-A0E5-4F6C-9DA6-A489EB256388"></a><h4 id="DGBKR-GUID-AF1C816F-A0E5-4F6C-9DA6-A489EB256388" class="sect4"><span class="enumeration_section">9.4.2 </span>Failed Failovers to Logical Standby Databases
                  </h4>
                  <div>
                     <p>These are the steps to follow if a failover to a logical standby database fails.</p>
                     <div class="section">
                        <ol>
                           <li>
                              <p>Examine the alert log file and the broker log file (drc*.log) on the target standby database to determine the cause of the failure and correct the problem.</p>
                           </li>
                           <li>
                              <p>Connect to the target standby database and disable fast-start failover using the <code class="codeph">FORCE</code> option if it is enabled.
                              </p>
                           </li>
                           <li>
                              <p>Retry the broker failover.</p>
                           </li>
                           <li>
                              <p>Reinstate the old primary database. All bystander standby databases will be re-created from a copy of the new primary database.</p>
                           </li>
                           <li>
                              <p>Reenable fast-start failover if it was disabled in step 1.</p>
                           </li>
                        </ol>
                        <p>If broker failover continues to fail, you should stop the broker on all databases in the Oracle Data Guard configuration (set the <code class="codeph">DG_BROKER_START</code> initialization parameter to <code class="codeph">FALSE</code>). Remove the Oracle Data Guard broker configuration files from all databases. Attempt a manual failover using the guidelines for role transitions in <a href="../sbydb/managing-oracle-data-guard-role-transitions.html#SBYDB00635" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a>.
                        </p>
                        <div class="infoboxnote" id="GUID-AF1C816F-A0E5-4F6C-9DA6-A489EB256388__GUID-0FC2BF42-091A-47FD-B95D-5FF4431D640A">
                           <p class="notep1">Note:</p>
                           <p>You can enable or disable the broker configuration using DGMGRL <code class="codeph">ENABLE CONFIGURATION</code> and <code class="codeph">DISABLE CONFIGURATION</code> commands. You cannot disable the configuration using Cloud Control. You can only enable the configuration using Cloud Control if it was previously disabled using DGMGRL.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DGBKR3456"></a><div class="props_rev_3"><a id="GUID-C6AAB2E3-1714-4AFB-AC7B-BEA4B43F19C9" name="GUID-C6AAB2E3-1714-4AFB-AC7B-BEA4B43F19C9"></a><h3 id="DGBKR-GUID-C6AAB2E3-1714-4AFB-AC7B-BEA4B43F19C9" class="sect3"><span class="enumeration_section">9.5 </span>Troubleshooting Problems with the Observer
               </h3>
               <div>
                  <p>The observer continuously monitors the fast-start failover environment to ensure the primary database is available.</p>
                  <p>Installing and starting the observer is an integral part of using fast-start failover. The following sections describe techniques for troubleshooting the observer:</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-19CF1965-70A1-45B4-B398-3781937E4B0F" title="If the observer host machine crashes, the broker configuration is no longer observed and fast-start failover is no longer possible.">Problems Because the Observer Has Stopped</a></p>
                     </li>
                     <li>
                        <p><a href="troubleshooting-oracle-data-guard-broker.html#GUID-5B9D54C8-C446-4678-A770-2851C41C9265" title="You can use the LOGFILE IS option of the START OBSERVER command to capture the activity performed by the observer.">Capturing Observer Actions in the Observer Log File</a></p>
                     </li>
                  </ul>
               </div><a id="DGBKR3458"></a><div class="props_rev_3"><a id="GUID-19CF1965-70A1-45B4-B398-3781937E4B0F" name="GUID-19CF1965-70A1-45B4-B398-3781937E4B0F"></a><h4 id="DGBKR-GUID-19CF1965-70A1-45B4-B398-3781937E4B0F" class="sect4"><span class="enumeration_section">9.5.1 </span>Problems Because the Observer Has Stopped
                  </h4>
                  <div>
                     <p>If the observer host machine crashes, the broker configuration is no longer observed and fast-start failover is no longer possible. </p>
                     <div class="section">
                        <p>In this case, you may have to move the observer to a new host if the original host machine cannot be repaired in a timely fashion.</p>
                        <ol>
                           <li>
                              <p>Issue the DGMGRL <code class="codeph">STOP OBSERVER</code> command to sever the link between the original observer and the broker configuration:
                              </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; STOP OBSERVER;
Done.
</pre></li>
                           <li>
                              <p>Issue the DGMGRL<code class="codeph"> SHOW CONFIGURATION VERBOSE</code> command to verify that the configuration is no longer being observed:
                              </p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; SHOW CONFIGURATION VERBOSE;
 
Configuration - DRSolution
 
  Protection Mode: MaxAvailability
  Members:
    North_Sales - Primary database
    Warning: ORA-16819: fast-start failover observer not started
 
    South_Sales - (*) Physical standby database
    Warning: ORA-16819: fast-start failover observer not started
 
(*) Fast-Start Failover target
 
Properties:
  FastStartFailoverThreshold     = '30'
  OperationTimeout               = '30'
  TraceLevel                     = 'USER'
  FastStartFailoverLagLimit      = '30'
  CommunicationTimeout           = '180'
  ObserverReconnect              = '0'
  FastStartFailoverAutoReinstate = 'TRUE'
  FastStartFailoverPmyShutdown   = 'TRUE'
  BystandersFollowRoleChange     = 'ALL'
  ObserverOverride               = 'FALSE'
  ExternalDestination1           = ''
  ExternalDestination2           = ''  
  PrimaryLostWriteAction         = 'CONTINUE'
  ConfigurationWideService       = 'North_Sales_CFG' 

Fast-Start Failover: ENABLED
 
  Threshold: 30 seconds
  Target: South_Sales
  <span class="bold">Observer: observer.example.com</span>
  Lag Limit: 30 seconds (not in use)
  Shutdown Primary: TRUE
  Auto-reinstate: TRUE
  Observer Reconnect: (none)
  Observer Override: FALSE
 
Configuration Status:
WARNING
</pre></li>
                           <li>
                              <p>Note that you do not need to issue the DGMGRL <code class="codeph">SHOW CONFIGURATION </code>command to verify that the observer has actually stopped. Successful completion of the DGMGRL <code class="codeph">STOP OBSERVER</code> command will allow a new observer to become associated with the configuration.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DGBKR3459"></a><div class="props_rev_3"><a id="GUID-5B9D54C8-C446-4678-A770-2851C41C9265" name="GUID-5B9D54C8-C446-4678-A770-2851C41C9265"></a><h4 id="DGBKR-GUID-5B9D54C8-C446-4678-A770-2851C41C9265" class="sect4"><span class="enumeration_section">9.5.2 </span>Capturing Observer Actions in the Observer Log File
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">LOGFILE IS</code> option of the <code class="codeph">START OBSERVER</code> command to capture the activity performed by the observer.
                     </p>
                     <div class="section">
                        <p>For example:</p><pre class="pre codeblock"><code>% dgmgrl START OBSERVER observer1 IN BACKGROUND LOGFILE IS observer.log CONNECT IDENTIFIER IS North_Sales TRACE_LEVEL IS SUPPORT;</code></pre><p>All the observer output is then recorded in a file named <code class="codeph">observer.log</code> in the current working directory where you issued the <code class="codeph">DGMGRL</code> command. If the specified log file is not accessible, then the observer output is sent to standard output as though a log file had not been specified.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>