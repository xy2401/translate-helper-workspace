<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This section describes how to use the Parallel Upgrade Utility (catctl.pl) to run manual upgrades using parallel processing, inclusion and exclusion lists, and other features to manage your upgrade.">
      <meta name="description" content="This section describes how to use the Parallel Upgrade Utility (catctl.pl) to run manual upgrades using parallel processing, inclusion and exclusion lists, and other features to manage your upgrade.">
      <title>Upgrading with Parallel Upgrade Utility (catctl.pl and dbupgrade Shell Command)</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Upgrade Guide">
      <meta property="og:description" content="This section describes how to use the Parallel Upgrade Utility (catctl.pl) to run manual upgrades using parallel processing, inclusion and exclusion lists, and other features to manage your upgrade.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Upgrade Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00">
      <meta name="dcterms.title" content="Database Upgrade Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96252-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="backing-up-oracle-db-for-upgrading.html" title="Previous" type="text/html">
      <link rel="next" href="upgrading-oracle-database-upgrade-assistant-dbua.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="backing-up-oracle-db-for-upgrading.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="upgrading-oracle-database-upgrade-assistant-dbua.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="upgrading-oracle-database.html" property="item" typeof="WebPage"><span property="name">Upgrading Oracle Database</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Upgrading with Parallel Upgrade Utility (catctl.pl and dbupgrade Shell Command)</li>
            </ol>
            <a id="GUID-9AA7ADC1-E2F7-4C26-9E91-A583D1D694C5" name="GUID-9AA7ADC1-E2F7-4C26-9E91-A583D1D694C5"></a>
            
            <h2 id="UPGRD-GUID-9AA7ADC1-E2F7-4C26-9E91-A583D1D694C5" class="sect2">Upgrading with Parallel Upgrade Utility (catctl.pl and dbupgrade Shell Command)</h2>
         </header>
         <div class="ind">
            <div>
               <p>This section describes how to use the Parallel Upgrade Utility (<code>catctl.pl</code>) to run manual upgrades using parallel processing, inclusion and exclusion lists, and other features to manage your upgrade. 
               </p>
               <p></p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-9E7E83CC-6A4B-4645-AEA8-AFE16337339E">About the Parallel Upgrade Utility for Oracle Database (CATCTL.PL and DBUPGRADE)</a><br> The Parallel Upgrade Utility (<code>catctl.pl</code>, and the <code>dbupgrade</code> script) enable you to upgrade simultaneously components that do not require upgrades to occur in a specific order.
                  </li>
                  <li class="ulchildlink"><a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-03C019A1-EC6F-41A3-8775-F6908194B18F">General Steps for Running the Parallel Upgrade Utility</a><br>Review to obtain an overview of how to use the Parallel Upgrade Utility for Oracle Database.
                  </li>
                  <li class="ulchildlink"><a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-C667B51C-058F-48B6-86FE-12E9D82FDDBD">Parallel Upgrade Utility (catctl.pl) Parameters</a><br>Control how the Parallel Upgrade Utility (<code>catctl.pl</code>) runs. You can also use these arguments to run the <code>dbupgrade</code> shell command.
                  </li>
                  <li class="ulchildlink"><a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-02F0D46C-22E2-4D64-99EE-B5FF7F0A8598">Example of Using the Parallel Upgrade Utility</a><br>Use this example to understand how you can run the parallel upgrade utility manually to perform upgrades.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database.html#GUID-CC88F262-3370-4FFA-8604-EDA9F20F56D9" title="Oracle provides a comprehensive set of tools for upgrading Oracle Database with minimal downtime and for migrating your applications to the new release.">Upgrading Oracle Database</a></p>
                  </div>
               </div>
            </div>
            <a id="UPGRD52865"></a><div class="props_rev_3"><a id="GUID-9E7E83CC-6A4B-4645-AEA8-AFE16337339E" name="GUID-9E7E83CC-6A4B-4645-AEA8-AFE16337339E"></a><h3 id="UPGRD-GUID-9E7E83CC-6A4B-4645-AEA8-AFE16337339E" class="sect3">About the Parallel Upgrade Utility for Oracle Database (CATCTL.PL and DBUPGRADE)</h3>
               <div>
                  <p> The Parallel Upgrade Utility (<code>catctl.pl</code>, and the <code>dbupgrade</code> script) enable you to upgrade simultaneously components that do not require upgrades to occur in a specific order.
                  </p>
                  <p>Oracle Database 12<span class="italic">c</span> release 1 (12.1) introduced the Parallel Upgrade Utility, <code>catctl.pl</code>. This utility reduces the total amount of time it takes to perform an upgrade by loading the database dictionary in parallel, and by using multiple SQL processes to upgrade the database. Performing parallel upgrades of components enables you to take advantage of your CPU capacity. Oracle continues to make improvements to the upgrade process to simplify both manual upgrades, and upgrades performed with the Database Upgrade Assistant (DBUA). DBUA and the manual upgrade procedures take advantage of the new Parallel Upgrade Utility. 
                  </p>
                  <p>You can run a shell command, <code>dbupgrade</code>, which starts up <code>catctl.pl</code> from the command line, instead of requiring you to run it from Perl. 
                  </p>
                  <p>The <code>dbupgrade</code> shell command is located in the file path <code>$ORACLE_HOME/bin</code> on Linux and UNIX, and <code>%ORACLE_HOME%\bin</code> on Windows. You can provide any command arguments that are valid for <code>catctl.pl</code> to the shell command. Either run the command directly from the new Oracle home path, or set a user environment variable to point to the file path.
                  </p>
                  <p>For example:</p>
                  <p>Running with default values:</p><pre class="pre codeblock"><code>$ ./dbupgrade</code></pre><p>Running to specify a log directory placed in <code class="codeph">/tmp</code>:
                  </p><pre class="pre codeblock"><code>$ ./dbupgrade -l /tmp</code></pre><p>You can also run the Parallel Upgrade Utility using priority lists. For example:</p><pre class="pre codeblock"><code>$ ./dbupgrade -L <span class="variable" translate="no">priority_list_name</span></code></pre><p>When you use a priority list, you can include or exclude a specific list of PDBs in your upgrade. </p>
                  <div class="p">You can also run the Parallel Upgrade Utility using priority emulation, so that you can see how the priority list is read and carried out, without actually performing the upgrade. For example:<pre class="pre codeblock"><code>$ ./dbupgrade -E </code></pre></div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="testing-upgraded-production-oracle-database.html#GUID-1613B800-89C3-4FA9-898B-19B602B2F907">Example of Testing Upgrades Using Priority List Emulation</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-9AA7ADC1-E2F7-4C26-9E91-A583D1D694C5" title="This section describes how to use the Parallel Upgrade Utility (catctl.pl) to run manual upgrades using parallel processing, inclusion and exclusion lists, and other features to manage your upgrade.">Upgrading with Parallel Upgrade Utility (catctl.pl and dbupgrade Shell Command)</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="UPGRD52866"></a><div class="props_rev_3"><a id="GUID-03C019A1-EC6F-41A3-8775-F6908194B18F" name="GUID-03C019A1-EC6F-41A3-8775-F6908194B18F"></a><h3 id="UPGRD-GUID-03C019A1-EC6F-41A3-8775-F6908194B18F" class="sect3">General Steps for Running the Parallel Upgrade Utility</h3>
               <div>
                  <p>Review to obtain an overview of how to use the Parallel Upgrade Utility for Oracle Database.</p>
                  <p>The Parallel Upgrade Utility (<code>catctl.pl</code>, which you can start with the shell command <code>dbupgrade</code>) loads the data dictionary and components in parallel. Loading in parallel reduces the overall upgrade time. Before running the Parallel Upgrade Utility, follow the procedures for backing up your database that you normally do before upgrading. Also, as a prerequisite, you must run the Pre-Upgrade Information Tool to identify any problems that a database administrator must address before the upgrade proceeds.
                  </p>
                  <p> The general steps for upgrading your database with the Parallel Upgrade Utility are as follows:</p>
                  <ol>
                     <li>
                        <p>Back up your current database.</p>
                     </li>
                     <li>
                        <p>Install the Oracle Database software for the new release.</p>
                     </li>
                     <li>
                        <p>Ensure that the Pre-Upgrade Information Tool (<code>preupgrade.jar</code>) has run on the source database, and that any issues reported by the tool are addressed.
                        </p>
                     </li>
                     <li>
                        <p>Shut down your current database. </p>
                     </li>
                     <li>
                        <p>Set up the new Oracle home environment to access the new release database, and then start SQL*Plus from the directory <code><span class="variable" translate="no">ORACLE_HOME</span>/rdbms/admin</code>.
                        </p>
                     </li>
                     <li>
                        <p>Log in to a user account with SYSDBA system privileges, and connect to the database that you want to upgrade:</p><pre class="pre codeblock"><code>CONNECT / AS SYSDBA
</code></pre></li>
                     <li>
                        <p>Start the database in upgrade mode. Use the command for your configuration type. </p>
                        <div class="p">Multitenant container database (CDB):<pre class="pre codeblock"><code>SQL&gt; startup upgrade;
SQL&gt; alter pluggable database all open upgrade;  </code></pre></div>
                        <p>Non-CDB:</p><pre class="pre codeblock"><code>SQL&gt; startup upgrade</code></pre><div class="infoboxnote" id="GUID-03C019A1-EC6F-41A3-8775-F6908194B18F__GUID-7987509D-0789-4817-8EDC-2A4C9AF425C0">
                           <p class="notep1">Note:</p>
                           <p>The <code>UPGRADE</code> keyword performs operations that prepare the environment for the upgrade.
                           </p>
                        </div>
                        <p>You may be required to use the <code>PFILE</code> option in your startup command to specify the location of your initialization parameter file.
                        </p>
                        <p>When you start the database in upgrade mode, only queries on fixed views execute without errors until after the <code>catctl.pl</code> script is run. Before you run <code>catctl.pl</code>, you receive an error if you try to use PL/SQL, or if you try to run queries on any other view.
                        </p>
                        <p>If errors appear listing desupported initialization parameters, then make a note of the desupported initialization parameters, and continue with the upgrade. Remove the desupported initialization parameters the next time you shut down the database.</p>
                     </li>
                     <li>
                        <p>Exit SQL*Plus.</p>
                     </li>
                     <li>
                        <p>Run the Parallel Upgrade Utility from the new Oracle home.</p>
                        <p>You can run the utility as a shell command (<code>dbupgrade</code> on Linux and Unix, and<code> dbupgrade.cmd</code> on Microsoft Windows) or you can run it as a Perl command (<code>catctl.pl</code>).
                        </p>
                        <p>For example, on Linux and Unix:</p><pre class="pre codeblock"><code>cd $ORACLE_HOME/bin
./dbupgrade</code></pre><p>For example, on Windows:</p><pre class="pre codeblock"><code>cd %ORACLE_HOME%\bin
dbupgrade</code></pre><p>The Parallel Upgrade Utility starts the upgrade process.</p>
                        <div class="infoboxnote" id="GUID-03C019A1-EC6F-41A3-8775-F6908194B18F__GUID-C13BD22F-B4A8-4A6F-B948-73D81CD76F7F">
                           <p class="notep1">Note:</p>
                           <p>The Parallel Upgrade Utility uses other files to carry out the upgrade. On Linux/UNIX systems, these files include <code class="codeph">catconst.pm</code>, <code class="codeph">catcom.pm</code>, <code class="codeph">sqlpatch</code>, <code class="codeph">sqlpatch.pl</code> or <code class="codeph">sqlpatch.pm</code>, and <code class="codeph">orahome</code> on Linux/UNIX systems. On Windows systems, these files include <code class="codeph">orahome.exe</code>. Do not change or remove these files. 
                           </p>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-03C019A1-EC6F-41A3-8775-F6908194B18F__GUID-2290C186-C63D-4E0D-B46F-683A41F9BFAB">
                     <p class="notep1">See Also:</p>
                     <p><a href="../admin/starting-up-and-shutting-down.html#ADMIN12825" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about specifying initialization parameters at startup and the initialization parameter file
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-9AA7ADC1-E2F7-4C26-9E91-A583D1D694C5" title="This section describes how to use the Parallel Upgrade Utility (catctl.pl) to run manual upgrades using parallel processing, inclusion and exclusion lists, and other features to manage your upgrade.">Upgrading with Parallel Upgrade Utility (catctl.pl and dbupgrade Shell Command)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52868"></a><a id="UPGRD52867"></a><div class="props_rev_3"><a id="GUID-C667B51C-058F-48B6-86FE-12E9D82FDDBD" name="GUID-C667B51C-058F-48B6-86FE-12E9D82FDDBD"></a><h3 id="UPGRD-GUID-C667B51C-058F-48B6-86FE-12E9D82FDDBD" class="sect3">Parallel Upgrade Utility (catctl.pl) Parameters</h3>
               <div>
                  <p>Control how the Parallel Upgrade Utility (<code>catctl.pl</code>) runs. You can also use these arguments to run the <code>dbupgrade</code> shell command.
                  </p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-C667B51C-058F-48B6-86FE-12E9D82FDDBD__GUID-F6876864-5C65-4F9E-A248-F4F7467B2195">
                        <p class="notep1">Note:</p>
                        <p>The shell command utility <code>dbupgrade</code> starts <code>catctl.pl</code>. The dbupgrade utility resides in the <code>ORACLE_HOME/bin</code> directory. You can use the shell command utility to start the Parallel Upgrade Utility at the command prompt. You can either run the utility using default values, or you can use <code>catctl.pl</code> input parameters to specify Parallel Upgrade Utility arguments. 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C667B51C-058F-48B6-86FE-12E9D82FDDBD__CHDHIFAA">
                     <p class="titleintable">Table 4-1 Parallel Upgrade Utility (catctl.pl) Parameters</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Parallel Upgrade Utility (catctl.pl) Parameters" summary="The catctl.pl parameters table lists the arguments for the parallel upgrade utility. Column 1 is for parameter, and Column 2 provides the description. You can use these parameters with catctl.pl, or you can use them with the dbupgrade shell command." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d26074e593">Parameter</th>
                              <th align="left" valign="bottom" width="80%" id="d26074e596">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e601" headers="d26074e593 ">
                                 <p><code class="codeph">-c</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e601 d26074e596 ">
                                 <p>Specifies a space-delimited inclusion list for PDBs that you want to upgrade. For example, in an Oracle Multitenant deployment with PDB1, PDB2, PDB3, and PDB4, include PDB1 and PDB2, but exclude the PDBs not named. PDB 1 and PDB 2 are upgraded, but PDB 3 and PDB4 are not upgraded. </p>
                                 <p>Linux and UNIX (use single quotes):</p><pre class="pre codeblock"><code>-c 'PDB1 PDB2'
</code></pre><p>Windows (use double quotes):</p><pre class="pre codeblock"><code>-c "PDB1 PDB2"</code></pre></td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e617" headers="d26074e593 ">
                                 <p><code class="codeph">-C</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e617 d26074e596 ">
                                 <p>Specifies a space-delimited exclusion list for PDBs that you want to upgrade. For example, in an Oracle Multitenant deployment with PDB1, PDB2, PDB3, and PDB4, you can use an exclusion list to exclude PDB1 and PDB2, but include the PDBs not named. PDB1 and PDB2 are not upgraded, but PDB3 and PDB4 are upgraded. </p>
                                 <p>Linux and UNIX (use single quotes):</p><pre class="pre codeblock"><code>-C 'PDB1 PDB2'
</code></pre><p>Windows (use double quotes):</p><pre class="pre codeblock"><code>-C "PDB1 PDB2"
</code></pre><p>Note: <code>-c</code> and <code>-C</code> are mutually exclusive.
                                 </p>
                                 <p><code class="codeph">-C 'CATCTL_LISTONLY'</code> is an option that specifies that the Parallel Upgrade Utility processes only the PDBs in a priority list. Use this option with the <code class="codeph">-L</code> parameter, specifying a list. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e648" headers="d26074e593 ">
                                 <p><code class="codeph">-d</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e648 d26074e596 ">
                                 <p>Specifies the location of the directory containing the files that you want processed.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e656" headers="d26074e593 ">
                                 <p><code class="codeph">-e</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e656 d26074e596 ">
                                 <p>Sets echo OFF while running the scripts. The default is echo ON.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e664" headers="d26074e593 ">
                                 <p><code class="codeph">-E</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e664 d26074e596 ">
                                 <p>Enables you to run an upgrade emulation. </p>
                                 <p>You can use the <code class="codeph">-E</code> parameter to run the Parallel Upgrade Utility in emulation mode to test how priority lists run, or to test how other upgrade parameter selections are carried out during an upgrade. For example, you can run an upgrade emulation to obtain more information about how the resource allocation choices you make using the <code class="codeph">-n</code> and <code class="codeph">-N</code> parameters are carried out.
                                 </p>
                                 <p>To carry out an upgrade emulation, complete all upgrade preparations before you run the Parallel Upgrade Utility, and then run the command using <code class="codeph">-E</code>.
                                 </p>
                                 <p>When you run the Parallel Upgrade Utility with the <code class="codeph">-E</code> parameter, and call a priority list as part of the command using the <code class="codeph">-L</code> parameter, the utility writes the upgrade order to the file <code>catctl_priority_run.lst</code>. This list is placed in the file path that you specify by the <code class="codeph">-l</code> parameter, or in the default log file area if you do not specify a different output file path.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e702" headers="d26074e593 ">
                                 <p><code class="codeph">-F</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e702 d26074e596 ">
                                 <p>Forces a cleanup of previous upgrade errors. </p>
                                 <p>Non-CDB databases require only the <code class="codeph">-F</code> parameter. For CDBs, use this option with a space-delimited inclusion list, which you specify with <code class="codeph">-c</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e718" headers="d26074e593 ">
                                 <p><code class="codeph">-i</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e718 d26074e596 ">
                                 <p>Specifies an identifier to use when creating spool log files.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e726" headers="d26074e593 ">
                                 <p><code class="codeph">-l</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e726 d26074e596 ">
                                 <p>Specifies the location for the directory to use for spool log files.</p>
                                 <p> The default location is <code><span class="variable" translate="no">Oracle_base</span>/cfgtoollogs/dbname/upgrade<span class="variable" translate="no">date</span><span class="variable" translate="no">time</span></code>. The <code class="codeph"><span class="variable" translate="no">date</span></code> and <code class="codeph"><span class="variable" translate="no">time</span></code> strings are in the character string format <span class="variable" translate="no">YYYYMMDDHHMMSC</span>, in which <span class="variable" translate="no">YYYY</span> designates the year, <span class="variable" translate="no">MM</span> designates the month, <span class="variable" translate="no">DD</span> designates the day, <span class="variable" translate="no">HH</span> designates the hour, <span class="variable" translate="no">MM</span> designates the minute, and <span class="variable" translate="no">SC</span> designates the second.
                                 </p>
                                 <p>Oracle strongly recommends that you do not write log files to the <code>/admin</code> directory. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e780" headers="d26074e593 ">
                                 <p><code class="codeph">-L</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e780 d26074e596 ">
                                 <p>Upgrades PDBs using a priority list during an Oracle Database upgrade, and specifies the priority list name. The priority list updates priority status in the database during upgrade. This priority listing is maintained in future upgrades. </p>
                                 <p>By default the CDB$ROOT and PDB$SEED databases are always processed first. They are processed first even if they are not added to a priority list. All PDBs in the priority list are processed before PDBs not in the priority list.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e790" headers="d26074e593 ">
                                 <p><code class="codeph">-M</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e790 d26074e596 ">
                                 <p>Keeps CDB$ROOT in UPGRADE mode while the PDBs are upgraded.</p>
                                 <p>For non-CDBs, this parameter is ignored.</p>
                                 <p>During CDB upgrades, using this parameter setting places the CDB and all its PDBs in upgrade mode, which can reduce total upgrade time. However, you cannot bring up any of the PDBs until the CDB and all its PDBs are upgraded.</p>
                                 <p>By default, if you do not use the <code class="codeph">-M</code> parameter setting, then CDB$ROOT is upgraded and restarted in normal mode, and the normal background processes are started. As each PDB is upgraded, you can bring the PDB online while other PDBs are still being upgraded.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e807" headers="d26074e593 ">
                                 <p><code class="codeph">-n</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e807 d26074e596 ">
                                 <p>Specifies the number of processes to use for parallel operations.</p>
                                 <p>Non-CDBs: The <code class="codeph">-n</code> parameter specifies the number of SQL processes to use when upgrading the database.
                                 </p>
                                 <p>Multitenant architecture databases (CDBs): The number of PDBs upgraded concurrently is controlled by the value of the <code class="codeph"><code>-n</code></code> parameter. Multiple PDB upgrades are processed together. Starting in Oracle Database 12<span class="italic">c</span>, the default value for multitenant architecture databases is the number of CPUs on your system. A <span class="parmname" translate="no">cpu_count</span> equal to 24 equates to a default value of 24 for <code class="codeph">-n</code>. 
                                 </p>
                                 <p>Values for the <code class="codeph">-n</code> parameter:
                                 </p>
                                 <p>Non-CDBs: The maximum value for <code class="codeph">-n</code> is 8. The minimum value is 1. The default value is 4.
                                 </p>
                                 <p>Multitenant architecture databases (CDBs): The maximum value for <code class="codeph">-n</code> is unlimited. The minimum value is 4. The maximum PDB upgrades running concurrently is the value of <code class="codeph">-n</code> divided by the value of <code class="codeph">-N</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e857" headers="d26074e593 ">
                                 <p><code class="codeph">-N</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e857 d26074e596 ">
                                 <p>Specifies the number of SQL processors to use when upgrading PDBs.</p>
                                 <p>For non-CDBs, this parameter is ignored. </p>
                                 <p>For CDBs, the maximum value is 8. The minimum value is 1. The default value is 2.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e869" headers="d26074e593 ">
                                 <p><code class="codeph">-p</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e869 d26074e596 ">
                                 <p>Restarts from the specified phase. When you re-run an upgrade, it does not restart phases already completed successfully.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e877" headers="d26074e593 ">
                                 <p><code class="codeph">-P</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e877 d26074e596 ">
                                 <p>Stops from the specified phase.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e885" headers="d26074e593 ">
                                 <p><code class="codeph">-R</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e885 d26074e596 ">
                                 <p>Resumes the upgrade from a failed phase. Using the <code class="codeph">-R</code> parameter enables the upgrade to resume at the point of failure, so that only the missing upgrade phases are rerun.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e896" headers="d26074e593 ">
                                 <p><code class="codeph">-s</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e896 d26074e596 ">
                                 <p>Names the SQL script that initializes sessions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e904" headers="d26074e593 ">
                                 <p><code class="codeph">-S</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e904 d26074e596 ">
                                 <p>Specifies serial upgrade instead of parallel.</p>
                                 <p>Starting with Oracle Database 12.2, <code class="codeph">catupgrd.sql</code> is no longer supported using the <code>-S</code> option. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e920" headers="d26074e593 ">
                                 <p><code class="codeph">-T</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e920 d26074e596 ">Takes offline user schema-based table spaces. </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e927" headers="d26074e593 ">
                                 <p><code class="codeph">-u</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e927 d26074e596 ">
                                 <p>Specifies user name, and prompts for password.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e935" headers="d26074e593 ">
                                 <p><code class="codeph">-y</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e935 d26074e596 ">
                                 <p>Displays phases only.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e943" headers="d26074e593 ">
                                 <p><code class="codeph">-z</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e943 d26074e596 ">
                                 <p>Turns on production debugging information for <code>catcon.pm</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d26074e954" headers="d26074e593 ">
                                 <p><code class="codeph">-Z</code></p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d26074e954 d26074e596 ">
                                 <p>Turns on debug tracing information for <code>catctl.pl</code>. 
                                 </p>
                                 <p>For example, to set the number to 1, enter <kbd class="userinput">-Z 1</kbd>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-9AA7ADC1-E2F7-4C26-9E91-A583D1D694C5" title="This section describes how to use the Parallel Upgrade Utility (catctl.pl) to run manual upgrades using parallel processing, inclusion and exclusion lists, and other features to manage your upgrade.">Upgrading with Parallel Upgrade Utility (catctl.pl and dbupgrade Shell Command)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52870"></a><a id="UPGRD52869"></a><div class="props_rev_3"><a id="GUID-02F0D46C-22E2-4D64-99EE-B5FF7F0A8598" name="GUID-02F0D46C-22E2-4D64-99EE-B5FF7F0A8598"></a><h3 id="UPGRD-GUID-02F0D46C-22E2-4D64-99EE-B5FF7F0A8598" class="sect3">Example of Using the Parallel Upgrade Utility</h3>
               <div>
                  <p>Use this example to understand how you can run the parallel upgrade utility manually to perform upgrades.</p>
                  <p>The Parallel Upgrade Utility (<code>catctl.pl</code>) is integrated with DBUA. However, you can run the Parallel Upgrade Utility using the command-line script <code>dbupgrade</code>. Run the Parallel Upgrade Utility using the command-line parameters to specify how you want the upgrade to run. For example, to run the utility in serial mode instead of using parallel operations, specify the <code class="codeph">-n 1</code> option.
                  </p>
                  <div class="example" id="GUID-02F0D46C-22E2-4D64-99EE-B5FF7F0A8598__GUID-2BFA3F34-4E57-41C6-B22E-67786ABE9F44">
                     <p class="titleinexample">Example 4-1 Running Parallel Upgrade Utility with Parameters for CDB and Non-CDB Databases</p>
                     <p>If you use the option <code class="codeph">-n 4</code> when you run the Parallel Upgrade Utility, then the upgrade process creates <code class="codeph">catupgrd0.log</code>, <code class="codeph">catupgrd1.log</code>, <code class="codeph">catupgrd2.log</code>, and <code class="codeph">catupgrd3.log</code>. Check all of the <code class="codeph">catupgrd</code><span class="variable" translate="no">#</span><code class="codeph">.log</code> files to confirm that the upgrade succeeded. If the upgrade failed, and you fix issues and run the Parallel Upgrade Utility again, then the previous log files are overwritten, unless you specify a different log directory by using the <code class="codeph">-l</code> parameter.
                     </p>
                     <p>For example:</p><pre class="pre codeblock"><code>cd $ORACLE_HOME/bin
dbupgrade -n 4 -l $ORACLE_HOME/diagnostics</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-02F0D46C-22E2-4D64-99EE-B5FF7F0A8598__GUID-73C419B3-5455-45E1-9B8C-7035682D6875">
                     <p class="titleinexample">Example 4-2 Running Parallel Upgrades on Multiple Pluggable Databases (PDBs) Using Parallel Upgrade Utility </p>
                     <p>These examples show how parameter settings change the way that the Parallel Upgrade Utility performs the upgrade on multiple PDBs. </p>
                     <div class="infoboxnote" id="GUID-02F0D46C-22E2-4D64-99EE-B5FF7F0A8598__GUID-0040239D-D428-4EE7-A16F-05C05921ECA4">
                        <p class="notep1">Note:</p>
                        <div class="p">In your upgrade plans, be aware of the following: 
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The CDB$ROOT defaults to a minimum value of 4 SQL processes, and to a maximum value of 8</p>
                              </li>
                              <li>
                                 <p>The default value for <code class="codeph">-N</code> is 2. 
                                 </p>
                              </li>
                              <li>
                                 <p>PDB$SEED always counts as one (1) PDB in the upgrade cycles</p>
                              </li>
                              <li>
                                 <p>The default for the Parallel Upgrade Utility parameter <code class="codeph">-n</code> is the value of the CPU_COUNT parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <p>In the following examples, the system is an Oracle Multitenant Oracle Database system that has a CPU_COUNT value of 24. </p>
                     <p>Run the Parallel Upgrade Utility without specifying values for the parameters <code class="codeph">-n</code> and <code class="codeph">-N</code> (that is, accept the default value of -N, which is 2, and accept the default value of <code class="codeph">-n</code> as the CPU_COUNT parameter value, which is 24). The following parallel processing occurs: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>12 PDBs are upgraded in parallel (CPU_COUNT divided by 2)</p>
                        </li>
                        <li>
                           <p>2 parallel processes run for each PDB</p>
                        </li>
                     </ul>
                     <p>Specify the value of <code class="codeph">-n</code> as 64, and <code class="codeph">-N</code> as 4. The following parallel processing occurs:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>16 PDBs are upgraded together (64 divided by 4)</p>
                        </li>
                        <li>
                           <p>4 parallel processes run for each PDB</p>
                        </li>
                     </ul>
                     <p>Specify the value of <code class="codeph">-n</code> as 20, and <code class="codeph">-N</code> as 2. The following parallel processing occurs:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>10 PDBs are upgraded together (20 divided by 2)</p>
                        </li>
                        <li>
                           <p>2 parallel processes run for each PDB </p>
                        </li>
                     </ul>
                     <p>Specify the value of <code class="codeph">-n</code> as 10, and <code class="codeph">-N</code> as 4. The following parallel processing occurs:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>2 PDBs are upgraded together (10 divided by 4), rounded down.</p>
                        </li>
                        <li>
                           <p>4 parallel processes run for each PDB</p>
                        </li>
                     </ul>
                     <p>Do not specify the value of <code class="codeph">-n</code> (that is, accept the default value of <code class="codeph">-n</code>, which is the value of the CPU_COUNT parameter), and specify the value of <code class="codeph">-N</code> as 1. The following parallel processing occurs:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>24 PDBs are upgraded together (CPU_COUNT value divided by 1)</p>
                        </li>
                        <li>
                           <p>1 process runs for each PDB</p>
                        </li>
                     </ul>
                     <p>Specify a value for <code class="codeph">-n</code> as 20, and do not specify the value for <code class="codeph">-N</code> (that is, accept the default value of <code class="codeph">-N</code>, which is 2). The following parallel processing occurs:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>10 PDBs are upgraded together (20 divided by 2)</p>
                        </li>
                        <li>
                           <p>2 parallel processes run for each PDB</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-parallel-upgrade-utility-catctl-pl.html#GUID-9AA7ADC1-E2F7-4C26-9E91-A583D1D694C5" title="This section describes how to use the Parallel Upgrade Utility (catctl.pl) to run manual upgrades using parallel processing, inclusion and exclusion lists, and other features to manage your upgrade.">Upgrading with Parallel Upgrade Utility (catctl.pl and dbupgrade Shell Command)</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>