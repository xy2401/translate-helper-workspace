<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>API Reference for SQL Translation of JDBC Applications</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Translation and Migration Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Translation and Migration Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-translation-and-migration-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T06:11:48-08:00">
      <meta name="dcterms.title" content="SQL Translation and Migration Guide">
      <meta name="dcterms.dateCopyrighted" content="2011, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96457-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="API-ref-for-oracle-MySQL-client-library.html" title="Previous" type="text/html">
      <link rel="next" href="glossary.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DRDAA">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="API-ref-for-oracle-MySQL-client-library.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="glossary.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Translation and Migration Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">API Reference for SQL Translation of JDBC Applications </li>
            </ol>
            <a id="GUID-7D294E1D-8FC6-4850-B3B2-3940516C09E8" name="GUID-7D294E1D-8FC6-4850-B3B2-3940516C09E8"></a><a id="DRDAA195"></a>
            
            <h2 id="DRDAA-GUID-7D294E1D-8FC6-4850-B3B2-3940516C09E8" class="sect2"><span class="enumeration_chapter">8 </span>API Reference for SQL Translation of JDBC Applications 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Consider the APIs that are part of the <code class="codeph">oracle.jdbc</code> package, specifically the elements of <code class="codeph">oracle.jdbc</code> that assist in SQL translation. To successfully migrate JDBC applications, it is important to understand the translation properties, interfaces, and the error translation mechanisms.
               </p>
               <div class="infoboxnotealso" id="GUID-7D294E1D-8FC6-4850-B3B2-3940516C09E8__GUID-3B73D073-22CF-46C7-BA7E-C019477BF5E1">
                  <p class="notep1">See Also:</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Complete documentation of the <code class="codeph">oracle.jdbc</code> package in <span><cite>Oracle Database JDBC Java API Reference</cite></span></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DRDAA232"></a><a id="DRDAA231"></a><div class="props_rev_3"><a id="GUID-3C5FAC5A-D05A-4453-800F-E29E9539BDEB" name="GUID-3C5FAC5A-D05A-4453-800F-E29E9539BDEB"></a><h3 id="DRDAA-GUID-3C5FAC5A-D05A-4453-800F-E29E9539BDEB" class="sect3">Translation Properties</h3>
               <div>
                  <div class="section">
                     <p>The <a id="d24192e104" class="indexterm-anchor"></a>translation properties are listed in <a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-3C5FAC5A-D05A-4453-800F-E29E9539BDEB__CACIFBAG" title="the rows are properties. colums 1 is name and column2 is description">Table 8-1</a></p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-3C5FAC5A-D05A-4453-800F-E29E9539BDEB__CACIFBAG">
                     <p class="titleintable">Table 8-1 Translation Properties</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Translation Properties" summary="the rows are properties. colums 1 is name and column2 is description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d24192e123">Property</th>
                              <th align="left" valign="bottom" width="69%" id="d24192e126">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d24192e131" headers="d24192e123 ">
                                 <p><a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-C71CF14E-FEA0-4FDB-B7C1-58F9015E2201">sqlTranslationProfile</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d24192e131 d24192e126 ">
                                 <p>Specifies the name of the transaction profile</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d24192e140" headers="d24192e123 ">
                                 <p><a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-C09F0C22-E649-4246-81D9-3E525E5F236B">sqlErrorTranslationFile</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d24192e140 d24192e126 ">
                                 <p>Specifies the path of the SQL error translation file</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="DRDAA234"></a><a id="DRDAA29641"></a><a id="DRDAA235"></a><a id="DRDAA237"></a><a id="DRDAA233"></a><div class="props_rev_3"><a id="GUID-C71CF14E-FEA0-4FDB-B7C1-58F9015E2201" name="GUID-C71CF14E-FEA0-4FDB-B7C1-58F9015E2201"></a><h4 id="DRDAA-GUID-C71CF14E-FEA0-4FDB-B7C1-58F9015E2201" class="sect4">sqlTranslationProfile</h4>
                  <div>
                     <div class="section">
                        <p>The property <code class="codeph">oracle.jdbc.sqlTranslationProfile</code> specifies the name of the transaction profile.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C71CF14E-FEA0-4FDB-B7C1-58F9015E2201__GUID-5BBA8065-C94B-4322-80B0-2F24A5797A40">Declaration</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">oracle.jdbc.sqlTranslationProfile</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C71CF14E-FEA0-4FDB-B7C1-58F9015E2201__GUID-1C7D312D-D801-4158-A94E-5EB8963513BF">Constant</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">OracleConnection.CONNECTION_PROPERTY_SQL_TRANSLATON_PROFILE
</pre><p>The value of the constant is <code class="codeph">oracle.jdbc.sqlTranslationProfile</code>. This is also the property name.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C71CF14E-FEA0-4FDB-B7C1-58F9015E2201__GUID-58FD09B4-8CAC-4C6E-93E6-3D85DD850E6F">Property Value</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The value is a string. There is no default value.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C71CF14E-FEA0-4FDB-B7C1-58F9015E2201__GUID-5A42F406-6EDF-4253-8CF0-D101DF5F1B67">Remarks</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The property <code class="codeph">sqlTranslationProfile</code> can be set as either a system property or a connection property. The property is required to use SQL translation. If this property is set then all statements created by the connection have SQL translation enabled unless otherwise specified.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DRDAA239"></a><a id="DRDAA29642"></a><a id="DRDAA240"></a><a id="DRDAA241"></a><a id="DRDAA242"></a><a id="DRDAA238"></a><div class="props_rev_3"><a id="GUID-C09F0C22-E649-4246-81D9-3E525E5F236B" name="GUID-C09F0C22-E649-4246-81D9-3E525E5F236B"></a><h4 id="DRDAA-GUID-C09F0C22-E649-4246-81D9-3E525E5F236B" class="sect4">sqlErrorTranslationFile</h4>
                  <div>
                     <div class="section">
                        <p>The property <code class="codeph">oracle.jdbc.sqlErrorTranslationFile</code> specifies the path of the SQL error translation file. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C09F0C22-E649-4246-81D9-3E525E5F236B__GUID-FAD31705-B55A-44AB-B9C0-5B7DDE350454">Declaration</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">oracle.jdbc.sqlErrorTranslationFile</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C09F0C22-E649-4246-81D9-3E525E5F236B__GUID-5EE62DA9-0DE6-4641-BC28-3BDB3E61ED78">Constant</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">Oracle.connection.CONNECTION_PROPERTY_SQL_ERROR_TRANSLATION_FILE.</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C09F0C22-E649-4246-81D9-3E525E5F236B__GUID-4F7083FB-3D67-4142-9EBE-3D72096F9ECD">Property Value</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The value is a path name. It has no default value.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C09F0C22-E649-4246-81D9-3E525E5F236B__GUID-4240C21F-5997-46A7-A242-E5C6DD3CE579">Exceptions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>An error in establishing a connection results in a SQLException but without a valid connection. However the SQL error translation file path is available either as a system property or connection property and will be used to translate the error.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C09F0C22-E649-4246-81D9-3E525E5F236B__GUID-1C18F9F8-6127-4E68-8EB5-7FDD7D9DE5C3">Remarks</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This file is used only for translating errors which occur when connection establishment fails. Once the connection is established this file is bypassed and is not considered even if it contains the translation details for any error which occurs after the connection is established. The property <code class="codeph">sqlErrorTranslationFile</code> can be either a system property or a connection property. The content of this file is used to translate Oracle SQLExceptions into foreign SQLExceptions when there is no valid connection.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DRDAA29431"></a><a id="DRDAA244"></a><a id="DRDAA243"></a><div class="props_rev_3"><a id="GUID-27BC68F7-EB20-4D39-984A-320E2C282C64" name="GUID-27BC68F7-EB20-4D39-984A-320E2C282C64"></a><h3 id="DRDAA-GUID-27BC68F7-EB20-4D39-984A-320E2C282C64" class="sect3">OracleTranslatingConnection Interface</h3>
               <div>
                  <div class="section">
                     <p>This interface is only implemented by a Connection object that supports SQL Translation. The main purpose of this interface is to get non-translating statements (including <code class="codeph">preparedStatement</code> and <code class="codeph">CallableStatement</code>) from a translating connection. 
                     </p>
                     <p>The public interface <code class="codeph">oracle.jdbc.OracleTranslatingConnection</code> defines the factory methods for creating translating and non-translating <code class="codeph">Statement</code> objects.
                     </p>
                     <p>The <code class="codeph">OracleTranslatingConnection</code> enumerations are listed in <a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-27BC68F7-EB20-4D39-984A-320E2C282C64__CHDFBJID" title="the rows are methods. column1 is name and column 2 is description">Table 8-2</a>:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-27BC68F7-EB20-4D39-984A-320E2C282C64__CHDFBJID">
                     <p class="titleintable">Table 8-2 OracleTranslatingConnection Enumeration</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="OracleTranslatingConnection Enumeration" summary="the rows are methods. column1 is name and column 2 is description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d24192e430">Name</th>
                              <th align="left" valign="bottom" width="69%" id="d24192e433">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d24192e438" headers="d24192e430 ">
                                 <p><a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-3D54DF84-D93F-4C47-8EA3-58B170888E68">SqlTranslationVersion</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d24192e438 d24192e433 ">
                                 <p>Provides the Keys to the map</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The <code class="codeph">OracleTranslatingConnection</code> methods are listed in <a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-27BC68F7-EB20-4D39-984A-320E2C282C64__CACBHFGA" title="the rows are methods. column1 is name and column 2 is description">Table 8-3</a>:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-27BC68F7-EB20-4D39-984A-320E2C282C64__CACBHFGA">
                     <p class="titleintable">Table 8-3 OracleTranslatingConnection Methods</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="OracleTranslatingConnection Methods" summary="the rows are methods. column1 is name and column 2 is description" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="32%" id="d24192e467">Name</th>
                              <th align="left" valign="bottom" width="68%" id="d24192e470">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d24192e475" headers="d24192e467 ">
                                 <p><a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE">createStatement()</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d24192e475 d24192e470 ">
                                 <p>Creates a <code class="codeph">Statement</code> object with option to translate or not translate SQL.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d24192e487" headers="d24192e467 ">
                                 <p><a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-3348FFC1-51B0-482F-B33D-D227A5769532">prepareCall()</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d24192e487 d24192e470 ">
                                 <p>Creates a <code class="codeph">CallableStatement</code> object with option to translate or not translate SQL.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d24192e499" headers="d24192e467 ">
                                 <p><a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B">prepareStatement()</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d24192e499 d24192e470 ">
                                 <p>Creates a <code class="codeph">PreparedStatement</code> object with option to translate or not translate SQL.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="32%" id="d24192e511" headers="d24192e467 ">
                                 <p><a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-944F5010-DFE0-496A-88B0-32732651C766">getSQLTranslationVersions()</a></p>
                              </td>
                              <td align="left" valign="top" width="68%" headers="d24192e511 d24192e470 ">
                                 <p>Returns a map of all the translation versions of the query during SQL Translation.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="DRDAA29447"></a><a id="DRDAA29446"></a><div class="props_rev_3"><a id="GUID-3D54DF84-D93F-4C47-8EA3-58B170888E68" name="GUID-3D54DF84-D93F-4C47-8EA3-58B170888E68"></a><h4 id="DRDAA-GUID-3D54DF84-D93F-4C47-8EA3-58B170888E68" class="sect4">SqlTranslationVersion</h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">SqlTranslationVersion</code> enumerated values specify the keys to the <a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-944F5010-DFE0-496A-88B0-32732651C766">getSQLTranslationVersions()</a> method.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3D54DF84-D93F-4C47-8EA3-58B170888E68__GUID-3724AD7C-3101-4B74-B72D-B9F0D1E3EAC2">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">  public enum SqlTranslationVersion {
    ORIGINAL_SQL,
    JDBC_MARKER_CONVERTED,
    TRANSLATED
  }
</pre><p>The following table lists all the <code class="codeph">SqlTranslationVersion</code> enumeration values with a description of each enumerated value.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3D54DF84-D93F-4C47-8EA3-58B170888E68__GUID-A136EE84-3E04-4694-A77E-4F41C31A7541">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d24192e592">Member Name</th>
                                 <th align="left" valign="bottom" width="70%" id="d24192e595">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e600" headers="d24192e592 ">
                                    <p><code class="codeph">ORIGINAL_SQL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d24192e600 d24192e595 ">
                                    <p>Specifies the original vendor specific sql</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e608" headers="d24192e592 "><pre class="oac_no_warn" dir="ltr">JDBC_MARKER_CONVERTED</pre></td>
                                 <td align="left" valign="top" width="70%" headers="d24192e608 d24192e595 ">
                                    <p>Specifies that JDBC parameter markers ('?') is replaced with Oracle style parameter markers (':b&lt;<span class="italic">n</span>&gt;'). Hence consecutive '?'s will be converted to <code class="codeph">:b1</code>, <code class="codeph">:b2</code>, <code class="codeph">:b3</code> and so on. This change is required to take care of any changes in the order of parameters during translation. This version is sent to the server for translation. Hence any custom translations on the server must be registered from this version and not the <code class="codeph">ORIGINAL_SQL</code> version.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e630" headers="d24192e592 "><pre class="oac_no_warn" dir="ltr">TRANSLATED</pre></td>
                                 <td align="left" valign="top" width="70%" headers="d24192e630 d24192e595 ">
                                    <p>Specifies the translated query returned from the server</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="DRDAA246"></a><a id="DRDAA247"></a><a id="DRDAA248"></a><a id="DRDAA29432"></a><a id="DRDAA29433"></a><a id="DRDAA245"></a><div class="props_rev_3"><a id="GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE" name="GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE"></a><h4 id="DRDAA-GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE" class="sect4">createStatement()</h4>
                  <div>
                     <div class="section">
                        <p>This group of methods create a <code class="codeph">Statement</code> object, and specify whether the statement supports SQL translation. If the value of parameter <code class="codeph">translating</code> is <code class="codeph">TRUE</code>, then the returning statement supports translation and is identical to the corresponding version in the java.sql.Connection interface without the translating argument. If the value is <code class="codeph">FALSE</code>, then the returning statement does not support translation.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE__GUID-B1A4780A-F56B-492E-9724-E0588C43E115">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists versions of the constructor; second column provides descriptions of these versions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="52%" id="d24192e721">Syntax</th>
                                 <th align="left" valign="bottom" width="48%" id="d24192e724">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="52%" id="d24192e729" headers="d24192e721 "><pre class="oac_no_warn" dir="ltr">public Statement createStatement(
&nbsp;&nbsp;boolean translating)
throws SQLException;</pre></td>
                                 <td align="left" valign="top" width="48%" headers="d24192e729 d24192e724 ">
                                    <p>Creates a <code class="codeph">Statement</code> object with option to translate or not translate SQL.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="52%" id="d24192e739" headers="d24192e721 "><pre class="oac_no_warn" dir="ltr">public Statement createStatement(
&nbsp;&nbsp;int resultSetType,&nbsp;&nbsp;int resultSetConcurrency,&nbsp;&nbsp;boolean translating)
throws SQLException;</pre></td>
                                 <td align="left" valign="top" width="48%" headers="d24192e739 d24192e724 ">
                                    <p>Creates a <code class="codeph">Statement</code> object with the given type and concurrency with option to translate or not translate SQL.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="52%" id="d24192e749" headers="d24192e721 "><pre class="oac_no_warn" dir="ltr">public Statement createStatement(
&nbsp;&nbsp;int resultSetType,
&nbsp;&nbsp;int resultSetConcurrency,
&nbsp;&nbsp;int resultSetHoldability,
&nbsp;&nbsp;boolean translating)
throws SQLException;</pre></td>
                                 <td align="left" valign="top" width="48%" headers="d24192e749 d24192e724 ">
                                    <p>Creates a <code class="codeph">Statement</code> object with the given type, concurrency, and holdability with option to translate or not translate SQL.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE__GUID-4209140E-A0B8-47CD-BE85-B252DFBAEE37">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE__GUID-B1A683DF-9941-40F1-B418-B16A62445751">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="28%" id="d24192e769">Parameter</th>
                                 <th align="left" valign="bottom" width="72%" id="d24192e772">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d24192e777" headers="d24192e769 "><pre class="oac_no_warn" dir="ltr">resultSetType</pre></td>
                                 <td align="left" valign="top" width="72%" headers="d24192e777 d24192e772 ">
                                    <p>Specifies the <code class="codeph">int</code> value representing the result set type.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d24192e787" headers="d24192e769 "><pre class="oac_no_warn" dir="ltr">resultSetConcurrency</pre></td>
                                 <td align="left" valign="top" width="72%" headers="d24192e787 d24192e772 ">
                                    <p>Specifies the <code class="codeph">int</code> value representing the result set concurrency type.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d24192e797" headers="d24192e769 ">
                                    <p><code class="codeph">resultSetHoldability</code></p>
                                 </td>
                                 <td align="left" valign="top" width="72%" headers="d24192e797 d24192e772 ">
                                    <p>Specifies the <code class="codeph">int</code> value representing the result set holdability type.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="28%" id="d24192e808" headers="d24192e769 "><pre class="oac_no_warn" dir="ltr">translating</pre></td>
                                 <td align="left" valign="top" width="72%" headers="d24192e808 d24192e772 ">
                                    <p>Specifies whether or not the statement supports translation.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE__GUID-652EA769-729C-494D-BC27-AD8B551A4DDB">Return Value</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">createStatement()</code> method returns a <code class="codeph">Statement</code> object.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE__GUID-43FBD9B2-985E-4119-BB03-9FAB5EE2D3A3">Exceptions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">createStatement()</code> method throws <code class="codeph">SQLException</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE__GUID-CF6AE1C6-537C-41D1-924E-F0452366FDA4">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Import the following packages before running the example:</p><pre class="oac_no_warn" dir="ltr">import java.sql.*;
import java.util.Properties;
 
import oracle.jdbc.OracleConnection;
import oracle.jdbc.OracleTranslatingConnection;
import oracle.jdbc.pool.OracleDataSource;
</pre><p>Run the following SQL statements:</p><pre class="oac_no_warn" dir="ltr">conn system/manager;
grant create sql translation profile to HR;
 
conn <span class="italic">username</span>/<span class="italic">pwd</span>;
drop table sample_tab;
create table sample_tab (c1 number, c2 varchar2(100));
insert into sample_tab values (1, 'A');
insert into sample_tab values (2, 'B');
commit;
exec dbms_sql_translator.drop_profile('FOO');
exec  dbms_sql_translator.create_profile('FOO');
exec  dbms_sql_translator.register_sql_translation('FOO','select row of (c1, c2) from sample_tab','select c1, c2 from sample_tab');</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E42312CD-FA52-4756-A166-CFFFFC3713CE__GUID-92E4DC9E-562B-47BE-96E2-2B4D1E1EA6C6">
                        <p class="titleinexample">Example 8-1 Using the createStatement() method</p><pre class="oac_no_warn" dir="ltr">public class SQLTransStmt 
{
  static String url="jdbc:oracle:thin:@localhost:5521:orcl";
  static String user="<span class="italic">username</span>", pwd="<span class="italic">pwd</span>";  
  static String PROFILE = "FOO";
  static String primitiveSql = "select row of (c1, c2) from sample_tab";
  
  public static void main(String[] args) throws Exception
  {       
    OracleDataSource ods = new OracleDataSource();
    ods.setURL(url);
        
    Properties props = new Properties();
    props.put("user", user);
    props.put("password", pwd);
    props.put(OracleConnection.CONNECTION_PROPERTY_SQL_TRANSLATION_PROFILE, PROFILE);
    ods.setConnectionProperties(props);
    Connection conn = ods.getConnection();
    System.out.println("connection for SQL translation: "+conn);
    
    try{
      OracleTranslatingConnection trConn = (OracleTranslatingConnection) conn;
      System.out.println("Call: oracle.jdbc.OracleTranslatingConnection.createStatement(true)");
      Statement trStmt = trConn.createStatement(true);
      System.out.println("executeQuery for: "+primitiveSql);
      ResultSet trRs = trStmt.executeQuery(primitiveSql);
      while (trRs.next())
        System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
      trRs.close();
      trStmt.close();
    }catch (Exception e) {
      e.printStackTrace();
    }
    
    try{
      OracleTranslatingConnection trConn = (OracleTranslatingConnection) conn;
      System.out.println("Call: oracle.jdbc.OracleTranslatingConnection.createStatement(false)");
      Statement trStmt = trConn.createStatement(false);
      System.out.println("executeQuery for: "+primitiveSql);
      ResultSet trRs = trStmt.executeQuery(primitiveSql);
      while (trRs.next())
        System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
      trRs.close();
      trStmt.close();
    }catch (Exception e) {
      System.out.println("expected Exception: "+e.getMessage());
    }
    
    try{
      OracleTranslatingConnection trConn = (OracleTranslatingConnection) conn;
      System.out.println("Call: oracle.jdbc.OracleTranslatingConnection.
createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE, true)");
      Statement trStmt = trConn.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE, true);
      System.out.println("executeQuery for: "+primitiveSql);
      ResultSet trRs = trStmt.executeQuery(primitiveSql);
      while (trRs.next())
        System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
      System.out.println("move resultset back to 2nd row...");
      trRs.absolute(2);
      while (trRs.next())
        System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
      trRs.close();
      trStmt.close();
    }catch (Exception e) {
      e.printStackTrace();
    }
    
    try{
      conn.setAutoCommit(false);
      OracleTranslatingConnection trConn = (OracleTranslatingConnection) conn;
      System.out.println("Call: oracle.jdbc.OracleTranslatingConnection.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE,
 ResultSet.HOLD_CURSORS_OVER_COMMIT, true)");
      Statement trStmt = trConn.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE, ResultSet.HOLD_CURSORS_OVER_COMMIT, true);
      System.out.println("executeQuery for: "+primitiveSql);
      ResultSet trRs = trStmt.executeQuery(primitiveSql);
      trRs.last();
      System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
      trRs.updateString(2, "Hello");
      trRs.updateRow();
      conn.commit();
      System.out.println("accept the update and list all of the rows again...");
      trRs.beforeFirst();
      while (trRs.next())
        System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
      trRs.close();
      trStmt.close();
    }catch (Exception e) {
      e.printStackTrace();
    }
    
    conn.close();
  }
}
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DRDAA251"></a><a id="DRDAA252"></a><a id="DRDAA253"></a><a id="DRDAA29434"></a><a id="DRDAA29435"></a><a id="DRDAA250"></a><div class="props_rev_3"><a id="GUID-3348FFC1-51B0-482F-B33D-D227A5769532" name="GUID-3348FFC1-51B0-482F-B33D-D227A5769532"></a><h4 id="DRDAA-GUID-3348FFC1-51B0-482F-B33D-D227A5769532" class="sect4">prepareCall()</h4>
                  <div>
                     <div class="section">
                        <p>This group of methods create a <code class="codeph">CallableStatement</code> object, and specify whether the statement supports SQL translation. If the value of parameter <code class="codeph">translating</code> is <code class="codeph">TRUE</code>, then the returning statement supports translation. If the value is <code class="codeph">FALSE</code>, then the returning statement does not support translation.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3348FFC1-51B0-482F-B33D-D227A5769532__GUID-546AA289-AA2B-4A4A-8675-08168CABB93C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists versions of the constructor; second column provides descriptions of these versions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="52%" id="d24192e953">Syntax</th>
                                 <th align="left" valign="bottom" width="48%" id="d24192e956">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="52%" id="d24192e961" headers="d24192e953 "><pre class="oac_no_warn" dir="ltr">public CallableStatement prepareCall(
&nbsp;&nbsp;String sql,
&nbsp;&nbsp;boolean translating)
throws SQLException;
</pre></td>
                                 <td align="left" valign="top" width="48%" headers="d24192e961 d24192e956 ">
                                    <p>Creates a <code class="codeph">CallableStatement</code> object with option to translate or not translate SQL 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="52%" id="d24192e971" headers="d24192e953 "><pre class="oac_no_warn" dir="ltr">public CallableStatement prepareCall(
&nbsp;&nbsp;String sql,
&nbsp;&nbsp;int resultSetType,
&nbsp;&nbsp;int resultSetConcurrency,
&nbsp;&nbsp;boolean translating)
throws SQLException;
</pre></td>
                                 <td align="left" valign="top" width="48%" headers="d24192e971 d24192e956 ">
                                    <p>Creates a <code class="codeph">CallableStatement</code> object with the given type and concurrency with option to translate or not translate SQL
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="52%" id="d24192e981" headers="d24192e953 "><pre class="oac_no_warn" dir="ltr">public CallableStatement prepareCall(
&nbsp;&nbsp;String sql,
&nbsp;&nbsp;int resultSetType,
&nbsp;&nbsp;int resultSetConcurrency,
&nbsp;&nbsp;int resultSetHoldability,
&nbsp;&nbsp;boolean translating)
throws SQLException;
</pre></td>
                                 <td align="left" valign="top" width="48%" headers="d24192e981 d24192e956 ">
                                    <p>Creates a <code class="codeph">CallableStatement</code> object with the given type, concurrency, and holdability with option to translate or not translate SQL
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3348FFC1-51B0-482F-B33D-D227A5769532__GUID-3F16B326-8902-4EB7-986D-29FE2FEEA098">Parameters</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3348FFC1-51B0-482F-B33D-D227A5769532__GUID-FE33AD39-1015-4018-A266-E65FC9DAE296">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d24192e1001">Parameter</th>
                                 <th align="left" valign="bottom" width="70%" id="d24192e1004">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1009" headers="d24192e1001 ">
                                    <p><code class="codeph">sql</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1009 d24192e1004 ">
                                    <p>Specifies the <code class="codeph">String</code> SQL statement value to be sent to the database; may contain one or more parameters
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1020" headers="d24192e1001 "><pre class="oac_no_warn" dir="ltr">resultSetType</pre></td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1020 d24192e1004 ">
                                    <p>Specifies the <code class="codeph">int</code> value representing the result set type
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1030" headers="d24192e1001 "><pre class="oac_no_warn" dir="ltr">resultSetConcurrency</pre></td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1030 d24192e1004 ">
                                    <p>Specifies the <code class="codeph">int</code> value representing the result set concurrency type
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1040" headers="d24192e1001 ">
                                    <p><code class="codeph">resultSetHoldability</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1040 d24192e1004 ">
                                    <p>Specifies the <code class="codeph">int</code> value representing the result set holdability type
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1051" headers="d24192e1001 "><pre class="oac_no_warn" dir="ltr">translating</pre></td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1051 d24192e1004 ">
                                    <p>Specifies whether or not the statement supports translation</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3348FFC1-51B0-482F-B33D-D227A5769532__GUID-A56B6093-3CF8-4083-91D6-273D5B30AFEF">Return Value</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">prepareCall()</code> method returns a <code class="codeph">CallableStatement</code> object.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3348FFC1-51B0-482F-B33D-D227A5769532__GUID-D8A1BD4D-690E-49B6-A482-3CC574044EDD">Exceptions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">prepareCall()</code> method throws <code class="codeph">SQLException</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3348FFC1-51B0-482F-B33D-D227A5769532__GUID-5F37EE6F-4BBD-4CD3-976C-4D40B6658378">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Import the following packages before running the example:</p><pre class="oac_no_warn" dir="ltr">import java.sql.*;
import java.util.Properties;
 
import oracle.jdbc.OracleConnection;
import oracle.jdbc.OracleTranslatingConnection;
import oracle.jdbc.pool.OracleDataSource;
</pre><p>Run the following SQL statements:</p><pre class="oac_no_warn" dir="ltr">conn system/manager;
grant create sql translation profile to HR;
 
conn <span class="italic">username</span>/<span class="italic">pwd</span>;
 
create or replace procedure sample_proc (p_num number, p_vchar in out varchar2) AS 
begin 
    p_vchar := 'p_num'||p_num||',  p_vchar'||p_vchar;
end;
/
 
exec dbms_sql_translator.drop_profile('FOO');
exec  dbms_sql_translator.create_profile('FOO');
exec  dbms_sql_translator.register_sql_translation('FOO', 'exec sample_proc(:b1, :b2)', '{call sample_proc(:b1, :b2)}');</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3348FFC1-51B0-482F-B33D-D227A5769532__GUID-92A1E1E3-37C9-4AEE-9F22-AF8350014B33">
                        <p class="titleinexample">Example 8-2 Using the prepareCall() method</p><pre class="oac_no_warn" dir="ltr">public class SQLTransCstmt 
{
  static String url="jdbc:oracle:thin:@localhost:5521:orcl";
  static String user="<span class="italic">username</span>", pwd="<span class="italic">pwd</span>";  
  static String PROFILE = "FOO";
  static String primitiveSql = "exec sample_proc(:b1, :b2)";
  
  public static void main(String[] args) throws Exception
  {       
    OracleDataSource ods = new OracleDataSource();
    ods.setURL(url);
        
    Properties props = new Properties();
    props.put("user", user);
    props.put("password", pwd);
    props.put(OracleConnection.CONNECTION_PROPERTY_SQL_TRANSLATION_PROFILE,
      PROFILE);
    ods.setConnectionProperties(props);
    Connection conn = ods.getConnection();
    System.out.println("connection for SQL translation: "+conn);
    
    try{
      OracleTranslatingConnection trConn = (OracleTranslatingConnection) conn;
      System.out.println(
        "Call: oracle.jdbc.OracleTranslatingConnection.prepareCall(sql, true)");
      CallableStatement trStmt = trConn.prepareCall(primitiveSql, true);
      trStmt.setInt("b1", 1);
      trStmt.setString("b2", "A");      
      trStmt.registerOutParameter("b2", Types.VARCHAR);
      System.out.println("execute for: "+primitiveSql);
      trStmt.execute();
      System.out.println("out param: "+trStmt.getString("b2"));
      
      trStmt.close();
    }catch (Exception e) {
      e.printStackTrace();
    }
    
    try{
      OracleTranslatingConnection trConn = (OracleTranslatingConnection) conn;
      System.out.println(
        "Call: oracle.jdbc.OracleTranslatingConnection.prepareCall(sql, false)");
      CallableStatement trStmt = trConn.prepareCall(primitiveSql, false);
      trStmt.setInt(1, 1);
      trStmt.setString(2, "A");     
      System.out.println("execute for: "+primitiveSql); 
      ResultSet trRs = trStmt.executeQuery();
      while (trRs.next())
        System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
      trRs.close();
      
      trStmt.close();
    }catch (Exception e) {
      System.out.println("expected Exception: "+e.getMessage());
    }
    
    conn.close();
  }
}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DRDAA257"></a><a id="DRDAA29436"></a><a id="DRDAA258"></a><a id="DRDAA29437"></a><a id="DRDAA29438"></a><a id="DRDAA255"></a><div class="props_rev_3"><a id="GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B" name="GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B"></a><h4 id="DRDAA-GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B" class="sect4">prepareStatement()</h4>
                  <div>
                     <div class="section">
                        <p>This group of methods create a <code class="codeph">PreparedStatement</code> object, and specify whether the statement supports SQL translation. If the value of parameter <code class="codeph">translating</code> is <code class="codeph">TRUE</code>, then the returning statement supports translation. If the value is <code class="codeph">FALSE</code>, then the returning statement does not support translation.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B__GUID-109E14EE-8B0A-4E2C-ACAC-2D5C47A04062">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists versions of the constructor; second column provides descriptions of these versions." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="57%" id="d24192e1195">Syntax</th>
                                 <th align="left" valign="bottom" width="43%" id="d24192e1198">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="57%" id="d24192e1203" headers="d24192e1195 "><pre class="oac_no_warn" dir="ltr">public PreparedStatement prepareStatement(
&nbsp;&nbsp;String sql,
&nbsp;&nbsp;boolean translating)
throws SQLException;
</pre></td>
                                 <td align="left" valign="top" width="43%" headers="d24192e1203 d24192e1198 ">
                                    <p>Creates a <code class="codeph">PreparedStatement</code> object with option to translate or not translate SQL 
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="57%" id="d24192e1213" headers="d24192e1195 "><pre class="oac_no_warn" dir="ltr">public PreparedStatement prepareStatement(
&nbsp;&nbsp;String sql,
&nbsp;&nbsp;int resultSetType,
&nbsp;&nbsp;int resultSetConcur,
&nbsp;&nbsp;boolean translating)
throws SQLException;
</pre></td>
                                 <td align="left" valign="top" width="43%" headers="d24192e1213 d24192e1198 ">
                                    <p>Creates a <code class="codeph">PreparedStatement</code> object with the given type and concurrency with option to translate or not translate SQL
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="57%" id="d24192e1223" headers="d24192e1195 "><pre class="oac_no_warn" dir="ltr">public PreparedStatement prepareStatement(
        String sql,
        int resultSetType,
        int resultSetConcur,
        int resultSetHold,
        boolean translating)
throws SQLException;
</pre></td>
                                 <td align="left" valign="top" width="43%" headers="d24192e1223 d24192e1198 ">
                                    <p>Creates a <code class="codeph">PreparedStatement</code> object with the given type, concurrency, and holdability with option to translate or not translate SQL
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B__GUID-683B91CB-0971-474A-9486-68E7C072EBDC">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d24192e1240">Parameter</th>
                                 <th align="left" valign="bottom" width="70%" id="d24192e1243">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1248" headers="d24192e1240 ">
                                    <p><code class="codeph">sql</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1248 d24192e1243 ">
                                    <p>Specifies the <code class="codeph">String</code> SQL statement value to be sent to the database; may contain one or more parameters
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1259" headers="d24192e1240 "><pre class="oac_no_warn" dir="ltr">resultSetType</pre></td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1259 d24192e1243 ">
                                    <p>Specifies the <code class="codeph">int</code> value representing the result set type
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1269" headers="d24192e1240 "><pre class="oac_no_warn" dir="ltr">resultSetConcur</pre></td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1269 d24192e1243 ">
                                    <p>Specifies the <code class="codeph">int</code> value representing the result set concurrency type
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1279" headers="d24192e1240 ">
                                    <p><code class="codeph">resultSetHold</code></p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1279 d24192e1243 ">
                                    <p>Specifies the <code class="codeph">int</code> value representing the result set holdability type
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d24192e1290" headers="d24192e1240 "><pre class="oac_no_warn" dir="ltr">translating</pre></td>
                                 <td align="left" valign="top" width="70%" headers="d24192e1290 d24192e1243 ">
                                    <p>Specifies whether or not the statement supports translation</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B__GUID-E83903F6-45C3-4A2A-AD9C-06BB83257B6E">Return Value</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">prepareStatement()</code> method returns a <code class="codeph">PreparedStatement</code> object.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B__GUID-2483936A-FFFD-4288-A380-1803538F246E">Usage Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When the "<code class="codeph">?</code>" placeholder is used with the <code class="codeph">prepareStatement()</code> method, the driver internally changes the "<code class="codeph">?</code>" to Oracle-style parameters because the server side translator can only work with Oracle-style markers. This is necessary to distinguish the bind variables. If not, any change in the order of the bind variables will be indistinguishable. The replaced oracle style markers follow the format <code class="codeph">:b&lt;</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">&gt;</code> where <code class="codeph">&lt;</code><span class="italic"><code class="codeph">n</code></span><code class="codeph">&gt;</code> is an incremental number. For example,<code class="codeph"> exec sample_proc(?,?)</code> becomes <code class="codeph">exec sample_proc(:b1,:b2)</code>. 
                        </p>
                        <p>To further exemplify, consider a scenario of a vendor format where the vendor query selecting top three rows is <code class="codeph">SELECT * FROM employees WHERE first_name=? AND employee_id=? TOP 3</code>. The query has to be converted to oracle dialect. In this case the following translation is to be registered on the server:
                        </p>
                        <p><span class="italic">From: </span></p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees WHERE first_name=:b1 AND employee_id=:b2 TOP 3
</pre><p><span class="italic">To:</span> 
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees WHERE first_name=:b1 AND employee_id=:b2 AND ROWNUM &lt;= 3
</pre><p>See <a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-3D54DF84-D93F-4C47-8EA3-58B170888E68">SqlTranslationVersion</a> and <span class="q">"<a href="SQL-translation-JDBC-ODBC-applications.html#GUID-63B5F2C5-BE69-4E66-88D2-55627A53D9CE">SQL Translation of JDBC Applications</a>"</span> for more information.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B__GUID-44E65439-10A5-4D50-B167-2E2A36AA2E6D">Exceptions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The <code class="codeph">prepareStatement()</code> method throws <code class="codeph">SQLException</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B__GUID-6247256B-1BC9-4372-954C-582641117F2B">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Import the following packages before running the example:</p><pre class="oac_no_warn" dir="ltr">import java.sql.*;
import java.util.Properties;
 
import oracle.jdbc.OracleConnection;
import oracle.jdbc.OracleTranslatingConnection;
import oracle.jdbc.pool.OracleDataSource;
</pre><p>Run the following SQL statements:</p><pre class="oac_no_warn" dir="ltr">conn system/manager;
grant create sql translation profile to USER;
 
conn <span class="italic">username</span>/<span class="italic">pwd</span>;
drop table sample_tab;
create table sample_tab (c1 number, c2 varchar2(100));
insert into sample_tab values (1, 'A');
insert into sample_tab values (1, 'A');
insert into sample_tab values (1, 'A');
commit;
exec dbms_sql_translator.drop_profile('FOO');
exec  dbms_sql_translator.create_profile('FOO');
exec  dbms_sql_translator.register_sql_translation('FOO','select row of select c1, c2 from sample_tab
 where c1=:b1 and c2=:b2','select c1, c2 from sample_tab where c1=:b1 and c2=:b2');</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C03857B2-BEED-44A7-BD15-9CA55F9EBF4B__GUID-584BDC4D-5A00-42B3-B964-C6BBF7874F6F">
                        <p class="titleinexample">Example 8-3 Using the prepareStatement() method</p><pre class="oac_no_warn" dir="ltr">public class SQLTransPstmt 
{
&nbsp;&nbsp;static String url="jdbc:oracle:thin:@localhost:5521:orcl";
&nbsp;&nbsp;static String user="<span class="italic">username</span>", pwd="<span class="italic">pwd</span>";  
&nbsp;&nbsp;static String PROFILE = "FOO";
&nbsp;&nbsp;static String primitiveSql = "select row of select c1, c2 from sample_tab 
&nbsp;&nbsp;&nbsp;&nbsp;where c1=:b1 and c2=:b2";
  
&nbsp;&nbsp;public static void main(String[] args) throws Exception
&nbsp;&nbsp;{       
&nbsp;&nbsp;&nbsp;&nbsp;OracleDataSource ods = new OracleDataSource();
&nbsp;&nbsp;&nbsp;&nbsp;ods.setURL(url);
        
&nbsp;&nbsp;&nbsp;&nbsp;Properties props = new Properties();
&nbsp;&nbsp;&nbsp;&nbsp;props.put("user", user);
&nbsp;&nbsp;&nbsp;&nbsp;props.put("password", pwd);
&nbsp;&nbsp;&nbsp;&nbsp;props.put(OracleConnection.CONNECTION_PROPERTY_SQL_TRANSLATION_PROFILE,
&nbsp;&nbsp;&nbsp;&nbsp;  PROFILE);
&nbsp;&nbsp;&nbsp;&nbsp;ods.setConnectionProperties(props);
&nbsp;&nbsp;&nbsp;&nbsp;Connection conn = ods.getConnection();
&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("connection for SQL translation: "+conn);
    
&nbsp;&nbsp;&nbsp;&nbsp;try{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OracleTranslatingConnection trConn = (OracleTranslatingConnection) conn;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("Call:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oracle.jdbc.OracleTranslatingConnection.prepareStatement(sql, true)");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PreparedStatement trStmt = trConn.prepareStatement(primitiveSql, true);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trStmt.setInt(1, 1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trStmt.setString(2, "A");      
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("executeQuery for: "+primitiveSql);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ResultSet trRs = trStmt.executeQuery();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (trRs.next())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trRs.close();    
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trStmt.close();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}catch (Exception e) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();
&nbsp;&nbsp;&nbsp;&nbsp;}
    
&nbsp;&nbsp;&nbsp;&nbsp;try{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OracleTranslatingConnection trConn = (OracleTranslatingConnection) conn;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("Call:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oracle.jdbc.OracleTranslatingConnection.prepareStatement(sql, false)");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PreparedStatement trStmt = trConn.prepareStatement(primitiveSql, false);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trStmt.setInt(1, 1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trStmt.setString(2, "A");    
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("executeQuery for: "+primitiveSql);  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ResultSet trRs = trStmt.executeQuery();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (trRs.next())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trRs.close();
      
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trStmt.close();
&nbsp;&nbsp;&nbsp;&nbsp;}catch (Exception e) {
&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("expected Exception: "+e.getMessage());
    }
    
&nbsp;&nbsp;&nbsp;&nbsp;try{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OracleTranslatingConnection trConn = (OracleTranslatingConnection) conn;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("Call:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oracle.jdbc.OracleTranslatingConnection.prepareStatement(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sql, ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE, true)");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PreparedStatement trStmt = trConn.prepareStatement(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;primitiveSql, ResultSet.TYPE_SCROLL_SENSITIVE, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ResultSet.CONCUR_READ_ONLY, true);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trStmt.setInt(1, 1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trStmt.setString(2, "A");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("executeQuery for: "+primitiveSql);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ResultSet trRs = trStmt.executeQuery();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (trRs.next())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
            
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("trRs.beforeFirst and show resultSet again...");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trRs.beforeFirst();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while (trRs.next())
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println("C1:"+trRs.getInt(1)+", C2:"+trRs.getString(2));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trRs.close();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trStmt.close();
&nbsp;&nbsp;&nbsp;&nbsp;}catch (Exception e) {
&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();
    }
    
&nbsp;&nbsp;conn.close();
&nbsp;&nbsp;}
}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DRDAA29643"></a><a id="DRDAA29498"></a><a id="DRDAA29499"></a><a id="DRDAA29497"></a><div class="props_rev_3"><a id="GUID-944F5010-DFE0-496A-88B0-32732651C766" name="GUID-944F5010-DFE0-496A-88B0-32732651C766"></a><h4 id="DRDAA-GUID-944F5010-DFE0-496A-88B0-32732651C766" class="sect4">getSQLTranslationVersions()</h4>
                  <div>
                     <div class="section">
                        <p>Returns a map of all the translation versions of the query during SQL Translation. In case of an exception, and if <code class="codeph">suppressExceptions</code> is true, then the translated version in the map is <code class="codeph">NULL</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-944F5010-DFE0-496A-88B0-32732651C766__GUID-518F37F0-4300-4C1D-9EC0-F578238BDA38">Syntax</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public Map&lt;SqlTranslationVersion, String&gt; getSqlTranslationVersions(
&nbsp;&nbsp;String sql, 
&nbsp;&nbsp;boolean suppressExceptions) 
throws SQL Exception;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-944F5010-DFE0-496A-88B0-32732651C766__GUID-097773EA-C61F-43B2-9C62-93637AC21F6A">Return Value</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Map with all translation versions of a query. See <a href="API-ref-for-SQL-translation-of-JDBC-apps.html#GUID-3D54DF84-D93F-4C47-8EA3-58B170888E68">SqlTranslationVersion</a> <code class="codeph">enum</code> for more details about returning versions.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-944F5010-DFE0-496A-88B0-32732651C766__GUID-32677C7B-CD1E-46FD-B788-E979CE85939F">Exception</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This method throws <code class="codeph">SQLException</code> if there is a problem in query translation, provided <code class="codeph">suppressExceptions</code> is false.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="DRDAA260"></a><div class="props_rev_3"><a id="GUID-51CBE1C8-F927-46F4-83E9-2F4A24C2123D" name="GUID-51CBE1C8-F927-46F4-83E9-2F4A24C2123D"></a><h3 id="DRDAA-GUID-51CBE1C8-F927-46F4-83E9-2F4A24C2123D" class="sect3">Error Translation Configuration File</h3>
               <div>
                  <div class="section">
                     <p>An XML configuration file (path) is provided as a value of the <a id="d24192e1558" class="indexterm-anchor"></a><a id="d24192e1560" class="indexterm-anchor"></a><a id="d24192e1564" class="indexterm-anchor"></a><code class="codeph">oracle.jdbc.sqlErrorTranslationFile</code> property. This file contains the translations information for errors. These errors occur when a connection to the server cannot be established and thus translation cannot happen on the server. Error messages are of the type that define the state of the database that prevents the connection from being established.
                     </p>
                     <p>The structure of the configuration XML file is defined in the DTD as follows:</p><pre class="oac_no_warn" dir="ltr">&lt;!DOCTYPE LocalTranslationProfile[
 
&lt;!ELEMENT LocalTranslationProfile (Exception+)&gt;
&lt;!ELEMENT Exception (ORAError, ErrorCode, SQLState )&gt;
&lt;!ELEMENT ORAError (#PCDATA)&gt;
&lt;!ELEMENT ErrorCode (#PCDATA)&gt;
&lt;!ELEMENT SQLState (#PCDATA)&gt;
]&gt;
</pre><p>where,</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ORAError</code> is an <code class="codeph">int</code> value and specifies the error code for the oracle error.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ErrorCode</code> is an <code class="codeph">int</code> value and specifies the vendor error code, that is, the translated code.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SQLState</code> is a <code class="codeph">String</code> value and specifies the vendor SQL state.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>