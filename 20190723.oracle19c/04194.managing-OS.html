<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>About Managing Your Operating System Resources</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Java Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Java Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="java-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T00:55:24-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96468-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="Class-forName-method.html" title="Previous" type="text/html">
      <link rel="next" href="using-Runtime-exec.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Java Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JJDEV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="Class-forName-method.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-Runtime-exec.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Java-applications-in-database.html" property="item" typeof="WebPage"><span property="name"> Java Applications on Oracle Database </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">About Managing Your Operating System Resources</li>
            </ol>
            <a id="GUID-A3A7F414-245C-431F-8D03-4D85A1BCD3EA" name="GUID-A3A7F414-245C-431F-8D03-4D85A1BCD3EA"></a><a id="JJDEV13108"></a>
            
            <h2 id="JJDEV-GUID-A3A7F414-245C-431F-8D03-4D85A1BCD3EA" class="sect2"><span class="enumeration_section">2.9 </span>About Managing Your Operating System Resources
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d14186e86" class="indexterm-anchor"></a><a id="d14186e90" class="indexterm-anchor"></a>Operating system resources are a limited commodity on any computer. Because Java is targeted at providing a computing platform as well as a programming language, it contains platform-independent classes and frameworks for accessing platform-specific resources. <a id="d14186e95" class="indexterm-anchor"></a>The Java class methods access operating system resources through JVM. Java has potential problems with this model because programmers rely on the garbage collector to manage all resources, when all that the garbage collector manages is Java objects and not the operating system resources that the Java objects hold on to.
               </p>
               <p>In addition, when you use shared servers, your operating system resources, which are contained within Java objects, can be invalidated if they are maintained across calls within a session.</p>
               <p>The following sections discuss these potential problems:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="managing-OS.html#GUID-8DC3AEA7-1148-423B-9D01-EC8732EF1A75">Overview of Operating System Resources</a></p>
                  </li>
                  <li>
                     <p><a href="managing-OS.html#GUID-F2761D60-001F-4149-BB67-5890DBD96148">Garbage Collection and Operating System Resources</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="shared-server-consideration.html#GUID-D8CABE53-E0BF-4D31-ADAE-51DD84530C06">Operating System Resources Affected Across Calls</a></li>
                  </ul>
               </div>
            </div>
            <a id="JJDEV13110"></a><a id="JJDEV13111"></a><a id="JJDEV13109"></a><div class="props_rev_3"><a id="GUID-8DC3AEA7-1148-423B-9D01-EC8732EF1A75" name="GUID-8DC3AEA7-1148-423B-9D01-EC8732EF1A75"></a><h3 id="JJDEV-GUID-8DC3AEA7-1148-423B-9D01-EC8732EF1A75" class="sect3"><span class="enumeration_section">2.9.1 </span>Overview of Operating System Resources
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d14186e231" class="indexterm-anchor"></a>In general, your operating system resources contain the following:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-8DC3AEA7-1148-423B-9D01-EC8732EF1A75__GUID-F780D647-9F60-4540-AF86-0D57F7EAB259">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title summary="This table describes the operating system resources." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d14186e244">Operating System Resources</th>
                              <th align="left" valign="bottom" width="80%" id="d14186e247">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d14186e252" headers="d14186e244 ">
                                 <p>memory</p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d14186e252 d14186e247 ">
                                 <p>Oracle Database manages memory internally, allocating memory as you create objects and freeing objects as you no longer need them. The language and class libraries do not support a direct means to allocate and free memory.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d14186e259" headers="d14186e244 ">
                                 <p>files and sockets</p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d14186e259 d14186e247 ">
                                 <p>Java contains classes that represent file or socket resources. Instances of these classes hold on to the file or socket constructs, such as file handles, of the operating system.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d14186e266" headers="d14186e244 ">
                                 <p>threads</p>
                              </td>
                              <td align="left" valign="top" width="80%" headers="d14186e266 d14186e247 ">
                                 <p><a id="d14186e271" class="indexterm-anchor"></a>Oracle JVM threads provide no additional scalability over what is provided by the database support of multiple concurrently executing sessions. However, Oracle JVM supports the full Java threading API.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8DC3AEA7-1148-423B-9D01-EC8732EF1A75__GUID-BC9C0C7F-64C3-4006-AE7F-FA1E789267F6">Operating System Resource Access</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>By default, a Java user does not have direct access to most operating system resources. A system administrator can give permissions to a user to access these resources by modifying JVM security restrictions. JVM security enforced upon system resources conforms to Java 2 security.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8DC3AEA7-1148-423B-9D01-EC8732EF1A75__GUID-C44D77AE-4A0F-4C47-94E9-8ECF6417AF4D">Operating System Resource Lifetime</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You can access operating system resources using the standard core Java classes and methods. Once you access a resource, the time that it remains active varies according to the type of resource. Memory is garbage collected. Files, threads, and sockets persist across calls when you use a dedicated mode server. In shared server mode, files, threads, and sockets terminate when the call ends.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="database-contents-Oracle-JVM-security.html#GUID-0B0B3B02-2999-4A12-AEF8-4C0E4A47B758">Overview of Java 2 Security Features</a></li>
                        <li><a href="shared-server-consideration.html#GUID-D8CABE53-E0BF-4D31-ADAE-51DD84530C06">Operating System Resources Affected Across Calls</a></li>
                     </ul>
                  </div>
               </div>
               
            </div><a id="JJDEV13113"></a><a id="JJDEV13112"></a><div class="props_rev_3"><a id="GUID-F2761D60-001F-4149-BB67-5890DBD96148" name="GUID-F2761D60-001F-4149-BB67-5890DBD96148"></a><h3 id="JJDEV-GUID-F2761D60-001F-4149-BB67-5890DBD96148" class="sect3"><span class="enumeration_section">2.9.2 </span>Garbage Collection and Operating System Resources
               </h3>
               <div>
                  <p>Imagine that memory is divided into two realms: Java object memory and operating system constructs. The Java object memory realm contains all objects and variables. Operating system constructs include resources that the operating system allocates to the object when it asks. These resources include files, sockets, and so on.</p>
                  <p>Basic programming rules dictate that you close all memory, both Java objects and operating system constructs. Java programmers incorrectly assume that memory is freed by the garbage collector. The <a id="d14186e406" class="indexterm-anchor"></a><a id="d14186e410" class="indexterm-anchor"></a>garbage collector was created to collect all unused Java object memory. However, it does not close operating system constructs. All operating system constructs must be closed by the program before the Java object is garbage collected.
                  </p>
                  <p><a id="d14186e416" class="indexterm-anchor"></a>For example, whenever an object opens a file, the operating system creates the file and gives the object a file handle. If the file is not closed, then the operating system holds <a id="d14186e421" class="indexterm-anchor"></a>the file handle construct open until the call ends or JVM exits. This may cause you to run out of these constructs earlier than necessary. There are a finite number of handles within each operating system. To guarantee that you do not run out of handles, close your resources before exiting the method. This includes closing the streams attached to your sockets before closing the socket.
                  </p>
                  <p>For performance reasons, the garbage collector cannot examine each object to see if it contains a handle. As a result, the garbage collector collects Java objects and variables, but does not issue the appropriate operating system methods for freeing any handles.</p>
                  <p><a href="managing-OS.html#GUID-F2761D60-001F-4149-BB67-5890DBD96148__BABEGIJC">Example 2-4</a> shows how to close the operating system constructs.
                  </p>
                  <p>If you do not close <code class="codeph">inFile</code>, then eventually the <code class="codeph">File</code> object will be garbage collected. Even after the <code class="codeph">File</code> object is garbage collected, the operating system treats the file as if it were in use, because it was not closed.
                  </p>
                  <div class="infoboxnote" id="GUID-F2761D60-001F-4149-BB67-5890DBD96148__GUID-FBC10A19-279E-4DA4-AB10-DEE3F0C3CCC6">
                     <p class="notep1">Note:</p>
                     <p>You may want to use Java finalizers to close resources. However, <a id="d14186e445" class="indexterm-anchor"></a>finalizers are not guaranteed to run in a timely manner. Instead, finalizers are put on a queue to run when the garbage collector has time. If you close your resources within your finalizer, then it might not be freed until JVM exits. The best approach is to close your resources within the method.
                     </p>
                  </div>
                  <div class="example" id="GUID-F2761D60-001F-4149-BB67-5890DBD96148__BABEGIJC">
                     <p class="titleinexample">Example 2-4 Closing Your Operating System Resources</p><pre class="oac_no_warn" dir="ltr">public static void addFile(String[] newFile)
{
  File inFile = new File(newFile);
  FileReader in = new FileReader(inFile);
  int i;

  while ((i = in.read()) != -1)
    out.write(i);

  /*closing the file, which frees up the operating system file handle*/
  in.close();
}
</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>