<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>About User-Defined Functions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="ROUND-and-TRUNC-Date-Functions.html" title="Previous" type="text/html">
      <link rel="next" href="Common-SQL-DDL-Clauses.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="ROUND-and-TRUNC-Date-Functions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="Common-SQL-DDL-Clauses.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">About User-Defined Functions </li>
            </ol>
            <a id="GUID-4EB3E236-8216-471C-BA44-23D87BDFEA67" name="GUID-4EB3E236-8216-471C-BA44-23D87BDFEA67"></a><a id="SQLRF52060"></a><a id="SQLRF52061"></a><a id="SQLRF06181"></a>
            
            <h2 id="SQLRF-GUID-4EB3E236-8216-471C-BA44-23D87BDFEA67" class="sect2">About User-Defined Functions </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>You can write user-defined functions in PL/SQL, Java, or C to provide functionality that is not available in SQL or SQL built-in functions. User-defined functions can appear in a SQL statement wherever an expression can occur.</p>
                  <p>For example, user-defined functions can be used in the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The select list of a <code class="codeph">SELECT</code> statement
                        </p>
                     </li>
                     <li>
                        <p>The condition of a <code class="codeph">WHERE</code> clause
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">CONNECT</code> <code class="codeph">BY</code>, <code class="codeph">START</code> <code class="codeph">WITH</code>, <code class="codeph">ORDER</code> <code class="codeph">BY</code>, and <code class="codeph">GROUP</code> <code class="codeph">BY</code> clauses
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">VALUES</code> clause of an <code class="codeph">INSERT</code> statement
                        </p>
                     </li>
                     <li>
                        <p>The <code class="codeph">SET</code> clause of an <code class="codeph">UPDATE</code> statement
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-4EB3E236-8216-471C-BA44-23D87BDFEA67__GUID-CD4EF3DC-CA32-4699-95EE-9C158BD28F00">
                     <p class="notep1">Note:</p>
                     <p>Oracle SQL does not support calling of functions with Boolean parameters or returns. Therefore, if your user-defined functions will be called from SQL statements, you must design them to return numbers (0 or 1) or character strings ('<code class="codeph">TRUE</code>' or '<code class="codeph">FALSE</code>'). 
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4EB3E236-8216-471C-BA44-23D87BDFEA67__GUID-A53F48F4-E2ED-4823-9429-0C06FAE3DD5F"><span class="italic">user_defined_function</span>::=
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-4EB3E236-8216-471C-BA44-23D87BDFEA67__GUID-73362B91-11B3-4F14-8AB7-8EFAF5B697F5"><img src="img/user_defined_function.gif" alt="Description of user_defined_function.eps follows" title="Description of user_defined_function.eps follows" longdesc="img_text/user_defined_function.html"><br><a href="img_text/user_defined_function.html">Description of the illustration user_defined_function.eps</a></div>
                  <!-- class="figure" -->
                  <p>The optional expression list must match attributes of the function, package, or operator. </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4EB3E236-8216-471C-BA44-23D87BDFEA67__GUID-FA779FAA-51AB-4C10-9F29-908F83C8C202">Restriction on User-defined Functions</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The <code class="codeph">DISTINCT</code> and <code class="codeph">ALL</code> keywords are valid only with a user-defined aggregate function.
                  </p>
                  <div class="infoboxnotealso" id="GUID-4EB3E236-8216-471C-BA44-23D87BDFEA67__GUID-8C22A1B3-3859-4203-B5D1-E6F240DF5EF4">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="CREATE-FUNCTION.html#GUID-156AEDAC-ADD0-4E46-AA56-6D1F7CA63306">CREATE FUNCTION</a> for information on creating functions, including restrictions on user-defined functions
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADFNS009" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for a complete discussion of the creation and use of user functions
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div><a id="SQLRF52062"></a><div class="props_rev_3"><a id="GUID-06AF8D10-BBCF-4284-B2DB-61A86968578A" name="GUID-06AF8D10-BBCF-4284-B2DB-61A86968578A"></a><h3 id="SQLRF-GUID-06AF8D10-BBCF-4284-B2DB-61A86968578A" class="sect3">Prerequisites</h3>
               <div>
                  <div class="section">
                     <p>User-defined functions must be created as top-level functions or declared with a package specification before they can be named within a SQL statement. </p>
                     <p>To use a user function in a SQL expression, you must own or have <code class="codeph">EXECUTE</code> privilege on the user function. To query a view defined with a user function, you must have the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privilege on the view. No separate <code class="codeph">EXECUTE</code> privileges are needed to select from the view.
                     </p>
                     <div class="infoboxnotealso" id="GUID-06AF8D10-BBCF-4284-B2DB-61A86968578A__GUID-36613F5A-1B37-40D2-8954-2D47863DA4C4">
                        <p class="notep1">See Also:</p>
                        <p><a href="CREATE-FUNCTION.html#GUID-156AEDAC-ADD0-4E46-AA56-6D1F7CA63306">CREATE FUNCTION</a> for information on creating top-level functions and <a href="CREATE-PACKAGE.html#GUID-40636655-899F-47D0-95CA-D58A71C94A56">CREATE PACKAGE</a> for information on specifying packaged functions
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="SQLRF52064"></a><a id="SQLRF52063"></a><div class="props_rev_3"><a id="GUID-3591F708-2397-47DE-928B-B0E792C990DB" name="GUID-3591F708-2397-47DE-928B-B0E792C990DB"></a><h3 id="SQLRF-GUID-3591F708-2397-47DE-928B-B0E792C990DB" class="sect3">Name Precedence </h3>
               <div>
                  <div class="section">
                     <p>Within a SQL statement, the names of database columns take precedence over the names of functions with no parameters. For example, if the Human Resources manager creates the following two objects in the <code class="codeph">hr</code> schema:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE new_emps (new_sal NUMBER, ...);
CREATE FUNCTION new_sal RETURN NUMBER IS <span class="italic">BEGIN ... END</span>;
</pre><p>then in the following two statements, the reference to <code class="codeph">new_sal</code> refers to the column <code class="codeph">new_emps.new_sal</code>:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT new_sal FROM new_emps;
SELECT new_emps.new_sal FROM new_emps;
</pre><p>To access the function <code class="codeph">new_sal</code>, you would enter:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT hr.new_sal FROM new_emps;
</pre><p>Here are some sample calls to user functions that are allowed in SQL expressions:</p><pre class="oac_no_warn" dir="ltr">circle_area (radius)
payroll.tax_rate (empno)
hr.employees.tax_rate (dependent, empno)@remote</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3591F708-2397-47DE-928B-B0E792C990DB__GUID-4F65357F-F0FC-491C-8A40-80D0FC2803D5">Example</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>To call the <code class="codeph">tax_rate</code> user function from schema <code class="codeph">hr</code>, execute it against the <code class="codeph">ss_no</code> and <code class="codeph">sal</code> columns in <code class="codeph">tax_table</code>, specify the following:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT hr.tax_rate (ss_no, sal)
    <span class="italic">INTO income_tax</span>
    FROM tax_table WHERE ss_no = tax_id;
</pre><p>The <code class="codeph">INTO</code> clause is PL/SQL that lets you place the results into the variable <code class="codeph">income_tax</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div><a id="SQLRF52065"></a><div class="props_rev_3"><a id="GUID-AACF85A3-B326-4EDD-9FCD-B51DB4377E37" name="GUID-AACF85A3-B326-4EDD-9FCD-B51DB4377E37"></a><h4 id="SQLRF-GUID-AACF85A3-B326-4EDD-9FCD-B51DB4377E37" class="sect4">Naming Conventions </h4>
                  <div>
                     <div class="section">
                        <p>If only one of the optional schema or package names is given, then the first identifier can be either a schema name or a package name. For example, to determine whether <code class="codeph">PAYROLL</code> in the reference <code class="codeph">PAYROLL</code>.<code class="codeph">TAX_RATE</code> is a schema or package name, Oracle Database proceeds as follows:
                        </p>
                        <ol>
                           <li>
                              <p>Check for the <code class="codeph">PAYROLL</code> package in the current schema.
                              </p>
                           </li>
                           <li>
                              <p>If a <code class="codeph">PAYROLL</code> package is not found, then look for a schema name <code class="codeph">PAYROLL</code> that contains a top-level <code class="codeph">TAX_RATE</code> function. If no such function is found, then return an error.
                              </p>
                           </li>
                           <li>
                              <p>If the <code class="codeph">PAYROLL</code> package is found in the current schema, then look for a <code class="codeph">TAX_RATE</code> function in the <code class="codeph">PAYROLL</code> package. If no such function is found, then return an error.
                              </p>
                           </li>
                        </ol>
                        <p>You can also refer to a stored top-level function using any synonym that you have defined for it.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>