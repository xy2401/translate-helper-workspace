<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The property graph data model is supported in Oracle Spatial and Graph. Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database.">
      <meta name="description" content="The property graph data model is supported in Oracle Spatial and Graph. Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database.">
      <title>RDF Integration with Property Graph Data Stored in Oracle Database</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="RDF Knowledge Graph Developer's Guide ">
      <meta property="og:description" content="The property graph data model is supported in Oracle Spatial and Graph. Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="RDF Knowledge Graph Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-rdf-knowledge-graph-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T10:56:26-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94798-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="rdf-views.html" title="Previous" type="text/html">
      <link rel="next" href="part-ref-supp.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph RDF Knowledge Graph Developer's Guide">
    <meta name="dcterms.isVersionOf" content="RDFRM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="rdf-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="part-ref-supp.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">RDF Knowledge Graph Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-concept-usage.html" property="item" typeof="WebPage"><span property="name"> Conceptual and Usage Information </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> RDF Integration with Property Graph Data Stored in Oracle Database</li>
            </ol>
            <a id="GUID-C670FE2C-9C75-49EA-9609-2DA15F3E786E" name="GUID-C670FE2C-9C75-49EA-9609-2DA15F3E786E"></a>
            
            <h2 id="RDFRM-GUID-C670FE2C-9C75-49EA-9609-2DA15F3E786E" class="sect2"><span class="enumeration_chapter">9 </span> RDF Integration with Property Graph Data Stored in Oracle Database
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The property graph data model is supported in Oracle Spatial and Graph. Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="rdf-integration-property-graph-data.html#GUID-487D7853-7FA5-413E-ADE1-0130E12F9423">About RDF Integration with Property Graph Data</a><br>The property graph data model is simpler than the RDF data model in that it has no concept of global resource identification (that is, no URIs) or formal semantics and entailment.
                  </li>
                  <li class="ulchildlink"><a href="rdf-integration-property-graph-data.html#GUID-D2910C3F-52E2-479A-819A-F02F0DBC6CDD">R2RML Mapping for the Property Graph Relational Schema</a><br>You can use the built-in R2RML mapping to construct an RDF view from the property graph relational schema.
                  </li>
                  <li class="ulchildlink"><a href="rdf-integration-property-graph-data.html#GUID-8EBCEB3A-A2A8-491F-BC5B-B09C347FFF85">PL/SQL API for Creating and Maintaining Property Graph RDF Views</a><br>Subprograms in the SEM_APIS package simplify the creation and maintenance of property graph RDF views.
                  </li>
                  <li class="ulchildlink"><a href="rdf-integration-property-graph-data.html#GUID-1480D9D7-2941-4158-AD3E-CED7C765B35D">Sample RDF Workflow with Property Graph Data</a><br>This topic presents a sample RDF workflow with property graph data. 
                  </li>
                  <li class="ulchildlink"><a href="rdf-integration-property-graph-data.html#GUID-B16D320F-6DA5-43BC-80BF-7AE6D3A12273">Special Considerations When Using Property Graph RDF Views</a><br>The following special considerations apply when using property graph RDF views.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part-concept-usage.html#GUID-FC153F2D-D51D-4498-A6E1-30B80D540FD6">Conceptual and Usage Information</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-487D7853-7FA5-413E-ADE1-0130E12F9423" name="GUID-487D7853-7FA5-413E-ADE1-0130E12F9423"></a><h3 id="RDFRM-GUID-487D7853-7FA5-413E-ADE1-0130E12F9423" class="sect3"><span class="enumeration_section">9.1 </span>About RDF Integration with Property Graph Data
               </h3>
               <div>
                  <div><span>The property graph data model is simpler than the RDF data model in that it has no concept of global resource identification (that is, no URIs) or formal semantics and entailment.</span> In addition, property graphs allow direct association of properties (key-value pairs) with edges. RDF, by contrast, needs reification or a quad data model to associate properties with edges (RDF triples).
                  </div>
                  <p>Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database. These RDF views serve as an integration point between property graph data and RDF data. RDF views of property graph data behave the same way as other RDF views; you can run SPARQL queries against them and materialize them as native RDF models. Support for RDF views of property graphs is provided through the following components:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A built-in R2RML mapping for the relational schema used to store property graph data [ref to schema].</p>
                     </li>
                     <li>
                        <p>A PL/SQL API for creating and maintaining RDF views using the built-in R2RML mapping for property graph data.</p>
                     </li>
                  </ul>
                  <p>There are two main considerations when representing property graph data in RDF: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>How to generate syntactically valid RDF terms (URIs, literals, and so on) from property graph identifiers and values</p>
                     </li>
                     <li>
                        <p>How to represent edge properties (key-value pairs for edges)</p>
                     </li>
                  </ul>
                  <p>Oracle Spatial and Graph uses specific prefixes to generate URIs from property graph identifiers, and uses XML Schema typed literals for property values. Named graphs are used to model edge properties.</p>
                  <p> The example shown in the following figure illustrates a property graph to RDF mapping. Note that edges in the property graph model become an RDF quad, where the predicate is the edge label and the named graph is a URI constructed from the edge identifier. Edge properties are then modeled as RDF quads within the named graph for the edge. As an illustration, the Trig serialization for RDF graph in the following figure is as follows:</p><pre class="pre codeblock"><code>@PREFIX edge: &lt;http://xmlns.oracle.com/pg/edge/&gt; .
@PREFIX vertex: &lt;http://xmlns.oracle.com/pg/vertex/&gt; .
@PREFIX ep: &lt;http://xmlns.oracle.com/pg/property/edge/&gt; .
@PREFIX vp: &lt;http://xmlns.oracle.com/pg/property/vertex/&gt; .
@PREFIX label: &lt;http://xmlns.oracle.com/pg/property/edge/label/&gt; .

vertex:v1 vp:name "John";
          vp:age 40 .
vertex:v2 vp:name "Jill"
          vp:age 35 .
vertex:v3 vp:name "Frank";
          vp:age 23 .
vertex:v4 vp:name "Susan";
          vp:age 50 .
edge:e5 { vertex:v1 label:friend_of vertex:v2 .
          edge:e5   ep:weight 1.0 . }
edge:e6 { vertex:v1 label:friend_of vertex:v3 .
          edge:e6   ep:weight 2.0 . }
edge:e7 { vertex:v2 label:friend_of vertex:v3 .
          edge:e7   ep:weight 1.5 . }
edge:e8 { vertex:v2 label:friend_of vertex:v4 .
          edge:e8   ep:weight 1.0 . }
</code></pre><div class="figure" id="GUID-487D7853-7FA5-413E-ADE1-0130E12F9423__GUID-6CAA0612-3AC7-43D1-AA22-1BEC4B42E649">
                     <p class="titleinfigure">Figure 9-1 Equivalent Property Graph and RDF Representations of the Same Graph</p><img src="img/pg_rdf_equivalent_representations.jpg" alt="Description of Figure 9-1 follows" title="Description of Figure 9-1 follows" longdesc="img_text/pg_rdf_equivalent_representations.html"><br><a href="img_text/pg_rdf_equivalent_representations.html">Description of "Figure 9-1 Equivalent Property Graph and RDF Representations of the Same Graph"</a></div>
                  <!-- class="figure" -->
                  <p>In the preceding figure, the property graph model at the top is simpler than the RDF model at the bottom. Both models show four vertices (nodes) representing four people (John, Jill, Frank, Susan), but the property graph model shows simple boxes for name and label information. The property graph model shows many edges with properties represented using the following prefixes:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>PREFIX edge: &lt;http://xminx,oracle.com/pg/edge/&gt;</p>
                     </li>
                     <li>
                        <p>PREFIX vertex: &lt;http://xminx,oracle.com/pg/vertex/&gt;</p>
                     </li>
                     <li>
                        <p>PREFIX ep: &lt;http://xminx,oracle.com/pg/property/edge/&gt;</p>
                     </li>
                     <li>
                        <p>PREFIX vp http://xminx,oracle.com/pg/property/vertex/&gt;</p>
                     </li>
                     <li>
                        <p>PREFIX label: &lt;http://xminx,oracle.com/pg/property/edge/label/&gt;</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-integration-property-graph-data.html#GUID-C670FE2C-9C75-49EA-9609-2DA15F3E786E" title="The property graph data model is supported in Oracle Spatial and Graph. Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database.">RDF Integration with Property Graph Data Stored in Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-D2910C3F-52E2-479A-819A-F02F0DBC6CDD" name="GUID-D2910C3F-52E2-479A-819A-F02F0DBC6CDD"></a><h3 id="RDFRM-GUID-D2910C3F-52E2-479A-819A-F02F0DBC6CDD" class="sect3"><span class="enumeration_section">9.2 </span>R2RML Mapping for the Property Graph Relational Schema
               </h3>
               <div>
                  <p>You can use the built-in R2RML mapping to construct an RDF view from the property graph relational schema.</p>
                  <p>Several helper views are created to simplify the R2RML mapping and to convert values from NVARCHAR to VARCHAR. These views are shown in the following output (assuming RDF view model name <code class="codeph">M1</code>, property graph name <code class="codeph">G1</code>, and user name <code class="codeph">USER</code>). Note that substring length for edge label and property name can be customized, and the M1$GT view will select directly from the G1GT$ table if you indicate that this table is populated (with <code class="codeph">options=&gt;'GT_TABLE=T'</code>).
                  </p><pre class="pre codeblock"><code>-- 5 VT$ views --
-- Varchar --
create or replace view "USER"."M1$V1" as
select
  "VID",
  to_char(substr("K",1,200)) KC,
  "T",
  to_char("V") VC,
  "SL",
  "VTS",
  "VTE",
  "FE"
from  "USER"."G1VT$"
where T=1;

-- Number --
create or replace view "USER"."M1$V2" as
select
  "VID",
  to_char(substr("K",1,200)) KC,
  "T",
  "VN",
  "SL",
  "VTS",
  "VTE",
  "FE"
from  "USER"."G1VT$"
where T IN (2,3,4);

-- DateTime --
create or replace view "USER"."M1$V3" as
select
  "VID",
  to_char(substr("K",1,200)) KC,
  "T",
  "VT",
  "SL",
  "VTS",
  "VTE",
  "FE"
from  "USER"."G1VT$"
where T=5;

-- Boolean --
create or replace view "USER"."M1$V4" as
select
  "VID",
  to_char(substr("K",1,200)) KC,
  "T",
  DECODE("V",'y',to_char('true'),
             'Y',to_char('true'),
             'n',to_char('false'),
             'N',to_char('false')) VB,
  "SL",
  "VTS",
  "VTE",
  "FE"
from  "USER"."G1VT$"
where T=6; 

-- ID View &#x2013;
create or replace view "USER"."M1$VT" as
select DISTINCT
  "VID"
from "USER"."G1VT$";

-- 4 GE$ Views --
-- Varchar --
create or replace view "USER"."M1$G1" as
select
  "EID",
  "SVID",
  "DVID",
  "EL",
  to_char(substr("K",1,200)) KC,
  "T",
  to_char("V") VC,
  "SL",
  "VTS",
  "VTE",
  "FE"
from "USER"."G1GE$"
where T=1;

-- Number --
create or replace view "USER"."M1$G2" as
select
  "EID",
  "SVID",
  "DVID",
  "EL",
  to_char(substr("K",1,200)) KC,
  "T",
  "VN",
  "SL",
  "VTS",
  "VTE",
  "FE"
from "USER"."G1GE$"
where T IN (2,3,4);

-- DateTime --
create or replace view "USER"."M1$G3" as
select
  "EID",
  "SVID",
  "DVID",
  "EL",
  to_char(substr("K",1,200)) KC,
  "T",
  "VT",
  "SL",
  "VTS",
  "VTE",
  "FE"
from "USER"."G1GE$"
where T=5;

-- Boolean --
create or replace view "USER"."M1$G4" as
select
  "EID",
  "SVID",
  "DVID",
  "EL",
  to_char(substr("K",1,200)) KC,
  "T",
  DECODE("V",'y',to_char('true'),
             'Y',to_char('true'),
             'n',to_char('false'),
             'N',to_char('false')) VB,
  "SL",
  "VTS",
  "VTE",
  "FE"
from "USER"."G1GE$"
where T=6;

-- GT$ View &#x2013;
create or replace view "USER"."M1$GT" as
select DISTINCT
  "EID",
  "SVID",
  "DVID",
  to_char(substr("EL",1,200)) LC
from "USER"."G1GE$";
</code></pre><p>The built-in R2RML mapping that uses these views is shown in the following output in turtle format.</p><pre class="oac_no_warn" dir="ltr">@prefix rdf:   &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;.
@prefix rr:    &lt;http://www.w3.org/ns/r2rml#&gt;.
@prefix xsd:   &lt;http://www.w3.org/2001/XMLSchema#&gt;.
@prefix pg:    &lt;http://xmlns.oracle.com/pg/&gt;.
@prefix pgvtpr: &lt;http://xmlns.oracle.com/pg/property/vertex/&gt;.
@prefix pgedpr: &lt;http://xmlns.oracle.com/pg/property/edge/&gt;.
# Vertex Property views ===============================================
pg:TMap_VERTEXPR_VC_TAB
  rr:logicalTable [ rr:tableName "\"USER\".\"M1$V1\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/vertex/v{VID}" ; 
    rr:class pg:VERTEX ] ;
  rr:predicateObjectMap [ 
    rr:predicateMap [ 
      rr:template "http://xmlns.oracle.com/pg/property/vertex/{KC}" ] ; 
    rr:objectMap [ rr:column "VC" ]
]
.
pg:TMap_VERTEXPR_VN_TAB
  rr:logicalTable [ rr:tableName "\"USER\".\"M1$V2\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/vertex/v{VID}" ; 
    rr:class pg:VERTEX ] ;
  rr:predicateObjectMap [ 
    rr:predicateMap [ 
      rr:template "http://xmlns.oracle.com/pg/property/vertex/{KC}" ] ; 
    rr:objectMap [  
      rr:column "VN" ; 
      rr:datatype xsd:decimal ]
]
.
pg:TMap_VERTEXPR_VT_TAB
  rr:logicalTable [ 
    rr:tableName "\"USER\".\"M1$V3\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/vertex/v{VID}" ; 
    rr:class pg:VERTEX ] ;
  rr:predicateObjectMap [ 
    rr:predicateMap [ 
      rr:template "http://xmlns.oracle.com/pg/property/vertex/{KC}" ] ; 
    rr:objectMap [ 
      rr:column "VT" ; 
      rr:datatype xsd:dateTime ] 
]
.
pg:TMap_VERTEXPR_VB_TAB
  rr:logicalTable [ 
    rr:tableName "\"USER\".\"M1$V4\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/vertex/v{VID}" ; 
    rr:class pg:VERTEX ] ;
  rr:predicateObjectMap [ 
    rr:predicateMap [ 
      rr:template "http://xmlns.oracle.com/pg/property/vertex/{KC}" ] ; 
    rr:objectMap [ 
      rr:column "VB" ; 
      rr:datatype xsd:boolean ] 
]
.
# VERTEX ID view ==============================================
pg:TMap_VERTEXID_TAB
  rr:logicalTable [ 
    rr:tableName "\"USER\".\"M1$VT\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/vertex/v{VID}" ; 
    rr:class pg:VERTEX ] ;
  rr:predicateObjectMap [
    rr:predicate pgvtpr:id ;
    rr:objectMap [ 
      rr:column "VID" ] 
  ]
.
# Edge Property views ===============================================
pg:TMap_EDGEPR_VC_TAB
  rr:logicalTable [ 
    rr:tableName "\"USER\".\"M1$G1\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ; 
    rr:graphMap [ 
      rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ] ] ;
  rr:predicateObjectMap [ 
    rr:predicateMap [ 
      rr:template "http://xmlns.oracle.com/pg/property/edge/{KC}" ] ; 
    rr:objectMap [ 
      rr:column "VC" ]
  ]
.
pg:TMap_EDGEPR_VN_TAB
  rr:logicalTable [ 
    rr:tableName "\"USER\".\"M1$G2\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ; 
    rr:graphMap [ 
      rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ] ] ;
  rr:predicateObjectMap [ 
    rr:predicateMap [ 
      rr:template "http://xmlns.oracle.com/pg/property/edge/{KC}" ] ; 
    rr:objectMap [ 
      rr:column "VN" ; 
      rr:datatype xsd:decimal ]
  ]
.
pg:TMap_EDGEPR_VT_TAB
  rr:logicalTable [ 
    rr:tableName "\"USER\".\"M1$G3\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ; 
    rr:graphMap [ 
      rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ] ] ;
  rr:predicateObjectMap [ 
    rr:predicateMap [ 
      rr:template "http://xmlns.oracle.com/pg/property/edge/{KC}" ] ; 
    rr:objectMap [ 
      rr:column "VT" ; 
      rr:datatype xsd:dateTime ] 
  ]
.
pg:TMap_EDGEPR_VB_TAB
  rr:logicalTable [ 
    rr:tableName "\"USER\".\"M1$G4\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ; 
    rr:graphMap [ 
      rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ] ] ;
  rr:predicateObjectMap [ 
    rr:predicateMap [ 
      rr:template "http://xmlns.oracle.com/pg/property/edge/{KC}" ] ; 
    rr:objectMap [ 
      rr:column "VB" ; 
      rr:datatype xsd:boolean ] 
  ]
.
# Edge IDLABEL views ==========================================
pg:TMap_EDGEIDLABEL_TAB
  rr:logicalTable [ 
    rr:tableName "\"USER\".\"M1$GT\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ; 
    rr:class pg:EDGE ; 
    rr:graphMap [ 
      rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ] ] ;
  rr:predicateObjectMap [
    rr:predicate pgedpr:id ;
    rr:objectMap [ 
      rr:column "EID" ] 
  ] ;
  rr:predicateObjectMap [
    rr:predicate pgedpr:label ;
    rr:objectMap [ 
      rr:column "LC" ] 
  ]
.
# Edge views ===================================================
pg:TMap_EDGE_TAB
  rr:logicalTable [ 
    rr:tableName "\"USER\".\"M1$GT\"" ] ;
  rr:subjectMap [ 
    rr:template "http://xmlns.oracle.com/pg/vertex/v{SVID}" ;
    rr:graphMap [ 
      rr:template "http://xmlns.oracle.com/pg/edge/e{EID}" ] ] ;
  rr:predicateObjectMap [ 
    rr:predicateMap [ 
      rr:template "http://xmlns.oracle.com/pg/label/{LC}" ] ;
    rr:objectMap [ 
      rr:template "http://xmlns.oracle.com/pg/vertex/v{DVID}" ; 
      rr:termType rr:IRI ] 
  ]
.
</pre></div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-integration-property-graph-data.html#GUID-C670FE2C-9C75-49EA-9609-2DA15F3E786E" title="The property graph data model is supported in Oracle Spatial and Graph. Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database.">RDF Integration with Property Graph Data Stored in Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-8EBCEB3A-A2A8-491F-BC5B-B09C347FFF85" name="GUID-8EBCEB3A-A2A8-491F-BC5B-B09C347FFF85"></a><h3 id="RDFRM-GUID-8EBCEB3A-A2A8-491F-BC5B-B09C347FFF85" class="sect3"><span class="enumeration_section">9.3 </span>PL/SQL API for Creating and Maintaining Property Graph RDF Views
               </h3>
               <div>
                  <p>Subprograms in the SEM_APIS package simplify the creation and maintenance of property graph RDF views.</p>
                  <p>Reference and usage information for these subprograms is included in the <a href="SEM_APIS-reference.html#GUID-F42AB976-445A-4DCD-974C-3B9ED810E3D5" title="The SEM_APIS package contains subprograms (functions and procedures) for working with the Resource Description Framework (RDF) and Web Ontology Language (OWL) in an Oracle database.">SEM_APIS Package Subprograms</a> chapter.
                  </p>
                  <p>To create an property graph view from an existing model, use the <a href="SEM_APIS-reference.html#GUID-7A0BA463-09EB-486A-9E78-1A82C360A972">SEM_APIS.CREATE_PG_RDFVIEW</a> procedure. 
                  </p>
                  <p>To drop a property graph RDF view, use the <a href="SEM_APIS-reference.html#GUID-654987F6-3DD0-471C-8587-56BE95CB89E3">SEM_APIS.DROP_PG_RDFVIEW</a>.
                  </p>
                  <p>Indexes should be created on the property graph tables for improved performance of RDF view queries. You can create any number of index schemes on these tables, but the <a href="SEM_APIS-reference.html#GUID-2DEE5F9A-A9C3-4726-AE33-7081EC77D84A">SEM_APIS.BUILD_PG_RDFVIEW_INDEXES</a>procedure is provided for convenience. (To drop all indexes created by that procedure, you can use the <a href="SEM_APIS-reference.html#GUID-D3262EC8-0DC8-4D0E-9F35-A9AAD67768D0">SEM_APIS.DROP_PG_RDFVIEW_INDEXES</a> procedure.)
                  </p>
                  <p>To return the VALUE_ID value for the canonical version of an RDF term (or NULL if the term does not exist), you can use the <a href="SEM_APIS-reference.html#GUID-55BE7915-CB8D-4C01-87B8-7E68C8544BEF">SEM_APIS.RES2VID</a> function.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-integration-property-graph-data.html#GUID-C670FE2C-9C75-49EA-9609-2DA15F3E786E" title="The property graph data model is supported in Oracle Spatial and Graph. Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database.">RDF Integration with Property Graph Data Stored in Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-1480D9D7-2941-4158-AD3E-CED7C765B35D" name="GUID-1480D9D7-2941-4158-AD3E-CED7C765B35D"></a><h3 id="RDFRM-GUID-1480D9D7-2941-4158-AD3E-CED7C765B35D" class="sect3"><span class="enumeration_section">9.4 </span>Sample RDF Workflow with Property Graph Data
               </h3>
               <div>
                  <p>This topic presents a sample RDF workflow with property graph data. </p>
                  <p>The first example creates an RDF view named M1 from a property graph named G1 stored in Oracle Database, and creates indexes on that view. The other examples run SPARQL queries using the SEM_MATCH table function.</p>
                  <div class="example" id="GUID-1480D9D7-2941-4158-AD3E-CED7C765B35D__GUID-69ECAB1A-9ACE-4FEF-A8DB-8AB311E73F61">
                     <p class="titleinexample">Example 9-1 Creating the RDF View and Indexes</p><pre class="pre codeblock"><code>-- Create a property graph RDF view
EXECUTE sem_apis.create_pg_rdfview('M1','G1');
-- Create indexes
EXECUTE sem_apis.build_pg_rdfview_indexes('G1');
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1480D9D7-2941-4158-AD3E-CED7C765B35D__GUID-A668C4CF-8D34-425D-AE4A-F0E5F1CD00A5">
                     <p class="titleinexample">Example 9-2 Find the Names and Ages of All of John’s Friends</p><pre class="pre codeblock"><code>SELECT name$rdfterm, age$rdfterm
FROM TABLE(SEM_MATCH(
 'PREFIX edge: &lt;http://xmlns.oracle.com/pg/edge/&gt;
  PREFIX vertex: &lt;http://xmlns.oracle.com/pg/vertex/&gt;
  PREFIX ep: &lt;http://xmlns.oracle.com/pg/property/edge/&gt;
  PREFIX vp: &lt;http://xmlns.oracle.com/pg/property/vertex/&gt;
  PREFIX label: &lt;http://xmlns.oracle.com/pg/property/edge/label/&gt;
  SELECT ?name ?age
  WHERE { 
    ?v1 vp:name "John" .
    ?v1 label:friend_of ?v2 .
    ?v2 vp:name ?name .
    ?v2 vp:age ?age . }'
, sem_models('M1')
, null, null, null, null
, ' PLUS_RDFT=VC '));
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1480D9D7-2941-4158-AD3E-CED7C765B35D__GUID-FE518738-805F-486B-9312-EC00C317A66D">
                     <p class="titleinexample">Example 9-3 Find the Names and Ages of All of John’s Good Friends (Weight &gt; 1.5)</p><pre class="pre codeblock"><code>SELECT name$rdfterm, age$rdfterm
FROM TABLE(SEM_MATCH(
 'PREFIX edge: &lt;http://xmlns.oracle.com/pg/edge/&gt;
  PREFIX vertex: &lt;http://xmlns.oracle.com/pg/vertex/&gt;
  PREFIX ep: &lt;http://xmlns.oracle.com/pg/property/edge/&gt;
  PREFIX vp: &lt;http://xmlns.oracle.com/pg/property/vertex/&gt;
  PREFIX label: &lt;http://xmlns.oracle.com/pg/property/edge/label/&gt;
  SELECT ?name ?age
  WHERE { 
    ?v1 vp:name "John" .
    GRAPH ?e { 
      ?v1 label:friend_of ?v2 .
      ?e ep:weight ?w .
      <span class="bold">FILTER (?w &gt; 1.5)</span> 
    }
    ?v2 vp:name ?name .
    ?v2 vp:age ?age . }'
, sem_models('M1')
, null, null, null, null
, ' PLUS_RDFT=VC '));
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1480D9D7-2941-4158-AD3E-CED7C765B35D__GUID-2651AB0D-A51B-433D-B408-F61CED423E32">
                     <p class="titleinexample">Example 9-4 Find John’s Best Friend (Highest Edge Weight)</p><pre class="pre codeblock"><code>SELECT name$rdfterm
FROM TABLE(SEM_MATCH(
 'PREFIX edge: &lt;http://xmlns.oracle.com/pg/edge/&gt;
  PREFIX vertex: &lt;http://xmlns.oracle.com/pg/vertex/&gt;
  PREFIX ep: &lt;http://xmlns.oracle.com/pg/property/edge/&gt;
  PREFIX vp: &lt;http://xmlns.oracle.com/pg/property/vertex/&gt;
  PREFIX label: &lt;http://xmlns.oracle.com/pg/property/edge/label/&gt;
  SELECT ?name
  WHERE { 
    ?v1 vp:name "John" .
    GRAPH ?e { 
      ?v1 label:friend_of ?v2 .
      ?e ep:weight ?w . 
    }
    ?v2 vp:name ?name . }
  <span class="bold">ORDER BY DESC(?w)</span>
  <span class="bold">LIMIT 1</span>'
, sem_models('M1')
, null, null, null, null
, ' PLUS_RDFT=VC '));
</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-integration-property-graph-data.html#GUID-C670FE2C-9C75-49EA-9609-2DA15F3E786E" title="The property graph data model is supported in Oracle Spatial and Graph. Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database.">RDF Integration with Property Graph Data Stored in Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-B16D320F-6DA5-43BC-80BF-7AE6D3A12273" name="GUID-B16D320F-6DA5-43BC-80BF-7AE6D3A12273"></a><h3 id="RDFRM-GUID-B16D320F-6DA5-43BC-80BF-7AE6D3A12273" class="sect3"><span class="enumeration_section">9.5 </span>Special Considerations When Using Property Graph RDF Views
               </h3>
               <div>
                  <p>The following special considerations apply when using property graph RDF views.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Vertex and edge property values greater than 4000 bytes in length are not supported.</p>
                     </li>
                     <li>
                        <p>Edge label values will be replaced with the IRI-safe form (as described in the W3C R2RML specification) when generating edge label URIs.</p>
                     </li>
                     <li>
                        <p>Vertex and edge property names will be replaced with the IRI-safe form (as described in the W3C R2RML specification) when generating vertex and edge property name URIs.</p>
                     </li>
                     <li>
                        <p>Special characters and non-ASCII characters in string-valued vertex and edge property values will be escaped (as described in the W3C N-Triples specification).</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="rdf-integration-property-graph-data.html#GUID-C670FE2C-9C75-49EA-9609-2DA15F3E786E" title="The property graph data model is supported in Oracle Spatial and Graph. Oracle Spatial and Graph provides built-in support for RDF views of property graph data stored in Oracle Database.">RDF Integration with Property Graph Data Stored in Oracle Database</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>