<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Several objects are used in materialized view replication. Some of these objects are optional and are used only as needed to support the created materialized view environment. For example, if you have a complex materialized view that cannot be fast refreshed, then you might not have a materialized view log at the master database.">
      <meta name="description" content="Several objects are used in materialized view replication. Some of these objects are optional and are used only as needed to support the created materialized view environment. For example, if you have a complex materialized view that cannot be fast refreshed, then you might not have a materialized view log at the master database.">
      <title>Read-Only Materialized View Architecture</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="Several objects are used in materialized view replication. Some of these objects are optional and are used only as needed to support the created materialized view environment. For example, if you have a complex materialized view that cannot be fast refreshed, then you might not have a materialized view log at the master database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="read-only-materialized-view-concepts.html" title="Previous" type="text/html">
      <link rel="next" href="planning-for-read-only-materialized-views.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="read-only-materialized-view-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="planning-for-read-only-materialized-views.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-read-only-materialized-views.html" property="item" typeof="WebPage"><span property="name">Managing Read-Only Materialized Views</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Read-Only Materialized View Architecture</li>
            </ol>
            <a id="GUID-C7012EE7-3870-4B01-8EBC-7D3247088D03" name="GUID-C7012EE7-3870-4B01-8EBC-7D3247088D03"></a>
            
            <h2 id="ADMIN-GUID-C7012EE7-3870-4B01-8EBC-7D3247088D03" class="sect2"><span class="enumeration_chapter">37 </span> Read-Only Materialized View Architecture
            </h2>
         </header>
         <div class="ind">
            <p>Several objects are used in materialized view replication. Some of these objects are optional and are used only as needed to support the created materialized view environment. For example, if you have a complex materialized view that cannot be fast refreshed, then you might not have a materialized view log at the master database.</p>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-20218600-234C-4936-8DEE-1F7702D89368">Master Database Mechanisms</a><br>There are mechanisms that support materialized views at the master database.
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-8F825CBC-07E7-4E87-AF6B-C9A15D098540">Materialized View Database Mechanisms</a><br>When a materialized view is created, additional mechanisms are created at the materialized view database to support the materialized view. Specifically, at least one index is created.
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-7881388A-9397-43E2-8776-850660CB6C14">Organizational Mechanisms</a><br>Several mechanisms organize the materialized views at the materialized view database. These mechanisms maintain organizational consistency between the materialized view database and its master database.
                  </li>
                  <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-B384BA50-BD3D-4457-B28B-16A28B214E76">Refresh Process</a><br>To ensure that a materialized view is consistent with its master table, you must refresh the materialized view periodically.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="managing-read-only-materialized-views.html#GUID-7AAEC1A7-01BA-4293-AF46-F026AA2B0237" title="Read-only materialized views can provide read-only access to the master table's data. You can create and manage read-only materialized views.">Managing Read-Only Materialized Views</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-20218600-234C-4936-8DEE-1F7702D89368" name="GUID-20218600-234C-4936-8DEE-1F7702D89368"></a><h3 id="ADMIN-GUID-20218600-234C-4936-8DEE-1F7702D89368" class="sect3"><span class="enumeration_section">37.1 </span>Master Database Mechanisms
               </h3>
               <p>There are mechanisms that support materialized views at the master database.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-32313993-0C9C-46BD-9E5C-1562C8132C46">Master Database Objects</a><br>Specific database objects are required at a master database to support fast refreshing of materialized views.
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-5826D247-312D-4279-95E8-C0BCAADBF95F">Master Table</a><br>The master table is the basis for the materialized view.
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-C9DA9AAE-13B9-4C19-B6E2-4E828395B293">Internal Trigger for the Materialized View Log</a><br>When changes are made to the master table using DML, an internal trigger records information about the affected rows in the materialized view log.
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-6F0523A6-D710-46D9-A683-2E692882E2BB">Materialized View Logs</a><br>Materialized view logs enable fast refreshes of materialized views.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-C7012EE7-3870-4B01-8EBC-7D3247088D03" title="Several objects are used in materialized view replication. Some of these objects are optional and are used only as needed to support the created materialized view environment. For example, if you have a complex materialized view that cannot be fast refreshed, then you might not have a materialized view log at the master database.">Read-Only Materialized View Architecture</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-32313993-0C9C-46BD-9E5C-1562C8132C46" name="GUID-32313993-0C9C-46BD-9E5C-1562C8132C46"></a><h4 id="ADMIN-GUID-32313993-0C9C-46BD-9E5C-1562C8132C46" class="sect4"><span class="enumeration_section">37.1.1 </span>Master Database Objects
                  </h4>
                  <div>
                     <p>Specific database objects are required at a master database to support fast refreshing of materialized views.</p>
                     <p>The three database objects displayed in <a href="read-only-materialized-view-architecture.html#GUID-32313993-0C9C-46BD-9E5C-1562C8132C46__CBHCGIFJ">Figure 37-1</a> are required at a master database to support fast refreshing of materialized views.
                     </p>
                     <div class="figure" id="GUID-32313993-0C9C-46BD-9E5C-1562C8132C46__CBHCGIFJ">
                        <p class="titleinfigure">Figure 37-1 Master Database Objects</p><img src="img/admin571.png" width="541" alt="Description of Figure 37-1 follows" title="Description of Figure 37-1 follows" longdesc="img_text/admin571.html"><br><a href="img_text/admin571.html">Description of "Figure 37-1 Master Database Objects"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-20218600-234C-4936-8DEE-1F7702D89368" title="There are mechanisms that support materialized views at the master database.">Master Database Mechanisms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-5826D247-312D-4279-95E8-C0BCAADBF95F" name="GUID-5826D247-312D-4279-95E8-C0BCAADBF95F"></a><h4 id="ADMIN-GUID-5826D247-312D-4279-95E8-C0BCAADBF95F" class="sect4"><span class="enumeration_section">37.1.2 </span>Master Table
                  </h4>
                  <div>
                     <p>The master table is the basis for the materialized view.</p>
                     <p>A master table is located at the target master database. Remember that a materialized view points to only one master database. Data manipulation language (DML) changes made to the master table, as recorded by the materialized view log, are propagated to the materialized view during the refresh process.</p>
                     <div class="infoboxnote" id="GUID-5826D247-312D-4279-95E8-C0BCAADBF95F__GUID-9F62B121-F73C-4D6D-B327-91BA4084F128">
                        <p class="notep1">Note:</p>
                        <p>Fast refreshable materialized views must be based on master tables or synonyms of master tables. Complete refresh must be used for a materialized view based on a view.</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-20218600-234C-4936-8DEE-1F7702D89368" title="There are mechanisms that support materialized views at the master database.">Master Database Mechanisms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-C9DA9AAE-13B9-4C19-B6E2-4E828395B293" name="GUID-C9DA9AAE-13B9-4C19-B6E2-4E828395B293"></a><h4 id="ADMIN-GUID-C9DA9AAE-13B9-4C19-B6E2-4E828395B293" class="sect4"><span class="enumeration_section">37.1.3 </span>Internal Trigger for the Materialized View Log
                  </h4>
                  <div>
                     <p>When changes are made to the master table using DML, an internal trigger records information about the affected rows in the materialized view log.</p>
                     <p>This information includes the values of the primary key, rowid, or object id, or both, as well as the values of the other columns logged in the materialized view log. This is an internal <code class="codeph">AFTER</code> <code class="codeph">ROW</code> trigger that is automatically activated when you create a materialized view log for the target master table. It inserts a row into the materialized view log whenever an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> statement modifies the table's data. This trigger is always the last trigger to fire.
                     </p>
                     <div class="infoboxnote" id="GUID-C9DA9AAE-13B9-4C19-B6E2-4E828395B293__GUID-F9CC2ACE-BFB4-43A3-804D-0845C3717ADA">
                        <p class="notep1">Note:</p>
                        <p>When the materialized view contains a subquery, you might need to log columns referenced in a subquery. See <span class="q">"<a href="read-only-materialized-view-concepts.html#GUID-899DBA13-2CAD-45E4-963A-6472EF5DFC66" title="In certain situations, you might want your materialized view to reflect a subset of the data in the master table.">Data Subsetting with Materialized Views</a>"</span> for information about subquery materialized views and <span class="q">"<a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="When you create a materialized view log, you can add columns to the log to enable fast refreshes of materialized views.">Logging Columns in a Materialized View Log</a>"</span> for more information about the columns that must be logged.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-20218600-234C-4936-8DEE-1F7702D89368" title="There are mechanisms that support materialized views at the master database.">Master Database Mechanisms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-6F0523A6-D710-46D9-A683-2E692882E2BB" name="GUID-6F0523A6-D710-46D9-A683-2E692882E2BB"></a><h4 id="ADMIN-GUID-6F0523A6-D710-46D9-A683-2E692882E2BB" class="sect4"><span class="enumeration_section">37.1.4 </span>Materialized View Logs
                  </h4>
                  <p>Materialized view logs enable fast refreshes of materialized views.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-7CDE1F79-1BBF-4A7E-BBAB-2A87E1F77B7C">About Materialized View Logs</a><br>A materialized view log is required on a master table to perform a fast refresh on materialized views based on the master table.
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-EA4C8CD8-51E2-4C3B-8281-210940D8DE01">Columns Logged in the Materialized View Log</a><br>When you create a materialized view log, you can add columns to the log when necessary.
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-DBF3D876-00A8-4D6B-977C-8EAD8E554342">Restriction on Import of Materialized View Logs to a Different Schema</a><br>Materialized view logs are exported with the schema name explicitly given in the DDL statements. Therefore, materialized view logs cannot be imported into a schema that is different than the schema from which they were exported.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-20218600-234C-4936-8DEE-1F7702D89368" title="There are mechanisms that support materialized views at the master database.">Master Database Mechanisms</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-7CDE1F79-1BBF-4A7E-BBAB-2A87E1F77B7C" name="GUID-7CDE1F79-1BBF-4A7E-BBAB-2A87E1F77B7C"></a><h5 id="ADMIN-GUID-7CDE1F79-1BBF-4A7E-BBAB-2A87E1F77B7C" class="sect5"><span class="enumeration_section">37.1.4.1 </span>About Materialized View Logs
                     </h5>
                     <div>
                        <p>A materialized view log is required on a master table to perform a fast refresh on materialized views based on the master table.</p>
                        <p>When you create a materialized view log for a master table, Oracle Database creates an underlying table as the materialized view log. A materialized view log can hold the primary keys, rowids, or object identifiers of rows that have been updated in the master table. A materialized view log can also contain other columns to support fast refreshes of materialized views with subqueries.</p>
                        <p>The name of a materialized view log's table is <code class="codeph">MLOG$_</code><span class="italic">master_table_name</span>. The materialized view log is created in the same schema as the target master table. One materialized view log can support multiple materialized views on its master table. As described in the previous section, the internal trigger adds change information to the materialized view log whenever a DML transaction has taken place on the target master table.
                        </p>
                        <p>Following are the types of materialized view logs:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">Primary Key</span>: The materialized view records changes to the master table based on the primary key of the affected rows.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Row ID</span>: The materialized view records changes to the master table based on the rowid of the affected rows.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Object ID</span>: The materialized view records changes to the master object table based on the object identifier of the affected row objects.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Combination</span>: The materialized view records changes to the master table based any combination of the three options. It is possible to record changes based on the primary key, the <code class="codeph">ROWID</code>, and the object identifier of the affected rows. Such a materialized view log supports primary key, <code class="codeph">ROWID</code>, and object materialized views, which is helpful for environments that have all three types of materialized views based on a master table.
                              </p>
                           </li>
                        </ul>
                        <p>A combination materialized view log works in the same manner as a materialized view log that tracks only one type of value, except that more than one type of value is recorded. For example, a combination materialized view log can track both the primary key and the rowid of the affected row.</p>
                        <p>Though the difference between materialized view logs based on primary keys and rowids is small (one records affected rows using the primary key, while the other records affected rows using the physical rowid), the practical impact is large. Using rowid materialized views and materialized view logs makes reorganizing and truncating your master tables difficult because it prevents your <code class="codeph">ROWID</code> materialized views from being fast refreshed. If you reorganize or truncate your master table, then your rowid materialized view must be <code class="codeph">COMPLETE</code> refreshed because the rowids of the master table have changed.
                        </p>
                        <div class="infoboxnote" id="GUID-7CDE1F79-1BBF-4A7E-BBAB-2A87E1F77B7C__GUID-E7750959-C380-4BD6-91BB-598AD47505EB">
                           <p class="notep1">Note:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You use the <code class="codeph">BEGIN_TABLE_REORGANIZATION</code> and <code class="codeph">END_TABLE_REORGANIZATION</code> procedures in the <code class="codeph">DBMS_MVIEW</code> package to reorganize a master table. See the <a href="../arpls/DBMS_MVIEW.html#ARPLS027" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p>Online redefinition of tables is another possible way to reorganize master tables, but online redefinition is not allowed on master tables with materialized view logs and materialized views. Online redefinition is allowed on master tables that do not have materialized view logs. See <span class="q">"<a href="managing-tables.html#GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934" title="In any database system, it is occasionally necessary to modify the logical or physical structure of a table to improve the performance of queries or DML, accommodate application changes, or Manage storage. You can redefine tables online with the DBMS_REDEFINITION package.">Redefining Tables Online</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7CDE1F79-1BBF-4A7E-BBAB-2A87E1F77B7C__GUID-3BC5B657-3B8C-4941-9960-D11BF903C6A9">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="planning-for-read-only-materialized-views.html#GUID-228408DC-050E-40CA-9D5A-E8FC157D5C4A" title="Create a materialized view log on a master table so that materialized views based on the master table can be fast refreshed.">Creating Materialized View Logs</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-6F0523A6-D710-46D9-A683-2E692882E2BB" title="Materialized view logs enable fast refreshes of materialized views.">Materialized View Logs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-EA4C8CD8-51E2-4C3B-8281-210940D8DE01" name="GUID-EA4C8CD8-51E2-4C3B-8281-210940D8DE01"></a><h5 id="ADMIN-GUID-EA4C8CD8-51E2-4C3B-8281-210940D8DE01" class="sect5"><span class="enumeration_section">37.1.4.2 </span>Columns Logged in the Materialized View Log
                     </h5>
                     <div>
                        <p>When you create a materialized view log, you can add columns to the log when necessary.</p>
                        <p>To perform a fast refresh on a materialized view, the following types of columns must be added to the materialized view log:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A column referenced in the <code class="codeph">WHERE</code> clause of a subquery that is not part of an equi-join and is not a primary key column. These columns are called filter columns.
                              </p>
                           </li>
                           <li>
                              <p>A column in an equi-join that is not a primary key column, if the subquery is either many to many or one to many. If the subquery is many to one, then you do not need to add the join column to the materialized view log.</p>
                           </li>
                        </ul>
                        <p>A collection column cannot be added to a materialized view log. Also, materialized view logs are not required for materialized views that use complete refresh.</p>
                        <p>For example, consider the following DDL:</p><pre class="oac_no_warn" dir="ltr">1) CREATE MATERIALIZED VIEW oe.customers REFRESH FAST AS
2)  SELECT * FROM oe.customers@orc1.example.com c
3)  WHERE EXISTS
4)    (SELECT * FROM oe.orders@orc1.example.com o
5)     WHERE c.customer_id = o.customer_id AND o.order_total &gt; 20000);
</pre><p>Notice in line 5 of the preceding DDL that three columns are referenced in the <code class="codeph">WHERE</code> clause. Columns <code class="codeph">orders.customer_id</code> and <code class="codeph">customers.customer_id</code> are referenced as part of the equi-join clause. Because <code class="codeph">customers.customer_id</code> is a primary key column, it is logged by default, but <code class="codeph">orders.customer_id</code> is not a primary key column and so must be added to the materialized view log. Also, the column <code class="codeph">orders.order_total</code> is an additional filter column and so must be logged. 
                        </p>
                        <p>Therefore, add <code class="codeph">orders.customer_id</code> and <code class="codeph">orders.order_total</code> the materialized view log for the <code class="codeph">oe.orders</code> table.
                        </p>
                        <p>You are encouraged to analyze the defining queries of your planned materialized views and identify which columns must be added to your materialized view logs. If you try to create or refresh a materialized view that requires an added column without adding the column to the materialized view log, then your materialized view creation or refresh might fail.</p>
                        <div class="infoboxnote" id="GUID-EA4C8CD8-51E2-4C3B-8281-210940D8DE01__GUID-01B50212-15E8-4097-A702-9B57C765FFC0">
                           <p class="notep1">Note:</p>
                           <p>To perform a fast refresh on a materialized view, you must add join columns in subqueries to the materialized view log if the join column is not a primary key and the subquery is either many to many or one to many. If the subquery is many to one, then you do not need to add the join column to the materialized view log.</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-EA4C8CD8-51E2-4C3B-8281-210940D8DE01__GUID-FC814EC8-AD96-4AEA-8152-D91BDFFE1D88">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="planning-for-read-only-materialized-views.html#GUID-228408DC-050E-40CA-9D5A-E8FC157D5C4A" title="Create a materialized view log on a master table so that materialized views based on the master table can be fast refreshed.">Creating Materialized View Logs</a>"</span> for information about creating a materialized view log
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="planning-for-read-only-materialized-views.html#GUID-FAAF0273-7321-4FD0-8A5D-A3A8364E10F9" title="When you create a materialized view log, you can add columns to the log to enable fast refreshes of materialized views.">Logging Columns in a Materialized View Log</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="read-only-materialized-view-concepts.html#GUID-899DBA13-2CAD-45E4-963A-6472EF5DFC66" title="In certain situations, you might want your materialized view to reflect a subset of the data in the master table.">Data Subsetting with Materialized Views</a>"</span> for information about materialized views with subqueries
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="read-only-materialized-view-concepts.html#GUID-0C401A1A-D5BC-4009-B6DD-A1C61D65F9E9" title="The defining query of a materialized view with a subquery is subject to several restrictions to preserve the materialized view's fast refresh capability.">Restrictions for Materialized Views with Subqueries</a>"</span> for additional information about materialized views with subqueries
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-6F0523A6-D710-46D9-A683-2E692882E2BB" title="Materialized view logs enable fast refreshes of materialized views.">Materialized View Logs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-DBF3D876-00A8-4D6B-977C-8EAD8E554342" name="GUID-DBF3D876-00A8-4D6B-977C-8EAD8E554342"></a><h5 id="ADMIN-GUID-DBF3D876-00A8-4D6B-977C-8EAD8E554342" class="sect5"><span class="enumeration_section">37.1.4.3 </span>Restriction on Import of Materialized View Logs to a Different Schema
                     </h5>
                     <div>
                        <p>Materialized view logs are exported with the schema name explicitly given in the DDL statements. Therefore, materialized view logs cannot be imported into a schema that is different than the schema from which they were exported.</p>
                        <p>An error is written to the import log file and the items are not imported if you attempt an import using the Data Pump Import utility that specifies the <code class="codeph">REMAP_SCHEMA</code> import parameter to import an export dump file that contains materialized view logs in the specified schema.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-6F0523A6-D710-46D9-A683-2E692882E2BB" title="Materialized view logs enable fast refreshes of materialized views.">Materialized View Logs</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-8F825CBC-07E7-4E87-AF6B-C9A15D098540" name="GUID-8F825CBC-07E7-4E87-AF6B-C9A15D098540"></a><h3 id="ADMIN-GUID-8F825CBC-07E7-4E87-AF6B-C9A15D098540" class="sect3"><span class="enumeration_section">37.2 </span>Materialized View Database Mechanisms
               </h3>
               <div>
                  <p>When a materialized view is created, additional mechanisms are created at the materialized view database to support the materialized view. Specifically, at least one index is created.</p>
                  <div class="infoboxnote" id="GUID-8F825CBC-07E7-4E87-AF6B-C9A15D098540__GUID-73DEFE0D-4C1C-4914-AF74-61290148B049">
                     <p class="notep1">Note:</p>
                     <p>The size limit for a materialized view name is 30 bytes. If you try to create a materialized view with a name larger than 30 bytes, Oracle Database returns an error.</p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-4E1FEFAE-331D-42EE-9D09-D9536BB1CB17">Indexes for Materialized Views</a><br>At least one index is created at the remote materialized view database for each primary key and <code class="codeph">ROWID</code> materialized view.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-C7012EE7-3870-4B01-8EBC-7D3247088D03" title="Several objects are used in materialized view replication. Some of these objects are optional and are used only as needed to support the created materialized view environment. For example, if you have a complex materialized view that cannot be fast refreshed, then you might not have a materialized view log at the master database.">Read-Only Materialized View Architecture</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-4E1FEFAE-331D-42EE-9D09-D9536BB1CB17" name="GUID-4E1FEFAE-331D-42EE-9D09-D9536BB1CB17"></a><h4 id="ADMIN-GUID-4E1FEFAE-331D-42EE-9D09-D9536BB1CB17" class="sect4"><span class="enumeration_section">37.2.1 </span>Indexes for Materialized Views
                  </h4>
                  <div>
                     <p>At least one index is created at the remote materialized view database for each primary key and <code class="codeph">ROWID</code> materialized view.
                     </p>
                     <p>For a primary key materialized view, the index corresponds to the primary key of the target master table and includes <code class="codeph">_PK</code> in its name. A number is appended if an index with the same name already exists at the materialized view database. For a <code class="codeph">ROWID</code> materialized view, the index is on the <code class="codeph">ROWID</code> column and includes <code class="codeph">I_SNAP$_</code> in its name. Additional indexes can be created by Oracle Database at the remote materialized view database to support fast refreshing of materialized views with subqueries.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-8F825CBC-07E7-4E87-AF6B-C9A15D098540" title="When a materialized view is created, additional mechanisms are created at the materialized view database to support the materialized view. Specifically, at least one index is created.">Materialized View Database Mechanisms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-7881388A-9397-43E2-8776-850660CB6C14" name="GUID-7881388A-9397-43E2-8776-850660CB6C14"></a><h3 id="ADMIN-GUID-7881388A-9397-43E2-8776-850660CB6C14" class="sect3"><span class="enumeration_section">37.3 </span>Organizational Mechanisms
               </h3>
               <p>Several mechanisms organize the materialized views at the materialized view database. These mechanisms maintain organizational consistency between the materialized view database and its master database.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-4440DB7A-5F04-4595-8672-2970028F7645">Refresh Groups</a><br>To preserve referential integrity and transactional (read) consistency among multiple materialized views, Oracle Database can refresh individual materialized views as part of a refresh group.
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-ACFC0831-23B6-4073-B0FB-ADC8D93169C4">Refresh Group Size</a><br>There are a few trade-offs to consider when you are deciding on the size of your refresh groups.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-C7012EE7-3870-4B01-8EBC-7D3247088D03" title="Several objects are used in materialized view replication. Some of these objects are optional and are used only as needed to support the created materialized view environment. For example, if you have a complex materialized view that cannot be fast refreshed, then you might not have a materialized view log at the master database.">Read-Only Materialized View Architecture</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-4440DB7A-5F04-4595-8672-2970028F7645" name="GUID-4440DB7A-5F04-4595-8672-2970028F7645"></a><h4 id="ADMIN-GUID-4440DB7A-5F04-4595-8672-2970028F7645" class="sect4"><span class="enumeration_section">37.3.1 </span>Refresh Groups
                  </h4>
                  <div>
                     <p>To preserve referential integrity and transactional (read) consistency among multiple materialized views, Oracle Database can refresh individual materialized views as part of a refresh group.</p>
                     <p>After refreshing all of the materialized views in a refresh group, the data of all materialized views in the group correspond to the same transactionally consistent point in time.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-7881388A-9397-43E2-8776-850660CB6C14" title="Several mechanisms organize the materialized views at the materialized view database. These mechanisms maintain organizational consistency between the materialized view database and its master database.">Organizational Mechanisms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-ACFC0831-23B6-4073-B0FB-ADC8D93169C4" name="GUID-ACFC0831-23B6-4073-B0FB-ADC8D93169C4"></a><h4 id="ADMIN-GUID-ACFC0831-23B6-4073-B0FB-ADC8D93169C4" class="sect4"><span class="enumeration_section">37.3.2 </span>Refresh Group Size
                  </h4>
                  <div>
                     <p>There are a few trade-offs to consider when you are deciding on the size of your refresh groups.</p>
                     <p>Oracle Database is optimized for large refresh groups. So, large refresh groups refresh faster than an equal number of materialized views in small refresh groups, if the materialized views in the groups are similar. For example, refreshing a refresh group with 100 materialized views is faster than refreshing five refresh groups with 20 materialized views each. Also, large refresh groups enable you to refresh a greater number of materialized views with only one call to a PL/SQL subprogram.</p>
                     <p>Network connectivity must be maintained while performing a refresh. If the connectivity is lost or interrupted during the refresh, then all changes are rolled back so that the database remains consistent. Therefore, in cases where the network connectivity is difficult to maintain, consider using smaller refresh groups.</p>
                     <p>There is also an optimization for null refresh. That is, if there were no changes to the master tables since the last refresh for a particular materialized view, then almost no extra time is required for the materialized view during refresh.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-7881388A-9397-43E2-8776-850660CB6C14" title="Several mechanisms organize the materialized views at the materialized view database. These mechanisms maintain organizational consistency between the materialized view database and its master database.">Organizational Mechanisms</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-B384BA50-BD3D-4457-B28B-16A28B214E76" name="GUID-B384BA50-BD3D-4457-B28B-16A28B214E76"></a><h3 id="ADMIN-GUID-B384BA50-BD3D-4457-B28B-16A28B214E76" class="sect3"><span class="enumeration_section">37.4 </span>Refresh Process
               </h3>
               <p>To ensure that a materialized view is consistent with its master table, you must refresh the materialized view periodically.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-C98891B9-13D3-4B22-83AF-B349FF06AF08">About the Refresh Process</a><br>A <strong class="term">materialized view refresh</strong> is an efficient batch operation that makes a materialized view reflect a more current state of its master table.
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-6F85F48F-F633-424B-B43F-2B27F0043C79">Refresh Types</a><br>Oracle Database can refresh a materialized view using either a fast, complete, or force refresh.
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-65D0AD4E-E401-4740-A679-69529D2F2618">Initiating a Refresh</a><br>When creating a refresh group, you can configure the group so that Oracle Database automatically refreshes the group's materialized views at scheduled intervals. Conversely, you can omit scheduling information so that the refresh group must be refreshed manually or "on-demand." Manual refresh is an ideal solution when the refresh is performed on a system that does not always have a network connection.
                     </li>
                     <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-DC463233-CEDB-4EE4-B6E9-27F26E857B91">Constraints and Refresh</a><br>To avoid any integrity constraint violations during refresh of materialized views, make non primary key integrity constraints on each materialized view deferrable.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-C7012EE7-3870-4B01-8EBC-7D3247088D03" title="Several objects are used in materialized view replication. Some of these objects are optional and are used only as needed to support the created materialized view environment. For example, if you have a complex materialized view that cannot be fast refreshed, then you might not have a materialized view log at the master database.">Read-Only Materialized View Architecture</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-C98891B9-13D3-4B22-83AF-B349FF06AF08" name="GUID-C98891B9-13D3-4B22-83AF-B349FF06AF08"></a><h4 id="ADMIN-GUID-C98891B9-13D3-4B22-83AF-B349FF06AF08" class="sect4"><span class="enumeration_section">37.4.1 </span>About the Refresh Process
                  </h4>
                  <div>
                     <p>A <strong class="term">materialized view refresh</strong> is an efficient batch operation that makes a materialized view reflect a more current state of its master table.
                     </p>
                     <p>A materialized view's data does not necessarily match the current data of its master table at all times. A materialized view is a transactionally (read) consistent reflection of its master table as the data existed at a specific point in time (that is, at creation or when a refresh occurs). To keep a materialized view's data relatively current with the data of its master table, the materialized view must be refreshed periodically. </p>
                     <p>A row in a master table can be updated many times between refreshes of a materialized view, but the refresh updates the row in the materialized view only once with the current data. For example, a row in a master table might be updated 10 times since the last refresh of a materialized view, but the result is still only one update of the corresponding row in the materialized view during the next refresh.</p>
                     <p>Decide how and when to refresh each materialized view to make it more current. For example, materialized views based on master tables that applications update often might require frequent refreshes. In contrast, materialized views based on relatively static master tables usually require infrequent refreshes. In summary, analyze application characteristics and requirements to determine appropriate materialized view refresh intervals.</p>
                     <p>To refresh materialized views, Oracle Database supports several refresh types and methods of initiating a refresh.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-B384BA50-BD3D-4457-B28B-16A28B214E76" title="To ensure that a materialized view is consistent with its master table, you must refresh the materialized view periodically.">Refresh Process</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-6F85F48F-F633-424B-B43F-2B27F0043C79" name="GUID-6F85F48F-F633-424B-B43F-2B27F0043C79"></a><h4 id="ADMIN-GUID-6F85F48F-F633-424B-B43F-2B27F0043C79" class="sect4"><span class="enumeration_section">37.4.2 </span>Refresh Types
                  </h4>
                  <p>Oracle Database can refresh a materialized view using either a fast, complete, or force refresh.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-8BA52D26-5D35-4D05-AF36-92E82EA9AEB5">Complete Refresh</a><br>To perform a <strong class="term">complete refresh</strong> of a materialized view, the server that manages the materialized view executes the materialized view's defining query, which essentially re-creates the materialized view.
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-62E9ACD9-056A-4896-AE9D-3EE816930327">Fast Refresh</a><br>To perform a <strong class="term">fast refresh</strong>, the master table that manages the materialized view first identifies the changes that occurred in the master table since the most recent refresh of the materialized view and then applies these changes to the materialized view.
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-09E0ACF7-E985-4804-A289-432CD6AAA6FB">Force Refresh</a><br>To perform a <strong class="term">force refresh</strong> of a materialized view, the server that manages the materialized view attempts to perform a fast refresh. If a fast refresh is not possible, then Oracle Database performs a complete refresh.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-B384BA50-BD3D-4457-B28B-16A28B214E76" title="To ensure that a materialized view is consistent with its master table, you must refresh the materialized view periodically.">Refresh Process</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-8BA52D26-5D35-4D05-AF36-92E82EA9AEB5" name="GUID-8BA52D26-5D35-4D05-AF36-92E82EA9AEB5"></a><h5 id="ADMIN-GUID-8BA52D26-5D35-4D05-AF36-92E82EA9AEB5" class="sect5"><span class="enumeration_section">37.4.2.1 </span>Complete Refresh
                     </h5>
                     <div>
                        <p>To perform a <strong class="term">complete refresh</strong> of a materialized view, the server that manages the materialized view executes the materialized view's defining query, which essentially re-creates the materialized view.
                        </p>
                        <p>To refresh the materialized view, the result set of the query replaces the existing materialized view data. Oracle Database can perform a complete refresh for any materialized view. Depending on the amount of data that satisfies the defining query, a complete refresh can take a substantially longer amount of time to perform than a fast refresh.</p>
                        <div class="infoboxnote" id="GUID-8BA52D26-5D35-4D05-AF36-92E82EA9AEB5__GUID-F9DA0F41-E9D4-437D-89EB-EA4D87D787BC">
                           <p class="notep1">Note:</p>
                           <p>If complete refresh is used for a materialized view, then set its <code class="codeph">PCTFREE</code> to <code class="codeph">0</code> and <a id="d331491e1241" class="indexterm-anchor"></a><a id="d331491e1245" class="indexterm-anchor"></a><a id="d331491e1249" class="indexterm-anchor"></a><code class="codeph">PCTUSED</code> to <code class="codeph">99</code> for maximum efficiency.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-6F85F48F-F633-424B-B43F-2B27F0043C79" title="Oracle Database can refresh a materialized view using either a fast, complete, or force refresh.">Refresh Types</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-62E9ACD9-056A-4896-AE9D-3EE816930327" name="GUID-62E9ACD9-056A-4896-AE9D-3EE816930327"></a><h5 id="ADMIN-GUID-62E9ACD9-056A-4896-AE9D-3EE816930327" class="sect5"><span class="enumeration_section">37.4.2.2 </span>Fast Refresh
                     </h5>
                     <div>
                        <p>To perform a <strong class="term">fast refresh</strong>, the master table that manages the materialized view first identifies the changes that occurred in the master table since the most recent refresh of the materialized view and then applies these changes to the materialized view.
                        </p>
                        <p>Fast refreshes are more efficient than complete refreshes when there are few changes to the master table because the participating server and network replicate a smaller amount of data. You can perform fast refreshes of materialized views only when the master table has a materialized view log. Also, for fast refreshes to be faster than complete refreshes, each join column in the <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> statement must have an index on it.
                        </p>
                        <p><a id="d331491e1323" class="indexterm-anchor"></a><a id="d331491e1327" class="indexterm-anchor"></a>After a direct path load on a master table using SQL*Loader, a fast refresh does not apply the changes that occurred during the direct path load. Also, fast refresh does not apply changes that result from other types of bulk load operations on master tables. Examples of these operations include <code class="codeph">INSERT</code> statements with an <code class="codeph">APPEND</code> hint and <code class="codeph">INSERT</code> <code class="codeph">...</code> <code class="codeph">SELECT</code> <code class="codeph">*</code> <code class="codeph">FROM</code> statements.
                        </p>
                        <p><a id="d331491e1355" class="indexterm-anchor"></a>If you have materialized views based on partitioned master tables, then you might be able to use Partition Change Tracking (PCT) to identify which materialized view rows correspond to a particular partition. PCT is also used to support fast refresh after partition maintenance operations on a materialized view's master table. PCT-based refresh on a materialized view is possible only if several conditions are satisfied.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-62E9ACD9-056A-4896-AE9D-3EE816930327__GUID-61479662-6DC0-44EA-BE64-9CCB701A8349">
                           <p class="notep1">See Also:</p>
                           <p><a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for information about PCT and about PCT-based refresh
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-6F85F48F-F633-424B-B43F-2B27F0043C79" title="Oracle Database can refresh a materialized view using either a fast, complete, or force refresh.">Refresh Types</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-09E0ACF7-E985-4804-A289-432CD6AAA6FB" name="GUID-09E0ACF7-E985-4804-A289-432CD6AAA6FB"></a><h5 id="ADMIN-GUID-09E0ACF7-E985-4804-A289-432CD6AAA6FB" class="sect5"><span class="enumeration_section">37.4.2.3 </span>Force Refresh
                     </h5>
                     <div>
                        <p>To perform a <strong class="term">force refresh</strong> of a materialized view, the server that manages the materialized view attempts to perform a fast refresh. If a fast refresh is not possible, then Oracle Database performs a complete refresh.
                        </p>
                        <p>Use the force setting when you want a materialized view to refresh if a fast refresh is not possible.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-6F85F48F-F633-424B-B43F-2B27F0043C79" title="Oracle Database can refresh a materialized view using either a fast, complete, or force refresh.">Refresh Types</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-65D0AD4E-E401-4740-A679-69529D2F2618" name="GUID-65D0AD4E-E401-4740-A679-69529D2F2618"></a><h4 id="ADMIN-GUID-65D0AD4E-E401-4740-A679-69529D2F2618" class="sect4"><span class="enumeration_section">37.4.3 </span>Initiating a Refresh
                  </h4>
                  <p>When creating a refresh group, you can configure the group so that Oracle Database automatically refreshes the group's materialized views at scheduled intervals. Conversely, you can omit scheduling information so that the refresh group must be refreshed manually or "on-demand." Manual refresh is an ideal solution when the refresh is performed on a system that does not always have a network connection.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-57480BC6-526B-43B8-8618-E780E87BCAA9">Scheduled Refresh</a><br>When you create a refresh group for automatic refreshing, you must specify a scheduled refresh interval for the group during the creation process.
                        </li>
                        <li class="ulchildlink"><a href="read-only-materialized-view-architecture.html#GUID-621F3492-C3E3-48D7-B1A4-60BC5BFFB53B">On-Demand Refresh</a><br>On-demand refresh means that the materialized view is refreshed with an explicit procedure call.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-B384BA50-BD3D-4457-B28B-16A28B214E76" title="To ensure that a materialized view is consistent with its master table, you must refresh the materialized view periodically.">Refresh Process</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-57480BC6-526B-43B8-8618-E780E87BCAA9" name="GUID-57480BC6-526B-43B8-8618-E780E87BCAA9"></a><h5 id="ADMIN-GUID-57480BC6-526B-43B8-8618-E780E87BCAA9" class="sect5"><span class="enumeration_section">37.4.3.1 </span>Scheduled Refresh
                     </h5>
                     <div>
                        <p>When you create a refresh group for automatic refreshing, you must specify a scheduled refresh interval for the group during the creation process.</p>
                        <p>When setting a group's refresh interval, consider the following characteristics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The dates or date expressions specifying the refresh interval must evaluate to a future point in time.</p>
                           </li>
                           <li>
                              <p>The refresh interval must be greater than the length of time necessary to perform a refresh.</p>
                           </li>
                           <li>
                              <p>Relative date expressions evaluate to a point in time relative to the most recent refresh date. If a network or system failure interferes with a scheduled group refresh, then the evaluation of a relative date expression could change accordingly.</p>
                           </li>
                           <li>
                              <p>Explicit date expressions evaluate to specific points in time, regardless of the most recent refresh date.</p>
                           </li>
                           <li>
                              <p>Consider your environment's tolerance for stale data: if there is a low tolerance, then refresh often; whereas if there is a high tolerance, then refresh less often.</p>
                           </li>
                        </ul>
                        <p>The following are examples of simple date expressions that you can use to specify an interval:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An interval of one hour is specifies as:</p><pre class="oac_no_warn" dir="ltr">SYSDATE + 1/24
</pre></li>
                           <li>
                              <p>An interval of seven days is specifies as:</p><pre class="oac_no_warn" dir="ltr">SYSDATE + 7
</pre></li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-57480BC6-526B-43B8-8618-E780E87BCAA9__GUID-5F1399A0-2F09-4ED7-A829-2340CCA5EC55">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/Data-Types.html#SQLRF-GUID-E405BBC7-DA9A-4DF2-9F22-E60CB9EC0705" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about date arithmetic
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-65D0AD4E-E401-4740-A679-69529D2F2618" title="When creating a refresh group, you can configure the group so that Oracle Database automatically refreshes the group's materialized views at scheduled intervals. Conversely, you can omit scheduling information so that the refresh group must be refreshed manually or " on-demand."="" manual="" refresh="" is="" an="" ideal="" solution="" when="" the="" performed="" on="" a="" system="" that="" does="" not="" always="" have="" network="" connection."="">Initiating a Refresh</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-621F3492-C3E3-48D7-B1A4-60BC5BFFB53B" name="GUID-621F3492-C3E3-48D7-B1A4-60BC5BFFB53B"></a><h5 id="ADMIN-GUID-621F3492-C3E3-48D7-B1A4-60BC5BFFB53B" class="sect5"><span class="enumeration_section">37.4.3.2 </span>On-Demand Refresh
                     </h5>
                     <div>
                        <p>On-demand refresh means that the materialized view is refreshed with an explicit procedure call.</p>
                        <p>Scheduled materialized view refreshes might not always be the appropriate solution for your environment. For example, immediately following a bulk data load into a master table, dependent materialized views no longer represent the master table's data.</p>
                        <p>You might also want to refresh your materialized views on-demand when your materialized views are integrated with a sales force automation system located on a disconnected laptop. Developers designing the sales force automation software can create an application control, such as a button, that a salesperson can use to refresh the materialized views when they are ready to transfer the day's orders to the server after establishing a network connection.</p>
                        <p>The following example illustrates an on-demand refresh of the <code class="codeph">hr_refg</code> refresh group:
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_REFRESH.REFRESH('hr_refg');
</pre><div class="infoboxnote" id="GUID-621F3492-C3E3-48D7-B1A4-60BC5BFFB53B__GUID-2F582C87-FECB-410E-97EA-F299B5DF1344">
                           <p class="notep1">Note:</p>
                           <p>Do not use the <code class="codeph">DBMS_MVIEW.REFRESH_ALL_MVIEWS</code> or the <code class="codeph">DBMS_MVIEW.REFRESH_DEPENDENT</code> procedure to refresh materialized views used in a replication environment. Instead, use the <code class="codeph">DBMS_REFRESH.REFRESH</code> or the <code class="codeph">DBMS_MVIEW.REFRESH</code> procedure to refresh materialized views in a replication environment.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-65D0AD4E-E401-4740-A679-69529D2F2618" title="When creating a refresh group, you can configure the group so that Oracle Database automatically refreshes the group's materialized views at scheduled intervals. Conversely, you can omit scheduling information so that the refresh group must be refreshed manually or " on-demand."="" manual="" refresh="" is="" an="" ideal="" solution="" when="" the="" performed="" on="" a="" system="" that="" does="" not="" always="" have="" network="" connection."="">Initiating a Refresh</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-DC463233-CEDB-4EE4-B6E9-27F26E857B91" name="GUID-DC463233-CEDB-4EE4-B6E9-27F26E857B91"></a><h4 id="ADMIN-GUID-DC463233-CEDB-4EE4-B6E9-27F26E857B91" class="sect4"><span class="enumeration_section">37.4.4 </span>Constraints and Refresh
                  </h4>
                  <div>
                     <p>To avoid any integrity constraint violations during refresh of materialized views, make non primary key integrity constraints on each materialized view deferrable.</p>
                     <p>This requirement includes LOB columns with <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints. In addition, all materialized views that are related by foreign key constraints should be refreshed together or in the same refresh group.
                     </p>
                     <div class="infoboxnote" id="GUID-DC463233-CEDB-4EE4-B6E9-27F26E857B91__GUID-05022FB8-B6D3-4FF0-8482-CFDF093C94FC">
                        <p class="notep1">Note:</p>
                        <p>Primary key constraints on materialized views might or might not be deferrable.</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-DC463233-CEDB-4EE4-B6E9-27F26E857B91__GUID-063B4BC3-7FD8-42C1-8E4B-638B14E8DB0B">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/constraint.html#SQLRF52180" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about making constraints deferrable
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="read-only-materialized-view-architecture.html#GUID-B384BA50-BD3D-4457-B28B-16A28B214E76" title="To ensure that a materialized view is consistent with its master table, you must refresh the materialized view periodically.">Refresh Process</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>