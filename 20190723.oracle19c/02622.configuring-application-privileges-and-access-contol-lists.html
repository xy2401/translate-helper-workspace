<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring Application Privileges and Access Control Lists</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Real Application Security Administrator's and Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Real Application Security Administrator's and Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="real-application-security-administrators-and-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:21:48-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2012, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95725-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configuring-application-sessions.html" title="Previous" type="text/html">
      <link rel="next" href="configuring-data-security.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Real Application Security Administrator's and Developer's Guide">
    <meta name="dcterms.isVersionOf" content="DBFSG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-application-sessions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="configuring-data-security.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Real Application Security Administrator's and Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring Application Privileges and Access Control Lists</li>
            </ol>
            <a id="GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E" name="GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E"></a><a id="DBFSG99152"></a>
            
            <h2 id="DBFSG-GUID-7CA4B68D-D6F0-46FC-96FE-B18F6B4EF43E" class="sect2"><span class="enumeration_chapter">4 </span> Configuring Application Privileges and Access Control Lists
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how to configure application privileges and access control lists (ACLs) in Oracle Database Real Application Security. It includes information on how to create, set, and modify ACLs, and describes how ACL security interacts with other Oracle Database security mechanisms. </p>
               <div class="p">This chapter contains the following sections:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E">About Application Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985">About Configuring Security Classes</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6">About Configuring Access Control Lists</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-23630E01-8BE5-4850-807D-D00CB299655C">Data Security</a></p>
                     </li>
                     <li>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8">ACL Binding</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBFSG99761"></a><div class="props_rev_3"><a id="GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E" name="GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E"></a><h3 id="DBFSG-GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E" class="sect3">About Application Privileges</h3>
               <div>
                  <p>The database has predefined system privileges, such as <code class="codeph">CREATE TABLE</code>, and object privileges, such as <code class="codeph">UPDATE</code>. A large number of custom privileges that must be defined for enterprise applications are often called application-defined privileges. Real Application Security introduces the definition of these privileges, termed application privileges, in the database. For application developers, these custom application privileges are used for access control on application-level operations. These application-level operations allow fine-grained access on data at a granular level of columns, rows, or cells.
                  </p>
                  <p>When an application privilege is explicitly bound to a resource, for example, rows and columns of a table, an application privilege can be used to protect an application-level operation on a database object. Alternatively, it may be used in the same manner as a system privilege when binding to a resource is not required. </p>
                  <div class="infoboxnotealso" id="GUID-2B4473AF-0A79-4365-AEE3-DE4FCA3B0D5E__GUID-84D880FD-005E-46E7-9F9B-7E729BA3C132">
                     <p class="notep1">See Also:</p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">About Checking ACLs for a Privilege</a></div>
                  <p>This section contains the following topic: <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884">Aggregate Privilege</a>.
                  </p>
               </div><a id="DBFSG423"></a><a id="DBFSG424"></a><a id="DBFSG99778"></a><div class="props_rev_3"><a id="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884" name="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884"></a><h4 id="DBFSG-GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884" class="sect4">Aggregate Privilege</h4>
                  <div>
                     <p>A Real Application Security <span class="bold">aggregate privilege</span> implies a set of other application privileges. The implied application privileges of an aggregate privilege can be any application privilege defined by the current security class or an inherited application privilege (see <span class="q">"<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985">About Configuring Security Classes</a>"</span> for more information). When an aggregate privilege is granted or denied, its implied application privileges are implicitly granted or denied.
                     </p>
                     <p>When an aggregate privilege <code class="codeph">AG</code> implies the application privileges <code class="codeph">p1</code> and <code class="codeph">p2</code>, granting the application privilege, <code class="codeph">AG</code>, implies that both <code class="codeph">p1</code> and <code class="codeph">p2</code> are granted. However, granting both the <code class="codeph">p1</code> and <code class="codeph">p2</code> does not imply that <code class="codeph">AG</code> is granted. 
                     </p>
                     <p>Aggregate privileges are useful for the following purposes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Enabling grouping and granting a set of application privileges as a single grant, simplifying application privilege administration. A group name or an alias for a set of application privileges, where the group name itself is not an application privilege, makes checking for the set simpler as it checks for each application privilege in the group.</p>
                        </li>
                        <li>
                           <p>Providing an efficient way to check a set of application privileges based on a single application privilege check.</p>
                        </li>
                     </ul>
                     <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDEIFIJ">Example 4-1</a> adds an aggregate privilege called <code class="codeph">UPDATE_INFO</code> to the <code class="codeph">HRPRIVS</code> security class. The aggregate privilege contains the implied privileges <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">INSERT</code>.
                     </p>
                     <p>When the group name itself is a first class privilege, there may be several possible semantics for the aggregate privilege based on its relationship to its members. When defining a semantic to represent an aggregate privilege, you must consider various relations between the aggregate privilege and its members, such as <span class="italic">imply</span> and <span class="italic">include</span>. For example, consider the <span class="italic">imply</span> relation in Java Security; selecting this semantic when granting an aggregate privilege implies granting all its member application privileges individually, but not the aggregate privilege. Therefore, granting all the member application privileges of an aggregate does not imply granting the aggregate privilege. 
                     </p>
                     <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDBGIJE">Example 4-2</a> adds a list of implied application privileges for the aggregate privilege <code class="codeph">UPDATE_INFO</code>.
                     </p>
                     <p>An aggregate privilege is not an application role. An application role itself is not an application privilege that protects a resource. Application roles are used to activate and deactivate application privileges available to an application user to enforce role-based access control constraints.</p>
                     <p>Also, an aggregate privilege is not a security class. A security class is not an application privilege that can be granted to a user. A security class lists a set of application privileges including aggregate privileges that may be either granted or denied in an ACL. Within a security class, many aggregate privileges may be defined based on the application privileges available in the security class. </p>
                     <p>An aggregate privilege can have other aggregate privileges as its members. Note that the member privileges of an aggregate privilege must be defined in the same security class (or in an ancestor security class) as the aggregate privilege. An aggregate privilege definition cannot create a cycle. </p>
                     <div class="example" id="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDEIFIJ">
                        <p class="titleinexample">Example 4-1 Adding an Aggregate Privilege to a Security Class</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">ADD_PRIVILEGES</span>(sec_class=&gt;'HRPRIVS',
                                   priv=&gt;'<span class="bold">UPDATE_INFO</span>',
                                   implied_priv_list=&gt;XS$NAME_LIST('"<span class="bold">UPDATE</span>"',
                                           '"<span class="bold">DELETE</span>"', '"<span class="bold">INSERT</span>"'));
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884__CHDBGIJE">
                        <p class="titleinexample">Example 4-2 Adding Implied Privileges to an Aggregate Privilege</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<a id="d17697e504" class="indexterm-anchor"></a><span class="bold">ADD_IMPLIED_PRIVILEGES(sec_class =&gt;'HRPRIVS',</span>(priv=&gt;'<span class="bold">UPDATE_INFO</span>',
<span class="bold">implied_priv_list</span>=&gt;XS$NAME_LIST('"<span class="bold">UPDATE</span>"', '"<span class="bold">DELETE</span>"', '"<span class="bold">INSERT</span>"'));
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>This section contains: <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE">ALL Privilege</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBFSG99833"></a><a id="DBFSG99779"></a><div class="props_rev_3"><a id="GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE" name="GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE"></a><h5 id="DBFSG-GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE" class="sect5">ALL Privilege</h5>
                     <div>
                        <p>The <code class="codeph">ALL</code> privilege is a predefined aggregate privilege. Every security class has the <code class="codeph">ALL</code> privilege, and it contains all the application privileges of that security class. <code class="codeph">ALL</code> is not explicitly defined in every security class, but it is internally understood by the system based on the security class associated with the ACL. The cardinality of an <code class="codeph">ALL</code> for a security class changes whenever an application privilege is added or removed from the security class.
                        </p>
                        <p>Use of the <code class="codeph">ALL</code> construct enables Real Application Security to express access control policy such as "grant all the application privileges to the application user <code class="codeph">u1</code> defined for an application except the specific privilege <code class="codeph">p1</code>". <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE__CHDIHHIH">Example 4-3</a> shows an ACL in the security class, <code class="codeph">AppSecurityClass</code>, which has all the application privileges for the application. The ordered evaluation of ACEs ensures that the <code class="codeph">ALL</code> except <code class="codeph">p1</code> is granted to the application user <code class="codeph">u1</code>. 
                        </p>
                        <div class="example" id="GUID-8BDCED12-E47F-48FD-8E68-4995303C82EE__CHDIHHIH">
                           <p class="titleinexample">Example 4-3 Using ALL Grant</p><pre class="oac_no_warn" dir="ltr">select NAME, SECURITY_CLASS, PARENT_ACL from DBA_XS_ACLS;

NAME         SECURITY_CLASS     PARENT_ACL
----------   ----------------   ---------------
sampleACL    AppSecurityClass
 
 
select ACL, ACE_ORDER, GRANT_TYPE, PRINCIPAL, PRIVILEGE from DBA_XS_ACES;
 
ACL         ACE_ORDER   GRANT_TYPE   PRINCIPAL      PRIVILEGE
---------   ---------   ----------   ------------   ----------
sampleACL   1           DENY         U1             p1
sampleACL   2           GRANT        U1             ALL</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="DBFSG99818"></a><div class="props_rev_3"><a id="GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985" name="GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985"></a><h3 id="DBFSG-GUID-F6C92BDA-15C8-4515-BDED-9CCB2BC02985" class="sect3">About Configuring Security Classes</h3>
               <div>
                  <div class="p">This section contains the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472">About Security Classes</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC">Security Class Inheritance</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC">Security Class as Privilege Scope</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D">DML Security Class</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61">About Validating Security Classes</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906">Manipulating Security Classes</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99819"></a><div class="props_rev_3"><a id="GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472" name="GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472"></a><h4 id="DBFSG-GUID-D2C264EE-CFFF-4B2C-8D8D-26E979DBB472" class="sect4">About Security Classes</h4>
                  <div>
                     <p>A <a id="d17697e956" class="indexterm-anchor"></a><span class="bold">security class</span> is a scope for a set of application privileges. The same application privilege can be defined in multiple security classes. A security class restricts the set of application privileges that may be granted or denied within an ACL. A security class is both a place to define a collection of relevant application privileges and a way to associate an ACL with one security class.
                     </p>
                     <p>Real Application Security supports a set of predefined application privileges and security classes and also allows applications to define their own custom application privileges using security classes. Each class of object being protected is associated with a security class that indicates the set of operations that may be performed on its objects. There are predefined security classes that define built-in application privileges.</p>
                     <p>Security classes simplify the task of managing a large number of application privileges. Each ACL is associated with one security class. This security class defines the scope of application privileges that may be granted within the ACL. </p>
                     <p>Each object type can support a large number of application privileges, and many different object types may share a common set of operations. To simplify these types of specifications, security classes support inheritance.</p>
                  </div>
               </div><a id="DBFSG99820"></a><a id="DBFSG99775"></a><div class="props_rev_3"><a id="GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC" name="GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC"></a><h4 id="DBFSG-GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC" class="sect4">Security Class Inheritance</h4>
                  <div>
                     <p>A security class can inherit application privileges from parent security classes. A child security class implicitly contains all the application privileges defined in the parent security classes. The application privileges available in a security class are the combination of the application privileges defined in the security class and the application privileges inherited from parent security classes. </p>
                     <p>A security class can specify a list of parent security classes. The application privileges available in these parent classes become available in the child class. When the same application privilege name is defined in a child and its parent security class, the application privilege in the child replaces or overrides the application privilege in the parent.</p>
                     <p><a id="d17697e1093" class="indexterm-anchor"></a><a id="d17697e1097" class="indexterm-anchor"></a><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC__CHDDGCJC">Example 4-4</a> shows security class inheritance by creating a security class called <code class="codeph">HRPRIVS</code>. The <code class="codeph">HRPRIVS</code> security class defines two application privileges, <code class="codeph">VIEW_SENSITIVE_INFO</code> and <code class="codeph">UPDATE_INFO</code>. <code class="codeph">UPDATE_INFO</code>, which is an aggregate privilege that implies three other privileges: <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">INSERT</code>. The security class <code class="codeph">HRPRIVS</code> inherits application privileges from <code class="codeph">DML</code> security class as specified by the <code class="codeph">parent_list</code> parameter.
                     </p>
                     <div class="example" id="GUID-68CAA5B5-AF97-4BAC-B714-6BB741044CBC__CHDDGCJC">
                        <p class="titleinexample">Example 4-4  Showing Security Class Inheritance</p><pre class="oac_no_warn" dir="ltr"> DECLARE
  pr_list  XS$PRIVILEGE_LIST;
BEGIN
  pr_list :=XS$PRIVILEGE_LIST(
     XS$PRIVILEGE(name=&gt;'<span class="bold">VIEW_SENSITIVE_INFO</span>'),
     XS$PRIVILEGE(name=&gt;'<span class="bold">UPDATE_INFO</span>',
                  implied_priv_list=&gt;XS$NAME_LIST
                    ('"UPDATE"', '"DELETE"', '"INSERT"')));
 
  sys.xs_security_class.create_security_class(
     name=&gt;'<span class="bold">HRPRIVS</span>', 
     <span class="bold">parent_list</span>=&gt;XS$NAME_LIST('<span class="bold">DML</span>'),
     priv_list=&gt;pr_list);
END;
/</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99780"></a><div class="props_rev_3"><a id="GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC" name="GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC"></a><h4 id="DBFSG-GUID-FD57A8C7-36EE-42C3-A8FB-F6E4A51BEEDC" class="sect4">Security Class as Privilege Scope</h4>
                  <div>
                     <p>An ACL has a single security class as its <strong class="term">scope</strong>. An ACL grants application privileges to principals to control access to protected data or functionality; it can grant only the application privileges that are defined in its security class. The <code class="codeph">security_class</code> parameter is used to specify the security class in an ACL. When checking an application privilege against an ACL, the security class of the application privilege is resolved based on the security class of the ACL, as the ACL always has an associated security class. If no security class is specified, then the <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D">DML Security Class</a> is used as the default security class. Different ACLs can have as their scope the same security class.
                     </p>
                  </div>
               </div><a id="DBFSG99776"></a><div class="props_rev_3"><a id="GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D" name="GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D"></a><h4 id="DBFSG-GUID-0CD2270F-C556-4F2F-A7E2-9A71FBAE650D" class="sect4">DML Security Class</h4>
                  <div>
                     <p>The <code class="codeph">DML</code> security class is predefined or created during installation. The <code class="codeph">DML</code> security class contains common application privileges for object manipulation: <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code>. If an ACL does not specify its security class, <code class="codeph">DML</code> is the default security class for the ACL.
                     </p>
                     <p>Real Application Security DML application privileges are the same as database object privileges and inherently enforced by database object-level operations. However, Real Application Security DML application privileges are effective only when Real Application Security Data Security is enabled for database tables.</p>
                  </div>
               </div><a id="DBFSG99787"></a><div class="props_rev_3"><a id="GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61" name="GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61"></a><h4 id="DBFSG-GUID-730D9BA1-A246-47BC-86ED-C1D978CCDD61" class="sect4">About Validating Security Classes</h4>
                  <div>
                     <p>Oracle recommends that you always validate the Real Application Security objects after administrative configuration changes. The <code class="codeph">XS_DIAG</code> package provides a set of validation APIs to help ensure that these changes do not damage the complicated relationships among your Real Application Security objects.
                     </p>
                     <p>See <span class="q">"<a href="XS_DIAG-package.html#GUID-09C2ECF8-EE7D-4233-AE8E-50DDC37D2BAB">VALIDATE_SECURITY_CLASS Function</a>"</span> for more information about validating a security class.
                     </p>
                  </div>
               </div><a id="DBFSG395"></a><a id="DBFSG397"></a><a id="DBFSG398"></a><a id="DBFSG400"></a><a id="DBFSG399"></a><a id="DBFSG401"></a><a id="DBFSG403"></a><a id="DBFSG402"></a><a id="DBFSG404"></a><a id="DBFSG405"></a><a id="DBFSG393"></a><div class="props_rev_3"><a id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906" name="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906"></a><h4 id="DBFSG-GUID-AD671E89-120C-4255-BEF3-C950A8E0C906" class="sect4">Manipulating Security Classes</h4>
                  <div>
                     <div class="section">
                        <p>To manipulate security classes, use the procedures in PL/SQL package <code class="codeph">XS_SECURITY_CLASS</code>; it includes procedures to create, manage, and delete security classes and their application privileges. This package also includes procedures for managing security class inheritance; see <span class="q">"<a href="XS_SECURITY_CLASS-package.html#GUID-0141A8A6-DF49-49F6-95C8-B14231092BB8">XS_SECURITY_CLASS Package</a>"</span>.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHDHIFA">Example 4-5</a> invokes <code class="codeph">ADD_PARENTS</code> to add the parent security class <code class="codeph">GENPRIVS</code> to the <code class="codeph">HRPRIVS</code> security class.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGBCDG">Example 4-6</a> invokes <code class="codeph">REMOVE_PARENTS</code> to remove the parent security class <code class="codeph">GENPRIVS</code> from the <code class="codeph">HRPRIVS</code> security class.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIFCID">Example 4-7</a> invokes <code class="codeph">ADD_PRIVILEGES</code> to add an aggregate privilege called <code class="codeph">UPDATE_INFO</code> to the <code class="codeph">HRPRIVS</code> security class. The aggregate privilege contains the implied privileges <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">INSERT</code>. Note that <code class="codeph">ADD_PRIVILEGES</code> may be used to add several application privileges to a security class. See <span class="q">"<a href="configuring-application-privileges-and-access-contol-lists.html#GUID-E2A1AE13-F917-4926-A75B-35C6D56F3884">Aggregate Privilege</a>"</span> for more information.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHCCGCB">Example 4-8</a> invokes <code class="codeph">REMOVE_PRIVILEGES</code> to remove the <code class="codeph">UPDATE_INFO</code> application privilege from the <code class="codeph">HRPRIVS</code> security class.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHBBICH">Example 4-9</a> invokes <code class="codeph">REMOVE_PRIVILEGES</code> to remove all application privileges from the <code class="codeph">HRPRIVS</code> security class.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHEFFJE">Example 4-10</a> invokes <code class="codeph">ADD_IMPLIED_PRIVILEGES</code> to add a list of implied application privileges for the aggregate privilege <code class="codeph">UPDATE_INFO</code>.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHHHCIA">Example 4-11</a> invokes <code class="codeph">REMOVE_IMPLIED_PRIVILEGES</code> to remove the implicit privilege <code class="codeph">DELETE</code> from the aggregate privilege <code class="codeph">UPDATE_INFO</code>.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIIIGA">Example 4-12</a> invokes <code class="codeph">REMOVE_IMPLIED_PRIVILEGES</code> to remove all implicit application privileges from the aggregate privilege <code class="codeph">UPDATE_INFO</code>.
                        </p>
                        <p>The procedure sets a description string for the specified security class. <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHFAFCC">Example 4-13</a> invokes <code class="codeph">SET_DESCRIPTION</code> to set a description string for the <code class="codeph">HRPRIVS</code> security class.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGJDGA">Example 4-14</a> invokes <code class="codeph">DELETE_SECURITY_CLASS</code> to delete the <code class="codeph">HRACL</code> ACL using the default delete option <code class="codeph">DEFAULT_OPTION</code>. Note that this option is defined in <span class="q">"<a href="XS_ADMIN_UTIL-package.html#GUID-F39AEA2C-EF16-4E19-BE15-55CFD799E7F8">XS_ADMIN_UTIL Package</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHDHIFA">
                        <p class="titleinexample">Example 4-5 Adding Parent Security Classes for a Specified Security Class</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">ADD_PARENTS</span>('<span class="bold">HRPRIVS</span>','<span class="bold">GENPRIVS</span>');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGBCDG">
                        <p class="titleinexample">Example 4-6 Removing One or More Parent Classes for a Specified Security Class</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">REMOVE_PARENTS</span>('<span class="bold">HRPRIVS</span>','<span class="bold">GENPRIVS</span>');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIFCID">
                        <p class="titleinexample">Example 4-7 Adding One or More Application Privileges to a Security Class</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">ADD_PRIVILEGES</span>(sec_class=&gt;'<span class="bold">HRPRIVS</span>',
                                   priv=&gt;'<span class="bold">UPDATE_INFO</span>',
                                   implied_priv_list=&gt;XS$NAME_LIST('"<span class="bold">UPDATE</span>"',
                                                    '"<span class="bold">DELETE</span>"', '"<span class="bold">INSERT</span>"'));
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHCCGCB">
                        <p class="titleinexample">Example 4-8 Removing One or More Application Privileges from a Specified Security Class</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">REMOVE_PRIVILEGES</span>('<span class="bold">HRPRIVS</span>','<span class="bold">UPDATE_INFO</span>');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHBBICH">
                        <p class="titleinexample">Example 4-9 Removing all Application Privileges for a Specified Security Class</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">REMOVE_PRIVILEGES</span>('<span class="bold">HRPRIVS</span>');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHEFFJE">
                        <p class="titleinexample">Example 4-10 Adding One or More Implied Application Privileges to an Aggregate Privilege</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">ADD_IMPLIED_PRIVILEGES</span>(priv=&gt;'<span class="bold">UPDATE_INFO</span>',
                                           implied_priv_list=&gt;XS$NAME_LIST('"UPDATE"', '"DELETE"', '"INSERT"'));
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHHHCIA">
                        <p class="titleinexample">Example 4-11 Removing a Specified Implied Application Privileges from an Aggregate Privilege</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">REMOVE_IMPLIED_PRIVILEGES</span>('<span class="bold">UPDATE_INFO</span>','"<span class="bold">DELETE</span>"');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHIIIGA">
                        <p class="titleinexample">Example 4-12 Removing all Implied Application Privileges from an Aggregate Privilege</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">REMOVE_IMPLIED_PRIVILEGES</span>('<span class="bold">UPDATE_INFO</span>');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHFAFCC">
                        <p class="titleinexample">Example 4-13 Setting a Description String for a Specified Security Class</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.<span class="bold">SET_DESCRIPTION</span>(
    '<span class="bold">HRPRIVS</span>','Contains privileges required to manage HR data');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-AD671E89-120C-4255-BEF3-C950A8E0C906__CIHGJDGA">
                        <p class="titleinexample">Example 4-14 Deleting a Specified Security Class</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_SECURITY_CLASS.DELETE_SECURITY_CLASS('<span class="bold">HRPRIVS</span>',XS_ADMIN_UTIL.<span class="bold">DEFAULT_OPTION</span>);
END;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="DBFSG99821"></a><div class="props_rev_3"><a id="GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6" name="GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6"></a><h3 id="DBFSG-GUID-AB53EC7B-C593-4AF3-B991-70E6503586F6" class="sect3">About Configuring Access Control Lists</h3>
               <div>
                  <div class="p">This section contains the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-DC08E175-5405-4482-BCDF-76086F6CA59C">About ACLs and ACEs</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B6EFA21A-327E-461F-B6E4-003FDA109651">Creating ACLs and ACEs</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-79900B96-F923-4218-A75B-2D00835A3EF5">About Validating Access Control Lists</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E">Updating Access Control Lists</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-597A7EB2-F904-4483-B17C-FEEA12421469">About Checking ACLs for a Privilege</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57">About Using Multilevel Authentication</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6">Principal Types</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB">Access Resolution Results</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-4E467F69-E91A-4D5D-AE24-992574517750">ACE Evaluation Order</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A">ACL Inheritance</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B">About ACL Catalog Views</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C">About Security Class Catalog Views</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99823"></a><a id="DBFSG99822"></a><div class="props_rev_3"><a id="GUID-DC08E175-5405-4482-BCDF-76086F6CA59C" name="GUID-DC08E175-5405-4482-BCDF-76086F6CA59C"></a><h4 id="DBFSG-GUID-DC08E175-5405-4482-BCDF-76086F6CA59C" class="sect4">About ACLs and ACEs</h4>
                  <div>
                     <p>Real Application Security encompasses access control lists (ACLs) and supports grants, denials, and various conflict resolution methods. <a id="d17697e2362" class="indexterm-anchor"></a>ACLs are extended to support application-defined privileges, enabling applications to control privileges that are meaningful to it. Authorization queries are of the form: "Is the application user authorized for privilege <span class="italic"><code class="codeph">p</code></span> in ACL <span class="italic"><code class="codeph">a</code></span>?" Application-defined privileges are implemented through APIs supported both in the middle tier and in the database. These APIs enable the application to protect sensitive operations, such as approval of purchase orders. 
                     </p>
                     <p>Before performing a sensitive operation, the application must determine the required application privileges. For example, if the application requires the <code class="codeph">approvePO</code> application privilege, it must locate the ACL associated with the desired purchase order, <code class="codeph">a1</code>, and issue a query to determine if the Real Application Security session is authorized for application privilege <code class="codeph">approvePO</code> in <code class="codeph">a1</code>. Note that the application must be trusted to properly carry out authorization. Data security improves this by providing a declarative method of associating ACLs with rows in a table; a data security policy allows an administrator or developer to identify a set of rows in a table using an SQL predicate and associates the set with the ACL that is used to control access to its member rows. 
                     </p>
                     <p>The data security system provides a SQL operator that returns the ACLs associated with a row. This SQL operator performs an authorization check using the ACL references associated with the row. By default, a query returns all rows the user is allowed to view; these ACL references may be used in the middle tier to determine appropriate access for a particular row, as arguments in a <code class="codeph">WHERE</code> clause that limits the result set. Thus, the result set may be further restricted to display only those rows for some specific operations, such as <code class="codeph">approvePO</code>, based on the user's authorization. 
                     </p>
                     <p>The Real Application Security system provides native enforcement for SQL operations in the database, limiting the scope for damage due to security errors in the application. Thus, a SQL injection attack in one part of the application will not provide access to tables outside of that component.</p>
                     <p>An ACL protects a resource by specifying application privileges of the principals on the resource. An ACL is a list of access control entries (ACEs) where each ACE maintains the mapping from a principal to a granted or denied application privileges for the resource. A principal may be a database user or Real Application Security application user or application role.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DC08E175-5405-4482-BCDF-76086F6CA59C__GUID-4B64F9A6-B682-49EE-B47F-13375C24ACEB">Access Control Entry or ACE</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>An <a id="d17697e2407" class="indexterm-anchor"></a><span class="bold">access control entry</span>, or <span class="bold">ACE</span>, represents an application privilege grant, and an ACL represents a set of application privilege grants that are bound to a resource. Here, the resource can be a database table, a column in a table, or a set of rows in a table selected using a SQL predicate. Hence when a resource is accessed, only the ACLs associated with the resource are checked for the access right.
                        </p>
                        <p>An ACE either grants or denies access to some application function or other database data for a particular principal. The ACE does not, itself, specify which data to protect; that is done outside the ACE and the ACL, by associating the ACL with target data.</p>
                        <p><code class="codeph">XS$ACE_TYPE</code> type is provided to construct each ACE entry for the ACL. An <code class="codeph">XS$ACE_LIST</code> object consists of a list of privileges and the principal to whom the privileges are granted or denied. ACEs related information can be accessed through <code class="codeph">DBA_XS_ACES</code> <a id="d17697e2429" class="indexterm-anchor"></a>view.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBFSG99825"></a><a id="DBFSG99824"></a><div class="props_rev_3"><a id="GUID-B6EFA21A-327E-461F-B6E4-003FDA109651" name="GUID-B6EFA21A-327E-461F-B6E4-003FDA109651"></a><h4 id="DBFSG-GUID-B6EFA21A-327E-461F-B6E4-003FDA109651" class="sect4">Creating ACLs and ACEs</h4>
                  <div>
                     <div class="section">
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B6EFA21A-327E-461F-B6E4-003FDA109651__CHDIBCFH">Example 4-15</a> creates an ACL called <code class="codeph">HRACL</code>. This ACL includes ACEs contained in <code class="codeph">ace_list</code>. The application privileges used in <code class="codeph">ace_list</code> are available in the <code class="codeph">HRPRIVS</code> security class. The <code class="codeph">st_date</code> and <code class="codeph">en_date</code> parameters specify the active start and end times for this ACL; note that only the <code class="codeph">SELECT</code> and <code class="codeph">VIEW_SENSITIVE_INFO</code> application privileges are temporary.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B6EFA21A-327E-461F-B6E4-003FDA109651__CHDIBCFH">
                        <p class="titleinexample">Example 4-15 Creating an Access Control List</p><pre class="oac_no_warn" dir="ltr">DECLARE  
  <span class="bold">st_date</span> TIMESTAMP WITH TIME ZONE;
  <span class="bold">en_date</span> TIMESTAMP WITH TIME ZONE;
  <span class="bold">ace_list</span> XS$ACE_LIST;  
BEGIN 
  <span class="bold">st_date</span> := SYSTIMESTAMP;
  <span class="bold">en_date</span> := TO_TIMESTAMP_TZ('2019-06-18 11:00:00 -5:00', 
                          'YYYY-MM-DD HH:MI:SS  TZH:TZM');
  <span class="bold">ace_list</span> := XS$ACE_LIST(
      XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"SELECT"','VIEW_SENSITIVE_INFO'), 
                  granted=&gt;true, 
                  principal_name=&gt;'HRREP',
                  start_date=&gt;st_date,
                  end_date=&gt;en_date),
      XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('UPDATE_INFO'),
                  granted=&gt;true,
                  principal_name=&gt;'HRMGR'),
      XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"SELECT"'), 
                  granted=&gt;true,
                  principal_name=&gt;'DB_HR', principal_type=&gt;XS_ACL.PTYPE_DB));
 
  sys.xs_acl.create_acl(name=&gt;<span class="bold">'HRACL'</span>,
                    ace_list=&gt;ace_list,
                    sec_class=&gt;<span class="bold">'HRPRIVS'</span>,
                    description=&gt;'HR Representative Access');
END;
/</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="p">Each ACE includes a principal that is the target of the grant and a list of application privileges. The grant is subject to the following attributes described in these topics:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8">Deny</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-A2595721-58A0-4791-A5A3-31075DCD22E5">Invert</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF">ACE Start-Date and End-Date</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBFSG415"></a><a id="DBFSG99766"></a><div class="props_rev_3"><a id="GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8" name="GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8"></a><h5 id="DBFSG-GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8" class="sect5">Deny</h5>
                     <div>
                        <p>When a grant is negated, the application privileges are denied. <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8__CHDGAJDC">Example 4-16</a> sets the value of the attribute <code class="codeph">granted</code> to <code class="codeph">FALSE</code> to deny application privileges to the principal. The default value is <code class="codeph">TRUE</code>.
                        </p>
                        <p>Real Application Security ACL supports only the ordered evaluation of ACEs. The first ACE that grants or denies the requested application privilege contributes toward the final grant or deny. See section <span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-EE179ED6-98B5-4FB5-A907-BA390D3C7D9F">DBA_XS_ACES</a>"</span>.
                        </p>
                        <div class="example" id="GUID-470E14C9-7675-497B-ACCA-6B1CA5F764C8__CHDGAJDC">
                           <p class="titleinexample">Example 4-16 Denying a Privilege</p><pre class="oac_no_warn" dir="ltr">XS$ACE_LIST(
            XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('UPDATE_INFO'),
            <span class="bold">granted</span>=&gt;<span class="bold">FALSE</span>,
            principal_name=&gt;'HRREP'
            );
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG416"></a><a id="DBFSG99767"></a><div class="props_rev_3"><a id="GUID-A2595721-58A0-4791-A5A3-31075DCD22E5" name="GUID-A2595721-58A0-4791-A5A3-31075DCD22E5"></a><h5 id="DBFSG-GUID-A2595721-58A0-4791-A5A3-31075DCD22E5" class="sect5">Invert</h5>
                     <div>
                        <p>When the specified application privileges are given to all principals except one, that principal is inverted; the <code class="codeph">inverted</code> attribute is set to <code class="codeph">TRUE</code>. The default value of the attribute <code class="codeph">inverted</code> is <code class="codeph">FALSE</code>. In <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-A2595721-58A0-4791-A5A3-31075DCD22E5__CHDCFHAG">Example 4-17</a>, a grant made to the inverted role <code class="codeph">HRGUEST</code> provides the application privileges to any user that does not have the role enabled.
                        </p>
                        <div class="example" id="GUID-A2595721-58A0-4791-A5A3-31075DCD22E5__CHDCFHAG">
                           <p class="titleinexample">Example 4-17 Inverting an Application Privilege</p><pre class="oac_no_warn" dir="ltr">XS$ACE_LIST(
            XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('UPDATE_INFO'), 
            <span class="bold">inverted</span>=&gt;<span class="bold">TRUE</span>, 
            principal_name=&gt;'<span class="bold">HRGUEST</span>'
            );</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG417"></a><a id="DBFSG99769"></a><div class="props_rev_3"><a id="GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF" name="GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF"></a><h5 id="DBFSG-GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF" class="sect5">ACE Start-Date and End-Date</h5>
                     <div>
                        <p>Each ACE can have a time constraint based on a start-date and an end-date, specifying the time when the ACE is in effect.</p>
                        <p>In <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF__CHDHJEIH">Example 4-18</a>, the optional attributes <code class="codeph">start_date</code> and <code class="codeph">end_date</code> (of datatype <code class="codeph">TIMESTAMP WITH TIME ZONE</code>) define the time period over which an ACE is valid. The <code class="codeph">end_date</code> value must be greater than the <code class="codeph">start_date</code> value.
                        </p>
                        <div class="example" id="GUID-AD57CF02-995B-4955-95D7-9A218B0B61CF__CHDHJEIH">
                           <p class="titleinexample">Example 4-18 Setting ACE Start-Date and End-Date</p><pre class="oac_no_warn" dir="ltr">XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"SELECT"','VIEW_SENSITIVE_INFO'), 
            granted=&gt;true, 
            principal_name=&gt;'HRREP',
            <span class="bold">start_date=&gt;st_date,</span>
            <span class="bold">end_date=&gt;en_date))</span></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG235"></a><div class="props_rev_3"><a id="GUID-79900B96-F923-4218-A75B-2D00835A3EF5" name="GUID-79900B96-F923-4218-A75B-2D00835A3EF5"></a><h4 id="DBFSG-GUID-79900B96-F923-4218-A75B-2D00835A3EF5" class="sect4">About Validating Access Control Lists</h4>
                  <div>
                     <p>Oracle recommends that you always validate the Real Application Security objects after administrative configuration changes. The <code class="codeph">XS_DIAG</code> package provides a set of validation APIs to help ensure that these changes do not damage the complicated relationships among your Real Application Security objects.
                     </p>
                     <p>See <span class="q">"<a href="XS_DIAG-package.html#GUID-5F2D3B07-06BC-4EDA-B7DB-D41277E3D1B9">VALIDATE_ACL Function</a>"</span> for more information about validating an ACL.
                     </p>
                  </div>
               </div><a id="DBFSG406"></a><a id="DBFSG407"></a><a id="DBFSG408"></a><a id="DBFSG409"></a><a id="DBFSG411"></a><a id="DBFSG412"></a><a id="DBFSG413"></a><a id="DBFSG414"></a><a id="DBFSG99826"></a><div class="props_rev_3"><a id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E" name="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E"></a><h4 id="DBFSG-GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E" class="sect4">Updating Access Control Lists</h4>
                  <div>
                     <div class="section">
                        <p>To manipulate ACLs, use the procedures in PL/SQL package <code class="codeph">XS_ACL</code>; it contains procedures that create and manage ACLs. See <span class="q">"<a href="XS_ACL-package.html#GUID-7EDC932E-82DE-4CC5-A9AC-F5A376D7621F">XS_ACL Package</a>"</span>. 
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDIDGEJ">Example 4-19</a> invokes <code class="codeph">APPEND_ACES</code> to add an ACE, <code class="codeph">ace_entry</code>, to the <code class="codeph">HRACL</code> ACL. The ACE grants the <code class="codeph">SELECT</code> privilege to the <code class="codeph">DB_HR</code> database user.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDICBAF">Example 4-20</a> invokes <code class="codeph">REMOVE_ACES</code> to remove all ACEs from the ACL called <code class="codeph">HRACL</code>.
                        </p>
                        <p>The procedure sets or modifies the security class for an ACL. <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDBIEGI">Example 4-21</a> invokes <code class="codeph">SET_SECURITY_CLASS</code> procedure to associate the <code class="codeph">HRPRIVS</code> security class with ACL <code class="codeph">HRACL</code>.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEBIAC">Example 4-22</a> invokes <code class="codeph">SET_PARENT_ACL</code> to set the <code class="codeph">AllDepACL</code> ACL as the parent ACL for the <code class="codeph">HRACL</code> ACL. The inheritance type is set to <code class="codeph">EXTEND</code>.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCAGH">Example 4-23</a> invokes <code class="codeph">REMOVE_ACL_PARAMETERS</code> to remove all ACL parameters for <code class="codeph">ACL1</code>.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCACE">Example 4-24</a> invokes <code class="codeph">REMOVE_ACL_PARAMETERS</code> to remove the <code class="codeph">REGION</code> parameter for <code class="codeph">ACL1</code>.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDAJIC">Example 4-25</a> invokes <code class="codeph">SET_DESCRIPTION</code> to set a description for ACL <code class="codeph">HRACL</code>.
                        </p>
                        <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEIEFE">Example 4-26</a> invokes <code class="codeph">DELETE_ACL</code> to delete ACL <code class="codeph">HRACL</code> using the default delete option.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDIDGEJ">
                        <p class="titleinexample">Example 4-19 Appending an ACE to an Access Control List</p><pre class="oac_no_warn" dir="ltr">DECLARE  
  ace_entry XS$ACE_TYPE;  
BEGIN 
  ace_entry := XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"<span class="bold">SELECT</span>"'), 
                           granted=&gt;true,
                           principal_name=&gt;'<span class="bold">DB_HR</span>',
                           principal_type=&gt;XS_ACL.PTYPE_DB);
  SYS.XS_ACL.<span class="bold">APPEND_ACES</span>('<span class="bold">HRACL</span>',<span class="bold">ace_entry</span>);
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDICBAF">
                        <p class="titleinexample">Example 4-20 Removing all ACEs from an ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_ACL.<span class="bold">REMOVE_ACES</span>('<span class="bold">HRACL</span>');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDBIEGI">
                        <p class="titleinexample">Example 4-21 Modifying the Security Class for an ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_ACL.<span class="bold">SET_SECURITY_CLASS</span>('<span class="bold">HRACL</span>','<span class="bold">HRPRIVS</span>');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEBIAC">
                        <p class="titleinexample">Example 4-22 Setting or Modifying the Parent ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_ACL.SET_PARENT_ACL('HRACL','AllDepACL',XS_ACL.EXTENDED);
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCAGH">
                        <p class="titleinexample">Example 4-23 Removing all ACL Parameters for an ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_ACL.<span class="bold">REMOVE_ACL_PARAMETERS</span>('<span class="bold">ACL1</span>');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDCACE">
                        <p class="titleinexample">Example 4-24 Removing the Specified ACL Parameter for an ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_ACL.<span class="bold">REMOVE_ACL_PARAMETERS</span>('<span class="bold">ACL1</span>','<span class="bold">REGION</span>');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDDAJIC">
                        <p class="titleinexample">Example 4-25 Setting a Description String for an ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_ACL.<span class="bold">SET_DESCRIPTION</span>('<span class="bold">HRACL</span>',
                         'Grants privileges to HR representatives and managers.');
END;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-81503CBB-42BA-44B7-85EF-4B7F5BB93B8E__CHDEIEFE">
                        <p class="titleinexample">Example 4-26 Deleting an ACL</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_ACL.<span class="bold">DELETE_ACL</span>('<span class="bold">HRACL</span>');
END;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DBFSG99834"></a><div class="props_rev_3"><a id="GUID-597A7EB2-F904-4483-B17C-FEEA12421469" name="GUID-597A7EB2-F904-4483-B17C-FEEA12421469"></a><h4 id="DBFSG-GUID-597A7EB2-F904-4483-B17C-FEEA12421469" class="sect4">About Checking ACLs for a Privilege</h4>
                  <div>
                     <p>There are two forms of enforcement; the system enforces DML privileges on data security protected objects, and the SQL operator added by the user enforces all other application privileges.</p>
                     <p>To check an ACL for an application privilege, call the SQL operator <code class="codeph">ORA_CHECK_ACL</code>:
                     </p><pre class="oac_no_warn" dir="ltr"><a id="d17697e3692" class="indexterm-anchor"></a><a id="d17697e3696" class="indexterm-anchor"></a><a id="d17697e3700" class="indexterm-anchor"></a><a id="d17697e3704" class="indexterm-anchor"></a>ORA_CHECK_ACL (acls, privilege [,privilege] ... ) 
</pre><p>The <code class="codeph">ORA_CHECK_ACL</code> SQL operator evaluates the list of application privileges with respect to an ordered list of ACLs. The evaluation process proceeds until any one of the following three events occurs:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A grant is encountered for every application privilege specified before any potential denials of the same application privilege. The outcome is that the application privileges are granted.</p>
                        </li>
                        <li>
                           <p>One of the application privileges specified is denied before any potential grants. The outcome is that at least one of the application privileges is denied.</p>
                        </li>
                        <li>
                           <p>The list of ACEs is fully traversed. The outcome is that not all of the application privileges are granted.</p>
                        </li>
                     </ul>
                     <p>To evaluate the application privilege, Oracle checks the ACEs (which are kept in order), and the evaluation stops when it finds an ACE that grants or denies the requested application privileges.</p>
                     <p>To find the ACLs associated with rows of a table or view, call the SQL operator <code class="codeph">ORA_GET_ACLIDS</code>: <code class="codeph">ORA_GET_ACLIDS(table, ...)</code>. For example, to enforce an application privilege, <code class="codeph">priv</code>, on a table, <code class="codeph">tab</code>, the user query adds the following check:
                     </p><pre class="oac_no_warn" dir="ltr">ORA_CHECK_ACL(ORA_GET_ACLIDS(tab), priv)
</pre><p>This function answers the question whether application privileges were granted, denied, or neither. A corresponding Java API is also available.</p>
                  </div>
               </div><a id="DBFSG99808"></a><div class="props_rev_3"><a id="GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57" name="GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57"></a><h4 id="DBFSG-GUID-0880A4FB-1F3E-47C3-BD55-F965BB13FF57" class="sect4">About Using Multilevel Authentication</h4>
                  <div>
                     <p><a id="d17697e3878" class="indexterm-anchor"></a><a id="d17697e3880" class="indexterm-anchor"></a><span class="bold">Multilevel authentication</span> <a id="d17697e3887" class="indexterm-anchor"></a><a id="d17697e3889" class="indexterm-anchor"></a><a id="d17697e3893" class="indexterm-anchor"></a><a id="d17697e3897" class="indexterm-anchor"></a>enables the user to specify, through system-constraining ACLs, application privileges based on levels of authentication. A <span class="bold">system-constraining ACL</span> specifies a minimum application-wide set of application privileges on objects, based on dynamic roles that reflect an application user's level of authentication. When attempting to access an object, an application user may be either <a id="d17697e3906" class="indexterm-anchor"></a>strongly or <a id="d17697e3911" class="indexterm-anchor"></a>weakly authenticated, either inside or outside the firewall, with the following four possible levels of authentication:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Strongly authenticated, inside firewall</p>
                        </li>
                        <li>
                           <p>Strongly authenticated, outside firewall</p>
                        </li>
                        <li>
                           <p>Weakly authenticated, inside firewall</p>
                        </li>
                        <li>
                           <p>Weakly authenticated, outside firewall</p>
                        </li>
                     </ul>
                     <p>A system-constraining ACL can specify application privileges that apply to application users at each level of authentication in an application. Based on application requirements, the administrator may grant additional application privileges to specific users based on any necessary criteria; such additional application privileges are independent of any system-constraining ACL. <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDEFIDH">Example 4-28</a> and <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDDCAFF">Example 4-29</a> implement a system-constraining ACL.
                     </p>
                  </div>
               </div><a id="DBFSG99768"></a><div class="props_rev_3"><a id="GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6" name="GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6"></a><h4 id="DBFSG-GUID-A8FB7EF2-A069-4747-BB68-08CDFBAFB8D6" class="sect4">Principal Types</h4>
                  <div>
                     <p>In addition to Real Application Security principals, application users and application roles, Real Application Security supports grants based on database users and roles. When the system evaluates an ACL in a context of a Real Application Security session, it ignores grants that are based on a database schema, but honors grants that are based on database role because they are part of Real Application Security user's role list. Within an ACL, multiple ACEs can grant privileges to a principal.</p>
                  </div>
               </div><a id="DBFSG99770"></a><div class="props_rev_3"><a id="GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB" name="GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB"></a><h4 id="DBFSG-GUID-3662CEB4-8437-45E5-BFAE-B2C8F61B7FEB" class="sect4">Access Resolution Results</h4>
                  <div>
                     <p>Requests for access can have two possible results: <code class="codeph">true</code> or <code class="codeph">false</code>.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A result of <code class="codeph">true</code> means that the requested application privilege is granted
                           </p>
                        </li>
                        <li>
                           <p>A result of <code class="codeph">false</code> means that the requested application privilege is either not granted or denied.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99829"></a><div class="props_rev_3"><a id="GUID-4E467F69-E91A-4D5D-AE24-992574517750" name="GUID-4E467F69-E91A-4D5D-AE24-992574517750"></a><h4 id="DBFSG-GUID-4E467F69-E91A-4D5D-AE24-992574517750" class="sect4">ACE Evaluation Order</h4>
                  <div>
                     <p>ACEs are evaluated in the order they appear in the ACL. The outcome of evaluating a particular ACE may be one of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The application privilege is granted.</p>
                        </li>
                        <li>
                           <p>The application privilege is denied.</p>
                        </li>
                        <li>
                           <p>The application privilege is neither granted nor denied. </p>
                        </li>
                     </ul>
                     <p>Note that if an ACE grants an application privilege that a previous ACE denies, the result is a deny because the ACEs are evaluated in order.</p>
                  </div>
               </div><a id="DBFSG99830"></a><div class="props_rev_3"><a id="GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A" name="GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A"></a><h4 id="DBFSG-GUID-4C3F67DC-3502-4B30-8663-344CD16BBF3A" class="sect4">ACL Inheritance</h4>
                  <div>
                     <p>ACLs can explicitly inherit from a single parent ACL, enabling the application to share policies across multiple objects. When the request for an application privilege involves two ACLs, the final result of the access-resolution algorithm may be based on semantics of individual access-resolution results of the ACLs. Real Application Security supports two types of inheritance semantics: extending ACL inheritance (<code class="codeph">OR</code> with ordered evaluation), and constraining ACL inheritance (<code class="codeph">AND</code>).
                     </p>
                     <div class="p">This section contains:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E">Extending ACL Inheritance</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B">Constraining ACL Inheritance</a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="DBFSG419"></a><a id="DBFSG418"></a><div class="props_rev_3"><a id="GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E" name="GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E"></a><h5 id="DBFSG-GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E" class="sect5">Extending ACL Inheritance</h5>
                     <div>
                        <div class="section">
                           <p><a id="d17697e4583" class="indexterm-anchor"></a><a id="d17697e4587" class="indexterm-anchor"></a>Extending ACL inheritance (<code class="codeph">OR</code> with ordered evaluation) dictates that the ACEs are evaluated from the bottom of the inheritance tree to its top, from child to parent. In extending ACL inheritance, an application privilege is granted if either child or parent ACL grants the privilege, and denied if either the child or parent ACL denies the privilege. In fact, the first ACL that explicitly grants or denies the requested application privilege determines the final result. After the first grant or deny, further evaluations of the remaining ACLs are not attempted. Note that this evaluation rule is the same as the ordered evaluation of ACEs within an ACL.
                           </p>
                           <p>The following example sets the <code class="codeph">AllDepACL</code> ACL as the parent ACL for the <code class="codeph">HRACL</code> ACL. The inheritance type is set to <code class="codeph">EXTENDED</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-32BBCA8C-43CC-440E-8878-3684D8194F8E__GUID-7AFC049E-7E9E-4EFB-BB96-C63D769D9D4B">
                           <p class="titleinexample">Example 4-27 Extending ACL Inheritance</p><pre class="oac_no_warn" dir="ltr">BEGIN
  SYS.XS_ACL.SET_PARENT_ACL('HRACL','AllDepACL',XS_ACL.<span class="bold">EXTENDED</span>);
END;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="DBFSG421"></a><a id="DBFSG422"></a><a id="DBFSG420"></a><div class="props_rev_3"><a id="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B" name="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B"></a><h5 id="DBFSG-GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B" class="sect5">Constraining ACL Inheritance</h5>
                     <div>
                        <div class="section">
                           <p><a id="d17697e4760" class="indexterm-anchor"></a><a id="d17697e4764" class="indexterm-anchor"></a>Constraining ACL inheritance (<code class="codeph">AND</code>) requires that both the child and the parent ACL grant the application privilege so that the ACL check evaluates to <code class="codeph">true</code>.
                           </p>
                           <p>Application-wide security policies can be enforced if all the ACLs for an application are constrained by the same parent ACL. For example, imagine a sample policy where users who are authenticated as being inside the corporate firewall can have application privileges in addition to the <code class="codeph">SELECT</code> privilege. <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDEFIDH">Example 4-28</a> shows the constraining ACL for this policy (inheritance type is set to <code class="codeph">CONSTRAINED</code>), where all application users with <code class="codeph">XSPUBLIC</code> application role are granted the <code class="codeph">SELECT</code> privilege. Note that only the application users who are inside the corporate firewall have the dynamic application role <code class="codeph">FIREWALL</code> enabled. Therefore, application users inside the firewall are granted all the application privileges in <code class="codeph">HRPRIVS</code> security class. As this ACL constrains all the ACLs, such as <code class="codeph">guestACL</code>, <a href="configuring-application-privileges-and-access-contol-lists.html#GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDDCAFF">Example 4-29</a> shows that the application privilege grants of these ACLs are constrained by <code class="codeph">FIREWALL_ACL</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDEFIDH">
                           <p class="titleinexample">Example 4-28 Constraining ACL Inheritance: Firewall-Specific Authentication Privilege</p><pre class="oac_no_warn" dir="ltr">DECLARE 
  ace_list XS$ACE_LIST; 
BEGIN 
  ace_list := XS$ACE_LIST(
                 XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('"SELECT"'),
                             granted=&gt;true, 
                             principal_name=&gt;'XSPUBLIC'),
                 XS$ACE_TYPE(privilege_list=&gt;XS$NAME_LIST('ALL'),
                             granted=&gt;true,
                             principal_name=&gt;'FIREWALL'));
  sys.xs_acl.create_acl(name=&gt;'FIREWALL_ACL',
                    ace_list=&gt;ace_list,
                    sec_class=&gt;'HRPRIVS',
                    description=&gt;'Only select privilege if not inside firewall');
END;
/
 
BEGIN
SYS.XS_ACL.SET_PARENT_ACL('GuestACL', 'FIREWALL_ACL',XS_ACL.<span class="bold">CONSTRAINED</span>);
END;</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-8759200B-FC4A-424C-AB6F-4FCB28E5061B__CHDDCAFF">
                           <p class="titleinexample">Example 4-29 Using a Constraining Application Privilege</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select ACE_ORDER, GRANT_TYPE, PRINCIPAL, PRIVILEGE 
     from DBA_XS_ACES 
     where ACL='FIREWALL_ACL'; 
 
ACE_ORDER    GRANT_TYPE    PRINCIPAL    PRIVILEGE
----------   ----------    ---------    ----------
1            GRANT         XSPUBLIC     SELECT
2            GRANT         FIREWALL     ALL</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="DBFSG99831"></a><div class="props_rev_2"><a id="GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B" name="GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B"></a><h4 id="DBFSG-GUID-C816E61C-3209-4ACF-961A-267CC24E6A5B" class="sect4">About ACL Catalog Views</h4>
                  <div>
                     <p>ACLs have the following catalog views:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">DBA_XS_ACLS</code> catalog view, described in section <span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-2F2051EB-000E-49CA-BF7E-A4541B5B74CD">DBA_XS_ACLS</a>"</span></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_XS_ACES</code> catalog view, described in section <span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-EE179ED6-98B5-4FB5-A907-BA390D3C7D9F">DBA_XS_ACES</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99832"></a><div class="props_rev_2"><a id="GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C" name="GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C"></a><h4 id="DBFSG-GUID-F55B017D-D9C7-4A20-9E96-AC2057F34E5C" class="sect4">About Security Class Catalog Views</h4>
                  <div>
                     <p>Security classes have the following catalog views:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">DBA_XS_SECURITY_CLASSES</code>, described in section <span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-84536AC8-E0EA-4A48-A36D-6A404D8971C2">DBA_XS_SECURITY_CLASSES</a>"</span></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_XS_SECURITY_CLASS_DEP</code>, described in <span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-9A5A3AD3-7964-4FF7-88E3-7C80ABE68D1B">DBA_XS_SECURITY_CLASS_DEP</a>"</span></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_XS_PRIVILEGES</code>, described in <span class="q">"<a href="real-application-security-data-dictionary-views.html#GUID-FDB19BE4-5158-47D4-BB0D-FC4D473104AF">DBA_XS_PRIVILEGES</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="DBFSG99835"></a><div class="props_rev_3"><a id="GUID-23630E01-8BE5-4850-807D-D00CB299655C" name="GUID-23630E01-8BE5-4850-807D-D00CB299655C"></a><h3 id="DBFSG-GUID-23630E01-8BE5-4850-807D-D00CB299655C" class="sect3">Data Security</h3>
               <div>
                  <p>Data security associates ACLs with a logical group of rows, known as a data realm.</p>
                  <p>This enables applications to define and enforce application-specific privileges at the database layer, through policies that define data realms and their access. These data realms include both a SQL predicate that identifies a set of rows and an ACL that protects the identified rows. The ACL evaluation is based on the application user, not the schema owner.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0">Data Realms</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-application-privileges-and-access-contol-lists.html#GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448">Parameterized ACL</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBFSG99836"></a><div class="props_rev_3"><a id="GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0" name="GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0"></a><h4 id="DBFSG-GUID-B3A35024-58AF-4FED-ADB5-2466E1708FC0" class="sect4">Data Realms</h4>
                  <div>
                     <p>Real Application Security's Data Security policy <a id="d17697e5353" class="indexterm-anchor"></a><span class="bold">data realms</span> associate ACLs with rows in a table. A data realm has two parts: 
                     </p>
                     <ol>
                        <li>
                           <p>A rule expressed as a SQL predicate, which selects a set of rows.</p>
                        </li>
                        <li>
                           <p>A set of ACLs, which specify access policies on the rows.</p>
                        </li>
                     </ol>
                     <p>Data Security manages DML Real Application Security application privileges granted by the associated ACLs. The <a id="d17697e5369" class="indexterm-anchor"></a><code class="codeph">DataSecurity</code> module does not inherently enforce other (non-DML) Real Application Security application privileges. Such application privilege may be enforced programmatically as part of a DML operation, when invoking the <code class="codeph">CHECK_PRIVILEGE</code> operator inside either the SQL operator or data realm predicate.
                     </p>
                  </div>
               </div><a id="DBFSG99837"></a><div class="props_rev_3"><a id="GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448" name="GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448"></a><h4 id="DBFSG-GUID-5CB0635F-DF2A-42F6-81C4-B2C354E5A448" class="sect4">Parameterized ACL</h4>
                  <div>
                     <p>Because each data realm defines a rule that uses a set of parameters, different values for these parameters select different rows. These sets of rows may require different ACLs. Therefore, association between an ACL and a set of rows depends on the data realm rule and its <a id="d17697e5491" class="indexterm-anchor"></a>parameter names and values.
                     </p>
                  </div>
               </div>
            </div><a id="DBFSG99838"></a><div class="props_rev_3"><a id="GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8" name="GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8"></a><h3 id="DBFSG-GUID-098E7FD1-96D6-4783-8F44-C421BB3EAFB8" class="sect3">ACL Binding</h3>
               <div>
                  <p>In the database, a privilege may be bound to a resource in the following manner:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>It can be explicitly bound as part of a privilege grant. For example, database object privileges are bound to a resource as part of a privilege grant, such as <code class="codeph">GRANT </code><span class="italic"><code class="codeph">user_N</code></span> <code class="codeph">update ON </code><span class="italic"><code class="codeph">table_M</code></span>. 
                        </p>
                     </li>
                     <li>
                        <p>It may also be globally bound as part of the privilege definition, such as a system privileges <code class="codeph">ALTER SYSTEM</code> or <code class="codeph">CREATE ANY TABLE</code>, which do not require the resource name as part of their grant statement.
                        </p>
                     </li>
                  </ul>
                  <p>Similarly, a Real Application Security application privilege can be one of these types:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Explicitly bound through an ACL and data realms as part of Data Security policies; see <a href="configuring-data-security.html#GUID-ED34EBA9-8906-41A9-9491-B303DA4824E1" title="Describes introduction of schema level privileges for Real Application Security policy administration across different applications within the same schema.Describes how to set up and enable a schema level data security policy for two application administrators.Describes how to disable data security policy and revoke the system privileges from the user.">Configuring Data Security</a></p>
                     </li>
                     <li>
                        <p>Globally bound to a resource as part of its definition</p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>