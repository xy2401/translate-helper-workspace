<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SET ROLE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SET-CONSTRAINTS.html" title="Previous" type="text/html">
      <link rel="next" href="SET-TRANSACTION.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SET-CONSTRAINTS.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="SET-TRANSACTION.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-MERGE-to-UPDATE.html" property="item" typeof="WebPage"><span property="name">SQL Statements: MERGE to UPDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SET ROLE </li>
            </ol>
            <a id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB" name="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB"></a><a id="SQLRF55410"></a><a id="SQLRF55411"></a><a id="SQLRF55412"></a><a id="SQLRF55413"></a><a id="SQLRF55414"></a><a id="SQLRF55415"></a><a id="SQLRF55416"></a><a id="SQLRF01704"></a>
            
            <h2 id="SQLRF-GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB" class="sect2">SET ROLE </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-CABDB121-4000-4F84-909B-0E82AF2D4025">Purpose </p>
                  <p>When a user logs on to Oracle Database, the database enables all privileges granted explicitly to the user and all privileges in the user's default roles. During the session, the user or an application can use the <code class="codeph">SET</code> <code class="codeph">ROLE</code> statement any number of times to enable or disable the roles currently enabled for the session. 
                  </p>
                  <p><a id="d442346e138" class="indexterm-anchor"></a><a id="d442346e144" class="indexterm-anchor"></a>You cannot enable more than 148 user-defined roles at one time.  
                  </p>
                  <div class="infoboxnote" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-6A427CC3-5F18-4F39-B5FF-DB8D5CBF0850">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>For most roles, you cannot enable or disable a role unless it was granted to you either directly or through other roles. However, a secure application role can be granted and enabled by its associated PL/SQL package. See the <code class="codeph">CREATE</code> <code class="codeph">ROLE</code> semantics for <a href="CREATE-ROLE.html#GUID-B2252DC5-5AE7-49B7-9048-98062993E450__BABCJFBJ">USING package</a> and <a href="../dbseg/managing-security-for-application-developers.html#DBSEG005" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for information about secure application roles.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SET</code> <code class="codeph">ROLE</code> succeeds only if there are no definer's rights units on the call stack. If at least one DR unit is on the call stack, then issuing the <code class="codeph">SET</code> <code class="codeph">ROLE</code> command causes <code class="codeph">ORA</code>-<code class="codeph">06565</code>. See <a href="../lnpls/plsql-subprograms.html#LNPLS00809" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about definer's rights units.
                           </p>
                        </li>
                        <li>
                           <p>To run the <code class="codeph">SET</code> <code class="codeph">ROLE</code> command from PL/SQL, you must use dynamic SQL, preferably the <code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code> statement. See <a href="../lnpls/dynamic-sql.html#LNPLS01115" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about this statement.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><a id="d442346e217" class="indexterm-anchor"></a>You can see which roles are currently enabled by examining the <code class="codeph">SESSION_ROLES</code> data dictionary view. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-028A96E9-3644-4B7A-8494-35568844D7D0">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="CREATE-ROLE.html#GUID-B2252DC5-5AE7-49B7-9048-98062993E450">CREATE ROLE</a> for information on creating roles
                           </p>
                        </li>
                        <li>
                           <p><a href="ALTER-USER.html#GUID-9FCD038D-8193-4241-85CD-2F4723B27D44">ALTER USER</a> for information on changing a user's default roles
                           </p>
                        </li>
                        <li>
                           <p><a href="../refrn/SESSION_ROLES.html#REFRN29028" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information on the <code class="codeph">SESSION_ROLES</code> session parameter
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-106A54CE-F219-4A6D-8011-61E3098693EA">Prerequisites </p>
                  <p>You must already have been granted the roles that you name in the <code class="codeph">SET</code> <code class="codeph">ROLE</code> statement. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-BBC5546F-079E-43D3-B19F-5232AAC9AF00">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-882C22D1-A3FF-4F91-89E9-38C5AF6AAF58"><span class="italic">set_role</span>::=
                  </p>
                  <div class="figure" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-3D76BA14-3ABB-4F39-951B-872954B50C86"><img src="img/set_role.gif" alt="Description of set_role.eps follows" title="Description of set_role.eps follows" longdesc="img_text/set_role.html"><br><a href="img_text/set_role.html">Description of the illustration set_role.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-E98593F3-71D4-4033-8E51-81F2BB0E5F59">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-27036F9F-195F-4BA7-A668-E2E9D316FA4A"><span class="italic">role</span></p>
                  <p>Specify one or more roles to be enabled for the current session. All roles not specified are disabled for the current session or until another <code class="codeph">SET</code> <code class="codeph">ROLE</code> statement is issued in the current session. 
                  </p>
                  <p><code class="codeph"></code>In the <code class="codeph">IDENTIFIED</code> <code class="codeph">BY</code> <span class="italic"><code class="codeph">password</code></span> clause, specify the password for a role. If the role has a password, then you must specify the password to enable the role. 
                  </p>
                  <p><span class="bold">Restriction on Setting Roles</span></p>
                  <p>You cannot specify a role identified globally. Global roles are enabled by default at login, and cannot be reenabled later. </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-1C9D5C95-6430-4C48-99D2-0AC08A838DDC">ALL Clause</p>
                  <p><a id="d442346e304" class="indexterm-anchor"></a><a id="d442346e308" class="indexterm-anchor"></a>Specify <code class="codeph">ALL</code> to enable all roles granted to you for the current session except those optionally listed in the <code class="codeph">EXCEPT</code> clause. 
                  </p>
                  <p>Roles listed in the <code class="codeph">EXCEPT</code> clause must be roles granted directly to you. They cannot be roles granted to you through other roles. 
                  </p>
                  <p>If you list a role in the <code class="codeph">EXCEPT</code> clause that has been granted to you both directly and through another role, then the role remains enabled by virtue of the role to which it has been granted. 
                  </p>
                  <p><span class="bold">Restrictions on the ALL Clause</span></p>
                  <p>The following restrictions apply to the <code class="codeph">ALL</code> clause:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot use this clause to enable roles with passwords that have been granted directly to you.</p>
                     </li>
                     <li>
                        <p>You cannot use this clause to enable a secure application role, which is a role that can be enabled only by applications using an authorized package. Refer to <a href="../dbseg/managing-security-for-application-developers.html#DBSEG30399" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for information on creating a secure application role and<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=TDPSG30032" target="_blank"> <span class="italic">Oracle Database 2 Day + Security Guide</span></a> for a tutorial.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-D3EDFF86-6F00-42AD-B5F1-AF067E157A66">NONE</p>
                  <p><a id="d442346e361" class="indexterm-anchor"></a><a id="d442346e365" class="indexterm-anchor"></a>Specify <code class="codeph">NONE</code> to disable all roles for the current session, including the <code class="codeph">DEFAULT</code> role. 
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-863F9B6F-82B4-4C49-8E3A-3BA33AE79CAB__GUID-903752FB-1FBF-4031-A669-98A760E6A5BA">Examples</p>
                  <p><span class="bold">Setting Roles: Examples</span></p>
                  <p>To enable the role <code class="codeph">dw_manager</code> identified by the password <code class="codeph">warehouse</code> for your current session, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">SET ROLE dw_manager IDENTIFIED BY warehouse; 
</pre><p>To enable all roles granted to you for the current session, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">SET ROLE ALL; 
</pre><p>To enable all roles granted to you except <code class="codeph">dw_manager</code>, issue the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">SET ROLE ALL EXCEPT dw_manager;
</pre><p>To disable all roles granted to you for the current session, issue the following statement:</p><pre class="oac_no_warn" dir="ltr">SET ROLE NONE; </pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>