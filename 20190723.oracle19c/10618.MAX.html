<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>MAX</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="MAKE_REF.html" title="Previous" type="text/html">
      <link rel="next" href="MEDIAN.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="MAKE_REF.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="MEDIAN.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="Functions.html" property="item" typeof="WebPage"><span property="name">Functions</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">MAX </li>
            </ol>
            <a id="GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01" name="GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01"></a><a id="SQLRF51512"></a><a id="SQLRF51513"></a><a id="SQLRF51514"></a><a id="SQLRF51515"></a><a id="SQLRF00666"></a>
            
            <h2 id="SQLRF-GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01" class="sect2">MAX </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01__GUID-94B3ABE2-6997-49EE-9FB6-C62B4ADF2F92">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <div class="figure" id="GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01__GUID-34C24787-48D5-4BA7-9123-43390E5803D5"><img src="img/max.gif" alt="Description of max.eps follows" title="Description of max.eps follows" longdesc="img_text/max.html"><br><a href="img_text/max.html">Description of the illustration max.eps</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01__GUID-0DB9A426-CF02-4719-90B7-99B4731243B5">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Analytic-Functions.html#GUID-527832F7-63C0-4445-8C16-307FA5084056">Analytic Functions</a>"</span> for information on syntax, semantics, and restrictions
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01__GUID-0D9887D5-44A1-4288-AC0F-DBBCD633C4E3">Purpose</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p><code class="codeph">MAX</code> returns maximum value of <span class="italic"><code class="codeph">expr</code></span>. You can use it as an aggregate or analytic function.
                  </p>
                  <div class="infoboxnotealso" id="GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01__GUID-C6151941-148D-4F88-89D7-7C4DC66F8EC8">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="About-SQL-Expressions.html#GUID-68789A5C-B142-496F-ADEE-837F75F95B2B">About SQL Expressions</a>"</span> for information on valid forms of <span class="italic"><code class="codeph">expr</code></span>, <span class="q">"<a href="Data-Types.html#GUID-F579F4B8-EF13-4CAF-9B06-03B076861C41">Floating-Point Numbers</a>"</span> for information on binary-float comparison semantics, and <span class="q">"<a href="Aggregate-Functions.html#GUID-62BE676B-AF18-4E63-BD14-25206FEA0848">Aggregate Functions</a>"</span></p>
                        </li>
                        <li>
                           <p>Appendix C in <a href="../nlspg/appendix-C-collation-derivation-and-determination-rules-for-SQL-operations.html#NLSPG-GUID-AFCE41ED-775B-4A00-AF38-C436776AE0C5" target="_blank"><span class="italic">Oracle Database Globalization Support Guide</span></a> for the collation determination rules, which define the collation <code class="codeph">MAX</code> uses to compare character values for <span class="italic"><code class="codeph">expr</code></span>, and for the collation derivation rules, which define the collation assigned to the return value of this function when it is a character value
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01__GUID-93190EA4-9E04-47D8-8BA3-BDCF57BD5B89">Aggregate Example </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following example determines the highest salary in the <code class="codeph">hr.employees</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT MAX(salary) "Maximum"
  FROM employees;
 
   Maximum
----------
     24000</pre></div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-E5372020-A6DA-44BF-93BE-DA8C3F74CD01__GUID-00A85719-9551-4DFB-9319-0AB24A6A1C2A">Analytic Examples</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p>The following example calculates, for each employee, the highest salary of the employees reporting to the same manager as the employee.</p><pre class="oac_no_warn" dir="ltr">SELECT manager_id, last_name, salary,
       MAX(salary) OVER (PARTITION BY manager_id) AS mgr_max
  FROM employees
  ORDER BY manager_id, last_name, salary;

MANAGER_ID LAST_NAME                     SALARY    MGR_MAX
---------- ------------------------- ---------- ----------
       100 Cambrault                      11000      17000
       100 De Haan                        17000      17000
       100 Errazuriz                      12000      17000
       100 Fripp                           8200      17000
       100 Hartstein                      13000      17000
       100 Kaufling                        7900      17000
       100 Kochhar                        17000      17000
. . .
</pre><p>If you enclose this query in the parent query with a predicate, then you can determine the employee who makes the highest salary in each department:</p><pre class="oac_no_warn" dir="ltr">SELECT manager_id, last_name, salary
  FROM (SELECT manager_id, last_name, salary, 
               MAX(salary) OVER (PARTITION BY manager_id) AS rmax_sal
          FROM employees)
  WHERE salary = rmax_sal
  ORDER BY manager_id, last_name, salary;

MANAGER_ID LAST_NAME                     SALARY
---------- ------------------------- ----------
       100 De Haan                        17000
       100 Kochhar                        17000
       101 Greenberg                      12008
       101 Higgins                        12008
       102 Hunold                          9000
       103 Ernst                           6000
       108 Faviet                          9000
       114 Khoo                            3100
       120 Nayer                           3200
       120 Taylor                          3200
       121 Sarchand                        4200
       122 Chung                           3800
       123 Bell                            4000
       124 Rajs                            3500
       145 Tucker                         10000
       146 King                           10000
       147 Vishney                        10500
       148 Ozer                           11500
       149 Abel                           11000
       201 Fay                             6000
       205 Gietz                           8300
           King                           24000
 
22 rows selected.</pre></div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html>