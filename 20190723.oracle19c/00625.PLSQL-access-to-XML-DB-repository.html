<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML&nbsp;DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML&nbsp;DB and its repository. You use the latter to perform other, non-configuration operations on the repository.">
      <meta name="description" content="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML&nbsp;DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML&nbsp;DB and its repository. You use the latter to perform other, non-configuration operations on the repository.">
      <title>PL/SQL Access to Oracle XML&nbsp;DB Repository</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML&nbsp;DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML&nbsp;DB and its repository. You use the latter to perform other, non-configuration operations on the repository.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="resource-versions.html" title="Previous" type="text/html">
      <link rel="next" href="repository-access-control.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="resource-versions.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="repository-access-control.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-repository.html" property="item" typeof="WebPage"><span property="name"> Oracle XML&nbsp;DB Repository</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> PL/SQL Access to Oracle XML&nbsp;DB Repository </li>
            </ol>
            <a id="GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" name="GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C"></a><a id="ADXDB2300"></a>
            
            <h2 id="ADXDB-GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" class="sect2"><span class="enumeration_chapter">26 </span> PL/SQL Access to Oracle XML&nbsp;DB Repository 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>PL/SQL packages <code class="codeph">DBMS_XDB_CONFIG</code> and <code class="codeph">DBMS_XDB_REPOS</code> together provide the Oracle XML&nbsp;DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML&nbsp;DB and its repository. You use the latter to perform other, non-configuration operations on the repository.
               </p>
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="PLSQL-access-to-XML-DB-repository.html#GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610">DBMS_XDB_REPOS: Access and Manage Repository Resources</a><br>You use PL/SQL package <code class="codeph">DBMS_XDB_REPOS</code> to access and manage resources in Oracle XML&nbsp;DB Repository. It includes methods for managing resource security based on access control lists (ACLs). An ACL is a list of access control entries (ACEs) that determines which principals (users and roles) have access to which resources.
                  </li>
                  <li class="ulchildlink"><a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE">DBMS_XDB_REPOS: ACL-Based Security Management</a><br>PL/SQL package <code class="codeph">DBMS_XDB_REPOS</code> provides Oracle XML&nbsp;DB ACL-based security management functions and procedures.
                  </li>
                  <li class="ulchildlink"><a href="PLSQL-access-to-XML-DB-repository.html#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89">DBMS_XDB_CONFIG: Configuration Management</a><br>PL/SQL package <code class="codeph">DBMS_XDB_CONFIG</code> provides Oracle XML&nbsp;DB configuration management functions and procedures.
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="PLSQL-APIs-for-XMLType.html#GUID-63032A9C-B4E2-4BB9-89E5-EBEEEF282C39" title="The PL/SQL Application Programming Interfaces (APIs) for XMLType are described.">PL/SQL APIs for XMLType: References</a></li>
                     <li><a href="administration-of-XML-DB.html#GUID-F5072D79-E37E-4A44-B6EE-6CA8951CA232" title="PL/SQL package DBMS_XDB_ADMIN has subprograms for managing and configuring Oracle XML&nbsp;DB and Oracle XML&nbsp;DB Repository.">Package DBMS_XDB_ADMIN</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML&nbsp;DB Repository lets you version your data, implement and manage security, and use APIs to access and manipulate repository resources.">Oracle XML&nbsp;DB Repository</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5441"></a><a id="ADXDB5442"></a><a id="ADXDB5440"></a><div class="props_rev_3"><a id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610" name="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610"></a><h3 id="ADXDB-GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610" class="sect3"><span class="enumeration_section">26.1 </span>DBMS_XDB_REPOS: Access and Manage Repository Resources
               </h3>
               <div>
                  <p>You use PL/SQL package <code class="codeph">DBMS_XDB_REPOS</code> to access and manage resources in Oracle XML&nbsp;DB Repository. It includes methods for managing resource security based on access control lists (ACLs). An ACL is a list of access control entries (ACEs) that determines which principals (users and roles) have access to which resources.
                  </p>
                  <div class="infoboxnotealso" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__GUID-9A70CF7F-7864-4BFB-BEF2-A4DF79880688">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_XDB_REPOS.html#ARPLS74188" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                  </div>
                  <p><a href="PLSQL-access-to-XML-DB-repository.html#GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__CHDIAHGI" title="This table describes DBMS_XDB resource management methods.">Table 26-1</a> describes the functions and procedures in package <code class="codeph">DBMS_XDB_REPOS</code>.
                  </p>
                  <div class="tblformalwide" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__CHDIAHGI">
                     <p class="titleintable">Table 26-1 DBMS_XDB_REPOS Resource Access and Management Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_XDB_REPOS Resource Access and Management Subprograms" summary="This table describes DBMS_XDB resource management methods." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d128094e160">Function/Procedure</th>
                              <th align="left" valign="bottom" width="70%" id="d128094e163">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e168" headers="d128094e160 ">
                                 <p><code class="codeph">addResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e168 d128094e163 ">
                                 <p>Insert a new file resource into the repository hierarchy, with the given string as its contents.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e176" headers="d128094e160 ">
                                 <p><code class="codeph">appendResourceMetadata</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e176 d128094e163 ">
                                 <p>Add user-defined metadata to a resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e184" headers="d128094e160 ">
                                 <p><code class="codeph">createFolder</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e184 d128094e163 ">
                                 <p>Create a new folder resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e192" headers="d128094e160 ">
                                 <p><code class="codeph">createOIDPath</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e192 d128094e163 ">
                                 <p>Create a virtual path to a resource, based on its object identifier (OID).</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e200" headers="d128094e160 ">
                                 <p><code class="codeph">createResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e200 d128094e163 ">
                                 <p>Create a new file resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e208" headers="d128094e160 ">
                                 <p><code class="codeph">deleteResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e208 d128094e163 ">
                                 <p>Delete a resource from the repository.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e216" headers="d128094e160 ">
                                 <p><code class="codeph">deleteResourceMetadata</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e216 d128094e163 ">
                                 <p>Delete specific user-defined metadata from a resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e225" headers="d128094e160 ">
                                 <p><code class="codeph">existsResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e225 d128094e163 ">
                                 <p>Indicate whether or not a resource exists, given its absolute path.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e233" headers="d128094e160 ">
                                 <p><code class="codeph">getContentBLOB</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e233 d128094e163 ">
                                 <p>Return the contents of a resource as a <code class="codeph">BLOB</code> instance.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e244" headers="d128094e160 ">
                                 <p><code class="codeph">getContentVARCHAR2</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e244 d128094e163 ">
                                 <p>Return the contents of a resource as a <code class="codeph">VARCHAR2</code> value.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e255" headers="d128094e160 ">
                                 <p><code class="codeph">getContentXMLRef</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e255 d128094e163 ">
                                 <p>Return the contents of a resource as a reference to an <code class="codeph">XMLType</code> instance.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e267" headers="d128094e160 ">
                                 <p><code class="codeph">getContentXMLType</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e267 d128094e163 ">
                                 <p>Return the contents of a resource as an <code class="codeph">XMLType</code> instance.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e278" headers="d128094e160 ">
                                 <p><code class="codeph">getLockToken</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e278 d128094e163 ">
                                 <p>Return a resource lock token for the current user, given a path to the resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e286" headers="d128094e160 ">
                                 <p><code class="codeph">getResOID</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e286 d128094e163 ">
                                 <p>Return the object identifier (OID) of a resource, given its absolute path.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e294" headers="d128094e160 ">
                                 <p><code class="codeph">getResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e294 d128094e163 ">
                                 <p>Return the instance of class <code class="codeph">DBMS_XDBRESOURCE.XDBResource</code> that is located at a given path in the repository.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e305" headers="d128094e160 ">
                                 <p><code class="codeph">getXDB_tablespace</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e305 d128094e163 ">
                                 <p>Return the current tablespace of database schema (user account) <code class="codeph">XDB</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e316" headers="d128094e160 ">
                                 <p><code class="codeph">hasBLOBContent</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e316 d128094e163 ">
                                 <p>Return <code class="codeph">TRUE</code> if a given resource has <code class="codeph">BLOB</code> content.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e330" headers="d128094e160 ">
                                 <p><code class="codeph">hasCharContent</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e330 d128094e163 ">
                                 <p>Return <code class="codeph">TRUE</code> if a given resource has character content.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e341" headers="d128094e160 ">
                                 <p><code class="codeph">hasXMLContent</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e341 d128094e163 ">
                                 <p>Return <code class="codeph">TRUE</code> if a given resource has <code class="codeph">XMLType</code> content.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e355" headers="d128094e160 ">
                                 <p><code class="codeph">hasXMLReference</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e355 d128094e163 ">
                                 <p>Return <code class="codeph">TRUE</code> if a given resource has a reference to <code class="codeph">XMLType</code> content.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e369" headers="d128094e160 ">
                                 <p><code class="codeph">isFolder</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e369 d128094e163 ">
                                 <p>Return <code class="codeph">TRUE</code> if a given resource is a folder.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e380" headers="d128094e160 ">
                                 <p><code class="codeph">link</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e380 d128094e163 ">
                                 <p>Create a link to an existing resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e389" headers="d128094e160 ">
                                 <p><code class="codeph">lockResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e389 d128094e163 ">
                                 <p>Obtain a WebDAV-style lock on a resource, given a path to the resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e397" headers="d128094e160 ">
                                 <p><code class="codeph">processLinks</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e397 d128094e163 ">
                                 <p>Process all XLink (<span class="italic">deprecated</span>) and XInclude links in a document or folder.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e408" headers="d128094e160 ">
                                 <p><code class="codeph">purgeResourceMetadata</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e408 d128094e163 ">
                                 <p>Delete all user-defined metadata from a given resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e416" headers="d128094e160 ">
                                 <p><code class="codeph">refreshContentSize</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e416 d128094e163 ">
                                 <p>Recompute the content size of a given resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e424" headers="d128094e160 ">
                                 <p><code class="codeph">renameResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e424 d128094e163 ">
                                 <p>Rename a given resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e432" headers="d128094e160 ">
                                 <p><code class="codeph">touchResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e432 d128094e163 ">
                                 <p>Change the last-modified time to the current time.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e440" headers="d128094e160 ">
                                 <p><code class="codeph">unlockResource</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e440 d128094e163 ">
                                 <p>Unlock a resource, given its lock token and path.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d128094e448" headers="d128094e160 ">
                                 <p><code class="codeph">updateResourceMetadata</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d128094e448 d128094e163 ">
                                 <p>Modify user-defined resource metadata.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a href="PLSQL-access-to-XML-DB-repository.html#GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__I1028471">Example 26-1</a> uses package <code class="codeph">DBMS_XDB_REPOS</code> to manage repository resources. It creates the following:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A folder, <code class="codeph">mydocs</code>, under folder <code class="codeph">/public</code></p>
                     </li>
                     <li>
                        <p>Two file resources, <code class="codeph">emp_selby.xml</code> and <code class="codeph">emp_david.xml</code></p>
                     </li>
                     <li>
                        <p>Two links to the file resources <code class="codeph">person_selby.xml</code> and <code class="codeph">person_david.xml</code></p>
                     </li>
                  </ul>
                  <p>It then deletes each of the newly created resources and links. The folder contents are deleted before the folder itself.</p>
                  <div class="infoboxnotealso" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__GUID-7F794D70-9976-421A-9B6D-DF9D230809D8">
                     <p class="notep1">See Also:</p>
                     <p><a href="user-defined-repository-metadata.html#GUID-74BCC51E-2E7C-4DB6-8DCF-F65122FE132E" title="You can create your own metadata to associate with XML data stored in Oracle XML&nbsp;DB Repository.">User-Defined Repository Metadata</a> for examples using <code class="codeph">appendResourceMetadata</code> and <code class="codeph">deleteResourceMetadata</code></p>
                  </div>
                  <div class="example" id="GUID-9B0CA4C7-84C7-4C63-BDAD-B28F835A7610__I1028471">
                     <p class="titleinexample">Example 26-1 Managing Resources Using DBMS_XDB_REPOS</p><pre class="oac_no_warn" dir="ltr">DECLARE
  retb BOOLEAN;
BEGIN
  retb := DBMS_XDB_REPOS.createfolder('/public/mydocs');
  retb := DBMS_XDB_REPOS.createresource('/public/mydocs/emp_selby.xml',
                                        '&lt;emp_name&gt;selby&lt;/emp_name&gt;');
  retb := DBMS_XDB_REPOS.createresource('/public/mydocs/emp_david.xml',
                                        '&lt;emp_name&gt;david&lt;/emp_name&gt;');
END;
/
PL/SQL procedure successfully completed.
 
CALL DBMS_XDB_REPOS.link('/public/mydocs/emp_selby.xml',
                         '/public/mydocs',
                         'person_selby.xml');
Call completed.
 
CALL DBMS_XDB_REPOS.link('/public/mydocs/emp_david.xml',
                         '/public/mydocs',
                         'person_david.xml');
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource('/public/mydocs/emp_selby.xml');
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource('/public/mydocs/person_selby.xml');
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource('/public/mydocs/emp_david.xml');
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource('/public/mydocs/person_david.xml');
Call completed.
 
CALL DBMS_XDB_REPOS.deleteresource('/public/mydocs');
Call completed.</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="PLSQL-access-to-XML-DB-repository.html#GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" title="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML&nbsp;DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML&nbsp;DB and its repository. You use the latter to perform other, non-configuration operations on the repository.">PL/SQL Access to Oracle XML&nbsp;DB Repository</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5444"></a><a id="ADXDB5445"></a><a id="ADXDB5446"></a><a id="ADXDB5447"></a><a id="ADXDB5448"></a><a id="ADXDB5443"></a><div class="props_rev_3"><a id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE" name="GUID-9560B205-943B-4159-9734-44B9B74F2ACE"></a><h3 id="ADXDB-GUID-9560B205-943B-4159-9734-44B9B74F2ACE" class="sect3"><span class="enumeration_section">26.2 </span>DBMS_XDB_REPOS: ACL-Based Security Management
               </h3>
               <div>
                  <p>PL/SQL package <code class="codeph">DBMS_XDB_REPOS</code> provides Oracle XML&nbsp;DB ACL-based security management functions and procedures.
                  </p>
                  <div class="tblformal" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__G1029223">
                     <p class="titleintable">Table 26-2 DBMS_XDB_REPOS: Security Management Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_XDB_REPOS: Security Management Subprograms" summary="This table describes DBMS_XDB security management methods." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="27%" id="d128094e565">Function/Procedure</th>
                              <th align="left" valign="bottom" width="73%" id="d128094e568">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e573" headers="d128094e565 ">
                                 <p><code class="codeph">ACLCheckPrivileges</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e573 d128094e568 ">
                                 <p>Check the access privileges granted to the current user by an ACL.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e581" headers="d128094e565 ">
                                 <p><code class="codeph">changeOwner</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e581 d128094e568 ">
                                 <p>Change the owner of a given resource to a given user.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e589" headers="d128094e565 ">
                                 <p><code class="codeph">changePrivileges</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e589 d128094e568 ">
                                 <p>Add an ACE to a resource ACL.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e597" headers="d128094e565 ">
                                 <p><code class="codeph">checkPrivileges</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e597 d128094e568 ">
                                 <p>Check the access privileges granted to the current user for a resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e605" headers="d128094e565 ">
                                 <p><code class="codeph">getACLDocument</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e605 d128094e568 ">
                                 <p>Return the ACL document that protects a resource, given the path name of the resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e613" headers="d128094e565 ">
                                 <p><code class="codeph">getPrivileges</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e613 d128094e568 ">
                                 <p>Return all privileges granted to the current user for a resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="27%" id="d128094e621" headers="d128094e565 ">
                                 <p><code class="codeph">setACL</code></p>
                              </td>
                              <td align="left" valign="top" width="73%" headers="d128094e621 d128094e568 ">
                                 <p>Set the ACL for a resource.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__GUID-CAF9EC0D-56C1-45B9-ABA1-467D7FC03B06">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_XDB.html#ARPLS371" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></p>
                  </div>
                  <p>In <a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__I1028509">Example 26-2</a>, database user <code class="codeph">HR</code> creates two resources: a folder, <code class="codeph">/public/mydocs</code>, with a file in it, <code class="codeph">emp_selby.xml</code>. Procedure <code class="codeph">getACLDocument</code> is called on the file resource, showing that the <code class="codeph">&lt;principal&gt;</code> user for the document is <code class="codeph">PUBLIC</code>. 
                  </p>
                  <p>In <a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBEHIFI">Example 26-3</a>, the system manager connects and uses procedure <code class="codeph">setACL</code> to give the owner (database schema <code class="codeph">HR</code>) all privileges on the file resource created in <a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__I1028509">Example 26-2</a>. Procedure <code class="codeph">getACLDocument</code> then shows that the <code class="codeph">&lt;principal&gt;</code> user is <code class="codeph">dav:owner</code>, the owner (<code class="codeph">HR</code>).
                  </p>
                  <p>In <a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBFGHDC">Example 26-4</a>, user <code class="codeph">HR</code> connects and uses function <code class="codeph">changePrivileges</code> to add a new access control entry (ACE) to the ACL, which gives all privileges on resource <code class="codeph">emp_selby.xml</code> to user <code class="codeph">oe</code>. Procedure <code class="codeph">getACLDocument</code> shows that the new ACE was added to the ACL.
                  </p>
                  <p>In <a href="PLSQL-access-to-XML-DB-repository.html#GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBIEDGA">Example 26-5</a>, user <code class="codeph">oe</code> connects and calls <code class="codeph">DBMS_XDB_REPOS.getPrivileges</code>, which shows all of the privileges granted to user <code class="codeph">oe</code> on resource <code class="codeph">emp_selby.xml</code>.
                  </p>
                  <div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__I1028509">
                     <p class="titleinexample">Example 26-2 Using DBMS_XDB_REPOS.GETACLDOCUMENT</p><pre class="pre codeblock"><code>CONNECT hr
Enter password: <span class="italic">password</span>

Connected.

DECLARE
  retb BOOLEAN;
BEGIN
  retb := DBMS_XDB_REPOS.createFolder('/public/mydocs');
  retb := DBMS_XDB_REPOS.createResource('/public/mydocs/emp_selby.xml',
                                        '&lt;emp_name&gt;selby&lt;/emp_name&gt;');
END;
/
PL/SQL procedure successfully completed.
 
SELECT XMLSerialize(DOCUMENT
                    DBMS_XDB_REPOS.<span class="bold">getACLDocument</span>('/public/mydocs/emp_selby.xml')
                    AS CLOB)
  FROM DUAL;
 
XMLSERIALIZE(DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT('/PUBLIC/MYDOCS/EMP_SELBY.XML
--------------------------------------------------------------------------------
&lt;acl description="Public:All privileges to PUBLIC" xmlns="http://xmlns.oracle.co
m/xdb/acl.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaL
ocation="http://xmlns.oracle.com/xdb/acl.xsd                           http://xm
lns.oracle.com/xdb/acl.xsd" shared="true"&gt;
  &lt;ace&gt;
    &lt;grant&gt;true&lt;/grant&gt;
    &lt;principal&gt;<span class="bold">PUBLIC</span>&lt;/principal&gt;
    &lt;privilege&gt;
      &lt;all/&gt;
    &lt;/privilege&gt;
  &lt;/ace&gt;
&lt;/acl&gt;
 
1 row selected.</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBEHIFI">
                     <p class="titleinexample">Example 26-3 Using DBMS_XDB_REPOS.SETACL</p><pre class="pre codeblock"><code>CONNECT SYSTEM
Enter password: <span class="italic">password</span>

Connected.
 
-- Give all privileges to owner, HR.
CALL DBMS_XDB_REPOS.<span class="bold">setACL</span>('/public/mydocs/emp_selby.xml',
                           '/sys/acls/<span class="bold">all_owner_acl</span>.xml');
Call completed.
COMMIT;
Commit complete.

SELECT XMLSerialize(DOCUMENT
                    DBMS_XDB_REPOS.<span class="bold">getACLDocument</span>('/public/mydocs/emp_selby.xml')
                    AS CLOB)
  FROM DUAL;

XMLSERIALIZE(DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT('/PUBLIC/MYDOCS/EMP_SELBY.XML
--------------------------------------------------------------------------------
&lt;acl description="Private:All privileges to OWNER only and not accessible to oth
ers" xmlns="http://xmlns.oracle.com/xdb/acl.xsd" xmlns:dav="DAV:" xmlns:xsi="htt
p://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.oracle.
com/xdb/acl.xsd http://xmlns.oracle.com/xdb/acl.xsd" shared="true"&gt;
  &lt;ace&gt;
    &lt;grant&gt;true&lt;/grant&gt;
    &lt;principal&gt;<span class="bold">dav:owner</span>&lt;/principal&gt;
    &lt;privilege&gt;
      &lt;all/&gt;
    &lt;/privilege&gt;
  &lt;/ace&gt;
&lt;/acl&gt;
 
1 row selected.
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBFGHDC">
                     <p class="titleinexample">Example 26-4 Using DBMS_XDB_REPOS.CHANGEPRIVILEGES</p><pre class="pre codeblock"><code>CONNECT hr
Enter password: <span class="italic">password</span>

Connected.

SET SERVEROUTPUT ON

-- Add an ACE giving privileges to user OE
DECLARE
  r        PLS_INTEGER;
  ace      XMLType;
  ace_data VARCHAR2(2000);
BEGIN
  ace_data := '&lt;ace xmlns="http://xmlns.oracle.com/xdb/acl.xsd"
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xsi:schemaLocation="http://xmlns.oracle.com/xdb/acl.xsd
                                        http://xmlns.oracle.com/xdb/acl.xsd
                                        DAV:http://xmlns.oracle.com/xdb/dav.xsd"&gt;
                 &lt;principal&gt;<span class="bold">OE</span>&lt;/principal&gt;
                 &lt;grant&gt;true&lt;/grant&gt;
                 &lt;privilege&gt;&lt;<span class="bold">all/&gt;</span>&lt;/privilege&gt;
               &lt;/ace&gt;';
  ace := XMLType.createXML(ace_data);
  r := DBMS_XDB_REPOS.<span class="bold">changePrivileges</span>('/public/mydocs/emp_selby.xml', ace);
END;
/
 
PL/SQL procedure successfully completed.

COMMIT;

SELECT XMLSerialize(DOCUMENT
                    DBMS_XDB_REPOS.<span class="bold">getACLDocument</span>('/public/mydocs/emp_selby.xml')
                    AS CLOB)
  FROM DUAL;
 
XMLSERIALIZE(DOCUMENTDBMS_XDB_REPOS.GETACLDOCUMENT('/PUBLIC/MYDOCS/EMP_SELBY.XML
--------------------------------------------------------------------------------
&lt;acl description="Private:All privileges to OWNER only and not accessible to oth
ers" xmlns="http://xmlns.oracle.com/xdb/acl.xsd" xmlns:dav="DAV:" xmlns:xsi="htt
p://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.oracle.
com/xdb/acl.xsd                           http://xmlns.oracle.com/xdb/acl.xsd" <span class="bold">s</span>
<span class="bold">hared="false"</span>&gt;
  &lt;ace&gt;
    &lt;grant&gt;true&lt;/grant&gt;
    &lt;principal&gt;dav:owner&lt;/principal&gt;
    &lt;privilege&gt;
      &lt;all/&gt;
    &lt;/privilege&gt;
  &lt;/ace&gt;
  <span class="bold">&lt;ace&gt;</span>
    <span class="bold">&lt;grant&gt;true&lt;/grant&gt;</span>
    <span class="bold">&lt;principal&gt;OE&lt;/principal&gt;</span>
    <span class="bold">&lt;privilege&gt;</span>
      <span class="bold">&lt;all/&gt;</span>
    <span class="bold">&lt;/privilege&gt;</span>
  <span class="bold">&lt;/ace&gt;</span>
&lt;/acl&gt;
 
1 row selected.
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-9560B205-943B-4159-9734-44B9B74F2ACE__BHBIEDGA">
                     <p class="titleinexample">Example 26-5 Using DBMS_XDB_REPOS.GETPRIVILEGES</p><pre class="pre codeblock"><code>CONNECT oe
Enter password: <span class="italic">password</span>

Connected.

SELECT XMLSerialize(DOCUMENT
                    DBMS_XDB_REPOS.<span class="bold">getPrivileges</span>('/public/mydocs/emp_selby.xml')
                    AS CLOB)
  FROM DUAL;
 
XMLSERIALIZE(DOCUMENTDBMS_XDB_REPOS.GETPRIVILEGES('/PUBLIC/MYDOCS/EMP_SELBY.XML'
--------------------------------------------------------------------------------
&lt;privilege xmlns="http://xmlns.oracle.com/xdb/acl.xsd" xmlns:xsi="http://www.w3.
org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.oracle.com/xdb/acl
.xsd http://xmlns.oracle.com/xdb/acl.xsd DAV: http://xmlns.oracle.com/xdb/dav.xs
d" xmlns:xdbacl="http://xmlns.oracle.com/xdb/acl.xsd" xmlns:dav="DAV:"&gt;
  &lt;read-properties/&gt;
  &lt;read-contents/&gt;
  &lt;write-config/&gt;
  &lt;link/&gt;
  &lt;unlink/&gt;
  &lt;read-acl/&gt;
  &lt;write-acl-ref/&gt;
  &lt;update-acl/&gt;
  &lt;resolve/&gt;
  &lt;link-to/&gt;
  &lt;unlink-from/&gt;
  &lt;dav:lock/&gt;
  &lt;dav:unlock/&gt;
  &lt;dav:write-properties/&gt;
  &lt;dav:write-content/&gt;
  &lt;dav:execute/&gt;
  &lt;dav:take-ownership/&gt;
  &lt;dav:read-current-user-privilege-set/&gt;
&lt;/privilege&gt;
 
1 row selected.</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="PLSQL-access-to-XML-DB-repository.html#GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" title="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML&nbsp;DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML&nbsp;DB and its repository. You use the latter to perform other, non-configuration operations on the repository.">PL/SQL Access to Oracle XML&nbsp;DB Repository</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5450"></a><a id="ADXDB5451"></a><a id="ADXDB5452"></a><a id="ADXDB5449"></a><div class="props_rev_3"><a id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89" name="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89"></a><h3 id="ADXDB-GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89" class="sect3"><span class="enumeration_section">26.3 </span>DBMS_XDB_CONFIG: Configuration Management
               </h3>
               <div>
                  <p>PL/SQL package <code class="codeph">DBMS_XDB_CONFIG</code> provides Oracle XML&nbsp;DB configuration management functions and procedures.
                  </p>
                  <div class="infoboxnote" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__GUID-687BE47D-11A3-4E31-956B-05EB6EBE9185">
                     <p class="notep1">Note:</p>
                     <p>Oracle recommends that you use the subprograms of PL/SQL package <code class="codeph">DBMS_XDB_CONFIG</code> to set or change FTP or HTTP port numbers. Do <span class="italic">not</span> set ports by directly editing configuration file <code class="codeph">xdbconfig.xml</code></p>
                  </div>
                  <div class="tblformalwide" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__G1029248">
                     <p class="titleintable">Table 26-3 DBMS_XDB_CONFIG: Configuration Management Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_XDB_CONFIG: Configuration Management Subprograms" summary="The first column lists DBMS_XDB_CONFIG subprograms. The second column lists their descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d128094e887">Subprogram</th>
                              <th align="left" valign="bottom" width="67%" id="d128094e890">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e895" headers="d128094e887 ">
                                 <p><code class="codeph">addHTTPExpireMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e895 d128094e890 ">
                                 <p>Add a mapping of a URL pattern to an expiration date to table <code class="codeph">XDB$CONFIG</code>. The mapping controls the <code class="codeph">Expire</code> headers for URLs that match the pattern.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e909" headers="d128094e887 ">
                                 <p><code class="codeph">addMIMEMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e909 d128094e890 ">
                                 <p>Add a MIME mapping to table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e920" headers="d128094e887 ">
                                 <p><code class="codeph">addSchemaLocMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e920 d128094e890 ">
                                 <p>Add a schema-location mapping to table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e931" headers="d128094e887 ">
                                 <p><code class="codeph">addServlet</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e931 d128094e890 ">
                                 <p>Add a servlet to table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e942" headers="d128094e887 ">
                                 <p><code class="codeph">addServletMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e942 d128094e890 ">
                                 <p>Add a servlet mapping to table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e953" headers="d128094e887 ">
                                 <p><code class="codeph">addServletSecRole</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e953 d128094e890 ">
                                 <p>Add a security role reference to a servlet.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e961" headers="d128094e887 ">
                                 <p><code class="codeph">addXMLExtension</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e961 d128094e890 ">
                                 <p>Add an XML extension to table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e972" headers="d128094e887 ">
                                 <p><code class="codeph">cfg_get</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e972 d128094e890 ">
                                 <p>Return the configuration information for the current session.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e980" headers="d128094e887 ">
                                 <p><code class="codeph">cfg_refresh</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e980 d128094e890 ">
                                 <p>Refresh the session configuration information using the current Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e991" headers="d128094e887 ">
                                 <p><code class="codeph">cfg_update</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e991 d128094e890 ">
                                 <p>Update the Oracle XML&nbsp;DB configuration information. This writes the configuration file, <code class="codeph">xdbconfig.xml</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1002" headers="d128094e887 ">
                                 <p><code class="codeph">deleteHTTPExpireMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1002 d128094e890 ">
                                 <p>Delete <span class="italic">all</span> mappings of a given URL pattern to an expiration date from table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1017" headers="d128094e887 ">
                                 <p><code class="codeph">deleteMIMEMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1017 d128094e890 ">
                                 <p>Delete a MIME mapping from table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1028" headers="d128094e887 ">
                                 <p><code class="codeph">deleteSchemaLocMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1028 d128094e890 ">
                                 <p>Delete a schema-location mapping from table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1039" headers="d128094e887 ">
                                 <p><code class="codeph">deleteServlet</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1039 d128094e890 ">
                                 <p>Delete a servlet from table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1050" headers="d128094e887 ">
                                 <p><code class="codeph">deleteServletMapping</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1050 d128094e890 ">
                                 <p>Delete a servlet mapping from table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1061" headers="d128094e887 ">
                                 <p><code class="codeph">deleteServletSecRole</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1061 d128094e890 ">
                                 <p>Delete a security role reference from a servlet.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1069" headers="d128094e887 ">
                                 <p><code class="codeph">deleteXMLExtension</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1069 d128094e890 ">
                                 <p>Delete an XML extension from table <code class="codeph">XDB$CONFIG</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1080" headers="d128094e887 ">
                                 <p><code class="codeph">enableDigestAuthentication</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1080 d128094e890 ">
                                 <p>Enable digest authentication.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1088" headers="d128094e887 ">
                                 <p><code class="codeph">getFTPPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1088 d128094e890 ">
                                 <p>Return the current FTP port number.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1096" headers="d128094e887 ">
                                 <p><code class="codeph">getHTTPConfigRealm</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1096 d128094e890 ">
                                 <p>Return the HTTP configuration realm.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1104" headers="d128094e887 ">
                                 <p><code class="codeph">getHTTPPort</code>, <code class="codeph">getHTTPSPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1104 d128094e890 ">
                                 <p>Return the current HTTP(S) port number.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1115" headers="d128094e887 ">
                                 <p><code class="codeph">getListenerEndPoint</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1115 d128094e890 ">
                                 <p>Return the parameters of a listener end point for the HTTP server.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1124" headers="d128094e887 ">
                                 <p><code class="codeph">GetRemoteHTTPPort</code>, <code class="codeph">GetRemoteHTTPSPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1124 d128094e890 ">
                                 <p>Return the number of the current remote HTTP(S) port.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1135" headers="d128094e887 ">
                                 <p><code class="codeph">setFTPPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1135 d128094e890 ">
                                 <p>Set the Oracle XML&nbsp;DB FTP port to the specified port number.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1143" headers="d128094e887 ">
                                 <p><code class="codeph">setHTTPConfigRealm</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1143 d128094e890 ">
                                 <p>Set the HTTP configuration realm.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1151" headers="d128094e887 ">
                                 <p><code class="codeph">setHTTPPort</code>, <code class="codeph">setHTTPSPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1151 d128094e890 ">
                                 <p>Set the Oracle XML&nbsp;DB HTTP(S) port to the specified port number.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1162" headers="d128094e887 ">
                                 <p><code class="codeph">setListenerEndPoint</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1162 d128094e890 ">
                                 <p>Set the parameters of a listener end point for the HTTP server.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1170" headers="d128094e887 ">
                                 <p><code class="codeph">setListenerLocalAccess</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1170 d128094e890 ">
                                 <p>Either (a) restrict all listener end points to listen on only the <code class="codeph">localhost</code> interface or (b) allow all listener end points to listen on both <code class="codeph">localhost</code> and non-<code class="codeph">localhost</code> interfaces.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1187" headers="d128094e887 ">
                                 <p><code class="codeph">SetRemoteHTTPPort</code>, <code class="codeph">SetRemoteHTTPSPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1187 d128094e890 ">
                                 <p>Define the port number of a remote HTTP or HTTPS port, respectively. A remote port number is stored similarly to a non-remote HTTP(S) port, except they it is not specified in the configuration file, <code class="codeph">xdbconfig.xml</code> file or in the configuration XML schema, <code class="codeph">xdbconfig.xsd</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d128094e1204" headers="d128094e887 ">
                                 <p><code class="codeph">usedPort</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d128094e1204 d128094e890 ">
                                 <p>Return the ports used by other pluggable databases (PDBs) in the same multitenant container database (CDB). The return value is an <code class="codeph">XMLType</code> instance that lists each PDB by id number and its associated ports by type and number.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="infoboxnotealso" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__GUID-775D8986-7BB7-416F-9272-7211CDBC938B">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_XDB_CONFIG.html#ARPLS73564" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a>, Chapter "DBMS_XDB_CONFIG"
                     </p>
                  </div>
                  <p><a href="PLSQL-access-to-XML-DB-repository.html#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__I1028520">Example 26-6</a> uses function <code class="codeph">cfg_get</code> to retrieve the Oracle XML&nbsp;DB configuration file, <code class="codeph">xdbconfig.xml</code>.
                  </p>
                  <p><a href="PLSQL-access-to-XML-DB-repository.html#GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__BHBEDCGF">Example 26-7</a> illustrates the use of procedure <code class="codeph">cfg_update</code>. The current configuration is retrieved as an <code class="codeph">XMLType</code> instance and modified. It is then rewritten using <code class="codeph">cfg_update</code>.
                  </p>
                  <div class="example" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__I1028520">
                     <p class="titleinexample">Example 26-6 Using DBMS_XDB_CONFIG.CFG_GET</p><pre class="oac_no_warn" dir="ltr">CONNECT SYSTEM
Enter password: <span class="italic">password</span>

Connected.

SELECT DBMS_XDB_CONFIG.cfg_get() FROM DUAL;
 
DBMS_XDB_CONFIG.CFG_GET()
--------------------------------------------------------------------------------
&lt;xdbconfig xmlns="http://xmlns.oracle.com/xdb/xdbconfig.xsd" xmlns:xsi="http://w
ww.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.oracle.com/x
db/xdbconfig.xsd                                     http://xmlns.oracle.com/xdb
/xdbconfig.xsd"&gt;
  &lt;sysconfig&gt;
    &lt;acl-max-age&gt;19&lt;/acl-max-age&gt;
    &lt;acl-cache-size&gt;32&lt;/acl-cache-size&gt;
    &lt;invalid-pathname-chars/&gt;
    &lt;case-sensitive&gt;true&lt;/case-sensitive&gt;
    &lt;call-timeout&gt;6000&lt;/call-timeout&gt;
    &lt;max-link-queue&gt;65536&lt;/max-link-queue&gt;
    &lt;max-session-use&gt;100&lt;/max-session-use&gt;
    &lt;persistent-sessions&gt;false&lt;/persistent-sessions&gt;
    &lt;default-lock-timeout&gt;3600&lt;/default-lock-timeout&gt;
    &lt;xdbcore-logfile-path&gt;/sys/log/xdblog.xml&lt;/xdbcore-logfile-path&gt;
    &lt;xdbcore-log-level&gt;0&lt;/xdbcore-log-level&gt;
    &lt;resource-view-cache-size&gt;1048576&lt;/resource-view-cache-size&gt;
    &lt;protocolconfig&gt;
      &lt;common&gt;
        <span class="bold">. . .</span>
      &lt;/common&gt;
      &lt;ftpconfig&gt;
        <span class="bold">. . .</span>
      &lt;/ftpconfig&gt;
      &lt;httpconfig&gt;
        &lt;http-port&gt;0&lt;/http-port&gt;
        &lt;http-listener&gt;local_listener&lt;/http-listener&gt;
        &lt;http-protocol&gt;tcp&lt;/http-protocol&gt;
        &lt;max-http-headers&gt;64&lt;/max-http-headers&gt;
        &lt;max-header-size&gt;16384&lt;/max-header-size&gt;
        &lt;max-request-body&gt;2000000000&lt;/max-request-body&gt;
        &lt;session-timeout&gt;6000&lt;/session-timeout&gt;
        &lt;server-name&gt;XDB HTTP Server&lt;/server-name&gt;
        &lt;logfile-path&gt;/sys/log/httplog.xml&lt;/logfile-path&gt;
        &lt;log-level&gt;0&lt;/log-level&gt;
        &lt;servlet-realm&gt;Basic realm=&amp;quot;XDB&amp;quot;&lt;/servlet-realm&gt;
        &lt;webappconfig&gt;
        <span class="bold">. . .</span>
        &lt;/webappconfig&gt;
        &lt;authentication&gt;
        <span class="bold">. . .</span>
        &lt;/authentication&gt;
    &lt;/protocolconfig&gt;
    &lt;xdbcore-xobmem-bound&gt;1024&lt;/xdbcore-xobmem-bound&gt;
    &lt;xdbcore-loadableunit-size&gt;16&lt;/xdbcore-loadableunit-size&gt;
    &lt;acl-evaluation-method&gt;ace-order&lt;/acl-evaluation-method&gt;
  &lt;/sysconfig&gt;
&lt;/xdbconfig&gt;
 
1 row selected.
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-604DDCE1-456D-4EC7-8B76-3110E3A6DD89__BHBEDCGF">
                     <p class="titleinexample">Example 26-7 Using DBMS_XDB_CONFIG.CFG_UPDATE</p><pre class="oac_no_warn" dir="ltr">DECLARE
  configxml    SYS.XMLType;
  configxml2   SYS.XMLType;
BEGIN
  -- Get the current configuration
  configxml := DBMS_XDB_CONFIG.cfg_get();
 
  -- Modify the configuration
SELECT XMLQuery(
  'declare default element namespace
   "http://xmlns.oracle.com/xdb/xdbconfig.xsd"; (: :)
   copy $i := $p1 modify
     (for $j in $i/xdbconfig/sysconfig/protocolconfig/httpconfig/http-port
      return replace value of node $j with $p2)
     return $i'
    PASSING CONFIGXML AS "p1", '<span class="bold">8000</span>' AS "p2" RETURNING CONTENT)
  INTO configxml2 FROM DUAL;
 
  -- Update the configuration to use the modified version
  DBMS_XDB_CONFIG.<span class="bold">cfg_update</span>(configxml2);
END;
/
 
PL/SQL procedure successfully completed.

SELECT DBMS_XDB_CONFIG.cfg_get() FROM DUAL;
 
DBMS_XDB_CONFIG.CFG_GET()
--------------------------------------------------------------------------------
&lt;xdbconfig xmlns="http://xmlns.oracle.com/xdb/xdbconfig.xsd" xmlns:xsi="http://w
ww.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.oracle.com/x
db/xdbconfig.xsd http://xmlns.oracle.com/xdb/xdbconfig.xsd"&gt;
  &lt;sysconfig&gt;
    &lt;acl-max-age&gt;15&lt;/acl-max-age&gt;
    &lt;acl-cache-size&gt;32&lt;/acl-cache-size&gt;
    &lt;invalid-pathname-chars/&gt;
    &lt;case-sensitive&gt;true&lt;/case-sensitive&gt;
    &lt;call-timeout&gt;6000&lt;/call-timeout&gt;
    &lt;max-link-queue&gt;65536&lt;/max-link-queue&gt;
    &lt;max-session-use&gt;100&lt;/max-session-use&gt;
    &lt;persistent-sessions&gt;false&lt;/persistent-sessions&gt;
    &lt;default-lock-timeout&gt;3600&lt;/default-lock-timeout&gt;
    &lt;xdbcore-logfile-path&gt;/sys/log/xdblog.xml&lt;/xdbcore-logfile-path&gt;
    &lt;resource-view-cache-size&gt;1048576&lt;/resource-view-cache-size&gt;
    &lt;protocolconfig&gt;
      &lt;common&gt;
      <span class="bold">. . .</span>
      &lt;/common&gt;
      &lt;ftpconfig&gt;
      <span class="bold">. . .</span>
      &lt;/ftpconfig&gt;
      &lt;httpconfig&gt;
        &lt;http-port&gt;<span class="bold">8000</span>&lt;/http-port&gt;
        <span class="bold">. . .</span>
      &lt;/httpconfig&gt;
    &lt;/protocolconfig&gt;
    &lt;xdbcore-xobmem-bound&gt;1024&lt;/xdbcore-xobmem-bound&gt;
    &lt;xdbcore-loadableunit-size&gt;16&lt;/xdbcore-loadableunit-size&gt;
    &lt;acl-evaluation-method&gt;ace-order&lt;/acl-evaluation-method&gt;
&lt;/xdbconfig&gt;
 
1 row selected.</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="PLSQL-access-to-XML-DB-repository.html#GUID-04D3270F-1AC3-407B-B730-6B5A93AA5D7C" title="PL/SQL packages DBMS_XDB_CONFIG and DBMS_XDB_REPOS together provide the Oracle XML&nbsp;DB resource application program interface (API) for PL/SQL. You use the former to configure Oracle XML&nbsp;DB and its repository. You use the latter to perform other, non-configuration operations on the repository.">PL/SQL Access to Oracle XML&nbsp;DB Repository</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>