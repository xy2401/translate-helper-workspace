<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>RESTORE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96242-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="RESET-DATABASE.html" title="Previous" type="text/html">
      <link rel="next" href="RESYNC-CATALOG.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference">
    <meta name="dcterms.isVersionOf" content="RCMRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="RESET-DATABASE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="RESYNC-CATALOG.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-recover-to-validate.html" property="item" typeof="WebPage"><span property="name">RMAN Commands: RECOVER to VALIDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">RESTORE</li>
            </ol>
            <a id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B" name="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B"></a><a id="RCMRF90294"></a><a id="RCMRF90622"></a><a id="RCMRF90295"></a><a id="RCMRF90296"></a><a id="RCMRF90297"></a><a id="RCMRF90298"></a><a id="RCMRF90299"></a><a id="RCMRF90300"></a><a id="RCMRF90301"></a><a id="RCMRF90302"></a><a id="RCMRF90623"></a><a id="RCMRF90303"></a><a id="RCMRF90304"></a><a id="RCMRF90305"></a><a id="RCMRF90306"></a><a id="RCMRF90307"></a><a id="RCMRF90308"></a><a id="RCMRF90309"></a><a id="RCMRF90310"></a><a id="RCMRF90311"></a><a id="RCMRF90312"></a><a id="RCMRF90313"></a><a id="RCMRF90314"></a><a id="RCMRF90315"></a><a id="RCMRF90316"></a><a id="RCMRF90317"></a><a id="RCMRF90318"></a><a id="RCMRF90319"></a><a id="RCMRF90624"></a><a id="RCMRF90625"></a><a id="RCMRF90626"></a><a id="RCMRF90627"></a><a id="RCMRF90628"></a><a id="RCMRF90629"></a><a id="RCMRF149"></a>
            
            <h2 id="RCMRF-GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B" class="sect2"><span class="enumeration_section">3.8 </span>RESTORE
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-38EB3B5B-F7F7-4C9D-8E8D-6F75B60D68B4">Purpose</p>
                  <p>Use the <code class="codeph">RESTORE</code> command to restore, validate, or preview RMAN backups. Typically, you restore backups when a media failure has damaged a current data file, control file, or archived redo log or before performing a point-in-time recovery.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-443D7784-C602-4DB7-B0F8-6D8B23C14E46">Prerequisites</p>
                  <p>To restore data files to their current location, the database must be started, mounted, or open with the tablespaces or data files to be restored offline.</p>
                  <p>If you use RMAN in a Data Guard environment, then connect RMAN to a recovery catalog.</p>
                  <p>If you are performing a trial restore of the production database, then perform either of the following actions before restoring the database in the test environment:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the test database uses a fast recovery area that is physically <span class="italic">different</span> from the recovery area used by the production database, then set <code class="codeph">DB_RECOVERY_FILE_DEST</code> in the test database instance to the new location.
                        </p>
                     </li>
                     <li>
                        <p>If the test database uses a fast recovery area that is physically the <span class="italic">same</span> as the recovery area used by the production database, then set <code class="codeph">DB_UNIQUE_NAME</code> in the test database instance to a different name from the production database.
                        </p>
                     </li>
                  </ul>
                  <p>If you do not perform either of the preceding actions, then RMAN assumes that you are restoring the production database and deletes <a id="d82198e229" class="indexterm-anchor"></a>flashback logs from the fast recovery area because they are considered unusable.
                  </p>
                  <p>If you restore encrypted databases or tablespaces, then the Oracle keystore must be open before performing the restore operation.</p>
                  <p></p>
                  <p>To restore data files in a destination CDB using preplugin backups, the root must be open and you must connect to the root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-A8181FDC-09AE-4A86-9399-6E1D2AEB5FF6">Usage Notes</p>
                  <p>The <code class="codeph">RESTORE</code> command restores full backups, level 0 incremental backups, or image copies. You can restore files to their default location or a different location.
                  </p>
                  <p>By default, RMAN examines read-only data files to make sure they exist, are readable, and have the correct checkpoint. If any of the conditions is not met, then RMAN restores the files. If all of the conditions are met, then RMAN does not restore the files.</p>
                  <p></p>
                  <p>You cannot use a single <code class="codeph">RESTORE</code> command to restore data files belonging to more than one PDB backups.
                  </p>
                  <p><span class="bold">Backup Selection</span></p>
                  <p>By default, <code class="codeph">RESTORE</code> chooses the most recent backup set or file copy, that is, the file copy or backup set that needs the least media recovery. RMAN only restores backups created on the same type of channels allocated by the <code class="codeph">RESTORE</code> command. For example, if you made backups of a data file with <code class="codeph">DISK</code> and <code class="codeph">sbt</code> channels, and if only a <code class="codeph">DISK</code> channel is allocated for the <code class="codeph">RESTORE</code> command, then RMAN does not restore the <code class="codeph">sbt</code> backups. If you do not manually allocate channels, then RMAN allocates all automatic channels that it possibly needs, subject to any restrictions imposed by the <code class="codeph">DEVICE TYPE</code> option.
                  </p>
                  <p>In an Oracle RAC configuration, RMAN automatically restores backups, control file copies, and data file copies from channels that can read the files on tape or a local file system. For example, if channel <code class="codeph">ch1</code> connected to <code class="codeph">inst1</code> can read log 1000 from its tape drive, but channel <code class="codeph">ch2</code> connected to <code class="codeph">inst2</code> cannot read the same log from its tape drive, then <code class="codeph">ch2</code> cannot participate in restoring the log and so <code class="codeph">ch1</code> restores the log. Autolocation is automatically enabled when the channels have different <code class="codeph">PARMS</code> or <code class="codeph">CONNECT</code> settings.
                  </p>
                  <p>If data file names are symbolic links, then the control file stores the file names of the link files but RMAN performs I/O on the data files pointed to by the link files. If a link file is lost and you restore a data file without re-creating the symbolic link, then RMAN restores the data file to the location of the link file rather than to the location pointed to by the link file.</p>
                  <div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-7648D567-3EEA-4A1B-B0D3-45460A104162">
                     <p class="notep1">See Also:</p>
                     <p><a href="../bradv/rman-data-repair-concepts.html#BRADV30001" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide </span></a>for details on restore failover
                     </p>
                  </div>
                  <p><span class="bold">Restore Operations for CDBs and PDBs</span><a id="d82198e328" class="indexterm-anchor"></a><a id="d82198e332" class="indexterm-anchor"></a><a id="d82198e336" class="indexterm-anchor"></a><a id="d82198e340" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">RESTORE</code> command can be used to restore a whole multitenant container database (CDB), the root, one or more pluggable databases (PDBs), and tablespaces in a PDB. The information in this section about restoring data is also applicable to restoring CDBs and PDBs.
                  </p>
                  <p>The process of restoring CDBs and PDBs is similar to that of non-CDBs. The only differences are in connecting to the database and in the commands used. To restore a whole CDB, the root, or multiple PDBs, you connect to the root. To restore a particular PDB, you connect to that PDB. While restoring PDBs, use <code class="codeph">RESTORE PLUGGABLE DATABASE</code>. To restore a CDB, use <code class="codeph">RESTORE DATABASE</code> and to restore the root, use <code class="codeph">RESTORE DATABASE ROOT</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-EFA9690C-7997-40F0-83A5-E68819C273EB">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></p>
                        </li>
                        <li>
                           <p><a href="../bradv/rman-complete-database-recovery.html#BRADV-GUID-D908719C-9D46-4084-850C-0F81C25094EB" target="_blank"><span><cite>Oracle Database Backup and Recovery Userâ€™s Guide</cite></span></a> for more information on how to restore CDBs and PDBs
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Restore Operations for Sparse Databases</span></p>
                  <p>RMAN also enables you to perform restore for both multitenant and non-CDB sparse databases with the <code class="codeph">COMPATIBLE</code> initialization parameter set to 12.2 or higher. RMAN lets you restore a data file, tablespace, PDB, or CDB by identifying the most relevant backup set or image copy of the selected sparse backup. To restore a sparse backup, run the <code class="codeph">RESTORE FROM SPARSE</code> command.
                  </p>
                  <p></p>
                  <p>For non-temp sparse files, if the sparse data file was originally on a sparse disk group but the alternate location specified by <code class="codeph">DB_CREATE_FILE_DEST</code> is a non-sparse disk group, then RMAN creates the data file in its original disk group (instead of the diskgroup specified by <code class="codeph">DB_CREATE_FILE_DEST</code>)
                  </p>
                  <p><span class="bold">Restore Operations Using Encrypted Backup Sets</span></p>
                  <p><a id="d82198e400" class="indexterm-anchor"></a>As explained in <span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>"</span>, how RMAN handles encrypted backup sets during restore operations depends on the encryption mode with which the backup was created. You can use <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> and <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> to manage the RMAN backup encryption settings for your database. Note the following restore considerations:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a id="d82198e422" class="indexterm-anchor"></a>For transparent-mode encrypted backups, the required passwords must be available in the Oracle software keystore. The same keystore used when creating the backup must be open and available when restoring it. If a password-based keystore was used while creating the backups, then you must use <code class="codeph">SET DECRYPTION WALLET OPEN IDENTIFIED BY</code> to provide the password used to open the keystore. 
                        </p>
                     </li>
                     <li>
                        <p><a id="d82198e430" class="indexterm-anchor"></a>For password-mode encrypted backups, the required passwords must be provided with <code class="codeph">SET DECRYPTION</code>.
                        </p>
                     </li>
                     <li>
                        <p>For dual-mode encrypted backups, the required passwords must be available in the Oracle software keystore or provided with <code class="codeph">SET DECRYPTION</code>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-6C245F3A-6EDA-4339-994F-5DD3315343FA">
                     <p class="notep1">Note:</p>
                     <p>Keystore-based encryption is more secure than password-based encryption because no passwords are involved. Use password-based encryption only when absolutely necessary because your backups must be transportable.</p>
                  </div>
                  <p><span class="bold">Restore Failover</span></p>
                  <p>If a backup piece, image copy or proxy copy is inaccessible or if a block is corrupted, then RMAN performs <a id="d82198e453" class="indexterm-anchor"></a><a id="d82198e455" class="indexterm-anchor"></a><a id="d82198e459" class="indexterm-anchor"></a><a id="d82198e463" class="indexterm-anchor"></a><a id="d82198e467" class="indexterm-anchor"></a>restore failover. The <code class="codeph">RESTORE</code> command automatically looks for another usable copy of a backup or image copy on the same device and other devices. If no usable copies are available, then RMAN searches for previous backups. RMAN continuously searches for previous usable backups until it has exhausted all possibilities. RMAN automatically uses eligible backups from previous database incarnations if required.
                  </p>
                  <p>If you are restoring a data file for which no backups are available, then RMAN creates an empty data file with the checkpoint change as creation SCN. During recovery, all archived redo log files back to the creation of the data file are restored, and all changes during the history of the data file are reapplied to re-create its contents.</p>
                  <div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-897548D0-B773-41A9-BDA6-3BE44939323E">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>"</span> and the extended discussion in <a href="../bradv/backing-up-database-advanced.html#BRADV72450" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a></p>
                  </div>
                  <p><span class="bold">Location of Restored Data Files</span></p>
                  <p><a id="d82198e491" class="indexterm-anchor"></a>If you restore data files to the default location, then RMAN overwrites files with the same file names. By default, RMAN does not restore a data file if it is in the correct place and its header contains the expected data. RMAN does not scan the data file body for corrupt blocks.
                  </p>
                  <p>If RMAN detects that the default file name cannot be used (for example, the file may be an Oracle-managed file or on an <a id="d82198e498" class="indexterm-anchor"></a>Automatic Storage Management disk group), then RMAN attempts to create a new file in the same location or disk group.
                  </p>
                  <p>RMAN restores data files to the location currently stored in the recovery catalog. This default behavior eliminates problems with restoring data files to locations that may have become obsolete since the time of the original backup. It also means that if you have changed the location of the data files from their original backup location, that RMAN restores the files to the most current or changed location. </p>
                  <p>To restore files to a nondefault location, use <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">NEWNAME</code> commands to rename the restored files and then use a <code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code> command to make the restored files current (as illustrated in <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEAAH">Example 3-25</a>). If you do not issue <code class="codeph">SWITCH</code> commands, then RMAN considers the restored files as valid copies for use in future restore operations. <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCJADE" title="Explains the interaction between SET NEWNAME, SWITCH, and RESTORE">Table 3-8</a> describes the behavior of the <code class="codeph">RESTORE</code>, <code class="codeph">SET NEWNAME</code>, and <code class="codeph">SWITCH</code> commands.
                  </p>
                  <div class="tblformal" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCJADE">
                     <p class="titleintable">Table 3-8 SET NEWNAME, SWITCH, and RESTORE</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SET NEWNAME, SWITCH, and RESTORE" summary="Explains the interaction between SET NEWNAME, SWITCH, and RESTORE" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d82198e551">SET NEWNAME Run</th>
                              <th align="left" valign="bottom" width="17%" id="d82198e554">SWITCH Run</th>
                              <th align="left" valign="bottom" width="67%" id="d82198e557">RESTORE Behavior</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d82198e562" headers="d82198e551 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e562 d82198e554 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d82198e562 d82198e557 ">
                                 <p>RMAN restores the files to the most recent location stored in the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d82198e572" headers="d82198e551 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e572 d82198e554 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d82198e572 d82198e557 ">
                                 <p>RMAN restores the files to the path names specified by <code class="codeph">SET</code> <code class="codeph">NEWNAME</code>. RMAN replaces the current data file names in the control file with the names of the restored files. RMAN records the data files with the old names as data file copies.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d82198e588" headers="d82198e551 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e588 d82198e554 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d82198e588 d82198e557 ">
                                 <p>RMAN restores the files to the path names specified by <code class="codeph">SET</code> <code class="codeph">NEWNAME</code>. RMAN does not update the current data file names in the control file. The restored files are listed in the RMAN repository as data file copies.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>Because temp files cannot be backed up and because no redo is ever generated for them, RMAN never restores or recovers temp files. RMAN does track the names of temp files, but only so that it can automatically re-create them when needed.</p>
                  <p><span class="bold">RMAN Behavior When Restoring Control Files</span></p>
                  <p>The behavior of RMAN when restoring control files depend on a variety of factors, which are summarized in <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a>. Required commands and options for restoring autobackups are summarized in <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a>.
                  </p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD">
                     <p class="titleintable">Table 3-9 RESTORE CONTROLFILE Scenarios</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="RESTORE CONTROLFILE Scenarios" summary="Describes restoration of control files under various scenarios" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="12%" id="d82198e634">RMAN Connection</th>
                              <th align="left" valign="bottom" width="12%" id="d82198e637">RESTORE CONTROLFILE;</th>
                              <th align="left" valign="bottom" width="25%" id="d82198e640">RESTORE CONTROLFILE FROM AUTOBACKUP;</th>
                              <th align="left" valign="bottom" width="25%" id="d82198e643">RESTORE CONTROLFILE ... TO 'filename';</th>
                              <th align="left" valign="bottom" width="25%" id="d82198e649">RESTORE CONTROLFILE ... FROM 'media_handle' or TAG 'user_tag';</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d82198e660" headers="d82198e634 ">
                                 <p>No catalog, target database started in <code class="codeph">NOMOUNT</code> state
                                 </p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d82198e660 d82198e637 ">
                                 <p>Error. Must specify <code class="codeph">FROM AUTOBACKUP</code>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e660 d82198e640 ">
                                 <p>Restores to <code class="codeph">CONTROL_FILES</code> locations. See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> for required commands and options.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e660 d82198e643 ">
                                 <p>Must specify <code class="codeph">FROM AUTOBACKUP</code>. Restores only to <span class="italic"><code class="codeph">filename</code></span>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e660 d82198e649 ">
                                 <p>First run <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code>. Restores from specified file (cannot restore from <code class="codeph">TAG</code>). If <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>' not used, restores to all <code class="codeph">CONTROL_FILES</code> locations.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d82198e719" headers="d82198e634 ">
                                 <p>No catalog, target database mounted or open</p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d82198e719 d82198e637 ">
                                 <p>Error. Must use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>', where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e719 d82198e640 ">
                                 <p>Error. Must use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>', where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e719 d82198e643 ">
                                 <p>Restores only to <span class="italic"><code class="codeph">filename</code></span>, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e719 d82198e649 ">
                                 <p>RMAN issues error <a id="d82198e773" class="indexterm-anchor"></a><a id="d82198e775" class="indexterm-anchor"></a><code class="codeph">RMAN-06496</code>. Use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>' instead.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d82198e790" headers="d82198e634 ">
                                 <p>Catalog, target database started in <code class="codeph">NOMOUNT</code> state
                                 </p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d82198e790 d82198e637 ">
                                 <p>Restores to <code class="codeph">CONTROL_FILES</code> locations. Run <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code> only if <code class="codeph">DB_NAME</code> not unique in catalog.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e790 d82198e640 ">
                                 <p>Only use with recovery catalog for testing.</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e790 d82198e643 ">
                                 <p>Restores only to <span class="italic"><code class="codeph">filename</code></span>, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e790 d82198e649 ">
                                 <p>Restores from specified file. If <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>' not used, restores to all <code class="codeph">CONTROL_FILES</code> locations.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d82198e844" headers="d82198e634 ">
                                 <p>Catalog, target database mounted or open</p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d82198e844 d82198e637 ">
                                 <p>Error. Must use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>', where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e844 d82198e640 ">
                                 <p>Do not use with recovery catalog.</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e844 d82198e643 ">
                                 <p>Restores only to <span class="italic"><code class="codeph">filename</code></span>, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e844 d82198e649 ">
                                 <p>RMAN issues error <a id="d82198e884" class="indexterm-anchor"></a><a id="d82198e886" class="indexterm-anchor"></a><code class="codeph">RMAN-06496</code>. Use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>' instead.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>If you use RMAN in a <a id="d82198e902" class="indexterm-anchor"></a>Data Guard environment, then RMAN transparently converts primary control files to standby control files and vice versa. RMAN automatically updates file names for data files, online redo logs, standby redo logs, and temp files when you issue <code class="codeph">RESTORE</code> and <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>. The recovery catalog always contains the correct information about the backup file names for each database, as explained in <span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJIIGD">RMAN Backups in a Data Guard Environment</a>"</span>.
                  </p>
                  <p><span class="bold">Control File and Server Parameter File Autobackup Options</span></p>
                  <p><a id="d82198e923" class="indexterm-anchor"></a><a id="d82198e927" class="indexterm-anchor"></a><a id="d82198e931" class="indexterm-anchor"></a>When restoring an autobackup, the commands and options that you use depend on the autobackup type (control file or server parameter file) and location (inside or outside fast recovery area). The options are summarized in <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a>.
                  </p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD">
                     <p class="titleintable">Table 3-10 RESTORE ... FROM AUTOBACKUP</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="RESTORE ... FROM AUTOBACKUP" summary="Describes restoration from autobackups using various options" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="11%" id="d82198e955">Restore Object</th>
                              <th align="left" valign="bottom" width="16%" id="d82198e958">Autobackup Location</th>
                              <th align="left" valign="bottom" width="15%" id="d82198e961">Run SET DBID?</th>
                              <th align="left" valign="bottom" width="17%" id="d82198e964">Specify RECOVERY AREA on RESTORE?</th>
                              <th align="left" valign="bottom" width="20%" id="d82198e967">Specify DB_NAME or DB_UNIQUE_NAME on RESTORE?</th>
                              <th align="left" valign="bottom" width="22%" id="d82198e970">Run SET CONTROLFILE AUTOBACKUP FORMAT?</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="11%" id="d82198e975" headers="d82198e955 ">
                                 <p>SPFILE</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d82198e975 d82198e958 ">
                                 <p>Recovery area</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d82198e975 d82198e961 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e975 d82198e964 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d82198e975 d82198e967 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d82198e975 d82198e970 ">
                                 <p>No</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="11%" id="d82198e994" headers="d82198e955 ">
                                 <p>SPFILE</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d82198e994 d82198e958 ">
                                 <p>Outside recovery area</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d82198e994 d82198e961 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e994 d82198e964 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d82198e994 d82198e967 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d82198e994 d82198e970 ">
                                 <p>Only if autobackup is not in default location</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="11%" id="d82198e1013" headers="d82198e955 ">
                                 <p>Control file</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d82198e1013 d82198e958 ">
                                 <p>Recovery area</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d82198e1013 d82198e961 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e1013 d82198e964 ">
                                 <p>Only if autobackup is in noncurrent recovery area</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d82198e1013 d82198e967 ">
                                 <p>Only if autobackup is in noncurrent recovery area and uses a noncurrent <code class="codeph">DB_UNIQUE_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d82198e1013 d82198e970 ">
                                 <p>No</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="11%" id="d82198e1034" headers="d82198e955 ">
                                 <p>Control file</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d82198e1034 d82198e958 ">
                                 <p>Outside recovery area</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d82198e1034 d82198e961 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e1034 d82198e964 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d82198e1034 d82198e967 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d82198e1034 d82198e970 ">
                                 <p>Only if autobackup is not in default location</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><span class="bold">Restoring Control Files From Archived Backups in NOCATALOG Mode</span></p>
                  <p>You can offload backups stored on disk either to tape or Oracle Cloud. When control file autobackup is enabled, and you use one of the following commands to archive disk backups to tape or Oracle Cloud, RMAN includes a backup of the latest control file to tape or Oracle Cloud:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">BACKUP BACKUPSET ALL</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">BACKUP RECOVERY AREA</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">BACKUP DATAFILE COPY ALL</code></p>
                     </li>
                  </ul>
                  <p>To restore these backups, when a recovery catalog is not used, you must configure one or more disk and SBT channels (for tape or Oracle Cloud).</p>
                  <p>See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-24D7B81E-CECC-44EF-B6B7-6DD2F4766423">Example 3-29</a>.
                  </p>
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CFAFGIJJ"><span class="bold">Restoring Data Files and Control Files Using Files from a Remote Host</span><a id="d82198e1080" class="indexterm-anchor"></a><a id="d82198e1084" class="indexterm-anchor"></a><a id="d82198e1088" class="indexterm-anchor"></a><a id="d82198e1092" class="indexterm-anchor"></a></p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span>, you can restore a database, data files, control files, tablespaces, or an spfile using files from a remote database. RMAN connects to the remote database and transfers the required files, over the network, to the target database using backup sets. This is very useful in a Data Guard environment. You can restore data files on a primary database by connecting to a standby database over the network. You can also restore data files on a standby database by connecting to the primary database.
                  </p>
                  <p>While restoring files from a remote host over the network, you must use <code class="codeph">FROM SERVICE</code> to specify the service name of the remote host from which the files are obtained. Optionally, use <code class="codeph">SECTION SIZE</code> to restore files from the source database as multisection backup sets. You can compress the transferred files by specifying the <code class="codeph">USING COMPRESSED BACKUPSET</code>.
                  </p>
                  <p>To encrypt the files being transferred from the source database, use the <code class="codeph">SET ENCRYPTION</code> command before the RESTORE command. You can also use <code class="codeph">SET COMPRESSION ALGORITHM</code> to specify the algorithm used to compress the backup sets before transferring them over the network.
                  </p>
                  <p><span class="bold">Prerequisites for Restoring Files Using a Remote Host</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The password file on the source database and the target database must be the same.</p>
                     </li>
                     <li>
                        <p>The <code class="codeph">tnsnames.ora</code> file in the target database must contain an entry that corresponds to the remote database.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-EAECBC7B-CE1C-4344-924C-FBEDBFF6ECC8">Syntax</p>
                  <p><a id="d82198e1137" class="indexterm-anchor"></a><a id="d82198e1141" class="indexterm-anchor"></a><span class="bold"><span class="italic">restore</span>::=</span></p>
                  <div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-13F7CB53-33B9-4CF4-B2C7-6EB2C07473F1"><img src="img/restore.gif" alt="Description of restore.eps follows" title="Description of restore.eps follows" longdesc="img_text/restore.html"><br><a href="img_text/restore.html">Description of the illustration restore.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDIJJJD">restoreObject::=</a></span>, <span class="italic"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCEJCJ">restoreSpecOperand::=</a></span>, <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>, <span class="italic"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A__BABEDABD">untilClause::=</a></span>)
                  </p>
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDIJJJD"><a id="d82198e1171" class="indexterm-anchor"></a><a id="d82198e1175" class="indexterm-anchor"></a><span class="bold"><span class="italic">restoreObject</span>::=</span></p>
                  <div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-A2277858-B4FD-425A-B3D1-CE25FADD42C1"><img src="img/restoreobject.gif" alt="Description of restoreobject.eps follows" title="Description of restoreobject.eps follows" longdesc="img_text/restoreobject.html"><br><a href="img_text/restoreobject.html">Description of the illustration restoreobject.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">archivelogRecordSpecifier::=</a></span>, <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec::=</a></span>, <span class="italic"><a href="foreignFileSpec.html#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3__CIHFBDBF">foreignFileSpec::=</a></span>)
                  </p>
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCEJCJ"><a id="d82198e1201" class="indexterm-anchor"></a><a id="d82198e1203" class="indexterm-anchor"></a><span class="bold"><span class="italic">restoreSpecOperand</span>::=</span></p>
                  <div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-BA92DFD7-1618-4B78-A4F0-1247AF3194B9"><img src="img/restorespecoperand.gif" alt="Description of restorespecoperand.eps follows" title="Description of restorespecoperand.eps follows" longdesc="img_text/restorespecoperand.html"><br><a href="img_text/restorespecoperand.html">Description of the illustration restorespecoperand.eps</a></div>
                  <!-- class="figure" -->
                  <p><a id="d82198e1215" class="indexterm-anchor"></a><a id="d82198e1219" class="indexterm-anchor"></a><span class="bold"><span class="italic">autoBackupOptList</span>::=</span></p>
                  <div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-805921B0-4F3B-4C1C-AF5D-103F0AAF2A83"><img src="img/autobackupoptlist.gif" alt="Description of autobackupoptlist.eps follows" title="Description of autobackupoptlist.eps follows" longdesc="img_text/autobackupoptlist.html"><br><a href="img_text/autobackupoptlist.html">Description of the illustration autobackupoptlist.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-B62EA39D-58EE-46D2-88E7-AF7EF5207F25">Semantics</p>
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1017375"><span class="bold"><span class="italic">restore</span></span></p>
                  <p>This clause enables you to select which files you want to restore and specify parameters that control the behavior of the restore operation.</p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-8DE95FE2-A16D-4EF1-8B52-859C89D4AB6E">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes RESTORE command parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d82198e1247">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d82198e1250">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1255" headers="d82198e1247 ">
                                 <p><span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB">restoreObject</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1255 d82198e1250 ">
                                 <p>Specifies the files to be restored.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1265" headers="d82198e1247 ">
                                 <p><span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865">restoreSpecOperand</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1265 d82198e1250 ">
                                 <p>Specifies options for the <span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB">restoreObject</a></code></span> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1280" headers="d82198e1247 ">
                                 <p><code class="codeph">AS ENCRYPTED</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1280 d82198e1250 ">
                                 <p></p>
                                 <p>Restores backups of a database or specified tablespaces by encrypting the restored data file blocks. This is useful when you want use existing RMAN backups to move an on-premise database to Oracle Cloud. The on-premise database and its backups are unencrypted. Restoring these backups using <code class="codeph">AS ENCRYPTED</code> ensures that the Oracle Cloud database is encrypted. RMAN uses the database key to encrypt the data.
                                 </p>
                                 <p>The target database must be mounted. The wallet must be created and open before you run the <code class="codeph">RESTORE...AS ENCRYPTED</code> command.
                                 </p>
                                 <p>To use this clause, the <code class="codeph">COMPATIBLE</code> parameter of the target database must be set to 12.2 or higher and the backups used must be created with <code class="codeph">COMPATIBLE</code> set to 12.2 or higher. 
                                 </p>
                                 <p><span class="bold">Note:</span> This clause is supported only when restoring whole databases or tablespaces. 
                                 </p>
                                 <p><span class="bold">Note:</span> You cannot use the <code class="codeph">DATAFILE</code>, <code class="codeph">FOREIGN DATAFILE</code>, <code class="codeph">ARCHIVELOG</code>, <code class="codeph">FOREIGN ARCHIVELOG</code>, <code class="codeph">SPFILE</code>, and <code class="codeph">CONTROLFILE</code> clauses with <code class="codeph">AS ENCRYPTED</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1335" headers="d82198e1247 ">
                                 <p><code class="codeph">AS DECRYPTED</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1335 d82198e1250 ">
                                 <p></p>
                                 <p>Restores backups of an encrypted database or tablespace such that the restored data blocks are not encrypted. This is useful when moving a database on Oracle Cloud to an on-premise installation by using existing RMAN backups. Encryption is used for data files and backups fon Oracle Cloud. You can choose to restore the backups of the encrypted database or tablespace that were created on Oracle Cloud and create an on-premise database that does not use encryption. The target database must be mounted.</p>
                                 <p>You can only restore tablespaces encrypted with the database key as unencrypted backups. This includes tablespaces that were previously restored with encryption or tablespaces created on Oracle Cloud without an explicit encryption clause. Tablespaces that are created as encrypted or that are explicitly rekeyed after a restore operation with encryption will not be decrypted. </p>
                                 <p>To use this clause, the <code class="codeph">COMPATIBLE</code> parameter must be set to 12.2 or higher and the backups must be created with <code class="codeph">COMPATIBLE</code> set to 12.2 or higher.
                                 </p>
                                 <p><span class="bold">Note:</span> It is recommended that you do not decrypt the <code class="codeph">SYSTEM</code> and <code class="codeph">UNDO</code> tablespaces after they have been encrypted. This would result in rollback segments for encrypted tablespaces being decrypted.
                                 </p>
                                 <p><span class="bold">Note:</span> This clause is supported only when restoring whole databases or tablespaces. 
                                 </p>
                                 <p><span class="bold">Note:</span> You cannot use the <code class="codeph">DATAFILE</code>, <code class="codeph">FOREIGN DATAFILE</code>, <code class="codeph">ARCHIVELOG</code>, <code class="codeph">FOREIGN ARCHIVELOG</code>, <code class="codeph">SPFILE</code>, and <code class="codeph">CONTROLFILE</code> clauses with <code class="codeph">AS DECRYPTED</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1394" headers="d82198e1247 ">
                                 <p><code class="codeph">CHANNEL</code> <span class="italic"><code class="codeph">channel_id</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1394 d82198e1250 ">
                                 <p>Refer to the <span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865">restoreSpecOperand</a></code></span> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1411" headers="d82198e1247 ">
                                 <p><code class="codeph">CHECK LOGICAL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1411 d82198e1250 ">
                                 <p>Tests data and index blocks that pass physical corruption checks for logical corruption, for example, corruption of a row piece or index entry. If RMAN finds logical corruption, then it logs the block in the alert log and server session trace file.</p>
                                 <p>If the total number of physical and logical corruptions detected in a file is less than its <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">MAXCORRUPT</code> setting, then the RMAN command completes and the database populates the <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code> view with corrupt block ranges. If <code class="codeph">MAXCORRUPT</code> is exceeded, then the command terminates without populating the views.
                                 </p>
                                 <p>When restoring a backup data file, RMAN honors the <code class="codeph">DB_BLOCK_CHECKSUM</code> initialization parameter setting. RMAN clears the checksum if <code class="codeph">DB_BLOCK_CHECKSUM</code> is set to <code class="codeph">false</code>. If set to <code class="codeph">typical</code>, then RMAN verifies the checksum when restoring from the backup and writing to the data file. If the initialization parameter <code class="codeph">DB_BLOCK_CHECKSUM=typical</code>, and if <code class="codeph">MAXCORRUPT</code> is not set, then specifying <code class="codeph">CHECK LOGICAL</code> detects all types of corruption that are possible to detect.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">MAXCORRUPT</code> setting represents the total number of physical and logical corruptions permitted on a file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1466" headers="d82198e1247 ">
                                 <p><code class="codeph">DEVICE&nbsp;TYPE </code><span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1466 d82198e1250 ">
                                 <p>Allocates automatic channels for the specified device type only. For example, if you configure automatic disk and tape channels, and issue <code class="codeph">RESTORE ... DEVICE TYPE DISK</code>, then RMAN allocates only disk channels. You must configure a device type by using <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> (except for <code class="codeph">DISK</code>, which is preconfigured) before specifying the <code class="codeph">DEVICE TYPE</code> option.
                                 </p>
                                 <p><span class="bold">Note:</span> You cannot manually allocate channels within a <code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> block and then run <code class="codeph">RESTORE</code> with the <code class="codeph">DEVICE TYPE</code> clause.
                                 </p>
                                 <p> <span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABHDFAD">deviceSpecifier</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1517" headers="d82198e1247 ">
                                 <p><code class="codeph">FORCE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1517 d82198e1250 ">
                                 <p>Overrides the restartable restore feature and restores all files regardless of whether they must be restored. If you do not specify <code class="codeph">FORCE</code>, then RMAN restores a file only if its header information does not match the information in the control file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1528" headers="d82198e1247 "><code class="codeph">FROM COPY NUMBER <span class="codeinlineitalic">integer</span></code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e1528 d82198e1250 ">Specifies the copy number of the backup piece within a set of duplexed backup pieces. If no duplexing was performed, the copy number is <code class="codeph">1</code>. Otherwise, the copy number value ranges from <code class="codeph">2</code> to <code class="codeph">4</code>.
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1545" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM&nbsp;BACKUPSET</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1545 d82198e1250 ">
                                 <p>Restores from backup sets only. By default <code class="codeph">RESTORE</code> chooses the file copy or backup set that needs the least media recovery.
                                 </p>
                                 <p>If you use the <code class="codeph">FROM BACKUPSET</code> option, then channels for the appropriate type of storage devices must be allocated for the backup sets that must be restored. For example, if needed backups are only available on tape, and no <code class="codeph">sbt</code> channels have been allocated, then RMAN cannot find a candidate backup set to restore, and the <code class="codeph">RESTORE</code> command fails. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1568" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM&nbsp;DATAFILECOPY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1568 d82198e1250 ">
                                 <p>Restores data file copies only. By default <code class="codeph">RESTORE</code> chooses the file copy or backup set that needs the least media recovery. If you use the <code class="codeph">FROM DATAFILECOPY</code> option, then the allocated channels must be of <code class="codeph">DEVICE TYPE DISK</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1586" headers="d82198e1247 ">
                                 <p></p><code class="codeph">FROM SPARSE</code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e1586 d82198e1250 ">Restores data files from the appropriate sparse backup set or image copy of the selected backup. The restored data files are sparse. If no sparse backup is available for this operation, the restore will fail.
                                 <p>The database compatibility parameter must be set to 12.2 or higher to perform <code class="codeph">RESTORE FROM SPARSE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1598" headers="d82198e1247 "><code class="codeph">FROM NONSPARSE</code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e1598 d82198e1250 ">
                                 <p>Restores data files from the appropriate non-sparse backup. This selected backup can be in either the backup set format or image copy format. The restored data files are non-sparse. If no non-sparse backup is available for this operation, the restore will fail.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1605" headers="d82198e1247 ">
                                 <p> <code class="codeph">&nbsp;&nbsp;&nbsp;INSTANT FULL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1605 d82198e1250 ">
                                 <p>This clause is reserved for a future release.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1614" headers="d82198e1247 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;INSTANT SPARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1614 d82198e1250 ">
                                 <p>This clause is reserved for a future release.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1622" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM PLATFORM</code> <span class="italic"><code class="codeph">platform</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1622 d82198e1250 ">
                                 <p>Specifies the name of the platform on which the cross platform backup was created. Cross-platform data transportation is supported starting with Oracle Database 12<span class="italic">c </span>Release 1 (12.1). This clause must be accompanied by a <span class="italic"><code class="codeph">foreignFileSpec</code></span> that specifies the backup sets that contain the data to be restored. The <code class="codeph">FROM PLATFORM</code> clause is optional. You can restore a cross-platform backup by specifying only a <span class="italic"><code class="codeph">foreignFileSpec</code></span>. However, if you specify a platform name using <code class="codeph">FROM PLATFORM</code>, the name must match the platform identifier stored in the cross-platform backup header.
                                 </p>
                                 <p></p>
                                 <p>To perform cross-platform tablespace transport by connecting over the network to a remote database, use the <code class="codeph">FROM PLATFORM</code> clause with the <code class="codeph">FROM SERVICE</code> clause. RMAN then creates the required backup sets on the source database, transfers them to the destination database, and then restores them on the destination.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1660" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM PREPLUGIN</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1660 d82198e1250 ">
                                 <p>Restores data files and archived redo log files in the target CDB by using preplugin backups that were created before a source non-CDB or PDB was plugged in to the target CDB as a PDB.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1668" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM SERVICE</code> <span class="italic"><code class="codeph">service_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1668 d82198e1250 ">
                                 <p>Restores data files, control files, or the spfile on the target database using files transferred over the network from a remote database. <span class="italic"><code class="codeph">service_name</code></span> specifies the service name of the remote database.
                                 </p>
                                 <p></p>
                                 <p>To perform cross-platform tablespace transport by connecting over the network to a remote database, use the <code class="codeph">FROM PLATFORM</code> clause with the <code class="codeph">FROM SERVICE</code> clause. RMAN connects to the source database, creates the required backups, transfers them to the destination, and then restores the backups on the destination.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1693" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM&nbsp;TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1693 d82198e1250 ">
                                 <p>Refer to the <span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865">restoreSpecOperand</a></code></span> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1710" headers="d82198e1247 ">
                                 <p><code class="codeph">FILE_NAME_CONVERT</code> <code class="codeph"><span class="codeinlineitalic">string_pattern</span></code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1710 d82198e1250 ">
                                 <p>Specifies how Oracle Database file names on the source CDB map to the corresponding files on the destination CDB during cross-platform transport of a PDB to a destination CDB.</p>
                                 <p>Specifies pairs of strings used to convert the file names. You can use as many pairs of source and destination replacement strings as required. For example, you can set the string pattern to a value such as:</p>
                                 <p><code class="codeph">FILE_NAME_CONVERT = ('str1','str2','str3', 'str4' ...)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1727" headers="d82198e1247 ">
                                 <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFAJFI"><code class="codeph">PREVIEW</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1727 d82198e1250 ">
                                 <p>Reportsâ€”but does not restoreâ€”the backups and archived redo log files that RMAN could use to restore and recover the database to the specified time. RMAN queries the metadata and does not actually read the backup files.</p>
                                 <p>The <code class="codeph">RESTORE ... PREVIEW</code> output is in the same format as the <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">BACKUP</code> output (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDEFIAA">Example 3-31</a>).
                                 </p>
                                 <p><a id="d82198e1750" class="indexterm-anchor"></a><a id="d82198e1752" class="indexterm-anchor"></a>Some media managers provide status information to RMAN about which backups are offsite. Offsite backups are stored in a remote location, such as a secure storage facility, and cannot be used without retrieving media.
                                 </p>
                                 <p>Offsite backups are marked as <code class="codeph">AVAILABLE</code> in the RMAN repository even though the media must be retrieved from storage before the backup can be restored. If RMAN attempts to restore a offsite backup, then the restore operation fails. <code class="codeph">RESTORE ... PREVIEW</code> can identify backups needed for a <code class="codeph">RESTORE</code> operation that are stored on media that requires retrieval. The output indicates whether backups are stored offsite.
                                 </p>
                                 <p>If a needed backup is stored offsite, but the media manager does not support offsite backups, then your options are:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Use <code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code> <code class="codeph">... UNAVAILABLE</code> to prevent RMAN from selecting the needed offsite backups, and attempt the <code class="codeph">RESTORE ... PREVIEW</code> operation again to determine whether RMAN selects another offsite backup. When RMAN does not select any offsite backups, you can perform the restore operation.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Use <code class="codeph">RESTORE ... PREVIEW</code> with the <code class="codeph">RECALL</code> option.
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">See Also:</span> <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code>, specifically the <code class="codeph">BACKUPS</code> and <code class="codeph">SUMMARY</code> options, and the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> <code class="codeph">... VALIDATE HEADER</code> command
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1818" headers="d82198e1247 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;RECALL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1818 d82198e1250 ">
                                 <p>Instructs the media manager to retrieve the backup media needed for the specified restore operation from offsite storage (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDDHJHH">Example 3-32</a>).
                                 </p>
                                 <p></p>
                                 <p>When restoring backups that are stored in archive storage in Oracle Cloud Infrastructure Classic, use this option to first recall backups before you restore them.</p>
                                 <p><span class="bold">Note:</span> This option only works if your media manager supports this functionality. You can use <code class="codeph">RESTORE ... PREVIEW</code> periodically to monitor whether the needed backups are stored locally again.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1839" headers="d82198e1247 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;SUMMARY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1839 d82198e1250 ">
                                 <p>Summarizes the backups that RMAN would restore. The output is in the same format as the output of the <code class="codeph">LIST BACKUPS ... SUMMARY</code> command.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1850" headers="d82198e1247 ">
                                 <p><code class="codeph">SECTION SIZE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1850 d82198e1250 ">
                                 <p>Restores a multi-section backup.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1858" headers="d82198e1247 ">
                                 <p></p>
                                 <p><code class="codeph">SKIP PREPLUGIN</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1858 d82198e1250 ">
                                 <p>Excludes preplugin data files.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1867" headers="d82198e1247 ">
                                 <p><code class="codeph">SKIP READONLY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1867 d82198e1250 ">
                                 <p>Does not restore read-only files.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1875" headers="d82198e1247 "><code class="codeph">TO RESTORE POINT</code> <span class="italic"><code class="codeph">restore_point_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e1875 d82198e1250 ">
                                 <p>Specifies a restore point, with the SCN at which the restore point was created as the upper, inclusive limit. Because the limit is inclusive, RMAN selects only files that it can use to restore files up to <span class="italic">and including</span> the SCN corresponding to the restore point.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1889" headers="d82198e1247 ">
                                 <p><span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1889 d82198e1250 ">
                                 <p>Limits the selection to backup sets or file copies that are suitable for a point-in-time recovery to the specified time, SCN, or log sequence number. </p>
                                 <p>In the absence of any other criteria, RMAN selects the most current file copy or backup set to restore. The time specified in the <code class="codeph">UNTIL</code> clause must fall within the current database incarnation.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1914" headers="d82198e1247 ">
                                 <p><code class="codeph">USING [COMPRESSED] BACKUPSET</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1914 d82198e1250 ">
                                 <p>Specifies that the files being restored, over the network, must be transferred from the remote database as compressed backup sets. By default, RMAN transfers files as backup sets. Therefore, even when you omit the <code class="codeph">USING BACKUPSET</code> clause, the files are transferred as backup sets. By default, compression is performed by using the compression algorithm that is set in the RMAN configuration. You can use a different compression algorithm by executing the <code class="codeph">SET COMPRESSION ALGORITHM</code> command before executing the <code class="codeph">RESTORE</code> command.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1931" headers="d82198e1247 ">
                                 <p><code class="codeph">VALIDATE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1931 d82198e1250 ">
                                 <p>RMAN identifies which backup sets, data file copies, and archived redo log files must be restored, and then validates them (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDHIEJA">Example 3-33</a>). No files are restored.
                                 </p>
                                 <p>For files on both disk and tape, RMAN reads all blocks in the backup piece or image copy. RMAN also validates offsite backups. The validation is identical to a real restore operation except that RMAN does not write output files.</p>
                                 <p><span class="bold">Note:</span> If you use <code class="codeph">RESTORE</code> with the <code class="codeph">VALIDATE</code> option, then the database can be open with data files online.
                                 </p>
                                 <p><span class="bold">See Also:</span> <code class="codeph"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E">VALIDATE</a></code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1961" headers="d82198e1247 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;HEADER</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1961 d82198e1250 ">
                                 <p>Reports and validatesâ€”but does not restoreâ€”the backups that RMAN could use to restore to the specified time.</p>
                                 <p>When you specify this option, RMAN performs the same functions as when you run <code class="codeph">RESTORE</code> with the <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFAJFI">PREVIEW</a></code> option. However, in addition to listing the files needed for restore and recovery, RMAN validates the backup file headers to determine whether the files on disk or in the media management catalog correspond to the metadata in the RMAN repository.
                                 </p>
                                 <p><span class="bold">See Also:</span> The descriptions of the <code class="codeph">RESTORE</code> <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFAJFI">PREVIEW</a></code> option and the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> <code class="codeph">... VALIDATE HEADER</code> option
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB"><span class="bold"><span class="italic">restoreObject</span></span></p>
                  <p>This subclause specifies the objects to be restored: control files, data files, archived redo log files, or the server parameter file. RMAN does not support backup and recovery of the change tracking file. RMAN re-creates the change tracking file after database restore and recovery; the next incremental backup after any recovery can use the file. Thus, restore and recovery has no user-visible effect on change tracking.</p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-4DD39ED2-61C4-486B-89CD-377539B3CCA6">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes RESTORE command restoreObject parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d82198e2010">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d82198e2013">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2018" headers="d82198e2010 ">
                                 <p><span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2018 d82198e2013 ">
                                 <p><a id="d82198e2027" class="indexterm-anchor"></a>Restores the specified range of archived redo log files. 
                                 </p>
                                 <p>The default restore location is <code class="codeph">DB_RECOVERY_FILE_DEST</code> (if one of <code class="codeph">LOG_ARCHIVE_DEST_n</code> is configured to <code class="codeph">USE_DB_RECOVERY_FILE_DEST</code> either implicitly or explicitly). Otherwise, the default restore file names are constructed with the <code class="codeph">LOG_ARCHIVE_FORMAT</code> and <code class="codeph">LOG_ARCHIVE_DEST_1</code> initialization parameters of the target database. These parameters combine in a port-specific fashion to derive the name of the restored log. You can override the default location with the <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">ARCHIVELOG DESTINATION</code> command.
                                 </p>
                                 <p>Because the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command automatically restores archived redo log files as needed, you seldom need to restore logs manually. Possible reasons for manually restoring archived redo log files are to speed up recovery, to stage the logs to multiple destinations, or to analyze the log contents after a point-in-time recovery. To restore logs from a previous incarnation without shutting down the database, you can use <code class="codeph">RESTORE ARCHIVELOG</code> with:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>... <code class="codeph">FROM SCN</code></p>
                                    </li>
                                    <li>
                                       <p>..<code class="codeph">.SCN BETWEEN... AND</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">FROM SCN ... INCARNATION &lt;integer&gt;</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">FROM SCN... INCARNATION ALL</code> 
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> The database can be started, mounted, or open for this operation.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2103" headers="d82198e2010 ">
                                 <p><code class="codeph">CONTROLFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2103 d82198e2013 ">
                                 <p>Restores either a standby or backup control file depending on the target database role.</p>
                                 <p>If the control file is lost, then restore the control file (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a>) and restore the database after mounting the restored control file. You must always run the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command after mounting a restored control file and you must open the database with the <code class="codeph">RESETLOGS</code> option.
                                 </p>
                                 <p><span class="bold">Note:</span> If the target database is not mounted, and if RMAN is not connected to a recovery catalog, then you must specify the <code class="codeph">FROM AUTOBACKUP</code> clause with <code class="codeph">RESTORE CONTROLFILE</code>. If the autobackup is in a nondefault format, then first use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command to specify the format. If the target database is mounted or open, then you must specify the <code class="codeph">TO</code> <span class="italic"><code class="codeph">filename</code></span> clause with <code class="codeph">RESTORE CONTROLFILE</code>.
                                 </p>
                                 <p>When you run <code class="codeph">RESTORE</code> with a backup control file while connected to a recovery catalog (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGHAJH">Example 3-26</a>), RMAN automatically updates the control file to reflect the structure of the restored database based on the metadata in the catalog.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2157" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2157 d82198e2013 ">
                                 <p>Restores the control file to the specified file name. </p>
                                 <p><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> explains RMAN behavior when restoring the control file with the <code class="codeph">TO</code> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2182" headers="d82198e2010 "><code class="codeph">APPLICATION ROOT DATABASE</code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e2182 d82198e2013 ">
                                 <p></p>
                                 <p>Specifies all data files in the application root.</p>
                                 <p>Connect to the CDB root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege. Or, connect to application root as an application common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2204" headers="d82198e2010 ">
                                 <p><code class="codeph">DATABASE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2204 d82198e2013 ">
                                 <p>Restores all data files in the database except those that are offline. By default, RMAN restores data files in read-only tablespaces.</p>
                                 <p>In a CDB, restores the whole CDB. You connect to the root to restore the CDB. In a PDB, restores the data files in the specified PDB. To backup a PDB, connect to that PDB. See <span class="q">"<a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>"</span>.
                                 </p>
                                 <p></p>
                                 <p>In an application container, restores the entire application container. This includes the application root and all application PDBs that belong to this application root. You connect to the application root as an application common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                                 </p>
                                 <p>Unlike <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">DATABASE</code>, <code class="codeph">RESTORE DATABASE</code> does <span class="italic">not</span> automatically include the control file and the server parameter fileâ€”you must issue additional <code class="codeph">RESTORE CONTROLFILE</code> and <code class="codeph">RESTORE SPFILE</code> commands to restore these files.
                                 </p>
                                 <p><span class="bold">Note:</span> To restore offline data files you must use <code class="codeph">RESTORE DATAFILE</code> or <code class="codeph">RESTORE TABLESPACE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2260" headers="d82198e2010 ">
                                 <p><code class="codeph">DATABASE ROOT</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2260 d82198e2013 ">
                                 <p>In a CDB, restores all online data files belonging to the root. Connect to the root as described in <span class="q">"<a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>"</span>.
                                 </p>
                                 <p></p>
                                 <p>In an application container, restores online data files belonging to the application root and all application PDBs. Connect to the application root as an application common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2281" headers="d82198e2010 ">
                                 <p><code class="codeph">PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2281 d82198e2013 ">
                                 <p>In a CDB, restores all data files belonging to the specified PDB. No other PDBs are affected; they can remain open and operational. Use a comma-separated list to restore multiple PDBs. Connect to the root as described in <span class="q">"<a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>"</span>.
                                 </p>
                                 <p></p>
                                 <p>In an application container, connect to the CDB root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege and specify the name of the application root in <code class="codeph">pdb_name</code> to restore data files belonging to the application root and all application PDBs. 
                                 </p>
                                 <p>To restore all data files belonging to a specified application PDB, connect to the application root as an application common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACK</code> privilege. To restore files for multiple application PDBs, specify a common-separated list of application PDB names.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2317" headers="d82198e2010 "><code class="codeph">&nbsp;&nbsp;&nbsp;SKIP [FOREVER]</code> <code class="codeph">&nbsp;TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e2317 d82198e2013 ">
                                 <p>Excludes the specified tablespaces from the restore operation. This option is useful to avoid restoring tablespaces containing temporary data. In a CDB, refers to a tablespace in the root when connected to the root, and refers to a tablespace in a PDB when connected directly to the PDB.</p>
                                 <p>Specifying the <code class="codeph">FOREVER</code> keyword does not change the behavior of <code class="codeph">SKIP</code>. The <code class="codeph">FOREVER</code> keyword exists solely to maintain compatible syntax between <code class="codeph">RESTORE SKIP FOREVER</code> and <code class="codeph">RECOVER SKIP FOREVER</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2348" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TABLESPACE </code><span class="italic"><code class="codeph">pdb_name</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2348 d82198e2013 ">
                                 <p>In a CDB, excludes the specified tablespaces from the restore operation. This syntax is required only when connected to the root. When connected directly to a PDB, use <code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2371" headers="d82198e2010 ">
                                 <p><code class="codeph">DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2371 d82198e2013 ">
                                 <p>Restores the data files specified by file name or absolute data file number (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEAAH">Example 3-25</a>). 
                                 </p>
                                 <p><span class="bold">Note:</span> Do not specify a data file more than once in a restore job. For example, the following command is invalid because data file 1 is both specified explicitly and implied by the <code class="codeph">SYSTEM</code> tablespace:
                                 </p><pre class="oac_no_warn" dir="ltr">RESTORE TABLESPACE SYSTEM DATAFILE 1;</pre><p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2405" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph"><a href="foreignFileSpec.html#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2405 d82198e2013 ">
                                 <p>Restores a cross-platform backup that uses backup sets. Specifying <span class="italic"><code class="codeph"><a href="foreignFileSpec.html#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span> is mandatory when you perform a cross-platform restore operation. This clause specifies the data that must be restored (data files, tablespaces, or entire database) and the backup sets that contain the data to be restored. The cross-platform backup that is being restored can consist of multiple backup sets or multiple backup pieces.
                                 </p>
                                 <p>Use the <code class="codeph">BACKUPSET</code> syntax to specify the backup set to be restored. To restore data files, use <code class="codeph">ALL FOREIGN DATAFILES</code> or <code class="codeph">FOREIGN DATAFILE</code>. To restore tablespaces. use <code class="codeph">FOREIGN TABLESPACE</code>. To restore an entire database, use <code class="codeph">FOREIGN DATABASE</code>.
                                 </p>
                                 <p>To plug the restored tablespaces in to the destination database, you use the export dump file containing the tablespace metadata that was created along with the backup. Use <code class="codeph">DUMP FILE</code> to indicate that the backup contains an export dump file and <code class="codeph">BACKUPSET</code> to specify the backup set that contains the export dump file.
                                 </p>
                                 <p><span class="bold">Note:</span> This clause can be used only to restore data that was backed up using backup sets. It cannot be used for backups created as image copies.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="foreignFileSpec.html#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2463" headers="d82198e2010 ">
                                 <p><code class="codeph">FOREIGN PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span> FROM SERVICE
                                 </p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2463 d82198e2013 ">
                                 <p></p>
                                 <p></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2476" headers="d82198e2010 ">
                                 <p><code class="codeph">PRIMARY CONTROLFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2476 d82198e2013 ">
                                 <p>Restores a control file for a primary database in a Data Guard environment.</p>
                                 <p>RMAN restores either a normal or standby control file as appropriate, depending on the most recent database role known to the recovery catalog (<code class="codeph"><a href="RC_SITE.html#GUID-5A53B4D3-7E4C-40AF-B5DB-560FCAFB8293" title="This view lists information about all databases in a Data Guard environment that are known to the recovery catalog.">RC_SITE</a></code><code class="codeph">.DATABASE_ROLE</code>) for the target database. The purpose of this option to override the default setting in cases where the most recent database role is out-of-date. 
                                 </p>
                                 <p><a id="d82198e2496" class="indexterm-anchor"></a>Assume that you perform a switchover from primary database <code class="codeph">dgny</code> to standby database <code class="codeph">dgsf</code>, so that <code class="codeph">dgsf</code> is the new primary database. You want to restore a control file on <code class="codeph">dgsf</code>, but the recovery catalog was not resynchronized and still shows <code class="codeph">dgsf</code> as a standby database. In this case, you can specify <code class="codeph">PRIMARY CONTROLFILE</code> to override the default RMAN behavior and restore a normal control file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2521" headers="d82198e2010 ">
                                 <p><code class="codeph">SPFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2521 d82198e2013 ">
                                 <p>Restores a primary or standby server parameter file to the location from which it was backed up. RMAN cannot overwrite a server parameter file currently in use by the target database.</p>
                                 <p>By default RMAN restores the most current server parameter file. Specify the <code class="codeph">UNTIL</code> or <code class="codeph">TAG</code> options to restore older versions of the server parameter file.
                                 </p>
                                 <p>If the server parameter file is lost, then connect RMAN to the target database (and recovery catalog if used) and run <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code>. Run <code class="codeph"><a href="STARTUP.html#GUID-96DFEF80-A2D1-493C-8CFF-BF0CB4BE281D">STARTUP</a></code> <code class="codeph">FORCE NOMOUNT</code> before running <code class="codeph">RESTORE SPFILE</code>. Then run <code class="codeph">STARTUP FORCE</code> to restart the database instance with the restored server parameter file.
                                 </p>
                                 <p><span class="bold">Note:</span> If the target database is not mounted, and if RMAN is not connected to a recovery catalog, then you must specify the <code class="codeph">FROM AUTOBACKUP</code> clause with <code class="codeph">RESTORE SPFILE</code>. If the autobackup is in a nondefault format, then first use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command to specify the format. If the target database is started, mounted, or open, and if the database was started with a server parameter file, then you must specify the <code class="codeph">TO</code> <span class="italic"><code class="codeph">filename</code></span> clause with <code class="codeph">RESTORE SPFILE</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2586" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO [PFILE]</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2586 d82198e2013 ">
                                 <p><a id="d82198e2600" class="indexterm-anchor"></a><a id="d82198e2602" class="indexterm-anchor"></a>Restores a primary or standby server parameter file to the location specified by the <code class="codeph">TO</code> clause. Specify <code class="codeph">PFILE</code> to save the server parameter file as a text-based initialization parameter file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2612" headers="d82198e2010 "><code class="codeph">&nbsp;&nbsp;&nbsp;FOR DB_UNIQUE_NAME</code> <span class="italic"><code class="codeph">db_unique_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e2612 d82198e2013 ">
                                 <p>Specifies the <code class="codeph">DB_UNIQUE_NAME</code> for the target database when the instance is not started. This parameter is only useful in a Data Guard environment.
                                 </p>
                                 <p><a id="d82198e2626" class="indexterm-anchor"></a>When <code class="codeph">FOR DB_UNIQUE_NAME</code> is specified, RMAN can locate the correct RMAN configurations for the host on which the <code class="codeph">SPFILE</code> is being restored and use them to access backup devices. Otherwise, RMAN cannot choose the correct channel configurations and returns an <a id="d82198e2637" class="indexterm-anchor"></a><a id="d82198e2639" class="indexterm-anchor"></a><code class="codeph">RMAN-6758</code> error.
                                 </p>
                                 <p>In a Data Guard environment, the primary and standby hosts may have different channel configurations for communicating with their associated SBT backup and disk devices. If both the primary and standby databases are known to the recovery catalog, then the configuration settings for both databases are recorded in the recovery catalog. Because the two databases have the same <code class="codeph">DB_NAME</code>, the records in the recovery catalog can only be distinguished with the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter.
                                 </p>
                                 <p><span class="bold">Note:</span> Using <code class="codeph">RESTORE SPFILE</code> when the <code class="codeph">DB_NAME</code> is not unique in the recovery catalog produces an <code class="codeph">RMAN-6758</code> error.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../sbydb/using-RMAN-in-oracle-data-guard-configurations.html#SBYDB04700" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for a detailed procedure for restoring the server parameter file in a Data Guard environment
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2677" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2677 d82198e2013 ">
                                 <p>Restores the standby control file to the specified file name. <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> explains the RMAN behavior when restoring the control file with the <code class="codeph">TO</code> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2701" headers="d82198e2010 ">
                                 <p><code class="codeph">STANDBY CONTROLFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2701 d82198e2013 ">
                                 <p>Restores a control file for a standby database. RMAN can transparently restore a normal control file backup and make it usable for a standby database.</p>
                                 <p>RMAN restores either a normal or standby control file as appropriate, depending on the most recent database role known to the recovery catalog (<code class="codeph"><a href="RC_SITE.html#GUID-5A53B4D3-7E4C-40AF-B5DB-560FCAFB8293" title="This view lists information about all databases in a Data Guard environment that are known to the recovery catalog.">RC_SITE</a></code><code class="codeph">.DATABASE_ROLE</code>) for the target database. The purpose of this option to override the default setting in cases where the most recent database role is out-of-date. Assume that you perform a switchover from primary database <code class="codeph">dgny</code> to standby database <code class="codeph">dgsf</code>, so that <code class="codeph">dgsf</code> is the new primary database. Later, you make <code class="codeph">dgny</code> a standby database for <code class="codeph">dgsf</code>. You want to restore a control file on <code class="codeph">dgny</code>, but the recovery catalog was not resynchronized and still shows <code class="codeph">dgny</code> as a primary database. In this case, you can specify <code class="codeph">STANDBY CONTROLFILE</code> to override the default RMAN behavior and restore a standby control file.
                                 </p>
                                 <p>If you restore the control file of a database whose <code class="codeph">DB_UNIQUE_NAME</code> is known to the recovery catalog, then RMAN updates all file names in the control file to file names known to the recovery catalog. Any file names explicitly renamed with <code class="codeph">ALTER DATABASE RENAME FILE</code> take precedence over the file names in the recovery catalog.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> for restrictions and usage notes
                                 </p>
                                 <p><span class="bold">Note:</span> You must always run the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command after mounting a restored control file, and must also always open the database with the <code class="codeph">RESETLOGS</code> option.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2775" headers="d82198e2010 ">
                                 <p><code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2775 d82198e2013 ">
                                 <p>Restores all data files in the specified tablespaces (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGADCD">Example 3-24</a>).
                                 </p>
                                 <p>RMAN translates the tablespace name internally into a list of data files. If you rename a tablespace (for example, from <code class="codeph">users</code> to <code class="codeph">customers</code>), then so long as an additional tablespace with the old name (<code class="codeph">users</code>) has not been created, you can use either the old name (<code class="codeph">users</code>) or the new name (<code class="codeph">customers</code>) for the tablespace. RMAN detects that the tablespace has changed its name and updates the recovery catalog on the next resynchronization.
                                 </p>
                                 <p><span class="bold">Note:</span> RMAN can back up and restore dictionary-managed temporary tablespaces, but it cannot back up locally managed temporary tablespaces. However, RMAN automatically re-creates locally managed temporary tablespaces after restoring the database.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865"><span class="bold"><span class="italic">restoreSpecOperand</span></span></p>
                  <p>This subclause specifies options for the <span class="italic"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB">restoreObject</a></span> clause. These parameters override the parameters with the same name at the <code class="codeph">RESTORE</code> command level. 
                  </p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-7A286BD4-5147-4DE8-841F-7567B8D0B30F">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes RESTORE command restoreSpecOperand parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d82198e2830">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d82198e2833">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2838" headers="d82198e2830 ">
                                 <p><code class="codeph">CHANNEL</code> <span class="italic"><code class="codeph">channel_id</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2838 d82198e2833 ">
                                 <p>Specifies the case-sensitive name of a channel to use for this restore operation. If you do not specify a channel, then <code class="codeph">RESTORE</code> uses any available channel allocated with the correct device type.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2853" headers="d82198e2830 ">
                                 <p><a id="d82198e2855" class="indexterm-anchor"></a><a id="d82198e2857" class="indexterm-anchor"></a><a id="d82198e2859" class="indexterm-anchor"></a><code class="codeph">FROM AUTOBACKUP</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2853 d82198e2833 ">
                                 <p>Restores a control file autobackup (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBAFDB">Example 3-27</a>). 
                                 </p>
                                 <p>This option is only valid on the <code class="codeph">RESTORE CONTROLFILE</code> and <code class="codeph">RESTORE SPFILE</code> commands. When restoring either type of file in <code class="codeph">NOCATALOG</code> mode, the <code class="codeph">FROM AUTOBACKUP</code> clause is required.
                                 </p>
                                 <p>RMAN begins the search on the current day or on the day specified with the <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">UNTIL</code>. On the first day searched, the search begins with sequence number 256 (or the sequence number specified by <code class="codeph">MAXSEQ</code>, if provided) and counts back to sequence 0. If no autobackup is found in the current or <code class="codeph">SET UNTIL</code> day, then RMAN checks preceding days, starting with sequence 256 and counting back to 0. The search continues up to <code class="codeph">MAXDAYS</code> days (default of 7, maximum of 366) before the current or <code class="codeph">SET UNTIL</code> day. If no autobackup is found within <code class="codeph">MAXDAYS</code> days, then RMAN signals an error and the command stops.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> for restrictions and usage notes.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2920" headers="d82198e2830 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBHBIAC">autoBackupOptList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2920 d82198e2833 ">
                                 <p>Specifies parameters that control the search for a control file autobackup.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2932" headers="d82198e2830 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><code class="codeph">'</code><span class="italic"><code class="codeph">media_handle</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2932 d82198e2833 ">
                                 <p>Specifies the name of the control file copy or backup piece containing a control file. The <span class="italic"><code class="codeph">media_handle</code></span> can be any backup piece that contains a backup of a control file: the control file backup does not need to be an autobackup.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> for restrictions and usage notes.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2960" headers="d82198e2830 ">
                                 <p><code class="codeph">FROM SERVICE</code> <span class="italic"><code class="codeph">service_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2960 d82198e2833 ">
                                 <p>Restores data files or control files using backups transferred, over the network, from the remote database. <span class="italic"><code class="codeph">service_name</code></span> specifies the service name of the remote database.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2976" headers="d82198e2830 ">
                                 <p><code class="codeph">FROM TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2976 d82198e2833 ">
                                 <p>Overrides the default selection of the most recent backups or file copy available. The tag restricts the automatic selection to backup sets or file copies created with the specified tag. If multiple backup sets or copies have a matching tag, then RMAN selects the most recent one. Tag names are not case sensitive.</p>
                                 <p><span class="bold">See Also:</span> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> for a description of how a tag can be applied to an individual copy of a duplexed backup set, and for a description of the default file name format for tags.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBHBIAC"><span class="bold"><span class="italic">autoBackupOptList</span></span></p>
                  <p>This subclause specifies parameters that control the search for a control file autobackup.</p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-F53EFB76-A84F-4C8B-9261-F596381C8164">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes RESTORE command autoBackupOptList parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d82198e3011">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d82198e3014">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3019" headers="d82198e3011 ">
                                 <p><code class="codeph">DB_NAME</code> <span class="italic"><code class="codeph">database_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e3019 d82198e3014 ">
                                 <p>Provides a <code class="codeph">DB_NAME</code> to be used in searching for control file autobackups. See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> to determine when to set this parameter.
                                 </p>
                                 <p>The default value of the <a id="d82198e3040" class="indexterm-anchor"></a><a id="d82198e3042" class="indexterm-anchor"></a><code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is the <code class="codeph">DB_NAME</code> initialization parameter setting. If no <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is set for a target database, then use either <code class="codeph">RESTORE ... DB_NAME</code> or <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>. If the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for a target database is different from <code class="codeph">DB_NAME</code>, then use <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3072" headers="d82198e3011 ">
                                 <p><code class="codeph">MAXDAYS</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e3072 d82198e3014 ">
                                 <p>Limits the search for a control file autobackup to within the specified number of days earlier.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3084" headers="d82198e3011 ">
                                 <p><code class="codeph">MAXSEQ</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e3084 d82198e3014 ">
                                 <p>Specifies the highest sequence number for the control file autobackup search.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3096" headers="d82198e3011 ">
                                 <p><code class="codeph">RECOVERY AREA</code> <code class="codeph">'</code><span class="italic"><code class="codeph">pathname</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e3096 d82198e3014 ">
                                 <p>Specifies a path to the fast recovery area to search for autobackups. <code class="codeph">RECOVERY AREA</code> and <code class="codeph">DB_RECOVERY_FILE_DEST</code> are synonyms. See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> to determine when to set this parameter.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3123" headers="d82198e3011 "><code class="codeph">DB_RECOVERY_FILE_DEST</code> <code class="codeph">'</code><span class="italic"><code class="codeph">pathname</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e3123 d82198e3014 ">
                                 <p><code class="codeph">RECOVERY AREA</code> and <code class="codeph">DB_RECOVERY_FILE_DEST</code> are synonyms.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3143" headers="d82198e3011 "><code class="codeph">&nbsp;&nbsp;&nbsp;DB_NAME</code> <span class="italic"><code class="codeph">database_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e3143 d82198e3014 ">
                                 <p>Provides a <code class="codeph">DB_NAME</code> to be used in searching for control file autobackups. See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> to determine when to set this parameter.
                                 </p>
                                 <p>The default value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is the <code class="codeph">DB_NAME</code> initialization parameter setting. If no <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is set for a target database, then use either <code class="codeph">RESTORE ... DB_NAME</code> or <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>. If the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for a target database is different from <code class="codeph">DB_NAME</code>, then use <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3189" headers="d82198e3011 "><code class="codeph">&nbsp;&nbsp;&nbsp;DB_UNIQUE_NAME</code> <code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph">db_unique_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e3189 d82198e3014 ">
                                 <p>Specifies the <code class="codeph">DB_UNIQUE_NAME </code>of the database in the specified fast recovery area that is the target of the restore operation.
                                 </p>
                                 <p>The default value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is the <code class="codeph">DB_NAME</code> initialization parameter setting. If no <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is set for a target database, then use either <code class="codeph">RESTORE ... DB_NAME</code> or <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>. If the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for a target database is different from <code class="codeph">DB_NAME</code>, then use <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-ACC21950-8201-4FA4-9121-234121C8C39F">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGADCD">
                  <p class="titleinexample">Example 3-24 Restoring a Tablespace</p>
                  <p>This example takes a tablespace offline, restores it, then performs media recovery.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE users OFFLINE IMMEDIATE; 
RESTORE TABLESPACE users; 
RECOVER TABLESPACE users;  
ALTER TABLESPACE users ONLINE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEAAH">
                  <p class="titleinexample">Example 3-25 Setting a New Name for a Restored Data File</p>
                  <p>Assume that <code class="codeph">/disk1</code>, which contains data file <code class="codeph">9</code>, suffers a media failure. This example specifies a new name for the data file, restores it, updates the control file to use the new name, recovers it, and then brings it online:
                  </p><pre class="oac_no_warn" dir="ltr">RUN
{
  ALTER DATABASE DATAFILE 9 OFFLINE;
  SET NEWNAME FOR DATAFILE 9 TO '/disk2/users01.dbf';
  RESTORE DATAFILE 9;
  SWITCH DATAFILE ALL;
  RECOVER DATAFILE 9;
  ALTER DATABASE DATAFILE 9 ONLINE;
}</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGHAJH">
                  <p class="titleinexample">Example 3-26 Restoring the Control File When Using a Recovery Catalog</p>
                  <p>Assume that you want to restore the control file backup with the tag <code class="codeph">monday_cf_backup</code>. You start the RMAN client, connect to the target and recovery catalog databases, and run the following commands:
                  </p><pre class="oac_no_warn" dir="ltr">RUN
{ # SET DBID is not necessary when RMAN is connected to a recovery catalog
  STARTUP FORCE NOMOUNT;
  RESTORE CONTROLFILE FROM TAG 'monday_cf_backup';
  ALTER DATABASE MOUNT;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS; # required after recovery with backup control file
</pre><p>RMAN restores the control file to its default location and replicates it automatically to all <code class="codeph">CONTROL_FILES</code> locations. RMAN mounts the control file and restores and recovers the database. RMAN automatically updates the control file to reflect the structure of the restored database based on the metadata in the recovery catalog.
                  </p>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBAFDB">
                  <p class="titleinexample">Example 3-27 Recovering the Database with a Control File Autobackup</p>
                  <p>Assume that the control file and some data files are lost and must be restored from tape. Because RMAN does not use a recovery catalog in this scenario, the <a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDFHGDI">SET</a> <code class="codeph">DBID</code> command is necessary to identify the control file to be restored. The example restores the control file from tape, mounts the database, and then restores and recovers the database.
                  </p><pre class="oac_no_warn" dir="ltr">CONNECT TARGET /
STARTUP FORCE NOMOUNT;
SET DBID 36508508;  # required when restoring control file in NOCATALOG mode
RUN
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt;
  RESTORE CONTROLFILE FROM AUTOBACKUP;
  ALTER DATABASE MOUNT;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-C8B73D43-EF8C-44F6-825F-1BC8730CB692">
                  <p class="titleinexample">Example 3-28 Restoring a Control File Autobackup to a Nondefault Location</p>
                  <p>This example is a variation on <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBAFDB">Example 3-27</a>. In this scenario, the control file autobackup is located on disk in a nondefault location. RMAN starts searching for backups with a sequence number of 20, and searches backward for 5 months:
                  </p><pre class="oac_no_warn" dir="ltr">CONNECT TARGET /
STARTUP FORCE NOMOUNT
SET DBID 36508508;  # required when restoring control file in NOCATALOG mode
RUN
{
  SET CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK 
    TO '/disk1/prod_cf_auto_%F';
  RESTORE CONTROLFILE TO '/tmp/cf_auto.dbf' FROM AUTOBACKUP 
    MAXSEQ 20 MAXDAYS 150;
  ALTER DATABASE MOUNT;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-24D7B81E-CECC-44EF-B6B7-6DD2F4766423">
                  <p class="titleinexample">Example 3-29 Restoring Control File Autobackups Stored on Tape or Oracle Cloud</p>
                  <p>Database backups are created on disk according to a backup schedule. Control file autobackups are enabled, but a recovery catalog is not used. Subsequently, these backup sets are backed up to Oracle Cloud using the <code class="codeph">BACKUP BACKUPSET ALL</code> command. This example restores a control file using the autobackup that was created on Oracle Cloud. RMAN scans both disk and Oracle Cloud backups and then retrieves the latest control file autobackup. You must configure one disk channel and one SBT channel, for Oracle Cloud.
                  </p><pre class="pre codeblock"><code>RUN
{
SET DBID 1928835918;
ALLOCATE CHANNEL disk1 DEVICE TYPE DISK;
ALLOCATE CHANNEL sbt1 DEVICE TYPE 'SBT_TAPE' PARMS 'SBT_LIBRARY=/disk1/oss/libopc.so ENV=(OPC_PFILE=/disk1/oss/opc_sbt.ora)';
RESTORE CONTROLFILE FROM AUTOBACKUP;
}</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-24AA3226-F3F0-4E61-B8AC-A9F5DE32B281">
                  <p class="titleinexample">Example 3-30 Restoring a Server Parameter File Autobackup to the Current Location</p>
                  <p>The following series of commands restores the current server parameter file in <code class="codeph">NOCATALOG</code> mode and then starts the instance with the restored server parameter file.
                  </p><pre class="oac_no_warn" dir="ltr">CONNECT TARGET /
SET DBID 1620189241; # set dbid to dbid of target database
STARTUP FORCE NOMOUNT; # start instance with dummy SPFILE
RUN
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt;
  RESTORE SPFILE FROM AUTOBACKUP; # FROM AUTOBACKUP needed in NOCATALOG mode
  STARTUP FORCE; # startup with restored SPFILE
}</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDEFIAA">
                  <p class="titleinexample">Example 3-31 Previewing Backups</p>
                  <p>This example shows the results of a <code class="codeph">RESTORE ... PREVIEW</code> command, which identifies the backup sets RMAN selects for use in restoring archived redo log files.
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE ARCHIVELOG ALL DEVICE TYPE sbt PREVIEW;
 
Starting restore at 01-MAR-13
released channel: ORA_SBT_TAPE_1
allocated channel: ORA_SBT_TAPE_1
channel ORA_SBT_TAPE_1: SID=85 device type=SBT_TAPE
channel ORA_SBT_TAPE_1: Oracle Secure Backup
 
List of Backup Sets
===================
 
BS Key  Size       Device Type Elapsed Time Completion Time
------- ---------- ----------- ------------ ---------------
53      1.25M      SBT_TAPE    00:00:18     01-MAR-13
        BP Key: 53   Status: AVAILABLE  Compressed: NO  Tag: TAG20130301T150155
        Handle: 2aibhej3_1_1   Media: RMAN-DEFAULT-000001
 
  List of Archived Logs in backup set 53
  Thrd Seq     Low SCN    Low Time  Next SCN   Next Time
  ---- ------- ---------- --------- ---------- ---------
  1    8       526376     01-MAR-13 527059     01-MAR-13
  1    9       527059     01-MAR-13 527074     01-MAR-13
  1    10      527074     01-MAR-13 527091     01-MAR-13
  1    11      527091     01-MAR-13 527568     01-MAR-13
  1    12      527568     01-MAR-13 527598     01-MAR-13
validation succeeded for backup piece
Finished restore at 01-MAR-13</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDDHJHH">
                  <p class="titleinexample">Example 3-32 Recalling Offsite Backups from Offsite Storage</p>
                  <p>When used with a media manager that reports information about offsite storage of backups and supports recalling offsite backups, <code class="codeph">RESTORE ... PREVIEW RECALL</code> requests that any media needed to restore archived redo log files from backup be recalled from offsite storage.
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE ARCHIVELOG ALL PREVIEW RECALL;

Starting restore at 10-JUN-13
using channel ORA_DISK_1
using channel ORA_SBT_TAPE_1
 
 
List of Backup Sets
===================
 
BS Key  Size       Device Type Elapsed Time Completion Time
------- ---------- ----------- ------------ ---------------
31      12.75M     SBT_TAPE    00:00:02     10-JUN-13     
        BP Key: 33   Status: AVAILABLE  Compressed: NO  Tag: TAG20130610T152755
        Handle: 15gmknbs   Media: /v1,15gmknbs
 
  List of Archived Logs in backup set 31
  Thrd Seq     Low SCN    Low Time  Next SCN   Next Time
  ---- ------- ---------- --------- ---------- ---------
  1    1       221154     06-JUN-13 222548     06-JUN-13
  1    2       222548     06-JUN-13 222554     06-JUN-13
  1    3       222554     06-JUN-13 222591     06-JUN-13
  1    4       222591     06-JUN-13 246629     07-JUN-13
  1    5       246629     07-JUN-13 262451     10-JUN-13
 
BS Key  Size       Device Type Elapsed Time Completion Time
------- ---------- ----------- ------------ ---------------
32      256.00K    SBT_TAPE    00:00:01     10-JUN-13     
        BP Key: 34   Status: AVAILABLE  Compressed: NO  Tag: TAG20130610T153105
        Handle: 17gmknhp_1_1   Media: /v1,17gmknhp_1_1
 
  List of Archived Logs in backup set 32
  Thrd Seq     Low SCN    Low Time  Next SCN   Next Time
  ---- ------- ---------- --------- ---------- ---------
  1    6       262451     10-JUN-13 262547     10-JUN-13
  1    7       262547     10-JUN-13 262565     10-JUN-13
 
Initiated recall for the following list of offsite backup files
==========================================================
        Handle: 15gmknbs   Media: /v1,15gmknbs
Finished restore at 10-JUN-13</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDHIEJA">
                  <p class="titleinexample">Example 3-33 Validating the Restore of a Backup</p>
                  <p>The following example illustrates using <code class="codeph">RESTORE... VALIDATE</code> to confirm that backups required to restore the database are present on disk or tape, readable, and not corrupted:
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE DATABASE VALIDATE;
 
Starting restore at 01-MAR-13
using channel ORA_DISK_1
allocated channel: ORA_SBT_TAPE_1
channel ORA_SBT_TAPE_1: SID=85 device type=SBT_TAPE
channel ORA_SBT_TAPE_1: Oracle Secure Backup
 
channel ORA_DISK_1: starting validation of datafile backup set
channel ORA_DISK_1: reading from backup piece /disk2/PROD/backupset/2013_03_01/o1_mf_nnndf_TAG20130301T161038_2ygtvzg0_.bkp
channel ORA_DISK_1: piece handle=/disk2/PROD/backupset/2013_03_01/o1_mf_nnndf_TAG20130301T161038_2ygtvzg0_.bkp tag=TAG20130301T161038
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: validation complete, elapsed time: 00:00:16
Finished restore at 01-MAR-13</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-F3A8E3B5-91C6-4528-994C-2BEB2DB49A33">
                  <p class="titleinexample">Example 3-34 Restoring Data Files on the Primary Database Using the Standby</p>
                  <p>This example restores the data file <code class="codeph">users.dbf</code> that was lost on the primary database by restoring it, over the network, from the standby database:
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE DATAFILE '/oradata/files/users.dbf'
          FROM SERVICE standby_tns
          SECTION SIZE 200M
          USING COMPRESSED BACKUPSET;
</pre><p>The service name of the remote database that contains the data file to be restored is <code class="codeph">standby_tns</code>. The <code class="codeph">SECTION SIZE</code> clause indicates that the data file is restored using multisection backup sets. The <code class="codeph">USING COMPRESSED BACKUPSET</code> clause specifies that the backup sets are compressed using the default compression algorithm that is configured for RMAN.
                  </p>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-4A098666-190F-41FD-8F74-FA59042AEBE2">
                  <p class="titleinexample">Example 3-35 Restoring a Database from a Cross-Platform Database Backup</p>
                  <p>This example restores the database using a cross-platform backup that was created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBECGFG">Example 2-34</a>. This backup was created on a Microsoft Windows IA (32-bit) platform and is being restored on Linux x86 64-bit. The backup set containing the database is stored in <code class="codeph">/tmp/xplat_restores/full_db.bck</code>. The restored data files are stored in <code class="codeph">/oradata/datafiles</code> using unique file names that begin with <code class="codeph">df_</code></p><pre class="oac_no_warn" dir="ltr">RESTORE 
   FROM PLATFORM 'Microsoft Windows IA (32-bit)'
   ALL FOREIGN DATAFILES
   FORMAT '/oradata/datafiles/df_%U'
   FROM BACKUPSET '/tmp/xplat_restores/full_db.bck';
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-30865953-C561-49AF-AC5A-3310E3BF6431">
                  <p class="titleinexample">Example 3-36 Restoring a Tablespace from a Cross-Platform Tablespace Backup</p>
                  <p>This example restores the tablespace <code class="codeph">example</code> from the cross-platform backup created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBJFJAC">Example 2-35</a>. The backup set containing the tablespace to be restored is stored in <code class="codeph">/tmp/xplat_restores/example_readonly.bck</code>. The restored data files use unique names that being with <code class="codeph">example_readonly_</code>. The metadata required to plug this tablespace into the target database is stored in the backup set <code class="codeph">/tmp/xplat_restores/example_dmp.bck</code>.
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE
   FOREIGN TABLESPACE example
   FORMAT '/tmp/xplat_restores/example_readonly_%U_%n'
   FROM BACKUPSET '/tmp/xplat_restores/example_readonly.bck'   DUMP FILE
   DATAPUMP DESTINATION '/tmp/datapump'
   FROM BACKUPSET '/tmp/xplat_restores/example_dmp.bck';
</pre><div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-CE4AC678-A9C0-4AB7-9DF0-23AFD016AF6B">
                     <p class="notep1">See Also:</p>
                     <p><a href="../bradv/rman-transporting-data-across-platforms.html#BRADV-GUID-7E1B3B10-CDA2-4E79-9F4C-AC8E51BCDE54" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for an example of backing up and restoring multiple tablespaces
                     </p>
                  </div>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-0D8CF88F-B6D9-4EBD-91F9-14995B61CFFB">
                  <p class="titleinexample">Example 3-37 Restoring a Tablespace Using a Cross-Platform Backup Consisting of Multiple Backup Sets</p>
                  <p>This example restores the tablespace <code class="codeph">example</code> from a cross-platform backup consisting of multiple backup sets that was created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBFJIGG">Example 2-36</a>. You must use a separate <code class="codeph">BACKUPSET</code> clause for each backup set. The backup sets must be listed in the order in which they were created, starting with the first backup set.
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE
   BACKUPSET '/tmp/xplat_restores/db_multiple_59nkcln6_1_1'
   BACKUPSET '/tmp/xplat_restores/db_multiple_5ankcln7_1_1'
   BACKUPSET '/tmp/xplat_restores/db_multiple_5bnkcln8_1_1'
   BACKUPSET '/tmp/xplat_restores/db_multiple_5cnkcln9_1_1'
   DUMP FILE
       FROM BACKUPSET '/tmp/xplat_restores/db_multiple.dmp';
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CFADGAFF">
                  <p class="titleinexample">Example 3-38 Restoring a Tablespace Using a Cross-Platform Consistent Backup that Contains Multiple Backup Pieces</p>
                  <p>This example restores the tablespace <code class="codeph">example</code> from a cross-platform backup consisting of multiple backup pieces that was created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBCECEE">Example 2-37</a>. The export dump file containing the metadata of the tablespace is stored in <code class="codeph">/tmp/xplat_restores/example_mutli-piece_dmp.bck</code>. The <code class="codeph">FROM BACKUPSET</code> clause contains a comma-separated list of all the backup pieces. List the backup pieces in the same order in which they were created.
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE
   FOREIGN TABLESPACE sales
   FORMAT '/tmp/xplat_restores/datafiles/example_mult_%u'
   FROM BACKUPSET 
       '/tmp/xplat_restores/example_multi-piece_0lnjnujs_1_1',
       '/tmp/xplat_restores/example_multi-piece_0lnjnujs_2_1',
       '/tmp/xplat_restores/example_multi-piece_0lnjnujs_3_1'
   DUMP FILE 
   FROM BACKUPSET '/tmp/xplat_restores/example_multi-piece_dmp.bck';
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-8C951D9D-F006-4F24-98EB-230D83085F77">
                  <p class="titleinexample">Example 3-39 Restoring a Cross-Platform Inconsistent Tablespace Backup</p>
                  <p>This example restores the tablespace <code class="codeph">example</code> from the cross-platform inconsistent backup created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBEJBGF">Example 2-38</a>. The restored data files are stored using unique names that begin with <code class="codeph">inconsist_</code>. Because the tablespace was not read-only when the backup was created, you cannot directly plug it into the target database. You must apply an incremental backup of the tablespace taken when the tablespace is read-only to the recovered foreign data files.
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE
    FOREIGN TABLESPACE example
    FORMAT '/tmp/xplat_restores/datafiles/inconsist_%u'
    FROM BACKUPSET '/tmp/xplat_backups/example_inconsist.bck';
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-337C1520-09A8-4B2F-9372-C029D4ADCD3E">
                  <p class="titleinexample">Example 3-40 <span class="bold">Restoring a PDB into a New CDB Using Cross-platform Backups of the PDB</span></p>
                  <p></p>
                  <p>This example restores a cross-platform backup of the pluggable database (PDB) <code class="codeph">pdb3</code> on the destination CDB. The destination CDB and the source CDB are on different platforms, but use the same endian format.
                  </p>
                  <p>The destination CDB is open in read-write mode. The backup set contained the cross-platform backup of the source PDB is stored in <code class="codeph">/u02/backups/backup_full_pdb3.bck</code>. The metadata required to plug the source PDB into the destination CDB is stored in <code class="codeph">/u02/backups/metadata_pdb3.xml</code>. The <code class="codeph">FILE_NAME_CONVERT</code> clause specifies how file names on the source CDB must be renamed in the destination CDB.
                  </p><pre class="pre codeblock"><code>RESTORE FROM PLATFORM 'Linux x86 64-bitâ€™
USING '/u02/backups/metadata_pdb3.xmlâ€™
FILE_NAME_CONVERT = ('/u01/oradataâ€™,â€™/u02/oradata/cdbâ€™)
FOREIGN PLUGGABLE DATABASE pdb3 FORMAT '/u02/oradata/cdb/pdb3_%Uâ€™
FROM BACKUPSET '/u02/backups/backup_full_pdb3.bckâ€™;
</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-A97F11DD-1E97-43A9-A857-4D2E87EA236E">
                  <p class="titleinexample">Example 3-41 Moving an On-premise Database to Oracle Cloud with Encryption</p>
                  <p></p>
                  <p>This example moves an on-premise database to Oracle Cloud by restoring database backups. The on-premise database does not use encryption and the database backups are also not encrypted. However, the database on Oracle Cloud must use encryption. Therefore, to maintain consistency and security, the backups of the unencrypted database must be restored on Oracle Cloud using encryption. You can achieve this by using the <code class="codeph">AS ENCRYPTED</code> clause with the <code class="codeph">RESTORE</code> command. The Oracle keystore must be open before the <code class="codeph">RESTORE...AS ENCRYPTED</code> command is run.
                  </p>
                  <p>The <code class="codeph">COMPATIBLE</code> parameter for the on-premise database is set to 12.2 and the backups are created with <code class="codeph">COMPATIBLE</code> set to 12.2. The following commands restore the unencrypted backups to create a database on Oracle Cloud with encryption:
                  </p><pre class="pre codeblock"><code>SELECT ts#, encryptionalg, encryptedts, key_version, status FROM v$encrypted_tablespaces;
STARTUP FORCE MOUNT;
RESTORE DATABASE AS ENCRYPTED;
RECOVER DATABASE;
ALTER DATABASE OPEN;</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-1C6A58BB-9484-4EDF-A9CB-8B0CE2ECB61C">
                  <p class="titleinexample">Example 3-42 Moving a Database from Oracle Cloud to an On-premise Model</p>
                  <p></p>
                  <p>This example moves a database from Oracle Cloud, which uses encryption, to an on-premise model. Because encryption is not mandatory for on-premise databases, you decide to restore the encrypted backups from Oracle Cloud without using encryption. Use the <code class="codeph">AS DECRYPTED</code> clause of the <code class="codeph">RESTORE</code> command to perform this restore operation.
                  </p>
                  <p>The <code class="codeph">COMPATIBLE</code> parameter for the on-premise database is set to 12.2. Backups were created with <code class="codeph">COMPATIBLE</code> set to 12.2. The following commands restore the encrypted backups from Oracle Cloud to an on-premise database and without using encryption:
                  </p><pre class="pre codeblock"><code>SELECT ts#, encryptionalg, encryptedts, key_version, status FROM v$encrypted_tablespaces;
STARTUP FORCE MOUNT;
RESTORE DATABASE AS DECRYPTED
RECOVER DATABASE;
ALTER DATABASE OPEN;</code></pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>