<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="configuring-product-to-work-on-the-vm.html"></link><meta charset="UTF-8"></meta><title>配置PyCharm以在VM上工作 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Configuring_product_to_Work_on_the_VM"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="configuring-product-to-work-on-the-vm.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Configuring_product_to_Work_on_the_VM.xml" data-toc="Configuring_product_to_Work_on_the_VM">配置PyCharm以在VM上工作</h1>      <p id="2dee1fd7">考虑在一个平台上处理项目但希望在另一个平台上部署和运行它的情况。这就是PyCharm对远程解释器的广泛支持所带来的帮助。</p>    <p id="68e7560b">在虚拟机上运行项目的任务分为几个主要步骤：</p>    <ul class="list _ul"><li class="list__item" id="55b772ce"><p>首先，您需要定义一个虚拟框。</p></li><li class="list__item" id="bf59c950"><p>其次，您需要配置远程解释器以在此虚拟框中运行。</p></li><li class="list__item" id="ead238d2"><p>最后，您需要在远程控制台中启动脚本。</p></li></ul>        <p id="792dd9b8">在开始之前，请确保在PyCharm之外您已经完成以下操作：</p>        <ul class="list _ul"><li class="list__item" id="31729c73"><p>安装了<a href="https://www.virtualbox.org/" data-bypass="yes" target="_blank"><span>Oracle的Virtual Box</span></a> 。</p></li><li class="list__item" id="f76061f4"><p>安装<a href="https://www.vagrantup.com/" data-bypass="yes" target="_blank"><span>Vagrant</span></a> 。</p></li><li class="list__item" id="5c907cef">                <p id="5276706a">在系统路径中添加了以下可执行文件：</p>                <ul class="list _ul"><li class="list__item" id="c64a63df"><p>您的Vagrant安装中的<span class="filepath">vagrant.bat</span> 。这应该由安装人员自动完成。</p></li><li class="list__item" id="5c263b09"><p>Oracle的VirtualBox安装中的<span class="filepath">VBoxManage.exe</span> 。</p></li></ul>            </li></ul>            <div class="chapter"><h2 id="virt-box" data-toc="Configuring_product_to_Work_on_the_VM#virt-box">创建一个虚拟框</h2>        <p id="1d1359c9">在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，选择页面<a href="vagrant.html"><span>Vagrant</span></a> ，然后输入Vagrant可执行文件和Vagrant实例文件夹。</p>        <p id="7da97365">如果已定义这些框，它们将显示在列表中，您可以选择一个。</p>        <figure><img alt="定义Vagrant设置" title="定义Vagrant设置" src="../img/idea/2019.1/vagrant_virtual_box.png" id="d9e2d5bb" width="837" height="802"></figure><p id="952364e0">如果没有合适的虚拟框，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加一个虚拟框">创建一个新的。输入用于下载的框名称和URL：</p>        <p id="c4ae7392">单击<span class="control">OK后</span> ，PyCharm将下载VM模板。因此，创建虚拟框并将其添加到环境中。</p>        <p id="e342cf7b">注意“ <span class="menupath" data-skip-index="skip">工具”</span>菜单下的“ <span class="menupath" data-skip-index="skip">Vagrant”</span>菜单命令。这些命令对应于标准的Vagrant操作。创建Vagrant框后，必须在项目根目录中初始化它。为此，请在主菜单上指向“ <span class="menupath" data-skip-index="skip">工具”| Vagrant</span> ，然后<span class="menupath" data-skip-index="skip">在Project Root中</span>选择<span class="menupath" data-skip-index="skip">Init</span> 。</p>        <p id="362b2f4f">如果需要，请选择文件夹。请注意，如果在同一窗口中打开了多个项目，则可以选择此选项。选择您要初始化的Vagrant框。</p>        <p id="cbd66ac5">因此，创建了<code class="code">Vagrantfile</code> ，您可以根据需要查看和更改它：</p>        <figure><img alt="生成Vagrantfile" title="生成Vagrantfile" src="../img/idea/2019.1/py_vagrantfile_initial.png" id="82b8ff10" width="622" height="586"></figure>        <p id="36423094">初始化后，执行<code class="code">vagrant up</code>命令（在<span class="menupath" data-skip-index="skip">Tools | Vagrant</span>菜单上选择<span class="menupath" data-skip-index="skip">Up</span> ）。PyCharm运行<code class="code">vagrant up</code>命令，并在控制台中显示其输出：</p>        <figure><img alt="运行vagrant up命令" title="运行vagrant up命令" src="../img/idea/2019.1/vagrant_up.png" id="bd3c3d5c" width="750" height="1020"></figure>            </div>    <div class="chapter"><h2 id="configure" data-toc="Configuring_product_to_Work_on_the_VM#configure">通过虚拟框配置远程解释器</h2>                <p id="ee2f3db5">现在再次打开“ <span class="control">设置/首选项”</span>对话框，然后选择“ <a href="project-interpreter.html"><span>项目解释器</span></a> ”页面。在这里，您可以从下拉列表中选择一个口译员，但是如果没有一个建议的口译员满足您的需求怎么办？然后单击图标<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.gearPlain.svg@2x.png" width="16" alt="添加口译员">定义自己的。在下拉菜单中选择<span class="control">添加</span> 。</p>                        <p id="cd7c18bd">在“ <span class="control">配置远程Python解释器”</span>对话框中，您必须指定服务器设置。可以从已定义的Vagrant配置文件中获取这些设置。所有服务器设置字段都填充了从Vagrant配置文件中获取的值：</p>        <figure><img alt="添加翻译：Vagrant" title="添加翻译：Vagrant" src="../img/idea/2019.1/py_configure_remote_interpreter_vagrant.png" id="b4495680" width="902" height="636"></figure>        <p id="583cbb13">请注意，路径映射是自动定义的。但是，您可以单击<img alt="浏览按钮" title="浏览按钮" src="../img/idea/2019.1/browseButton.png" id="9274b592" width="15" height="15" class="inline-icon-15">添加自己的路径映射：</p>        <p id="2c71c4f8">从现在开始，您可以在VM上运行项目的任何脚本：</p>        <figure><img alt="使用Vagrant运行应用程序" title="使用Vagrant运行应用程序" src="../img/idea/2019.1/vagrant_run.png" id="fc0cb817" width="728" height="970"></figure>        <p id="4c0ecfab">下一步是什么？我们通过SSH登录虚拟机。</p>    </div><div class="chapter"><h2 id="connect" data-toc="Configuring_product_to_Work_on_the_VM#connect">连接SSH终端</h2>    <p id="1d1dd69d">为什么我们需要它呢？PyCharm允许您通过SSH登录虚拟机，无需离开IDE即可在其控制台中工作。因此，在主菜单上选择<span class="menupath" data-skip-index="skip">工具|运行SSH会话....</span>如果您已定义了多个主机，请选择要连接的主机：</p>    <figure><img alt="选择要连接的主机" title="选择要连接的主机" src="../img/idea/2019.1/vagrant_console.png" id="ce400b5e" width="583" height="276"></figure>    <p id="d5a1dbb9">既然您可以直接访问虚拟机，那么首先要确保您的项目目录已正确映射。为此，只需查看默认vagrant的共享文件夹<code class="code">/vagrant</code> ，然后启动其中一个可用脚本，例如<code class="code">Solver.py</code> ：</p>    <figure><img alt="在Vagrant VM中运行脚本" title="在Vagrant VM中运行脚本" src="../img/idea/2019.1/vagrant_map.png" id="4dddee46" width="711" height="438"></figure></div><div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-the-advanced-vagrant-features-in-product.html">使用PyCharm</a> <a class="navigation-links__next" href="relational-databases.html">数据库和SQL中</a> <a class="navigation-links__prev" href="using-the-advanced-vagrant-features-in-product.html">的高级流动功能</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>