<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="local-history.html"></link><meta charset="UTF-8"></meta><title>当地历史 - 帮助| WebStorm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="concepts.versionControl.localHistory"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索WebStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="local-history.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>WebStorm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="true"><h1 id="local_history.xml" data-toc="concepts.versionControl.localHistory">当地历史</h1>    <p id="local_history_intro">WebStorm使用<span class="keyword">本地历史记录</span>不断跟踪对项目所做的所有更改。与显示特定提交之间差异的版本控制系统不同， <span class="keyword">本地历史记录会</span>自动维护所有有意义事件的修订。这会生成项目结构和源代码更改的详细时间表，并能够在必要时回滚到任何点。</p>    <aside class="warning " rel="local_history_intro" id="21c2fd0b" data-title="">        <p id="5c3630a5">本地历史不能取代适当的源代码控制。</p>        <p id="30e520e5">安装新版本的WebStorm或使缓存无效时，它将被清除。它具有保留期和最大大小，因此不能保证修订永久存在。</p>    </aside>    <section class="procedure-steps"><h2 id="e610530a">要查看本地历史记录：</h2><ul class="list "><li class="list__item" id="e32f9656"><p>在<span class="control">VCS</span>菜单上，指向“ <span class="control">本地历史记录”</span> ，然后单击“ <span class="control">显示历史记录”</span> 。</p></li></ul></section>    <p id="local_history_window">        <span class="keyword">本地历史记录</span>包含修订列表，并显示它们之间的差异。查看目录的<span class="keyword">本地历史记录时</span> ，修订版仅显示目录中已更改的文件的名称。特定文件的修订包含对文件内容的更改。</p>    <aside class="note " rel="local_history_window" id="6d58d4e3" data-title=""><p>本地历史记录不适用于二进制文件的内容。</p></aside>    <section class="procedure-steps"><h2 id="2c46b9e2">要恢复到特定修订：</h2><ul class="list "><li class="list__item" id="8c1598c7"><p>从列表中选择它，然后单击工具栏上的“ <span class="control">还原</span> ”。</p></li></ul></section>    <p id="a148b200">这会为<span class="keyword">本地历史记录</span>添加新修订。</p>        <div class="chapter"><h2 id="source" data-toc="concepts.versionControl.localHistory#source">查看源代码元素的本地历史记录</h2>        <p id="27fd238c">在某些情况下，您可能不希望查看整个文件的<span class="keyword">本地历史记录</span> ，但仅针对特定的源代码元素：类，其成员（字段和方法）或任何选定的文本片段。</p>        <section class="procedure-steps"><h2 id="633e6fe8">要查看班级的本地历史记录：</h2><ul class="list "><li class="list__item" id="95f2289c"><p>在编辑器中右键单击类名，指向“ <span class="control">本地历史记录”</span> ，然后单击“ <span class="control">显示类的历史记录”</span> 。</p></li></ul></section>        <section class="procedure-steps"><h2 id="b35ba621">要查看类字段的本地历史记录：</h2><ul class="list "><li class="list__item" id="7f168cc1"><p>右键单击编辑器中的字段名称，指向“ <span class="control">本地历史记录”</span> ，然后单击“ <span class="control">显示字段的历史记录”</span> 。</p></li></ul></section>        <section class="procedure-steps"><h2 id="4df8714c">要查看类方法的本地历史记录：</h2><ul class="list "><li class="list__item" id="50c7f157"><p>右键单击编辑器中的方法名称，指向“ <span class="control">本地历史记录”</span> ，然后单击“ <span class="control">显示方法的历史记录”</span> 。</p></li></ul></section>        <section class="procedure-steps"><h2 id="95627ad2">要查看源代码片段的本地历史记录：</h2><ul class="list "><li class="list__item" id="62ddad28"><p>在编辑器中右键单击所选文本，指向“ <span class="control">本地历史记录”</span> ，然后单击“ <span class="control">显示选择历史记录”</span> 。</p></li></ul></section>    </div>        <div class="chapter"><h2 id="labels" data-toc="concepts.versionControl.localHistory#labels">添加标签到本地历史记录</h2>        <p id="240cc474">            <span class="keyword">本地历史记录</span>包含带时间戳的修订版，这些修订版不易于导航。某些修订会根据预定义事件自动标记标签：运行测试，部署应用程序，提交更改等。您还可以添加自定义标签以标记“ <span class="keyword">本地历史记录”中的</span>特定里程碑。</p>        <section class="procedure-steps"><h2 id="b3216ad2">要为当前修订添加标签：</h2><ol class="list _decimal"><li class="list__item" id="3f9aceb9"><p>在<span class="control">VCS</span>菜单上，指向“ <span class="control">本地历史记录”</span> ，然后单击“ <span class="control">放置标签”</span> 。</p></li><li class="list__item" id="296e3530"><p>在“ <span class="control">放置标签”</span>对话框中，键入标签名称，然后单击“ <span class="control">确定”</span> 。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="share" data-toc="concepts.versionControl.localHistory#share">分享本地历史</h2>        <p id="f6ba3cd0">            <span class="keyword">本地历史记录</span>不支持共享访问，仅供个人使用。但是，您可以创建一个补丁文件，其中包含与特定修订相关的更改，您可以与其他人共享。</p>        <section class="procedure-steps"><h2 id="40b1111f">要生成补丁：</h2><ul class="list "><li class="list__item" id="208e4528"><p>在<span class="keyword">Local History中</span>选择相关修订，然后单击工具栏上的<span class="control">Create Patch</span> 。</p></li></ul></section>    </div>    <div class="chapter"><h2 id="recent-changes" data-toc="concepts.versionControl.localHistory#recent-changes">查看最近的更改</h2>        <p id="8f1f4189">除了详细的<span class="keyword">本地历史记录外</span> ，WebStorm还提供了所有项目最近主要变化的摘要。</p>        <section class="procedure-steps"><h2 id="2d232f11">要查看最近的更改：</h2><ul class="list "><li class="list__item" id="fde54ec9"><p>在<span class="control">视图</span>菜单上，单击<span class="control">最近的更改</span> 。</p></li></ul></section>        <p id="532af965">您可以选择您感兴趣的更改以查看差异，并在必要时还原它。</p>    </div>        <div class="chapter"><h2 id="retention" data-toc="concepts.versionControl.localHistory#retention">本地历史的保留期限</h2>        <p id="retention-intro">默认情况下， <span class="keyword">本地历史记录</span>配置为存储最近5个<i id="90d5c020">工作日</i> （即修改文件的日期）的修订。</p>        <section class="procedure-steps"><h2 id="change-retention">要更改本地历史记录的保留期限：</h2><ol class="list _decimal"><li class="list__item" id="3ea6f86c"><p>在“ <span class="control">帮助”</span>菜单上，单击“ <span class="control">查找操作”</span>或按<kbd data-primary_default="Ctrl+Shift+A" data-primary_default_for_gnome="Ctrl+Shift+A" data-primary_default_for_kde="Ctrl+Shift+A" data-primary_default_for_xwin="Ctrl+Shift+A" data-primary_emacs="Escape, X" data-primary_visual_studio="Ctrl+Shift+A" data-primary_eclipse="Ctrl+Shift+A" data-secondary_mac_os_x_10.5_="⇧⌘A" data-secondary_mac_os_x="⇧⌘A" data-secondary_eclipse_mac_os_x="⌘3">Ctrl + Shift + A.</kbd></p></li><li class="list__item" id="6ec2da5a"><p>查找并打开<span class="control">注册表</span>编辑器。</p></li><li class="list__item" id="b4c9d14f"><p>修改<code class="code">localHistory.daysToKeep</code>参数的值。</p></li><li class="list__item" id="5f285d2a"><p>单击“ <span class="control">关闭”</span>并重新启动WebStorm以使更改生效。</p></li></ol></section>        <p id="368fa275">或者，您可以通过<a href="tuning-the-ide.html#configure-jvm-options">配置JVM选项</a>将<code class="code">localHistory.daysToKeep</code>参数作为Java属性传递。例如，要将保留期设置为30天，请将以下行添加到JVM选项文件中：</p>        <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">-</span> <span class="n">DlocalHistory</span> <span class="o">。</span> <span class="na">daysToKeep</span> <span class="o">=</span> <span class="mi">30</span></code></div>        <aside class="note " rel="change-retention" id="0bd0a779" data-title="">            <p id="cee10557">如果要完全禁用“ <span class="keyword">本地历史记录”</span> ，请将保留期设置为<code class="code">0</code> 。</p>        </aside>    </div>    <div class="chapter"><h2 id="location" data-toc="concepts.versionControl.localHistory#location">本地历史文件的位置</h2>        <p id="d0854b9f"><span class="keyword">本地历史记录</span>存储为<a href="tuning-the-ide.html#system-directory">WebStorm系统目录中</a> <span class="filepath">LocalHistory</span>子目录下的二进制文件：</p>                                <div class="tabs" id="46d9128d"><div class="tabs__content" id="764479d4" data-title="Windows">                        <dl><dt id="adf8326e">句法</dt><dd><div class="code-block" data-lang="Plain Text"><code class="code-block__wrapper">％HOMEPATH％\。&lt;产品&gt; &lt;版本&gt; \系统</code></div></dd><dt id="cea671b2">例</dt><dd><div class="code-block" data-lang="Plain Text"><code class="code-block__wrapper">C：\用户\约翰\。WebStorm2019.1 \系统</code></div></dd></dl>                    </div><div class="tabs__content" id="b7155725" data-title="macOS">                        <dl><dt id="1e824007">句法</dt><dd><div class="code-block" data-lang="Plain Text"><code class="code-block__wrapper">〜/库/缓存/ &lt;产品&gt; &lt;版本&gt;</code></div></dd><dt id="9eefc6fe">例</dt><dd><div class="code-block" data-lang="Plain Text"><code class="code-block__wrapper">〜/图书馆/缓存/ WebStorm2019.1</code></div></dd></dl>                    </div><div class="tabs__content" id="2d28259c" data-title="Linux">                        <dl><dt id="7bafa2ed">句法</dt><dd><div class="code-block" data-lang="Plain Text"><code class="code-block__wrapper">〜/ &lt;产品&gt; &lt;版本&gt; /系统</code></div></dd><dt id="f4695b2c">例</dt><dd><div class="code-block" data-lang="Plain Text"><code class="code-block__wrapper">〜/。WebStorm2019.1 /系统</code></div></dd></dl>                    </div></div>                    <p id="df5502d2">您可以使用<a href="tuning-the-ide.html#idea.system.path">idea.system.path</a>属性更改系统目录的位置。</p>    </div><div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月25日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="tfs-check-in-policies.html">TFS签到策略</a> <a class="navigation-links__next" href="working-with-system-console.html">使用嵌入式本地终端</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>