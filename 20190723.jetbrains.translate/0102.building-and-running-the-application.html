<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="building-and-running-the-application.html"></link><meta charset="UTF-8"></meta><title>构建和运行应用程序 - 帮助| IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Building_and_Running_the_Application"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="building-and-running-the-application.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Building_and_Running_the_Application.xml" data-toc="Building_and_Running_the_Application">构建和运行应用程序</h1>    <p id="3689f5b1">在创建了第一个Android应用程序之后，您就可以编译它并将其部署到Android模拟器或物理设备。</p>    <p id="197d4a20">在构建项目并开始测试应用程序之前，建议您查看当前的构建配置。</p>    <p id="5b50a1da">在本教程中：</p>    <ul data-skip-index="skip"><li class="list__item"><a href="building-and-running-the-application.html#d8b1d98c">查看默认的运行/调试配置</a></li><li class="list__item"><a href="building-and-running-the-application.html#AddRunConfig">添加新的运行/调试配置</a></li><li class="list__item"><a href="building-and-running-the-application.html#15093b71">在仿真器上测试应用程序</a></li><li class="list__item"><a href="building-and-running-the-application.html#bfa09bd3">在物理设备上测试应用程序</a></li><li class="list__item"><a href="building-and-running-the-application.html#808a1817">调试应用程序</a></li><li class="list__item"><a href="building-and-running-the-application.html#95af22e3">分析调试输出</a></li></ul>    <div class="chapter"><h2 id="d8b1d98c">查看默认的运行/调试配置</h2>        <p id="dbc77162">单击<span class="control">运行|编辑配置</span> 。将显示以下对话框：</p>        <figure><img alt="Android运行调试配置" title="Android运行调试配置" src="../img/idea/2019.1/Android_run_debug_config.png" id="86007732" width="1092" height="702"></figure>        <p id="2240f02b">IntelliJ IDEA自动创建与项目同名的默认运行/调试配置。有关Android运行/调试配置中每个配置选项的详细说明，请参阅<a href="run-debug-configuration-android-application.html">运行/调试配置：Android应用程序</a> 。</p>    </div>        <div class="chapter"><h2 id="AddRunConfig">添加新的运行/调试配置</h2>        <p id="0f68ba81">让我们创建一个自定义构建配置：</p>        <ol class="list _decimal"><li class="list__item" id="1554722c"><p>在“ <a href="run-debug-configurations-dialog.html">运行/调试配置”</a>对话框中，单击“ <span class="control">添加”</span>按钮<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg">并从列表中选择<span class="control">Android应用程序</span> ：</p><figure><img alt="Android新构建配置步骤1" title="Android新构建配置步骤1" src="../img/idea/2019.1/Android_new_build_config_step1.png" id="ccb019cd" width="1092" height="702"></figure>            </li><li class="list__item" id="16e96b88">新项目将添加到左窗格中的树中，默认名称为<code class="code">Unnamed</code> 。选择它并在“ <span class="control">名称”</span>字段中输入更有意义的<span class="control">名称</span> ，例如， <code class="code">HelloDroid Emulator</code> ：<figure><img alt="Android新构建配置步骤2" title="Android新构建配置步骤2" src="../img/idea/2019.1/Android_new_build_config_step2.png" id="4f074d9d" width="1092" height="702"></figure>                <p id="edfcf2e3">请注意，新创建的配置显示为红叉，表示尚未准备好使用，因为未指定任何模块。</p>            </li><li class="list__item" id="94672a1e">接下来，您需要指定可执行模块。展开<span class="control">Module</span>下拉列表并选择<code class="code">HelloDroid</code> ：它是项目中唯一的可执行模块。<figure><img alt="Android新构建配置步骤3" title="Android新构建配置步骤3" src="../img/idea/2019.1/Android_new_build_config_step3.png" id="2183ab33" width="1092" height="702"></figure>                <p id="f7d3b708">选择模块后，红叉消失，因为现在您的运行/调试配置已填充所需的最少信息。</p>            </li><li class="list__item" id="6adaa460"><p>接下来，确保在“ <span class="control">安装选项”</span>下选择“ <span class="control">默认APK”</span> <span class="control">选项</span> 。选择此选项后，应用程序将自动部署在目标设备上。</p></li><li class="list__item" id="b278daee"><p>接下来，您需要确定要作为模块的启动器活动启动哪个活动。您可以启动<code class="code">AndroidManifest</code>文件中配置的默认活动，也可以选择自定义活动。由于示例应用程序只有一个活动，因此请选择“ <span class="control">默认活动”</span>选项。</p></li><li class="list__item" id="742698ad">最后，您需要指定启动应用程序的目标设备。我们选择<span class="control">Emulator</span>选项。如果已配置Android虚拟设备，则可以从“ <span class="control">首选Android虚拟设备”</span>下拉列表中选择设备。如果未配置任何设备，请执行以下步骤：<ul class="list _alpha-lower"><li class="list__item" id="f0448cf9"><p>从主菜单中，选择“ <span class="control">工具”| Android | AVD Manager</span>启动<span class="control">Android虚拟设备管理器</span> ：</p><figure><img alt="Android AVD经理欢迎" title="Android AVD经理欢迎" src="../img/idea/2019.1/Android_AVD_manager_welcome.png" id="2a67d050" width="868" height="591"></figure>                    </li><li class="list__item" id="24187111"><p>单击“ <span class="control">创建虚拟设备”</span> 。在打开的对话框中，在左侧窗格中选择要模仿的Android设备的类型： <span class="control">电视</span> ， <span class="control">电话</span> ， <span class="control">磨损</span>或<span class="control">平板电脑</span> 。我们选择<span class="control">电话</span> 。在中央窗格中选择手机型号（例如， <span class="control">Nexus 5X</span> ），然后单击<span class="control">下一步</span> ：</p><figure><img alt="Android AVD经理step1" title="Android AVD经理step1" src="../img/idea/2019.1/Android_AVD_manager_step1.png" id="4dd2a9ad" width="938" height="614"></figure>                    </li><li class="list__item" id="4fee8b36"><p>在下一步中，选择要在虚拟设备上模拟的系统映像，即操作系统版本，Android API级别，应用程序二进制接口（ABI）和目标SDK版本：</p><figure><img alt="Android AVD经理step2" title="Android AVD经理step2" src="../img/idea/2019.1/Android_AVD_manager_step2.png" id="0096dfe0" width="1080" height="620"></figure>                    </li><li class="list__item" id="4d696cdc"><p>在最后一步，您可以修改AVD名称并选择虚拟设备屏幕的启动大小和方向：</p><figure><img alt="Android AVD经理step3" title="Android AVD经理step3" src="../img/idea/2019.1/Android_AVD_manager_step3.png" id="cb7f934d" width="1080" height="670"></figure>                    </li><li class="list__item" id="fdc56e0a"><p>单击“ <span class="control">完成”</span>以完成向导。新创建的Android虚拟设备将添加到设备列表中：</p><figure><img alt="Android AVD经理决赛" title="Android AVD经理决赛" src="../img/idea/2019.1/Android_AVD_manager_final.png" id="8f4e56c5" width="941" height="457"></figure>                    </li><li class="list__item" id="6e37b8ad"><p>返回“ <span class="control">运行/调试配置”</span>对话框。</p></li></ul>            </li><li class="list__item" id="55e6583f">请注意，Android虚拟设备（AVD）只是一个配置文件，您可以通过该文件定义仿真器模拟的硬件和软件选项。除AVD设置外，您还可以配置补充参数，例如要模拟的网络传输速率，网络延迟（初始输入和输出之间的时间延迟）等。要访问这些设置，请在<span class="control">AVD管理</span>器中从列表中选择一个模拟器，然后单击<span class="control">编辑此AVD</span> <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.edit.svg@2x.png" width="16" alt="图标操作编辑svg">右边的图标。在<span class="control">Virtual Device Configuration</span>对话框中，单击<span class="control">Show Advanced Settings</span>按钮：<figure><img alt="AVD高级设置" title="AVD高级设置" src="../img/idea/2019.1/AVD_advanced_settings.png" id="83d138c3" width="1080" height="712"></figure>                <p id="3ecbbd0e">然后将这些参数作为命令行参数传递给仿真器。</p>            </li><li class="list__item" id="600b4953"><p>在“ <span class="control">运行/调试配置”</span>对话框中，单击“ <span class="control">确定”</span>以保存新创建的构建配置。</p></li><li class="list__item" id="19e6198f">请注意，如果在配置Android虚拟设备时选择了x86应用程序二进制接口，则在运行和测试应用程序之前还需要安装<a href="https://software.intel.com/en-us/android/articles/intel-hardware-accelerated-execution-manager" data-bypass="yes" target="_blank"><span>Intel x86仿真器加速器</span></a> ，否则当您尝试构建时，IntelliJ IDEA将抛出错误项目。去做这个：<ol class="list _decimal"><li class="list__item" id="25ae5c6f"><p>启动<span class="control">SDK Manager</span> ：在主菜单中，选择<span class="control">Tools | Android | SDK Manager</span> 。</p></li><li class="list__item" id="79205858"><p>向下滚动到名为<span class="control">Extras</span>的文件夹。</p></li><li class="list__item" id="33006236"><p>在此文件夹中，找到<span class="emphasis">Intel x86 Emulator Accelerator（HAXM安装程序）</span> ，选中相应的复选框，然后单击<span class="control">Install packages</span>按钮。</p></li><li class="list__item" id="dbbf1c64"><p>在打开的对话框中，接受许可协议，然后单击“ <span class="control">安装”</span> 。</p></li><li class="list__item" id="c7bf9afb"><p>导航到Android SDK安装目录（SDK路径显示在<span class="control">Android SDK Manager</span>窗口的顶部）。在<span class="control">\ extras \ intel \ Hardware_Accelerated_Execution_Manager</span>文件夹中，找到<code class="code">intelhaxm-android.exe</code>文件，然后双击以启动它。</p></li><li class="list__item" id="eb87bb18"><p>按照英特尔硬件加速执行管理器设置向导的说明完成安装。</p></li></ol>            </li></ol>    </div>    <div class="chapter"><h2 id="15093b71">在仿真器上测试应用程序</h2>        <p id="eba5e652">要构建项目，请按<kbd data-primary_default="Shift+F10" data-primary_default_for_gnome="Shift+F10" data-primary_default_for_kde="Shift+F10" data-primary_default_for_xwin="Shift+F10" data-primary_emacs="Shift+F10" data-primary_jbuilder="F9" data-primary_visual_studio="Ctrl+F5" data-primary_netbeans="F6" data-primary_eclipse="Shift+Alt+X" data-secondary_mac_os_x_10.5_="⌃R" data-secondary_mac_os_x="⇧F10" data-secondary_eclipse_mac_os_x="⇧⌘F11" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⇧F10">Shift + F10</kbd>或单击“ <span class="control">运行”</span>图标<img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="icons toolwindows toolWindowRun svg">在编辑器右上角的<a href="navigation-bar.html">导航栏中</a> ：</p>        <figure><img alt="Android运行项目" title="Android运行项目" src="../img/idea/2019.1/Android_run_project.png" id="71e90fec" width="335" height="52"></figure>        <p id="810795aa">将根据当前在下拉列表中选择的运行/调试配置构建项目。如果没有错误发生，IntelliJ IDEA会将二进制文件和资源打包到一个<span class="control">APK文件中</span>并将其上传到Android模拟器：</p>        <figure><img alt="Android上传APK到模拟器" title="Android上传APK到模拟器" src="../img/idea/2019.1/Android_upload_APK_to_emulator.png" id="c50cb598" width="1121" height="324"></figure>        <p id="45f47a58">如果Android模拟器尚未启动并运行，IntelliJ IDEA将在上传应用程序之前对其进行初始化。模拟器接收并安装包，并通过调用指定的启动活动来启动它：</p>        <figure><img alt="Android nexus5 hellodroid" title="Android nexus5 hellodroid" src="../img/idea/2019.1/Android_nexus5_hellodroid.png" id="88546cd8" width="539" height="854"></figure>    </div>    <div class="chapter"><h2 id="bfa09bd3">在物理设备上测试应用程序</h2>        <p id="d1c24e7a">要在真实的Android设备上测试您的应用，您需要：</p>        <ol class="list _decimal"><li class="list__item" id="e1284048"><p>                <a href="building-and-running-the-application.html#AddRunConfig">添加运行/调试配置</a> ，并确保在<span class="control">目标设备</span>下选择<span class="control">USB</span> <span class="control">设备</span> 。</p></li><li class="list__item" id="12b3eea3"><p>确保通过USB电缆将Android设备连接到计算机。</p></li><li class="list__item" id="eef56ec4"><p>按<kbd data-primary_default="Shift+F10" data-primary_default_for_gnome="Shift+F10" data-primary_default_for_kde="Shift+F10" data-primary_default_for_xwin="Shift+F10" data-primary_emacs="Shift+F10" data-primary_jbuilder="F9" data-primary_visual_studio="Ctrl+F5" data-primary_netbeans="F6" data-primary_eclipse="Shift+Alt+X" data-secondary_mac_os_x_10.5_="⌃R" data-secondary_mac_os_x="⇧F10" data-secondary_eclipse_mac_os_x="⇧⌘F11" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⇧F10">Shift + F10</kbd>或单击“ <span class="control">运行”</span>图标<img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="icons toolwindows toolWindowRun svg">在编辑器右上角的<a href="navigation-bar.html">导航栏中</a> 。</p></li></ol>        <p id="713b1d34">如果应用程序的安装失败，则很可能这意味着该设备未配置为在Android应用程序商店之外安装应用程序。在您的设备上启用此功能以测试应用程序。</p>                <p id="2e0b04d7">在Android 4.2或更高版本上，执行以下操作：</p>        <ul class="list _bullet"><li class="list__item" id="f46775a6"><p>打开设备的<span class="control">设置</span> 。</p></li><li class="list__item" id="13e4fb68"><p>滚动到<span class="control">关于手机</span>或<span class="control">关于平板电脑，</span>然后点按它。</p></li><li class="list__item" id="000e9096"><p>滚动到底部，点击<span class="control">内置编号</span> 7次，直到看到“您是开发人员！“ 信息。通过这样做，您已经解锁了设备上的USB调试模式。</p></li><li class="list__item" id="d3a1cdd9"><p>现在导航到<span class="control">“设置”|开发者选项|调试| USB调试</span>让您的手机部署非打包应用程序。</p></li></ul>        </div>    <div class="chapter"><h2 id="808a1817">调试应用程序</h2>        <p id="a25930a1">IntelliJ IDEA允许您使用相应的运行/调试配置在仿真器或物理设备上以<a href="debugging-code.html">调试模式</a>启动应用程序。</p>        <p id="0ba6fc3e">要调试应用程序，需要在源代码中设置断点：将插入符号放在可执行行上，然后单击左侧装订线区域。您想要切换断点的行旁边会出现一个红色圆圈，该行将标记为粉红色：</p>        <figure><img alt="Android断点" title="Android断点" src="../img/idea/2019.1/Android_breakpoint.png" id="a8a78a2b" width="1462" height="640"></figure>        <p id="eec81370">要启动调试会话，请按<kbd data-primary_default="Shift+F9" data-primary_default_for_gnome="Shift+F9" data-primary_default_for_kde="Shift+F9" data-primary_default_for_xwin="Shift+F9" data-primary_emacs="Shift+F9" data-primary_jbuilder="Shift+F9" data-primary_visual_studio="Alt+F5" data-primary_netbeans="Ctrl+F5" data-primary_eclipse="Shift+Alt+D" data-secondary_mac_os_x_10.5_="⌃D" data-secondary_mac_os_x="⇧F9" data-secondary_eclipse_mac_os_x="⌘F11" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⇧F9">Shift + F9</kbd>或单击“ <span class="control">调试”</span>图标<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.startDebugger.svg@2x.png" width="16" alt="图标动作startDebugger svg">在编辑器右上角的<a href="navigation-bar.html">导航栏中</a> 。将激活“ <a href="debug-tool-window.html">调试”工具窗口</a> ，您可以在其中单<a href="stepping-through-the-program.html">步执行程序</a> ，检查<a href="debug-tool-window-variables.html">变量</a> ， <a href="debug-tool-window-watches.html">监视</a> ， <a href="debug-tool-window-frames.html">框架</a>和<a href="debug-tool-window-threads.html">线程</a> ，并在“ <a href="debug-tool-window-console.html">控制台”选项卡中</a>分析系统信息和错误消息。</p>    </div>    <div class="chapter"><h2 id="95af22e3">分析调试输出</h2>                <p id="1c66223e">在IntelliJ IDEA中，通过支持存储系统调试输出日志的<a href="http://developer.android.com/tools/help/logcat.html" data-bypass="yes" target="_blank"><span>logcat</span></a>功能来提供Android应用程序的调试。当模拟器抛出错误时，日志消息包括堆栈跟踪，因此您可以<a href="analyzing-external-stacktraces.html">导航到</a>源代码中<a href="analyzing-external-stacktraces.html">的异常位置</a> 。</p>            <p id="cc6ab6ad">在IntelliJ IDEA中， <span class="control">logcat</span>功能可通过<a href="android-logcat-tool-window.html">Android Monitor工具窗口</a>的<span class="control">Logcat</span>选项卡获得（有关详细信息，请参阅<a href="debugging-with-logcat.html">使用Logcat进行调试</a> ）：</p>        <figure><img alt="Android logcat" title="Android logcat" src="../img/idea/2019.1/Android_logcat.png" id="201d75de" width="1258" height="288"></figure>        <p id="9e5c28ff">您还可以在运行/调试配置的“ <a href="run-debug-configuration-android-application.html#misc">其他”选项卡</a>中配置其他logcat选项：</p>        <figure><img alt="android运行调试杂项" title="android运行调试杂项" src="../img/idea/2019.1/android_run_debug_miscellaneous.png" id="f66372a7" width="1092" height="702"></figure>    </div>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="exploring-the-project-structure.html">探索项目结构</a> <a class="navigation-links__next" href="editing-ui-layout-using-designer.html">使用Designer编辑UI布局</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="debugging-with-logcat.html"><span>使用Logcat进行调试</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="run-debug-configurations-dialog.html"><span>运行/调试配置对话框</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>概念：</h3><ul class="list"><li class="list__item"><a href="debugging-code.html"><span>不要暂停代码执行</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>