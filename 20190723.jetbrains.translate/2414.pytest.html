<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="pytest.html"><meta charset="UTF-8"><title>Pytest - Help | PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="Pytest"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PyCharm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="pytest.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Pytest" id="Pytest.xml">Pytest</h1>    <p id="418e1829">PyCharm supports <a href="https://docs.pytest.org" data-bypass="yes" target="_blank"><span>pytest</span></a>, a fully functional testing framework.</p>    <p id="b200fc4b">The following features are available:</p>    <ul class="list _ul"><li class="list__item" id="7edce1c1"><p>The dedicated test runner.</p></li><li class="list__item" id="11372bd7"><p>Code completion for test subject and pytest fixtures.</p></li><li class="list__item" id="b85bb5f5"><p>Code navigation (except for <a href="jumping-to-test-or-test-subject.html"><span>Jumping to Test or Test Subject</span></a>).</p></li><li class="list__item" id="808d44ea"><p>Detailed failing assert reports.</p></li><li class="list__item" id="393e461b"><p>Support for Python 2.7 and Python 3.5 and later.</p></li><li class="list__item" id="031a6369"><p><a href="performing-tests.html#test-mutliprocessing">Multiprocessing</a> test execution.</p></li></ul><p id="2a9f15fa">By default, the suggested default test runner is <a href="https://docs.python.org/2/library/unittest.html" data-bypass="yes" target="_blank"><span>unittest</span></a>. So, to utilize pytest, you need to make it the default test runner first.</p><section class="procedure-steps"><h2 id="enable-pytest" data-toc="Pytest#enable-pytest">Enable Pytest for you project</h2><ol class="list _decimal"><li class="list__item" id="6e1e1998"><p>Open the <span data-skip-index="skip" class="menupath">Settings/Preferences | Tools | Python Integrated Tools</span> settings dialog as described in <a href="choosing-your-testing-framework.html"><span>Choosing Your Testing Framework</span></a>.</p></li><li class="list__item" id="9270da14"><p>In the <span class="control">Default test runner</span> field select <span class="control">pytest</span>.    </p></li><li class="list__item" id="13f580fc"><p>Click <span class="control">OK</span> to save the settings.</p></li></ol></section>    <p id="de8b36bb">Now, that pytest is set as the default testing framework, you can create a small test for the        <a href="creating-and-running-your-first-python-project.html#edit-file">Car</a> sample. Let's create        a pytest test to check the <code class="code">brake</code> function.</p><section class="procedure-steps"><h2 id="create-pytest-test" data-toc="Pytest#create-pytest-test">Create a test</h2><ol class="list _decimal"><li class="list__item" id="134b8f55"><p>Create a <a href="creating-and-running-your-first-python-project.html#creating-simple-project">Python project</a>.</p></li><li class="list__item" id="bd6e08fd"><p>On the main menu, click <span class="control">File | New</span>, choose <span class="control">Python file</span>, type <span class="filepath">Car.py</span>, and click <span class="control">OK</span>.</p></li><li class="list__item" id="9b7aa034"><p>Copy and paste the        <a href="creating-and-running-your-first-python-project.html#edit-file">Car</a> sample into the <span class="filepath">Car.py</span> file.</p></li><li class="list__item" id="1fd84c3b"><p>Create one more Python file and name it <code class="code">test_car_pytest</code>.</p></li><li class="list__item" id="4c7421a8"><p>Add the following code to the newly created file. This code sets the initial speed value of <code class="code">Car</code> to        50 and checks if speed gets properly set to 45 after the <code class="code">brake()</code> function execution.</p></li></ol><div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">from</span> <span class="nn">Car</span> <span class="kn">import</span> <span class="n">Car</span>


<span class="k">def</span> <span class="nf">test_car_brake</span><span class="p">():</span>
    <span class="n">car</span> <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
    <span class="n">car</span><span class="o">.</span><span class="n">brake</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">car</span><span class="o">.</span><span class="n">speed</span> <span class="o">==</span> <span class="mi">45</span></code></div><p id="b6a3ed33">Note that PyCharm recognizes the test subject and offers completion for the <code class="code">Car</code> class' instance.</p><figure><img alt="Autocompletion for the test subject" title="Autocompletion for the test subject" src="../img/idea/2019.1/py_pytest_autocomplete.png" id="c549ad05" width="300" height="374"></figure><p id="3be1c7f5">PyCharm detects a function with an <code class="code">assert</code> statement and adds the <span class="control">Run Test</span> icon to the gutter.</p><p id="7da69e5f">Although <span class="control">Go To Test Subject</span> and <span class="control">Go To Test</span> commands of the context menu are not supported for pytest, you can    navigate to the tested code in <span class="filepath">Car.py</span> by using the <span class="control">Go To Declaration</span> (<kbd data-primary_default="Ctrl+B" data-primary_default_for_gnome="Ctrl+B" data-primary_default_for_kde="Ctrl+B" data-primary_default_for_xwin="Ctrl+B" data-primary_emacs="Ctrl+Alt+G" data-primary_visual_studio="F12" data-primary_netbeans="Ctrl+B" data-primary_eclipse="F3" data-secondary_mac_os_x_10.5_="⌘B" data-secondary_mac_os_x="⌘B" data-secondary_eclipse_mac_os_x="F3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="F12" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥G">Ctrl+B</kbd>) command.</p></section><section class="procedure-steps"><h2 id="run-pytest-test" data-toc="Pytest#run-pytest-test">Run a test</h2><ol class="list _decimal"><li class="list__item" id="559ed663"><p id="feef83db">Click <img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="Run Test"> to run the test:    <figure><img alt="Run the test" title="Run the test" src="../img/idea/2019.1/py_pytest_run_test.png" id="34492e3b" width="250" height="99"></figure></p>    <p id="32f7ea7c">Note that PyCharm automatically creates a pytest <a href="run-debug-configuration-py-test.html">Run/Debug</a> configuration:        <figure><img alt="Suggested run/debug configuration for pytest" title="Suggested run/debug configuration for pytest" src="../img/idea/2019.1/py_pytest_run_debug_configuration.png" id="413481d6" width="324" height="243"></figure> </p>        <p id="b0653deb">Select <span class="control">Run pytest for test_car_pytest</span> to execute the test.</p>    </li><li class="list__item" id="8c0a6bae"><p id="f7921133">Inspect test results:    <figure><img alt="Pytest run" title="Pytest run" src="../img/idea/2019.1/py_pytest_results.png" id="cf9718f0" width="800" height="610"></figure>    </p></li><li class="list__item" id="d9e8dfd5"><p id="0859a927">Alter the <code class="code">assert</code> statement to the following: <code class="code">assert my_car.speed == 4599</code>.</p></li><li class="list__item" id="0ac6759c"><p id="a0a9f41b">Rerun the test to evaluate the assert failing report:    <figure><img alt="Assert failing report" title="Assert failing report" src="../img/idea/2019.1/py_pytest_fail_report.png" id="6ee107d9" width="800" height="608"></figure>    Note that pytest provides an explicit report on the failure.    </p></li></ol></section>    <p id="59ec705c">With pytest <i id="7ba73e1c">fixtures</i> you can create small test units that can be reused across the testing module.        All you need is to mark a reusable unit with <code class="code">@pytest.fixture</code>.</p><section class="procedure-steps"><h2 id="pytest-fixtures" data-toc="Pytest#pytest-fixtures">Use fixtures</h2><ol class="list _decimal"><li class="list__item" id="37d755f1">        <p id="3c446744">Modify your <code class="code">Car</code> pytest test as follows:            <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">from</span> <span class="nn">Car</span> <span class="kn">import</span> <span class="n">Car</span>


<span class="nd">@pytest.fixture</span>
<span class="k">def</span> <span class="nf">my_car</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">Car</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_car_accelerate</span><span class="p">(</span><span class="n">my_car</span><span class="p">):</span>
    <span class="n">my_car</span><span class="o">.</span><span class="n">accelerate</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">my_car</span><span class="o">.</span><span class="n">speed</span> <span class="o">==</span> <span class="mi">55</span>


<span class="k">def</span> <span class="nf">test_car_brake</span><span class="p">(</span><span class="n">my_car</span><span class="p">):</span>
    <span class="n">my_car</span><span class="o">.</span><span class="n">brake</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">my_car</span><span class="o">.</span><span class="n">speed</span> <span class="o">==</span> <span class="mi">45</span></code></div>        </p>        <p id="20e522f3"><code class="code">my_car()</code> is a fixture function that creates a <code class="code">Car</code> instance with the speed value equal to 50. It is used in          <code class="code">test_car_accelerate</code> and <code class="code">test_car_brake</code> to verify correct execution of the corresponding functions in the <code class="code">Car</code> class.</p>      <p id="287f4a9c">Note that the <code class="code">my_car</code> fixture is added to the code completion list along with other standard pytest fixtures, such as <code class="code">tempdir</code>.      <figure><img alt="Autocompletion for a pytest fixture" title="Autocompletion for a pytest fixture" src="../img/idea/2019.1/py_pytest_fixture_autocomplete.png" id="fc58d08b" width="700" height="529"></figure>      </p>    </li><li class="list__item" id="da698203"><p>Click either of the <img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="Run Test"> icons, or run the entire test module.</p></li></ol><p id="b08718a2">You can enable sharing fixture instances across tests using the <code class="code">scope</code> parameter of the fixture function.    For more information about pytest fixtures, see <a href="https://docs.pytest.org/en/latest/fixture.html#fixture" data-bypass="yes" target="_blank"><span>pytest fixtures documentation</span></a>.</p></section>    <p id="d323ff09">You might want to run your tests on the predefined set of data. PyCharm supports test parametrization implemented in        pytest through <code class="code">@pytest.mark.parametrize</code>.</p>    <section class="procedure-steps"><h2 id="pytest-parametrize" data-toc="Pytest#pytest-parametrize">Apply parametrization</h2><ol class="list _decimal"><li class="list__item" id="7a4a6293"><p>Let us create a set of speed values to test <code class="code">car.accelerate</code> and <code class="code">car.brake</code> functions: <code class="code">speed_data = {45, 50, 55, 100}</code></p></li><li class="list__item" id="553c7f2a">            <p id="272a52eb">Modify the test code to the following:                <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">from</span> <span class="nn">Car</span> <span class="kn">import</span> <span class="n">Car</span>
<span class="n">speed_data</span> <span class="o">=</span> <span class="p">{</span><span class="mi">45</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">100</span><span class="p">}</span>


<span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="s">&quot;speed_brake&quot;</span><span class="p">,</span> <span class="n">speed_data</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_car_brake</span><span class="p">(</span><span class="n">speed_brake</span><span class="p">):</span>
<span class="n">car</span> <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">car</span><span class="o">.</span><span class="n">brake</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">car</span><span class="o">.</span><span class="n">speed</span> <span class="o">==</span> <span class="n">speed_brake</span>


<span class="nd">@pytest.mark.parametrize</span><span class="p">(</span><span class="s">&quot;speed_accelerate&quot;</span><span class="p">,</span> <span class="n">speed_data</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_car_accelerate</span><span class="p">(</span><span class="n">speed_accelerate</span><span class="p">):</span>
<span class="n">car</span> <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">car</span><span class="o">.</span><span class="n">accelerate</span><span class="p">()</span>
<span class="k">assert</span> <span class="n">car</span><span class="o">.</span><span class="n">speed</span> <span class="o">==</span> <span class="n">speed_accelerate</span></code></div>            </p>            <p id="fc013420">Note that PyCharm detects the newly created parameters and adds them to the completion list.</p>            <p id="fc542f97">                <figure><img alt="Code completion for pytest.mark.parametrize" title="Code completion for pytest.mark.parametrize" src="../img/idea/2019.1/py_pytest_parametrize_completion.png" id="1c86e156" width="500" height="241"></figure>            </p>        </li><li class="list__item" id="e8e10370"><p>Run the test for the <code class="code">car.brake()</code> function. You should expect the following test report:            <figure><img alt="Three tests failed and one test passed for the car.brake function" title="Three tests failed and one test passed for the car.brake function" src="../img/idea/2019.1/py_pytest_parametrize_test_run.png" id="d1ba9bce" width="800" height="529"></figure>        </p></li></ol><p id="67fb995c">You can also run the test for <code class="code">car.accelerate()</code> function to ensure that it fails for all speed values but 55.            Refer to <a href="https://docs.pytest.org/en/latest/parametrize.html" data-bypass="yes" target="_blank"><span>pytest documentation</span></a> for more information about parametrized tests.</p></section>    <p id="17d5f885">In addition to the mentioned capabilities, pytest supports Behavior-Driven Development (BDD) through <code class="code">pytest_bdd</code>. This is particularly helpful when    you need to quickly record your test using the Gherkin language and utilize beneficial features of pytest, such as <code class="code">fixture</code>.</p>    <section class="procedure-steps"><h2 id="pytest-bdd" data-toc="Pytest#pytest-bdd">Implement test scenarios</h2><ol class="list _decimal"><li class="list__item" id="d9481bcb"><p id="796322de">Let us modify the <code class="code">Car</code> sample to validate the car's speed. Add the following function to the <span class="filepath">Car.py</span> file:</p>            <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="k">def</span> <span class="nf">speed_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">&lt;=</span> <span class="mi">160</span></code></div>        </li><li class="list__item" id="c9c2189f">            <p id="8bde705a">Next, enable <code class="code">pytest-bdd</code> in your project.                 In the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl+Alt+S</kbd>), navigate to <span data-skip-index="skip" class="menupath">Languages &amp; Frameworks | BDD</span>,                and from the <span class="control">Preferred BDD framework</span> list select <span class="control">pytest-bdd</span>.</p>        </li><li class="list__item" id="d32f1a18"><p id="760b27eb">Create a <span class="filepath">.feature</span> file to record BDD scenarios using the Gherkin language.            Right-click the project root and select <span data-skip-index="skip" class="menupath">New | Gherkin feature file</span>.            In the opened dialog, specify <span class="filepath">car.feature</span> as the filename and click <span class="control">OK</span>.</p></li><li class="list__item" id="f83867b4">            <p id="311a3027">Add the following scenarios to the <span class="filepath">car.feature</span> file:</p>            <div class="code-block" data-lang="Actionscript"><code class="code-block__wrapper"><span class="nx">Feature</span><span class="o">:</span> <span class="nx">Speed</span>

<span class="nx">Scenario</span><span class="o">:</span> <span class="nx">Valid</span> <span class="nx">speed</span>
    <span class="nx">Given</span> <span class="nx">Speed</span> <span class="nx">is</span> <span class="nx">less</span> <span class="nx">than</span> <span class="mi">160</span>
    <span class="nx">When</span> <span class="nx">Accelerated</span>
    <span class="nx">Then</span> <span class="nx">Speed</span> <span class="nx">is</span> <span class="nx">valid</span>

<span class="nx">Scenario</span><span class="o">:</span> <span class="nx">Invalid</span> <span class="nx">speed</span>
    <span class="nx">Given</span> <span class="nx">Speed</span> <span class="nx">is</span> <span class="nx">more</span> <span class="nx">than</span> <span class="mi">160</span>
    <span class="nx">When</span> <span class="nx">Accelerated</span>
    <span class="nx">Then</span> <span class="nx">Speed</span> <span class="nx">is</span> <span class="nx">invalid</span></code></div>          <p id="6c7c0f8b">Both scenarios validate the speed of the car. The speed is supposed to be valid when it does not exceed the value of 160.              Note the scenario steps are highlighted because they are not defined by this moment.          </p>            <figure><img alt="bdd scenarios" title="bdd scenarios" src="../img/idea/2019.1/py_pytest_bdd_feature.png" id="cbd0937b" width="400" height="306"></figure>        </li><li class="list__item" id="b9e15472">            <p id="9e770953">PyCharm enables quick generation of step definitions for the entire feature file. Set cursor on any of the highlighted            steps, click <kbd data-primary_default="Ctrl+Shift+A" data-primary_default_for_gnome="Ctrl+Shift+A" data-primary_default_for_kde="Ctrl+Shift+A" data-primary_default_for_xwin="Ctrl+Shift+A" data-primary_emacs="Escape, X" data-primary_visual_studio="Ctrl+Shift+A" data-primary_netbeans="Ctrl+I" data-primary_eclipse="Ctrl+Shift+A" data-secondary_mac_os_x_10.5_="⇧⌘A" data-secondary_mac_os_x="⇧⌘A" data-secondary_eclipse_mac_os_x="⌘3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⇧A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⎋, X">Ctrl+Shift+A</kbd>, and select <span class="control">Create all step definitions</span>. In the opened dialog,                specify the name of the test file (it should start with <code class="code">test</code>), select <span class="control">Python (pytest-bdd)</span> from the <span class="control">File type</span> list, and, if needed,                modify the default file location.</p>            <figure><img alt="step definitions generation" title="step definitions generation" src="../img/idea/2019.1/py_pytest_bdd_step_definitions.png" id="418556c3" width="550" height="231"></figure>            <p id="a630932c">Inspect the <span class="filepath">test_car_pytest_bdd_fixture.py</span> file. It contains all required <code class="code">import</code> statements and definitions for            each scenario steps.</p>         </li><li class="list__item" id="c3e11d9d">            <p id="5617e60b">Let us modify the test file to use a pytest fixture for a <code class="code">Car</code> object and to add more test logic:</p>            <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">from</span> <span class="nn">pytest_bdd</span> <span class="kn">import</span> <span class="n">scenario</span><span class="p">,</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span>
<span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">from</span> <span class="nn">Car</span> <span class="kn">import</span> <span class="n">Car</span>


<span class="nd">@pytest.fixture</span>
<span class="k">def</span> <span class="nf">my_car</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">Car</span><span class="p">()</span>


<span class="nd">@scenario</span><span class="p">(</span><span class="s">&#39;car.feature&#39;</span><span class="p">,</span> <span class="s">&#39;Valid speed&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_speed_valid</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="nd">@scenario</span><span class="p">(</span><span class="s">&#39;car.feature&#39;</span><span class="p">,</span> <span class="s">&#39;Invalid speed&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_speed_invalid</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="nd">@given</span><span class="p">(</span><span class="s">&quot;Speed is less than 160&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">set_valid_speed</span><span class="p">(</span><span class="n">my_car</span><span class="p">):</span>
    <span class="n">my_car</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">50</span>


<span class="nd">@given</span><span class="p">(</span><span class="s">&quot;Speed is more than 160&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">set_invalid_speed</span><span class="p">(</span><span class="n">my_car</span><span class="p">):</span>
    <span class="n">my_car</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">100</span>


<span class="nd">@when</span><span class="p">(</span><span class="s">&quot;Accelerated&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">car_accelerate</span><span class="p">(</span><span class="n">my_car</span><span class="p">):</span>
    <span class="n">my_car</span><span class="o">.</span><span class="n">accelerate</span><span class="p">()</span>


<span class="nd">@then</span><span class="p">(</span><span class="s">&quot;Speed is valid&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">success</span><span class="p">(</span><span class="n">my_car</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">my_car</span><span class="o">.</span><span class="n">speed_validate</span><span class="p">()</span>


<span class="nd">@then</span><span class="p">(</span><span class="s">&quot;Speed is invalid&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">fail</span><span class="p">(</span><span class="n">my_car</span><span class="p">):</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">my_car</span><span class="o">.</span><span class="n">speed_validate</span><span class="p">()</span></code></div>         </li><li class="list__item" id="4f3c4a8d">             <p id="97e3b3c7">Run the test by creating the corresponding <a href="run-debug-configuration-py-test.html">Run/Debug</a> configuration.                 You can also run either of the scenarios using the <span class="control">Run</span> icon (<img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="Run icon">) in the gutter.</p>         </li><li class="list__item" id="9ec0b37f">            <p id="354c8227">Inspect the test run results.</p>            <figure><img alt="pytest-bdd results" title="pytest-bdd results" src="../img/idea/2019.1/py_pytest_bdd_results.png" id="ebb6ba62" width="900" height="306"></figure>            <p id="a9477ad7">In our example, we have the <code class="code">test_speed_valid</code> test passed and the <code class="code">test_speed_invalid</code>                test failed.</p>        </li></ol></section>    <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="testing-frameworks.html">Testing Frameworks</a><a class="navigation-links__next" href="tox-support.html">Tox Support</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>External Links:</h3><ul class="list"><li class="list__item"><a href="https://docs.pytest.org" data-bypass="yes" target="_blank"><span>docs.pytest.org</span></a></li><li class="list__item"><a href="https://docs.pytest.org/en/latest/index.html#documentation" data-bypass="yes" target="_blank"><span>Pytest documentation</span></a></li><li class="list__item"><a href="https://docs.pytest.org/en/latest/fixture.html#fixture" data-bypass="yes" target="_blank"><span>Pytest fixtures</span></a></li><li class="list__item"><a href="https://pytest-bdd.readthedocs.io/en/latest/" data-bypass="yes" target="_blank"><span>pytest-bdd</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























