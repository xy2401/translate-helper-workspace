<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="extract-variable.html"><meta charset="UTF-8"><title>Extract variable - Help | IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="procedures.refactoring.introduceVariable"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="extract-variable.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="procedures.refactoring.introduceVariable" id="Extract_Variable.xml">Extract variable</h1>                                                                  <p id="3b192d86">If you come across an expression that is hard to understand or it is duplicated in several            places            throughout you code, the            <span class="emphasis">Extract Variable</span>            refactoring can help you deal with those problems placing the result of such expression or its part into a            separate variable that is less complex and easier to understand. Plus, it reduces the code            duplication.        </p>        <p id="2dfc4ac1">Starting with Java 1.8 and later versions, IntelliJ IDEA also lets you            <a href="extract-variable.html#extract_functional_variable">extract a functional type variable</a>.        </p>                        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="98876e46"><p>In the editor, select an expression or its part that you want to extract. You can also place                the cursor within the expression, in this case IntelliJ IDEA offers you a list of potential code selections.</p></li><li class="list__item" id="5691dfbd"><p>Press <kbd data-primary_default="Ctrl+Alt+V" data-primary_default_for_gnome="Ctrl+Alt+V" data-primary_default_for_kde="Shift+Alt+V" data-primary_default_for_xwin="Ctrl+Alt+V" data-primary_emacs="Ctrl+Alt+V" data-primary_jbuilder="Ctrl+Alt+V" data-primary_visual_studio="Ctrl+Alt+V" data-primary_netbeans="Shift+Alt+V" data-primary_eclipse="Shift+Alt+L" data-secondary_mac_os_x_10.5_="⌥⌘V" data-secondary_mac_os_x="⌥⌘V" data-secondary_eclipse_mac_os_x="⌥⌘L" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥V">Ctrl+Alt+V</kbd> or on the main menu, select                <span data-skip-index="skip" class="menupath">Refactor | Extract | Extract Variable</span>.</p></li><li class="list__item" id="2a9ad86c">Select a name suggested in the pop-up or type your own and press <kbd data-primary_default="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_default_for_xwin="Enter" data-primary_emacs="Enter" data-primary_jbuilder="Enter" data-primary_visual_studio="Enter" data-primary_netbeans="Enter" data-primary_eclipse="Enter" data-secondary_mac_os_x_10.5_="⏎" data-secondary_mac_os_x="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⏎">Enter</kbd>.                <figure><img alt="extract var" title="extract var" src="../img/idea/2019.1/extract_var.png" id="bbb5c8d7" width="374" height="198"></figure>                If IntelliJ IDEA finds more than one occurrence, it lets you specify whether or not you want to extract                this variable for all of them.                                <p id="8937209a">You can also declare the variable you are extracting as <code class="code">final</code>.</p>                If you want to reassign the existing variable to a new one, press <kbd data-primary_default="Ctrl+Alt+V" data-primary_default_for_gnome="Ctrl+Alt+V" data-primary_default_for_kde="Shift+Alt+V" data-primary_default_for_xwin="Ctrl+Alt+V" data-primary_emacs="Ctrl+Alt+V" data-primary_jbuilder="Ctrl+Alt+V" data-primary_visual_studio="Ctrl+Alt+V" data-primary_netbeans="Shift+Alt+V" data-primary_eclipse="Shift+Alt+L" data-secondary_mac_os_x_10.5_="⌥⌘V" data-secondary_mac_os_x="⌥⌘V" data-secondary_eclipse_mac_os_x="⌥⌘L" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥V">Ctrl+Alt+V</kbd>. If you have more than one existing variable, IntelliJ IDEA                    displays a list to choose from.                    <p id="2f25604e">You can press <kbd data-bypass="true">Shift+Tab</kbd> to change a type of the                        variable.</p>                    <figure><img alt="change type for var" title="change type for var" src="../img/idea/2019.1/change_type_for_var.png" id="089376e5" width="320" height="195"></figure>                            </li></ol></section>        <p id="509b5065">If the            <span class="control">Enable in-place mode</span> option is not selected in the            <span data-skip-index="skip" class="menupath">Settings/Preferences | Editor |General</span> dialog (<i id="9fd0ac69">Refactorings</i> section),            IntelliJ IDEA opens the <span class="control">Extract Variable</span> dialog for this refactoring.        </p>        <figure><img alt="extract var dialog" title="extract var dialog" src="../img/idea/2019.1/extract_var_dialog.png" id="e1c34e03" width="293" height="191"></figure>        <div class="chapter"><h2 id="882539e7">Example</h2>            <p id="5c251799">Let's extract the <code class="code">anotherClass.inValue()</code> variable that occurs twice throughout the                code and give it a name <code class="code">number</code>.</p>            <div class="tabs" id="dae06b26"><div class="tabs__content" data-title="Java" id="619b0d64">                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="8e4db99a"><thead><tr id="d6f99651" class="ijRowHead"><th id="d562f482" width="50%"><p>Before</p></th><th id="f25ee318" width="50%"><p>After</p></th></tr></thead><tbody><tr id="259a3e84" class="ijRowOdd"><td id="c14f350e"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">()</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="o">...</span>
    <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">anotherClass</span><span class="o">.</span><span class="na">intValue</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">anotherClass</span><span class="o">.</span><span class="na">intValue</span><span class="o">();</span>
<span class="o">}</span></code></div>                        </p></td><td id="6c507188"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">method</span><span class="o">()</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="o">...</span>
    <span class="kt">int</span> <span class="n">number</span> <span class="o">=</span> <span class="n">anotherClass</span><span class="o">.</span><span class="na">intValue</span><span class="o">();</span>
    <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">number</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">number</span><span class="o">;</span>
<span class="o">}</span></code></div>                        </p></td></tr></tbody></table></div>                </div><div class="tabs__content" data-title="Kotlin" id="cab8f5fb">                    <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="47e3cba5"><thead><tr id="77a238d0" class="ijRowHead"><th id="b3fe95b8" width="50%"><p>Before</p></th><th id="a27373f5" width="50%"><p>After</p></th></tr></thead><tbody><tr id="26bcf089" class="ijRowOdd"><td id="34cbd474"><p>                                <div class="code-block" data-lang="Actionscript"><code class="code-block__wrapper"><span class="nx">func</span> <span class="nx">method</span><span class="p">()</span> <span class="p">{</span>
     <span class="nx">val</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
     <span class="nx">val</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">anotherClass</span><span class="o">!!</span><span class="p">.</span><span class="nx">intValue</span><span class="p">()</span>
     <span class="nx">val</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">b</span> <span class="o">+</span> <span class="nx">anotherClass</span><span class="o">!!</span><span class="p">.</span><span class="nx">intValue</span><span class="p">()</span>
<span class="p">}</span></code></div>                            </p></td><td id="f61d03d4"><p>                                <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">func</span> <span class="nf">method</span><span class="o">()</span> <span class="o">{</span>
     <span class="n">val</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
     <span class="n">val</span> <span class="n">number</span> <span class="o">=</span> <span class="n">anotherClass</span><span class="o">!!.</span><span class="na">intValue</span><span class="o">()</span>
     <span class="n">val</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">number</span>
     <span class="n">val</span> <span class="n">c</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">number</span>
<span class="o">}</span></code></div>                            </p></td></tr></tbody></table></div>                </div></div>        </div>                <div class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="extract_functional_variable">Extract functional variable</h2></div><div class="collapse__content">            <p id="52396e37">This refactoring creates a functional expression for Java 1.8 and later versions,                and an anonymous class for older versions of Java.            </p>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="692c1956"><p>                    Select the code fragment, in this example, an argument of the <code class="code">println</code> method.                    <figure><img alt="argument println" title="argument println" src="../img/idea/2019.1/argument_println.png" id="01cd087e" width="453" height="265"></figure>                </p></li><li class="list__item" id="extract_functional_var"><p>In the main menu, select <span data-skip-index="skip" class="menupath">Refactor | Extract | Functional Variable</span>.<br>                    IntelliJ IDEA opens the <span class="control">Extract Functional Variable</span> dialog.                    <figure><img alt="extrct funtional var" title="extrct funtional var" src="../img/idea/2019.1/extrct_funtional_var.png" id="b7d2e624" width="524" height="371"></figure>                </p></li><li class="list__item" id="24ab67bd"><p>                    When the selected code depends on instance fields, like in the example, the <span class="control">Pass field as params</span>                    checkbox will appear and you can pass a parameter in a place of fields.                    <figure><img alt="extrct funtional var parameter" title="extrct funtional var parameter" src="../img/idea/2019.1/extrct_funtional_var_parameter.png" id="bac8218e" width="492" height="330"></figure>                    However, if for example, your selected code fragment depends on any local variable or a parameter                    <figure><img alt="sample string" title="sample string" src="../img/idea/2019.1/sample_string.png" id="e643ed42" width="394" height="285"></figure>                    the corresponding entries would appear in the list.                    <figure><img alt="local variable and parameter" title="local variable and parameter" src="../img/idea/2019.1/local_variable_and_parameter.png" id="840bc58c" width="524" height="369"></figure>                    When you deselect one of the parameters in the dialog, the corresponding local values will be used instead.                    <figure><img alt="when param deselected" title="when param deselected" src="../img/idea/2019.1/when_param_deselected.png" id="58601e13" width="467" height="371"></figure>                    Configure your options and click <span class="control">OK</span>.                </p></li><li class="list__item" id="451acb7b"><p>Choose an applicable functional interface from the pop-up.                    <figure><img alt="functional interface" title="functional interface" src="../img/idea/2019.1/functional_interface.png" id="7726cfda" width="675" height="288"></figure>                </p></li><li class="list__item" id="79a9958e"><p>                    If you want, change a name of the extracted variable if you don't want to use the name suggested in the list.                    <figure><img alt="changing variable name" title="changing variable name" src="../img/idea/2019.1/changing_variable_name.png" id="4db09282" width="629" height="282"></figure>                </p></li><li class="list__item" id="functional_parameter"><p>IntelliJ IDEA creates lambda that you can use further.                    <figure><img alt="composed function" title="composed function" src="../img/idea/2019.1/composed_function.png" id="9788bfc1" width="632" height="287"></figure>                </p></li></ol></section>            <aside class="tip sideblock" data-title="" rel="functional_parameter" id="d99dda03">                <p id="0b6dfe3d">                    The <a href="javaintroduce.html#functional_parameter">functional parameter</a> refactoring is also available.                </p>            </aside>            <aside class="tip sideblock" data-title="" rel="extract_functional_var" id="2aea0cb9"><p id="49f5e508">From the context menu in the editor, select <span data-skip-index="skip" class="menupath">Refactor | Refactor This</span>                (<kbd data-primary_default="Ctrl+Shift+Alt+T" data-primary_default_for_gnome="Ctrl+Shift+Alt+T" data-primary_default_for_kde="Ctrl+Shift+Alt+T" data-primary_default_for_xwin="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_jbuilder="Ctrl+Shift+Alt+T" data-primary_visual_studio="Ctrl+Shift+Alt+T" data-primary_netbeans="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-secondary_mac_os_x_10.5_="⌃T" data-secondary_mac_os_x="⌥⇧⌘T" data-secondary_eclipse_mac_os_x="⌃T" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥⇧T">Ctrl+Shift+Alt+T</kbd>), and                select <span class="control">Functional Variable</span>.</p></aside>            <div class="chapter"><h3 id="70a93f18">Example</h3>                <div class="table-wrapper"><table class="                 " width="100%" id="cb9e1619"><thead><tr id="7cf49a5d" class="ijRowHead"><th id="e9728507"><p>Before</p></th><th id="69614fe7"><p>After</p></th></tr></thead><tbody><tr id="8a921097" class="ijRowOdd"><td id="19e7c060"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PrintAction</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">data</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">PrintAction</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Data: &quot;</span> <span class="o">+</span> <span class="n">data</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>                        </p></td><td id="24bf4c8f"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.function.Function</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">PrintAction</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">data</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">PrintAction</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Function</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">presenter</span> <span class="o">=</span> <span class="o">(</span><span class="n">p</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="s">&quot;Data: &quot;</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">presenter</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">data</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>                        </p></td></tr></tbody></table></div>            </div>        </div></div></div>                                      <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="extract-superclass.html">Extract Superclass</a><a class="navigation-links__next" href="javaintroduce.html">Extract parameter</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a href="working-with-source-code.html">Selecting text in the editor</a></li><li class="list__item"><a href="rename-refactorings.html"><span>Rename refactorings</span></a></li><li class="list__item"><a href="specific-javascript-refactorings.html#javascript_extract_variable">Extract Variable in JavaScript</a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="extract-variable-refactoring-dialog.html"><span>Extract Variable Dialog</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























