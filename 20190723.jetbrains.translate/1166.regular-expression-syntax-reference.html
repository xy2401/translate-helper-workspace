<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><meta name="description" content="
		A brief summary of regexp syntax in IntelliJ IDEA plus tips and tricks. | IntelliJ IDEA Help |
	" data-skip-index="skip"></meta><link rel="canonical" href="regular-expression-syntax-reference.html"></link><meta charset="UTF-8"></meta><title>正则表达式语法参考 - 帮助| IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="reference.regexp.syntax"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="regular-expression-syntax-reference.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Regular_Expression_Syntax_Reference.xml" data-toc="reference.regexp.syntax">正则表达式语法参考</h1>	    <p id="93495923">本节是<a href="https://regexr.com/" data-bypass="yes" target="_blank"><span>regexp语法</span></a>的简短摘要，可用于创建<a href="tutorial-finding-and-replacing-text-using-regular-expressions.html">搜索和替换</a>以及发布导航模式。</p>    <figure><img alt="正则表达式样本语法" title="正则表达式样本语法" src="../img/idea/2019.1/regex_sample_syntax.png" id="58c8eca4" width="831" height="179"></figure>        <div class="chapter"><h2 id="regex-syntax-reference">RegEx语法参考</h2>		<div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="a4e22132"><thead><tr id="55cd627b" class="ijRowHead"><th id="471e5e4e" width="15%"><p>字符</p></th><th id="c5f672cb"><p>描述</p></th></tr></thead><tbody><tr id="080cc2c4" class="ijRowOdd"><td id="7a6f7ab0"><code class="code">\</code></td><td id="eee61e3c">将下一个字符标记为特殊字符或文字。例如：<ul class="list _ul"><li class="list__item" id="d580fcb4"><p>                  <i id="a4c0fe6c">n</i>匹配字符<i id="cf24bbce">n</i> 。 “\ n”匹配换行符。</p></li><li class="list__item" id="02c27a17"><p>序列<code class="code">\\</code>匹配<code class="code">\</code>和<code class="code">\(</code>匹配<code class="code">(</code> 。</p></li></ul>                </td></tr><tr id="435b796e" class="ijRowEven"><td id="8fe4c5ff"><code class="code">^</code></td><td id="fc20f947"><p>匹配输入的开头。</p></td></tr><tr id="c5d83cfe" class="ijRowOdd"><td id="04b245a2"><code class="code">$</code></td><td id="6606c20c"><p>匹配输入的结尾。</p></td></tr><tr id="c74ef509" class="ijRowEven"><td id="b99c5248"><code class="code">*</code></td><td id="bdfb8174"><p>匹配前面的字符零次或多次。例如，“zo *”匹配<i id="e4e527ae">z</i>或<i id="2f8e0ebd">zoo</i> 。</p></td></tr><tr id="9a12e421" class="ijRowOdd"><td id="5d7a109e"><code class="code">+</code></td><td id="612e3b7d"><p>匹配前面的字符一次或多次。例如，“zo +”匹配<i id="4d3f5830">zoo</i>但不匹配<i id="abeab696">z</i> 。</p></td></tr><tr id="235a2ede" class="ijRowEven"><td id="0bbaa6d3"><code class="code">？</code></td><td id="40d4efcc"><p>匹配前面的字符零或一次。例如， <code class="code">a?已经？</code> <code class="code">never</code>匹配<code class="code">ve</code> 。</p></td></tr><tr id="ab3300c2" class="ijRowOdd"><td id="e79d2d55"><code class="code">。</code></td><td id="11eb089f"><p>匹配除换行符之外的任何单个字符。</p></td></tr><tr id="fd670f95" class="ijRowEven"><td id="ce913390"><p><code class="code">(</code>子表达式<code class="code">)</code>         </p></td><td id="3e09402c">匹配<i id="2b8f2f60">子表达式</i>并记住匹配。如果正则表达式的一部分括在括号中，则正则表达式的该部分将组合在一起。因此，可以将正则表达式运算符应用于整个组。<ul class="list _ul"><li class="list__item" id="47962e43"><p>如果需要在同一正则表达式中使用匹配的子字符串，则可以使用反向引用（ <code class="code">\num</code> ，其中<code class="code">num = 1..n</code> ）检索它。</p></li><li class="list__item" id="c39917c9"><p>如果需要在当前正则表达式之外的某处引用匹配的子字符串（例如，在另一个正则表达式中作为替换字符串），则可以使用美元符号（ <code class="code">$num</code> ，其中<code class="code">num = 1..n</code> ）来检索它。</p></li><li class="list__item" id="50a30cc4"><p>如果需要将括号字符包含在<i id="60ae018a">子表达式中</i> ，请使用<code class="code">\(</code>或<code class="code">\)</code> 。</p></li></ul>                </td></tr><tr id="d0ac471b" class="ijRowOdd"><td id="c9598ffa"><p>x <code class="code">|</code> ÿ</p></td><td id="60c87aa2"><p>匹配<i id="56010452">x</i>或<i id="3ed64898">y</i> 。例如， <code class="code">z|wood</code>匹配<i id="3d95d8bb">z</i>或<i id="692f9676">wood</i> 。 <code class="code">(z|w)oo</code>匹配<i id="cbf1ead2">动物园</i>或<i id="320df116">木材</i> 。</p></td></tr><tr id="2b74381a" class="ijRowEven"><td id="5d8f47b1"><p>{ <code class="code">n</code> }</p></td><td id="d2d3ad8c"><p><i id="34ec6d75">n</i>是非负整数。<span class="emphasis">正好</span>匹配<i id="41246c4a">n</i>次。例如， <code class="code">o{2}</code>与<i id="2923d3b4">Bob</i>中的<i id="45bc73cc">o</i>不匹配，但匹配<i id="6a7944a6">foooood</i>中的前两个o。</p></td></tr><tr id="547be45d" class="ijRowOdd"><td id="ae4af14a"><p>{ <code class="code">n</code> ，}</p></td><td id="e098b179"><i id="a7569f13">n</i>是非负整数。匹配<span class="emphasis">至少</span> <i id="6426bf91">n</i>次。<p id="f69d2994">例如， <code class="code">o{2,}</code>与<i id="fa1fad30">Bob</i>中的<i id="575065d1">o</i>不匹配，并匹配“foooood”中的所有o。</p>                         <p id="e0a62f41"><code class="code">o{1,}</code>相当于<code class="code">o+</code> 。 <code class="code">o{0,}</code>相当于<code class="code">o*</code> 。</p>                </td></tr><tr id="898a2e2c" class="ijRowEven"><td id="d5586e7d"><p>					       <code class="code">{</code> <i id="1b7d510f">n</i> <code class="code">,</code> <i id="0f55ee3b">m</i> <code class="code">}</code>				     </p></td><td id="c9c5781c"><p><i id="3064cbee">m</i>和<i id="6ca726ba">n</i>是非负整数。匹配<span class="emphasis">至少</span> <i id="a909a785">n</i>次<span class="emphasis">，最多</span> <i id="377211df">m</i>次。例如， <code class="code">o{1,3}</code>匹配“fooooood”中的前三个o。 <code class="code">o{0,1}</code>相当于<code class="code">o?</code> 。</p></td></tr><tr id="212bed02" class="ijRowOdd"><td id="776d42e7"><code class="code">[</code> <i id="b2700e6d">xyz</i> <code class="code">]</code></td><td id="ac5a8071"><p>一个字符集。匹配任何一个包含的字符。例如， <code class="code">[abc]</code>匹配<i id="9a5acbc2">平原</i>中的<i id="42be85a5">a</i> 。</p></td></tr><tr id="c13a9c25" class="ijRowEven"><td id="1976af8d"><p>					       <code class="code">[^</code> <i id="adf08ef6">xyz</i> <code class="code">]</code>				     </p></td><td id="1c617a2c"><p>负字符集。匹配任何未包含的字符。例如， <code class="code">[^abc]</code>匹配<i id="c9cca522">普通</i>的<i id="03eeba00">p</i> 。</p></td></tr><tr id="6bc9ce94" class="ijRowOdd"><td id="6cd7b17a"><p>					       <code class="code">[</code> <i id="f7ed9d62">az</i> <code class="code">]</code>				     </p></td><td id="b7f9f14e"><p>一系列人物。匹配指定范围内的任何字符。例如，“[az]”匹配范围<i id="2324280d">a</i>到<i id="05e4c05e">z</i>中的任何小写字母字符。</p></td></tr><tr id="0f1deb53" class="ijRowEven"><td id="e7c0bc17"><p>					       <code class="code">[^</code> <i id="f95cae8d">mz</i> <code class="code">]</code>				     </p></td><td id="5b45d764"><p>负范围字符。匹配不在指定范围内的任何字符。例如， <code class="code">[^mz]</code>匹配不在<i id="4f3ef7b5">m</i>到<i id="6e699144">z</i>范围内的任何字符。</p></td></tr><tr id="5c96178a" class="ijRowOdd"><td id="48b71409"><code class="code">\ b</code></td><td id="ff9341e3"><p>匹配单词边界，即单词和空格之间的位置。例如， <code class="code">er\b</code> <i id="6511e0d0">从不</i>但不是在<i id="48da546c">动词</i> <i id="daeb37c0">急诊室</i> <i id="12395d92">急诊室</i>相匹配。</p></td></tr><tr id="580ee47c" class="ijRowEven"><td id="1444c021"><code class="code">\乙</code></td><td id="49aa4a8a"><p>匹配非单词边界。 <code class="code">ea*r\B</code> <i id="4ed6e4ec">从不早期</i>与<i id="3e77066b">耳朵</i>匹配。</p></td></tr><tr id="1a6c8f09" class="ijRowOdd"><td id="b7568534"><code class="code">\ d</code></td><td id="0dd2ed21"><p>匹配数字字符。相当于<code class="code">[0-9]</code> 。</p></td></tr><tr id="0380c9fb" class="ijRowEven"><td id="6ec9b8be"><code class="code">\ d</code></td><td id="d419a1a0"><p>匹配非数字字符。相当于<code class="code">[^0-9]</code> 。</p></td></tr><tr id="d3425293" class="ijRowOdd"><td id="bacb8226"><code class="code">\F</code></td><td id="a9b8539e"><p>匹配换页符。</p></td></tr><tr id="48cf4998" class="ijRowEven"><td id="5d7270d3"><code class="code">\ n</code></td><td id="dbba835d"><p>匹配换行符。</p></td></tr><tr id="4823082f" class="ijRowOdd"><td id="5b610770"><code class="code">\ r</code></td><td id="0b7c6c29"><p>匹配回车符。</p></td></tr><tr id="c5157954" class="ijRowEven"><td id="60d34677"><code class="code">\ S</code></td><td id="c4c2b1e1"><p>匹配任何空格，包括空格，制表符，换页等。等效于<code class="code">[ \f\n\r\t\v]</code> 。</p></td></tr><tr id="9d906835" class="ijRowOdd"><td id="65cd8bd6"><code class="code">\ S</code></td><td id="bafc1a0c"><p>匹配任何非白色空格字符。相当于<code class="code">[^ \f\n\r\t\v]</code> 。</p></td></tr><tr id="752d4e8c" class="ijRowEven"><td id="98c5bd13"><code class="code">\ t</code></td><td id="0c455010"><p>匹配制表符。</p></td></tr><tr id="2367cab1" class="ijRowOdd"><td id="ea2954d8"><code class="code">符\ v</code></td><td id="803e2fe1"><p>匹配垂直制表符。</p></td></tr><tr id="38e0a744" class="ijRowEven"><td id="41ce860a"><code class="code">\ W</code></td><td id="38a1b2eb"><p>匹配任何单词字符，包括下划线。相当于<code class="code">[A-Za-z0 -9_]</code> 。在<i id="cbe23013">搜索</i>字段中使用它。</p></td></tr><tr id="9713c4e9" class="ijRowOdd"><td id="22eee026"><code class="code">\ W</code></td><td id="beb4d2b7"><p>匹配任何非单词字符。相当于<code class="code">[^A-Za-z0-9_]</code> 。</p></td></tr><tr id="9d3c07e8" class="ijRowEven"><td id="59ea1462"><p>            <code class="code">\</code> num</p></td><td id="f57d985c">匹配<i id="71b1963a">num</i> ，其中<i id="5d5c95ad">num</i>是正整数，表示返回到记忆匹配的引用。<p id="cf209ffc">例如， <code class="code">(.)\1</code>匹配两个连续的相同字符。</p>                </td></tr><tr id="ad7ad704" class="ijRowOdd"><td id="4f172580"><code class="code">\</code> <i id="410cd04a">n</i></td><td id="53ccbd84">匹配<i id="37ead618">n</i> ，其中<i id="a97d89df">n</i>是八进制转义值。八进制转义值应为1,2或3位数。<p id="aa00922e">例如， <code class="code">\11</code>和<code class="code">\011</code>都匹配制表符。</p>                         <p id="7c89465a"><code class="code">\0011</code>相当于<code class="code">\001</code> ＆ <i id="e3ee1823">1</i> 。</p>                         <p id="16caca25">八进制转义值不应超过256。如果他们这样做，只有前两个数字组成表达式。允许在正则表达式中使用ASCII代码。</p>                </td></tr><tr id="2870d631" class="ijRowEven"><td id="803a0352"><code class="code">\x</code> <i id="dc57c0ce">n n</i></td><td id="d0bd4d6f">匹配<i id="77119825">n</i> ，其中<i id="314e21d6">n</i>是十六进制转义值。十六进制转义值必须正好是两位数。<p id="96252f22">例如， <code class="code">\x41</code>匹配<code class="code">A</code> <code class="code">\x041</code>相当于<code class="code">\x04</code> ＆ <code class="code">1</code> 。</p>                    <p id="5c5e07e2">允许在正则表达式中使用ASCII代码。</p>                </td></tr><tr id="bf993d4c" class="ijRowOdd"><td id="6026b364"><code class="code">\ $</code></td><td id="5be13efe"><p>找到一个<code class="code">$</code>字符。</p></td></tr><tr id="e34d4617" class="ijRowEven"><td id="1a3153dc"><code class="code">\\ $</code></td><td id="c6a22770"><p>此正则表达式在<i id="41999213">搜索</i>字段中输入，表示您正在尝试在该行的末尾找到<code class="code">\</code>字符。</p></td></tr><tr id="3c7009ed" class="ijRowOdd"><td id="case"><code class="code">\升</code></td><td id="1973c83c"><p>将下一个字符的大小写更改为小写。在<i id="63abc108">替换</i>字段中使用此类型的正则表达式。</p></td></tr><tr id="1bcaadac" class="ijRowEven"><td id="ede3296a"><code class="code">\ü</code></td><td id="2cf0a62c"><p>将下一个字符的大小写更改为大写。在<i id="57d68ba0">替换</i>字段中使用此类型的正则表达式。</p></td></tr><tr id="151594bb" class="ijRowOdd"><td id="32c77d4f"><code class="code">\大号</code></td><td id="409a296a"><p>将所有后续字符的大小写更改为<code class="code">\E</code>到小写。在<i id="dfc2204b">替换</i>字段中使用此类型的正则表达式。</p></td></tr><tr id="5c8596f3" class="ijRowEven"><td id="58d46543"><code class="code">带有\ U</code></td><td id="81c8791b"><p>将所有后续字符的大小写更改为<code class="code">\E</code>到大写。在<i id="86176c2d">替换</i>字段中使用此类型的正则表达式。</p></td></tr></tbody></table></div>	</div>        <div class="chapter"><h2 id="tips-tricks">技巧和窍门</h2>        <p id="check_regexp">IntelliJ IDEA提供意图操作来<span>检查正则表达式的有效性</span> ，并在暂存器中编辑正则表达式。将插入符号放在正则表达式中，然后按<kbd data-primary_default="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_default_for_xwin="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_jbuilder="Alt+Enter" data-primary_visual_studio="Alt+Enter" data-primary_netbeans="Alt+Enter" data-primary_eclipse="Alt+Enter" data-secondary_mac_os_x_10.5_="⌥⏎" data-secondary_mac_os_x="⌥⏎" data-secondary_eclipse_mac_os_x="⌘1" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥⏎">Alt + Enter</kbd> 。在此背景下提供的意图行动建议清单如下：</p>        <figure><img alt="有意图的上下文菜单" title="有意图的上下文菜单" src="../img/idea/2019.1/check_regexp.png" id="5bd32e73" width="557" height="254"></figure>                                <ul class="list _ul"><li class="list__item" id="882f8742"><p>选择<span class="menupath" data-skip-index="skip">Check RegExp</span> ，然后按<kbd data-primary_default="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_default_for_xwin="Enter" data-primary_emacs="Enter" data-primary_jbuilder="Enter" data-primary_visual_studio="Enter" data-primary_netbeans="Enter" data-primary_eclipse="Enter" data-secondary_mac_os_x_10.5_="⏎" data-secondary_mac_os_x="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⏎">Enter键</kbd> 。弹出的对话框显示上部窗格中的当前正则表达式。在下部窗格中，键入此表达式应匹配的字符串。如果正则表达式与输入的字符串匹配，则背景变为绿色。如果正则表达式不匹配，则背景为红色。</p><figure><img alt="当前正则表达式的对话框" title="当前正则表达式的对话框" src="../img/idea/2019.1/check_regexp1.png" id="e819b775" width="467" height="170"></figure>                            </li><li class="list__item" id="6abc51b2">                <p id="5d3c4a77">选择<span class="menupath" data-skip-index="skip">Edit RegExp Fragment</span> ，然后按<kbd data-primary_default="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_default_for_xwin="Enter" data-primary_emacs="Enter" data-primary_jbuilder="Enter" data-primary_visual_studio="Enter" data-primary_netbeans="Enter" data-primary_eclipse="Enter" data-secondary_mac_os_x_10.5_="⏎" data-secondary_mac_os_x="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⏎">Enter键</kbd> 。正则表达式将在编辑器的单独选项卡中打开以进行编辑。请注意，这只是一个暂存器，并且没有物理创建文件：</p>                <figure><img alt="带有当前正则表达式的临时文件" title="带有当前正则表达式的临时文件" src="../img/idea/2019.1/edit_regexp.png" id="3d0ba303" width="390" height="138"></figure>                                                             <p id="66fdf287">在暂存器中键入时，所有更改都与原始正则表达式同步。要关闭暂存器，请按<kbd data-bypass="true" data-primary_default="Ctrl+F4" data-primary_default_for_gnome="Ctrl+F4" data-primary_default_for_kde="Ctrl+4" data-primary_default_for_xwin="Ctrl+F4" data-primary_emacs="Ctrl+F4" data-primary_jbuilder="Ctrl+F4" data-primary_visual_studio="Ctrl+F4" data-primary_netbeans="Ctrl+F4" data-primary_eclipse="Ctrl+F4">Ctrl + F4</kbd> 。</p>            </li></ul></div>    	  	  <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="symbols.html">图标参考</a> <a class="navigation-links__next" href="scope-language-syntax-reference.html">范围语言语法参考</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="finding-and-replacing-text-in-file.html"><span>在文件中搜索目标</span></a></li><li class="list__item"><a href="settings-version-control.html"><span>版本控制</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>外部链接：</h3><ul class="list"><li class="list__item"><a href="http://www.regular-expressions.info/" data-bypass="yes" target="_blank"><span>正则表达式教程</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>