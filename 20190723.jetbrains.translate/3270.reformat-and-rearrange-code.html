<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="reformat-and-rearrange-code.html"></link><meta charset="UTF-8"></meta><title>重新格式化并重新排列代码 - 帮助| WebStorm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Reformat_and_rearrange_code"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索WebStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="reformat-and-rearrange-code.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>WebStorm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="true"><h1 id="Reformat_and_rearrange_code.xml" data-toc="Reformat_and_rearrange_code">重新格式化并重新排列代码</h1>    <p id="76b5df4e">WebStorm允许您根据在“ <span class="control">代码样式”</span>设置中指定的要求重新格式化代码。</p>    <p id="2a027373">要访问设置，请在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘,">Ctrl + Alt + S</kbd> ）中转到“ <span class="menupath" data-skip-index="skip">编辑器”|代码风格</span> 。</p>    <p id="27b61dd2">您可以重新格式化代码的一部分，整个文件，文件组，目录和模块。您还可以从重新格式化中排除部分代码或某些文件。</p>    <section class="procedure-steps"><h2 id="reformat_code" data-toc="Reformat_and_rearrange_code#reformat_code">重新格式化文件中的代码片段</h2><ol class="list _decimal"><li class="list__item" id="58627824"><p>在编辑器中，选择要重新格式化的代码片段。</p></li><li class="list__item" id="71a8cce8">在主菜单中，选择<span class="menupath" data-skip-index="skip">Code |重新格式化</span> （ <kbd data-primary_default="Ctrl+Alt+L" data-primary_default_for_gnome="Ctrl+Alt+L" data-primary_default_for_kde="Shift+Alt+L" data-primary_default_for_xwin="Ctrl+Alt+L" data-primary_emacs="N/A" data-primary_visual_studio="Alt+F8" data-primary_eclipse="Ctrl+Alt+L" data-secondary_mac_os_x_10.5_="⌥⌘L" data-secondary_mac_os_x="⌥⌘L" data-secondary_eclipse_mac_os_x="⇧⌘F">Ctrl + Alt + L</kbd> ）。<aside class="note " rel="71a8cce8" id="f46b64ef" data-title="">               <p id="4e01cdca">如果未选择代码片段，WebStorm将重新格式化整个文件。</p>           </aside>        </li></ol></section>    <section class="procedure-steps"><h2 id="reformat_file" data-toc="Reformat_and_rearrange_code#reformat_file">重新格式化文件</h2><ol class="list _decimal"><li class="list__item" id="dc2151d7">在编辑器中打开文件并按<kbd data-primary_default="Ctrl+Shift+Alt+L" data-primary_default_for_gnome="Ctrl+Shift+Alt+L" data-primary_default_for_kde="Ctrl+Shift+Alt+L" data-primary_default_for_xwin="Ctrl+Shift+Alt+L" data-primary_emacs="Ctrl+Shift+Alt+L" data-primary_visual_studio="Ctrl+Shift+Alt+L" data-primary_eclipse="Ctrl+Shift+Alt+L" data-secondary_mac_os_x_10.5_="⌥⇧⌘L" data-secondary_mac_os_x="⌥⇧⌘L" data-secondary_eclipse_mac_os_x="⌥⇧⌘L">Ctrl + Shift + Alt + L</kbd>或在“ <span class="control">项目”</span>工具窗口中，右键单击该文件并选择“ <span class="menupath" data-skip-index="skip">重新格式化代码”</span> 。<aside class="note " rel="3d77f936" id="9f713df5" data-title="">                <p id="26a525c3">继续按<kbd data-bypass="true">Shift</kbd>并选择其他文件以重新格式化组。</p>            </aside>        </li><li class="list__item" id="84cb5307">在打开的对话框中，如果需要，请选择以下重新格式化选项：<ul class="list _ul"><li class="list__item" id="8080dff9">优化导入 - 如果要删除未使用的导入，添加缺失的导入或组织导入语句，请选择此选项。<p id="160fe3ac">有关更多信息，请参阅<a href="creating-and-optimizing-imports.html#ws_optimize_imports">Optimize imports</a>部分。</p>                </li><li class="list__item" id="517c013e"><p>重新排列条目 - 如果您需要根据代码样式设置中指定的<a href="reformat-and-rearrange-code.html#rearrange_code">排列规则</a>重新排列代码，请选择此选项。</p></li><li class="list__item" id="cff13eeb"><p>清理代码 - 选择此选项以运行代码清理检查。</p></li></ul>            <figure><img alt="重新格式化文件对话框" title="重新格式化文件对话框" src="../img/idea/2019.1/refomat_files.png" id="5ecd33d7" width="214" height="191"></figure>            <p id="99cc481e">单击<span class="control">确定</span> 。</p>        </li></ol></section>        <section class="procedure-steps"><h2 id="reformat_folder" data-toc="Reformat_and_rearrange_code#reformat_folder">重新格式化文件夹</h2><ol class="list _decimal"><li class="list__item" id="a7e18ef3"><p>在项目视图中，右键单击文件夹，然后从上下文菜单中选择“ <span class="control">重新格式化代码”</span>或按<kbd data-primary_default="Ctrl+Alt+L" data-primary_default_for_gnome="Ctrl+Alt+L" data-primary_default_for_kde="Shift+Alt+L" data-primary_default_for_xwin="Ctrl+Alt+L" data-primary_emacs="N/A" data-primary_visual_studio="Alt+F8" data-primary_eclipse="Ctrl+Alt+L" data-secondary_mac_os_x_10.5_="⌥⌘L" data-secondary_mac_os_x="⌥⌘L" data-secondary_eclipse_mac_os_x="⇧⌘F">Ctrl + Alt + L.</kbd></p></li><li class="list__item" id="19dd8540"><p>在打开的对话框中，指定必要的选项，然后单击“ <span class="control">确定”</span> 。</p></li></ol></section>    <section class="procedure-steps"><h2 id="tabs_and_indents" data-toc="Reformat_and_rearrange_code#tabs_and_indents">重新格式化行缩进</h2><p id="6c010899">您可以根据指定的设置重新格式化行缩进。</p><ol class="list _decimal"><li class="list__item" id="55cc1620"><p>在编辑器中，选择必要的代码片段并按<kbd data-primary_default="Ctrl+Alt+I" data-primary_default_for_gnome="Ctrl+Alt+I" data-primary_default_for_kde="Ctrl+Alt+I" data-primary_default_for_xwin="Ctrl+Alt+I" data-primary_emacs="Ctrl+Alt+I" data-primary_visual_studio="Ctrl+Alt+I" data-primary_eclipse="Ctrl+I" data-secondary_mac_os_x_10.5_="⌃⌥I" data-secondary_mac_os_x="⌥⌘I" data-secondary_eclipse_mac_os_x="⌘I">Ctrl + Alt + I.</kbd></p></li><li class="list__item" id="d5ab9bf8"><p id="d8a77bca">如果需要调整缩进设置，</p>在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘,">Ctrl + Alt + S</kbd> ）中，转到“ <span class="menupath" data-skip-index="skip">编辑器”|代码风格</span> 。</li><li class="list__item" id="9a25d25d"><p>在相应的语言页面上的“ <span class="control">选项卡和缩进”</span>选项卡上，指定相应的缩进选项，然后单击“ <span class="control">确定”</span> 。</p></li></ol><aside class="note " rel="tabs_and_indents" id="c28d0e74" data-title="">            <p id="6610e91c">在某些情况下，选项<span class="control">检测并使用现有文件缩进进行编辑，</span>位于<span class="menupath" data-skip-index="skip">文件|</span>中的<span class="control">缩进检测</span>部分<span class="menupath" data-skip-index="skip">设置/首选项|编辑|代码样式</span>可以覆盖您的设置。在这种情况下，WebStorm将显示通知。</p>        </aside></section>    <section class="procedure-steps"><h2 id="exclude_file_from_reformat" data-toc="Reformat_and_rearrange_code#exclude_file_from_reformat">从重新格式化中排除代码</h2><p id="c9ccd879">您可以从重新格式化中排除一组文件或部分代码。</p><ol class="list _decimal"><li class="list__item" id="640c80a5"><p>在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘,">Ctrl + Alt + S</kbd> ）中，转到“ <span class="menupath" data-skip-index="skip">编辑器”|代码风格</span> 。</p></li><li class="list__item" id="f2a74178"><p>在“ <span class="control">格式器控制”</span>选项卡上，选择“ <span class="control">在注释中启用格式化程序标记”</span>选项。</p></li><li class="list__item" id="db209c18">在“ <span class="control">格式化程序控制”</span>选项卡上， <span class="control">在注释中</span>选择“ <span class="control">启用格式化程序”标记后</span> ，范围区域将变为活动状态。<p id="1f0c252f">点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="加">用于添加<a href="settings-scopes.html">范围的</a>图标，您可以在其中指定要从重新格式化中排除的文件。</p>            <figure><img alt="范围对话框" title="范围对话框" src="../img/idea/2019.1/setting_scopes.png" id="61af37a5" width="626" height="374"></figure></li><li class="list__item" id="exclude_part_of_code"><p>如果要从重新格式化中排除部分代码，请在“ <span class="control">格式化程序控制”</span>选项卡上，选择“ <span class="control">在注释中启用格式化程序标记”</span>选项。</p></li><li class="list__item" id="cc0ca2c9"><p>在编辑器中，在要排除的区域的开头，创建一个行注释（ <kbd data-primary_default="Ctrl+/" data-primary_default_for_gnome="Ctrl+/" data-primary_default_for_kde="Ctrl+/" data-primary_default_for_xwin="Ctrl+/" data-primary_emacs="Alt+;" data-primary_visual_studio="Ctrl+/" data-primary_eclipse="Ctrl+/" data-secondary_mac_os_x_10.5_="⌘/" data-secondary_mac_os_x="⌘/" data-secondary_eclipse_mac_os_x="⌘/">Ctrl + /</kbd> ）并键入<code class="code">//@formatter:off</code> ，在该区域的末尾，再次创建一个行注释并键入<code class="code">//@formatter:on</code> 。</p></li></ol></section>    <section class="procedure-steps"><h2 id="rearrange_code" data-toc="Reformat_and_rearrange_code#rearrange_code">重新排列代码条目</h2><p id="7c0381d5">您可以根据<span class="menupath" data-skip-index="skip">“设置/首</span>选项”中<span class="menupath" data-skip-index="skip">“</span> <span class="control">排列”</span>选项卡上<span class="menupath" data-skip-index="skip">设置</span>的排列规则重新排列代码<span class="menupath" data-skip-index="skip">编辑|代码风格</span> 。</p><p id="4011c941">例如，如果需要按字母顺序对代码条目进行排序，请选择相应的<span class="emphasis">匹配规则</span>条目，并将“ <span class="control">订单”</span>字段设置<span class="control">为按名称排序</span> 。</p><ul class="list "><li class="list__item" id="d3740d1d"><p>在编辑器中，选择要重新排列的代码条目，然后从主菜单中选择<span class="menupath" data-skip-index="skip">Code |重新排列代码</span> 。</p></li></ul></section>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月25日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="searching-everywhere.html">按名称</a> <a class="navigation-links__next" href="comparing-files-and-folders.html">比较文件</a> <a class="navigation-links__prev" href="searching-everywhere.html">搜索目标</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>