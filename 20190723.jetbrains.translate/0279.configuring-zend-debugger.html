<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="configuring-zend-debugger.html"></link><meta charset="UTF-8"></meta><title>配置Zend调试器 - 帮助| IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Configuring_Zend_Debugger"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="configuring-zend-debugger.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Configuring_Zend_Debugger.xml" data-toc="Configuring_Zend_Debugger">配置Zend调试器</h1>                 <aside class="warning " rel="Configuring_Zend_Debugger.xml" id="1954fc2b" data-title=""><p>此功能仅在<b id="1c123828" origin="intellij-platform">Ultimate</b>版本中受支持。</p></aside>                     <aside class="warning " rel="Configuring_Zend_Debugger.xml" id="233a13c2" data-title=""><p>以下内容仅在安装并启用PHP插件时有效！</p></aside>                       <p id="d1934bd8">在这个部分：</p>          <ul data-skip-index="skip"><li class="list__item"><a href="configuring-zend-debugger.html#downloadAndInstall">下载并安装Zend Debugger</a></li><li class="list__item"><a href="configuring-zend-debugger.html#updatingPhpIni">启用Zend Debugger与PHP解释器的集成</a></li><li class="list__item"><a href="configuring-zend-debugger.html#integrationWithProduct">将Zend Debugger与IntelliJ IDEA集成</a></li><li class="list__item"><a href="configuring-zend-debugger.html#0fd70625">配置Zend Debugger以在按需模式下使用</a></li></ul>                <div class="chapter"><h2 id="downloadAndInstall">下载并安装Zend Debugger</h2>          <ol class="list _decimal"><li class="list__item" id="e55278ba"><p>下载与您的操作系统对应的<a href="http://www.zend.com/en/products/studio/downloads" data-bypass="yes" target="_blank"><span>Zend Debugger软件包</span></a> 。</p></li><li class="list__item" id="6ee6a380"><p>在与您的PHP版本对应的目录中找到<code class="code">ZendDebugger.so</code> （Unix）或<code class="code">ZendDebugger.dll</code> （Windows）文件（例如4.3.x，4.4.x，5.0.x，5.1.x，5.2.x，5.3。 x，5.4.x）。</p></li><li class="list__item" id="1a7e8f44"><p>将文件复制到Web服务器可访问的位置中的Web服务器。</p></li></ol>      </div>      <div class="chapter"><h2 id="updatingPhpIni">启用Zend Debugger与PHP解释器的集成</h2>          <ol class="list _decimal"><li class="list__item" id="5a90ee79">在编辑器中打开活动的<code class="code">php.ini</code>文件：<ol class="list _decimal"><li class="list__item" id="51672f1c">                <p id="3098bb1d">在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，单击“ <span class="control">语言和框架”</span>下的<span class="control">“</span> <span class="control">PHP</span> <span class="control">”</span> 。</p>            </li><li class="list__item" id="58f29aca"><p>在打开的<a href="php.html"><span>PHP</span></a>页面上，单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.ellipsis.svg@2x.png" width="16" alt="浏览按钮"> <span class="control">CLI解释器</span>字段旁边。</p></li><li class="list__item" id="35c615b8"><p>在打开的<span class="control">CLI解释器</span>对话框中， <span class="control">配置文件</span>只读字段显示活动<span class="filepath">php.ini</span>文件的路径。单击<span class="control">在编辑器中打开</span> 。</p></li></ol>              </li><li class="list__item" id="5278c09a"><p>找到或创建<code class="code">[Zend]</code>部分。</p></li><li class="list__item" id="4f23d9e5">要加载Zend Debugger扩展，请根据您的操作系统在<code class="code">[Zend]</code>部分中添加以下行之一：<ul class="list _bullet"><li class="list__item" id="62904ef5"><p>            <span class="keyword">Linux</span>和<span class="keyword">macOS</span> ：</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">zend_extension</span> <span class="o">= &lt;</span> <span class="n">full_path_to_ZendDebugger</span> <span class="o">。</span> <span class="na">所以</span> <span class="o">&gt;</span></code></div>        </li><li class="list__item" id="34135640"><p>            <span class="keyword">Windows</span> ：</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">zend_extension_ts</span> <span class="o">= &lt;</span> <span class="n">full_path_to_ZendDebugger</span> <span class="o">。</span> <span class="na">dll</span> <span class="o">&gt;</span></code></div>        </li><li class="list__item" id="b7d128b4">            <p id="c76da017"><span class="keyword">Windows非线程安全</span> ：</p>            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">zend_extension</span> <span class="o">= &lt;</span> <span class="n">full_path_to_ZendDebugger</span> <span class="o">。</span> <span class="na">dll</span> <span class="o">&gt;</span></code></div>            <aside class="warning " rel="bc937c28" id="319093f4" data-title="">                <p id="233fe116">Windows非线程安全二进制文件仅用于Zend Core 2.0。</p>            </aside>        </li></ul>        </li><li class="list__item" id="3bb22175">要从IntelliJ IDEA启用对Zend Debugger的访问，请添加以下行：<div class="code-block" data-lang="Java"><code class="code-block__wrapper">zend_extension = &lt;full_path_to_zend_debugger_extension&gt; zend_debugger.allow_hosts = 127.0.0.1 zend_debugger.expose_remotely = allowed_host zend_debugger.tunnel_min_port = &lt;1024以上的任何整数值&gt; zend_debugger.tunnel_max_port = &lt;65535以下的任何整数值&gt;</code></div>                <p id="25e175b3"><code class="code">zend_debugger.allow_hosts</code>参数的值是连接到服务器调试器的计算机的IP。它可以是以<code class="code">XXXX</code>格式（例如，192.168.0.6）的以逗号分隔的IP列表。</p>            <aside class="tip sideblock" rel="25e175b3" id="2ef58764" data-title="">                <p id="2ea05ef6">对于线程安全的Windows二进制文件，请使用<code class="code">zend_extension_ts parameter</code>而不是<code class="code">zend_extension</code> 。</p>            </aside>        </li><li class="list__item" id="a09b2953"><p>重新启动Web服务器。</p></li><li class="list__item" id="f98aeb40"><p>要检查Zend Debugger是否已正确安装和配置，请创建一个包含以下内容的文件：</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper">&lt;？php phpinfo（）; ？&gt;</code></div>在浏览器中打开与该文件对应的页面。输出应包含<span class="control">Zend Debugger</span>部分。</li></ol>      </div>      <div class="chapter"><h2 id="integrationWithProduct">将Zend Debugger与IntelliJ IDEA集成</h2>          <ol class="list _decimal"><li class="list__item" id="99126445"><p>按<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd>或选择<span class="menupath" data-skip-index="skip">文件|</span>打开<a href="settings-preferences-dialog.html"><span>设置/首选项对话框</span></a> <span class="menupath" data-skip-index="skip">设置</span> Windows和Linux或<span class="menupath" data-skip-index="skip">IntelliJ IDEA的|</span> macOS的<span class="menupath" data-skip-index="skip">首选项</span> ，然后单击<span class="control">Languages＆Frameworks</span>下的<span class="control">PHP</span> 。</p></li><li class="list__item" id="4a54b5d4">检查与所选PHP解释<span class="emphasis">器</span>关联的<span class="emphasis">Zend Debugger</span>安装：<ol class="list _decimal"><li class="list__item" id="9b554f3f"><p>在<span class="control">PHP</span>页面上，从<span class="control">CLI解释器</span>列表中选择相关的PHP安装，然后单击“ <span class="control">浏览”</span> <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="543d26db" width="15" height="15" class="inline-icon-15">在田野旁边。该列表显示了IntelliJ IDEA中可用的所有PHP安装，请参阅<a href="configuring-local-interpreter.html"><span>配置本地PHP解释器</span></a>和<a href="configuring-remote-interpreters.html"><span>配置远程PHP解释器</span></a> 。</p></li><li class="list__item" id="2533ad6a">打开的<span class="control">CLI解释器</span>对话框显示以下内容：<ul class="list _bullet"><li class="list__item" id="5fcfb7ee"><p>所选PHP安装的版本。</p></li><li class="list__item" id="9d14b631"><p>与所选PHP安装（Xdebug或Zend Debugger）关联的调试引擎的名称和版本。如果未配置调试器，IntelliJ IDEA将显示<code class="code">Debugger: Not installed</code> 。</p></li></ul>                      </li></ol>              <p id="adfd4279">了解有关在<a href="validating-the-configuration-of-the-debugging-engine.html"><span>验证调试引擎配置中</span></a>检查<span class="emphasis">Zend Debugger</span>安装的详细信息。</p>          </li><li class="list__item" id="1c75155e">定义Zend Debugger行为。单击<span class="control">PHP</span>节点下的<span class="control">Debug</span> 。在打开的<a href="debug.html"><span>Debug</span></a>页面上，在<span class="control">Zend Debugger</span>区域中指定以下设置：<ul class="list _bullet"><li class="list__item" id="23d4af4c"><p>在“ <span class="control">调试端口”</span>文本框中，指定IntelliJ IDEA的端口以通过该工具进行通信。通过<code class="code">zend_debugger.tunnel_min_port</code>和<code class="code">zend_debugger.tunnel_max_port</code>在<code class="code">php.ini</code>文件中指定的<span class="emphasis">隧道中</span>键入端口号。有关详细信息，请参阅<a href="http://files.zend.com/help/previous-version/Zend-Server-4-Community-Edition/zenddebugger.html" data-bypass="yes" target="_blank"><span>http://files.zend.com/help/previous-version/Zend-Server-4-Community-Edition/zenddebugger.html</span></a>                                        </p></li><li class="list__item" id="2fbc6e50"><p>要让IntelliJ IDEA通过<span class="control">调试端口</span>文本框中指定的端口接受来自Zend Debugger引擎的任何传入连接，请选中“ <span class="control">可以接受外部连接”</span>复选框。</p></li><li class="list__item" id="afe442f6"><p>要在浏览器中使用调试器工具栏，请在“ <span class="control">设置广播端口”</span>文本框中指定将调试器设置传递到浏览器的<span class="control">端口</span> 。</p></li><li class="list__item" id="0be43287"><p>使用“ <span class="control">自动检测IDE IP”</span>复选框可以启用和禁用热IP地址的自动检测。选中此复选框后，IntelliJ IDEA将通过<code class="code">debug_host</code>参数检测要发送到Zend Debugger的所有主机IP地址。所有检测到的IP地址都列在右侧的字段中。使用<span class="emphasis">Vagrant</span> ， <span class="emphasis">VirtualBox</span>或其他虚拟化工具时，自动检测IP地址非常有用。<br>清除该复选框以阻止自动检测主机IP地址，并在字段中明确指定所需的地址。</p></li></ul>          </li><li class="list__item" id="81524e41">在“ <span class="control">外部连接”</span>区域中，指定IntelliJ IDEA如何处理从主机接收的连接以及未注册为<a href="servers.html">部署服务器配置的</a>端口。<ul class="list _bullet"><li class="list__item" id="a92b730b"><p>            <span class="control">通过未注册的服务器配置忽略外部连接：</span>选中此复选框可使IntelliJ IDEA忽略从主机和未注册为部署服务器配置的端口收到的连接。选中此复选框后，IntelliJ IDEA不会尝试自动创建部署服务器配置。</p></li><li class="list__item" id="7550315d">            <p id="e4470df2">                <span class="control">在PHP脚本的第一行中断</span> ：选中此复选框可在调试器与IntelliJ IDEA建立连接后立即停止（而不是在达到第一个断点之前自动运行）。或者打开<span class="menupath" data-skip-index="skip">Run |在</span>主菜单上的<span class="menupath" data-skip-index="skip">PHP脚本</span>选项的<span class="menupath" data-skip-index="skip">第一行中断</span> 。</p>        </li><li class="list__item" id="b659b79f"><p>            <span class="control">最大。同时连接：</span>使用此旋转框限制可以同时处理的外部连接数。</p></li></ul>          </li><li class="list__item" id="94c19d28"><p>为了阻止来自请求<a href="http://www.zend.com/en/products/server/z-ray-top-7-features" data-bypass="yes" target="_blank"><span>Z-Ray系统</span></a> ，如果他们通过调用IntelliJ IDEA的调试器过于频繁地骚扰你，选择<span class="control">忽略Z-Ray系统请求</span>复选框。</p></li></ol>      </div>          <div class="chapter"><h2 id="0fd70625">配置Zend Debugger以在按需模式下使用</h2>        <p id="5f36b621">IntelliJ IDEA 2016.2及更高版本支持<span class="emphasis">按需</span>模式，您可以在其中禁用Zend Debugger以进行全局PHP安装，并且只有在调试命令行脚本或需要代码覆盖率报告时才能按需自动启用它。这使您的命令行脚本（包括Composer和单元测试）运行得更快。</p>        <ol class="list _decimal"><li class="list__item" id="78ea4574">禁用Zend Debugger用于命令行脚本：<ol class="list _decimal"><li class="list__item" id="000e53b9"><p>在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，选择“ <span class="control">语言和框架”</span>下的<span class="control">“</span> <span class="control">PHP</span> <span class="control">”</span> 。</p></li><li class="list__item" id="33ebe4b3"><p>从<span class="control">PHP可执行文件</span>列表中，选择相关的PHP解释器并单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.ellipsis.svg@2x.png" width="16" alt="浏览按钮">在它的旁边。在打开的<a href="php-interpreters.html"><span>CLI Interpreters</span></a>对话框中，单击<span class="control">Configuration file：&lt;path to php.ini&gt;</span>文件旁边的<span class="control">Open in Editor</span>链接。关闭所有对话框并切换到打开<span class="filepath">php.ini</span>文件的选项卡。</p></li><li class="list__item" id="c0891548"><p>在<code class="code">php.ini</code>文件中，找到<code class="code">[Zend]</code>部分并通过添加注释其中的以下行<code class="code">;</code>介词： <span class="keyword">Linux</span>和<span class="keyword">macOS</span> ：</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">zend_extension</span> <span class="o">= &lt;</span> <span class="n">full_path_to_ZendDebugger</span> <span class="o">。</span> <span class="na">所以</span> <span class="o">&gt;</span></code></div>                            <span class="keyword">Windows</span> ：<div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">zend_extension_ts</span> <span class="o">= &lt;</span> <span class="n">full_path_to_ZendDebugger</span> <span class="o">。</span> <span class="na">dll</span> <span class="o">&gt;</span></code></div>                            <p id="da0108ed"><span class="keyword">Windows非线程安全</span> ：</p>            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">zend_extension</span> <span class="o">= &lt;</span> <span class="n">full_path_to_ZendDebugger</span> <span class="o">。</span> <span class="na">dll</span> <span class="o">&gt;</span></code></div>            <aside class="warning " rel="88f177a0" id="7b533dfd" data-title="">                <p id="77b5349a">Windows非线程安全二进制文件仅用于Zend Core 2.0。</p>            </aside>                                </li><li class="list__item" id="bb6a60a0"><p>打开<a href="php-interpreters.html"><span>CLI Interpreters</span></a>对话框，然后单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.refresh.svg@2x.png" width="16" alt="重新加载按钮">在<span class="control">PHP可执行文件</span>字段旁边。IntelliJ IDEA通知您未安装调试器：</p><figure><img alt="ps_interpreters_debugger_not_installed.png" title="ps_interpreters_debugger_not_installed.png" src="../img/idea/2019.1/ps_interpreters_debugger_not_installed.png" id="d3ce6481" width="446" height="129"></figure>                        </li></ol>            </li><li class="list__item" id="b88777ac"><p>要使IntelliJ IDEA在必要时激活Zend Debugger，请在“ <span class="control">调试器”扩展</span>字段的“ <span class="control">附加”</span>区域中指定它的路径。手动键入路径或单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.openDisk.svg@2x.png" width="16" alt="浏览按钮">并在打开的对话框中选择位置。</p></li></ol>    </div>  <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configuring-xdebug.html">配置Xdebug</a> <a class="navigation-links__next" href="validating-the-configuration-of-the-debugging-engine.html">验证调试引擎的配置</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="configuring-php-development-environment.html"><span>配置PHP开发环境</span></a></li><li class="list__item"><a href="creating-and-editing-run-debug-configurations.html"><span>创建和编辑运行/调试配置</span></a></li><li class="list__item"><a href="configuring-xdebug.html"><span>配置Xdebug</span></a></li><li class="list__item"><a href="configuring-zend-debugger.html">Zend Debugger安装指南</a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="debug.html"><span>调试</span></a></li><li class="list__item"><a href="php.html"><span>PHP</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>外部链接：</h3><ul class="list"><li class="list__item"><a href="http://www.zend.com/en/" data-bypass="yes" target="_blank"><span>http://www.zend.com/en/</span></a></li><li class="list__item"><a href="http://static.zend.com/topics/Zend-Debugger-Installation-Guide.pdf" data-bypass="yes" target="_blank"><span>http://static.zend.com/topics/Zend-Debugger-Installation-Guide.pdf</span></a></li><li class="list__item"><a href="http://www.zend.com/en/products/studio/downloads" data-bypass="yes" target="_blank"><span>http://www.zend.com/en/products/studio/downloads</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>