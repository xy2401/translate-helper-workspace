<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="docker.html"></link><meta charset="UTF-8"></meta><title>Docker  - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Docker_ps"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="docker.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Docker.xml" data-toc="Docker_ps">搬运工人</h1>         <aside class="warning " rel="Docker.xml" id="92d89e53" data-title=""><p>此功能仅在<b id="ac920527" origin="intellij-platform">专业</b>版中受支持。此版本是商业版，它提供了一系列出色的功能：有关详细信息，请参阅<a href="https://www.jetbrains.com/pycharm/features/editions_comparison_matrix.html" data-bypass="yes" target="_blank"><span>比较矩阵</span></a> 。</p></aside>                    <aside class="warning " rel="Docker.xml" id="2cfeb57f" data-title="">                    <p id="40b33f38">以下内容仅在安装并启用Docker Integration和Python Docker插件时有效！</p>                </aside>                        <p id="intro">        <a href="https://www.docker.com/what-docker" data-bypass="yes" target="_blank"><span>Docker</span></a>使开发人员能够在容器内部署应用程序，以便在与生产相同的环境中测试代码。PyCharm使用<span class="emphasis">Docker集成</span> <a href="managing-plugins.html">插件</a>提供Docker支持。</p>        <section class="procedure-steps"><h2 id="enable_docker">启用Docker支持</h2><ol class="list _decimal"><li class="list__item" id="464778c5"><p>            <span class="emphasis"><a href="https://docs.docker.com/install/" data-bypass="yes" target="_blank"><span>安装Docker</span></a></span>        </p></li><li class="list__item" id="daemon-connection">            <span class="emphasis">配置Docker守护程序连接设置</span>            <ul class="list _alpha-lower"><li class="list__item" id="45b81b97">                    <p id="b4f31b36">在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，单击“ <span class="control">构建，执行，部署”</span>下的“ <span class="control">Docker</span> ”。</p>                </li><li class="list__item" id="6f02ff0e">                    <p id="b05e9a97">添加Docker配置（ <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加按钮"> ）并指定如何连接到Docker守护程序。</p>                    <p id="5ec232fe">连接设置取决于您的Docker版本和操作系统。有关更多信息，请参阅<a href="docker-connection-settings.html">Docker连接设置</a>                    </p>                    <p id="docker_machine_executable">“ <span class="control">连接成功”</span>消息应显示在对话框的底部。</p>                                        <figure><img alt="Docker连接设置" title="Docker连接设置" src="../img/idea/2019.1/03_DockerSettings.png" id="0164a91a" width="563" height="1126"></figure>                                        <p id="2761b3dd"><span class="control">Path mappings</span>表用于将本地文件夹映射到Docker虚拟机文件系统中的相应目录。只有指定的文件夹可用于<a href="docker.html#volume_bindings">卷绑定</a> 。</p>                </li></ul>        </li><li class="list__item" id="connect">            <span class="emphasis">连接到Docker守护程序</span>            <p id="b54135cf">在<span class="control">Docker</span>工具窗口（ <span class="menupath" data-skip-index="skip">View | Tool Windows | Docker</span> ）中，选择Docker节点<img class="inline-icon-16" src="../img/idea/2019.1/Docker-core.icons.Docker@2x.png" width="16" alt="Docker节点"> ，然后单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="“连接”按钮">或从上下文菜单中选择“ <span class="control">连接</span> ”。</p>            <figure><img alt="Docker工具窗口，连接到Docker" title="Docker工具窗口，连接到Docker" src="../img/idea/2019.1/51_DockerConnected.png" id="a47b765b" width="594" height="446"></figure>                    </li></ol></section>        <aside class="tip sideblock" rel="connect" id="924039ab" data-title="">        <p id="725aef9b">要编辑Docker连接设置，请在<span class="control">Docker</span>工具窗口中选择Docker节点，然后单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.editSource.svg@2x.png" width="16" alt="编辑">在工具栏上，或从上下文菜单中选择“ <span class="control">编辑配置</span> ”。</p>    </aside>    <p id="c18bf1db"><span class="control">Docker</span>工具窗口（ <span class="menupath" data-skip-index="skip">View | Tool Windows | Docker</span> ）使您可以管理图像，运行容器和使用Docker Compose。与其他工具窗口一样，您可以开始键入图像或容器的名称以突出显示匹配的项目。</p><figure><img alt="Docker工具窗口，文本搜索" title="Docker工具窗口，文本搜索" src="../img/idea/2019.1/55_DockerFindImage.png" id="b25f67c3" width="594" height="446"></figure>                <div class="chapter"><h2 id="managing-images">管理图像</h2>        <p id="ad7850f4">Docker镜像是用于运行容器的可执行包。根据您的开发需求，您可以使用Docker：</p>        <ul class="list _bullet"><li class="list__item" id="20bc026c"><p>                <a href="docker.html#pull-image">从Docker注册表中提取预先构建的图像</a> 。例如，您可以提取运行Postgres服务器容器的映像，以测试应用程序与生产数据库的交互方式。</p></li><li class="list__item" id="69f64268"><p>                <a href="docker.html#build-image">从Dockerfile本地构建映像</a> 。例如，您可以使用某些特定版本的Java运行时环境（JRE）构建运行容器的映像，并在其中执行Java应用程序。</p></li><li class="list__item" id="f541dbac"><p>                如果要与其他人共享， <a href="docker.html#push-image">请将图像推送到Docker注册表</a> 。例如，如果您想向某人演示您的应用程序如何在某个特定版本的JRE中运行而不是设置适当的环境，他们可以从您的映像运行容器。</p></li></ul>        <p id="docker-registry">图像通过Docker注册表分发。<a href="https://hub.docker.com/" data-bypass="yes" target="_blank"><span>Docker Hub</span></a>是默认的公共注册中心，包含所有最常见的映像：各种Linux风格，数据库管理系统，Web服务器，运行时等。还有其他公共和私有Docker注册表，您也可以部署自己的注册表服务器。</p>                <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="configure-registry">配置Docker注册表</h2></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="77429cec">                <p id="3f40ec5f">在<span class="control">Settings / Preferences</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，选择<span class="menupath" data-skip-index="skip">Build，Execution，Deployment | Docker |登记处</span> 。</p>            </li><li class="list__item" id="d4ab2039"><p>添加Docker注册表配置（ <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加按钮"> ）并指定如何连接到注册表。如果您指定凭据，PyCharm将自动检查与注册表的连接。“ <span class="control">连接成功”</span>消息应显示在对话框的底部。</p><figure><img alt="Docker Registry对话框" title="Docker Registry对话框" src="../img/idea/2019.1/59_DockerRegistryDialog.png" id="214817b2" width="811" height="928"></figure>                            </li></ol></div></div></section>        <aside class="note " rel="configure-registry" id="bd4e7009" data-title="">            <p id="e7932b5b">如果要使用<a href="https://hub.docker.com/" data-bypass="yes" target="_blank"><span>Docker Hub，</span></a>则无需配置注册表。</p>        </aside>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="pull-image">从Docker注册表中提取图像</h2></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="18bb1d48"><p>在<span class="control">Docker</span>工具窗口中，右键单击<span class="control">Images</span>节点，然后从上下文菜单中选择<span class="control">Pull image</span> 。</p><figure><img alt="Pull Image上下文菜单项" title="Pull Image上下文菜单项" src="../img/idea/2019.1/52_DockerPullImage.png" id="5928d615" width="649" height="430"></figure>                            </li><li class="list__item" id="467a8f9a"><p>选择<a href="docker.html#configure-registry">Docker注册表</a>并指定存储库和标记（图像的名称和版本，例如， <code class="code">tomcat:latest</code> ）。</p><figure><img alt="拉动图像对话框" title="拉动图像对话框" src="../img/idea/2019.1/53_DockerPullImageDialog.png" id="046af365" width="373" height="340"></figure>                                            </li></ol><p id="bf608069">有关更多信息，请参阅<a href="https://docs.docker.com/engine/reference/commandline/pull/" data-bypass="yes" target="_blank"><span>docker pull</span></a>命令参考。</p></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="build-image">从Dockerfile构建映像</h2></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="be886cb8"><p>打开要从中构建映像的<a href="https://docs.docker.com/engine/reference/builder/" data-bypass="yes" target="_blank"><span>Dockerfile</span></a> 。</p></li><li class="list__item" id="67b2fdc8"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.rerun.svg@2x.png" width="16" alt="在Docker上构建">在装订线中选择在特定Docker节点上构建图像。</p><figure><img alt="Docker弹出窗口上的Build Image" title="Docker弹出窗口上的Build Image" src="../img/idea/2019.1/56_DockerfileBuild.png" id="b2ca11c3" width="239" height="186"></figure>                                            </li></ol><p id="80854ac6">有关更多信息，请参阅<a href="https://docs.docker.com/engine/reference/commandline/build/" data-bypass="yes" target="_blank"><span>docker build</span></a>命令参考。</p></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="push-image">将图像推送到Docker注册表</h2></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="45855dae"><p>在<span class="control">Docker</span>工具窗口中，选择要上载的图像并单击<img class="inline-icon-16" src="../img/idea/2019.1/Docker-core.icons.PushImage@2x.png" width="16" alt="推图像"> ，或右键单击它，然后从上下文菜单中选择“ <span class="control">推送图像</span> ”。</p><figure><img alt="Push Image上下文菜单项" title="Push Image上下文菜单项" src="../img/idea/2019.1/57_DockerPushImage.png" id="9926abc5" width="594" height="538"></figure>                                            </li><li class="list__item" id="c23f05b5"><p>选择<a href="docker.html#configure-registry">Docker注册表</a>并指定存储库和标记（图像的名称和版本，例如， <code class="code">my-app:v2</code> ）。</p><figure><img alt="推送图像对话框" title="推送图像对话框" src="../img/idea/2019.1/58_DockerPushDialog.png" id="2a2bc731" width="373" height="340"></figure>                            </li></ol><p id="888dfc52">有关更多信息，请参阅<a href="https://docs.docker.com/engine/reference/commandline/push/" data-bypass="yes" target="_blank"><span>docker push</span></a>命令参考。</p></div></div></section>        <p id="e930387b">您提取或构建的图像存储在本地，并列在<span class="control">Docker</span>工具窗口中。选择图像时，可以通过单击来查看其ID或将其复制到剪贴板<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.copy.svg@2x.png" width="16" alt="复制到剪贴板按钮"> “ <span class="control">属性”</span>选项卡上的按钮。</p>        <figure><img alt="Docker图像属性" title="Docker图像属性" src="../img/idea/2019.1/54_DockerImageID.png" id="0fc841a9" width="594" height="388"></figure>                        <p id="5bb64f43">没有标签的图像（ <code class="code">&lt;none&gt;:&lt;none&gt;</code> ）可以是以下之一：</p>        <ul class="list _ul"><li class="list__item" id="180bcacc">                <p id="d2376304"><i id="510a0883">中间图像</i>用作其他图像的图层，不占用任何空间。</p>            </li><li class="list__item" id="e7c09a72">                <p id="c067c664">当您基于另一个图像的较新版本重建图像时， <i id="948db263">悬空图像</i>仍然存在。应修剪悬空图像以节省磁盘空间。</p>            </li></ul>                <p id="e042f284">要隐藏列表中未标记的图像，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.filter.svg@2x.png" width="16" alt="过滤菜单">在Docker工具栏上，然后单击“ <span class="control">显示未标记的图像”</span>以删除复选标记。</p>        <p id="8dec3ed8">要删除一个或多个图像，请在列表中选择它们，然后单击<img class="inline-icon-16" src="../img/idea/2019.1/Docker-core.icons.DeleteImage@2x.png" width="16" alt="删除图片">或从上下文菜单中选择“ <span class="control">删除图像</span> ”。</p>    </div>    <div class="chapter"><h2 id="run-containers">运行容器</h2>                        <p id="f8df6ead">容器是相应图像的运行时实例。有关更多信息，请参阅<a href="https://docs.docker.com/engine/reference/commandline/run/" data-bypass="yes" target="_blank"><span>docker run</span></a>命令参考。</p>        <p id="docker_deployment_run_configs">PyCharm使用<a href="run-debug-configuration.html">运行配置</a> （ <span class="menupath" data-skip-index="skip">运行|编辑配置</span> ）来运行Docker容器。Docker运行配置有三种类型：</p>        <ul class="list _ul"><li class="list__item" id="e0e4e175">                <p id="76643753">                    <span class="control">Docker镜像</span> ： <a href="docker.html#run_image">从现有图像运行容器</a>时自动创建。您可以从之前<a href="docker.html#pull-image">提取</a>或<a href="docker.html#build-image">构建</a>的本地现有Docker镜像运行它。</p>            </li><li class="list__item" id="f35ebb35">                <p id="99c37313">                    <span class="control">Dockerfile</span> ： <a href="docker.html#run_image_dockerfile">从Dockerfile运行容器</a>时自动创建。此配置从Dockerfile构建映像，然后从此映像派生容器。</p>            </li><li class="list__item" id="a55f131d"><p>                <span class="control">Docker-compose</span> ：在<a href="project-tool-window.html">Project工具窗口中</a>从<a href="https://docs.docker.com/compose/overview/" data-bypass="yes" target="_blank"><span>Docker Compose文件</span></a> <a href="docker.html#using-docker-compose">运行多容器Docker应用程序</a>时自动创建。</p></li></ul>        <aside class="note " rel="docker_deployment_run_configs" id="cfd2e9e1" data-title="">            <p id="127e240e">也可以手动创建任何Docker运行配置。在“ <a href="run-debug-configuration.html">运行/调试配置”</a>对话框中，单击“ <span class="control">添加新配置”</span> （ <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加图标"> ），指向<span class="control">Docker</span> ，然后单击所需类型的运行配置。</p>        </aside>        <section class="procedure-steps"><h2 id="run_image">从现有图像运行容器</h2><ol class="list _decimal"><li class="list__item" id="e5c1a6f3"><p>在<span class="control">Docker</span>工具窗口中，选择图像并单击<img class="inline-icon-16" src="../img/idea/2019.1/Docker-core.icons.CreateContainer@2x.png" width="16" alt="创建容器">在Docker工具栏上或右键单击它，然后从上下文菜单中选择“ <span class="control">创建容器</span> ”。</p><figure><img alt="Create容器上下文菜单项" title="Create容器上下文菜单项" src="../img/idea/2019.1/62_DockerCreateContainer.png" id="2c269260" width="594" height="562"></figure>                                            </li><li class="list__item" id="create_container"><p>在“ <span class="control">创建容器”</span>弹出窗口中，单击“ <span class="control">创建”</span> 。</p></li><li class="list__item" id="14e3e2d2"><p>在打开的“ <span class="control">创建Docker配置”</span>对话框中，您可以为配置提供唯一的名称，并指定容器的名称。如果将<span class="control">Container名称</span>字段留空，Docker将为其提供随机唯一名称。</p><figure><img alt="“创建Docker配置”对话框" title="“创建Docker配置”对话框" src="../img/idea/2019.1/63_DockerImageDeployment.png" id="7235e9cf" width="509" height="332"></figure>                                            </li></ol></section>        <aside class="tip sideblock" rel="create_container" id="89eefdef" data-title="">            <p id="17bc3152">如果您已为此映像<a href="docker.html#docker_deployment_run_configs">启用Docker运行配置</a> ，则“ <span class="control">创建容器”</span>弹出窗口还将包含该运行配置的名称作为选项。</p>        </aside>        <section class="procedure-steps"><h2 id="run_image_dockerfile">从Dockerfile运行容器</h2><ol class="list _decimal"><li class="list__item" id="a5605574"><p>打开要从中运行容器的Dockerfile。</p></li><li class="list__item" id="74478817"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.rerun.svg@2x.png" width="16" alt="在Docker上运行">在装订线中选择在特定的Docker节点上运行容器。</p><figure><img alt="Run on Docker弹出窗口" title="Run on Docker弹出窗口" src="../img/idea/2019.1/56_DockerfileRun.png" id="c8c05d25" width="238" height="186"></figure>                                            </li></ol><p id="43b2c886">这将创建并启动运行配置，该配置基于Dockerfile构建映像，然后基于此映像运行容器。</p><p id="2325c4b0">要编辑运行配置，请右键单击该容器，然后单击“ <span class="control">编辑配置”</span> 。在“ <span class="control">编辑部署配置”</span>对话框中，您可以为构建的映像指定自定义标记，以及容器的名称，以及从中读取Dockerfile的上下文文件夹。上下文文件夹可能很有用，例如，如果您在Dockerfile范围之外有一些工件，您希望将这些工件添加到图像的文件系统中。</p></section>        <aside class="tip sideblock" rel="run_image_dockerfile" id="4f210bfc" data-title="">            <p id="c97c5bdd">您可以在“ <span class="control">项目”</span>工具窗口中右键单击Dockerfile，以执行以下有用操作：</p>            <ul class="list _ul"><li class="list__item" id="3948c87a"><p>从Dockerfile <i id="bf9baa5d">运行</i>容器</p></li><li class="list__item" id="3d9a127a"><p><i id="e129c0b8">保存</i> Dockerfile的运行配置</p></li><li class="list__item" id="1f46f4ef"><p><i id="66b39678">选择</i>此Dockerfile的运行配置以使其处于活动状态</p></li></ul>        </aside>        <div class="chapter"><h3 id="command-line-options">命令行选项</h3>            <p id="1d6169a4">在命令行上运行容器时，使用以下语法：</p>            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">docker</span> <span class="n">run</span> <span class="o">[</span> <span class="n">OPTIONS</span> <span class="o">]</span> <span class="n">IMAGE</span> <span class="o">[</span> <span class="n">COMMAND</span> <span class="o">]</span> <span class="o">[</span> <span class="n">ARG</span> <span class="o">...]</span></code></div>            <p id="edit-run-config">可以在相应的<a href="docker.html#docker_deployment_run_configs">Docker运行配置</a>字段中指定所有可选参数。</p>            <aside class="tip sideblock" rel="edit-run-config" id="fe525509" data-title="">                <p id="b61a7dfe">要编辑运行配置，请在“ <span class="menupath" data-skip-index="skip">运行”</span>菜单上单击“ <span class="menupath" data-skip-index="skip">编辑配置”</span> 。或者，您可以右键单击容器或使用Dockerfile中的装订线图标菜单打开相应的运行配置设置。</p>            </aside>            <figure><img alt="“编辑部署配置”对话框，带有命令行选项" title="“编辑部署配置”对话框，带有命令行选项" src="../img/idea/2019.1/66_DockerContainerCLI.png" id="bdada403" width="529" height="1172"></figure>                                    <ul class="list _bullet"><li class="list__item" id="cli-options"><p>选项在“ <span class="control">运行选项”</span>字段中指定。在上一个屏幕截图中，容器已连接到<code class="code">my-net</code>网络，并被分配了一个别名<code class="code">my-app</code> 。</p></li><li class="list__item" id="e4845bf6"><p>在<span class="control">入口点</span>和<span class="control">命令</span>字段中指定启动容器时要执行的命令和参数。这些字段覆盖<span class="control">Dockerfile</span>中相应的<span class="control">ENTRYPOINT</span>和<span class="control">CMD</span>指令。在上一个屏幕截图中，当容器启动时，它会以<code class="code">postgres</code>作为参数执行<code class="code">docker-entrypoint.sh</code>脚本。</p></li></ul>            <aside class="note " rel="cli-options" id="859a756d" data-title="">                <p id="0593b715">并非所有<code class="code">docker run</code>选项都受支持。如果您想请求支持某些选项，请在<a href="https://youtrack.jetbrains.com/issue/IDEA-181088" data-bypass="yes" target="_blank"><span>IDEA-181088中</span></a>发表评论。</p>            </aside>            <p id="9fc00089"><span class="control">命令预览</span>字段显示用于此运行配置的实际Docker命令。</p>            <p id="0c9be3a9">您还可以在运行配置中配置以下容器设置：</p>            <ul class="list _ul"><li class="list__item" id="3485317d"><a href="docker.html#volume_bindings">绑定坐骑</a></li><li class="list__item" id="6b6ddfbc"><a href="docker.html#port_bindings">绑定端口</a></li><li class="list__item" id="e063c654"><a href="docker.html#using_env_vars">环境变量</a></li><li class="list__item" id="aea378db"><a href="docker.html#using_build_args">构建时参数</a></li></ul>        </div>        <div class="chapter"><h3 id="volume_bindings">绑定坐骑</h3>            <p id="bind-mounts-intro">Docker可以使用<code class="code">-v</code>或<code class="code">--volume</code>选项将文件或目录从主机安装到容器。您可以使用<span class="control">Bind mounts</span>字段在<a href="docker.html#docker_deployment_run_configs">Docker运行配置</a>中对其<a href="docker.html#docker_deployment_run_configs">进行配置</a> 。</p>            <aside class="note " rel="bind-mounts-intro" id="21719eef" data-title="">                                <p id="4fe2a0a8">确保在<a href="docker.html#daemon-connection">Docker连接设置</a> （ <span class="control">Path mappings</span>表）中配置了相应的路径映射。</p>            </aside>            <p id="83a13fdc">在“ <span class="control">绑定装入”</span>对话框中，您可以通过指定主机目录以及容器应安装位置的相应路径来创建绑定列表。如果要禁用写入容器卷，请选择“ <span class="control">只读”</span> 。</p>            <figure><img alt="带有绑定装入的“编辑部署配置”对话框" title="带有绑定装入的“编辑部署配置”对话框" src="../img/idea/2019.1/69_DockerVolumeBindings.png" id="ee024111" width="529" height="1188"></figure>                        <p id="729f5b25"><span class="control">Bind mounts</span>字段显示已配置的卷绑定。例如，如果要将一些本地PostgreSQL数据目录（ <span class="filepath">/ Users / Shared / pg-data</span> ）挂载到容器内的PostgreSQL数据目录（ <span class="filepath">/ var / lib / pgsql / data</span> ），可以按照上一页截图。</p>            <p id="1ae8d32c">如果展开“ <span class="control">命令预览”</span>字段，您将看到添加了以下行：</p>            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">-</span> <span class="n">v</span> <span class="o">/</span> <span class="n">Users</span> <span class="o">/</span> <span class="n">Shared</span> <span class="o">/</span> <span class="n">pg</span> <span class="o">-</span> <span class="n">data</span> <span class="o">：/</span> <span class="n">var</span> <span class="o">/</span> <span class="n">lib</span> <span class="o">/</span> <span class="n">pgsql</span> <span class="o">/</span> <span class="n">data</span></code></div>                        <p id="7c180da6">这可以在<span class="control">命令行选项</span>字段中使用，而不是使用“ <span class="control">绑定装入”</span>对话框创建卷装订列表。</p>            <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="5afab284">查看和修改正在运行的容器的卷绑定</h2></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="d22865ba"><p>在<span class="control">Docker</span>工具窗口中，选择容器，然后选择<span class="control">Volume Bindings</span>选项卡。</p><figure><img alt="卷绑定选项卡" title="卷绑定选项卡" src="../img/idea/2019.1/70_DockerVolumeBindingsTomcatDTW.png" id="ed4443bb" width="1048" height="490"></figure>                                    </li><li class="list__item" id="09f29bc3"><p>要创建新绑定，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加图标"> 。要编辑现有绑定，请选择绑定并单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.edit.svg@2x.png" width="16" alt="编辑图标"> 。</p></li><li class="list__item" id="5c97baae"><p>根据需要指定设置，然后单击“ <span class="control">保存”</span>以应用更改。</p></li></ol><p id="c9ed037f">停止并删除容器，并使用指定的更改创建新容器。但是，更改不会保存在相应的运行配置中。</p></div></div></section>        </div>        <div class="chapter"><h3 id="port_bindings">绑定端口</h3>            <p id="111e961d">Docker可以使用<code class="code">-p</code>或<code class="code">--publish</code>选项将主机上的特定端口映射到容器中的端口。这可用于使容器可从外部访问。在<a href="docker.html#docker_deployment_run_configs">Docker运行配置中</a> ，您可以选择将所有容器端口公开给主机，或使用“ <span class="control">绑定端口”</span>字段指定端口映射。</p>            <p id="3bdb1782">在“ <span class="control">端口绑定”</span>对话框中，您可以通过指定主机上的哪些端口应映射到容器中的哪些端口来创建绑定列表。您还可以提供可从中访问端口的特定主机IP（例如，您可以将其设置为<code class="code">127.0.0.1</code>以使其仅可在本地访问，或将其设置为<code class="code">0.0.0.0</code>以便为网络中的所有计算机打开它）。</p>            <figure><img alt="带有绑定端口的“编辑部署配置”对话框" title="带有绑定端口的“编辑部署配置”对话框" src="../img/idea/2019.1/71_DockerPortBindings.png" id="a841d9f3" width="529" height="1188"></figure>                        <p id="8e612743">“ <span class="control">绑定端口”</span>字段显示已配置的端口绑定。例如，如果您已经在Docker主机端口5432上运行PostgreSQL，则可以将主机上的端口5433映射到容器内的5432，如上一屏幕截图所示。这将使容器内的PostgreSQL可通过主机上的端口5433访问。</p>            <p id="1da2db10">如果展开“ <span class="control">命令预览”</span>字段，您将看到添加了以下行：</p>            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">-</span> <span class="n">p</span> <span class="mi">5433</span> <span class="o">：</span> <span class="mi">5432</span></code></div>            <p id="9fd0681d">这可以在<span class="control">命令行选项</span>字段中使用，而不是使用“ <span class="control">端口绑定”</span>对话框创建端口绑定列表。</p>            <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="453ab863">查看和修改正在运行的容器的端口绑定</h2></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="9f74025f"><p>在<span class="control">Docker</span>工具窗口中，选择容器，然后选择<span class="control">Port Bindings</span>选项卡。</p><figure><img alt="端口绑定选项卡" title="端口绑定选项卡" src="../img/idea/2019.1/72_DockerPortBindingsTomcatDTW.png" id="c75edf62" width="1048" height="490"></figure>                                    </li><li class="list__item" id="346a70fe"><p>要创建新绑定，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加图标"> 。要编辑现有绑定，请选择绑定并单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.edit.svg@2x.png" width="16" alt="编辑图标"> 。如果选中“ <span class="control">发布所有端口”</span>复选框，请将其清除以指定单个端口映射。</p></li><li class="list__item" id="947b1e2a"><p>根据需要指定设置，然后单击“ <span class="control">保存”</span>以应用更改。</p></li></ol><p id="68247b21">停止并删除容器，并使用指定的更改创建新容器。但是，更改不会保存在相应的运行配置中。</p></div></div></section>        </div>        <div class="chapter"><h3 id="using_env_vars">环境变量</h3>            <p id="c383c85f">环境变量通常在与您正在使用的基本映像关联的<a href="https://docs.docker.com/engine/reference/builder/" data-bypass="yes" target="_blank"><span>Dockerfile</span></a>中设置。<a href="https://docs.docker.com/engine/reference/run/#env-environment-variables" data-bypass="yes" target="_blank"><span>Docker</span></a>还为每个新容器<a href="https://docs.docker.com/engine/reference/run/#env-environment-variables" data-bypass="yes" target="_blank"><span>自动设置环境变量</span></a> 。您可以指定其他变量并使用<code class="code">-e</code>或<code class="code">--env</code>选项重新定义Docker设置的变量。在<a href="docker.html#docker_deployment_run_configs">Docker运行配置中</a> ，您可以使用<span class="control">Environment variables</span>字段配置环境变量。</p>            <p id="aafb8e16">在“ <span class="control">环境变量”</span>对话框中，您可以创建变量的名称和值列表。</p>            <figure><img alt="带有环境变量的“编辑部署配置”对话框" title="带有环境变量的“编辑部署配置”对话框" src="../img/idea/2019.1/73_DockerEnvVar.png" id="beb2bd12" width="529" height="1188"></figure>                        <p id="0f488855">“ <span class="control">环境变量”</span>字段显示已配置的变量。例如，如果您希望默认情况下使用特定用户名连接到PostgreSQL（而不是运行应用程序的用户的操作系统名称），则可以定义<code class="code">PGUSER</code>变量，如上一屏幕截图所示。</p>            <p id="4f235e0a">如果展开“ <span class="control">命令预览”</span>字段，您将看到添加了以下行：</p>            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">-</span> <span class="n">env</span> <span class="n">PGUSER</span> <span class="o">=</span> <span class="n">pg</span> <span class="o">-</span> <span class="n">admin</span></code></div>                        <p id="960b55d0">这可以在<span class="control">命令行选项</span>字段中使用，而不是使用“ <span class="control">环境变量”</span>对话框创建名称和值列表。如果需要将敏感信息（密码，机密等）作为环境变量传递，则可以使用<code class="code">--env-file</code>选项指定包含此信息的文件。</p>            <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="51f08d74">查看和修改正在运行的容器的环境变量</h2></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="3e67701f"><p>在<span class="control">Docker</span>工具窗口中，选择容器，然后选择“ <span class="control">环境变量”</span>选项卡。</p><figure><img alt="“环境变量”选项卡" title="“环境变量”选项卡" src="../img/idea/2019.1/74_DockerEnvVarJarDTW.png" id="0f7b7ea4" width="1048" height="490"></figure>                                    </li><li class="list__item" id="2be3602b"><p>要添加新变量，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加图标"> 。要编辑现有变量，请选择变量并单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.edit.svg@2x.png" width="16" alt="编辑图标"> 。</p></li><li class="list__item" id="42f8ee6c"><p>根据需要指定设置，然后单击“ <span class="control">保存”</span>以应用更改。</p></li></ol><p id="78153fa6">停止并删除容器，并使用指定的更改创建新容器。但是，更改不会保存在相应的运行配置中。</p></div></div></section>        </div>        <div class="chapter"><h3 id="using_build_args">构建时参数</h3>            <p id="a260c67e">Docker可以使用<code class="code">docker build</code>的<code class="code">--build-arg</code>选项为中间或最终映像中不存在的某些环境变量定义构建<code class="code">docker build</code> 。这些必须在Dockerfile的<code class="code">ARG</code>指令中使用默认值指定。您可以使用<span class="control">Build args</span>字段在<a href="docker.html#docker_deployment_run_configs">Docker运行配置中配置</a> <span class="control">构建时参数</span> 。</p>            <p id="06f9f83a">例如，您可以使用构建时参数来使用特定版本的PostgreSQL构建映像。为此，请将<code class="code">ARG</code>指令添加到Dockerfile的开头：</p>            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">ARG</span> <span class="n">PGTAG</span> <span class="o">=</span> <span class="n">来自</span> <span class="n">postgres的</span> <span class="n">最新消息</span> <span class="o">：</span> <span class="n">$ PGTAG</span></code></div>                        <p id="967814da">如果您不将其重新定义为构建时参数，则此情况下的<code class="code">PGTAG</code>变量将默认为<code class="code">latest</code> 。因此，默认情况下，此Dockerfile将生成具有最新可用PostgreSQL版本的映像。但是，您可以使用<span class="control">Build Args</span>字段重新定义<code class="code">PGTAG</code>变量。</p>            <figure><img alt="带有构建时参数的“编辑部署配置”对话框" title="带有构建时参数的“编辑部署配置”对话框" src="../img/idea/2019.1/74_DockerBuildArgs.png" id="b547ae32" width="529" height="1188"></figure>                        <p id="d229f39b">在上一个屏幕截图中， <code class="code">PGTAG</code>设置为<code class="code">9</code> ，这将指示Docker拉出<code class="code">postgres:9</code> 。部署此运行配置时，它将构建映像并使用PostgreSQL版本9运行容器。要检查这一点，在容器内执行<code class="code">postgres --version</code>并查看输出：它应该是<code class="code">postgres (PostgreSQL) 9.6.6</code>或更高版本。</p>            <p id="1f25fb4c">如果展开“ <span class="control">命令预览”</span>字段，您将看到以下选项已添加到<code class="code">docker build</code>命令：</p>            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">-</span> <span class="n">build</span> <span class="o">-</span> <span class="n">arg</span> <span class="n">PGTAG</span> <span class="o">=</span> <span class="mi">9</span></code></div>                    </div>        <div class="chapter"><h3 id="interacting-with-containers">与容器交互</h3>            <p id="54a8ae89">创建的容器列在<span class="control">Docker</span>工具窗口中。选择容器时，可以查看其ID（以及相应图像的ID）并使用。将其复制到剪贴板<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.copy.svg@2x.png" width="16" alt="复制到剪贴板按钮"> “ <span class="control">属性”</span>选项卡上的按钮。您还可以为容器指定新名称，然后单击“ <span class="control">保存”</span>以从同一图像中使用此新名称启动另一个容器。</p>            <p id="0b0a5e97">默认情况下， <span class="control">Docker</span>工具窗口显示所有容器，包括那些未运行的容器。若要从列表中隐藏已停止的容器，请单击Docker工具栏上的“ <span class="control">过滤器”</span>菜单，然后单击“ <span class="control">显示已停止的容器”</span>以删除复选标记。</p>            <p id="a960668e">如果使用<a href="docker.html#docker_deployment_run_configs">Docker运行配置</a>创建容器，要查看其部署日志，请选择它并打开“ <span class="control">部署日志”</span>选项卡。要从容器的<code class="code">STDOUT</code>和<code class="code">STDERR</code>查看日志消息，请选择它并打开“ <span class="control">日志”</span>选项卡。有关更多信息，请参阅<a href="https://docs.docker.com/engine/reference/commandline/logs/" data-bypass="yes" target="_blank"><span>docker logs</span></a>命令参考。</p>            <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="5b6b1087">在正在运行的容器中执行命令</h2></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="9bf142e4"><p>在<span class="control">Docker</span>工具窗口中，右键单击容器名称，然后单击“ <code class="code">Exec</code> 。</p></li><li class="list__item" id="0a7a6cdd"><p>在<span class="control">容器</span>弹出窗口中的<span class="control">“运行”命令中</span> ，单击“ <span class="control">创建”</span> 。</p></li><li class="list__item" id="53b10dc7">                    <p id="f4ce535e">在“ <span class="control">执行”</span>对话框中，键入命令，然后单击“ <span class="control">确定”</span> 。例如：</p>                    <div class="table-wrapper"><table class="no_header                 " width="100%" id="37fec02f"><tbody><tr id="3d0695d8" class="ijRowOdd"><td id="d7938575"><code class="code">ls / tmp</code></td><td id="baf6279d"><p id="5a09e250">列出<span class="filepath">/ tmp</span>目录的内容</p></td></tr><tr id="d853c678" class="ijRowEven"><td id="506414d5"><code class="code">mkdir / tmp / my-new-dir</code></td><td id="def2ba89"><p id="7b1a6162">在<span class="filepath">/ tmp</span>目录中创建<span class="filepath">my-new-dir</span>目录</p></td></tr><tr id="de39d38d" class="ijRowOdd"><td id="bdbc2e1d"><code class="code">/斌/庆典</code></td><td id="08924a2b"><p>开始一个<code class="code">bash</code>会话</p></td></tr></tbody></table></div>                    <figure><img alt="带有/ bin / bash的Exec选项卡正在运行" title="带有/ bin / bash的Exec选项卡正在运行" src="../img/idea/2019.1/67_DockerExecBinBash_1.png" id="c9706c27" width="600" height="396"></figure>                </li></ol><p id="028be92d">有关更多信息，请参阅<a href="https://docs.docker.com/engine/reference/commandline/exec/" data-bypass="yes" target="_blank"><span>docker exec</span></a>命令参考。</p></div></div></section>            <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="eedf8c67">查看有关正在运行的容器的详细信息</h2></div><div class="collapse__content"><ul class="list "><li class="list__item" id="c821a332">                    <p id="5739930f">在<span class="control">Docker</span>工具窗口中，右键单击容器名称，然后单击“ <span class="control">检查”</span> 。</p>                    <p id="7494e5db">输出在“ <span class="control">检查”</span>选项卡上呈现为JSON数组。</p>                    <figure><img alt="检查选项卡" title="检查选项卡" src="../img/idea/2019.1/68_DockerInspect.png" id="2672620e" width="600" height="396"></figure>                                    </li></ul><p id="8370a498">有关更多信息，请参阅<a href="https://docs.docker.com/engine/reference/commandline/inspect/" data-bypass="yes" target="_blank"><span>docker inspect</span></a>命令参考。</p></div></div></section>            <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="caa052e1">查看在容器中运行的进程</h2></div><div class="collapse__content"><ul class="list "><li class="list__item" id="9b94d865">                    <p id="bdbbcd74">在<span class="control">Docker</span>工具窗口中，右键单击容器名称，然后单击“ <span class="control">显示进程”</span> 。</p>                    <p id="5e628aa8">输出在“ <span class="control">进程”</span>选项卡上呈现为JSON数组。</p>                </li></ul><p id="414843fa">有关更多信息，请参阅<a href="https://docs.docker.com/engine/reference/commandline/top/" data-bypass="yes" target="_blank"><span>docker top</span></a>命令参考。</p></div></div></section>            <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="bab2a52e">将控制台附加到可执行容器的输出</h2></div><div class="collapse__content"><ul class="list "><li class="list__item" id="2e054549">                    <p id="e7195543">在<span class="control">Docker</span>工具窗口中，右键单击容器，然后单击“ <span class="control">附加”</span> 。</p>                    <p id="69ca51a9">控制台附加到在容器内运行的<a href="https://docs.docker.com/engine/reference/builder/#entrypoint" data-bypass="yes" target="_blank"><span>ENTRYPOINT</span></a>进程的输出，并在<span class="control">Attached控制台</span>选项卡上呈现。</p>                </li></ul><p id="6d9f47a1">有关更多信息，请参阅<a href="https://docs.docker.com/engine/reference/commandline/attach/" data-bypass="yes" target="_blank"><span>docker attach</span></a>命令参考。</p></div></div></section>        </div>    </div>    <div class="chapter"><h2 id="using-docker-compose">Docker撰写</h2>        <p id="b6e03faf">            <a href="https://docs.docker.com/compose/overview/" data-bypass="yes" target="_blank"><span>Docker Compose</span></a>用于运行多容器应用程序。例如，您可以将Web服务器，后端数据库和应用程序代码作为单独的服务运行。如有必要，可以通过添加更多容器来扩展每个服务。这使您能够在动态环境中执行高效的开发和测试，类似于生产。</p>        <section class="procedure-steps"><h2 id="docker-compose-run-configuration">运行多容器Docker应用程序</h2><ol class="list _decimal"><li class="list__item" id="3cd53cd9"><p>在一个或多个<a href="https://docs.docker.com/compose/compose-file/" data-bypass="yes" target="_blank"><span>Docker Compose文件中</span></a>定义必要的服务。</p></li><li class="list__item" id="48c009bd"><p>在“ <span class="menupath" data-skip-index="skip">运行”</span>菜单中，单击“ <span class="menupath" data-skip-index="skip">编辑配置”</span> 。</p></li><li class="list__item" id="8032b7f3"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加图标"> ，指向<span class="control">Docker</span> ，然后单击<span class="control">Docker-compose</span> 。</p><figure><img alt="Docker-compose配置" title="Docker-compose配置" src="../img/idea/2019.1/64_DockerComposeDeployment.png" id="6c228303" width="786" height="948"></figure>                            </li><li class="list__item" id="77f5c4cb"><p>指定Docker Compose文件，用于定义要在容器中运行的服务。如有必要，您可以限制此配置将启动的服务，指定<a href="https://docs.docker.com/compose/environment-variables/" data-bypass="yes" target="_blank"><span>环境变量</span></a> ，并在启动相应容器之前强制构建映像（即，为<a href="https://docs.docker.com/compose/reference/up/" data-bypass="yes" target="_blank"><span>docker-compose up</span></a>命令添加<code class="code">--build</code>选项）。</p></li><li class="list__item" id="4c1b3d50"><p>运行配置准备就绪后，执行它。</p></li></ol></section>        <aside class="note " rel="docker-compose-run-configuration" id="a7d0b33b" data-title="">            <p id="dc7c1d45">要快速创建<span class="emphasis">Docker-compose</span>运行配置并使用默认设置运行它，请在“ <span class="control">项目”</span>工具窗口中右键单击Docker Compose文件，然后在上下文菜单中单击<span class="control">“运行”</span> 。您还可以使用Docker Compose文件中的装订线图标和上下文菜单来控制服务。</p>        </aside>        <p id="23c4543c">当Docker Compose运行您的多容器应用程序时，您可以使用<span class="control">Docker</span>工具窗口来控制特定服务并<a href="docker.html#interacting-with-containers">与容器交互</a> 。容器列在专用的<span class="control">Compose</span>节点下，而不是在<span class="control">Containers</span>节点下（仅适用于独立容器）。</p>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="0a677f4b">扩展服务</h2></div><div class="collapse__content"><ol class="list _decimal"><li class="list__item" id="e03dc5cd"><p>在<span class="control">Docker</span>工具窗口中，右键单击要缩放的服务，然后从上下文菜单中选择“ <span class="control">缩放</span> ”。</p><figure><img alt="“缩放”上下文菜单项" title="“缩放”上下文菜单项" src="../img/idea/2019.1/96_DockerComposeScaleService.png" id="dff68470" width="600" height="490"></figure>                            </li><li class="list__item" id="92b4c5de"><p>指定此服务所需的容器数，然后单击“ <span class="control">确定”</span> 。</p></li></ol></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="ce75d203">停止正在运行的服务</h2></div><div class="collapse__content"><ul class="list "><li class="list__item" id="ef0211d6"><p>在<span class="control">Docker</span>工具窗口中，选择服务并单击<img class="inline-icon-16" src="../img/idea/2019.1/Docker-core.icons.StopContainer_1.png" width="16" alt="停止容器">或者右键单击它，然后从上下文菜单中选择“ <span class="control">停止</span> ”。</p><figure><img alt="Stop上下文菜单项" title="Stop上下文菜单项" src="../img/idea/2019.1/98_DockerComposeServiceStart.png" id="1679aa11" width="600" height="490"></figure>                            </li></ul></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="4e5d529c">停止所有运行的服务</h2></div><div class="collapse__content"><ul class="list "><li class="list__item" id="6551d3bd"><p>在<span class="control">Docker</span>工具窗口中，选择<span class="control">Compose</span>节点并单击<img class="inline-icon-16" src="../img/idea/2019.1/Docker-core.icons.StopContainer_1.png" width="16" alt="停止容器">或者右键单击它，然后从上下文菜单中选择“ <span class="control">停止</span> ”。</p><figure><img alt="Docker Compose停止所有服务" title="Docker Compose停止所有服务" src="../img/idea/2019.1/DockerComposeStopApp.png" id="91dfbdfb" width="743" height="488"></figure>                            </li></ul></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="3d35327c">降低您的应用程序</h2></div><div class="collapse__content"><ul class="list "><li class="list__item" id="ce64f394"><p>在<span class="control">Docker</span>工具窗口中，右键单击“ <span class="control">构建”</span>节点，然后在上下文菜单中单击“ <span class="control">向下</span> ”。</p><figure><img alt="Docker撰写删除应用程序" title="Docker撰写删除应用程序" src="../img/idea/2019.1/DockerComposeDownApp.png" id="954e7d27" width="743" height="488"></figure>                            </li></ul><p id="3a95ae7a">这将停止并删除容器以及所有相关的网络，卷和图像。</p></div></div></section>        <section class="procedure-steps"><div class="collapse"><div class="collapse__title"><h2 id="7244842f">打开用于运行应用程序的Docker Compose文件</h2></div><div class="collapse__content"><ul class="list "><li class="list__item" id="a739d4c6"><p>在<span class="control">Docker</span>工具窗口中，右键单击“ <span class="control">构建”</span>节点或嵌套服务节点，然后在上下文菜单中单击“ <span class="control">跳转到源</span> ”（ <kbd data-primary_default="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_default_for_xwin="F4" data-primary_emacs="F4" data-primary_visual_studio="F4" data-primary_netbeans="F4" data-primary_eclipse="F12" data-secondary_mac_os_x_10.5_="⌘↓" data-secondary_mac_os_x="F4" data-secondary_eclipse_mac_os_x="F3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="F4" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="F4">F4</kbd> ）。</p></li></ul></div></div></section>        <p id="72d843d4"><span class="control">Docker-compose</span>运行配置将识别具有<span class="filepath">.env</span>后缀的<a href="https://docs.docker.com/compose/env-file/" data-bypass="yes" target="_blank"><span>环境文件</span></a> （如果它们与Docker Compose文件位于同一目录中）。</p>    </div>    <div class="chapter"><h2 id="docker_troubleshooting">故障排除</h2>        <p id="f2b41ff0">如果遇到以下问题之一，请尝试相应的建议解决方案。</p>                <h2>搬运工人</h2><div class="table-wrapper"><table class=" wide                 " width="100%" id="ae4a4d91"><thead><tr id="a45a50ce" class="ijRowHead"><th id="4c2d1869"><p>报告的问题</p></th><th id="11635bc1"><p>描述</p></th><th id="4cb41771"><p>解</p></th></tr></thead><tbody><tr id="c484c1c0" class="ijRowOdd"><td id="a0d5dcaa"><p>无法连接到Docker</p></td><td id="e956d9f9"><p>Docker未运行，或者您的Docker连接设置不正确。</p></td><td id="d2112538"><p id="c3af81ca">如果您使用的是Docker for Windows，请在Docker设置的“ <span class="control">常规”</span>部分中启用<span class="control">tcp：// localhost：2375上</span>的<span class="control">Expose守护程序，而不使用TLS</span>选项。</p>                <p id="eda81909">如果您使用的是Docker Toolbox，请确保Docker Machine正在运行，并且在<span class="control">Build，Execution，Deployment |</span>下的<span class="control">Settings / Preferences</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中正确指定了它的可执行文件<span class="control">。 Docker |工具</span> 。</p>            </td></tr><tr id="de3cec59" class="ijRowEven"><td id="3dfefe3e"><p id="a1c855b5">当您尝试拉取图像时，将显示以下消息：</p>                <code class="code">Failed to parse dockerCfgFile:</code> <code class="code">&lt;your_home_dir&gt;/.docker/config.json,</code> <code class="code">caused by: ... {"credsStore":"wincred"}</code>            </td><td id="4983ab09"><p id="86313cc4">使用<code class="code">credsStore</code>时无效的Auth配置文件： <a href="http://github.com/docker-java/docker-java/issues/806" data-bypass="yes" target="_blank"><span>http</span></a> ： <code class="code">credsStore</code></p></td><td id="8c9af096"><p>转到<span class="filepath">&lt;your_home_dir&gt; /.泊坞</span>目录并删除<span class="filepath">config.json</span>文件。</p></td></tr><tr id="28ba3028" class="ijRowOdd"><td id="66c7e606"><p>无法使用Docker Compose</p></td><td id="a70aeff8"><p>Docker Compose可执行文件指定不正确。</p></td><td id="b69018b4"><p>在<span class="control">Build，Execution，Deployment |</span>下的<span class="control">Settings / Preferences</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中指定Docker Compose可执行文件<span class="control">Docker |工具</span></p></td></tr><tr id="faff9d29" class="ijRowEven"><td id="89ac6c7d"><p>无法使用端口绑定</p></td><td id="10d94dab"><p>容器端口不会暴露。</p></td><td id="ae235b08"><p>使用<a href="https://docs.docker.com/engine/reference/builder/#expose" data-bypass="yes" target="_blank"><span>EXPOSE</span></a>在命令<a href="https://docs.docker.com/engine/reference/builder/" data-bypass="yes" target="_blank"><span>Dockerfile</span></a></p></td></tr></tbody></table></div>                    </div>    <div class="chapter"><h2 id="docker_limitations">限制</h2>                <p id="141c31ca"><span class="emphasis">Docker集成</span>插件有一定的局限性和缺陷，但JetBrains不断致力于修复和改进。您可以在我们的错误跟踪系统中找到<a href="https://youtrack.jetbrains.com/issues?q=Subsystem:Docker tag:docker-limitations" data-bypass="yes" target="_blank"><span>Docker问题列表，</span></a>并投票选出最能影响您的问题。您还可以提交自己的错误和功能请求。</p>    </div>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-wsl-as-a-remote-interpreter-1.html">使用WSL作为远程解释器</a> <a class="navigation-links__next" href="docker-compose.html">Docker Compose</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>