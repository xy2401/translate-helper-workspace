<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="structural-search-and-replace.html"><meta charset="UTF-8"><title>Structural Search and Replace - Help | IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="topicId453705"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="structural-search-and-replace.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="topicId453705" id="Structural_Search_and_Replace.xml">Structural Search and Replace</h1>                <p id="ssr_inspections">        A conventional search process does not include the syntax and semantics of the source code.        Even if you use regular expressions, IntelliJ IDEA still treats your code as a regular text.        The <span class="keyword">structural search and replace</span> (<span class="keyword">SSR</span>) actions let you        search for a particular code pattern or grammatical construct in your code considering your        code structure.    </p>    <p id="a9d9229b">IntelliJ IDEA finds and replaces fragments of source code, based on the        <a href="search-templates.html">search templates</a> that you create and        <a href="search-templates.html#ssr_filters">conditions</a> you apply.</p>    <section class="procedure-steps"><h2 id="to_search_structurally" data-toc="topicId453705#to_search_structurally">Search for a target structurally</h2><ol class="list _decimal"><li class="list__item" id="52de4fbc">            <p id="eab59fc2">From the main menu, select <span data-skip-index="skip" class="menupath">Edit | Find | Search Structurally</span> to open the                <span class="control">Structural Search</span>                dialog.            </p>            <aside class="note " data-title="" rel="eab59fc2" id="e947fb25">           <p id="a785b53c">While in the <span class="control">Structural Search</span> dialog, you can quickly switch to the               <span class="control">Structural Replace</span> dialog. Click               <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.gearPlain.svg@2x.png" width="16" alt="the Settings button"> and select               <span class="control">Switch to Replace</span>.           </p>       </aside>        </li><li class="list__item" id="362570d7">            <p id="c2105190">In the <span class="control">Structural Search</span> dialog, do one of the following:            </p>            <ul class="list _ul"><li class="list__item" id="8eb25ce6">                    <p id="6bbf7f1b"><span class="emphasis">Create your own template from scratch</span>.                    </p>                    <p id="9dd6313c">In the editor area, enter the code pattern (<code class="code">$variable$</code> that represent your code),                        click <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.gearPlain.svg@2x.png" width="16" alt="the Settings button">, and select                        <span class="control">Save Template</span> to save it for future use.</p>                    <figure><img alt="Structural Search dialog" title="Structural Search dialog" src="../img/idea/2019.1/structural_search_dialog.png" id="0fd1c8d4" width="662" height="223"></figure>                                                            <p id="760ea5fa">                        IntelliJ IDEA adds the created template to the                        existing template list (<span class="control">User Defined</span> node) in the                        <span class="control">Existing Templates</span> dialog.                    </p>                </li><li class="list__item" id="49d5b819">                    <p id="25c0a6d8"><span class="emphasis">Use one of the existing templates to act as a prototype</span>.                    </p>                    <p id="d48a49e7">Click <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.gearPlain.svg@2x.png" width="16" alt="the Settings button">, select <span class="control">Existing Templates</span> to open the list of                        predefined templates, and select the appropriate one.                    </p>                    <p id="476f6e10">For example, you have the following fields in your code:</p>                                                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">this_is_wrong</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">THIS_IS_CORRECT</span> <span class="o">=</span> <span class="s">&quot;world&quot;</span><span class="o">;</span>
<span class="o">}</span></code></div>                                                            <p id="04da82c2">Let's find a certain field in the class.</p>                                        <p id="401f12b8">In the list of existing templates,                        click <span class="control">Java</span> and open the <span class="control">Class-based</span>                            node (since we need fields in the class), so the <span class="emphasis">fields of the class</span>                            template would be our target.                                                                                            </p>                    <figure><img alt="the Existing Templates dialog" title="the Existing Templates dialog" src="../img/idea/2019.1/existing_templates.png" id="501363a8" width="552" height="398"></figure>                                                            <p id="ca3f9e42">Click <span class="control">OK</span> to return back to the <span class="control">Structural Search</span> dialog                        to work with the selected template.                    </p>                </li></ul>        </li><li class="list__item" id="cc896f93">            <p id="1f25a0e8">To add some <a href="search-templates.html#ssr_filters">condition</a>                for the template, for                    example, add some regular expressions or a <a href="search-templates.html#script_constraints">script constraint</a>,                 in the editor area, position the caret at the code item. The popup with the <span class="control">Edit                    Filters</span> link appears.            </p>            <figure><img alt="the Edit filters popup" title="the Edit filters popup" src="../img/idea/2019.1/Edit_filters_popup.png" id="9ff6e19d" width="592" height="87"></figure>                                </li><li class="list__item" id="6ef78459">            <p id="f92cf827">Click the link or <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.filter.svg@2x.png" width="16" alt="the View variable filters button"> on the toolbar to open the filter area                where you can add your conditions.            </p>            <p id="e6926478">                As an example, let's add a condition for the <code class="code">$Field$</code> variable.            </p>        </li><li class="list__item" id="8cbbb397"><p>            In the filter area, click <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="Add"> to add a new condition.            If, for example, you need to add a regular expression, select <span class="control">Text</span>.            You can also add <a href="search-templates.html#ssr_filters">other conditions</a>            depending on your variable.        </p></li><li class="list__item" id="8b9aa6ea">            <p id="858734ad">                In the field that opens, type your condition.            </p>            <p id="ea64afd5">For example, let's type the following regular expression:            </p>            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">[</span><span class="n">a</span><span class="o">-</span><span class="n">z</span><span class="o">]</span><span class="n">_</span><span class="o">+[</span><span class="n">a</span><span class="o">-</span><span class="n">z</span><span class="o">]</span></code></div>                        <figure><img alt="Add regular expression to the filter dialog" title="Add regular expression to the filter dialog" src="../img/idea/2019.1/add_filter_text_regex_ssr.png" id="66d79a50" width="629" height="243"></figure>                        <p id="5db27623">In this case when you select the <span class="control">Match case</span> checkbox in the                <span class="control">Structural Search</span> dialog, IntelliJ IDEA will only search for lower case                words.            </p>            <p id="70fe8183">Also note that by default, the <span class="control">Recursive</span> checkbox is selected. That means                that IntelliJ IDEA performs the recursive search and all nested items will be included in the results.                For example, when you search for a method call, with the <span class="control">Recursive</span> option                enabled, IntelliJ IDEA will find nested method calls in <code class="code">foo(foo(foo()))</code>. With the <span class="control">                    Recursive</span> option disabled,                only the outer method call will be found.            </p>        </li><li class="list__item" id="f9c19426">            <p id="7b66d7fa">                Specify the following options to further narrow the search:            </p>            <ul class="list _ul"><li class="list__item" id="9759f7d6"><p>                    <span class="control">File type</span> - use the list to select which file types should be a part of                    the search. In our case, it is <span class="control">Java</span>.                </p></li><li class="list__item" id="eb24fad3"><p><span class="control">Scope</span> - specify where to search: in a project, module, directory, or within a                    custom scope.                </p></li><li class="list__item" id="82d9a71f">                    <p id="746493a9">                        <span class="control">Search target</span> - you can select <span class="control">Complete match</span> to match                        the exact template or other available code elements (in our case it is                        <code class="code">Field</code>                        ).                    </p>                    <figure><img alt="Search target" title="Search target" src="../img/idea/2019.1/ssr_search_target.png" id="6dea0e4d" width="607" height="282"></figure>                                    </li></ul>        </li><li class="list__item" id="a67f86a2"><p>Click <span class="control">Find</span>.</p></li></ol><p id="bc030a31">IntelliJ IDEA displays the results in the <span class="control">Find</span> tool window.        </p><figure><img alt="Find tool window results" title="Find tool window results" src="../img/idea/2019.1/ssr_find_tool_window_results.png" id="ee62a0b6" width="524" height="310"></figure><p id="afbc7e8e">You can add the newly created search template to            <a href="creating-custom-inspections.html">structural search inspections</a> as a            custom template and use it later to inspect your code.        </p><aside class="note " data-title="" rel="ssr_inspections" id="cc29f2d3">            <p id="f501c6d6">In some cases, you can use inspections instead of the structural search and replace. For example,                replacing classes with interfaces through structural search will not modify usages                and you would need to perform search and replace several times.                In such case, you can use the <span class="emphasis">abstract class may be interface</span>                inspection that will also modify usages of the abstract class.            </p>        </aside></section>    <section class="procedure-steps"><h2 id="structural_replace" data-toc="topicId453705#structural_replace">Replace a target structurally</h2><ol class="list _decimal"><li class="list__item" id="8dd11815"><p>From the main menu, select <span data-skip-index="skip" class="menupath">Edit | Find | Replace Structurally</span>.        </p></li><li class="list__item" id="b31f3e38"><p>In the <span class="control">Replace Structurally</span> dialog, add            new or existing templates to the search and replace template areas.            You can save the replace template the same way as the search one.        </p></li><li class="list__item" id="ecffc269"><p>If you need to add a filter for the variable in the replace template, place a caret at the            variable of interest and in the popup that  appears,            click the <span class="control">Edit filter</span> link.            <figure><img alt="Replace template filter" title="Replace template filter" src="../img/idea/2019.1/replace_template_filter.png" id="36ac1250" width="710" height="482"></figure>                                </p></li><li class="list__item" id="a8176c41"><p>In the filter area, depending on what your chose as a            <a href="search-templates.html#ssr_filters">filter</a>,            specify the condition.        </p></li><li class="list__item" id="3971fb40">            <p id="78ed1198">To narrow down your replace results, select the following options:            </p>            <ul class="list _ul"><li class="list__item" id="dbb0e1f6"><p>                    <span class="control">Shorten fully-qualified names</span> - replaces fully qualified class names                    with short names and imports.                </p></li><li class="list__item" id="ce56866b"><p>                    <span class="control">Reformat</span> - automatically formats the replaced code.                </p></li><li class="list__item" id="87fa62e1"><p>                    <span class="control">Use static import</span> - uses static import in replacement when possible.                    For example, a method call to a static method <code class="code">Math.abs(i)</code> becomes                        <code class="code">abs(i)</code> if this option is selected.                                    </p></li></ul>            <p id="8232875a">                After specifying the necessary options, click <span class="control">Find</span>.                IntelliJ IDEA displays the results in the <span class="control">Find</span> tool window.            </p>        </li><li class="list__item" id="5d02451e">            <p id="0e610fc8">                In the <span class="control">Find</span> tool window, your can work with the results further, replacing found                items one by one, all of them at once, or previewing your potential changes.            </p>            <p id="0c44b43e">You can also add the replace template to the                <a href="creating-custom-inspections.html">structural search inspections</a>                and use it as a quick-fix for your code.            </p>        </li></ol></section>        <section class="procedure-steps"><h2 id="share_template" data-toc="topicId453705#share_template">Share search templates</h2><p id="009b6651">You can share a search template with your peers by exporting or importing it.</p><ol class="list _decimal"><li class="list__item" id="b27e79ab"><p>In the <span class="control">Structural Search</span> dialog (<span data-skip-index="skip" class="menupath">Edit | Find | Search Structurally</span>),            <a href="structural-search-and-replace.html#to_search_structurally">create a new search template or use the existing one</a>.        </p></li><li class="list__item" id="324ed027"><p id="dab91caf">To export a template, click <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.gearPlain.svg@2x.png" width="16" alt="the Settings button"> and select            <span class="control">Export Template to Clipboard</span>. IntelliJ IDEA adds the XML representation of the template to a clipboard            (press <kbd data-primary_default="Ctrl+Shift+V" data-primary_default_for_gnome="Ctrl+Shift+V" data-primary_default_for_kde="Ctrl+Shift+V" data-primary_default_for_xwin="Ctrl+Shift+V" data-primary_emacs="Alt+Y" data-primary_jbuilder="Ctrl+Shift+Insert" data-primary_visual_studio="Ctrl+Shift+V" data-primary_netbeans="Ctrl+Shift+V" data-primary_eclipse="Ctrl+Shift+V" data-secondary_mac_os_x_10.5_="⇧⌘V" data-secondary_mac_os_x="⇧⌘V" data-secondary_eclipse_mac_os_x="⇧⌘V" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥Y">Ctrl+Shift+V</kbd> to see the clipboard's content).            You can share this representation with other developers in chat, email, or a forum.</p>            <p id="7252efc5">To import a template, copy (<kbd data-bypass="true">Ctrl+C</kbd>) the shared XML code from anywhere                (email, chat, or a forum) and in the <span class="control">Structural Search</span> dialog,                click <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.gearPlain.svg@2x.png" width="16" alt="the Settings button"> and select                <span class="control">Import Template from Clipboard</span>. IntelliJ IDEA takes the XML code representation and converts it                into a template including variables and a scope if it is present.            </p>        </li></ol></section><div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="tutorial-finding-usages-of-implemented-and-overridden-php-methods.html">Tutorial: Finding usages of implemented and overridden PHP methods</a><a class="navigation-links__next" href="search-templates.html">Search templates, filters, and script constraints</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























