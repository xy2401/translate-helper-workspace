<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="using-phpunit-framework.html"></link><meta charset="UTF-8"></meta><title>使用PHPUnit进行测试 - 帮助| IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Using_PhpUnit_framework"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="using-phpunit-framework.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Using_PHPUnit_framework.xml" data-toc="Using_PhpUnit_framework">使用PHPUnit进行测试</h1>         <aside class="warning " rel="Using_PHPUnit_framework.xml" id="b369aeaf" data-title=""><p>此功能仅在<b id="cecb31db" origin="intellij-platform">Ultimate</b>版本中受支持。</p></aside>                        <p id="2b130a0a">IntelliJ IDEA通过与<a href="http://www.phpunit.de/" data-bypass="yes" target="_blank"><span>PHPUnit</span></a>测试框架集成，支持PHP应用程序的单元测试。</p>    <div class="chapter"><h2 id="php_test_frameworks_phpunit_before_you_start">在你开始之前</h2>        <ol class="list _decimal"><li class="list__item" id="07633d7e">                <p id="3edde364">确保已安装并启用了<span class="emphasis">PHP</span>插件。该<span class="emphasis"></span>插件未与IntelliJ IDEA捆绑在一起，但可以从<span class="emphasis">JetBrains插件存储库中</span>安装，如<a href="managing-plugins.html"><span>管理插件中所述</span></a> 。</p>            </li><li class="list__item" id="ac396bbd"><p>确保PHP解释器在<a href="php.html">PHP页面</a>上的IntelliJ IDEA中<a href="configuring-local-interpreter.html"><span>配置</span></a> ，如<a href="configuring-local-interpreter.html"><span>配置本地PHP解释器</span></a>和<a href="configuring-remote-interpreters.html"><span>配置远程PHP解释器中所述</span></a> 。</p></li></ol>            </div>    <div class="chapter"><h2 id="php_test_frameworks_phpunit_download">下载并安装PHPUnit</h2>        <p id="8381e0ef">在开始之前，请确保您的计算机上已安装Composer，并在<a href="using-the-composer-dependency-manager.html"><span>Composer Dependency Manager</span></a>中所述的当前项目中进行初始化。</p>        <section class="procedure-steps"><h2 id="2d335bb0">手动下载并安装phpunit.phar</h2><ul class="list _no-style"><li class="list__item" id="f3113d21">                                                        <p id="2d93fc42">从<a href="https://phpunit.de/manual/current/en/installation.html" data-bypass="yes" target="_blank"><span>PHPUnit官方网站</span></a>下载<span class="filepath">phpunit.phar</span>并将其保存在您的计算机上：</p>        <ul class="list _bullet"><li class="list__item" id="fb7829c4"><p>如果除了能够运行PHPUnit测试之外还需要完整的编码帮助，请将<span class="filepath">phpunit.phar</span>存储在稍后将使用PHPUnit的项目的根目录下。</p></li><li class="list__item" id="a0422563"><p>如果您只需要运行PHPUnit测试并且不需要任何编码帮助，则可以将<span class="filepath">phpunit.phar</span>保存在项目之外。</p></li></ul>                </li></ul></section>        <section class="procedure-steps"><h2 id="phpunit_install_with_composer">使用Composer下载并安装phpunit.phar</h2><ol class="list _decimal"><li class="list__item" id="6eccfff5"><p>从<span class="filepath">composer.json</span>的上下文菜单中，选择<span class="menupath" data-skip-index="skip">Composer |管理依赖关系</span> 。或者选择<span class="menupath" data-skip-index="skip">工具|作曲家|</span>从主菜单<span class="menupath" data-skip-index="skip">管理依赖项</span> 。</p></li><li class="list__item" id="d57a8db8">            <p id="c9b59e37">在打开的<a href="add-composer-dependency.html"><span>Manage Composer Dependencies对话框</span></a>中，从<span class="control">Available Packages</span>列表中选择<code class="code">phpunit/phpunit</code>包，可能使用搜索字段。</p>            <p id="cdd542de">从<span class="control">要安装</span>的<span class="control">版本</span>列表中选择相关版本。</p>        </li><li class="list__item" id="6911e2a5">            <p id="fefa6797">如有必要，请展开“ <span class="control">设置</span>隐藏”区域并指定高级安装选项。在“ <span class="control">命令行参数”</span>字段中，键入其他命令行参数。建议提供<code class="code">--dev</code> ，option：在这种情况下，包将被添加到<span class="filepath">composer.json</span>文件的<code class="code">require-dev</code>部分，而不是默认的<code class="code">require</code>部分。</p>        </li><li class="list__item" id="fcee7c15"><p>单击<span class="control">安装</span> 。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="php_test_frameworks_phpunit_integrate">将PHPUnit与IntelliJ IDEA项目集成</h2>                                                                <p id="55125e33">如果您使用<a href="configuring-local-interpreter.html">本地PHP解释器</a> ，IntelliJ IDEA会自动执行初始PHPUnit配置。</p>        <section class="procedure-steps"><h2 id="5bd3230b">自动配置PHPUnit</h2><ol class="list _decimal"><li class="list__item" id="4406e43c"><p>将<span class="filepath">phpunit.xml</span>或<span class="filepath">phpunit.xml.dist</span>配置文件存储在项目根目录下。</p></li><li class="list__item" id="cc6ad84a"><p>                <a href="using-phpunit-framework.html#phpunit_install_with_composer">使用Composer安装PHPUnit</a> 。</p></li></ol><p id="88490c89">IntelliJ IDEA将在<a href="php-test-frameworks.html">Test Frameworks页面</a>和<a href="run-debug-configuration-phpunit.html">PHPUnit</a>运行/调试配置上创建本地框架配置。</p></section>        <p id="e5e7d419">您可以手动配置PHPUnit。如果使用<a href="configuring-remote-interpreters.html">远程PHP解释器</a> ，则需要手动配置。</p>            <section class="procedure-steps"><h2 id="095167a2">手动配置PHPUnit</h2><ol class="list _decimal"><li class="list__item" id="choose_php_interpreter">                        <p id="b6db716a">在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，展开“ <span class="menupath" data-skip-index="skip">语言和框架”</span>节点，然后选择“ <span class="menupath" data-skip-index="skip">PHP</span>下的<span class="menupath" data-skip-index="skip">测试框架</span> ”。</p>        <p id="cecd7dde">在打开的“ <a href="php-test-frameworks.html">测试框架”页面</a>上，单击“确定” <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加图标">在中央窗格中，从列表中选择配置类型：</p>        <figure><img alt="ps_settings_php_test_frameworks.png" title="ps_settings_php_test_frameworks.png" src="../img/idea/2019.1/ps_settings_php_test_frameworks.png" id="bfb060ac" width="381" height="498"></figure>                                            <ul class="list _ul"><li class="list__item" id="5c81ca34">                <p id="5b3c9be6">在本地配置中，使用默认项目PHP解释<a href="php.html#ps_settings_php_default_php_interpreter">器</a> ，有关详细信息，请参阅<a href="php.html#ps_settings_php_default_php_interpreter">默认项目CLI解释</a>程序。</p>            </li><li class="list__item" id="12939882">                <p id="c29192f8">要将PHPUnit与远程PHP解释器一起使用，请在打开的对话框中选择一个配置：</p>                <figure><img alt="ps_settings_php_test_frameworks_phpunit_choose_php_interpreter.png" title="ps_settings_php_test_frameworks_phpunit_choose_php_interpreter.png" src="../img/idea/2019.1/ps_settings_php_test_frameworks_phpunit_choose_php_interpreter.png" id="08f17769" width="525" height="350"></figure>            </li></ul>                </li><li class="list__item" id="445bd088">                <p id="80c5de05">在右侧窗格中，选择PHPUnit库安装类型：</p>                <ul class="list _bullet"><li class="list__item" id="d4e49d1a"><p>要使用Composer自动加载器，请在<span class="filepath">vendor</span>文件夹中指定<span class="filepath">autoload.php</span>文件的路径。有关详细信息，请参阅<a href="using-the-composer-dependency-manager.html">Composer</a></p></li><li class="list__item" id="ps_phpunit_local_download_phpunit_phar">                        <p id="7e592ca3">要从<span class="filepath">phpunit.phar</span>运行PHPUnit，请下载<a href="https://phpunit.de/" data-bypass="yes" target="_blank"><span>phpunit.phar</span></a> ，将存档保存在项目根文件夹中，并指定它的路径。</p>                        <p id="c575b745">当你点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.refresh.svg@2x.png" width="16" alt="重新加载按钮"> ，IntelliJ IDEA检测并显示PHPUnit版本。</p>                    </li><li class="list__item" id="c8816914">                        <p id="b0dd7438">要从<a href="https://pear.php.net" data-bypass="yes" target="_blank"><span>PEAR</span></a>运行PHPUnit， <a href="https://pear.php.net" data-bypass="yes" target="_blank"><span>请将PEAR</span></a>配置为包含路径。</p>                        <p id="b6335d6d">安装过程取决于您使用的操作系统和系统设置。有关安装和配置此工具的信息，请参阅<a href="http://www.phpunit.de/manual/current/en/installation.html" data-bypass="yes" target="_blank"><span>PHPUnit安装说明</span></a> 。</p>                    </li></ul>            </li><li class="list__item" id="3b09becc">                <p id="2cd1529f">在“ <span class="control">测试运行器”</span>区域中，指定用于启动和执行方案的配置<span class="filepath">XML</span>文件。<br>默认情况下，PHPUnit在项目根文件夹或<span class="filepath">config</span>文件夹中查找<span class="filepath">phpunit.xml</span>配置文件。您可以指定自定义配置文件。</p>                <p id="6d4de5b1">您还可以键入引导程序文件的路径，以便在启动测试之前始终执行PHP脚本。在该字段中，指定脚本的位置。手动键入路径或单击<img alt="browseButton.png" title="browseButton.png" src="../img/idea/2019.1/browseButton.png" id="0328e805" width="15" height="15" class="inline-icon-15">并在<a href="select-path-dialog.html">打开</a>的<a href="select-path-dialog.html">对话框中</a>选择所需的文件夹。</p>            </li></ol></section>        <aside class="tip sideblock" rel="ps_phpunit_local_download_phpunit_phar" id="6c35b77c" data-title="">            <p id="78b3419f">对于本地配置，您可以单击“ <span class="control">下载”</span>链接下载存档。要在当前项目中使用它，请确保定义了默认的PHP解释器。</p>        </aside>    </div>    <div class="chapter"><h2 id="generate_phpunit_test_for_a_class_in_a_separate_file">为类生成PHPUnit测试</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="1287e47b">            <p id="d9e1444e">执行以下任一操作，打开“ <span class="control">创建新的PHP测试”</span>对话框：</p>            <ul class="list _bullet"><li class="list__item" id="d384220d"><p>在主菜单上，选择“ <span class="menupath" data-skip-index="skip">文件”|新的</span> 。然后，选择<span class="control">PHP Test |</span>上下文菜单中的<span class="control">PHPUnit Test</span> 。</p></li><li class="list__item" id="c276a71d"><p>在“ <span class="control">项目”</span>工具窗口中，按<kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_jbuilder="Alt+Insert" data-primary_visual_studio="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt + Insert</kbd>或右键单击要测试的PHP类，然后选择“ <span class="control">新建”| PHP测试| PHPUnit测试</span> 。</p></li><li class="list__item" id="d1646ff5">                    <p id="97e114f6">在要测试的PHP类的编辑器中，将插入符号放在类的定义中。然后，选择<span class="control">Go To |</span>从上下文菜单中<span class="control">测试</span>或按<kbd data-primary_default="Ctrl+Shift+T" data-primary_default_for_gnome="Ctrl+Shift+T" data-primary_default_for_kde="Ctrl+Shift+T" data-primary_default_for_xwin="Ctrl+Shift+T" data-primary_emacs="Ctrl+Shift+T" data-primary_jbuilder="Ctrl+Shift+T" data-primary_visual_studio="Ctrl+Shift+T" data-primary_netbeans="Ctrl+Shift+T" data-primary_eclipse="N/A" data-secondary_mac_os_x_10.5_="⇧⌘T" data-secondary_mac_os_x="⇧⌘T" data-secondary_eclipse_mac_os_x="N/A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⇧T">Ctrl + Shift + T</kbd>并从弹出菜单中选择“ <span class="control">创建新测试</span> ”。这样，您就可以为单个PHP文件中的多个类中定义的PHP类生成测试。</p>                    <p id="a73c3428">要为某个方法创建测试，请将插入符号放在方法声明中。将在“ <span class="control">创建新的PHP测试”</span>对话框的“ <span class="control">生成测试方法”</span>区域中自动选择所选<span class="control">方法</span> 。</p>                </li></ul>        </li><li class="list__item" id="dd478d20">            <p id="f5ba5c1b">将打开“ <span class="control">创建新的PHP测试”</span>对话框。</p>            <figure><img alt="创建新的phpunit测试对话框" title="创建新的phpunit测试对话框" src="../img/idea/2019.1/ps_create_new_php_test_phpunit_dialog.png" id="28af8b0e" width="710" height="1072"></figure>            <p id="49fda168">提供生成的测试的参数：</p>            <ul class="list _bullet"><li class="list__item" id="376863dc"><p>测试文件模板，即IntelliJ IDEA将基于其生成测试类的模板。确保在<span class="control">测试文件模板</span>列表中选择了<span class="control">PHPunit</span> 。</p></li><li class="list__item" id="ps_test_generation_specify_class_name"><p>要测试的类的完全限定名称，此名称将用于建议<span class="control">测试类名称</span> 。默认情况下，“ <span class="control">名称”</span>框显示调用测试生成的类的名称。要使用完成，请按<kbd data-primary_default="Ctrl+Space" data-primary_default_for_gnome="Ctrl+Space" data-primary_default_for_kde="Ctrl+Space" data-primary_default_for_xwin="Ctrl+Space" data-primary_emacs="Alt+/" data-primary_jbuilder="Ctrl+Space" data-primary_visual_studio="Ctrl+Space" data-primary_netbeans="Ctrl+Space" data-primary_eclipse="Ctrl+Space" data-secondary_mac_os_x_10.5_="⌃Space" data-secondary_mac_os_x="⌃Space" data-secondary_eclipse_mac_os_x="⌃Space" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥/">Ctrl + Space</kbd> 。</p></li><li class="list__item" id="19a7a9d8"><p>测试类的名称。IntelliJ IDEA自动将生产类名称中的名称组合为<span class="filepath">&lt;生产类&gt; Test.php</span> 。测试类名称显示在“ <span class="control">测试类”</span>区域的“ <span class="control">名称”</span>字段中。</p></li><li class="list__item" id="98548f6f">                    <p id="c32203a6">测试类的文件夹。默认情况下，它是<a href="content-roots.html">标记为测试源根目录</a>的文件夹。如果未指定此类文件夹，则建议使用包含生产类的文件夹。</p>                     <p id="5e9da8fc">要指定其他文件夹，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.openDisk.svg@2x.png" width="16" alt="浏览按钮">在“ <span class="control">目录”</span>字段旁边，选择相关文件夹。</p>                </li><li class="list__item" id="76b082bf">                    <p id="7562248a">用于生成测试方法存根的生产类方法。在“ <span class="control">为</span>区域<span class="control">生成测试方法”中</span> ，选中所需生产类方法旁边的复选框。要包含父类中的继承方法，请选中“ <span class="control">显示继承的方法”</span>复选框。</p>                    <p id="609f2549">IntelliJ IDEA会自动将测试方法的名称组成<code class="code">test&lt;production method&gt;</code> 。您可以在<span class="control">“</span> <a href="settings-file-and-code-templates.html">文件和代码模板”</a>设置页面的<span class="control">“代码”</span>选项卡上自定义用于生成测试方法存根的<a href="settings-file-and-code-templates.html">代码模板</a> 。</p>                </li></ul>        </li><li class="list__item" id="55df6752"><p>检查，接受或更新预定义设置，然后单击“ <span class="control">确定”</span>以启动测试生成。</p></li></ol><p id="511d4519">测试准备就绪后，您可以通过选择<span class="control">Navigate |</span>导航回生产类<span class="control">转到测试主题</span> 。有关详细信息，请参阅<a href="navigating-between-test-and-test-subject.html"><span>在测试和测试主题之间导航</span></a> 。</p></section>        <div class="chapter"><h3 id="ps_phpunit_generate_test_method">生成PHPUnit测试方法</h3>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="213a26ac"><p>在编辑器中打开所需的测试类，并将插入符放在类定义中的任何位置。</p></li><li class="list__item" id="12967b4f"><p>在上下文菜单中选择“ <span class="control">生成</span> ”或按<kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_jbuilder="Alt+Insert" data-primary_visual_studio="Ctrl+N" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt + Insert</kbd> 。然后从<span class="control">Generate</span>列表中选择<span class="control">Test Method</span> 。</p></li><li class="list__item" id="37727ae6">                    <p id="1d8b8b51">设置测试<span class="emphasis">夹具</span> ，即为测试开始前模拟所需环境的代码生成存根，并在测试结束后返回原始环境：</p>                    <ul class="list _ul"><li class="list__item" id="c2705539"><p>在上下文菜单中选择“ <span class="control">生成</span> ”或按<kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_jbuilder="Alt+Insert" data-primary_visual_studio="Ctrl+N" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt + Insert</kbd> 。然后从<span class="control">Generate</span>列表中选择<span class="control">SetUp Method</span>或<span class="control">TearDown Method</span> 。</p></li></ul>                    <p id="4b31b33c">有关更多详细信息，请参阅<a href="https://phpunit.de/manual/current/en/fixtures.html" data-bypass="yes" target="_blank"><span>PHPUnit官方网站上的Fixtures</span></a> 。</p>                </li></ol><p id="6970f257">您可以自定义<a href="using-file-and-code-templates.html">代码模板，</a>用于生成有关PHPUnit的测试方法<a href="settings-file-and-code-templates.html"><span>文件和代码模板</span></a>的<span class="control">设置/首</span>选项（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">按Ctrl + Alt + S）</kbd>的页面。要快速访问此页面，请在“ <span class="control">生成”</span>列表中，从方法的子菜单中选择“ <span class="control">编辑模板</span> ”。</p><figure><img alt="编辑PHPUnit方法模板" title="编辑PHPUnit方法模板" src="../img/idea/2019.1/ps_generate_PHPUnit_Test_method_template.png" id="a6bdcfb0" width="287" height="482"></figure></section>        </div>    </div>    <div class="chapter"><h2 id="run_phpunit_tests">运行和调试PHPUnit测试</h2>        <p id="a3bb4119">您可以运行和调试单个测试以及整个文件和文件夹中的测试。IntelliJ IDEA使用默认设置创建运行/调试配置，并启动测试。您可以稍后保存此配置以供进一步重复使用。</p>        <section class="procedure-steps"><h2 id="f38c2aba">运行或调试PHPUnit测试</h2><ul class="list _no-style"><li class="list__item" id="ed79e5c6">                                        <p id="3d4c2d61">在“项目”工具窗口中，选择要运行测试的文件或文件夹，然后从选择的上下文菜单中选择<span class="control">“运行”&lt;文件或文件夹&gt;</span>或“ <span class="control">调试”&lt;文件或文件夹&gt;“</span> ：</p>        <figure><img alt="ps_test_frameworks_phpunit_launch_tests.png" title="ps_test_frameworks_phpunit_launch_tests.png" src="../img/idea/2019.1/ps_test_frameworks_phpunit_launch_tests.png" id="17abd229" width="442" height="761"></figure>        <p id="293664e9">IntelliJ IDEA生成默认运行配置并使用它启动运行/调试测试会话。</p>                </li></ul></section>        <section class="procedure-steps"><h2 id="467db1e9">运行或调试单个测试</h2><ul class="list _no-style"><li class="list__item" id="bf202f29"><p>在编辑器中打开测试文件，右键单击测试调用，然后从上下文菜单中选择<span class="control">Run'&lt;test_name&gt;'</span>或<span class="control">Debug'&lt;test_name&gt;'</span> 。</p></li></ul></section>        <section class="procedure-steps"><h2 id="545a60ff">运行一系列测试</h2><ol class="list _decimal"><li class="list__item" id="ad338817"><p>在编辑器中打开目标文件，右键单击所需的测试目标，即正在测试的类或方法，然后选择<span class="menupath" data-skip-index="skip">Go To |测试</span>或按<kbd data-primary_default="Ctrl+Shift+T" data-primary_default_for_gnome="Ctrl+Shift+T" data-primary_default_for_kde="Ctrl+Shift+T" data-primary_default_for_xwin="Ctrl+Shift+T" data-primary_emacs="Ctrl+Shift+T" data-primary_jbuilder="Ctrl+Shift+T" data-primary_visual_studio="Ctrl+Shift+T" data-primary_netbeans="Ctrl+Shift+T" data-primary_eclipse="N/A" data-secondary_mac_os_x_10.5_="⇧⌘T" data-secondary_mac_os_x="⇧⌘T" data-secondary_eclipse_mac_os_x="N/A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⇧T">Ctrl + Shift + T。</kbd></p></li><li class="list__item" id="83a7a689">                <p id="3e6c3a76">从弹出菜单中，选择要执行的测试。对于多项选择，请使用<kbd data-bypass="true">Ctrl</kbd> （ <kbd data-bypass="true">⌘</kbd>表示macOS）和<kbd data-bypass="true">Shift</kbd>键。</p>                <figure><img alt="运行一系列测试" title="运行一系列测试" src="../img/idea/2019.1/ps_run_tests_selection.png" id="92780b9f" width="423" height="266"></figure>            </li><li class="list__item" id="f4168381">                <p id="eab6f7a1">按<kbd data-primary_default="Ctrl+Shift+F10" data-primary_default_for_gnome="Ctrl+Shift+F10" data-primary_default_for_kde="Ctrl+Shift+F10" data-primary_default_for_xwin="Ctrl+Shift+F10" data-primary_emacs="Ctrl+Shift+F10" data-primary_jbuilder="Ctrl+Shift+F10" data-primary_visual_studio="Ctrl+F9" data-primary_netbeans="Shift+Alt+F6" data-primary_eclipse="Ctrl+Shift+F10" data-secondary_mac_os_x_10.5_="⌃⇧R" data-secondary_mac_os_x="⌃⇧F10" data-secondary_eclipse_mac_os_x="⌃⇧R" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⇧F10">Ctrl + Shift + F10</kbd>运行测试选择。</p>            </li></ol><p id="854d6c11">测试会话结束后，IntelliJ IDEA会自动创建运行/调试配置，并将其<span class="control">测试范围</span>设置为<span class="control">Composite</span> 。有关详细信息，请参阅<a href="run-debug-configuration-phpunit.html"><span>运行/调试配置：PHPUnit</span></a> 。</p></section>        <section class="procedure-steps"><h2 id="bf390bb9">保存自动生成的默认配置</h2><ul class="list _no-style"><li class="list__item" id="cc1f8eec"><p>测试会话结束后，从文件或文件夹的上下文菜单中选择<span class="control">Save &lt;default_test_configuration_name&gt;</span> 。</p></li></ul></section>        <section class="procedure-steps"><h2 id="66376827">通过先前保存的运行/调试配置运行或调试测试</h2><ul class="list _no-style"><li class="list__item" id="24543158"><p>从工具栏上的列表中选择所需的PHPUnit配置，然后单击<img class="inline-icon-16" src="../img/idea/2019.1/artwork.icons.run.play@2x.png" width="16" alt="运行按钮">要么<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.startDebugger_dark.svg@2x.png" width="16" alt="调试按钮"> 。</p></li></ul></section>        <section class="procedure-steps"><h2 id="bf31d139">创建自定义运行/调试配置</h2><ol class="list _no-style"><li class="list__item" id="a573eaf7"><p>在“项目”工具窗口中，选择要运行测试的文件或文件夹，然后从上下文菜单中选择“ <span class="control">创建运行配置</span> ”。或者，选择<span class="menupath" data-skip-index="skip">Run |</span>在主菜单上<span class="menupath" data-skip-index="skip">编辑配置</span> ，然后单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加图标">并从列表中选择<span class="control">PHPUnit</span> 。</p></li><li class="list__item" id="12210009"><p>在“ <a href="run-debug-configuration-phpunit.html"><span>运行/调试配置：</span></a>打开的<a href="run-debug-configuration-phpunit.html"><span>PHPUnit”</span></a>对话框中，通过指定要传递给PHP可执行文件的选项和参数，指定要运行的方案并自定义当前<span class="emphasis">PHP解释器</span>的行为。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="phpunit_monitor_test_results">监控测试结果</h2>                                <p id="0f29292e">IntelliJ IDEA在“ <a href="run-tool-window.html"><span>运行工具”窗口</span></a>的<a href="run-tool-window.html"><span>“</span></a> <a href="test-runner-tab.html">测试运行器”选项卡</a>中显示测试执行结果。</p>        <figure><img alt="ps_test_result_phpunit.png" title="ps_test_result_phpunit.png" src="../img/idea/2019.1/ps_test_result_phpunit.png" id="ebe03eb7" width="717" height="458"></figure>        <p id="2cb80689">该标签分为两个主要区域：</p>        <ul class="list _ul"><li class="list__item" id="0ab5144d"><p>左侧区域允许您深入查看所有单元测试以查看成功和失败的单元测试。您可以过滤测试，导出结果，并使用上下文菜单命令来运行特定测试或导航到源代码。</p></li><li class="list__item" id="2f9ac8ca"><p>右侧区域显示原始PHPUnit输出。</p></li></ul>        </div>    <div class="chapter"><h2 id="running_php_unit_tests_automatically">自动运行PHPUnit测试</h2>        <p id="b12a5484">当受影响的代码发生更改时，您可以自动重新运行IntelliJ IDEA测试。此选项根据运行/调试配置进行配置，可以应用于测试，测试文件，文件夹或复合选择的测试，具体取决于此运行/调试配置中指定的测试范围。</p>        <section class="procedure-steps"><h2 id="1f1eda54">自动配置重新运行测试</h2><ol class="list _decimal"><li class="list__item" id="b10689bb"><p>运行测试。</p></li><li class="list__item" id="9f78a8d9">                <p id="40be0f2c">在“ <span class="control">测试运行器”</span>选项卡上，按<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.swapPanels.svg@2x.png" width="16" alt="ps_icon_phpunit_run_test_automatically.png">工具栏上的切换按钮：</p>                <figure><img alt="ps_phpunit_enable-自动test.png" title="ps_phpunit_enable-自动test.png" src="../img/idea/2019.1/ps_phpunit_enable-auto-test.png" id="301a8284" width="371" height="458"></figure>            </li><li class="list__item" id="abd72670">                <p id="f58f1be9">（可选）单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.gearPlain.svg@2x.png" width="16" alt="设置按钮">按钮并设置在代码更改时启动测试的时间延迟：</p>                <figure><img alt="ps_phpunit_set-自动测试delay.png" title="ps_phpunit_set-自动测试delay.png" src="../img/idea/2019.1/ps_phpunit_set-auto-test-delay.png" id="521eb3e4" width="717" height="429"></figure>            </li></ol></section>    </div>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__next" href="using-behat-framework.html">使用Behat</a> <a class="navigation-links__prev" href="testing-php-applications.html">测试PHP应用程序</a> <a class="navigation-links__next" href="using-behat-framework.html">测试</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="using-the-composer-dependency-manager.html"><span>Composer依赖管理器</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>怎么样：</h3><ul class="list"><li class="list__item"><a href="https://www.youtube.com/watch?v=NztroIqNBZA" data-bypass="yes" target="_blank"><span>视频：在本地运行PHPUnit测试</span></a></li><li class="list__item"><a href="https://www.youtube.com/watch?v=PNIIY9kj8Og" data-bypass="yes" target="_blank"><span>视频：使用Vagrant运行PHPUnit测试</span></a></li><li class="list__item"><a href="https://www.youtube.com/watch?v=I7aGWO6K3Ho" data-bypass="yes" target="_blank"><span>视频：使用Docker运行PHPUnit测试</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="php.html"><span>PHP</span></a></li><li class="list__item"><a href="run-debug-configuration-phpunit.html"><span>运行/调试配置：PHPUnit</span></a></li><li class="list__item"><a href="test-runner-tab.html"><span>测试跑步标签</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>