<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="configuring-xdebug.html"></link><meta charset="UTF-8"></meta><title>配置Xdebug  - 帮助| IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Configuring_XDebug"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="configuring-xdebug.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Configuring_XDebug.xml" data-toc="Configuring_XDebug">配置Xdebug</h1>         <aside class="warning " rel="Configuring_XDebug.xml" id="11dcd781" data-title=""><p>此功能仅在<b id="36f9e2d2" origin="intellij-platform">Ultimate</b>版本中受支持。</p></aside>                     <aside class="warning " rel="Configuring_XDebug.xml" id="c742c09c" data-title=""><p>以下内容仅在安装并启用PHP插件时有效！</p></aside>           <div class="chapter"><h2 id="downloadAndInstall">正在下载Xdebug</h2>        <section class="procedure-steps"><ul class="list "><li class="list__item" id="bc2cf5f6">下载与您的PHP版本兼容的<a href="http://www.xdebug.org/" data-bypass="yes" target="_blank"><span>Xdebug</span></a>扩展，并将其保存在<code class="code">php/</code>文件夹中。<ul class="list _bullet"><li class="list__item" id="dcbd121c"><p><code class="code">php/</code>文件夹的位置是在<a href="configuring-php-development-environment.html#installPHP">安装PHP引擎</a>期间定义的。</p></li><li class="list__item" id="c91bfa3f"><p>如果您使用的是<a href="configuring-php-development-environment.html">AMP软件包</a> ，则可能已安装Xdebug扩展。按照<span class="filepath">xdebug.txt中</span>的说明进行<span class="filepath">操作</span> 。</p></li></ul></li></ul></section>    </div>    <div class="chapter"><h2 id="updatingPhpIni">将Xdebug与PHP解释器集成</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="af00e55d">                <p id="bdf86921">在编辑器中打开活动的<span class="filepath">php.ini</span>文件：</p>                        <ol class="list _decimal"><li class="list__item" id="a4b66d8c">                <p id="faf067dc">在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，单击“ <span class="control">语言和框架”</span>下的<span class="control">“</span> <span class="control">PHP</span> <span class="control">”</span> 。</p>            </li><li class="list__item" id="77fc3410"><p>在打开的<a href="php.html"><span>PHP</span></a>页面上，单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.ellipsis.svg@2x.png" width="16" alt="浏览按钮"> <span class="control">CLI解释器</span>字段旁边。</p></li><li class="list__item" id="15afc05c"><p>在打开的<span class="control">CLI解释器</span>对话框中， <span class="control">配置文件</span>只读字段显示活动<span class="filepath">php.ini</span>文件的路径。单击<span class="control">在编辑器中打开</span> 。</p></li></ol>                </li><li class="list__item" id="a509f28a"><p>要禁用阻止Xdebug的<span class="emphasis">Zend Debugger</span>和<span class="emphasis">Zend Optimizer</span>工具，请删除或注释掉<span class="filepath">php.ini</span>文件中的以下行：</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">zend_extension</span> <span class="o">= &lt;</span> <span class="n">path_to_zend_debugger</span> <span class="o">&gt;</span> <span class="n">zend_extension</span> <span class="o">= &lt;</span> <span class="n">path_to_zend_optimizer</span> <span class="o">&gt;</span></code></div>            </li><li class="list__item" id="php-ini">                <p id="69942e44">要启用Xdebug，请找到<span class="filepath">php.ini</span>文件中的<code class="code">[Xdebug]</code>部分并按如下所示进行更新：</p>                <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">[</span> <span class="n">Xdebug</span> <span class="o">]</span> <span class="n">zend_extension</span> <span class="o">=</span> <span class="s">“&lt;</span> <span class="n">php_xdebug.dll的</span> <span class="s">路径&gt;”</span> <span class="n">xdebug</span> <span class="o">。</span> <span class="na">remote_enable</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">xdebug</span> <span class="o">。</span> <span class="na">REMOTE_PORT</span> <span class="s"><span class="o">=“&lt;</span>端口为Xdebug的听<span class="o">&gt;”（</span></span> <span class="n"><span class="k">默认</span></span> <span class="n">端口</span> <span class="n">是</span> <span class="mi"><span class="o">9000）</span></span></code></div>                <p id="0f644810">要<a href="multiuser-debugging-via-xdebug-proxies.html">通过Xdebug代理</a>启用<a href="multiuser-debugging-via-xdebug-proxies.html">多用户调试</a> ，请找到<code class="code">xdebug.idekey</code>设置并为其指定一个您选择的值。此值将用于在Xdebug代理服务器上注册IDE。</p>            </li><li class="list__item" id="980bb1fb"><p>保存并关闭<span class="filepath">php.ini</span>文件。</p></li><li class="list__item" id="443e8fe3">                <p id="5bb10a37">通过执行以下任一操作来验证Xdebug安装：</p>                <ul class="list _ul"><li class="list__item" id="37cd6cc6">                        <p id="8e85998f">在命令行中，运行以下命令：</p>                        <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">php</span> <span class="o">-</span> <span class="n">版本</span></code></div>                        <p id="77a4020b">输出应在已安装的扩展中列出<span class="emphasis">Xdebug</span> ：</p>                        <figure><img alt="安装了Xdebug扩展" title="安装了Xdebug扩展" src="../img/idea/2019.1/ps_terminal_xdebug_installed.png" id="a4658360" width="563" height="207"></figure>                    </li><li class="list__item" id="b2dbe3d6">                        <p id="e6dba1dc">创建一个包含以下代码的<span class="filepath">php</span>文件：</p>                        <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">phpinfo</span> <span class="o">（）;</span></code></div>                        <p id="244a8b6d">在浏览器中打开文件。<code class="code">phpinfo</code>输出应包含Xdebug部分：</p>                        <figure><img alt="ps xdebug启用浏览器" title="ps xdebug启用浏览器" src="../img/idea/2019.1/ps_xdebug_enabled_browser.png" id="04f9d00a" width="515" height="219"></figure>                    </li></ul>            </li></ol></section>        <aside class="note " rel="php-ini" id="e7b2f3d9" data-title="">            <p id="ebcab386">在PHP 5.3及更高版本中，您只需要使用<code class="code">zend_extension</code> ，而不是<code class="code">zend_extension_ts</code> ， <code class="code">zend_extension_debug</code>或<code class="code">extension</code>            </p>        </aside>    </div>    <div class="chapter"><h2 id="integrationWithProduct">在IntelliJ IDEA中配置Xdebug</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="d62f6201"><p>在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，选择“ <span class="menupath" data-skip-index="skip">语言和框架”| PHP</span> 。</p></li><li class="list__item" id="a5c977f1">                <p id="2a1dce7b">检查与所选PHP解释器关联的<span class="emphasis">Xdebug</span>安装：</p>                <ol class="list _decimal"><li class="list__item" id="b9e3fb5f"><p>在<span class="control">PHP</span>页面上，从<span class="control">CLI解释器</span>列表中选择相关的PHP安装，然后单击“ <span class="control">浏览”</span> <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="50406147" width="15" height="15" class="inline-icon-15">在田野旁边。该列表显示了IntelliJ IDEA中可用的所有PHP安装，请参阅<a href="configuring-local-interpreter.html"><span>配置本地PHP解释器</span></a>和<a href="configuring-remote-interpreters.html"><span>配置远程PHP解释器</span></a> 。</p></li><li class="list__item" id="b694a71a">打开的<span class="control">CLI解释器</span>对话框显示以下内容：<ul class="list _bullet"><li class="list__item" id="46b29f8e"><p>所选PHP安装的版本。</p></li><li class="list__item" id="8a07f576"><p>与所选PHP安装（Xdebug或Zend Debugger）关联的调试引擎的名称和版本。如果未配置调试器，IntelliJ IDEA将显示<code class="code">Debugger: Not installed</code> 。</p></li></ul>                        </li></ol>                <p id="d4bcd879">或者，打开<a href="http://xdebug.org/find-binary.php" data-bypass="yes" target="_blank"><span>Xdebug检查器</span></a> ，粘贴<code class="code">phpinfo()</code>的输出，然后单击<span class="control">Analyze my phpinfo（）输出</span> 。了解有关在<a href="validating-the-configuration-of-the-debugging-engine.html"><span>验证调试引擎配置中</span></a>检查<span class="emphasis">Xdebug</span>安装的详细信息。</p>            </li><li class="list__item" id="10638bb0"><p id="ee8dba23">定义Xdebug行为。单击<span class="control">PHP</span>节点下的<span class="control">Debug</span> 。在打开的“ <a href="debug.html"><span>调试”</span></a>页面上，在<span class="control">Xdebug</span>区域中指定以下设置：</p>                <ul class="list _bullet"><li class="list__item" id="5f79ef4c"><p>在“ <span class="control">调试端口”</span>文本框中，指定工具将通过其与IntelliJ IDEA通信的端口。这必须与<span class="filepath">php.ini</span>文件中指定的端口号完全相同：</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper">xdebug.remote_port = &lt;port_number&gt;</code></div>默认情况下，Xdebug侦听端口<code class="code">9000</code> 。</li><li class="list__item" id="e4ae76c2"><p>要让IntelliJ IDEA通过“ <span class="control">调试端口”</span>文本框中指定的端口接受来自Xdebug引擎的任何传入连接，请选中“ <span class="control">可以接受外部连接”</span>复选框。</p></li><li class="list__item" id="967af5ac"><span class="control">如果未指定路径映射，请</span>选中<span class="control">第一行</span>的<span class="control">强制中断</span>复选框，以使调试器在到达时立即停止并打开未映射到“ <a href="servers.html"><span>服务器”</span></a>页面上项目中任何文件的文件。调试器停在此文件的第一行和<a href="debug-tool-window-variables.html"><span>调试工具窗口。变量</span></a>显示以下错误消息： <span class="emphasis">无法在服务器上找到该文件的本地副本&lt;服务器上文件的路径&gt;</span>和链接<span class="emphasis">单击以设置映射</span> 。单击该链接以打开“ <span class="control">解析路径映射问题”</span>对话框，并将问题文件映射到其本地副本。<p id="8af51b3f">清除此复选框后，调试器在到达并打开未映射的文件时不会停止，文件刚刚处理完毕，并且不会显示任何错误消息。</p>                        </li><li class="list__item" id="77786ec2"><p><span class="control">当脚本在项目外部时，</span>选择<span class="control">第一行</span>的<span class="control">强制中断</span>复选框，使调试器在到达时立即停在第一行，并在当前项目之外打开文件。清除此复选框后，调试器会在打开当前项目外的文件时继续。</p></li></ul>            </li><li class="list__item" id="4cc17977">在“ <span class="control">外部连接”</span>区域中，指定IntelliJ IDEA如何处理从主机接收的连接以及未注册为<a href="servers.html">部署服务器配置的</a>端口。<ul class="list _bullet"><li class="list__item" id="ea7cac12"><p>            <span class="control">通过未注册的服务器配置忽略外部连接：</span>选中此复选框可使IntelliJ IDEA忽略从主机和未注册为部署服务器配置的端口收到的连接。选中此复选框后，IntelliJ IDEA不会尝试自动创建部署服务器配置。</p></li><li class="list__item" id="c9683cc6">            <p id="414d56fc">                <span class="control">在PHP脚本的第一行中断</span> ：选中此复选框可在调试器与IntelliJ IDEA建立连接后立即停止（而不是在达到第一个断点之前自动运行）。或者打开<span class="menupath" data-skip-index="skip">Run |在</span>主菜单上的<span class="menupath" data-skip-index="skip">PHP脚本</span>选项的<span class="menupath" data-skip-index="skip">第一行中断</span> 。</p>        </li><li class="list__item" id="24c2e99b"><p>            <span class="control">最大。同时连接：</span>使用此旋转框限制可以同时处理的外部连接数。</p></li></ul>            </li></ol></section>    </div>    <div class="chapter"><h2 id="on_demand_mode">配置Xdebug以在按需模式下使用</h2>        <p id="4d098d46">IntelliJ IDEA 2016.2及更高版本支持<span class="emphasis">按需</span>模式，您可以在其中禁用Xdebug以进行全局PHP安装，并且只有在调试命令行脚本或需要代码覆盖率报告时才能按需自动启用它。这使您的命令行脚本（包括Composer和单元测试）运行得更快。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="27a9cd32">禁用Xdebug用于命令行脚本：<ol class="list _decimal"><li class="list__item" id="7519d341"><p>在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，选择“ <span class="control">语言和框架”</span>下的<span class="control">“</span> <span class="control">PHP</span> <span class="control">”</span> 。</p></li><li class="list__item" id="5ec48549"><p>从<span class="control">PHP可执行文件</span>列表中，选择相关的PHP解释器并单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.ellipsis.svg@2x.png" width="16" alt="浏览按钮">在它的旁边。在打开的<a href="php-interpreters.html"><span>CLI Interpreters</span></a>对话框中，单击<span class="control">Configuration file：&lt;path to php.ini&gt;</span>文件旁边的<span class="control">Open in Editor</span>链接。关闭所有对话框并切换到打开<span class="filepath">php.ini</span>文件的选项卡。</p></li><li class="list__item" id="e3a41761"><p>在<span class="filepath">php.ini</span>文件中，找到<code class="code">[XDebug]</code>部分并通过添加注释其中的以下行<code class="code">;</code>在介词中：</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">; [</span> <span class="n">XDebug</span> <span class="o">]</span> <span class="o">;</span> <span class="n">zend_extension</span> <span class="o">=</span> <span class="s">“&lt;full_path_to_xdebug&gt;”</span></code></div>                    </li><li class="list__item" id="cbab35c1"><p>打开<a href="php-interpreters.html"><span>CLI Interpreters</span></a>对话框，然后单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.refresh.svg@2x.png" width="16" alt="重新加载按钮">在<span class="control">PHP可执行文件</span>字段旁边。IntelliJ IDEA通知您未安装调试器：</p><figure><img alt="ps_interpreters_debugger_not_installed.png" title="ps_interpreters_debugger_not_installed.png" src="../img/idea/2019.1/ps_interpreters_debugger_not_installed.png" id="6f04c9df" width="446" height="129"></figure>                        </li></ol>            </li><li class="list__item" id="97bae3e9"><p>要使IntelliJ IDEA在必要时激活Xdebug，请在“ <span class="control">调试器”扩展</span>字段的“ <span class="control">附加”</span>区域中指定它的路径。手动键入路径或单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.openDisk.svg@2x.png" width="16" alt="浏览按钮">并在打开的对话框中选择位置。</p></li></ol></section>    </div>    <div class="chapter"><h2 id="b14de599">配置Xdebug以在即时模式下使用</h2>        <p id="77666292">IntelliJ IDEA支持<span class="emphasis">在即时（JIT）</span>模式下使用Xdebug，因此它不会一直附加到您的代码，而是仅在发生错误或抛出异常时才连接到IntelliJ IDEA。Xdebug操作模式通过<a href="https://xdebug.org/docs/all_settings#remote_mode" data-bypass="yes" target="_blank"><span>xdebug.remote_mode</span></a>设置切换，默认情况下设置为<code class="code">req</code> 。该模式可用于调试命令行脚本和Web服务器调试。</p>        <p id="2e6ebef0">根据您是要调试命令行脚本还是使用Web服务器，请使用以下方案之一。</p>        <div class="chapter"><h3 id="9e5b2658">命令行脚本</h3>            <p id="6c41571e">要调试命令行脚本，请将custom <code class="code">-dxdebug.remote_mode=jit</code>指令指定为<span class="emphasis">其他配置选项</span> ：</p>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="151f8b2f"><p>在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，导航到“ <span class="menupath" data-skip-index="skip">语言和框架”| PHP</span> 。</p></li><li class="list__item" id="e3d40772"><p>从<span class="control">PHP可执行文件</span>列表中，选择相关的PHP解释器并单击<img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="8768c7fc" width="15" height="15" class="inline-icon-15">在它的旁边。</p></li><li class="list__item" id="2e89b125"><p>在打开的<a href="php-interpreters.html"><span>CLI解释器</span></a>对话框中，单击<img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="32cc2d35" width="15" height="15" class="inline-icon-15">在“ <span class="control">附加”</span>区域的“ <span class="control">配置选项”</span>文本框旁边。</p></li><li class="list__item" id="972f9a85">在打开的“ <span class="control">配置选项”</span>对话框中，单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg">添加新条目，然后键入<code class="code">-dxdebug.remote_mode</code>在<span class="control">配置指令</span>场和<code class="code">jit</code>在<span class="control">值</span>字段。<p id="b422e293">单击“ <span class="control">确定”后</span> ，将返回“ <span class="control">CLI解释器”</span>对话框，其中“ <span class="control">配置选项”</span>文本框显示<code class="code">-dxdebug.remote_mode=jit</code> 。</p>                </li></ol></section>        </div>        <div class="chapter"><h3 id="9c45a630">Web服务器调试</h3>            <section class="procedure-steps">在主菜单上，选择<span class="menupath" data-skip-index="skip">“运行”| Web服务器调试验证</span> 。<p id="1310ccbc">在打开的“ <a href="validate-remote-environment-dialog.html"><span>Web服务器调试验证”对话框</span></a>中，选择要验证调试器的Web服务器。</p>            <ul class="list _bullet"><li class="list__item" id="ec439d83">                    <p id="6092f0f5">选择“ <span class="control">本地Web服务器”或“共享文件夹”</span>以检查与本地Web服务器关联的调试程序。</p><ul class="list _bullet"><li class="list__item" id="1fbbfa3c">                <p id="117833c3">                    <span class="control">创建验证脚本的路径：</span>在此字段中，指定将在其中<span class="control">创建验证脚本</span>的服务器文档根目录下的文件夹的绝对路径。对于<span class="emphasis">Inplace</span>类型的Web服务器，该文件夹位于项目根目录下。</p>                <p id="d0e387d7">该文件夹必须可通过<span class="emphasis">http</span>访问。</p>            </li><li class="list__item" id="de7e7e59"><p>                <span class="control">验证脚本的URL：</span>在此字段中，键入将在其中创建验证脚本的文件夹的URL地址。如果项目根目录映射到可通过<code class="code">http</code>访问的文件夹，则可以指定项目根目录或其下的任何其他文件夹。</p></li></ul>                                        </li><li class="list__item" id="0c851758">                    <p id="5d3668de">选择“ <span class="control">远程Web服务器”</span>以检查与远程服务器关联的调试器。</p><ul class="list _bullet"><li class="list__item" id="00051706"><p>                <span class="control">创建验证脚本的路径：</span>在此字段中，指定将在其中<span class="control">创建验证脚本</span>的服务器文档根目录下的文件夹的绝对路径。该文件夹必须可通过<span class="emphasis">http</span>访问。</p></li><li class="list__item" id="e321f89a">                <p id="e2541be1">                    <span class="control">Deployment Server：</span>在此字段中，指定“ <a href="creating-local-server-configuration.html">本地服务器”</a>或“ <a href="creating-a-remote-server-configuration.html">远程服务器</a> ”类型的服务器访问配置以访问目标环境。有关详细信息，请参阅<a href="configuring-synchronization-with-a-remote-host.html"><span>配置与Web服务器的同步</span></a> 。</p>                <p id="3386abd5">从列表中选择配置，或单击“ <span class="control">浏览”</span> <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="b686f3a5" width="15" height="15" class="inline-icon-15">在“ <a href="settings-deployment.html">部署”对话框中</a> 。</p>            </li></ul>                                        </li></ul>                    <p id="2a65f668">单击“ <span class="control">验证”</span>以使IntelliJ IDEA创建验证脚本，将其部署到目标远程环境，然后在那里运行。</p>打开报告为已加载并与Xdebug关联的<span class="filepath">php.ini</span>文件。<ul class="list "><li class="list__item" id="c3917354"><p>在<span class="filepath">php.ini</span>文件中，找到<code class="code">[XDebug]</code>部分并将<code class="code">xdebug.remote_mode</code>的值从默认的<code class="code">req</code>更改为<code class="code">jit</code> 。</p></li></ul></section>        </div>        <p id="d9c5bd04">另请参阅<a href="https://blog.jetbrains.com/phpstorm/2013/12/just-in-time-debugging-and-php-exception-breakpoints-with-phpstorm-and-xdebug/" data-bypass="yes" target="_blank"><span>使用PhpStorm和Xdebug的即时调试和PHP异常断点</span></a>        </p>    </div>    <div class="chapter"><h2 id="9f8ad383">配置在Docker容器中运行的Xdebug</h2>        <p id="8bc93d71">要配置在<a href="docker.html">Docker</a>容器中运行的Xdebug，请在<span class="filepath">Dockerfile中</span>提供特定于Xdebug的参数，例如：</p>        <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="err">＃</span> <span class="n"><span class="n">建立</span></span> <span class="n">调试器中</span> <span class="n">运行</span> <span class="n">回声</span> <span class="s">“xdebug.remote_enable = 1”</span> <span class="o">&gt;&gt;</span> <span class="o"><span class="n">的</span> /</span> <span class="n">etc</span> <span class="o">/</span> <span class="n">PHP</span> <span class="o">/</span> <span class="mf">7.0</span> <span class="o">/</span> <span class="n">apache2的</span> <span class="o">/</span> <span class="n">PHP的</span> <span class="o">。</span> <span class="na">ini</span> <span class="n">RUN</span> <span class="n">echo</span> <span class="s">“xdebug.remote_host = your_host_name_or_ip”</span> <span class="o">&gt;&gt;</span> <span class="o">/</span> <span class="n">etc</span> <span class="o">/</span> <span class="n">php</span> <span class="o">/</span> <span class="mf">7.0</span> <span class="o">/</span> <span class="n">apache2</span> <span class="o">/</span> <span class="n">php</span> <span class="o">。</span> <span class="na">INI</span></code></div>        <p id="334ba78e">在这个例子中，我们正在修改<span class="filepath">/etc/php/7.0/apache2/php.ini，</span>提供Xdebug扩展的路径，以及<code class="code">remote_enable</code>和<code class="code">remote_host</code> Xdebug参数。</p>        <p id="1ca4e9a2">请注意， <code class="code">xdebug.remote_host</code>值应替换为运行PhpStorm的计算机的IP地址，可从Docker容器访问。如果您使用的是<a href="https://docs.docker.com/docker-for-windows/networking/" data-bypass="yes" target="_blank"><span>Docker for Windows</span></a>或<a href="https://docs.docker.com/docker-for-mac/networking/" data-bypass="yes" target="_blank"><span>Docker for Mac</span></a> ，您可以将<code class="code">xdebug.remote_host</code>设置为<code class="code">host.docker.internal</code> ，它会自动解析为主机的内部地址，让您可以轻松地从容器连接到它。</p>    </div>    <div class="chapter"><h2 id="0f09c2ee">配置在Vagrant实例上运行的Xdebug</h2>        <p id="88d3d406">要配置在<a href="vagrant-support.html">Vagrant</a>实例上运行的Xdebug，请<span>连接到Vagrant机器</span>并在<span class="filepath">php.ini</span>文件中提供特定于Xdebug的参数：</p>        <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">[</span> <span class="n">xdebug</span> <span class="o">]</span> <span class="n">zend_extension</span> <span class="o">= /</span> <span class="n">usr</span> <span class="o">/</span> <span class="n">lib</span> <span class="o">/</span> <span class="n">php5</span> <span class="o">/</span> <span class="mi">20131226</span> <span class="o">/</span> <span class="n">xdebug</span> <span class="o">。</span> <span class="na">所以</span> <span class="n">xdebug</span> <span class="o">。</span> <span class="na">remote_enable</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">xdebug</span> <span class="o">。</span> <span class="na">remote_host</span> <span class="o">=</span> <span class="mf">10.0</span> <span class="o">。</span> <span class="mf">2.2</span> <span class="n">xdebug</span> <span class="o">。</span> <span class="na">remote_port</span> <span class="o">=</span> <span class="mi">9000</span></code></div>        <p id="b6663d36">请注意， <code class="code">xdebug.remote_host</code>值为<code class="code">10.0.2.2</code> 。这是默认Vagrant设置中使用的网关，它允许从实例连接到运行IntelliJ IDEA的主机。</p>    </div>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configuring-a-debugging-engine.html">配置调试引擎</a> <a class="navigation-links__next" href="configuring-zend-debugger.html">配置Zend调试器</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="configuring-php-development-environment.html"><span>配置PHP开发环境</span></a></li><li class="list__item"><a href="creating-and-editing-run-debug-configurations.html"><span>创建和编辑运行/调试配置</span></a></li><li class="list__item"><a href="multiuser-debugging-via-xdebug-proxies.html"><span>通过Xdebug代理进行多用户调试</span></a></li><li class="list__item"><a href="configuring-zend-debugger.html"><span>配置Zend调试器</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="debug.html"><span>调试</span></a></li><li class="list__item"><a href="php.html"><span>PHP</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>外部链接：</h3><ul class="list"><li class="list__item"><a href="http://www.xdebug.org/" data-bypass="yes" target="_blank"><span>http://www.xdebug.org/</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>