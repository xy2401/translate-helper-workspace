<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="type-syntax-for-docstrings.html"></link><meta charset="UTF-8"></meta><title>docstrings的旧版类型语法 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Type_Syntax_for_Docstrings"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="type-syntax-for-docstrings.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Type_Syntax_for_Docstrings.xml" data-toc="Type_Syntax_for_Docstrings">docstrings的旧版类型语法</h1>        <p id="014b2d7a">PyCharm支持使用docstrings在Python中指定类型的传统方法。这样做，支持的格式是：</p>        <ul class="list _ul"><li class="list__item" id="4b99791b"><a href="http://docutils.sourceforge.net/rst.html" data-bypass="yes" target="_blank"><span>reStructuredText的</span></a></li><li class="list__item" id="a97ed7e6"><a href="http://folk.uio.no/inf3330/scripting/doc/python/epydoc/epytext.html" data-bypass="yes" target="_blank"><span>epytext</span></a></li><li class="list__item" id="41b083c9"><a href="http://sphinxcontrib-napoleon.readthedocs.org/en/latest/example_numpy.html" data-bypass="yes" target="_blank"><span>NumPy的</span></a></li><li class="list__item" id="8c344531"><a href="http://sphinxcontrib-napoleon.readthedocs.org/en/latest/example_google.html" data-bypass="yes" target="_blank"><span>谷歌</span></a></li></ul>        <p id="6fb1c201">要选择所需的文档字符串格式，请使用“设置/首选项”对话框的“ <a href="settings-tools-python-integrated-tools.html">Python集成工具”</a>页面。</p>        <p id="af23263f">Python文档字符串中的类型语法不是由任何标准定义的。因此，PyCharm建议使用以下符号：</p>        <div class="table-wrapper"><table class="                 " width="100%" id="b3dfa3a2"><thead><tr id="e854784a" class="ijRowHead"><th id="b5d1efd5"><p>句法</p></th><th id="71e41000"><p>描述</p></th></tr></thead><tbody><tr id="10bf6325" class="ijRowOdd"><td id="744240d6"><code class="code">富</code></td><td id="4c170890"><p>Foo类在当前范围内可见</p></td></tr><tr id="725e7da8" class="ijRowEven"><td id="357ad718"><p><code class="code">XY酒吧</code> </p></td><td id="42ca1e87"><p>来自xy模块的Class Bar</p></td></tr><tr id="1e6c28bc" class="ijRowOdd"><td id="64433d8c"><p><code class="code">Foo |酒吧</code> </p></td><td id="ad8f0393"><p>Foo或Bar</p></td></tr><tr id="2805cffb" class="ijRowEven"><td id="270dd441"><p><code class="code">（Foo，Bar）</code> </p></td><td id="c8050b03"><p>Foo和Bar的元组</p></td></tr><tr id="6c6f23b0" class="ijRowOdd"><td id="a812cb0a"><p><code class="code">列表[美孚]</code> </p></td><td id="ed75b227"><p>Foo元素列表</p></td></tr><tr id="d5994072" class="ijRowEven"><td id="d170a5eb"><p><code class="code">dict [Foo，Bar]</code> </p></td><td id="8183fb97"><p>从Foo到Bar的Dict</p></td></tr><tr id="4c87ec36" class="ijRowOdd"><td id="121a7876"><p><code class="code">Ť</code> </p></td><td id="208c5190"><p>通用类型（TZ保留用于泛型）</p></td></tr><tr id="590c9fde" class="ijRowEven"><td id="63b51b73"><p><code class="code">T &lt;= Foo</code> </p></td><td id="dda6671c"><p>上限为Foo的泛型类型</p></td></tr><tr id="9b22e974" class="ijRowOdd"><td id="dce196a3"><p><code class="code">脚丫子]</code> </p></td><td id="b766f705"><p>用T参数化Foo</p></td></tr><tr id="f9367e72" class="ijRowEven"><td id="1d97ce4e"><p><code class="code">（Foo，Bar） - &gt; Baz</code> </p></td><td id="81f4749a"><p>返回Baz的Foo和Bar的功能</p></td></tr><tr id="e3060f3e" class="ijRowOdd"><td id="5d1510bb"><p><code class="code">list [dict [str，datetime]]</code> </p></td><td id="f9697b58"><p>从str到datetime的dicts列表（嵌套参数）</p></td></tr></tbody></table></div>        <div class="chapter"><h2 id="23c1dd59" data-toc="Type_Syntax_for_Docstrings#23c1dd59">指定局部变量的类型</h2>            <p id="c3f41977">考虑使用以下方法添加有关本地变量的预期类型的信息<code class="code">:type</code>或<code class="code">@type</code> docstrings：</p>            <figure><img alt="py类型提示局部var1" title="py类型提示局部var1" src="../img/idea/2019.1/py_type_hinting_local_var1.png" id="ed339c11" width="432" height="149"></figure>            <p id="81d0e931">也可以使用<code class="code">isinstance</code>来定义期望的局部变量类型：</p>            <figure><img alt="py类型提示局部var2" title="py类型提示局部var2" src="../img/idea/2019.1/py_type_hinting_local_var2.png" id="6a09fedb" width="360" height="249"></figure>        </div>        <div class="chapter"><h2 id="6cd93069" data-toc="Type_Syntax_for_Docstrings#6cd93069">指定字段类型</h2>            <p id="3c26e1b8">您可以使用类型提示指定预期的字段类型：</p>            <figure><img alt="py型提示字段" title="py型提示字段" src="../img/idea/2019.1/py_type_hinting_field.png" id="d9f8947f" width="534" height="161"></figure>            <p id="8749ec3c">或者，您可以在类的docstring中指定字段类型：</p>            <figure><img alt="py类型提示类属性" title="py类型提示类属性" src="../img/idea/2019.1/py_type_hinting_class_attributes.png" id="0b63a61a" width="179" height="143"></figure>        </div>        <div class="chapter"><h2 id="063a0cdb" data-toc="Type_Syntax_for_Docstrings#063a0cdb">指定返回类型</h2>                        <p id="680b4d72">使用docstrings <code class="code">:rtype</code>或<code class="code">@rtype</code>指定预期的返回类型：</p>            <figure><img alt="py_type_hinting_return2" title="py_type_hinting_return2" src="../img/idea/2019.1/py_type_hinting_return2.png" id="55b1cb39" width="498" height="169"></figure>            <ul class="list _ul"><li class="list__item" id="5309c598"><p><code class="code">：rtype：集合。Iterable[int] # return type</code> ：'items'是类型<code class="code">generator</code>或<code class="code">collections.Iterable</code> ，'a'是<code class="code">int</code>类型，请参阅以下代码：</p><div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="k">DEF</span> <span class="nf"><span class="p">my_iter（）：</span></span> <span class="k">对于</span> <span class="n">i</span> <span class="ow">在</span> <span class="nb">范围</span> <span class="p"><span class="mi"><span class="p">（10）：</span></span></span> <span class="k">产率</span> <span class="n">i个</span> <span class="n">项目</span> <span class="o">=</span> <span class="n"><span class="p">my_iter（）</span></span> <span class="k">为</span> <span class="n">一个</span> <span class="ow">在</span> <span class="n">项目</span> <span class="p">：</span> <span class="k">打印</span> <span class="n">一个</span></code></div>                </li><li class="list__item" id="c5edf416"><p>：rtype：list [int] for my_iter #return type：'a'的类型为<code class="code">int</code> ，参见以下代码：</p><div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="k">DEF</span> <span class="nf"><span class="p">my_iter（）：</span></span> <span class="k">对于</span> <span class="n">i</span> <span class="ow">在</span> <span class="nb">范围</span> <span class="p"><span class="mi"><span class="p">（10）：</span></span></span> <span class="k">产率</span> <span class="n">我</span> <span class="k"><span class="n">要</span></span> <span class="ow">在</span> <span class="n"><span class="p">my_iter（）：</span></span> <span class="n">一个</span> <span class="k">打印</span></code></div>                </li></ul>        </div>        <div class="chapter"><h2 id="07276050" data-toc="Type_Syntax_for_Docstrings#07276050">指定参数类型</h2>                        <p id="cfb75f39">请考虑添加有关预期参数类型的信息。此信息使用docstrings指定。您可以根据所选的文档字符串格式使用不同的文档字符串，例如<code class="code">:type</code> ， <code class="code">@type</code> <code class="code">:type</code>或<code class="code">Args</code> 。使用项目设置更改文档字符串格式（ <span class="menupath" data-skip-index="skip">文件|设置/首选项|工具| Python集成工具</span> ）。</p>            <figure><img alt="使用docstrings定义参数类型（：type）" title="使用docstrings定义参数类型（：type）" src="../img/idea/2019.1/py_type_hinting_param1.png" id="2c2957b0" width="504" height="435"></figure>            <figure><img alt="使用docstrings定义参数类型（Args）" title="使用docstrings定义参数类型（Args）" src="../img/idea/2019.1/py_type_hinting_param11.png" id="58a2de5d" width="499" height="505"></figure>        </div><div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="using-docstrings-to-specify-types.html">使用docstrings指定类型</a> <a class="navigation-links__next" href="type-hinting-in-product.html">在PyCharm中键入提示</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>