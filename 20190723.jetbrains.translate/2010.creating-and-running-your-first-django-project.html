<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><meta name="description" content="How to create and run a simple Django application (creating project; running Django server;
   configuring database; creating models, templates, views; launching application; testing application)" data-skip-index="skip"></meta><link rel="canonical" href="creating-and-running-your-first-django-project.html"></link><meta charset="UTF-8"></meta><title>第4步。创建和运行您的第一个Django项目 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Creating_and_Running_Your_First_framework_Project"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="creating-and-running-your-first-django-project.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Creating_and_Running_Your_First_framework_Project.xml" data-toc="Creating_and_Running_Your_First_framework_Project">第4步。创建和运行您的第一个Django项目</h1>               <aside class="warning " rel="Creating_and_Running_Your_First_framework_Project.xml" id="3f5befab" data-title=""><p>此功能仅在<b id="9b9aecec" origin="intellij-platform">专业</b>版中受支持。此版本是商业版，它提供了一系列出色的功能：有关详细信息，请参阅<a href="https://www.jetbrains.com/pycharm/features/editions_comparison_matrix.html" data-bypass="yes" target="_blank"><span>比较矩阵</span></a> 。</p></aside>   <div class="chapter"><h2 id="prereqs" data-toc="Creating_and_Running_Your_First_framework_Project#prereqs">在你开始之前</h2>        <p id="9b72ba38">确保满足以下先决条件：</p>                <ul class="list _ul"><li class="list__item" id="7b13c80d"><p>您正在使用PyCharm 2016.1或更高版本。如果您还没有PyCharm，请从此<a href="https://www.jetbrains.com/pycharm/download/" data-bypass="yes" target="_blank"><span>页面</span></a>下载。要安装PyCharm，请按照说明操作，具体取决于您的平台。</p></li><li class="list__item" id="3226a31d"><p>您的计算机上至少安装了一个Python解释器。您可以从此<a href="http://python.org/download/" data-bypass="yes" target="_blank"><span>页面</span></a>下载口译员。</p></li><li class="list__item" id="5f9c2fbe"><p>你已经安装了Django包。要了解如何使用PyCharm UI安装软件包，请阅读<a href="installing-uninstalling-and-upgrading-packages.html"><span>安装，卸载和升级软件包一节</span></a> 。您也可以按照<a href="https://docs.djangoproject.com/en/1.8/topics/install/" data-bypass="yes" target="_blank"><span>如何安装Django</span></a>页面中的说明<a href="https://docs.djangoproject.com/en/1.8/topics/install/" data-bypass="yes" target="_blank"><span>安装Django</span></a> 。</p></li></ul>        <p id="470c2d62">本教程是使用以下假设创建的：</p><ul class="list _ul"><li class="list__item" id="a46a8921"><p>Python 3.4.1。</p></li><li class="list__item" id="1a1a92e5"><p>Django 1.x（高于Django 1.10）。</p></li><li class="list__item" id="b351310d"><p>本教程中使用的示例与<a href="https://docs.djangoproject.com/en/1.8/" data-bypass="yes" target="_blank"><span>Django文档中</span></a>使用的示例类似。示例项目可以从<a href="https://github.com/yzozulya/djtp_first_steps" data-bypass="yes" target="_blank"><span>这里</span></a>下载。</p></li></ul>    </div>    <div class="chapter"><h2 id="create-project" data-toc="Creating_and_Running_Your_First_framework_Project#create-project">创建一个新项目</h2>        <p id="3dd0a7ca">实际上，所有新项目都是以相同的方式创建的：通过单击“ <a href="welcome-screen.html">欢迎”屏幕</a>的“快速启动”区域中的“ <span class="control">创建新项目”</span>按钮：</p>            <figure><img alt="欢迎屏幕" title="欢迎屏幕" src="../img/idea/2019.1/py_welcomeScreen.png" id="41483005" width="700" height="970"></figure>        <p id="f4b7b183">如果您已经打开了一个项目，请选择<span class="menupath" data-skip-index="skip">File |</span>创建一个新项目主菜单上的<span class="menupath" data-skip-index="skip">新项目...</span></p>        <p id="910c54d1">然后，选择所需的项目类型（这里是Django）。指定项目名称和位置。</p><p id="029fe9be">Python的最佳实践是为每个项目创建virtualenv。为此，请展开<span class="control">Project Interpreter：New Virtualenv Environment</span>节点，然后选择用于创建新虚拟环境的工具。让我们选择<span class="control">Virtualenv</span>工具，并指定用于新虚拟环境的位置和基本解释器。如有必要，请选中下面的两个复选框。</p>接下来，展开“ <span class="control">更多设置”</span>节点并指定与Django相关的设置。在“ <span class="control">应用程序名称”</span>字段中，指定应用程序名称（此处为<span class="control">轮询</span> ）。<figure><img alt="选择项目类型" title="选择项目类型" src="../img/idea/2019.1/py_choose_project_type.png" id="1c5528f7" width="777" height="981"></figure>        <p id="fbd9dda8">单击<span class="control">Create</span> -  Django项目已准备就绪。</p>    </div>    <div class="chapter"><h2 id="whats-inside" data-toc="Creating_and_Running_Your_First_framework_Project#whats-inside">探索项目结构</h2>        <p id="955af074">如上所述，基本上，存根项目已准备就绪。它包含特定于框架的文件和目录。当您创建任何受支持类型的项目时，也会发生同样的情况，无论是Pyramid还是Google App Engine。</p>        <p id="ea5c3c9b">让我们看看如何在<a href="project-tool-window.html"><span>项目工具窗口中</span></a>看到新项目的结构。</p>        <div class="chapter"><h3 id="project-view" data-toc="Creating_and_Running_Your_First_framework_Project#project-view">项目工具窗口的项目视图</h3>            <p id="a8a81a40">默认显示此视图。它显示了特定于Django的项目结构： <code class="code">polls</code>和<code class="code">mysite</code>目录;另外，您可以看到<code class="code">manage.py</code>和<code class="code">settings.py</code>文件。</p>            <p id="c2b3b63b">请注意，您在此视图中看不到<code class="code">.idea</code>目录：</p>            <figure><img alt="项目视图" title="项目视图" src="../img/idea/2019.1/py_project_view.png" id="4d6482a5" width="245" height="367"></figure>        </div>        <div class="chapter"><h3 id="project-files" data-toc="Creating_and_Running_Your_First_framework_Project#project-files">“项目工具”窗口的“项目文件”视图</h3>            <p id="df54d68b">如果出于某些原因，您希望查看<code class="code">.idea</code>目录的内容，请选择视图<span class="control">Project Files</span> ：如您所见，此视图显示相同的目录和文件，以及<code class="code">.idea</code>目录，因为它位于项目根目录下：</p>            <figure><img alt="项目文件" title="项目文件" src="../img/idea/2019.1/py_project_files_view.png" id="44b60770" width="245" height="491"></figure>            <p id="7f2e2292">让我们回到Project视图。</p>        </div>        <div class="chapter"><h3 id="what-see-project-view" data-toc="Creating_and_Running_Your_First_framework_Project#what-see-project-view">我们在项目视图中看到了什么？</h3>            <ul class="list _ul"><li class="list__item" id="db4ec34f"><p><code class="code">mysite</code>目录是项目的容器。在项目视图中，它用粗体字表示。</p></li><li class="list__item" id="146ac45c"><p><code class="code">manage.py</code> ：这是一个命令行实用程序，可让您与Django项目进行交互。有关详细信息，请参阅<a href="http://django.readthedocs.org/en/latest/ref/django-admin.html" data-bypass="yes" target="_blank"><span>Django文档</span></a> 。</p></li><li class="list__item" id="c7abdaa0"><p>嵌套目录<code class="code">mysite</code>是项目的实际Python包。</p></li><li class="list__item" id="a30db070"><p><code class="code">mysite/__init__.py</code> ：这个空文件告诉Python这个目录应该被认为是一个Python包。</p></li><li class="list__item" id="288a8d21"><p><code class="code">mysite/settings.py</code> ：此文件包含<a href="http://django.readthedocs.org/en/latest/topics/settings.html" data-bypass="yes" target="_blank"><span>Django项目的配置</span></a> 。</p></li><li class="list__item" id="6efa2092"><p><code class="code">mysite/urls.py</code> ：此文件包含<a href="http://django.readthedocs.org/en/latest/topics/http/urls.html" data-bypass="yes" target="_blank"><span>Django项目</span></a>的<a href="http://django.readthedocs.org/en/latest/topics/http/urls.html" data-bypass="yes" target="_blank"><span>URL声明</span></a> 。</p></li><li class="list__item" id="1fee82a0"><p><code class="code">mysite/wsgi.py</code> ：此文件定义了与WSGI兼容的Web服务器的入口点，以便为您的项目提供服务。有关更多详细信息，请参阅<a href="http://django.readthedocs.org/en/latest/howto/deployment/wsgi/index.html" data-bypass="yes" target="_blank"><span>如何使用WSGI</span></a>进行<a href="http://django.readthedocs.org/en/latest/howto/deployment/wsgi/index.html" data-bypass="yes" target="_blank"><span>部署</span></a> 。</p></li><li class="list__item" id="277e60b2">                    <p id="4086c93a">嵌套目录<code class="code">polls</code>包含开发Django应用程序所需的所有文件（此时，这些文件为空）：</p>                    <ul class="list _ul"><li class="list__item" id="d895abbd"><p>同样， <code class="code">polls/_init_.py</code>告诉Python该目录应该被视为Python包。</p></li><li class="list__item" id="a647301d"><p><code class="code">polls/models.py</code> ：在这个文件中，我们将为我们的应用程序<a href="creating-and-running-your-first-django-project.html#creating_models">创建模型</a> 。</p></li><li class="list__item" id="e3553366"><p><code class="code">polls/views.py</code> ：在这个文件中，我们将<a href="creating-and-running-your-first-django-project.html#creating_views">创建视图</a> 。</p></li></ul>                </li><li class="list__item" id="3809ccfe"><p><code class="code">templates</code>目录现在是空的。它应该包含模板文件。</p></li><li class="list__item" id="d482fb06"><p>嵌套目录<code class="code">migrations</code>现在只包含包文件<code class="code">_init_.py</code> ，但将来会用于将您对模型所做的更改（添加字段，删除模型等）传播到数据库模式中。阅读<a href="https://docs.djangoproject.com/en/1.8/topics/migrations/" data-bypass="yes" target="_blank"><span>此处</span></a>的迁移说明。</p></li></ul>            <p id="12cd770b">请注意，您可以根据需要创建任意数量的Django应用程序。要将应用程序添加到项目，请运行<code class="code">manage.py</code>实用程序的<code class="code">startapp</code>任务（“ <span class="menupath" data-skip-index="skip">工具”|“运行manage.py”任务</span> ，然后在控制台中键入<code class="code">startapp</code> ）。</p>        </div>    </div>    <div class="chapter"><h2 id="database-configure" data-toc="Creating_and_Running_Your_First_framework_Project#database-configure">配置数据库</h2>    <p id="5e633f08">现在，当项目存根准备就绪时，让我们做一些微调。打开以编辑<code class="code">settings.py</code> 。为此，请在“项目”工具窗口中选择该文件，然后按<kbd data-primary_default="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_default_for_xwin="F4" data-primary_emacs="F4" data-primary_visual_studio="F4" data-primary_netbeans="F4" data-primary_eclipse="F12" data-secondary_mac_os_x_10.5_="⌘↓" data-secondary_mac_os_x="F4" data-secondary_eclipse_mac_os_x="F3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="F4" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="F4">F4</kbd> 。该文件在编辑器中的自己的选项卡中打开。</p>    <p id="e3f8ee1c">指定要在应用程序中使用的数据库。为此，找到<code class="code">DATABASES</code>变量：单击<kbd data-primary_default="Ctrl+F" data-primary_default_for_gnome="Ctrl+F" data-primary_default_for_kde="Ctrl+F" data-primary_default_for_xwin="Ctrl+F" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Ctrl+F" data-primary_netbeans="Ctrl+F" data-primary_eclipse="N/A" data-secondary_mac_os_x_10.5_="⌘F" data-secondary_mac_os_x="⌘F" data-secondary_eclipse_mac_os_x="N/A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃F" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + F</kbd> ，然后在搜索字段中键入要查找的字符串。然后，在<code class="code">'ENGINE'</code>行中，在dot之后添加数据库管理系统的名称（您可以使用注释后指定的任何名称，但首先我们将从<code class="code">sqlite3</code>开始。）</p>    <p id="1e2e862f">在<code class="code">'NAME'</code>行中，输入所需数据库的名称，即使它尚不存在。</p>    <figure><img alt="定义数据库" title="定义数据库" src="../img/idea/2019.1/py_db_config.png" id="6ff0c39c" width="455" height="324"></figure></div>    <div class="chapter"><h2 id="launch-server" data-toc="Creating_and_Running_Your_First_framework_Project#launch-server">启动Django服务器</h2>        <p id="a7adcdc1">由于我们谨慎选择了<code class="code">sqlite3</code> ，因此我们不需要定义其他值（用户凭据，端口和主机）。现在让我们检查一下我们的设置是否正确。这可以最轻松地完成：只需启动<code class="code">manage.py</code>实用程序的<code class="code">runserver</code>任务：按<kbd data-primary_default="Ctrl+Alt+R" data-primary_default_for_gnome="Ctrl+Alt+R" data-primary_default_for_kde="Ctrl+Alt+R" data-primary_default_for_xwin="Ctrl+Alt+R" data-primary_emacs="Ctrl+Alt+R" data-primary_visual_studio="N/A" data-primary_netbeans="Ctrl+Alt+R" data-primary_eclipse="N/A" data-secondary_mac_os_x_10.5_="⌥R" data-secondary_mac_os_x="⌥R" data-secondary_eclipse_mac_os_x="⌥R" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥R">Ctrl + Alt + R</kbd> ，然后在<code class="code">manage.py</code>控制台中输入任务名称：</p>        <figure><img alt="在控制台中运行manage.py" title="在控制台中运行manage.py" src="../img/idea/2019.1/py_runserver.png" id="277bab48" width="676" height="470"></figure>        <p id="fe0a3d17">按照建议的链接，查看以下页面：</p>        <figure><img alt="预览页面" title="预览页面" src="../img/idea/2019.1/py_runserver_result.png" id="5160e19d" width="604" height="162"></figure>    </div>    <div class="chapter"><h2 id="creating_models" data-toc="Creating_and_Running_Your_First_framework_Project#creating_models">创建模型</h2>        <p id="912a4565">接下来，打开编辑<code class="code">models.py</code>文件，并注意import语句已经存在。然后键入以下代码：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">来自</span> <span class="nn">django.db</span> <span class="kn">导入</span> <span class="n">模型</span> <span class="c">＃添加以下行：</span> <span class="kn">从</span> <span class="nn">django.utils</span> <span class="kn">导入</span> <span class="n">timezone</span> <span class="k">类</span> <span class="kn">导入</span> <span class="nn">日期</span> <span class="kn">时间</span> <span class="nc">问题</span> <span class="p">（</span> <span class="n">模型</span> <span class="o">。</span><span class="n">模型</span> <span class="p">）：</span> <span class="n">question_text</span> <span class="o">=</span> <span class="n">models</span> <span class="o">。</span><span class="n">CharField</span> <span class="p">（</span> <span class="n">max_length</span> <span class="o">=</span> <span class="mi">200</span> <span class="p">）</span> <span class="n">pub_date</span> <span class="o">=</span> <span class="n">models</span> <span class="o">。</span><span class="n">DateTimeField</span> <span class="p">（</span> <span class="s">'date published'</span> <span class="p">）</span> <span class="k">def</span> <span class="nf">__str __</span> <span class="p">（</span> <span class="bp">self</span> <span class="p">）：</span> <span class="k">return</span> <span class="bp">self</span> <span class="o">。</span> <span class="n">question_text</span> <span class="k">def</span> <span class="nf">was_published_recently</span> <span class="p">（</span> <span class="bp">self</span> <span class="p">）：</span> <span class="n">now</span> <span class="o">=</span> <span class="n">timezone</span> <span class="o">。</span> <span class="n">now</span> <span class="p">（）</span> <span class="n">现在</span> <span class="k">返回</span> <span class="o">-</span> <span class="n">datetime</span> <span class="o">。</span> <span class="n">timedelta</span> <span class="p">（</span> <span class="n">天</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">）</span> <span class="o">&lt;=</span> <span class="bp">自我</span> <span class="o">。</span> <span class="n">pub_date</span> <span class="o">&lt;=</span> <span class="n">now</span> <span class="n">was_published_recently</span> <span class="o">。</span> <span class="n">admin_order_field</span> <span class="o">=</span> <span class="s">'PUB_DATE'</span> <span class="n"><span class="o">was_published_recently。</span></span> <span class="n">boolean</span> <span class="o">=</span> <span class="bp">True</span> <span class="n">was_published_recently</span> <span class="o">。</span> <span class="n">short_description</span> <span class="o">=</span> <span class="s">'最近发布？'</span> <span class="k">类</span> <span class="nc">选择</span> <span class="p">（</span> <span class="n">模特</span> <span class="o">。</span><span class="n">模型</span> <span class="p">）：</span> <span class="n">问题</span> <span class="o">=</span> <span class="n">模型</span> <span class="o">。</span><span class="n">ForeignKey</span> <span class="p">（</span> <span class="n">问题</span> <span class="p">，</span> <span class="n">on_delete</span> <span class="o">=</span> <span class="n">模型</span> <span class="o">。</span><span class="n">DO_NOTHING</span> <span class="p">，）</span> <span class="n">choice_text</span> <span class="o">=</span> <span class="n">models</span> <span class="o">。</span><span class="n">CharField</span> <span class="p">（</span> <span class="n">max_length</span> <span class="o">=</span> <span class="mi">200</span> <span class="p">）</span> <span class="n">votes</span> <span class="o">=</span> <span class="n">models</span> <span class="o">。</span><span class="n">IntegerField</span> <span class="p">（</span> <span class="n">默认值</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">）</span> <span class="k">def</span> <span class="nf">__str __</span> <span class="p">（</span> <span class="bp">self</span> <span class="p">）：</span> <span class="k">返回</span> <span class="bp">self</span> <span class="o">。</span> <span class="n">choice_text</span></code></div>        <p id="b15272c4">实际上，你可以只复制粘贴，但建议输入 - 它可以帮助你看到功能强大的PyCharm的代码完成：</p>        <figure><img alt="使用代码竞争" title="使用代码竞争" src="../img/idea/2019.1/py_completion.png" id="93d50366" width="244" height="105"></figure>    </div>    <div class="chapter"><h2 id="database-create" data-toc="Creating_and_Running_Your_First_framework_Project#database-create">创建数据库</h2>    <p id="4bb30d9f">我们必须为新模型创建表。为此，我们将使用神奇的<kbd data-primary_default="Ctrl+Alt+R" data-primary_default_for_gnome="Ctrl+Alt+R" data-primary_default_for_kde="Ctrl+Alt+R" data-primary_default_for_xwin="Ctrl+Alt+R" data-primary_emacs="Ctrl+Alt+R" data-primary_visual_studio="N/A" data-primary_netbeans="Ctrl+Alt+R" data-primary_eclipse="N/A" data-secondary_mac_os_x_10.5_="⌥R" data-secondary_mac_os_x="⌥R" data-secondary_eclipse_mac_os_x="⌥R" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥R">Ctrl + Alt + R</kbd>快捷方式来调用<code class="code">manage.py</code>控制台。要执行的第一个命令是<code class="code">makemigrations polls</code> ：</p>        <figure><img alt="执行makemigrations" title="执行makemigrations" src="../img/idea/2019.1/py_makemigration.png" id="2b1a35cb" width="675" height="460"></figure>        <p id="e8079bdf">因此，您已经告诉Django已经创建了两个新模型，即<code class="code">Choice</code>和<code class="code">Question</code> ，并创建了一个迁移：</p>        <figure><img alt="移民" title="移民" src="../img/idea/2019.1/py_makemigration1.png" id="7ec19710" width="551" height="498"></figure>        <p id="825882cf">接下来，在提示符后，键入以下命令：</p>        <code class="code">sqlmigrate民意调查0001</code>        <figure><img alt="执行sqlmigrate池0001" title="执行sqlmigrate池0001" src="../img/idea/2019.1/py_sqlmigrate.png" id="e71db93f" width="676" height="682"></figure>        <p id="9e24297b">最后，运行<code class="code">migrate</code>命令以在数据库中实际创建这些表：</p>        <figure><img alt="在数据库中创建表" title="在数据库中创建表" src="../img/idea/2019.1/py_migrate.png" id="4b5b76a5" width="676" height="636"></figure>    </div>    <div class="chapter"><h2 id="adm-functions" data-toc="Creating_and_Running_Your_First_framework_Project#adm-functions">执行管理功能</h2>        <p id="d8c17ca2">首先，创建一个超级用户。为此，请在<code class="code">manage.py</code>控制台中键入<code class="code">createsuperuser</code>命令，指定您的电子邮件地址和密码：</p>        <figure><img alt="创建超级用户" title="创建超级用户" src="../img/idea/2019.1/py_superuser.png" id="bedd90fa" width="677" height="539"></figure>        <p id="ed8f2892">由于我们已经决定启用站点管理，PyCharm已经取消注释文件<code class="code">urls.py</code>的相应行。</p>        <p id="29ee44d7">打开<code class="code">polls</code>目录中的<code class="code">admin.py</code>文件进行编辑，并查看以下已存在的代码：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">来自</span> <span class="nn">django.contrib</span> <span class="kn">import</span> <span class="n">admin</span></code></div>        <p id="b50b7861">但是，我们需要为管理站点启用编辑功能。</p>        <div class="chapter"><h3 id="prepare-run-config" data-toc="Creating_and_Running_Your_First_framework_Project#prepare-run-config">准备运行/调试配置</h3>            <p id="eed665de">我们现在准备进入管理页面。当然，很有可能运行Django服务器，然后转到您的浏览器，并在地址栏中键入整个URL，但使用PyCharm有一种更简单的方法：使用预先配置的Django服务器运行配置稍作修改。</p>                <aside class="warning " rel="eed665de" id="54360bed" data-title=""><p>不要为“ <span class="control">模板”</span>节点下列出的默认运行/调试配置设置工作目录。这可能会导致新创建的运行/调试配置中的未解析目标。</p></aside>              <p id="ad98f007">要打开此运行/调试配置以进行编辑，请在主工具栏上单击运行/调试配置选择器，然后选择“ <span class="control">编辑配置”</span> （或在主菜单上选择<span class="menupath" data-skip-index="skip">“运行”|“编辑配置</span> ”）：</p>            <figure><img alt="编辑运行/调试配置" title="编辑运行/调试配置" src="../img/idea/2019.1/py_edit_runconfig.png" id="c87cfe0a" width="279" height="178"></figure>            <p id="8fddb076">在“ <a href="run-debug-configuration-django-server.html">运行/调试配置”对话框中</a> ，为此运行/调试配置命名（此处为<code class="code">mysite</code> ），启用在默认浏览器中运行应用程序（选择“ <span class="control">运行浏览器</span> ”复选框）并指定要打开的站点的页面默认（此页面为<code class="code">http://127.0.0.1:8000/admin/</code> ）：</p>            <figure><img alt="设置默认网页" title="设置默认网页" src="../img/idea/2019.1/py_runconfig.png" id="f8e25432" width="650" height="1213"></figure>        </div>        <div class="chapter"><h3 id="launch-admin-site" data-toc="Creating_and_Running_Your_First_framework_Project#launch-admin-site">启动管理站点</h3>            <p id="ee1f3f50">现在，要启动应用程序，请按<kbd data-primary_default="Shift+F10" data-primary_default_for_gnome="Shift+F10" data-primary_default_for_kde="Shift+F10" data-primary_default_for_xwin="Shift+F10" data-primary_emacs="Shift+F10" data-primary_visual_studio="Ctrl+F5" data-primary_netbeans="F6" data-primary_eclipse="Shift+Alt+X" data-secondary_mac_os_x_10.5_="⌃R" data-secondary_mac_os_x="⇧F10" data-secondary_eclipse_mac_os_x="⇧⌘F11" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃F5" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⇧F10">Shift + F10</kbd> ，或单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="跑">在主工具栏上打开标准的Django站点登录页面：</p>            <figure><img alt="登录页面" title="登录页面" src="../img/idea/2019.1/py_login_page.png" id="719cfc5f" width="352" height="185"></figure>            <p id="2bc6ad58">登录后，将显示管理页面。它有一部分<span class="control">身份验证和授权（组和用户）</span> ，但<span class="control">轮询</span>不可用。为什么这样？</p>            <p id="587decb7">我们必须告诉管理员，Question对象有一个管理界面;为此，让我们打开文件<code class="code">polls/admin.py</code>进行编辑（在Project视图中选择它并按<kbd data-primary_default="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_default_for_xwin="F4" data-primary_emacs="F4" data-primary_visual_studio="F4" data-primary_netbeans="F4" data-primary_eclipse="F12" data-secondary_mac_os_x_10.5_="⌘↓" data-secondary_mac_os_x="F4" data-secondary_eclipse_mac_os_x="F3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="F4" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="F4">F4</kbd> ），然后输入以下代码：</p>            <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">来自</span> <span class="nn">django.contrib</span> <span class="kn">从</span> <span class="nn">.models</span> <span class="kn">导入</span> <span class="n">管理员</span> <span class="kn">导入</span> <span class="n">问题</span> <span class="c">#this line added</span> <span class="n">admin</span> <span class="o">。</span> <span class="n">网站</span> <span class="o">。</span> <span class="n">注册</span> <span class="p">（</span> <span class="n">问题</span> <span class="p">）</span> <span class="c">#this line added</span></code></div>            <p id="8d41f5b7">再次注意代码完成：</p>            <figure><img alt="代码完成" title="代码完成" src="../img/idea/2019.1/py_completion1.png" id="2175461c" width="507" height="215"></figure>            <p id="999c3e76">刷新页面，看到出现<span class="control">问题的</span> <span class="control">民意调查</span>部分：</p>            <figure><img alt="网站管理页面" title="网站管理页面" src="../img/idea/2019.1/py_site_admin_page.png" id="9b58341d" width="657" height="357"></figure>            <p id="75d98dc4">单击“ <span class="control">添加”</span>以创建一些问题。</p>        </div>        <div class="chapter"><h3 id="edit-admin-py" data-toc="Creating_and_Running_Your_First_framework_Project#edit-admin-py">编辑admin.py</h3>            <p id="f94f6950">但是，每个问题都有很多选择，但仍然没有选择。再次打开以编辑<code class="code">polls/admin.py</code>文件并将其更改如下：</p>            <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">来自</span> <span class="nn">django.contrib的</span> <span class="kn">导入</span> <span class="n">管理员</span> <span class="kn">来自</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Choice</span> <span class="p">，</span> <span class="n">Question</span> <span class="k">class</span> <span class="nc">ChoiceInline</span> <span class="p">（</span> <span class="n">admin</span> <span class="o">。</span><span class="n">TabularInline</span> <span class="p">）：</span> <span class="n">model</span> <span class="o">=</span> <span class="n">Choice</span> <span class="n">extra</span> <span class="o">=</span> <span class="mi">3</span> <span class="k">class</span> <span class="nc">QuestionAdmin</span> <span class="p">（</span> <span class="n">admin</span> <span class="o">。</span><span class="n">ModelAdmin</span> <span class="p">）：</span> <span class="n">fieldsets</span> <span class="o">=</span> <span class="p">[</span> <span class="p">（</span> <span class="bp">无</span> <span class="p">，</span> <span class="p">{</span> <span class="s">'fields'</span> <span class="p">：</span> <span class="p">[</span> <span class="s">'question_text'</span> <span class="p">]}），</span> <span class="p">（</span> <span class="s">'日期信息'</span> <span class="p">，</span> <span class="p">{</span> <span class="s">'字段'</span> <span class="p">：</span> <span class="p">[</span> <span class="s">'pub_date'</span> <span class="p">]，</span> <span class="s">'类'</span> <span class="p">：</span> <span class="p">[</span> <span class="s">'collapse'</span> <span class="p">]}） ，</span> <span class="p">]</span> <span class="n">inlines</span> <span class="o">=</span> <span class="p">[</span> <span class="n">ChoiceInline</span> <span class="p">]</span> <span class="n">admin</span> <span class="o">。</span> <span class="n">网站</span> <span class="o">。</span> <span class="n">注册</span> <span class="p">（</span> <span class="n">问题</span> <span class="p">，</span> <span class="n">QuestionAdmin</span> <span class="p">）</span></code></div>            <p id="bdcda74e">现在查看<span class="control">更改问题</span>页面：</p>            <figure><img alt="更改问题页面" title="更改问题页面" src="../img/idea/2019.1/py_change_question.png" id="268eec66" width="853" height="596"></figure>        </div>    </div>    <div class="chapter"><h2 id="creating_views" data-toc="Creating_and_Running_Your_First_framework_Project#creating_views">写意见</h2>        <p id="8e51ccae">打开文件<code class="code">polls/views.py</code>进行编辑，然后键入以下Python代码：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">来自</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span> <span class="k">def</span> <span class="nf">index</span> <span class="p">（</span> <span class="n">request</span> <span class="p">）：</span> <span class="k">返回</span> <span class="n">HttpResponse</span> <span class="p">（</span> <span class="s">“Hello，world。你在民意调查指数。“</span> <span class="p">）</span></code></div>        <p id="36f95bd6">接下来，将新文件添加到名为<code class="code">urls.py</code>的<code class="code">polls</code>目录中，并在其中键入以下代码：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">从</span> <span class="nn">django.conf.urls</span> <span class="kn">输入</span> <span class="n">网址</span> <span class="kn">从</span> <span class="nn">。</span> <span class="kn">进口</span> <span class="n">视图</span> <span class="n">urlpatterns的</span> <span class="o">=</span> <span class="s"><span class="p"><span class="n"><span class="p">[URL（R</span></span></span> '^ <span class="p">$'，</span></span> <span class="n">视图</span> <span class="o">。</span> <span class="n">指数</span> <span class="p">，</span> <span class="n">名称</span> <span class="o">=</span> <span class="s">'索引<span class="p"><span class="p">'），]</span></span></span></code></div>        <p id="2640d0e2">接下来，打开编辑文件<code class="code">mysite/urls.py</code> （PyCharm已经为您创建）并添加索引页面的URL。您最终应该得到以下代码：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">从</span> <span class="nn">django.conf.urls</span> <span class="kn">导入已</span> <span class="n"><span class="p">包括</span></span> <span class="kn">从</span> <span class="nn">django.contrib中</span> <span class="kn">导入</span> <span class="n">管理</span> <span class="n">urlpatterns的</span> <span class="n">URL</span> <span class="o">=</span> <span class="s"><span class="p"><span class="n"><span class="p">[URL（R</span></span></span> '^轮询<span class="p">/'，</span></span> <span class="n">包括</span> <span class="p">（</span> <span class="c"><span class="s"><span class="p">'polls.urls'）），＃</span></span>此线加入</span> <span class="s"><span class="n"><span class="p">URL（R</span></span> '^管理员/'</span> <span class="p">，</span> <span class="n">管理员</span> <span class="o">。</span> <span class="n">网站</span> <span class="o">。</span> <span class="n">网址</span> <span class="p">），</span> <span class="p">]</span></code></div>        <p id="1fc78247">现在，打开页面<code class="code">127.0.0.1:8000/polls/</code>并享受：</p>        <figure><img alt="首页" title="首页" src="../img/idea/2019.1/py_result1.png" id="7a0dccd5" width="514" height="190"></figure>        <p id="0c63555a">接下来，让我们添加更多视图。再次，将以下代码添加到<code class="code">polls/views.py</code>文件<code class="code">polls/views.py</code> ：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="k">def</span> <span class="nf">detail</span> <span class="p">（</span> <span class="n">request</span> <span class="p">，</span> <span class="n">question_id</span> <span class="p">）：</span> <span class="k">return</span> <span class="n">HttpResponse</span> <span class="p">（</span> <span class="s">“你正在查看问题</span> <span class="si">％s</span> <span class="s">。”</span> <span class="o">％</span> <span class="n">question_id</span> <span class="p">）</span> <span class="k">def</span> <span class="nf">结果</span> <span class="p">（</span> <span class="n">request</span> <span class="p">，</span> <span class="n">question_id</span> <span class="p">）：</span> <span class="n">response</span> <span class="o">=</span> <span class="s">“你正在查看问题</span> <span class="si">％s</span> <span class="s">的结果</span> <span class="s">。”</span> <span class="k">返回</span> <span class="n">HttpResponse</span> <span class="p">（</span> <span class="n">响应</span> <span class="o">％</span> <span class="n">question_id</span> <span class="p">）</span> <span class="k">def</span> <span class="nf">vote</span> <span class="p">（</span> <span class="n">request</span> <span class="p">，</span> <span class="n">question_id</span> <span class="p">）：</span> <span class="k">return</span> <span class="n">HttpResponse</span> <span class="p">（</span> <span class="s">“你在问题</span> <span class="si">％s</span> <span class="s">上投票</span> <span class="s">。”</span> <span class="o">％</span> <span class="n">question_id</span> <span class="p">）</span></code></div>        <p id="df9eb032">通过添加以下<code class="code">url()</code>调用将这些新视图连接到<code class="code">polls.urls</code>模块：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">从</span> <span class="nn">django.conf.urls</span> <span class="kn">输入</span> <span class="n">网址</span> <span class="kn">从</span> <span class="nn">。</span> <span class="kn">进口</span> <span class="n">观点</span> <span class="n">URL模式</span> <span class="o">=</span> <span class="s"><span class="p"><span class="n"><span class="p"><span class="p"><span class="c">[URL，＃EX（R</span></span></span></span></span> '^ <span class="p">$'，</span></span> <span class="n">视图</span> <span class="n">索引</span> <span class="p">，</span> <span class="n">名称</span> <span class="o">=</span> <span class="s">'索引<span class="c"><span class="o"><span class="p">'。）：/</span></span></span></span> <span class="c">调查/ 5 /</span> <span class="n"><span class="p"><span class="s">URL（R'^（？</span></span>P &lt;question_id&gt; [0-9] +）/ $'</span> <span class="p">，</span> <span class="n">观点</span> <span class="o">。</span> <span class="n">detail</span> <span class="p">，</span> <span class="n">name</span> <span class="o">=</span> <span class="s">'detail'</span> <span class="p">），</span> <span class="c">＃ex：/ polls / 5 / results /</span> <span class="n">url</span> <span class="p">（</span> <span class="s">r'^（？P &lt;question_id&gt; [0-9] +）/ results / $'</span> <span class="p">，</span> <span class="n">views</span> <span class="o">。</span> <span class="n">结果</span> <span class="p">，</span> <span class="n">名称</span> <span class="o">=</span> <span class="s">'结果'</span> <span class="p">），</span> <span class="c">＃ex：/ polls / 5 / vote /</span> <span class="n">url</span> <span class="p">（</span> <span class="s">r'^（？P &lt;question_id&gt; [0-9] +）/ vote / $'</span> <span class="p">，</span> <span class="n">观点</span> <span class="o">。</span> <span class="n">投票</span> <span class="p">，</span> <span class="n">名称</span> <span class="o">=</span> <span class="s">'投票'</span> <span class="p">），</span> <span class="p">]</span></code></div>        <p id="a66bbcb9">如果您现在在浏览器中打开相应的页面，您将看到，例如：</p>        <figure><img alt="申请页面" title="申请页面" src="../img/idea/2019.1/py_result2.png" id="f2c2fc07" width="567" height="489"></figure>    </div>    <div class="chapter"><h2 id="create-templates" data-toc="Creating_and_Running_Your_First_framework_Project#create-templates">创建Django模板</h2>        <p id="7ac483c8">如您所见，这些页面的设计在视图中是硬编码的。因此，为了使其更具可读性，您必须编辑相应的Python代码。然后让我们将输出的可视化表示与Python分开 - 为此，让我们创建模板。</p>        <p id="793e2761">打开以编辑<code class="code">polls/views.py</code>文件并使用以下代码替换其内容：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">从</span> <span class="kn">进口</span> <span class="nn">django.http</span> <span class="n">的<span class="p"><span class="n">HttpResponse，HttpResponseRedirect</span></span></span> <span class="kn">从</span> <span class="nn">django.shortcuts</span> <span class="kn">导入</span> <span class="n"><span class="p">get_object_or_404，</span></span> <span class="n">呈现</span> <span class="kn">来自</span> <span class="nn">django.urls</span> <span class="kn">导入</span> <span class="n">反向</span> <span class="kn">从</span> <span class="nn">.models</span> <span class="kn">导入</span> <span class="n">问题</span> <span class="p">，</span> <span class="n">选择</span> <span class="k">DEF</span> <span class="nf">指数</span> <span class="p">（</span> <span class="n">请求</span> <span class="p"><span class="n">）：latest_question_list</span></span> <span class="o">=</span> <span class="n">问题</span> <span class="o">。</span> <span class="n">对象</span> <span class="o">。</span> <span class="n">order_by</span> <span class="p">（</span> <span class="s">'-pub_date'</span> <span class="p">）[：</span> <span class="mi">5</span> <span class="p">]</span> <span class="n">context</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'latest_question_list'</span> <span class="p">：</span> <span class="n">latest_question_list</span> <span class="p">}</span> <span class="k">返回</span> <span class="n">渲染</span> <span class="p">（</span> <span class="n">请求</span> <span class="p">，</span> <span class="s">'polls / index.html'</span> <span class="p">，</span> <span class="n">上下文</span> <span class="p">）</span> <span class="k">def</span> <span class="nf">详细信息</span> <span class="p">（</span> <span class="n">request</span> <span class="p">，</span> <span class="n">question_id</span> <span class="p">）：</span> <span class="n">question</span> <span class="o">=</span> <span class="n">get_object_or_404</span> <span class="p">（</span> <span class="n">Question</span> <span class="p">，</span> <span class="n">pk</span> <span class="o">=</span> <span class="n">question_id</span> <span class="p">）</span> <span class="k">return</span> <span class="n">render</span> <span class="p">（</span> <span class="n">request</span> <span class="p">，</span> <span class="s">'polls / detail.html'</span> <span class="p">，</span> <span class="p">{</span> <span class="s">'question'</span> <span class="p">：</span> <span class="n">question</span> <span class="p">}）</span> <span class="k">def</span> <span class="nf">结果</span> <span class="p">（</span> <span class="n">request</span> <span class="p">，</span> <span class="n">question_id</span> <span class="p">）：</span> <span class="n">question</span> <span class="o">=</span> <span class="n">get_object_or_404</span> <span class="p">（</span> <span class="n">Question</span> <span class="p">，</span> <span class="n">pk</span> <span class="o">=</span> <span class="n">question_id</span> <span class="p">）</span> <span class="k">return</span> <span class="n">render</span> <span class="p">（</span> <span class="n">request</span> <span class="p">，</span> <span class="s">'polls / results.html'</span> <span class="p">，</span> <span class="p">{</span> <span class="s">'question'</span> <span class="p">：</span> <span class="n">question</span> <span class="p">}）</span> <span class="k">def</span> <span class="nf">vote</span> <span class="p">（</span> <span class="n">request</span> <span class="p">，</span> <span class="n">question_id</span> <span class="p">）：</span> <span class="n">question</span> <span class="o">=</span> <span class="n">get_object_or_404</span> <span class="p">（</span> <span class="n">Question</span> <span class="p">，</span> <span class="n">pk</span> <span class="o">=</span> <span class="n">question_id</span> <span class="p">）</span> <span class="k">try</span> <span class="p">：</span> <span class="n">selected_choice</span> <span class="o">=</span> <span class="n">question</span> <span class="o">。</span> <span class="n">choice_set</span> <span class="o">。</span> <span class="n">得到</span> <span class="p"><span class="n">（PK</span></span> <span class="o">=</span> <span class="n">请求</span> <span class="o"><span class="n">。POST</span></span> <span class="p">[</span> <span class="s">'选择<span class="p">']），</span></span> <span class="k">除了</span> <span class="ne"><span class="p">（KeyError</span>异常</span> <span class="p">，</span> <span class="n">选择</span> <span class="o">。</span><span class="n">DoesNotExist</span> <span class="p">）：</span> <span class="k">return</span> <span class="n">render</span> <span class="p">（</span> <span class="n">request</span> <span class="p">，</span> <span class="s">'polls / detail.html'</span> <span class="p">，</span> <span class="p">{</span> <span class="s">'question'</span> <span class="p">：</span> <span class="n">question</span> <span class="p">，</span> <span class="s">'error_message'</span> <span class="p">：</span> <span class="s">“你没有选择。”</span> <span class="p">，</span> <span class="p">}）</span> <span class="k">else</span> <span class="p">：</span> <span class="n">selected_choice</span> <span class="o">。</span> <span class="n">投票</span> <span class="o">+ =</span> <span class="mi">1</span> <span class="n">selected_choice</span> <span class="o">。</span> <span class="n">保存</span> <span class="p">（）</span> <span class="k">返回</span> <span class="n"><span class="p">HttpResponseRedirect（</span></span> <span class="n">反向</span> <span class="p">（</span> <span class="s">'调查：结果<span class="p"><span class="n"><span class="o">'，ARGS</span></span></span></span> <span class="o"><span class="p">=（</span></span> <span class="n">问题</span> <span class="n">编号</span> <span class="p">）））</span></code></div>        <p id="6bacfbca">顺便说一下，注意帮助您创建import语句的导入助手。</p>        <p id="3c6727b3">您注意到的第一件事是对<code class="code">index.html</code>页面的未解析引用：</p>        <figure><img alt="view.py代码" title="view.py代码" src="../img/idea/2019.1/py_template1.png" id="5c45fcc2" width="575" height="232"></figure>        <p id="b42db063">PyCharm建议<a href="intention-actions.html">快速修复</a> ：如果单击灯泡，或按<kbd data-primary_default="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_default_for_xwin="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_visual_studio="Alt+Enter" data-primary_netbeans="Alt+Enter" data-primary_eclipse="Alt+Enter" data-secondary_mac_os_x_10.5_="⌥⏎" data-secondary_mac_os_x="⌥⏎" data-secondary_eclipse_mac_os_x="⌘1" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥⏎" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥⏎">Alt + Enter</kbd> ，则会在模板文件夹中创建相应的模板文件（请注意，PyCharm还会创建此模板应驻留的目录<code class="code">polls</code> ）：</p>        <figure><img alt="创建模板" title="创建模板" src="../img/idea/2019.1/py_template2.png" id="3b7cbf27" width="663" height="317"></figure>        <p id="80d1ca52">到目前为止，文件<code class="code">index.html</code>为空。将以下代码添加到其中：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="p">{</span> <span class="o">％</span> <span class="n">load</span> <span class="n">staticfiles</span> <span class="o">％</span> <span class="p">}</span> <span class="o">&lt;</span> <span class="n">link</span> <span class="n">rel</span> <span class="o">=</span> <span class="s">“stylesheet”</span> <span class="nb">type</span> <span class="o">=</span> <span class="s">“text / css”</span> <span class="n">href</span> <span class="o">=</span> <span class="s">“{</span> <span class="si">％s</span> <span class="s">tatic'polls / style.css'％}”</span> <span class="o">/&gt;</span> <span class="p">{</span> <span class="o">％</span> <span class="k">if</span> <span class="n">latest_question_list</span> <span class="o">％</span> <span class="p">}</span> <span class="o">&lt;</span> <span class="n">ul</span> <span class="o">&gt;</span> <span class="p">{</span> <span class="o">％</span> <span class="k"><span class="ow">在</span></span> <span class="n"><span class="o">latest_question_list％</span></span> <span class="n">的问题</span> <span class="p">}</span> <span class="o"><span class="o"><span class="n">&lt;LI&gt;</span></span> <span class="n">&lt;A</span></span> <span class="n">HREF</span> <span class="o">=</span> <span class="s"><span class="si">“{％U</span></span> <span class="s">RL '细节' <span class="o">question.id％}”&gt;</span></span> <span class="p">{{</span> <span class="n">问题</span> <span class="o">。</span> <span class="n"><span class="p">QUESTION_TEXT}}</span></span> <span class="o">&lt;/</span> <span class="o"><span class="n">A&gt;</span> &lt;/</span> <span class="n"><span class="o">LI&gt;</span></span> <span class="p"><span class="o"><span class="n"><span class="o"><span class="p">{％ENDFOR％}</span></span></span></span></span> <span class="o">&lt;/</span> <span class="n"><span class="o">UL&gt;</span></span> <span class="p"><span class="o">{％</span></span> <span class="k">其他</span> <span class="o"><span class="p">％}</span></span> <span class="o"><span class="n"><span class="o">&lt;p&gt;</span></span></span> <span class="n">没有</span> <span class="n">轮询</span> <span class="n">是</span> <span class="n">可用的</span> <span class="o">。&lt;/</span> <span class="n"><span class="o">P&gt;</span></span> <span class="p"><span class="o"><span class="n"><span class="o"><span class="p">{％ENDIF％}</span></span></span></span></span></code></div>        <p id="d7e3efc6">注意模板文件中的<a href="auto-completing-code.html">代码完成</a> ！例如，当键入开口<code class="code">{%</code> ，PyCharm添加匹配关闭一个<code class="code">%}</code>自动，放置在插入符号未来输入的位置。在<code class="code">HTML</code>标记中，代码完成也可用。</p>        <p id="e81760d8">注意图标<img class="inline-icon-16" src="../img/idea/2019.1/icons.fileTypes.html.svg@2x.png" width="16" alt="html类型">和<img alt="python类型" title="python类型" src="../img/idea/2019.1/pythonScript.png" id="3b739fd6" width="20" height="24" class="inline-icon-20">它们分别出现在文件<code class="code">views.py</code>和<code class="code">index.html</code>的左侧阴沟中：</p>        <figure><img alt="查看html和python代码" title="查看html和python代码" src="../img/idea/2019.1/py_template3.png" id="7e76490f" width="511" height="366"></figure><p id="0a4892d2">这些图标使您可以立即在视图方法和模板之间跳转。在文章<a href="navigating-between-templates-and-views.html"><span>和视图之间导航</span></a>和<a href="part-6-framework-specific-navigation.html"><span>第6部分中的文章中阅读有关此类导航的更多信息<a href="part-6-framework-specific-navigation.html"><span>。Django特定导航</span></a> 。</p>    </div>    <div class="chapter"><h2 id="stylesheet" data-toc="Creating_and_Running_Your_First_framework_Project#stylesheet">使用样式表</h2>        <p id="7f85b30a">正如您在视图文件<code class="code">index.html</code>看到的那样，有一个对样式表的引用，它没有得到解决：</p>        <p id="ec01c6e1">以下列方式解析此引用：</p>        <ol class="list _decimal"><li class="list__item" id="e7fb1238">                <p id="02710ddd">创建目录。为此，在“项目”视图中，选择Python包<code class="code">polls</code> ，然后按<kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_visual_studio="Ctrl+N" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃N" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt + Insert</kbd> 。</p>                <p id="8a7393d2">在出现的弹出菜单中，选择“ <span class="control">目录”</span> ，然后指定目录结构<code class="code">static/polls</code> 。</p></li><li class="list__item" id="3a9974b8"><p>接下来，在此目录中创建样式表。为此，选择最里面的目录<code class="code">polls</code> ，按<kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_visual_studio="Ctrl+N" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃N" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt + Insert</kbd> ，选择<span class="control">样式表</span>选项，然后在打开的对话框中输入样式。</p></li><li class="list__item" id="177819bf"><p>根据您的偏好，为创建的样式表提供一些内容。例如，我们希望看到一个带绿色的问题项目符号列表：</p><div class="code-block" data-lang="HTML"><code class="code-block__wrapper">li a {颜色：绿色; }</code></div>            </li></ol>    </div>    <div class="chapter"><h2 id="results" data-toc="Creating_and_Running_Your_First_framework_Project#results">我们到了！</h2>        <p id="6fd9c29c">现在让我们查看可用的民意调查清单。我们的管理站点已经运行，访问包含轮询列表（索引页面）的页面的最简单方法是指定其URL：在浏览器的地址栏中，而不是<code class="code">/admin/</code> ，键入<code class="code">/polls/</code> ：</p>        <figure><img alt="py result3" title="py result3" src="../img/idea/2019.1/py_result3.png" id="3cef26c3" width="303" height="169"></figure>    </div>    <div class="chapter"><h2 id="test" data-toc="Creating_and_Running_Your_First_framework_Project#test">测试一下......</h2>        <p id="40e42950">现在让我们看看PyCharm如何帮助简化应用程序的测试。</p>        <p id="89540d36"><code class="code">polls</code>目录中已有文件<code class="code">tests.py</code> 。到现在为止，这个文件是空的。当然，建议将新测试放在此特定文件中。例如，我们想确保我们的民意调查不是空的：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">从</span> <span class="kn">进口</span> <span class="nn">django.urls</span> <span class="nn">日期时间</span> <span class="kn">从</span> <span class="nn">django.test</span> <span class="kn">进口</span> <span class="n">测试用例</span> <span class="n">反向</span> <span class="kn">导入</span> <span class="kn">从</span> <span class="nn">django.utils</span> <span class="kn">导入</span> <span class="n">时区</span> <span class="kn">从</span> <span class="nn">.models</span> <span class="kn">导入</span> <span class="n">问题</span> <span class="k">DEF</span> <span class="nf"><span class="p"><span class="n"><span class="p">create_question（QUESTION_TEXT，</span></span></span></span> <span class="n">天</span> <span class="p">）：</span> <span class="n">时间</span> <span class="o">=</span> <span class="n">时区</span> <span class="o">。</span> <span class="n">now</span> <span class="p">（）</span> <span class="o">+</span> <span class="n">datetime</span> <span class="o">。</span> <span class="n">timedelta</span> <span class="p">（</span> <span class="n">天</span> <span class="o">=</span> <span class="n">天</span> <span class="p">）</span> <span class="k">返回</span> <span class="n">问题</span> <span class="o">。</span> <span class="n">对象</span> <span class="o">。</span> <span class="n">create</span> <span class="p">（</span> <span class="n">question_text</span> <span class="o">=</span> <span class="n">question_text</span> <span class="p">，</span> <span class="n">pub_date</span> <span class="o">=</span> <span class="n">time</span> <span class="p">）</span> <span class="k">class</span> <span class="nc">QuestionViewTests</span> <span class="p">（</span> <span class="n">TestCase</span> <span class="p">）：</span> <span class="k">def</span> <span class="nf">test_index_view_with_no_questions</span> <span class="p">（</span> <span class="bp">self</span> <span class="p">）：</span> <span class="sd">“”“</span> <span class="sd">如果不存在问题，则应显示相应的消息。</span>
<span class="sd">“””</span> <span class="n">响应</span> <span class="o">=</span> <span class="bp">自我</span> <span class="o">。</span> <span class="n">客户端</span> <span class="o">。</span> <span class="n">得到</span> <span class="p">（</span> <span class="n">反向</span> <span class="p">（</span> <span class="s">'索引<span class="p">'））</span></span> <span class="bp">的自我</span> <span class="n"><span class="o">。assertEqual</span>便</span> <span class="p">（</span> <span class="n">响应</span> <span class="o"><span class="n"><span class="p"><span class="mi"><span class="p">。STATUS_CODE，200）</span></span></span></span></span> <span class="bp">的自我</span> <span class="o"><span class="n"><span class="p">。assertContains（</span></span></span> <span class="n">响应</span> <span class="p">，</span> <span class="s">“没有轮询是可用的<span class="p">。”）</span></span> <span class="bp">的自我</span> <span class="o"><span class="n"><span class="p">。assertQuerysetEqual（</span></span></span> <span class="n">响应</span> <span class="o">。</span> <span class="n">上下文</span> <span class="p">[</span> <span class="s">'latest_question_list'</span> <span class="p">]，</span> <span class="p">[]）</span></code></div>        <p id="71124313">要运行此测试，请在编辑器中右键单击文件<code class="code">tests.py</code>的背景，选择<span class="control">Run</span>选项，或者按<kbd data-primary_default="Ctrl+Shift+F10" data-primary_default_for_gnome="Ctrl+Shift+F10" data-primary_default_for_kde="Ctrl+Shift+F10" data-primary_default_for_xwin="Ctrl+Shift+F10" data-primary_emacs="Ctrl+Shift+F10" data-primary_visual_studio="Ctrl+F9" data-primary_netbeans="Shift+Alt+F6" data-primary_eclipse="Ctrl+Shift+F10" data-secondary_mac_os_x_10.5_="⌃⇧R" data-secondary_mac_os_x="⌃⇧F10" data-secondary_eclipse_mac_os_x="⌃⇧R" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃F9" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⇧F10">Ctrl + Shift + F10</kbd> 。PyCharm建议两个选项：运行UnitTest（定义为<a href="settings-tools-python-integrated-tools.html">默认测试运行器</a> ）或Django测试。</p>                <p id="cec6cff9">测试结果显示在“运行”工具窗口的“ <a href="test-runner-tab.html">测试运行器”</a>选项卡中：</p>        <figure><img alt="运行测试" title="运行测试" src="../img/idea/2019.1/py_test_run2.png" id="b8b78f8a" width="676" height="428"></figure>    </div>    <div class="chapter"><h2 id="summary" data-toc="Creating_and_Running_Your_First_framework_Project#summary">摘要</h2>        <p id="d1dc1d8e">这个简短的教程结束了。您已成功创建并启动了一个简单的Django应用程序。让我们重复在PyCharm的帮助下所做的事情：</p>        <ul class="list _ul"><li class="list__item" id="67e9f455"><p>已经创建了一个Django项目和应用程序</p></li><li class="list__item" id="7f839d35"><p>Django服务器启动了</p></li><li class="list__item" id="35a3af68"><p>已配置数据库</p></li><li class="list__item" id="080a9323"><p>创建模型，视图和模板</p></li><li class="list__item" id="614b6167"><p>该应用程序已启动</p></li><li class="list__item" id="bd41249e"><p>测试已创建并执行</p></li></ul>    </div><div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="testing-your-first-python-application.html">第3步。测试你的第一个Python应用程序</a> <a class="navigation-links__next" href="mastering-keyboard-shortcuts.html">掌握PyCharm键盘快捷键</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>