<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="intellilang-configuration.html"></link><meta charset="UTF-8"></meta><title>IntelliLang配置 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="topicId333803"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="intellilang-configuration.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="IntelliLang_Configuration.xml" data-toc="topicId333803">IntelliLang配置</h1>                            <aside class="warning " rel="IntelliLang_Configuration.xml" id="93ebe217" data-title=""><p>此功能在PyCharm的<b id="7ca55065" origin="intellij-platform">教育</b>版中不可用。</p></aside><div class="chapter"><h2 id="Configuration" data-toc="topicId333803#Configuration">组态</h2>    <p id="b61e8422">配置对话框提供以下选项：</p>    <ul class="list _ul"><li class="list__item" id="e0601b7f"><p>XML文本的语言注入</p></li><li class="list__item" id="6f0eb6e7"><p>XML属性的语言注入</p></li><li class="list__item" id="008e383b"><p>语法注入方法参数</p></li><li class="list__item" id="4d3343b3"><p>高级设置，允许您更改已识别的基本注释的名称以及在运行时期间执行模式验证的方式。</p></li></ul></div>        <div class="chapter"><h2 id="LanguageInjection" data-toc="topicId333803#LanguageInjection">语言注入</h2>        <p id="6320d49d">在“ <span class="control">设置/首选项”</span>对话框中（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ），导航到“ <span class="control">编辑器”|语言注射</span> 。此对话框允许您为XML文本，属性和方法参数配置语言注入功能。使用工具栏中的按钮或上下文菜单操作添加，删除，复制或导入新条目。要添加新条目，必须首先选择适当的组。</p>        <div class="chapter"><h3 id="XMLText">XML文本</h3>        <p id="e4d3c9a5">点击<img class="inline-icon-16" src="../img/idea/2019.1/artwork.studio.icons.common.add@2x.png" width="16" alt="艺术品工作室图标常见添加">并从列表中选择<span class="control">XML Attribute Injection</span> 。添加新的XML注入后，选择要注入的语言的ID，并可选择指定构成注入上下文的前缀/后缀。</p>        <figure><img alt="py xml注入" title="py xml注入" src="../img/idea/2019.1/py_xml_injection.png" id="bf18d680" width="471" height="1082"></figure>    <p id="9cdf77ea">在“ <i id="b6feed86">XML标记”</i>窗格中，指定本地名称（即<i id="ad39a1f3">没有</i>任何名称空间前缀的名称）和围绕应被视为所选语言的文本的XML标记的名称空间URI。<i id="2bebc8bb">名称</i>字段不应为空，但<i id="d67480b1">名称空间</i>字段是可选的。</p>    <p id="4280836f"><i id="0b0b61e8">Local Name</i>字段采用正则表达式，这使得可以指定例如多个标签名称（ <span class="control">name1 | name2</span> ），不区分大小写的名称（例如<span class="control">（？i）标记名</span>匹配<i id="ef83dc8b">标记名</i>以及<i id="3592cb60">TagName</i> ）等。请确保不要输入任何空格字符，因为它们对于匹配很重要。</p>    </div>        <div class="chapter"><h3 id="XMLAttributes">XML属性</h3>    <p id="ac0c0e28">这类似于XML文本配置。但是，可以将<i id="45d6be90">XML标记</i>的<i id="f118e9f8">名称</i>保留为空，这意味着配置将应用于与配置的名称匹配的任何属性，而不管其是否包含XML标记。</p>    <p id="693fd7a6">属性的名称采用属性的本地名称，并且还指定为正则表达式。这可以例如用于通过指定名称“on。*”来匹配例如HTML事件处理程序属性。属性名称也可以为空（除非标记名称也为空），这意味着该配置适用于包含标记的所有属性。</p>    </div>        <div class="chapter"><h3 id="AdvancedXMLOptions">高级XML选项</h3>    <p id="78e8ea1e">“XML文本和属性”的“ <i id="1a9bcc83">高级”</i>窗格允许对注入过程进行更细粒度的控制。</p>    <ul data-skip-index="skip"><li class="list__item"><a href="intellilang-configuration.html#ValuePattern">价值模式</a></li><li class="list__item"><a href="intellilang-configuration.html#XPathCondition">XPath条件</a></li><li class="list__item"><a href="intellilang-configuration.html#MethodParameters">方法参数</a></li><li class="list__item"><a href="intellilang-configuration.html#ImportingConfigurationEntries">导入配置条目</a></li><li class="list__item"><a href="intellilang-configuration.html#AdvancedSettings">高级设置</a></li><li class="list__item"><a href="intellilang-configuration.html#ContributedConfigurations">贡献的配置</a></li></ul>    <div class="chapter"><h4 id="ValuePattern">价值模式</h4>    <p id="afc5a609">此字段采用正则表达式，该表达式确定应将语言注入的XML文本或属性值的哪一部分。这可用于将语言仅注入与特定模式匹配的值或将其注入与模式匹配的多个部分。这是通过使用模式的第一捕获组作为注射目标来完成的。</p>    <p id="ad8adac8">例子：</p>    <code class="code">[$＃] \ {（。*？）\}</code>    <p id="1b151a86">这与JSP / JSF表达式语言使用的模式匹配。</p>    <code class="code">^ JavaScript的:(。*）</code>    <p id="24aa2385">这匹配了可以在hyperlink-hrefs中使用的<i id="a7501d46">javascript</i> -protocol来执行JS代码。</p>    </div>            <div class="chapter"><h4 id="XPathCondition">XPath条件</h4>    <p id="9b635320">该字段采用XPath表达式，可以更精确地用于解决注入目标，而不仅仅是提供其名称和名称空间URI。计算表达式的上下文是XML Text注入的周围XML标记和XML属性注入的属性本身。</p>    <p id="f7d37da5">例：</p>    <code class="code">小写（@type）= '文本/ JavaScript的'</code>    <p id="329bcf55">这将注入限制为其<span class="control">type</span>属性包含值“text / javascript”的标记。</p>      <p id="3004d9fe">可以使用<a href="http://http://jaxen.org/" data-bypass="yes" target="_blank"><span>Jaxen</span></a> XPath引擎提供的XPath <a href="http://www.jaxen.org/extensions.html" data-bypass="yes" target="_blank"><span>扩展函数</span></a> ，例如<span class="control">小写（）</span> 。此外，还有三个附加功能可用于确定当前文件的名称，扩展名和文件类型： <span class="control">file-name（）</span> ， <span class="control">file-ext（）</span>和<span class="control">file-type（）</span> 。您还可以使用常规代码完成来获取可用功能列表。</p>    <aside class="warning " rel="3004d9fe" id="fa109a5c" data-title="">      <p id="cac7c828">出于性能原因，建议尽可能简化这些表达式。特别是导致整个文档被扫描的表达式，例如<span class="control">// foo / bar，</span>可能会导致大文件出现性能问题。</p>    </aside>    </div>        </div>        <div class="chapter"><h3 id="MethodParameters">方法参数</h3>    <p id="433770ee">如果由于任何原因无法使用注入注释，则可以使用IntelliLang的功能。这主要适用于配置第三方/库方法以及仍需使用Java 1.4的项目。</p>    <p id="07aa5f93">语言选择与上述语言选择相同。要选择某个方法的一个或多个参数，首先通过键入名称（文本字段支持完成）或使用[...]按钮提供的类选择器来选择其包含的类。接下来，使用“Method-Name”窗格中的[...]按钮选择一种方法（无法手动编辑方法名称）。选择方法后，将使用所选方法的参数填充“ <i id="88fc58f3">参数”</i>窗格中的表。选中第一列中的复选框，将所选语言注入为此参数传递的参数中。请注意，只能选择String类型的参数。</p>      <p id="13701433">已经有一个IntelliJ IDEA核心（检查小工具）检查，它检查一些众所周知的方法的参数是一个有效的正则表达式。但是，IntelliLang可以提供更详细的错误消息以及正则表达式支持插件的所有功能。</p>      <p id="0541a0f9">默认情况下为某些标准XPath-API配置的XPath语言由XPathView + XSLT-Support插件提供，该插件可<a href="http://plugins.intellij.net/plugin/?id=237" data-bypass="yes" target="_blank"><span>在此处获得</span></a> 。</p>    </div>        <div class="chapter"><h3 id="ImportingConfigurationEntries">导入配置条目</h3>    <p id="3deee8c1">要从另一个PyCharm安装导入注入配置，请使用工具栏中的“ <i id="015d13a5">导入”</i>按钮，从<span class="control">IDEA-CONFIG-HOME / options中</span>选择文件“IntelliLang.xml”，或从包含一些导出的JAR文件中<span class="control">选择</span> （通过文件|导出设置）PyCharm设置。选择文件后，新对话框将显示该文件中包含的条目。使用“ <span class="control">删除”</span>按钮删除您不想导入的所有条目。请注意，这<i id="50ac12c7">不会</i>更改选定的配置文件。</p>    <p id="3497ed9f">这种选择性导入功能可以轻松地在团队中共享某些配置，而不会丢失任何本地条目，例如通过核心文件|导入设置时导入设置操作。</p>      <p id="a48506a9">要防止数据不一致，只有在现有配置未更改或已使用“ <i id="bbd546de">应用”</i>按钮保存时才能导入。</p>    </div>    </div>    <div class="chapter"><h2 id="AdvancedSettings" data-toc="topicId333803#AdvancedSettings">高级设置</h2>    <p id="b47abb4f">高级配置选项卡允许您为应使用的基本注释指定不同的名称。这有助于避免在不希望或不可能的情况下对外部代码的任何依赖性。自定义注释应该提供与原始注释相同的属性，即所有这些属性的<span class="control">值</span>以及<span class="control">@Language</span>替换的可选（默认=“”） <span class="control">前缀</span>和<span class="control">后缀</span> 。</p>    <p id="e9aa40dd">在这里，还可以配置插件应为<span class="control">@Pattern</span>验证生成的运行时检查类型：</p>    <ul class="list _ul"><li class="list__item" id="595f9c2f"><p>没有检测：不会插入任何检查，也不会触及任何已编译的类文件</p></li><li class="list__item" id="2e69da54"><p>使用<span class="control">assert进行检测</span> ：使用<span class="control">-ea</span> JVM开关控制模式验证并抛出<span class="control">AssertionError</span> 。这是推荐的方法，因为可能会对经常调用的方法的性能产生负面影响。</p></li><li class="list__item" id="2ddd8b97"><p>使用IllegalArgument-（用于方法参数）和IllegalStateExceptions（用于返回值）的检测。这与PyCharm的<span class="control">@NotNull</span>检测相同。</p></li></ul>    </div>    <div class="chapter"><h2 id="ContributedConfigurations" data-toc="topicId333803#ContributedConfigurations">贡献的配置</h2>    <p id="5df2ee7d">可以从此处下载和导入其他配置。这种社区效应有助于最大限度地减少配置工作，并使IntelliLang更易于使用。</p>      </div>      <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="usage-examples.html">用法示例</a> <a class="navigation-links__next" href="general-usage.html">一般用法</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>外部链接：</h3><ul class="list"><li class="list__item"><a href="intellilang.html"><span>IntelliLang</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>