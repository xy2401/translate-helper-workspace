<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="adding-files-to-version-control.html"></link><meta charset="UTF-8"></meta><title>在版本控制下管理文件 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="procedures.vcWithIDEA.commonVcsOps.addFiles"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="adding-files-to-version-control.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Adding_Files_to_Version_Control.xml" data-toc="procedures.vcWithIDEA.commonVcsOps.addFiles">在版本控制下管理文件</h1>      <div class="chapter"><h2 id="90ccce49" data-toc="procedures.vcWithIDEA.commonVcsOps.addFiles#90ccce49">将文件添加到VCS</h2>    <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="8c724d72"><p>打开“ <span class="control">版本控制”</span>工具窗口（ <kbd data-primary_default="Alt+9" data-primary_default_for_gnome="Alt+9" data-primary_default_for_kde="Alt+9" data-primary_default_for_xwin="Alt+9" data-primary_emacs="Alt+9" data-primary_visual_studio="Alt+9" data-primary_netbeans="Alt+9" data-primary_eclipse="Alt+9" data-secondary_mac_os_x_10.5_="⌘9" data-secondary_mac_os_x="⌘9" data-secondary_eclipse_mac_os_x="⌘9" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥9" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥9">Alt + 9</kbd> ）并切换到“ <span class="control">本地更改”</span>选项卡。</p></li><li class="list__item" id="ca9ac67e"><p>通过按<kbd data-primary_default="Ctrl+Alt+A" data-primary_default_for_gnome="Ctrl+Alt+A" data-primary_default_for_kde="Ctrl+Alt+A" data-primary_default_for_xwin="Ctrl+Alt+A" data-primary_emacs="Ctrl+Alt+A" data-primary_visual_studio="Ctrl+Alt+A" data-primary_netbeans="Ctrl+Alt+A" data-primary_eclipse="Ctrl+Alt+A" data-secondary_mac_os_x_10.5_="⌥⌘A" data-secondary_mac_os_x="⌥⌘A" data-secondary_eclipse_mac_os_x="⌥⌘A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⌥A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥A">Ctrl + Alt + A</kbd>或从上下文菜单中选择<span class="control">添加到VCS</span> ，将任何文件放在版本控制下的<span class="control">Unversioned Files更改</span>列表中。您可以添加整个更改列表，也可以选择单独的文件。</p></li></ol></section>    <p id="add-unversioned">如果已为项目启用了VCS集成，PyCharm建议在版本控制下添加每个新创建的文件（您可以在<span class="control">“</span> <span class="control">版本控制”|“确认”</span>下的<span class="control">“设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中更改此行为）。如果您希望某些文件始终保持无版本，则可以将VCS配置为忽略它们。</p>        <aside class="tip sideblock" rel="add-unversioned" id="23a71c6e" data-title="">        <p id="cb5d6acd">您还可以从“ <span class="control">项目”</span>工具窗口将文件添加到本地存储库。选择要添加的文件，然后按<kbd data-primary_default="Ctrl+Alt+A" data-primary_default_for_gnome="Ctrl+Alt+A" data-primary_default_for_kde="Ctrl+Alt+A" data-primary_default_for_xwin="Ctrl+Alt+A" data-primary_emacs="Ctrl+Alt+A" data-primary_visual_studio="Ctrl+Alt+A" data-primary_netbeans="Ctrl+Alt+A" data-primary_eclipse="Ctrl+Alt+A" data-secondary_mac_os_x_10.5_="⌥⌘A" data-secondary_mac_os_x="⌥⌘A" data-secondary_eclipse_mac_os_x="⌥⌘A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⌥A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥A">Ctrl + Alt + A</kbd>或选择<span class="control">VCS | &lt;your_VCS&gt; |</span>从上下文菜单中<span class="control">添加</span> 。</p>    </aside></div>    <div class="chapter"><h2 id="38bbb6eb" data-toc="procedures.vcWithIDEA.commonVcsOps.addFiles#38bbb6eb">检查项目文件状态</h2>        <p id="c9ca837a">PyCharm允许您检查本地工作副本的状态与项目的存储库版本的比较。它可以让您查看哪些文件已被修改，哪些新文件已添加到VCS，哪些文件未被Git跟踪。</p>        <p id="dc18b3d4">打开“ <span class="control">版本控制”</span>工具窗口（ <kbd data-primary_default="Alt+9" data-primary_default_for_gnome="Alt+9" data-primary_default_for_kde="Alt+9" data-primary_default_for_xwin="Alt+9" data-primary_emacs="Alt+9" data-primary_visual_studio="Alt+9" data-primary_netbeans="Alt+9" data-primary_eclipse="Alt+9" data-secondary_mac_os_x_10.5_="⌘9" data-secondary_mac_os_x="⌘9" data-secondary_eclipse_mac_os_x="⌘9" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥9" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥9">Alt + 9</kbd> ）并切换到“ <span class="control">本地更改”</span>选项卡：</p><figure><img alt="Git文件状态" title="Git文件状态" src="../img/idea/2019.1/Git_file_status.png" id="1b2ddd9b" width="613" height="193"></figure>                            <ul class="list _bullet"><li class="list__item" id="default-changelists"><p><span class="control">默认</span>更改列表显示自上次与远程存储库同步（以蓝色突出显示）后已修改的所有文件，以及已添加到VCS但尚未提交但以绿色突出显示的所有新文件。</p></li><li class="list__item" id="9ed56e68"><p><span class="control">Unversioned Files更改</span>列表显示已添加到项目中但Git未跟踪的所有文件。</p></li></ul>        <aside class="tip sideblock" rel="default-changelists" id="414f9d0c" data-title="">            <p id="cf7d8c4a">如果要将忽略的文件也显示在“ <span class="control">本地更改”</span>选项卡中，请单击“是” <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.show.svg@2x.png" width="16" alt="显示忽略文件按钮">在工具栏上，选择“ <span class="control">显示忽略的文件”</span> 。</p>        </aside>                    <p id="ec2c1afa">您可以直接从“ <span class="control">版本控制”</span>工具窗口的“ <span class="control">本地更改”</span>选项卡执行部署任务，例如上<a href="uploading-and-downloading-files.html">载文件和文件夹，</a>或者<a href="comparing-deployed-files-and-folders-with-their-local-versions.html">将它们与已部署的版本进行比较</a> 。要执行此操作，请右键单击某个项目，然后从上下文菜单中选择“ <span class="control">部署</span> ”。然后从子菜单中选择所需的操作。</p>            <aside class="note " rel="ec2c1afa" id="11b846d4" data-title="">                <p id="13597bbb">该选项仅在启用了<span class="control">Remote Hosts Access</span>插件且至少定义了一个<a href="configuring-synchronization-with-a-remote-host.html">服务器访问配置时</a>可用。</p>            </aside>                        <div class="chapter"><h3 id="track_changes">跟踪编辑器中文件的更改</h3>            <p id="235d02a0">您还可以在编辑器中修改文件时跟踪文件的更改。所有更改都会突出显示<span class="keyword">更改标记</span> ，这些<span class="keyword">更改标记</span>显示在修改后的行旁边的左侧装订线中，并显示自上次<a href="sync-with-a-remote-repository.html">与存储库同步</a>以来引入的更改类型。当您对存储库提交更改时，更改标记将消失。</p>                    <p id="gutter-colors">您在文本中引入的更改采用颜色编码：</p>        <ul class="list _ul"><li class="list__item" id="c1c84beb"><p>                <img alt="新添加的行的标记" title="新添加的行的标记" src="../img/idea/2019.1/lineAddedMarker.png" id="19eff97d" width="6" height="13" class="inline-icon-6">添加了一行。</p></li><li class="list__item" id="78915ec2"><p>                <img alt="修改后的线的标记" title="修改后的线的标记" src="../img/idea/2019.1/lineChangededMarker.png" id="3f779467" width="6" height="13" class="inline-icon-6">线路改变了。</p></li></ul>                <aside class="tip sideblock" rel="gutter-colors" id="86844a4f" data-title="">                <p id="eb764b91">您可以在<span class="control">编辑器|</span>下的<span class="control">设置</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中自定义线状态的默认颜色<span class="control">配色方案| VCS</span> 。</p>            </aside>            <p id="eae8e8c2">删除行时，左侧装订线中会显示以下标记： <img alt="删除的行标记" title="删除的行标记" src="../img/idea/2019.1/deleted_line_marker.png" id="fc7835e9" width="32" height="29" class="inline-icon-32"> 。</p>            <p id="124f92bd">您可以使用将鼠标光标悬停在更改标记上然后单击它时显示的工具栏来管理更改。工具栏与显示修改行的先前内容的框架一起显示：</p>                                    <figure><img alt="更改工具栏" title="更改工具栏" src="../img/idea/2019.1/py_changeMarkerToolbar.png" id="0fadf5c7" width="434" height="142"></figure>            <p id="rollback">您可以通过单击来回滚更改<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.rollback.svg@2x.png" width="16" alt="还原图标"> （请注意，自上次修订以来对文件的所有更改都将被还原，而不仅仅是当前行），并通过单击来探索当前行的当前行和存储库版本之间的差异<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.diff.svg@2x.png" width="16" alt="显示差异图标"> 。</p>            <aside class="tip sideblock" rel="rollback" id="a59ca496" data-title="">                <p id="f2bf2280">您可以复制此弹出窗口的任何内容并将其粘贴到编辑器中，而不是还原整个文件。</p>            </aside>        </div>        </div>    <div class="chapter"><h2 id="0ef9c2d6" data-toc="procedures.vcWithIDEA.commonVcsOps.addFiles#0ef9c2d6">从存储库中删除文件</h2>        <p id="749c9b08">如果删除受版本控制的文件，则在提交更改之前，该文件仍存在于存储库中。已删除的文件将放置到活动的更改列表中，并以灰色突出显示。</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="27ea25d6"><p>在“ <span class="control">项目”</span>工具窗口中选择一个文件，然后按“ <kbd data-primary_default="Delete" data-primary_default_for_gnome="Delete" data-primary_default_for_kde="Delete" data-primary_default_for_xwin="Delete" data-primary_emacs="Delete" data-primary_visual_studio="Delete" data-primary_netbeans="Delete" data-primary_eclipse="Delete" data-secondary_mac_os_x_10.5_="⌦" data-secondary_mac_os_x="⌦" data-secondary_eclipse_mac_os_x="⌦" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌦" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌦">删除”</kbd> ，或从上下文菜单中选择“ <span class="control">删除</span> ”。</p></li><li class="list__item" id="884c0e71">                <p id="fe4d2039">在打开的对话框中，您可以选择是否要在不搜索用法的情况下删除此文件，或者执行<span class="emphasis">安全删除</span>以确保通过选中“ <span class="control">安全删除”</span>选项删除未使用的文件。</p>                <p id="4d678ea1">如果找到任何用法，将弹出列出它们的<span class="control">Usages Detected</span>对话框。您可以在删除之前查看这些用法并删除对此文件的引用。</p>            </li><li class="list__item" id="15bc95d4"><p>将更改提交到存储库。</p></li></ol></section>    </div>      <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="configuring-version-control-options.html">配置版本控制选项</a> <a class="navigation-links__next" href="comparing-file-versions.html">比较文件版本</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="importing-a-local-directory-to-subversion-repository.html"><span>将本地目录导入Subversion存储库</span></a></li><li class="list__item"><a href="sharing-directory.html"><span>共享目录</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="version-control-reference.html"><span>版本控制参考</span></a></li><li class="list__item"><a href="settings-version-control.html"><span>版本控制</span></a></li><li class="list__item"><a href="version-control-tool-window.html"><span>版本控制工具窗口</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>