<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="manage-branches.html"></link><meta charset="UTF-8"></meta><title>管理分支 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Manage_branches"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="manage-branches.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Manage_branches.xml" data-toc="Manage_branches">管理分支机构</h1>    <p id="bc7793b7">在Git中， <span class="keyword">分支</span>是一种强大的机制，允许您与主开发线分开，例如，当您需要<a href="work-on-several-features-simultaneously.html#feature-branches">处理某个功能</a> ，或冻结某个代码库的某个状态以进行发布时，等等。</p>    <p id="invoke-branches-popup">在PyCharm中，所有带分支的操作都在<span class="control">Git Branches</span>弹出窗口中执行。要调用它，请单击状态栏中的Git小部件或按<kbd data-primary_default="Alt+`" data-primary_default_for_gnome="Alt+`" data-primary_default_for_kde="Alt+`" data-primary_default_for_xwin="Alt+`" data-primary_emacs="Alt+`" data-primary_visual_studio="Alt+`" data-primary_netbeans="Alt+`" data-primary_eclipse="Alt+`" data-secondary_mac_os_x_10.5_="⌃V" data-secondary_mac_os_x="⌃V" data-secondary_eclipse_mac_os_x="⌃V" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥`" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥`">Alt +`</kbd>并选择其中的<span class="control">分支</span> ：</p><figure><img alt="git小部件" title="git小部件" src="../img/idea/2019.1/git_widget.png" id="e87f536e" width="166" height="69"></figure>        <p id="f99633d9">当前签出的分支的名称显示在状态栏的Git小部件中。</p>    <p id="a8890f9b">如果您有许多分支，则可以选择是要在<span class="control">分支</span>弹出窗口中显示所有<span class="control">分支</span> ，还是仅<span class="control">显示收藏</span>夹：在<span class="control">分支</span>弹出窗口底部切换<span class="control">仅显示收藏夹</span>和<span class="control">显示更多</span>命令。</p>    <p id="favorite_branches">要将分支标记为收藏夹，请将鼠标光标悬停在分支名称上，然后单击左侧显示的星形轮廓： <img alt="GitFavoriteBranch" title="GitFavoriteBranch" src="../img/idea/2019.1/GitFavoriteBranch.png" id="b8367214" width="179" height="21" class="inline-icon-179"> 。</p>    <aside class="note " rel="favorite_branches" id="fadc85da" data-title="">        <p id="2144c8d3">默认情况下， <code class="code">master</code>分支被标记为收藏夹。</p>    </aside>        <section class="procedure-steps"><h2 id="create-branch">创建一个新分支</h2><ol class="list _decimal"><li class="list__item" id="355c9317"><p>在“ <span class="control">分支”</span>弹出窗口中，选择“ <span class="control">新建分支”</span> 。</p></li><li class="list__item" id="1d2e50e4"><p>在打开的对话框中，指定分支名称，如果要切换到该分支，请确保选中<span class="control">Checkout分支</span>选项。</p></li></ol><p id="ebd9f2bc">新分支将从当前的HEAD开始。如果要从先前的提交而不是当前的分支HEAD启动分支，请在<span class="control">日志中</span>选择此提交，然后从上下文菜单中选择“ <span class="control">新建分支</span> ”。</p></section>            <section class="procedure-steps"><h2 id="checkout-branch">将分支签出为新的本地分支</h2><p id="54f27070">如果您想在其他人创建的分支中工作，则需要检查它以创建该分支的本地副本：</p><ol class="list _decimal"><li class="list__item" id="b3909355"><p>在“ <span class="control">分支”</span>弹出窗口中，选择要从<span class="control">远程分支</span>本地签出的<span class="control">分支</span> ，或者如果项目具有多个根并且启用了<a href="manage-branches.html#synchronous_branch_control">同步分支控制</a> ，则选择“ <span class="control">公共远程分支”</span> ，或者从“ <span class="control">存储库”|“</span> <a href="manage-branches.html#synchronous_branch_control">分支”中选择</a> <span class="control">。远程分支（</span>如果已禁用），并从可用操作列表中选择“ <span class="control">校验”</span> 。</p></li><li class="list__item" id="5ee6d806"><p>如有必要，请为此分支输入新名称，或保留与远程分支对应的默认名称，然后单击“ <span class="control">确定”</span> 。</p></li></ol></section>        <section class="procedure-steps"><h2 id="switch-branches">在分支之间切换</h2><p id="9e5fbd1c">在<a href="work-on-several-features-simultaneously.html">多任务处理时</a> ，您经常需要在分支之间跳转以提交不相关的更改。</p><ol class="list _decimal"><li class="list__item" id="c888e000"><p>在“ <span class="control">分支”</span>弹出窗口中，选择要在“ <span class="control">本地分支”</span>下切换到的<span class="control">分支，</span>然后从可用操作列表中选择“ <span class="control">校验</span> ”（如果要修改本地分支名称，请选择“ <span class="control">校验为”）</span> 。</p></li><li class="list__item" id="f17d233e">接下来会发生什么取决于您尚未提交的本地更改与您要检出的分支之间是否存在冲突：<ul class="list _bullet"><li class="list__item" id="08cd0f5f"><p>如果您的工作树是干净的（即您没有未提交的更改），或者您的本地更改不与指定的分支冲突，则将检出此分支（将在PyCharm窗口的右下角弹出通知） 。</p></li><li class="list__item" id="5fcc3a3d">如果您的本地更改将被结帐覆盖，PyCharm会显示一个文件列表，阻止您检出所选分支，并建议在<span class="keyword">强制结账</span>和<span class="keyword">智能结账</span>之间进行选择。<p id="e4207659">如果单击“ <span class="control">强制结帐”</span> ，则会覆盖本地未提交的更改，您将丢失它们。</p>                        <p id="1085fc50">如果单击<span class="control">Smart Checkout</span> ，PyCharm将<a href="work-on-several-features-simultaneously.html#stash">隐藏</a>未提交的更改，签出所选分支，然后取消暂停更改。如果在卸载操作期间发生冲突，系统将提示您合并更改。有关详细信息，请参阅<a href="resolve-conflicts.html">解决冲突</a> 。</p>                    </li></ul>            </li></ol></section>        <aside class="tip sideblock" rel="switch-branches" id="36f5d1da" data-title="">            <p id="27e34bdf">PyCharm保存您的<a href="managing-tasks-and-context.html#work-with-context">上下文</a> （一组打开的文件，当前运行配置和<a href="using-breakpoints.html">断点</a> ），前提是在<span class="control">“</span> <span class="control">版本控制”</span>下的<span class="control">“设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中启用了<span class="control">“</span> <span class="control">分支切换时恢复工作区”</span>选项<span class="control">。确认</span> 。当您切换到分支时，PyCharm会自动恢复与该分支关联的上下文。</p>        </aside>        <section class="procedure-steps"><h2 id="compare_branches">比较分支</h2><p id="880e6029">如果要检查两个分支如何相互分离，可以比较它们。</p><ol class="list _decimal"><li class="list__item" id="27e52c9e"><p>从“ <span class="control">分支”</span>弹出窗口中选择要与当前分支进行比较的分支，然后从可用操作列表中选择“ <span class="control">比较</span> ”。</p></li><li class="list__item" id="441ffe64"><p>在打开的对话框中，“ <span class="control">日志”</span>选项卡显示一个分支中存在但在另一个分支中不存在的所有提交的列表。选择提交时，右窗格将显示受此提交影响的文件列表。您可以单击“ <span class="control">显示差异”</span>图标<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.diff.svg@2x.png" width="16" alt="图标动作差异svg">在工具栏上查看此提交中所选文件的更改方式。</p></li><li class="list__item" id="swap"><p>“ <span class="control">文件”</span>选项卡显示两个分支之间存在分歧的所有文件的列表。点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.diff.svg@2x.png" width="16" alt="图标动作差异svg">显示当前分支中所选文件与要与之比较的分支中的差异。</p></li></ol><aside class="tip sideblock" rel="swap" id="7d1a1a1a" data-title="">            <p id="fedd464b">单击“ <span class="control">交换分支”</span>链接以切换哪个分支被视为您要与其他分支进行比较的基础。基本分支显示在左侧。</p>        </aside></section>        <section class="procedure-steps"><h2 id="delete-branch">删除分支</h2><p id="9264e9f9"><a href="apply-changes-from-one-branch-to-another.html">将更改</a>从功能分支集成到主开发线后，您可以删除不再需要的分支：</p><ol class="list _decimal"><li class="list__item" id="68a7bf03"><p>                <a href="manage-branches.html#invoke-branches-popup">调用分支弹出窗口</a>并选择要删除的分支。</p></li><li class="list__item" id="647eda56"><p>从子菜单中选择“ <span class="control">删除</span> ”。</p></li></ol><p id="ed74de93">删除分支后，会在右下角显示通知，您可以从中恢复已删除的分支：</p><figure><img alt="删除分支通知" title="删除分支通知" src="../img/idea/2019.1/deleted_branch_notification.png" id="19750c66" width="333" height="64"></figure><p id="a96d7339">如果分支包含尚未合并到其上游分支或当前分支的提交，它仍将立即删除（相当于<code class="code">git branch --D</code>或<code class="code">git branch --delete --force</code>命令），但是通知还将包含一个链接，允许您查看未合并的提交。</p><p id="19ef6aba">如果已删除的分支正在跟踪远程分支，则您还可以从此通知中删除远程分支。</p></section>    <section class="procedure-steps"><h2 id="synchronous_branch_control">为多根存储库配置同步分支控制</h2><p id="d8adf58b">如果您有一个多根存储库，则可以将PyCharm配置为在所有根上同时执行所有分支操作（例如检出，合并，删除等），就像它是单个存储库一样。如果某个操作至少在其中一个存储库中失败，PyCharm会建议您在存储库中成功回滚此操作，从而防止分支出现分歧。</p><ol class="list _decimal"><li class="list__item" id="3a95d6c3"><p>在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> ）中，选择“ <span class="control">版本控制”| Git</span> 。</p></li><li class="list__item" id="a7329e12"><p>选择“ <span class="control">对所有根目录执行分支操作”</span>选项。</p></li></ol></section><div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="use-patches.html">使用补丁</a> <a class="navigation-links__next" href="apply-changes-from-one-branch-to-another.html">将更改从一个分支应用于另一个分支</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>