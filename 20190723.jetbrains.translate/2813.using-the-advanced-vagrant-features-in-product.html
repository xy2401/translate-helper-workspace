<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="using-the-advanced-vagrant-features-in-product.html"></link><meta charset="UTF-8"></meta><title>使用PyCharm中的高级流动功能 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Using_the_Advanced_Vagrant_Features_in_product"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="using-the-advanced-vagrant-features-in-product.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Using_the_Advanced_Vagrant_Features_in_product.xml" data-toc="Using_the_Advanced_Vagrant_Features_in_product">使用PyCharm中的高级流动功能</h1>           <p id="313a5502">本教程介绍如何在PyCharm中使用Vagrant集成的高级功能。使用<a href="https://www.vagrantup.com/docs/" data-bypass="yes" target="_blank"><span>Vagrant</span></a>和<a href="https://www.virtualbox.org/" data-bypass="yes" target="_blank"><span>Oracle VirtualBox</span></a>的详细信息超出了本教程的范围。有关更多信息，请参阅相应的文档。</p>        <p id="1db1599f">注意<a href="vagrant-support.html"><span>Vagrant</span></a>页面中提到的先决条件。还要确保创建并初始化Vagrant框。</p>            <div class="chapter"><h2 id="ssh-terminal" data-toc="Using_the_Advanced_Vagrant_Features_in_product#ssh-terminal">使用内置SSH终端连接到Vagrant机器</h2>        <p id="7b8c9f57">PyCharm具有<a href="running-ssh-terminal.html">内置的SSH终端</a> ，可用于连接远程机器。</p>        <div class="chapter"><h3 id="0369d2db" data-toc="Using_the_Advanced_Vagrant_Features_in_product#0369d2db">开始连接</h3>            <p id="c8906d52">要连接到Vagrant机器，请选择“ <span class="menupath" data-skip-index="skip">工具”|</span>在主菜单上<span class="menupath" data-skip-index="skip">启动SSH会话....</span>这将打开我们可以连接到的主机列表。</p>            <p id="7f827835">已<a href="vagrant-support.html">配置的Vagrant计算机</a>将自动添加到此列表中。单击它将打开与此Vagrant计算机公开的SSH端点的连接。“ <span class="menupath" data-skip-index="skip">编辑凭据...”</span>菜单项允许手动输入连接信息。但是，我们在此仅限于使用虚拟框。</p>            <figure><img alt="可用的流浪者宿主" title="可用的流浪者宿主" src="../img/idea/2019.1/py_vagrant_list_hosts.png" id="f915ea43" width="534" height="200"></figure>        </div>        <div class="chapter"><h3 id="3a6c65b3" data-toc="Using_the_Advanced_Vagrant_Features_in_product#3a6c65b3">使用SSH</h3>            <p id="c6b6f7fd">因此，在选择Vagrant之后，PyCharm使用SSH服务器连接到Vagrant机器并显示一个可以使用的终端：</p>            <figure><img alt="Vargant int他的终端" title="Vargant int他的终端" src="../img/idea/2019.1/py_vagrant_ssh_terminal.png" id="dd085685" width="750" height="654"></figure>            <p id="9f3525f3">在SSH终端中，您可以执行以下操作：</p>            <ul class="list _ul"><li class="list__item" id="71e57fa7"><p>使用向上和向下箭头键滚动命令历史记录</p></li><li class="list__item" id="8913fbd2"><p>执行剪贴板操作</p></li></ul>        </div>    </div>    <div class="chapter"><h2 id="shared-folders" data-toc="Using_the_Advanced_Vagrant_Features_in_product#shared-folders">使用共享文件夹</h2>        <p id="82e651dd">Vagrant允许在主机和Vagrant机器之间共享文件夹。例如，您可以使用这些文件夹自动将Web根目录内容从当前PyCharm项目映射到Vagrant机器上的Apache虚拟主机目录。</p>        <div class="chapter"><h3 id="7238c3e8" data-toc="Using_the_Advanced_Vagrant_Features_in_product#7238c3e8">添加路径映射</h3>           <p id="2aded245">打开<code class="code">Vagrantfile</code>进行编辑（ <kbd data-primary_default="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_default_for_xwin="F4" data-primary_emacs="F4" data-primary_visual_studio="F4" data-primary_netbeans="F4" data-primary_eclipse="F12" data-secondary_mac_os_x_10.5_="⌘↓" data-secondary_mac_os_x="F4" data-secondary_eclipse_mac_os_x="F3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="F4" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="F4">F4</kbd> ，并添加路径映射的配置条目：</p>            <div class="code-block" data-lang="Generic"><code class="code-block__wrapper">Vagrant.configure <span class="o">（</span> <span class="s2">“2”</span> <span class="o">）</span> <span class="k">执行</span> <span class="p">|</span>配置<span class="p">|</span> config.vm.synced_folder <span class="s2">“src /”</span> ， <span class="s2">“/ srv / website”</span>结束</code></div>        </div>        <div class="chapter"><h3 id="b9e3ae25" data-toc="Using_the_Advanced_Vagrant_Features_in_product#b9e3ae25">重新加载流浪汉</h3>            <p id="9fb586ca">选择<span class="menupath" data-skip-index="skip">Tools |</span>重新加载<code class="code">Vagrantfile</code> <span class="menupath" data-skip-index="skip">流浪汉|重新加载</span>主菜单：</p><figure><img alt="重新加入流浪汉" title="重新加入流浪汉" src="../img/idea/2019.1/vagrant_reload.png" id="55d606e3" width="434" height="512"></figure>            <p id="ce29369b">命令执行的结果显示在“运行”工具窗口中：</p>            <figure><img alt="流浪者重装结果" title="流浪者重装结果" src="../img/idea/2019.1/vagrant_reload_result.png" id="8b73cb92" width="742" height="430"></figure>            <p id="0f52642d">重新加载Vagrant机器后，可以使用新的路径映射。例如，当使用内置SSH终端连接到Vagrant机器时，我们会看到映射到PyCharm本地项目文件夹的<code class="code">/vagrant</code>文件夹的内容。注意：从此文件夹中删除文件将删除两端的文件！</p>        </div>    </div>    <div class="chapter"><h2 id="vagrant-instance-folder" data-toc="Using_the_Advanced_Vagrant_Features_in_product#vagrant-instance-folder">指定Vagrant实例文件夹</h2>        <p id="345cccee">默认情况下， <code class="code">Vagrantfile</code>和所有其他Vagrant细节（如Puppet清单）都放在PyCharm项目的根目录中。由于这并不总是令人满意，因此可以通过设置/首选项的<a href="vagrant.html"><span>Vagrant</span></a>页面配置PyCharm应该查找<code class="code">Vagrantfile</code>的实例文件夹：</p><figure><img alt="指定Vagrant实例文件夹" title="指定Vagrant实例文件夹" src="../img/idea/2019.1/vagrant_instance_folder.png" id="d0b37e77" width="709" height="360"></figure>    </div>    <div class="chapter"><h2 id="vagrant-plugin" data-toc="Using_the_Advanced_Vagrant_Features_in_product#vagrant-plugin">通过设置管理Vagrant插件</h2>        <p id="373fb7dd">在设置/首选项的<a href="vagrant.html"><span>Vagrant</span></a>页面中，您还可以管理Vagrant插件。在选项卡<span class="control">插件中</span> ，使用工具栏按钮安装，卸载和更新插件。</p>        <figure><img alt="添加Vagrant插件" title="添加Vagrant插件" src="../img/idea/2019.1/vagrant_pl.png" id="b0f84373" width="710" height="756"></figure>        <p id="0c75565e">您还可以安装许可证，例如，允许在VMWare上运行Vagrant计算机的<a href="https://www.vagrantup.com/docs/vmware/" data-bypass="yes" target="_blank"><span>VMWare Fusion Provider</span></a> 。</p>    </div>    <div class="chapter"><h2 id="providers" data-toc="Using_the_Advanced_Vagrant_Features_in_product#providers">提供商支持</h2>        <p id="83cf3f7c">Vagrant默认使用<a href="https://www.virtualbox.org/" data-bypass="yes" target="_blank"><span>Oracle VirtualBox</span></a>作为虚拟化平台。但是，您可以使用<span class="emphasis">提供程序</span>更改虚拟化平台，因此虚拟机可以由VirtualBox以外的系统运行，例如<a href="http://www.vmware.com/" data-bypass="yes" target="_blank"><span>VMWare</span></a>或<a href="https://aws.amazon.com/" data-bypass="yes" target="_blank"><span>Amazon EC2</span></a> 。在<a href="https://github.com/mitchellh/vagrant/wiki/Available-Vagrant-Plugins" data-bypass="yes" target="_blank"><span>Vagrant插件列表中</span></a>查找可用的提供程序。</p>        <p id="13827ac0">对于每个命令，您应该将提供程序传递给Vagrant。要简化此过程并让PyCharm自动将提供程序名称添加到每个Vagrant命令，请在设置/首选项的<a href="vagrant.html"><span>Vagrant</span></a>页面中指定提供程序。您可以从设置中获得计算机上安装的所有提供程序。选择后，将使用提供程序在PyCharm中执行所有Vagrant命令：</p>        <figure><img alt="重新定义流浪者提供者" title="重新定义流浪者提供者" src="../img/idea/2019.1/vagrant_provider.png" id="06afd069" width="710" height="352"></figure>    </div>    <div class="chapter"><h2 id="provision" data-toc="Using_the_Advanced_Vagrant_Features_in_product#provision">（重新）配置Vagrant机器</h2>        <p id="32c7e690"><code class="code">Vagrantfile</code>可以包含一系列配置程序，可以在虚拟机运行后启动安装和配置例程。</p>        <p id="48d888d9"><span class="menupath" data-skip-index="skip">工具|流浪汉| Provision</span>主菜单命令在已经运行的Vagrant机器上调用已配置的配置器，而不必先破坏虚拟机。</p>        <p id="b087c938">有关详细信息，请参阅<a href="https://www.vagrantup.com/docs/provisioning/index.html" data-bypass="yes" target="_blank"><span>配置</span></a>文档。</p>    </div>    <div class="chapter"><h2 id="env-var" data-toc="Using_the_Advanced_Vagrant_Features_in_product#env-var">使用环境变量</h2>        <p id="4243a203"><code class="code">Vagrantfile</code>中的环境变量可用于Puppet节点，Puppet环境，自定义事实，AWS密钥。</p>        <p id="5cabd79c">在“设置/首选项”对话框的“ <a href="vagrant.html"><span>Vagrant”</span></a>页面中，指定要传递给<code class="code">Vagrantfile</code>的特定于项目的环境变量：</p>        <figure><img alt="添加环境变量" title="添加环境变量" src="../img/idea/2019.1/vagrant_env_var.png" id="01163e99" width="490" height="886"></figure>        <p id="17ae3997">设置后，使用语法<code class="code">#{ENV['name_of_variable']}</code>在<code class="code">Vagrantfile</code>中引用这些环境变量：</p>        <figure><img alt="Vagrantfile中新添加的环境变量" title="Vagrantfile中新添加的环境变量" src="../img/idea/2019.1/vagrant_env_var_in_vagrantfile.png" id="0d68f89e" width="542" height="182"></figure>    </div><div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="vagrant-support.html">Vagrant</a> <a class="navigation-links__next" href="configuring-product-to-work-on-the-vm.html">配置PyCharm在VM上工作</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="vagrant.html"><span>流浪汉</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>语言和框架特定指南：</h3><ul class="list"><li class="list__item"><a href="vagrant-support.html"><span>流浪汉</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>外部链接：</h3><ul class="list"><li class="list__item"><a href="http://docs.vagrantup.com" data-bypass="yes" target="_blank"><span>http://docs.vagrantup.com</span></a></li><li class="list__item"><a href="https://www.virtualbox.org/" data-bypass="yes" target="_blank"><span>https://www.virtualbox.org/</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>