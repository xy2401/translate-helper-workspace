<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="javaintroduce.html"><meta charset="UTF-8"><title>Extract parameter - Help | IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="JavaIntroduce"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="javaintroduce.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="JavaIntroduce" id="JavaIntroduce.xml">Extract parameter</h1>            <p id="91b82294">The <span class="emphasis">Extract Parameter</span> refactoring lets you extract a new parameter to a method.</p>    <p id="16be4096">You can also use the <span class="emphasis">Extract Functional Parameter</span> refactoring. In this case IntelliJ IDEA        analyzes the selected code, finds out what the method signature would be         for the extracted fragment, finds all functional interfaces with this method        signature and wraps the code fragment with a anonymous class based on        the selected interface and uses this anonymous class as a parameter.    </p>    <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="3601761c"><p>            In the editor, place the cursor within the expression that you want to introduce as a parameter.        </p></li><li class="list__item" id="eec0a035"><p>Press <kbd data-primary_default="Ctrl+Alt+P" data-primary_default_for_gnome="Ctrl+Alt+P" data-primary_default_for_kde="Ctrl+Alt+P" data-primary_default_for_xwin="Ctrl+Alt+P" data-primary_emacs="Ctrl+Alt+P" data-primary_jbuilder="N/A" data-primary_visual_studio="Ctrl+Alt+P" data-primary_netbeans="Ctrl+Alt+P" data-primary_eclipse="Ctrl+Alt+P" data-secondary_mac_os_x_10.5_="⌥⌘P" data-secondary_mac_os_x="⌥⌘P" data-secondary_eclipse_mac_os_x="⌥⌘P" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥P">Ctrl+Alt+P</kbd> or on the main menu, select <span data-skip-index="skip" class="menupath">Refactor |            Extract | Parameter</span>.            If you want to extract a functional parameter, press <kbd data-primary_default="Ctrl+Shift+Alt+P" data-primary_default_for_gnome="Ctrl+Shift+Alt+P" data-primary_default_for_kde="Ctrl+Shift+Alt+P" data-primary_default_for_xwin="Ctrl+Shift+Alt+P" data-primary_emacs="Ctrl+Shift+Alt+P" data-primary_jbuilder="Ctrl+Shift+Alt+P" data-primary_visual_studio="Ctrl+Shift+Alt+P" data-primary_netbeans="N/A" data-primary_eclipse="Ctrl+Shift+Alt+P" data-secondary_mac_os_x_10.5_="⌥⇧⌘P" data-secondary_mac_os_x="⌥⇧⌘P" data-secondary_eclipse_mac_os_x="⌥⇧⌘P" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥⇧P">Ctrl+Shift+Alt+P</kbd> or on            the main menu, select <span data-skip-index="skip" class="menupath">Refactor | Extract | Functional Parameter</span>.        </p></li><li class="list__item" id="16f9ca19"><p>            Specify a name of the parameter, select the necessary options in the <span class="control">Extract Parameter</span>            pop-up.            For example, if you don't want to change the existing method calls, select the <span class="control">Delegate via            overloading method</span> checkbox.        </p></li><li class="list__item" id="97fdf4b2"><p>            If you need, press <kbd data-primary_default="Shift+Tab" data-primary_default_for_gnome="Shift+Tab" data-primary_default_for_kde="Shift+Tab" data-primary_default_for_xwin="Shift+Tab" data-primary_emacs="Shift+Tab" data-primary_jbuilder="Shift+Tab" data-primary_visual_studio="Shift+Tab" data-primary_netbeans="Shift+Tab" data-primary_eclipse="Shift+Tab" data-secondary_mac_os_x_10.5_="⇧⇥" data-secondary_mac_os_x="⇧⇥" data-secondary_eclipse_mac_os_x="⇧⇥" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⇧⇥">Shift+Tab</kbd> to change a type of the new parameter.            (If, at this step, you want to return to editing the parameter name, press <kbd data-primary_default="Tab" data-primary_default_for_gnome="Tab" data-primary_default_for_kde="Tab" data-primary_default_for_xwin="Tab" data-primary_emacs="Tab" data-primary_jbuilder="Tab" data-primary_visual_studio="Tab" data-primary_netbeans="Tab" data-primary_eclipse="Tab" data-secondary_mac_os_x_10.5_="⇥" data-secondary_mac_os_x="⇥" data-secondary_eclipse_mac_os_x="⇥" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⇥">Tab</kbd>.)        </p></li></ol></section>    <div class="chapter"><h2 id="extract_param_example">Extract parameter examples</h2>    <p id="3b04e6da">When extracting a new parameter you can either introduce a parameter into the existing method or use the    <span class="control">Delegate via overloading method</span> option to save the original method and define a new method        with your parameter.</p>    <p id="587347ac">Let's replace the string value <code class="code">"Hello, World!"</code> in the method <code class="code">generateText ()</code> with the new parameter <code class="code">text</code>. The value <code class="code">"Hello, World!"</code> is passed to the        method in the updated method call <code class="code">generateText("Hello, World!")</code>.    </p>        <div class="tabs" id="6ed82fa4"><div class="tabs__content" data-title="Java" id="ee849037">                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="9265dba9"><thead><tr id="c93b173b" class="ijRowHead"><th id="fba77f9c" width="50%"><p>Before</p></th><th id="47ed50f2" width="50%"><p>After</p></th></tr></thead><tbody><tr id="f6e88b57" class="ijRowOdd"><td id="a3d2ae7f"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldPrinter</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">generateText</span><span class="o">());</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">generateText</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;Hello, World!&quot;</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>                        </p></td><td id="336de89d"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldPrinter</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">generateText</span><span class="o">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="o">));</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">generateText</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>                        </p></td></tr></tbody></table></div>            </div><div class="tabs__content" data-title="Kotlin" id="166c47da">                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="1901a323"><thead><tr id="6e0af6e1" class="ijRowHead"><th id="58d673a9" width="50%"><p>Before</p></th><th id="2ec13cd9" width="50%"><p>After</p></th></tr></thead><tbody><tr id="137967c3" class="ijRowOdd"><td id="f3a42c74"><p>                            <div class="code-block" data-lang="Kotlin"><code class="code-block__wrapper"><span class="k">object</span> <span class="nc">HelloWorldPrinter</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">print</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">println</span><span class="p">(</span><span class="n">generateText</span><span class="p">())</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nf">generateText</span><span class="p">():</span> <span class="n">String</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">&quot;Hello, World!&quot;</span><span class="p">.</span><span class="n">toUpperCase</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>                        </p></td><td id="e607d2a7"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">object</span> <span class="n">HelloWorldPrinter</span> <span class="o">{</span>
    <span class="n">fun</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">println</span><span class="o">(</span><span class="n">generateText</span><span class="o">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="o">))</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">fun</span> <span class="nf">generateText</span><span class="o">(</span><span class="n">text</span><span class="o">:</span> <span class="n">String</span><span class="o">):</span> <span class="n">String</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">()</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>                        </p></td></tr></tbody></table></div>            </div></div>        <p id="b554f8d7">Now let's use <span class="control">Delegate via overloading method</span>. In this case, a new overloading method is        created and the new parameter is extracted in the definition of this        method (the second of the <code class="code">generateText()</code> methods). The signature of the existing        <code class="code">generateText()</code> method is not changed. However, the method itself has been modified. Now, it calls        the new <code class="code">generateText()</code> method and passes the value <code class="code">"Hello, World!"</code> to it in this call.        Note that the existing call of <code class="code">generateText()</code> (in the method <code class="code">print()</code>) is not changed.    </p>        <div class="tabs" id="7a027578"><div class="tabs__content" data-title="Java" id="af2798e3">                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="e7d4c7f4"><thead><tr id="32ec5c3a" class="ijRowHead"><th id="277cef66" width="50%"><p>Before</p></th><th id="d0f7dd16" width="50%"><p>After</p></th></tr></thead><tbody><tr id="ad6c4326" class="ijRowOdd"><td id="87c643e2"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldPrinter</span> <span class="o">{</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">generateText</span><span class="o">());</span>
<span class="o">}</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">generateText</span><span class="o">()</span> <span class="o">{</span>
<span class="k">return</span> <span class="s">&quot;Hello, World!&quot;</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">();</span>
<span class="o">}</span>
<span class="o">}</span></code></div>                        </p></td><td id="b5c07399"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldPrinter</span> <span class="o">{</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">generateText</span><span class="o">());</span>
<span class="o">}</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">generateText</span><span class="o">()</span> <span class="o">{</span>
<span class="k">return</span> <span class="n">generateText</span><span class="o">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="o">);</span>
<span class="o">}</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">generateText</span><span class="o">(</span><span class="n">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span>
<span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">();</span>
<span class="o">}</span>
<span class="o">}</span></code></div>                        </p></td></tr></tbody></table></div>            </div><div class="tabs__content" data-title="Kotlin" id="59016651">                <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="8f81e75b"><thead><tr id="1222aa7f" class="ijRowHead"><th id="7cab4493" width="50%"><p>Before</p></th><th id="67143a80" width="50%"><p>After</p></th></tr></thead><tbody><tr id="83789e56" class="ijRowOdd"><td id="d0dba7e8"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">object</span> <span class="n">HelloWorldPrinter</span> <span class="o">{</span>
    <span class="n">fun</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">println</span><span class="o">(</span><span class="n">generateText</span><span class="o">())</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">fun</span> <span class="nf">generateText</span><span class="o">():</span> <span class="n">String</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&quot;Hello, World!&quot;</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">()</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>                        </p></td><td id="83a67983"><p>                            <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="c1">// if you selected the &quot;Introduce default value&quot; option</span>

<span class="n">object</span> <span class="n">HelloWorldPrinter</span> <span class="o">{</span>
    <span class="n">fun</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">println</span><span class="o">(</span><span class="n">generateText</span><span class="o">())</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="n">fun</span> <span class="nf">generateText</span><span class="o">(</span><span class="n">text</span><span class="o">:</span> <span class="n">String</span> <span class="o">=</span> <span class="s">&quot;Hello, World!&quot;</span><span class="o">):</span> <span class="n">String</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">()</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>                        </p></td></tr></tbody></table></div>            </div></div>    </div>    <div class="chapter"><h2 id="functional_parameter">Functional parameter examples</h2>        <p id="41c9847f">            Let's perform the refactoring on <code class="code">System.out.println(s);</code>            within <code class="code">Hello.printHello()</code>.</p>        <p id="interface">            IntelliJ IDEA finds all functional interfaces with the appropriate method signature            (<code class="code">(String) -&gt; void</code>) and suggests that you select one of them.            (In this example, the interface <code class="code">Person</code> is selected.)</p>        <p id="74c2d698">As a result, the selected fragment (<code class="code">System.out.println(s);</code>) is wrapped with an anonymous class            based on the interface <code class="code">Person</code>.            This anonymous class is passed as a parameter to the call to <code class="code">printHello()</code>            within <code class="code">printText()</code>.</p>        <p id="7e1e55c4">            <code class="code">Person</code>            is added as a parameter to <code class="code">printHello()</code> and            the initially selected code fragment is replaced with the call to the method of the interface            (<code class="code">sayHello()</code>).        </p>        <aside class="tip sideblock" data-title="" rel="interface" id="08457626">            <p id="ecae89dd">Only the interfaces marked with <code class="code">@FunctionalInterface</code> or                ones belonging to well-known libraries such as Guava, Apache Collections, etc. are suggested.            </p>        </aside>        <div class="table-wrapper"><table class="                 " width="100%" id="61aeb318"><thead><tr id="eea091a8" class="ijRowHead"><th id="84aeb108"><p>Before</p></th><th id="abdf67ec"><p>After</p></th></tr></thead><tbody><tr id="20fdcfb8" class="ijRowOdd"><td id="db8eb75d"><p>                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="nd">@FunctionalInterface</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Person</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sayHello</span> <span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Hello</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">printHello</span> <span class="o">()</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">s</span><span class="o">=</span><span class="s">&quot;Hello&quot;</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">printText</span> <span class="o">()</span> <span class="o">{</span>
        <span class="n">printHello</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>                </p></td><td id="e4bac985"><p>                    <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="nd">@FunctionalInterface</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Person</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sayHello</span> <span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Hello</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">printHello</span><span class="o">(</span><span class="n">Person</span> <span class="n">person</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="o">;</span>
        <span class="n">person</span><span class="o">.</span><span class="na">sayHello</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">printText</span> <span class="o">()</span> <span class="o">{</span>
        <span class="n">printHello</span><span class="o">(</span><span class="k">new</span> <span class="n">Person</span><span class="o">()</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sayHello</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>                </p></td></tr></tbody></table></div>    </div>    <div class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="ece399e8">Special notes for the Extract Parameter refactoring</h2></div><div class="collapse__content">    <ul class="list _ul"><li class="list__item" id="ccc6d10e"><p>If you want a field to be provided as a new parameter in the method declaration, in a method call this                field will be presented as a field of a class instance.            </p></li><li class="list__item" id="b516ccfa"><p>If a class member is inaccessible (for instance, in the example above the field is private), it will be                inserted in a method call but will be highlighted as an error making this file uncompilable.            </p></li><li class="list__item" id="b4d3055c">If you use for the Extract Parameter refactoring a field with a getter, you will be prompted with an                extended dialog. The dialog has an option group <span class="control">Replace fields used in expressions with their                getters</span>:                <ul class="list _ul"><li class="list__item" id="ebc8e09b"><p>               <span class="control">Do not replace</span>: None of the fields will be replaced with calls to the getter.                    </p></li><li class="list__item" id="b5a03c6c"><p>               <span class="control">Replace fields inaccessible in usage context</span>: Only the fields that cannot be                        directly accessed from the usage context will be replaced with calls to the getter.                    </p></li><li class="list__item" id="fc0fc6b2"><p>               <span class="control">Replace all fields</span>: All fields will be replaced with calls to the getter.                    </p></li></ul>      </li><li class="list__item" id="bb6fa404">Applying the refactoring on a local variable will call the                <span class="control">Extract Parameter</span>                dialog box with additional checkboxes:                <ul class="list _ul"><li class="list__item" id="500eacfc"><p>               <span class="control">Replace all occurrences (&lt;number_of_occurrences&gt; occurrences)</span>: If                        enabled, all occurrences of the selected variable will be replaced with a parameter and the                        <span class="control">Delete variable definition</span>                        checkbox is enabled. Otherwise, only the selected variable usage will be replaced with a                        parameter.                    </p></li><li class="list__item" id="34d067c2"><p>               <span class="control">Delete variable definition</span>: If enabled, the variable definition will be                        deleted.                    </p></li><li class="list__item" id="5a25629e"><p>               <span class="control">Use variable initializer to initialize parameter</span>: If enabled, the variable                        initializer will be used to initialize the parameter in the method call.                    </p></li></ul>      </li></ul>    </div></div></div>    <div class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="side_effects">Side effects</h2></div><div class="collapse__content">    <p id="162ba153">Using the            <span class="control">Extract Parameter</span>            refactoring can have unexpected side effects if applied on class instances or expressions which are actual            method parameters. For instance, in case of such code:        </p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">class</span> <span class="nc">AClass</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">field</span><span class="o">;</span>
    <span class="kt">int</span> <span class="nf">method</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">field</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Usage</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">method</span><span class="o">(</span><span class="n">List</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="o">((</span><span class="n">AClass</span><span class="o">)</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">()).</span><span class="na">method</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>    <p id="efe35f87">The code after refactoring applied to the field <code class="code">field</code>:</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">class</span> <span class="nc">AClass</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">field</span><span class="o">;</span>
    <span class="kt">int</span> <span class="nf">method</span><span class="o">(</span><span class="kt">int</span> <span class="n">newfield</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">newfield</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Usage</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">method</span><span class="o">(</span><span class="n">List</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="na">iterator</span><span class="o">;</span> <span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">();</span> <span class="o">)</span> <span class="o">{</span>
            <span class="n">sum</span> <span class="o">+=</span> <span class="o">((</span><span class="n">AClass</span><span class="o">)</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">()).</span><span class="na">method</span><span class="o">(((</span><span class="n">AClass</span><span class="o">)</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">()).</span><span class="na">field</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></div>    <p id="43423d39">The iterator value is increased twice which is, actually, not the behavior you would expect.</p>    <p id="d3da5049">However, IntelliJ IDEA can use a temporary variable successfully and resolve such cases as increment/decrement/assignment            operations and the new keyword usage.            For instance:        </p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kt">int</span> <span class="nf">myMethod</span><span class="o">(</span><span class="n">List</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">anotherMethod</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">myMethod</span><span class="o">(</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">());</span>
<span class="o">}</span></code></div>    <p id="a0bc7a9c">Same code after refactoring looks as follows:</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kt">int</span> <span class="nf">myMethod</span><span class="o">(</span><span class="n">List</span> <span class="n">list</span><span class="o">,</span> <span class="kt">int</span> <span class="n">newPar</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">anotherMethod</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">final</span> <span class="n">ArrayList</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">();</span>
    <span class="n">myMethod</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>
<span class="o">}</span></code></div>    <p id="da169ca7">The new variable <code class="code">list</code> was created and all parameters used for the method call are provided using this variable.</p>    </div></div></div>    <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="extract-variable.html">Extract variable</a><a class="navigation-links__next" href="extract-into-class-refactorings.html">Extract into class refactorings</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="extract-parameter-refactoring-dialog.html"><span>Extract Parameter Dialog for Java</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























