<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="specific-typescript-refactorings.html"></link><meta charset="UTF-8"></meta><title>重构TypeScript  - 帮助| WebStorm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="reference.refactoring.change.signature.typescript"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索WebStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="specific-typescript-refactorings.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>WebStorm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="true"><h1 id="Specific_TypeScript_Refactorings.xml" data-toc="reference.refactoring.change.signature.typescript">重构TypeScript</h1>						    	<p id="dfd709f9">		        <a href="https://en.wikipedia.org/wiki/Code_refactoring" data-bypass="yes" target="_blank"><span>重构</span></a>意味着更新源代码而不改变应用程序的行为。重构可帮助您保持代码的稳定， <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" data-bypass="yes" target="_blank"><span>干燥</span></a>和易于维护。</p>	<div class="chapter"><h2 id="typescript_move_refactorings" data-toc="reference.refactoring.change.signature.typescript#typescript_move_refactorings">移动重构</h2>        <p id="46a08e14">除了<a href="refactoring-source-code.html#ws_refactoring_context_independent_refactorings_copy_rename_move_file_folder">移动文件和文件夹</a> ，WebStorm还允许您移动TypeScript顶级符号。<span class="emphasis">Move Symbol Refactoring</span>适用于ES6模块中的类，函数和变量。</p>			<section class="procedure-steps"><h2 id="typescript_move_top_level_symbols">移动类，函数或变量</h2><ol class="list _decimal"><li class="list__item" id="51a8b168">                        <p id="e64be8fe">选择要移动的符号。</p>                </li><li class="list__item" id="invoke_move">                    <p id="1dfef6cd">按<kbd data-primary_default="F6" data-primary_default_for_gnome="F6" data-primary_default_for_kde="F6" data-primary_default_for_xwin="F6" data-primary_emacs="F6" data-primary_visual_studio="F6" data-primary_eclipse="Shift+Alt+V" data-secondary_mac_os_x_10.5_="F6" data-secondary_mac_os_x="F6" data-secondary_eclipse_mac_os_x="⌥⌘V">F6</kbd>或选择<span class="menupath" data-skip-index="skip">Refactor |</span>从主菜单或选择的上下文菜单中<span class="menupath" data-skip-index="skip">移动</span> 。“ <span class="control">移动模块成员”</span>对话框打开。</p>                </li><li class="list__item" id="1d67a598">                    <p id="82a5d3af">指定目标文件并选择要移动的成员。</p>                </li><li class="list__item" id="a0bbe09e">                    <p id="135af0f6">默认情况下，WebStorm会自动将成员的可见性提升到所需级别。如果你想保持能见度水平不变，单击<span class="control">由于是</span>在<span class="control">能见度</span> 。</p>                </li></ol></section>			<aside class="tip sideblock" rel="invoke_move" id="2118fc57" data-title="">				<p id="942189d6">或者，选择<span class="menupath" data-skip-index="skip">Refactor |重构此</span>按钮或按<kbd data-primary_default="Ctrl+Shift+Alt+T" data-primary_default_for_gnome="Ctrl+Shift+Alt+T" data-primary_default_for_kde="Ctrl+Shift+Alt+T" data-primary_default_for_xwin="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_visual_studio="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-secondary_mac_os_x_10.5_="⌃T" data-secondary_mac_os_x="⌥⇧⌘T" data-secondary_eclipse_mac_os_x="⌃T">Ctrl + Shift + Alt + T</kbd> ，然后从列表中选择“ <span class="menupath" data-skip-index="skip">移动</span> ”。</p>			</aside>        	</div>    <div class="chapter"><h2 id="typescript_pull_member_up_refactoring" data-toc="reference.refactoring.change.signature.typescript#typescript_pull_member_up_refactoring">拉班级成员重构</h2>        <p id="94649ffa"><span class="emphasis">Pull Class Members Up</span>重构在类层次结构中向上移动类方法 - 从当前类到超类或它实现的接口。</p>        <p id="5fbd7c0f">假设您有一个<code class="code">AccountingDepartment</code>类，它扩展了一个抽象类<code class="code">Department</code>并实现了一个<code class="code">ReportingDepartment</code>接口。</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">abstract</span> <span class="kr">class</span> <span class="nx">Department</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="kr">public</span> <span class="nx">name</span> ： <span class="kt">string</span> <span class="p">）</span> <span class="p">{</span> <span class="p">}</span> <span class="nx">printName</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“部门名称：”</span> <span class="o">+</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">名称</span> <span class="p">）;</span> <span class="p"><span class="p">}}</span></span> <span class="kr">接口</span> <span class="nx">ReportingDepartment</span> <span class="p"><span class="nx"><span class="p"><span class="o">{generateReports（）：</span></span></span></span> <span class="k">无效</span> <span class="p">}</span> <span class="kr">类</span> <span class="nx">AccountingDepartment</span> <span class="kr">延伸</span> <span class="nx">部</span> <span class="kr">实现</span> <span class="nx">ReportingDepartment</span> <span class="p">{</span> <span class="kr">构造</span> <span class="p"><span class="p">（）{</span></span> <span class="kr">超级</span> <span class="p">（</span> <span class="s2">“会计和审计<span class="p">”）;</span></span> <span class="p">}</span> <span class="nx">printMeeting</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“会计部门每周一上午10点开会”</span> <span class="p">）;</span> <span class="p">}</span> <span class="nx">generateReports</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“生成会计报告......”</span> <span class="p">）;</span> <span class="p">}</span> <span class="p">}</span></code></div>                <p id="42373cae">            <span class="emphasis">示例1：将类方法移动到超类</span><br>在此示例中， <code class="code">PrintMeeting()</code>方法从<code class="code">AccountingDepartment</code>移动到<code class="code">Department</code> 。</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">abstract</span> <span class="kr">class</span> <span class="nx">Department</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="kr">public</span> <span class="nx">name</span> ： <span class="kt">string</span> <span class="p">）</span> <span class="p">{</span> <span class="p">}</span> <span class="nx">printName</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“部门名称：”</span> <span class="o">+</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">名称</span> <span class="p">）;</span> <span class="p">}</span> <span class="nx">printMeeting</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“会计部门每周一上午10点开会”</span> <span class="p">）;</span> <span class="p"><span class="p">}}</span></span> <span class="kr">接口</span> <span class="nx">ReportingDepartment</span> <span class="p"><span class="nx"><span class="p"><span class="o">{generateReports（）：</span></span></span></span> <span class="k">无效</span> <span class="p">}</span> <span class="kr">类</span> <span class="nx">AccountingDepartment</span> <span class="kr">延伸</span> <span class="nx">部</span> <span class="kr">实现</span> <span class="nx">ReportingDepartment</span> <span class="p">{</span> <span class="kr">构造</span> <span class="p"><span class="p">（）{</span></span> <span class="kr">超级</span> <span class="p">（</span> <span class="s2">“会计和审计<span class="p">”）;</span></span> <span class="p">}</span> <span class="nx">generateReports</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“生成会计报告......”</span> <span class="p">）;</span> <span class="p">}</span> <span class="p">}</span></code></div><figure id="19d8472c" width="600" height="310"><img class="js-gif" src="../img/idea/2019.1/ws_ts_refactoring_pull_members_up.png" width="600" data-gif-src="/help/img/idea/2019.1/ws_ts_refactoring_pull_members_up.animated.gif" style="width:600px"></figure>                <p id="d30dabac">            <span class="emphasis">示例2：将类方法移动到接口</span><br>在此示例中， <code class="code">PrintMeeting()</code>方法从<code class="code">AccountingDepartment</code>类复制到<code class="code">ReportingDepartment</code>接口。</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">abstract</span> <span class="kr">class</span> <span class="nx">Department</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="kr">public</span> <span class="nx">name</span> ： <span class="kt">string</span> <span class="p">）</span> <span class="p">{</span> <span class="p">}</span> <span class="nx">printName</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“部门名称：”</span> <span class="o">+</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">名称</span> <span class="p">）;</span> <span class="p"><span class="p">}}</span></span> <span class="kr">接口</span> <span class="nx">ReportingDepartment</span> <span class="p"><span class="nx"><span class="p"><span class="o">{generateReports（）：</span></span></span></span> <span class="k">无效</span> <span class="nx"><span class="p"><span class="o">printMeeting（）：</span></span></span> <span class="k">无效</span> <span class="p">}</span> <span class="kr">类</span> <span class="nx">AccountingDepartment</span> <span class="kr">延伸</span> <span class="nx">部</span> <span class="kr">实现</span> <span class="nx">ReportingDepartment</span> <span class="p">{</span> <span class="kr">构造</span> <span class="p"><span class="p">（）{</span></span> <span class="kr">超级</span> <span class="p">（</span> <span class="s2">“会计和审计<span class="p">”）;</span></span> <span class="p">}</span> <span class="nx">printMeeting</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“会计部门每周一上午10点开会”</span> <span class="p">）;</span> <span class="p">}</span> <span class="nx">generateReports</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“生成会计报告......”</span> <span class="p">）;</span> <span class="p">}</span> <span class="p">}</span></code></div>                <section class="procedure-steps"><h2 id="16822246">将类的方法移动到超类或接口</h2><ol class="list _decimal"><li class="list__item" id="e9f354a7"><p>将光标放在要从中拉出成员的类中的任何位置。</p></li><li class="list__item" id="1c29f5a5"><p>选择<span class="menupath" data-skip-index="skip">Refactor |</span>从主菜单或上下文menunu中<span class="menupath" data-skip-index="skip">拉出成员</span> 。将打开<span class="control">成员</span>对话框对话框。</p></li><li class="list__item" id="c41d11cb"><p>从列表中，选择要移动方法的超类或接口。</p></li><li class="list__item" id="01fbe4b7"><p>要提取方法，请在要提取的<span class="control">成员</span>列表中选中它旁边的复选框。如果适用，请选择要移动的方法旁边的<span class="control">“生成摘要”</span>复选框。</p></li></ol></section>    </div>	<div class="chapter"><h2 id="typescript_rename_refactorings" data-toc="reference.refactoring.change.signature.typescript#typescript_rename_refactorings">重命名重构</h2>        <p id="53e4ac04">除了<a href="refactoring-source-code.html#ws_refactoring_context_independent_refactorings_rename_file_folder">重命名文件和文件夹</a> （可在任何语言的上下文中使用）之外，您还可以重命名类，函数，变量和参数。WebStorm在其声明中更改符号的名称，默认情况下在当前项目中更改其所有用法。</p>        <section class="procedure-steps"><h2 id="f74980b8">重命名函数，类或变量</h2><ol class="list _decimal"><li class="list__item" id="cb589398"><p>在编辑器中，选择要重命名的符号，然后按<kbd data-primary_default="Shift+F6" data-primary_default_for_gnome="Shift+F6" data-primary_default_for_kde="Shift+F6" data-primary_default_for_xwin="Shift+F6" data-primary_emacs="Shift+F6" data-primary_visual_studio="Shift+F6" data-primary_eclipse="Shift+Alt+R" data-secondary_mac_os_x_10.5_="⇧F6" data-secondary_mac_os_x="⇧F6" data-secondary_eclipse_mac_os_x="⇧F6">Shift + F6</kbd>或选择<span class="menupath" data-skip-index="skip">Refactor |</span>从上下文菜单或主菜单<span class="menupath" data-skip-index="skip">重命名</span> 。</p></li><li class="list__item" id="d7bcfcfc"><p>在打开的“ <a href="rename-dialogs.html">重命名”对话框</a>中，键入符号的新名称。</p></li><li class="list__item" id="javascript_rename_refactorings_rename_search_in_comments_and text">可选：<ul class="list _bullet"><li class="list__item" id="6bab04d4"><p>选中“ <span class="control">在注释和字符串中</span> <span class="control">搜索”</span>和“ <span class="control">搜索文本实例”</span>复选框，以在注释，字符串文字，文档，HTML和项目中包含的其他文件中重命名函数或类的用法。</p></li><li class="list__item" id="2e08a4c5"><p>选中“ <span class="control">搜索JavaScript引用”</span>复选框，以重命名生成的JavaScript代码中的函数或类的用法。</p></li></ul>        </li><li class="list__item" id="27ac0753"><p>如有必要，请<a href="refactoring-source-code.html#ws_refactoring_general_procedure_preview">预览并应用更改</a> 。</p></li></ol></section>        <section class="procedure-steps"><h2 id="typescript_rename_refactorings_variable_parameter">要重命名参数</h2><ol class="list _decimal"><li class="list__item" id="9ebf1de7"><p>在编辑器中选择参数，然后按<kbd data-primary_default="Shift+F6" data-primary_default_for_gnome="Shift+F6" data-primary_default_for_kde="Shift+F6" data-primary_default_for_xwin="Shift+F6" data-primary_emacs="Shift+F6" data-primary_visual_studio="Shift+F6" data-primary_eclipse="Shift+Alt+R" data-secondary_mac_os_x_10.5_="⇧F6" data-secondary_mac_os_x="⇧F6" data-secondary_eclipse_mac_os_x="⇧F6">Shift + F6</kbd>或选择<span class="menupath" data-skip-index="skip">Refactor |</span>从上下文菜单或主菜单<span class="menupath" data-skip-index="skip">重命名</span> 。</p></li><li class="list__item" id="fcc919e2"><p>在所选参数周围带有红色画布的字段中，键入新参数名称。</p></li><li class="list__item" id="4d642e52"><p>按<kbd data-primary_default="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_default_for_xwin="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_eclipse="Enter" data-secondary_mac_os_x_10.5_="⏎" data-secondary_mac_os_x="⏎" data-secondary_eclipse_mac_os_x="⏎">Enter键</kbd>运行重构。</p></li></ol></section>    <div class="chapter"><h3 id="ws_ts_rename_refactoring_keep_names_in_compliance" data-toc="reference.refactoring.change.signature.typescript#ws_ts_rename_refactoring_keep_names_in_compliance">保持类的名称和包含文件的符合性</h3>        <p id="8124989d">重命名类时，WebStorm还建议重命名该文件，如果它具有相同的名称。如果您接受该建议，WebStorm将在其他文件的import语句中更新此文件的名称。</p>        <p id="06afc761">如果您拒绝此建议，则可以在以后使用<span class="control">重命名文件...</span>意图操作随时重命名该文件。如果您刚刚创建了一个新文件，但在开始在其中键入类或接口时提出了更好的名称，这将非常有用。另一个意图操作建议将类移动到具有相应名称的新文件。建议文件名的格式由“ <a href="settings-code-style-typescript.html#ws_settings_code_style_ts_code_generation">代码样式：JavaScript”</a>页面上的<a href="settings-code-style-typescript.html#ws_settings_code_style_ts_code_generation">“</a> <span class="control">文件名约定”</span>列表中选择的样式确定。</p>        <section class="procedure-steps"><h2 id="70cc8df0">保持文件名符合相应类的名称</h2><ol class="list _decimal"><li class="list__item" id="18daf3ce"><p>将光标放在类的名称上，然后按<kbd data-primary_default="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_default_for_xwin="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_visual_studio="Alt+Enter" data-primary_eclipse="Alt+Enter" data-secondary_mac_os_x_10.5_="⌥⏎" data-secondary_mac_os_x="⌥⏎" data-secondary_eclipse_mac_os_x="⌘1">Alt + Enter</kbd> 。</p></li><li class="list__item" id="45adee4b"><p>从意图列表中，选择<span class="control">将文件重命名为&lt;class_name.ts&gt;以匹配类名，</span>或选择<span class="control">将类&lt;class_name&gt;移动到文件&lt;class_name.ts&gt;</span> 。</p><figure><img alt="ws_ts_refactoring_rename_file_intention_custom_naming_convention.png" title="ws_ts_refactoring_rename_file_intention_custom_naming_convention.png" src="../img/idea/2019.1/ws_ts_refactoring_rename_file_intention_custom_naming_convention.png" id="7739d7e7" width="600" height="143"></figure>            </li></ol></section>    </div>	</div>    <div class="chapter"><h2 id="typescript_extract_refactorings" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_refactorings">提取重构</h2>        <p id="10dbc456">WebStorm提供了各种<span class="emphasis">Extract</span>重构来引入参数，变量，常量，字段，方法和函数。要运行任何这些重构，请选择要重构的表达式并选择<span class="menupath" data-skip-index="skip">Refactor |提取| &lt;target&gt;</span> 。您可以选择整个表达式或将光标放在其中的任何位置，WebStorm将帮助您进行选择。</p>        <div class="chapter"><h3 id="typescript_extract_parameter" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_parameter">提取参数</h3>            <p id="028d926b">使用<span class="emphasis">Extract Parameter</span>重构可以使用<span class="emphasis">参数</span>替换函数调用中的表达式。WebStorm将相应地更新声明和函数调用。新参数的默认值可以在函数体内初始化或通过函数调用传递。</p>                <p id="typescript_extract_parameter_examples">假设你在函数<code class="code">greeter()</code>有一段带有硬编码<code class="code">"Hello, "</code>的代码。</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">greeter</span> <span class="p">（</span> <span class="nx">firstName</span> ： <span class="kt">String</span> <span class="p">，</span> <span class="nx">lastName</span> ： <span class="kt">String</span> <span class="p">）</span> <span class="p">{</span> <span class="k">return</span> <span class="s2">“Hello，”</span> <span class="o">+</span> <span class="nx">firstName</span> <span class="o">+</span> <span class="s2">“”</span> <span class="o">+</span> <span class="nx">lastName</span> <span class="p">;</span> <span class="p">}</span> <span class="nb">文件</span> <span class="p">。</span> <span class="nx">身体</span> <span class="p">。</span> <span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">greeter</span> <span class="p">（</span> <span class="s2">“Jane”</span> <span class="p">，</span> <span class="s2">“User”</span> <span class="p">）;</span></code></div>使用Extract Parameter重构，您可以使用<code class="code">greeting</code>参数替换此硬编码的<code class="code">"Hello, "</code> 。可以将新<code class="code">greeting</code>参数提取为<span class="emphasis">可选</span>参数或根据<span class="emphasis">需要</span>提取。<p id="typescript_extract_parameter_examples_example_1_optional_parameter">                    <span class="emphasis">示例1：提取可选参数</span><br>提取新参数<code class="code">greeting</code>作为可选参数。使用函数default parameter syntax将新参数添加到<code class="code">greeter()</code>的定义中。<code class="code">greeter()</code>的调用没有改变。</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">greeter</span> <span class="p">（</span> <span class="nx">firstName</span> ： <span class="kt">String</span> <span class="p">，</span> <span class="nx">lastName</span> ： <span class="kt">String</span> <span class="p">，</span> <span class="nx">greeting</span> <span class="o">=</span> <span class="s2">“Hello，”</span> <span class="p">）</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">greeting</span> <span class="o">+</span> <span class="nx">firstName</span> <span class="o">+</span> <span class="s2">“”</span> <span class="o">+</span> <span class="nx">lastName</span> <span class="p">;</span> <span class="p">}</span> <span class="nb">文件</span> <span class="p">。</span> <span class="nx">身体</span> <span class="p">。</span> <span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">greeter</span> <span class="p">（</span> <span class="s2">“Jane”</span> <span class="p">，</span> <span class="s2">“User”</span> <span class="p">）;</span></code></div>                                <p id="typescript_extract_parameter_examples_example_2_required_parameter">                    <span class="emphasis">示例2：提取所需参数</span><br>在此示例中，将新参数<code class="code">greeting</code>提取为必需参数。因此相应的函数调用（ <code class="code">document.body.innerHTML = greeter(user);</code>更改。</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">greeter</span> <span class="p">（</span> <span class="nx">firstName</span> ： <span class="kt">String</span> <span class="p">，</span> <span class="nx">lastName</span> ： <span class="kt">String</span> <span class="p">，</span> <span class="nx">greeting</span> ： <span class="kt">string</span> <span class="p">）</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">greeting</span> <span class="o">+</span> <span class="nx">firstName</span> <span class="o">+</span> <span class="s2">“”</span> <span class="o">+</span> <span class="nx">lastName</span> <span class="p">;</span> <span class="p">}</span> <span class="nb">文件</span> <span class="p">。</span> <span class="nx">身体</span> <span class="p">。</span> <span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">greeter</span> <span class="p">（</span> <span class="s2">“Jane”</span> <span class="p">，</span> <span class="s2">“User”</span> <span class="p">，</span> <span class="s2">“Hello，”</span> <span class="p">）;</span></code></div>                            <aside class="tip sideblock" rel="typescript_extract_parameter_inplace_optional_required_default_value" id="406f76c9" data-title="">                <p id="b25d7b5b">从<a href="https://www.typescriptlang.org/docs/handbook/functions.html#optional-and-default-parameters" data-bypass="yes" target="_blank"><span>TypeScript</span></a>官方网站了解有关可选参数和默认参数的更多信息。</p>            </aside>            <section class="procedure-steps"><h2 id="typescript_extract_parameter_inplace_refactoring">提取参数</h2><ol class="list _decimal"><li class="list__item" id="typescript_extract_parameter_inplace_select_expression"><p>在编辑器中，将光标放在要转换为参数的表达式中，然后按<kbd data-primary_default="Ctrl+Alt+P" data-primary_default_for_gnome="Ctrl+Alt+P" data-primary_default_for_kde="Ctrl+Alt+P" data-primary_default_for_xwin="Ctrl+Alt+P" data-primary_emacs="Ctrl+Alt+P" data-primary_visual_studio="Ctrl+Alt+P" data-primary_eclipse="Ctrl+Alt+P" data-secondary_mac_os_x_10.5_="⌥⌘P" data-secondary_mac_os_x="⌥⌘P" data-secondary_eclipse_mac_os_x="⌥⌘P">Ctrl + Alt + P</kbd>或选择<span class="menupath" data-skip-index="skip">Refactor |。提取|参数</span>从上下文菜单或主菜单。</p></li><li class="list__item" id="6f0bbc67"><p>如果在当前光标位置检测到多个表达式，请从“ <span class="control">表达式”</span>列表中选择所需的<span class="control">表达式</span> 。</p><figure><img alt="ws_ts_extract_parameter_select_expression.png" title="ws_ts_extract_parameter_select_expression.png" src="../img/idea/2019.1/ws_ts_extract_parameter_select_expression.png" id="ab572a8e" width="600" height="228"></figure>                    </li><li class="list__item" id="9f4f36ac">                        <p id="23445add">如果找到多个选定表达式，请选择<span class="control">仅替换此事件</span>或从<span class="control">找到</span>的<span class="control">多个匹配项</span>列表中<span class="control">替换所有匹配项</span> 。最后，出现用于配置重构的弹出窗口。</p>                        <figure><img alt="ws_ts_extract_parameter_specify_parameter_name_and_type.png" title="ws_ts_extract_parameter_specify_parameter_name_and_type.png" src="../img/idea/2019.1/ws_ts_extract_parameter_specify_parameter_name_and_type.png" id="3d4577ce" width="600" height="210"></figure>                    </li><li class="list__item" id="bef6d766">                        <p id="6e2eecfb">选择<span class="control">Generate JSDoc</span>以<span class="control">生成JSDoc</span>注释块。如果您需要指定自定义默认参数值，这可能会有所帮助。从<a href="http://usejsdoc.org/tags-param.html" data-bypass="yes" target="_blank"><span>JSDoc</span></a>官方网站了解更多信息。</p>                    </li><li class="list__item" id="typescript_extract_parameter_inplace_optional_required_default_value">                        <p id="d2d11e79">选择初始化新参数的位置并指定其默认值（如果适用）：</p>                        <ul class="list _bullet"><li class="list__item" id="e1b31a4e">                                <p id="450dbed9">如果选中<span class="control">Optional parameter</span>复选框，则将使用函数体中的默认值初始化该参数。</p>                            </li><li class="list__item" id="57281483">                                <p id="7597816e">如果清除<span class="control">Optional参数</span>复选框，则默认参数值将通过现有函数调用传递。所有函数调用都将根据新的函数签名进行更改，并且参数初始化将添加到函数体中。</p>                            </li></ul>                        <p id="44abc7a4">最初，WebStorm接受调用重构作为默认值的表达式。在大多数情况下，您无需更改它。如果仍然需要，请以<code class="code">@param &lt;parameter name&gt; - &lt;default value&gt;</code>格式在JSDoc注释中指定另一个默认值。</p>                    </li><li class="list__item" id="b7da9eee">                        <p id="373a1bea">通过在列表中双击建议的参数名称，或者在红色画布的字段中指定自定义名称，接受其中一个建议的参数名称。准备好后按<kbd data-primary_default="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_default_for_xwin="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_eclipse="Enter" data-secondary_mac_os_x_10.5_="⏎" data-secondary_mac_os_x="⏎" data-secondary_eclipse_mac_os_x="⏎">Enter键</kbd> 。</p>                        <figure><img alt="ws_ts_extract_parameter_result.png" title="ws_ts_extract_parameter_result.png" src="../img/idea/2019.1/ws_ts_extract_parameter_result.png" id="53559bb4" width="600" height="160"></figure>                    </li></ol></section>            <div class="chapter"><h4 id="typescript_extract_parameter_procedure">选择重构模式</h4>                <p id="15ac26b3">您可以<a href="specific-typescript-refactorings.html#typescript_extract_parameter_inplace_refactoring">如上所述</a>在编辑器中（在就地模式下） <span class="control">提取参数</span> <a href="specific-typescript-refactorings.html#typescript_extract_parameter_inplace_refactoring">，</a>或使用“ <span class="control">提取参数”对话框</span> 。这两种方法相似，区别如下：</p>                <ul class="list _bullet"><li class="list__item" id="39266a84">                        <p id="0f0176c6">                        <a href="refactoring-source-code.html#ws_refactoring_general_procedure_preview">预览重构的结果</a> 。<br>在对话框中，可以单击“ <span class="control">预览”</span>并在“ <span class="control">查找”</span>工具窗口的专用选项卡中检查预期的更改。在就地模式下，此功能不可用。</p>                    </li><li class="list__item" id="4fbbd758">                        <p id="d5c3525e">                        <a href="specific-typescript-refactorings.html#typescript_extract_parameter_inplace_optional_required_default_value">指定默认参数值</a> 。<br>在对话框中，WebStorm在“ <span class="control">值”</span>字段中建议默认参数值，您可以在其中接受建议或指定其他值。在就地模式下，WebStorm将调用重构的表达式视为默认参数值。要指定另一个值，必须使用JSDoc注释块。</p>                    </li></ul>            </div>    </div>    <div class="chapter"><h3 id="typescript_extract_variable" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_variable">提取变量</h3>        <p id="ts_extract_var_intro">使用<span class="emphasis">Extract Variable</span>重构将表达式替换为<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#var-declarations" data-bypass="yes" target="_blank"><span>函数作用域变量（var）</span></a> ， <a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#let-declarations" data-bypass="yes" target="_blank"><span>块作用域变量（let）</span></a>或<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#const-declarations" data-bypass="yes" target="_blank"><span>块作用域常量（const）</span></a> 。这种重构使您的源代码更易于阅读和维护。它还可以帮助您避免使用硬编码常量，而无需对其值或目的进行任何解释。</p>        <p id="typescript_extract_variable_examples">            </p><div class="table-wrapper"><table class="no_header                  _layout-fixed" width="100%" id="928fe376"><tbody><tr id="dbce4915" class="ijRowOdd"><td id="295a0529" width="50%"><p>                        </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">乘法</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">（</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">）</span> <span class="o">*</span> <span class="p">（</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">）;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span> <span class="kd">VAR</span> <span class="nx">E</span> <span class="o">=</span> <span class="nx">乘法</span> <span class="p"><span class="mi"><span class="p"><span class="mi"><span class="p">（4，6）;</span></span></span></span></span></code></div>                    </td><td id="68741ace" width="50%"><p>                        </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">函数</span> <span class="nx">乘法</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">数字</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">数字</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">;</span> <span class="kd">设</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">（</span> <span class="nx">c</span> <span class="p">）</span> <span class="o">*</span> <span class="p">（</span> <span class="nx">c</span> <span class="p">）;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span> <span class="kd">VAR</span> <span class="nx">E</span> <span class="o">=</span> <span class="nx">乘法</span> <span class="p"><span class="mi"><span class="p"><span class="mi"><span class="p">（4，6）;</span></span></span></span></span></code></div>                    </td></tr></tbody></table></div>                <section class="procedure-steps"><h2 id="typescript_extract_variable_inplace_refactoring">提取变量</h2><ol class="list _decimal"><li class="list__item" id="js_refactoring_extract_variable_inline_select_expression"><p>在编辑器中，选择要转换为变量的表达式，然后按<kbd data-primary_default="Ctrl+Alt+V" data-primary_default_for_gnome="Ctrl+Alt+V" data-primary_default_for_kde="Shift+Alt+V" data-primary_default_for_xwin="Ctrl+Alt+V" data-primary_emacs="Ctrl+Alt+V" data-primary_visual_studio="Ctrl+Alt+V" data-primary_eclipse="Shift+Alt+L" data-secondary_mac_os_x_10.5_="⌥⌘V" data-secondary_mac_os_x="⌥⌘V" data-secondary_eclipse_mac_os_x="⌥⌘L">Ctrl + Alt + V</kbd>或选择<span class="menupath" data-skip-index="skip">Refactor |提取|</span>上下文菜单或主菜单中的<span class="menupath" data-skip-index="skip">变量</span> 。</p></li><li class="list__item" id="80c2beb5"><p>如果在当前光标位置检测到多个表达式，请从“ <span class="control">表达式”</span>列表中选择所需的<span class="control">表达式</span> 。</p><figure><img alt="ws_ts_refactoring_extract_variable_inplace_select_expression.png" title="ws_ts_refactoring_extract_variable_inplace_select_expression.png" src="../img/idea/2019.1/ws_ts_refactoring_extract_variable_inplace_select_expression.png" id="e3f3317d" width="600" height="236"></figure>                </li><li class="list__item" id="0e99524b">                    <p id="cef401da">如果找到多个选定表达式，请选择<span class="control">仅替换此事件</span>或从<span class="control">找到</span>的<span class="control">多个匹配项</span>列表中<span class="control">替换所有匹配项</span> 。</p>                    <figure><img alt="ws_ts_refactoring_extract_variable_inplace_multiple_occurrences.png" title="ws_ts_refactoring_extract_variable_inplace_multiple_occurrences.png" src="../img/idea/2019.1/ws_ts_refactoring_extract_variable_inplace_multiple_occurrences.png" id="7726546e" width="600" height="190"></figure>                    <p id="92575e17">最后，出现用于配置重构的弹出窗口。</p>                </li><li class="list__item" id="ts_refactoring_extract_variable_inplace_choose_declaration_statement">                    <p id="126b482c">从列表中，选择要在新变量的声明中使用的语句：</p>                    <ul class="list _bullet"><li class="list__item" id="a5e7a06a"><p>选择<span class="control">var</span>以引入<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#var-declarations" data-bypass="yes" target="_blank"><span>函数范围的变量</span></a> 。此变量可以在封闭函数中声明，也可以在任何函数外声明。</p></li><li class="list__item" id="699dca5b"><p>选择<span class="control">let</span>以引入<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#let-declarations" data-bypass="yes" target="_blank"><span>块范围的变量</span></a> 。</p></li><li class="list__item" id="ca7a9ea6"><p>选择<span class="control">const</span>以引入<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#const-declarations" data-bypass="yes" target="_blank"><span>块范围的常量</span></a> 。</p></li></ul>                    <figure><img alt="ws_ts_refactoring_extract_variable_inplace_choose_scope_type.png" title="ws_ts_refactoring_extract_variable_inplace_choose_scope_type.png" src="../img/idea/2019.1/ws_ts_refactoring_extract_variable_inplace_choose_scope_type.png" id="b152ec12" width="600" height="204"></figure>                </li><li class="list__item" id="502eacdc">                    <p id="3e5614ab">通过在列表中双击建议的变量名称或在字段中指定自定义名称来接受其中一个建议变量名称。准备好后按<kbd data-primary_default="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_default_for_xwin="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_eclipse="Enter" data-secondary_mac_os_x_10.5_="⏎" data-secondary_mac_os_x="⏎" data-secondary_eclipse_mac_os_x="⏎">Enter键</kbd> 。</p>                </li></ol></section>        <div class="chapter"><h4 id="typescript_extract_variable_procedure">选择重构模式</h4>            <p id="05284089">您可以<a href="specific-typescript-refactorings.html#typescript_extract_variable_inplace_refactoring">如上所述</a>在编辑器中（在就地模式下） <span class="control">提取变量</span> <a href="specific-typescript-refactorings.html#typescript_extract_variable_inplace_refactoring">，</a>或使用“ <span class="control">提取变量”对话框</span> 。默认情况下，WebStorm在就地模式下运行Extract Variable重构。要使用“ <span class="control">提取变量”</span>对话框，请在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘,">Ctrl + Alt + S</kbd> ）中单击“ <span class="control">编辑器”|一般</span> 。在打开的“ <a href="settings-editor-general.html">常规”页面</a>上，清除“ <span class="control">重构”</span>区域中的“ <span class="control">启用就地模式”</span>复选框。</p>        </div>    </div>    <div class="chapter"><h3 id="typescript_extract_field" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_field">提取字段</h3>        <p id="1349710e"><span class="emphasis">Extract Field</span>重构声明一个新字段并使用所选表达式对其进行初始化。原始表达式将替换为字段的用法。</p>            <p id="javascript_extract_field_examples">假设您有以下代码：</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">class</span> <span class="nx">Rectangle</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="kr">public</span> <span class="nx">height</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="kr">public</span> <span class="nx">width</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="k">this</span> <span class="p">。</span> <span class="nx">身高</span> <span class="o">=</span> <span class="nx">身高</span> <span class="p">;</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">width</span> <span class="p">;</span> <span class="p">}</span> <span class="nx">get</span> <span class="nx">area（）{</span> <span class="k">return</span> <span class="k">this</span> <span class="p">。</span> <span class="nx">calcArea</span> <span class="p">（）;</span> <span class="p">}</span> <span class="nx">calcArea（）{</span> <span class="k">返回</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">身高</span> <span class="o">*</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">宽度</span> <span class="p">;</span> <span class="p">}</span> <span class="p">}</span></code></div>在下面的所有三个示例中，提取了相同的字段<code class="code">_calcArea</code> 。这些示例说明了初始化提取字段的三种不同方法。<p id="typescript_extract_field_examples_example_1_field_initialized_in_enclosing_method">                <span class="emphasis">示例1：在封闭方法中初始化的提取字段_calcArea获取Area（）</span><br>                </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">class</span> <span class="nx">Rectangle</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="kr">public</span> <span class="nx">height</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="kr">public</span> <span class="nx">width</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="k">this</span> <span class="p">。</span> <span class="nx">身高</span> <span class="o">=</span> <span class="nx">身高</span> <span class="p">;</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">width</span> <span class="p">;</span> <span class="p">}</span> <span class="kr">private</span> <span class="nx">_calcArea</span> ： <span class="kt">number</span> <span class="p">;</span> <span class="nx">get</span> <span class="nx">area（）{</span> <span class="k">this</span> <span class="p">。</span> <span class="nx">_calcArea</span> <span class="o">=</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">calcArea</span> <span class="p">（）;</span> <span class="k">归还</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">_calcArea</span> <span class="p">;</span> <span class="p">}</span> <span class="nx">calcArea（）{</span> <span class="k">返回</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">身高</span> <span class="o">*</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">宽度</span> <span class="p">;</span> <span class="p">}</span> <span class="p">}</span></code></div>                        <p id="typescript_extract_field_examples_example_2_field_initialized_in_field_declaration">                <span class="emphasis">示例2：提取的字段_calcArea在其声明中初始化</span><br>                </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">class</span> <span class="nx">Rectangle</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="kr">public</span> <span class="nx">height</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="kr">public</span> <span class="nx">width</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="k">this</span> <span class="p">。</span> <span class="nx">身高</span> <span class="o">=</span> <span class="nx">身高</span> <span class="p">;</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">width</span> <span class="p">;</span> <span class="p">}</span> <span class="kr">private</span> <span class="nx">_calcArea</span> <span class="o">=</span> <span class="k">this</span> <span class="p">。</span> <span class="nx">calcArea</span> <span class="p">（）;</span> <span class="nx">get</span> <span class="nx">area（）{</span> <span class="k">return</span> <span class="k">this</span> <span class="p">。</span> <span class="nx">_calcArea</span> <span class="p">;</span> <span class="p">}</span> <span class="nx">calcArea（）{</span> <span class="k">返回</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">身高</span> <span class="o">*</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">宽度</span> <span class="p">;</span> <span class="p">}</span> <span class="p">}</span></code></div>                        <p id="typescript_extract_field_examples_example_3_field_initialized_in_constructor">                <span class="emphasis">示例3：提取的字段_calcArea在类的构造函数中初始化</span><br>                </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">class</span> <span class="nx">Rectangle</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="kr">public</span> <span class="nx">height</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="kr">public</span> <span class="nx">width</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="k">this</span> <span class="p">。</span> <span class="nx">_calcArea</span> <span class="o">=</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">calcArea</span> <span class="p">（）;</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">身高</span> <span class="o">=</span> <span class="nx">身高</span> <span class="p">;</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">width</span> <span class="o">=</span> <span class="nx">width</span> <span class="p">;</span> <span class="p">}</span> <span class="kr">private</span> <span class="nx">_calcArea</span> ： <span class="kt">number</span> <span class="p">;</span> <span class="nx">get</span> <span class="nx">area（）{</span> <span class="k">return</span> <span class="k">this</span> <span class="p">。</span> <span class="nx">_calcArea</span> <span class="p">;</span> <span class="p">}</span> <span class="nx">calcArea（）{</span> <span class="k">返回</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">身高</span> <span class="o">*</span> <span class="k">这个</span> <span class="p">。</span> <span class="nx">宽度</span> <span class="p">;</span> <span class="p">}</span> <span class="p">}</span></code></div>                    <section class="procedure-steps"><h2 id="extract_field_dialog">提取字段</h2><ol class="list _decimal"><li class="list__item" id="javascript_extract_field_dialog_select_expression"><p>在编辑器中，选择要转换为字段的表达式，然后按<kbd data-primary_default="Ctrl+Alt+F" data-primary_default_for_gnome="Ctrl+Alt+F" data-primary_default_for_kde="Ctrl+Alt+F" data-primary_default_for_xwin="Ctrl+Alt+F" data-primary_emacs="N/A" data-primary_visual_studio="Ctrl+Alt+F" data-primary_eclipse="Ctrl+Alt+F" data-secondary_mac_os_x_10.5_="⌥⌘F" data-secondary_mac_os_x="⌥⌘F" data-secondary_eclipse_mac_os_x="⌥⌘F">Ctrl + Alt + F</kbd>或选择<span class="menupath" data-skip-index="skip">Refactor |提取|</span>上下文菜单或主菜单中的<span class="menupath" data-skip-index="skip">字段</span> 。</p></li><li class="list__item" id="d5f70af2">                    <p id="b0101a80">在打开的“ <a href="extract-field-dialog.html">提取字段”对话框</a>中：</p>                    <ul class="list _ul"><li class="list__item" id="ebcc6312">                            <p id="3936b640">指定字段名称和<a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" data-bypass="yes" target="_blank"><span>类型</span></a> 。</p>                        </li><li class="list__item" id="81cbf87c">                            <p id="ae324f2b">选择新字段的初始化位置，可用选项包括：</p>                            <ul class="list _bullet"><li class="list__item" id="73e903f1">                                    <p id="4b2f4146">                                    <span class="control">目前的方法</span> ，见<a href="specific-typescript-refactorings.html#typescript_extract_field_examples_example_1_field_initialized_in_enclosing_method">例1</a> 。</p>                                </li><li class="list__item" id="c20990f0">                                    <p id="086811bc">                                        <span class="control">字段声明</span> ，请参见<a href="specific-typescript-refactorings.html#typescript_extract_field_examples_example_2_field_initialized_in_field_declaration">示例2</a> 。</p>                                </li><li class="list__item" id="8f20ad09">                                    <p id="583de91f">                                        <span class="control">类构造函数</span> ，请参见<a href="specific-typescript-refactorings.html#typescript_extract_field_examples_example_3_field_initialized_in_constructor">示例3</a> 。</p>                                </li></ul>                        </li><li class="list__item" id="6e72c9d1">                            <p id="bd24b97a">选择字段可见性，可用选项包括<span class="control">Public</span> ， <span class="control">Private</span>和<span class="control">Protected</span> 。从<a href="https://www.typescriptlang.org/docs/handbook/classes.html#public-private-and-protected-modifiers" data-bypass="yes" target="_blank"><span>TypeScript</span></a>官方网站了解字段可见性修饰符</p>                        </li></ul>                    <figure><img alt="ws_ts_extract_field_dialog_1.png" title="ws_ts_extract_field_dialog_1.png" src="../img/idea/2019.1/ws_ts_extract_field_dialog_1.png" id="32b4ce50" width="600" height="426"></figure>                </li></ol></section>    </div>    <div class="chapter"><h3 id="typescript_extract_method" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_method">提取方法</h3>        <aside class="tip sideblock" rel="typescript_extract_function_select_expression" id="4ca5dec5" data-title="">            <p id="f2ae36b3">所选代码片段不一定必须是一组语句。它也可能是代码中某处使用的表达式。</p>        </aside>        <p id="68b20267"><span class="emphasis">Extract Method</span>重构允许您使用提取的代码创建命名方法或函数。调用<span class="emphasis">Extract Method</span>重构时，WebStorm会检测作为所选代码片段输入的变量以及作为其输出的变量。检测到的输出变量用作提取的方法或函数的返回值。</p>        <p id="typescript_extract_method_examples_example_1_global_from_expression_inside_another_function">            <span class="emphasis">示例1：从另一个方法内的表达式中提取全局方法</span><br>在这个例子中，从<code class="code">let c = a + b;</code>提取全局范围的方法<code class="code">NewMethod()</code> <code class="code">let c = a + b;</code>表达。从<code class="code">let c = a + b;</code>中检索提取方法的参数<code class="code">let c = a + b;</code>表达。</p>        <p id="typescript_extract_method_examples_example_1_1_global_inside_another_function_function_declaration_generated">            <span class="emphasis">例1.1：生成函数声明</span></p><div class="table-wrapper"><table class="no_header                  _layout-fixed" width="100%" id="be3b2529"><tbody><tr id="16ed95c3" class="ijRowOdd"><td id="459ef8c9" width="50%"><p>                    </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">MyFunction</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">;</span> <span class="kd">设</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">c</span> <span class="o">*</span> <span class="nx">c</span> <span class="p">;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span></code></div>                </td><td id="74e5b2c2" width="50%"><p>                    </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">函数</span> <span class="nx">NewMethod</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">;</span> <span class="k">返回</span> <span class="nx">c</span> <span class="p">;</span> <span class="p">}</span> <span class="kd">函数</span> <span class="nx">MyFunction的</span> <span class="p">（</span> <span class="nx">一个</span> ： <span class="kt">数</span> <span class="p"><span class="nx">，B：</span></span> <span class="kt">数</span> <span class="p"><span class="p">）{</span></span> <span class="kd">设</span> <span class="nx">C</span> <span class="o">=</span> <span class="nx"><span class="p"><span class="nx"><span class="p"><span class="nx"><span class="p">NewMethod（A，B）;</span></span></span></span></span></span> <span class="kd">设</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">c</span> <span class="o">*</span> <span class="nx">c</span> <span class="p">;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span></code></div>                </td></tr></tbody></table></div>                <p id="typescript_extract_method_examples_example_1_2_global_inside_another_function_declaration_inside_expression">            <span class="emphasis">例1.2：提取的函数在表达式中声明</span>        </p><div class="table-wrapper"><table class="no_header                  _layout-fixed" width="100%" id="c8b07b16"><tbody><tr id="32c001b7" class="ijRowOdd"><td id="c2913a35" width="50%"><p>                    </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">MyFunction</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">;</span> <span class="kd">设</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">c</span> <span class="o">*</span> <span class="nx">c</span> <span class="p">;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span></code></div>                </td><td id="b235a9c5" width="50%"><p>                    </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">让</span> <span class="nx">NewMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">;</span> <span class="k">返回</span> <span class="nx">c</span> <span class="p">;</span> <span class="p">};</span> <span class="kd">function</span> <span class="nx">MyFunction</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">NewMethod</span> <span class="p">（</span> <span class="nx">a</span> <span class="p">，</span> <span class="nx">b</span> <span class="p">）;</span> <span class="kd">设</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">c</span> <span class="o">*</span> <span class="nx">c</span> <span class="p">;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span></code></div>                </td></tr></tbody></table></div>                <p id="typescript_extract_method_examples_example_2_local_from_inside_another_function">            <span class="emphasis">示例2：在封闭方法中提取带声明的方法</span><br>在这个例子中，从<code class="code">let c = a + b;</code>提取出一个方法<code class="code">NewMethod()</code> <code class="code">let c = a + b;</code>表达。选择目标范围<code class="code">function MyFunction</code> 。</p>            <div class="table-wrapper"><table class="no_header                  _layout-fixed" width="100%" id="ba5e5c0f"><tbody><tr id="29771c81" class="ijRowOdd"><td id="4abd7d4d" width="50%"><p>                        </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">MyFunction</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">;</span> <span class="kd">设</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">c</span> <span class="o">*</span> <span class="nx">c</span> <span class="p">;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span></code></div>                    </td><td id="3c0aa742" width="50%"><p>                        </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">MyFunction</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">NewMethod</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">（）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">;</span> <span class="k">返回</span> <span class="nx">c</span> <span class="p">;</span> <span class="p">};</span> <span class="kd">设</span> <span class="nx">c</span> <span class="o">=</span> <span class="nx">NewMethod</span> <span class="p">（）;</span> <span class="kd">设</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx">c</span> <span class="o">*</span> <span class="nx">c</span> <span class="p">;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span></code></div>                    </td></tr></tbody></table></div>        <p id="c0c2296e">            <span class="emphasis">示例3：从任何方法之外的表达式中提取方法</span><br>从<code class="code">var e = MyFunction(4, 6);</code> <code class="code">NewMethod()</code>中提取<code class="code">NewMethod()</code>方法<code class="code">var e = MyFunction(4, 6);</code>任何方法之外的表达式。提取的方法是全局范围的。</p>        <div class="table-wrapper"><table class="no_header                  _layout-fixed" width="100%" id="2d0730be"><tbody><tr id="bf80668e" class="ijRowOdd"><td id="f7f6004e" width="50%"><p>                    </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">VAR</span> <span class="nx">E</span> <span class="o">=</span> <span class="nx">MyFunction的</span> <span class="p"><span class="mi"><span class="p"><span class="mi"><span class="p">（4,6）;</span></span></span></span></span></code></div>                </td><td id="360a3b33" width="50%"><p>                    </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">让</span> <span class="nx">NewMethod</span> <span class="o">=</span> <span class="kd">函数</span> <span class="p"><span class="p">（）{</span></span> <span class="kd">风险</span> <span class="nx">E</span> <span class="o">=</span> <span class="nx">MyFunction的</span> <span class="p"><span class="mi"><span class="p"><span class="mi"><span class="p">（4,6）;</span></span></span></span></span> <span class="p">};</span> <span class="nx">NewMethod</span> <span class="p">（）;</span></code></div>                </td></tr></tbody></table></div>                <section class="procedure-steps"><h2 id="typescript_extract_method_procedure">提取功能</h2><ol class="list _decimal"><li class="list__item" id="typescript_extract_function_select_expression"><p>在编辑器中，选择要转换为函数的代码片段，然后按<kbd data-primary_default="Ctrl+Alt+M" data-primary_default_for_gnome="Ctrl+Alt+M" data-primary_default_for_kde="Ctrl+Alt+M" data-primary_default_for_xwin="Ctrl+Alt+M" data-primary_emacs="Ctrl+Alt+M" data-primary_visual_studio="Ctrl+Alt+M" data-primary_eclipse="Shift+Alt+M" data-secondary_mac_os_x_10.5_="⌥⌘M" data-secondary_mac_os_x="⌥⌘M" data-secondary_eclipse_mac_os_x="⌥⌘M">Ctrl + Alt + M</kbd>或选择<span class="menupath" data-skip-index="skip">Refactor |提取|</span>从上下文菜单或从主菜单<span class="menupath" data-skip-index="skip">的方法</span> 。</p></li><li class="list__item" id="typescript_refactoring_extract_method_choose_destination_scope">                    <p id="6a81dcd6">如果所选表达式位于另一个函数内，请从列表中选择目标范围：</p>                    <figure><img alt="ws_ts_extract_method_choose_scope.png" title="ws_ts_extract_method_choose_scope.png" src="../img/idea/2019.1/ws_ts_extract_method_choose_scope.png" id="5606af2d" width="600" height="144"></figure>                    <ul class="list _ul"><li class="list__item" id="c19556f7">                            <p id="e2483522">如果选择<span class="control">全局</span> ，则提取的函数将在任何函数外声明，请参见上面的<a href="specific-typescript-refactorings.html#typescript_extract_method_examples_example_1_global_from_expression_inside_another_function">示例1</a> 。</p>                        </li><li class="list__item" id="2b0046f2">                            <p id="88c3cb37">要在当前封闭函数中声明提取的函数，请选择<span class="control">函数&lt;current enclosing function name&gt;</span> ，参见上面的<a href="specific-typescript-refactorings.html#typescript_extract_method_examples_example_2_local_from_inside_another_function">示例2</a> 。</p>                        </li></ul>                </li><li class="list__item" id="3cb681a0">                <p id="e0709a4a">要打开包含更多选项的“ <a href="extract-method-dialog.html">提取功能”</a>对话框，请再次按<kbd data-primary_default="Ctrl+Alt+M" data-primary_default_for_gnome="Ctrl+Alt+M" data-primary_default_for_kde="Ctrl+Alt+M" data-primary_default_for_xwin="Ctrl+Alt+M" data-primary_emacs="Ctrl+Alt+M" data-primary_visual_studio="Ctrl+Alt+M" data-primary_eclipse="Shift+Alt+M" data-secondary_mac_os_x_10.5_="⌥⌘M" data-secondary_mac_os_x="⌥⌘M" data-secondary_eclipse_mac_os_x="⌥⌘M">Ctrl + Alt + M.</kbd>在此对话框中，您可以选择是通过生成的<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function" data-bypass="yes" target="_blank"><span>函数声明</span></a>还是<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/function" data-bypass="yes" target="_blank"><span>在表达式内</span></a> <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/function" data-bypass="yes" target="_blank"><span>声明</span></a>提取的函数，并将变量集配置为作为参数传递。见<a href="specific-typescript-refactorings.html#typescript_extract_method_examples_example_1_1_global_inside_another_function_function_declaration_generated">上面的例子</a> 。</p>                <figure><img alt="ws_ts_extract_method_dialog.png" title="ws_ts_extract_method_dialog.png" src="../img/idea/2019.1/ws_ts_extract_method_dialog.png" id="99a42447" width="600" height="426"></figure>            </li></ol></section>        <section class="procedure-steps"><h2 id="7a9abc3a">默认情况下打开“提取功能”对话框</h2><ul class="list _no-style"><li class="list__item" id="9f1619f5"><p>在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘,">Ctrl + Alt + S</kbd> ）中，单击“ <span class="control">编辑器”|一般</span> 。在打开的“ <a href="settings-editor-general.html">常规”页面</a>上，清除“ <span class="control">重构”</span>区域中的“ <span class="control">启用就地模式”</span>复选框。</p></li></ul></section>    </div>        <div class="chapter"><h3 id="typescript_extract_type_alias" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_type_alias">提取类型别名</h3>            <p id="0699bf99">使用此重构将类型声明表达式转换为<a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-aliases" data-bypass="yes" target="_blank"><span>类型别名，</span></a>并使用此别名替换此表达式的所有匹配项。</p><figure id="844a6ccc" width="600" height="310"><img class="js-gif" src="../img/idea/2019.1/ws_ts_type_alias_to_interface.png" width="600" data-gif-src="/help/img/idea/2019.1/ws_ts_type_alias_to_interface.animated.gif" style="width:600px"></figure>                        <p id="b89adba9">假设您有以下带有<code class="code">{ z: number }</code>类型声明的代码片段：</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">returnsObj</span> <span class="p">（）</span> <span class="o">：</span> <span class="p">{</span> <span class="nx">x</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">y</span> <span class="o">：</span> <span class="p">{</span> <span class="nx">z</span> ： <span class="kt">number</span> <span class="p">}</span> <span class="p">}</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">null</span> <span class="p">}</span> <span class="kd">function</span> <span class="nx">anotherObjectReturned</span> <span class="p">（）</span> <span class="o">：</span> <span class="p">{</span> <span class="nx">x</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">y</span> <span class="o">：</span> <span class="p">{</span> <span class="nx">z</span> ： <span class="kt">number</span> <span class="p">}</span> <span class="p">}</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">null</span> <span class="p">}</span></code></div>在下面的示例中，从<code class="code">{ z: number }</code>类型声明中提取类型别名<code class="code">MyNewAlias</code> ：<div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="nx">输入</span> <span class="nx">MyNewAlias</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">z</span> ： <span class="kt">number</span> <span class="p">};</span> <span class="kd">结</span> <span class="nx"><span class="p"><span class="o"><span class="p"><span class="nx">returnsObj（）：{X：</span></span></span></span></span> <span class="kt">编号</span> <span class="p"><span class="nx"><span class="kt"><span class="p">，y：MyNewAlias}</span></span></span></span> <span class="p">{</span> <span class="k">返回</span> <span class="kc">null</span> <span class="kd">结</span> <span class="nx"><span class="p"><span class="o"><span class="p"><span class="nx">anotherObjectReturned（）：{X：</span></span></span></span></span> <span class="kt">编号</span> <span class="p"><span class="nx"><span class="kt"><span class="p">，y：MyNewAlias}</span></span></span></span> <span class="p">{</span> <span class="k">返回</span> <span class="kc">空</span></code></div>                        <section class="procedure-steps"><h2 id="d5dca972">提取类型别名</h2><ol class="list _decimal"><li class="list__item" id="typescript_extract_type_alias_select_expression"><p>在编辑器中，将光标放在要用类型别名替换的表达式中，然后选择<span class="menupath" data-skip-index="skip">Refactor |提取|</span>从上下文菜单或主菜单中<span class="menupath" data-skip-index="skip">键入Alias</span> 。</p></li><li class="list__item" id="7ed01ac3"><p>如果在当前光标位置检测到多个表达式，请从“ <span class="control">表达式”</span>列表中选择所需的<span class="control">表达式</span> 。</p><figure><img alt="ws_ts_extract_type_alias_select_type_declaration_expression.png" title="ws_ts_extract_type_alias_select_type_declaration_expression.png" src="../img/idea/2019.1/ws_ts_extract_type_alias_select_type_declaration_expression.png" id="2eaacb90" width="600" height="152"></figure>                    </li><li class="list__item" id="d6c0d73e"><p>如果找到多个选定表达式，请选择<span class="control">仅替换此事件</span>或从<span class="control">找到</span>的<span class="control">多个匹配项</span>列表中<span class="control">替换所有匹配项</span> 。</p><figure><img alt="ws_ts_extract_type_alias_multiple_occurrences.png" title="ws_ts_extract_type_alias_multiple_occurrences.png" src="../img/idea/2019.1/ws_ts_extract_type_alias_multiple_occurrences.png" id="6d381fea" width="600" height="142"></figure>                    </li><li class="list__item" id="376037c5"><p>在该字段中，键入类型别名的名称，并在准备好后按<kbd data-primary_default="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_default_for_xwin="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_eclipse="Enter" data-secondary_mac_os_x_10.5_="⏎" data-secondary_mac_os_x="⏎" data-secondary_eclipse_mac_os_x="⏎">Enter键</kbd> 。</p><figure><img alt="ws_ts_extract_type_alias_specify_name.png" title="ws_ts_extract_type_alias_specify_name.png" src="../img/idea/2019.1/ws_ts_extract_type_alias_specify_name.png" id="68b58a6b" width="600" height="184"></figure>                    </li></ol></section>        </div>        <div class="chapter"><h3 id="typescript_extract_superclass" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_superclass">提取超类</h3>            <p id="96496d32"><span class="emphasis">Extract Superclass</span>重构基于当前类的成员创建新的抽象类。创建的抽象类会自动扩展。</p>            <p id="96a671ee">假设您有一个<code class="code">AccountingDepartment</code>类，并且您希望重新使用它的<code class="code">printName()</code>方法。</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">class</span> <span class="nx">AccountingDepartment</span> <span class="p">{</span> <span class="nx">name</span> ： <span class="kt">string</span> <span class="p">;</span> <span class="nx">printName</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“部门名称：”</span> <span class="o">+</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">名称</span> <span class="p">）;</span> <span class="p">}</span> <span class="nx">printMeeting</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“会计部门每周一上午10点开会”</span> <span class="p">）;</span> <span class="p">}</span> <span class="nx">generateReports</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“生成会计报告......”</span> <span class="p">）;</span> <span class="p">}</span> <span class="p">}</span></code></div>您可以提取超类<code class="code">Department</code>并在其中包含<code class="code">printName</code>和<code class="code">Name</code>字段。<div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">class</span> <span class="nx">Department</span> <span class="p">{</span> <span class="nx">name</span> ： <span class="kt">string</span> <span class="p">;</span> <span class="nx">printName</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“部门名称：”</span> <span class="o">+</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">名称</span> <span class="p">）;</span> <span class="p"><span class="p">}}</span></span> <span class="kr">类</span> <span class="nx">AccountingDepartment</span> <span class="kr">扩展</span> <span class="nx">部</span> <span class="p"><span class="nx"><span class="p"><span class="o">{printMeeting（）：</span></span></span></span> <span class="k">无效</span> <span class="p">{</span> <span class="nx">控制台</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“会计部门每周一上午10点开会”</span> <span class="p">）;</span> <span class="p">}</span> <span class="nx">generateReports</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“生成会计报告......”</span> <span class="p">）;</span> <span class="p">}</span> <span class="p">}</span></code></div>                        <section class="procedure-steps"><h2 id="27e70f3e">提取超类</h2><ol class="list _decimal"><li class="list__item" id="809ec823"><p>将光标放在要从中提取超类的类中的任何位置。</p></li><li class="list__item" id="3a53a46e"><p>选择<span class="menupath" data-skip-index="skip">Refactor |提取|</span>主菜单中的<span class="menupath" data-skip-index="skip">超类</span>或来自menunu的上下文。“ <span class="control">提取超类”</span>对话框将打开。</p></li><li class="list__item" id="6a02a56d"><p>指定新超类的名称，然后选择要包含在其中的类成员旁边的复选框。</p></li><li class="list__item" id="bc31dee2"><p>在“ <span class="control">目标文件”</span>字段中，指定新类所在文件的位置。默认情况下，该字段显示调用重构的当前文件的路径。</p></li><li class="list__item" id="e0e98cbb"><p>选择<span class="control">Extract Superclass</span> 。WebStorm创建一个新类，并使用<code class="code">extends</code>标记源类。<br>要创建超<span class="control">类并使用</span>对方法参数中的超类的引用替换对源类的引用，请选择<span class="control">Extract superclass并尽可能使用它</span> 。WebStorm在“ <span class="control">查找”</span>工具窗口的“ <span class="control">重构预览”</span>窗格中显示建议的更改。</p></li></ol></section>        </div>        <div class="chapter"><h3 id="typescript_extract_interface" data-toc="reference.refactoring.change.signature.typescript#typescript_extract_interface">提取界面</h3>            <p id="fbe0eeaf"><span class="control">Extract Interface</span>重构基于当前类的成员创建新接口。创建的界面将自动实现。</p>            <p id="c3517bd2">假设您有一个<code class="code">AccountingDepartment</code>类，并且您希望它的<code class="code">generateReports()</code>方法将具有其他实现。</p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">abstract</span> <span class="kr">class</span> <span class="nx">Department</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="kr">public</span> <span class="nx">name</span> ： <span class="kt">string</span> <span class="p">）</span> <span class="p">{</span> <span class="p">}</span> <span class="nx">printName</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“部门名称：”</span> <span class="o">+</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">名称</span> <span class="p">）;</span> <span class="p"><span class="p">}}</span></span> <span class="kr">类</span> <span class="nx">AccountingDepartment</span> <span class="kr">延伸</span> <span class="nx">部</span> <span class="p">{</span> <span class="kr">构造</span> <span class="p"><span class="p">（）{</span></span> <span class="kr">超级</span> <span class="p">（</span> <span class="s2">“会计和审计<span class="p">”）;</span></span> <span class="p">}</span> <span class="nx">printMeeting</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“会计部门每周一上午10点开会”</span> <span class="p">）;</span> <span class="p">}</span> <span class="nx">generateReports</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“生成会计报告......”</span> <span class="p">）;</span> <span class="p">}</span> <span class="p">}</span></code></div>您可以提取<code class="code">DepartmentInterface</code>接口并在其中包含<code class="code">generateReports()</code> 。<div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">abstract</span> <span class="kr">class</span> <span class="nx">Department</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="kr">public</span> <span class="nx">name</span> ： <span class="kt">string</span> <span class="p">）</span> <span class="p">{</span> <span class="p">}</span> <span class="nx">printName</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“部门名称：”</span> <span class="o">+</span> <span class="k">此</span> <span class="p">。</span> <span class="nx">名称</span> <span class="p">）;</span> <span class="p"><span class="p">}}</span></span> <span class="kr">接口</span> <span class="nx">DepartmentInterface</span> <span class="p"><span class="nx"><span class="p"><span class="o">{generateReports（）：</span></span></span></span> <span class="k">无效</span> <span class="p">;</span> <span class="p">}</span> <span class="kr">类</span> <span class="nx">AccountingDepartment</span> <span class="kr">extends</span> <span class="nx">Department</span> <span class="kr">实现</span> <span class="nx">DepartmentInterface</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（）</span> <span class="p">{</span> <span class="kr">super</span> <span class="p">（</span> <span class="s2">“Accounting and Auditing”</span> <span class="p">）;</span> <span class="p">}</span> <span class="nx">printMeeting</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“会计部门每周一上午10点开会”</span> <span class="p">）;</span> <span class="p">}</span> <span class="nx">generateReports</span> <span class="p">（）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="nx">console</span> <span class="p">。</span> <span class="nx">log</span> <span class="p">（</span> <span class="s2">“生成会计报告......”</span> <span class="p">）;</span> <span class="p">}</span> <span class="p">}</span></code></div>                        <section class="procedure-steps"><h2 id="9a088cc4">提取界面</h2><ol class="list _decimal"><li class="list__item" id="3f41131e"><p>将光标放在要从中提取接口的类的任何位置。</p></li><li class="list__item" id="289b1d66"><p>选择<span class="menupath" data-skip-index="skip">Refactor |提取|接口</span>从主菜单或从上下文menunu。“ <span class="control">提取接口”</span>对话框将打开。</p></li><li class="list__item" id="40b25d72"><p>指定新界面的名称，然后选择要包含在其中的类成员旁边的复选框。</p></li><li class="list__item" id="9f0fb81c"><p>在“ <span class="control">目标文件”</span>字段中，指定新接口所在文件的位置。默认情况下，该字段显示调用重构的当前文件的路径。</p></li><li class="list__item" id="683fae02"><p>选择<span class="control">Extract Interface</span> 。WebStorm创建一个新接口并将源类标记为其实现。<br>要创建<span class="control">接口并使用</span>对方法参数中的接口的引用替换对源类的引用，请选择<span class="control">Extract interface并尽可能使用它</span> 。WebStorm在“ <span class="control">查找”</span>工具窗口的“ <span class="control">重构预览”</span>窗格中显示建议的更改。请注意，如果实例引用了接口中未定义的方法或字段，则WebStorm不会建议替换它。</p></li></ol></section>        </div>        <div class="chapter"><h3 id="ws_ts_refactoring_extract_object_array_destructuring" data-toc="reference.refactoring.change.signature.typescript#ws_ts_refactoring_extract_object_array_destructuring">提取对象或数组解构</h3>            <aside class="tip sideblock" rel="ws_ts_refactoring_extract_object_array_destructuring_intro" id="fce34f3b" data-title="">                <p id="da27665a">有关详细信息，请参阅<a href="https://www.typescriptlang.org/docs/handbook/variable-declarations.html#destructuring" data-bypass="yes" target="_blank"><span>TypeScript官方网站</span></a> 。</p>            </aside>            <aside class="tip sideblock" rel="ws_ts_refactoring_extract_object_array_destructuring_proc_step_2" id="303e5d2d" data-title="">                <p id="d6f710dd">或者，选择<span class="menupath" data-skip-index="skip">Refactor |提取|</span>上下文菜单或主菜单中的<span class="menupath" data-skip-index="skip">对象或数组解构</span> 。</p>            </aside>            <p id="ws_ts_refactoring_extract_object_array_destructuring_intro">通过解构，您可以轻松地将数组和对象中的值解压缩到变量中。此功能具有非常简洁的语法，当您需要在应用程序中传递数据时，通常会使用该语法。</p>            <p id="4351a4a7">在WebStorm中，您可以使用许多意图操作和快速修复来简化从数组或对象中获取多个值的代码片段。<span class="emphasis">Extract Object或Array Destructuring</span> refactoring是<a href="typescript-support.html#ws_ts_destructuring_procedure_step_2">Introduce对象或数组解构意图操作</a>的替代方法，它保留原始分配。</p>            <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="7217b555"><p>将光标放在数组或对象的值上。</p></li><li class="list__item" id="ws_ts_refactoring_extract_object_array_destructuring_proc_step_2"><p>按<kbd data-primary_default="Ctrl+Shift+Alt+T" data-primary_default_for_gnome="Ctrl+Shift+Alt+T" data-primary_default_for_kde="Ctrl+Shift+Alt+T" data-primary_default_for_xwin="Ctrl+Shift+Alt+T" data-primary_emacs="Ctrl+Shift+Alt+T" data-primary_visual_studio="Ctrl+Shift+Alt+T" data-primary_eclipse="Ctrl+Shift+Alt+T" data-secondary_mac_os_x_10.5_="⌃T" data-secondary_mac_os_x="⌥⇧⌘T" data-secondary_eclipse_mac_os_x="⌃T">Ctrl + Shift + Alt + T</kbd>并从<span class="control">Refactor This</span> popup中选择<span class="control">Object或Array Destructuring</span> 。</p></li><li class="list__item" id="94e848b8"><p>指定是要替换所有出现的对象还是仅替换当前对象。</p></li></ol></section>        </div>    </div>    <div class="chapter"><h2 id="typescript_inline_refactorings" data-toc="reference.refactoring.change.signature.typescript#typescript_inline_refactorings">内联重构</h2>        <p id="a35a51fc">内联重构与<a href="specific-typescript-refactorings.html#typescript_extract_refactorings">Extract重构</a>相反。</p>            <p id="typescript_inline_variable_example">                <span class="emphasis">示例1：内联变量</span><br><span class="emphasis">内联变量</span>重构用其初始化器替换变量或常量的冗余使用。这种类型的重构仅适用于块作用域和函数作用域的变量。</p>            <div class="table-wrapper"><table class="no_header                  _layout-fixed" width="100%" id="487a297a"><tbody><tr id="23d98aef" class="ijRowOdd"><td id="108a09ea" width="50%"><p>                        </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">功能</span> <span class="nx">乘法</span> <span class="p"><span class="nx">（A：</span></span> <span class="kt">数</span> <span class="p"><span class="nx">，B：</span></span> <span class="kt">数</span> <span class="p"><span class="p">）{</span></span> <span class="kd">让</span> <span class="err"><span class="o">с=</span></span> <span class="nx">A</span> <span class="o">+</span> <span class="nx"><span class="p">B;</span></span> <span class="kd">设</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">（</span> <span class="err">с</span> <span class="p">）</span> <span class="o">*</span> <span class="p">（</span> <span class="err">с</span> <span class="p">）;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span></code></div>                    </td><td id="09b42047" width="50%"><p>                        </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">乘法</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">（（</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">））</span> <span class="o">*</span> <span class="p">（（</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">））;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span></code></div>                    </td></tr></tbody></table></div>            <p id="typescript_inline_method">                <span class="emphasis">示例2：内联方法</span><br><span class="emphasis">内联方法</span> / <span class="emphasis">内联函数</span>重构导致将方法或函数的主体放入其调用者的主体中;方法/功能本身被删除。<br>在下面的示例中， <code class="code">Sum()</code>的主体放置在<code class="code">Multiplication()</code>的主体中。</p>        <div class="table-wrapper"><table class="no_header                  _layout-fixed" width="100%" id="4a3fe55d"><tbody><tr id="203ca240" class="ijRowOdd"><td id="c4413817" width="50%"><p>                    </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">函数</span> <span class="nx">Sum</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">;</span> <span class="p">}</span> <span class="kd">功能</span> <span class="nx">乘法</span> <span class="p"><span class="nx">（A：</span></span> <span class="kt">数</span> <span class="p"><span class="nx">，B：</span></span> <span class="kt">数</span> <span class="p"><span class="p">）{</span></span> <span class="kd">让</span> <span class="nx">d</span> <span class="o">=</span> <span class="nx"><span class="p"><span class="nx"><span class="p"><span class="nx"><span class="p"><span class="o">SUM（A，B）*</span></span></span></span></span></span></span> <span class="nx">总和</span> <span class="p"><span class="nx"><span class="p"><span class="nx"><span class="p">（A，B）;</span></span></span></span></span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span> <span class="kd">VAR</span> <span class="nx">E</span> <span class="o">=</span> <span class="nx">乘法</span> <span class="p"><span class="mi"><span class="p"><span class="mi"><span class="p">（4，6）;</span></span></span></span></span></code></div>                </td><td id="9f2062d2" width="50%"><p>                    </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kd">function</span> <span class="nx">乘法</span> <span class="p">（</span> <span class="nx">a</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">b</span> ： <span class="kt">number</span> <span class="p">）</span> <span class="p">{</span> <span class="kd">let</span> <span class="nx">d</span> <span class="o">=</span> <span class="p">（</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">）</span> <span class="o">*</span> <span class="p">（</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span> <span class="p">）;</span> <span class="k">返回</span> <span class="nx">d</span> <span class="p">;</span> <span class="p">}</span> <span class="kd">VAR</span> <span class="nx">E</span> <span class="o">=</span> <span class="nx">乘法</span> <span class="p"><span class="mi"><span class="p"><span class="mi"><span class="p">（4，6）;</span></span></span></span></span></code></div>                </td></tr></tbody></table></div>        <section class="procedure-steps"><h2 id="typescript_inline_refactorings_procedure">运行Inline重构</h2><ol class="list _decimal"><li class="list__item" id="85128645"><p>在编辑器中，将光标放在要内联的符号上，然后按<kbd data-primary_default="Ctrl+Alt+N" data-primary_default_for_gnome="Ctrl+Alt+N" data-primary_default_for_kde="Ctrl+Alt+N" data-primary_default_for_xwin="Ctrl+Alt+N" data-primary_emacs="Ctrl+Alt+N" data-primary_visual_studio="Ctrl+Alt+N" data-primary_eclipse="Shift+Alt+I" data-secondary_mac_os_x_10.5_="⌥⌘N" data-secondary_mac_os_x="⌥⌘N" data-secondary_eclipse_mac_os_x="⌥⌘I">Ctrl + Alt + N</kbd>或选择<span class="menupath" data-skip-index="skip">Refactor |</span>从上下文菜单或主菜单中<span class="menupath" data-skip-index="skip">内联</span> 。</p></li><li class="list__item" id="79f9719a"><p>在与所选符号对应的“ <span class="control">内联”</span>对话框中，确认内联重构。</p><figure><img alt="ws_ts_extract_variable.png" title="ws_ts_extract_variable.png" src="../img/idea/2019.1/ws_ts_extract_variable.png" id="107ea5bb" width="600" height="314"></figure>                </li></ol></section>    </div>	<div class="chapter"><h2 id="typescript_change_signature" data-toc="reference.refactoring.change.signature.typescript#typescript_change_signature">更改签名重构</h2>		<aside class="tip sideblock" rel="typescript_change_signature_intro" id="0ce386f4" data-title="">			<p id="d9e2883d">您还可以使用“ <a href="specific-typescript-refactorings.html#typescript_extract_parameter">提取参数”</a>重构添加参数。</p>		</aside>		<aside class="tip sideblock" rel="typescript_change_signature_run" id="0eb933d7" data-title="">			<p id="934a950f">要立即执行重构，请单击“ <span class="control">重构”</span> 。</p>		</aside>        <aside class="tip sideblock" rel="typescript_change_signature_change_visibility" id="846bd093" data-title="">            <p id="43a7b1b1">配置可见性仅适用于类中定义的函数。</p>        </aside>		<aside class="tip sideblock" rel="add_params" id="acdbb19d" data-title="">			<p id="ddb0fd49">如有必要， <a href="specific-typescript-refactorings.html#propagate_params">将新参数传播</a>到调用当前函数的函数。</p>		</aside>		<p id="typescript_change_signature_intro">使用<span class="emphasis">Change Signature</span>重构更改函数名称，可见性和返回类型，以添加，删除，重新排序和重命名参数，以及通过调用层次结构传播新参数。</p>            <p id="typescript_change_signature_code_example">在下面的示例中，函数<code class="code">eat()</code>被重命名为<code class="code">feed()</code>并引入了一个新的<code class="code">boolean</code>参数<code class="code">isMammal</code> 。</p>            <div class="table-wrapper"><table class="no_header                  _layout-fixed" width="100%" id="8604962a"><tbody><tr id="6c61083a" class="ijRowOdd"><td id="2da56fbb" width="50%"><p>                        </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">class</span> <span class="nx">Animal</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="nx">age</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">name</span> ： <span class="kt">string</span> <span class="p">）{</span> <span class="p">}</span> <span class="nx">eat</span> <span class="p">（</span> <span class="nx">food</span> ： <span class="kt">string</span> <span class="p">[]）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="p">}</span> <span class="p">}</span> <span class="kd">let</span> <span class="nx">Max</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Animal</span> <span class="p">（</span> <span class="mi">23</span> <span class="p">，</span> <span class="s1">'Max'</span> <span class="p">）;</span> <span class="nx">最大</span> <span class="p">。</span> <span class="nx">吃</span> <span class="p">（[</span> <span class="s1">'Apple'</span> <span class="p">，</span> <span class="s1">'Parsley'</span> <span class="p">））;</span> <span class="kd">让</span> <span class="nx">Daisy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Animal</span> <span class="p">（</span> <span class="mi">12</span> <span class="p">，</span> <span class="s1">'Daisy'</span> <span class="p">）;</span> <span class="nx">菊花</span> <span class="p">。</span> <span class="nx">吃</span> <span class="p">（[</span> <span class="s1">'猪肉'</span> <span class="p">，</span> <span class="s1">'鱼'</span> <span class="p">））;</span></code></div>                    </td><td id="ed34219f" width="50%"><p>                        </p><div class="code-block" data-lang="Typescript"><code class="code-block__wrapper"><span class="kr">class</span> <span class="nx">Animal</span> <span class="p">{</span> <span class="kr">constructor</span> <span class="p">（</span> <span class="nx">age</span> ： <span class="kt">number</span> <span class="p">，</span> <span class="nx">name</span> ： <span class="kt">string</span> <span class="p">）{</span> <span class="p">}</span> <span class="nx">feed</span> <span class="p">（</span> <span class="nx">food</span> ： <span class="kt">string</span> <span class="p">[]，</span> <span class="nx">isMammal</span> ： <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">true</span> <span class="p">）</span> <span class="o">：</span> <span class="k">void</span> <span class="p">{</span> <span class="p">}</span> <span class="p">}</span> <span class="kd">let</span> <span class="nx">Max</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Animal</span> <span class="p">（</span> <span class="mi">23</span> <span class="p">，</span> <span class="s1">'Max'</span> <span class="p">）;</span> <span class="nx">最大</span> <span class="p">。</span> <span class="nx">饲料</span> <span class="p">（[</span> <span class="s1">'Apple'</span> <span class="p">，</span> <span class="s1">'Parsley'</span> <span class="p">]，</span> <span class="kc">假</span> <span class="p">）;</span> <span class="kd">让</span> <span class="nx">Daisy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Animal</span> <span class="p">（</span> <span class="mi">12</span> <span class="p">，</span> <span class="s1">'Daisy'</span> <span class="p">）;</span> <span class="nx">菊花</span> <span class="p">。</span> <span class="nx">饲料</span> <span class="p">（[</span> <span class="s1">'猪肉'</span> <span class="p">，</span> <span class="s1">'鱼'</span> <span class="p">]，</span> <span class="kc">假</span> <span class="p">）;</span></code></div>                    </td></tr></tbody></table></div>		<section class="procedure-steps"><h2 id="typescript_change_signature_proc">调用更改签名</h2><ul class="list _no-style"><li class="list__item" id="de225ccc"><p>在编辑器中，将光标放在要重构的函数名称中，然后按<kbd data-primary_default="Ctrl+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_default_for_xwin="Ctrl+F6" data-primary_emacs="Ctrl+F6" data-primary_visual_studio="Ctrl+F6" data-primary_eclipse="Shift+Alt+C" data-secondary_mac_os_x_10.5_="⌘F6" data-secondary_mac_os_x="⌘F6" data-secondary_eclipse_mac_os_x="⌥⌘C">Ctrl + F6</kbd>或选择<span class="control">Refactor |</span>从上下文菜单或主菜单中<span class="control">更改签名</span> 。“ <span class="control">更改签名”</span>对话框将打开。</p></li></ul></section>		<section class="procedure-steps"><h2 id="typescript_change_signature_change_function_name">要重命名功能</h2><ul class="list _no-style"><li class="list__item" id="0f38cd1c"><p>在“ <span class="control">更改签名”</span>对话框（ <kbd data-primary_default="Ctrl+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_default_for_xwin="Ctrl+F6" data-primary_emacs="Ctrl+F6" data-primary_visual_studio="Ctrl+F6" data-primary_eclipse="Shift+Alt+C" data-secondary_mac_os_x_10.5_="⌘F6" data-secondary_mac_os_x="⌘F6" data-secondary_eclipse_mac_os_x="⌥⌘C">Ctrl + F6</kbd> ）中，编辑“ <span class="control">名称”</span>字段。</p></li></ul></section>        <section class="procedure-steps"><h2 id="typescript_change_signature_return_type">更改函数的返回类型</h2><ul class="list _no-style"><li class="list__item" id="e455bab3"><p>在“ <span class="control">返回类型”</span>字段中，指定函数返回的值的类型。如果该字段为空，则返回类型将被视为<code class="code">void</code> 。从<a href="https://www.typescriptlang.org/docs/handbook/functions.html#writing-the-function-type" data-bypass="yes" target="_blank"><span>TypeScript</span></a>官方网站了解有关返回类型的更多信息。</p></li></ul></section>        <section class="procedure-steps"><h2 id="typescript_change_signature_change_visibility">更改功能的可见性</h2><ul class="list _no-style"><li class="list__item" id="4c762d09">                <p id="2f86f6f8">从“ <span class="control">可见性”</span>列表中，选择一个<a href="https://www.typescriptlang.org/docs/handbook/classes.html#public-private-and-protected-modifiers" data-bypass="yes" target="_blank"><span>函数修饰符</span></a> ，可用选项为<a href="https://www.typescriptlang.org/docs/handbook/classes.html#public-by-default" data-bypass="yes" target="_blank"><span>public（默认）</span></a> ， <a href="https://www.typescriptlang.org/docs/handbook/classes.html#understanding-private" data-bypass="yes" target="_blank"><span>private</span></a>和<a href="https://www.typescriptlang.org/docs/handbook/classes.html#understanding-protected" data-bypass="yes" target="_blank"><span>protected</span></a> 。</p>            </li></ul></section>		<section class="procedure-steps"><h2 id="manage_params">管理功能参数</h2><ul class="list _no-style"><li class="list__item" id="055bbf59">                <p id="9ee227a7">在“ <span class="control">更改签名”</span>对话框（ <kbd data-primary_default="Ctrl+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_default_for_xwin="Ctrl+F6" data-primary_emacs="Ctrl+F6" data-primary_visual_studio="Ctrl+F6" data-primary_eclipse="Shift+Alt+C" data-secondary_mac_os_x_10.5_="⌘F6" data-secondary_mac_os_x="⌘F6" data-secondary_eclipse_mac_os_x="⌥⌘C">Ctrl + F6</kbd> ）中，使用参数表和右侧的按钮：</p>			<ul class="list _bullet"><li class="list__item" id="add_params">                    <p id="7757d3a6">要添加参数，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="添加按钮"> （ <kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_visual_studio="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N">Alt + Insert</kbd> ）并指定新参数的名称及其类型。指定参数的默认值或通过函数调用传递的值。</p>				</li><li class="list__item" id="3e87619b">                    <p id="03ad89dc">要删除参数，请单击相应行中的任何单元格，然后单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.remove.svg@2x.png" width="16" alt="删除按钮"> （ <kbd data-primary_default="Alt+Delete" data-primary_default_for_gnome="Alt+Delete" data-primary_default_for_kde="Alt+Delete" data-primary_default_for_xwin="Alt+Delete" data-primary_emacs="N/A" data-primary_visual_studio="Alt+Delete" data-primary_eclipse="Alt+Delete" data-secondary_mac_os_x_10.5_="⌘⌦" data-secondary_mac_os_x="⌘⌦" data-secondary_eclipse_mac_os_x="N/A">Alt + Delete</kbd> ）。</p>				</li><li class="list__item" id="d659b3ed">                    <p id="d7a785dc">要重新排序参数，请在可选参数之前列出所需参数，使用<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.previousOccurence.svg@2x.png" width="16" alt="向上按钮"> （ <kbd data-primary_default="Alt+Up" data-primary_default_for_gnome="Alt+Up" data-primary_default_for_kde="Alt+Up" data-primary_default_for_xwin="Alt+Up" data-primary_emacs="Alt+Up" data-primary_visual_studio="Alt+Up" data-primary_eclipse="Ctrl+Shift+Up" data-secondary_mac_os_x_10.5_="⌃↑" data-secondary_mac_os_x="⌃↑" data-secondary_eclipse_mac_os_x="⌃⌥↑">Alt + Up</kbd> ）和<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.nextOccurence.svg@2x.png" width="16" alt="向下按钮"> （ <kbd data-primary_default="Alt+Down" data-primary_default_for_gnome="Alt+Down" data-primary_default_for_kde="Alt+Down" data-primary_default_for_xwin="Alt+Down" data-primary_emacs="Alt+Down" data-primary_visual_studio="Alt+Down" data-primary_eclipse="Ctrl+Shift+Down" data-secondary_mac_os_x_10.5_="⌃↓" data-secondary_mac_os_x="⌃↓" data-secondary_eclipse_mac_os_x="⌃⌥↓">Alt + Down</kbd> ）。从<a href="https://www.typescriptlang.org/docs/handbook/functions.html#optional-and-default-parameters" data-bypass="yes" target="_blank"><span>TypeScript</span></a>官方网站了解有关必需参数和可选参数的更多信息。</p>				</li><li class="list__item" id="63a0ddc7">                    <p id="b255183b">要重命名参数，请编辑“ <span class="control">名称”</span>字段。</p>				</li></ul>            </li></ul></section>		<section class="procedure-steps"><h2 id="propagate_params">沿着调用层次传播参数</h2><ol class="list _decimal"><li class="list__item" id="f513d62b"><p>在“ <span class="control">更改签名”</span>对话框（ <kbd data-primary_default="Ctrl+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_default_for_xwin="Ctrl+F6" data-primary_emacs="Ctrl+F6" data-primary_visual_studio="Ctrl+F6" data-primary_eclipse="Shift+Alt+C" data-secondary_mac_os_x_10.5_="⌘F6" data-secondary_mac_os_x="⌘F6" data-secondary_eclipse_mac_os_x="⌥⌘C">Ctrl + F6</kbd> ）中，选择参数并单击<img alt="传播按钮" title="传播按钮" src="../img/idea/2019.1/propagateParameters.png" id="efb52088" width="13" height="17" class="inline-icon-13"> 。将打开“ <span class="control">选择传播新参数的方法”</span>对话框。左侧窗格显示函数调用的层次结构。当您选择一个函数时，右侧窗格将分别显示其代码以及它在<span class="control">Caller Method</span>和<span class="control">Callee Method</span>字段中调用的函数的代码。</p></li><li class="list__item" id="b136b120"><p>在左侧窗格中，选中要传播参数的函数旁边的复选框，然后单击“ <span class="control">确定”</span> 。</p></li></ol></section>        <section class="procedure-steps"><h2 id="typescript_change_signature_run">预览更改并完成重构</h2><ol class="list _decimal"><li class="list__item" id="b16580fc"><p>在“ <span class="control">更改签名”</span>对话框（ <kbd data-primary_default="Ctrl+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_default_for_xwin="Ctrl+F6" data-primary_emacs="Ctrl+F6" data-primary_visual_studio="Ctrl+F6" data-primary_eclipse="Shift+Alt+C" data-secondary_mac_os_x_10.5_="⌘F6" data-secondary_mac_os_x="⌘F6" data-secondary_eclipse_mac_os_x="⌥⌘C">Ctrl + F6</kbd> ）中，单击“ <span class="control">预览”</span> 。</p></li><li class="list__item" id="2a228a88"><p>在“ <a href="find-tool-window.html">查找”工具窗口</a>的“ <span class="control">重构预览”</span>选项卡中， <a href="refactoring-source-code.html#ws_refactoring_general_procedure_preview">查看预期的更改</a> ，进行必要的调整，然后在准备好后单击“ <span class="control">执行重构”</span> 。</p></li></ol></section>    </div>	  	  <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月25日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="typescript-support.html">TypeScript</a> <a class="navigation-links__next" href="running-and-debugging-typescript.html">运行和调试TypeScript</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="refactoring-source-code.html"><span>重构代码</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>