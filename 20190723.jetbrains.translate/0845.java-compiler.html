<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="java-compiler.html"></link><meta charset="UTF-8"></meta><title>Java编译器 - 帮助| IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="topicId520014"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="java-compiler.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Java_Compiler.xml" data-toc="topicId520014">Java编译器</h1>                    <p id="7ca8fbcf"><span class="menupath" data-skip-index="skip">档案|设置|构建，执行，部署|编译器|</span>适用于Windows和Linux的<span class="menupath" data-skip-index="skip">Java编译器</span><br>        <span class="menupath" data-skip-index="skip">IntelliJ IDEA |偏好|构建，执行，部署|编译器|</span>适用于macOS的<span class="menupath" data-skip-index="skip">Java编译器</span><br></p>    <hr id="eeb865a8">    <p id="f5259165">关于<span class="control">编译器|在Java Compiler</span>页面中，您可以选择要使用的Java编译器并指定相关选项。</p>    <ul data-skip-index="skip"><li class="list__item"><a href="java-compiler.html#compiler">编译器和字节码版本</a></li><li class="list__item"><a href="java-compiler.html#javac_eclipse">Javac和Eclipse选项</a></li><li class="list__item"><a href="java-compiler.html#ajc">Ajc选项</a></li><li class="list__item"><a href="java-compiler.html#groovy_eclipse">Groovy-Eclipse选项</a></li></ul>    <h2 id="compiler">编译器和字节码版本</h2>    <div class="table-wrapper"><table class="                 " width="100%" id="6d7382f5"><thead><tr id="4409aede" class="ijRowHead"><th id="6bf95cf2"><p>项目</p></th><th id="cfc18c60"><p>描述</p></th></tr></thead><tbody><tr id="09bd7369" class="ijRowOdd"><td id="3de88626"><p>使用编译器</p></td><td id="807adb30">选择要使用的编译器：<ul class="list _ul"><li class="list__item" id="d91dc79d"><p><a href="http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html" data-bypass="yes" target="_blank"><span>Javac</span></a> 。这可能是IntelliJ IDEA发行版中包含的编译器，也可能是项目JDK之一的编译器。</p></li><li class="list__item" id="33980c43"><p>Eclipse（也称为Java Compiler for Java或ECJ）。IntelliJ IDEA与Eclipse编译器捆绑在一起。</p></li><li class="list__item" id="c0616db4"><p><a href="http://andrewclement.blogspot.ru/2010/02/running-groovy-eclipse-joint-compiler.html" data-bypass="yes" target="_blank"><span>Groovy-Eclipse</span></a> 。此编译器允许您使用Eclipse编译器执行Groovy和Java代码的联合编译。</p></li><li class="list__item" id="0711cc5b">                        <a href="http://www.eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-bypass="yes" target="_blank"><span>Ajc</span></a> （AspectJ编译器）。此选项仅在IntelliJ IDEA的Ultimate Edition中可用。此外，AspectJ编译器不包含在IntelliJ IDEA发行版中，应单独下载。<p id="f12f1c9c">另请参阅<a href="java-compiler.html#ajc">Ajc选项</a> ， <a href="using-the-aspectj-ajc-compiler.html"><span>使用AspectJ编译器（ajc）</span></a>和<a href="enabling-aspectj-support-plugins.html"><span>启用AspectJ支持插件</span></a> 。</p></li></ul></td></tr><tr id="92018b4d" class="ijRowEven"><td id="7a303bbb"><p>使用'--release option'进行交叉编译（Java 9及更高版本）</p></td><td id="8d5ee6d5"><p>默认情况下，选择此选项。IntelliJ IDEA在需要交叉编译时从项目设置中推导出来，并自动应用Java 9的<code class="code">--release</code>编译器选项。</p></td></tr><tr id="d6899df5" class="ijRowOdd"><td id="bytecode"><p>项目字节码版本</p></td><td id="4117abba">选择要生成的字节码版本。（粗略地说，这是目标JVM的最低版本。）<p id="18c03118">如果未指定特定版本，则字节码版本由编译器定义。</p>                <p id="7f8f5cc0">要为特定模块指定不同的版本，请使用每模块字节码版本区域中的控件。</p>            </td></tr><tr id="7bc1f205" class="ijRowEven"><td id="module_bytecode"><p>每模块字节码版本</p></td><td id="d05871bb">如有必要，请为各个模块指定目标字节码版本（例如，它们是否应与<a href="java-compiler.html#bytecode">项目的设置</a>不同）。<p id="fea45fa1">点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg">并在打开的对话框中选择感兴趣的模块。然后，对于每个模块，单击相应的<span class="control">目标字节码版本</span>单元格，然后从列表中选择版本。</p>                <p id="9ee0107e">使用<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.remove.svg@2x.png" width="16" alt="图标一般删除svg">从列表中删除选定的模块。</p>            </td></tr></tbody></table></div>       <h2 id="javac_eclipse">Javac和Eclipse选项</h2>    <div class="table-wrapper"><table class="                 " width="100%" id="ad8d2b23"><thead><tr id="5abc15ae" class="ijRowHead"><th id="fc3af496"><p>项目</p></th><th id="72ee3a1e"><p>描述</p></th></tr></thead><tbody><tr id="1e4815a0" class="ijRowOdd"><td id="5f9ac349"><p>尽可能使用模块目标JDK中的编译器</p></td><td id="8dfb6ad9">对于Javac编译器：<p id="a53337fd">当此选项打开且与模块关联的JDK版本与<a href="java-compiler.html#build_process_jdk">构建过程JDK的版本不同时</a> ，将使用模块JDK中的编译器。例外情况是模块JDK的版本早于1.6。在这种情况下，构建过程JDK中的编译器在<a href="http://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html#BHCIJIEG" data-bypass="yes" target="_blank"><span>交叉编译模式下</span></a>用于模块JDK的类。</p>                <p id="5622799b">当该选项关闭时，所有模块都使用相同的编译器进行编译，编译过程JDK中的编译器。必要时，使用交叉编译模式。</p>                <p id="build_process_jdk">要开始构建过程，请使用最新的可用JDK。这个JDK是从模块中使用的所有JDK，默认项目JDK以及与IntelliJ IDEA捆绑在一起的JDK中选择的。</p>                <p id="b2dfd95e">                    <span class="control">重要！</span>                    编译器的选择不会影响源代码语言级别，也不会影响字节码目标级别和链接。也就是说，无论使用哪种编译器，字节码都链接到与模块关联的JDK，结果代码级别正是项目设置中指定的级别。</p>            </td></tr><tr id="c3c4b178" class="ijRowEven"><td id="786fb1b6"><p>生成调试信息</p></td><td id="27c8d1d1"><p>如果选中此复选框，编译器将生成在调试器中运行已编译类所需的信息。</p></td></tr><tr id="f0b96953" class="ijRowOdd"><td id="48257da4"><p>报告使用已弃用的功能</p></td><td id="c56e9019"><p>如果选中此复选框，编译器将显示有关编译期间遇到的已弃用方法，类或字段的警告。（相应的警告显示在编译器输出窗口中。）</p></td></tr><tr id="167b6ccf" class="ijRowEven"><td id="8d965bbd"><p>不生成任何警告</p></td><td id="a84b1cb8"><p>如果选中此复选框，编译器将忽略有关语言结构的可疑用法的警告。</p></td></tr><tr id="d8072d1d" class="ijRowOdd"><td id="99840dff"><p>继续犯错</p></td><td id="8c9ca25c"><p>对于Eclipse编译器：如果选中此复选框，即使发生编译错误，编译器也会继续编译。</p></td></tr><tr id="33f914cf" class="ijRowEven"><td id="6f2883de"><p>ECJ批处理编译工具的路径（留空以使用捆绑）</p></td><td id="2885cfd5"><p>对于Eclipse编译器：如果需要指定特定版本的Eclipse编译器，请使用此选项。</p></td></tr><tr id="1ad531ac" class="ijRowOdd"><td id="4e44616c"><p>其他命令行参数</p></td><td id="8ad854a8">指定要在开始时传递给编译器的命令行参数和选项。有关可用选项，请参阅编译器文档。<p id="f2f6503e">如果您需要更多空间来键入，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.expandComponent.svg@2x.png" width="16" alt="图标一般expandComponent svg">打开文本输入区域较大的“ <span class="control">附加命令行参数”</span>对话框。</p>                            <p id="8d0cab00">指定参数和选项时，请遵循以下规则：</p>        <ul class="list _ul"><li class="list__item" id="8c938855"><p>使用空格分隔各个参数和选项，例如<code class="code">-client -ea -Xmx1024m</code> 。</p></li><li class="list__item" id="3746741f"><p>如果参数或选项包含空格，请将空格或包含空格的参数括在双引号中，例如， <code class="code">some" "arg</code>或<code class="code">"some arg"</code> 。</p></li><li class="list__item" id="c4bdd0f9"><p>如果参数或选项包含双引号（例如，作为参数的一部分），则通过反斜杠转义双引号，例如<code class="code">-Dmy.prop=\"quoted_value\"</code> 。</p></li></ul>                    </td></tr></tbody></table></div>           <h2 id="ajc">Ajc选项</h2>    <p id="21409744">ajc选项仅在IntelliJ IDEA的Ultimate Edition中可用。</p>    <div class="table-wrapper"><table class="                 " width="100%" id="21d8d8cf"><thead><tr id="9a8fafaa" class="ijRowHead"><th id="d01a16f0"><p>项目</p></th><th id="bcb9e002"><p>描述</p></th></tr></thead><tbody><tr id="6544c15c" class="ijRowOdd"><td id="e6218cc9"><p>Ajc编译器的路径</p></td><td id="f96c2aed">指定<code class="code">ajc</code>的路径（位于<code class="code">&lt;AspectJ installation directory&gt;\lib</code>的文件<code class="code">aspectjtools.jar</code> ）。<p id="07dba25a">在字段中键入路径，或单击<img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="846bf459" width="15" height="15" class="inline-icon-15">并在<a href="select-path-dialog.html">打开</a>的<a href="select-path-dialog.html">对话框中</a>选择所需的文件。</p>            </td></tr><tr id="aa2da069" class="ijRowEven"><td id="8243ae18"><p>测试</p></td><td id="17da3c67">单击此按钮以检查路径和命令行参数是否正确。<p id="675a8a70">如果一切正常，则显示编译器版本。否则，将显示错误消息。（使用指定的路径和参数，IntelliJ IDEA尝试使用附加的<code class="code">-version</code>参数启动编译器。）</p></td></tr><tr id="9ae38ede" class="ijRowOdd"><td id="4bab3374"><p>命令行参数</p></td><td id="2e4c70e9">如有必要，请指定要传递给编译器的<a href="http://www.eclipse.org/aspectj/doc/released/devguide/ajc-ref.html" data-bypass="yes" target="_blank"><span>命令行选项</span></a> 。<p id="fde59432">您可以在字段中键入参数，或单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.expandComponent.svg@2x.png" width="16" alt="图标一般expandComponent svg">打开<span class="control">命令行参数</span>对话框，其中文本输入区域较大。</p>                       <p id="de4d5127">指定JVM选项时，请遵循以下规则：</p>        <ul class="list _ul"><li class="list__item" id="ba4c0ebb"><p>使用空格分隔各个选项，例如<code class="code">-client -ea -Xmx1024m</code> 。</p></li><li class="list__item" id="bebd4963"><p>如果选项包含空格，请将空格或包含空格的参数括在双引号中，例如， <code class="code">some" "arg</code>或<code class="code">"some arg"</code> 。</p></li><li class="list__item" id="f5701e87"><p>如果选项包含双引号（作为参数的一部分），请使用反斜杠转义双引号，例如<code class="code">-Dmy.prop=\"quoted_value\"</code> 。</p></li><li class="list__item" id="d3ca8707"><p>您可以将环境变量值传递给自定义Java属性。例如，如果定义变量<code class="code">MY_ENV_VAR</code> ，则可以将其传递给<code class="code">foo</code>属性，如下所示：</p><div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">-</span> <span class="n">Dfoo</span> <span class="o">=</span> <span class="n">$</span> <span class="o">{</span> <span class="n">MY_ENV_VAR</span> <span class="o">}</span></code></div>            </li></ul>                   <p id="fb974f86">注意：当<code class="code">ajc</code>用于编译后编织时，将忽略指定的参数。</p>               <p id="f37847c6">另请参见<a href="using-the-aspectj-ajc-compiler.html#ajc_and_javac">优化编译性能：将ajc与javac结合使用</a> ， <a href="using-the-aspectj-ajc-compiler.html#controlling_aspectpath">控制ajc aspectpath</a>并<a href="using-the-aspectj-ajc-compiler.html#redefine_aspectpath_in_facet">在模块级别微调ajc的使用</a> 。</p>            </td></tr><tr id="d2b0e305" class="ijRowEven"><td id="922f7280"><p>生成调试信息</p></td><td id="f11d7d00"><p>如果选中此复选框，编译器将生成在调试器中运行已编译类所需的信息。</p></td></tr><tr id="f35471aa" class="ijRowOdd"><td id="delegate_to_javac"><p>代表Javac</p></td><td id="849abf39">如果禁用此选项，则在所有情况下都使用<code class="code">ajc</code> 。<p id="4f588396">如果启用此选项，则除了<code class="code">ajc</code>之外或代替<code class="code">ajc</code>使用<code class="code">javac</code> 。例如， <code class="code">javac</code>将用于编译不包含方面的模块。因此，编译可能会变得更快。</p>                <p id="65a04b3c">另请参阅<a href="using-the-aspectj-ajc-compiler.html#ajc_and_javac">优化编译性能：将ajc与javac结合</a> <a href="using-the-aspectj-ajc-compiler.html#redefine_aspectpath_in_facet">使用，并在模块级别使用ajc进行微调</a> 。</p>            </td></tr></tbody></table></div>    <h2 id="groovy_eclipse">Groovy-Eclipse选项</h2>    <div class="table-wrapper"><table class="                 " width="100%" id="289cce9c"><thead><tr id="b51275d4" class="ijRowHead"><th id="bc652304"><p>项目</p></th><th id="83bfa3cc"><p>描述</p></th></tr></thead><tbody><tr id="18301625" class="ijRowOdd"><td id="dc4a688a"><p>groovy-eclipse-batch jar的路径</p></td><td id="170737ec"><p>指定groovy-eclipse-batch jar位置的路径。点击<img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="073918a9" width="15" height="15" class="inline-icon-15">要打开“ <a href="select-path-dialog.html">选择路径”对话框</a> ，请选择<code class="code">.jar</code>文件的位置，然后单击“ <span class="control">确定”</span> 。<br>请注意，必须输入groovy-eclipse-batch <code class="code">.jar</code>文件的位置才能使编译器正常工作。</p></td></tr><tr id="7c94a72d" class="ijRowEven"><td id="b4443fd5"><p>其他命令行参数</p></td><td id="913912f2">指定要在开始时传递给编译器的命令行参数和选项。有关可用选项，请参阅编译器文档。<p id="6767ee00">如果您需要更多空间来键入，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.expandComponent.svg@2x.png" width="16" alt="图标一般expandComponent svg">打开文本输入区域较大的“ <span class="control">附加命令行参数”</span>对话框。</p>                            <p id="97c7ce3c">指定参数和选项时，请遵循以下规则：</p>        <ul class="list _ul"><li class="list__item" id="744d8bb2"><p>使用空格分隔各个参数和选项，例如<code class="code">-client -ea -Xmx1024m</code> 。</p></li><li class="list__item" id="bcbb6a50"><p>如果参数或选项包含空格，请将空格或包含空格的参数括在双引号中，例如， <code class="code">some" "arg</code>或<code class="code">"some arg"</code> 。</p></li><li class="list__item" id="374530e0"><p>如果参数或选项包含双引号（例如，作为参数的一部分），则通过反斜杠转义双引号，例如<code class="code">-Dmy.prop=\"quoted_value\"</code> 。</p></li></ul>                    </td></tr><tr id="0fbfabff" class="ijRowOdd"><td id="b23ee9f2"><p>生成调试信息</p></td><td id="f1cf670e"><p>如果选中此复选框，编译器将生成在调试器中运行已编译类所需的信息。</p></td></tr></tbody></table></div>                <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="compiler-excludes.html">排除</a> <a class="navigation-links__next" href="compiler-annotation-processors.html">注释处理器</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="specifying-compilation-settings.html"><span>指定编译设置</span></a></li><li class="list__item"><a href="using-the-aspectj-ajc-compiler.html"><span>使用AspectJ编译器（ajc）</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>概念：</h3><ul class="list"><li class="list__item"><a href="compiler-and-builder.html"><span>编译器和生成器</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>