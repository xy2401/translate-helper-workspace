<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="shelving-and-unshelving-changes.html"><meta charset="UTF-8"><title>Shelving and Unshelving Changes - Help | PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="Shelving_and_Unshelving_Changes"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PyCharm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="shelving-and-unshelving-changes.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Shelving_and_Unshelving_Changes" id="Shelving_and_Unshelving_Changes.xml">Shelving and Unshelving Changes</h1>                    <p id="e9e99377">                Shelving is temporarily storing pending changes you have not committed yet. This is useful, for example,                if you need to switch to another task and you want to set your changes aside to work on them later.            </p>            <p id="abc9f0f9">                With PyCharm, you can shelve both separate files and entire <span title="" class="tooltip">changelists</span>.            </p>            <p id="da9c8ab6">                Once shelved, a change can be applied as many times as you need.            </p>                <section class="procedure-steps"><h2 id="ChList">Shelve changes</h2><ol class="list _decimal"><li class="list__item" id="b7b5bb2f"><p>                        Open the <span class="control">Version Control</span> tool window (<kbd data-primary_default="Alt+9" data-primary_default_for_gnome="Alt+9" data-primary_default_for_kde="Alt+9" data-primary_default_for_xwin="Alt+9" data-primary_emacs="Alt+9" data-primary_visual_studio="Alt+9" data-primary_netbeans="Alt+9" data-primary_eclipse="Alt+9" data-secondary_mac_os_x_10.5_="⌘9" data-secondary_mac_os_x="⌘9" data-secondary_eclipse_mac_os_x="⌘9" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥9" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥9">Alt+9</kbd>)                        and switch to the <span class="control">Local Changes</span> tab.                    </p></li><li class="list__item" id="1d9fcbdb"><p>                        Right-click the files or the changelist you want to put to a shelf and select <span class="control">Shelve changes</span>                        from the context menu.                    </p></li><li class="list__item" id="9e14c7b5"><p>                        In the <span class="control">Shelve Changes</span> dialog, review the list of modified files.                    </p></li><li class="list__item" id="b4e02aa6"><p>                        In the <span class="control">Commit Message</span> field, enter the name of the shelf to be created and click the                        <span class="control">Shelve Changes</span> button.                    </p></li></ol><p id="shelve-silently">                        You can also shelve changes silently, without displaying the <span class="control">Shelve Changes</span> dialog. To do this, select a file or                        a changelist you want to shelve, and click the <span class="control">Shelve Silently</span> icon <img class="inline-icon-16" src="../img/idea/2019.1/icons.vcs.shelveSilent.svg@2x.png" width="16" alt="Shelve silently">                        on the toolbar, or press <kbd data-primary_default="Ctrl+Alt+H" data-primary_default_for_gnome="Ctrl+Alt+H" data-primary_default_for_kde="Ctrl+Alt+H" data-primary_default_for_xwin="Ctrl+Alt+H" data-primary_emacs="Ctrl+Alt+H" data-primary_visual_studio="Ctrl+Alt+H" data-primary_netbeans="Ctrl+Alt+H" data-primary_eclipse="Ctrl+Alt+H" data-secondary_mac_os_x_10.5_="⌃⌥H" data-secondary_mac_os_x="⌃⌥H" data-secondary_eclipse_mac_os_x="⌃⌥H" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⌥H" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥H">Ctrl+Alt+H</kbd>.                        The name of the changelist containing the changes you want to shelve will be used as the shelf name.                    </p><p id="fb8e2d8b">                        To avoid ending up with numerous shelves with the same name (such as <span class="control">Default</span>, for example), you can drag a file or a changelist                        from the <span class="control">Local Changes</span> tab to the <span class="control">Shelf</span> tab, wait a second until it's activated, and edit the new shelf name on-the-fly when                        you release the mouse button.                    </p></section>                                <section class="procedure-steps"><h2 id="2dda13b7">Unshelve changes</h2><p id="611543b5">                        Unshelving is moving postponed changes from a shelf to a pending changelist. Unshelved changes can be filtered out from view                        or removed from the shelf.                    </p><ol class="list _decimal"><li class="list__item" id="d60bf248"><p>                        In the <span class="control">Shelf</span> tab of the <span class="control">Version Control</span> tool window,                        select a changelist or files you want to unshelve.                    </p></li><li class="list__item" id="c226ef4f"><p>                        Press <kbd data-primary_default="Ctrl+Shift+U" data-primary_default_for_gnome="Ctrl+Shift+U" data-primary_default_for_kde="Ctrl+Shift+U" data-primary_default_for_xwin="Ctrl+Shift+U" data-primary_emacs="Ctrl+Shift+U" data-primary_visual_studio="Ctrl+Shift+U" data-primary_netbeans="Ctrl+Shift+U" data-primary_eclipse="Ctrl+Shift+U" data-secondary_mac_os_x_10.5_="⇧⌘U" data-secondary_mac_os_x="⇧⌘U" data-secondary_eclipse_mac_os_x="⇧⌘U" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⇧U" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⇧U">Ctrl+Shift+U</kbd> or choose <span class="control">Unshelve</span> from the context menu of the selection.                    </p></li><li class="list__item" id="96c21e06">                        <p id="cd6814ec">                            In the <span class="control">Unshelve Changes</span> dialog that opens, specify the changelist you want to restore the unshelved changes to in the <span class="control">Name</span> field.                        You can select an existing changelist from the list or type a name for a new changelist to be created containing the unshelved changes.                        You can enter the description of the new changelist in the <span class="control">Comment</span> field (optional).                        </p>                        <p id="30644802">                            If you want to make the new changelist active, select the <span class="control">Set active option</span>. Otherwise, the current active changelist remains active.                        </p>                    </li><li class="list__item" id="8e59b2b7"><p>                        If you want PyCharm to preserve the <span title="" class="tooltip">context</span> of a task associated with the new changelist on its                        deactivation and restore the context when the changelist becomes active, select the <span class="control">Track context</span> option                        (see <a href="managing-tasks-and-context.html">tasks                        and                        contexts</a> for                        details).                    </p></li><li class="list__item" id="92ef7ae2">                        <p id="70d80743">                            If you want to remove the changes you are about to unshelve, select the <span class="control">Remove successfully applied files from the shelf</span> option.                            The unshelved files will be removed from this shelf and added to another changelist and marked as applied. They will not be removed completely until deleted explicitly by                            clicking <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.gc.svg@2x.png" width="16" alt="the Delete icon"> on the toolbar, or selecting <span class="control">Clean Already Unshelved</span> from the context menu.                        </p>                        <aside class="note " data-title="" rel="70d80743" id="86dafc05">                            <p id="918d606a">                                If you've deleted unshelved files by accident, you can view and restore them from the <span class="control">Recently Deleted</span> node.                            </p>                        </aside>                    </li><li class="list__item" id="ce87aea6"><p>                        Click <span class="control">OK</span>. If conflicts occur between the patched version and the current version, resolve them as described in                        <a href="resolving-conflicts.html"><span>Resolving Conflicts</span></a>.                    </p></li></ol><p id="unshelve-silently">                        You can unshelve changes silently, without displaying the <span class="control">Unshelve Changes</span> dialog. To do this, select a file or a changelist you                        want to unshelve, and click the <span class="control">Unshelve Silently</span> icon <img class="inline-icon-16" src="../img/idea/2019.1/icons.vcs.unshelveSilent.svg@2x.png" width="16" alt="the Unshelve Silently icon">                        on the toolbar, or press                        <kbd data-primary_default="Ctrl+Alt+U" data-primary_default_for_gnome="Ctrl+Alt+U" data-primary_default_for_kde="Ctrl+Alt+U" data-primary_default_for_xwin="Ctrl+Alt+U" data-primary_emacs="Ctrl+Alt+U" data-primary_visual_studio="Ctrl+Alt+U" data-primary_netbeans="Ctrl+Alt+U" data-primary_eclipse="Ctrl+Alt+U" data-secondary_mac_os_x_10.5_="⌥⌘U" data-secondary_mac_os_x="⌥⌘U" data-secondary_eclipse_mac_os_x="⌥⌘U" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⌥U" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥U">Ctrl+Alt+U</kbd>. The unshelved files will be moved to the active pending changelist.</p><p id="36b2d1bd">                        You can also drag a file or a changelist from the <span class="control">Shelf</span> tab to the <span class="control">Local Changes</span> tab to unshelve it silently.                        If you drag it holding the <kbd data-bypass="true">Ctrl</kbd> key, it will be copied to the <span class="control">Local Changes</span> tab instead                        of being removed from the shelf.                    </p></section>                <section class="procedure-steps"><h2 id="2813a347">Restore unshelved changes</h2><p id="828843b4">                        PyCharm lets you reapply unshelved changes if necessary. All unshelved changes can be reused until they are removed explicitly by                        clicking the <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.gc.svg@2x.png" width="16" alt="the Remove Unshelved Changes"> icon on the toolbar,                        or selecting <span class="control">Clean Already Unshelved</span> from the context menu.                    </p><ol class="list _decimal"><li class="list__item" id="8cbf3e4f"><p>                        Make sure that the <span class="control">Show Already Unshelved</span> <img class="inline-icon-16" src="../img/idea/2019.1/icons.vcs.patch_applied.svg@2x.png" width="16" alt="the Show Already Unshelved button">                        toolbar option is enabled.                    </p></li><li class="list__item" id="98472e64"><p>                        Select the files or the shelf you want to restore.                    </p></li><li class="list__item" id="847e18e9"><p>                        From the context menu of the selection, choose <span class="control">Restore.</span>                    </p></li></ol></section>                <section class="procedure-steps"><h2 id="39994db1">Apply external patches</h2><p id="0342a3fd">                        You can import patches created inside or outside PyCharm and apply them as shelved changes.                    </p><ol class="list _decimal"><li class="list__item" id="caa809cf"><p>                        In the <span class="control">Shelf</span> tab of the <span class="control">Version Control</span> tool window,                        choose <span class="control">Import Patches</span> from the context menu.                    </p></li><li class="list__item" id="1a89b0b7"><p>                        In the dialog that opens, select the patch file to apply. The selected patch appears in the                        <span class="control">Shelf</span> tab as a shelf.                    </p></li><li class="list__item" id="e20f9411"><p>                        Select the newly added shelf with the patch and choose <span class="control">Unshelve Changes</span>                        from the context menu of the selection.                    </p></li></ol></section>                <section class="procedure-steps"><h2 id="automatically-shelve-base-revision">Automatically shelve base revision</h2><p id="dc6f1c8d">                        It may be useful to configure PyCharm to always shelve base revisions of files that are under Git version control.                    </p><ol class="list _decimal"><li class="list__item" id="9b66f6c5"><p>                                        In the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl+Alt+S</kbd>),                        select the <span class="control">Version Control | Shelf</span> on the left.                    </p></li><li class="list__item" id="bdb9fe21">                        <p id="10027e09">                            Select the                            <span class="control">Shelve base revisions of files under distributed version control systems</span>                            option.                        </p>                        <p id="31feeca8">                            If this option is enabled, the base revision of files will be saved to a shelf that will be used during a                            <a href="https://en.wikipedia.org/wiki/Merge_(version_control)#Three-way_merge" data-bypass="yes" target="_blank"><span>3-way merge</span></a> if applying a shelf leads to conflicts.                            If it is disabled, PyCharm will look for the base revision in the project history, which may take a while; moreover,                            the revision that the conflicting shelf was based on may be missing (for example, if the history was changed as a result of the                            rebase operation).                        </p>                    </li></ol></section>                <section class="procedure-steps"><h2 id="91a17eb8">Change the default shelf location</h2><p id="568a8dbc">                        By default, the shelf directory is located under your project directory. However, you may want to change the default shelf location.                        This can be useful, for example, if you want to avoid deleting shelves accidentally when cleaning up your working copy,                        or if you want to store them in a separate repository allowing shelves to be shared among your team members.                    </p><ol class="list _decimal"><li class="list__item" id="f393c223"><p>                        Open the <span class="control">Settings</span>                         dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl+Alt+S</kbd>)                        and select the <span class="control">Version Control | Shelf</span> node on the left.                    </p></li><li class="list__item" id="2701d21a"><p>                        Click the <span class="control">Change Shelves Location</span> button and specify the new location in the dialog that opens.                    </p></li><li class="list__item" id="9bf46444"><p>                        If necessary, select the <span class="control">Move shelves to the new location</span> option to move existing shelves to the new directory.                    </p></li></ol></section>            <p id="863dce44">                Watch this video tutorial on how to benefit from shelves to be able to switch to a different task without losing unfinished work:            </p>            <div class="video-player"><object width="600" height="400" type="application/x-shockwave-flash" data="https://www.youtube.com/v/Zb8k8q8n8Ao?color2=FBE9EC&amp;rel=0&amp;hd=1&amp;autoplay=0&amp;version=3&amp;modestbranding=1&amp;fs=1"><param name="movie" value="//www.youtube.com/v/Zb8k8q8n8Ao?color2=FBE9EC&amp;rel=0&amp;hd=1&amp;autoplay=1&amp;version=3&amp;modestbranding=1&amp;fs=1"><param name="allowFullScreen" value="true"><param name="allowscriptaccess" value="always"></object></div>          <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="managing-changelists.html">Managing Changelists</a><a class="navigation-links__next" href="updating-local-information.html">Updating Local Information</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="shelf-tab.html"><span>Shelf Tab</span></a></li><li class="list__item"><a href="version-control-reference.html"><span>Version Control Reference</span></a></li><li class="list__item"><a href="shelve-changes-dialog.html"><span>Shelve Changes Dialog</span></a></li><li class="list__item"><a href="unshelve-changes-dialog.html"><span>Unshelve Changes Dialog</span></a></li><li class="list__item"><a href="version-control-tool-window.html"><span>Version Control Tool Window</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























