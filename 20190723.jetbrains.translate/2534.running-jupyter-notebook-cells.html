<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="running-jupyter-notebook-cells.html"></link><meta charset="UTF-8"></meta><title>运行和调试Jupyter Notebook单元格 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="settings.build.execution.deployment.jupyter"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="running-jupyter-notebook-cells.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Running_IPython_Notebook_Cells.xml" data-toc="settings.build.execution.deployment.jupyter">运行和调试Jupyter Notebook单元</h1>             <aside class="warning " rel="Running_IPython_Notebook_Cells.xml" id="6be9f48c" data-title=""><p>此功能仅在<b id="cd9eab6c" origin="intellij-platform">专业</b>版中受支持。此版本是商业版，它提供了一系列出色的功能：有关详细信息，请参阅<a href="https://www.jetbrains.com/pycharm/features/editions_comparison_matrix.html" data-bypass="yes" target="_blank"><span>比较矩阵</span></a> 。</p></aside>    <p id="d73a650d">Jupyter笔记本文件中的代码片段被构造为可执行单元格。每个单元格都标有<code class="code">#%%</code>注释，可以通过单击来独立执行<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.execute.svg@2x.png" width="16" alt="运行单元格">左侧排水沟中的图标。</p>    <section class="procedure-steps"><h2 id="execute-cell" data-toc="settings.build.execution.deployment.jupyter#execute-cell">运行代码单元格</h2><p id="02b72aa7">对于目标单元格，请按<kbd data-primary_default="Ctrl+Enter" data-primary_default_for_gnome="Ctrl+Enter" data-primary_default_for_kde="Ctrl+Enter" data-primary_default_for_xwin="Ctrl+Enter" data-primary_emacs="Ctrl+Enter" data-primary_visual_studio="Ctrl+Enter" data-primary_netbeans="Ctrl+Enter" data-primary_eclipse="Ctrl+Enter" data-secondary_mac_os_x_10.5_="⌃⏎" data-secondary_mac_os_x="⌃⏎" data-secondary_eclipse_mac_os_x="⌃⏎" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⏎" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⏎">Ctrl + Enter</kbd> 。或者，您可以单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.execute.svg@2x.png" width="16" alt="执行单元格">图标并选择<span class="control">Run Cell</span> 。PyCharm启动Jupyter服务器，执行代码单元，并在“ <span class="control">预览”</span>窗格中呈现输出。</p><figure id="3b8e4f96" width="700" height="944"><img class="js-gif" src="../img/idea/2019.1/py_jupyter_cell_run.png" width="700" data-gif-src="/help/img/idea/2019.1/py_jupyter_cell_run.animated.gif" style="width:700px"></figure><p id="628b02c5">目前，您一次只能执行一个单元格，因此在执行单元格时需要考虑代码依赖性。例如，代码片段中的第二个单元格使用第一个单元格中定义的变量。因此，如果修改<code class="code">N</code>值，则只有在执行第一个单元格后，更改才会反映在散点图中。您可以使用智能快捷方式执行当前单元格并选择以下单元格： <kbd data-bypass="true">Shift + Enter</kbd> for Windows或<kbd data-bypass="true">⇧↩formacOS</kbd> 。</p><p id="6f15c8f0"><a href="configuring-jupyter-notebook.html#stop-server">停止服务器</a>并<a href="configuring-jupyter-notebook.html#configure-server">更改服务器或内核时</a> ，必须再次执行具有依赖关系的所有单元，因为执行结果仅对当前服务器会话有效。</p></section>    <section class="procedure-steps"><h2 id="variables" data-toc="settings.build.execution.deployment.jupyter#variables">查看变量</h2><aside class="warning " rel="variables" id="d2ffc968" data-title=""><p id="8302def7">此功能仅适用于<span class="emphasis">本地</span> Jupyter服务器内核。</p></aside><p id="fe1a0351">执行单元格时， <span class="control">Jupyter服务器</span>工具窗口的“ <span class="control">变量”</span>选项卡将自动打开。</p><figure><img alt="Jupyter服务器工具窗口：“变量”选项卡" title="Jupyter服务器工具窗口：“变量”选项卡" src="../img/idea/2019.1/py_jupyter_variable_view.png" id="b68aa0b3" width="700" height="460"></figure><p id="03448578">默认情况下，变量是异步加载的。要更改加载策略，请单击<img class="inline-icon-16" src="../img/idea/2019.1/artwork.studio.icons.logcat.toolbar.settings@2x.png" width="16" alt="管理加载策略">在“ <span class="control">变量”</span>选项卡中，选择“ <span class="control">变量加载策略”</span> ，然后选择一种可用模式。有关更多详细信息，请参阅<a href="variables-loading-policy.html"><span>管理变量加载策略</span></a> 。</p><p id="2d97b8a4">您可以单击“ <span class="control">作为阵列查看”</span>链接以表格形式预览特定变量的值：</p><figure><img alt="将变量视为数组" title="将变量视为数组" src="../img/idea/2019.1/py_jupyter_view_as_array.png" id="2b94d9fd" width="700" height="504"></figure><p id="ccfd14ba">请注意，每次执行单元格时都会出现“ <span class="control">变量”</span>选项卡，因此，如果由于某些原因需要永久关闭它，请取消选择项目设置中的相应选项（ <span class="menupath" data-skip-index="skip">“设置/首选项”|“构建”，“执行”，“部署”|“Jupyter”</span> ）。</p></section>    <p id="8b88a482">使用大量代码单元时，可以使用自动滚动在<span class="control">编辑器</span>和<span class="control">预览</span>窗格之间进行有效导航。</p>    <section class="procedure-steps"><h2 id="jump-to-code-or-output" data-toc="settings.build.execution.deployment.jupyter#jump-to-code-or-output">跳转到目标输出片段或目标代码单元格</h2><ol class="list _decimal"><li class="list__item" id="a04d5278"><p>单击，启用从源自动滚动<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.autoscrollFromSource.svg@2x.png" width="16" alt="从Source自动滚动">图标，然后在“ <span class="control">编辑器”</span>窗格中选择代码单元格。您将位于“ <span class="control">审阅”</span>窗格中的目标输出片段上。</p></li><li class="list__item" id="82161026"><p>单击，启用自动滚动到源代码<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.autoscrollToSource.svg@2x.png" width="16" alt="自动滚动到源"> <span class="control">Jupyter</span>工具栏上的图标，然后在“ <span class="control">审阅”</span>窗格中选择任意输出片段。您将位于“ <span class="control">编辑器”</span>窗格中的源代码单元格上。</p></li></ol></section>    <p id="a19684e3">PyCharm提供全功能的Jupyter Notebook Debugger。</p>    <section class="procedure-steps"><h2 id="debug-notebook" data-toc="settings.build.execution.deployment.jupyter#debug-notebook">在Jupyter笔记本中调试代码</h2><aside class="warning " rel="debug-notebook" id="08b21d3f" data-title=""><p id="77831f60">此功能仅适用于<span class="emphasis">本地</span> Jupyter服务器内核。</p></aside><ol class="list _decimal"><li class="list__item" id="3416ce9b">            <p id="d562cd96">在所选单元格中设置<a href="using-breakpoints.html">断点</a> ，然后按<kbd data-bypass="true">Shift + Alt + Enter键进入</kbd> Windows，或按<kbd data-bypass="true">⌥⇧↩键</kbd>选择macOS。或者，您可以单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.execute.svg@2x.png" width="16" alt="运行单元格">图标，然后选择<span class="control">调试单元格</span> 。</p>            <p id="c985bb71">将打开<span class="control">Jupyter Notebook Debugger</span>工具窗口。</p>        <figure><img alt="Jupyter Notebook Debugger工具窗口" title="Jupyter Notebook Debugger工具窗口" src="../img/idea/2019.1/py_jupyter_debug_start.png" id="0717fd7d" width="700" height="856"></figure>        </li><li class="list__item" id="21502e3e">            <p id="f8d4fb53">使用<a href="debug-tool-window.html#steptoolbar">步进工具栏按钮</a>选择要在下一行停止的行，并切换到“ <span class="control">调试器”</span>选项卡以预览变量值：</p><figure><img alt="跳过Jupyter Notebook Debugger" title="跳过Jupyter Notebook Debugger" src="../img/idea/2019.1/py_jupyter_debug_step_over.png" id="bf48cd78" width="700" height="855"></figure>                        <p id="7873efaf">调试在单个代码单元中执行。但是，如果您的代码单元从已经调试的任何单元调用一个函数，您可以进入它。相关的断点也可以。请注意，必须调试具有该功能的单元，而不仅仅是执行。</p>            <p id="d9a881de">                </p><figure><img alt="踏入前一个细胞" title="踏入前一个细胞" src="../img/idea/2019.1/py_jupyter_debug_step_into_cell.png" id="11ee63f9" width="700" height="857"></figure>                        <aside class="warning " rel="d9a881de" id="1174cba7" data-title=""><p>如果您更改其源代码或不在调试器下执行它，调试器可能会跳过单元格。此外，在调试会话期间尝试修改单元代码时，您可以看到警告消息。</p></aside>            <p id="630f51bc">同样，您可以进入从位于同一项目中的Python文件调用的函数。</p>            <p id="6816291d">                </p><figure><img alt="踏入Python文件" title="踏入Python文件" src="../img/idea/2019.1/py_jupyter_debug_setp_into_file.png" id="56d1cbeb" width="700" height="1168"></figure>                    </li><li class="list__item" id="e5acf24b">            <p id="86d9f45b">继续调试步骤以完成单元的执行。</p>            <figure><img alt="调试完成" title="调试完成" src="../img/idea/2019.1/py_jupyter_debug_finish.png" id="2dab5809" width="700" height="842"></figure>        </li></ol></section>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="editing-jupyter-notebook-files.html">编辑Jupyter Notebook文件</a> <a class="navigation-links__next" href="configuring-jupyter-notebook.html">配置Jupyter Notebook</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="ipython-notebook.html"><span>Jupyter笔记本</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>外部链接：</h3><ul class="list"><li class="list__item"><a href="http://nbviewer.ipython.org/github/ipython/ipython/blob/2.x/examples/Notebook/Index.ipynb" data-bypass="yes" target="_blank"><span>Jupyter笔记本</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>