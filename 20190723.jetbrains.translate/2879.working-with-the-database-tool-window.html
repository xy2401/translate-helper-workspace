<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="working-with-the-database-tool-window.html"></link><meta charset="UTF-8"></meta><title>使用数据库工具窗口 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Working_with_the_Database_tool_window"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="working-with-the-database-tool-window.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Working_with_the_Database_tool_window.xml" data-toc="Working_with_the_Database_tool_window">使用数据库工具窗口</h1>         <aside class="warning " rel="Working_with_the_Database_tool_window.xml" id="ec86320d" data-title=""><p>此功能仅在<b id="b0a9117c" origin="intellij-platform">专业</b>版中受支持。此版本是商业版，它提供了一系列出色的功能：有关详细信息，请参阅<a href="https://www.jetbrains.com/pycharm/features/editions_comparison_matrix.html" data-bypass="yes" target="_blank"><span>比较矩阵</span></a> 。</p></aside>                     <aside class="warning " rel="Working_with_the_Database_tool_window.xml" id="a6a030b5" data-title=""><p>以下内容仅在安装并启用数据库工具和SQL插件时有效！</p></aside>           <div class="chapter"><h2 id="overview" data-toc="Working_with_the_Database_tool_window#overview">概观</h2>        <p id="998ed061"><span class="control">数据库</span>工具窗口提供对使用数据库和DDL数据源的函数的访问。它允许您查看和修改数据库中的数据结构，并执行其他相关任务。</p>                <figure><img alt="DBToolWindow" title="DBToolWindow" src="../img/idea/2019.1/DBToolWindow.png" id="67a33014" width="268" height="415"></figure>    </div>    <div class="chapter"><h2 id="open_db_tool_window" data-toc="Working_with_the_Database_tool_window#open_db_tool_window">打开数据库工具窗口</h2>        <p id="70503703">执行以下操作之一：</p>        <ul class="list _ul"><li class="list__item" id="6e9e415b"><p>选择<span class="menupath" data-skip-index="skip">查看|工具窗口|数据库</span> 。</p></li><li class="list__item" id="a3cadd85"><p>指向<img alt="显示工具窗口栏" title="显示工具窗口栏" src="../img/idea/2019.1/show_tool_window_bars.png" id="7260c6a6" width="32" height="32" class="inline-icon-32">要么<img alt="显示隐藏工具窗口栏" title="显示隐藏工具窗口栏" src="../img/idea/2019.1/show_hide_tool_window_bars.png" id="4c761a4e" width="32" height="27" class="inline-icon-32">在工作区的左下角，然后单击“ <span class="control">数据库”</span> 。</p></li><li class="list__item" id="b7a037fa"><p>单击右侧<a href="tool-windows.html#bars_and_buttons">工具窗口栏</a>上的“ <span class="control">数据库</span> ”（如果当前显示工具窗口栏）。</p></li></ul>    </div>    <div class="chapter"><h2 id="create_data_source" data-toc="Working_with_the_Database_tool_window#create_data_source">创建数据源</h2>        <p id="62ebb24c">要开始创建<a href="managing-data-sources.html#data_sources">数据源</a> ，可以在“ <span class="control">数据库”</span>工具窗口处于活动状态时使用“ <span class="control">新建”</span>命令，例如：</p>        <ul class="list _ul"><li class="list__item" id="d909df5a"><p>                <span class="menupath" data-skip-index="skip">档案|新</span></p></li><li class="list__item" id="e8c68508"><p>                <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg">在工具栏上</p></li><li class="list__item" id="8d2ec55c"><p>                上下文菜单中的<span class="control">新增内容</span></p></li><li class="list__item" id="973dab27"><p>                <kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_visual_studio="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt +插入</kbd></p></li></ul>        <p id="4f88ee99"><span class="control">DDL数据源</span>选项用于创建DDL数据源。其他数据源选项对应于创建DB数据源的不同方案：</p>        <ul class="list _ul"><li class="list__item" id="13a37934"><p>                <span class="control">数据源。</span> 创建数据源的“常用方法”。在这种情况下，您首先选择DBMS。</p></li><li class="list__item" id="207035fc"><p>                <span class="control">来自URL的数据源。</span>                在此方案中，首先指定数据库URL。</p></li><li class="list__item" id="4acb64bc"><p>                <span class="control">来自Path的数据源。</span>                在此方案中，首先指定数据库位置（本地文件或文件夹）。此选项仅适用于Derby，H2，HSQLDB和SQLite。</p></li><li class="list__item" id="d2ec067e">                <span class="control">从来源导入。</span>                如果您有包含数据库连接设置的文件，则可以通过导入这些设置来创建数据源。<p id="525b54d0">看到<a href="managing-data-sources.html#import"></a> 。</p>            </li></ul>        <p id="9404c307">您还可以在“ <a href="data-sources-and-drivers-dialog.html">数据源和驱动程序”对话框中</a>开始创建数据源。打开对话框（ <img alt="iconManageDataSources" title="iconManageDataSources" src="../img/idea/2019.1/iconManageDataSources.png" id="092105bb" width="16" height="16" class="inline-icon-16"> ）并在那里使用<span class="control">Add</span>命令：从上下文菜单中<span class="control">添加</span> ， <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg">在工具栏上，或<kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_visual_studio="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt + Insert</kbd> 。</p>        <p id="a85c4fc5">有关更多信息，请参阅<a href="managing-data-sources.html"><span>管理数据源</span></a> 。</p>    </div>    <div class="chapter"><h2 id="synch" data-toc="Working_with_the_Database_tool_window#synch">同步DB数据源的视图</h2>        <p id="0bc10ec1">如果关闭数据库数据源的<a href="data-sources-and-drivers-dialog.html#auto_sync">自动同步选项</a> ，则将<span class="control">数据库</span>工具窗口中的视图与<span class="control">数据库</span>的实际状态同步的唯一方法是使用“ <span class="control">同步”</span>命令。</p>        <ol class="list _decimal"><li class="list__item" id="4d2bd802"><p>选择要同步其视图的项目。这可以是DB数据源，模式或表。</p></li><li class="list__item" id="dab5ff4b"><p id="736b1b26">执行以下操作之一：</p>                <ul class="list _ul"><li class="list__item" id="5460b346"><p>按<kbd data-primary_default="Ctrl+Alt+Y" data-primary_default_for_gnome="Ctrl+Alt+Y" data-primary_default_for_kde="Ctrl+Alt+Y" data-primary_default_for_xwin="Ctrl+Alt+Y" data-primary_emacs="Ctrl+Alt+Y" data-primary_visual_studio="Ctrl+Alt+Y" data-primary_netbeans="Ctrl+Alt+Y" data-primary_eclipse="N/A" data-secondary_mac_os_x_10.5_="⌥⌘Y" data-secondary_mac_os_x="⌥⌘Y" data-secondary_eclipse_mac_os_x="N/A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⌥Y" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥Y">Ctrl + Alt + Y.</kbd></p></li><li class="list__item" id="c07b530a"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.refresh.svg@2x.png" width="16" alt="同步按钮">在工具栏上。</p></li><li class="list__item" id="503ad342"><p>从上下文菜单中选择“ <span class="control">同步</span> ”。</p></li></ul></li></ol>    </div>    <div class="chapter"><h2 id="db_resolve_problems" data-toc="Working_with_the_Database_tool_window#db_resolve_problems">解决可视化问题</h2>        <p id="10c32f87">如果您在“ <span class="control">数据库”</span>工具窗口中看到任何问题（例如，架构下方没有对象，对象，损坏的表或其他问题没有更改），请尝试以下步骤来解决此问题：</p>        <ol class="list _decimal"><li class="list__item" id="7a1b56a9"><p>同步数据源的视图（ <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.refresh.svg@2x.png" width="16" alt="图标动作刷新svg"> ）。您可以在“ <a href="working-with-the-database-tool-window.html#synch">同步数据源视图”</a>主题中找到更多详细信息。</p></li><li class="list__item" id="1c704913"><p>确保选择了所有必要的模式以供查看（单击数据源附近的链接）。有关更多信息，请参阅<a href="working-with-the-database-tool-window.html#show_hide_schemas">显示和隐藏模式</a> 。</p><figure><img alt="db check scheme下拉列表" title="db check scheme下拉列表" src="../img/idea/2019.1/db_check_scheme_dropdown_list.png" id="d247765c" width="373" height="153"></figure>            </li><li class="list__item" id="inform_jetbrains_in_youtrack"><p>清除PyCharm架构缓存（右键单击数据源并选择“ <span class="menupath" data-skip-index="skip">数据库工具”|“忘记缓存架构”</span> ）。同步视图。</p></li><li class="list__item" id="visualization_problems"><p>您可以切换到基于JDBC的introspector（单击<span class="control">Data Source Properties</span>图标（ <img alt="iconManageDataSources" title="iconManageDataSources" src="../img/idea/2019.1/iconManageDataSources.png" id="5bca66df" width="16" height="16" class="inline-icon-16"> ），选择<span class="control">Options选项</span>卡，然后选中<a href="data-sources-and-drivers-dialog.html#introspector">使用JDBC元数据</a>的<a href="data-sources-and-drivers-dialog.html#introspector">Introspect</a>复选框）。同步视图。将此步骤视为临时解决方法。</p></li></ol>                    </div>    <div class="chapter"><h2 id="db_adjust_view_by_options" data-toc="Working_with_the_Database_tool_window#db_adjust_view_by_options">通过视图选项调整视图</h2>        <p id="5751b0e0">您可以在“ <span class="control">显示选项”</span>菜单中调整各种视图选项（ <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.gearPlain.svg@2x.png" width="16" alt="图标一般gearPlain svg"> ）在<span class="control">数据库</span>工具窗口的标题栏上。</p>        <figure><img alt="“显示选项”菜单" title="“显示选项”菜单" src="../img/idea/2019.1/datagrip-database-tree-view-options.png" id="1927b544" width="463" height="836"></figure>        <p id="a38cdc64">有关更多信息，请参阅<a href="database-tool-window.html#view_options">查看选项</a> 。</p>    </div>    <div class="chapter"><h2 id="db_adjust_view_by_filters" data-toc="Working_with_the_Database_tool_window#db_adjust_view_by_filters">通过对象过滤器调整视图</h2>                <p id="33d03514">您可以使用工具栏中的“ <span class="control">过滤器”</span>菜单限制每个数据源的“ <span class="control">数据库”</span>工具窗口中显示的表和其他数据库对象集。</p>        <figure><img alt="过滤器菜单" title="过滤器菜单" src="../img/idea/2019.1/datagrip-database-tree-filter.png" id="c935cd4d" width="415" height="500"></figure>        <p id="ca0feb29">或者，您可以使用“ <span class="control">数据源和驱动程序”</span>对话框的“ <span class="control">选项”选项</span>卡上的“ <span class="control">对象过滤器”</span>字段手动指定更精细的过滤选项（ <img alt="iconManageDataSources" title="iconManageDataSources" src="../img/idea/2019.1/iconManageDataSources.png" id="c580a8ab" width="16" height="16" class="inline-icon-16"> ）。</p>        <figure><img alt="数据源选项中的“对象过滤器”字段" title="数据源选项中的“对象过滤器”字段" src="../img/idea/2019.1/datagrip-data-source-options-filter.png" id="3ea5c6d8" width="647" height="826"></figure>                    <p id="4ff2ef5d">以下示例演示了过滤器语法：</p>        <ul class="list _ul"><li class="list__item" id="a1e0709c">                <code class="code">F。*</code>                <p id="79348895">仅显示名称以<code class="code">f</code>开头的对象。</p>            </li><li class="list__item" id="1439d41e">                <code class="code">表：[GH]。*</code>                <p id="0b47c0bb">显示名称以<code class="code">g</code>或<code class="code">h</code>开头的表以及所有其他对象类型。</p>            </li><li class="list__item" id="978a6b7d">                <code class="code">观点：新_ * ||常规： -  [PS]。*</code>                <p id="63dabca7">显示名称以<code class="code">new_</code>开头的视图，名称以除<code class="code">p</code>或<code class="code">s</code>之外的任何字母开头的例程以及所有其他对象类型。</p>            </li></ul>        </div>    <div class="chapter"><h2 id="show_hide_schemas" data-toc="Working_with_the_Database_tool_window#show_hide_schemas">显示和隐藏模式</h2>        <p id="cc94275b">显示或隐藏模式：</p>        <ol class="list _decimal"><li class="list__item" id="29e620a5"><p>右键单击相应数据源中的任何元素，指向“ <span class="control">数据库工具”，</span>然后选择“ <span class="control">管理显示的架构”</span> 。</p></li><li class="list__item" id="311f7357"><p>选择要显示的模式，然后按<kbd data-primary_default="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_default_for_xwin="Enter" data-primary_emacs="Enter" data-primary_visual_studio="Enter" data-primary_netbeans="Enter" data-primary_eclipse="Enter" data-secondary_mac_os_x_10.5_="⏎" data-secondary_mac_os_x="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⏎" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⏎">Enter键</kbd> 。</p><figure><img alt="DBTWShowSchemas" title="DBTWShowSchemas" src="../img/idea/2019.1/DBTWShowSchemas.png" id="c101249c" width="500" height="242"></figure></li></ol>        <p id="255ef8ef">要隐藏模式，请使用模式弹出窗口或<span class="menupath" data-skip-index="skip">数据库工具|隐藏架构</span>上下文菜单命令。</p>    </div>    <div class="chapter"><h2 id="db_find_items" data-toc="Working_with_the_Database_tool_window#db_find_items">找东西</h2>        <p id="1db9695e">要查找感兴趣的项目，只需输入其名称即可。项目名称中的指定文本将突出显示，并且选择包含指定文本的第一个项目。</p>        <figure><img alt="DBToolWindowFind" title="DBToolWindowFind" src="../img/idea/2019.1/DBToolWindowFind.png" id="ca39d897" width="428" height="284"></figure>    </div>    <div class="chapter"><h2 id="db_find_usages" data-toc="Working_with_the_Database_tool_window#db_find_usages">查找数据库对象的用法</h2>        <p id="a7b0d139">您可以在文件和控制台中以及其他对象的源代码中搜索数据库对象的用法（如果已加载，请参阅<a href="data-sources-and-drivers-dialog.html#load_sources_options_tab">加载源</a> ）。例如，您可以在其他视图，存储过程和函数的代码中查找对表或视图的引用。</p>        <ol class="list _decimal"><li class="list__item" id="a02a5244"><p>选择感兴趣的项目。</p></li><li class="list__item" id="b0900dd2">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="577c17e0"><p>按<kbd data-primary_default="Alt+F7" data-primary_default_for_gnome="Shift+Alt+7" data-primary_default_for_kde="Shift+Alt+7" data-primary_default_for_xwin="Alt+F7" data-primary_emacs="Alt+F7" data-primary_visual_studio="Shift+Alt+F7" data-primary_netbeans="Alt+F7" data-primary_eclipse="Ctrl+G" data-secondary_mac_os_x_10.5_="⌥F7" data-secondary_mac_os_x="⌥F7" data-secondary_eclipse_mac_os_x="⇧⌘G" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥⇧F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥F7">Alt + F7</kbd> 。</p></li><li class="list__item" id="95ff57f1"><p>从上下文菜单中选择“ <span class="control">查找用法</span> ”。</p></li><li class="list__item" id="3ce0bad9"><p>选择<span class="control">编辑|找到|</span>在主菜单中<span class="control">找到用法</span> 。</p></li></ul></li></ol>    </div>    <div class="chapter"><h2 id="db_copy" data-toc="Working_with_the_Database_tool_window#db_copy">创建数据源的副本</h2>        <ol class="list _decimal"><li class="list__item" id="f65988df"><p>选择感兴趣的数据源。</p></li><li class="list__item" id="39ff5a28">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="ca3ffeed"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.copy.svg@2x.png" width="16" alt="图标行动复制svg">在工具栏上。</p></li><li class="list__item" id="b3d16cb9"><p>从上下文菜单中选择“ <span class="control">复制</span> ”。</p></li><li class="list__item" id="7be0ce10"><p>按<kbd data-primary_default="Ctrl+D" data-primary_default_for_gnome="Ctrl+D" data-primary_default_for_kde="Ctrl+D" data-primary_default_for_xwin="Ctrl+D" data-primary_emacs="⌘+D" data-primary_visual_studio="Ctrl+D" data-primary_netbeans="Ctrl+D" data-primary_eclipse="N/A" data-secondary_mac_os_x_10.5_="⌘D" data-secondary_mac_os_x="⌘D" data-secondary_eclipse_mac_os_x="N/A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃D" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌘D">Ctrl + D.</kbd></p></li></ul></li></ol>    </div>    <div class="chapter"><h2 id="create_db_or_schema" data-toc="Working_with_the_Database_tool_window#create_db_or_schema">创建数据库或模式</h2>        <ol class="list _decimal"><li class="list__item" id="60d10985"><p>选择感兴趣的DB数据源中的任何元素。</p></li><li class="list__item" id="33b252c0">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="9282d1de"><p>选择<span class="menupath" data-skip-index="skip">文件|新的|架构</span>或<span class="menupath" data-skip-index="skip">文件|新的|数据库</span> 。</p></li><li class="list__item" id="6d96d090"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg">并选择<span class="control">Schema</span>或<span class="control">Database</span> 。</p></li><li class="list__item" id="452db99c"><p>在上下文菜单中，选择<span class="menupath" data-skip-index="skip">New |架构</span>或<span class="menupath" data-skip-index="skip">新|数据库</span> 。</p></li><li class="list__item" id="71ed3c5c"><p>按<kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_visual_studio="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt + Insert</kbd>并选择<span class="control">Schema</span>或<span class="control">Database</span> 。</p></li></ul></li><li class="list__item" id="90635c8a"><p>在打开的对话框中，指定架构或数据库的名称。如有必要，在<span class="control">SQL Script</span>下编辑要执行的语句。单击“ <span class="control">执行”</span> 。</p></li><li class="list__item" id="0fd47202"><p>如果您已创建PostgreSQL数据库并希望在<span class="control">数据库</span>工具窗口中查看它，请为该<span class="control">数据库</span> <a href="working-with-the-database-tool-window.html#create_data_source">创建数据源</a> 。</p></li></ol>        <p id="a933619d">另请参阅<a href="settings-tools-database.html#track_schema_creation">跟踪数据库/模式的创建和删除</a> 。</p>    </div>    <div class="chapter"><h2 id="create_table_column_etc" data-toc="Working_with_the_Database_tool_window#create_table_column_etc">创建表，列，索引或主键或外键</h2>        <ol class="list _decimal"><li class="list__item" id="12346006">取决于您要创建的内容：<ul class="list _ul"><li class="list__item" id="f0812c38"><p>要创建表，请在目标DB数据源中选择模式，表或列。</p></li><li class="list__item" id="fbcb746f"><p>要创建列，请选择目标表或该表中的列。</p></li><li class="list__item" id="1fdefc00"><p>要创建索引或主键或外键，请选择要为其创建索引的列或主键或外键约束。</p></li></ul></li><li class="list__item" id="5a7289be">执行“ <span class="control">新建”</span>命令并选择要创建的项目。例如，对于表格，请执行以下操作之一：<ul class="list _ul"><li class="list__item" id="069c10ca"><p>选择<span class="menupath" data-skip-index="skip">文件|新的|表</span> 。</p></li><li class="list__item" id="0df41df9"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg">并选择<span class="control">表格</span> 。</p></li><li class="list__item" id="ccb010ad"><p>在上下文菜单中，选择<span class="menupath" data-skip-index="skip">New |表</span> 。</p></li><li class="list__item" id="4bcebb45"><p>按<kbd data-primary_default="Alt+Insert" data-primary_default_for_gnome="Alt+Insert" data-primary_default_for_kde="Alt+Insert" data-primary_default_for_xwin="Alt+Insert" data-primary_emacs="Alt+Insert" data-primary_visual_studio="Alt+Insert" data-primary_netbeans="Alt+Insert" data-primary_eclipse="Alt+Insert" data-secondary_mac_os_x_10.5_="⌘N" data-secondary_mac_os_x="⌃N" data-secondary_eclipse_mac_os_x="⌘N" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt + Insert</kbd>并选择<span class="control">Table</span> 。</p></li></ul></li><li class="list__item" id="1da67e11"><p>在<a href="modify-table-dialog.html">打开</a>的<a href="modify-table-dialog.html">对话框中</a> ，指定项目定义。</p></li></ol>    </div>    <div class="chapter"><h2 id="modify_name_generation_templates" data-toc="Working_with_the_Database_tool_window#modify_name_generation_templates">修改生成的索引和键名称的模板</h2>        <p id="61329c5b"><a href="working-with-the-database-tool-window.html#create_table_column_etc">创建索引以及主键和外键约束时</a> ，将根据相应的模板生成其默认名称。例如，对于主键，模板为<code class="code">{table}_{columns}_pk</code> 。</p>        <p id="0e081a36">您可以在“ <span class="control">设置/首选项”</span>对话框中查看和修改这些模板： <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥F7" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl + Alt + S</kbd> <span class="menupath" data-skip-index="skip">|编辑|代码风格| SQL |代码生成</span> 。</p>                <p id="170e9b21">模板可以包含变量（例如， <code class="code">{table}</code> ）和文本。生成名称时，将按字面再现指定的文本。</p>        <p id="f20b6703">要获取有关变量的信息以及如何使用它们，请将光标放在感兴趣的字段中，然后按<kbd data-primary_default="Ctrl+Q" data-primary_default_for_gnome="Ctrl+Q" data-primary_default_for_kde="Ctrl+Q" data-primary_default_for_xwin="Ctrl+Q" data-primary_emacs="Ctrl+Q" data-primary_visual_studio="Ctrl+Q" data-primary_netbeans="Ctrl+Q" data-primary_eclipse="Alt+Button2 Click" data-secondary_mac_os_x_10.5_="F1" data-secondary_mac_os_x="⌃J" data-secondary_eclipse_mac_os_x="⌥Button2 Click" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃Q" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃Q">Ctrl + Q.</kbd></p>        <p id="07fd5961">            <code class="code">{columns}</code>和<code class="code">{ref_columns}</code> （取决于具体情况）是列的名称，或列名称以下划线（_）分隔的列表。</p>        <p id="71d41e8b">            <code class="code">{独特？u:}</code>检查索引是否唯一（ <code class="code">unique?</code> ），如果是，则插入指定的字符序列<code class="code">?</code> 和<code class="code">:</code>在这个例子中，它是<code class="code">u</code> ）。如果索引不是唯一的，则插入<code class="code">:</code>和<code class="code">}</code>之间的序列（在此示例中，它没有任何内容）。</p>        <p id="63ca0804">            <b id="9eaaaeec" origin="intellij-platform">例。</b> 使用模板<code class="code">{table}_{columns}_{unique?u:}index</code> ，您要在表<code class="code">persons</code>中创建<code class="code">FirstName</code>和<code class="code">LastName</code>列的索引。如果索引是唯一的，则默认情况下，其名称为<code class="code">persons_FirstName_LastName_uindex</code> 。如果索引不是唯一的，则其名称将为<code class="code">persons_FirstName_LastName_index</code> 。</p>        </div>    <div class="chapter"><h2 id="viewing_quick_doc" data-toc="Working_with_the_Database_tool_window#viewing_quick_doc">查看快速文档</h2>        <p id="7d126b6b">您可以查看数据源，表，函数和其他数据库对象的简短参考文档。例如，如果选择一个表并按<kbd data-primary_default="Ctrl+Q" data-primary_default_for_gnome="Ctrl+Q" data-primary_default_for_kde="Ctrl+Q" data-primary_default_for_xwin="Ctrl+Q" data-primary_emacs="Ctrl+Q" data-primary_visual_studio="Ctrl+Q" data-primary_netbeans="Ctrl+Q" data-primary_eclipse="Alt+Button2 Click" data-secondary_mac_os_x_10.5_="F1" data-secondary_mac_os_x="⌃J" data-secondary_eclipse_mac_os_x="⌥Button2 Click" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃Q" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃Q">Ctrl + Q</kbd> ，您将看到前十行和表定义。</p>        <p id="a3cbdc69">要打开快速文档视图，请单击数据库对象，然后选择“ <span class="menupath" data-skip-index="skip">查看”|快速文档</span> （ <kbd data-primary_default="Ctrl+Q" data-primary_default_for_gnome="Ctrl+Q" data-primary_default_for_kde="Ctrl+Q" data-primary_default_for_xwin="Ctrl+Q" data-primary_emacs="Ctrl+Q" data-primary_visual_studio="Ctrl+Q" data-primary_netbeans="Ctrl+Q" data-primary_eclipse="Alt+Button2 Click" data-secondary_mac_os_x_10.5_="F1" data-secondary_mac_os_x="⌃J" data-secondary_eclipse_mac_os_x="⌥Button2 Click" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃Q" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃Q">Ctrl + Q</kbd> ）。</p>        <p id="3582342e">另请参见<a href="settings-tools-database.html#allow_db_access">显示第一行</a> 。</p>            </div>        <div class="chapter"><h2 id="rename_table_or_column" data-toc="Working_with_the_Database_tool_window#rename_table_or_column">重命名项目</h2>        <ol class="list _decimal"><li class="list__item" id="11bbdaa7"><p>选择要重命名的项目。</p></li><li class="list__item" id="1ca6b014">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="dbdfc265"><p>选择<span class="menupath" data-skip-index="skip">Refactor |重命名</span> 。</p></li><li class="list__item" id="c24426c6"><p>从上下文菜单中选择“ <span class="control">重命名</span> ”。</p></li><li class="list__item" id="5f9e32bc"><p>按<kbd data-primary_default="Shift+F6" data-primary_default_for_gnome="Shift+F6" data-primary_default_for_kde="Shift+F6" data-primary_default_for_xwin="Shift+F6" data-primary_emacs="Shift+F6" data-primary_visual_studio="Shift+F6" data-primary_netbeans="Ctrl+R" data-primary_eclipse="Shift+Alt+R" data-secondary_mac_os_x_10.5_="⇧F6" data-secondary_mac_os_x="⇧F6" data-secondary_eclipse_mac_os_x="⇧F6" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⇧F6" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⇧F6">Shift + F6</kbd> 。</p></li></ul></li><li class="list__item" id="289ae010"><p>使用<a href="rename-dialog-for-a-table-or-column.html">打开</a>的<a href="rename-dialog-for-a-table-or-column.html">对话框</a>指定新名称和关联选项。</p></li></ol>    </div>    <div class="chapter"><h2 id="preview" data-toc="Working_with_the_Database_tool_window#preview">预览更改</h2>        <p id="e5fe2bde">对数据库对象的更改有时会假定对数据库控制台中的SQL脚本文件和语句进行相关更改。例如，您可能正在更改表的名称，并且此名称可能会在您的文件和控制台中使用。</p>        <p id="b3f7955f">在这种情况下，您可以查看潜在的变化，并确定哪些变更是可取的，哪些变更不合适。</p>        <p id="cca71c63">在相应的对话框中单击“ <span class="control">预览”</span>时，“ <a href="find-tool-window.html">查找”工具窗口中</a>会显示可能受影响的代码片段。以下是一些可用控件的概述：</p>        <ul class="list _ul"><li class="list__item" id="79e882e7"><p>                <span class="control">排除</span> （ <kbd data-primary_default="Delete" data-primary_default_for_gnome="Delete" data-primary_default_for_kde="Delete" data-primary_default_for_xwin="Delete" data-primary_emacs="Delete" data-primary_visual_studio="Delete" data-primary_netbeans="Delete" data-primary_eclipse="Delete" data-secondary_mac_os_x_10.5_="⌦" data-secondary_mac_os_x="⌦" data-secondary_eclipse_mac_os_x="⌦" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌦" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌦">删除</kbd> ）和<span class="control">删除</span> （ <kbd data-primary_default="Alt+Delete" data-primary_default_for_gnome="Alt+Delete" data-primary_default_for_kde="Alt+Delete" data-primary_default_for_xwin="Alt+Delete" data-primary_emacs="N/A" data-primary_visual_studio="Alt+Delete" data-primary_netbeans="Alt+Delete" data-primary_eclipse="Alt+Delete" data-secondary_mac_os_x_10.5_="⌘⌦" data-secondary_mac_os_x="⌘⌦" data-secondary_eclipse_mac_os_x="N/A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌥⌦" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Alt + Delete</kbd> ）。对于不应更改的项目，请使用这些上下文菜单命令。</p></li><li class="list__item" id="237f2c30"><p>                <span class="control">执行SQL脚本。</span> 如果启用此选项，并单击“ <span class="control">执行重构”</span> ，则会运行相应的SQL语句来修改相应的数据库对象。</p></li><li class="list__item" id="646042f4"><p>                <span class="control">在控制台中打开。</span>                使用此按钮可在<a href="working-with-database-consoles.html">数据库控制台中</a>打开相应的SQL语句。</p></li><li class="list__item" id="18d43053"><p>                <span class="control">重构。</span> 单击此按钮可更改相应的代码片段，如果启用了“ <span class="control">执行SQL脚本”</span>选项，则运行相应的SQL语句。</p></li></ul>    </div>    <div class="chapter"><h2 id="modify_definition" data-toc="Working_with_the_Database_tool_window#modify_definition">修改表，列，索引或主键或外键的定义</h2>        <ol class="list _decimal"><li class="list__item" id="a5f065af"><p>选择要更改其定义的项目。这可以是表，列，索引或主键或外键。</p></li><li class="list__item" id="ed5f44c0">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="153b9b17"><p>从上下文菜单中选择<span class="control">Modify &lt;item_type&gt;</span> （例如， <span class="control">Modify Table</span> ）。</p></li><li class="list__item" id="4cdb8d34"><p>按<kbd data-primary_default="Ctrl+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_default_for_xwin="Ctrl+F6" data-primary_emacs="Ctrl+F6" data-primary_visual_studio="Ctrl+F6" data-primary_netbeans="Ctrl+F6" data-primary_eclipse="Shift+Alt+C" data-secondary_mac_os_x_10.5_="⌘F6" data-secondary_mac_os_x="⌘F6" data-secondary_eclipse_mac_os_x="⌥⌘C" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃F6" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃F6">Ctrl + F6</kbd> 。</p></li></ul></li><li class="list__item" id="706edb9a"><p>使用<a href="modify-table-dialog.html">打开</a>的<a href="modify-table-dialog.html">对话框</a>更改项目定义。</p></li></ol></div>    <div class="chapter"><h2 id="open_db_object_definition" data-toc="Working_with_the_Database_tool_window#open_db_object_definition">在编辑器中打开数据库对象的DDL定义</h2>        <ol class="list _decimal"><li class="list__item" id="b47123d4"><p>选择要查看或编辑其定义的对象。</p></li><li class="list__item" id="ce409559">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="f2e12537"><p>点击<img alt="iconDBEditDDLSource" title="iconDBEditDDLSource" src="../img/idea/2019.1/iconDBEditDDLSource.png" id="ef6a74d1" width="14" height="15" class="inline-icon-14">在工具栏上。</p></li><li class="list__item" id="fc5188f9"><p>按<kbd data-primary_default="Ctrl+B" data-primary_default_for_gnome="Ctrl+B" data-primary_default_for_kde="Ctrl+B" data-primary_default_for_xwin="Ctrl+B" data-primary_emacs="Ctrl+Alt+G" data-primary_visual_studio="F12" data-primary_netbeans="Ctrl+B" data-primary_eclipse="F3" data-secondary_mac_os_x_10.5_="⌘B" data-secondary_mac_os_x="⌘B" data-secondary_eclipse_mac_os_x="F3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="F12" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥G">Ctrl + B.</kbd></p></li><li class="list__item" id="a0c935be"><p>在上下文菜单中的<span class="control">SQL Scripts</span>下选择<span class="control">Source Editor</span> 。</p></li></ul></li></ol>    </div>        <div class="chapter"><h2 id="generate_ddl" data-toc="Working_with_the_Database_tool_window#generate_ddl">生成DDL定义</h2>        <section class="procedure-steps"><h2 id="generate-ddl-definitions-for-dat">生成数据库对象的DDL定义</h2><p id="0e682fa4">数据定义语言（DDL）定义数据库的结构，包括行，列，表，索引和其他元素。在PyCharm中，您可以使用<span class="control">SQL Generator</span>工具窗口<span class="control">生成</span>数据库对象的数据定义。</p><p id="27c27388">右键单击数据库对象，然后选择“ <span class="menupath" data-skip-index="skip">SQL脚本” SQL生成器</span> （ <kbd data-primary_default="Ctrl+Alt+G" data-primary_default_for_gnome="Ctrl+Alt+G" data-primary_default_for_kde="Ctrl+Alt+G" data-primary_default_for_xwin="Ctrl+Alt+G" data-primary_emacs="N/A" data-primary_visual_studio="Ctrl+Alt+G" data-primary_netbeans="Ctrl+Alt+G" data-primary_eclipse="Ctrl+Alt+G" data-secondary_mac_os_x_10.5_="⌥⌘G" data-secondary_mac_os_x="⌥⌘G" data-secondary_eclipse_mac_os_x="⌥⌘G" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⌥G" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Ctrl + Alt + G</kbd> ）。</p><p id="1a928a6a">在<span class="control">SQL Generator</span>窗口中，您可以配置输出，将其复制到剪贴板（ <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.copy.svg@2x.png" width="16" alt="复制图标"> ），将其保存到文件（ <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.menu-saveall.svg@2x.png" width="16" alt="“保存到文件”图标"> ），或在数据库控制台中打开它（ <img class="inline-icon-16" src="../img/idea/2019.1/database-openapi.icons.consoleRun.svg@2x.png" width="16" alt="在控制台中运行"> ）。</p><figure><img alt="生成数据库对象的DDL定义" title="生成数据库对象的DDL定义" src="../img/idea/2019.1/db_skip_definer_in_generator.png" id="c8d7a318" class=" _border-line" width="700" height="544"></figure></section>        <aside class="note " rel="generate-ddl-definitions-for-dat" id="a2e5a568" data-title=""><p id="485f2b02">DEFINER子句指定例程执行的安全上下文（访问权限）。在MySQL和MariaDB中，选择<span class="control">Skip`definer = ...`子句</span>以在为过程或函数生成DDL时跳过此子句。</p></aside>        <section class="procedure-steps"><h2 id="save-generated-ddl-in-sql-files">将生成的DDL保存在SQL文件中</h2><ol class="list _decimal"><li class="list__item" id="1d9b660d"><p>右键单击数据库对象，然后选择“ <span class="menupath" data-skip-index="skip">SQL脚本” SQL生成器</span> （ <kbd data-primary_default="Ctrl+Alt+G" data-primary_default_for_gnome="Ctrl+Alt+G" data-primary_default_for_kde="Ctrl+Alt+G" data-primary_default_for_xwin="Ctrl+Alt+G" data-primary_emacs="N/A" data-primary_visual_studio="Ctrl+Alt+G" data-primary_netbeans="Ctrl+Alt+G" data-primary_eclipse="Ctrl+Alt+G" data-secondary_mac_os_x_10.5_="⌥⌘G" data-secondary_mac_os_x="⌥⌘G" data-secondary_eclipse_mac_os_x="⌥⌘G" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⌥G" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="N/A">Ctrl + Alt + G</kbd> ）。</p></li><li class="list__item" id="8ff76395"><p>在<span class="control">SQL Generator</span>工具窗口中，单击“ <span class="control">文件输出选项”</span>图标（ <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.menu-saveall.svg@2x.png" width="16" alt="文件输出选项图标"> ）。</p></li><li class="list__item" id="eb1d34df">                <p id="76c05c52">从“ <span class="control">布局”</span>列表中，选择要使用的方法：</p>                <ul class="list _ul"><li class="list__item" id="a84dcc20"><p><span class="control">每个对象的文件</span> ：生成一组SQL文件。</p></li><li class="list__item" id="dfff413c"><p><span class="control">带有顺序的每个对象的文件</span> ：生成一组带编号的SQL文件。</p></li></ul>            </li></ol><figure><img alt="为数据库对象生成DDL" title="为数据库对象生成DDL" src="../img/idea/2019.1/db_generate_sql_files_from_database_objects.png" id="d867d4c6" width="898" height="698"></figure></section>        <aside class="tip sideblock" rel="save-generated-ddl-in-sql-files" id="ce3a1f2b" data-title=""><p id="85b5f2d1">SQL文件由groovy脚本生成。要更改脚本，请单击“设置”图标（ <img class="inline-icon-16" src="../img/idea/2019.1/artwork.studio.icons.logcat.toolbar.settings@2x.png" width="16" alt="“设置”图标"> ）并选择<span class="control">编辑</span> 。</p></aside>    </div>    <div class="chapter"><h2 id="db_open_ddl" data-toc="Working_with_the_Database_tool_window#db_open_ddl">在数据库控制台中打开DDL定义</h2>        <p id="a8f04ee4">您可以在<a href="working-with-database-consoles.html">数据库控制台中</a>打开表和视图的DDL定义。</p>        <ol class="list _decimal"><li class="list__item" id="394ab7e8"><p>在DB数据源中，选择感兴趣的表或视图。</p></li><li class="list__item" id="49997e85">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="82874d71"><p>在上下文菜单中选择“在<span class="control">SQL脚本</span>下<span class="control">生成DDL到控制台</span> ”。</p></li><li class="list__item" id="3d3c177a"><p>按<kbd data-primary_default="Shift+F4" data-primary_default_for_gnome="Shift+F4" data-primary_default_for_kde="Shift+F4" data-primary_default_for_xwin="Shift+F4" data-primary_emacs="Shift+F4" data-primary_visual_studio="Shift+F4" data-primary_netbeans="Shift+F4" data-primary_eclipse="Shift+F4" data-secondary_mac_os_x_10.5_="⇧F4" data-secondary_mac_os_x="⇧F4" data-secondary_eclipse_mac_os_x="⇧F4" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⇧F4" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⇧F4">Shift + F4</kbd> 。</p></li></ul></li></ol>    </div>    <div class="chapter"><h2 id="db_generate_ddl" data-toc="Working_with_the_Database_tool_window#db_generate_ddl">在剪贴板上生成DDL定义</h2>        <ol class="list _decimal"><li class="list__item" id="cb6c5fb9"><p>选择感兴趣的项目。这些可以是数据源，模式，表，视图，存储过程或函数等。</p></li><li class="list__item" id="f02bc1d4">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="d23a852e"><p>在上下文菜单中选择<span class="control">SQL Scripts</span>下的<span class="control">Generate DDL to Clipboard</span> 。</p></li><li class="list__item" id="57e6a620"><p>按<kbd data-primary_default="Ctrl+Shift+C" data-primary_default_for_gnome="Ctrl+Shift+C" data-primary_default_for_kde="Ctrl+Shift+C" data-primary_default_for_xwin="Ctrl+Shift+C" data-primary_emacs="Ctrl+Shift+C" data-primary_visual_studio="Ctrl+Shift+C" data-primary_netbeans="N/A" data-primary_eclipse="Ctrl+Shift+C" data-secondary_mac_os_x_10.5_="⇧⌘C" data-secondary_mac_os_x="⇧⌘C" data-secondary_eclipse_mac_os_x="⇧⌘C" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⇧C" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⇧C">Ctrl + Shift + C.</kbd></p></li></ul>                <p id="9d67f146">现在，您可以将定义粘贴到<a href="working-with-database-consoles.html">数据库控制台</a>或SQL文件中。</p></li></ol>    </div>    <div class="chapter"><h2 id="compare_ddls" data-toc="Working_with_the_Database_tool_window#compare_ddls">比较表结构</h2>        <ol class="list _decimal"><li class="list__item" id="8dab97c9"><p>选择两个数据源，模式或表。</p></li><li class="list__item" id="27dec27b">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="183a0134"><p>从上下文菜单中选择<span class="control">Compare</span> 。</p></li><li class="list__item" id="c56a9707"><p>按<kbd data-primary_default="Ctrl+D" data-primary_default_for_gnome="Ctrl+D" data-primary_default_for_kde="Ctrl+D" data-primary_default_for_xwin="Ctrl+D" data-primary_emacs="Ctrl+D" data-primary_visual_studio="Ctrl+D" data-primary_netbeans="Ctrl+D" data-primary_eclipse="Ctrl+D" data-secondary_mac_os_x_10.5_="⌘D" data-secondary_mac_os_x="⌘D" data-secondary_eclipse_mac_os_x="⌘D" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃D" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃D">Ctrl + D.</kbd></p></li></ul></li></ol>        <p id="02d7bc7d">比较结果显示在差异查看器中。</p>    </div>    <div class="chapter"><h2 id="db_diagrams" data-toc="Working_with_the_Database_tool_window#db_diagrams">查看图表</h2>        <p id="6612978b">要打开数据源，架构或表的图表，请选择感兴趣的项目并执行以下操作之一：</p>        <ul class="list _ul"><li class="list__item" id="42034ff0"><p>按<kbd data-primary_default="Ctrl+Shift+Alt+U" data-primary_default_for_gnome="Ctrl+Shift+Alt+U" data-primary_default_for_kde="Ctrl+Shift+Alt+U" data-primary_default_for_xwin="Ctrl+Shift+Alt+U" data-primary_emacs="Ctrl+Shift+Alt+U" data-primary_visual_studio="Ctrl+Shift+Alt+U" data-primary_netbeans="Ctrl+Shift+Alt+U" data-primary_eclipse="Ctrl+Shift+Alt+U" data-secondary_mac_os_x_10.5_="⌥⇧⌘U" data-secondary_mac_os_x="⌥⇧⌘U" data-secondary_eclipse_mac_os_x="⌥⇧⌘U" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⌥⇧U" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥⇧U">Ctrl + Shift + Alt + U</kbd>或<kbd data-primary_default="Ctrl+Alt+U" data-primary_default_for_gnome="Ctrl+Alt+U" data-primary_default_for_kde="Ctrl+Alt+U" data-primary_default_for_xwin="Ctrl+Alt+U" data-primary_emacs="Ctrl+Alt+U" data-primary_visual_studio="Ctrl+Alt+U" data-primary_netbeans="Ctrl+Alt+U" data-primary_eclipse="Ctrl+Alt+U" data-secondary_mac_os_x_10.5_="⌥⌘U" data-secondary_mac_os_x="⌥⌘U" data-secondary_eclipse_mac_os_x="⌥⌘U" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⌥U" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥U">Ctrl + Alt + U.</kbd></p></li><li class="list__item" id="592cdaaa"><p>在上下文菜单中，选择<span class="control">Diagrams</span> ，然后选择<span class="control">Show Visualization</span>或<span class="control">Show Visualization Popup</span> 。</p></li></ul>    </div>    <div class="chapter"><h2 id="copy_table" data-toc="Working_with_the_Database_tool_window#copy_table">将表复制到另一个数据库或模式</h2>        <p id="97033195">您可以将表及其所有数据复制（导出）到另一个模式或数据库。即使源数据库和目标数据库属于不同的DBMS（例如，PostgreSQL和MySQL），这也是可能的。</p>        <p id="1bd6ca1c">要复制表格：</p>        <ol class="list _decimal"><li class="list__item" id="45fbf742"><p>将表拖到目标架构或数据库。</p></li><li class="list__item" id="fc9b9a6b"><p>在<a href="import-table-dialog.html">打开</a>的<a href="import-table-dialog.html">对话框中</a> ，指定新表的设置。</p></li></ol>    </div>    <div class="chapter"><h2 id="import_csv" data-toc="Working_with_the_Database_tool_window#import_csv">将分隔符分隔的值导入数据库</h2>        <p id="9414717b">要将包含分隔符分隔值（CSV，TSV等）的文本文件导入数据库，请拖动文件或使用“ <span class="control">从文件导入”</span>上下文菜单命令。</p>        <p id="527db8d6">如果将文件拖到模式中（或执行模式的“ <span class="control">从文件导入”</span>命令），PyCharm将为要导入的数据创建一个新表。如果将文件拖到现有表中（或执行表的命令），PyCharm将尝试将数据添加到该表。</p>        <ol class="list _decimal"><li class="list__item" id="373597c2">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="a101b0a0"><p>将文件从“ <span class="control">项目”</span>工具窗口（该文件可能是.zip存档）拖到“ <span class="control">数据库”</span>工具窗口中的模式或表中。</p></li><li class="list__item" id="d44e6721"><p>在“ <span class="control">数据库”</span>工具窗口中右键单击目标模式或表，选择“ <span class="control">从文件导入”</span> ，然后选择要从中导入数据的文件（此文件可能是.zip存档）。</p></li></ul>            </li><li class="list__item" id="b40e50bd"><p>在<a href="import-file-name-format-dialog.html">打开</a>的<a href="import-file-name-format-dialog.html">对话框中</a> ，指定数据转换设置，如果要创建新表，则指定表名称和结构。</p></li></ol>    </div>    <div class="chapter"><h2 id="open_table_editor" data-toc="Working_with_the_Database_tool_window#open_table_editor">打开数据编辑器</h2>        <ol class="list _decimal"><li class="list__item" id="48825de9"><p>选择感兴趣的表格。</p></li><li class="list__item" id="7490860b">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="7733c1da"><p>点击<img alt="数据表" title="数据表" src="../img/idea/2019.1/DataTables.png" id="2b1cc684" width="14" height="14" class="inline-icon-14">在工具栏上。</p></li><li class="list__item" id="8f760247"><p>从上下文菜单中选择<span class="control">Open Editor</span> 。</p></li><li class="list__item" id="2ee163ad"><p>按<kbd data-primary_default="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_default_for_xwin="F4" data-primary_emacs="F4" data-primary_visual_studio="F4" data-primary_netbeans="F4" data-primary_eclipse="F12" data-secondary_mac_os_x_10.5_="⌘↓" data-secondary_mac_os_x="F4" data-secondary_eclipse_mac_os_x="F3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="F4" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="F4">F4</kbd> 。</p></li></ul></li></ol>        <p id="8ec909cf">有关更多信息，请参阅<a href="working-with-the-data-editor.html"><span>使用表</span></a> 。</p>    </div>    <div class="chapter"><h2 id="copy_data_to_other_table" data-toc="Working_with_the_Database_tool_window#copy_data_to_other_table">将数据从一个表复制到另一个表</h2>        <ol class="list _decimal"><li class="list__item" id="5a603550"><p>将源表拖到目标表。</p></li><li class="list__item" id="10308bdc"><p>在<a href="import-table-dialog.html">打开</a>的<a href="import-table-dialog.html">对话框中</a> ，指定目标表的数据映射信息和其他设置。</p></li></ol>    </div>    <div class="chapter"><h2 id="saving_data_in_files" data-toc="Working_with_the_Database_tool_window#saving_data_in_files">以各种形式和格式将数据保存在文件中</h2>        <p id="d090d05b">您可以将数据库数据保存为SQL <code class="code">INSERT</code>和<code class="code">UPDATE</code>语句， <a href="https://en.wikipedia.org/wiki/Delimiter-separated_values" data-bypass="yes" target="_blank"><span>TSV和CSV</span></a> ，HTML表和<a href="https://en.wikipedia.org/wiki/JSON" data-bypass="yes" target="_blank"><span>JSON</span></a>数据。为每个单独的表或视图创建单独的文件。</p>        <ol class="list _decimal"><li class="list__item" id="bac22cd7"><p>选择数据源或感兴趣的模式，表和视图。</p></li><li class="list__item" id="5bb63c63"><p>在上下文菜单中，指向“将<span class="control">数据转储到文件”</span>并选择输出格式（例如<span class="control">逗号分隔值（CSV）</span> ）。</p></li><li class="list__item" id="dd403825"><p>在打开的对话框中，指定目标目录，如果要创建单个文件，则指定文件名。</p></li></ol>    </div>    <div class="chapter"><h2 id="specifying_output_options" data-toc="Working_with_the_Database_tool_window#specifying_output_options">配置数据输出格式和选项</h2>        <p id="fe073719">要配置“ <span class="control">转储数据到文件”</span>命令的输出格式（请参阅<a href="working-with-the-database-tool-window.html#saving_data_in_files">以各种格式和格式保存文件中的数据</a> ），请从与命令关联的菜单中选择以下选项之一：</p>        <ul class="list _ul"><li class="list__item" id="6e1a1625"><p>                    <span class="control">配置CSV格式。</span>                    打开<a href="data-extractors-dialog.html">CSV格式</a>对话框，您可以使用该对话框管理分隔符分隔值格式（例如，CSV或TSV）。</p></li><li class="list__item" id="0186af0b"><p>                <span class="control">转到脚本目录。</span>                此命令允许您切换到存储将表数据转换为各种输出格式的脚本的目录。</p></li></ul>        <p id="2f0b7b75">对于SQL INSERT和UPDATE，还有其他选项：添加表定义和跳过生成的列。这些可以在数据编辑器或数据库控制台的结果窗格中设置。见例如<a href="working-with-the-data-editor.html#changing_output_format"></a> 。</p>    </div>    <div class="chapter"><h2 id="dump_with_mysqldump" data-toc="Working_with_the_Database_tool_window#dump_with_mysqldump">使用mysqldump或pg_dump创建数据库备份</h2>        <p id="94c2d08e">您可以通过运行MySQL的<a href="http://dev.mysql.com/doc/refman/5.7/en/mysqldump.html" data-bypass="yes" target="_blank"><span>mysqldump</span></a>或PostgreSQL的<a href="https://www.postgresql.org/docs/9.5/static/app-pgdump.html" data-bypass="yes" target="_blank"><span>pg_dump</span></a>来为数据库对象创建备份。</p>        <ol class="list _decimal"><li class="list__item" id="5e72bac0"><p>在MySQL或PostgreSQL数据源中，选择感兴趣的项目（例如模式，表格和视图）。</p></li><li class="list__item" id="93365bf6"><p>从上下文菜单中，选择<span class="control">转储为“mysqldump”</span>或<span class="control">转储为“pg_dump”</span> 。</p></li><li class="list__item" id="fc2ba517"><p>在打开的对话框中，指定<code class="code">mysqldump</code>或<code class="code">pg_dump</code>可执行文件的位置以及执行转储的设置。如有必要，编辑对话框下半部分的命令行选项（自动完成功能可用）。</p></li></ol>    </div>    <div class="chapter"><h2 id="restore_dump_with_mysql" data-toc="Working_with_the_Database_tool_window#restore_dump_with_mysql">使用mysql，pg_restore或psql恢复数据转储</h2>        <p id="d4003c52">您可以通过MySQL的<code class="code">mysql</code>客户端实用程序或<a href="https://www.postgresql.org/docs/9.2/static/app-pgrestore.html" data-bypass="yes" target="_blank"><span>PostgSQL的pg_restore</span></a>或<a href="https://www.postgresql.org/docs/9.5/static/backup-dump.html" data-bypass="yes" target="_blank"><span>psql</span></a>来恢复<a href="working-with-the-database-tool-window.html#dump_with_mysqldump">数据转储</a> 。</p>        <ol class="list _decimal"><li class="list__item" id="f6b3ef9b"><p>选择目标MySQL或PostgreSQL数据源，数据库或模式。对于PostgreSQL，您还可以选择一个表。</p></li><li class="list__item" id="79a3cf12"><p>从上下文菜单中，选择<span class="control">使用“mysql”</span> <span class="control">还原，使用“psql”</span> <span class="control">还原</span>或<span class="control">还原</span> 。</p></li><li class="list__item" id="6ac4e4d2"><p>在打开的对话框中，指定实用程序可执行文件的位置，还原数据的选项以及转储文件的路径。如有必要，编辑对话框下半部分的命令行选项（自动完成功能可用）。</p></li></ol>    </div>    <div class="chapter"><h2 id="db_open_default_console" data-toc="Working_with_the_Database_tool_window#db_open_default_console">打开默认数据库控制台</h2>        <p id="6ceba7ad">右键单击感兴趣的数据源或其中的任何节点，然后在上下文菜单中选择“ <span class="control">打开控制台</span> ”（ <kbd data-primary_default="F4" data-primary_default_for_gnome="F4" data-primary_default_for_kde="F4" data-primary_default_for_xwin="F4" data-primary_emacs="F4" data-primary_visual_studio="F4" data-primary_netbeans="F4" data-primary_eclipse="F12" data-secondary_mac_os_x_10.5_="⌘↓" data-secondary_mac_os_x="F4" data-secondary_eclipse_mac_os_x="F3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="F4" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="F4">F4</kbd> ）。</p>        <p id="f0a34fba">有关更多信息，请参阅<a href="working-with-database-consoles.html"><span>使用数据库控制台</span></a> 。</p>    </div>    <div class="chapter"><h2 id="create_and_open_console" data-toc="Working_with_the_Database_tool_window#create_and_open_console">创建并打开一个新的数据库控制台</h2>        <ol class="list _decimal"><li class="list__item" id="5f0e8c3c"><p>选择感兴趣的DB数据源或其中的任何节点。</p></li><li class="list__item" id="c29ff9d3">执行以下操作之一：<ul class="list _ul"><li class="list__item" id="9b1e6d4e"><p>从上下文菜单中选择“ <span class="control">打开新控制台</span> ”。</p></li><li class="list__item" id="fbd44a73"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg">并选择<span class="control">控制台文件</span> 。</p></li></ul></li></ol>        <p id="4e82caf4">有关更多信息，请参阅<a href="working-with-database-consoles.html"><span>使用数据库控制台</span></a> 。</p>    </div>        <div class="chapter"><h2 id="db_close_connections" data-toc="Working_with_the_Database_tool_window#db_close_connections">关闭数据库连接</h2>        <p id="4eac8f9b">PyCharm在需要时自动连接到数据库。（具有开放数据库连接的数据源的名称以粗体显示在“ <span class="control">数据库”</span>工具窗口中。）</p>        <p id="725b7652">要关闭不必要的数据库连接，请选择相应的数据源并执行以下操作之一：</p>        <ul class="list _ul"><li class="list__item" id="3be3dafb"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.suspend.svg@2x.png" width="16" alt="图标动作暂停svg">在工具栏上。</p></li><li class="list__item" id="eae9fcc2"><p>从上下文菜单中选择“ <span class="control">断开连接</span> ”。</p></li><li class="list__item" id="89089cce"><p>按<kbd data-primary_default="Ctrl+F2" data-primary_default_for_gnome="Ctrl+F2" data-primary_default_for_kde="Ctrl+2" data-primary_default_for_xwin="Ctrl+F2" data-primary_emacs="Ctrl+F2" data-primary_visual_studio="Shift+F5" data-primary_netbeans="Shift+F5" data-primary_eclipse="Ctrl+F2" data-secondary_mac_os_x_10.5_="⌘F2" data-secondary_mac_os_x="⌘F2" data-secondary_eclipse_mac_os_x="⌘F2" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⇧F5" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃F2">Ctrl + F2</kbd> 。</p></li></ul>    </div>    <div class="chapter"><h2 id="remove_items" data-toc="Working_with_the_Database_tool_window#remove_items">删除项目</h2>        <p id="247de326">取决于您要删除的内容：</p>        <ul class="list _ul"><li class="list__item" id="f1add572"><p>数据源。使用<span class="control">删除</span>命令（ <span class="menupath" data-skip-index="skip">编辑|删除</span> ，从上下文菜单<span class="control">中</span>选择<span class="control">删除</span> ，或键盘上的<kbd data-primary_default="Delete" data-primary_default_for_gnome="Delete" data-primary_default_for_kde="Delete" data-primary_default_for_xwin="Delete" data-primary_emacs="Delete" data-primary_visual_studio="Delete" data-primary_netbeans="Delete" data-primary_eclipse="Delete" data-secondary_mac_os_x_10.5_="⌦" data-secondary_mac_os_x="⌦" data-secondary_eclipse_mac_os_x="⌦" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌦" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌦">Delete）。</kbd></p></li><li class="list__item" id="ec720438"><p>模式，表，列，索引，主键或外键约束，存储过程或函数等。使用“ <span class="control">删除”</span>命令（从上下文菜单中选择“ <span class="menupath" data-skip-index="skip">编辑”|“删除”</span> ，“ <span class="control">删除</span> ”或“键盘上的<kbd data-primary_default="Delete" data-primary_default_for_gnome="Delete" data-primary_default_for_kde="Delete" data-primary_default_for_xwin="Delete" data-primary_emacs="Delete" data-primary_visual_studio="Delete" data-primary_netbeans="Delete" data-primary_eclipse="Delete" data-secondary_mac_os_x_10.5_="⌦" data-secondary_mac_os_x="⌦" data-secondary_eclipse_mac_os_x="⌦" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌦" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌦">删除</kbd> ”）。</p></li><li class="list__item" id="c003e192"><p>主键或外键约束。对于删除主键和外键约束，除了<span class="control">下降</span> ，有以下上下文菜单命令： <span class="menupath" data-skip-index="skip">数据库工具|删除主键</span>和<span class="menupath" data-skip-index="skip">数据库工具|删除外键</span> 。请注意，只有选择了具有相应外键约束的列时， <span class="control">Drop Foreign Key</span>命令才可用（ <img alt="dataFkColumn" title="dataFkColumn" src="../img/idea/2019.1/dataFkColumn.png" id="bcc05514" width="16" height="15" class="inline-icon-16"> ）。</p></li><li class="list__item" id="a0364a5c"><p>表中的所有行。使用<span class="menupath" data-skip-index="skip">数据库工具|截断</span>相应表的上下文菜单命令。</p></li></ul>                <p id="1fd718d2">另请参见<a href="confirm-drop-dialog.html"><span>确认删除对话框</span></a> 。</p>    </div><div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="managing-data-sources.html">管理数据源</a> <a class="navigation-links__next" href="working-with-database-consoles.html">使用数据库控制台</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>