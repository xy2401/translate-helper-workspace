<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="making-the-application-interactive.html"><meta charset="UTF-8"><title>Making the Application Interactive - Help | IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="Making_the_Application_Interactive"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="making-the-application-interactive.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Making_the_Application_Interactive" id="Making_the_Application_Interactive.xml">Making the Application Interactive</h1>    <p id="5cbcde71">        Although our sample application is fully functional at this point, it does not support any form of interaction yet.        To make the application support tap events, you need to edit the <span class="control">HelloDroid</span> class defined in the <code class="code">src</code> folder.    </p>    <div class="chapter"><h2 id="03d6bcdb">1. Open the MyActivity class</h2>        <p id="ecddacff">        In the <a href="project-tool-window.html">Project</a> view, locate the <code class="code">HelloDroid.java</code> file under the <code class="code">src | com.example.HelloDroid</code>        folder and click on it:        </p>        <figure><img alt="android activity" title="android activity" src="../img/idea/2019.1/android_activity.png" id="150fd8e9" width="955" height="609"></figure>    </div>    <div class="chapter"><h2 id="491efc92">2. Add references to visual elements</h2>        <p id="b4a39415">            In Android, you need to explicitly obtain references to visual elements in order to manipulate them programmatically.            You need to define private members on the activity class to hold these references, and then initialize these members in a newly            created method invoked from within <code class="code">onCreate</code>.        </p>        <ol class="list _decimal"><li class="list__item" id="f2ae070d"><p>                Add the following code to the <code class="code">HelloDroid</code> class:                <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">private</span> <span class="n">TextView</span> <span class="n">message</span><span class="o">;</span>
<span class="kd">private</span> <span class="n">ImageView</span> <span class="n">droid</span><span class="o">;</span></code></div>            </p></li><li class="list__item" id="5ac3b1c4"><p>                Add a call to a new method called <code class="code">InitializeApp</code> in <code class="code">OnCreate</code>. IntelliJ IDEA promptly detects that this method is missing                and suggests generating it for you:                <figure><img alt="android make interactive create method" title="android make interactive create method" src="../img/idea/2019.1/android_make_interactive_create_method.png" id="1423a75f" width="489" height="422"></figure>            </p></li><li class="list__item" id="f3909189">                In the <code class="code">InitializeApp</code> method, assign private members a reference to a visual element:                <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">message</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">message</span><span class="o">);</span>
<span class="n">droid</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">imageView</span><span class="o">);</span></code></div>                <p id="a9bb3f30">                    The expression <code class="code">R.id.xxx</code> indicates a member of the auto-generated <a href="http://developer.android.com/reference/android/R.html" data-bypass="yes" target="_blank"><span>R class</span></a>.                </p>            </li></ol>    </div>    <div class="chapter"><h2 id="bba17558">3. Add an event handler</h2>        <p id="6fbdf345">            In an application, no interaction is possible without events and event handlers. As an example, let's add a click handler to the droid image view and            display a message every time the user touches the image.        </p>        <p id="406fc7c2">            In Java, an event handler takes the following form:        </p>        <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">private</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="n">droidTapListener</span><span class="o">;</span></code></div>        <p id="cc33181d">            Add this member to the <code class="code">HelloDroid</code> class and initialize it in the <code class="code">InitializeApp</code> method.            You code should now look as following:        </p>        <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">private</span> <span class="kt">void</span> <span class="nf">InitializeApp</span><span class="o">()</span> <span class="o">{</span>
<span class="n">message</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">message</span><span class="o">);</span>
<span class="n">droid</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">imageView</span><span class="o">);</span>

<span class="c1">// Define and attach listeners</span>
<span class="n">droidTapListener</span> <span class="o">=</span> <span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span>  <span class="o">{</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
<span class="n">TapDroid</span><span class="o">();</span>
<span class="o">}</span>
<span class="o">};</span>
<span class="n">droid</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="n">droidTapListener</span><span class="o">);</span>
<span class="o">}</span></code></div>        <p id="53b366bd">            The net effect of this code is that every time the user taps the image, the <code class="code">TapDroid</code> method is invoked.        </p>    </div>    <div class="chapter"><h2 id="30dfc4d5">4. Handle the 'Click' event</h2>        <ol class="list _decimal"><li class="list__item" id="0d8d0da3"><p>                The <code class="code">TapDroid</code> method just counts the times the user touched the image, and displays a message. You need to add a new private                member to the <code class="code">HelloDroid</code> class to count clicks:                <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyActivity</span> <span class="kd">extends</span> <span class="n">Activity</span>
<span class="o">{</span>
<span class="kd">private</span> <span class="n">TextView</span> <span class="n">message</span><span class="o">;</span>
<span class="kd">private</span> <span class="n">ImageView</span> <span class="n">droid</span><span class="o">;</span>
<span class="kd">private</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="n">droidTapListener</span><span class="o">;</span>
<span class="kd">private</span> <span class="kt">int</span> <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

<span class="c1">// More code goes here ...</span>
<span class="o">}</span></code></div>            </p></li><li class="list__item" id="3d189a89"><p>                Next, define the <code class="code">TapDroid</code> method as shown below:                <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="kd">private</span> <span class="kt">void</span> <span class="nf">TapDroid</span><span class="o">()</span> <span class="o">{</span>
<span class="n">counter</span><span class="o">++;</span>
<span class="n">String</span> <span class="n">temp</span><span class="o">;</span>
<span class="k">switch</span> <span class="o">(</span><span class="n">counter</span><span class="o">)</span>
<span class="o">{</span>
<span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
<span class="n">temp</span> <span class="o">=</span> <span class="s">&quot;once&quot;</span><span class="o">;</span>
<span class="k">break</span><span class="o">;</span>
<span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
<span class="n">temp</span> <span class="o">=</span> <span class="s">&quot;twice&quot;</span><span class="o">;</span>
<span class="k">break</span><span class="o">;</span>
<span class="k">default</span><span class="o">:</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;%d times&quot;</span><span class="o">,</span> <span class="n">counter</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">message</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">&quot;You touched the droid %s&quot;</span><span class="o">,</span> <span class="n">temp</span><span class="o">));</span>
<span class="o">}</span></code></div>            </p></li></ol>    </div>    <div class="chapter"><h2 id="60a22293">5. Build an application and launch it on a device</h2>        <p id="2f116994">            Your sample application is now complete. You can build and deploy it to an Android device.        </p>        <ol class="list _decimal"><li class="list__item" id="bbe18a29"><p>                <a href="building-and-running-the-application.html#AddRunConfig">Create a run/debug configuration</a> and select                <span class="control">USB device</span> under <span class="control">Target Device</span>.            </p></li><li class="list__item" id="c799931e"><p>                Connect an Android device to the computer through a USB cable. If the device is connected for the first time, wait until all drivers are installed.            </p></li><li class="list__item" id="8bc77b5b">                If this is the first time you are deploying an application outside of the Android application stores, enable the <span class="control">USB Debugging</span> mode                on your device.                        <p id="4cd08ae3">            On Android 4.2 or higher, do the following:        </p>        <ul class="list _bullet"><li class="list__item" id="e42e5e46"><p>                Open your device's <span class="control">Settings</span>.            </p></li><li class="list__item" id="6b389426"><p>                Scroll to <span class="control">About phone</span> or <span class="control">About tablet</span> and tap it.            </p></li><li class="list__item" id="f9f01b2e"><p>                Scroll to the bottom and tap <span class="control">Build number</span> 7 times until you see the "You are a developer!" message. By doing so, you've unlocked the                USB debugging mode on your device.            </p></li><li class="list__item" id="bf745262"><p>                Now navigate to <span class="control">Settings | Developer Options | Debugging | USB Debugging</span> to let your phone deploy non-packaged applications.            </p></li></ul>                </li><li class="list__item" id="6f0a98b7"><p>                Make sure the appropriate run/debug configuration is selected in the drop-down in the top-right corner of the editor and click the <span class="control">Run</span> icon:                <figure><img alt="android application run physical" title="android application run physical" src="../img/idea/2019.1/android_application_run_physical.png" id="9f5d698f" width="324" height="61"></figure>            </p></li><li class="list__item" id="b9b2a90a"><p>                When the application has been successfully deployed on the device, tap the image and look at the changes to the user interface:                <figure><img alt="android application physical" title="android application physical" src="../img/idea/2019.1/android_application_physical.png" id="bbf2d021" width="360" height="640"></figure>            </p></li></ol>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="editing-ui-layout-using-text-editor.html">Editing UI Layout Using Text Editor</a><a class="navigation-links__next" href="creating-unit-tests.html">Creating Unit Tests</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a href="building-and-running-the-application.html"><span>Building and Running the Application</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























