<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="editing-ui-layout-using-designer.html"></link><meta charset="UTF-8"></meta><title>使用Designer编辑UI布局 - 帮助| IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Editing_UI_Layout_Using_Designer"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="editing-ui-layout-using-designer.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Editing_UI_Layout_Using_Designer.xml" data-toc="Editing_UI_Layout_Using_Designer">使用Designer编辑UI布局</h1>    <p id="26353e1e">在此阶段，示例<code class="code">HelloDroid</code>应用程序的用户界面基于非常简单的布局。UI布局在<code class="code">res/layout</code>文件夹中的<code class="code">activity_main.xml</code>文件中定义。默认情况下，IntelliJ IDEA提供布局文件的图形视图，但它也允许您切换到基于文本的视图，您可以在其中手动编辑布局文件。</p>    <p id="cc39ee54">让我们使用内置的<a href="designer-tool-window.html">UI Designer</a>修改自动生成的用户界面，并查看应用程序布局的呈现方式，而无需在任何物理或虚拟设备上运行它。</p>    <div class="chapter"><h2 id="b00d18bf">1。打开布局文件</h2>        <p id="e259e962">在<a href="project-tool-window.html">项目视图中</a> ，导航到<code class="code">res\layout</code>文件夹并选择<code class="code">activity_main.xml</code>文件。“ <a href="designer-tool-window.html">设计”窗格</a>将在编辑器中打开。</p>        <p id="ddfed84d">该窗格显示一个矩形画布，该画布与当前布局定义文件和“ <span class="control">组件树”</span>视图同步，因此对画布的任何更改都会相应地反映在那里。</p>        <figure><img alt="Android UI设计师教程" title="Android UI设计师教程" src="../img/idea/2019.1/Android_UI_designer_tutorial.png" id="628a3b67" width="908" height="765"></figure>    </div>    <div class="chapter"><h2 id="deac8c93">2。删除现有的文本元素</h2>        <p id="16323a76">我们删除现有的文本元素。为此，单击以在视图中选择文本标签，然后右键单击它以调用上下文菜单。选择“ <span class="control">删除”</span>以清除用户界面：</p>        <figure><img alt="Android ui设计师删除文字" title="Android ui设计师删除文字" src="../img/idea/2019.1/Android_ui_designer_delete_text.png" id="79bea4c1" width="919" height="737"></figure>    </div>    <div class="chapter"><h2 id="01ae5b4c">3。添加ImageView小部件</h2>        <p id="6daa10fe">现在添加一个ImageView小部件：从<span class="control">Widgets</span>面板中选择<span class="control">ImageView</span>组件，然后单击要插入小部件的画布。或者，您可以将窗口小部件拖放到“ <span class="control">设计”</span>窗格中：</p>        <figure><img alt="android ui designer添加imageview" title="android ui designer添加imageview" src="../img/idea/2019.1/android_ui_designer_add_imageview.png" id="ba2a434d" width="594" height="766"></figure>        <p id="36bfc57a">此时，视图包含图像的占位符，但还没有与之关联的图像。要将图像添加到项目中，首先需要在<code class="code">res</code>下创建一个<code class="code">drawable</code>文件夹。</p>    </div>        <div class="chapter"><h2 id="a3f85b05">4。创建'drawable'文件夹</h2>        <p id="89f2f8e6">在“ <span class="control">项目”</span>视图中右键单击<code class="code">res</code>节点，然后选择“ <span class="control">新建”| Android资源目录</span> 。从“ <span class="control">资源类型”</span>下拉列表中，选择“ <span class="control">可绘制”</span> 。如有必要，请选择任何可用的限定符。</p><figure><img alt="android ui designer添加drawable" title="android ui designer添加drawable" src="../img/idea/2019.1/android_ui_designer_add_drawable.png" id="55090c89" width="706" height="516"></figure>                <p id="9a1094de">只有当您希望为不同的屏幕，UI模式，密度或区域设置使用不同的资源集时，才使用“小”等限定符。如果要使用一组资源，则不需要限定符。</p>        <p id="ae8624fe">要添加图像，只需在Windows资源管理器中选择图像文件，然后将它们拖到IntelliJ IDEA中的<code class="code">drawable</code>文件夹中。</p>    </div>    <div class="chapter"><h2 id="5e6ebfb7">5。将图像文件链接到“ImageView”小部件</h2>        <p id="731415fa">现在，您需要将已添加的图像文件链接到<span class="emphasis">ImageView</span>小部件。在UI设计器中，您需要选择窗口小部件以编辑其属性。您可以通过单击选择小部件，但是，这有时可能是一项非常艰巨的任务。如果您添加了一个图像窗口小部件但没有附加图像，则该窗口小部件将呈现为一个非常薄的框，使用鼠标很难选择。这是<a href="designer-tool-window.html#componentTree">组件树</a>拯救时让您轻松选择所需的视觉元素。</p>        <aside class="tip sideblock" rel="731415fa" id="c041793f" data-title="">            <p id="47b9feb3">在添加，编辑或删除UI布局的图形组件时，您可以使用与<span class="control">Designer</span>相同的方式使用<span class="control">组件树</span> 。您可以将小部件拖放到<span class="control">组件树上，</span>并从显示的层次结构中删除或编辑元素。</p>        </aside>        <ol class="list _decimal"><li class="list__item" id="3b645c87"><p>在“ <span class="control">组件树”</span>窗格中，选择<span class="control">imageView</span>组件并在其属性表中找到<code class="code">src</code>条目：</p><figure><img alt="android ui designer添加widget源码" title="android ui designer添加widget源码" src="../img/idea/2019.1/android_ui_designer_add_widget_source.png" id="ad364cdc" width="319" height="591"></figure>            </li><li class="list__item" id="a897648d">单击“ <span class="control">浏览”</span> <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="82c4730b" width="15" height="15" class="inline-icon-15">并在打开的对话框中选择要附加到窗口小部件的图像：<figure><img alt="android ui设计师选择drawable" title="android ui设计师选择drawable" src="../img/idea/2019.1/android_ui_designer_select_drawable.png" id="fd606084" width="487" height="582"></figure>                <p id="f0fe2d77">图像将附加到窗口小部件。您可以在设计器中选择它并调整其大小和位置：</p><figure><img alt="android ui designer drawable添加" title="android ui designer drawable添加" src="../img/idea/2019.1/android_ui_designer_drawable_added.png" id="eba5d69a" width="350" height="623"></figure>                            </li></ol>    </div>    <div class="chapter"><h2 id="2a9d00be">6。添加“TextView”组件</h2>        <p id="1aa5094a">现在让我们添加一个<span class="emphasis">TextView</span>组件。在调色板中，找到<span class="control">Widgets</span>下的<span class="control">Plain TextView</span>组件，然后将其拖放到图像正下方的视图中：</p>        <figure><img alt="Android ui设计师添加textview" title="Android ui设计师添加textview" src="../img/idea/2019.1/Android_ui_designer_add_textview.png" id="021b6153" width="646" height="803"></figure>        <p id="2a822e2d">默认情况下， <span class="control">Plain TextView</span>显示一些文字文本： <code class="code">New Text</code> 。要更改它并将其链接到某些可本地化的字符串，您需要创建一个新的文本资源。</p>    </div>    <div class="chapter"><h2 id="c399ba4d">7。创建一个'String'资源</h2>        <ol class="list _decimal"><li class="list__item" id="f44c6efb"><p>在“ <span class="control">组件树”中</span> ，选择<span class="control">TextView</span>元素，然后在下面的属性表中找到<span class="control">text</span>属性。</p></li><li class="list__item" id="d0dd352a">单击“ <span class="control">浏览”</span> <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="1c705f65" width="15" height="15" class="inline-icon-15">调用“ <span class="control">资源”</span>对话框，允许您选择现有字符串值或添加新值。<p id="4511922d">请注意，字符串存储在<code class="code">res | values</code>下的<code class="code">strings.xml</code>文件中<code class="code">res | values</code>文件夹。如有必要，您可以直接编辑<code class="code">strings.xml</code>文件。</p>            </li><li class="list__item" id="ed342c44"><p>单击“ <span class="control">新建资源”新字符串值</span> 。在打开的对话框中，输入资源名称并指定将在<span class="control">TextView</span>小部件中显示的文本：</p><figure><img alt="android ui designer添加字符串" title="android ui designer添加字符串" src="../img/idea/2019.1/android_ui_designer_add_string.png" id="11f2f822" width="754" height="378"></figure>            </li></ol>    </div>    <div class="chapter"><h2 id="d50fa904">8。为文本添加样式</h2>        <p id="a12a6508">要使文本看起来更有吸引力，您需要设置一些其他属性。您可以通过编辑<span class="control">TextView</span>组件的属性来完成此操作。我们来做以下事情：</p>        <ol class="list _decimal"><li class="list__item" id="7aca3e0e"><p>水平居中标签：将<span class="control">gravity</span>属性设置为<code class="code">center_horizontal</code> 。</p></li><li class="list__item" id="53519b46"><p>填充文本：找到<span class="control">padding</span>属性并将<span class="control">all</span>的值设置为<code class="code">10dp</code> 。</p></li><li class="list__item" id="983f77b1"><p>更改字体颜色：编辑<span class="control">textColor</span>属性。您可以将属性值设置为颜色字符串，例如<code class="code">#ffd764</code> ，或者您可以让它引用颜色资源。要添加颜色资源，请单击“ <span class="control">浏览”</span> <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="a9caa94c" width="15" height="15" class="inline-icon-15">并创建一个名为<code class="code">welcomeText</code>的资源，其值为<code class="code">#ffd764</code> 。</p></li><li class="list__item" id="47e023da">更改字体大小：编辑<span class="control">TextSize</span>属性。您可以设置一个值，或者将其链接到一个大小资源，就像我们使用上面的<span class="control">TextColor</span>属性一样。<p id="aa9218e4">请注意，您不能将尺寸指示为普通数字。您必须始终添加<span class="emphasis">dp</span>后缀。</p>            </li></ol>        <p id="6ae01935">因此，您的用户界面现在看起来如下所示：</p>        <figure><img alt="android ui设计师风格的文字" title="android ui设计师风格的文字" src="../img/idea/2019.1/android_ui_designer_styled_text.png" id="4ec910ea" width="370" height="696"></figure>    </div>    <div class="chapter"><h2 id="bf727344">9。在各种条件下预览您的布局</h2>        <p id="612235a3"><a href="designer-tool-window.html#designControls">Designer工具窗口顶部</a>的<a href="designer-tool-window.html#designControls">控件</a>允许您在不同条件下预览UI布局：横向或纵向，不同屏幕尺寸，使用不同主题，不同区域设置等。这为您提供了一种快速简便的方法，可以在许多常见方案中查看整个应用程序UI的外观。</p>        <p id="fb404272">例如，执行以下操作：</p>        <ul class="list _ul"><li class="list__item" id="f8fcf7ad"><p>点击<img alt="AndroidLayoutConfig" title="AndroidLayoutConfig" src="../img/idea/2019.1/AndroidLayoutConfig.png" id="7ac7e6ee" width="30" height="23" class="inline-icon-30">图标，然后从下拉菜单中选择<span class="control">预览所有屏幕尺寸</span> 。IntelliJ IDEA将在最常见的屏幕类型上显示UI布局的预览。</p></li><li class="list__item" id="7e1b9490"><p>要在不同设备上预览应用程序布局，请单击包含当前设备名称的图标（在我们的示例中，它是<img alt="AndroidDevice1" title="AndroidDevice1" src="../img/idea/2019.1/AndroidDevice1.png" id="27182cd6" width="73" height="24" class="inline-icon-73"> ）并从列表中选择。</p></li><li class="list__item" id="2433f414"><p>点击<img alt="AndroidLayoutOrientation" title="AndroidLayoutOrientation" src="../img/idea/2019.1/AndroidLayoutOrientation.png" id="c49ef83f" width="30" height="22" class="inline-icon-30">在布局和纵向预览模式之间切换。</p></li></ul>    </div>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__next" href="editing-ui-layout-using-text-editor.html">使用文本编辑器</a> <a class="navigation-links__prev" href="building-and-running-the-application.html">构建和运行应用程序</a> <a class="navigation-links__next" href="editing-ui-layout-using-text-editor.html">编辑UI布局</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="designing-layout-of-android-application.html"><span>设计Android应用程序的布局</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="designer-tool-window.html"><span>设计师工具窗口</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>