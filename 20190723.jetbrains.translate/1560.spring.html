<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="spring.html"></link><meta charset="UTF-8"></meta><title>IntelliJ IDEA中的Rails / Spring支持 - 帮助| IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="spring.debugging.info.shown"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="spring.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 id="Spring.xml" data-toc="spring.debugging.info.shown">IntelliJ IDEA中的Rails / Spring支持</h1>         <aside class="warning " rel="Spring.xml" id="7af97743" data-title=""><p>此功能仅在<b id="b814fbe8" origin="intellij-platform">Ultimate</b>版本中受支持。</p></aside>                     <aside class="warning " rel="Spring.xml" id="8033f800" data-title=""><p>以下内容仅在安装并启用Ruby插件时有效！</p></aside>           <p id="4e8da23d">        <a href="https://github.com/rails/spring" data-bypass="yes" target="_blank"><span>Spring</span></a>是一个Rails应用程序预加载器，它通过让您的应用程序在后台运行来加速开发。这意味着您在进行更改时无需重新启动服务器。</p>    <p id="debug_note">在IntelliJ IDEA中，Spring可用于运行<a href="creating-rails-application-elements.html">Rails生成器</a> ， <a href="testing-frameworks.html">测试</a>和<a href="rake.html">Rake</a>任务。确保将<span class="control">spring</span> gem添加到Gemfile并<a href="using-the-bundler.html">安装</a>到项目的SDK中。</p>    <p id="d15c55f2">请注意，默认情况下，在不使用Spring的情况下运行Test :: Unit / Shoulda / Minitest测试。要了解如何启用Spring以运行测试，请参阅<a href="spring.html#enable_spring_tests">使用Spring运行测试</a> 。</p>            <div class="chapter"><h2 id="enable_spring_tests">使用Spring运行测试</h2>        <p id="d5629882">IntelliJ IDEA允许您指定是否使用Spring预加载器为指定的<a href="creating-and-editing-run-debug-configurations.html">运行/调试配置</a>运行测试。在下面的示例中，我们将演示如何从<a href="https://bitbucket.org/rubyminedoc/sample_rails_app" data-bypass="yes" target="_blank"><span>sample_rails_app</span></a>项目中的<span class="control">test</span>目录运行所有<span class="control">Minitest</span>测试。为此，您可以使用以下工作流程：</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="5b3c271e">                <p id="3b5ccd2e">在项目视图中右键单击<span class="control">测试</span>目录，然后选择<span class="control">“运行测试中的所有测试：...”'</span> 。执行测试后，将创建相应的运行/调试配置（ <span class="emphasis">test：sample_rails_app中的所有测试</span> ）。</p>                <figure><img alt="运行测试配置" title="运行测试配置" src="../img/idea/2019.1/rm_run_config_temp_example.png" id="ae77db7f" width="333" height="48"></figure>            </li><li class="list__item" id="b4b78ef5">                <p id="126f9f7d">在导航栏中，展开运行/调试配置列表，然后选择“ <span class="control">编辑配置”</span> 。</p>                <figure><img alt="编辑运行配置" title="编辑运行配置" src="../img/idea/2019.1/rm_runConfigMenu.png" id="9f0b72bc" width="374" height="358"></figure>            </li><li class="list__item" id="f997ad36">                <p id="14f7cf5e">在调用的对话框中，确保在左侧列表中选择了<span class="emphasis">test：sample_rails_app</span>配置中的<span class="emphasis">所有测试</span> 。然后，将“ <span class="control">使用预加载服务器”</span>选项设置为“ <span class="emphasis">Spring”</span> 。</p>                <figure><img alt="运行/调试配置对话框" title="运行/调试配置对话框" src="../img/idea/2019.1/rm_run_config_dialog_spring.png" id="2397ac22" width="819" height="648"></figure>                <p id="6fb4c7a5">单击<span class="control">确定</span> 。现在将使用Spring预加载器从此运行/调试配置运行测试。</p>            </li></ol></section>    </div>    <div class="chapter"><h2 id="enable_spring_debug">使用Spring进行调试</h2>        <p id="9864713e">IntelliJ IDEA允许您使用Spring <a href="debugging-code.html">调试</a> Rails应用程序。这可能需要更新系统或项目Spring配置文件，以将调试器加载到Spring <a href="https://github.com/rails/spring#running-code-after-forking" data-bypass="yes" target="_blank"><span>分叉</span></a>的每个进程中。当您开始调试时，IntelliJ IDEA可能会向您显示包含以下选项的对话框：</p>        <ul class="list _ul"><li class="list__item" id="9d00b078">                <p id="906244bf">                    <span class="control">系统配置（〜/ .spring.rb）</span>                </p>                <p id="d644156a">单击以更新系统Spring config（ <span class="filepath">〜/ .spring.rb</span>文件）并开始调试。</p>            </li><li class="list__item" id="0af5e9aa">                <p id="1150b1be">                    <span class="control">项目配置（config / spring.rb）</span>                </p>                <p id="084e9045">单击以更新项目Spring config（ <span class="filepath">config / spring.rb</span>文件）并开始调试。</p>            </li><li class="list__item" id="93e3c98a">                <p id="c85802e0">                    <span class="control">不要改变，禁用Spring</span>                </p>                <p id="68aede69">单击以禁用Spring以调试应用程序。</p>            </li></ul>    </div>    <div class="chapter"><h2 id="disable_spring">禁用Spring</h2>        <p id="85207744">如果需要，可以为当前项目禁用Spring。去做这个：</p>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="3814ba0b"><p>从主菜单中，选择“ <span class="menupath" data-skip-index="skip">帮助”|查找操作</span> （ <kbd data-primary_default="Ctrl+Shift+A" data-primary_default_for_gnome="Ctrl+Shift+A" data-primary_default_for_kde="Ctrl+Shift+A" data-primary_default_for_xwin="Ctrl+Shift+A" data-primary_emacs="Escape, X" data-primary_jbuilder="Ctrl+Shift+A" data-primary_visual_studio="Ctrl+Shift+A" data-primary_netbeans="Ctrl+I" data-primary_eclipse="Ctrl+Shift+A" data-secondary_mac_os_x_10.5_="⇧⌘A" data-secondary_mac_os_x="⇧⌘A" data-secondary_eclipse_mac_os_x="⌘3" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⎋, X">Ctrl + Shift + A</kbd> ）。</p></li><li class="list__item" id="782665f5"><p>开始键入<span class="emphasis">Spring</span>并禁用<span class="control">Spring预加载器</span>选项。</p></li></ol></section>    </div>                <div class="chapter"><h2 id="stop_spring">停止Spring服务器</h2>        <p id="51745545">当您在IntelliJ IDEA中启动Rails生成器，测试或Rake任务时，它会使用自定义SPRING_TMP_PATH <a href="https://github.com/rails/spring#environment-variables" data-bypass="yes" target="_blank"><span>环境变量</span></a>启动Spring服务器的单独实例。此变量的值等于<span class="emphasis">{temp_dir} / RMSpring</span> 。这意味着您需要在<code class="code">SPRING_TMP_PATH={temp_dir}/RMSpring</code> Spring服务器命令。例如，如果您在macOS上遇到Spring的某些问题并需要停止它，请运行以下命令：</p>        <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">SPRING_TMP_PATH</span> <span class="o">=</span> <span class="n">$</span> <span class="o">{</span> <span class="n">TMPDIR</span> <span class="o">} /</span> <span class="n">RMSpring</span> <span class="n">bin</span> <span class="o">/</span> <span class="n">spring</span> <span class="n">stop</span></code></div>    </div>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="executing-tests-on-zeus-server.html">在Zeus Server</a> <a class="navigation-links__next" href="rake.html">Rake支持</a> <a class="navigation-links__prev" href="executing-tests-on-zeus-server.html">上执行测试</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>外部链接：</h3><ul class="list"><li class="list__item"><a href="https://github.com/rails/spring" data-bypass="yes" target="_blank"><span>https://github.com/rails/spring</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>