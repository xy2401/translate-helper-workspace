<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="shelving-and-unshelving-changes.html"></link><meta charset="UTF-8"></meta><title>搁置和搁置的变化 - 帮助| WebStorm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Shelving_and_Unshelving_Changes"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索WebStorm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="shelving-and-unshelving-changes.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>WebStorm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="true"><h1 id="Shelving_and_Unshelving_Changes.xml" data-toc="Shelving_and_Unshelving_Changes">搁置和搁置的变化</h1>                    <p id="23d515b4">搁置暂时存储您尚未提交的挂起更改。这很有用，例如，如果您需要切换到另一个高优先级任务，并且您希望将更改设置为稍后处理它们。</p>            <p id="dceb15a1">使用WebStorm，您可以搁置单独的文件和整个更改列表。</p>            <p id="08176c7a">搁置后，可以根据需要多次进行更改，通过取消搁置并随后将其恢复到货架上。</p>                <section class="procedure-steps"><h2 id="ChList">将更改放到架子上</h2><ol class="list _decimal"><li class="list__item" id="43bca4a7"><p>打开“ <span class="control">版本控制”</span>工具窗口（ <kbd data-primary_default="Alt+9" data-primary_default_for_gnome="Alt+9" data-primary_default_for_kde="Alt+9" data-primary_default_for_xwin="Alt+9" data-primary_emacs="Alt+9" data-primary_visual_studio="Alt+9" data-primary_eclipse="Alt+9" data-secondary_mac_os_x_10.5_="⌘9" data-secondary_mac_os_x="⌘9" data-secondary_eclipse_mac_os_x="⌘9">Alt + 9</kbd> ）并切换到“ <span class="control">本地更改”</span>选项卡。</p></li><li class="list__item" id="81b4ee96"><p>右键单击要放入工具架的文件或<span class="control">更改列表，然后</span>从上下文菜单中选择“ <span class="control">搁置更改</span> ”。</p></li><li class="list__item" id="379804b9"><p>在“ <span class="control">搁置更改”</span>对话框中，查看已修改文件的列表。</p></li><li class="list__item" id="1225f75f"><p>在“ <span class="control">提交消息”</span>字段中，输入要创建的货架的名称，然后单击“货架<span class="control">更改”</span>按钮。</p></li></ol><p id="shelve-silently">您还可以静默搁置更改，而不显示“ <span class="control">搁置更改”</span>对话框。要执行此操作，请选择要搁置的文件或更改列表，然后单击<span class="control">Shelve Silently</span>图标<img class="inline-icon-16" src="../img/idea/2019.1/icons.vcs.shelveSilent.svg@2x.png" width="16" alt="icons vcs shelveSilent svg">在工具栏上，或按<kbd data-primary_default="Ctrl+Alt+H" data-primary_default_for_gnome="Ctrl+Alt+H" data-primary_default_for_kde="Ctrl+Alt+H" data-primary_default_for_xwin="Ctrl+Alt+H" data-primary_emacs="Ctrl+Alt+H" data-primary_visual_studio="Ctrl+Alt+H" data-primary_eclipse="Ctrl+Alt+H" data-secondary_mac_os_x_10.5_="⌃⌥H" data-secondary_mac_os_x="⌃⌥H" data-secondary_eclipse_mac_os_x="⌃⌥H">Ctrl + Alt + H.</kbd>包含要搁置的更改的更改列表的名称将用作货架名称。</p></section>                <aside class="tip sideblock" rel="shelve-silently" id="5dc45992" data-title="">                    <p id="af868fb6">为避免出现大量具有相同名称的货架（例如<span class="control">Default</span> ），您只需将文件或<span class="control">更改</span>列表从“ <span class="control">本地更改”</span>选项卡拖放到“ <span class="control">货架”</span>选项卡，等待一秒钟直到它被激活，并在释放鼠标按钮时即时编辑新的货架名称。</p>                </aside>                <aside class="tip sideblock" rel="ChList" id="4bd89668" data-title="">                    <p id="c88611f9">您可以通过选择<span class="control">Changelist</span>下拉列表从<span class="control">Shelve Changes</span>对话框切换到其他<span class="control">更改</span>列表。</p>                </aside>                <section class="procedure-steps"><h2 id="b7edf0ea">取消改变</h2><p id="faadd74a">令人不安的是将推迟的更改从一个架子转移到一个待定的更改列表。可以从视图中过滤掉未删除的更改或从工具架中删除。</p><ol class="list _decimal"><li class="list__item" id="bd499e3a"><p><span class="control">版本控制</span>工具窗口的<span class="control">保存</span>选项卡，选择您要取消搁置一个变更或文件。</p></li><li class="list__item" id="54b6dcf6"><p>按<kbd data-primary_default="Ctrl+Shift+U" data-primary_default_for_gnome="Ctrl+Shift+U" data-primary_default_for_kde="Ctrl+Shift+U" data-primary_default_for_xwin="Ctrl+Shift+U" data-primary_emacs="Ctrl+Shift+U" data-primary_visual_studio="Ctrl+Shift+U" data-primary_eclipse="Ctrl+Shift+U" data-secondary_mac_os_x_10.5_="⇧⌘U" data-secondary_mac_os_x="⇧⌘U" data-secondary_eclipse_mac_os_x="⇧⌘U">Ctrl + Shift + U</kbd>或从选择的上下文菜单中选择<span class="control">Unshelve</span> 。</p></li><li class="list__item" id="086574e7">                        <p id="58de4f45">在打开的“ <span class="control">取消保护更改”</span>对话框中，在“ <span class="control">名称”</span>字段中指定要将未经保留的更改还原到的更改列表。您可以从列表中选择现有的更改列表，也可以键入要创建的包含未更改的更改的新更改列表的名称。您可以在“ <span class="control">注释”</span>字段中输入新更改列表的说明（可选）。</p>                        <p id="fd73ba2b">如果要激活新的更改列表，请选择“ <span class="control">设置活动”选项</span> 。否则，当前活动的更改列表仍保持活动状态。</p>                    </li><li class="list__item" id="131897f4"><p>如果希望WebStorm在其停用时保留与新更改列表关联的任务的上下文并恢复上下文，则更改列表将变为活动状态，请选择“ <span class="control">跟踪上下文”</span>选项（有关详细信息，请参阅<a href="managing-tasks-and-context.html">任务和上下文</a> ）。</p></li><li class="list__item" id="6938eba6">                        <p id="ca54d35e">如果要删除要撤消的更改，请选择“ <span class="control">从架子中删除已成功应用的文件”</span>选项。未加载的文件将从此工具架中删除，并添加到另一个更改列表并标记为已应用。在通过单击明确删除之前，不会完全删除它们<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.gc.svg@2x.png" width="16" alt="删除图标">在工具栏上，或从上下文菜单中选择<span class="control">Clean Already Unshelved</span> 。</p>                        <aside class="note " rel="ca54d35e" id="e3edea84" data-title="">                            <p id="d6b449f1">如果您意外删除了未受控制的文件，则可以从“ <span class="control">最近删除”</span>节点查看和还原它们。</p>                        </aside>                    </li><li class="list__item" id="bc22c067"><p>单击<span class="control">确定</span> 。如果修补版本与当前版本之间发生冲突，请按照<a href="resolving-conflicts.html"><span>解决冲突中的说明</span></a>解决它们。</p></li></ol><p id="unshelve-silently">您还可以静默取消更改，而不显示“ <span class="control">取消保护更改”</span>对话框。要做到这一点，选择文件或要取消搁置一个变更，并单击<span class="control">取消搁置默默</span>图标<img class="inline-icon-16" src="../img/idea/2019.1/icons.vcs.unshelveSilent.svg@2x.png" width="16" alt="icons vcs unshelveSilent svg">在工具栏上，或按<kbd data-primary_default="Ctrl+Alt+U" data-primary_default_for_gnome="Ctrl+Alt+U" data-primary_default_for_kde="Ctrl+Alt+U" data-primary_default_for_xwin="Ctrl+Alt+U" data-primary_emacs="Ctrl+Alt+U" data-primary_visual_studio="Ctrl+Alt+U" data-primary_eclipse="Ctrl+Alt+U" data-secondary_mac_os_x_10.5_="⌥⌘U" data-secondary_mac_os_x="⌥⌘U" data-secondary_eclipse_mac_os_x="⌥⌘U">Ctrl + Alt + U.</kbd>未被调用的文件将被移动到活动的挂起chdrag</p></section>                <aside class="tip sideblock" rel="unshelve-silently" id="93020dd2" data-title="">                    <p id="9926dd98">您还可以拖动从<span class="control">货架</span>标签与<span class="control">本地更改</span>标签文件或一个变更默默地取消搁置了。</p>                </aside>                <section class="procedure-steps"><h2 id="f0842f3e">恢复未经保留的更改</h2><p id="9dfb6cd3">WebStorm允许您在必要时重新应用未经保留的更改。所有未经保留的更改都可以重复使用，直到通过单击显式删除它们为止<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.gc.svg@2x.png" width="16" alt="图标动作gc svg">工具栏上的图标，或从上下文菜单中选择<span class="control">Clean Already Unshelved</span> 。</p><ol class="list _decimal"><li class="list__item" id="170d0742"><p>确保<span class="control">Show Already Unhelved</span> <img class="inline-icon-16" src="../img/idea/2019.1/icons.vcs.patch_applied.svg@2x.png" width="16" alt="Show Already Unshelved按钮">工具栏选项已启用。</p></li><li class="list__item" id="07d9dcb6"><p>选择要还原的文件或书架。</p></li><li class="list__item" id="4c0de134"><p>从选择的上下文菜单中，选择<span class="control">“还原”。</span>                    </p></li></ol></section>                <section class="procedure-steps"><h2 id="0c71f6ee">应用外部补丁</h2><p id="bb4fb255">您可以导入在WebStorm内部或外部创建的修补程序，并将其作为搁置更改应用。</p><ol class="list _decimal"><li class="list__item" id="19ab42bd"><p><span class="control">版本控制</span>工具窗口的<span class="control">保存</span>选项卡，然后从上下文菜单中<span class="control">导入修补</span> 。</p></li><li class="list__item" id="3693f51f"><p>在打开的对话框中，选择要应用的修补程序文件。选定的修补程序将作为工具架显示在“工具<span class="control">架”</span>选项卡中。</p></li><li class="list__item" id="ea4690a5"><p>使用修补程序选择新添加的工具架，然后从选择的上下文菜单中选择“ <span class="control">取消保护更改</span> ”。</p></li></ol></section>                <section class="procedure-steps"><h2 id="automatically-shelve-base-revision">自动搁置基本修订版</h2><p id="c17b5280">将WebStorm配置为始终搁置Git版本控制下的文件的基本修订版可能很有用。</p><ol class="list _decimal"><li class="list__item" id="1df71070"><p>在“ <span class="control">设置/首选项”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘,">Ctrl + Alt + S</kbd> ）中，选择“ <span class="control">版本控制”|货架</span>在左边。</p></li><li class="list__item" id="04abf597">                        <p id="addded74"><span class="control">在分布式版本控制系统</span>选项<span class="control">下</span>选择<span class="control">文件</span>的<span class="control">Shelve基本修订版</span> 。</p>                        <p id="16a28fbe">如果启用此选项，则文件的基本修订将保存到将在<a href="https://en.wikipedia.org/wiki/Merge_(version_control)#Three-way_merge" data-bypass="yes" target="_blank"><span>3向合并</span></a>期间使用的工具架（如果应用工具架导致冲突）。如果禁用，WebStorm将在项目历史记录中查找基本修订版，这可能需要一段时间;此外，冲突架所基于的修订可能会丢失（例如，如果由于rebase操作而更改了历史记录）。</p>                    </li></ol></section>                <section class="procedure-steps"><h2 id="19c4287f">更改默认的货架位置</h2><p id="df953830">默认情况下，shelf目录位于项目目录下。但是，您可能需要更改默认的货架位置。这可能很有用，例如，如果您想要在清理工作副本时避免意外删除货架，或者您希望将它们存储在单独的存储库中，以便在您的团队成员之间共享货架。</p><ol class="list _decimal"><li class="list__item" id="d7b70603"><p>打开“ <span class="control">设置”</span>对话框（ <kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_visual_studio="Alt+F7" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘,">Ctrl + Alt + S</kbd> ）并选择“ <span class="control">版本控制”</span>左侧的<span class="control">架子</span>节点。</p></li><li class="list__item" id="57395b43"><p>单击“ <span class="control">更改货架位置”</span>按钮，然后在打开的对话框中指定新位置。</p></li><li class="list__item" id="7d131f17"><p>如有必要，请选择“ <span class="control">将搁架移动到新位置”</span>选项以将现有搁架移动到新目录。</p></li></ol></section>            <p id="104f1930">观看此视频教程，了解如何从书架中受益，以便能够切换到不同的任务而不会丢失未完成的工作：</p>            <div class="video-player"><object width="600" height="400" type="application/x-shockwave-flash" data="https://www.youtube.com/v/Zb8k8q8n8Ao?color2=FBE9EC&amp;rel=0&amp;hd=1&amp;autoplay=0&amp;version=3&amp;modestbranding=1&amp;fs=1"><param name="movie" value="//www.youtube.com/v/Zb8k8q8n8Ao?color2=FBE9EC&amp;rel=0&amp;hd=1&amp;autoplay=1&amp;version=3&amp;modestbranding=1&amp;fs=1"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param></object></div>          <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月25日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="managing-changelists.html">管理更改列表</a> <a class="navigation-links__next" href="updating-local-information.html">更新本地信息</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="shelf-tab.html"><span>货架标签</span></a></li><li class="list__item"><a href="version-control-reference.html"><span>版本控制参考</span></a></li><li class="list__item"><a href="shelve-changes-dialog.html"><span>货架更改对话框</span></a></li><li class="list__item"><a href="unshelve-changes-dialog.html"><span>取消搁置更改对话框</span></a></li><li class="list__item"><a href="version-control-tool-window.html"><span>版本控制工具窗口</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>