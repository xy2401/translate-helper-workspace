<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><meta content="How to test a simple Python application" name="description" data-skip-index="skip"><link rel="canonical" href="testing-your-first-python-application.html"><meta charset="UTF-8"><title>Step 3. Testing Your First Python Application - Help | PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="Testing_Your_First__language__Application"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search PyCharm Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="testing-your-first-python-application.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_visual_studio">Visual Studio</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Testing_Your_First__language__Application" id="Testing_Your_First__language__Application.xml">Step 3. Testing Your First Python Application</h1>    <p id="39c87283">Remember, in the first tutorial you’ve        <a href="creating-and-running-your-first-python-project.html">created your first Python application</a>,        and in the second tutorial you’ve <a href="debugging-your-first-python-application.html">debugged</a> it.        Now it’s time to do some testing.</p>    <div class="chapter"><h2 id="choose-test-runner" data-toc="Testing_Your_First__language__Application#choose-test-runner">Choosing the test runner</h2>        <p id="530e3c25">If you used <a href="http://nose.readthedocs.io/en/latest/" data-bypass="yes" target="_blank"><span>nosetest</span></a>,            <a href="http://doc.pytest.org/en/latest/" data-bypass="yes" target="_blank"><span>py.test</span></a>, or <a href="https://twistedmatrix.com/trac/wiki/Documentation" data-bypass="yes" target="_blank"><span>Twisted Trial</span></a> before, you have to choose            <a href="https://docs.python.org/3/library/unittest.html" data-bypass="yes" target="_blank"><span>unittest</span></a>. To learn how it's done, see            <a href="choosing-your-testing-framework.html"><span>Choosing Your Testing Framework</span></a>.</p>        <figure><img alt="py test runner" title="py test runner" src="../img/idea/2019.1/py_test_runner.png" id="5b4d86f4" width="368" height="345"></figure>    </div>    <div class="chapter"><h2 id="create-test" data-toc="Testing_Your_First__language__Application#create-test">Creating test</h2>        <p id="da794b8b">A quick way to create tests is to have PyCharm stub them out from the class we’d like to test. To do this,            we need to open <code class="code">Car.py</code>, then right-click the editor background, point to            <span data-skip-index="skip" class="menupath">Go To</span>, and then choose <span data-skip-index="skip" class="menupath">Test</span> (or just press            <kbd data-primary_default="Ctrl+Shift+T" data-primary_default_for_gnome="Ctrl+Shift+T" data-primary_default_for_kde="Ctrl+Shift+T" data-primary_default_for_xwin="Ctrl+Shift+T" data-primary_emacs="Ctrl+Shift+T" data-primary_visual_studio="Ctrl+Shift+T" data-primary_netbeans="Ctrl+Shift+T" data-primary_eclipse="N/A" data-secondary_mac_os_x_10.5_="⇧⌘T" data-secondary_mac_os_x="⇧⌘T" data-secondary_eclipse_mac_os_x="N/A" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_visual_studio="⌃⇧T" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⇧T">Ctrl+Shift+T</kbd>):</p>        <figure><img alt="py goto test" title="py goto test" src="../img/idea/2019.1/py_goto_test.png" id="f9f33be0" width="561" height="651"></figure>        <p id="5d6fbb25">A pop-up appears that suggests to create a new test:</p>        <figure><img alt="py create new test" title="py create new test" src="../img/idea/2019.1/py_create_new_test.png" id="f6c84f6f" width="210" height="89"></figure>        <p id="9e1a6079">OK, let’s do it. We are going to test whether our car is able to accelerate and brake, so let's select those            checkboxes:</p>        <figure><img alt="py create test dialog" title="py create test dialog" src="../img/idea/2019.1/py_create_test_dialog.png" id="df9bda30" width="479" height="579"></figure>        <p id="e62ff43b">A new Python test class is created:</p>        <figure><img alt="py test class" title="py test class" src="../img/idea/2019.1/py_test_class.png" id="9fd3ee43" width="279" height="361"></figure>                <p id="75f7afdb">You can create a <a href="creating-run-debug-configuration-for-tests.html">Run/Debug configuration</a> for the test and run it. However, if we it (<span data-skip-index="skip" class="menupath">Run ‘Unittest in test_car’</span> on the context menu), we can see that            the test fails by default:</p>        <figure><img alt="py tests fail" title="py tests fail" src="../img/idea/2019.1/py_tests_fail.png" id="106eda13" width="899" height="414"></figure>                <p id="57e3887b">Now we know that we can run tests, let’s start writing some actual test code.</p>    </div>            <div class="chapter"><h2 id="write-test" data-toc="Testing_Your_First__language__Application#write-test">Writing test</h2>                 <p id="17c628cb">How to write unit tests is out of scope for this article. If you’re interested in learning about using the            `unittest` framework, you can <a href="https://docs.python.org/2/library/unittest.html#" data-bypass="yes" target="_blank"><span>check out their docs</span></a>.</p>        <p id="96a6ed69">For our example let’s use these tests:</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">import</span> <span class="nn">unittest</span>

<span class="kn">from</span> <span class="nn">Car</span> <span class="kn">import</span> <span class="n">Car</span>


<span class="k">class</span> <span class="nc">TestCar</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
      <span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">car</span> <span class="o">=</span> <span class="n">Car</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">TestInit</span><span class="p">(</span><span class="n">TestCar</span><span class="p">):</span>
      <span class="k">def</span> <span class="nf">test_initial_speed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">test_initial_odometer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">odometer</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">test_initial_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">TestAccelerate</span><span class="p">(</span><span class="n">TestCar</span><span class="p">):</span>
      <span class="k">def</span> <span class="nf">test_accelerate_from_zero</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">accelerate</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

      <span class="k">def</span> <span class="nf">test_multiple_accelerates</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
          <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">accelerate</span><span class="p">()</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">TestBrake</span><span class="p">(</span><span class="n">TestCar</span><span class="p">):</span>
       <span class="k">def</span> <span class="nf">test_brake_once</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">accelerate</span><span class="p">()</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">brake</span><span class="p">()</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

       <span class="k">def</span> <span class="nf">test_multiple_brakes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">accelerate</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">brake</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

       <span class="k">def</span> <span class="nf">test_should_not_allow_negative_speed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">brake</span><span class="p">()</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

       <span class="k">def</span> <span class="nf">test_multiple_brakes_at_zero</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
           <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">brake</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">car</span><span class="o">.</span><span class="n">speed</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span></code></div>     </div>    <div class="chapter"><h2 id="run-test" data-toc="Testing_Your_First__language__Application#run-test">Running the test</h2>        <p id="96705853">Now run the test by right-clicking the editor background above the declaration of the class            <code class="code">test_car</code>. This time some of the tests pass successfully:</p>        <figure><img alt="py run unittest" title="py run unittest" src="../img/idea/2019.1/py_run_unittest.png" id="14fb7ddd" width="745" height="412"></figure>    </div>    <div class="chapter"><h2 id="debug-test" data-toc="Testing_Your_First__language__Application#debug-test">Debugging the test</h2>        <p id="1bf47a18">Next, let's look deeper into the test code and debug one of the tests that failed. For example, we'll put a            breakpoint in the following place:</p>        <figure><img alt="py test breakpoint" title="py test breakpoint" src="../img/idea/2019.1/py_test_breakpoint.png" id="aae3fc69" width="423" height="104"></figure>        <p id="29ea5c6c">Next, launch a debugger session. To do that, right-click the editor background at the method            <code class="code">test_should_not_allow_negative_speed</code> and choose <span class="control">Debug</span> on the context menu,            or click <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.startDebugger.svg@2x.png" width="16" alt="icons actions startDebugger svg"> in the Navigation bar: </p>        <figure><img alt="py test debug" title="py test debug" src="../img/idea/2019.1/py_test_debug.png" id="870014b8" width="253" height="101"></figure>        <p id="90ccf26d">We've placed the breakpoint at the <code class="code">self.car.brake()</code> statement of the            <code class="code">test_should_not_allow_negative_speed</code> method. Let's look at the debugger output:</p>        <figure><img alt="py debug output 0" title="py debug output 0" src="../img/idea/2019.1/py_debug_output_0.png" id="9af19f00" width="744" height="775"></figure>        <p id="44427a51">Click the <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.traceInto.svg@2x.png" width="16" alt="icons actions traceInto svg"> button to skip the library classes and go into the class            <code class="code">Car</code>:</p>        <figure><img alt="py debug car brake" title="py debug car brake" src="../img/idea/2019.1/py_debug_car_brake.png" id="00d1adf0" width="459" height="87"></figure>        <p id="4df98bcd">Next, click the same <img alt="step into my code" title="step into my code" src="../img/idea/2019.1/step_into_my_code.png" id="3a74bdec" width="17" height="15" class="inline-icon-17"> button again, and see the test debug            output:</p>        <figure><img alt="py test debug output" title="py test debug output" src="../img/idea/2019.1/py_test_debug_output.png" id="67504382" width="745" height="941"></figure>        <p id="d5efe789">It shows that speed can become negative, which is impossible. It seems that some additional check is required        in the code of the class <code class="code">Car</code>:</p>        <p id="change-code">Change the method <code class="code">brake</code> as follows:</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="k">def</span> <span class="nf">brake</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">speed</span> <span class="o">-=</span> <span class="mi">5</span></code></div>               <p id="62b0be0b">Now let's run the test again:</p>        <figure><img alt="py test debug output 1" title="py test debug output 1" src="../img/idea/2019.1/py_test_debug_output_1.png" id="5ee69f13" width="744" height="484"></figure>    </div>    <div class="chapter"><h2 id="run-test-automatically" data-toc="Testing_Your_First__language__Application#run-test-automatically">Running tests automatically</h2>       <p id="86b859e0">In the last paragraph, after fixing our code, we reran our tests by using the <img class="inline-icon-16" src="../img/idea/2019.1/icons.toolwindows.toolWindowRun.svg@2x.png" width="16" alt="icons toolwindows toolWindowRun svg"> icon.           If you'd like to focus on your code, and just see when you've resolved the issue, PyCharm can run the tests           for you automatically.</p>        <p id="ef531c7a">Click the <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.swapPanels@2x.png" width="16" alt="icons actions swapPanels"> button on the            <a href="test-runner-tab.html#runToolbar">Run toolbar</a>.            Then, every time you enter changes in your project files (as it was done <a href="testing-your-first-python-application.html#change-code">earlier</a>),            the tests will run without any intervention from you.</p>           </div>    <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="debugging-your-first-python-application.html">Step 2. Debugging Your First Python Application</a><a class="navigation-links__next" href="creating-and-running-your-first-django-project.html">Step 4. Creating and Running Your First Django Project</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Language and Framework-Specific Guidelines:</h3><ul class="list"><li class="list__item"><a href="testing-frameworks.html"><span>Testing Frameworks</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























