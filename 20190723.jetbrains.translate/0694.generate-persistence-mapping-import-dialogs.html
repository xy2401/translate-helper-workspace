<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="generate-persistence-mapping-import-dialogs.html"></link><meta charset="UTF-8"></meta><title>生成持久性映射 - 导入对话框 - 帮助| IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="newEJBmap_to_datasource"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索IntelliJ IDEA帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="generate-persistence-mapping-import-dialogs.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_jbuilder" data-group="primary">JBuilder的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Generate_Persistence_Mapping_-_Import_dialogs.xml" data-toc="newEJBmap_to_datasource">生成持久性映射 - 导入对话框</h1>        <p id="a4a3118c">在“ <a href="persistence-tool-window.html">持久性”工具窗口中</a> ：右键单击模块，持久性单元或会话工厂，指向“ <span class="control">生成持久性映射”</span>并选择必要的选项。</p>    <hr id="3ec041f0">    <p id="a624614e">指定用于为它们生成实体类和对象/关系映射的设置。根据您选择的选项，以下之一用作源：</p>    <ul class="list _ul"><li class="list__item" id="40d9352a"><p>由<a href="managing-data-sources.html#data_sources">数据源</a>表示的数据库模式。</p></li><li class="list__item" id="6fcf5557"><p>EJB构面（如果存在于当前项目中），或者更确切地说，是与该构面关联的部署描述符文件ejb-jar.xml。（仅处理&lt;entity&gt;元素。）</p></li><li class="list__item" id="e57b5d84"><p>仅适用于JPA：Hibernate对象/关系映射文件（.hbm.xml）。该文件应该在当前项目中。</p></li></ul>    <ul data-skip-index="skip"><li class="list__item"><a href="generate-persistence-mapping-import-dialogs.html#general">常规设置</a></li><li class="list__item"><a href="generate-persistence-mapping-import-dialogs.html#db_mapping">数据库架构映射</a></li><li class="list__item"><a href="generate-persistence-mapping-import-dialogs.html#generation_settings">生成设置</a></li></ul>    <div class="chapter"><h2 id="general">常规设置</h2>        <div class="table-wrapper"><table class="                 " width="100%" id="b2b9d55b"><thead><tr id="76c99480" class="ijRowHead"><th id="86d25487"><p>项目</p></th><th id="f6cd1382"><p>描述</p></th></tr></thead><tbody><tr id="f554185a" class="ijRowOdd"><td id="06c67db8"><p>选择数据源</p></td><td id="a0c64fd2">导入数据库模式时：指定要用作导入源的<a href="managing-data-sources.html#data_sources">数据源</a> 。<p id="d46911a5">                        <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="7dbadda7" width="15" height="15" class="inline-icon-15">打开“ <a href="data-sources-and-drivers-dialog.html">数据源和驱动程序”对话框</a> ，该<a href="data-sources-and-drivers-dialog.html">对话框</a>允许您创建新的数据源。</p></td></tr><tr id="bcc84814" class="ijRowEven"><td id="dfb28bd5"><p>选择EJB Facet</p></td><td id="f2adaed6">导入EJB构面时：指定要用作源的EJB构面。<p id="bb6606a3">                        <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="b50133a6" width="15" height="15" class="inline-icon-15">打开对话框，您可以选择构面。（建议使用当前项目中可用的EJB方面。）</p></td></tr><tr id="c33984c0" class="ijRowOdd"><td id="be5cf105"><p>选择Hibernate XML</p></td><td id="fb15a357">导入Hibernate对象/关系映射文件时：指定要用作源的<code class="code">.hbm.xml</code>文件。<p id="06f8f7cf">                        <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="c43f9649" width="15" height="15" class="inline-icon-15">打开对话框，您可以选择该文件。（相应的文件必须在当前项目中可用。）</p></td></tr><tr id="3123f440" class="ijRowEven"><td id="e9e234a4"><p>包</p></td><td id="b8221b7f">实体类的目标包。<p id="f69a3060">                        <img alt="browseButton" title="browseButton" src="../img/idea/2019.1/browseButton.png" id="63608123" width="15" height="15" class="inline-icon-15">打开对话框，您可以选择现有包或创建新包（ <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.newFolder.svg@2x.png" width="16" alt="图标动作newFolder svg"> ）。</p>                </td></tr><tr id="704da4a0" class="ijRowOdd"><td id="c46b23ea"><p>实体前缀</p></td><td id="32857925"><p>一个或多个字符，用作实体类名称的前缀。</p></td></tr><tr id="3794deac" class="ijRowEven"><td id="5fbd6fc1"><p>实体后缀</p></td><td id="ec3b8bbb"><p>一个或多个字符，用作实体类名称的后缀。</p></td></tr><tr id="0281eb31" class="ijRowOdd"><td id="e8d6d98d"><p>喜欢原始类型</p></td><td id="73e96722"><p>导入数据库模式时：首选原始字段类型为对象类型（例如，当<code class="code">int</code>和<code class="code">java.lang.Integer</code>是替代品）。</p></td></tr><tr id="d2f88b2d" class="ijRowEven"><td id="05f2bd37"><p>显示默认关系</p></td><td id="ecd01a0e"><p>导入数据库模式时：如果选中此复选框，IntelliJ IDEA将分析表中的外键并建议创建相应的关系（例如，一对一，一对多）。</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="db_mapping">数据库架构映射</h2>        <p id="df9ed690">仅当导入数据库模式时，此部分才可用。</p>        <p id="8d3f589f">选择要映射的表和列。编辑实体类及其持久字段的名称（ <span class="control">Map As</span>列）。调整字段类型（“ <span class="control">映射类型”</span>列）。使用工具栏处理关系和执行其他任务。</p>        <div class="table-wrapper"><table class="                 " width="100%" id="76860e8b"><thead><tr id="0e542e0b" class="ijRowHead"><th id="41a24700"><p>项目</p></th><th id="bf731088"><p>描述</p></th></tr></thead><tbody><tr id="32ee896e" class="ijRowOdd"><td id="a96acc11"><p>                    <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg"></p></td><td id="74e3e9d1"><p>在实体之间创建新关系。（“ <a href="add-edit-relationship.html">添加关系”对话框</a>将打开。）</p></td></tr><tr id="a6a3219c" class="ijRowEven"><td id="37351fbe"><p>                    <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.edit.svg@2x.png" width="16" alt="图标操作编辑svg"></p></td><td id="cafc2edc"><p>编辑选定的关系。（“ <a href="add-edit-relationship.html">编辑关系”对话框</a>将打开。）</p></td></tr><tr id="d0256147" class="ijRowOdd"><td id="660f2d67"><p>                    <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.remove.svg@2x.png" width="16" alt="图标一般删除svg"></p></td><td id="b4a4a8f2"><p>删除所选关系。</p></td></tr><tr id="cd289dc0" class="ijRowEven"><td id="ff899e86"><p>                    <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.refresh.svg@2x.png" width="16" alt="图标动作刷新svg"></p></td><td id="33e70118"><p>刷新数据库架构。</p></td></tr><tr id="a45120b2" class="ijRowOdd"><td id="18f905ad"><p>                    <img alt="iconSelectAllRemoteRunDialog" title="iconSelectAllRemoteRunDialog" src="../img/idea/2019.1/iconSelectAllRemoteRunDialog.gif" id="8b163bfa" width="14" height="14" class="inline-icon-14"></p></td><td id="fd0be805"><p>选择所有表，字段和关系。</p></td></tr><tr id="0c02455f" class="ijRowEven"><td id="52121f88"><p>                    <img alt="iconUnSelectAllRemoteRunDialog" title="iconUnSelectAllRemoteRunDialog" src="../img/idea/2019.1/iconUnSelectAllRemoteRunDialog.gif" id="870c6710" width="14" height="14" class="inline-icon-14"></p></td><td id="463243cd"><p>取消选择所有表，字段和关系。</p></td></tr><tr id="55c10170" class="ijRowOdd"><td id="2b190e9e"><p>                    <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.expandall.svg@2x.png" width="16" alt="图标动作expandall svg"></p></td><td id="4d941f3c"><p>展开表中的所有节点。</p></td></tr><tr id="bfdf0c7a" class="ijRowEven"><td id="6e9c0d4f"><p>                    <img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.collapseall.svg@2x.png" width="16" alt="图标动作collapseall svg">                </p></td><td id="ad80b31b"><p>折叠表中的所有节点。</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="generation_settings">生成设置</h2>        <div class="table-wrapper"><table class="                 " width="100%" id="9ac60baa"><thead><tr id="e5905371" class="ijRowHead"><th id="06bb49e9"><p>项目</p></th><th id="4d4bff0c"><p>描述</p></th></tr></thead><tbody><tr id="0371de7a" class="ijRowOdd"><td id="2d7a2133"><p>添加到持久性单元/添加到会话工厂</p></td><td id="2fb54002">生成的实体类将与之关联的持久性单元或会话工厂。<p id="83377f13">如果在<span class="control">持久</span>性单元或会话工厂上调用了“ <span class="control">生成持久性映射”</span>命令，则有关实体类的信息将添加到当前持久性单元或会话工厂（hibernate.cfg.xml）。</p>                    <p id="4beef315">如果在模块上调用该命令，则可以选择目标持久性单元或会话工厂。这可能是现有的持久性单元或会话工厂（hibernate.cfg.xml），也可能是新的。要创建新的持久性单元或会话工厂，请单击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg"> 。对于持久性单元，只需指定其名称（将在<code class="code">persistence.xml</code>添加一个新的<code class="code">&lt;persistence-unit name=""/&gt;</code>元素。）对于会话工厂，将创建一个新的Hibernate配置文件。因此，在打开的对话框中，选择目标文件夹，单击<img alt="icon newXmlFile" title="icon newXmlFile" src="../img/idea/2019.1/icon_newXmlFile.png" id="93e9de35" width="14" height="16" class="inline-icon-14">并指定文件名。文件名中的<code class="code">.xml</code>可以省略。</p></td></tr><tr id="48616c8a" class="ijRowEven"><td id="bbddf08b"><p>生成列属性</p></td><td id="6e016c5b"><p>选择要包含的列属性（例如， <code class="code">length</code> ， <code class="code">nullable</code> ）的复选框。</p></td></tr><tr id="449981f5" class="ijRowOdd"><td id="1df77dfe"><p>生成单映射XML</p></td><td id="5f524f4e">在一个XML文件中存储所有生成的实体类的对象/关系映射。<p id="2ff3ac61">要定义目标文件：</p>                    <ol class="list _decimal"><li class="list__item" id="3a67dd67"><p>点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.general.add.svg@2x.png" width="16" alt="图标一般添加svg"> 。</p></li><li class="list__item" id="e589b416"><p>如果建议，请选择目标文件格式（Hibernate映射或JPA映射描述符（JPA ORM））。</p></li><li class="list__item" id="848b4cca">在打开的对话框中，选择现有映射文件或创建新映射文件。<p id="583c3711">要创建新文件，请选择目标目录，单击<img alt="icon newXmlFile" title="icon newXmlFile" src="../img/idea/2019.1/icon_newXmlFile.png" id="5f0c7732" width="14" height="16" class="inline-icon-14">并指定文件名。文件名中的<code class="code">.xml</code>可以省略。</p></li></ol></td></tr><tr id="68ceb09a" class="ijRowEven"><td id="6a4fff1d"><p>为每个实体生成单独的XML</p></td><td id="afeac97e"><p>为所有生成的实体类创建单独的对象/关系映射文件。对于JPA，文件名将是<code class="code">&lt;ClassName&gt;.xml</code> ，对于Hibernate，文件名将是<code class="code">&lt;ClassName&gt;.hbm.xml</code> 。</p></td></tr><tr id="b9975e85" class="ijRowOdd"><td id="7b59f92a"><p>生成JPA注释（Java 5）</p></td><td id="c96e466f"><p>将映射信息添加到生成的实体类的源代码中作为注释。</p></td></tr></tbody></table></div>    </div>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="generate-gwt-compile-report-dialog.html">生成GWT编译报告对话框</a> <a class="navigation-links__next" href="add-edit-relationship.html">添加/编辑关系</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="managing-data-sources.html"><span>管理数据源</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="persistence-tool-window.html"><span>持久性工具窗口</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>