<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="refactoring-php.html"><meta charset="UTF-8"><title>Refactoring PHP - Help | IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="Refactoring_PHP"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="refactoring-php.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Refactoring_PHP" id="Refactoring_PHP.xml">Refactoring PHP</h1>    <p id="3a5aaa41">        <a href="https://en.wikipedia.org/wiki/Code_refactoring" data-bypass="yes" target="_blank"><span>Refactoring</span></a>        means updating the structure of the source code without changing the behaviour of the application.        Refactoring helps you keep your code solid, <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" data-bypass="yes" target="_blank"><span>dry</span></a>, and easy to maintain.</p>    <div class="chapter"><h2 id="php_change_signature" data-toc="Refactoring_PHP#php_change_signature">Change Signature</h2>        <section class="procedure-steps"><ol class="list _decimal"><li class="list__item" id="0e0396ca"><p>In the editor, place the cursor within the name of the method whose signature you want to change.</p></li><li class="list__item" id="d24c3e22"><p>Press <kbd data-primary_default="Ctrl+F6" data-primary_default_for_gnome="Ctrl+F6" data-primary_default_for_kde="Ctrl+6" data-primary_default_for_xwin="Ctrl+F6" data-primary_emacs="Ctrl+F6" data-primary_jbuilder="N/A" data-primary_visual_studio="Ctrl+F6" data-primary_netbeans="Ctrl+F6" data-primary_eclipse="Shift+Alt+C" data-secondary_mac_os_x_10.5_="⌘F6" data-secondary_mac_os_x="⌘F6" data-secondary_eclipse_mac_os_x="⌥⌘C" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃F6">Ctrl+F6</kbd>. Alternatively, choose <span class="control">Refactor | Change                Signature</span> on the main menu or context menu.</p></li><li class="list__item" id="7aba6b23">In the <span class="control">Change Signature</span> dialog, make the necessary changes to the method signature                and specify what other, related, changes are required.                <ul class="list _ul"><li class="list__item" id="cc7f1573"><p>For example, change the method name. To do that, edit the text in the                        <span class="control">Name</span>                        field. You can change the return type by editing the contents of the                        <span class="control">Return type</span>                        field.                        Setting the method return type is only possible in                                        PHP language version 7.1 and later.                                    You can specify the PHP language level on the <a href="php.html">PHP page</a>                 of the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl+Alt+S</kbd>).                        </p></li><li class="list__item" id="bfb292d5"><p>Manage the method parameters using the table and the buttons in                        the <span class="control">Parameters</span> area.  When adding parameters, you may want to                        propagate these parameters to the method that                        call the current method.</p></li><li class="list__item" id="a6677a81">In the <span class="emphasis">PHP</span> context, when the                        <span class="emphasis">Change signature</span>                        refactoring is invoked from the constructor of                        a class, the new parameter can be initialized as a class field.                        To do that, use the <span class="control">Create and initialize class properties</span> check                        box:                                            When this checkbox is selected, the newly added parameter is initialized as a field.            IntelliJ IDEA creates a field with the same name as this parameter and adds a line with the following assignment:<br>            <code class="code">$this-&gt;&lt;parameter_name&gt; = $&lt;parameter_name&gt;;</code>                            When the checkbox is cleared, a parameter is added without initialization.                                            <p id="68cb81eb">            In this example, we invoke the <span class="emphasis">Change signature</span> refactoring            on the <code class="code">__construct()</code> method and add a new <code class="code">$q</code> parameter.            The result depends on whether the  <span class="control">Create and initialize class            properties</span> checkbox is selected or not. The new field is         created with the default visibility modifier, which is set on the <a href="settings-code-style-php.html#code-generation-tab">Code Generation</a> tab of the        <a href="settings-code-style-php.html">Code Style. PHP</a> page                 of the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl+Alt+S</kbd>).            </p>        <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="5dfa0270"><thead><tr id="407b9787" class="ijRowHead"><th id="37f471e4" width="50%"><p>Before</p></th><th id="f66386ed" width="50%"><p>After</p></th></tr></thead><tbody><tr id="4d74842a" class="ijRowOdd"><td id="87e6e951" rowspan="2"><p>                <div class="code-block" data-lang="PHP"><code class="code-block__wrapper"><span class="k">class</span> <span class="nc">ChangeSignatureNewParam</span> <span class="p">{</span>
    <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$a</span> <span class="o">=</span> <span class="s2">&quot;Constructor in ChangeSignatureNewParam&quot;</span><span class="p">;</span>
        <span class="k">print</span> <span class="nv">$a</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>            </p></td><td id="9b697172">                <p id="a86e090b">The <span class="control">Create and initialize class properties</span> checkbox is selected:                </p>                <div class="code-block" data-lang="PHP"><code class="code-block__wrapper"><span class="k">class</span> <span class="nc">ChangeSignatureNewParam</span> <span class="p">{</span>
    <span class="k">private</span> <span class="nv">$q</span><span class="p">;</span>
    <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$q</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$a</span> <span class="o">=</span> <span class="s2">&quot;Constructor in ChangeSignatureNewParam&quot;</span><span class="p">;</span>
        <span class="k">print</span> <span class="nv">$a</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">q</span> <span class="o">=</span> <span class="nv">$q</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>            </td></tr><tr id="7cc44220" class="ijRowEven"><td id="8c6b78cc">                    <p id="a45e99f9">The <span class="control">Create and initialize class properties</span> checkbox is cleared:                    </p>                    <div class="code-block" data-lang="PHP"><code class="code-block__wrapper"><span class="k">class</span> <span class="nc">ChangeSignatureNewParam</span> <span class="p">{</span>
    <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nv">$q</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$a</span> <span class="o">=</span> <span class="s2">&quot;Constructor in ChangeSignatureNewParam&quot;</span><span class="p">;</span>
        <span class="k">print</span> <span class="nv">$a</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></div>                </td></tr></tbody></table></div>                        </li><li class="list__item" id="1b7b5aca"><p>You can delete or reorder the added parameters.                        To change the name or the default value of a parameter,                        make the necessary updates in the table of parameters (in the fields                        <span class="control">Name</span>                        and <span class="control">Default value</span> respectively).                    </p></li><li class="list__item" id="propagate_methods"><p>You can propagate new method parameters (if any) along the hierarchy of the method                        that call the current method.                        Click the <span class="control">Propagate Parameters</span> button                        <img alt="propagateParameters" title="propagateParameters" src="../img/idea/2019.1/propagateParameters.png" id="0cb1dea1" width="13" height="17" class="inline-icon-13">.                    </p></li></ul>            </li><li class="list__item" id="b5159421"><p>To perform the refactoring right away, click <span class="control">Refactor</span>.                To <a href="find-tool-window.html">see the expected changes</a> and make the necessary adjustments                prior to                actually performing the refactoring, click <span class="control">Preview</span>.            </p></li></ol></section>        <aside class="tip sideblock" data-title="" rel="propagate_methods" id="8e5eb7e8">            <p id="463e5330">(There may be methods that call the method whose signature you are changing.                These methods, in their turn, may be called by other methods, and so on.                You can propagate the changes you are making to the parameters of the current method                through the hierarchy of calling methods and also specify which calling methods                should be affected and which shouldn't.)            </p>        </aside>        <div class="chapter"><h3 id="3e3d154d" data-toc="Refactoring_PHP#3e3d154d">Examples</h3>            <p id="3c4e0007">The following table shows 3 different ways of performing the same                <span class="emphasis">Change Signature</span>                refactoring.            </p>            <p id="2c55e339">In all the cases, the <code class="code">result()</code> function is renamed to <code class="code">generateResult()</code> and                a new <code class="code">$b</code> parameter is added to this function.            </p>            <p id="fb66b6be">The examples show how the function call, the calling function (<code class="code">showResult()</code>) and                other code fragments may be affected depending on the refactoring settings.            </p>            <div class="table-wrapper"><table class="                  _layout-fixed" width="100%" id="777f0c0e"><thead><tr id="187f823b" class="ijRowHead"><th id="031240bf" width="50%"><p>Before</p></th><th id="40f3c55a" width="50%"><p>After</p></th></tr></thead><tbody><tr id="e0b783a3" class="ijRowOdd"><td id="4aa56df4"><p>                        <div class="code-block" data-lang="PHP"><code class="code-block__wrapper"><span class="c1">// This is the function whose signature will be changed:</span>
<span class="nx">function result</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// some code here</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">showResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> <span class="p">{</span>

<span class="c1">// Here is the function call:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">result</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Now we&#39;ll rename the function and</span>
<span class="c1">// add one parameter.</span></code></div>                    </p></td><td id="dd620470"><p>                        <div class="code-block" data-lang="PHP"><code class="code-block__wrapper"><span class="c1">// The function has been renamed to generateResult.</span>
<span class="c1">// The new parameter $b has been added.</span>

<span class="nx">function generateResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span><span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// some code here</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">showResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span><span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>

<span class="c1">// The function call has been changed accordingly:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">generateResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span><span class="nv">$b</span><span class="p">);</span>
<span class="p">}</span></code></div>                    </p></td></tr><tr id="aaa534ba" class="ijRowEven"><td id="fabd8268"><p>                        <div class="code-block" data-lang="PHP"><code class="code-block__wrapper"><span class="c1">// This is the function whose signature will be changed:</span>


<span class="nx">function result</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// some code here</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">showResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> <span class="p">{</span>

<span class="c1">// Here is the function call:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">result</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Now we&#39;ll rename the function and add one parameter.</span>
<span class="c1">//We will also specify the default value &#39;new_param&#39;</span>
<span class="c1">//for this new parameter</span></code></div>                    </p></td><td id="07fd3cf4"><p>                        <div class="code-block" data-lang="PHP"><code class="code-block__wrapper"><span class="c1">// The function has been renamed to generateResult.</span>
<span class="c1">// The new parameter $b has been added.</span>

<span class="nx">function generateResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span><span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// some code here</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">showResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> <span class="p">{</span>

<span class="c1">// The function call has been changed accordingly:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">generateResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span><span class="s1">&#39;new_param&#39;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// When performing the refactoring, &#39;new_param&#39; was specified as</span>
<span class="c1">// the default parameter value.</span></code></div>                    </p></td></tr><tr id="465cc7d1" class="ijRowOdd"><td id="635b27b8"><p>                        <div class="code-block" data-lang="PHP"><code class="code-block__wrapper"><span class="c1">// This is the function whose signature will be changed:</span>


<span class="nx">function result</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// some code here</span>
<span class="p">}</span>


<span class="k">function</span> <span class="nf">showResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">)</span> <span class="p">{</span>

<span class="c1">// Here is the function call:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">result</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Now we&#39;ll rename the function and add one parameter.</span>
<span class="c1">//We will also propagate this new parameter</span>
<span class="c1">//through the showResult() calling function to the function call.</span></code></div>                    </p></td><td id="0ef694af"><p>                        <div class="code-block" data-lang="PHP"><code class="code-block__wrapper"><span class="c1">// The function has been renamed to generateResult.</span>
<span class="c1">// The new parameter $b has been added.</span>

<span class="nx">function generateResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span><span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// some code here</span>
<span class="p">}</span>

<span class="c1">// Note the new function parameter:</span>
<span class="k">function</span> <span class="nf">showResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span><span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>

<span class="c1">// The function call has been changed accordingly:</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">generateResult</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span><span class="nv">$b</span><span class="p">);</span>
<span class="p">}</span></code></div>                    </p></td></tr></tbody></table></div>        </div>    </div><div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="phpdoc-comments.html">PHPDoc Comments</a><a class="navigation-links__next" href="debugging-php-applications.html">Debugging PHP Applications</a></div></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























