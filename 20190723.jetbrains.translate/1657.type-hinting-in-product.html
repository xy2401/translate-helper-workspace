<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="type-hinting-in-product.html"><meta charset="UTF-8"><title>Type hinting in IntelliJ IDEA - Help | IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="Type_Hinting_in_product_"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="type-hinting-in-product.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Type_Hinting_in_product_" id="Type_Hinting_in_product_.xml">Type hinting in IntelliJ IDEA</h1>                     <aside class="warning " data-title="" rel="Type_Hinting_in_product_.xml" id="202150cf"><p>                        The following is only valid when Python Plugin is installed and enabled!                </p></aside>           <p id="8347beac">IntelliJ IDEA provides various means to assist inspecting and checking the types of the objects in your script.        IntelliJ IDEA supports <i id="6dd77106">type hinting</i> in function annotations and type comments using the            <code class="code">typing</code> module and the format defined by <a href="https://www.python.org/dev/peps/pep-0484/" data-bypass="yes" target="_blank"><span>PEP 484</span></a>.</p>           <div class="chapter"><h2 id="adding-type-hints">Adding type hints</h2>        <p id="e560314f">Although IntelliJ IDEA supports all methods for adding types supported in <a href="https://www.python.org/dev/peps/pep-0484/" data-bypass="yes" target="_blank"><span>PEP 484</span></a>,            using type hints through intention actions is the most convenient way. Depending on the interpreter you use,        the type is added as an annotation (Python 3) or as a comment (Python 2).</p>        <section class="procedure-steps"><h2 id="0b1be727">To add a type hint, follow these steps:</h2><ol class="list _decimal"><li class="list__item" id="8cca2b7a"><p>Select a code element.</p></li><li class="list__item" id="8204764f"><p>Press <kbd data-primary_default="Alt+Enter" data-primary_default_for_gnome="Alt+Enter" data-primary_default_for_kde="Alt+Enter" data-primary_default_for_xwin="Alt+Enter" data-primary_emacs="Alt+Enter" data-primary_jbuilder="Alt+Enter" data-primary_visual_studio="Alt+Enter" data-primary_netbeans="Alt+Enter" data-primary_eclipse="Alt+Enter" data-secondary_mac_os_x_10.5_="⌥⏎" data-secondary_mac_os_x="⌥⏎" data-secondary_eclipse_mac_os_x="⌘1" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌥⏎">Alt+Enter</kbd>.</p></li><li class="list__item" id="af54e8be"><p>Select <span class="emphasis">Add type hint for ...</span>.</p></li><li class="list__item" id="b868ffbd"><p>Press <kbd data-primary_default="Enter" data-primary_default_for_gnome="Enter" data-primary_default_for_kde="Enter" data-primary_default_for_xwin="Enter" data-primary_emacs="Enter" data-primary_jbuilder="Enter" data-primary_visual_studio="Enter" data-primary_netbeans="Enter" data-primary_eclipse="Enter" data-secondary_mac_os_x_10.5_="⏎" data-secondary_mac_os_x="⏎" data-secondary_eclipse_mac_os_x="⏎" data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⏎">Enter</kbd> to complete the action or edit the type if appropriate. </p></li></ol></section>        <div class="table-wrapper"><table class=" wide                 " width="100%" id="7607b1ad"><thead><tr id="622cabc4" class="ijRowHead"><th id="4a02b040"><p>Example</p></th><th id="debc5400"><p>Intention Action</p></th><th id="b69ac364"><p>Resulting Code for comments (Python 2)</p></th><th id="46f147c3"><p>Resulting Code for annotations (Python 3)</p></th></tr></thead><tbody><tr id="cce60290" class="ijRowOdd"><td id="fa41e03d"><p>Variables</p></td><td id="bd04a713"><figure><img alt="example of adding a type hint for a variable" title="example of adding a type hint for a variable" src="../img/idea/2019.1/py_add_type_hint_variable_command.png" id="b5332c7a" width="270" height="71"></figure></td><td id="495107bf"><figure><img alt="example of adding a type hint for a variable (Python 2)" title="example of adding a type hint for a variable (Python 2)" src="../img/idea/2019.1/py_add_type_hint_variable_result_comment.png" id="e0f87754" width="192" height="80"></figure></td><td id="284298fb"><figure><img alt="example of adding a type hint for a variable (Python 3)" title="example of adding a type hint for a variable (Python 3)" src="../img/idea/2019.1/py_add_type_hint_variable_result.png" id="4fa4e7ab" width="142" height="89"></figure></td></tr><tr id="52fbf3f2" class="ijRowEven"><td id="db90235b"><p>Functions</p></td><td id="fe92c918"><figure><img alt="example of adding a type hint for a function" title="example of adding a type hint for a function" src="../img/idea/2019.1/py_add_type_hint_function_command.png" id="08a2664f" width="369" height="317"></figure></td><td id="c275c25c"><figure><img alt="example of adding a type hint for a function (Python 2)" title="example of adding a type hint for a function (Python 2)" src="../img/idea/2019.1/py_add_type_hint_function_result_comment.png" id="17a6a429" width="277" height="110"></figure></td><td id="749ed6fc"><figure><img alt="example of adding a type hint for a function (Python 3)" title="example of adding a type hint for a function (Python 3)" src="../img/idea/2019.1/py_add_type_hint_function_result.png" id="389d8513" width="292" height="109"></figure></td></tr><tr id="29a1f7af" class="ijRowOdd"><td id="55760374"><p>Class attributes</p></td><td id="a9e1271a"><figure><img alt="example of adding a type hint for a class attribute" title="example of adding a type hint for a class attribute" src="../img/idea/2019.1/py_add_type_hint_class_command.png" id="cb345259" width="317" height="300"></figure></td><td id="e7737b15"><figure><img alt="example of adding a type hint for a class attribute (Python 2)" title="example of adding a type hint for a class attribute (Python 2)" src="../img/idea/2019.1/py_add_type_hint_class_result_comment.png" id="2d188460" width="281" height="280"></figure></td><td id="e585d950"><figure><img alt="example of adding a type hint for a class attribute (Python 3)" title="example of adding a type hint for a class attribute (Python 3)" src="../img/idea/2019.1/py_add_type_hint_class_result.png" id="5bdcedf8" width="241" height="298"></figure></td></tr></tbody></table></div><p id="976a00b5">You can also use <a href="type-hinting-in-product.html#stub">Python stubs</a> or <a href="type-hinting-in-product.html#local-var-types">comments</a>  to specify the types of variables,    functions, and class fields. </p>    </div>            <div class="chapter"><h2 id="local-var-types">Specifying types by using comments</h2>        <p id="fda0abf8">Use a <code class="code"># type:</code> comment to specify the types of local variables and attributes:</p>        <figure><img alt="Type hinting attributes" title="Type hinting attributes" src="../img/idea/2019.1/py_type_hinting_attributes.png" id="8985b6af" width="320" height="247"></figure>    </div>            <div class="chapter"><h2 id="convert-comment">Converting comments </h2>            <p id="38f58103">For comment-based type hints, IntelliJ IDEA suggests an intention action                that allows you to convert comment-based type hint to a variable annotation. This intention has the name                <span class="control">Convert to variable annotation</span>, and works as follows:</p>            <aside class="warning " data-title="" rel="38f58103" id="5835cec5"><p id="89f8f172">This functionality is available in Python 3.6!</p></aside>            <div class="table-wrapper"><table class="                 " width="100%" id="738b624f"><thead><tr id="f9d2913a" class="ijRowHead"><th id="c0bc754d"><p>Before</p></th><th id="8ec5495a"><p>After</p></th></tr></thead><tbody><tr id="1d399505" class="ijRowOdd"><td id="c7ca6caf"><p>                        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>

<span class="n">xs</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c"># type: List[Optional[str]]</span></code></div>                    </p></td><td id="00c11559"><p>                        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>

<span class="n">xs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span></code></div>                    </p></td></tr></tbody></table></div>        </div>        <div class="chapter"><h2 id="validate-type-hints">Type hints validation</h2>        <p id="d3456aa1">Any time you're applying type hints, IntelliJ IDEA checks if the type is used correctly.            If there is a usage error, the corresponding warning is shown and the recommended action is suggested.            Below are the validation examples.</p>        <div class="table-wrapper"><table class="                 " width="100%" id="693a469d"><thead><tr id="7a7a1b63" class="ijRowHead"><th id="d3379963"><p>Validation error</p></th><th id="b623b466"><p>Suggested action</p></th></tr></thead><tbody><tr id="e757feb8" class="ijRowOdd"><td id="d309a412"><p>Duplication of type declaration.                    <figure><img alt="incorrect type hint" title="incorrect type hint" src="../img/idea/2019.1/py_type_hint_validate_comment_and_annotation.png" id="3e1fedae" width="417" height="155"></figure></p></td><td id="ff1433f1"><p>Remove either of the type declarations.</p></td></tr><tr id="5caa5db2" class="ijRowEven"><td id="ab67e747"><p>Number of arguments in the type declaration differs from the number of function arguments.                    <figure><img alt="too many arguments" title="too many arguments" src="../img/idea/2019.1/py_type_hint_validate_incorrect_number_of_arguments.png" id="4dbf8f2d" width="333" height="145"></figure></p></td><td id="f35f5275"><p>Adjust the number of the arguments.</p></td></tr><tr id="17e21c9b" class="ijRowOdd"><td id="f0e83e1f"><p>Missing brackets.                    <figure><img alt="missing bracket" title="missing bracket" src="../img/idea/2019.1/py_type_hint_validate_bracket.png" id="65b4fedc" width="470" height="144"></figure></p></td><td id="5fe8d406"><p>Add the required brackets where appropriate.</p></td></tr><tr id="3685460e" class="ijRowEven"><td id="cf2723e0">                    <p id="674063e2">Type comments with unpacking do not match the corresponding targets.                        <figure><img alt="incorrect type for unpacked variables" title="incorrect type for unpacked variables" src="../img/idea/2019.1/py_type_hint_validate_unpacked_var.png" id="145aac27" width="700" height="152"></figure></p>                </td><td id="c2e4bf7c">                    <p id="dfd2be8a">Check the target format and modify the type comment accordingly.</p>                </td></tr><tr id="353fba4a" class="ijRowOdd"><td id="62784867"><p>Incorrect syntax of <code class="code">Callable</code> parameters.                    <figure><img alt="Incorrect Callable format" title="Incorrect Callable format" src="../img/idea/2019.1/py_type_hint_validate_callable.png" id="0e50b7b2" width="385" height="123"></figure></p></td><td id="5f8e33ff"><p>Use the suggested format and add the required brackets to wrap <code class="code">Callable</code> parameters.</p></td></tr></tbody></table></div>    </div>    <div class="chapter"><h2 id="stub">Python stubs</h2>    <p id="19a1b39b">IntelliJ IDEA supports <a href="https://www.python.org/dev/peps/pep-0484/#stub-files" data-bypass="yes" target="_blank"><span>Python stub files</span></a> with the        <code class="code">.pyi</code> extension. These files allow you to specify the type hints using Python 3        syntax for both Python 2 and 3.</p>    <p id="13b52e56">The stub files are, but you must specify the extension        <code class="code">.pyi</code> explicitly.</p>    <p id="e1e9cd62">IntelliJ IDEA shows an asterisk in the left gutter for those code elements that have stubs:</p>        <figure><img alt="elements with stubs" title="elements with stubs" src="../img/idea/2019.1/py_stub1.png" id="e77623f1" width="222" height="96"></figure><p id="80001845">Clicking the asterisk results in jumping to the corresponding stub:</p>    <figure><img alt="jumping to the corresponding stub" title="jumping to the corresponding stub" src="../img/idea/2019.1/py_stub2.png" id="71878d8d" width="246" height="68"></figure>     <p id="e3454659">With the <a href="https://www.python.org/dev/peps/pep-0561/" data-bypass="yes" target="_blank"><span>PEP-561</span></a> support, you can install stubs as a package for a Python interpreter.</p>     <section class="procedure-steps"><h2 id="dd76702e">To install a stub package</h2><ol class="list _decimal"><li class="list__item" id="ae0b09a3"><p>Follow the procedure described in <a href="installing-uninstalling-and-upgrading-packages.html#install-package"><span>To install a package</span></a>.         If needed, click <span class="control">Manage repositories</span> to add a repository where your stub packages reside.</p></li><li class="list__item" id="7b066224"><p>Stub packages have a predefined name format, so type "-stubs" in the search field to discover them.             <figure><img alt="install a stub package" title="install a stub package" src="../img/idea/2019.1/py_install_stub_package.png" id="6104c1d6" width="586" height="568"></figure></p></li><li class="list__item" id="b459df6e"><p>Complete installation by clicking <span class="control">Install Package</span>.         </p></li></ol></section>     <p id="9b476fc7">Once added, the type hints recorded in the stub files become available in your code. For example, the following type hint for     <code class="code">some_func_2</code>:</p>     <figure><img alt="type hints in the stub" title="type hints in the stub" src="../img/idea/2019.1/py_stub_type_hints.png" id="7a87a94e" width="730" height="468"></figure>        <p id="75ee3574">becomes available in the following Python code</p>        <figure><img alt="type hints" title="type hints" src="../img/idea/2019.1/py_type_hints_from_stub.png" id="b1259758" width="341" height="239"></figure>     <p id="incompatible_versions">If you're using a package for which a stub analog is detected, the following message will be shown:</p>        <figure><img alt="The stub package inspection" title="The stub package inspection" src="../img/idea/2019.1/py_stub_package_inspection.png" id="6e241de2" width="331" height="135"></figure>        <p id="incompatible_versions">You can install the stub package, ignore this message and continue working with the currently installed package, or even disable the corresponding inspection in the project            <span class="control">Settings/Preferences</span>.</p>        <aside class="note " data-title="" rel="incompatible_versions" id="8284d23f"><p>When you select installation, IntelliJ IDEA tries to install the latest available version of the stub package. If it is incompatible with the currently used non-stub package,            the installation process will be terminated.</p></aside>        <aside class="tip sideblock" data-title="" rel="incompatible_versions" id="7a504e5a"><p id="8c677971">You can specify a particular <a href="installing-uninstalling-and-upgrading-packages.html#package-version">            version of the package</a> to install in the <span class="control">Available Packages</span> dialog.</p></aside></div>    <div class="chapter"><h2 id="typeshed">Using Typeshed</h2>    <p id="c1f60fa5"><a href="https://github.com/python/typeshed" data-bypass="yes" target="_blank"><span>Typeshed</span></a> is a set of files with type annotations for the        standard Java library and various packages. Typeshed stubs provide definitions for Java classes,        functions, and modules defined with type hints. IntelliJ IDEA uses this information for better code completion,        inspections, and other code insight features.</p>    <p id="31302f0d">IntelliJ IDEA is switching to <a href="https://github.com/python/typeshed" data-bypass="yes" target="_blank"><span>Typeshed</span></a>, the common repository for        Java stubs. The Typeshed stubs bundled with IntelliJ IDEA are shown in the project view under the node        <span class="control">External Libraries | &lt;Python interpreter&gt; | Typeshed Stubs</span>. Note that IntelliJ IDEA        currently uses only a few of the bundled stubs (i.e. <code class="code">builtins.pyi</code>, <code class="code">typing.pyi</code>, and        several others).</p>    <section class="procedure-steps"><h2 id="ef4dfe4e">To override the bundled Typeshed repository with your own version, follow these steps:</h2><ol class="list _decimal"><li class="list__item" id="cc9770d4"><p>Copy some or all the stubs into a directory in your project.</p></li><li class="list__item" id="4941cb24"><p>Mark a directory as a source root by choosing            <span class="control">Mark Directory as | Sources Root</span> from the context menu of the directory.</p></li></ol></section>    <p id="29a3a41e">The Python skeletons repository        <a href="https://github.com/JetBrains/python-skeletons" data-bypass="yes" target="_blank"><span>https://github.com/JetBrains/python-skeletons</span></a>        is now deprecated. </p></div>           <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="remote-debugging.html">Remote Debugging</a><a class="navigation-links__next" href="using-docstrings-to-specify-types.html">Using Docstrings to Specify Types</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a href="auto-completing-code.html"><span>Code completion</span></a></li><li class="list__item"><a href="intention-actions.html"><span>Intention actions</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























