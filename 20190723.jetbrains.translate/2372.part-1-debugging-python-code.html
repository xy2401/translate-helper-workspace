<html lang="en-US" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="part-1-debugging-python-code.html"></link><meta charset="UTF-8"></meta><title>第1部分。调试Python代码 - 帮助| PyCharm</title><link rel="stylesheet" href="../app/v2/app.css"></link></head><body dir="ltr" data-id="Part_1._Debugging__language__Code.xml"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label class="search-box__label" for="search-box__input"><input type="text" class="search-box__input" id="search-box__input" placeholder="搜索PyCharm帮助"></label><div class="search-box__clear" title="明确"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="part-1-debugging-python-code.html#">发送反馈</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>PyCharm 2019.1帮助</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">键盘布局</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option value="primary_default" data-group="primary" selected="">Windows / Linux默认值</option><option value="primary_default_for_gnome" data-group="primary">GNOME</option><option value="primary_default_for_kde" data-group="primary">KDE</option><option value="primary_default_for_xwin" data-group="primary">XWin中</option><option value="primary_emacs" data-group="primary">Emacs的</option><option value="primary_visual_studio" data-group="primary">视觉工作室</option><option value="primary_netbeans" data-group="primary">NetBeans的</option><option value="primary_eclipse" data-group="primary">日食</option><option value="secondary_mac_os_x_10.5_" data-group="secondary">默认（Mac OS X 10.5+）</option><option value="secondary_mac_os_x" data-group="secondary">Mac OS X.</option><option value="secondary_eclipse_mac_os_x" data-group="secondary">Eclipse（Mac OS X）</option><option value="secondary_intellij_idea_classic_os_x" data-group="secondary">IntelliJ IDEA Classic（Mac OS X）</option><option value="secondary_xcode" data-group="secondary">Xcode中</option><option value="secondary_visual_studio" data-group="secondary">视觉工作室</option><option value="secondary_resharper" data-group="secondary">ReSharper的</option><option value="secondary_resharper_osx" data-group="secondary">ReSharper（Mac OS X）</option><option value="secondary_emacs" data-group="secondary">Emacs（Mac OS X）</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 id="Part_1._Debugging__language__Code.xml" data-toc="Part_1._Debugging__language__Code.xml">第1部分。调试Python代码</h1>    <div class="chapter"><h2 id="c33d1f1a" data-toc="Part_1._Debugging__language__Code.xml#c33d1f1a">准备一个例子</h2>        <p id="5bf25cd5">你还记得<a href="https://www.khanacademy.org/math/algebra/quadratics/solving-quadratics-using-the-quadratic-formula/a/quadratic-formula-explained-article" data-bypass="yes" target="_blank"><span>数学课上</span></a>的<a href="https://www.khanacademy.org/math/algebra/quadratics/solving-quadratics-using-the-quadratic-formula/a/quadratic-formula-explained-article" data-bypass="yes" target="_blank"><span>二次公式</span></a>吗？该公式也称为A，B，C公式，它用于求解一个简单的二次方程： <code class="code">ax2 + bx + c = 0</code> 。由于手动解决二次公式很快就会变得无聊，让我们用脚本替换它。</p>        <p id="b0e5a22e">将以下代码复制到项目中的文件中（尽管建议手动键入此代码）：</p>        <div class="code-block" data-lang="Python"><code class="code-block__wrapper"><span class="kn">导入</span> <span class="nn">数学</span> <span class="k">类</span> <span class="nc">解算器</span> <span class="p">：</span> <span class="k">def</span> <span class="nf">demo</span> <span class="p">（</span> <span class="bp">self</span> <span class="p">，</span> <span class="n">a</span> <span class="p">，</span> <span class="n">b</span> <span class="p">，</span> <span class="n">c</span> <span class="p">）：</span> <span class="n">d</span> <span class="o">=</span> <span class="n">b</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span> <span class="k">如果</span> <span class="n">d</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">：</span> <span class="n">disc</span> <span class="o">=</span> <span class="n">math</span> <span class="o">。</span> <span class="n">sqrt</span> <span class="p">（</span> <span class="n">d</span> <span class="p">）</span> <span class="n">root1</span> <span class="o">=</span> <span class="p">（</span> <span class="o">-</span> <span class="n">b</span> <span class="o">+</span> <span class="n">disc</span> <span class="p">）</span> <span class="o">/</span> <span class="p">（</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">a</span> <span class="p">）</span> <span class="n">root2</span> <span class="o">=</span> <span class="p">（</span> <span class="o">-</span> <span class="n">b</span> <span class="o">-</span> <span class="n">disc</span> <span class="p">）</span> <span class="o">/</span> <span class="p">（</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">a</span> <span class="p">）</span> <span class="k">返回</span> <span class="n">root1</span> <span class="p">，</span> <span class="n">root2</span> <span class="k">elif</span> <span class="n">d</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">：</span> <span class="k">return</span> <span class="o">-</span> <span class="n">b</span> <span class="o">/</span> <span class="p">（</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">a</span> <span class="p">）</span> <span class="k">else</span> <span class="p">：</span> <span class="k">如果</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'</span> <span class="n">__ main__</span> <span class="s">'，</span> <span class="k">则</span> <span class="k">返回</span> <span class="s">“此公式没有根”</span> <span class="p">：</span> <span class="n">solver</span> <span class="o">=</span> <span class="n">Solver</span> <span class="p">（）</span> <span class="k">而</span> <span class="bp">True</span> <span class="p">：</span> <span class="n">a</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">（</span> <span class="nb">输入</span> <span class="p">（</span> <span class="s">“a：”</span> <span class="p">））</span> <span class="n">b</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">（</span> <span class="nb">输入</span> <span class="p">（</span> <span class="s">“b：”</span> <span class="p">）） ）</span> <span class="n">c</span> <span class="o">=</span> <span class="nb">int</span> <span class="p">（</span> <span class="nb">输入</span> <span class="p">（</span> <span class="s">“c：”</span> <span class="p">））</span> <span class="n">result</span> <span class="o">=</span> <span class="n">solver</span> <span class="o">。</span> <span class="n">演示</span> <span class="p">（</span> <span class="n">a</span> <span class="p">，</span> <span class="n">b</span> <span class="p">，</span> <span class="n">c</span> <span class="p">）</span> <span class="k">打印</span> <span class="p">（</span> <span class="n">结果</span> <span class="p">）</span></code></div>        <p id="55dea35f">如你所见，这里有<code class="code">main</code>条款。这意味着执行将从它开始，让您输入变量<code class="code">a</code> ， <code class="code">b</code>和<code class="code">c</code>的所需值，然后输入方法<code class="code">demo</code> 。</p>    </div>    <div class="chapter"><h2 id="ae9cdbf9" data-toc="Part_1._Debugging__language__Code.xml#ae9cdbf9">放置断点</h2>        <p id="bc461930">要放置断点，只需单击希望应用程序挂起的行旁边的左侧装订线：</p>        <figure><img alt="py调试breakoints" title="py调试breakoints" src="../img/idea/2019.1/py_debugging_breakoints.png" id="ad5eb1eb" width="408" height="393"></figure>        <p id="683e1d1a">有关详细信息，请参阅<a href="using-breakpoints.html"><span>断点</span></a>部分。</p>    </div>    <div class="chapter"><h2 id="beb3ed7f" data-toc="Part_1._Debugging__language__Code.xml#beb3ed7f">启动调试器会话</h2>        <p id="c9fadb4c">现在好了，因为我们已经添加了断点，所以一切都准备好进行调试。</p>        <p id="8007be3e">PyCharm允许以多种方式<a href="starting-the-debugger-session.html">启动调试器会话</a> 。我们选择一个：点击<img alt="从左排水沟图标运行" title="从左排水沟图标运行" src="../img/idea/2019.1/run_from_left_gutter_icon.png" id="f7fdf5a9" width="16" height="15" class="inline-icon-16">在左侧装订线中，然后在打开的弹出菜单中选择“ <span class="menupath" data-skip-index="skip">调试'解算器'</span>命令：</p>        <figure><img alt="调试Python脚本" title="调试Python脚本" src="../img/idea/2019.1/py_debugging_start.png" id="a211878a" width="225" height="229"></figure>        <p id="9ad60073">调试器启动，显示“调试”工具窗口的“ <a href="debug-tool-window-console.html">控制台”选项卡</a> ，并允许您输入所需的值：</p>        <figure><img alt="py调试控制台" title="py调试控制台" src="../img/idea/2019.1/py_debugging_console.png" id="5df1c8da" width="554" height="567"></figure>        <p id="d313793b">顺便说一下，在控制台中，您可以显示Python提示并输入Python命令。为此，请单击<img class="inline-icon-16" src="../img/idea/2019.1/python.icons.com.jetbrains.python.debug.commandLine@2x.png" width="16" alt="Python控制台"> ：</p>        <figure><img alt="py debugging show prompt" title="py debugging show prompt" src="../img/idea/2019.1/py_debugging_show_prompt.png" id="cf7e5bae" width="568" height="577"></figure>        <p id="7f7309d0">如果调试控制台太短而无法显示提示图标，请单击<code class="code">&gt;&gt;&gt;</code> 。</p>        <p id="f7e09f85">然后调试器在第一个断点处挂起程序。这意味着尚未执行具有断点的行。该线变为蓝色：</p>        <figure><img alt="py调试在第一个断点处停止" title="py调试在第一个断点处停止" src="../img/idea/2019.1/py_debugging_stop_at_first_breakpoint.png" id="99fded9a" width="368" height="167"></figure>        <p id="82b112e1">在“ <a href="debug-tool-window.html#steptoolbar">调试器”选项卡</a>的<a href="debug-tool-window.html#steptoolbar">步进工具栏上</a> ，单击按钮<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.resume.svg@2x.png" width="16" alt="图标动作恢复svg"> ，移动到下一个断点。</p>    </div>    <div class="chapter"><h2 id="dea1239c" data-toc="Part_1._Debugging__language__Code.xml#dea1239c">内联调试</h2>        <p id="4fd42215">在编辑器中，您会看到代码行旁边的灰色文本：</p>        <figure><img alt="py内联调试" title="py内联调试" src="../img/idea/2019.1/py_inline_debugging.png" id="246c86f1" width="561" height="119"></figure>        <p id="7a2695e0">这是什么意思？</p>        <p id="cd218e6d">这是所谓的<a href="inline-debugging.html">内联调试的结果</a> 。第一行显示<code class="code">Solver</code>对象的地址以及您输入的变量<code class="code">a</code> ， <code class="code">b</code>和<code class="code">c</code>的值。</p>        <p id="4c188305">可以<a href="inline-debugging.html">关闭</a>内联调试。</p>        <p id="34215cfb">请注意，您可以在调试器会话期间执行此操作！</p>    </div>    <div class="chapter"><h2 id="51d76992" data-toc="Part_1._Debugging__language__Code.xml#51d76992">我们迈出一步！</h2>        <p id="bab2c5db">所以，你点击了按钮<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.resume.svg@2x.png" width="16" alt="图标动作恢复svg"> ，现在看到蓝色标记移动到断点的下一行。</p>        <p id="004582ac">如果使用<a href="debug-tool-window.html#steptoolbar">步进工具栏按钮</a> ，则将移至下一行。例如，单击按钮<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.traceOver.svg@2x.png" width="16" alt="图标动作traceOver svg"> 。由于启用了内联调试，变量的值在编辑器中以斜体显示。</p>        <figure><img alt="py调试步骤" title="py调试步骤" src="../img/idea/2019.1/py_debugging_step.png" id="83cc1839" width="760" height="112"></figure>        <p id="85d54e45">如果单击按钮<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.traceInto.svg@2x.png" width="16" alt="图标动作traceInto svg"> ，你会看到在<code class="code">a = int(input("a: "))</code>调试器进入文件<code class="code">parse.py</code> ：</p>            <figure><img alt="py调试步骤进入" title="py调试步骤进入" src="../img/idea/2019.1/py_debugging_step_into.png" id="996e6a90" width="373" height="230"></figure>        <p id="8c849a32">但是，如果您继续使用该按钮<img class="inline-icon-16" src="../img/idea/2019.1/icons.actions.traceOver.svg@2x.png" width="16" alt="图标动作traceOver svg"> ，你会看到你的应用程序只是传递到下一个循环：</p>        <figure><img alt="py调试下一个输入" title="py调试下一个输入" src="../img/idea/2019.1/py_debugging_next_input.png" id="e5966b48" width="574" height="582"></figure>        <p id="4ea8a5d8">如果您想专注于自己的代码，请使用按钮<span class="control">Step Into My Code</span> （ <img class="inline-icon-16" src="../img/idea/2019.1/python.icons.com.jetbrains.python.debug.StepIntoMyCode.svg@2x.png" width="16" alt="python icons com jetbrains python debug StepIntoMyCode svg"> ） - 因此你将避免步入库类。</p>        <p id="543c7fc1">有关详细信息，请参阅单<a href="stepping-through-the-program.html"><span>步执行程序</span></a>和<a href="debug-tool-window.html#steptoolbar">步进工具栏</a> 。</p>    </div>    <div class="chapter"><h2 id="17dfa901" data-toc="Part_1._Debugging__language__Code.xml#17dfa901">观看</h2>        <p id="10c51be0">PyCharm允许您观察变量。只需点击<img class="inline-icon-16" src="../img/idea/2019.1/icons.debugger.watch.svg@2x.png" width="16" alt="图标调试器观看svg">在“ <a href="debug-tool-window-variables.html">变量”选项卡</a>的工具栏上，键入要监视的变量的名称。请注意，代码完成可用：</p>        <figure><img alt="添加一块新手表" title="添加一块新手表" src="../img/idea/2019.1/py_debugging_watches_completion.png" id="06b46e4d" width="496" height="476"></figure>        <p id="cc543f9a">首先，您会看到一个错误 - 这意味着该变量尚未定义：</p>        <figure><img alt="py调试手表错误" title="py调试手表错误" src="../img/idea/2019.1/py_debugging_watches_error.png" id="31b8b0a2" width="663" height="573"></figure>        <p id="e1f9e841">但是，当程序执行继续到定义变量的作用域时，watch会获得以下视图：</p>        <figure><img alt="py调试手表正常" title="py调试手表正常" src="../img/idea/2019.1/py_debugging_watches_normal.png" id="892b2173" width="807" height="737"></figure>        <p id="8f121736">请参阅<a href="debug-tool-window-variables.html"><span>调试工具窗口部分<a href="debug-tool-window-variables.html"><span>。变量</span></a>和<a href="debug-tool-window-watches.html"><span>调试工具窗口。手表</span></a> 。</p>    </div>    <div class="chapter"><h2 id="ad5abbe5" data-toc="Part_1._Debugging__language__Code.xml#ad5abbe5">评估表达式</h2>        <p id="86713795">最后，您可以随时评估任何表达式。例如，如果要查看变量的值，请单击按钮<img class="inline-icon-16" src="../img/idea/2019.1/icons.debugger.evaluateExpression.svg@2x.png" width="16" alt="icons debugger evaluateExpression svg"> ，然后在打开的对话框中，单击“ <span class="control">评估”</span> ：</p>        <figure><img alt="评估表达式" title="评估表达式" src="../img/idea/2019.1/py_debugging_evaluate.png" id="cbafc9e6" width="446" height="667"></figure>        <p id="5095af2f">PyCharm为您提供评估任何表达式的可能性。例如：</p>        <figure><img alt="评估数学表达式" title="评估数学表达式" src="../img/idea/2019.1/py_debugging_evaluate1.png" id="17515ad3" width="446" height="668"></figure>        <p id="92a1eebc">请参阅<a href="evaluating-expressions.html"><span>评估表达式</span></a>一节。</p>        <p id="dc815f50">您也可以单击按钮<img class="inline-icon-16" src="../img/idea/2019.1/python.icons.com.jetbrains.python.debug.commandLine@2x.png" width="16" alt="python icons com jetbrains python debug命令行">在调试控制台中，输入一些显示变量值的命令。例如，你可以改变<span class="keyword">一个</span>变量。此更改将显示在编辑器中的相应代码中。</p>        <figure><img alt="py调试评估ipython" title="py调试评估ipython" src="../img/idea/2019.1/py_debugging_evaluate_ipython.png" id="9ad82ec1" width="861" height="911"></figure>    </div>    <div class="chapter"><h2 id="6a436202" data-toc="Part_1._Debugging__language__Code.xml#6a436202">摘要</h2>        <p id="83cbdd0c">这个简短的教程结束了 - 恭喜！让我们重复一下你从中学到的东西：</p>        <ul class="list _ul"><li class="list__item" id="ff0d630c"><p>您已经刷新了断点的知识，并学会了如何放置断点。</p></li><li class="list__item" id="fad9a7e2"><p>您已经学习了如何开始调试器会话，以及如何在调试器控制台中显示Python提示符。</p></li><li class="list__item" id="cdabd27f"><p>您已经刷新了有关内联调试的知识。</p></li><li class="list__item" id="500b1b93"><p>你已经尝试过踩踏，观看和评估表情。</p></li></ul>        <p id="4746747d">下一步是专业版用户 - 这是<a href="part-2-debugging-django-templates.html">调试Django模板</a> 。</p>    </div>    <div class="last-modified" data-skip-index="skip">最后修改日期：2019年3月28日</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="debugging-python-code.html">使用PyCharm进行调试</a> <a class="navigation-links__next" href="part-2-debugging-django-templates.html">第2部分。调试Django模板</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>也可以看看</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>程序：</h3><ul class="list"><li class="list__item"><a href="debugging-code.html"><span>不要暂停代码执行</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>参考：</h3><ul class="list"><li class="list__item"><a href="debug-tool-window.html"><span>调试工具窗口</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>