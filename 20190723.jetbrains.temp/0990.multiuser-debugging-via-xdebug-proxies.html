<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                        })(window,document,'script','dataLayer','GTM-5P98');
                    </script><script src="../app/v2/analytics.js"></script><link rel="canonical" href="multiuser-debugging-via-xdebug-proxies.html"><meta charset="UTF-8"><title>Multiuser Debugging via Xdebug Proxies - Help | IntelliJ IDEA</title><link rel="stylesheet" href="../app/v2/app.css"></head><body data-id="Multiuser_Debugging_via_XDebug_Proxies"><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div class="wrapper"><section class="panel _nav" data-skip-index="skip"><header class="panel__header"><div class="container"><form class="search-box"><label for="search-box__input" class="search-box__label"><input type="text" class="search-box__input" id="search-box__input" placeholder="Search IntelliJ IDEA Help"></label><div class="search-box__clear" title="Clear"></div></form></div></header><nav class="panel__content"><div class="container _nav"><menu class="nav-tree"></menu></div><div class="container _footer panel__footer"><p><a href="multiuser-debugging-via-xdebug-proxies.html#">Send feedback</a></p></div></nav></section><main class="panel _main"><header class="panel__header" data-skip-index="skip"><div class="container"><h3>IntelliJ IDEA 2019.1 Help</h3><div class="shortcuts-switcher" data-skip-index="skip"><label for="switch-shortcuts">Keymap:</label><select id="switch-shortcuts" class="select _shortcuts" height="1"><option data-group="primary" value="primary_default" selected>Windows/Linux Default</option><option data-group="primary" value="primary_default_for_gnome">GNOME</option><option data-group="primary" value="primary_default_for_kde">KDE</option><option data-group="primary" value="primary_default_for_xwin">XWin</option><option data-group="primary" value="primary_emacs">Emacs</option><option data-group="primary" value="primary_jbuilder">JBuilder</option><option data-group="primary" value="primary_visual_studio">Visual Studio</option><option data-group="primary" value="primary_netbeans">NetBeans</option><option data-group="primary" value="primary_eclipse">Eclipse</option><option data-group="secondary" value="secondary_mac_os_x_10.5_">Default (Mac OS X 10.5+)</option><option data-group="secondary" value="secondary_mac_os_x">Mac OS X</option><option data-group="secondary" value="secondary_eclipse_mac_os_x">Eclipse (Mac OS X)</option><option data-group="secondary" value="secondary_intellij_idea_classic_os_x">IntelliJ IDEA Classic (Mac OS X)</option><option data-group="secondary" value="secondary_xcode">Xcode</option><option data-group="secondary" value="secondary_resharper">ReSharper</option><option data-group="secondary" value="secondary_resharper_osx">ReSharper (Mac OS X)</option><option data-group="secondary" value="secondary_emacs">Emacs (Mac OS X)</option></select></div><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="active"><h1 data-toc="Multiuser_Debugging_via_XDebug_Proxies" id="Multiuser_Debugging_via_XDebug_Proxies.xml">Multiuser Debugging via Xdebug Proxies</h1>         <aside class="warning " data-title="" rel="Multiuser_Debugging_via_XDebug_Proxies.xml" id="04cb1419"><p>        This feature is only supported in the <b id="0a3e02ea" origin="intellij-platform">Ultimate</b> edition.             </p></aside>                     <aside class="warning " data-title="" rel="Multiuser_Debugging_via_XDebug_Proxies.xml" id="beb1038f"><p>                        The following is only valid when PHP Plugin is installed and enabled!                </p></aside>           <p id="3871bbcd">        When you start a debugging session, the Xdebug extension connects to the IP address IntelliJ IDEA is        running at, specified as the <code class="code">xdebug.remote_host</code> value. IntelliJ IDEA accepts this connection and can communicate with Xdebug over        it. Xdebug only supports connecting to a single IP address, and does not automatically connect back to the IP        address that runs the browser because of security reasons. To debug PHP applications in <a href="https://derickrethans.nl/debugging-with-multiple-users.html" data-bypass="yes" target="_blank"><span>multiuser environments</span></a>, Xdebug        offers a so-called <a href="http://www.xdebug.org/docs-dbgp.php#just-in-time-debugging-and-debugger-proxies" data-bypass="yes" target="_blank"><span>DBGp proxy</span></a>.    </p>    <p id="8c545cc4">When a proxy is used, the PHP Xdebug extension no longer connects to IntelliJ IDEA directly, but instead connects        to the DBGp proxy server. All developers in the team, in turn, then connect to that proxy. Each developer        has a separate debugging session running over this proxy, which makes it possible to do multi-user debugging        of the same code on the same server.    </p>    <figure><img alt="ps xdebug schema proxy" title="ps xdebug schema proxy" src="../img/idea/2019.1/ps_xdebug_schema_proxy.png" id="4bb6778b" width="353" height="377"></figure>    <div class="chapter"><h2 id="c72c0a31">Configuring multiuser debugging via an Xdebug proxy (DBGp) server</h2>        <p id="ce7fb9a1">            To configure multiuser debugging via an Xdebug proxy (DBGp) server, perform the following general steps:        </p>        <ul data-skip-index="skip"><li class="list__item"><a href="multiuser-debugging-via-xdebug-proxies.html#download-install-dbgp-proxy">Download and install a DBGp proxy</a></li><li class="list__item"><a href="multiuser-debugging-via-xdebug-proxies.html#a59aae03">Make sure Xdebug is installed and configured on the web server</a></li><li class="list__item"><a href="multiuser-debugging-via-xdebug-proxies.html#configure-access-to-dbgp-proxy">Configure access to the DBGp proxy server from IntelliJ IDEA</a></li><li class="list__item"><a href="multiuser-debugging-via-xdebug-proxies.html#start-debugging-session">Start a debugging session in the browser</a></li></ul>        <section class="procedure-steps"><h2 id="download-install-dbgp-proxy">Download and install a DBGp proxy</h2><p id="823d6499">                To be able to start a debugging session, you'll need to have a DBGp proxy running on a server that can                be reached by the web server itself as well as all developer machines. We can install the proxy on the                web server, on a machine in the same network, or a machine accessible via an SSH tunnel.            </p><ol class="list _decimal"><li class="list__item" id="f943ba27"><p>On the <a href="http://code.activestate.com/komodo/remotedebugging/" data-bypass="yes" target="_blank"><span>Komodo downloads page</span></a>, you                can find the DBGp proxy platform-specific Python binaries. Download the required package and run the                <span class="filepath">pydbgpproxy</span> or <span class="filepath">pydbgpproxy.exe</span> file.            </p></li><li class="list__item" id="9a651ab3">                <p id="f6f817eb">                    Start the DBGp proxy either on the web server or on a machine that can communicate both with the                    web server and all developer machines. The DBGp proxy executable accepts two arguments: <code class="code">-d</code> and <code class="code">-i</code>.                </p>                <p id="bdb3de8e">                    The arguments define which IP address and port to listen for debugger connections from the web server                    and on which IP address and port to listen for developers.                </p>                <p id="6aedd1c6">                    As an example that listens for debugger connections on the loopback address (                    <code class="code">127.0.0.1</code>                    ) and port                    <code class="code">9001</code>,                    and listens for developers on the machine IP address and port                    <code class="code">9000</code>.                </p>                <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="n">pydbgpproxy</span> <span class="o">-</span><span class="n">d</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">:</span><span class="mi">9001</span> <span class="o">-</span><span class="n">i</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">99.1</span><span class="o">:</span><span class="mi">9000</span></code></div>                <p id="05868c9e">                    The DBGp proxy will confirm these settings when started:                </p>                <figure><img alt="ps pdgp running" title="ps pdgp running" src="../img/idea/2019.1/ps_pdgp_running.png" id="6b230eef" width="612" height="368"></figure>            </li></ol></section>        <section class="procedure-steps"><h2 id="a59aae03">Make sure Xdebug is installed and configured on the web server</h2><ol class="list _decimal"><li class="list__item" id="8eb1f795">                <p id="98372091">                    Open the active <span class="filepath">php.ini</span> file in the editor:                </p>                        <ol class="list _decimal"><li class="list__item" id="b97835c7">                <p id="d075dea4">                In the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl+Alt+S</kbd>), click <span class="control">PHP</span> under <span class="control">                    Languages &amp; Frameworks</span>.                </p>            </li><li class="list__item" id="718ff2ab"><p>                On the <a href="php.html"><span>PHP</span></a> page that opens, click <img class="inline-icon-16" src="../img/idea/2019.1/icons.general.ellipsis.svg@2x.png" width="16" alt="the Browse button"> next                to the <span class="control">CLI Interpreter</span> field.            </p></li><li class="list__item" id="4f5f8d9e"><p>                In the <span class="control">CLI Interpreters</span> dialog that opens, the <span class="control">Configuration File</span> read-only field                shows the path to the active <span class="filepath">php.ini</span> file. Click <span class="control">Open in Editor</span>.            </p></li></ol>                </li><li class="list__item" id="3a805d4a">                <p id="122bfcea">Make sure that at least the following settings are specified:</p>                <div class="code-block" data-lang="Java"><code class="code-block__wrapper"><span class="o">[</span><span class="n">xdebug</span><span class="o">]</span>
<span class="n">zend_extension</span><span class="o">=</span><span class="n">xdebug_module_goes_here</span>
<span class="n">xdebug</span><span class="o">.</span><span class="na">remote_enable</span><span class="o">=</span><span class="mi">1</span>
<span class="n">xdebug</span><span class="o">.</span><span class="na">remote_host</span><span class="o">=</span><span class="n">dbgp_proxy_hostname_or_ip</span>
<span class="n">xdebug</span><span class="o">.</span><span class="na">remote_port</span><span class="o">=</span><span class="mi">9001</span></code></div>            </li></ol><p id="98071736">                For details on configuring Xdebug, refer to                <a href="configuring-xdebug.html"><span>Configuring Xdebug</span></a>            </p></section>        <section class="procedure-steps"><h2 id="configure-access-to-dbgp-proxy">Configure access to the DBGp proxy server from IntelliJ IDEA</h2><ol class="list _decimal"><li class="list__item" id="84ba61a5"><p>                In the main menu, select <span data-skip-index="skip" class="menupath">Tools | Xdebug Proxy | Register IDE</span>.            </p></li><li class="list__item" id="b23fcfc7">                <p id="b39bab80">In the <a href="xdebug-proxy.html">Xdebug Proxy</a> dialog that opens, specify the <span class="control">                    IDE key</span> value (this should be a unique value for each developer, as it identifies the                    debugging session), the host and port of the Xdebug proxy server.                </p>                <figure><img alt="ps pdgp register ide" title="ps pdgp register ide" src="../img/idea/2019.1/ps_pdgp_register_ide.png" id="4688b71a" width="329" height="328"></figure>            </li><li class="list__item" id="ac87ff08">                <p id="5bcca583">                    Click <span class="control">OK</span> to connect to the specified proxy server.                    The server registers the credentials, and confirms the connection.                </p>                <figure><img alt="ps pdgp register ide connected" title="ps pdgp register ide connected" src="../img/idea/2019.1/ps_pdgp_register_ide_connected.png" id="a5939e2e" width="675" height="303"></figure>                <p id="f0851857">                    IntelliJ IDEA will notify about the successful connection, too.                </p>                <figure><img alt="ps pdgp register ide successful" title="ps pdgp register ide successful" src="../img/idea/2019.1/ps_pdgp_register_ide_successful.png" id="8bec379c" width="361" height="134"></figure>            </li><li class="list__item" id="d5cce836">                <p id="cb3c1dda">                    To update the existing credentials, select <span data-skip-index="skip" class="menupath">Tools | Xdebug Proxy |                    Configuration</span> in the main menu. In the <a href="xdebug-proxy.html">Xdebug Proxy</a>                    dialog that opens, edit the IDE key, the host, and the port settings.                </p>                <p id="d045e017">                    To discard the current credentials, select <span data-skip-index="skip" class="menupath">Tools | Xdebug Proxy | Cancel IDE                    Registration </span> in the main menu.                </p>            </li></ol></section>        <section class="procedure-steps"><h2 id="start-debugging-session">Start a debugging session in the browser</h2><ol class="list _decimal"><li class="list__item" id="34b04471">                <p id="e7d3204a">                    Make sure that the <span>browser debugging extension</span> that                    you are using is set to the registered IDE key:                </p>                <figure><img alt="ps pdgp ide key" title="ps pdgp ide key" src="../img/idea/2019.1/ps_pdgp_ide_key.png" id="d4d47294" width="684" height="1186"></figure>            </li><li class="list__item" id="644f5cf0">                <p id="0dbe933e">                            In IntelliJ IDEA, enable listening to incoming debug connections by either clicking        <img class="inline-icon-16" src="../img/idea/2019.1/php.icons.debug_listen_off@2x.png" width="16" alt="the Start Listening for PHP Debug Connections button">        on the toolbar or selecting <span data-skip-index="skip" class="menupath">Run | Start Listening for PHP Debug Connections</span> in the main        menu. This will        ensure IntelliJ IDEA reacts when a debugging session is started and opens the <a href="debug-tool-window.html">Debug        tool window    </a> automatically. Before launching the script, make sure that either a <a href="using-breakpoints.html">        breakpoint    </a> is set or the        <span class="control">Break at first line in PHP scripts</span>        option is enabled on the        <a href="debug.html"><span>Debug</span></a>        page of the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl+Alt+S</kbd>).                    </p>                <p id="cc48788c">Start the debugging session by refreshing the page in the browser.</p>                <figure><img alt="ps pdgp debugging started" title="ps pdgp debugging started" src="../img/idea/2019.1/ps_pdgp_debugging_started.png" id="c570f4ab" width="827" height="980"></figure>            </li></ol></section>    </div>    <div class="chapter"><h2 id="fe5fb1ea">Troubleshooting</h2>        <div class="chapter"><h3 id="8bd1ba95">Remote file path is not mapped to any file path in project</h3>            <p id="43109a4f">                In some cases, the debugger can connect, but we get the error messages indicating that no mapping between the remote and project files is defined. This means that IntelliJ IDEA cannot determine which local file corresponds to the file being debugged.            </p>            <figure><img alt="ps debug no mapping" title="ps debug no mapping" src="../img/idea/2019.1/ps_debug_no_mapping.png" id="59ce6297" width="776" height="484"></figure>            <p id="add040d5">                We can solve this problem by clicking <span class="control">Click to set up path mappings</span>             and providing the necessary path mappings.            </p>            <p id="827d3aa3">                Additionally, we can configure these mappings using the techniques outlined in <a href="configuring-synchronization-with-a-remote-host.html"><span>Configuring Synchronization with a Web Server</span></a>.            </p>        </div>        <div class="chapter"><h3 id="1a26b7bc">No connection could be made because the target machine actively refused it</h3>            <ul class="list _ul"><li class="list__item" id="cb43ef08"><p>                    Make sure that IntelliJ IDEA has been                    <a href="multiuser-debugging-via-xdebug-proxies.html#configure-access-to-dbgp-proxy">registered with the DBGp proxy</a>,                    and it is                    <a href="multiuser-debugging-via-xdebug-proxies.html#start-debugging-session">listening for incoming                        debugger connections                    </a>.                </p></li><li class="list__item" id="a26b22cf"><p>                    Make sure that the                    <a href="multiuser-debugging-via-xdebug-proxies.html#configure-access-to-dbgp-proxy">correct IDE key is set</a>                    in IntelliJ IDEA and in the                    <a href="multiuser-debugging-via-xdebug-proxies.html#start-debugging-session">debugger bookmarklet or browser                        extension                    </a>.                </p></li><li class="list__item" id="c0bd5d8c"><p>                    Is there a firewall blocking connections to the DBGp proxy? If so, make sure the PHP Xdebug                    extension can connect to it, as well as the developer machines. You can use                    <a href="http://canyouseeme.org" data-bypass="yes" target="_blank"><span>http://canyouseeme.org</span></a>                    or a similar service to check for opened inbound ports.                </p></li><li class="list__item" id="9d17fb5c"><p>                    Is there a firewall blocking connections to the IDE? Make sure that IntelliJ IDEA can be connected to                    from the DBGp proxy machine. You can use <a href="http://canyouseeme.org" data-bypass="yes" target="_blank"><span>http://canyouseeme.org</span></a> or a similar service                    to check for opened                    inbound ports.                </p></li><li class="list__item" id="72e73368"><p>The DBGp proxy application binds to the wrong IP address. Run it using                    <code class="code">0.0.0.0</code> as the address so it binds to any IP address on the DBGp proxy server. For                    example, run <code class="code">pydbgpproxy -i 0.0.0.0:9001 -d 0.0.0.0:9000</code>.                </p></li></ul>            <p id="eb480ba5">                When testing multi-user debugging in IntelliJ IDEA with Xdebug and DBGp proxy installed on the same                machine, there are some additional things to verify:            </p>            <ul class="list _ul"><li class="list__item" id="63dcbf8d"><p>IntelliJ IDEA binds to the wrong IP address. When a DBGp proxy runs on a local machine where                    IntelliJ IDEA is also being run, the IDE may be using the wrong network subnet. To fix this, select                    <span data-skip-index="skip" class="menupath">Tools |                        DBGp Proxy | Configuration...                    </span>                    in the main menu and set DBGp proxy server IP address to                    <code class="code">0.0.0.0</code>. Then, try re-registering IntelliJ IDEA with the DBGp proxy.                </p></li><li class="list__item" id="36d88478"><p>                    A port conflict exists. When testing DBGp on a local machine, both IntelliJ IDEA and DBGp may want to                    bind to the same port. Make sure this is not the case by either configuring DBGp to use a                    different port or changing the IntelliJ IDEA's Xdebug port on the                    <span data-skip-index="skip" class="menupath">Languages &amp; Frameworks | PHP | Debug</span> page of the <span class="control">Settings/Preferences</span> dialog (<kbd data-primary_default="Ctrl+Alt+S" data-primary_default_for_gnome="Ctrl+Alt+S" data-primary_default_for_kde="Ctrl+Alt+S" data-primary_default_for_xwin="Ctrl+Alt+S" data-primary_emacs="Ctrl+Alt+S" data-primary_jbuilder="N/A" data-primary_visual_studio="Alt+F7" data-primary_netbeans="Ctrl+Alt+S" data-primary_eclipse="Ctrl+Alt+S" data-secondary_mac_os_x_10.5_="⌘," data-secondary_mac_os_x="⌘," data-secondary_eclipse_mac_os_x="⌘," data-secondary_intellij_idea_classic_os_x="N/A" data-secondary_xcode="N/A" data-secondary_resharper="N/A" data-secondary_resharper_osx="N/A" data-secondary_emacs="⌃⌥S">Ctrl+Alt+S</kbd>).                </p></li></ul>        </div>    </div>    <div class="last-modified" data-skip-index="skip">Last modified: 28 March 2019 </div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom" data-skip-index="skip"><a class="navigation-links__prev" href="debugging-with-php-exception-breakpoints.html">Debugging with PHP Exception Breakpoints</a><a class="navigation-links__next" href="profiling.html">Profiling the Performance of a PHP Application</a></div><section class="seealso" data-skip-index="skip"><div class="seealso__header"><h2>See Also</h2></div><div class="seealso__content"><div class="seealso__col" data-skip-index="skip"><h3>Procedures:</h3><ul class="list"><li class="list__item"><a href="configuring-xdebug.html"><span>Configuring Xdebug</span></a></li></ul></div><div class="seealso__col" data-skip-index="skip"><h3>Reference:</h3><ul class="list"><li class="list__item"><a href="xdebug-proxy.html"><span>DBGp Proxy</span></a></li><li class="list__item"><a href="debug.html"><span>Debug</span></a></li></ul></div></div></section></article><div id="disqus_thread" data-skip-index="skip"></div></div></section></main></div><script src="../app/v2/app.js"></script></body></html>

























