<html id="03368.oracle-database-vault-api-reference.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures."></meta>
      <meta name="description" content="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures."></meta>
      <title>Oracle Database Vault API参考</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide "></meta>
      <meta property="og:description" content="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96302-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-database-vault-policy-apis.html" title="Previous" type="text/html"></link>
      <link rel="next" href="oracle-database-vault-data-dictionary-views.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DVADM"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-database-vault-policy-apis.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="oracle-database-vault-data-dictionary-views.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database Vault API参考</li>
            </ol>
            <a id="GUID-81F80DC1-78A2-498D-8040-544EE2380376" name="GUID-81F80DC1-78A2-498D-8040-544EE2380376"></a><a id="DVADM71196"></a>
            
            <h2 id="DVADM-GUID-81F80DC1-78A2-498D-8040-544EE2380376" class="sect2"><span class="enumeration_chapter">23</span> Oracle Database Vault API参考</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Database Vault提供了一组丰富的API，包括PL / SQL包和独立过程。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4">DBMS_MACADM PL / SQL包内容</a><br><code class="codeph">DBMS_MACADM</code>程序包使您可以配置领域，因子，规则集，命令规则，安全应用程序角色和Oracle Label Security策略。
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-50B88802-3077-4BC1-A6D4-41407E6D7055">DBMS_MACSEC_ROLES PL / SQL包内容</a><br><code class="codeph">DBMS_MACSEC_ROLES</code>包使您可以检查和设置Oracle Database Vault安全应用程序角色。
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E">DBMS_MACUTL PL / SQL包内容</a><br><code class="codeph">DBMS_MACUTL</code> PL / SQL包定义了其他Oracle Database Vault软件包常用的常量和实用程序方法，例如错误处理。
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-6D7F2A86-7478-4D29-840F-749DC748A050">CONFIGURE_DV PL / SQL过程</a><br><code class="codeph">CONFIGURE_DV</code>配置最初的两个Oracle数据库用户帐户，分别被授予<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ACCTMGR</code>角色。
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279">DVF PL / SQL接口内容</a><br><code class="codeph">DVF</code>模式提供了一组与因子相关的PL / SQL函数。
                  </li>
               </ul>
            </div>
            <a id="DVADM71198"></a><a id="DVADM71197"></a><div class="props_rev_3"><a id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4" name="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4"></a><h3 id="DVADM-GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4" class="sect3">DBMS_MACADM PL / SQL包内容</h3>
               <div>
                  <p><code class="codeph">DBMS_MACADM</code>程序包使您可以配置领域，因子，规则集，命令规则，安全应用程序角色和Oracle Label Security策略。
                  </p>
                  <div class="section">
                     <p><code class="codeph">DBMS_MACADM</code>程序包仅适用于已被授予<code class="codeph">DV_ADMIN</code>或<code class="codeph">DV_OWNER</code>角色的用户。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-739A2F12-2C73-4643-AD8E-D71C707E2CC9">DBMS_MACADM领域程序</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-A8294FDC" title="DBMS_MACADM领域程序">表23-1</a>列出了<code class="codeph">DBMS_MACADM</code>包中的<code class="codeph">DBMS_MACADM</code>过程。
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-A8294FDC">
                        <p class="titleintable">表23-1 DBMS_MACADM领域过程</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM领域程序" width="100%" border="1" summary="DBMS_MACADM Realm Procedures" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e257">程序</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e260">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e265" headers="d110972e257 ">
                                    <p><code class="codeph">ADD_AUTH_TO_REALM</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e265 d110972e260 ">
                                    <p>授权用户或角色作为所有者或参与者访问领域</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e274" headers="d110972e257 ">
                                    <p><code class="codeph">ADD_OBJECT_TO_REALM</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e274 d110972e260 ">
                                    <p>注册一组对象以保护领域</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e283" headers="d110972e257 ">
                                    <p><code class="codeph">CREATE_REALM</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e283 d110972e260 ">
                                    <p>创造一个领域</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e292" headers="d110972e257 ">
                                    <p><code class="codeph">DELETE_AUTH_FROM_REALM</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e292 d110972e260 ">
                                    <p>删除用户或角色的授权以访问领域</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e301" headers="d110972e257 ">
                                    <p><code class="codeph">DELETE_OBJECT_FROM_REALM</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e301 d110972e260 ">
                                    <p>从领域保护中删除一组对象</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e310" headers="d110972e257 ">
                                    <p><code class="codeph">DELETE_REALM</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e310 d110972e260 ">
                                    <p>删除领域，包括其相关的Database Vault配置信息，该信息指定谁被授权以及哪些对象受到保护</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e319" headers="d110972e257 ">
                                    <p><code class="codeph">DELETE_REALM_CASCADE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e319 d110972e260 ">
                                    <p>删除领域，包括其相关的Database Vault配置信息，该信息指定谁被授权以及哪些对象受到保护</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e328" headers="d110972e257 ">
                                    <p><code class="codeph">RENAME_REALM</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e328 d110972e260 ">
                                    <p>重命名一个领域。名称更改将在使用领域的任何位置生效。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e337" headers="d110972e257 ">
                                    <p><code class="codeph">UPDATE_REALM</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e337 d110972e260 ">
                                    <p>更新领域</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e346" headers="d110972e257 ">
                                    <p><code class="codeph">UPDATE_REALM_AUTH</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e346 d110972e260 ">
                                    <p>更新用户或角色的授权以访问领域</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-BC2ED85C-1005-4EE3-AAD9-2B529718430E">DBMS_MACADM规则集和规则过程</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-07CF0396" title="DBMS_MACADM规则集和规则过程">表23-2</a>列出了<code class="codeph">DBMS_MACADM</code>包中的规则集和规则过程。
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-07CF0396">
                        <p class="titleintable">表23-2 DBMS_MACADM规则集和规则过程</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM规则集和规则过程" width="100%" border="1" summary="DBMS_MACADM Rule Set and Rule Procedures" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e376">程序</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e379">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e384" headers="d110972e376 ">
                                    <p><code class="codeph">CREATE_RULE_SET</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e384 d110972e379 ">
                                    <p>创建规则集</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e393" headers="d110972e376 ">
                                    <p><code class="codeph">RENAME_RULE_SET</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e393 d110972e379 ">
                                    <p>重命名规则集。名称更改将在使用规则集的任何位置生效。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e402" headers="d110972e376 ">
                                    <p><code class="codeph">DELETE_RULE_FROM_RULE_SET</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e402 d110972e379 ">
                                    <p>从规则集中删除规则</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e411" headers="d110972e376 ">
                                    <p><code class="codeph">DELETE_RULE_SET</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e411 d110972e379 ">
                                    <p>删除规则集</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e420" headers="d110972e376 ">
                                    <p><code class="codeph">UPDATE_RULE_SET</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e420 d110972e379 ">
                                    <p>更新规则集</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e429" headers="d110972e376 ">
                                    <p><code class="codeph">CREATE_RULE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e429 d110972e379 ">
                                    <p>创建规则</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e438" headers="d110972e376 ">
                                    <p><code class="codeph">ADD_RULE_TO_RULE_SET</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e438 d110972e379 ">
                                    <p>将规则添加到规则集</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e447" headers="d110972e376 ">
                                    <p><code class="codeph">DELETE_RULE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e447 d110972e379 ">
                                    <p>删除规则</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e456" headers="d110972e376 ">
                                    <p><code class="codeph">RENAME_RULE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e456 d110972e379 ">
                                    <p>重命名规则。名称更改将在使用规则的任何位置生效。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e465" headers="d110972e376 ">
                                    <p><code class="codeph">UPDATE_RULE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e465 d110972e379 ">
                                    <p>更新规则</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-33993A8B-8337-41E4-BE8C-D84CB38B4A14">DBMS_MACADM命令规则过程</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMCOMMANDRULEPROCEDURES-07D09C6B" title="DBMS_MACADM命令规则过程">表23-3</a>列出了<code class="codeph">DBMS_MACADM</code>程序包中的命令规则过程。
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMCOMMANDRULEPROCEDURES-07D09C6B">
                        <p class="titleintable">表23-3 DBMS_MACADM命令规则过程</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM命令规则过程" width="100%" border="1" summary="DBMS_MACADM Command Rule Procedures" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e495">程序</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e498">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e503" headers="d110972e495 ">
                                    <p><code class="codeph">CREATE_COMMAND_RULE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e503 d110972e498 ">
                                    <p>创建命令规则，将其与规则集关联，并允许您使用规则集启用规则检查的命令规则</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e512" headers="d110972e495 ">
                                    <p><code class="codeph">CREATE_CONNECT_COMMAND_RULE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e512 d110972e498 ">
                                    <p>创建CONNECT命令规则</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e521" headers="d110972e495 ">
                                    <p><code class="codeph">CREATE_SESSION_EVENT_CMD_RULE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e521 d110972e498 ">
                                    <p>使用ALTER SESSION SQL语句创建会话事件命令规则</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e530" headers="d110972e495 ">
                                    <p><code class="codeph">CREATE_SYSTEM_EVENT_CMD_RULE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e530 d110972e498 ">
                                    <p>使用ALTER SYSTEM SQL语句创建系统事件命令规则</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e539" headers="d110972e495 ">
                                    <p><code class="codeph">DELETE_COMMAND_RULE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e539 d110972e498 ">
                                    <p>删除命令规则声明</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e548" headers="d110972e495 ">
                                    <p><code class="codeph">DELETE_CONNECT_COMMAND_RULE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e548 d110972e498 ">
                                    <p>删除CONNECT命令规则声明</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e557" headers="d110972e495 ">
                                    <p><code class="codeph">DELETE_SESSION_EVENT_CMD_RULE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e557 d110972e498 ">
                                    <p>删除SESSION_EVENT_CMD命令规则声明</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e566" headers="d110972e495 ">
                                    <p><code class="codeph">DELETE_SYSTEM_EVENT_CMD_RULE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e566 d110972e498 ">
                                    <p>删除SYSTEM_EVENT_CMD命令规则声明</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e575" headers="d110972e495 ">
                                    <p><code class="codeph">UPDATE_COMMAND_RULE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e575 d110972e498 ">
                                    <p>更新命令规则声明</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e584" headers="d110972e495 ">
                                    <p><code class="codeph">UPDATE_CONNECT_COMMAND_RULE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e584 d110972e498 ">
                                    <p>更新CONNECT命令规则声明</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e593" headers="d110972e495 ">
                                    <p><code class="codeph">UPDATE_SESSION_EVENT_CMD_RULE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e593 d110972e498 ">
                                    <p>更新SESSION_EVENT_CMD命令规则声明</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e603" headers="d110972e495 ">
                                    <p><code class="codeph">UPDATE_SYSTEM_EVENT_CMD_RULE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e603 d110972e498 ">
                                    <p>更新SYSTEM_EVENT_CMD命令规则声明</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-E05E1B8C-1D2B-40A4-8E1F-71165420B2D7">DBMS_MACADM因子过程和函数</p>
                     <p>列出<code class="codeph">DBMS_MACADM</code>包中的因子过程和函数。
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-07D0EF25">
                        <p class="titleintable">表23-4 DBMS_MACADM因子过程和函数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM因子过程和函数" width="100%" border="1" summary="DBMS_MACADM Factor Procedures and Functions" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d110972e629">程序或功能</th>
                                 <th align="left" valign="bottom" width="55%" id="d110972e632">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e637" headers="d110972e629 ">
                                    <p><code class="codeph">ADD_FACTOR_LINK</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e637 d110972e632 ">
                                    <p>指定两个因子的父子关系</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e646" headers="d110972e629 ">
                                    <p><code class="codeph">ADD_POLICY_FACTOR</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e646 d110972e632 ">
                                    <p>指定因子的标签有助于策略的Oracle Label Security标签。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e655" headers="d110972e629 ">
                                    <p><code class="codeph">CHANGE_IDENTITY_FACTOR</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e655 d110972e632 ">
                                    <p>将身份与不同因素相关联</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e664" headers="d110972e629 ">
                                    <p><code class="codeph">CHANGE_IDENTITY_VALUE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e664 d110972e632 ">
                                    <p>更新身份的值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e673" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_DOMAIN_IDENTITY</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e673 d110972e632 ">
                                    <p>将Oracle Real Application Clusters（Oracle RAC）数据库节点添加到域因子标识中，并根据Oracle Label Security策略对其进行标记。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e682" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_FACTOR</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e682 d110972e632 ">
                                    <p>创造一个因素</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e691" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_FACTOR_TYPE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e691 d110972e632 ">
                                    <p>创建因子类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e700" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_IDENTITY</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e700 d110972e632 ">
                                    <p>创建一个身份</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e709" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_IDENTITY_MAP</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e709 d110972e632 ">
                                    <p>定义一组测试，用于从链接的子因子（子因子）的值中导出因子的标识</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e718" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_FACTOR</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e718 d110972e632 ">
                                    <p>删除一个因素</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e727" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_FACTOR_LINK</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e727 d110972e632 ">
                                    <p>删除两个因素的父子关系</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e737" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_FACTOR_TYPE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e737 d110972e632 ">
                                    <p>删除因子类型</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e746" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_IDENTITY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e746 d110972e632 ">
                                    <p>删除身份</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e755" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_IDENTITY_MAP</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e755 d110972e632 ">
                                    <p>从因子中删除身份映射</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e764" headers="d110972e629 ">
                                    <p><code class="codeph">DROP_DOMAIN_IDENTITY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e764 d110972e632 ">
                                    <p>从域中删除Oracle RAC数据库节点</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e773" headers="d110972e629 ">
                                    <p><code class="codeph">GET_INSTANCE_INFO</code>函数</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e773 d110972e632 ">
                                    <p>返回<code class="codeph">SYS.V_$INSTANCE</code>系统表中有关当前数据库实例的信息;返回<code class="codeph">VARCHAR2</code>值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e788" headers="d110972e629 ">
                                    <p><code class="codeph">GET_SESSION_INFO</code>函数</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e788 d110972e632 ">
                                    <p>从当前会话的<code class="codeph">SYS.V_$SESSION</code>系统表返回信息;返回<code class="codeph">VARCHAR2</code>值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e803" headers="d110972e629 ">
                                    <p><code class="codeph">RENAME_FACTOR</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e803 d110972e632 ">
                                    <p>重命名一个因素。名称更改将在使用因子的任何位置生效。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e812" headers="d110972e629 ">
                                    <p><code class="codeph">RENAME_FACTOR_TYPE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e812 d110972e632 ">
                                    <p>重命名因子类型。名称更改将在使用因子类型的任何位置生效。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e821" headers="d110972e629 ">
                                    <p><code class="codeph">UPDATE_FACTOR</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e821 d110972e632 ">
                                    <p>更新一个因素</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e830" headers="d110972e629 ">
                                    <p><code class="codeph">UPDATE_FACTOR_TYPE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e830 d110972e632 ">
                                    <p>更新因子类型的描述</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e839" headers="d110972e629 ">
                                    <p><code class="codeph">UPDATE_IDENTITY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e839 d110972e632 ">
                                    <p>更新因子标识的信任级别</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-527021B5-9DFE-43DF-9422-A62D9714CD5E">DBMS_MACADM安全应用程序角色过程</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMSECUREAPPLICATIONROLEPRO-07D16FE7" title="DBMS_MACADM安全应用程序角色过程">表23-5</a>列出了<code class="codeph">DBMS_MACADM</code>程序包中的安全应用程序角色过程。
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMSECUREAPPLICATIONROLEPRO-07D16FE7">
                        <p class="titleintable">表23-5 DBMS_MACADM安全应用程序角色过程</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM安全应用程序角色过程" width="100%" border="1" summary="DBMS_MACADM Secure Application Role Procedures" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e869">程序</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e872">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e877" headers="d110972e869 ">
                                    <p><code class="codeph">CREATE_ROLE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e877 d110972e872 ">
                                    <p>创建Oracle Database Vault安全应用程序角色</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e886" headers="d110972e869 ">
                                    <p><code class="codeph">DELETE_ROLE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e886 d110972e872 ">
                                    <p>删除Oracle Database Vault安全应用程序角色</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e895" headers="d110972e869 ">
                                    <p><code class="codeph">RENAME_ROLE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e895 d110972e872 ">
                                    <p>重命名Oracle Database Vault安全应用程序角色。名称更改将在使用角色的任何位置生效。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e904" headers="d110972e869 ">
                                    <p><code class="codeph">UNASSIGN_ROLE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e904 d110972e872 ">
                                    <p>从用户取消分配Oracle Database Vault安全应用程序角色</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e913" headers="d110972e869 ">
                                    <p><code class="codeph">UPDATE_ROLE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e913 d110972e872 ">
                                    <p>更新Oracle Database Vault安全应用程序角色</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-1DCE5E1D-2AA3-44BC-AAC8-8B3FE220624F">DBMS_MACADM Oracle标签安全过程</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMORACLELABELSECURITYPROCE-07D1BB5B" title="DBMS_MACADM Oracle标签安全过程">表23-6</a>列出了<code class="codeph">DBMS_MACADM</code>程序包中的Oracle Label Security过程。
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMORACLELABELSECURITYPROCE-07D1BB5B">
                        <p class="titleintable">表23-6 DBMS_MACADM Oracle标签安全过程</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM Oracle标签安全过程" width="100%" border="1" summary="DBMS_MACADM Oracle Label Security Procedures" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e943">程序</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e946">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e951" headers="d110972e943 ">
                                    <p><code class="codeph">CREATE_MAC_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e951 d110972e946 ">
                                    <p>指定在计算因子标签或Oracle Label Security会话标签时用于合并标签的算法</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e960" headers="d110972e943 ">
                                    <p><code class="codeph">CREATE_POLICY_LABEL</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e960 d110972e946 ">
                                    <p>标记Oracle Label Security策略中的标识</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e969" headers="d110972e943 ">
                                    <p><code class="codeph">DELETE_MAC_POLICY_CASCADE</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e969 d110972e946 ">
                                    <p>删除与Oracle Label Security策略相关的所有Oracle Database Vault对象。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e978" headers="d110972e943 ">
                                    <p><code class="codeph">DELETE_POLICY_FACTOR</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e978 d110972e946 ">
                                    <p>删除导致Oracle Label Security标签的因素</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e987" headers="d110972e943 ">
                                    <p><code class="codeph">DELETE_POLICY_LABEL</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e987 d110972e946 ">
                                    <p>从Oracle Label Security策略中的标识中删除标签</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e996" headers="d110972e943 ">
                                    <p><code class="codeph">UPDATE_MAC_POLICY</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e996 d110972e946 ">
                                    <p>指定在计算因子标签或Oracle Label Security会话标签时用于合并标签的算法</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-997AC0AF-B754-4ED1-876A-B4E6D0C75761">DBMS_MACADM数据库保管库策略过程</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMDATABASEVAULTPOLICYPROCE-07D2DA54" title="DBMS_MACADM数据库保管库策略过程">表23-7</a>列出了<code class="codeph">DBMS_MACADM</code>程序包中的Database Vault策略过程。
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMDATABASEVAULTPOLICYPROCE-07D2DA54">
                        <p class="titleintable">表23-7 DBMS_MACADM数据库Vault策略过程</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM数据库保管库策略过程" width="100%" border="1" summary="DBMS_MACADM Database Vault Policy Procedures" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e1026">程序</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e1029">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1034" headers="d110972e1026 ">
                                    <p><code class="codeph">ADD_CMD_RULE_TO_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1034 d110972e1029 ">
                                    <p>将命令规则添加到Database Vault策略</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1043" headers="d110972e1026 ">
                                    <p><code class="codeph">ADD_OWNER_TO_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1043 d110972e1029 ">
                                    <p>将所有者添加到Database Vault策略</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1052" headers="d110972e1026 ">
                                    <p><code class="codeph">ADD_REALM_TO_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1052 d110972e1029 ">
                                    <p>将领域添加到Database Vault策略</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1061" headers="d110972e1026 ">
                                    <p><code class="codeph">CREATE_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1061 d110972e1029 ">
                                    <p>创建数据库保管库策略</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1070" headers="d110972e1026 ">
                                    <p><code class="codeph">DELETE_CMD_RULE_FROM_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1070 d110972e1029 ">
                                    <p>从Database Vault策略中删除命令规则</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1079" headers="d110972e1026 ">
                                    <p><code class="codeph">DELETE_OWNER_FROM_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1079 d110972e1029 ">
                                    <p>从Database Vault策略中删除所有者</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1088" headers="d110972e1026 ">
                                    <p><code class="codeph">DELETE_REALM_FROM_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1088 d110972e1029 ">
                                    <p>从Database Vault策略中删除领域</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1097" headers="d110972e1026 ">
                                    <p><code class="codeph">DROP_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1097 d110972e1029 ">
                                    <p>删除数据库保管库策略</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1106" headers="d110972e1026 ">
                                    <p><code class="codeph">RENAME_POLICY</code>程序</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1106 d110972e1029 ">
                                    <p>重命名数据库保管库策略</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1115" headers="d110972e1026 ">
                                    <p><code class="codeph">UPDATE_POLICY_DESCRIPTION</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1115 d110972e1029 ">
                                    <p>更新Database Vault策略说明</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1124" headers="d110972e1026 ">
                                    <p><code class="codeph">UPDATE_POLICY_STATE</code>过程</p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1124 d110972e1029 ">
                                    <p>更新数据库保管库策略的启用状态</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-F52EBA93-EAF3-4649-8A65-56EBF143D8E7">DBMS_MACADM一般管理程序</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMGENERALADMINISTRATIVEPRO-07D340B0" title="DBMS_MACADM一般管理程序">表23-8</a>列出了<code class="codeph">DBMS_MACADM</code>程序包中的常规管理过程。
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMGENERALADMINISTRATIVEPRO-07D340B0">
                        <p class="titleintable">表23-8 DBMS_MACADM常规管理过程</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM一般管理程序" width="100%" border="1" summary="DBMS_MACADM General Administrative Procedures" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e1154">程序</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e1157">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1162" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ADD_NLS_DATA</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1162 d110972e1157 ">
                                    
                                    <p>向Oracle Database Vault添加新语言</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1175" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ADD_APP_EXCEPTION程序</code></p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1175 d110972e1157 ">
                                    
                                    <p>允许公共用户或包访问本地模式</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1187" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_DATAPUMP_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1187 d110972e1157 ">
                                    
                                    <p>授权用户在启用Oracle Database Vault时执行Oracle Data Pump操作</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1200" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_DDL</code>过程</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1200 d110972e1157 ">
                                    
                                    <p>授予用户授权以执行数据定义语言（DDL）语句</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1213" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_MAINTENANCE_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1213 d110972e1157 ">
                                    
                                    <p>授予用户授权以执行信息生命周期管理（ILM）操作</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1226" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_PROXY_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1226 d110972e1157 ">
                                    
                                    <p>授予代理用户授权以代理其他用户帐户</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1239" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_SCHEDULER_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1239 d110972e1157 ">
                                    
                                    <p>授权用户在启用Oracle Database Vault时计划数据库作业</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1252" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_TTS_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1252 d110972e1157 ">
                                    
                                    <p>授权用户在启用Oracle Database Vault时为表空间执行Oracle Data Pump可传输表空间操作</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1265" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DELETE_APP_EXCEPTION</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1265 d110972e1157 ">
                                    
                                    <p>删除公共用户或包的例外以访问本地模式</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1278" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_DV_DICTIONARY_ACCTS</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1278 d110972e1157 ">
                                    
                                    <p>阻止用户登录<code class="codeph">DVSYS</code>和<code class="codeph">DFV</code>架构帐户</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1297" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_DV_PATCH_ADMIN</code></p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1297 d110972e1157 ">
                                    
                                    <p>禁用<code class="codeph">DV_PATCH_ADMIN</code>用户的审核</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1313" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_DV</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1313 d110972e1157 ">
                                    
                                    <p>禁用Oracle Database Vault</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1326" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_APP_PROTECTION程序</code></p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1326 d110972e1157 ">
                                    
                                    <p>禁用Database Vault操作控制</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1338" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_ORADEBUG</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1338 d110972e1157 ">
                                    
                                    <p>禁用在Oracle Database Vault环境中使用<code class="codeph">ORADEBUG</code>实用程序</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1354" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_DV_DICTIONARY_ACCTS</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1354 d110972e1157 ">
                                    
                                    <p>允许用户登录<code class="codeph">DVSYS</code>和<code class="codeph">DFV</code>架构帐户</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1373" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_DV_PATCH_ADMIN</code></p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1373 d110972e1157 ">
                                    
                                    <p>启用<code class="codeph">DV_PATCH_ADMIN</code>用户的审核</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1388" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_DV</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1388 d110972e1157 ">
                                    
                                    <p>启用Oracle Database Vault</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1401" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_APP_PROTECTION</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1401 d110972e1157 ">
                                    
                                    <p>启用Database Vault操作控制</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1414" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_ORADEBUG</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1414 d110972e1157 ">
                                    
                                    <p>允许在Oracle Database Vault环境中使用<code class="codeph">ORADEBUG</code>实用程序</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1430" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_DATAPUMP_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1430 d110972e1157 ">
                                    
                                    <p>撤消<code class="codeph">DBMS_MACADM.AUTHORIZE_DATAPUMP_USER</code>过程授予的授权</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1446" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_DDL</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1446 d110972e1157 ">
                                    
                                    <p>撤消授予通过<code class="codeph">DBMS_MACDM.AUTHORIZE_DDL</code>过程执行DDL语句的授权的用户的授权</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1462" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_MAINTENANCE_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1462 d110972e1157 ">
                                    
                                    <p>撤销执行ILM操作的授权</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1476" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_PROXY_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1476 d110972e1157 ">
                                    
                                    <p>撤消已从<code class="codeph">DBMS_MACADM.AUTHORIZE_PROXY_USER</code>过程授予代理授权的用户的授权</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1492" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_SCHEDULER_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1492 d110972e1157 ">
                                    
                                    <p>撤消<code class="codeph">DBMS_MACADM.AUTHORIZE_SCHEDULER_USER</code>过程授予的授权</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1508" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_TTS_USER</code>程序</p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1508 d110972e1157 ">
                                    
                                    <p>在启用Oracle Database Vault时，从授权中撤消已被授予对表空间执行Oracle Data Pump可传输表空间操作的授权的用户</p>
                                    
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault提供了一组丰富的API，包括PL / SQL包和独立过程。">Oracle Database Vault API参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71200"></a><a id="DVADM71199"></a><div class="props_rev_3"><a id="GUID-50B88802-3077-4BC1-A6D4-41407E6D7055" name="GUID-50B88802-3077-4BC1-A6D4-41407E6D7055"></a><h3 id="DVADM-GUID-50B88802-3077-4BC1-A6D4-41407E6D7055" class="sect3">DBMS_MACSEC_ROLES PL / SQL包内容</h3>
               <div>
                  <p><code class="codeph">DBMS_MACSEC_ROLES</code>包使您可以检查和设置Oracle Database Vault安全应用程序角色。
                  </p>
                  <div class="section">
                     <p>此程序包可供一般数据库帐户使用。</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-50B88802-3077-4BC1-A6D4-41407E6D7055__DBMS_MACSEC_ROLESPLSQLPACKAGECONTEN-A8299C31" title="DVSYS.DBMS_MACSEC_ROLES内容">表23-9</a>列出了<code class="codeph">DBMS_MACSEC_ROLES</code>包的内容。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-50B88802-3077-4BC1-A6D4-41407E6D7055__DBMS_MACSEC_ROLESPLSQLPACKAGECONTEN-A8299C31">
                     <p class="titleintable">表23-9 DBMS_MACSEC_ROLES PL / SQL包内容</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACSEC_ROLES PL / SQL包内容" width="100%" border="1" summary="DVSYS.DBMS_MACSEC_ROLES contents" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d110972e1632">程序或功能</th>
                              <th align="left" valign="bottom" width="67%" id="d110972e1635">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d110972e1640" headers="d110972e1632 ">
                                 <p><code class="codeph">CAN_SET_ROLE</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d110972e1640 d110972e1635 ">
                                 <p>检查调用该方法的用户是否有权使用指定的Oracle Database Vault安全应用程序角色。返回<code class="codeph">BOOLEAN</code>值。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d110972e1652" headers="d110972e1632 ">
                                 <p><code class="codeph">SET_ROLE</code>程序</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d110972e1652 d110972e1635 ">
                                 <p>为Oracle Database Vault安全应用程序角色发出<code class="codeph">SET ROLE</code>语句。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault提供了一组丰富的API，包括PL / SQL包和独立过程。">Oracle Database Vault API参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71202"></a><a id="DVADM71201"></a><div class="props_rev_3"><a id="GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E" name="GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E"></a><h3 id="DVADM-GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E" class="sect3">DBMS_MACUTL PL / SQL包内容</h3>
               <div>
                  <p><code class="codeph">DBMS_MACUTL</code> PL / SQL包定义了其他Oracle Database Vault软件包常用的常量和实用程序方法，例如错误处理。
                  </p>
                  <div class="section">
                     <p>此程序包可以由常规数据库帐户群运行。这允许安全开发人员利用脚本配置文件中的常量。<code class="codeph">USER_HAS_ROLE</code>等实用程序方法也可用于Oracle Database Vault规则。
                     </p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E__DBMS_MACUTLPLSQLPACKAGECONTENTS-09113D92" title="DVSYS.DBMS_MACUTL内容">表23-10</a>列出了<code class="codeph">DBMS_MACUTL</code>包内容。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E__DBMS_MACUTLPLSQLPACKAGECONTENTS-09113D92">
                     <p class="titleintable">表23-10 DBMS_MACUTL PL / SQL包内容</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACUTL PL / SQL包内容" width="100%" border="1" summary="DVSYS.DBMS_MACUTL contents" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d110972e1781">程序或功能</th>
                              <th align="left" valign="bottom" width="66%" id="d110972e1784">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1789" headers="d110972e1781 ">
                                 <p><code class="codeph">CHECK_DVSYS_DML_ALLOWED</code>程序</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1789 d110972e1784 ">
                                 <p>验证更新Oracle Database Vault配置的用户是否未绕过公共包</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1798" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_CODE_VALUE</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1798 d110972e1784 ">
                                 <p>查找代码组中代码的值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1807" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_SECOND</code>功能</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1807 d110972e1784 ">
                                 <p>以Oracle SS格式返回秒数（00-59）。适用于基于时间数据的规则表达式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1816" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_MINUTE</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1816 d110972e1784 ">
                                 <p>以Oracle MI格式返回分钟（00-59）。适用于基于时间数据的规则表达式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1825" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_HOUR</code>功能</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1825 d110972e1784 ">
                                 <p>以Oracle HH24格式（00-23）返回月份。适用于基于时间数据的规则表达式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1834" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_DAY</code>功能</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1834 d110972e1784 ">
                                 <p>以Oracle DD格式返回日期（01-31）。适用于基于时间数据的规则表达式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1843" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_MONTH</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1843 d110972e1784 ">
                                 <p>以Oracle MM格式（01-12）返回月份。适用于基于时间数据的规则表达式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1852" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_YEAR</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1852 d110972e1784 ">
                                 <p>以Oracle YYYY格式（0001-9999）返回年份。适用于基于时间数据的规则表达式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1861" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_ALPHA</code>功能</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1861 d110972e1784 ">
                                 <p>检查字符是否为字母</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1870" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_DIGIT</code>功能</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1870 d110972e1784 ">
                                 <p>检查字符是否为数字</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1879" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_DVSYS_OWNER</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1879 d110972e1784 ">
                                 <p>确定用户是否有权管理Oracle Database Vault配置</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1889" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_OLS_INSTALLED</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1889 d110972e1784 ">
                                 <p>返回有关是否已安装Oracle Label Security的指示符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1898" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_OLS_INSTALLED_VARCHAR</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1898 d110972e1784 ">
                                 <p>返回有关是否已安装Oracle Label Security的指示符</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1907" headers="d110972e1781 ">
                                 <p><code class="codeph">USER_HAS_ROLE</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1907 d110972e1784 ">
                                 <p>检查用户是否具有角色权限，直接或间接（通过其他角色）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1916" headers="d110972e1781 ">
                                 <p><code class="codeph">USER_HAS_ROLE_VARCHAR</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1916 d110972e1784 ">
                                 <p>检查用户是否具有角色权限，直接或间接（通过其他角色）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1925" headers="d110972e1781 ">
                                 <p><code class="codeph">USER_HAS_SYSTEM_PRIVILEGE</code>函数</p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1925 d110972e1784 ">
                                 <p>检查用户是否具有系统权限，直接或间接（通过角色）</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault提供了一组丰富的API，包括PL / SQL包和独立过程。">Oracle Database Vault API参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71203"></a><div class="props_rev_3"><a id="GUID-6D7F2A86-7478-4D29-840F-749DC748A050" name="GUID-6D7F2A86-7478-4D29-840F-749DC748A050"></a><h3 id="DVADM-GUID-6D7F2A86-7478-4D29-840F-749DC748A050" class="sect3">CONFIGURE_DV PL / SQL过程</h3>
               <div>
                  <p><code class="codeph">CONFIGURE_DV</code>配置最初的两个Oracle数据库用户帐户，分别被授予<code class="codeph">DV_OWNER</code>和<code class="codeph">DV_ACCTMGR</code>角色。
                  </p>
                  <div class="section">
                     <p>此过程用作Oracle Database Vault与Oracle数据库的注册过程的一部分。您只需要为数据库实例使用一次。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault提供了一组丰富的API，包括PL / SQL包和独立过程。">Oracle Database Vault API参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71205"></a><a id="DVADM71204"></a><div class="props_rev_3"><a id="GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279" name="GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279"></a><h3 id="DVADM-GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279" class="sect3">DVF PL / SQL接口内容</h3>
               <div>
                  <p><code class="codeph">DVF</code>模式提供了一组与因子相关的PL / SQL函数。
                  </p>
                  <p>然后，通过PL / SQL函数和标准SQL，这些函数可用于通用数据库帐户。</p>
                  <p><a href="oracle-database-vault-api-reference.html#GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279__CACEJCEF" title="DVSYS PL / SQL接口">表23-11</a>列出了<code class="codeph">DVF</code>因子功能。
                  </p>
                  <div class="tblformal" id="GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279__CACEJCEF">
                     <p class="titleintable">表23-11 DVF PL / SQL接口内容</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DVF PL / SQL接口内容" width="100%" border="1" summary="DVSYS PL/SQL interfaces" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d110972e2145">功能</th>
                              <th align="left" valign="bottom" width="65%" id="d110972e2148">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2153" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ CLIENT_IP</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2153 d110972e2148 ">
                                 <p>返回客户端连接的计算机的IP地址</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2161" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ DATABASE_DOMAIN</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2161 d110972e2148 ">
                                 <p>返回<code class="codeph">DB_DOMAIN</code>初始化参数中指定的数据库域</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2172" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ DATABASE_HOSTNAME</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2172 d110972e2148 ">
                                 <p>返回正在运行数据库实例的计算机的主机名</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2180" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ DATABASE_INSTANCE</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2180 d110972e2148 ">
                                 <p>返回当前数据库实例的数据库实例标识号</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2188" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ DATABASE_IP</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2188 d110972e2148 ">
                                 <p>返回正在运行数据库实例的计算机的IP地址</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2196" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ DATABASE_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2196 d110972e2148 ">
                                 <p>返回<code class="codeph">DB_NAME</code>初始化参数中指定的数据库名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2207" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ DOMAIN</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2207 d110972e2148 ">
                                 <p>返回在特定敏感度级别运行的运行时环境（例如，联网IT环境或其子集）中的物理，配置或特定于实现的因素的命名集合</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2215" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ ENTERPRISE_IDENTITY</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2215 d110972e2148 ">
                                 <p>返回用户的企业范围标识</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2224" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ IDENTIFICATION_TYPE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2224 d110972e2148 ">
                                 <p>返回在数据库中创建用户架构的方式。具体来说，它反映了<code class="codeph">CREATE USER</code>或<code class="codeph">ALTER USER</code>语法中的<code class="codeph">IDENTIFIED</code>子句。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2242" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ LANG</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2242 d110972e2148 ">
                                 <p>返回语言名称的ISO缩写，是比现有<code class="codeph">LANGUAGE</code>参数更短的形式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2254" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ LANGUAGE</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2254 d110972e2148 ">
                                 <p>返回会话当前使用的语言和区域，以及<code class="codeph">VARCHAR2</code>数据类型以及数据库字符集</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2266" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ MACHINE</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2266 d110972e2148 ">
                                 <p>返回建立数据库会话的数据库客户端的计算机（主机）名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2274" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ NETWORK_PROTOCOL</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2274 d110972e2148 ">
                                 <p>返回用于通信的网络协议，如连接字符串的<code class="codeph">PROTOCOL</code> = <span class="italic"><code class="codeph">protocol</code></span>部分中所指定</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2289" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ PROXY_ENTERPRISE_IDENTITY</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2289 d110972e2148 ">
                                 <p>当代理用户是企业用户时，返回Oracle Internet Directory可分辨名称（DN）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2297" headers="d110972e2145 ">
                                 <p><code class="codeph">F $ SESSION_USER</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2297 d110972e2148 ">
                                 <p>返回用于对当前用户进行身份验证的数据库用户名</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault提供了一组丰富的API，包括PL / SQL包和独立过程。">Oracle Database Vault API参考</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="01071.DBMS_PIPE.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_PIPE package lets two or more sessions in the same instance communicate. Oracle pipes are similar in concept to the pipes used in UNIX, but Oracle pipes are not implemented using the operating system pipe mechanisms."></meta>
      <meta name="description" content="The DBMS_PIPE package lets two or more sessions in the same instance communicate. Oracle pipes are similar in concept to the pipes used in UNIX, but Oracle pipes are not implemented using the operating system pipe mechanisms."></meta>
      <title>DBMS_PIPE</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_PIPE package lets two or more sessions in the same instance communicate. Oracle pipes are similar in concept to the pipes used in UNIX, but Oracle pipes are not implemented using the operating system pipe mechanisms."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_PERF.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_PLSQL_CODE_COVERAGE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_PERF.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_PLSQL_CODE_COVERAGE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_PIPE</li>
            </ol>
            <a id="GUID-84B9B55F-9D82-45D0-B9CA-9A6AEEF9C8F8" name="GUID-84B9B55F-9D82-45D0-B9CA-9A6AEEF9C8F8"></a><a id="ARPLS038"></a><a id="ARPLS038"></a>
            
            <h2 id="ARPLS-GUID-84B9B55F-9D82-45D0-B9CA-9A6AEEF9C8F8" class="sect2"><span class="enumeration_chapter">121</span> DBMS_PIPE</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_PIPE</code>包允许同一实例中的两个或多个会话进行通信。Oracle管道在概念上与UNIX中使用的管道类似，但Oracle管道未使用操作系统管道机制实现。
               </p>
               <p>本章包含以下主题：<a id="d665057e89" class="indexterm-anchor"></a></p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-B2DC7563-BE37-4A7F-8B3A-5C85B80E42D4" title="管道功能有几个潜在的应用程序：外部服务接口，独立事务，报警器（非事务性），调试和集中器。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-E579BAF5-4425-44C1-916C-089612F2194A" title="通过在DBMS_PIPE包中使用GRANT EXECUTE，可以通过使用CREATE_PIPE函数中的private参数创建管道，以及编写仅向特定用户或角色公开特定功能或pipenames的封装包来实现安全性。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-87932932-F155-44F9-B95D-8A23147CD89B" title="这是等待尝试发送或接收消息的最长时间。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A" title="通过Oracle管道发送的信息将缓冲在系统全局区域（SGA）中。关闭实例时，管道中的所有信息都将丢失。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-2366E6E9-9723-4E34-A0BD-45175AED593D" title="DBMS_PIPE包子程序可以返回下表中列出的错误。">例外</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F" title="这些示例显示了在调试PL / SQL，调试Pro * C，执行系统命令和外部服务接口时使用DBMS_PIPE。">例子</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998" title="该表列出了DBMS_PIPE子程序并简要描述了它们。">DBMS_PIPE子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS67393"></a><a id="ARPLS67393"></a><div class="props_rev_3"><a id="GUID-B2DC7563-BE37-4A7F-8B3A-5C85B80E42D4" name="GUID-B2DC7563-BE37-4A7F-8B3A-5C85B80E42D4"></a><h3 id="ARPLS-GUID-B2DC7563-BE37-4A7F-8B3A-5C85B80E42D4" class="sect3"><span class="enumeration_section">121.1</span> DBMS_PIPE概述</h3>
               <div>
                  <p>管道功能有几个潜在的应用程序：外部服务接口，独立事务，报警器（非事务性），调试和集中器。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>外部服务接口：您可以与RDBMS外部的用户编写的服务进行通信。这可以在共享服务器进程中有效地完成，以便同时执行多个服务实例。此外，这些服务是异步可用的。该服务的请求者不需要阻止等待回复。请求者可以在以后检查（有或没有超时）。该服务可以使用Oracle支持的任何3GL语言编写。</p>
                        </li>
                        <li>
                           <p>独立事务：管道可以与单独的会话通信，该会话可以在独立事务中执行操作（例如记录触发器检测到的尝试安全违规）。</p>
                        </li>
                        <li>
                           <p>警报器（非事务性）：您可以发布另一个进程，而无需等待进程轮询。如果“after-row”或“after-statement”触发器提醒应用程序，则应用程序会将此警报视为数据可能已更改的指示。然后，应用程序将读取数据以获取当前值。因为这是一个“后”触发器，应用程序将要执行“ <code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code> ”以确保它读取正确的数据。
                           </p>
                        </li>
                        <li>
                           <p>调试：触发器和存储过程可以将调试信息发送到管道。另一个会话可以继续读取管道并将其显示在屏幕上或将其写入文件。</p>
                        </li>
                        <li>
                           <p>集中器：这对于通过较少数量的网络连接复用大量用户非常有用，或者通过将多个用户事务集中到一个DBMS事务中来提高性能。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67394"></a><a id="ARPLS67394"></a><div class="props_rev_3"><a id="GUID-E579BAF5-4425-44C1-916C-089612F2194A" name="GUID-E579BAF5-4425-44C1-916C-089612F2194A"></a><h3 id="ARPLS-GUID-E579BAF5-4425-44C1-916C-089612F2194A" class="sect3"><span class="enumeration_section">121.2</span> DBMS_PIPE安全模型</h3>
               <div>
                  <p>通过在<code class="codeph">DBMS_PIPE</code>包中使用<code class="codeph">GRANT</code> <code class="codeph">EXECUTE</code> ，可以通过使用<code class="codeph">CREATE_PIPE</code>函数中的<code class="codeph">private</code>参数创建管道，以及编写仅向特定用户或角色公开特定功能或pipenames的封装包来实现安全性。
                  </p>
                  <div class="section">
                     <p>根据您的安全要求，您可以选择使用<a href="DBMS_PIPE.html#GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A" title="通过Oracle管道发送的信息将缓冲在系统全局区域（SGA）中。关闭实例时，管道中的所有信息都将丢失。">DBMS_PIPE操作说明</a>中描述的公共管道或专用管道。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67395"></a><a id="ARPLS67395"></a><div class="props_rev_3"><a id="GUID-87932932-F155-44F9-B95D-8A23147CD89B" name="GUID-87932932-F155-44F9-B95D-8A23147CD89B"></a><h3 id="ARPLS-GUID-87932932-F155-44F9-B95D-8A23147CD89B" class="sect3"><span class="enumeration_section">121.3</span> DBMS_PIPE常量</h3>
               <div>
                  <p>这是等待尝试发送或接收消息的最长时间。</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">maxwait constant integer：= 86400000; / * 1000天* /</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67396"></a><a id="ARPLS67396"></a><div class="props_rev_3"><a id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A" name="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A"></a><h3 id="ARPLS-GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A" class="sect3"><span class="enumeration_section">121.4</span> DBMS_PIPE操作说明</h3>
               <div>
                  <p>通过Oracle管道发送的信息将缓冲在系统全局区域（SGA）中。关闭实例时，管道中的所有信息都将丢失。</p>
                  <div class="section">
                     <div class="infoboxnotewarn" id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A__GUID-D21D5CC7-B59E-41EB-8B14-600121B8B16A">
                        <p class="notep1">警告：</p>
                        <p>管道独立于交易。当事务控制受到影响时，请小心使用管道。</p>
                     </div>
                     <p>关于以下主题，将考虑<code class="codeph">DBMS_PIPE</code>的操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>公共管道</p> 
                        </li>
                        <li>
                           <p>写作和阅读管道</p>
                        </li>
                        <li>
                           <p>私人管道</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A__GUID-17E97F60-6578-4D64-B956-7AC37A892EBC">公共管道</p>
                     <p>您可以隐式或显式创建公共管道。对于<span class="italic">隐式</span>公共管道，管道在第一次引用时会自动创建，并在不再包含数据时消失。由于管道描述符存储在SGA中，因此在空管道从缓存中老化之前会有一些空间使用开销。
                     </p>
                     <p>通过调用<code class="codeph">CREATE_PIPE</code>函数并将<code class="codeph">private</code>标志设置为<code class="codeph">FALSE</code>来创建<span class="italic">显式</span>公共管道。您必须通过调用<code class="codeph">REMOVE_PIPE</code>函数来释放显式创建的管道。
                     </p>
                     <p>公共管道的域是显式或隐式创建它的模式。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A__GUID-FB1CD63E-3E2E-4B2A-AA9E-3858AB2C4D09">阅读和写作管道</p>
                     <p>每个公共管道都是异步工作的。任何数量的模式用户都可以写入公共管道，只要他们对<code class="codeph">DBMS_PIPE</code>包具有<code class="codeph">EXECUTE</code>权限，并且他们知道公共管道的名称。但是，一旦一个用户读取了缓冲信息，它就会从缓冲区中清空，并且不能用于同一管道的其他读取器。
                     </p>
                     <p>发送会话使用对<code class="codeph">PACK_MESSAGE</code>过程的一个或多个调用来构建消息。此过程将消息添加到会话的本地消息缓冲区。通过调用<code class="codeph">SEND_MESSAGE</code>函数发送此缓冲区中的信息，指定用于发送消息的管道名称。调用<code class="codeph">SEND_MESSAGE</code> ，将发送已堆叠在本地缓冲区中的所有消息。
                     </p>
                     <p>想要接收消息的进程调用<code class="codeph">RECEIVE_MESSAGE</code>函数，指定从中接收消息的管道名称。然后，该进程调用<code class="codeph">UNPACK_MESSAGE</code>过程来访问消息中的每个项目。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A__GUID-E4132666-DD5B-4739-86BA-F4F84D237185">私人管道</p>
                     <p>您通过调用<code class="codeph">CREATE_PIPE</code>函数显式创建私有管道。创建后，专用管道将保留在共享内存中，直到您通过调用<code class="codeph">REMOVE_PIPE</code>函数显式释放它<code class="codeph">REMOVE_PIPE</code> 。关闭数据库实例时，也会释放专用管道。
                     </p>
                     <p>如果内存中存在隐式管道且与您尝试创建的专用管道同名，则无法创建专用管道。在这种情况下， <code class="codeph">CREATE_PIPE</code>返回错误。
                     </p>
                     <p>访问私人管道仅限于：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在与管道创建者相同的用户标识下运行的会话</p>
                        </li>
                        <li>
                           <p>存储的子程序在与管道创建者相同的用户标识权限域中执行</p>
                        </li>
                        <li>
                           <p>用户连接为<code class="codeph">SYSDBA</code></p>
                        </li>
                     </ul>
                     <p>任何其他用户尝试在管道上发送或接收消息或删除管道都会导致立即出错。其他用户尝试创建具有相同名称的管道也会导致错误。</p>
                     <p>与公共管道一样，您必须先使用<code class="codeph">PACK_MESSAGE</code>调用构建消息， <code class="codeph">PACK_MESSAGE</code>再调用<code class="codeph">SEND_MESSAGE</code> 。同样，在通过调用<code class="codeph">UNPACK_MESSAGE</code>访问消息中的项之前，必须调用<code class="codeph">RECEIVE_MESSAGE</code>来检索消息。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67400"></a><a id="ARPLS67401"></a><a id="ARPLS67401"></a><a id="ARPLS67400"></a><div class="props_rev_3"><a id="GUID-2366E6E9-9723-4E34-A0BD-45175AED593D" name="GUID-2366E6E9-9723-4E34-A0BD-45175AED593D"></a><h3 id="ARPLS-GUID-2366E6E9-9723-4E34-A0BD-45175AED593D" class="sect3"><span class="enumeration_section">121.5</span> DBMS_PIPE异常</h3>
               <div>
                  <p><code class="codeph">DBMS_PIPE</code>程序可以返回下表中列出的错误。
                  </p>
                  <div class="tblformal" id="GUID-2366E6E9-9723-4E34-A0BD-45175AED593D__GUID-12F20428-10E3-4C25-BB98-9550FD99F02C">
                     <p class="titleintable">表121-1 DBMS_PIPE错误</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PIPE错误" width="100%" border="1" summary="This table describes the Exceptions raised by the DBMS_PIPE subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d665057e791">错误</th>
                              <th align="left" valign="bottom" width="74%" id="d665057e794">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d665057e799" headers="d665057e791 ">
                                 <p><code class="codeph">ORA-23321：</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d665057e799 d665057e794 ">
                                 <p>Pipename可能不会为空。这可以由<code class="codeph">CREATE_PIPE</code>函数或任何以管道名称作为参数的子程序返回。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d665057e810" headers="d665057e791 ">
                                 <p><code class="codeph">ORA-23322：</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d665057e810 d665057e794 ">
                                 <p>访问管道的权限不足。这可以由引用其参数列表中的专用管道的任何子程序返回。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS67402"></a><a id="ARPLS67402"></a><div class="props_rev_3"><a id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F" name="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F"></a><h3 id="ARPLS-GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F" class="sect3"><span class="enumeration_section">121.6</span> DBMS_PIPE示例</h3>
               <div>
                  <p>这些示例显示了在调试PL / SQL，调试Pro * C，执行系统命令和外部服务接口时使用DBMS_PIPE。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-CBF262FF-ED6D-47D8-BC28-AD838AE18BA9">示例1：调试 -  PL / SQL</p>
                     <p>此示例显示PL / SQL程序可以调用以在管道中放置调试信息的过程。</p><pre class="oac_no_warn" dir="ltr">创建或替换过程debug（msg VARCHAR2）AS状态号; BEGIN DBMS_PIPE.PACK_MESSAGE（LENGTH（msg））; DBMS_PIPE.PACK_MESSAGE（MSG）; status：= DBMS_PIPE.SEND_MESSAGE（'plsql_debug'）; IF状态！= 0 THEN raise_application_error（-20099，'Debug error'）;万一; END调试;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-95A2C2E4-DD79-4F8A-8032-D6D3A8E7045C">示例2：调试 -  Pro * C.</p>
                     <p>以下Pro * C代码从前一个示例中的<code class="codeph">PLSQL_DEBUG</code>管道接收消息，并显示消息。如果Pro * C会话在单独的窗口中运行，则它可用于显示从在单独会话中执行的PL / SQL程序发送到调试过程的任何消息。
                     </p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt; #include &lt;string.h&gt; EXEC SQL BEGIN DECLARE SECTION; VARCHAR用户名[20]; int状态; int msg_length; char retval [2000]; EXEC SQL END DECLARE SECTION; EXEC SQL包含SQLCA; void sql_error（）; main（）{ - 准备用户名：strcpy（username.arr，“SCOTT / TIGER”）; username.len = strlen（username.arr）;执行SQL WHENEVER SQLERROR DO sql_error（）; EXEC SQL CONNECT：username;的printf（ “连接\ n”）; - 启动无限循环以在管道上查找和打印消息：FOR（;;）{EXEC SQL EXECUTE DECLARE len INTEGER;典型的INTEGER; sta INTEGER; chr VARCHAR2（2000）; BEGIN chr：=''; sta：= dbms_pipe.receive_message（'plsql_debug'）; IF sta = 0那么DBMS_PIPE.UNPACK_MESSAGE（len）; DBMS_PIPE.UNPACK_MESSAGE（CHR）;万一; ：status：= sta; ：retval：= chr;如果len不是NULL那么：msg_length：= len; ELSE：msg_length：= 2000;万一;结束; END-EXEC; IF（status == 0）printf（“\ n％。* s \ n”，msg_length，retval）; ELSE printf（“异常状态，值为％d \ n”，状态）; void sql_error（）{char msg [1024]; int rlen，len; len = sizeof（msg）; sqlglm（msg，＆len，＆rlen）; printf（“ORACLE ERROR \ n”）; printf（“％。* s \ n”，rlen，msg）;出口（1）; }</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-EA970F6B-9198-4290-A129-49C2F34D8328">示例3：执行系统命令</p>
                     <p>此示例显示PL / SQL和Pro * C代码让PL / SQL存储过程（或匿名块）调用PL / SQL过程通过管道将命令发送到正在侦听它们的Pro * C程序。</p>
                     <p>Pro * C程序休眠并等待消息到达命名管道。当消息到达时，Pro * C程序对其执行处理，执行所需的操作，例如通过<span class="italic">system</span> （）调用执行UNIX命令或使用嵌入式SQL执行SQL命令。</p>
                     <p><code class="codeph">DAEMON.SQL</code>是PL / SQL包的源代码。此程序包包含使用<code class="codeph">DBMS_PIPE</code>程序包向Pro * C守护程序发送消息和从Pro * C守护程序接收消息的过程。请注意，使用完全握手。守护程序始终将消息发送回包（除了<code class="codeph">STOP</code>命令的情况除外）。这很有价值，因为它允许PL / SQL过程确保Pro * C守护程序正在运行。
                     </p>
                     <p>您可以使用SQL * Plus或Enterprise Manager从匿名PL / SQL块调用DAEMON打包过程。例如：</p><pre class="oac_no_warn" dir="ltr">SQLPLUS&gt;变量rv号SQLPLUS&gt;执行：rv：= DAEMON.EXECUTE_SYSTEM（'ls -la'）;</pre><p>在UNIX系统上，这会导致Pro * C守护程序执行命令<span class="italic">系统</span> （“ <span class="italic">ls -la</span> ”）。
                     </p>
                     <p>请记住守护进程需要先运行。您可能希望在后台运行它，或者在您调用它的SQL * Plus或Enterprise Manager会话旁边的另一个窗口中运行它。</p>
                     <p><code class="codeph">DAEMON</code> 。 <code class="codeph">SQL</code>还使用<code class="codeph">DBMS_OUTPUT</code>包来显示结果。要使此示例起作用，您必须对此程序包具有执行权限。
                     </p>
                     <p>DAEMON.SQL示例。这是PL / SQL <code class="codeph">DAEMON</code>包的代码：</p><pre class="oac_no_warn" dir="ltr">创建或替换PACKAGE守护程序AS功能execute_sql（命令VARCHAR2，超时NUMBER DEFAULT 10）返回号码;功能execute_system（命令VARCHAR2，超时NUMBER DEFAULT 10）返回号码;程序停止（超时NUMBER DEFAULT 10）; END守护进程; / CREATE OR REPLACE PACKAGE BODY守护程序AS FUNCTION execute_system（命令VARCHAR2，超时NUMBER DEFAULT 10）返回NUMBER状态号;结果VARCHAR2（20）; command_code NUMBER; pipe_name VARCHAR2（30）; BEGIN pipe_name：= DBMS_PIPE.UNIQUE_SESSION_NAME; DBMS_PIPE.PACK_MESSAGE（ 'SYSTEM'）; DBMS_PIPE.PACK_MESSAGE（pipe_name）; DBMS_PIPE.PACK_MESSAGE（命令）; status：= DBMS_PIPE.SEND_MESSAGE（'守护进程'，超时）; IF状态&lt;&gt; 0 THEN RAISE_APPLICATION_ERROR（-20010，'Execute_system：发送时出错。状态='||状态）;万一; status：= DBMS_PIPE.RECEIVE_MESSAGE（pipe_name，timeout）; IF状态&lt;&gt; 0 THEN RAISE_APPLICATION_ERROR（-20011，'Execute_system：接收时出错。状态='||状态）;万一; DBMS_PIPE.UNPACK_MESSAGE（结果）;如果结果&lt;&gt;'完成'那么RAISE_APPLICATION_ERROR（-20012，'Execute_system：Done not received。“）;万一; DBMS_PIPE.UNPACK_MESSAGE（Command_code中）; DBMS_OUTPUT.PUT_LINE（'系统命令已执行。结果='|| command_code）; RETURN command_code; END execute_system;功能execute_sql（命令VARCHAR2，超时NUMBER DEFAULT 10）返回号码是状态号码;结果VARCHAR2（20）; command_code NUMBER; pipe_name VARCHAR2（30）; BEGIN pipe_name：= DBMS_PIPE.UNIQUE_SESSION_NAME; DBMS_PIPE.PACK_MESSAGE（ 'SQL'）; DBMS_PIPE.PACK_MESSAGE（pipe_name）; DBMS_PIPE.PACK_MESSAGE（命令）; status：= DBMS_PIPE.SEND_MESSAGE（'守护进程'，超时）; IF状态&lt;&gt; 0 THEN RAISE_APPLICATION_ERROR（-20020，'Execute_sql：发送时出错。状态='||状态）;万一; status：= DBMS_PIPE.RECEIVE_MESSAGE（pipe_name，timeout）; IF状态&lt;&gt; 0 THEN RAISE_APPLICATION_ERROR（-20021，'execute_sql：接收时出错。状态='||状态）;万一; DBMS_PIPE.UNPACK_MESSAGE（结果）;如果结果&lt;&gt;'完成'那么RAISE_APPLICATION_ERROR（-20022，'execute_sql：没有收到。“）;万一; DBMS_PIPE.UNPACK_MESSAGE（Command_code中）; DBMS_OUTPUT.PUT_LINE（'执行SQL命令.sqlcode ='|| command_code）; RETURN command_code; END execute_sql;程序停止（超时NUMBER DEFAULT 10）IS状态号码; BEGIN DBMS_PIPE.PACK_MESSAGE（'STOP'）; status：= DBMS_PIPE.SEND_MESSAGE（'守护进程'，超时）; IF状态&lt;&gt; 0 THEN RAISE_APPLICATION_ERROR（-20030，'stop：发送时出错.status ='|| status）;万一;结束停止; END守护进程;</pre><p>daemon.pc示例。这是Pro * C守护程序的代码。您必须使用Pro * C预编译器1.5.x版或更高版本对其进行预编译。您还必须指定<code class="codeph">USERID</code>和<code class="codeph">SQLCHECK</code>选项，因为该示例包含嵌入式PL / SQL代码。
                     </p>
                     <div class="infoboxnote" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-1A5A6EF3-A480-46AA-88D0-FE5681523106">
                        <p class="notep1">注意：</p>
                        <p>要在PL / SQL块中使用<code class="codeph">VARCHAR</code>输出主机变量，必须在进入块之前初始化长度组件。
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">proc iname = daemon userid = scott / tiger sqlcheck = semantics</pre><p>然后以正常方式进行C编译和链接。</p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt; #include &lt;string.h&gt; EXEC SQL包含SQLCA; EXEC SQL BEGIN DECLARE SECTION; char * uid =“scott / tiger”; int状态; VARCHAR命令[20]; VARCHAR值[2000]; VARCHAR return_name [30]; EXEC SQL END DECLARE SECTION; void connect_error（）{char msg_buffer [512]; int msg_length; int buffer_size = 512; EXEC SQL WHENEVER SQLERROR CONTINUE; sqlglm（msg_buffer，＆buffer_size，＆msg_length）; printf（“连接时守护进程错误：\ n”）; printf（“％。* s \ n”，msg_length，msg_buffer）; printf（“Daemon quitting。\ n”）;出口（1）; } void sql_error（）{char msg_buffer [512]; int msg_length; int buffer_size = 512; EXEC SQL WHENEVER SQLERROR CONTINUE; sqlglm（msg_buffer，＆buffer_size，＆msg_length）; printf（“执行时守护程序错误：\ n”）; printf（“％。* s \ n”，msg_length，msg_buffer）; printf（“守护进程继续。\ n”）; } main（）{command.len = 20; / *初始化长度分量* / value.len = 2000; return_name.len = 30;执行SQL WHENEVER SQLERROR DO connect_error（）; EXEC SQL CONNECT：uid; printf（“Daemon connected。\ n”）;执行SQL WHENEVER SQLERROR DO sql_error（）; printf（“守护进程等待...... \ n”）; while（1）{EXEC SQL EXECUTE BEGIN：status：= DBMS_PIPE.RECEIVE_MESSAGE（'daemon'）; IF：status = 0那么DBMS_PIPE.UNPACK_MESSAGE（：command）;万一;结束; END-EXEC; IF（status == 0）{command.arr [command.len] ='\ 0';如果（！strcmp（（char *）command.arr，“STOP”））{printf（“Daemon exiting。\ n”）;打破;如果（如果）（！strcmp（（char *）command.arr，“SYSTEM”））{EXEC SQL EXECUTE BEGIN DBMS_PIPE.UNPACK_MESSAGE（：return_name）; DBMS_PIPE.UNPACK_MESSAGE（：值）;结束; END-EXEC; value.arr [value.len] ='\ 0'; printf（“将执行系统命令'％s'\ n”，value.arr）; status = system（value.arr）; EXEC SQL EXECUTE BEGIN DBMS_PIPE.PACK_MESSAGE（'done'）; DBMS_PIPE.PACK_MESSAGE（：状态）; ：status：= DBMS_PIPE.SEND_MESSAGE（：return_name）;结束; END-EXEC; IF（status）{printf（“响应系统命令时出现守护进程错误。”）; printf（“status：％d \ n”，status）; ELSE IF（！strcmp（（char *）command.arr，“SQL”））{EXEC SQL EXECUTE BEGIN DBMS_PIPE.UNPACK_MESSAGE（：return_name）; DBMS_PIPE.UNPACK_MESSAGE（：值）;结束; END-EXEC; value.arr [value.len] ='\ 0'; printf（“将执行sql命令'％s'\ n”，value.arr）; EXEC SQL WHENEVER SQLERROR CONTINUE; EXEC SQL EXECUTE IMMEDIATE：value; status = sqlca.sqlcode;执行SQL WHENEVER SQLERROR DO sql_error（）; EXEC SQL EXECUTE BEGIN DBMS_PIPE.PACK_MESSAGE（'done'）; DBMS_PIPE.PACK_MESSAGE（：状态）; ：status：= DBMS_PIPE.SEND_MESSAGE（：return_name）;结束; END-EXEC; IF（status）{printf（“响应sql命令时出现守护进程错误。”）; printf（“status：％d \ n”，status）; ELSE {printf（“守护程序错误：收到无效命令'％s'。\ n”，command.arr）; ELSE {printf（“等待信号时出现守护进程错误。”）; printf（“status =％d \ n”，status）; EXEC SQL COMMIT WORK RELEASE;出口（0）;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-32025D1A-BFE4-4695-B18F-7BAE81B70690">示例4：外部服务接口</p>
                     <p>将用户编写的3GL代码放入OCI或预编译程序。程序连接到数据库并执行PL / SQL代码以从管道读取其请求，计算结果，然后执行PL / SQL代码以将管道上的结果发送回请求者。</p>
                     <p>以下是股票服务请求的示例。为所有服务请求传递管道的参数的建议顺序是：</p><pre class="oac_no_warn" dir="ltr">protocol_version VARCHAR2  - '1'，10字节或更少returnpipe VARCHAR2  -  30字节或更少服务VARCHAR2  -  30字节或更少arg1 VARCHAR2 / NUMBER / DATE ...argn VARCHAR2 / NUMBER / DATE</pre><p>返回结果的推荐格式为：</p><pre class="oac_no_warn" dir="ltr">成功VARCHAR2  - 'SUCCESS'如果可以，否则错误消息arg1 VARCHAR2 / NUMBER / DATE ...argn VARCHAR2 / NUMBER / DATE</pre><p>“股票价格请求服务器”可以使用OCI或PRO *（伪代码）：</p><pre class="oac_no_warn" dir="ltr">&lt;loop forever&gt; BEGIN dbms_stock_server.get_request（：stocksymbol）;结束; &lt;根据stocksymbol计算出价格（可能来自某些无线电信号），如果找不到这样的股票则设置错误&gt; BEGIN dbms_stock_server.return_price（：error，：price）;结束;</pre><p>客户会这样做：</p><pre class="oac_no_warn" dir="ltr">开始：价格：= stock_request（'YOURCOMPANY'）;结束;</pre><p>由前面的“股票价格请求服务器”调用的存储过程<code class="codeph">dbms_stock_server</code>是：</p><pre class="oac_no_warn" dir="ltr">创建或替换包dbms_stock_server IS PROCEDURE get_request（符号OUT VARCHAR2）; PROCEDURE return_price（errormsg IN VARCHAR2，price IN VARCHAR2）;结束;创建或替换包装体dbms_stock_server IS returnpipe VARCHAR2（30）;程序返回错误（原因VARCHAR2）是整数; BEGIN dbms_pipe.pack_message（原因）; s：= dbms_pipe.send_message（returnpipe）; IF s &lt;&gt; 0 THEN raise_application_error（-20000，'错误：'|| to_char（s）||'发送管道'）;万一;结束; PROCEDURE get_request（符号OUT VARCHAR2）IS protocol_version VARCHAR2（10）; s INTEGER; service VARCHAR2（30）; BEGIN s：= dbms_pipe.receive_message（'stock_service'）; IF s &lt;&gt; 0 THEN raise_application_error（-20000，'错误：'|| to_char（s）||'读取管道'）;万一; dbms_pipe.unpack_message（PROTOCOL_VERSION）; IF protocol_version &lt;&gt;'1'THEN raise_application_error（-20000，'Bad protocol：'|| protocol_version）;万一; dbms_pipe.unpack_message（returnpipe）; dbms_pipe.unpack_message（服务）; IF服务！='getprice'然后返回错误（'服务'||服务||'不支持'）;万一; dbms_pipe.unpack_message（符号）;结束; PROCEDURE return_price（VARCHAR2中的errormsg，VARCHAR2中的价格）IS s INTEGER; BEGIN IF errormsg为NULL然后dbms_pipe.pack_message（'SUCCESS'）; dbms_pipe.pack_message（价）; ELSE dbms_pipe.pack_message（errormsg）;万一; s：= dbms_pipe.send_message（returnpipe）; IF s &lt;&gt; 0 THEN raise_application_error（-20000，'错误：'|| to_char（s）||'发送管道'）;万一;结束;结束;</pre><p>客户调用的过程是：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数stock_request（符号VARCHAR2）RETURN VARCHAR2是s INTEGER;价格VARCHAR2（20）; errormsg VARCHAR2（512）; BEGIN dbms_pipe.pack_message（'1'）; - 协议版本dbms_pipe.pack_message（dbms_pipe.unique_session_name）; -  return pipe dbms_pipe.pack_message（'getprice'）; dbms_pipe.pack_message（符号）; s：= dbms_pipe.send_message（'stock_service'）; IF s &lt;&gt; 0 THEN raise_application_error（-20000，'错误：'|| to_char（s）||'发送管道'）;万一; s：= dbms_pipe.receive_message（dbms_pipe.unique_session_name）; IF s &lt;&gt; 0 THEN raise_application_error（-20000，'错误：'|| to_char（s）||'在管道上接收'）;万一; dbms_pipe.unpack_message（ERRORMSG）;如果errormsg &lt;&gt;'成功'那么raise_application_error（-20000，errormsg）;万一; dbms_pipe.unpack_message（价）;返回价格;结束;</pre><p>你通常只会<code class="codeph">GRANT</code> <code class="codeph">EXECUTE</code>上<code class="codeph">DBMS_STOCK_SERVICE</code>的股票业务应用服务器，并且只会<code class="codeph">GRANT</code> <code class="codeph">EXECUTE</code>上<code class="codeph">stock_request</code>那些允许用户使用该服务。
                     </p>
                     <div class="infoboxnotealso" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-9562536E-D63F-489C-B754-D64514F3523F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="DBMS_ALERT.html#GUID-30038E9F-A074-4778-891F-335827E6071A" title="DBMS_ALERT支持数据库事件（警报）的异步通知。通过适当使用此包和数据库触发器，应用程序可以在数据库中感兴趣的值发生更改时通知自身。">DBMS_ALERT</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67407"></a><a id="ARPLS67408"></a><a id="ARPLS67408"></a><a id="ARPLS67407"></a><div class="props_rev_3"><a id="GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998" name="GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998"></a><h3 id="ARPLS-GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998" class="sect3"><span class="enumeration_section">121.7</span> DBMS_PIPE子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_PIPE</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998__GUID-BFF49258-52E1-4083-867A-E024314B9596">
                     <p class="titleintable">表121-2 DBMS_PIPE包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PIPE包子程序" width="100%" border="1" summary="This table lists the DBMS_PIPE subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d665057e1158">子程序</th>
                              <th align="left" valign="bottom" width="61%" id="d665057e1161">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1166" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16" title="此函数显式创建公共或专用管道。如果私有标志为TRUE，则管道创建者被指定为私有管道的所有者。">CREATE_PIPE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1166 d665057e1161 ">
                                 <p>创建管道（私人管道必需）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1184" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD" title="此函数确定本地消息缓冲区中下一项的数据类型。">NEXT_ITEM_TYPE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1184 d665057e1161 ">
                                 <p>返回缓冲区中下一项的数据类型</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1196" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-EE090FAB-169D-425E-8715-0B2167D28CC3" title="此过程在本地消息缓冲区中构建您的消息。">PACK_MESSAGE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1196 d665057e1161 ">
                                 <p>在本地缓冲区中构建消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1208" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68" title="此过程清空命名管道的内容。">PURGE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1208 d665057e1161 ">
                                 <p>清除命名管道的内容</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1220" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625" title="此函数将消息复制到本地消息缓冲区中。">RECEIVE_MESSAGE功能</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1220 d665057e1161 ">
                                 <p>将命名管道中的消息复制到本地缓冲区</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1232" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE" title="此函数删除显式创建的管道。">REMOVE_PIPE功能</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1232 d665057e1161 ">
                                 <p>删除命名管道</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1244" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2" title="此过程将PACK_MESSAGE和UNPACK_MESSAGE定位指示符重置为0。">RESET_BUFFER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1244 d665057e1161 ">
                                 <p>清除本地缓冲区的内容</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1262" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E" title="此函数在命名管道上发送消息。">SEND_MESSAGE功能</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1262 d665057e1161 ">
                                 <p>在命名管道上发送消息：如果命名管道不存在，则隐式创建公共管道</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1274" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-6C278A31-81EE-4276-A57D-9503E40F3E34" title="此函数接收在当前连接到数据库的所有会话中唯一的名称。">UNIQUE_SESSION_NAME功能</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1274 d665057e1161 ">
                                 <p>返回唯一的会话名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1286" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C" title="此过程从缓冲区中检索项目。">UNPACK_MESSAGE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1286 d665057e1161 ">
                                 <p>访问缓冲区中的下一项</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS67409"></a><a id="ARPLS67410"></a><a id="ARPLS67411"></a><a id="ARPLS67412"></a><a id="ARPLS67410"></a><a id="ARPLS67411"></a><a id="ARPLS67412"></a><a id="ARPLS67409"></a><div class="props_rev_3"><a id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16" name="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16"></a><h4 id="ARPLS-GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16" class="sect4"><span class="enumeration_section">121.7.1</span> CREATE_PIPE函数</h4>
                  <div>
                     <p>此函数显式创建公共或专用管道。如果<code class="codeph">private</code>标志为<code class="codeph">TRUE</code> ，则管道创建者被指定为私有管道的所有者。
                     </p>
                     <div class="section">
                        <p>只能通过调用<code class="codeph">REMOVE_PIPE</code>或关闭实例来删除显式创建的管道。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-6B859253-4224-4C49-A6BF-435ECD04D73E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.CREATE_PIPE（pipename IN VARCHAR2，maxpipesize IN INTEGER DEFAULT 8192，private IN BOOLEAN DEFAULT TRUE）RETURN INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-99A30B40-0E56-41BB-8383-FC641B21105F">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（create_pipe，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-DFCA960A-F8A2-4E97-B2BA-4FDF8E8A67DA">参数</p>
                        <div class="tblformal" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-83AF3F90-7C6E-4B6A-9FC9-23B5423899E9">
                           <p class="titleintable">表121-3 CREATE_PIPE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_PIPE函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_PIPE.CREATE_PIPE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1428">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1431">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1436" headers="d665057e1428 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1436 d665057e1431 ">
                                       <p>您正在创建的管道的名称。</p>
                                       <p>当你打电话，你必须使用该名称<code class="codeph">SEND_MESSAGE</code>和<code class="codeph">RECEIVE_MESSAGE</code> 。该名称在整个实例中必须是唯一的。
                                       </p>
                                       <p>警告：不要使用以<code class="codeph">ORA$</code>开头的管道名称。这些保留供Oracle提供的过程使用。Pipename不应超过128个字节，并且不区分大小写。此时，名称不能包含Globalization Support字符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1457" headers="d665057e1428 ">
                                       <p><code class="codeph">maxpipesize</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1457 d665057e1431 ">
                                       <p>管道允许的最大大小（以字节为单位）。</p>
                                       <p>管道上所有消息的总大小不能超过此数量。如果超过此最大值，则会阻止该消息。默认的<code class="codeph">maxpipesize</code>是8192个字节。
                                       </p>
                                       <p>管道的<code class="codeph">maxpipesize</code>成为管道特征的一部分，并持续管道的使用寿命。<code class="codeph">SEND_MESSAGE</code>具有较大的值会导致<code class="codeph">maxpipesize</code>增加。值较小的呼叫者使用现有的较大值。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1481" headers="d665057e1428 ">
                                       <p><code class="codeph">私人的</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1481 d665057e1431 ">
                                       <p>使用默认值<code class="codeph">TRUE</code>创建专用管道。
                                       </p>
                                       <p>调用<code class="codeph">SEND_MESSAGE</code>时，可以隐式创建公共管道。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-39A6532F-31C2-4DB1-95AF-3C8D1C9B5A51">返回值</p>
                        <div class="tblformal" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-8F89F103-DE93-4ED8-B355-18F6C2325007">
                           <p class="titleintable">表121-4 CREATE_PIPE函数返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_PIPE函数返回值" width="100%" border="1" summary="This table describes values returned by the CREATE_PIPE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1509">返回</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1512">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1517" headers="d665057e1509 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1517 d665057e1512 ">
                                       <p>成功的。</p>
                                       <p>如果管道已存在且尝试创建它的用户有权使用它，则Oracle返回0，表示成功，并且管道中已有的任何数据仍然存在。</p>
                                       <p>如果以<code class="codeph">SYSDBA</code> / <code class="codeph">SYSOPER</code>连接的用户重新创建管道，则Oracle返回状态0，但管道的所有权保持不变。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1535" headers="d665057e1509 ">
                                       <p><code class="codeph">ORA-23322</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1535 d665057e1512 ">
                                       <p>由于命名冲突导致的失败。</p>
                                       <p>如果存在具有相同名称的管道并且由其他用户创建，则Oracle会发出错误信号<code class="codeph">ORA-23322</code> ，表示命名冲突。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-099F3845-3DA9-4E92-B5E4-DACFC8FD0E71">例外</p>
                        <div class="tblformal" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-1C2D4A7F-805E-48C4-A449-94510C23678C">
                           <p class="titleintable">表121-5 CREATE_PIPE函数异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_PIPE函数异常" width="100%" border="1" summary="This table describes the Exceptions raised by the CREATE_PIPE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1560">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1563">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1568" headers="d665057e1560 ">
                                       <p><code class="codeph">空管名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1568 d665057e1563 ">
                                       <p>权限错误：已存在具有相同名称的管道，并且不允许您使用它。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67413"></a><a id="ARPLS67414"></a><a id="ARPLS67414"></a><a id="ARPLS67413"></a><div class="props_rev_3"><a id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD" name="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD"></a><h4 id="ARPLS-GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD" class="sect4"><span class="enumeration_section">121.7.2</span> NEXT_ITEM_TYPE函数</h4>
                  <div>
                     <p>此函数确定本地消息缓冲区中下一项的数据类型。</p>
                     <div class="section">
                        <p>在调用<code class="codeph">RECEIVE_MESSAGE</code>将管道信息放入本地缓冲区后，请调用<code class="codeph">NEXT_ITEM_TYPE.</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD__GUID-FD3406D3-3358-4527-A3B8-405ABB27B3E6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.NEXT_ITEM_TYPE返回INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD__GUID-5A1E64B1-06C3-478B-A411-2418EDA8620F">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（next_item_type，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD__GUID-A0E0881E-4409-4B1C-935B-29385D63265A">返回值</p>
                        <div class="tblformal" id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD__GUID-F34EBFF6-262D-4E3B-8F9C-8E51C505A9B8">
                           <p class="titleintable">表121-6 NEXT_ITEM_TYPE函数返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="NEXT_ITEM_TYPE函数返回值" width="100%" border="1" summary="This table decribes Values Returned by the NEXT_ITEM_TYPE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1699">返回</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1702">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1707" headers="d665057e1699 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1707 d665057e1702 ">
                                       <p>没有更多的物品</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1715" headers="d665057e1699 ">
                                       <p><code class="codeph">6</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1715 d665057e1702 ">
                                       <p><code class="codeph">数</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1724" headers="d665057e1699 ">
                                       <p><code class="codeph">9</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1724 d665057e1702 ">
                                       <p><code class="codeph">VARCHAR2</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1733" headers="d665057e1699 ">
                                       <p><code class="codeph">11</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1733 d665057e1702 ">
                                       <p><code class="codeph">ROWID</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1742" headers="d665057e1699 ">
                                       <p><code class="codeph">12</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1742 d665057e1702 ">
                                       <p><code class="codeph">日期</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1751" headers="d665057e1699 ">
                                       <p><code class="codeph">23</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1751 d665057e1702 ">
                                       <p><code class="codeph">生的</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67415"></a><a id="ARPLS67416"></a><a id="ARPLS67416"></a><a id="ARPLS67415"></a><div class="props_rev_3"><a id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3" name="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3"></a><h4 id="ARPLS-GUID-EE090FAB-169D-425E-8715-0B2167D28CC3" class="sect4"><span class="enumeration_section">121.7.3</span> PACK_MESSAGE程序</h4>
                  <div>
                     <p>此过程在本地消息缓冲区中构建您的消息。</p>
                     <div class="section">
                        <p>要发送消息，首先要对<code class="codeph">PACK_MESSAGE</code>进行一次或多次调用。然后，调用<code class="codeph">SEND_MESSAGE</code>在命名管道上的本地缓冲区中发送消息。
                        </p>
                        <p>重载该过程以接受<code class="codeph">VARCHAR2</code> ， <code class="codeph">NCHAR</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">DATE</code> 。， <code class="codeph">RAW</code>和<code class="codeph">ROWID</code>项类型的项。除了数据字节之外，缓冲区中的每个项目都需要一个字节来指示其类型，并且需要两个字节来存储其长度。终止消息需要一个额外的字节。除<code class="codeph">VARCHAR</code>之外的所有类型的开销是4个字节。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-633A4F5F-22CA-44B7-8503-6B584455344D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.PACK_MESSAGE（item IN VARCHAR2）; DBMS_PIPE.PACK_MESSAGE（项目IN NCHAR）; DBMS_PIPE.PACK_MESSAGE（项目编号）; DBMS_PIPE.PACK_MESSAGE（项目日期）; DBMS_PIPE.PACK_MESSAGE_RAW（项目IN RAW）; DBMS_PIPE.PACK_MESSAGE_ROWID（项目IN ROWID）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-FE92B3AE-1241-460D-9FD7-F8F3F0F7B21C">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（pack_message，WNDS，RNDS）; pragma restrict_references（pack_message_raw，WNDS，RNDS）; pragma restrict_references（pack_message_rowid，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-230B4F2E-FACE-4887-A47C-7B55B7C716F3">参数</p>
                        <div class="tblformal" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-1D692415-3FD5-4F4D-AC08-ABE4C0F14FF3">
                           <p class="titleintable">表121-7 PACK_MESSAGE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PACK_MESSAGE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_PIPE.PACK_MESSAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1907">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1910">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1915" headers="d665057e1907 ">
                                       <p><code class="codeph">项目</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1915 d665057e1910 ">
                                       <p>要打包到本地消息缓冲区的项目。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-21096BFE-4F9A-46E6-B5A5-87A2F4B92DD8">使用说明</p>
                        <p>在Oracle数据库版本8.x中，char-set-id（2个字节）和char-set-form（1个字节）与每个数据项一起存储。因此，使用Oracle数据库版本8.x时的开销是7个字节。</p>
                        <p>当您调用<code class="codeph">SEND_MESSAGE</code>发送此消息时，您必须指明要在其上发送消息的管道的名称。如果此管道已存在，则您必须具有足够的权限才能访问此管道。如果管道尚不存在，则会自动创建。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-72D3A765-F939-41FE-A34D-6A5911D0437C">例外</p>
                        <p>如果消息缓冲区溢出（当前为4096字节），则引发<code class="codeph">ORA-06558</code> 。缓冲区中的每个项目对于类型采用一个字节，对于长度采用两个字节，加上实际数据。终止消息还需要一个字节。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67417"></a><a id="ARPLS67418"></a><a id="ARPLS67418"></a><a id="ARPLS67417"></a><div class="props_rev_3"><a id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68" name="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68"></a><h4 id="ARPLS-GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68" class="sect4"><span class="enumeration_section">121.7.4</span>清洗程序</h4>
                  <div>
                     <p>此过程清空命名管道的内容。</p>
                     <div class="section">
                        <p>根据最近最少使用的算法，空的隐式创建的管道在共享的全局区域中老化。因此，调用<code class="codeph">PURGE</code>可以释放与隐式创建的管道关联的内存。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-4A3FC275-F416-4972-B1D3-8A300346C43C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.PURGE（pipename IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-E5A4D3C5-85E3-43AF-BE94-8E9C65221182">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（清除，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-36957D1E-4352-40D6-A2D0-CF6185B6D9A5">参数</p>
                        <div class="tblformal" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-1AEFA55B-0343-4C66-96BE-F15F39F8FD07">
                           <p class="titleintable">表121-8 PURGE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE程序参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_PIPE.PURGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2060">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2063">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2068" headers="d665057e2060 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2068 d665057e2063 ">
                                       <p>从中删除所有消息的管道名称。</p>
                                       <p>当丢弃时，本地缓冲区可能被消息覆盖。Pipename不应超过128个字节，并且不区分大小写。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-2A542BAC-E269-4887-8052-FF1D1A1E1205">使用说明</p>
                        <p>由于<code class="codeph">PURGE</code>调用<code class="codeph">RECEIVE_MESSAGE</code> ，因此当从管道中清除消息时，本地缓冲区可能会被消息覆盖。此外，如果您尝试清除访问权限不足的管道，则可能会收到<code class="codeph">ORA-23322</code> （权限不足）错误。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-E2890D64-8FA3-4A58-AF36-F7F90EE12137">例外</p>
                        <p>如果管道属于另一个用户，则权限错误。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67419"></a><a id="ARPLS67420"></a><a id="ARPLS67421"></a><a id="ARPLS67422"></a><a id="ARPLS67420"></a><a id="ARPLS67421"></a><a id="ARPLS67422"></a><a id="ARPLS67419"></a><div class="props_rev_3"><a id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625" name="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625"></a><h4 id="ARPLS-GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625" class="sect4"><span class="enumeration_section">121.7.5 RECEIVE_MESSAGE</span>功能</h4>
                  <div>
                     <p>此函数将消息复制到本地消息缓冲区中。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-80CA810D-E17B-42F4-8F0B-18FA8B9E666C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.RECEIVE_MESSAGE（pipename IN VARCHAR2，超时IN INTEGER DEFAULT maxwait）RETURN INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-6882C267-4B5B-4264-BE00-0FEDC8F8A0E4">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（receive_message，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-F58BD3C1-72D5-4FEA-A4C5-06AB8282CD0E">参数</p>
                        <div class="tblformal" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-C1300EEC-B57E-4E15-8632-AA1E789E5807">
                           <p class="titleintable">表121-9 RECEIVE_MESSAGE功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECEIVE_MESSAGE函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_PIPE.RECEIVE_MESSAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2216">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2219">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2224" headers="d665057e2216 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2224 d665057e2219 ">
                                       <p>要在其上接收消息的管道的名称。</p>
                                       <p>以<code class="codeph">ORA$</code>开头的名称保留供Oracle使用</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2237" headers="d665057e2216 ">
                                       <p><code class="codeph">超时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2237 d665057e2219 ">
                                       <p>等待消息的时间，以秒为单位。</p>
                                       <p>默认值为常量<code class="codeph">MAXWAIT</code> ，定义为86400000（1000天）。超时为0可让您无阻塞地阅读。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-960BCC64-73BC-497A-8815-61CA8C31ECD7">返回值</p>
                        <div class="tblformal" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-16662C45-8945-4193-A641-210632753348">
                           <p class="titleintable">表121-10 RECEIVE_MESSAGE函数返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECEIVE_MESSAGE函数返回值" width="100%" border="1" summary="This table decribes values returned by the RECEIVE_MESSAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2262">返回</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2265">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2270" headers="d665057e2262 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2270 d665057e2265 ">
                                       <p>成功</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2278" headers="d665057e2262 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2278 d665057e2265 ">
                                       <p>时间到。如果管道是隐式创建的并且为空，则将其删除。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2286" headers="d665057e2262 ">
                                       <p><code class="codeph">2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2286 d665057e2265 ">
                                       <p>管道中的记录对于缓冲区而言太大。（这不应该发生。）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2294" headers="d665057e2262 ">
                                       <p><code class="codeph">3</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2294 d665057e2265 ">
                                       <p>发生了中断。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2302" headers="d665057e2262 ">
                                       <p><code class="codeph">ORA-23322</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2302 d665057e2265 ">
                                       <p>用户没有足够的权限从管道读取。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-EC12C4F4-290C-452C-A48F-BF73B976EEBC">使用说明</p>
                        <p>要从管道接收消息，请先调用<code class="codeph">RECEIVE_MESSAGE</code> 。当您收到消息时，它将从管道中删除;因此，消息只能被接收一次。对于隐式创建的管道，在从管道中删除最后一条记录后，将删除管道。
                        </p>
                        <p>如果您在调用<code class="codeph">RECEIVE_MESSAGE</code>时指定的管道尚不存在，则Oracle会隐式创建管道并等待接收消息。如果消息未在指定的超时间隔内到达，则呼叫返回并移除管道。
                        </p>
                        <p>收到消息后，您必须对<code class="codeph">UNPACK_MESSAGE</code>进行一次或多次调用才能访问消息中的各个项目。重载<code class="codeph">UNPACK_MESSAGE</code>过程以解压缩<code class="codeph">DATE</code> ， <code class="codeph">NUMBER</code> ， <code class="codeph">VARCHAR2</code>类型的项目，还有两个额外的过程来解压缩<code class="codeph">RAW</code>和<code class="codeph">ROWID</code>项目。如果您不知道要尝试解包的数据类型，请调用<code class="codeph">NEXT_ITEM_TYPE</code>以确定缓冲区中下一项的类型。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-21108F59-6B87-404F-A627-0F0938D10BB7">例外</p>
                        <div class="tblformal" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-CF8C9C7B-1DA6-4A89-8335-6D23E5A5D7F3">
                           <p class="titleintable">表121-11 RECEIVE_MESSAGE函数异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECEIVE_MESSAGE函数异常" width="100%" border="1" summary="This table describes the Exceptions raised by the RECEIVE_MESSAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2362">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2365">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2370" headers="d665057e2362 ">
                                       <p><code class="codeph">空管名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2370 d665057e2365 ">
                                       <p>权限错误。没有足够的权限从管道中删除记录。管道由其他人拥有。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67423"></a><a id="ARPLS67423"></a><div class="props_rev_3"><a id="GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2" name="GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2"></a><h4 id="ARPLS-GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2" class="sect4"><span class="enumeration_section">121.7.6</span> RESET_BUFFER程序</h4>
                  <div>
                     <p>此过程将<code class="codeph">PACK_MESSAGE</code>和<code class="codeph">UNPACK_MESSAGE</code>定位指示符重置为0。
                     </p>
                     <div class="section">
                        <p>因为所有管道共享一个缓冲区，所以您可能会发现在使用新管道之前重置缓冲区很有用。这可确保您第一次尝试向管道发送消息时，不会无意中发送缓冲区中剩余的过期消息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2__GUID-88F50841-15FF-4D45-A2AD-CC5F0B230D20">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.RESET_BUFFER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2__GUID-EDC1C28B-7145-46D4-9F06-B973EAE4EA0D">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（reset_buffer，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67424"></a><a id="ARPLS67425"></a><a id="ARPLS67426"></a><a id="ARPLS67427"></a><a id="ARPLS67425"></a><a id="ARPLS67426"></a><a id="ARPLS67427"></a><a id="ARPLS67424"></a><div class="props_rev_3"><a id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE" name="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE"></a><h4 id="ARPLS-GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE" class="sect4"><span class="enumeration_section">121.7.7</span> REMOVE_PIPE功能</h4>
                  <div>
                     <p>此函数删除显式创建的管道。</p>
                     <div class="section">
                        <p><code class="codeph">SEND_MESSAGE</code>隐式创建的管道在空时自动删除。但是，只有通过调用<code class="codeph">REMOVE_PIPE</code>或关闭实例才能删除<code class="codeph">CREATE_PIPE</code>显式创建的管道。在删除管道之前，将删除管道中所有未使用的记录。
                        </p>
                        <p>这类似于在隐式创建的管道上调用<code class="codeph">PURGE</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-FB425089-090F-4D0F-808B-624D9F9B5DC8">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.REMOVE_PIPE（pipename IN VARCHAR2）RETURN INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-1B1D26BB-4B23-4F09-9D3B-F59F1EF8DB3D">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（remove_pipe，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-2CCC7ED3-D708-4159-B4B7-E4CB6F68B3C0">参数</p>
                        <div class="tblformal" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-CF4D3E9C-37DC-460F-AC21-DF531EA87BF1">
                           <p class="titleintable">表121-12 REMOVE_PIPE功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_PIPE函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_PIPE.REMOVE_PIPE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2622">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2625">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2630" headers="d665057e2622 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2630 d665057e2625 ">
                                       <p>要删除的管道的名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-6DB93133-C8DB-41FF-88AA-8A1DE7D92EA7">返回值</p>
                        <div class="tblformal" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-BABD6B53-3813-406C-9A72-349DCC667A5C">
                           <p class="titleintable">表121-13 REMOVE_PIPE函数返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_PIPE函数返回值" width="100%" border="1" summary="This table decribes Values Returned by the REMOVE_PIPE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2650">返回</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2653">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2658" headers="d665057e2650 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2658 d665057e2653 ">
                                       <p>成功</p>
                                       <p>如果管道不存在，或者管道已经存在且尝试删除它的用户有权这样做，则Oracle返回0，表示成功，并且管道中剩余的所有数据都将被删除。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2668" headers="d665057e2650 ">
                                       <p><code class="codeph">ORA-23322</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2668 d665057e2653 ">
                                       <p>权限不足。</p>
                                       <p>如果管道存在，但用户无权访问管道，则Oracle发出错误信号<code class="codeph">ORA-23322</code> ，表示权限不足。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-FDDE2150-12B7-4BF1-9421-F17205033D1F">例外</p>
                        <div class="tblformal" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-070B0A3E-11A2-45BE-A2EB-3C9ED47CB863">
                           <p class="titleintable">表121-14 REMOVE_PIPE函数异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_PIPE函数异常" width="100%" border="1" summary="This table describes the Exceptions raised by the REMOVE_PIPE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2693">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2696">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2701" headers="d665057e2693 ">
                                       <p><code class="codeph">空管名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2701 d665057e2696 ">
                                       <p>权限错误：删除管道的权限不足。管道已创建并由其他人拥有。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67428"></a><a id="ARPLS67429"></a><a id="ARPLS67430"></a><a id="ARPLS67431"></a><a id="ARPLS67429"></a><a id="ARPLS67430"></a><a id="ARPLS67431"></a><a id="ARPLS67428"></a><div class="props_rev_3"><a id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E" name="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E"></a><h4 id="ARPLS-GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E" class="sect4"><span class="enumeration_section">121.7.8</span> SEND_MESSAGE功能</h4>
                  <div>
                     <p>此函数在命名管道上发送消息。</p>
                     <div class="section">
                        <p>该消息包含在本地消息缓冲区中，该缓冲区充满了对<code class="codeph">PACK_MESSAGE</code>调用。您可以使用<code class="codeph">CREATE_PIPE</code>显式创建管道，否则，它是隐式创建的。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-E0803CAC-1304-42A2-972E-C4BD9DF79584">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.SEND_MESSAGE（pipename IN VARCHAR2，超时IN INTEGER DEFAULT MAXWAIT，maxpipesize IN INTEGER DEFAULT 8192）RETURN INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-92427268-4644-4A65-8A81-7ABF374D1C55">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（send_message，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-9547275D-1720-41F5-9548-7CA845B28CFB">参数</p>
                        <div class="tblformal" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-C47F7ECE-7670-4FD4-A50A-BF671C46E1EA">
                           <p class="titleintable">表121-15 SEND_MESSAGE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEND_MESSAGE函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_PIPE.SEND_MESSAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2837">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2840">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2845" headers="d665057e2837 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2845 d665057e2840 ">
                                       <p>要放置消息的管道的名称。</p>
                                       <p>如果使用显式管道，则这是您在调用<code class="codeph">CREATE_PIPE</code>时指定的名称。</p>
                                       <p>警告：请勿使用以“ <code class="codeph">ORA$</code> ”开头的管道名称。这些名称保留供Oracle提供的过程使用。Pipename不应超过128个字节，并且不区分大小写。此时，名称不能包含Globalization Support字符。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2863" headers="d665057e2837 ">
                                       <p><code class="codeph">超时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2863 d665057e2840 ">
                                       <p>在几秒钟内尝试在管道上放置消息时等待的时间。</p>
                                       <p>默认值为常量<code class="codeph">MAXWAIT</code> ，定义为86400000（1000天）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2876" headers="d665057e2837 ">
                                       <p><code class="codeph">maxpipesize</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2876 d665057e2840 ">
                                       <p>管道允许的最大大小（以字节为单位）。</p>
                                       <p>管道上所有消息的总大小不能超过此数量。如果超过此最大值，则会阻止该消息。默认值为8192个字节。</p>
                                       <p>管道的<code class="codeph">maxpipesize</code>成为管道特征的一部分，并持续管道的使用寿命。<code class="codeph">SEND_MESSAGE</code>具有较大的值会导致<code class="codeph">maxpipesize</code>增加。具有较小值的呼叫者仅使用现有的较大值。
                                       </p>
                                       <p>指定<code class="codeph">maxpipesize</code>作为的一部分<code class="codeph">SEND_MESSAGE</code>过程无需单独调用打开管道的需求。如果显式创建了管道，则可以使用可选的<code class="codeph">maxpipesize</code>参数来覆盖创建管道大小规范。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-6EAE4FD1-E5AA-4EBB-A1B1-3ED6ED022157">返回值</p>
                        <div class="tblformal" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-7DB1CD91-AEF6-4BB2-B2C4-E448CE37E031">
                           <p class="titleintable">表121-16 SEND_MESSAGE函数返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEND_MESSAGE函数返回值" width="100%" border="1" summary="This table describes values returned by the SEND_MESSAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d665057e2920">返回</th>
                                    <th align="left" valign="bottom" width="73%" id="d665057e2923">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d665057e2928" headers="d665057e2920 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d665057e2928 d665057e2923 ">
                                       <p>成功。</p>
                                       <p>如果管道已存在且尝试创建它的用户有权使用它，则Oracle返回0，表示成功，并且管道中已有的任何数据仍然存在。</p>
                                       <p>如果以<code class="codeph">SYSDBS</code> / <code class="codeph">SYSOPER</code>连接的用户重新创建管道，则Oracle返回状态0，但管道的所有权保持不变。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d665057e2946" headers="d665057e2920 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d665057e2946 d665057e2923 ">
                                       <p>时间到。</p>
                                       <p>此过程可能会超时，因为它无法锁定管道，或者因为管道仍然太满而无法使用。如果管道是隐式创建的并且为空，则将其删除。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d665057e2956" headers="d665057e2920 ">
                                       <p><code class="codeph">3</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d665057e2956 d665057e2923 ">
                                       <p>发生了中断。</p>
                                       <p>如果管道是隐式创建的并且为空，则将其删除。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d665057e2966" headers="d665057e2920 ">
                                       <p><code class="codeph">ORA-23322</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d665057e2966 d665057e2923 ">
                                       <p>权限不足。</p>
                                       <p>如果存在具有相同名称的管道并且由其他用户创建，则Oracle会发出错误信号<code class="codeph">ORA-23322</code> ，表示命名冲突。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-89552960-F3BE-42A4-8780-69DB18D3A261">例外</p>
                        <div class="tblformal" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-DF608AC3-D87D-4933-98CD-57A37A49F1AA">
                           <p class="titleintable">表121-17 SEND_MESSAGE函数异常</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEND_MESSAGE函数异常" width="100%" border="1" summary="This table describes the Exceptions raised by the SEND_MESSAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2991">例外</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2994">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2999" headers="d665057e2991 ">
                                       <p><code class="codeph">空管名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2999 d665057e2994 ">
                                       <p>权限错误。写入管道的权限不足。管道是私有的，由其他人拥有。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67432"></a><a id="ARPLS67432"></a><div class="props_rev_3"><a id="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34" name="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34"></a><h4 id="ARPLS-GUID-6C278A31-81EE-4276-A57D-9503E40F3E34" class="sect4"><span class="enumeration_section">121.7.9</span> UNIQUE_SESSION_NAME函数</h4>
                  <div>
                     <p>此函数接收在当前连接到数据库的所有会话中唯一的名称。</p>
                     <div class="section">
                        <p>从同一会话多次调用此函数始终返回相同的值。你可能会发现它有用使用此功能提供<code class="codeph">PIPENAME</code>参数为您<code class="codeph">SEND_MESSAGE</code>和<code class="codeph">RECEIVE_MESSAGE</code>电话。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34__GUID-EAF62825-6D17-46E6-92E9-26BDA297251D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.UNIQUE_SESSION_NAME RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34__GUID-47838A84-B49C-48DF-8552-1960754E5E8C">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（unique_session_name，WNDS，RNDS，WNPS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34__GUID-52225127-0C6C-4AC5-97B0-DE09B552F171">返回值</p>
                        <p>此函数返回唯一名称。返回的名称最多可以为30个字节。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67433"></a><a id="ARPLS67434"></a><a id="ARPLS67434"></a><a id="ARPLS67433"></a><div class="props_rev_3"><a id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C" name="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C"></a><h4 id="ARPLS-GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C" class="sect4"><span class="enumeration_section">121.7.10</span> UNPACK_MESSAGE程序</h4>
                  <div>
                     <p>此过程从缓冲区中检索项目。</p>
                     <div class="section">
                        <p>在调用后<code class="codeph">RECEIVE_MESSAGE</code>放置管道信息在本地缓存，调用<code class="codeph">UNPACK_MESSAGE</code> 。</p>
                        <div class="infoboxnote" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-0151AF6B-6816-42FF-8C49-BF2C1B9E166C">
                           <p class="notep1">注意：</p>
                           <p>重载<code class="codeph">UNPACK_MESSAGE</code>过程以返回<code class="codeph">VARCHAR2</code> ， <code class="codeph">NCHAR</code> ， <code class="codeph">NUMBER</code>或<code class="codeph">DATE</code>类型的项目。解压缩<code class="codeph">RAW</code>和<code class="codeph">ROWID</code>项目有两个额外的过程。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-89FB057B-80A8-41B4-9F0C-8E925CE23164">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.UNPACK_MESSAGE（项目OUT VARCHAR2）; DBMS_PIPE.UNPACK_MESSAGE（项目OUT NCHAR）; DBMS_PIPE.UNPACK_MESSAGE（项目OUT NUMBER）; DBMS_PIPE.UNPACK_MESSAGE（项目输出日期）; DBMS_PIPE.UNPACK_MESSAGE_RAW（项目输出RAW）; DBMS_PIPE.UNPACK_MESSAGE_ROWID（item OUT ROWID）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-39DC04E3-3BBB-4418-88B7-520EDD1BEB3A">编译指示</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references（unpack_message，WNDS，RNDS）; pragma restrict_references（unpack_message_raw，WNDS，RNDS）; pragma restrict_references（unpack_message_rowid，WNDS，RNDS）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-B0C8E665-1664-4DED-B540-33DE73010A59">参数</p>
                        <div class="tblformal" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-E00EFB21-8E09-4411-A179-C2DA95CB0DA9">
                           <p class="titleintable">表121-18 UNPACK_MESSAGE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNPACK_MESSAGE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_PIPE.UNPACK_MESSAGE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e3272">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e3275">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e3280" headers="d665057e3272 ">
                                       <p><code class="codeph">项目</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e3280 d665057e3275 ">
                                       <p>从本地消息缓冲区接收下一个解压缩项的参数。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-998148FC-287B-4B42-B493-4995D466006F">例外</p>
                        <p>如果缓冲区不再包含项目，或者项目的类型与请求的类型不同，则会生成<code class="codeph">ORA-06556</code>或<code class="codeph">06559</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="12843.building-effective-applications.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Effective applications are scalable and use recommended programming and security practices."></meta>
      <meta name="description" content="Effective applications are scalable and use recommended programming and security practices."></meta>
      <title>建立有效的应用</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="2 Day Developer&#39;s Guide "></meta>
      <meta property="og:description" content="Effective applications are scalable and use recommended programming and security practices."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="2 Day Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="2-day-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T13:00:30-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94801-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="working-in-global-environment.html" title="Previous" type="text/html"></link>
      <link rel="next" href="developing-simple-database-application.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="2 Day Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="TDDDG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="working-in-global-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="developing-simple-database-application.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2天开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">建立有效的应用</li>
            </ol>
            <a id="GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" name="GUID-F6EB9789-00D7-472F-A36C-F55C143307BC"></a><a id="TDDDG99933"></a>
            
            <h2 id="TDDDG-GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" class="sect2"><span class="enumeration_chapter">8</span>建立有效的应用</h2>
         </header>
         <div class="ind">
            <div>
               <p>有效的应用程序是可扩展的，并使用推荐的编程和安</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C">构建可扩展的应用</a><br>设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。
                  </li>
                  <li class="ulchildlink"><a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1">推荐的编程实践</a><br>使用以下推荐的编程实践。
                  </li>
                  <li class="ulchildlink"><a href="building-effective-applications.html#GUID-32FBC335-6B08-4B50-B039-06BB9F500908">推荐的安全实践</a><br>在为组成应用程序的模式对象授予权限时，请使用<strong class="term">最小权限原则</strong> 。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-F6EB9789-00D7-472F-A36C-F55C143307BC__GUID-BB368B64-4348-4732-807D-FFB1CDAF085E">
                  <p class="notep1">也可以看看：</p>
                  <p>有关创建和部署针对Oracle数据库进行了优化的应用程序的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ADFNS116" target="_blank"><span class="italic">“Oracle数据库开发指</span></a></p>
               </div>
            </div>
            <a id="TDDDG99932"></a><div class="props_rev_4"><a id="GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" name="GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C"></a><h3 id="TDDDG-GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" class="sect3"><span class="enumeration_section">8.1</span>构建可扩展应用程序</h3>
               <div>
                  <p>设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-D0FD8DFF-4763-4775-8045-50DF3F3EA558">关于可扩展应用</a><br><strong class="term">可伸缩</strong>应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606">使用绑定变量来提高可伸缩性</a><br>正确使用的绑定变量可让您开发高效，可伸缩的应用程序。
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1">使用PL / SQL提高可伸缩性</a><br>某些PL / SQL功能可以帮助您提高应用程序的可伸缩性。
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A">关于并发性和可伸缩性</a><br><strong class="term">并发</strong>是多个事务的同时执行。应用程序处理并发性越好，它的可伸缩性就越高。<strong class="term">可伸缩</strong>应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-5381A407-3D62-4675-816C-BBB6FE34587C">限制并发会话数</a><br>您拥有的并发会话越多，您拥有的并发等待越多，响应时间就越慢。
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA">将编程技术与Runstats进行比较</a><br>Runstats工具可以让您比较两种编程技术的性能，看看哪种更好。
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9">真实的性能和数据处理技术</a><br>数据仓库环境中的数据库应用程序中的常见任务是查询或修改庞大的数据集。应用程序开发人员面临的问题是如何在处理大型数据集时实现高性能。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" title="有效的应用程序是可扩展的，并使用推荐的编程和安">构建有效的应用程序</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99931"></a><div class="props_rev_3"><a id="GUID-D0FD8DFF-4763-4775-8045-50DF3F3EA558" name="GUID-D0FD8DFF-4763-4775-8045-50DF3F3EA558"></a><h4 id="TDDDG-GUID-D0FD8DFF-4763-4775-8045-50DF3F3EA558" class="sect4"><span class="enumeration_section">8.1.1</span>关于可扩展应用程序</h4>
                  <div>
                     <p><strong class="term">可伸缩</strong>应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。
                     </p>
                     <p><strong class="term">可伸缩</strong>应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。例如，如果您将其工作负载加倍，则可伸缩应用程序将使用两倍的系统资源。
                     </p>
                     <p><strong class="term">不可扩展的</strong>应用程序耗尽了系统资源;因此，如果增加应用程序工作负载，则无法实现更高的吞吐量。不可扩展的应用程序导致固定的吞吐量和较差的响应时间。
                     </p>
                     <p>资源耗尽的例子是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>硬件耗尽</p>
                        </li>
                        <li>
                           <p>表扫描高容量事务，导致不可避免的磁盘输入/输出（I / O）短缺</p>
                        </li>
                        <li>
                           <p>网络请求过多导致网络和调度瓶颈</p>
                        </li>
                        <li>
                           <p>内存分配导致分页和交换</p>
                        </li>
                        <li>
                           <p>过多的进程和线程分配导致操作系统抖动</p>
                        </li>
                     </ul>
                     <p>设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。">构建可伸缩应用程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG322"></a><a id="TDDDG99930"></a><div class="props_rev_3"><a id="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606" name="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606"></a><h4 id="TDDDG-GUID-5F486510-7FF2-4418-8D88-13B18F2E2606" class="sect4"><span class="enumeration_section">8.1.2</span>使用绑定变量提高可伸缩性</h4>
                  <div>
                     <p>正确使用的绑定变量可让您开发高效，可伸缩的应用程序。</p>
                     <p><strong class="term">绑定变量</strong>是SQL语句中的占位符，必须替换为有效的值或值地址才能成功执行语句。通过使用绑定变量，您可以编写一个在运行时接受输入或参数的SQL语句。
                     </p>
                     <p>正如子程序可以具有参数（其值由调用者提供）一样，SQL语句可以具有绑定变量占位符，其值（称为绑定变量）在运行时提供。正如子程序被编译一次然后使用不同的参数运行多次一样，具有绑定变量占位符的SQL语句被硬解析一次，然后使用不同的绑定变量进行软解析。</p>
                     <p><strong class="term">硬解析</strong>包括优化和行源生成，是一项非常耗费CPU的操作。<strong class="term">软解析</strong>跳过优化和行源生成并直接执行，通常比同一语句的硬解析快得多。（有关SQL处理的概述，包括硬解和软解析之间的区别，请参阅<a href="../cncpt/sql.html#CNCPT216" target="_blank"><span class="italic">Oracle数据库概念</span></a> 。）
                     </p>
                     <p>硬解析不仅是CPU密集型操作，而且是一种不可扩展的操作，因为它不能与许多其他操作同时完成。有关并发性和可伸缩性的更多信息，请参阅<span class="q">“ <a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="并发是多个事务的同时执行。应用程序处理并发性越好，它的可伸缩性就越高。可伸缩应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。">关于并发性和可伸缩性</a> ”</span> 。
                     </p>
                     <p><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">例8-1</a>显示了没有绑定变量的查询与带有绑定变量的语义等效查询之间的性能差异。前者较慢并且使用了更多的锁存器（有关锁存器如何影响可伸缩性的信息，请参阅<span class="q">“ <a href="building-effective-applications.html#GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3" title="锁存器的增加意味着更多基于并发的等待，因此可伸缩性降低。">关于锁存器和并发</a> ”</span> ）。为了收集和显示性能统计信息，该示例使用Runstats工具，如<span class="q">“ <a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" title="Runstats工具可以让您比较两种编程技术的性能，看看哪种更好。">将编程技术与Runstats进行比较</a> ”中所述</span> 。
                     </p>
                     <div class="infoboxnote" id="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__GUID-BB178830-ABB2-4FD3-BFB7-4FB835FDE501">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">例8-1</a>显示<span class="italic">了单个用户</span>的性能成本。随着更多用户的加入，成本迅速上升。
                              </p>
                           </li>
                           <li>
                              <p>使用此设置生成<a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">示例8-1</a>的结果：</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT格式为TRUNCATED</pre></li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__GUID-DA56C1D7-A5A9-454B-9BE7-78D6FBC1BD3E">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用绑定变量而不是字符串文字是使代码无法受到SQL注入攻击的最有效方法。有关详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS646" target="_blank"><span class="italic">Oracle Database PL / SQL语言参考</span></a> 。
                              </p>
                           </li>
                           <li>
                              <p>绑定变量有时会降低数据仓库系统的效率。由于大多数查询需要很长时间，因此优化程序会尝试为每个查询生成最佳计划，而不是最佳通用查询。使用绑定变量有时会强制优化器生成最佳通用查询。有关提高数据仓库系统性能的信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=DWHSG019" target="_blank"><span class="italic">Oracle数据库数据仓库指南”</span></a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>虽然软解析比硬解析更有效，但是多次软解析语句的成本仍然非常高。要最大限度地提高应用程序的效率和可伸缩性，请尽量减少解析。最小化解析的最简单方法是使用PL / SQL。</p>
                     <div class="example" id="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">
                        <p class="titleinexample">例8-1绑定变量提高了性能</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t（x VARCHAR2（5））; DECLARE TYPE rc是REF CURSOR; l_cursor rc; BEGIN runstats_pkg.rs_start; - 收集查询的统计信息，不带绑定变量FOR i IN 1 ..5000 LOOP OPEN l_cursor FOR'SELECT <span class="bold">x FROM t WHERE x ='|| TO_CHAR（i）</span> ;关闭l_cursor;结束循环; runstats_pkg.rs_middle; - 使用绑定变量FOR i IN 1收集查询的统计信息..5000 LOOP OPEN l_cursor FOR'SELECT <span class="bold">x FROM t WHERE x =：x'使用i</span> ;关闭l_cursor;结束循环; runstats_pkg.rs_stop（500）; - 停止收集统计结束; /</pre><p>结果类似于：</p><pre class="oac_no_warn" dir="ltr">运行1运行740 hsec运行2运行30 hsec <span class="bold">运行1运行2466.67％运行时间2</span>名称运行1运行2差异STAT ...递归cpu使用729 19 -710 STAT ...此sessio使用的CPU 742 30 -712 STAT ...解析时间已过去1,051 4 -1,047 STAT ...解析时间cpu 1,066 2 -1,064 STAT ...会话游标缓存hi 1 4,998 4,997 STAT ...表扫描（短tabl 5,000 1 -4,999 STAT ...解析计数（总计）10,003 5,004 -4,999 LATCH.session空闲位5,003 3 -5,000 LATCH.session allocation 5,003 3 -5,000 STAT ...执行计数10,003 5,003 -5,000 STAT ...已打开cursors cumulati 10,003 5,003 -5,000 STAT ...解析数（硬）10,001 5 -9,996 STAT ...CCursor + sql area evic 10,000 1 -9,999 STAT ... enqueue releases 10,008 7 -10,001 STAT ... enqueue requests 10,009 7 -10,002 STAT ... call to get snapshot s 20,005 5,006 -14,999 STAT ... call to kcmgcs 20,028 35 -19,993 STAT ...一致得到引脚（fa 20,013 17 -19,996 LATCH.call分配20,002 6 -19,996 STAT ...一致得到ca 20,014 18 -19,996 STAT ...一致得到20,014 18 -19,996 STAT ...一致得到引脚20,013 17 -19,996 LATCH.simulator hash latch 20,014 11 -20,003 STAT ... session logical reads 20,080 75 -20,005 LATCH.shared pool simulator 20,046 5 -20,041 LATCH.enqueue hash chains 20,343 15 -20,328 STAT ... recursive调用40,015 15,018 -24,997 LATCH.cache缓冲链40,480 294 -40,186 STAT ... session pga memory max 131,072 65,536 -65,536 STAT ... session pga memory 131,072 65,536 -65,536 LATCH.row缓存对象165,209 139 -165,070 STAT ... session uga memory max 219,000 0 -219,000 LATCH.shared pool 265,108 152 -264,956 STAT ...逻辑读取字节数164,495,360 614,400 -163 ，880,960 <span class="bold">与运行2相比</span> ， <span class="bold">运行1个锁存器 - 差异和百分比</span> <span class="bold">运行1运行2</span> <span class="bold">差异</span> <span class="bold">Pct</span> <span class="bold">562,092 864 -561,228 2,466.67％</span> PL / SQL过程成功完成。</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。">构建可伸缩应用程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG99929"></a><div class="props_rev_4"><a id="GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" name="GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1"></a><h4 id="TDDDG-GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" class="sect4"><span class="enumeration_section">8.1.3</span>使用PL / SQL提高可伸缩性</h4>
                  <div>
                     <p>某些PL / SQL功能可以帮助您提高应用程序的可伸缩性。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-383477A2-2433-4CD7-A672-B66A01004B73">PL / SQL如何最小化解析</a><br>PL / SQL，针对数据库访问进行了优化，可以静默缓存语句。在PL / SQL中，当你关闭游标时，光标会从你的角度关闭 - 也就是说，你不能在需要打开游标的地方使用它 - 但是PL / SQL实际上保持游标打开并缓存它的语句。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-FB5423B5-339B-49A8-B27B-326621E05795">关于EXECUTE IMMEDIATE声明</a><br><span class="keyword">EXECUTE IMMEDIATE</span>语句在单个操作中构建并运行动态SQL语句。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301">关于OPEN FOR FOR声明</a><br><span class="keyword">OPEN FOR</span>语句具有以下基本语法。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0">关于DBMS_SQL包</a><br>DBMS_SQL包是用于构建，运行和描述动态SQL语句的API。如果PL / SQL编译器无法在编译时确定输出主机变量的数量或类型（选择列表项）或输入绑定变量，则必须使用DBMS_SQL包而不是<span class="keyword">EXECUTE IMMEDIATE</span>语句。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF">关于批量SQL</a><br>批量SQL减少了PL / SQL和SQL之间的“往返”次数，从而减少了资源使用量。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。">构建可伸缩应用程序</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TDDDG273"></a><div class="props_rev_3"><a id="GUID-383477A2-2433-4CD7-A672-B66A01004B73" name="GUID-383477A2-2433-4CD7-A672-B66A01004B73"></a><h5 id="TDDDG-GUID-383477A2-2433-4CD7-A672-B66A01004B73" class="sect5"><span class="enumeration_section">8.1.3.1</span> PL / SQL如何最小化解析</h5>
                     <div>
                        <p>PL / SQL，针对数据库访问进行了优化，可以静默缓存语句。在PL / SQL中，当你关闭游标时，光标会从你的角度关闭 - 也就是说，你不能在需要打开游标的地方使用它 - 但是PL / SQL实际上保持游标打开并缓存它的语句。</p>
                        <p>如果再次使用缓存语句，PL / SQL将使用相同的游标，从而避免解析。（如果需要，PL / SQL会关闭缓存的语句 - 例如，如果您的程序必须打开另一个游标，但这样做会超出<span class="keyword">OPEN_CURSORS</span>的init.ora设置。）
                        </p>
                        <p>PL / SQL可以静默地仅缓存在运行时无法更改的SQL语句。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="某些PL / SQL功能可以帮助您提高应用程序的可伸缩性。">使用PL / SQL提高可伸缩性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG274"></a><div class="props_rev_3"><a id="GUID-FB5423B5-339B-49A8-B27B-326621E05795" name="GUID-FB5423B5-339B-49A8-B27B-326621E05795"></a><h5 id="TDDDG-GUID-FB5423B5-339B-49A8-B27B-326621E05795" class="sect5"><span class="enumeration_section">8.1.3.2</span>关于EXECUTE IMMEDIATE语句</h5>
                     <div>
                        <p><span class="keyword">EXECUTE IMMEDIATE</span>语句在单个操作中构建并运行动态SQL语句。
                        </p>
                        <p><span class="keyword">EXECUTE IMMEDIATE</span>语句的基本语法是：</p><pre class="oac_no_warn" dir="ltr">EXECUTE IMMEDIATE <span class="italic">sql_statement</span>
</pre><p><span class="synph">sql_statement</span>是表示SQL语句的字符串。如果每次运行<span class="keyword">EXECUTE IMMEDIATE</span>语句时<span class="synph">sql_statement</span>具有相同的值，则PL / SQL可以缓存<span class="keyword">EXECUTE IMMEDIATE</span>语句。如果每次运行<span class="keyword">EXECUTE IMMEDIATE</span>语句时<span class="synph">sql_statement</span>可能不同，则PL / SQL无法缓存<span class="keyword">EXECUTE IMMEDIATE</span>语句。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-FB5423B5-339B-49A8-B27B-326621E05795__GUID-174FDD6A-A70D-4C6D-9A81-CE421BC5CBAF">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<span class="keyword">EXECUTE IMMEDIATE的</span>信息，请<a href="../lnpls/dynamic-sql.html#LNPLS01115" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="building-effective-applications.html#GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0" title="DBMS_SQL包是用于构建，运行和描述动态SQL语句的API。如果PL / SQL编译器无法在编译时确定输出主机变量的数量或类型（选择列表项）或输入绑定变量，则必须使用DBMS_SQL包而不是EXECUTE IMMEDIATE语句。">关于DBMS_SQL包</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="某些PL / SQL功能可以帮助您提高应用程序的可伸缩性。">使用PL / SQL提高可伸缩性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG278"></a><div class="props_rev_3"><a id="GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301" name="GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301"></a><h5 id="TDDDG-GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301" class="sect5"><span class="enumeration_section">8.1.3.3</span>关于OPEN FOR语句</h5>
                     <div>
                        <p><span class="keyword">OPEN FOR</span>语句具有以下基本语法。
                        </p>
                        <p><span class="keyword">OPEN FOR</span>语句的基本语法是：</p><pre class="oac_no_warn" dir="ltr">OPEN <span class="italic">cursor_variable</span> FOR <span class="italic">查询</span>
</pre><p>在关闭之前，您的应用程序可以为几个不同的查询打开<span class="synph">cursor_variable</span> 。因为PL / SQL在运行时无法确定不同查询的数量，PL / SQL无法缓存<span class="keyword">OPEN FOR</span>语句。
                        </p>
                        <p>如果您不需要使用游标变量，则使用声明的游标，以获得更好的性能和编程的简易性。有关详细信息，请参阅<a href="../adfns/coding-subprograms-and-packages.html#ADFNS160" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> 。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301__GUID-F31F0201-1392-4412-9DAB-1514B5228862">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<span class="keyword">OPEN FOR的</span>信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS629" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="stored-subprograms-packages.html#GUID-AAF33D3B-FE73-42AC-AB07-3FA1A45CE02B" title="游标变量就像一个游标，它不仅限于一个查询。您可以打开查询的游标变量，处理结果集，然后将游标变量用于另一个查询。游标变量对于在子程序之间传递查询结果很有用。">关于光标变量</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="stored-subprograms-packages.html#GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F" title="当Oracle数据库执行SQL语句时，它会将结果集和处理信息存储在未命名的私有SQL区域中。指向此未命名区域的指针（称为游标）允许您一次检索一行结果集。游标属性返回有关游标状态的信息。">关于游标</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="某些PL / SQL功能可以帮助您提高应用程序的可伸缩性。">使用PL / SQL提高可伸缩性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG275"></a><div class="props_rev_3"><a id="GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0" name="GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0"></a><h5 id="TDDDG-GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0" class="sect5"><span class="enumeration_section">8.1.3.4</span>关于DBMS_SQL包</h5>
                     <div>
                        <p>DBMS_SQL包是用于构建，运行和描述动态SQL语句的API。如果PL / SQL编译器无法在编译时确定输出主机变量的数量或类型（选择列表项）或输入绑定变量，则必须使用DBMS_SQL包而不是<span class="keyword">EXECUTE IMMEDIATE</span>语句。
                        </p>
                        <p>DBMS_SQL包是用于构建，运行和描述动态SQL语句的API。使用DBMS_SQL包比使用<span class="keyword">EXECUTE IMMEDIATE</span>语句需要更多的努力，但如果PL / SQL编译器无法在编译时确定输出主机变量的数量或类型（选择列表项）或输入绑定变量，则必须使用DBMS_SQL包。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0__GUID-B2EB9D40-E6A5-48BB-87F3-F6CD8B008B9E">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关何时使用DBMS_SQL程序包的更多信息，请<a href="../lnpls/dynamic-sql.html#LNPLS011" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                              </li>
                              <li>
                                 <p>有关DBMS_SQL包的完整信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ARPLS058" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="building-effective-applications.html#GUID-FB5423B5-339B-49A8-B27B-326621E05795" title="EXECUTE IMMEDIATE语句在单个操作中构建并运行动态SQL语句。">关于EXECUTE IMMEDIATE声明</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="某些PL / SQL功能可以帮助您提高应用程序的可伸缩性。">使用PL / SQL提高可伸缩性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG280"></a><a id="TDDDG336"></a><a id="TDDDG276"></a><div class="props_rev_3"><a id="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF" name="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF"></a><h5 id="TDDDG-GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF" class="sect5"><span class="enumeration_section">8.1.3.5</span>关于批量SQL</h5>
                     <div>
                        <p>批量SQL减少了PL / SQL和SQL之间的“往返”次数，从而减少了资源使用量。</p>
                        <p>如果没有批量SQL，则从数据库（SQL）一次检索一行，处理它（PL / SQL），并将其返回到数据库（SQL）。使用批量SQL，您可以从数据库中检索一组行，处理行集，然后将整个集返回到数据库。</p>
                        <p>Oracle建议使用散装SQL当你从数据库中检索多行<span class="italic">，</span>并将其返回到数据库中，如<a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">例8-2</a> 。如果检索多行但不返回它们，则不需要批量SQL;例如：</p><pre class="oac_no_warn" dir="ltr">FOR x IN（SELECT * FROM t WHERE ...） - 检索行集（隐式数组提取）LOOP DBMS_OUTPUT.PUT_LINE（tx）; - 处理行但不返回它们END LOOP;</pre><p><a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">示例8-2</a>遍历带有列object_name的表t，检索100行的集合，处理它们并将它们返回到数据库。（将批量<span class="keyword">FETCH</span>语句限制为100行需要显式游标。）
                        </p>
                        <p><a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACCGHEI">例8-3</a>执行与<a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">例8-2</a>相同的工作，没有批量SQL。</p>
                        <p>正如<a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">示例8-2</a>和<a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACCGHEI">示例8-3的</a>这些TKPROF报告所示，使用批量SQL执行此作业所占用的CPU时间减少了近50％：</p><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT ROWID RID，OBJECT_NAME FROM T T_BULK</span>调用count cpu经过磁盘查询当前行------- ------ -------- ---------- --- ------- ---------- ---------- ----------总计721 0.17 0.17 0 22582 0 71825 ***** ************************************************** ************************* <span class="bold">UPDATE T SET OBJECT_NAME =：B1 WHERE ROWID =：B2</span>呼叫计数cpu经过磁盘查询当前行----- -  ------ -------- ---------- ---------- ---------- ---- ------ ---------- Parse 1 0.00 0.00 0 0 0 0执行<span class="bold">719 12.83</span> 13.77 0 71853 74185 71825取0 0.00 0.00 0 0 0 0 ------- --- --- -------- ---------- ---------- ---------- --------- -  ---------- total 720 12.83 13.77 0 71853 74185 71825 <span class="bold">SELECT ROWID RID，OBJECT_NAME FROM T T_SLOW_BY_SLOW</span> call count cpu elapsed disk query current rows ------- ------- ------ ---------- ---------- ---------- ---------- ---- ------总计721 0.17 0.17 0 22582 0 71825 ************************************ ******************************************** <span class="bold">更新T SET OBJECT_NAME = ：B2 WHERE ROWID =：B1</span>调用cpu经过磁盘查询当前行------- ------ -------- ---------- ---- ------ ---------- ---------- ---------- Parse 1 0.00 0.00 0 0 0 0执行<span class="bold">71824 21.25</span> 22.25 0 71836 73950 71824获取0 0.00 0.00 0 0 0 0 ------- ------ -------- ---------- --------- -  ---------- ---------- ----------总计71825 21.25 22.25 0 71836 73950 71824</pre><p>但是，对于此作业使用批量SQL比使用单个SQL语句使用更多的CPU时间和更多代码，因为此<code class="codeph">TKPROF</code>报告显示：</p><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE T SET OBJECT_NAME = SUBSTR（OBJECT_NAME，2）|| SUBSTR（OBJECT_NAME，1,1）</span>调用cpu经过磁盘查询当前行------- ------ -------- ---------- --- ------- ---------- ---------- ---------- Parse 1 0.00 0.00 0 0 0 0执行<span class="bold">1 1.30</span> 1.44 0 2166 75736 71825取0 0.00 0.00 0 0 0 0 ------- ------ -------- ---------- -------- -  ---------- ---------- ----------总计2 1.30 1.44 0 2166 75736 71825</pre><div class="example" id="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">
                           <p class="titleinexample">示例8-2批量SQL</p><pre class="oac_no_warn" dir="ltr">创建或替换程序批量AS类型ridArray是ROUID表; TYPE onameArray是表格t.object_name％TYPE; CURSOR c是SELECT ROWID rid，object_name <span class="bold">- 显式游标</span> FROM t t_bulk; l_rids ridArray; l_onames onameArray; N NUMBER：= 100; BEGIN OPEN c; <span class="bold">LOOP</span> FETCH c BULK COLLECT INTO l_rids，l_onames LIMIT N; <span class="bold">- 从</span> 1 ... l_rids中的<span class="bold">t</span> FOR i中<span class="bold">检索N行</span> 。COUNT LOOP <span class="bold">- 处理N行</span> l_onames（i）：= substr（l_onames（i），2）|| SUBSTR（l_onames（ⅰ），1,1）;结束循环; FORALL i in 1 .. l_rids.count <span class="bold">- 将已处理的行返回到t</span> UPDATE t SET object_name = l_onames（i）WHERE ROWID = l_rids（i）;退出时c％NOTFOUND; <span class="bold">结束循环;</span>关闭c;结束; /</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACCGHEI">
                           <p class="titleinexample">例8-3没有批量SQL</p><pre class="oac_no_warn" dir="ltr">CREATE或REPLACE PROCEDURE slow_by_slow AS BEGIN FOR x IN（SELECT rowid rid，object_name FROM t t_slow_by_slow）LOOP x.object_name：= substr（x.object_name，2）|| SUBSTR（x.object_name，1,1）; UPDATE t SET object_name = x.object_name WHERE rowid = x.rid;结束循环;结束;</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__GUID-CCFFCF01-8564-432A-AB10-8CA0B4AA81BF">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ADFNS343" target="_blank"><span class="italic">Oracle数据库开发指南</span></a> ，了解批量SQL的概述</p>
                              </li>
                              <li>
                                 <p>有关何时使用批量SQL的更具体信息，请<a href="../adfns/transaction-guard.html#ADFNS344" target="_blank"><span class="italic">参见“Oracle数据库开发指南”</span></a></p>
                              </li>
                              <li>
                                 <p>有关批量SQL的更多信息，请<a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS01205" target="_blank"><span class="italic">参见Oracle Database PL / SQL语言参考</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="某些PL / SQL功能可以帮助您提高应用程序的可伸缩性。">使用PL / SQL提高可伸缩性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="TDDDG99928"></a><div class="props_rev_3"><a id="GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" name="GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A"></a><h4 id="TDDDG-GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" class="sect4"><span class="enumeration_section">8.1.4</span>关于并发和可伸缩性</h4>
                  <div>
                     <p><strong class="term">并发</strong>是多个事务的同时执行。应用程序处理并发性越好，它的可伸缩性就越高。<strong class="term">可伸缩</strong>应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。
                     </p>
                     <p><strong class="term">并发</strong>是多个事务的同时执行。并发事务中的语句可以更新相同的数据。应用程序处理并发性越好，它的可伸缩性就越高。<strong class="term">可伸缩</strong>应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。例如，如果您将其工作负载加倍，则可伸缩应用程序将使用两倍的系统资源。
                     </p>
                     <p>并发事务必须产生有意义且一致的结果。因此，多用户数据库必须提供以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><strong class="term">数据并发</strong> ，确保用户可以同时访问数据。
                           </p>
                        </li>
                        <li>
                           <p><strong class="term">数据一致性</strong> ，确保每个用户都能看到一致的数据视图，包括他或她自己的事务和其他用户的已提交事务的可见更改</p>
                        </li>
                     </ul>
                     <p>Oracle数据库通过使用多版本一致性模型和各种类型的锁和事务隔离级别来维护数据一致性。有关Oracle数据库锁定机制的概述，请参阅<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT1331" target="_blank"><span class="italic">Oracle数据库概念</span></a> 。有关Oracle数据库事务隔离级别的概述，请参阅<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT621" target="_blank"><span class="italic">Oracle数据库概念</span></a> 。
                     </p>
                     <p>为了描述事务并发运行时的一致事务行为，数据库研究人员定义了一个名为<strong class="term">serializable</strong>的事务隔离类别。可<strong class="term">序列化事务</strong>在看似单用户数据库的环境中运行。在特定情况下，可序列化事务是可取的，但对于99％的工作负载，读取提交隔离是完美的。
                     </p>
                     <p>Oracle数据库具有提高并发性和可伸缩性的功能 - 例如，序列，锁存器，非阻塞读取和写入以及共享SQL。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54">关于序列和并发</a><br>序列消除了序列化，从而提高了应用程序的并发性和可伸缩性。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3">关于锁存和并发</a><br>锁存器的增加意味着更多基于并发的等待，因此可伸缩性降低。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-3AA5A96A-CE03-4A8D-B06D-2FE4AAE0B1DC">关于非阻塞读取和写入以及并发</a><br>在Oracle数据库中， <strong class="term">非阻塞读取和写入</strong>允许查询与它们正在读取的数据的更改同时执行，而不会阻塞或停止。非阻塞读取和写入允许一个会话读取数据，而另一个会话正在更改该数据。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF">关于共享SQL和并发</a><br>Oracle数据库将SQL语句编译为可执行对象一次，然后其他会话可以在对象存在的情况下重用该对象。此Oracle数据库功能（称为<strong class="term">共享SQL</strong> ）允许数据库执行非常耗费资源的操作 - 仅编译和优化SQL语句一次，而不是每次会话使用相同的SQL语句时。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A__GUID-70BFC6F0-F874-4141-A79F-9842A8253EAA">
                        <p class="notep1">也可以看看：</p>
                        <p>有关数据并发性和一致性的更多信息，请参阅<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT020" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。">构建可伸缩应用程序</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TDDDG277"></a><div class="props_rev_3"><a id="GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54" name="GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54"></a><h5 id="TDDDG-GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54" class="sect5"><span class="enumeration_section">8.1.4.1</span>关于序列和并发</h5>
                     <div>
                        <p>序列消除了序列化，从而提高了应用程序的并发性和可伸缩性。</p>
                        <p><strong class="term">序列</strong>是一个架构对象，多个用户可以从中生成唯一的整数，这在您需要唯一主键时非常有用。
                        </p>
                        <p>如果没有序列，则必须以编程方式生成唯一的主键值。用户通过选择最近生成的值并递增它来获取新的主键值。此技术需要在事务期间锁定并导致多个用户等待下一个主键值 - 即事务序列化。序列消除了序列化，从而提高了应用程序的并发性和可伸缩性。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54__GUID-1043D7F7-70AA-4896-B3B5-A1B522A279DA">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关并发访问序列的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=CNCPT88879" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="creating-managing-schema-objects.html#GUID-474CBF2A-BDBF-498E-98DA-16B59E4D8050" title="序列是模式对象，您可以从中生成唯一的顺序值，这在您需要唯一主键时非常有用。序列通过伪列CURRVAL和NEXTVAL使用，它们分别返回序列的当前值和下一个值。">创建和管理序列</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="并发是多个事务的同时执行。应用程序处理并发性越好，它的可伸缩性就越高。可伸缩应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。">关于并发和可伸缩性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG279"></a><div class="props_rev_3"><a id="GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3" name="GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3"></a><h5 id="TDDDG-GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3" class="sect5"><span class="enumeration_section">8.1.4.2</span>关于锁存和并发</h5>
                     <div>
                        <p>锁存器的增加意味着更多基于并发的等待，因此可伸缩性降低。</p>
                        <p><strong class="term">锁存器</strong>是一种简单的低级序列化机制，用于协调对共享数据结构的多用户访问。当多个进程访问时，锁存器可保护共享内存资源免受损坏。
                        </p>
                        <p>锁存器的增加意味着更多基于并发的等待，因此可伸缩性降低。如果您可以使用在开发期间运行速度稍快的方法或使用较少锁存器的方法，请使用后者。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3__GUID-66664CCF-CC07-4DD9-B9D2-D2653883FABF">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关锁存器的信息，请参见<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT1358" target="_blank"><span class="italic">Oracle数据库概念</span></a></p>
                              </li>
                              <li>
                                 <p>有关互斥锁的信息，请参阅<a href="../cncpt/data-concurrency-and-consistency.html#CNCPT88983" target="_blank"><span class="italic">Oracle数据库概念</span></a> ，互斥锁类似于单个对象的锁存器</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="并发是多个事务的同时执行。应用程序处理并发性越好，它的可伸缩性就越高。可伸缩应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。">关于并发和可伸缩性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG282"></a><div class="props_rev_3"><a id="GUID-3AA5A96A-CE03-4A8D-B06D-2FE4AAE0B1DC" name="GUID-3AA5A96A-CE03-4A8D-B06D-2FE4AAE0B1DC"></a><h5 id="TDDDG-GUID-3AA5A96A-CE03-4A8D-B06D-2FE4AAE0B1DC" class="sect5"><span class="enumeration_section">8.1.4.3</span>关于非阻塞读取和写入以及并发</h5>
                     <div>
                        <p>在Oracle数据库中， <strong class="term">非阻塞读取和写入</strong>允许查询与它们正在读取的数据的更改同时执行，而不会阻塞或停止。非阻塞读取和写入允许一个会话读取数据，而另一个会话正在更改该数据。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="并发是多个事务的同时执行。应用程序处理并发性越好，它的可伸缩性就越高。可伸缩应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。">关于并发和可伸缩性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG329"></a><div class="props_rev_3"><a id="GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF" name="GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF"></a><h5 id="TDDDG-GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF" class="sect5"><span class="enumeration_section">8.1.4.4</span>关于共享SQL和并发</h5>
                     <div>
                        <p>Oracle数据库将SQL语句编译为可执行对象一次，然后其他会话可以在对象存在的情况下重用该对象。此Oracle数据库功能（称为<strong class="term">共享SQL</strong> ）允许数据库执行非常耗费资源的操作 - 仅编译和优化SQL语句一次，而不是每次会话使用相同的SQL语句时。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF__GUID-4B5685CC-41F7-4111-B9F2-9A01F73DBAD4">
                           <p class="notep1">也可以看看：</p>
                           <p>有关共享SQL的更多信息，请<a href="../cncpt/memory-architecture.html#CNCPT1228" target="_blank"><span class="italic">参见Oracle数据库概念</span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="并发是多个事务的同时执行。应用程序处理并发性越好，它的可伸缩性就越高。可伸缩应用程序可以通过按比例增加系统资源使用来处理更大的工作负载。">关于并发和可伸缩性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="TDDDG99927"></a><div class="props_rev_3"><a id="GUID-5381A407-3D62-4675-816C-BBB6FE34587C" name="GUID-5381A407-3D62-4675-816C-BBB6FE34587C"></a><h4 id="TDDDG-GUID-5381A407-3D62-4675-816C-BBB6FE34587C" class="sect4"><span class="enumeration_section">8.1.5</span>限制并发会话数</h4>
                  <div>
                     <p>您拥有的并发会话越多，您拥有的并发等待越多，响应时间就越慢。</p>
                     <p>如果您的计算机有<span class="italic">n个</span> CPU核心，那么最多<span class="italic">n个</span>会话实际上可以同时处于活动状态。每个额外的“并发”会话必须等待CPU核心可用才能变为活动状态。如果某些等待会话仅等待I / O，则将并发会话数增加到略多于<span class="italic">n</span>可能会略微提高运行时性能。但是，过多增加并发会话数将显着降低运行时性能。
                     </p>
                     <p><span class="keyword">SESSIONS</span>初始化参数确定系统中的最大并发用户数。有关详细信息，请参阅<a href="../refrn/SESSIONS.html#REFRN10197" target="_blank"><span class="italic">Oracle Database Reference</span></a> 。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5381A407-3D62-4675-816C-BBB6FE34587C__GUID-1B60D621-6589-41B9-A345-9B685B219751">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="http://www.youtube.com/watch?v=xNDnVOCdvQ0" target="_blank"><code class="codeph">http://www.youtube.com/watch?v=xNDnVOCdvQ0</code></a>用于显示减少12个CPU核心数千到96个计算机上的并发会话数的效果的视频</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。">构建可伸缩应用程序</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG323"></a><div class="props_rev_4"><a id="GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" name="GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA"></a><h4 id="TDDDG-GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" class="sect4"><span class="enumeration_section">8.1.6</span>将编程技术与Runstats进行比较</h4>
                  <div>
                     <p>Runstats工具可以让您比较两种编程技术的性能，看看哪种更好。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8">关于Runstats</a><br>Runstats工具可以让您比较两种编程技术的性能，看看哪种更好。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23">设置Runstats</a><br>Runstats工具实现为使用视图和临时表的包。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA">使用Runstats</a><br>本主题提供了使用Runstats工具的语法。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。">构建可伸缩应用程序</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TDDDG327"></a><div class="props_rev_3"><a id="GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8" name="GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8"></a><h5 id="TDDDG-GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8" class="sect5"><span class="enumeration_section">8.1.6.1</span>关于RUNSTATS</h5>
                     <div>
                        <p>Runstats工具可以让您比较两种编程技术的性能，看看哪种更好。</p>
                        <p>Runstats措施：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>每个技术的经过时间，以百分之一秒（hsec）为单位</p>
                           </li>
                           <li>
                              <p>第一种技术的经过时间占第二种技术的百分比</p>
                           </li>
                           <li>
                              <p>两种技术的系统统计信息（例如，解析调用）</p>
                           </li>
                           <li>
                              <p>锁定这两种技术</p>
                           </li>
                        </ul>
                        <p>在前面的测量中，最重要的是锁存（参见<span class="q">“ <a href="building-effective-applications.html#GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3" title="锁存器的增加意味着更多基于并发的等待，因此可伸缩性降低。">关于锁存和并发</a> ”</span> ）。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8__GUID-C995D80B-2EF6-4635-A031-962A1D1C48D5">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">例8-1</a> ，它使用Runstats</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" title="Runstats工具可以让您比较两种编程技术的性能，看看哪种更好。">将编程技术与Runstats进行比较</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG328"></a><a id="TDDDG324"></a><div class="props_rev_3"><a id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23" name="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23"></a><h5 id="TDDDG-GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23" class="sect5"><span class="enumeration_section">8.1.6.2</span>设置Runstats</h5>
                     <div>
                        <p>Runstats工具实现为使用视图和临时表的包。</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__GUID-FDF7ACC4-6992-42D3-84C8-359975E1939D">
                              <p class="notep1">注意：</p>
                              <p>对于以下过程的步骤<a href="building-effective-applications.html#GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__BACGFDGF">1</a> ，您需要动态性能视图<span class="keyword">V $ STATNAME</span> ， <span class="keyword">V $ MYSTAT</span>和<span class="keyword">V $ LATCH</span>的<span class="keyword">SELECT</span>权限。如果您无法获得此权限，则让拥有该权限的人在步骤<a href="building-effective-applications.html#GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__BACGFDGF">1中</a>创建该视图并授予您对该权限的<span class="keyword">SELECT</span>权限。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__GUID-369C1975-A3BB-4598-A200-CF188B7935B0">要设置Runstats工具：</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand" id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__BACGFDGF"><span>创建Runstats使用的视图：</span><div><pre class="oac_no_warn" dir="ltr">创建或替换视图统计数据选择'STAT ...'|| a.name name，b.value FROM V $ STATNAME a，V $ MYSTAT b WHERE a.statistic＃= b.statistic #UNION ALL SELECT'LATCH。 ||名字，来自V $ LATCH;</pre></div>
                           </li>
                           <li class="stepexpand"><span>创建Runstats使用的临时表：</span><div><pre class="oac_no_warn" dir="ltr">DROP TABLE run_stats; CREATE GLOBAL TEMPORARY TABLE run_stats（runid VARCHAR2（15），name VARCHAR2（80），value INT）ON COMMIT PRESERVE ROWS;</pre></div>
                           </li>
                           <li class="stepexpand"><span>创建此包规范：</span><div><pre class="oac_no_warn" dir="ltr">创建或替换包运行runstats_pkg AS程序rs_start;程序rs_middle;程序rs_stop（p_difference_threshold IN NUMBER DEFAULT 0）;结束; /</pre><p>参数<span class="parmname" translate="no">p_difference_threshold</span>控制Runstats显示的统计数据和锁存数据。仅当两种技术的差异大于<span class="parmname" translate="no">p_difference_threshold</span>时，Runstats才会显示数据。默认情况下，Runstats显示所有数据。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>创建这个包体：</span><div><pre class="oac_no_warn" dir="ltr">创建或替换包装体runstats_pkg AS g_start NUMBER; g_run1 NUMBER; g_run2 NUMBER;程序rs_start是从run_stats开始删除; INSERT INTO run_stats SELECT'before'，stats。* FROM stats; g_start：= DBMS_UTILITY.GET_TIME; END rs_start;程序rs_middle IS BEGIN g_run1：=（DBMS_UTILITY.GET_TIME  -  g_start）; INSERT INTO run_stats SELECT'1'后'，stats。* FROM stats; g_start：= DBMS_UTILITY.GET_TIME; END rs_middle;程序rs_stop（p_difference_threshold IN NUMBER DEFAULT 0）是BEGIN g_run2：=（DBMS_UTILITY.GET_TIME  -  g_start）; DBMS_OUTPUT.PUT_LINE（'运行1在'|| g_run1 ||'hsec'中运行）; DBMS_OUTPUT.PUT_LINE（'Run 2'in'|| g_run2 ||'hsec'）; DBMS_OUTPUT.PUT_LINE（'运行1运行'|| round（g_run1 / g_run2 * 100,2）||'运行时间的％''）; DBMS_OUTPUT.PUT_LINE（CHR（9））; INSERT INTO run_stats SELECT''2'之后，统计数据。* FROM stats; DBMS_OUTPUT.PUT_LINE（RPAD（'Name'，30）|| LPAD（'Run 1'，14）|| LPAD（'Run 2'，14）|| LPAD（'Difference'，14））; FOR x IN（SELECT RPAD（a.name，30）|| TO_CHAR（b.value  -  a.value，'9,999,999,999'）|| TO_CHAR（c.value  -  b.value，'9,999,999,999'）|| TO_CHAR（（ （c.value  -  b.value） - （b.value  -  a.value）），'9,999,999,999'）数据FROM run_stats a，run_stats b，run_stats c WHERE a.name = b.name AND b.name = c。 name AND a.runid ='before'AND b.runid ='after 1'AND c.runid ='after 2'AND（c.value  -  a.value）&gt; 0 AND abs（（c.value  -  b.value ） - （b.value  -  a.value））&gt; p_difference_threshold ORDER BY ABS（（c.value  -  b.value） - （b.value  -  a.value）））LOOP DBMS_OUTPUT.PUT_LINE（x.data）;结束循环; DBMS_OUTPUT.PUT_LINE（CHR（9））; DBMS_OUTPUT.PUT_LINE（'运行1锁存总数与运行2相比 - 差异和百分比'）; DBMS_OUTPUT.PUT_LINE（LPAD（'Run 1'，14）|| LPAD（'Run 2'，14）|| LPAD（'Diff'，14）|| LPAD（'Pct'，10））; FOR x IN（选择TO_CHAR（run1，'9,999,999,999'）|| TO_CHAR（run2，'9,999,999,999'）|| TO_CHAR（diff，'9,999,999,999'）|| TO_CHAR（ROUND（g_run1 / g_run2 * 100,2），'99,999.99 '）||'％'数据FROM（SELECT SUM（b.value  -  a.value）run1，SUM（c.value  -  b.value）run2，SUM（（c.value  -  b.value） - （b。 value  -  a.value））diff FROM run_stats a，run_stats b，run_stats c WHERE a.name = b.name AND b.name = c.name AND a.runid ='before'AND b.runid ='after 1' AND c.runid ='在'2之后'和a.name之类的'LATCH％'））LOOP DBMS_OUTPUT.PUT_LINE（x.data）;结束循环; END rs_stop;结束; /</pre></div>
                           </li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__GUID-A81308B1-2977-4FE9-A269-9917C9DA497B">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="creating-managing-schema-objects.html#GUID-31755C84-1EE1-41FF-9EC8-FD8CDE2D5BC1" title="要创建视图，请使用SQL Developer工具Create View或DDL语句CREATE VIEW。">创建视图</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="creating-managing-schema-objects.html#GUID-87AA2B05-2B7B-49D9-AD21-1B2877113D23" title="要创建表，请使用SQL Developer工具Create Table或DDL语句CREATE TABLE。">创建表</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="stored-subprograms-packages.html#GUID-B781B764-7A16-43A4-B3E7-310F2D53AFDA" title="本教程介绍如何使用“创建包”工具为名为EMP_EVAL的包创建规范，该包出现在本文档的许多教程和示例中。">教程：创建包规范</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="stored-subprograms-packages.html#GUID-056688EF-E8CD-4215-A832-D004ABFB993C" title="本教程介绍如何使用Create Body工具为EMP_EVAL包创建一个主体，该主题出现在本文档的许多示例和教程中。">教程：创建包体</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关动态性能视图的信息，请参阅<a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" title="Runstats工具可以让您比较两种编程技术的性能，看看哪种更好。">将编程技术与Runstats进行比较</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG325"></a><div class="props_rev_3"><a id="GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA" name="GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA"></a><h5 id="TDDDG-GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA" class="sect5"><span class="enumeration_section">8.1.6.3</span>使用Runstats</h5>
                     <div>
                        <p>本主题提供了使用Runstats工具的语法。</p>
                        <div class="section">
                           <p>要使用Runstats比较两种编程技术，请使用以下语法从匿名块调用runstats_pkg过程：</p><pre class="oac_no_warn" dir="ltr">[DECLARE <span class="italic">local_declarations</span> ] BEGIN <span class="bold">runstats_pkg.rs_start;</span> <span class="italic">code_for_first_technique</span> <span class="bold">runstats_pkg.rs_middle;</span> <span class="italic">code_for_second_technique</span> <span class="bold">runstats_pkg.rs_stop（</span> <span class="italic"><span class="bold"><code class="codeph">n</code></span></span> <span class="bold">）;</span>结束; /</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA__GUID-AFC7A3E2-5EBE-4DFD-A5FD-849FE9336512">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">例8-1</a> ，它使用Runstats</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" title="Runstats工具可以让您比较两种编程技术的性能，看看哪种更好。">将编程技术与Runstats进行比较</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9" name="GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9"></a><h4 id="TDDDG-GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9" class="sect4"><span class="enumeration_section">8.1.7</span>实际性能和数据处理技术</h4>
                  <div>
                     <p>数据仓库环境中的数据库应用程序中的常见任务是查询或修改庞大的数据集。应用程序开发人员面临的问题是如何在处理大型数据集时实现高性能。</p>
                     <p>处理技术分为两类：迭代和基于集合。经过多年的测试，Real-World Performance小组发现<span class="bold">基于集合的处理技术可以更好地</span>处理处理大型数据集的数据库应用程序。
                     </p>
                     <p>本主题包括以下主要子主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A">关于迭代数据处理</a><br>在迭代处理中，应用程序使用条件逻辑来遍历一组行。
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-FF4D4809-066C-4947-9061-BD820705D59B">关于基于集合的处理</a><br>基于集合的处理是一种处理数据库内数据集的SQL技术。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="设计应用程序以使用相同的资源，无论用户群和数据量如何，都不会使系统资源过载。">构建可伸缩应用程序</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A" name="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A"></a><h5 id="TDDDG-GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A" class="sect5"><span class="enumeration_section">8.1.7.1</span>关于迭代数据处理</h5>
                     <div>
                        <p>在迭代处理中，应用程序使用条件逻辑来遍历一组行。</p>
                        <p>通常，尽管不一定，迭代处理使用客户端/服务器模型，如下所示：</p>
                        <ol>
                           <li>
                              <p>将一组行从数据库服务器传输到客户端应用程序。</p>
                           </li>
                           <li>
                              <p>在客户端应用程序中处理该组。</p>
                           </li>
                           <li>
                              <p>将已处理的组传回数据库服务器。</p>
                           </li>
                        </ol>
                        <p>您可以使用三种主要技术实现迭代算法：逐行处理，数组处理和手动并行。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A__GUID-8776E719-03B6-46D4-A9FD-DBBD022B01C1"><span class="bold">迭代处理：逐行</span></p>
                           <p>在逐行处理中，单个进程循环遍历数据集并且一次在单行上操作。在典型的实现中，应用程序从数据库中检索每一行，在中间层处理它，然后将该行发送回数据库，该数据库执行DML并提交。</p>
                           <p>假设您的功能要求是查询名为ext_scan_events的外部表，然后将其行插入名为stage1_scan_events的堆组织的临时表中。以下PL / SQL块使用逐行技术来满足此要求：</p><pre class="pre codeblock"><code>声明光标c是从ext_scan_events s中选择s。*; RC％ROWTYPE;开始c;循环获取c到r; c％未发现时退出;插入stage1_scan_events d值r;承诺;结束循环;关闭c;结束;</code></pre><p>逐行技术具有以下优点：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>它在小型数据集上表现良好。</p>
                              </li>
                              <li>
                                 <p>循环算法对所有专业开发人员来说都很熟悉，易于编写，易于理解。</p>
                              </li>
                           </ul>
                           <p>逐行技术具有以下缺点：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对于大型数据集，处理时间可能长得令人无法接受。</p>
                              </li>
                              <li>
                                 <p>应用程序串行执行，因此无法利用在现代硬件上运行的Oracle数据库的本机并行处理功能。</p>
                              </li>
                           </ul>
                           <p>另请参见：RWP＃7基于集合的处理</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A__GUID-70C46836-26D8-42CF-A6CB-5848B7465AB4"><span class="bold">迭代处理： <span class="bold">数组</span></span></p>
                           <p>数组处理与逐行处理相同，只是它在每次迭代中处理一组行而不是单行。</p>
                           <p>假设您的功能需求与示例XX中的相同：查询名为ext_scan_events的外部表，然后将其行插入名为stage1_scan_events的堆组织的临时表中。以下PL / SQL块使用数组技术来满足此要求：</p><pre class="pre codeblock"><code>声明光标c是从ext_scan_events s中选择s。*; type t是binary_integer的c％rowtype index表;在; rows binary_integer：= 0;开始c; loop fetch c bulk collect into limit array_size;当a.count = 0时退出; foall i in 1..a.count insert into stage1_scan_events d values a（i）;承诺;结束循环;关闭c;结束;</code></pre><p>前面的代码与FETCH STATEMENT中使用BULK COLLECT运算符的等效逐行代码不同，后者受PLS_INTEGER类型的<code class="codeph">array_size</code>值的限制。例如，如果<code class="codeph">array_size</code>设置为100，则应用程序将以100为一组获取行。
                           </p>
                           <p>与逐行技术相比，阵列技术具有以下优点：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>该阵列使应用程序能够同时处理一组行，这意味着它可以减少网络往返，COMMIT时间以及客户端和服务器中的代码路径。</p>
                              </li>
                              <li>
                                 <p>数据库更有效，因为服务器进程批量插入，并在每组插入之后而不是在每次插入之后提交。</p>
                              </li>
                           </ul>
                           <p>该技术的缺点与逐行处理相同。处理时间对于大型数据集来说是不可接受的。此外，应用程序必须在单个CPU内核上串行运行，因此无法利用Oracle数据库的本机并行性。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A__GUID-D3C83919-3B21-4F1C-9CC5-AEC60A7296A0"><span class="bold">迭代处理： <span class="bold">手动并行</span></span></p>
                           <p>手动并行使用与逐行和数组处理相同的迭代算法，但允许多个服务器进程分割工作并并行运行。</p>
                           <p>假设功能要求与逐行和数组示例相同。主要区别如下：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>扫描事件记录存储在大量平面文件中。</p>
                              </li>
                              <li>
                                 <p>32个服务器进程必须并行运行，每个服务器进程查询不同的外部表。</p>
                              </li>
                              <li>
                                 <p>您可以通过执行同一PL / SQL程序的32个线程来使用PL / SQL来实现并行性，每个线程同时作为Oracle Scheduler管理的单独作业运行。工作是计划和计划的组合。</p>
                              </li>
                           </ul>
                           <p>以下PL / SQL代码使用手动并行：</p><pre class="pre codeblock"><code>声明sqlstmt varchar2（1024）：= q'[ -  BEGIN嵌入式匿名块游标c是从ext_scan_events _ $ {thr} s中选择s。*; type t是binary_integer的c％rowtype index表;在; rows binary_integer：= 0;以r开头（从ext_scan_events_dets中选择ext_file_name，其中ora_hash（file_seq_nbr，$ {thrs}）= $ {thr}）循环执行立即'alter table ext_scan_events _ $ {thr} location'|| '（'|| r.ext_file_name ||'）';打开c; loop fetch c bulk collect into limit $ {array_size};当a.count = 0时退出; foall i in 1..a.count insert into stage1_scan_events d values a（i）;承诺; -  demo instrumentation rows：= rows + a.count;如果rows&gt; 1e3则在没有sd_control.p_progress（'loading'，'userdefined'，rows）时退出; rows：= 0;万一;结束循环;关闭c;结束循环;结束; -  END嵌入匿名块]'; begin sqlstmt：= replace（sqlstmt，'$ {array_size}'，to_char（array_size））; sqlstmt：= replace（sqlstmt，'$ {thr}'，thr）; sqlstmt：= replace（sqlstmt，'$ {thrs}'，thrs）;执行立即sqlstmt;结束;</code></pre><p>ORA_HASH函数将ext_scan_events_dets表划分为32个均匀分布的存储桶，然后SELECT语句检索存储桶0的文件名。对于存储桶中的每个文件名，程序会将外部表的位置设置为此文件名。然后，程序使用批处理来查询外部表，插入到临时表中，然后提交。</p>
                           <p>当作业1正在执行时，其他31个Oracle Scheduler作业并行执行。通过这种方式，每个作业同时读取扫描事件文件的不同子集，并将记录从其子集插入到同一个登台表中。</p>
                           <p>与其他迭代技术相比，手动并行技术具有以下优点：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>它在大型数据集上的表现要好得多，因为服务器进程并行工作。</p>
                              </li>
                              <li>
                                 <p>当应用程序使用ORA_HASH分配工作负载时，每个执行线程都可以访问相同数量的数据，这意味着并行进程可以同时完成。</p>
                              </li>
                           </ul>
                           <p>手动并行技术具有以下缺点：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>代码相对冗长，复杂且难以理解。</p>
                              </li>
                              <li>
                                 <p>在数据库开始主要工作之前，应用程序必须执行一定量的准备工作，主要工作是并行处理行。</p>
                              </li>
                              <li>
                                 <p>如果多个线程对一组公共数据库对象执行相同的操作，则可以进行锁定和锁存争用。</p>
                              </li>
                              <li>
                                 <p>与竞争迭代技术相比，并行处理消耗大量CPU资源。</p>
                              </li>
                           </ul>
                           <p>另请参见：RWP＃8：基于集合的并行处理</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9" title="数据仓库环境中的数据库应用程序中的常见任务是查询或修改庞大的数据集。应用程序开发人员面临的问题是如何在处理大型数据集时实现高性能。">实际性能和数据处理技术</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-FF4D4809-066C-4947-9061-BD820705D59B" name="GUID-FF4D4809-066C-4947-9061-BD820705D59B"></a><h5 id="TDDDG-GUID-FF4D4809-066C-4947-9061-BD820705D59B" class="sect5"><span class="enumeration_section">8.1.7.2</span>关于基于集的处理</h5>
                     <div>
                        <p>基于集合的处理是一种处理数据库内数据集的SQL技术。</p>
                        <p>在基于集合的模型中，SQL语句定义结果，并允许数据库确定获取它的最有效方法。相反，迭代算法使用条件逻辑将每行或每组行从数据库拉到客户端应用程序，处理客户端上的数据，然后将数据发送回数据库。基于集合的处理消除了网络往返和数据库API开销，因为数据永远不会离开数据库。</p>
                        <p>假设与前面的例子中相同的功能要求。以下SQL语句使用基于集合的算法满足此要求：</p><pre class="pre codeblock"><code>alter session enable parallel dml;插入/ * + APPEND * / into stage1_scan_events d从ext_scan_events s中选择s。*;承诺;</code></pre><p>由于INSERT语句包含ext_scan_events表的子查询，因此<span class="italic">单个</span> SQL语句将读取和写入所有行。此外，应用程序在数据库插入所有行后执行<span class="italic">单个</span> COMMIT。相反，迭代应用程序在插入每行或每组行之后执行COMMIT。
                        </p>
                        <p>基于集合的技术与迭代技术相比具有明显的优势：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>正如在真实世界性能演示和类中所证明的那样，大型数据集的性能要快几个数量级。程序的运行时间从几小时降到几秒并不罕见。</p>
                           </li>
                           <li>
                              <p>处理速度的数量级增加的副作用是DBA可以实时消除长时间运行且容易出错的批处理作业和无聊的业务流程。</p>
                           </li>
                           <li>
                              <p>代码的长度明显更短，只需要两到三行代码，因为SQL定义了结果而不是访问方法。</p>
                           </li>
                           <li>
                              <p>与手动并行性相比，并行DML针对性能进行了优化，因为数据库而不是应用程序管理进程。</p>
                           </li>
                           <li>
                              <p>加入数据集时，数据库会自动使用高效的散列连接，而不是相对低效的应用程序级循环。</p>
                           </li>
                           <li>
                              <p>APPEND提示强制直接路径加载，这意味着数据库不会创建重做和撤消，从而避免浪费I / O和CPU。</p>
                           </li>
                        </ul>
                        <p>基于集合的处理确实存在一些潜在的缺点：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>许多数据库开发人员都不熟悉这些技术，因此它们可能更难。</p>
                           </li>
                           <li>
                              <p>因为基于集合的模型与迭代模型完全不同，所以更改它需要完全重写源代码。</p>
                           </li>
                        </ul>
                        <p>另请参见：RWP＃7基于集合的处理，RWP＃8：基于集合的并行处理，RWP＃9：基于集合的处理 - 重复数据删除，RWP＃10：基于集合的处理 - 数据转换和RWP＃ 11：基于集合的处理 - 数据聚合</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9" title="数据仓库环境中的数据库应用程序中的常见任务是查询或修改庞大的数据集。应用程序开发人员面临的问题是如何在处理大型数据集时实现高性能。">实际性能和数据处理技术</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="TDDDG99926"></a><div class="props_rev_4"><a id="GUID-1E354949-D957-4C58-8670-92E11B928CD1" name="GUID-1E354949-D957-4C58-8670-92E11B928CD1"></a><h3 id="TDDDG-GUID-1E354949-D957-4C58-8670-92E11B928CD1" class="sect3"><span class="enumeration_section">8.2</span>推荐的编程实践</h3>
               <div>
                  <p>使用以下推荐的编程实践。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A">使用仪器包</a><br>Oracle数据库提供的检测包，其子程序允许应用程序在必要时生成跟踪信息。使用此跟踪信息，您可以在不使用调试器的情况下调试应用程序，并识别性能不佳的代码。
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0">统计收集和应用程序跟踪</a><br>数据库统计信息提供有关数据库上的负载类型以及数据库使用的内部和外部资源的信息。要使用ADDM准确诊断数据库的性能问题，必须提供统计信息。
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-681449ED-4B87-4434-9D57-1642BE5F6134">使用现有功能</a><br>使用现有功能的应用程序比不使用现有功能的应用程序更容易开发和维护，而且运行速度也更快。
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-15E13CE8-9E37-40DE-B259-89E82C92FA03">使用版本视图覆盖数据库表</a><br>如果您的应用程序使用数据库表，则使用版本视图覆盖每个表，以便您可以使用基于版本的重新定义（EBR）在应用程序使用时升级其数据库组件，从而最大限度地减少或消除停机时间。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" title="有效的应用程序是可扩展的，并使用推荐的编程和安">构建有效的应用程序</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99925"></a><div class="props_rev_3"><a id="GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A" name="GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A"></a><h4 id="TDDDG-GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A" class="sect4"><span class="enumeration_section">8.2.1</span>使用仪表包</h4>
                  <div>
                     <p>Oracle数据库提供的检测包，其子程序允许应用程序在必要时生成跟踪信息。使用此跟踪信息，您可以在不使用调试器的情况下调试应用程序，并识别性能不佳的代码。</p>
                     <p>Instrumentation为您的应用程序提供了相当多的功能因此，它不是开销。开销是您可以删除而不会失去太多好处的东西。</p>
                     <p>Oracle数据库提供的一些检测包是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>DBMS_APPLICATION_INFO，使系统管理员能够按模块跟踪应用程序的性能。</p>
                           <p>有关DBMS_APPLICATION_INFO的详细信息，请参阅<a href="../arpls/DBMS_APPLICATION_INFO.html#ARPLS003" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>DBMS_SESSION，它使您的应用程序能够访问会话信息并设置首选项和安全级别</p>
                           <p>有关DBMS_SESSION的详细信息，请参阅<a href="../arpls/DBMS_SESSION.html#ARPLS054" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p>UTL_FILE，它使您的应用程序能够读写操作系统文本文件</p>
                           <p>有关UTL_FILE的更多信息，请参阅<a href="../arpls/UTL_FILE.html#ARPLS069" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A__GUID-E4C7C11B-9E90-4538-B2C6-2BAE008E0D3E">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/introduction-to-oracle-supplied-plsql-packages-and-types.html#ARPLS139" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> ，提供Oracle数据库提供的PL / SQL包的摘要</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1" title="使用以下推荐的编程实践。">推荐的编程实践</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG99924"></a><div class="props_rev_3"><a id="GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0" name="GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0"></a><h4 id="TDDDG-GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0" class="sect4"><span class="enumeration_section">8.2.2</span>统计信息收集和应用跟踪</h4>
                  <div>
                     <p>数据库统计信息提供有关数据库上的负载类型以及数据库使用的内部和外部资源的信息。要使用ADDM准确诊断数据库的性能问题，必须提供统计信息。</p>
                     <p>有关统计信息收集的信息，请参阅<a href="../tdppt/oracle-database-performance-method.html#TDPPT007" target="_blank"><span class="italic">Oracle Database 2 Day +性能调整指南</span></a> 。
                     </p>
                     <div class="infoboxnote" id="GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0__GUID-25C33ED5-748D-46B1-A859-EB013A75E478">
                        <p class="notep1">注意：</p>
                        <p>如果Oracle Enterprise Manager不可用，则可以使用DBMS_MONITOR子程序收集统计信息，如<a href="../arpls/DBMS_MONITOR.html#ARPLS091" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考中所述</span></a> 。
                        </p>
                     </div>
                     <p>Oracle数据库提供了多种跟踪工具，可以帮助您监视和分析Oracle数据库应用程序。有关详细信息，请参见“ <a href="../tgsql/performing-application-tracing.html#TGSQL791" target="_blank"><span class="italic">Oracle数据库SQL调优指南”</span></a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1" title="使用以下推荐的编程实践。">推荐的编程实践</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG281"></a><a id="TDDDG99922"></a><div class="props_rev_3"><a id="GUID-681449ED-4B87-4434-9D57-1642BE5F6134" name="GUID-681449ED-4B87-4434-9D57-1642BE5F6134"></a><h4 id="TDDDG-GUID-681449ED-4B87-4434-9D57-1642BE5F6134" class="sect4"><span class="enumeration_section">8.2.3</span>使用现有功能</h4>
                  <div>
                     <p>使用现有功能的应用程序比不使用现有功能的应用程序更容易开发和维护，而且运行速度也更快。</p>
                     <p>在开发应用程序时，请尽可能使用编程语言，操作系统，Oracle数据库的现有功能以及Oracle数据库提供的PL / SQL包和类型。</p>
                     <p>许多开发人员重新发明的现有功能的示例如下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold">约束</span></p>
                           <p>有关约束的介绍性信息，请参阅<span class="q">“ <a href="creating-managing-schema-objects.html#GUID-144C564C-0B08-40BF-9AC9-3035CFD03F66" title="要确保表中的数据满足应用程序建模的业务规则，可以使用约束，应用程序逻辑或两者。">确保表中的数据完整性</a> ”。</span></p>
                        </li>
                        <li>
                           <p><span class="bold">SQL函数</span> （“内置于”SQL中的函数）</p>
                           <p>有关SQL函数的信息，请参见<a href="../sqlrf/Functions.html#SQLRF006" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">序列</span> （可以生成唯一的顺序值）</p>
                           <p>请参阅<span class="q">“ <a href="creating-managing-schema-objects.html#GUID-474CBF2A-BDBF-498E-98DA-16B59E4D8050" title="序列是模式对象，您可以从中生成唯一的顺序值，这在您需要唯一主键时非常有用。序列通过伪列CURRVAL和NEXTVAL使用，它们分别返回序列的当前值和下一个值。">创建和管理序列</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">审计</span> （监视和记录所选用户数据库操作）</p>
                           <p>有关审核的介绍性信息，请参阅“ <a href="../dbseg/introduction-to-auditing.html#DBSEG-GUID-94381464-53A3-421B-8F13-BD171C867405" target="_blank"><span class="italic">Oracle数据库安全指南”</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">复制</span> （在包含分布式数据库系统的多个数据库中复制和维护数据库对象（如表）的过程）</p>
                           <p>有关复制的信息，请参阅Oracle GoldenGate文档。</p>
                        </li>
                        <li>
                           <p><span class="bold">消息队列</span> （基于Web的业务应用程序如何相互通信）</p>
                           <p>有关Oracle数据库高级队列（AQ）的介绍性信息，请参阅“ <a href="../adque/aq-introduction.html#ADQUE0100" target="_blank"><span class="italic">Oracle数据库高级队列用户指南”</span></a> 。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">保持记录变更的历史</span></p>
                           <p>有关Workspace Manager的介绍性信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ADWSM010" target="_blank"><span class="italic">Oracle Database Workspace Manager Developer's Guide</span></a> 。
                           </p>
                        </li>
                     </ul>
                     <p>在<a href="building-effective-applications.html#GUID-681449ED-4B87-4434-9D57-1642BE5F6134__BACGDEFE">例8-4中</a> ，两个并发事务使存储在表中的消息出列（即，每个事务查找并锁定表的下一个未处理行）。该示例不是简单地调用DBMS_AQ.DEQUEUE过程（在<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ARPLS098" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考中描述</span></a> ），而是在表上创建基于函数的索引，然后在每个事务中使用该函数来检索行并显示消息。
                     </p>
                     <p><a href="building-effective-applications.html#GUID-681449ED-4B87-4434-9D57-1642BE5F6134__BACGDEFE">例8-4中</a>的代码实现了类似于DBMS_AQ.DEQUEUE调用的功能，但功能较少。使用现有功能（在本例中为基于函数的索引）节省的开发时间可能很长。
                     </p>
                     <div class="example" id="GUID-681449ED-4B87-4434-9D57-1642BE5F6134__BACGDEFE">
                        <p class="titleinexample">例8-4并发出列事务</p>
                        <p>创建表格：</p><pre class="oac_no_warn" dir="ltr">DROP TABLE t; CREATE TABLE t（id NUMBER PRIMARY KEY，processed_flag VARCHAR2（1），payload VARCHAR2（20））;</pre><p><span class="bold">在表上创建索引：</span></p><pre class="oac_no_warn" dir="ltr">CREATE INDEX t_idx ON t（DECODE（processed_flag，'N'，'N'））;</pre><p>填充表格：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO t SELECT r，MODE（r，2）= 0时的情况那么'N'ELSE'Y'END，'payload'|| r FROM（选择级别来自双级连接&lt;= 5）;</pre><p>显示表：</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM t;</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">ID P PAYLOAD ----------  -  -------------------- 1 Y payload 1 2 N payload 2 3 Y payload 3 4 N payload 4 5 Y有效载荷5 5行选择。
</pre><p><span class="bold">第一笔交易：</span></p><pre class="oac_no_warn" dir="ltr">DECLARE l_rec t％ROWTYPE; CURSOR c IS SELECT * FROM t WHERE DECODE（processed_flag，'N'，'N'）='N'FOR UPDATE SKIP LOCKED; BEGIN OPEN c; FETCH c INTO l_rec; IF（c％FOUND）那么DBMS_OUTPUT.PUT_LINE（'得到行'|| l_rec.id ||'，'|| l_rec.payload）;万一;关闭c;结束; /</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">得到第2行，有效载荷2</pre><p><span class="bold">并发交易：</span></p><pre class="oac_no_warn" dir="ltr">DECLARE <span class="bold">PRAGMA AUTONOMOUS_TRANSACTION;</span> l_rec t％ROWTYPE; CURSOR c IS SELECT * FROM t WHERE DECODE（processed_flag，'N'，'N'）='N'FOR UPDATE SKIP LOCKED; BEGIN OPEN c; FETCH c INTO l_rec; IF（c％FOUND）那么DBMS_OUTPUT.PUT_LINE（'得到行'|| l_rec.id ||'，'|| l_rec.payload）;万一;关闭c;承诺;结束; /</pre><p>结果：</p><pre class="oac_no_warn" dir="ltr">得到第4行，有效载荷4</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-681449ED-4B87-4434-9D57-1642BE5F6134__GUID-496A3D86-1787-4C06-A1B8-D9BC4B7F0E46">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="../newft/index.html" target="_blank"><span class="italic">Oracle数据库新增功能指南</span></a> （每个版本）</p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=CNCPT" target="_blank"><span class="italic">Oracle数据库概念</span></a> （每个版本）</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1" title="使用以下推荐的编程实践。">推荐的编程实践</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG151"></a><div class="props_rev_3"><a id="GUID-15E13CE8-9E37-40DE-B259-89E82C92FA03" name="GUID-15E13CE8-9E37-40DE-B259-89E82C92FA03"></a><h4 id="TDDDG-GUID-15E13CE8-9E37-40DE-B259-89E82C92FA03" class="sect4"><span class="enumeration_section">8.2.4</span>使用版本视图覆盖数据库表</h4>
                  <div>
                     <p>如果您的应用程序使用数据库表，则使用版本视图覆盖每个表，以便您可以使用基于版本的重新定义（EBR）在应用程序使用时升级其数据库组件，从而最大限度地减少或消除停机时间。</p>
                     <p>有关基于版本的重新定义的信息，请参阅“ <a href="../adfns/editions.html#ADFNS020" target="_blank"><span class="italic">Oracle数据库开发指南”</span></a> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1" title="使用以下推荐的编程实践。">推荐的编程实践</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG152"></a><div class="props_rev_3"><a id="GUID-32FBC335-6B08-4B50-B039-06BB9F500908" name="GUID-32FBC335-6B08-4B50-B039-06BB9F500908"></a><h3 id="TDDDG-GUID-32FBC335-6B08-4B50-B039-06BB9F500908" class="sect3"><span class="enumeration_section">8.3</span>推荐的安全实践</h3>
               <div>
                  <p>在为组成应用程序的模式对象授予权限时，请使用<strong class="term">最小权限原则</strong> 。
                  </p>
                  <p>也就是说，应该为用户和中间层提供执行其操作所需的最少权限，以减少无意或恶意未授权活动的危险。</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-32FBC335-6B08-4B50-B039-06BB9F500908__GUID-98743123-C530-4DE0-9862-B41663CDEBE1">
                     <p class="notep1">也可以看看：</p>
                     <p><span class="q">“ <a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606" title="正确使用的绑定变量可让您开发高效，可伸缩的应用程序。">使用绑定变量提高可伸缩性</a> ”</span>有关使用绑定变量而不是字符串文字的信息，这是使代码无法受到SQL注入攻击的最有效方法</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="building-effective-applications.html#GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" title="有效的应用程序是可扩展的，并使用推荐的编程和安">构建有效的应用程序</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="13367.manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture."></meta>
      <meta name="description" content="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture."></meta>
      <title>多租户架构Oracle数据库的手动升级方案</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database Upgrade Guide"></meta>
      <meta property="og:description" content="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database Upgrade Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00"></meta>
      <meta name="dcterms.title" content="Database Upgrade Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96252-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="example-manual-upgrade-windows-non-cdb-11203-to-122.html" title="Previous" type="text/html"></link>
      <link rel="next" href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="example-manual-upgrade-windows-non-cdb-11203-to-122.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库升级指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="upgrading-oracle-database.html" property="item" typeof="WebPage"><span property="name">升级Oracle数据库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">多租户架构Oracle数据库的手动升级方案</li>
            </ol>
            <a id="GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" name="GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD"></a><a id="UPGRD60130"></a>
            
            <h2 id="UPGRD-GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" class="sect2">多租户架构Oracle数据库的手动升级方案</h2>
         </header>
         <div class="ind">
            <div>
               <p>要准备手动升级，请查看使用多租户体系结构部署的Oracle数据库的手动升级方案和过程。</p>
               <p>Oracle数据库<span class="italic">12c的</span>开始，多租户架构使得能够使用包含可插拔数据库（PDBS）的多租户数据库容器（CDB）的Oracle数据库部署。早于Oracle Database 12 <span class="italic">c第</span> 1版（12.1.0.1）的所有Oracle数据库版本都使用非CDB架构。
               </p>
               <div class="infoboxnote" id="GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD__GUID-EF4B9AAA-F549-4320-BCE2-3C550511A308">
                  <p class="notep1">警告：</p>
                  <p>将兼容的初始化参数设置为12.1.0.2或更高版本后，无法降级数据库。仅当兼容性设置为12.1.0.1时，才可以对可插拔数据库（PDB）进行降级。降级仍然存在限制。</p>
                  <p>Oracle强烈建议您在开始升级之前和开始降级之前将源数据库和目标数据库升级到最新的捆绑包补丁集更新（BP，PSU）。</p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-2424F203-D586-459E-9BC5-5332800A7D2F">关于Oracle Multitenant Oracle数据库升级</a><br>您可以并行或按顺序升级多租户架构上安装的Oracle数据库。
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-553F6F33-84AD-4601-868C-2860EC6D69E9">使用多租户升级协调代理PDB的升级</a><br>协调CDB的升级，使代理PDB和PDB目标是相同的版本。
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B">手动升级多租户容器Oracle数据库（CDB）</a><br>本节中的过程提供了使用命令行过程手动升级CDB的步骤。
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA">关于使用具有优先级列表的并行升级实用程序升级PDB</a><br>在Oracle Database 12.2和更高版本中，您可以使用优先级列表升级PDB，以便在其他PDB之前升级一组PDB，并且可以修改该升级优先级。
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F">关于使用优先级列表，包含列表和排除列表进行PDB升级</a><br>从Oracle Database 12 <span class="italic">c第</span> 2版（12.2）开始，您可以使用包含和排除列表以及优先级列表来控制PDB的升级方式。
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-4CA89342-971B-447C-A643-9638DE4EB121">并行升级多租户架构</a><br>使用此技术升级多租户架构Oracle数据库版本（Oracle Database 12c第1版（12.1.0.1）及更高版本，升级容器数据库（CDB），然后并行升级多个可插拔数据库（PDB）。
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136">使用Unplug-Plug顺序升级多租户架构</a><br>要升级早期版本多租户容器数据库（CDB），Oracle Database Release 12 <span class="italic">c</span> （12.1.0.1）及更高版本中的可插拔数据库（PDB），可以从早期版本的CDB中拔出PDB，并将PDB插入后来发布CDB。</li>
               </ul>
               <div class="infoboxnotealso" id="GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD__GUID-714CC914-140F-491C-87E5-D1246AF5773E">
                  <p class="notep1">也可以看看：</p>
                  <p> <a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank"><span class="italic">Oracle Database Concepts</span></a> ，概述了多租户架构</p>
                  <p>有关创建和配置CDB的完整信息，请参见<a href="../multi/creating-and-configuring-a-cdb.html#ADMIN13514" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a></p>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="upgrading-oracle-database.html#GUID-CC88F262-3370-4FFA-8604-EDA9F20F56D9" title="Oracle提供了一套全面的工具，用于以最短的停机时间升级Oracle数据库，以及将应用程序迁移到新版本。">升级Oracle数据库</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-2424F203-D586-459E-9BC5-5332800A7D2F" name="GUID-2424F203-D586-459E-9BC5-5332800A7D2F"></a><h3 id="UPGRD-GUID-2424F203-D586-459E-9BC5-5332800A7D2F" class="sect3">关于Oracle Multitenant Oracle数据库升级</h3>
               <div>
                  <p>您可以并行或按顺序升级多租户架构上安装的Oracle数据库。</p>
                  <p>从Oracle Database 12c第1版（12.1）开始，Oracle提供了多租户架构，可以在容器数据库（CDB）中创建和管理可插拔数据库（PDB）。您可以使用Oracle数据库升级助手（DBUA）或使用并行升级实用程序升级多租户架构系统以执行手动升级。</p>
                  <p>使用多租户架构升级Oracle数据库有两种方法：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><span class="bold">并行</span> 。使用此技术，您可以执行一个升级CDB的升级操作，然后并行升级PDB。
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">顺序</span> 。使用此技术，您可以安装新版本的CDB，从早期版本的CDB准备和拔出PDB，将PDB插入更高版本的CDB，然后完成每个PDB的升级。</p>
                     </li>
                  </ul>
                  <p>以下部分提供了每种升级技术的高级摘要。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2424F203-D586-459E-9BC5-5332800A7D2F__GUID-37280374-6ED9-402F-A277-9F752E506F85">并行升级Oracle Multitenant</p>
                     <p>使用并行技术，首先使用并行升级实用程序（ <code class="codeph">catctl.pl</code> ）升级<code class="codeph">CDB$ROOT</code> ，使用参数设置并行处理程度和可用性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">-n</code>参数定义运行升级的并行进程数，最多8个。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-M</code>参数确定<code class="codeph">CDB$ROOT</code>在整个升级过程中是保持<code class="codeph">UPGRADE</code>模式，还是在CDB升级完成后可用于访问。如果未使用<code class="codeph">-M</code>参数运行升级，则在完成<code class="codeph">CDB$ROOT</code>升级后，只要每个PDB完成升级，PDB就可以访问。如果使用<code class="codeph">–M</code>参数运行升级，则<code class="codeph">CDB$ROOT</code>保持<code class="codeph">UPGRADE</code>模式，并且在完成所有PDB的升级之前，PDB不可用。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2424F203-D586-459E-9BC5-5332800A7D2F__GUID-2F525046-63CA-4843-92A7-7D028B36DFE5">按顺序升级Oracle Multitenant</p>
                     <p>使用In Sequence技术，您可以安装新版本的多租户架构CDB。接下来，在早期版本的多租户架构CDB中，您发出SQL命令以运行预升级脚本以准备一个或多个要升级的PDB，并将其关闭。然后，拔下PDB，将其插入新版本多版本架构CDB，并按顺序完成每个PDB的升级。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="要准备手动升级，请查看使用多租户体系结构部署的Oracle数据库的手动升级方案和过程。">多租户架构Oracle数据库的手动升级方案</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-553F6F33-84AD-4601-868C-2860EC6D69E9" name="GUID-553F6F33-84AD-4601-868C-2860EC6D69E9"></a><h3 id="UPGRD-GUID-553F6F33-84AD-4601-868C-2860EC6D69E9" class="sect3">使用多租户升级协调代理PDB的升级</h3>
               <div>
                  <p>协调CDB的升级，使代理PDB和PDB目标是相同的版本。</p>
                  <p>在升级期间，升级Proxy PDB不会升级其相应的目标PDB。目标PDB的升级必须单独完成。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="要准备手动升级，请查看使用多租户体系结构部署的Oracle数据库的手动升级方案和过程。">多租户架构Oracle数据库的手动升级方案</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12408"></a><div class="props_rev_3"><a id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B" name="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B"></a><h3 id="UPGRD-GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B" class="sect3">手动升级多租户容器Oracle数据库（CDB）</h3>
               <div>
                  <p>本节中的过程提供了使用命令行过程手动升级CDB的步骤。</p>
                  <div class="section">
                     <p>在使用此过程之前，您必须完成以下步骤：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>安装适用于Oracle数据库的新版本软件</p>
                        </li>
                        <li>
                           <p>准备新的Oracle主页</p>
                        </li>
                        <li>
                           <p>运行升级前信息工具</p>
                        </li>
                     </ul>
                     <p>Oracle Database 12c引入了多租户架构，使Oracle数据库可以作为具有可插拔数据库的多租户容器数据库（CDB）。您可以使用DBUA升级CDB，并在此过程中同时升级连接到CDB的所有可插拔数据库。或者，在安装Oracle数据库软件并准备新的Oracle主目录后，可以继续进行手动命令行升级。</p>
                     <ol>
                        <li>
                           <p>如果尚未执行此操作，请运行升级前信息工具。在继续之前，请查看升级前信息工具输出并更正输出中记录的所有问题。</p>
                        </li>
                        <li>
                           <p>备份源数据库。</p>
                        </li>
                        <li>
                           <p>如果您还没有这样做，请准备新的Oracle主目录。</p>
                        </li>
                        <li>
                           <p>（视情况而定）仅对于Oracle RAC环境，输入以下命令将CLUSTER_DATABASE的初始化参数值设置为FALSE：</p><pre class="pre codeblock"><code>ALTER SYSTEM SET CLUSTER_DATABASE = FALSE SCOPE = SPFILE;</code></pre><p>更改<span class="parmname" translate="no">CLUSTER_DATABASE</span>参数后重新启动数据库。
                           </p>
                        </li>
                        <li>
                           <p>关闭数据库。（对于非CDB和CDB，语法相同。）</p><pre class="pre codeblock"><code>SQL&gt; SHUTDOWN IMMEDIATE</code></pre><div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-3DE49F19-CA51-49F7-AE3B-1D186A37A6D0">
                              <p class="notep1">注意：</p>
                              <p>要关闭PDB，可以从CDB根目录指定它： <code class="codeph">alter pluggable database <span class="variable" translate="no">PDBname</span> close</code> 。
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>如果您的操作系统是Windows，请完成以下步骤：</p>
                           <ol type="a">
                              <li>
                                 <p>停止要升级的数据库的<code class="codeph">OracleService <span class="variable" translate="no">SID</span></code> Oracle服务，其中<code class="codeph"><span class="variable" translate="no">SID</span></code>是实例名称。例如，如果您的<code class="codeph"><span class="variable" translate="no">SID</span></code>是<code class="codeph">ORCL</code> ，则在命令提示符处输入以下内容：</p><pre class="pre codeblock"><code>C：\&gt; NET STOP OracleServiceORCL</code></pre></li>
                              <li>
                                 <p>使用<code class="codeph">ORADIM</code>在命令提示符处删除Oracle服务。</p>
                                 <p>如果您的<code class="codeph"><span class="variable" translate="no">SID</span></code>是<code class="codeph">ORCL</code> ，则输入以下命令，将您的SID替换为<code class="codeph"><span class="variable" translate="no">SID</span></code> 。</p><pre class="oac_no_warn" dir="ltr">C：\&gt; ORADIM -DELETE  - <span class="variable" translate="no">SID</span> ORCL</pre></li>
                              <li>
                                 <p>使用新Oracle Database发行版的<code>ORADIM</code>命令在命令提示符处为新版本Oracle Database创建服务。
                                 </p>
                                 <p>例如：</p><pre class="pre codeblock"><code>C：\&gt; ORADIM -NEW -SID <span class="variable" translate="no">SID</span> -SYSPWD <span class="variable" translate="no">PASSWORD</span> -MAXUSERS <span class="variable" translate="no">USERS</span> -STARTMODE AUTO -PILE <span class="variable" translate="no">ORACLE_HOME</span> \ DATABASE \ INIT <span class="variable" translate="no">SID</span> .ORA</code></pre><p>大多数Oracle数据库服务使用Oracle Home User的权限登录系统。该服务以该用户的权限运行。<code>ORADIM</code>命令会提示您输入此用户帐户的密码。您可以使用<code>ORADIM</code>指定其他选项。</p>
                                 <p>在此示例中，如果您的<code class="codeph"><span class="variable" translate="no">SID</span> value</code> <code class="codeph">ORCL</code> ，则您的<code class="codeph"><span class="variable" translate="no">password</span></code> （ <code class="codeph">SYSPWD</code> ）值为<code class="codeph">TWxy5791</code> ，最大用户数（ <code class="codeph">MAXUSERS</code> ）值为10，Oracle主路径为<code class="codeph">C:\ORACLE\PRODUCT\19.1.0\DB</code> ，然后输入以下命令：</p><pre class="pre codeblock"><code>C：\&gt; ORADIM -NEW -SID ORCL -SYSPWD TWxy5791 -MAXUSERS 10 -STARTMODE AUTO -PFILE C：\ ORACLE \ PRODUCT \ 19.1.0 \ DB \ DATABASE \ INITORCL.ORA</code></pre><p><code>ORADIM</code>将日志文件写入<code>ORACLE_HOME\database</code>目录。日志文件包含多租户数据库中PDB的名称。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>如果您的操作系统是Linux或UNIX，请执行以下检查：</p>
                           <ol type="a">
                              <li>
                                 <p>您的<code class="codeph">ORACLE_SID</code>设置正确</p>
                              </li>
                              <li>
                                 <p><code class="codeph">oratab</code>文件指向Oracle数据库12 <span class="italic">c</span>的Oracle主目录</p>
                              </li>
                              <li>
                                 <p>以下环境变量指向Oracle Database 12c目录：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">ORACLE_HOME</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">路径</code></p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>客户端用于设置<code class="codeph">$ORACLE_HOME</code>环境变量的任何脚本都必须指向新的Oracle主目录。
                                 </p>
                              </li>
                           </ol>
                           <div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-0585BC8F-BAC1-4773-8348-ABA318F429F3">
                              <p class="notep1">注意：</p>
                              <p>如果要升级Oracle Real Application Clusters数据库，请在Oracle Real Application Clusters数据库配置了实例的所有节点上执行这些检查。</p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-54C029BB-B323-481B-BD77-0DCD6AD07D41">
                              <p class="notep1">也可以看看：</p>
                              <p>有关在操作系统上设置其他重要环境变量的信息，请参见Oracle数据库和Oracle Clusterware安装指南</p>
                           </div>
                        </li>
                        <li>
                           <p>在新的Oracle数据库版本下以Oracle主目录的身份登录系统。</p>
                        </li>
                        <li>
                           <p>从路径<code class="codeph"><span class="variable" translate="no">Oracle_home</span> /rdbms/admin</code>目录中的新Oracle主目录中启动SQL * Plus。
                           </p>
                           <p>例如：</p><pre class="pre codeblock"><code>$ cd $ ORACLE_HOME / rdbms / admin $ pwd /u01/app/oracle/product/19.0.0/dbhome_1/rdbms/admin $ sqlplus</code></pre><p>在Windows平台上，要访问SQL * Plus，请将目录更改为<code class="codeph">%ORACLE_HOME%/bin</code></p>
                        </li>
                        <li>
                           <p>使用具有SYSDBA权限的帐户连接到要升级的数据库：</p><pre class="pre codeblock"><code>SQL&gt; CONNECT / AS SYSDBA</code></pre></li>
                        <li>
                           <p>以升级模式启动CDB：</p><pre class="pre codeblock"><code>SQL&gt;启动升级</code></pre></li>
                        <li id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__I1012182">
                           <p>通过在SQL * Plus中发出以下命令来启动实例：</p><pre class="pre codeblock"><code>SQL&gt; alter pluggable数据库全部打开升级;</code></pre><p>如果出现列出不支持的初始化参数的错误，请记下不支持的初始化参数并继续升级。下次关闭数据库时删除不支持的初始化参数。</p>
                           <div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-0C72C88B-7D9A-4308-9EEF-4F3C6C3FB1C7">
                              <p class="notep1">注意：</p>
                              <p>以<code class="codeph">UPGRADE</code>模式启动数据库会执行以下操作：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用新版本的Oracle数据库实例启动数据库</p>
                                 </li>
                                 <li>
                                    <p>将登录限制为SYSDBA</p>
                                 </li>
                                 <li>
                                    <p>禁用系统触发器</p>
                                 </li>
                                 <li>
                                    <p>执行准备数据库以进行升级的其他操作</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>在继续下一步之前退出SQL * Plus。</p>
                           <p>例如：</p><pre class="pre codeblock"><code>SQL&gt; EXIT</code></pre></li>
                        <li>
                           <p>要升级整个CDB，请从新的Oracle主<code>catctl.pl</code>运行并行升级实用程序（ <code>catctl.pl</code> ）。Parallel Upgrade Utility提供并行升级选项，可减少停机时间。您可以使用新Oracle主目录中的命令行脚本<code>dbupgrade</code>运行该命令。
                           </p>
                           <p>例如：</p>
                           <p>Linux的：</p><pre class="pre codeblock"><code>cd $ ORACLE_HOME / bin ./dbupgrade</code></pre><p>视窗：</p><pre class="pre codeblock"><code>cd％ORACLE_HOME％\ bin dbupgrade</code></pre><div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-B951FD5A-3870-4D4A-9054-BE70F095849F">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用<code class="codeph">-d</code>选项指定包含要处理的文件的目录。使用<code class="codeph">-l</code>选项指定要用于假脱机日志文件的目录。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果要升级整个CDB，并且<code class="codeph">CDB$ROOT</code>存在错误，则升级将中止。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>要升级CDB中的PDB子集，请指定包含列表或排除列表。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>Linux或UNIX系统的此示例使用包含列表仅升级<code class="codeph">PDB1</code> ：</p><pre class="pre codeblock"><code>cd $ ORACLE_HOME / bin ./dbupgrade -c'PDB1'</code></pre></li>
                              <li>
                                 <p>Windows系统的此示例使用排除列表来升级除<code class="codeph">PDB1</code>之外的CDB中的所有<code class="codeph">PDB1</code> ：</p><pre class="pre codeblock"><code>cd $ ORACLE_HOME \ bin dbupgrade -C“PDB1”</code></pre></li>
                           </ul>
                           <div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-68D857C4-F8B5-4EAB-8347-56DC18BD5DE8">
                              <p class="notep1">注意：</p>
                              <p>您可以通过从早期版本的CDB中拔出它来升级单个PDB，然后将其插入到更高版本的CDB中。</p>
                              <p>对于Windows，当您使用包含（ <code class="codeph">-c</code> ）或排除（ <code class="codeph">-C</code> ）选项运行<code>dbupgrade</code>命令时，必须在CDB根名称和PDB种子名称周围指定带引号的选项。
                              </p>
                              <p>例如：</p>
                              <p>... <code class="codeph">-C "CDB$ROOT PDB$SEED"</code></p>
                           </div>
                        </li>
                        <li>
                           <p>对于CDB，以SYSDBA身份登录CDB并运行命令alter pluggable database all open以使数据库可用于重新编译代码。例如：</p><pre class="pre codeblock"><code>$ sqlplus / as sysdba SQL&gt; alter pluggable database all open;</code></pre></li>
                        <li>
                           <p>运行<code>catcon.pl</code> 。此命令启动<code>utlrp.sql</code>并重新编译任何剩余的存储的PL / SQL和Java代码。
                           </p>
                           <p>例如：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b utlrp -d'''。'''utlrp.sql</code></pre><p>因为使用<code class="codeph">-b utlrp0</code>运行命令，所以使用重新编译结果生成日志文件<code class="codeph">utlrp0.log</code> 。
                           </p>
                        </li>
                        <li>
                           <p>运行<code>postupgrade_fixups.sql</code> 。
                           </p>
                           <p>例如：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b postupgrade_fixups -d'''。'''postupgrade_fixups.sql</code></pre></li>
                        <li>
                           <p>运行<code>utlusts.sql</code> 。此命令验证是否已修复所有问题。
                           </p>
                           <p>例如，在CDB中：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b utlu122s -d'''。''''utlusts.sql</code></pre><p>因为使用<code class="codeph">-b utlu122s</code>运行命令， <code class="codeph">utlu122s0.log</code>会生成包含升级结果的日志文件<code class="codeph">utlu122s0.log</code> 。您可以查看<code class="codeph">upg_summary.log</code>文件以查看升级报告。
                           </p>
                           <p>要查看有关数据库状态的信息，请在完成升级后随时多次运行<code>utlusts.sql</code> 。如果<code>utlusts.sql</code>脚本返回错误，或者它显示未标记为<code class="codeph">VALID</code>组件，或者您运行的SQL脚本不是来自最新版本，请参阅本指南中的故障排除部分。
                           </p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">DBMS_DST</code> PL / SQL程序包升级时区文件，确保时区数据文件是最新的。您还可以在升级后更新时区。如果更新时区，则必须更新<code class="codeph">CDB$ROOT</code>和PDB中的时区。
                           </p>
                        </li>
                        <li>
                           <p>退出SQL * Plus。</p>
                           <p>例如：</p><pre class="pre codeblock"><code>SQL&gt; EXIT</code></pre></li>
                        <li>
                           <p>（视情况而定）如果要升级Oracle Real Application Clusters数据库，请使用以下命令语法升级Oracle Clusterware中的数据库配置：</p><pre class="pre codeblock"><code>$ srvctl upgrade database -db <span class="variable" translate="no">db-unique-name</span> -oraclehome <span class="variable" translate="no">oraclehome</span></code></pre><p>在此示例中， <code class="codeph"><span class="variable" translate="no">db-unique-name</span></code>是分配的数据库名称（而不是实例名称）， <code class="codeph"><span class="variable" translate="no">oraclehome</span></code>是升级数据库的Oracle主目录位置。除了早期版本中使用的简短CLI选项之外， <code>SRVCTL</code>实用程序还支持长GNU样式选项。
                           </p>
                        </li>
                     </ol>
                     <p>您的数据库现已升级。您已准备好完成升级后的过程。</p>
                     <div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-ACC577D0-471E-4AF2-8EBC-B6FAD500DAF1">
                        <p class="notep1">警告：</p>
                        <p>如果您保留旧的Oracle软件，则永远不要使用旧软件启动升级的数据库。仅使用新Oracle Database主目录中的start命令启动Oracle数据库。</p>
                        <p>在删除旧的Oracle环境之前，请将该环境中的所有数据文件重定位到新的Oracle数据库环境。</p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-3122BF73-6472-45A8-BF0B-1CBA9F96DDC2">
                        <p class="notep1">也可以看看：</p>
                        <p>有关重定位数据文件的信息，请参见<span><cite>“Oracle数据库管理员指南”</cite></span></p>
                     </div>
                     <p></p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="../admin/managing-data-files-and-temp-files.html#ADMIN012" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="要准备手动升级，请查看使用多租户体系结构部署的Oracle数据库的手动升级方案和过程。">多租户架构Oracle数据库的手动升级方案</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA" name="GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA"></a><h3 id="UPGRD-GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA" class="sect3">关于使用具有优先级列表的并行升级实用程序升级PDB</h3>
               <div>
                  <p>在Oracle Database 12.2和更高版本中，您可以使用优先级列表升级PDB，以便在其他PDB之前升级一组PDB，并且可以修改该升级优先级。</p>
                  <div class="section">
                     <p>优先级列表使您可以根据优先级对PDB进行分组和升级。优先级列表是一个文本文件，其中包含定义升级优先级顺序的逗号分隔列表，以及每个数字优先级组中的PDB。使用<code>-L</code>选项运行并行升级实用程序（ <code>dbupgrade</code> ， <code>dbupgrade.cmd</code>或<code>catctl.pl</code> ）以使用优先级列表运行升级，并在升级运行时调用该列表。
                     </p>
                     <p>使用以下格式创建列表。在此格式示例中，变量<span class="variable" translate="no">numeral</span>是数值， <span class="variable" translate="no">pdbx</span>是PDB的名称。</p>
                     <p>号码，Pdb<br>
    <span class="variable" translate="no">numeral</span> ， <span class="variable" translate="no">pdb1</span> ， <span class="variable" translate="no">pdb2</span> ， <span class="variable" translate="no">pdb3</span><br>
    <span class="variable" translate="no">numeral</span> ， <span class="variable" translate="no">pdb4</span><br>
    <span class="variable" translate="no">numeral</span> ， <span class="variable" translate="no">pdb5</span> ， <span class="variable" translate="no">pdb6</span> ， <span class="variable" translate="no">pdb7</span> ， <span class="variable" translate="no">pdb8</span><br>。<br>。<br>。<br>
                        
                     </p>
                     <p>数字代表PDB的优先级。</p>
                     <p>PDB的优先事项如下：</p>
                     <ol>
                        <li>
                           <p>CDB $ ROOT：优先级1。首先升级容器数据库是必需的优先级。您无法更改容器数据库升级的优先级。始终首先处理CDB $ ROOT。</p>
                        </li>
                        <li>
                           <p>PDB $ SEED：优先级1。升级PDB种子数据库是必需的优先级。您无法更改PDB种子升级的优先级。PDB $ SEED总是在CDB $ ROOT之后升级，并且第一批PDB升级。</p>
                        </li>
                        <li>
                           <p>优先级列表1 PDB：优先级1是用户选择的最高优先级。在PDB $ SEED PDB升级的批次中，这些PDB在CDB $ ROOT之后升级第二。</p>
                        </li>
                        <li>
                           <p>优先级列表2 PDB：优先级2是第二高优先级PDB集。这些PDB在优先级1 PDB之后升级。</p>
                        </li>
                        <li>
                           <p>优先级列表3 PDB：优先级3是第三高优先级PDB集。这些PDBS在优先级2 PDB之后升级。</p>
                        </li>
                        <li>
                           <p>优先级列表4 PDB：优先级4是第四高优先级PDB集。这些PDBS在优先级3 PDB之后升级。</p>
                        </li>
                        <li>
                           <p>优先级列表5 PDB：优先级5是第五高优先级PDB集。这些PDBS在优先级4 PDB之后升级。</p>
                        </li>
                        <li>
                           <p>优先级列表6 PDB：优先级6是第六高优先级PDB集。这些PDBS在优先级7 PDB之后升级。</p>
                        </li>
                     </ol>
                     <p>运行并行升级实用程序时，以下处理规则适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>CDB $ ROOT和PDB $ SEED始终首先处理，即使它们不在优先级列表中。</p>
                        </li>
                        <li>
                           <p>优先级列表中的所有PDB按优先级顺序处理</p>
                        </li>
                        <li>
                           <p>未在优先级列表中列出的任何PDB将在优先级列表中指定的PDB之后处理。</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA__GUID-4E069162-9199-4639-A9CA-FB94FA04C7FA">
                     <p>例如：</p><pre class="pre codeblock"><code>Number，Pdb 1，sales1，region2，receivables1 2，sales2 3，dss1，region3，region2，dss2，dss3</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA__GUID-8EDC63B5-62A5-49AA-849D-2C0019F8F99A">
                     <p>使用以下语法使用优先级列表运行并行升级实用程序：</p><pre class="oac_no_warn" dir="ltr">dbupgrade -L <span class="variable" translate="no">priority_list_name</span></pre><p>例如，要使用Parallel Upgrade Utility批处理命令和名为<code class="codeph">My122Upgrade</code>的优先级列表在Windows系统上运行Parallel Upgrade Utility，请输入以下命令：</p><pre class="pre codeblock"><code>C：&gt; \ u01 \ app \ 19.1.0 \ db_home1 \ rdbms \ admin \ dbupgrade -L MyUpgrade</code></pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>使用优先级列表完成升级以设置升级优先级后，这些PDB优先级状态将保留在PDB的CDB中。下一次升级将遵循先前升级中为PDB设置的优先级。</p>
                     <p>使用以下SQL命令语法更改PDB升级优先级状态，其中<code class="codeph"><span class="variable" translate="no">PDBName</span></code>是要更改其升级优先级的PDB的名称， <code class="codeph"><span class="variable" translate="no">PDBPriorityNumber</span></code>是要分配的新优先级值：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; alter session set container = CDB $ ROOT SQL&gt; alter pluggable database <span class="variable" translate="no">PDBName</span>升级优先级<span class="variable" translate="no">PDBPriorityNumber</span> </pre><p>例如：</p><pre class="pre codeblock"><code>SQL&gt; alter session set container = CDB $ ROOT SQL&gt; alter pluggable database region2 upgrade priority 2</code></pre><p>在此示例中，将前一示例中设置为升级优先级1的名为区域2的PDB更改为升级优先级2。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="要准备手动升级，请查看使用多租户体系结构部署的Oracle数据库的手动升级方案和过程。">多租户架构Oracle数据库的手动升级方案</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F" name="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F"></a><h3 id="UPGRD-GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F" class="sect3">关于使用优先级列表，包含列表和排除列表进行PDB升级</h3>
               <div>
                  <p>从Oracle Database 12 <span class="italic">c第</span> 2版（12.2）开始，您可以使用包含和排除列表以及优先级列表来控制PDB的升级方式。
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-E5584CED-D425-4FDC-916E-1059A5952CFD">升级处理和列表</p>
                     <p>以下术语指定升级列表处理的类型：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><strong class="term">优先级列表</strong> ：以逗号分隔的列表，用于指定列表中PDB的升级优先级。
                           </p>
                        </li>
                        <li>
                           <p><strong class="term">包含列表</strong> ：指定要升级的PDB的逗号分隔列表。这些列表中的PDB在优先级列表中列出的PDB之后升级。
                           </p>
                        </li>
                        <li>
                           <p><strong class="term">排除列表</strong> ：以逗号分隔的列表，用于指定您不希望升级的PDB。
                           </p>
                        </li>
                     </ul>
                     <p>您可以通过以下方式使用包含列表和排除列表：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单独包括或排除升级中的一组PDB</p>
                        </li>
                        <li>
                           <p>与优先级列表一起提供PDB升级顺序的详细规范，以及从升级中排除哪些PDB。</p>
                           <p>当包含列表与优先级列表一起使用时，包含列表中列出的PDB将根据它们在优先级列表中分配的优先级值进行升级。包含列表中列出但未在优先级列表中列出的PDB在优先级列表中的所有PDB升级后升级。</p>
                           <p>当排除列表与优先级列表一起使用时，排除列表中列出的PDB不会升级。</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-D5A0B39E-340E-40E7-8CA5-5B62E73DA37B">
                        <p class="notep1">注意：</p>
                        <p>使用纯文本编辑器创建优先级列表，例如Linux和UNIX上的<code class="codeph">vi</code>或Windows上的记事本。
                        </p>
                        <p>在本主题的示例中， <code class="codeph">cpu_count</code>值等于2。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-CE75E627-370D-4843-8BB0-9482A57A670B">使用默认处理升级优先级</p>
                     <p>如果您未使用列表指定如何升级CDB中的PDB，则<strong class="term">默认处理</strong>是执行的升级处理。
                     </p>
                     <p>使用默认处理，升级CDB $ ROOT，然后升级PDB $ SEED。根据您设置的并行度，可以与PDB $ SEED并行更新一个或多个PDB。升级完成后，PDB会随着升级处理器的升级而升级。</p>
                     <p>以下示例使用以下CDB和PDB的多租户配置：</p><pre class="pre codeblock"><code>CDB $ ROOT PDB $ SEED CDB1_PDB1 CDB1_PDB2 CDB1_PDB3 CDB1_PDB4 CDB1_PDB5</code></pre><p>在默认处理中，您不指定要升级或排除升级的PDB的首选项。使用默认处理，首先升级CDB $ ROOT，并在升级的第一组PDB中更新PDB $ SEED。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-E48D5A30-827D-4ED4-9896-95EFC27F0BD1">
                     <p class="titleinexample">示例4-29指定完整的PDB升级优先级</p>
                     <p>以下优先级列表示例，其中所有PDB的优先级设置由列表设置：</p><pre class="pre codeblock"><code>1，CDB $ ROOT 1，PDB $ SEED 1，CDB1_PDB1 1，CDB1_PDB2 2，CDB1_PDB3 2，CDB1_PDB4 3，CDB1_PDB5</code></pre><p>以下是编写相同列表的另一种方法，在该列表中按优先级顺序对PDB进行分组：</p><pre class="pre codeblock"><code>1，CDB $ ROOT 1，PDB $ SEED 1，CDB1_PDB1，CDB1_PDB2 2，CDB1_PDB3，CDB1_PDB4 3，CDB1_PDB5</code></pre><p>在前面的示例中，优先级1中列出的PDB是CDB1_PDB1和CDB1_PDB2。这些PDB在CDB1_PDB3和CDB1_PDB4之前升级。</p>
                     <p>这是编写相同列表的另一种方法，使用容器ID值（CON_ID）来设置优先级顺序：</p><pre class="pre codeblock"><code>1，CDB $ ROOT 1，PDB $ SEED 1,3,4 2,5,6 3,7</code></pre><p>在前面的示例中，优先级1中列出的PDB是CDB1_PDB1（由CON_ID 3标识）和CDB1_PDB2（由CON_ID 4标识）。这些PDB在CDB1_PDB3（CON_ID 5）和CDB1_PDB4（CON_ID 6）之前升级。</p>
                     <p>使用CON_ID指定优先级时，第一个数字指定PDB组的优先级。第二个值或数字指定该优先级分组中的PDB（通过CON_ID）编号。CDB $ ROOT始终首先更新，并且PDB $ SEED始终在第一个升级优先级组中更新。</p>
                     <p>这些示例都显示了具有以下特征的优先级列表升级：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>排除处理：无</p>
                        </li>
                        <li>
                           <p>包含处理：无</p>
                        </li>
                        <li>
                           <p>默认处理：无</p>
                        </li>
                     </ul>
                     <p>升级顺序按以下顺序执行：</p>
                     <ol>
                        <li>
                           <p>CDB $ ROOT</p>
                        </li>
                        <li>
                           <p>PDB $ SEED，CDB1_PDB1</p>
                        </li>
                        <li>
                           <p>CDB1_PDB2，CDB1_PDB3</p>
                        </li>
                        <li>
                           <p>CDB1_PDB4，CDB1_PDB5</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-AF71BFF8-667D-4E2E-B3C8-98CB92690074">
                     <p class="titleinexample">示例4-30指定PDB的优先级子集，并使用默认处理升级其他PDB</p>
                     <p>以下示例指定名为<code class="codeph">priority.lst</code>的优先级列表，该列表指定要升级的PDB子集：</p><pre class="pre codeblock"><code>catctl -L priority.lst catupgrd.sql 1，CDB $ ROOT 1，PDB $ SEED 1，CDB1_PDB1，CDB1_PDB2</code></pre><p>此示例显示具有以下特征的优先级列表升级：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>排除处理：无</p>
                        </li>
                        <li>
                           <p>包含处理：无</p>
                        </li>
                        <li>
                           <p>默认处理：CDB1_PDB3，CDB1_PDB4，CDB1_PDB5</p>
                        </li>
                     </ul>
                     <p>升级顺序按以下顺序执行：</p>
                     <ol>
                        <li>
                           <p>CDB $ ROOT</p>
                        </li>
                        <li>
                           <p>PDB $ SEED，CDB1_PDB1</p>
                        </li>
                        <li>
                           <p>CDB1_PDB2，CDB1_PDB3</p>
                        </li>
                        <li>
                           <p>CDB1_PDB4，CDB1_PDB5</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-41C338F9-8B62-4101-99EB-645E4D65EDD6">
                     <p class="titleinexample">示例4-31指定PDB的优先级子集，以及使用包含列表升级其他PDB</p>
                     <p>以下示例指定名为<code class="codeph">priority.lst</code>的优先级列表，该列表指定用于升级的PDB的优先级子集：</p><pre class="pre codeblock"><code>catctl -L priority.lst -c'CDB1_PDB2 CDB1_PDB4 CDB1_PDB5'catupgrd.sql</code></pre><p>此命令引用以下优先级列表：</p><pre class="pre codeblock"><code>1，CDB $ ROOT 1，PDB $ SEED 1，CDB1_PDB2，CDB1_PDB4 2。CDB1_PDB5</code></pre><p>此示例显示具有以下特征的优先级列表升级：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>排除处理：无</p>
                        </li>
                        <li>
                           <p>包含处理：CDB1_PDB2 CDB1_PDB4 CDB1_PDB5</p>
                        </li>
                        <li>
                           <p>默认处理：无</p>
                        </li>
                     </ul>
                     <p>升级顺序按以下顺序执行：</p>
                     <ol>
                        <li>
                           <p>CDB1_PDB2，CDB1_PDB4</p>
                        </li>
                        <li>
                           <p>CDB1_PDB5</p>
                        </li>
                     </ol>
                     <p>并行升级实用程序仅处理包含列表中的PDB，并按优先级列表的顺序处理。</p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-074EF1CA-8B41-4640-B3D3-DCC45C0E3DB7">
                     <p class="titleinexample">示例4-32指定PDB的优先级子集，并使用排除列表排除CDB $ ROOT</p>
                     <p>以下示例使用名为<code class="codeph">priority.lst</code>的优先级列表运行<code>catctl</code> 。因为此命令使用<code class="codeph">-C</code>选项运行，所以它从升级中排除了CDB $ ROOT：</p><pre class="pre codeblock"><code>catctl -L priority.lst -C'CDB $ ROOT'catupgrd.sql</code></pre><p>这是优先级列表：</p><pre class="pre codeblock"><code>1，CDB $ ROOT 1，PDB $ SEED 1，CDB1_PDB1，CDB1_PDB2 2，CDB1_PDB3，CDB1_PDB4 3，CDB1_PDB5</code></pre><p>使用优先级列表处理升级以指定升级优先级。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>包含处理：无</p>
                        </li>
                        <li>
                           <p>排除处理：CDB $ ROOT</p>
                        </li>
                        <li>
                           <p>优先处理：PDB $ SEED，CDB1_PDB1，CDB1_PDB2，CDB1_PDB3，CDB1_PDB4，CDB1_PDB5</p>
                        </li>
                     </ul>
                     <p>由于排除了CDB $ ROOT，优先级处理会发生变化。升级顺序按以下顺序执行：</p>
                     <ol>
                        <li>
                           <p>PDB $ SEED，CDB_PDB1</p>
                        </li>
                        <li>
                           <p>CDB_PDB2，CDB_PDB3</p>
                        </li>
                        <li>
                           <p>CDB1_PDB4，CDB1_PDB5</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-671C1BE2-8FF5-4E18-9042-B48D7A432283">
                     <p class="titleinexample">示例4-33使用CATCTL_LISTONLY指定排除列表</p>
                     <p>以下示例指定名为<code class="codeph">priority.lst</code>的优先级列表，该列表指定要升级的PDB子集。使用CATCTL_LISTONLY选项，不在优先级列表中的PDB将从升级中排除：</p><pre class="pre codeblock"><code>catctl -L priority.lst -C'CATCTL_LISTONLY'catupgrd.sql</code></pre><p>优先清单：</p><pre class="pre codeblock"><code>1，CDB $ ROOT 1，PDB $ SEED 1，CDB1_PDB1，CDB1_PDB2 2，CDB1_PDB3 3，CDB1_PDB5</code></pre><ul style="list-style-type:disc">
                        <li>
                           <p>排除处理：CATCTL_LISTONLY（仅处理包含优先级列表）</p>
                        </li>
                        <li>
                           <p>包含处理：无</p>
                        </li>
                        <li>
                           <p>默认处理：无</p>
                        </li>
                     </ul>
                     <p>升级顺序按以下顺序执行：</p>
                     <ol>
                        <li>
                           <p>CDB $ ROOT</p>
                        </li>
                        <li>
                           <p>PDB $ SEED，CDB1_PDB1，CDB1_PDB2</p>
                        </li>
                        <li>
                           <p>CDB1_PDB3，CDB1_PDB5</p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-741A4472-8440-43EB-B3A3-D8D43D2F49C5">
                        <p class="notep1">注意：</p>
                        <p>在排除列表中指定关键字CATCTL_LISTONLY会将优先级列表转换为包含优先级列表。仅处理列表中的PDB。在此方案中没有进行默认处理，因此在此示例中，不处理CDB1_PDB4。</p>
                     </div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-3CF7D679-115C-40A4-8982-9D1FD6C9AB2E">
                     <p class="titleinexample">示例4-34使用CON_ID值指定优先级列表</p>
                     <p>以下示例指定名为<code class="codeph">priority.lst</code>的优先级列表，该列表指定要升级的PDB子集：</p><pre class="pre codeblock"><code>catctl -L priority.lst -C'CATCTL_LISTONLY'catupgrd.sql</code></pre><p>升级顺序由优先级列表优先级编号决定。在<code class="codeph">-L</code>参数， <code class="codeph">priority.lst</code>调用的列表中，升级优先级编号后面的数字是与PDB名称关联的CON_ID值：</p><pre class="pre codeblock"><code>1,3,4 2,5，CDB1_PDB4 3,7</code></pre><p>在前面的列表示例中，请注意您可以混合使用CON_ID编号和PDB名称。</p>
                     <p>优先级3中列出的PDB是CDB1_PDB1（由CON_ID 3标识）和CDB1_PDB2（由CON_ID 4标识）。这些PDB在CDB1_PDB3（CON_ID 5），CDB1_PDB4（由名称标识）和CDB1_PDB5（CON_ID 7）之前升级。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>排除处理： <code class="codeph">-C CATCTL_LISTONLY</code> （仅处理包含优先级列表中的PDB）</p>
                        </li>
                        <li>
                           <p>排除处理：无</p>
                        </li>
                        <li>
                           <p>包含处理：在<code class="codeph">priority.lst</code>指定</p>
                        </li>
                        <li>
                           <p>默认处理：CDB $ ROOT，PDB $ SEED</p>
                        </li>
                     </ul>
                     <p>升级顺序由优先级列表确定，该列表使用与PDB关联的CON_ID号。</p>
                     <ol>
                        <li>
                           <p>CDB $ ROOT</p>
                        </li>
                        <li>
                           <p>PDB $ SEED，CDB1_PDB1</p>
                        </li>
                        <li>
                           <p>CDB1_PDB2，CDB1_PDB3</p>
                        </li>
                        <li>
                           <p>CDB1_PDB4，CDB1_PDB5</p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-FD690F88-AB20-465D-BD6D-811255806B34">
                        <p class="notep1">注意：</p>
                        <p>此示例演示如何使用CON_ID指定PDB，并从优先级列表中省略CDB $ ROOT和PDB $ SEED。CDB $ ROOT和PDB $ SEED使用默认处理进行处理。</p>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="要准备手动升级，请查看使用多租户体系结构部署的Oracle数据库的手动升级方案和过程。">多租户架构Oracle数据库的手动升级方案</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-4CA89342-971B-447C-A643-9638DE4EB121" name="GUID-4CA89342-971B-447C-A643-9638DE4EB121"></a><h3 id="UPGRD-GUID-4CA89342-971B-447C-A643-9638DE4EB121" class="sect3">并行升级多租户架构</h3>
               <div>
                  <p>使用此技术升级多租户架构Oracle数据库版本（Oracle Database 12c第1版（12.1.0.1）及更高版本，升级容器数据库（CDB），然后并行升级多个可插拔数据库（PDB）。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB">关于并行升级可插拔数据库（PDB）</a><br>使用并行技术，您可以升级CDB，然后使用并行SQL处理器立即升级PDB。
                     </li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875">并行升级多租户容器数据库</a><br>使用此技术在一次升级操作中升级CDB中的CDB $ ROOT，PDB $ SEED和所有PDBS。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="要准备手动升级，请查看使用多租户体系结构部署的Oracle数据库的手动升级方案和过程。">多租户架构Oracle数据库的手动升级方案</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB" name="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB"></a><h4 id="UPGRD-GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB" class="sect4">关于并行升级可插拔数据库（PDB）</h4>
                  <div>
                     <p>使用并行技术，您可以升级CDB，然后使用并行SQL处理器立即升级PDB。</p>
                     <p>容器数据库（CDB）可以包含零个，一个或多个可插拔数据库（PDB）。默认情况下，并行升级实用程序（ <code>catctl.pl</code> ）在同一升级窗口中更新CDB及其所有PDB。并行升级实用程序使用计算机处理单元（CPU）的数量来确定同时升级的最大PDB数。并行升级的PDB数量是通过将并行SQL进程计数（ <code class="codeph">-n</code>选项）除以并行PDB SQL进程计数（ <code class="codeph">-N</code>选项）来确定的。
                     </p>
                     <div class="infoboxnote" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-52D5F0B2-2B17-4333-8BDC-5132B664B1ED">
                        <p class="notep1">注意：</p>
                        <p>您必须规划升级窗口，以适应CDB上提供的所有数据库服务的常见停机时间。</p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-F883EE3A-D6EF-4013-86E3-37BB40975BD9">可插拔数据库升级语法</p>
                        <p><code class="codeph">dbupgrade [-M] -n</code> [-N]</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">-M</code>指定CDB $ ROOT是保持升级模式，还是在升级完成后可用：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果使用<code class="codeph">-M</code>参数运行并行升级实用程序，则升级会将CDB $ ROOT及其所有PDB置于升级模式，这可以减少总升级时间。但是，在CDB及其所有PDB升级之前，您无法启动任何PDB。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果不使用<code class="codeph">-M</code>参数运行Parallel Upgrade Utility，则会在正常模式下升级并重新启动CDB $ ROOT，并启动正常的后台进程。升级成功后，只能在读/写模式下打开CDB $ ROOT。所有PDB都处于MOUNT模式。随着每个PDB的升级，您可以将每个PDB联机，而其他PDB仍在升级。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">-n</code>指定并行PDB升级处理器的数量。
                              </p>
                              <p>如果未指定<code class="codeph">-n</code>的值，则<code class="codeph">-n</code>的<code class="codeph">CPU_COUNT</code>值为<code class="codeph">CPU_COUNT</code>值。
                              </p>
                              <p>如果为<code class="codeph">-n</code>指定了值，则该值用于确定并行SQL进程的数量。最大值是无限的。最小值为4。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-N</code>指定升级PDB时要使用的SQL处理器数。最大值为8。最小值为1。如果未指定<code class="codeph">-N</code>的值，则默认值为2。
                              </p>
                           </li>
                           <li>
                              <p>同时运行的最大PDB升级是<code class="codeph">-n</code>的值除以<code class="codeph">-N</code>的值。</p>
                           </li>
                        </ul>
                        <p>以下是In Parallel PDB升级技术期间的高级操作列表：</p>
                        <ol>
                           <li>
                              <p>确保您的备份策略已完成。</p>
                           </li>
                           <li>
                              <p>运行升级前工具。修复报告的任何问题..升级前工具（ <code class="codeph">preupgrade.jar</code> ）随新的Oracle数据库版本一起提供。
                              </p>
                           </li>
                           <li>
                              <p>运行并行升级实用程序。按顺序，执行以下升级：</p>
                              <ol type="a">
                                 <li>
                                    <p>周期1：CDB $ ROOT升级到新的Oracle版本</p>
                                 </li>
                                 <li>
                                    <p>循环2到循环x：PDB $ SEED和PDB并行升级，升级循环次数由您使用<code class="codeph">-n</code>指定的参数设置确定。
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>完成升级后的步骤。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-A3DC5104-9402-45CD-82F0-6277064E9EEB">
                        <p class="titleinexample">示例4-35使用默认值进行多租户架构升级示例（无参数集）</p>
                        <p>在这种情况下，您的<code class="codeph">CPU_COUNT</code>值等于24。如果未使用<code class="codeph">-n</code>选项为并行PDB处理器指定值，则并行PDB处理器（ <code class="codeph">-n</code> ）的默认值等于24。如果未指定<code class="codeph">-N</code>的值，则SQL处理器数（ <code class="codeph">-N</code> ）的默认值为2。
                        </p>
                        <p>结果：</p>
                        <p>12个PDB并行升级（ <code class="codeph">CPU_COUNT</code>除以2，或24除以2）为每个PDB分配了2个并行SQL进程。</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-9AA5D146-F428-40E0-858F-C3B8AF17D298">
                        <p class="titleinexample">例4-36使用64并行PDB升级处理器和4个并行SQL进程进行多租户架构升级的示例</p>
                        <p>在此方案中，通过指定选项<code class="codeph">-n 64</code>将并行PDB升级处理器的值设置为<code class="codeph">-n 64</code> 。通过指定选项<code class="codeph">-N 4</code> ，可以将并行SQL处理器的值指定为<code class="codeph">-N 4</code> 。
                        </p>
                        <p>结果：</p>
                        <p>16个PDB并行升级（64除以4）。每个PDB有4个并行SQL进程。</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-4982DE61-7FBE-445F-82A7-C6D8F5245FD4">
                        <p class="titleinexample">例4-37使用20个并行PDB升级处理器和2个并行SQL进程进行多租户架构升级的示例</p>
                        <p>在此方案中，通过指定选项<code class="codeph">-n 20</code> ，可以将并行PDB升级处理器的值设置为<code class="codeph">-n 20</code> 。通过指定选项<code class="codeph">-N 2</code> ，可以将并行SQL处理器的值指定为<code class="codeph">-N 2</code> 。
                        </p>
                        <p>结果：</p>
                        <p>10个PDB并行升级（20除以2）。每个PDB有2个并行SQL进程。</p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-159AA1E9-EC16-48AB-A81E-52ED7AB9D872">
                        <p class="titleinexample">示例4-38使用10个并行PDB升级处理器和4个并行SQL进程进行多租户架构升级的示例</p>
                        <p>在此方案中，通过指定选项<code class="codeph">-n 10</code> ，可以将并行PDB升级处理器的值设置为<code class="codeph">-n 10</code> 。通过指定选项<code class="codeph">-N 4</code> ，可以将并行SQL处理器的值指定为2。
                        </p>
                        <p>结果：</p>
                        <p>2个PDB并行升级（10除以4）。每个PDB有4个并行SQL进程。</p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-4CA89342-971B-447C-A643-9638DE4EB121" title="使用此技术升级多租户架构Oracle数据库版本（Oracle Database 12c第1版（12.1.0.1）及更高版本，升级容器数据库（CDB），然后并行升级多个可插拔数据库（PDB）。">并行升级多租户架构</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875" name="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875"></a><h4 id="UPGRD-GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875" class="sect4">并行升级多租户容器数据库</h4>
                  <div>
                     <p>使用此技术在一次升级操作中升级CDB中的CDB $ ROOT，PDB $ SEED和所有PDBS。</p>
                     <div class="section">如果您可以安排停机时间，Oracle建议您使用此方法，因为它提供了升级和维护简单的直接过程。使用此过程并行升级多租户架构容器数据库中的所有PDB，具体取决于服务器的可用处理器（CPU）。</div>
                     <!-- class="section" -->
                     <div class="p">
                        <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-B9E56452-D917-4494-9CEA-1776AB539636">
                           <p class="notep1">注意：</p>
                           <p>使用并行升级方法升级整个容器时，必须关闭所有PDB。在计划的升级窗口中执行升级，以便可以关闭所有PDB。</p>
                        </div>
                        <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-7E298C0B-771D-4F81-BFB5-1659CC483F66">
                           <p class="notep1">警告：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>始终在开始任何配置更改之前创建现有数据库的备份。</p>
                              </li>
                              <li>
                                 <p>设置兼容的初始化参数后，无法降级数据库。</p>
                              </li>
                              <li>
                                 <p>Oracle强烈建议您在开始升级之前将源数据库和目标数据库升级到最新的捆绑包修补程序或修补程序集更新（BP或PSU），并在开始降级之前将其升级到最新的版本更新。</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>确保您有适当的备份策略。</span></li>
                        <li class="stepexpand"><span>打开所有PDB。</span><div>
                              <p>例如：</p><pre class="pre codeblock"><code>SQL&gt; alter pluggable database all open;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>使用以下语法运行升级前信息工具（ <code class="codeph">preupgrade.jar</code> ）：</span><div><code class="codeph">/ java -jar <span class="variable" translate="no">$New_release_Oracle_home</span> /rdbms/admin/preupgrade.jar [TERMINAL | FILE | DIR outputdir] [TEXT | XML] [-c <span class="variable" translate="no">InclusionListOfPDBs</span> ] [-C <span class="variable" translate="no">ExclusionListOfPDBs</span> ]</code><p>对列表使用空格分隔。在Linux和UNIX上，通过将列表放在单引号内来定义列表： <code class="codeph">'</code> 。在Windows系统中，通过将双引号内的列表定义列表<code class="codeph">"</code> 。
                              </p>
                           </div>
                           <div>例如，运行以下命令以在PDB PDB1到PDB25上运行升级前信息工具，您可以在<code class="codeph">/u01/app/ oracle/product/12.2.0/dbhome_1/</code>为Oracle数据库Oracle主目录设置环境变量<code class="codeph">$ORACLE_HOME_12.2</code> <code class="codeph">/u01/app/ oracle/product/12.2.0/dbhome_1/</code> ，您已在<code>/u01/app/oracle/product/19.1.0/dbhome_1/</code>为新的Oracle数据库Oracle主目录设置了一个环境变量<code class="codeph">$ORACLE_HOME_19.1</code> ：<p>Linux和UNIX：</p><pre class="pre codeblock"><code>java -jar $ ORACLE_HOME_19.1 / rdbms / admin / preupgrade.jar \ -c'pdb1 pdb2 pdb3 pdb4 pdb5 pdb6 pdb7 pdb8 pdb9 pdb10 pdb11 pdb12 pdb13 \ pdb14 pdb15 pdb16 pdb17 pdb18 pdb19 pdb20 pdb21 pdb22 pdb23 pdb24 pdb25'</code></pre><p>视窗：</p><pre class="pre codeblock"><code>java -jar％ORACLE_HOME_19.1％/ rdbms / admin / preupgrade.jar \ -c“pdb1 pdb2 pdb3 pdb4 pdb5 pdb6 pdb7 pdb8 pdb9 pdb10 pdb11 pdb12 pdb13 \ pdb14 pdb15 pdb16 pdb17 pdb18 pdb19 pdb20 pdb21 pdb22 pdb23 pdb24 pdb25”</code></pre></div>
                           <div>
                              <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-3CDD4AE3-9DFE-438B-82B3-2C4700E40E3D">
                                 <p class="notep1">注意：</p>
                                 <p>您必须使用Java 1.5或更高版本来运行升级前信息工具。默认情况下，您可以直接升级的Oracle数据库版本中的Java版本支持该工具。</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>查看任何生成的修复脚本和日志文件。</span><div>
                              <p>默认情况下，如果定义了ORACLE_BASE，则修复文件将放置在以下路径之一中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>Linux和UNIX：</p>
                                    <p><code>$ ORACLE_BASE / cfgtoollogs / <span class="variable" translate="no">db_unique_name</span> / preupgrade</code></p>
                                 </li>
                                 <li>
                                    <p>视窗</p>
                                    <p><code>％ORACLE_BASE％\ cfgtoollogs \ <span class="variable" translate="no">db_unique_name</span> \ preupgrade</code></p>
                                 </li>
                              </ul>
                              <p>如果未定义ORACLE_BASE，则修复文件将放置在以下路径之一中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>Linux和UNIX：</p>
                                    <p><code class="codeph">$ ORACLE_HOME / cfgtoollogs / <span class="variable" translate="no">db_unique_name</span> / preupgrade</code></p>
                                 </li>
                                 <li>
                                    <p>视窗：</p>
                                    <p><code class="codeph">％ORACLE_HOME \ cfgtoollogs \ <span class="variable" translate="no">db_unique_name</span> \ preupgrade</code></p>
                                 </li>
                              </ul>
                              <p>在多租户架构Oracle数据库上，升级前信息工具还会创建一个合并的<code>preupgrade_fixups.sql</code>脚本。您可以使用<code>catcon.pl</code>运行整合的<code>catcon.pl</code>脚本。整合的fixup脚本在运行<code>preupgrade.jar</code>命令时打开的每个容器上运行。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">preupgrade_fixups</code>脚本或单个PDB脚本。<code class="codeph">preupgrade_fixups</code> SQL脚本解决了<code class="codeph">preupgrade</code>脚本报告的一些问题。</span><div>
                              <p>在多租户环境Oracle数据库部署中，您可以在源数据库上运行<code class="codeph">preupgrade_fixups <span class="variable" translate="no">pdb-name</span> .sql</code>脚本，其中<code class="codeph"><span class="variable" translate="no">pdb-name</span></code>是PDB名称。如果为PDB生成修复脚本，则会将PDB名称添加到fixup文件名中。
                              </p>
                              <p>除了单独的PDB <code>catcon.pl</code>脚本之外，您还可以使用<code>catcon.pl</code>来运行整合的<code>preupgrade_fixups.sql</code>脚本。统一脚本在运行<code>preupgrade.jar</code>时打开的每个容器上运行。
                              </p>
                              <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-DAAD9892-D13C-4947-B51E-3E0655691C12">
                                 <p class="notep1">注意：</p>
                                 <p>因为$是操作系统上的保留符号，所以PDB $ SEED的修复脚本是<code>preupgrade_fixups_pdb_seed.sql</code> 。
                                 </p>
                              </div>
                           </div>
                           <div>
                              <p>完成升级前信息工具识别的任何其他预升级任务。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（视情况而定）对于Oracle RAC数据库，将cluster database initialization参数设置为false：</span><div>
                              <p>例如;</p><pre class="pre codeblock"><code>ALTER SYSTEM SET cluster_database = FALSE SCOPE = spfile;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>关闭旧Oracle主目录中的数据库。</span><div>
                              <p>例如， <code class="codeph"><span class="variable" translate="no">db_unique_name</span></code>是您的数据库名称：</p><code class="codeph">$ srvctl stop database -d <span class="variable" translate="no">db_unique_name</span></code></div>
                        </li>
                        <li class="stepexpand"><span>将<code class="codeph">PFILE</code>或<code class="codeph">SPFILE</code>从旧的Oracle主目录复制到新的Oracle主目录</span></li>
                        <li class="stepexpand"><span>与SQL * Plus连接：</span><div><pre class="pre codeblock"><code>sqlplus / as sysdba</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>将CDB $ ROOT实例置于升级模式：</span><div><pre class="pre codeblock"><code>启动升级</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>将所有PDB置于升级模式：</span><div><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE ALL OPEN UPGRADE;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>检查PDB的状态以确认它们已准备好升级：</span><div><pre class="pre codeblock"><code>显示PDBS</code></pre></div>
                           <div>对于所有PDB，请确保将状态设置为MIGRATE。</div>
                        </li>
                        <li class="stepexpand"><span>退出SQL * Plus，并将目录更改为新的Oracle主目录<code>$ORACLE_HOME/rdbms/admin</code> ：</span><div><pre class="pre codeblock"><code>SQL&gt; EXIT $ ORACLE_HOME / bin</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>使用并行升级实用程序（ <code class="codeph">catctl.pl</code> ，使用shell命令<code class="codeph">dbupgrade</code> ）开始升级，其中<code class="codeph">-d</code>指定目录的位置：</span><div><pre class="pre codeblock"><code>dbupgrade -d $ ORACLE_HOME / rdbms / admin</code></pre></div>
                           <div>
                              <p>如果未指定任何参数，则并行升级实用程序将以相当于CPU数量除以2的PDB数量并行运行升级。在具有64个CPU的服务器上，64除以2等于并行升级的32个PDB，每个PDB使用两个SQL处理器执行。 CDB $ ROOT在升级期间保持正常模式。</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>通过查看<code class="codeph">upg_summary.log</code>确认升级是否成功。如有必要，请查看其他日志。</span></li>
                        <li class="stepexpand"><span>打开所有PDB，以便您可以重新编译数据库：</span><div><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE ALL OPEN;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>退出SQL * Plus，并将目录更改为新的Oracle主路径<code>$ORACLE_HOME/rdbms/admin</code> ：</span><div><pre class="pre codeblock"><code>SQL&gt; EXIT cd $ ORACLE_HOME / rdbms / admin</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">catcon.pl</code>脚本和新版Oracle数据库提供的<code class="codeph">postupgrade_fixups.sql</code>脚本。</span><div>
                              <p>以下示例显示了用于运行<code>catcon.pl</code>的命令字符串，使用<code class="codeph">-n</code>参数为每个PDB指定一个并行处理器，使用<code class="codeph">-d</code>参数指定要运行的预升级脚本所在的路径，使用<code class="codeph">-l</code>参数指定脚本放置日志文件的位置，并使用<code class="codeph">-b</code>标志指定<code class="codeph">postupgrade_fixups.sql</code>脚本的日志文件前缀：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl $ ORACLE_HOME / rdbms / admin / catcon.pl -n 1 -d \ $ ORACLE_HOME / cfgtoollogs / cdbupgr / preupgrade -l / home / oracle / upgrdDBA -b \ postupgrade_fixups postupgrade_fixups.sql</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code>postupgrade_fixups.sql</code> 。</span><div>
                              <p>非国家开发银行：</p><pre class="pre codeblock"><code>SQL&gt; @ rdbms / admin / postupgrade_fixups.sql</code></pre><p>CDB：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b postupgradefixups -d'''。'''postupgradefixups.sql</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code>utlusts.sql</code>以验证没有升级问题。</span><div>
                              <p>非国开行：</p><pre class="pre codeblock"><code>SQL&gt; @ rdbms / admin / utlusts.sql</code></pre><p>CDB：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -n 1 -e -b utlu122s -d'''。''''utlusts.sql</code></pre></div>
                           <div>
                              <p>使用<code>catcon.pl</code>运行<code>utlusts.sql</code> ，会生成日志文件<code class="codeph">utlu122s0.log</code> 。日志文件提供升级结果。您还可以查看升级报告<code class="codeph">upg_summary.log</code> 。
                              </p>
                              <p>要查看有关数据库状态的信息，请在升级完成后随时多次运行<code>utlusts.sql</code> 。如果<code>utlusts.sql</code>脚本返回错误，或显示状态为<code class="codeph">VALID</code>的组件，或者为该组件列出的版本不是最新版本，则执行故障排除。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>（视情况而定）仅对于Oracle RAC环境，输入以下命令将<span class="parmname" translate="no">CLUSTER_DATABASE</span>的初始化参数值设置为<code class="codeph">TRUE</code> ，并启动Oracle RAC数据库，其中<code class="codeph"><span class="variable" translate="no">dbname</span></code>是Oracle RAC数据库的名称：</span><div><pre class="pre codeblock"><code>ALTER SYSTEM SET CLUSTER_DATABASE = TRUE SCOPE = SPFILE; srvctl start database -db <span class="variable" translate="no">db_unique_name</span></code></pre></div>
                           <div>
                              <p>您的数据库现已升级。</p>
                              <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-ACC577D0-471E-4AF2-8EBC-B6FAD500DAF1">
                                 <p class="notep1">警告：</p>
                                 <p>如果您保留旧的Oracle软件，则永远不要使用旧软件启动升级的数据库。仅使用新Oracle Database主目录中的start命令启动Oracle数据库。</p>
                                 <p>在删除旧的Oracle环境之前，请将该环境中的所有数据文件重定位到新的Oracle数据库环境。</p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-4FD7BF4A-F3A5-4914-9645-22387E206000">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关重定位数据文件的信息，请参见<a href="../admin/managing-data-files-and-temp-files.html#ADMIN012" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-4CA89342-971B-447C-A643-9638DE4EB121" title="使用此技术升级多租户架构Oracle数据库版本（Oracle Database 12c第1版（12.1.0.1）及更高版本，升级容器数据库（CDB），然后并行升级多个可插拔数据库（PDB）。">并行升级多租户架构</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" name="GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136"></a><h3 id="UPGRD-GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" class="sect3">使用Unplug-Plug顺序升级多租户架构</h3>
               <div>
                  <p>要升级早期版本多租户容器数据库（CDB），Oracle Database Release 12 <span class="italic">c</span> （12.1.0.1）及更高版本中的可插拔数据库（PDB），可以从早期版本的CDB中拔出PDB，并将PDB插入后来发布CDB。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF">关于按顺序升级可插拔数据库（PDB）</a><br>您可以通过从早期版本的CDB中拔出PDB，将其插入更高版本的CDB，然后将该PDB升级到更高版本来升级PDB。
                     </li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168">从早期版本CDB中拔出早期版本PDB</a><br>要准备升级PDB，请使用此过程从早期版本的CDB中拔出PDB。</li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-E188F65A-8AE8-494F-80BD-7060AE02769E">将早期版本PDB插入后期版本CDB</a><br>要将PDB从早期版本的CDB插入到更高版本的CDB，请使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>命令。
                     </li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-99657846-6859-43BF-A514-0C8A7786734D">将早期版本PDB升级到更高版本</a><br>在<code class="codeph">UPGRADE</code>模式下打开PDB使用并行升级实用程序将早期版本的PDB升级到CDB的发布级别。</li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-466B8807-EE9F-477E-BE59-600044BA882B">使用包含或排除列表进行PDB升级</a><br>如果要升级早期版本PDB的子集，请使用包含或排除列表以避免重新升级处于新版本级别的CDB或PDB。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="要准备手动升级，请查看使用多租户体系结构部署的Oracle数据库的手动升级方案和过程。">多租户架构Oracle数据库的手动升级方案</a></p>
                     </div>
                  </div>
               </div>
               <a id="UPGRD60151"></a><div class="props_rev_3"><a id="GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF" name="GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF"></a><h4 id="UPGRD-GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF" class="sect4">关于按顺序升级可插拔数据库（PDB）</h4>
                  <div>
                     <p>您可以通过从早期版本的CDB中拔出PDB，将其插入更高版本的CDB，然后将该PDB升级到更高版本来升级PDB。</p>
                     <p>CDB可以包含零个，一个或多个可插拔数据库（PDB）。安装新的Oracle数据库版本后，或升级CDB（ <code class="codeph">CDB$ROOT</code> ）后，可以升级一个或多个PDB，而无需升级CDB上的所有PDB。</p>
                     <p>您可以选择满足服务交付需求的升级计划。例如，您可以使用Oracle数据库升级助手（DBUA）升级一组PDB，也可以使用手动升级单独升级PDB，或使用包含或排除列表。您可以升级CDB和所有PDB（并行手动升级），也可以升级CDB，然后使用包含或排除列表单独或成组升级PDB。</p>
                     <p>以下是顺序PDB升级所需步骤的高级列表：</p>
                     <ol>
                        <li>
                           <p>从早期版本的CDB中拔出早期版本的PDB。</p>
                        </li>
                        <li>
                           <p>从CDB中删除PDB。</p>
                        </li>
                        <li>
                           <p>将早期版本的PDB插入更高版本的CDB。</p>
                        </li>
                        <li>
                           <p>将早期版本的PDB升级到更高版本。</p>
                        </li>
                     </ol>
                     <div class="p">使用Oracle Database 12 <span class="italic">c</span>第2版（12.2）及更高版本，您可以向Parallel Upgrade Utility提供列表以升级PDB：<ul style="list-style-type:disc">
                           <li>
                              <p>优先级列表，用于设置PDB升级的顺序</p>
                           </li>
                           <li>
                              <p>包含列表，使您可以在升级优先级列表中列出的PDB后指定要升级的一组PDB</p>
                           </li>
                           <li>
                              <p>排除列表，使您可以指定一组未升级的PDB</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF__GUID-A679BA33-EE92-487D-839F-6426BE4B665B">
                        <p class="notep1">注意：</p>
                        <p>除非备份PDB，否则无法恢复PDB。使用创建CDB并插入PDB的方法进行升级后，请务必备份PDB。</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南</cite></span></a></li>
                           <li><a href="../multi/removing-a-pdb.html#ADMIN13623" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="要升级早期版本多租户容器数据库（CDB），Oracle Database Release 12c（12.1.0.1）及更高版本中的可插拔数据库（PDB），可以从早期版本的CDB中拔出PDB，并将PDB插入更高版本发布CDB。">使用Unplug-Plug顺序升级多租户架构</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168" name="GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168"></a><h4 id="UPGRD-GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168" class="sect4">从早期版本CDB中拔出早期版本PDB</h4>
                  <div>
                     <p>要准备升级PDB，请使用此过程从早期版本的CDB中拔出PDB。</p>
                     <ol>
                        <li>
                           <p>在PDB上运行升级前信息工具。</p>
                           <p>例如，名为<code class="codeph">salespdb</code>的PDB在<code class="codeph">$ORACLE_HOME_12.2</code>中的CDB中运行：</p><pre class="pre codeblock"><code>$ ORACLE_HOME_12.2 / jdk / bin / java -jar $ ORACLE_HOME_19 / rdbms / admin / preupgrade.jar dir / tmp -c salespdb</code></pre></li>
                        <li>
                           <p>在源数据库上运行<code>preupgrade_fixups.sql</code> 。
                           </p>
                           <p>例如：</p><pre class="pre codeblock"><code>CONNECT / AS SYSDBA SQL&gt; ALTER SESSION SET CONTAINER = salespdb; SQL&gt; @ / tmp / preupgrade_fixups_salespdb.sql</code></pre></li>
                        <li>
                           <p>遵循<code class="codeph">preupgrade.log</code>列出的所有建议。
                           </p>
                        </li>
                        <li>
                           <p>关闭要拔出的PDB。</p>
                           <p>例如，使用以下命令关闭PDB <code class="codeph">salespdb</code> ：</p><pre class="pre codeblock"><code>SQL&gt; ALTER PLUGGABLE DATABASE salespdb CLOSE;</code></pre></li>
                        <li>
                           <div class="p">重新登录<code class="codeph">CDB$ROOT</code> ：<pre class="pre codeblock"><code>CONNECT / AS SYSDBA SQL&gt; ALTER SESSION SET CONTAINER = CDB $ ROOT;</code></pre></div>
                        </li>
                        <li>
                           <p>使用以下SQL命令语法拔出早期版本的PDB，其中<code class="codeph"><span class="variable" translate="no">pdb</span></code>是PDB的名称， <code class="codeph"><span class="variable" translate="no">path</span></code>是PDB XML文件的位置：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE <span class="variable" translate="no">pdb</span> UNPLUG INTO ' <span class="variable" translate="no">path</span> / <span class="variable" translate="no">pdb</span> .XML';</code></pre><p>例如，pdb名称为<code class="codeph">salespdb</code> ，路径为<code>/home/oracle/salespdb.xml</code> ：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER PLUGGABLE DATABASE salespdb UNPLUG INTO'/home/oracle/salespdb.xml';</pre><p>命令完成时会显示以下响应：</p><pre class="pre codeblock"><code>可插拔数据库已更改</code></pre></li>
                        <li>
                           <p>删除可插拔数据库<code class="codeph">salespdb</code> ，但保留数据文件。
                           </p>
                           <p>Oracle建议您在此过程后删除<code class="codeph">salespdb</code>以清除CDB视图中的剩余信息，并帮助避免将来出现问题。作为最佳实践指南，首先在目标CDB中备份PDB，然后在源上发出<code class="codeph">DROP</code>命令。
                           </p>
                           <div class="infoboxnote" id="GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168__GUID-C961895F-16A0-4D2A-9DCC-B2FDF92447E1">
                              <p class="notep1">警告：</p>
                              <p>从原始CDB中删除PDB后，无法使用以前执行的备份恢复它，因为<code class="codeph">DROP</code>命令会删除备份文件。
                              </p>
                           </div>
                           <p>要删除可插拔数据库，请输入以下命令：</p><pre class="pre codeblock"><code>SQL&gt; DROP PLUGGABLE DATABASE salespdb KEEP DATAFILES;</code></pre></li>
                        <li>
                           <p>出口。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="要升级早期版本多租户容器数据库（CDB），Oracle Database Release 12c（12.1.0.1）及更高版本中的可插拔数据库（PDB），可以从早期版本的CDB中拔出PDB，并将PDB插入更高版本发布CDB。">使用Unplug-Plug顺序升级多租户架构</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E188F65A-8AE8-494F-80BD-7060AE02769E" name="GUID-E188F65A-8AE8-494F-80BD-7060AE02769E"></a><h4 id="UPGRD-GUID-E188F65A-8AE8-494F-80BD-7060AE02769E" class="sect4">将早期版本PDB插入后期版本CDB</h4>
                  <div>
                     <p>要将PDB从早期版本的CDB插入到更高版本的CDB，请使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>命令。
                     </p>
                     <p>此过程示例显示了在使用Oracle托管文件时如何插入PDB。有关插入PDB的其他信息，请参阅“ <cite>Oracle数据库管理员指南”</cite> 。
                     </p>
                     <ol>
                        <li>
                           <p>连接到更高版本的CDB。</p>
                        </li>
                        <li>
                           <p>使用以下SQL命令插入早期版本的PDB，其中<code class="codeph"><span class="variable" translate="no">pdb</span></code>是PDB的名称， <code class="codeph"><span class="variable" translate="no">path</span></code>是PDB XML文件所在的路径：</p>
                           <p><kbd class="userinput">使用' <span class="variable" translate="no">path</span> / <span class="variable" translate="no">pdb</span> .xml'创建可插入的数据库<span class="variable" translate="no">pdb</span> ;</kbd></p>
                           <p>例如：</p><pre class="pre codeblock"><code>SQL&gt; CREATE PLUGGABLE DATABASE salespdb使用'/home/oracle/salespdb.xml';</code></pre><p>命令完成时会显示以下响应：</p><pre class="pre codeblock"><code>可插拔数据库已创建。</code></pre></li>
                     </ol>
                     <div class="infoboxnote" id="GUID-E188F65A-8AE8-494F-80BD-7060AE02769E__GUID-BDDDAFBC-3C75-4D12-9D3F-D42AEC7037BD">
                        <p class="notep1">注意：</p>
                        <p>插入早期版本的PDB时，PDB处于受限模式。您只能打开PDB进行升级。</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../multi/plugging-in-a-pdb.html#ADMIN13553" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="要升级早期版本多租户容器数据库（CDB），Oracle Database Release 12c（12.1.0.1）及更高版本中的可插拔数据库（PDB），可以从早期版本的CDB中拔出PDB，并将PDB插入更高版本发布CDB。">使用Unplug-Plug顺序升级多租户架构</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-99657846-6859-43BF-A514-0C8A7786734D" name="GUID-99657846-6859-43BF-A514-0C8A7786734D"></a><h4 id="UPGRD-GUID-99657846-6859-43BF-A514-0C8A7786734D" class="sect4">将早期版本PDB升级到更高版本</h4>
                  <div>
                     <p>在<code class="codeph">UPGRADE</code>模式下打开PDB使用并行升级实用程序将早期版本的PDB升级到CDB的发布级别。</p>
                     <ol>
                        <li>
                           <p>如果需要，请切换到要升级的PDB。例如，输入以下命令切换到PDB <code class="codeph">salespdb</code> ：</p><pre class="pre codeblock"><code>SQL&gt; ALTER SESSION SET CONTAINER = salespdb;</code></pre></li>
                        <li>
                           <p>在UPGRADE模式下打开PDB。</p><pre class="pre codeblock"><code>SQL&gt; ALTER PLUGGABLE DATABASE OPEN UPGRADE;</code></pre></li>
                        <li>
                           <p>使用Parallel Upgrade Utility命令（ <code>catctl.pl</code>或shell实用程序<code>dbupgrade</code> ）升级PDB。
                           </p>
                           <p>升级PDB时，可以使用通常与并行升级实用程序一起使用的命令。但是，您还要添加选项<code class="codeph">-c <span class="variable" translate="no">PDBname</span></code>以指定要升级的PDB。使用名为<code class="codeph">salespdb</code>的PDB将PDB的名称大写，如以下示例所示：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl $ ORACLE_HOME / rdbms / admin / catctl.pl -d \ $ ORACLE_HOME / rdbms / admin -c'salespdb'-l $ ORACLE_BASE catupgrd.sql</code></pre></li>
                        <li>
                           <p>审核结果。</p>
                           <p>日志的缺省文件路径位于<code><span class="variable" translate="no">Oracle_base</span> /cfgtoollogs/ <span class="variable" translate="no">dbname</span> / <span class="variable" translate="no">upgradedatetime</span></code>路径中，其中<code class="codeph"><span class="variable" translate="no">Oracle_base</span></code>是Oracle基本路径， <code class="codeph"><span class="variable" translate="no">dbname</span></code>是数据库名称， <code class="codeph"><span class="variable" translate="no">Oracle_base</span></code>是<code class="codeph"><span class="variable" translate="no">upgradedatetime</span></code>的日期和时间。日期和时间字符串采用字符串格式<span class="variable" translate="no">YYYY</span> <span class="variable" translate="no">MM</span> <span class="variable" translate="no">DD</span> <span class="variable" translate="no">HH</span> <span class="variable" translate="no">MM</span> <span class="variable" translate="no">SC</span> ，其中<span class="variable" translate="no">YYYY</span>表示年份， <span class="variable" translate="no">MM</span>表示月份， <span class="variable" translate="no">DD</span>表示日期， <span class="variable" translate="no">HH</span>表示小时， <span class="variable" translate="no">MM</span>表示分钟， <span class="variable" translate="no">SC</span>表示秒。
                           </p>
                           <p>例如：</p><pre class="pre codeblock"><code>$ ORACLE_BASE / cfgtoollogs / salespdb / upgrade20181015120001 / upg_summary.log</code></pre></li>
                        <li>
                           <p>登录到SQL * Plus，打开PDB以执行升级后修订，并重新编译数据库中的<code class="codeph">INVALID</code>对象：</p><pre class="pre codeblock"><code>SQL&gt; STARTUP; SQL&gt; ALTER SESSION SET CONTAINER = salespdb;</code></pre></li>
                        <li>
                           <p>使用实用程序<code>catcon.pl</code>运行脚本<code>postupgrade_fixups.sql</code> ：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -c'salespdb'-n 1 -e -b postfixups -d'''。'''/ tmp / cfgtotoogs / reportspdb /preupgrade / posttupgrade_fixups.sql</code></pre></li>
                        <li>
                           <p>使用实用程序<code class="codeph">catcon.pl</code>从<code>$ORACLE_HOME/rdbms/admin</code>目录运行<code>utlrp.sql</code> ：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl catcon.pl -c'salespdb'-n 1 -e -b comp -d'''。''''utlrp.sql</code></pre><p>该脚本重新编译数据库中的<code class="codeph">INVALID</code>对象，并将日志文件放在当前目录中，名称为<code class="codeph">comp0.log</code> 。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="要升级早期版本多租户容器数据库（CDB），Oracle Database Release 12c（12.1.0.1）及更高版本中的可插拔数据库（PDB），可以从早期版本的CDB中拔出PDB，并将PDB插入更高版本发布CDB。">使用Unplug-Plug顺序升级多租户架构</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-466B8807-EE9F-477E-BE59-600044BA882B" name="GUID-466B8807-EE9F-477E-BE59-600044BA882B"></a><h4 id="UPGRD-GUID-466B8807-EE9F-477E-BE59-600044BA882B" class="sect4">使用包含或排除列表进行PDB升级</h4>
                  <div>
                     <p>如果要升级早期版本PDB的子集，请使用包含或排除列表以避免重新升级处于新版本级别的CDB或PDB。</p>
                     <p>Oracle建议您记录升级的容器，并使用包含或排除列表将这些容器从连续的批量升级中排除。从连续批量升级中排除升级容器可确保升级仅在需要升级的PDB上运行。避免重新升级可以最大限度地缩短整体升级时间，并避免不必要的不可用性。</p>
                     <p>例如：如果您使用多租户架构部署安装了Oracle数据库，那么容器<code class="codeph">CDB$ROOT</code> ， <code class="codeph">PDB$SEED</code>以及创建CDB时创建的任何其他PDB都是新版多租户架构的一部分。如果升级了CDB，同时将一组PDB升级到新版本，则无需再次升级CDB容器或升级的PDB。
                     </p>
                     <div class="p">在任何一种情况下，当您插入早期版本的PDB然后升级它们时，请使用排除列表或包含列表升级PDB：<ul style="list-style-type:disc">
                           <li>
                              <p>使用包含列表仅指定要升级的PDB集。</p>
                           </li>
                           <li>
                              <p>使用排除列表排除已升级的CDB和PDB容器。</p>
                           </li>
                        </ul>如果不使用包含列表或排除列表来限制升级范围，则并行升级实用程序（ <code>catctl.pl</code> ）会尝试升级整个CDB，而不仅仅是需要升级的PDB。在升级过程中，您的系统会遇到不必要的停机时间。包含列表和排除列表选项是互斥的。
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="要升级早期版本多租户容器数据库（CDB），Oracle Database Release 12c（12.1.0.1）及更高版本中的可插拔数据库（PDB），可以从早期版本的CDB中拔出PDB，并将PDB插入更高版本发布CDB。">使用Unplug-Plug顺序升级多租户架构</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="02878.configuring-radius-authentication.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="RADIUS is a client/server security protocol widely used to enable remote authentication and access."></meta>
      <meta name="description" content="RADIUS is a client/server security protocol widely used to enable remote authentication and access."></meta>
      <title>配置RADIUS身份验证</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="RADIUS is a client/server security protocol widely used to enable remote authentication and access."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-secure-sockets-layer-authentication.html" title="Previous" type="text/html"></link>
      <link rel="next" href="customizing-the-use-of-strong-authentication.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-secure-sockets-layer-authentication.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="customizing-the-use-of-strong-authentication.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_5.html" property="item" typeof="WebPage"><span property="name">管理强身份验证</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置RADIUS身份验证</li>
            </ol>
            <a id="GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" name="GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB"></a>
            
            <h2 id="DBSEG-GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" class="sect2"><span class="enumeration_chapter">22</span>配置RADIUS身份验证</h2>
         </header>
         <div class="ind">
            <div>
               <p>RADIUS是一种客户端/服务器安全协议，广泛用于启用远程身份验证和访问。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73">关于配置RADIUS身份验证</a><br>Oracle数据库网络可以使用支持RADIUS标准的任何身份验证方法。
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97">RADIUS组件</a><br>RADIUS具有一组身份验证组件，可用于管理配置设置。
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-CA403763-428A-4046-A2B1-D044D4809A46">RADIUS身份验证模式</a><br>用户身份验证可以通过同步身份验证模式或质询 - 响应（异步）身份验证模式进行。
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B">启用RADIUS身份验证，授权和记帐</a><br>要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0">使用RADIUS登录数据库</a><br>您可以使用RADIUS通过同步身份验证模式或质询 - 响应模式登录数据库。
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB">RSA ACE /服务器配置清单</a><br>如果您使用的是RSA ACE / Server RADIUS服务器，请在进行初始连接之前检查此服务器的Host Agent和SecurID令牌。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_5.html" title="第V部分介绍了如何管理强身份验证。">管理强身份验证</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG10183"></a><a id="DBSEG040"></a><a id="DBSEG9614"></a><div class="sect2"><a id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73" name="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73"></a><h3 id="DBSEG-GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73" class="sect3">关于配置RADIUS身份验证</h3>
               <div>
                  <p>Oracle数据库网络可以使用支持RADIUS标准的任何身份验证方法。</p>
                  <p>安装和配置RADIUS协议时，支持的RADIUS标准包括令牌卡和智能卡。Oracle数据库在客户端/服务器网络环境中使用RADIUS。此外，使用RADIUS时，可以在不修改Oracle客户端或Oracle数据库服务器的情况下更改身份验证方法。</p>
                  <p>从最终用户的角度来看，整个身份验证过程是透明的。当用户寻求访问Oracle数据库服务器时，充当RADIUS客户端的Oracle数据库服务器会通知RADIUS服务器。然后RADIUS服务器：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>查找用户的安全信息</p>
                     </li>
                     <li>
                        <p>在相应的身份验证服务器或Oracle数据库服务器之间传递身份验证和授权信息</p>
                     </li>
                     <li>
                        <p>授予用户对Oracle数据库服务器的访问权限</p>
                     </li>
                     <li>
                        <p>记录会话信息，包括用户连接到Oracle数据库服务器的时间，频率和时长</p>
                        <div class="infoboxnote" id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__GUID-EFBC1B68-3ADB-4DDD-B9C3-A3541B54F8FC">
                           <p class="notep1">注意：</p>
                           <p>Oracle数据库不支持通过数据库链接进行RADIUS身份验证。</p>
                        </div>
                     </li>
                  </ul>
                  <p><a href="configuring-radius-authentication.html#GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__I1006139">图22-1</a>说明了Oracle Database-RADIUS环境。
                  </p>
                  <div class="figure" id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__I1006139">
                     <p class="titleinfigure">图22-1 Oracle环境中的RADIUS</p><img src="img/asoag003.gif" alt="下面是图22-1的描述" title="下面是图22-1的描述" longdesc="img_text/asoag003.html"><br><a href="img_text/asoag003.html">“图22-1 Oracle环境中的RADIUS”的说明</a></div>
                  <!-- class="figure" -->
                  <p>Oracle数据库服务器充当RADIUS客户端，在Oracle客户端和RADIUS服务器之间传递信息。同样，RADIUS服务器在Oracle数据库服务器和相应的身份验证服务器之间传递信息。</p>
                  <p>RADIUS服务器供应商通常也是身份验证服务器供应商。在这种情况下，可以在RADIUS服务器上处理身份验证。例如，RSA ACE / Server既是RADIUS服务器又是身份验证服务器。因此，它验证用户的密码。</p>
                  <div class="infoboxnote" id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__GUID-64A6F86B-C120-4487-836B-9DB3B3BF6FE1">
                     <p class="notep1">注意：</p>
                     <p>SecurID是RSA Security，Inc。的身份验证产品，虽然不受Oracle数据库的直接支持，但已经过认证，符合RADIUS标准。因此，您可以在RADIUS下运行SecurID。</p>
                     <p>有关详细信息，请参阅RSA Security SecurID文档。</p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__GUID-9D0E3E3A-1033-4E40-B36B-E6CA125B1984">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">sqlnet.ora</code>文件的信息，请<a href="../netrf/index.html" target="_blank"><span><cite>参见Oracle数据库网络服务参考</cite></span></a></p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS是一种客户端/服务器安全协议，广泛用于启用远程身份验证和访问。">配置RADIUS身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG10184"></a><div class="props_rev_3"><a id="GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97" name="GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97"></a><h3 id="DBSEG-GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97" class="sect3">RADIUS组件</h3>
               <div>
                  <p>RADIUS具有一组身份验证组件，可用于管理配置设置。</p>
                  <p><a href="configuring-radius-authentication.html#GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97__BABFHGBI" title="此表列出了RADIUS身份验证组件，并描述了每个组件中存储的信息。">表22-1</a>列出了身份验证组件。
                  </p>
                  <div class="tblformal" id="GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97__BABFHGBI">
                     <p class="titleintable">表22-1 RADIUS身份验证组件</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="RADIUS身份验证组件" width="100%" border="1" summary="This table lists RADIUS authentication components and describes what information is stored in each component." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d141335e429">零件</th>
                              <th align="left" valign="bottom" width="72%" id="d141335e432">存储信息</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d141335e437" headers="d141335e429 ">
                                 <p>Oracle客户端</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d141335e437 d141335e432 ">
                                 <p>通过RADIUS进行通信的配置设置。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d141335e444" headers="d141335e429 ">
                                 <p>Oracle数据库服务器/ RADIUS客户端</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d141335e444 d141335e432 ">
                                 <p>用于在Oracle客户端和RADIUS服务器之间传递信息的配置设置。</p>
                                 <p>密钥文件。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d141335e453" headers="d141335e429 ">
                                 <p>RADIUS服务器</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d141335e453 d141335e432 ">
                                 <p>所有用户的身份验证和授权信息。</p>
                                 <p>每个客户的名称或IP地址。</p>
                                 <p>每个客户的共享秘密。</p>
                                 <p>无限数量的菜单文件使已经过身份验证的用户可以选择不同的登录选项而无需重新连接。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d141335e466" headers="d141335e429 ">
                                 <p>验证服务器或服务器</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d141335e466 d141335e432 ">
                                 <p>用户身份验证信息，如密码和PIN，具体取决于使用的身份验证方法。</p>
                                 <p><span class="bold">注意：</span> RADIUS服务器也可以是身份验证服务器。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS是一种客户端/服务器安全协议，广泛用于启用远程身份验证和访问。">配置RADIUS身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9615"></a><div class="sect2"><a id="GUID-CA403763-428A-4046-A2B1-D044D4809A46" name="GUID-CA403763-428A-4046-A2B1-D044D4809A46"></a><h3 id="DBSEG-GUID-CA403763-428A-4046-A2B1-D044D4809A46" class="sect3">RADIUS身份验证模式</h3>
               <div>
                  <p>用户身份验证可以通过同步身份验证模式或质询 - 响应（异步）身份验证模式进行。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-2507AAFB-90BE-4163-9327-864A0AF239B5">同步认证模式</a><br>在同步模式下，RADIUS允许您使用各种身份验证方法，包括密码和SecurID令牌卡。
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07">挑战 - 响应（异步）认证模式</a><br>当系统使用异步模式时，用户无需在SQL * Plus CONNECT字符串中输入用户名和密码。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS是一种客户端/服务器安全协议，广泛用于启用远程身份验证和访问。">配置RADIUS身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG9616"></a><div class="sect3"><a id="GUID-2507AAFB-90BE-4163-9327-864A0AF239B5" name="GUID-2507AAFB-90BE-4163-9327-864A0AF239B5"></a><h4 id="DBSEG-GUID-2507AAFB-90BE-4163-9327-864A0AF239B5" class="sect4">同步认证模式</h4>
                  <div>
                     <p>在同步模式下，RADIUS允许您使用各种身份验证方法，包括密码和SecurID令牌卡。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC">同步认证模式的顺序</a><br>同步认证模式的顺序包括六个步骤。
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE">示例：使用SecurID令牌卡进行同步身份验证</a><br>使用SecurID身份验证，每个用户都有一个令牌卡，显示每六十秒更改一次的动态数字。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-CA403763-428A-4046-A2B1-D044D4809A46" title="用户身份验证可以通过同步身份验证模式或质询 - 响应（异步）身份验证模式进行。">RADIUS身份验证模式</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG10185"></a><a id="DBSEG1080"></a><div class="sect4"><a id="GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC" name="GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC"></a><h5 id="DBSEG-GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC" class="sect5">同步认证模式的顺序</h5>
                     <div>
                        <p>同步认证模式的顺序包括六个步骤。</p>
                        <p><a href="configuring-radius-authentication.html#GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC__I1006212">图22-2</a>显示了发生同步身份验证的顺序。
                        </p>
                        <div class="figure" id="GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC__I1006212">
                           <p class="titleinfigure">图22-2同步认证序列</p><img src="img/asoag010.gif" alt="下面是图22-2的描述" title="下面是图22-2的描述" longdesc="img_text/asoag010.html"><br><a href="img_text/asoag010.html">“图22-2同步认证序列”的描述</a></div>
                        <!-- class="figure" -->
                        <p>以下步骤描述了同步身份验证序列：</p>
                        <ol>
                           <li>
                              <p>用户通过输入连接字符串，传递代码或其他值来登录。客户端系统将此数据传递给Oracle数据库服务器。</p>
                           </li>
                           <li>
                              <p>充当RADIUS客户端的Oracle数据库服务器将数据从Oracle客户端传递到RADIUS服务器。</p>
                           </li>
                           <li>
                              <p>RADIUS服务器将数据传递到相应的身份验证服务器，例如智能卡或SecurID ACE以进行验证。</p>
                           </li>
                           <li>
                              <p>身份验证服务器将Access Accept或Access Reject消息发送回RADIUS服务器。</p>
                           </li>
                           <li>
                              <p>RADIUS服务器将此响应传递给Oracle数据库服务器/ RADIUS客户端。</p>
                           </li>
                           <li>
                              <p>Oracle数据库服务器/ RADIUS客户端将响应传递回Oracle客户端。</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-2507AAFB-90BE-4163-9327-864A0AF239B5" title="在同步模式下，RADIUS允许您使用各种身份验证方法，包括密码和SecurID令牌卡。">同步身份验证模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1081"></a><div class="sect4"><a id="GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE" name="GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE"></a><h5 id="DBSEG-GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE" class="sect5">示例：使用SecurID令牌卡进行同步身份验证</h5>
                     <div>
                        <p>使用SecurID身份验证，每个用户都有一个令牌卡，显示每六十秒更改一次的动态数字。</p>
                        <p>要访问Oracle数据库服务器/ RADIUS客户端，用户输入的有效密码包括个人标识号（PIN）和当前显示在用户的SecurID卡上的动态号码。Oracle数据库服务器将此身份验证信息从Oracle客户端传递到RADIUS服务器，在这种情况下，RADIUS服务器是用于验证的身份验证服务器。验证服务器（RSA ACE / Server）验证用户后，它会向Oracle数据库服务器发送一个<span class="italic">接受</span>数据包，然后将其传递给Oracle客户端。用户现在已通过身份验证，并且能够访问相应的表和应用程序。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE__GUID-BD47274B-6F7A-4586-98B7-3D7CA41BC1C5">
                           <p class="notep1">也可以看看：</p>
                           <p>文档由RSA Security，Inc。提供</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-2507AAFB-90BE-4163-9327-864A0AF239B5" title="在同步模式下，RADIUS允许您使用各种身份验证方法，包括密码和SecurID令牌卡。">同步身份验证模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9617"></a><div class="sect3"><a id="GUID-DF72F473-D660-44C1-9F49-2909943C8F07" name="GUID-DF72F473-D660-44C1-9F49-2909943C8F07"></a><h4 id="DBSEG-GUID-DF72F473-D660-44C1-9F49-2909943C8F07" class="sect4">挑战 - 响应（异步）认证模式</h4>
                  <div>
                     <p>当系统使用异步模式时，用户无需在SQL * Plus CONNECT字符串中输入用户名和密码。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-08873053-A3E7-4FA9-97BA-96A8178979F0">挑战 - 响应（异步）认证模式的顺序</a><br>质询 - 响应（异步）认证模式的序列由12个步骤组成。
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-7BC2AF1F-022F-4DBD-950B-0D7A3092550B">示例：使用智能卡进行异步身份验证</a><br>通过智能卡身份验证，用户通过将智能卡插入读取智能卡的智能卡读卡器进行登录。
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-43F2FA72-C4AC-4522-AD2F-3E1E49450E95">示例：使用ActivCard令牌进行异步身份验证</a><br>一个特定的ActivCard令牌是带键盘的手持设备，它显示动态密码。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-CA403763-428A-4046-A2B1-D044D4809A46" title="用户身份验证可以通过同步身份验证模式或质询 - 响应（异步）身份验证模式进行。">RADIUS身份验证模式</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG10187"></a><a id="DBSEG1082"></a><div class="sect4"><a id="GUID-08873053-A3E7-4FA9-97BA-96A8178979F0" name="GUID-08873053-A3E7-4FA9-97BA-96A8178979F0"></a><h5 id="DBSEG-GUID-08873053-A3E7-4FA9-97BA-96A8178979F0" class="sect5">挑战 - 响应（异步）认证模式的顺序</h5>
                     <div>
                        <p>质询 - 响应（异步）认证模式的序列由12个步骤组成。</p>
                        <p><a href="configuring-radius-authentication.html#GUID-08873053-A3E7-4FA9-97BA-96A8178979F0__I1006264">图22-3</a>显示了质询 - 响应（异步）身份验证发生的顺序。
                        </p>
                        <div class="infoboxnote" id="GUID-08873053-A3E7-4FA9-97BA-96A8178979F0__GUID-5932D0C2-A8B8-478A-86FF-8A517DE36C01">
                           <p class="notep1">注意：</p>
                           <p>如果RADIUS服务器是认证服务器，则组合<a href="configuring-radius-authentication.html#GUID-08873053-A3E7-4FA9-97BA-96A8178979F0__I1006264">图22-3</a>中的步骤3,4和5以及步骤9,10和11。
                           </p>
                        </div>
                        <div class="figure" id="GUID-08873053-A3E7-4FA9-97BA-96A8178979F0__I1006264">
                           <p class="titleinfigure">图22-3异步认证序列</p><img src="img/asoag011.gif" alt="下面是图22-3的描述" title="下面是图22-3的描述" longdesc="img_text/asoag011.html"><br><a href="img_text/asoag011.html">“图22-3异步认证序列”的描述</a></div>
                        <!-- class="figure" -->
                        <p>以下步骤描述了异步身份验证序列：</p>
                        <ol>
                           <li>
                              <p>用户启动与Oracle数据库服务器的连接。客户端系统将数据传递给Oracle数据库服务器。</p>
                           </li>
                           <li>
                              <p>充当RADIUS客户端的Oracle数据库服务器将数据从Oracle客户端传递到RADIUS服务器。</p>
                           </li>
                           <li>
                              <p>RADIUS服务器将数据传递到相应的身份验证服务器，例如智能卡，SecurID ACE或令牌卡服务器。</p>
                           </li>
                           <li>
                              <p>验证服务器向RADIUS服务器发送质询，例如随机数。</p>
                           </li>
                           <li>
                              <p>RADIUS服务器将质询传递给Oracle数据库服务器/ RADIUS客户端。</p>
                           </li>
                           <li>
                              <p>反过来，Oracle数据库服务器/ RADIUS客户端将其传递给Oracle客户端。图形用户界面向用户呈现挑战。</p>
                           </li>
                           <li>
                              <p>用户提供对挑战的响应。为了制定响应，用户可以例如将所接收的挑战输入到令牌卡中。令牌卡提供输入图形用户界面的动态密码。Oracle客户端将用户的响应传递给Oracle数据库服务器/ RADIUS客户端。</p>
                           </li>
                           <li>
                              <p>Oracle数据库服务器/ RADIUS客户端将用户的响应发送到RADIUS服务器。</p>
                           </li>
                           <li>
                              <p>RADIUS服务器将用户的响应传递给相应的身份验证服务器以进行验证。</p>
                           </li>
                           <li>
                              <p>身份验证服务器将Access Accept或Access Reject消息发送回RADIUS服务器。</p>
                           </li>
                           <li>
                              <p>RADIUS服务器将响应传递给Oracle数据库服务器/ RADIUS客户端。</p>
                           </li>
                           <li>
                              <p>Oracle数据库服务器/ RADIUS客户端将响应传递给Oracle客户端。</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07" title="当系统使用异步模式时，用户无需在SQL * Plus CONNECT字符串中输入用户名和密码。">质询 - 响应（异步）身份验证模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1083"></a><div class="sect4"><a id="GUID-7BC2AF1F-022F-4DBD-950B-0D7A3092550B" name="GUID-7BC2AF1F-022F-4DBD-950B-0D7A3092550B"></a><h5 id="DBSEG-GUID-7BC2AF1F-022F-4DBD-950B-0D7A3092550B" class="sect5">示例：使用智能卡进行异步身份验证</h5>
                     <div>
                        <p>通过智能卡身份验证，用户通过将智能卡插入读取智能卡的智能卡读卡器进行登录。</p>
                        <p>智能卡是一种塑料卡，如信用卡，带有嵌入式集成电路，用于存储信息。</p>
                        <p>Oracle客户端通过Oracle数据库服务器/ RADIUS客户端和RADIUS服务器将智能卡中包含的登录信息发送到认证服务器。身份验证服务器通过RADIUS服务器和Oracle数据库服务器向Oracle客户端发回质询，提示用户输入身份验证信息。该信息可以是例如PIN以及智能卡上包含的附加认证信息。</p>
                        <p>Oracle客户端通过Oracle数据库服务器和RADIUS服务器将用户的响应发送到身份验证服务器。如果用户输入了有效编号，则认证服务器通过RADIUS服务器和Oracle数据库服务器将<span class="italic">接受</span>数据包发送回Oracle客户端。现在，用户已经过身份验证并被授权访问相应的表和应用程序。如果用户输入了错误信息，则认证服务器会发回拒绝用户访问的消息。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07" title="当系统使用异步模式时，用户无需在SQL * Plus CONNECT字符串中输入用户名和密码。">质询 - 响应（异步）身份验证模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1084"></a><div class="sect4"><a id="GUID-43F2FA72-C4AC-4522-AD2F-3E1E49450E95" name="GUID-43F2FA72-C4AC-4522-AD2F-3E1E49450E95"></a><h5 id="DBSEG-GUID-43F2FA72-C4AC-4522-AD2F-3E1E49450E95" class="sect5">示例：使用ActivCard令牌进行异步身份验证</h5>
                     <div>
                        <p>一个特定的ActivCard令牌是带键盘的手持设备，它显示动态密码。</p>
                        <p>当用户通过输入密码寻求访问Oracle数据库服务器时，信息将通过Oracle数据库服务器/ RADIUS客户端和RADIUS服务器传递到相应的身份验证服务器。身份验证服务器通过RADIUS服务器和Oracle数据库服务器向客户端发回质询。用户将该挑战键入令牌，并且令牌显示用户要作为响应发送的号码。</p>
                        <p>然后，Oracle客户端通过Oracle数据库服务器和RADIUS服务器将用户的响应发送到身份验证服务器。如果用户键入了有效数字，则身份验证服务器通过RADIUS服务器和Oracle数据库服务器将<span class="italic">接受</span>数据包发送回Oracle客户端。现在，用户已经过身份验证并被授权访问相应的表和应用程序。如果用户输入了错误的响应，则身份验证服务器会发回拒绝用户访问的消息。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07" title="当系统使用异步模式时，用户无需在SQL * Plus CONNECT字符串中输入用户名和密码。">质询 - 响应（异步）身份验证模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="DBSEG9618"></a><div class="sect2"><a id="GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" name="GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B"></a><h3 id="DBSEG-GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" class="sect3">启用RADIUS身份验证，授权和记帐</h3>
               <div>
                  <p>要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33">步骤1：配置RADIUS身份验证</a><br>要配置RADIUS身份验证，必须首先在Oracle客户端上配置它，然后在服务器上配置它。之后，您可以配置其他RADIUS功能。
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-59C87E2B-BE16-4966-84D1-8A230AD00430">第2步：创建用户并授予访问权限</a><br>完成RADIUS身份验证后，必须创建用于RADIUS配置的Oracle数据库用户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5">第3步：配置外部RADIUS授权（可选）</a><br>您必须将Oracle服务器，Oracle客户端和RADIUS服务器配置为必须连接到Oracle数据库的RADIUS用户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900">第4步：配置RADIUS记帐</a><br>RADIUS记帐会记录有关访问Oracle数据库服务器的信息，并将其存储在RADIUS记帐服务器上的文件中。
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7">步骤5：将RADIUS客户端名称添加到RADIUS服务器数据库</a><br>您选择的RADIUS服务器必须符合RADIUS标准。
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-B8B193E5-65C1-43FD-8DFD-9DCBAA3F81A3">步骤6：配置用于RADIUS的身份验证服务器</a><br>将RADIUS客户端名称添加到RADIUS服务器数据库后，可以将身份验证服务器配置为使用RADIUS。</li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-D16696B2-A684-4F7D-A5A6-6A1559B985B2">步骤7：配置RADIUS服务器以与身份验证服务器一起使用</a><br>配置认证服务器以用于RADIUS后，可以配置RADIUS服务器以使用认证服务器。
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-C9B89594-9CB1-4524-8D9F-EF86F4629DFE">步骤8：配置映射角色</a><br>如果RADIUS服务器支持供应商类型属性，则可以通过将角色存储在RADIUS服务器中来管理角色。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS是一种客户端/服务器安全协议，广泛用于启用远程身份验证和访问。">配置RADIUS身份验证</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG9620"></a><div class="sect3"><a id="GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" name="GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33"></a><h4 id="DBSEG-GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" class="sect4">步骤1：配置RADIUS身份验证</h4>
                  <div>
                     <p>要配置RADIUS身份验证，必须首先在Oracle客户端上配置它，然后在服务器上配置它。之后，您可以配置其他RADIUS功能。</p>
                     <div class="infoboxnote" id="GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33__GUID-2A2883A2-A261-452C-9B0C-E486F7C1124A">
                        <p class="notep1">注意：</p>
                        <p>除非另有说明，否则请使用Oracle Net Manager或使用任何文本编辑器修改<code class="codeph">sqlnet.ora</code>文件来执行这些配置任务。请注意，在多租户环境中， <code class="codeph">sqlnet.ora</code>文件中的设置适用于所有可插拔数据库（PDB）。
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED">步骤1A：在Oracle客户端上配置RADIUS</a><br>您可以使用Oracle Net Manager在Oracle客户端上配置RADIUS。
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74">步骤1B：在Oracle数据库服务器上配置RADIUS</a><br>您必须创建一个文件来保存RADIUS密钥并将此文件存储在Oracle数据库服务器上。然后，您必须在<code class="codeph">sqlnet.ora</code>文件中配置适当的参数。
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24">步骤1C：配置其他RADIUS功能</a><br>您可以更改默认设置，配置质询 - 响应模式，以及为备用RADIUS服务器设置参数。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。">启用RADIUS身份验证，授权和记帐</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9621"></a><div class="sect4"><a id="GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED" name="GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED"></a><h5 id="DBSEG-GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED" class="sect5">步骤1A：在Oracle客户端上配置RADIUS</h5>
                     <div>
                        <p>您可以使用Oracle Net Manager在Oracle客户端上配置RADIUS。</p>
                        <ol>
                           <li>
                              <p>启动Oracle Net Manager。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>（UNIX）从<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/bin</code> ，在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">netmgr</pre></li>
                                 <li>
                                    <p>（Windows）选择<span class="bold">开始</span> ， <span class="bold">程序</span> ， <span class="bold">Oracle  -  HOME_NAME</span> ， <span class="bold">配置和迁移工具</span> ，然后选择<span class="bold">Net Manager</span> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>展开<span class="bold">Oracle Net Configuration</span> ，然后从<span class="bold">Local</span>选择<span class="bold">Profile</span> 。
                              </p>
                           </li>
                           <li>
                              <p>从“ <span class="bold">命名”</span>列表中，选择“ <span class="bold">网络安全”</span> 。
                              </p>
                              <p>将出现“网络安全”选项卡式窗口。</p>
                           </li>
                           <li>
                              <p>选择<span class="bold">Authentication</span>选项卡。（默认情况下应该选中它。）
                              </p>
                              <div class="figure" id="GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED__GUID-94057866-1BAA-4F6E-B4C2-15216084CC7A"><img src="img/radu0001.gif" width="377" alt="radu0001.gif的描述如下" title="radu0001.gif的描述如下" longdesc="img_text/radu0001.html"><br><a href="img_text/radu0001.html">插图描述radu0001.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>从“可用方法”列表中，选择“ <span class="bold">RADIUS”</span> 。</p>
                           </li>
                           <li>
                              <p>选择右箭头（ <span class="bold">&gt;</span> ）将RADIUS移动到<span class="bold">Selected Methods</span>列表。
                              </p>
                              <p>以相同的方式移动您要使用的任何其他方法。</p>
                           </li>
                           <li>
                              <p>按所需方法的顺序排列所选方法，方法是在“选定方法”列表中选择一种方法，然后单击“ <span class="bold">提升”</span>或“ <span class="bold">降级”</span>将其放置在列表中。
                              </p>
                              <p>例如，将RADIUS放在列表的顶部，以使其成为第一个使用的服务。</p>
                           </li>
                           <li>
                              <p>从“ <span class="bold">文件”</span>菜单中，选择“ <span class="bold">保存网络配置”</span> 。
                              </p>
                              <p>使用以下条目更新<code class="codeph">sqlnet.ora</code>文件：</p><pre class="oac_no_warn" dir="ltr">SQLNET.AUTHENTICATION_SERVICES =（RADIUS）</pre></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" title="要配置RADIUS身份验证，必须首先在Oracle客户端上配置它，然后在服务器上配置它。之后，您可以配置其他RADIUS功能。">步骤1：配置RADIUS身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9622"></a><div class="sect4"><a id="GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" name="GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74"></a><h5 id="DBSEG-GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" class="sect5">步骤1B：在Oracle数据库服务器上配置RADIUS</h5>
                     <div>
                        <p>您必须创建一个文件来保存RADIUS密钥并将此文件存储在Oracle数据库服务器上。然后，您必须在<code class="codeph">sqlnet.ora</code>文件中配置适当的参数。
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0">步骤1B（1）：在Oracle数据库服务器上创建RADIUS密钥文件</a><br>首先，您必须创建RADIUS密钥文件。
                           </li>
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589">步骤1B（2）：在服务器上配置RADIUS参数（sqlnet.ora文件）</a><br>创建RADIUS密钥文件后，您就可以在<code class="codeph">sqlnet.ora</code>文件中配置相应的参数。
                           </li>
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-BF675735-4387-46B1-A1D4-63143AB4E78E">步骤1B（3）：设置Oracle数据库服务器初始化参数</a><br>配置sqlnet.ora文件后，必须配置<code class="codeph">init.ora</code>初始化文件。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" title="要配置RADIUS身份验证，必须首先在Oracle客户端上配置它，然后在服务器上配置它。之后，您可以配置其他RADIUS功能。">步骤1：配置RADIUS身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="DBSEG10191"></a><div class="sect5"><a id="GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0" name="GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0"></a><h6 id="DBSEG-GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0" class="sect6">步骤1B（1）：在Oracle数据库服务器上创建RADIUS密钥文件</h6>
                        <div>
                           <p>首先，您必须创建RADIUS密钥文件。</p>
                           <ol>
                              <li>
                                 <p>从RADIUS服务器获取RADIUS密钥。</p>
                                 <p>对于每个RADIUS客户端，RADIUS服务器的管理员创建共享密钥，该密钥必须小于或等于16个字符。</p>
                              </li>
                              <li id="GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0__CHDGEACB">
                                 <p>在Oracle数据库服务器上，创建一个目录：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>（UNIX） <span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/network/security</code></p>
                                    </li>
                                    <li>
                                       <p>（Windows） <span class="italic"><code class="codeph">ORACLE_BASE</code></span> <code class="codeph">\</code> <span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\network\security</code></p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>创建文件<code class="codeph">radius.key</code>以保存从RADIUS服务器复制的共享密钥。将文件放在您在步骤<a href="configuring-radius-authentication.html#GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0__CHDGEACB">2中</a>创建的目录中。
                                 </p>
                              </li>
                              <li>
                                 <p>复制共享密钥并将其粘贴（或其他任何内容）到Oracle数据库服务器上创建的<code class="codeph">radius.key</code>文件中。
                                 </p>
                              </li>
                              <li>
                                 <p>出于安全考虑， <code class="codeph">radius.key</code>的文件权限<code class="codeph">radius.key</code>为只读，只能由Oracle所有者访问。
                                 </p>
                                 <p>Oracle依靠文件系统来保密此文件。</p>
                                 <div class="infoboxnotealso" id="GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0__GUID-CE58051C-86AE-4017-9ECE-33F8B5A8FFA7">
                                    <p class="notep1">也可以看看：</p>
                                    <p>RADIUS服务器管理文档，以获取有关获取密钥的信息</p>
                                 </div>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" title="您必须创建一个文件来保存RADIUS密钥并将此文件存储在Oracle数据库服务器上。然后，您必须在sqlnet.ora文件中配置适当的参数。">步骤1B：在Oracle数据库服务器上配置RADIUS</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG10192"></a><div class="sect5"><a id="GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589" name="GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589"></a><h6 id="DBSEG-GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589" class="sect6">步骤1B（2）：在服务器上配置RADIUS参数（sqlnet.ora文件）</h6>
                        <div>
                           <p>创建RADIUS密钥文件后，您就可以在<code class="codeph">sqlnet.ora</code>文件中配置相应的参数。
                           </p>
                           <ol>
                              <li>
                                 <p>启动Oracle Net Manager。</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>（UNIX）从<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/bin</code> ，在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">netmgr</pre></li>
                                    <li>
                                       <p>（Windows）选择<span class="bold">开始</span> ， <span class="bold">程序</span> ， <span class="bold">Oracle  -  HOME_NAME</span> ， <span class="bold">配置和迁移工具</span> ，然后选择<span class="bold">Net Manager</span> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>展开<span class="bold">Oracle Net Configuration</span> ，然后从<span class="bold">Local</span>选择<span class="bold">Profile</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>从“ <span class="bold">命名”</span>列表中，选择“ <span class="bold">网络安全”</span> 。
                                 </p>
                                 <p>将出现“网络安全”选项卡式窗口。</p>
                              </li>
                              <li>
                                 <p>选择<span class="bold">Authentication</span>选项卡。
                                 </p>
                              </li>
                              <li>
                                 <p>从“可用方法”列表中，选择“ <span class="bold">RADIUS”</span> 。</p>
                              </li>
                              <li>
                                 <p>通过选择右箭头（ <span class="bold">&gt;</span> ）将RADIUS移动到<span class="bold">Selected Methods</span>列表。
                                 </p>
                              </li>
                              <li>
                                 <p>要按所需方式排列所选方法，请在“选定方法”列表中选择一种方法，然后选择“ <span class="bold">提升”</span>或“ <span class="bold">降级”</span>以将其放置在列表中。
                                 </p>
                                 <p>例如，如果您希望RADIUS成为第一个使用的服务，则将其放在列表的顶部。</p>
                              </li>
                              <li>
                                 <p>选择<span class="bold">其他参数</span>选项卡。
                                 </p>
                              </li>
                              <li>
                                 <p>从<span class="bold">Authentication Service</span>列表中，选择<span class="bold">RADIUS</span> 。</p>
                              </li>
                              <li>
                                 <p>在“ <span class="bold">主机名”</span>字段中，接受<span class="bold">localhost</span>作为默认主RADIUS服务器，或输入另一个主机名。
                                 </p>
                                 <div class="figure" id="GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589__GUID-CC6A2DC1-68DC-4F9C-8C63-E27F299F269A"><img src="img/radu0002.gif" alt="radu0002.gif的描述如下" title="radu0002.gif的描述如下" longdesc="img_text/radu0002.html"><br><a href="img_text/radu0002.html">插图描述radu0002.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>确保“ <span class="bold">密钥文件”</span>字段的默认值有效。
                                 </p>
                              </li>
                              <li>
                                 <p>从“ <span class="bold">文件”</span>菜单中，选择“ <span class="bold">保存网络配置”</span> 。
                                 </p>
                                 <p>使用以下条目更新<code class="codeph">sqlnet.ora</code>文件：</p><pre class="oac_no_warn" dir="ltr">SQLNET.AUTHENTICATION_SERVICES = RADIUS SQLNET.RADIUS_AUTHENTICATION = RADIUS_server_ {hostname | IP_address}</pre><div class="infoboxnote" id="GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589__GUID-9FC19965-1115-4F74-8763-BD842C4AA095">
                                    <p class="notep1">注意：</p>
                                    <p><code class="codeph">IP_address</code>可以是Internet协议版本4（IPv4）或Internet协议版本6（IPv6）地址。RADIUS适配器支持基于IPv4和IPv6的服务器。
                                    </p>
                                 </div>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" title="您必须创建一个文件来保存RADIUS密钥并将此文件存储在Oracle数据库服务器上。然后，您必须在sqlnet.ora文件中配置适当的参数。">步骤1B：在Oracle数据库服务器上配置RADIUS</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG10194"></a><div class="sect5"><a id="GUID-BF675735-4387-46B1-A1D4-63143AB4E78E" name="GUID-BF675735-4387-46B1-A1D4-63143AB4E78E"></a><h6 id="DBSEG-GUID-BF675735-4387-46B1-A1D4-63143AB4E78E" class="sect6">步骤1B（3）：设置Oracle数据库服务器初始化参数</h6>
                        <div>
                           <p>配置sqlnet.ora文件后，必须配置<code class="codeph">init.ora</code>初始化文件。
                           </p>
                           <ol>
                              <li>
                                 <p>将以下设置添加到<code class="codeph">init.ora</code>文件中。
                                 </p><pre class="oac_no_warn" dir="ltr">OS_AUTHENT_PREFIX = “”</pre><p>默认情况下， <code class="codeph">init.ora</code>文件位于Linux和UNIX系统上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/dbs</code>目录（或数据文件的相同位置）以及Windows上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\database</code>目录中。
                                 </p>
                              </li>
                              <li>
                                 <p>重启数据库。</p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SHUTDOWN SQL&gt; STARTUP</pre></li>
                           </ol>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-BF675735-4387-46B1-A1D4-63143AB4E78E__GUID-ADC9A725-7AAC-45FD-951A-94A49BC41B8E">
                              <p class="notep1">也可以看看：</p>
                              <p>有关设置初始化参数的信息，请参阅<a href="../refrn/initialization-parameters-2.html#REFRN-GUID-FD266F6F-D047-4EBB-8D96-B51B1DCA2D61" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" title="您必须创建一个文件来保存RADIUS密钥并将此文件存储在Oracle数据库服务器上。然后，您必须在sqlnet.ora文件中配置适当的参数。">步骤1B：在Oracle数据库服务器上配置RADIUS</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="DBSEG9623"></a><div class="sect4"><a id="GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" name="GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24"></a><h5 id="DBSEG-GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" class="sect5">步骤1C：配置其他RADIUS功能</h5>
                     <div>
                        <p>您可以更改默认设置，配置质询 - 响应模式，以及为备用RADIUS服务器设置参数。</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-BF0C22CD-59C6-4DFE-A7B8-95A076788761">步骤1C（1）：更改默认设置</a><br>您可以使用Oracle Net Manager更改默认RADIUS设置。
                           </li>
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F">步骤1C（2）：配置质询 - 响应模式</a><br>要配置质询 - 响应模式，您必须指定信息，例如从令牌卡获取的动态密码。
                           </li>
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-57352917-8238-4E6C-BC31-B9574DFA7574">步骤1C（3）：设置备用RADIUS服务器的参数</a><br>如果使用备用RADIUS服务器，则必须设置其他参数。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" title="要配置RADIUS身份验证，必须首先在Oracle客户端上配置它，然后在服务器上配置它。之后，您可以配置其他RADIUS功能。">步骤1：配置RADIUS身份验证</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="DBSEG10195"></a><div class="sect5"><a id="GUID-BF0C22CD-59C6-4DFE-A7B8-95A076788761" name="GUID-BF0C22CD-59C6-4DFE-A7B8-95A076788761"></a><h6 id="DBSEG-GUID-BF0C22CD-59C6-4DFE-A7B8-95A076788761" class="sect6">步骤1C（1）：更改默认设置</h6>
                        <div>
                           <p>您可以使用Oracle Net Manager更改默认RADIUS设置。</p>
                           <ol>
                              <li>
                                 <p>启动Oracle Net Manager。</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>（UNIX）从<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/bin</code> ，在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">netmgr</pre></li>
                                    <li>
                                       <p>（Windows）选择<span class="bold">开始</span> ， <span class="bold">程序</span> ， <span class="bold">Oracle  -  HOME_NAME</span> ， <span class="bold">配置和迁移工具</span> ，然后选择<span class="bold">Net Manager</span> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>展开<span class="bold">Oracle Net Configuration</span> ，然后从<span class="bold">Local</span>选择<span class="bold">Profile</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>从“ <span class="bold">命名”</span>列表中，选择“ <span class="bold">网络安全”</span> 。
                                 </p>
                                 <p>将出现“网络安全”选项卡式窗口。</p>
                              </li>
                              <li>
                                 <p>单击<span class="bold">其他参数</span>选项卡。
                                 </p>
                              </li>
                              <li>
                                 <p>从Authentication Service列表中，选择<span class="bold">RADIUS</span> 。</p>
                              </li>
                              <li>
                                 <p>更改以下任何字段的默认设置：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><span class="bold">端口号：</span>指定主RADIUS服务器的侦听端口。默认值为1645。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">超时（秒）：</span>指定Oracle数据库服务器等待主RADIUS服务器响应的时间。默认值为15秒。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">重试次数：</span>指定Oracle数据库服务器重新发送到主RADIUS服务器的消息的次数。默认为三次重试。有关配置RADIUS记帐的说明，请参阅<a href="configuring-radius-authentication.html#GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" title="RADIUS记帐会记录有关访问Oracle数据库服务器的信息，并将其存储在RADIUS记帐服务器上的文件中。">步骤4：配置RADIUS记帐</a> 。
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">密钥文件：</span>指定Oracle数据库服务器上密钥的位置。该字段指定密钥文件的位置，而不是密钥本身。有关指定密钥的信息，请参阅<a href="configuring-radius-authentication.html#GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0" title="首先，您必须创建RADIUS密钥文件。">步骤1B（1）：在Oracle数据库服务器上创建RADIUS密钥文件</a> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>从“ <span class="bold">文件”</span>菜单中，选择“ <span class="bold">保存网络配置”</span> 。<span class="bold"></span></p>
                                 <p>使用以下条目更新<code class="codeph">sqlnet.ora</code>文件：</p><pre class="oac_no_warn" dir="ltr">SQLNET.RADIUS_AUTHENTICATION_PORT =（PORT）SQLNET.RADIUS_AUTHENTICATION_TIMEOUT =（等待响应的秒数）SQLNET.RADIUS_AUTHENTICATION_RETRIES =（重新发送到RADIUS服务器的次数）SQLNET.RADIUS_SECRET =（path / radius.key）</pre></li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" title="您可以更改默认设置，配置质询 - 响应模式，以及为备用RADIUS服务器设置参数。">步骤1C：配置其他RADIUS功能</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG10196"></a><div class="sect5"><a id="GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" name="GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F"></a><h6 id="DBSEG-GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" class="sect6">步骤1C（2）：配置质询 - 响应模式</h6>
                        <div>
                           <p>要配置质询 - 响应模式，您必须指定信息，例如从令牌卡获取的动态密码。</p>
                           <p>使用RADIUS适配器，此接口基于Java，可提供最佳的平台独立性。</p>
                           <div class="infoboxnote" id="GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F__GUID-6EABDD0D-01B2-48C5-AEAC-A848EAB42398">
                              <p class="notep1">注意：</p>
                              <p>身份验证设备的第三方供应商必须自定义此图形用户界面以适合其特定设备。例如，智能卡供应商将自定义Java接口，以便Oracle客户端从智能卡读取数据，例如动态密码。当智能卡接收到挑战时，它通过提示用户提供更多信息（例如PIN）来响应。</p>
                           </div>
                           <p>配置质询 - 响应模式：</p>
                           <ol>
                              <li>
                                 <p>如果您使用的是JDK 1.1.7或JRE 1.1.7，则将<code class="codeph">JAVA_HOME</code>环境变量设置为运行Oracle客户端的系统上的JRE或JDK位置：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>在UNIX上，在提示符处输入以下命令：</p><pre class="oac_no_warn" dir="ltr">％setenv JAVA_HOME /usr/local/packages/jre1.1.7B</pre></li>
                                    <li>
                                       <p>在Windows上，选择“ <span class="bold">开始”</span> ， <span class="bold">“设置”</span> ，“ <span class="bold">控制面板”</span> ，“ <span class="bold">系统”</span> ，“ <span class="bold">环境”</span> ，然后按如下所示设置<code class="codeph">JAVA_HOME</code>变量：</p><pre class="oac_no_warn" dir="ltr">C：\ java的\ jre1.1.7B</pre></li>
                                 </ul>
                                 <p>任何其他JDK / JRE版本都不需要此步骤。</p>
                              </li>
                              <li>
                                 <p>启动Oracle Net Manager。</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>（UNIX）从<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/bin</code> ，在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">netmgr</pre></li>
                                    <li>
                                       <p>（Windows）选择<span class="bold">开始</span> ， <span class="bold">程序</span> ， <span class="bold">Oracle  -  HOME_NAME</span> ， <span class="bold">配置和迁移工具</span> ，然后选择<span class="bold">Net Manager</span> 。
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>展开<span class="bold">Oracle Net Configuration</span> ，然后从<span class="bold">Local</span>选择<span class="bold">Profile</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>从“ <span class="bold">命名”</span>列表中，选择“ <span class="bold">网络安全”</span> 。
                                 </p>
                                 <p>将出现“网络安全”选项卡式窗口。</p>
                              </li>
                              <li>
                                 <p>从Authentication Service列表中，选择<span class="bold">RADIUS</span> 。</p>
                              </li>
                              <li>
                                 <p>在<span class="bold">Challenge Response</span>字段中，输入<span class="bold">ON</span>以启用质询 - 响应。
                                 </p>
                              </li>
                              <li>
                                 <p>在“ <span class="bold">默认关键字”</span>字段中，接受质询的默认值，或输入用于从RADIUS服务器请求质询的关键字。
                                 </p>
                                 <p>关键字功能由Oracle提供，并由部分（但不是全部）RADIUS服务器提供支持。仅当RADIUS服务器支持此功能时，才能使用此功能。</p>
                                 <p>通过设置关键字，您可以让用户避免使用密码来验证身份。如果用户<span class="italic">未</span>输入密码，则您在此处设置的关键字将传递给RADIUS服务器，该服务器会以质询请求响应，例如，驱动程序的许可证号或出生日期。如果用户<span class="italic">确实</span>输入了密码，则RADIUS服务器可能会也可能不会响应质询，具体取决于RADIUS服务器的配置。
                                 </p>
                              </li>
                              <li>
                                 <p>在<span class="bold">Interface Class Name</span>字段中，接受<span class="bold">DefaultRadiusInterface</span>的默认值，或输入您为处理质询 - 响应对话而创建的类的名称。
                                 </p>
                                 <p>如果使用默认RADIUS接口以外的其他方法，则还必须编辑<code class="codeph">sqlnet.ora</code>文件以输入<code class="codeph">SQLNET.RADIUS_CLASSPATH=(location)</code> ，其中<code class="codeph">location</code>是jar文件的完整路径名。它默认为<span class="italic"><code class="codeph">$</code></span> <code class="codeph">ORACLE_HOME/network/jlib/netradius.jar:</code> <span class="italic"><code class="codeph">$</code></span> <code class="codeph">ORACLE_HOME/JRE/lib/vt.jar</code></p>
                              </li>
                              <li>
                                 <p>从“ <span class="bold">文件”</span>菜单中，选择“ <span class="bold">保存网络配置”</span> 。
                                 </p>
                                 <p>使用以下条目更新<code class="codeph">sqlnet.ora</code>文件：</p><pre class="oac_no_warn" dir="ltr">SQLNET.RADIUS_CHALLENGE_RESPONSE =（[ON | OFF]）SQLNET.RADIUS_CHALLENGE_KEYWORD =（KEYWORD）SQLNET.RADIUS_AUTHENTICATION_INTERFACE =（接口名称，包括由“。”分隔的包名称，用于“。”）</pre></li>
                           </ol>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F__GUID-C07B965C-CA9D-417A-BE16-4B65ADF95A06">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="integrating-authentication-devices-using-radius.html#GUID-7A1699DF-606B-4D10-82B5-FAD105B4F872" title="RADIUS质询 - 响应用户界面进一步增强了RADIUS配置中的身份验证。">集成身份验证设备使用RADIUS</a>获取有关如何自定义质询 - 响应用户界面的信息</p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" title="您可以更改默认设置，配置质询 - 响应模式，以及为备用RADIUS服务器设置参数。">步骤1C：配置其他RADIUS功能</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG10197"></a><div class="sect5"><a id="GUID-57352917-8238-4E6C-BC31-B9574DFA7574" name="GUID-57352917-8238-4E6C-BC31-B9574DFA7574"></a><h6 id="DBSEG-GUID-57352917-8238-4E6C-BC31-B9574DFA7574" class="sect6">步骤1C（3）：设置备用RADIUS服务器的参数</h6>
                        <div>
                           <p>如果使用备用RADIUS服务器，则必须设置其他参数。</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在<code class="codeph">sqlnet.ora</code>文件中设置以下参数：</p><pre class="oac_no_warn" dir="ltr">SQLNET.RADIUS_ALTERNATE =（ <span class="italic">备用半径服务器的主机名或IP地址</span> ）SQLNET.RADIUS_ALTERNATE_PORT =（1812）SQLNET.RADIUS_ALTERNATE_TIMEOUT =（ <span class="italic">等待响应的秒数</span> ）SQLNET.RADIUS_ALTERNATE_RETRIES =（ <span class="italic">重新发送到radius服务器的次数</span> ）</pre></li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" title="您可以更改默认设置，配置质询 - 响应模式，以及为备用RADIUS服务器设置参数。">步骤1C：配置其他RADIUS功能</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="DBSEG9624"></a><div class="sect3"><a id="GUID-59C87E2B-BE16-4966-84D1-8A230AD00430" name="GUID-59C87E2B-BE16-4966-84D1-8A230AD00430"></a><h4 id="DBSEG-GUID-59C87E2B-BE16-4966-84D1-8A230AD00430" class="sect4">第2步：创建用户并授予访问权限</h4>
                  <div>
                     <p>完成RADIUS身份验证后，必须创建用于RADIUS配置的Oracle数据库用户。</p>
                     <ol>
                        <li>
                           <p>启动SQL * Plus，然后执行这些语句，以创建和授予对Oracle数据库服务器外部标识的用户的访问权限。</p><pre class="oac_no_warn" dir="ltr">CONNECT system @ <span class="italic">database_name</span> ;输入密码： <span class="italic">密码</span> CREATE USER <span class="italic">username</span> IDENTIFIED EXTERNALLY; GRANT创建会话到USER用户<span class="italic">名</span> ;出口</pre><p>如果您使用的是Windows，则可以使用Oracle Enterprise Manager中的Security Manager工具。</p>
                        </li>
                        <li>
                           <p>在RADIUS服务器的用户文件中输入相同的<span class="italic"><code class="codeph">username</code></span> 。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-59C87E2B-BE16-4966-84D1-8A230AD00430__GUID-6ED4CDCF-B5A4-4633-B2C3-9FC4CB343EEB">
                        <p class="notep1">也可以看看：</p>
                        <p>RADIUS服务器的管理文档</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。">启用RADIUS身份验证，授权和记帐</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9625"></a><div class="sect3"><a id="GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" name="GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5"></a><h4 id="DBSEG-GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" class="sect4">第3步：配置外部RADIUS授权（可选）</h4>
                  <div>
                     <p>您必须将Oracle服务器，Oracle客户端和RADIUS服务器配置为必须连接到Oracle数据库的RADIUS用户。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-DE1602C3-B336-4672-A907-CD2AAE773CF6">步骤3A：配置Oracle Server（RADIUS客户端）</a><br>您可以编辑<code class="codeph">init.ora</code>文件以为RADIUS客户端配置Oracle服务器。
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-ADC1D231-3762-4FC5-B1A3-98088BF10888">步骤3B：配置用户登录的Oracle客户端</a><br>接下来，您必须配置用户登录的Oracle客户端。
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-78799317-4902-43D7-8EB2-5645F731F530">步骤3C：配置RADIUS服务器</a><br>要配置RADIUS服务器，必须修改RADIUS服务器属性配置文件。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。">启用RADIUS身份验证，授权和记帐</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG10198"></a><div class="sect4"><a id="GUID-DE1602C3-B336-4672-A907-CD2AAE773CF6" name="GUID-DE1602C3-B336-4672-A907-CD2AAE773CF6"></a><h5 id="DBSEG-GUID-DE1602C3-B336-4672-A907-CD2AAE773CF6" class="sect5">步骤3A：配置Oracle Server（RADIUS客户端）</h5>
                     <div>
                        <p>您可以编辑<code class="codeph">init.ora</code>文件以为RADIUS客户端配置Oracle服务器。
                        </p>
                        <p>为此，您必须修改<code class="codeph">init.ora</code>文件，重新启动数据库，并设置RADIUS质询 - 响应模式。
                        </p>
                        <ol>
                           <li>
                              <p>将<code class="codeph">OS_ROLES</code>参数添加到<code class="codeph">init.ora</code>文件，并将此参数设置为<code class="codeph">TRUE</code> ，如下所示：</p><pre class="oac_no_warn" dir="ltr">OS_ROLES = TRUE</pre><p>默认情况下， <code class="codeph">init.ora</code>文件位于Linux和UNIX系统上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/dbs</code>目录（或数据文件的相同位置）以及Windows上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\database</code>目录中。
                              </p>
                           </li>
                           <li>
                              <p>重新启动数据库，以便系统可以读取对<code class="codeph">init.ora</code>文件的更改。
                              </p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SHUTDOWN SQL&gt; STARTUP</pre></li>
                           <li>
                              <p>如果尚未执行此操作，请按照<a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" title="To configure challenge-response mode, you must specify information such as a dynamic password that you obtain from a token card.">步骤1C（2）中</a>列出的<a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" title="To configure challenge-response mode, you must specify information such as a dynamic password that you obtain from a token card.">步骤</a>将RADIUS质询 - 响应模式设置为<code class="codeph">ON</code> <a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" title="要配置质询 - 响应模式，您必须指定信息，例如从令牌卡获取的动态密码。">：配置质询 - 响应模式</a> 。
                              </p>
                           </li>
                           <li>
                              <p>添加外部标识的用户和角色。</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" title="您必须将Oracle服务器，Oracle客户端和RADIUS服务器配置为必须连接到Oracle数据库的RADIUS用户。">步骤3：配置外部RADIUS授权（可选）</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG10199"></a><div class="sect4"><a id="GUID-ADC1D231-3762-4FC5-B1A3-98088BF10888" name="GUID-ADC1D231-3762-4FC5-B1A3-98088BF10888"></a><h5 id="DBSEG-GUID-ADC1D231-3762-4FC5-B1A3-98088BF10888" class="sect5">步骤3B：配置用户登录的Oracle客户端</h5>
                     <div>
                        <p>接下来，您必须配置用户登录的Oracle客户端。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果尚未执行此操作，请按照<a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" title="To configure challenge-response mode, you must specify information such as a dynamic password that you obtain from a token card.">步骤1C（2）中</a>列出的<a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" title="要配置质询 - 响应模式，您必须指定信息，例如从令牌卡获取的动态密码。">步骤：配置质询 - 响应模式</a> ，将客户端的RADIUS质询 - 响应模式设置为<code class="codeph">ON</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" title="您必须将Oracle服务器，Oracle客户端和RADIUS服务器配置为必须连接到Oracle数据库的RADIUS用户。">步骤3：配置外部RADIUS授权（可选）</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG494"></a><div class="sect4"><a id="GUID-78799317-4902-43D7-8EB2-5645F731F530" name="GUID-78799317-4902-43D7-8EB2-5645F731F530"></a><h5 id="DBSEG-GUID-78799317-4902-43D7-8EB2-5645F731F530" class="sect5">步骤3C：配置RADIUS服务器</h5>
                     <div>
                        <p>要配置RADIUS服务器，必须修改RADIUS服务器属性配置文件。</p>
                        <ol>
                           <li>
                              <p>将以下属性添加到RADIUS服务器属性配置文件中：</p>
                              <div class="tblformal" id="GUID-78799317-4902-43D7-8EB2-5645F731F530__GUID-761F0729-9EC8-4CB0-AE97-0AF34720026E">
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="" width="90%" border="1" summary="This table lists the attribute name, code, and type that you must add to the RADIUS server attribute configuration file." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="33%" id="d141335e4348">属性名称</th>
                                          <th align="left" valign="bottom" width="33%" id="d141335e4351">码</th>
                                          <th align="left" valign="bottom" width="33%" id="d141335e4354">类型</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="33%" id="d141335e4359" headers="d141335e4348 ">
                                             <p><code class="codeph">VENDOR_SPECIFIC</code></p>
                                          </td>
                                          <td align="left" valign="top" width="33%" headers="d141335e4359 d141335e4351 ">
                                             <p>26</p>
                                          </td>
                                          <td align="left" valign="top" width="33%" headers="d141335e4359 d141335e4354 ">
                                             <p>整数</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="33%" id="d141335e4370" headers="d141335e4348 ">
                                             <p><code class="codeph">ORACLE_ROLE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="33%" headers="d141335e4370 d141335e4351 ">
                                             <p>1</p>
                                          </td>
                                          <td align="left" valign="top" width="33%" headers="d141335e4370 d141335e4354 ">
                                             <p>串</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </li>
                           <li>
                              <p>在RADIUS服务器属性配置文件中为Oracle分配供应商ID，该文件包含SMI网络管理专用企业代码<code class="codeph">111</code> 。
                              </p>
                              <p>例如，在RADIUS服务器属性配置文件中输入以下内容：</p>
                              <p><code class="codeph">VALUE VENDOR_SPECIFIC ORACLE 111</code></p>
                           </li>
                           <li>
                              <p>使用以下语法，将<code class="codeph">ORACLE_ROLE</code>属性添加到将使用外部RADIUS授权的用户的用户配置文件：</p>
                              <p><code class="codeph">ORA_</code> <span class="italic"><code class="codeph">databaseSID</code></span> <code class="codeph">_</code> <span class="italic"><code class="codeph">rolename</code></span> <code class="codeph">[_[A]|[D]]</code></p>
                              <p>在本说明书中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ORA</code>指定此角色用于Oracle目的</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">databaseSID</code>是在数据库<code class="codeph">init.ora</code>文件中配置的Oracle系统标识符。
                                    </p>
                                    <p>默认情况下， <code class="codeph">init.ora</code>文件位于Linux和UNIX系统上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/dbs</code>目录（或数据文件的相同位置）以及Windows上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\database</code>目录中。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">rolename</code>是角色的名称，因为它在数据字典中定义。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">A</code>是一个可选字符，表示用户具有此角色的管理员权限。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">D</code>是一个可选字符，表示默认情况下将启用此角色。
                                    </p>
                                 </li>
                              </ul>
                              <p>确保映射到Oracle角色的RADIUS组遵循<code class="codeph">ORACLE_ROLE</code>语法。
                              </p>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">USERNAME USERPASSWD =“ <span class="italic">user_password</span> ”，SERVICE_TYPE = login_user，VENDOR_SPECIFIC = ORACLE，ORACLE_ROLE = ORA_ora920_sysdba</pre><div class="infoboxnotealso" id="GUID-78799317-4902-43D7-8EB2-5645F731F530__GUID-D56ED2A4-D0D8-4F15-ADA0-4F8F774F806A">
                                 <p class="notep1">也可以看看：</p>
                                 <p>有关配置服务器的信息，请参阅RADIUS服务器管理文档。</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" title="您必须将Oracle服务器，Oracle客户端和RADIUS服务器配置为必须连接到Oracle数据库的RADIUS用户。">步骤3：配置外部RADIUS授权（可选）</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9626"></a><div class="sect3"><a id="GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" name="GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900"></a><h4 id="DBSEG-GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" class="sect4">第4步：配置RADIUS记帐</h4>
                  <div>
                     <p>RADIUS记帐会记录有关访问Oracle数据库服务器的信息，并将其存储在RADIUS记帐服务器上的文件中。</p>
                     <p>仅当RADIUS服务器和身份验证服务器都支持此功能时才使用此功能。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-868915E2-A9BB-407D-A0D6-3C5337317ACA">步骤4A：在Oracle数据库服务器上设置RADIUS计费</a><br>要在服务器上设置RADIUS记帐，可以使用Oracle Net Manager。
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-B3345313-1B18-4CBF-9A8F-FF43AC72EC90">步骤4B：配置RADIUS计费服务器</a><br>RADIUS计费服务器与RADIUS身份验证服务器位于同一主机上，也位于单独的主机上。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。">启用RADIUS身份验证，授权和记帐</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9627"></a><div class="sect4"><a id="GUID-868915E2-A9BB-407D-A0D6-3C5337317ACA" name="GUID-868915E2-A9BB-407D-A0D6-3C5337317ACA"></a><h5 id="DBSEG-GUID-868915E2-A9BB-407D-A0D6-3C5337317ACA" class="sect5">步骤4A：在Oracle数据库服务器上设置RADIUS计费</h5>
                     <div>
                        <p>要在服务器上设置RADIUS记帐，可以使用Oracle Net Manager。</p>
                        <ol>
                           <li>
                              <p>启动Oracle Net Manager。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>（UNIX）从<span class="italic"><code class="codeph">$ORACLE_HOME</code></span> <code class="codeph">/bin</code> ，在命令行中输入以下命令：</p><pre class="oac_no_warn" dir="ltr">netmgr</pre></li>
                                 <li>
                                    <p>（Windows）选择<span class="bold">开始</span> ， <span class="bold">程序</span> ， <span class="bold">Oracle  -  HOME_NAME</span> ， <span class="bold">配置和迁移工具</span> ，然后选择<span class="bold">Net Manager</span> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>展开<span class="bold">Oracle Net Configuration</span> ，然后从<span class="bold">Local</span>选择<span class="bold">Profile</span> 。
                              </p>
                           </li>
                           <li>
                              <p>从“ <span class="bold">命名”</span>列表中，选择“ <span class="bold">网络安全”</span> 。
                              </p>
                              <p>将出现“网络安全”选项卡式窗口。</p>
                           </li>
                           <li>
                              <p>选择<span class="bold">其他参数</span>选项卡。
                              </p>
                           </li>
                           <li>
                              <p>从Authentication Service列表中，选择<span class="bold">RADIUS</span> 。</p>
                           </li>
                           <li>
                              <p>在“ <span class="bold">发送会计”</span>字段中，输入“ <span class="bold">开”</span>以启用记帐，或输入“ <span class="bold">关”</span>以禁用记帐。
                              </p>
                           </li>
                           <li>
                              <p>从“ <span class="bold">文件”</span>菜单中，选择“ <span class="bold">保存网络配置”</span> 。
                              </p>
                              <p>使用以下条目更新<code class="codeph">sqlnet.ora</code>文件：</p><pre class="oac_no_warn" dir="ltr">SQLNET.RADIUS_SEND_ACCOUNTING = ON</pre></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" title="RADIUS记帐会记录有关访问Oracle数据库服务器的信息，并将其存储在RADIUS记帐服务器上的文件中。">步骤4：配置RADIUS记帐</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9628"></a><div class="sect4"><a id="GUID-B3345313-1B18-4CBF-9A8F-FF43AC72EC90" name="GUID-B3345313-1B18-4CBF-9A8F-FF43AC72EC90"></a><h5 id="DBSEG-GUID-B3345313-1B18-4CBF-9A8F-FF43AC72EC90" class="sect5">步骤4B：配置RADIUS计费服务器</h5>
                     <div>
                        <p>RADIUS计费服务器与RADIUS身份验证服务器位于同一主机上，也位于单独的主机上。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关配置RADIUS记帐的信息，请参阅RADIUS服务器的管理文档。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" title="RADIUS记帐会记录有关访问Oracle数据库服务器的信息，并将其存储在RADIUS记帐服务器上的文件中。">步骤4：配置RADIUS记帐</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9629"></a><div class="sect3"><a id="GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7" name="GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7"></a><h4 id="DBSEG-GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7" class="sect4">步骤5：将RADIUS客户端名称添加到RADIUS服务器数据库</h4>
                  <div>
                     <p>您选择的RADIUS服务器必须符合RADIUS标准。</p>
                     <p>您可以使用符合Internet工程任务组（IETF）RFC＃2138， <span class="italic">远程身份验证拨入用户服务（RADIUS）</span>和RFC＃2139 <span class="italic">RADIUS Accounting</span>标准的任何RADIUS服务器。由于RADIUS服务器不同，请参阅特定RADIUS服务器的文档，以了解任何独特的互操作性要求。
                     </p>
                     <p>要将RADIUS客户端名称添加到Livingston RADIUS服务器：</p>
                     <ol>
                        <li>
                           <p>打开客户端文件，该文件位于<code class="codeph">/etc/raddb/clients</code> 。
                           </p>
                           <p>出现以下文本和表格：</p><pre class="oac_no_warn" dir="ltr">@（＃）clients 1.1 2/21/96版权所有1991 Livingston Enterprises Inc此文件包含允许发出身份验证请求及其加密密钥的客户端列表。第一个字段是有效的主机名。第二个字段（由空格或制表符分隔）是加密密钥。客户名称密钥</pre></li>
                        <li>
                           <p>在<code class="codeph">CLIENT NAME</code>列中，输入运行Oracle数据库服务器的主机的主机名或IP地址。
                           </p>
                           <p>在<code class="codeph">KEY</code>列中，键入共享密钥。
                           </p>
                           <p>您在<code class="codeph">CLIENT NAME</code>列中输入的值，无论是客户端的名称还是IP地址，都取决于RADIUS服务器。
                           </p>
                        </li>
                        <li>
                           <p>保存并关闭客户端文件。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7__GUID-DB92902D-CADD-4809-B0B5-A63CC09F070C">
                        <p class="notep1">也可以看看：</p>
                        <p>RADIUS服务器的管理文档</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。">启用RADIUS身份验证，授权和记帐</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9630"></a><div class="sect3"><a id="GUID-B8B193E5-65C1-43FD-8DFD-9DCBAA3F81A3" name="GUID-B8B193E5-65C1-43FD-8DFD-9DCBAA3F81A3"></a><h4 id="DBSEG-GUID-B8B193E5-65C1-43FD-8DFD-9DCBAA3F81A3" class="sect4">步骤6：配置用于RADIUS的身份验证服务器</h4>
                  <div>
                     <p>将RADIUS客户端名称添加到RADIUS服务器数据库后，可以将身份验证服务器配置为使用RADIUS。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关配置身份验证服务器的说明，请参阅身份验证服务器文档。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。">启用RADIUS身份验证，授权和记帐</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9631"></a><div class="sect3"><a id="GUID-D16696B2-A684-4F7D-A5A6-6A1559B985B2" name="GUID-D16696B2-A684-4F7D-A5A6-6A1559B985B2"></a><h4 id="DBSEG-GUID-D16696B2-A684-4F7D-A5A6-6A1559B985B2" class="sect4">步骤7：配置RADIUS服务器以与身份验证服务器一起使用</h4>
                  <div>
                     <p>配置认证服务器以用于RADIUS后，可以配置RADIUS服务器以使用认证服务器。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关配置RADIUS服务器以与身份验证服务器一起使用的说明，请参阅RADIUS服务器文档。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。">启用RADIUS身份验证，授权和记帐</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9632"></a><div class="sect3"><a id="GUID-C9B89594-9CB1-4524-8D9F-EF86F4629DFE" name="GUID-C9B89594-9CB1-4524-8D9F-EF86F4629DFE"></a><h4 id="DBSEG-GUID-C9B89594-9CB1-4524-8D9F-EF86F4629DFE" class="sect4">步骤8：配置映射角色</h4>
                  <div>
                     <p>如果RADIUS服务器支持供应商类型属性，则可以通过将角色存储在RADIUS服务器中来管理角色。</p>
                     <p>当使用RADIUS发出<code class="codeph">CONNECT</code>请求时，Oracle数据库服务器会下载角色。要使用此功能，必须在Oracle数据库服务器和RADIUS服务器上配置角色。
                     </p>
                     <ol>
                        <li>
                           <p>使用文本编辑器在Oracle数据库服务器上的初始化参数文件中设置<code class="codeph">OS_ROLES</code>参数。
                           </p>
                           <p>默认情况下， <code class="codeph">init.ora</code>文件位于Linux和UNIX系统上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/dbs</code>目录（或数据文件的相同位置）以及Windows上的<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\database</code>目录中。
                           </p>
                        </li>
                        <li>
                           <p>停止并重新启动Oracle数据库服务器。</p>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">关机启动</pre></li>
                        <li>
                           <p>创建RADIUS服务器将在Oracle数据库服务器上使用值<code class="codeph">IDENTIFIED EXTERNALLY</code>管理的每个角色。</p>
                           <p>要在RADIUS服务器上配置角色，请使用以下语法：</p><pre class="oac_no_warn" dir="ltr">ORA_DatabaseName。DatabaseDomainName_RoleName</pre><p>在本规范中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">DatabaseName</code>是要为其创建角色的Oracle数据库服务器的名称。这与DB_NAME初始化参数的值相同。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DatabaseDomainName</code>是Oracle数据库服务器所属的域的名称。该值与<code class="codeph">DB_DOMAIN</code>初始化参数的值相同。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">RoleName</code>是在Oracle数据库服务器中创建的角色的名称。
                                 </p>
                              </li>
                           </ul>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">ORA_USERDB.US.EXAMPLE.COM_MANAGER</pre></li>
                        <li>
                           <p>配置RADIUS质询 - 响应模式。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07" title="当系统使用异步模式时，用户无需在SQL * Plus CONNECT字符串中输入用户名和密码。">挑战 - 响应（异步）认证模式</a></li>
                           <li><a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" title="要配置质询 - 响应模式，您必须指定信息，例如从令牌卡获取的动态密码。">步骤1C（2）：配置质询 - 响应模式</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="要启用RADIUS身份验证，授权和记帐，您可以使用Oracle Net Manager。">启用RADIUS身份验证，授权和记帐</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG9633"></a><div class="sect2"><a id="GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0" name="GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0"></a><h3 id="DBSEG-GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0" class="sect3">使用RADIUS登录数据库</h3>
               <div>
                  <p>您可以使用RADIUS通过同步身份验证模式或质询 - 响应模式登录数据库。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>启动SQL * Plus并使用以下方法之一登录数据库：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>如果使用同步身份验证模式，请首先确保质询 - 响应模式未转为<code class="codeph">ON</code> ，然后输入以下命令：</p><pre class="oac_no_warn" dir="ltr">CONNECT <span class="italic">username</span> @ <span class="italic">database_alias</span>输入密码： <span class="italic">password</span>
</pre></li>
                           <li>
                              <p>如果您正在使用质询 - 响应模式，请确保将质询 - 响应模式设置为<code class="codeph">ON</code> ，然后输入以下命令：</p><pre class="oac_no_warn" dir="ltr">CONNECT / @ <span class="italic">database_alias</span>
</pre></li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0__GUID-9BC35711-5842-47B7-9BE6-B7EDFFD30635">
                     <p class="notep1">注意：</p>
                     <p></p>
                     <p>可以为所有登录案例配置质询 - 响应模式。</p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS是一种客户端/服务器安全协议，广泛用于启用远程身份验证和访问。">配置RADIUS身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9634"></a><div class="sect2"><a id="GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB" name="GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB"></a><h3 id="DBSEG-GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB" class="sect3">RSA ACE /服务器配置清单</h3>
               <div>
                  <p>如果您使用的是RSA ACE / Server RADIUS服务器，请在进行初始连接之前检查此服务器的Host Agent和SecurID令牌。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>确保RSA ACE / Server中的主机代理已设置为发送节点机密。在5.0版中，这是通过取消选中“SENT节点”密码框来完成的。如果RSA ACE / Server无法向代理发送节点机密，则会将节点验证失败消息写入RSA ACE / Server日志。</p>
                     </li>
                     <li>
                        <p>如果您使用的是RSA SecurID令牌，请确保令牌与RSA ACE / Server同步。</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB__GUID-C440555E-E247-41D8-8CCA-94994D9A4C5A">
                     <p class="notep1">也可以看看：</p>
                     <p>有关故障排除的特定信息，请参阅RSA ACE / Server文档。</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS是一种客户端/服务器安全协议，广泛用于启用远程身份验证和访问。">配置RADIUS身份验证</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id="01562.using-flasback-database-restore-points.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用闪回数据库和还原点</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96241-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configuring-rman-client-advanced.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part-backing-up-archiving.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="BRADV"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-rman-client-advanced.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part-backing-up-archiving.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复用户指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-starting-configuring-rman.html" property="item" typeof="WebPage"><span property="name">启动和配置RMAN和闪回数据库</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用闪回数据库和还原点</li>
            </ol>
            <a id="GUID-909BBEEF-389B-443B-8CD7-F3C027AAFFF3" name="GUID-909BBEEF-389B-443B-8CD7-F3C027AAFFF3"></a><a id="BRADV71000"></a>
            
            <h2 id="BRADV-GUID-909BBEEF-389B-443B-8CD7-F3C027AAFFF3" class="sect2"><span class="enumeration_chapter">7</span>使用闪回数据库和还原点</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍闪回数据库和还原点。它讨论了配置，监视和维护这些功能，作为整体数据保护策略的一部分。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-FAA04D1F-36E2-4B20-954F-845E42386775" title="Oracle闪回数据库和还原点是相关的数据保护功能，使您能够及时回溯数据，以纠正在指定时间窗口内由逻辑数据损坏或用户错误导致的任何问题。">闪回数据库，还原点和保证还原点概述</a></p>
                  </li>
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-E90F7FBD-CCE2-4234-A3B4-FDFEC3BC2E90" title="记录闪回数据库和保证还原点涉及在应用更改之前捕获数据文件块的映像。FLASHBACK DATABASE命令可以使用这些图像将数据文件返回到先前的状态。">关于记录闪回数据库和保证还原点</a></p>
                  </li>
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="要确保闪回数据库的成功运行和有保证的还原点，必须先设置一些关键数据库选项。">闪回数据库和保证还原点的先决条件</a></p>
                  </li>
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-2C846D84-EDCC-4FAA-9F6A-05CD0C6C7C09" title="您可以创建，监视和删除正常和保证还原点。">使用正常和保证还原点</a></p>
                  </li>
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-4E96DB60-3616-4680-866A-F38A6049053A" title="要对目标数据库使用闪回日志记录，必须启用闪回数据库。可以遵循某些准则以确保闪回数据库的最佳性能。">使用闪回数据库</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-909BBEEF-389B-443B-8CD7-F3C027AAFFF3__GUID-DC5B60B4-8FC2-4C41-B8BF-DBF72DC7ABCE">
                  <p class="notep1">注意：</p>
                  <p>有关使用闪回数据库以及正常和保证还原点的恢复方案的详细信息，请参阅<a href="rman-performing-flashback-dbpitr.html#GUID-5463669A-DC89-4FF4-ACCE-136A72DF687B" title="此概述描述了Oracle闪回技术和数据库时间点恢复的目的和基本概念。某些情况适合使用时间点恢复或闪回功能，以便在之前的某个时间点将数据库或数据库对象返回到其状态。数据库时间点恢复（DBPITR）和闪回功能使您可以将数据库恢复到先前的某个时间点。DBPITR在物理级别工作，以在过去的目标时间将数据文件返回到其状态。RMAN为一个或多个PDB的时间点恢复提供支持。要恢复PDB，必须以具有SYSDBA或SYSBACKUP权限的用户身份连接到root。恢复后，PDB的旧备份仍然有效，并且可以在发生介质故障时使用。在大多数可用的情况下，Oracle数据库的闪回功能比介质恢复更有效。您可以使用它们来调查数据库的过去状态。Oracle闪回数据库是DBPITR最有效的替代方法。逻辑闪回功能用于将表及其内容恢复到过去的时间。您可以对整个多租户容器数据库（CDB）或特定可插拔数据库（PDB）执行闪回数据库操作。多租户容器数据库（CDB）可以使用共享撤消或本地撤消。RMAN用于执行闪回数据库操作的技术取决于CDB的撤消配置类型.RMAN提供了管理PDB中数据块的重做损坏的方法。闪回表使用撤消表空间中的信息而不是恢复的备份来检索表。发生闪回表操作时，将删除新行并重新插入旧行。在执行表的闪回时，数据库的其余部分仍然可用。要执行闪回表操作，该表必须有资格闪回，并且执行操作的用户必须具有所需的权限。要在一个或多个表上使用闪回表功能，请使用带有目标时间或SCN的FLASHBACK TABLE SQL语句。默认情况下，数据库在执行FLASHBACK TABLE操作之前禁用受影响表上的触发器。在操作之后，数据库将触发器返回到操作之前的状态（启用或禁用）。您可以使用FLASHBACK TABLE从回收站中检索对象...在DROP声明之前。Flashback Drop可以反转DROP TABLE操作的效果。闪回丢弃比在这种情况下可以使用的其他恢复机制（如时间点恢复）更快，并且不会导致停机或丢失最近的事务。在执行闪回删除操作之前，必须满足先决条件。使用FLASHBACK TABLE ...在DROP语句之前要从回收站中恢复对象。您可以指定回收站中表的名称或原始表名。您可以使用相同的原始名称创建，然后删除多个对象。所有丢弃的对象都存储在回收站中。闪回数据库通过将数据库返回到先前某个时间点的状态来反转不需要的更改。闪回数据库通过撤消对运行命令时存在的数据文件的更改来工作。必须满足先决条件才能执行闪回数据库操作。闪回数据库操作使用FLASHBACK DATABASE命令将数据库回滚到过去的某个时间点。您可以使用FLASHBACK DATABASE命令为整个多租户容器数据库（CDB）执行闪回数据库操作。您可以使用FLASHBACK DATABASE命令对多租户容器数据库（CDB）中的单个可插拔数据库（PDB）执行闪回数据库操作。数据字典视图包含用于监视闪回数据库的信息。RMAN DBPITR在目标恢复时间之前从备份还原数据库，然后使用增量备份和重做将数据库前滚到目标时间。您可以恢复到SCN，时间，日志序列号或还原点。Oracle建议您在重要时间创建还原点，以便在必要时使时间点恢复更易于管理。必须满足某些先决条件才能执行数据库时间点恢复（DBPITR）。使用RESTORE和RECOVER命令执行DBPITR。使用RECOVER命令执行容器数据库（CDB）和可插拔数据库（PDB）的时间点恢复（PITR）。PDB的PITR只能使用RMAN执行。使用RESTORE和RECOVER命令为整个CDB执行时间点恢复。当您将一个或多个PDB恢复到指定的时间点时，剩余的PDB将在国家开发银行不受影响，可以开放和运作。使用RESTORE和RECOVER命令执行应用程序PDB的时间点恢复。执行稀疏数据库的时间点恢复类似于执行正常数据库的时间点恢复。本节介绍基本闪回数据库和DBPITR方案的变体。闪回数据库可用于撤消OPEN RESETLOGS操作。跨OPEN RESETLOGS的闪回数据库可用于在Data Guard环境中执行多个功能。您可以使用闪回数据库将数据库回滚到废弃的数据库化身。要将DPITR执行到非当前数据库化身，必须显式执行RESET DATABASE以将数据库重置为目标SCN上当前的化身。您还必须从包含目标SCN的数据库化身中还原控制文件。">执行闪回和数据库时间点恢复</a> 。
                  </p>
               </div>
            </div><a id="BRADV180"></a><div class="props_rev_3"><a id="GUID-FAA04D1F-36E2-4B20-954F-845E42386775" name="GUID-FAA04D1F-36E2-4B20-954F-845E42386775"></a><h3 id="BRADV-GUID-FAA04D1F-36E2-4B20-954F-845E42386775" class="sect3"><span class="enumeration_section">7.1</span>闪回数据库，还原点和保证还原点概述</h3>
               <div>
                  <p>Oracle闪回数据库和还原点是相关的数据保护功能，使您能够及时回溯数据，以纠正在指定时间窗口内由逻辑数据损坏或用户错误导致的任何问题。</p>
                  <p>这些功能提供了一种更有效的时间点恢复替代方案，并且不需要首先恢复数据库的备份。效果类似于<a href="glossary.html#GUID-FCC8BB91-79B6-4AF1-974A-43E75CD161E3"><span class="xrefglossterm">数据库时间点恢复（DBPITR）</span></a> 。闪回数据库和还原点不仅在传统数据库恢复情况下有效，而且在必须快速创建和重新创建测试数据库的数据库升级，应用程序部署和测试方案期间也很有用。闪回数据库还提供了在Data Guard故障转移后重建故障主数据库的有效替代方法。
                  </p>
                  <p>还原点提供与闪回数据库和其他介质恢复操作相关的功能。特别是，在系统更改号（SCN）上创建的保证还原点可确保您可以使用闪回数据库将数据库回滚到此SCN。您可以单独或一起使用还原点和闪回数据库。</p>
                  <p>闪回数据库可通过RMAN和SQL作为<code class="codeph">FLASHBACK DATABASE</code> 。您可以使用任一语言从逻辑数据损坏或用户错误中快速恢复数据库。以下示例将数据库返回到指定的SCN或还原点：</p><pre class="pre codeblock"><code>FLASHBACK DATABASE恢复PO''before_upgrade'; FLASHBACK DATABASE TO SCN 202381;</code></pre><div class="infoboxnotealso" id="GUID-FAA04D1F-36E2-4B20-954F-845E42386775__GUID-DB8A922F-0AA5-403B-BC4F-D927F669F039">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../sbydb/examples-of-using-oracle-data-guard.html#SBYDB4891" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a></p>
                  </div>
               </div><a id="BRADV582"></a><div class="props_rev_3"><a id="GUID-509FB7A6-4CB2-4730-80CA-7B2D68F50773" name="GUID-509FB7A6-4CB2-4730-80CA-7B2D68F50773"></a><h4 id="BRADV-GUID-509FB7A6-4CB2-4730-80CA-7B2D68F50773" class="sect4"><span class="enumeration_section">7.1.1</span>关于闪回数据库</h4>
                  <div>
                     <p>闪回数据库的效果类似于传统的时间点恢复。它使您能够在最近的某个时间将数据库返回到其状态。闪回数据库比时间点恢复快得多，因为它不需要从备份中恢复数据文件，并且需要从归档重做日志中应用较少的更改。</p>
                     <p>如果数据文件完好无损，您可以使用闪回数据库将大多数不需要的更改反转到数据库。您可以将数据库返回到先前<a href="glossary.html#GUID-4CCAB7DD-FEA7-4237-AF2C-304BA3BD52B1"><span class="xrefglossterm">版本中的</span></a>状态，并撤消<a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><code class="codeph">ALTER DATABASE OPEN RESETLOGS</code></a>语句的效果。 <span class="q">“ <a href="rman-performing-flashback-dbpitr.html#GUID-953FA30D-BED2-4DBA-8361-9DA1B8FF073F" title="闪回数据库通过将数据库返回到先前某个时间点的状态来反转不需要的更改。">使用闪回数据库重绕数据库</a> ”</span>说明了如何使用<code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code>命令来反转数据库更改。
                     </p>
                     <p>闪回数据库使用自己的日志记录机制，创建<a href="glossary.html#GUID-725ED3D7-5077-4F16-85AA-CDAD5BFCE554"><span class="xrefglossterm">闪回日志</span></a>并将其存储在<a href="glossary.html#GUID-6E3CDD76-A573-4E5C-B12D-59C232C96C19"><span class="xrefglossterm">快速恢复区域中</span></a> 。如果闪回日志可用，则只能使用闪回数据库。要利用此功能，必须事先设置数据库以创建闪回日志。
                     </p>
                     <p>要启用闪回数据库，请配置快速恢复区域并设置<a href="glossary.html#GUID-F472DAAD-F619-47F7-B025-7FE21FD9E5DB"><span class="xrefglossterm">闪回保留目标</span></a> 。此保留目标指定使用闪回数据库回退数据库的时间。
                     </p>
                     <p>从那时起，数据库定期将每个数据文件中每个更改块的图像复制到闪回日志中。这些块图像可以在以后重复使用，以便在捕获日志的任何时刻重建数据文件内容。</p>
                     <p>使用闪回数据库将数据库回滚到过去的目标时间时，该命令将确定在目标时间之后更改了哪些块，并从闪回日志中恢复它们。数据库将恢复紧接目标时间之前的每个块的版本。然后，数据库使用重做日志重新应用在将这些块写入闪回日志后所做的更改。</p>
                     <p>磁盘或磁带上的重做日志必须在闪回日志跨越的整个时间段内可用。例如，如果闪回保留目标为1周，则必须确保可以访问包含过去一周所有更改的联机和归档重做日志。实际上，重做日志通常比闪回保留目标更长，以支持时间点恢复。</p>
                  </div>
               </div><a id="BRADV583"></a><div class="props_rev_3"><a id="GUID-9699CDF3-C01E-4104-8452-8F01443760AC" name="GUID-9699CDF3-C01E-4104-8452-8F01443760AC"></a><h4 id="BRADV-GUID-9699CDF3-C01E-4104-8452-8F01443760AC" class="sect4"><span class="enumeration_section">7.1.2</span>关于闪回数据库窗口</h4>
                  <div>
                     <p>当前有足够的闪回日志数据来支持<code class="codeph">FLASHBACK DATABASE</code>命令的SCN范围称为闪回数据库窗口。闪回数据库窗口不能比可用闪回日志中最早的SCN延伸得更远。
                     </p>
                     <p>您无法将闪回日志备份到快速恢复区域之外的位置。要增加保留足够的闪回日志以满足闪回数据库窗口的可能性，可以增加快速恢复区域的空间（请参阅<span class="q">“ <a href="configuring-rman-client-basic.html#GUID-233338E2-3EE6-4248-A2B6-16A7899DB14F__CHDDJJHE" title="该表描述了DB_RECOVERY_FILE_DEST_SIZE和DB_RECOVERY_FILE_DEST参数。">表5-3</a> ”</span> ）。
                     </p>
                     <p>如果快速恢复区域不足以容纳闪回日志和文件（如归档重做日志和保留策略所需的其他备份），则数据库可能会从最早的SCN中删除闪回日志，以便为其他文件腾出空间。因此，闪回数据库窗口可能比闪回保留目标短，具体取决于快速恢复区域的大小，必须保留的其他备份以及需要多少闪回日志记录数据。闪回保留目标是目标，而不是闪回数据库可用的保证。</p>
                     <p>如果由于闪回数据库窗口不够长而无法使用<code class="codeph">FLASHBACK DATABASE</code> ，那么通常可以使用数据库时间点恢复（DBPITR）来实现类似的结果。保证还原点是确保您可以使用闪回数据库返回特定时间点或保证闪回窗口大小的唯一方法。
                     </p>
                     <div class="infoboxnote" id="GUID-9699CDF3-C01E-4104-8452-8F01443760AC__GUID-CA78ADB1-9F49-4235-ADF1-471147F6858A">
                        <p class="notep1">注意：</p>
                        <p>某些数据库操作（例如删除表空间或缩小数据文件）无法使用闪回数据库进行反转。有关详细信息，请参阅<span class="q">“ <a href="using-flasback-database-restore-points.html#GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB" title="因为闪回数据库通过撤消对运行命令时存在的数据文件的更改来工作，所以它具有某些限制。">闪回数据库的限制</a> ”</span> 。
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9699CDF3-C01E-4104-8452-8F01443760AC__GUID-CDAA88FD-BB79-406E-882C-4FFBA793F84D">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="rman-performing-flashback-dbpitr.html#GUID-953FA30D-BED2-4DBA-8361-9DA1B8FF073F" title="Flashback Database reverses unwanted changes by returning your database to its state at a previous point in time.">使用闪回数据库</a>重绕<a href="rman-performing-flashback-dbpitr.html#GUID-953FA30D-BED2-4DBA-8361-9DA1B8FF073F" title="闪回数据库通过将数据库返回到先前某个时间点的状态来反转不需要的更改。">数据库</a>以了解闪回数据库</p>
                           </li>
                           <li>
                              <p><a href="rman-performing-flashback-dbpitr.html#GUID-7D3EE2F7-77A2-4264-8875-CC0AEC64ABE0" title="RMAN DBPITR在目标恢复时间之前从备份还原数据库，然后使用增量备份和重做将数据库前滚到目标时间。您可以恢复到SCN，时间，日志序列号或还原点。Oracle建议您在重要时间创建还原点，以便在必要时使时间点恢复更易于管理。">执行数据库时间点恢复</a>以了解DBPITR</p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV286"></a><div class="props_rev_3"><a id="GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB" name="GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB"></a><h4 id="BRADV-GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB" class="sect4"><span class="enumeration_section">7.1.3</span>闪回数据库的局限性</h4>
                  <div>
                     <p>因为闪回数据库通过撤消对运行命令时存在的数据文件的更改来工作，所以它具有某些限制。</p>
                     <p>以下是闪回数据库的限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>闪回数据库只能撤消对Oracle数据库创建的数据文件的更改。它不能用于修复介质故障，也不能用于意外删除数据文件。</p>
                        </li>
                        <li>
                           <p>您无法使用闪回数据库撤消收缩数据文件操作。但是，您可以使缩小的文件脱机，闪回数据库的其余部分，然后还原并恢复缩小的数据文件。</p>
                        </li>
                        <li>
                           <p>您无法单独使用闪回数据库来检索已删除的数据文件。如果将数据库闪回到数据库中存在已删除数据文件的时间，则只会将数据文件条目添加到控制文件中。您只能使用RMAN恢复已删除的数据文件，以完全还原和恢复数据文件。</p>
                        </li>
                        <li>
                           <p>如果从备份还原或重新创建数据库控制文件，则会丢弃所有累积的闪回日志信息。您无法使用<code class="codeph">FLASHBACK DATABASE</code>返回到还原或重新创建控制文件之前的某个时间点。
                           </p>
                        </li>
                        <li>
                           <p>当使用具有<code class="codeph">NOLOGGING</code>操作正在进行的目标时间的闪回数据库时，受<code class="codeph">NOLOGGING</code>操作影响的数据库对象和数据文件中可能存在块损坏。例如，如果在<code class="codeph">NOLOGGING</code>模式下执行直接路径<code class="codeph">INSERT</code>操作，并且该操作在2005年4月3日9:00到9:15运行，并且您稍后使用闪回数据库返回到目标时间09:07在该日期，直接路径<code class="codeph">INSERT</code>更新的对象和数据文件可能在闪回数据库操作完成后留下块损坏。
                           </p>
                           <p>如果可能，请避免使用闪回数据库，其目标时间或SCN与<code class="codeph">NOLOGGING</code>操作一致。此外，在任何<code class="codeph">NOLOGGING</code>操作之后立即执行受影响数据文件的完全备份或增量备份，以确保在操作之后的时间点的可恢复性。如果您希望在诸如直接路径<code class="codeph">INSERT</code>类的操作期间使用闪回数据库返回某个时间点，请考虑在<code class="codeph">LOGGING</code>模式下执行操作。
                           </p>
                           <div class="infoboxnotealso" id="GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB__GUID-76D3EF63-9FC7-4084-ACEA-9F811164EAEA">
                              <p class="notep1">也可以看看：</p>
                              <p>有关支持<code class="codeph">NOLOGGING</code>模式的操作的详细信息，请<a href="../sqlrf/logging_clause.html#SQLRF30009" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a> 。
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV529"></a><div class="props_rev_3"><a id="GUID-1EE0CCDD-BAA4-402B-B808-D228212AF772" name="GUID-1EE0CCDD-BAA4-402B-B808-D228212AF772"></a><h4 id="BRADV-GUID-1EE0CCDD-BAA4-402B-B808-D228212AF772" class="sect4"><span class="enumeration_section">7.1.4</span>关于正常还原点</h4>
                  <div>
                     <p>创建正常还原点会将还原点名称分配给SCN或特定时间点。</p>
                     <p>因此，还原点用作此SCN的书签或别名。在执行您可能必须撤消的任何操作之前，您可以创建正常的还原点。控制文件存储还原点的名称和SCN。</p>
                     <p>如果使用闪回功能或时间点恢复，则可以使用还原点的名称而不是时间或SCN。以下命令支持使用还原点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>RMAN中的<a href="../rcmrf/RECOVER.html#RCMRF140" target="_blank"><code class="codeph">RECOVER DATABASE</code></a>和<code class="codeph">FLASHBACK DATABASE</code>命令</p>
                        </li>
                        <li>
                           <p>SQL中的<a href="../sqlrf/FLASHBACK-TABLE.html#SQLRF01802" target="_blank"><code class="codeph">FLASHBACK TABLE</code></a>语句</p>
                        </li>
                     </ul>
                     <p>创建正常还原点消除了事先手动记录SCN或通过使用闪回查询等功能确定事后的正确SCN。</p>
                     <p>正常还原点是轻量级的。控制文件可以维护数千个正常还原点的记录，而不会对数据库性能产生重大影响。如果不手动删除，正常还原点最终会从控制文件中老化，因此它们不需要持续维护。</p>
                     <div class="infoboxnotealso" id="GUID-1EE0CCDD-BAA4-402B-B808-D228212AF772__GUID-04F2EBB0-9D6A-42CE-A57B-278B783C0C6F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../adfns/flashback.html#ADFNS1008" target="_blank"><span><cite>Oracle数据库开发指南</cite></span></a> ，了解如何使用闪回查询</p>
                     </div>
                  </div>
               </div><a id="BRADV530"></a><div class="props_rev_3"><a id="GUID-82523F18-5AE7-40C8-972D-35A9423F19B7" name="GUID-82523F18-5AE7-40C8-972D-35A9423F19B7"></a><h4 id="BRADV-GUID-82523F18-5AE7-40C8-972D-35A9423F19B7" class="sect4"><span class="enumeration_section">7.1.5</span>关于保证还原点</h4>
                  <div>
                     <p>与正常还原点一样，保证还原点充当恢复操作中SCN的别名。主要区别在于保证的还原点永远不会超出控制文件的范围，必须明确删除。</p>
                     <p>通常，您可以使用保证还原点作为SCN的别名，并使用适用于正常还原点的任何命令。除非另有说明，否则有关使用正常还原点的位置和方式的信息也适用于保证还原点。</p>
                     <p>保证还原点可确保您可以使用闪回数据库将数据库回滚到还原点SCN的状态，即使禁用了<a href="glossary.html#GUID-725ED3D7-5077-4F16-85AA-CDAD5BFCE554"><span class="xrefglossterm">闪回日志</span></a>的生成也是如此。如果启用了闪回日志记录，则保证还原点会强制在最早的保证还原点之后将闪回数据库所需的闪回日志保留到任何SCN。因此，如果启用了闪回日志记录，则可以将数据库回滚到连续统一体中的任何SCN，而不是仅回滚到单个SCN。
                     </p>
                     <div class="infoboxnote" id="GUID-82523F18-5AE7-40C8-972D-35A9423F19B7__GUID-6108369A-D8BC-4DD7-93F6-A811F2A453E9">
                        <p class="notep1">注意：</p>
                        <p>如果禁用了闪回日志记录，那么您<span class="italic">无法</span>在保证还原点和当前时间之间直接向SCN进行<code class="codeph">FLASHBACK DATABASE</code> 。但是，您可以先闪回保证还原点，然后在保证还原点和当前时间之间恢复到SCN。
                        </p>
                     </div>
                     <p>如果恢复区域有足够的磁盘空间来存储所需的日志，那么您可以使用保证的还原点将整个数据库倒回到几天或几周前的已知良好状态。与闪回数据库一样，即使是直接加载插入等<code class="codeph">NOLOGGING</code>操作的效果也可以通过保证还原点来反转。
                     </p>
                     <div class="infoboxnote" id="GUID-82523F18-5AE7-40C8-972D-35A9423F19B7__GUID-B993BD4D-AB0A-4E19-B8EA-0FF07F26656E">
                        <p class="notep1">注意：</p>
                        <p>适用于闪回数据库的限制也适用于保证还原点。例如，缩小数据文件或删除表空间可以防止将受影响的数据文件闪回到保证还原点。有关详细信息，请参阅<span class="q">“ <a href="using-flasback-database-restore-points.html#GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB" title="因为闪回数据库通过撤消对运行命令时存在的数据文件的更改来工作，所以它具有某些限制。">闪回数据库的限制</a> ”</span> 。此外，如果数据库中有保证的还原点，则无法将数据库兼容性参数设置为更高的数据库版本。尝试这样做会导致错误。存在此限制是因为闪回数据库当前无法使用兼容性初始化参数来逆转增加数据库版本的影响。
                        </p>
                     </div>
                  </div><a id="BRADV543"></a><div class="props_rev_3"><a id="GUID-F70E202F-A53C-4E33-AB0F-7091EA3DE608" name="GUID-F70E202F-A53C-4E33-AB0F-7091EA3DE608"></a><h5 id="BRADV-GUID-F70E202F-A53C-4E33-AB0F-7091EA3DE608" class="sect5"><span class="enumeration_section">7.1.5.1</span>保证还原点与存储快照</h5>
                     <div>
                        <p>实际上，有保证的还原点是存储快照的有用替代方案。</p>
                        <p>存储快照通常用于在风险操作（如大规模数据库更新或应用程序修补程序或升级）之前保护数据库。您可以在主<a href="glossary.html#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">数据库</span></a>或<a href="glossary.html#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">物理备用数据库</span></a>上创建保证还原点，而不是创建快照或<a href="glossary.html#GUID-FFB6CFD5-300C-4290-B3C0-BFD930ACA30C"><span class="xrefglossterm">重复数据库</span></a>来测试操作。然后，您可以确保保留所需的闪回日志，从而执行危险操作。
                        </p>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1150031F-3C15-40C8-BA91-A387F75DC49A" name="GUID-1150031F-3C15-40C8-BA91-A387F75DC49A"></a><h4 id="BRADV-GUID-1150031F-3C15-40C8-BA91-A387F75DC49A" class="sect4"><span class="enumeration_section">7.1.6</span>多租户环境中还原点概述</h4>
                  <div>
                     <p>您可以在多租户环境中创建正常和保证还原点。</p>
                     <p>数据库还原点的基本概念也适用于多租户环境中的还原点。您可以在多租户环境中创建以下类型的还原点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>CDB还原点</p>
                        </li>
                        <li>
                           <p>PDB还原点</p>
                        </li>
                        <li>
                           <p>清理PDB还原点</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-1150031F-3C15-40C8-BA91-A387F75DC49A__GUID-8755F8B6-622E-4F09-B935-65BC555C1852">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="using-flasback-database-restore-points.html#GUID-FAA04D1F-36E2-4B20-954F-845E42386775" title="Oracle闪回数据库和还原点是相关的数据保护功能，使您能够及时回溯数据，以纠正在指定时间窗口内由逻辑数据损坏或用户错误导致的任何问题。">闪回数据库，还原点和保证还原点概述</a></p>
                           </li>
                           <li>
                              <p><a href="using-flasback-database-restore-points.html#GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" title="CDB还原点充当SCN的别名或多租户容器数据库（CDB）中的时间点。它可以是正常的还原点或保证还原点。">关于CDB还原点</a></p>
                           </li>
                           <li>
                              <p><a href="using-flasback-database-restore-points.html#GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" title="您可以在可插拔数据库（PDB）中创建正常和保证还原点。PDB还原点只能由定义它们的PDB访问。">关于PDB中的还原点</a></p>
                           </li>
                           <li>
                              <p><a href="using-flasback-database-restore-points.html#GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4" title="每个可插拔数据库（PDB）都有自己的还原点命名空间。因此，您可以在多个PDB中定义具有相同名称的PDB还原点。">关于PDB还原点的命名空间</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" name="GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB"></a><h5 id="BRADV-GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" class="sect5"><span class="enumeration_section">7.1.6.1</span>关于CDB还原点</h5>
                     <div>
                        <p>CDB还原点充当SCN的别名或多租户容器数据库（CDB）中的时间点。它可以是正常的还原点或保证还原点。</p>
                        <p>CDB还原点与非CDB中的还原点类似，只是您需要以具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的公共用户身份连接到root用户才能创建它们。您可以从Oracle Database 12 <span class="italic">c</span>第1版（12.1）开始创建CDB还原点。CDB中的每个<a href="glossary.html#GUID-D4239448-A344-41EF-9566-0B7716FEAE72"><span class="xrefglossterm">可插拔数据库（PDB）</span></a>都可以访问CDB还原点。但是，CDB还原点不反映其任何PDB的PDB子化身。
                        </p>
                        <p>CDB还原点在以下方案中很有用：</p>
                        <div class="p">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>整个CDB需要恢复到特定时间点</p>
                              </li>
                              <li>
                                 <p>CDB中的多个PDB需要恢复到特定时间点</p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB__GUID-7E1B6E0B-21C0-4318-B1DF-8A200C839894">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-1150031F-3C15-40C8-BA91-A387F75DC49A" title="您可以在多租户环境中创建正常和保证还原点。">多租户环境中的还原点概述</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" title="您可以在可插拔数据库（PDB）中创建正常和保证还原点。PDB还原点只能由定义它们的PDB访问。">关于PDB中的还原点</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-A2146E48-16FC-40CC-B25D-902DEB93CB75" title="您可以对整个多租户容器数据库（CDB）或特定可插拔数据库（PDB）执行闪回数据库操作。">为CDB和PDB执行闪回数据库的基本概念</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-8466CA3C-652A-4AAB-88EB-8815575D6266" title="您可以使用FLASHBACK DATABASE命令为整个多租户容器数据库（CDB）执行闪回数据库操作。">为整个CDB执行闪回数据库操作</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" name="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E"></a><h5 id="BRADV-GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" class="sect5"><span class="enumeration_section">7.1.6.2</span>关于PDB中的还原点</h5>
                     <div>
                        <p>您可以在可插拔数据库（PDB）中创建正常和保证还原点。PDB还原点只能由定义它们的PDB访问。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E__GUID-3D24200C-BF0F-40F9-A313-F7C61DC3D1B1">PDB还原点</p>
                           <p>PDB还原点是指向特定<a href="glossary.html#GUID-D4239448-A344-41EF-9566-0B7716FEAE72"><span class="xrefglossterm">可插拔数据库（PDB）</span></a>中的时间点或SCN的书签。它仅适用于创建它的PDB，仅可用于该PDB上的操作。 PDB还原点表示创建它的时间点的PDB子化身。
                           </p>
                           <p>PDB还原点可以是正常还原点或保证还原点。保证的PDB还原点可确保您可以执行PDB到此还原点的闪回操作。</p>
                           <p>PDB还原点可用于仅对创建它的PDB执行闪回数据库操作或时间点恢复。</p>
                           <div class="infoboxnote" id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E__GUID-089C70FC-0407-4230-857E-D48FB875DBD3">
                              <p class="notep1">注意：</p>创建有保证的PDB还原点需要仔细考虑，因为此类还原点可以防止<a href="glossary.html#GUID-3E156A59-F6CC-4A2A-9749-DB7D1CE25F13"><span class="xrefglossterm">多租户容器数据库（CDB）中</span></a>所需的闪回日志被重用。这可能会影响CDB的运行，因为快速恢复区域可能会耗尽空间。
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E__GUID-E2BAB79B-382A-4B96-AA7B-1208CF6509DE">清理PDB还原点</p>
                           <p>干净的PDB还原点是在PDB关闭时以及该PDB没有未完成的事务时创建的PDB还原点。 Clean PDB还原点仅适用于使用共享撤消的CDB。</p>
                           <p>清洁PDB还原点可以是正常或保证还原点。使用<code class="codeph">CREATE CLEAN RESTORE POINT</code>命令显式创建干净的PDB还原点。对于使用共享撤消的CDB，如果PDB已关闭且没有未完成的事务，则创建的任何PDB还原点都将标记为干净的PDB还原点。
                           </p>
                           <p>如果您预计可能需要将PDB回放到特定时间点（例如，应用程序升级之前的某个状态），则建议您创建一个干净的PDB保证还原点。</p>
                           <p>对于使用共享撤消的CDB，对干净PDB还原点的闪回数据库操作比对SCN或其他不是干净PDB还原点的还原点的闪回数据库操作要快。这是因为RMAN不需要在对干净的PDB还原点执行闪回操作时还原任何备份。</p>
                           <div class="infoboxnotealso" id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E__GUID-3943E87F-DF4B-40DD-852D-191E5BBF2434">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="using-flasback-database-restore-points.html#GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4" title="每个可插拔数据库（PDB）都有自己的还原点命名空间。因此，您可以在多个PDB中定义具有相同名称的PDB还原点。">关于PDB还原点的命名空间</a></p>
                                 </li>
                                 <li>
                                    <p><a href="using-flasback-database-restore-points.html#GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" title="CDB还原点充当SCN的别名或多租户容器数据库（CDB）中的时间点。它可以是正常的还原点或保证还原点。">关于CDB还原点</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-performing-flashback-dbpitr.html#GUID-A2146E48-16FC-40CC-B25D-902DEB93CB75" title="您可以对整个多租户容器数据库（CDB）或特定可插拔数据库（PDB）执行闪回数据库操作。">为CDB和PDB执行闪回数据库的基本概念</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-performing-flashback-dbpitr.html#GUID-C1215E86-9A7B-4EC9-9777-2A18BD627394" title="您可以使用FLASHBACK DATABASE命令对多租户容器数据库（CDB）中的单个可插拔数据库（PDB）执行闪回数据库操作。">为PDB执行闪回数据库操作</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-data-repair-concepts.html#GUID-195FE6CA-9CEB-4ED1-9810-F7323F119D87" title="可插拔数据库（PDB）版本是多租户容器数据库（CDB）的子实现，表示为（database_incarnation，pdb_incarnation）。">关于PDB的化身</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4" name="GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4"></a><h5 id="BRADV-GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4" class="sect5"><span class="enumeration_section">7.1.6.3</span>关于PDB还原点的命名空间</h5>
                     <div>
                        <p>每个可插拔数据库（PDB）都有自己的还原点命名空间。因此，您可以在多个PDB中定义具有相同名称的PDB还原点。</p>
                        <p>在多租户环境中，当您在PDB中使用还原点名称或PDB操作时，该名称首先被解释为相关PDB的<a href="glossary.html#GUID-7C3A47D4-B9C5-40D3-89D0-8BD77281AAB1"><span class="xrefglossterm">PDB还原点</span></a> 。如果找不到具有指定名称的PDB还原点，则将其解释为<a href="glossary.html#GUID-6BFC6E77-175D-4055-8198-6091D47AD8F6"><span class="xrefglossterm">CDB还原点</span></a> 。
                        </p>
                        <div class="infoboxnotealso" id="GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4__GUID-0A64EBF8-E3C5-408F-8C6A-F0A3CF405C9A">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="using-flasback-database-restore-points.html#GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" title="您可以在可插拔数据库（PDB）中创建正常和保证还原点。PDB还原点只能由定义它们的PDB访问。">关于PDB中的还原点</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV577"></a><div class="props_rev_3"><a id="GUID-E90F7FBD-CCE2-4234-A3B4-FDFEC3BC2E90" name="GUID-E90F7FBD-CCE2-4234-A3B4-FDFEC3BC2E90"></a><h3 id="BRADV-GUID-E90F7FBD-CCE2-4234-A3B4-FDFEC3BC2E90" class="sect3"><span class="enumeration_section">7.2</span>关于记录闪回数据库和保证还原点</h3>
               <div>
                  <p>记录闪回数据库和保证还原点涉及在应用更改之前捕获数据文件块的映像。<code class="codeph">FLASHBACK DATABASE</code>命令可以使用这些图像将数据文件返回到先前的状态。
                  </p>
                  <p>正常闪回日志记录和保证还原点的日志记录之间的主要区别与何时记录块以及是否可以响应快速恢复区域中的空间压力而删除日志有关。这些差异会影响日志和数据库性能的空间使用。</p>
                  <p>您的可恢复性目标部分地确定是启用闪回数据库的日志记录，还是使用保证还原点，或两者都使用。这些功能在性能和空间使用方面的影响，分别和一起使用时，也会影响您的决策。</p>
               </div><a id="BRADV581"></a><div class="props_rev_3"><a id="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE" name="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE"></a><h4 id="BRADV-GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE" class="sect4"><span class="enumeration_section">7.2.1</span>保证还原点和快速恢复区空间使用</h4>
                  <div>
                     <p>某些规则管理快速恢复区域中空间的使用。</p>
                     <p>创建保证还原点时，无论是否启用完全闪回数据库日志记录，都必须监视快速恢复区域中的可用空间。 <span class="q">“ <a href="maintaining-rman-backups.html#GUID-26C1A1E8-5555-4399-9DD1-39BA90E45A0C" title="除了设置闪回保留目标或使用保证还原点之外，您无法直接管理快速恢复区域中的闪回日志。">在快速恢复区域中管理闪回日志的空间</a> ”</span>介绍了如何监视快速恢复区磁盘空间的使用情况。
                     </p>
                     <p>以下规则管理快速恢复区域中闪回日志的创建，保留，覆盖和删除：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果快速恢复区域有足够的空间，则会在必要时创建闪回日志以满足闪回保留目标。</p>
                        </li>
                        <li>
                           <p>如果闪回日志足够大，不再需要满足闪回保留目标，则会重复使用闪回日志。</p>
                        </li>
                        <li>
                           <p>如果数据库必须创建闪回日志并且快速恢复区域已满或没有磁盘空间，则会重新使用最旧的闪回日志。</p>
                           <div class="infoboxnote" id="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE__GUID-AF4F2CFC-7C8D-4C5D-8922-E0FF099A4C11">
                              <p class="notep1">注意：</p>
                              <p>重用最旧的闪回日志可缩短闪回数据库窗口。如果由于磁盘空间不足而重用了足够的闪回日志，则可能无法满足闪回保留目标。</p>
                           </div>
                        </li>
                        <li>
                           <p>如果快速恢复区域已满，则可以通过快速恢复区域自动删除根据快速恢复区域规则可回收的归档重做日志，以便为其他文件腾出空间。在这种情况下，任何需要使用该重做日志文件以使用<code class="codeph">FLASHBACK DATABASE</code>闪回日志也将被删除。
                           </p>
                           <div class="infoboxnote" id="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE__GUID-8D953A0A-806D-43DB-AF26-DFA84707E8FE">
                              <p class="notep1">注意：</p>
                              <p>根据快速恢复区域规则，当满足以下条件之一时，文件可回收：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>该文件报告为过时，闪回数据库不需要。例如，该文件位于<code class="codeph">DB_FLASHBACK_RETENTION_TARGET</code>参数之外。
                                    </p>
                                 </li>
                                 <li>
                                    <p>该文件备份到磁带。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>如果需要满足保证还原点，则快速恢复区中的文件不符合删除条件。但是，在备份到磁盘或磁带后，可能会删除满足保证还原点所需的归档重做日志。使用RMAN <code class="codeph">FLASHBACK DATABASE</code>命令时，如果快速恢复区域中没有满足指定保证还原点所需的归档重做日志，则会从备份中还原它们。
                           </p>
                           <p>除了满足备份保留策略所需的文件之外，保留闪回日志和满足保证还原点所需的其他文件可以使快速恢复区域完全填满。如果您的快速恢复区域已满，请参阅<span class="q">“ <a href="maintaining-rman-backups.html#GUID-3F11ECB5-1321-45F5-A557-BB1A5BAF011F" title="如果RMAN保留策略要求保留一组大于快速恢复区磁盘配额的备份，或者保留策略设置为NONE，则快速恢复区域可以完全填充，没有可回收空间。">响应完全快速恢复区</a> ”</span> 。
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE__GUID-DE859F0F-29CD-4859-9113-B871BD4DC08D">
                        <p class="notep1">警告：</p>
                        <p>如果由于保留策略和保证还原点所强加的要求，没有文件可以从快速恢复区域中删除，则数据库就会像遇到磁盘已满状态一样执行。在许多情况下，这会导致数据库暂停。请参阅<span class="q">“ <a href="maintaining-rman-backups.html#GUID-3F11ECB5-1321-45F5-A557-BB1A5BAF011F" title="如果RMAN保留策略要求保留一组大于快速恢复区磁盘配额的备份，或者保留策略设置为NONE，则快速恢复区域可以完全填充，没有可回收空间。">响应完全快速恢复区</a> ”</span> 。
                        </p>
                     </div>
                  </div>
               </div><a id="BRADV584"></a><div class="props_rev_3"><a id="GUID-D0FAAADC-6185-4F8D-A557-18346EE3BDFF" name="GUID-D0FAAADC-6185-4F8D-A557-18346EE3BDFF"></a><h4 id="BRADV-GUID-D0FAAADC-6185-4F8D-A557-18346EE3BDFF" class="sect4"><span class="enumeration_section">7.2.2</span>关于禁用闪回日志记录的有保证还原点的日志记录</h4>
                  <div>
                     <p>假设您在禁用闪回数据库的日志记录时创建了保证还原点。在这种情况下，第一次在保证还原点之后修改数据文件块时，数据库在闪回日志中存储修改之前的块的映像。因此，当创建保证还原点时，闪回日志会保留每个已更改数据块的内容。稍后对同一块的修改不会导致再次记录内容，除非在上次修改块之后创建了另一个保证还原点，或者后续闪回数据库操作已恢复块的原始内容。使用闪回数据库将数据库多次还原到同一还原点时，通常会每次都删除并重新创建保证还原点。这将删除旧的闪回日志，并确保不会超出快速恢复区域的空间配额。</p>
                     <p>这种日志记录方法具有以下重要结果：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">FLASHBACK DATABASE</code>可以使用块图像在保证还原点时重新创建数据文件内容。
                           </p>
                        </li>
                        <li>
                           <p>对于反复修改相同数据的工作负载，磁盘空间使用量可能低于正常的闪回日志记录。需要更少的空间，因为每个更改的块只记录一次。具有低容量插入的应用程序可以从节省磁盘空间中受益。对于具有高容量插入物或大批量插入物的应用，该优点不太可能。在没有启用闪回数据库日志记录的情况下记录保证还原点的性能开销也可能较低。</p>
                        </li>
                     </ul>
                     <p>假设您的主要目标是将数据库返回到创建保证还原点的时间。在这种情况下，关闭闪回日志记录并仅使用保证还原点通常更有效。例如，假设您在一个周末在数据库主机上执行应用程序升级。您可以在升级开始时创建保证还原点。如果升级失败，则使用<code class="codeph">FLASHBACK DATABASE</code>命令反转更改。
                     </p>
                  </div>
               </div><a id="BRADV585"></a><div class="props_rev_3"><a id="GUID-502D1646-2A81-4F04-BC3A-1927298A8F8D" name="GUID-502D1646-2A81-4F04-BC3A-1927298A8F8D"></a><h4 id="BRADV-GUID-502D1646-2A81-4F04-BC3A-1927298A8F8D" class="sect4"><span class="enumeration_section">7.2.3</span>关于定义保证还原点的闪回数据库的日志记录</h4>
                  <div>
                     <p>如果启用闪回数据库并定义一个或多个保证还原点，则数据库将执行正常的闪回日志记录。</p>
                     <p>在这种情况下，恢复区域保留闪回到当前和最早的当前定义的保证还原点之间的任意时间所需的闪回日志。如果要求闪回日志满足保证，则不会删除闪回日志以响应空间压力。</p>
                     <p>闪回日志记录会导致一些性能开销。根据数据库上的活动模式，它还可能在快速恢复区域中造成巨大的空间压力。因此，您应该监视快速恢复区域中使用的空间。</p>
                  </div>
               </div>
            </div><a id="BRADV587"></a><a id="BRADV588"></a><a id="BRADV586"></a><div class="props_rev_3"><a id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" name="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D"></a><h3 id="BRADV-GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" class="sect3"><span class="enumeration_section">7.3</span>闪回数据库和还原点的先决条件</h3>
               <div>
                  <p>要确保闪回数据库的成功运行和有保证的还原点，必须先设置一些关键数据库选项。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D__GUID-87114FE1-B383-4CB4-B570-357182ED62F3">闪回数据库</p>
                  </div>
                  <!-- class="section" -->
                  <p>在启用闪回数据库之前配置以下数据库设置：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您的数据库必须以<code class="codeph">ARCHIVELOG</code>模式运行，因为存档日志用于闪回数据库操作。
                        </p>
                     </li>
                     <li>
                        <p>您必须启用快速恢复区域，因为闪回日志只能存储在快速恢复区域中。</p>
                     </li>
                     <li>
                        <p>对于Oracle Real Application Clusters（Oracle RAC）数据库，快速恢复区域必须位于群集文件系统或ASM中。</p>
                        <p></p>
                     </li>
                     <li>
                        <p>要在CDB中创建还原点， <code class="codeph">COMPATIBLE</code>初始化参数必须设置为12.1.0或更高。
                        </p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D__GUID-445F9F3A-43B3-497A-A7DB-D40039A65732">保证还原点</p>
                  </div>
                  <!-- class="section" -->
                  <p>要使用有保证的还原点，数据库必须满足以下附加先决条件： <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=REFRN10019" target="_blank"><code class="codeph">COMPATIBLE</code></a>初始化参数必须设置为10.2.0或更高。
                  </p>
                  <div class="infoboxnote" id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D__GUID-5DA71B43-3FF6-410F-ADC8-7002C19DA1EA">
                     <p class="notep1">注意：</p>
                     <p>在使用正常还原点之前，没有特殊的先决条件。</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D__GUID-953B42D0-1F22-4958-BF09-8BC0528FB166">在PDB中还原点</p>要在<a href="glossary.html#GUID-D4239448-A344-41EF-9566-0B7716FEAE72"><span class="xrefglossterm">可插拔数据库（PDB）中</span></a>创建还原点， <code class="codeph">COMPATIBLE</code>初始化参数必须设置为12.2.0或更高。
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV589"></a><div class="props_rev_3"><a id="GUID-2C846D84-EDCC-4FAA-9F6A-05CD0C6C7C09" name="GUID-2C846D84-EDCC-4FAA-9F6A-05CD0C6C7C09"></a><h3 id="BRADV-GUID-2C846D84-EDCC-4FAA-9F6A-05CD0C6C7C09" class="sect3"><span class="enumeration_section">7.4</span>使用正常和保证的还原点</h3>
               <div>
                  <p>您可以创建，监视和删除正常和保证还原点。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1" title="要创建正常或保证还原点，请使用CREATE RESTORE POINT SQL语句，为还原点提供名称，并指定它是保证还原点还是正常还原点（默认值）。">在非CDB中创建正常和保证的还原点</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB" title="CREATE RESTORE POINT SQL命令使您可以在多租户容器数据库（CDB）中创建正常和保证还原点。">创建CDB还原点</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-9363C4B9-48E5-470F-B13B-43FA56667978" title="您可以使用CREATE RESTORE POINT SQL语句在可插拔数据库（PDB）中创建还原点。">创建PDB还原点</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D">使用LIST命令列出还原点</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" title="您可以使用V $ RESTORE_POINT控制文件视图来获取有关所有当前定义的还原点（正常和保证）的信息，包括CDB还原点和PDB还原点。">使用V $ RESTORE_POINT视图列出还原点</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-A1563822-015B-4941-B7EB-C3D44A63232C" title="如果您对不需要现有还原点感到满意，或者想要使用现有还原点的名称创建还原点，则可以使用DROP RESTORE POINT SQL * Plus语句删除还原点。">删除还原点</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV591"></a><a id="BRADV590"></a><div class="props_rev_3"><a id="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1" name="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1"></a><h4 id="BRADV-GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1" class="sect4"><span class="enumeration_section">7.4.1</span>在非CDB中创建正常和保证的还原点</h4>
                  <div>
                     <p>要创建正常或保证还原点，请使用<code class="codeph">CREATE RESTORE POINT</code> SQL语句，为还原点提供名称，并指定它是保证还原点还是正常还原点（默认值）。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1__GUID-57886AAB-2D06-490D-A9CC-7CDEB295EF52">要创建还原点：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>将SQL * Plus连接到目标数据库。</span><div>
                              <div class="infoboxnotealso" id="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1__GUID-B60F84B6-AF9E-436D-8665-24189928BC26">
                                 <p class="notep1">也可以看看：</p>
                                 <p>使用SQL * Plus连接<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>数据库的Oracle数据库管理员指南</cite></span></a></p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>确保数据库已打开或已装入。如果已装入数据库，则必须完全关闭它（除非它是物理备用数据库）。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">CREATE RESTORE POINT</code>语句。</span><div>
                              <p>以下示例显示如何在SQL * Plus中创建常规还原点：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE RESTORE POINT before_upgrade;</pre><p>此示例显示如何创建保证还原点：</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT before_upgrade GUARANTEE FLASHBACK DATABASE;</code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1__GUID-2071B65F-23F8-44AF-A55F-C3E871D9D02B">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关SQL <code class="codeph">CREATE RESTORE POINT</code>语句的参考信息，请参见<a href="../sqlrf/CREATE-RESTORE-POINT.html#SQLRF20001" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="using-flasback-database-restore-points.html#GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D">使用LIST命令</a></span>列出还原点<span class="q">”</span>以了解如何列出还原点</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="using-flasback-database-restore-points.html#GUID-A1563822-015B-4941-B7EB-C3D44A63232C" title="如果您对不需要现有还原点感到满意，或者想要使用现有还原点的名称创建还原点，则可以使用DROP RESTORE POINT SQL * Plus语句删除还原点。">删除还原点</a> ”</span>以了解如何删除还原点</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB" name="GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB"></a><h4 id="BRADV-GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB" class="sect4"><span class="enumeration_section">7.4.2</span>创建CDB还原点</h4>
                  <div>
                     <p><code class="codeph">CREATE RESTORE POINT</code> SQL命令使您可以在多租户容器数据库（CDB）中创建正常和保证还原点。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB__GUID-B7C0E398-DF3B-4609-A3BF-8F0F7B56CF41">要创建CDB还原点：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>确保满足<a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="To ensure successful operation of Flashback Database and guaranteed restore points, you must first set some key database options.">闪回数据库和还原点</a>的先决条件中描述的<a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="要确保闪回数据库的成功运行和有保证的还原点，必须先设置一些关键数据库选项。">先决条件</a> 。</span></li>
                        <li class="stepexpand"><span>使用<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限将SQL * Plus作为普通用户连接到root用户。</span></li>
                        <li class="stepexpand"><span>确保CDB已打开或已安装。如果安装了CDB，则必须干净地关闭它（除非它是物理备用数据库）。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">CREATE RESTORE POINT</code>语句以创建<a href="glossary.html#GUID-6BFC6E77-175D-4055-8198-6091D47AD8F6"><span class="xrefglossterm">CDB还原点</span></a> 。</span><div>
                              <p>以下命令创建正常的CDB还原点：</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT cdb_before_upgrade;</code></pre><p>以下命令创建有保证的CDB还原点：</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT cdb_grp_before_upgrade GUARANTEE FLASHBACK DATABASE;</code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB__GUID-AD694122-9165-4FD8-A398-FB92EB1E0454">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" title="CDB还原点充当SCN的别名或多租户容器数据库（CDB）中的时间点。它可以是正常的还原点或保证还原点。">关于CDB还原点</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-9363C4B9-48E5-470F-B13B-43FA56667978" title="您可以使用CREATE RESTORE POINT SQL语句在可插拔数据库（PDB）中创建还原点。">创建PDB还原点</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" title="您可以使用V $ RESTORE_POINT控制文件视图来获取有关所有当前定义的还原点（正常和保证）的信息，包括CDB还原点和PDB还原点。">使用V $ RESTORE_POINT视图列出还原点</a></p>
                              </li>
                              <li>
                                 <p>有关将SQL * Plus连接到根目录的步骤的<a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9363C4B9-48E5-470F-B13B-43FA56667978" name="GUID-9363C4B9-48E5-470F-B13B-43FA56667978"></a><h4 id="BRADV-GUID-9363C4B9-48E5-470F-B13B-43FA56667978" class="sect4"><span class="enumeration_section">7.4.3</span>创建PDB还原点</h4>
                  <div>
                     <p>您可以使用<code class="codeph">CREATE RESTORE POINT</code> SQL语句在可插拔数据库（PDB）中创建还原点。
                     </p>
                     <div class="section">还原点可以是正常的<a href="glossary.html#GUID-7C3A47D4-B9C5-40D3-89D0-8BD77281AAB1"><span class="xrefglossterm">PDB还原点</span></a> ，保证的PDB还原点或干净的PDB还原点。您可以在连接到PDB或根目录时创建PDB还原点。
                     </div>
                     <!-- class="section" -->
                     <div class="section">当PDB使用共享撤消时，只有在PDB没有任何未完成的事务时才能创建干净的还原点。</div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9363C4B9-48E5-470F-B13B-43FA56667978__GUID-F760138D-D0B8-42E5-B91E-C6F52F5C17D7">要在连接到PDB时创建PDB还原点，请执行以下操作：</p>
                        <ol>
                           <li>
                              <p>确保<a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="To ensure successful operation of Flashback Database and guaranteed restore points, you must first set some key database options.">满足闪回数据库和还原点</a>的先决条件中描述的<a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="要确保闪回数据库的成功运行和有保证的还原点，必须先设置一些关键数据库选项。">先决条件</a> 。
                              </p>
                           </li>
                           <li>
                              <p>将SQL * Plus作为具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的公共用户或本地用户连接到PDB。
                              </p>
                           </li>
                           <li>
                              <p>如果要在使用共享撤消的CDB中创建干净的PDB还原点，则必须关闭PDB。</p>
                              <p>以下命令显示PDB的状态：</p><pre class="pre codeblock"><code>SQL&gt; SELECT name，open_mode FROM V $ PDBs;</code></pre><p>使用以下命令关闭PDB：</p><pre class="pre codeblock"><code>SQL&gt; ALTER PLUGGABLE DATABASE CLOSE;</code></pre></li>
                           <li>
                              <p>如果<a href="glossary.html#GUID-3E156A59-F6CC-4A2A-9749-DB7D1CE25F13"><span class="xrefglossterm">多租户容器数据库（CDB）</span></a>处于已装入状态，则它必须一致地关闭（除非它是物理备用数据库）。
                              </p>
                           </li>
                           <li>
                              <p>将当前容器设置为PDB。</p>
                              <p>以下命令将当前容器设置为PDB <code class="codeph">my_pdb</code> ：</p><pre class="pre codeblock"><code>SQL&gt; ALTER SESSION SET CONTAINER = my_pdb;</code></pre></li>
                           <li>
                              <p>使用<code class="codeph">CREATE RESTORE POINT</code>命令创建PDB还原点。
                              </p>
                              <p>以下命令创建正常的PDB还原点：</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT before_patching;</code></pre><p>以下命令可创建有保证的PDB还原点：</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT before_upgrade GUARENTEE FLASHBACK DATABASE;</code></pre><p>以下命令显式创建一个干净的PDB还原点。如果无法创建干净的还原点，则会返回错误。</p><pre class="pre codeblock"><code>SQL&gt; CREATE CLEAN RESTORE POINT before_patching;</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9363C4B9-48E5-470F-B13B-43FA56667978__GUID-9214C3FA-54CD-460D-AD18-A35E8F07AC13">要在连接到CDB时创建PDB还原点，请执行以下操作：</p>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>确保<a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="To ensure successful operation of Flashback Database and guaranteed restore points, you must first set some key database options.">满足闪回数据库和还原点</a>的先决条件中描述的<a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="要确保闪回数据库的成功运行和有保证的还原点，必须先设置一些关键数据库选项。">先决条件</a> 。</span></li>
                        <li class="stepexpand"><span>使用<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限将SQL * Plus作为普通用户连接到root用户。</span></li>
                        <li class="stepexpand"><span>如果要在使用共享撤消的CDB中创建干净的PDB还原点，则必须关闭PDB。</span><div>以下命令关闭PDB <code class="codeph">my_pdb</code> ：</div>
                           <div><pre class="pre codeblock"><code>SQL&gt; ALTER PLUGGABLE DATABASE my_pdb CLOSE;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>包含PDB的CDB可以打开或安装。如果安装了CDB，则必须始终关闭它（除非它是物理备用数据库）。</span><div>
                              <p>以下命令将CDB置于已装入状态：</p>
                           </div>
                           <div><pre class="pre codeblock"><code>SQL&gt; SHUTDOWN IMMEDIATE; SQL&gt; STARTUP MOUNT;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>将当前容器设置为root。</span><div><code class="codeph">SQL&gt; ALTER SESSION SET CONTAINER = CDB $ ROOT;</code></div>
                        </li>
                        <li class="stepexpand"><span>使用带有<code class="codeph">FOR PLUGGABLE DATABASE</code>子句的<code class="codeph">CREATE RESTORE POINT</code>命令创建PDB还原点。</span><div>以下命令创建正常的PDB还原点：<pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT mypdb_before_patching FOR PLUGGABLE DATABASE my_pdb;</code></pre><p>以下命令可创建有保证的PDB还原点：</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT mypdb_grp_before_upgrade FOR PLUGGABLE DATABASE my_pdb GUARANTEE FLASHBACK DATABASE;</code></pre><p>以下命令显式创建一个干净的PDB还原点（当PDB关闭且没有挂起的事务时）。如果无法创建还原点，则会显示错误。</p><pre class="pre codeblock"><code>SQL&gt; CREATE CLEAN RESTORE POINT mypdb_crp_before_patching FOR PLUGGABLE DATABASE my_pdb;</code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-9363C4B9-48E5-470F-B13B-43FA56667978__GUID-9CB8C1F3-2282-4E0A-819A-5401961C8FC5">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-66B1A12D-1C92-43B5-A204-AA8A6D177ABD" title="多租户容器数据库（CDB）可以使用共享撤消或本地撤消。RMAN用于执行闪回数据库操作的技术取决于CDB的撤消配置类型。">关于PDB的撤消和闪回数据库操作</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" title="您可以在可插拔数据库（PDB）中创建正常和保证还原点。PDB还原点只能由定义它们的PDB访问。">关于PDB中的还原点</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB" title="CREATE RESTORE POINT SQL命令使您可以在多租户容器数据库（CDB）中创建正常和保证还原点。">创建CDB还原点</a></p>
                              </li>
                              <li>
                                 <p>有关将SQL * Plus连接到根目录的步骤的<a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" title="您可以使用V $ RESTORE_POINT控制文件视图来获取有关所有当前定义的还原点（正常和保证）的信息，包括CDB还原点和PDB还原点。">使用V $ RESTORE_POINT视图列出还原点</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV592"></a><div class="props_rev_3"><a id="GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D" name="GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D"></a><h4 id="BRADV-GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D" class="sect4"><span class="enumeration_section">7.4.4</span>使用LIST命令列出还原点</h4>
                  <div>
                     <div class="section">
                        <p></p>
                        <p><a id="d33613e2822" class="indexterm-anchor"></a>您可以使用<code class="codeph">LIST</code>命令列出特定还原点或RMAN存储库已知的所有还原点。命令的变化如下：</p><pre class="oac_no_warn" dir="ltr">LIST RESTORE POINT <span class="italic">restore_point_name</span> ;列表恢复点全部;</pre><p>RMAN表示还原点的SCN和时间，还原点的类型以及还原点的名称。以下示例显示了示例输出：</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; LIST RESTORE POINT ALL;使用目标数据库控制文件而不是恢复目录SCN RSP时间类型时间名称---------------- --------- ---------- --------- ---- 341859 28-APR-15 28-APR-15 NORMAL_RS 343690 28-APR-15保证28-APR-15 GUARANTEED_RS</pre><div class="infoboxnote" id="GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D__GUID-05810482-DBDD-4011-8594-16F5B12B8E47">
                           <p class="notep1">注意：</p><code class="codeph">LIST</code>命令不显示PDB化身编号等详细信息以及还原点是否为PDB还原点。要查看有关多租户环境中还原点的其他详细信息，请参阅<a href="using-flasback-database-restore-points.html#GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" title="您可以使用V $ RESTORE_POINT控制文件视图来获取有关所有当前定义的还原点（正常和保证）的信息，包括CDB还原点和PDB还原点。">使用V $ RESTORE_POINT视图列出还原点</a> 。
                        </div>
                        <div class="infoboxnotealso" id="GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D__GUID-4195DB14-20E0-460E-A713-BCFED405EB8B">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="rman-performing-flashback-dbpitr.html#GUID-953FA30D-BED2-4DBA-8361-9DA1B8FF073F" title="闪回数据库通过将数据库返回到先前某个时间点的状态来反转不需要的更改。">使用闪回数据库重绕数据库</a> ”</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" name="GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65"></a><h4 id="BRADV-GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" class="sect4"><span class="enumeration_section">7.4.5</span>使用V $ RESTORE_POINT视图列出还原点</h4>
                  <div>
                     <p>您可以使用<code class="codeph">V$RESTORE_POINT</code>控制文件视图来获取有关所有当前定义的还原点（正常和保证）的信息，包括CDB还原点和PDB还原点。
                     </p>
                     <div class="section"><code class="codeph">V$RESTORE_POINT</code>视图包含有关多租户环境中还原点的其他信息，这些还原点未由<code class="codeph">LIST RESTORE POINT</code>命令显示。这包括诸如<a href="glossary.html#GUID-D4239448-A344-41EF-9566-0B7716FEAE72"><span class="xrefglossterm">可</span></a>创建<a href="glossary.html#GUID-7C3A47D4-B9C5-40D3-89D0-8BD77281AAB1"><span class="xrefglossterm">PDB还原点</span></a>的<a href="glossary.html#GUID-D4239448-A344-41EF-9566-0B7716FEAE72"><span class="xrefglossterm">可插拔数据库（PDB）</span></a>的化身以及还原点是PDB还原点还是干净PDB还原点等详细信息。
                     </div>
                     <!-- class="section" -->
                     <div class="p">
                        <p>以下步骤显示有关CDB中所有PDB的PDB还原点的信息：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>将SQL * Plus连接到目标数据库。如果目标数据库是<a href="glossary.html#GUID-3E156A59-F6CC-4A2A-9749-DB7D1CE25F13"><span class="xrefglossterm">多租户容器数据库（CDB）</span></a> ，则连接到根目录。</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要查看所有PDB的还原点，必须使用<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限连接到根目录。
                                    </p>
                                 </li>
                                 <li>
                                    <p>要查看特定PDB中的还原点，您可以作为具有<code class="codeph">SYSDBA</code>或<code class="codeph">SYSBACKUP</code>权限的公共用户或本地用户连接到该PDB。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>查询<code class="codeph">V$RESTORE_POINT</code>视图以显示有关还原点的信息。</span></li>
                     </ol>
                     <div class="example" id="GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65__GUID-242EBFA4-87DC-4B01-9AFD-80AE6FDF7B1F">
                        <p class="titleinexample">示例7-1在多租户环境中显示还原点</p>
                        <p></p>
                        <p>以下查询显示有关多租户环境中所有还原点的详细信息（格式化为适合页面的查询输出）：</p><pre class="oac_no_warn" dir="ltr">SELECT name，guarantee_flashback_database，pdb_restore_point，clean_pdb_restore_point，pdb_incarnation＃，storage_sizeFROM v $ restore_point;</pre><pre class="oac_no_warn" dir="ltr">名称GUARANTEE_ PDB_RESTORE_POINT CLEAN_PDB_RESTORE_POINT STORAGE_SIZE -------- ---------- ---------------- ----------- ------------ ------------ CDB_GRP_BEFORE_PATCH YES NO NO 84586 PDB_GRP_BEFORE_UPGRADE_TEMP YES YES NO 4562 CDB_RP1 NO NO NO 0 PDB1_BEFORE_PATCHING NO YES NO 0 MYPDB_CLEAN_GRP_BEFORE_UPGRADE NO YES YES 0</pre><p>对于正常还原点， <code class="codeph">STORAGE_SIZE</code>为零。对于保证还原点， <code class="codeph">STORAGE_SIZE</code>指示快速恢复区域中的磁盘空间的大致字节数，该区域保留了保留<code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code>到该还原点所需的日志。
                        </p>
                        <div class="infoboxnotealso" id="GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65__GUID-00A96BB4-D232-4EF6-B0E6-C85EE99731E5">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">V$RESTORE_POINT</code>信息，请<a href="../refrn/V-RESTORE_POINT.html#REFRN30390" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D">使用LIST命令列出还原点</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-953FA30D-BED2-4DBA-8361-9DA1B8FF073F" title="闪回数据库通过将数据库返回到先前某个时间点的状态来反转不需要的更改。">使用闪回数据库重绕数据库</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-8466CA3C-652A-4AAB-88EB-8815575D6266" title="您可以使用FLASHBACK DATABASE命令为整个多租户容器数据库（CDB）执行闪回数据库操作。">为整个CDB执行闪回数据库操作</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-C1215E86-9A7B-4EC9-9777-2A18BD627394" title="您可以使用FLASHBACK DATABASE命令对多租户容器数据库（CDB）中的单个可插拔数据库（PDB）执行闪回数据库操作。">为PDB执行闪回数据库操作</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="BRADV593"></a><div class="props_rev_3"><a id="GUID-A1563822-015B-4941-B7EB-C3D44A63232C" name="GUID-A1563822-015B-4941-B7EB-C3D44A63232C"></a><h4 id="BRADV-GUID-A1563822-015B-4941-B7EB-C3D44A63232C" class="sect4"><span class="enumeration_section">7.4.6</span>删除还原点</h4>
                  <div>
                     <p>如果您对不需要现有还原点感到满意，或者想要使用现有还原点的名称创建还原点，则可以使用<code class="codeph">DROP RESTORE POINT</code> SQL * Plus语句删除还原点。
                     </p>
                     <div class="section">
                        <p>例如：</p><pre class="pre codeblock"><code>SQL&gt; DROP RESTORE POINT before_app_upgrade;还原点已删除。
</code></pre><p>同一语句用于删除正常和保证还原点。</p>
                        <div class="infoboxnote" id="GUID-A1563822-015B-4941-B7EB-C3D44A63232C__GUID-C8141E34-1290-4E83-BDEE-5C4A65BA07D2">
                           <p class="notep1">注意：</p>
                           <p>即使未明确删除，正常还原点也最终会超出控制文件的范围。管理控制文件中还原点保留的规则是：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>无论年龄大小，最近的2048个还原点始终保存在控制文件中。</p>
                              </li>
                              <li>
                                 <p>无论定义了多少个还原点，都会保留比<code class="codeph">CONTROL_FILE_RECORD_KEEP_TIME</code>的值更新的任何还原点。
                                 </p>
                              </li>
                           </ul>
                           <p>不满足这些条件的正常还原点可能会超出控制文件的范围。</p>
                        </div>
                        <p>保证还原点永远不会超出控制文件的范围。它们一直存在，直到它们被明确删除</p>
                        <div class="infoboxnote" id="GUID-A1563822-015B-4941-B7EB-C3D44A63232C__GUID-CF9D23CC-90DF-4B8C-B01A-0FF25B10A8E0">
                           <p class="notep1">也可以看看：</p>
                           <p>有关SQL <code class="codeph">DROP RESTORE POINT</code>语句的参考信息，请参见<a href="../sqlrf/DROP-RESTORE-POINT.html#SQLRF20002" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV594"></a><div class="props_rev_3"><a id="GUID-4E96DB60-3616-4680-866A-F38A6049053A" name="GUID-4E96DB60-3616-4680-866A-F38A6049053A"></a><h3 id="BRADV-GUID-4E96DB60-3616-4680-866A-F38A6049053A" class="sect3"><span class="enumeration_section">7.5</span>使用闪回数据库</h3>
               <div>
                  <p>要对目标数据库使用闪回日志记录，必须启用闪回数据库。可以遵循某些准则以确保闪回数据库的最佳性能。</p>
                  <p>本节包含以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4" title="使用ALTER DATABASE命令启用闪回数据库">启用闪回数据库</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-B343C3D9-0CA1-49E5-AC62-1E872E9966A6" title="使用ALTER DATABASE命令禁用闪回数据库。">禁用闪回数据库日志记录</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045" title="维护闪回日志会对数据库实例施加相对有限的开销。更改的块以相对不频繁的定期间隔从内存写入闪回日志，以限制处理和I / O开销。">配置环境以获得最佳闪回数据库性能</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-19A3894F-22A9-49B1-91F4-951E9824C95F" title="有几种数据分析方法可用于监视系统上的闪回数据库工作负载。">监控闪回数据库对性能的影响</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-C6E3FBBA-188F-4D26-AC7D-31ED3D190E88" title="启用闪回或有保证还原点时，后台进程RVWR会将闪回数据写入快速恢复区域中的闪回数据库日志。">关于具有I / O错误的闪回写入器（RVWR）行为</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV596"></a><a id="BRADV595"></a><div class="props_rev_3"><a id="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4" name="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4"></a><h4 id="BRADV-GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4" class="sect4"><span class="enumeration_section">7.5.1</span>启用闪回数据库</h4>
                  <div>
                     <p>使用<code class="codeph">ALTER DATABASE</code>命令启用闪回数据库</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4__GUID-A6BCA30F-8B5E-4EE6-BC8E-C58DEF3AF562">要启用闪回日志记录：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>按<span class="q">“ <a href="configuring-rman-client-basic.html#GUID-233338E2-3EE6-4248-A2B6-16A7899DB14F" title="You enable the fast recovery area by setting two initialization parameters. These parameters enable the fast recovery area with or without having to shut down and restart the database instance.">启用快速恢复区</a> ”中的说明<a href="configuring-rman-client-basic.html#GUID-233338E2-3EE6-4248-A2B6-16A7899DB14F" title="通过设置两个初始化参数来启用快速恢复区域。这些参数启用快速恢复区域，无论是否必须关闭并重新启动数据库实例。">配置恢复区</a></span> 。</span></li>
                        <li class="stepexpand"><span>确保数据库实例已打开或已装入。如果已装入实例，则必须干净地关闭数据库，除非它是物理备用数据库。其他Oracle Real Application Clusters（Oracle RAC）实例可以处于任何模式。</span></li>
                        <li class="stepexpand"><span>（可选）将<code class="codeph">DB_FLASHBACK_RETENTION_TARGET</code>设置为所需闪回窗口的长度（以分钟为单位）：</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DB_FLASHBACK_RETENTION_TARGET = 4320 SCOPE = BOTH; ＃ 3天</pre><p>默认情况下， <code class="codeph">DB_FLASHBACK_RETENTION_TARGET</code>设置为1天（1440分钟）。
                              </p>
                              <div class="infoboxnote" id="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4__GUID-7D7A30FD-341C-4C0D-8B66-FA5049E0ACB1">
                                 <p class="notep1">注意：</p>
                                 <p>此设置必须在数据库启动和关闭期间保持不变。</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>为整个数据库启用闪回数据库功能：</span><div><pre class="pre codeblock"><code>ALTER DATABASE FLASHBACK ON;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>（可选）禁用特定表空间的闪回日志记录。</span><div>
                              <p>默认情况下，会为所有永久表空间生成闪回日志。您可以通过禁用特定表空间的闪回日志记录来减少开销，如以下示例所示：</p><pre class="pre codeblock"><code>ALTER TABLESPACE tbs_3 FLASHBACK OFF;</code></pre><p>您可以稍后使用以下命令为表空间重新启用闪回日志记录：</p><pre class="pre codeblock"><code>ALTER TABLESPACE tbs_3 FLASHBACK ON;</code></pre><p>如果为表空间禁用闪回数据库，则必须在运行<code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code>之前使其数据文件脱机。</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>在数据库打开时启用闪回数据库时，命令很可能无法获取所需的内存。如果命令因此原因失败，请在一段时间后重试该命令，或在关闭并重新启动实例后重试。</p>
                        <p>在<a href="glossary.html#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">物理备用数据库</span></a>上启用闪回数据库时，可以闪回备用数据库。备用数据库的闪回数据库在Data Guard环境中有一些应用程序。
                        </p>
                        <div class="infoboxnotealso" id="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4__GUID-674A0CA8-6517-4278-ABFA-29FAF383F2AF">
                           <p class="notep1">也可以看看：</p>
                           <p>有关备用数据库的详细信息，请参阅<a href="../sbydb/examples-of-using-oracle-data-guard.html#SBYDB4891" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV597"></a><div class="props_rev_3"><a id="GUID-B343C3D9-0CA1-49E5-AC62-1E872E9966A6" name="GUID-B343C3D9-0CA1-49E5-AC62-1E872E9966A6"></a><h4 id="BRADV-GUID-B343C3D9-0CA1-49E5-AC62-1E872E9966A6" class="sect4"><span class="enumeration_section">7.5.2</span>禁用闪回数据库日志记录</h4>
                  <div>
                     <p>使用<code class="codeph">ALTER DATABASE</code>命令禁用闪回数据库。
                     </p>
                     <div class="section">
                        <p>在处于装入或打开状态的数据库实例上，发出以下命令：</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE FLASHBACK OFF;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV598"></a><div class="props_rev_3"><a id="GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045" name="GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045"></a><h4 id="BRADV-GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045" class="sect4"><span class="enumeration_section">7.5.3</span>配置环境以获得最佳闪回数据库性能</h4>
                  <div>
                     <p>维护闪回日志会对数据库实例施加相对有限的开销。更改的块以相对不频繁的定期间隔从内存写入闪回日志，以限制处理和I / O开销。</p>
                     <div class="section">
                        <p>为了在启用闪回数据库的情况下为大型生产数据库实现良好性能，Oracle建议如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>为快速恢复区域使用快速文件系统，最好不使用操作系统文件缓存。</p>
                              <p>数据库在快速恢复区域中创建的文件（包括闪回日志）通常很大。操作系统文件缓存通常对这些文件无效，实际上可能会增加CPU开销，以便读取和写入这些文件。因此，建议使用避免操作系统文件缓存的文件系统，例如自动存储管理（ASM）。</p>
                           </li>
                           <li>
                              <p>为包含快速恢复区域的文件系统配置足够的磁盘轴。</p>
                              <p>对于大型生产数据库，可能需要多个磁盘轴来支持数据库所需的磁盘吞吐量，以便有效地写入闪回日志。</p>
                           </li>
                           <li>
                              <p>如果用于保存快速恢复区的存储系统没有非易失性RAM，请尝试在条带化存储卷上配置文件系统。</p>
                              <p>使用相对较小的条带大小，如128 KB。此技术使每次闪回日志的写入能够分布在多个磁盘轴上，从而提高性能。</p>
                           </li>
                           <li>
                              <p>对于大型数据库，请将初始化参数<code class="codeph">LOG_BUFFER</code>设置为至少8 MB。</p>
                           </li>
                        </ul>
                        <p>记录闪回数据库的开销取决于数据库工作负载中读写的混合。当您具有写入密集型工作负载时，闪回数据库的日志记录开销很高，因为它必须记录所有这些数据库更改。查询不会更改数据，因此不会为闪回数据库的日志记录活动做出贡献。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV600"></a><a id="BRADV599"></a><div class="props_rev_3"><a id="GUID-19A3894F-22A9-49B1-91F4-951E9824C95F" name="GUID-19A3894F-22A9-49B1-91F4-951E9824C95F"></a><h4 id="BRADV-GUID-19A3894F-22A9-49B1-91F4-951E9824C95F" class="sect4"><span class="enumeration_section">7.5.4</span>监控闪回数据库对性能的影响</h4>
                  <div>
                     <p>有几种数据分析方法可用于监视系统上的闪回数据库工作负载。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>AWR报道</p>
                           <p>自动工作负载存储库（AWR）通过收集，处理和维护数据库问题检测和自我调整的性能统计信息来自动化数据库统计信息收集。您可以比较启用闪回数据库之前和之后的AWR报告，以监控性能影响。</p>
                        </li>
                        <li>
                           <p>AWR快照</p>
                           <p>您可以查看AWR快照以查明由闪回日志记录引起的系统使用情况。例如，如果<code class="codeph">flashback buf free by RVWR</code>是最高等待事件，那么您就知道Oracle数据库无法非常快速地写入闪回日志。因此，您可能希望调整快速恢复区使用的文件系统和存储，可能使用<span class="q">“ <a href="using-flasback-database-restore-points.html#GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045" title="维护闪回日志会对数据库实例施加相对有限的开销。更改的块以相对不频繁的定期间隔从内存写入闪回日志，以限制处理和I / O开销。">配置环境以获得最佳闪回数据库性能</a> ”中</span>描述的技术</p>
                        </li>
                        <li>
                           <p><code class="codeph">V$FLASHBACK_DATABASE_STAT</code>视图</p>
                           <p><code class="codeph">V$FLASHBACK_DATABASE_STAT</code>视图显示数据库记录的闪回数据的字节数。视图中的每一行都显示累积的统计信息（通常在一小时内）。<code class="codeph">FLASHBACK_DATA</code>和<code class="codeph">REDO_DATA</code>列描述了在时间间隔内分别写入的闪回数据和重做数据的字节，而<code class="codeph">DB_DATA</code>列描述了读取和写入的数据块的字节。列<code class="codeph">FLASHBACK_DATA</code>和<code class="codeph">REDO_DATA</code>对应于顺序写入，而<code class="codeph">DB_DATA</code>列对应于随机读取和写入。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">V$SYSSTAT</code>视图</p>
                           <p>由于顺序I / O和随机I / O之间的差异，更好的I / O开销指示是为闪回日志发出的I / O操作数。<a href="using-flasback-database-restore-points.html#GUID-19A3894F-22A9-49B1-91F4-951E9824C95F__CFHBHCAG" title="描述V $ SYSSTAT视图中的列">表7-1中</a>显示的<code class="codeph">V$SYSSTAT</code>统计信息可以告诉您实例为各种目的发出的I / O操作数。
                           </p>
                        </li>
                     </ul>
                     <div class="tblformal" id="GUID-19A3894F-22A9-49B1-91F4-951E9824C95F__CFHBHCAG">
                        <p class="titleintable">表7-1 V $ SYSSTAT统计信息</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="V $ SYSSTAT统计" width="100%" border="1" summary="Describes columns in the V$SYSSTAT View" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d33613e3819">列名称</th>
                                 <th align="left" valign="bottom" width="69%" id="d33613e3822">列含义</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3827" headers="d33613e3819 ">
                                    <p>物理写入I / O请求</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3827 d33613e3822 ">
                                    <p>为写入数据块而发出的写入操作数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3834" headers="d33613e3819 ">
                                    <p>物理读取I / O请求</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3834 d33613e3822 ">
                                    <p>为读取数据块而发出的读取操作数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3841" headers="d33613e3819 ">
                                    <p>重做写道</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3841 d33613e3822 ">
                                    <p>为写入重做日志而发出的写入操作数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3848" headers="d33613e3819 ">
                                    <p>闪回日志写入</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3848 d33613e3822 ">
                                    <p>为写入闪回日志而发出的写入操作数</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3855" headers="d33613e3819 ">
                                    <p>闪回日志写入字节</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3855 d33613e3822 ">
                                    <p>从此实例写入的闪回数据库数据的总大小（以字节为单位）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-19A3894F-22A9-49B1-91F4-951E9824C95F__GUID-82CC01DB-6C2C-4835-9076-5FDD2F685269">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">V$SYSSTAT</code>视图中列的更多详细信息，请<a href="../refrn/statistics-descriptions.html#REFRN103" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../tgdba/gathering-database-statistics.html#TGDBA185" target="_blank"><span><cite>Oracle数据库性能调优指南</cite></span></a> ，了解AWR</p>
                           </li>
                           <li>
                              <p>有关AWR报告的详细信息，请参阅<a href="../tdppt/resolving-performance-degradation-over-time.html#TDPPT091" target="_blank"><span><cite>“Oracle数据库2天+性能调整指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV601"></a><div class="props_rev_3"><a id="GUID-C6E3FBBA-188F-4D26-AC7D-31ED3D190E88" name="GUID-C6E3FBBA-188F-4D26-AC7D-31ED3D190E88"></a><h4 id="BRADV-GUID-C6E3FBBA-188F-4D26-AC7D-31ED3D190E88" class="sect4"><span class="enumeration_section">7.5.5</span>关于具有I / O错误的闪回写入器（RVWR）行为</h4>
                  <div>
                     <p>启用闪回或有保证还原点时，后台进程RVWR会将闪回数据写入快速恢复区域中的闪回数据库日志。</p>
                     <p>如果RVWR遇到I / O错误，则预期会出现以下行为：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果定义了任何保证的还原点，则当RVWR遇到I / O错误时，实例将失败。</p>
                        </li>
                        <li>
                           <p>如果未定义保证还原点，则当RVWR遇到I / O错误时，实例不受影响。请注意以下情况：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在主数据库上，Oracle数据库在数据库打开时自动禁用闪回数据库。所有现有事务和查询都不受影响。单实例和Oracle RAC数据库都需要此行为。</p>
                              </li>
                              <li>
                                 <p>在物理或逻辑备用数据库上，RVWR似乎已停止响应，并定期重试I / O.这可能最终导致物理备用数据库的逻辑备用或受管恢复暂停。（Oracle数据库不会导致备用实例失败，因为它不希望在最大保护模式下导致主数据库失败。）要解决此问题，您可以发出<code class="codeph">SHUTDOWN ABORT</code>或<code class="codeph">ALTER DATABASE FLASHBACK OFF</code>命令。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="04706.metadata-class.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>元数据类</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Programmer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Programmer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96205-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="message-class.html" title="Previous" type="text/html"></link>
      <link rel="next" href="notifyresult-class.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="LNCPP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="message-class.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="notifyresult-class.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">程序员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="occi-application-programing-interface.html" property="item" typeof="WebPage"><span property="name">OCCI应用程序编程接口</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">元数据类</li>
            </ol>
            <a id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F" name="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F"></a>
            
            <h2 id="LNCPP-GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F" class="sect2"><span class="enumeration_section">13.20</span>元数据类</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p><code class="codeph">MetaData</code>对象可用于描述<code class="codeph">ResultSet</code>列的类型和属性，或数据库中的现有模式对象。它还提供有关整个数据库的信息。MetaData的枚举值如<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJJDDG" title="第一列列出类使用的属性，第二列描述每个属性可用的选项">表13-27所示</a> ，其方法摘要<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAFBGEH" title="第一列列出方法;第二列提供了这些方法的描述。">见表13-28</a> 。
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJJDDG">
                  <p class="titleintable">表13-27 MetaData类使用的枚举值</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="MetaData类使用的枚举值" width="100%" border="1" summary="First column lists the attribute used by the class, the second column describes the options available to each attribute" frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="23%" id="d142845e55">属性</th>
                           <th align="left" valign="bottom" width="77%" id="d142845e58">选项</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e63" headers="d142845e55 "><pre class="oac_no_warn" dir="ltr">ParamType</pre><code class="codeph"> </code></td>
                           <td align="left" valign="top" width="77%" headers="d142845e63 d142845e58 ">
                              <p>对象的参数类型是：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAIFGIA">PTYPE_ARG</code>是函数或过程的参数。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGIEAF">PTYPE_COL</code>是表或视图的列。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHCJBB">PTYPE_DATABASE</code>是数据库。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGBIHB">PTYPE_FUNC</code>是函数。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGAAFD">PTYPE_PKG</code>是包。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBACHFAH">PTYPE_PROC</code>是程序。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHIFBF">PTYPE_SCHEMA</code>是架构。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHIBEJ">PTYPE_SEQ</code>是序列。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBADEBID">PTYPE_SYN</code>是同义词。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABCHIH">PTYPE_TABLE</code>就是表格。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBACCDHE">PTYPE_TYPE</code>是类型。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAIHEAD">PTYPE_TYPE_ARG</code>是类型方法的参数。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABDFJD">PTYPE_TYPE_ATTR</code>是类型的属性。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGBFJD">PTYPE_TYPE_COLL</code>是集合类型信息。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAICHEH">PTYPE_TYPE_METHOD</code>是类型的方法。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHDFDG">PTYPE_TYPE_RESULT</code>是方法的结果。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PTYPE_UNK</code>是未知类型的对象。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHEFAD">PTYPE_VIEW</code>是视图。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e164" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code>对所有参数<code class="codeph">AttrId</code>通用的</p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e164 d142845e58 ">
                              <p>所有参数的属性：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_OBJ_ID</code>是对象或模式ID。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_OBJ_NAME</code>是数据库名称或架构中的对象名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_OBJ_SCHEMA</code>是描述对象的模式的名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PTYPE</code>是参数<code class="codeph">ParamType</code>描述的信息类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TIMESTAMP</code>是对象的时间戳。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e201" headers="d142845e55 ">
                              <p>表和视图的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e201 d142845e58 ">
                              <p>表或视图的参数（ <code class="codeph">PTYPE_TABLE</code>和<code class="codeph">PTYPE_VIEW</code> <code class="codeph">ParamType</code> ）具有以下特定于类型的属性：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_OBJID</code>是对象ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NUM_COLS</code>是列数</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_COLUMNS</code>是列列表</p>
                                 </li>
                                 <li>
                                    <p>在范围表的情况下， <code class="codeph">ATTR_REF_TDO</code>是基本类型的<code class="codeph">TDO</code>的<code class="codeph">REF</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_TEMPORARY</code>表示该表是临时的</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_TYPED</code>表示该表是键入的</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DURATION</code>是临时表的持续时间。值可以是<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABEBDF">DURATION_SESSION</a> ， <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHECDA">DURATION_TRANS</a>和<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAICGCH">DURATION_NULL</a> ，如属性<code class="codeph">AttrValues</code>所定义</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e272" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code>适用于表格的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e272 d142845e58 ">
                              <p>仅用于表的参数（ <code class="codeph">PTYPE_TABLE</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_RDBA</code>表示段头的数据块地址</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TABLESPACE</code>表示表所在的表空间</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CLUSTERED</code>表示该表已群集</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PARTITIONED</code>表示表已分区</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_INDEX_ONLY</code>表示该表是仅索引的</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e313" headers="d142845e55 ">
                              <p>函数和程序的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e313 d142845e58 ">
                              <p>函数和过程的参数（分别为<code class="codeph">PTYPE_FUNC</code>和<code class="codeph">PTYPE_PROC</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_ARGUMENTS</code>表示参数列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INVOKER_RIGHTS</code>表示过程或函数具有调用者的权限</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code>表示过程或功能的名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_OVERLOAD_ID</code>表示重载ID号，当过程或函数是类的一部分并且它被重载时相关;返回的值可能与PL / SQL函数或过程的直接查询不同</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e352" headers="d142845e55 ">
                              <p>包的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e352 d142845e58 ">
                              <p>包的参数（ <code class="codeph">Paramtype</code>的<code class="codeph">PTYPE_PKG</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_SUBPROGRAMS</code>表示子程序列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INVOKER_RIGHTS</code>表示过程或函数具有调用者的权限</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e378" headers="d142845e55 ">
                              <p>类型的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e378 d142845e58 ">
                              <p>参数适用于类型（ <code class="codeph">PTYPE_TYPE</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果列类型是对象类型，则<code class="codeph">ATTR_REF_TDO</code>指示类型的类型描述符的内存中<code class="codeph">REF</code> 。如果尚未保留空间，则会在缓存中隐式分配空间。然后呼叫者可以固定该对象。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPECODE</code>表示数据类型代码</p>
                                 </li>
                                 <li>
                                    <p>如果type是集合，则<code class="codeph">ATTR_COLLECTION_TYPECODE</code>表示集合的类型代码</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INCOMPLETE_TYPE</code>表示这是一个不完整的类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_SYSTEM_TYPE</code>表示这是系统生成的类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_PREDEFINED_TYPE</code>表示这是预定义类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_TRANSIENT_TYPE</code>表示这是一种瞬态类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_SYSTEM_GENERATED_TYPE</code>表示这是系统生成的类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HAS_NESTED_TABLE</code>表示此类型包含嵌套表属性</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HAS_LOB</code>表示此类型包含<code class="codeph">LOB</code>属性</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HAS_FILE</code>表示此类型包含<code class="codeph">BFILE</code>属性</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_COLLECTION_ELEMENT</code>表示对集合元素的引用</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NUM_TYPE_ATTRS</code>表示类型属性的数量</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_TYPE_ATTRS</code>表示类型属性列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NUM_TYPE_METHODS</code>表示类型方法的数量</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_TYPE_METHODS</code>表示类型方法列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAP_METHOD</code>表示该类型的map方法</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_ORDER_METHOD</code>表示该类型的订购方法</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INVOKER_RIGHTS</code>表示该类型具有调用者的权限</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code>表示类型属性名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code>表示创建类型的架构</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_FINAL_TYPE</code>表示这是最终类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INSTANTIABLE_TYPE</code>表示这是一种可实例化的类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_SUBTYPE</code>表示这是一个子类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SUPERTYPE_SCHEMA_NAME</code>表示包含超类型的架构的名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SUPERTYPE_NAME</code>表示超类型的名称</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e535" headers="d142845e55 ">
                              <p>属性类型的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e535 d142845e58 ">
                              <p>参数适用于类型的属性（ <code class="codeph">PTYPE_TYPE_ATTR</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_SIZE</code>表示type属性的最大大小</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPECODE</code>表示数据类型代码</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_TYPE</code>表示type属性的数据类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code>表示过程或功能的名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PRECISION</code>指示数字类型属性的精度。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCALE</code>表示数字类型属性的比例</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_NAME</code>表示类型名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code>指示已创建类型的架构的名称</p>
                                 </li>
                                 <li>
                                    <p>如果列类型是对象类型，则<code class="codeph">ATTR_REF_TDO</code>指示类型的内存中<code class="codeph">REF</code> 。如果空间尚未保留，则会在缓存中隐式分配。然后呼叫者可以固定该对象。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code>表示字符集ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_FORM</code>表示字符集形式</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_FSPRECISION</code>指示<code class="codeph">Timestamp</code> ， <code class="codeph">IntervalDS</code>或<code class="codeph">IntervalYM</code>的小数秒精度</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LFPRECISION</code>指示<code class="codeph">IntervalDS</code>或<code class="codeph">IntervalYM</code>的前导字段精度</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e633" headers="d142845e55 ">
                              <p>类型方法的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e633 d142845e58 ">
                              <p>参数用于类型的方法（ <code class="codeph">PTYPE_METHOD</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code>表示过程或功能的名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_ENCAPSULATION</code>指示方法的封装级别</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_ARGUMENTS</code>表示参数列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_CONSTRUCTOR</code>表示该方法是构造函数</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_DESTRUCTOR</code>表示该方法是析构函数</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_OPERATOR</code>表示该方法是一个运算符</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_SELFISH</code>表示该方法是自私的</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_MAP</code>表示该方法是一种map方法</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_ORDER</code>表示该方法是一种订单方法</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_RNDS</code>表示该方法处于“无数据读取”状态</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_RNPS</code>表示该方法处于“读取无进程”状态</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_WNDS</code>表示该方法处于“无数据写入”状态</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_WNPS</code>表示该方法处于“写入无进程”状态</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_FINAL_METHOD</code>表示这是最终方法</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INSTANTIABLE_METHOD</code>表示这是一个可实例化的方法</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_OVERRIDING_METHOD</code>表示这是一种重写方法</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e730" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Collections</p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e730 d142845e58 ">
                              <p>参数用于集合（ <code class="codeph">PTYPE_TYPE_COLL</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_SIZE</code>表示......
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPECODE</code>表示......
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_TYPE</code>表示type属性的数据类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NUM_ELEMS</code>表示集合中的元素数</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code>表示type属性的名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PRECISION</code>指示数字属性的精度</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCALE</code>表示数字属性的比例</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_NAME</code>表示类型名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code>表示已创建类型的架构</p>
                                 </li>
                                 <li>
                                    <p>如果列类型是对象类型，则<code class="codeph">ATTR_REF_TDO</code>指示类型的内存中<code class="codeph">REF</code> 。如果空间尚未保留，则会在缓存中隐式分配。然后呼叫者可以固定该对象。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code>表示字符集ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_FORM</code>表示字符集形式</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_IDENTITY</code>表示该列可以自动递增</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e815" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Synonyms</p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e815 d142845e58 ">
                              <p>参数用于同义词（ <code class="codeph">PTYPE_SYN</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_OBJID</code>表示对象ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code>表示同义词翻译的架构名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code>表示同义词转换的<code class="codeph">NULL</code>终止对象名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LINK</code>指示同义词安装的以<code class="codeph">NULL-</code>结尾的数据库链接名称</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e858" headers="d142845e55 ">
                              <p>序列的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e858 d142845e58 ">
                              <p>参数用于序列（ <code class="codeph">PTYPE_SEQ</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_OBJID</code>表示对象ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MIN</code>表示最小值</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAX</code>表示最大值</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_INCR</code>表示增量</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CACHE</code>表示缓存的序列号的数量;如果序列未缓存，则为0</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_ORDER</code>指示序列是否有序</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HW_MARK</code>表示“高水位线”</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e909" headers="d142845e55 ">
                              <p>列的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e909 d142845e58 ">
                              <p>参数用于表或视图的列（ <code class="codeph">PTYPE_COL</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_CHAR_USED</code>指示列的长度语义的类型。 <code class="codeph">0</code>表示字节长度语义， <code class="codeph">1</code>表示字符长度语义。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHAR_SIZE</code>表示列字符长度或列中允许的字符数</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_SIZE</code>表示列的最大大小或列中允许的字节数</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_TYPE</code>表示列的数据类型</p>
                                 </li>
                              </ul>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code>表示列名称</p>
                                 </li>
                              </ul>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_PRECISION</code>指示数字列的精度</p>
                                 </li>
                              </ul>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_SCALE</code>表示数字列的比例</p>
                                 </li>
                                 <li>
                                    <p>如果列不允许<code class="codeph">NULL</code>值，则<code class="codeph">ATTR_IS_NULL</code>指示<code class="codeph">0</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_NAME</code>表示类型名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code>表示创建类型的架构</p>
                                 </li>
                                 <li>
                                    <p>如果列是对象类型，则<code class="codeph">ATTR_REF_TDO</code>指示类型的<code class="codeph">REF</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code>表示字符集ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_FORM</code>表示字符集形式</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1008" headers="d142845e55 ">
                              <p>参数和结果的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1008 d142845e58 ">
                              <p>过程或函数的参数的参数（ <code class="codeph">PTYPE_ARG</code> ），方法（ <code class="codeph">PTYPE_TYPE_ARG</code> ）或结果（ <code class="codeph">PTYPE_TYPE_RESULT</code> ）</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code>表示参数名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_POSITION</code>指示列表中参数的位置</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPECODE</code>表示类型代码</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_TYPE</code>表示数据类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_SIZE</code>表示数据类型的大小</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PRECISION</code>指示数字参数的精度</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCALE</code>表示数字参数的比例</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LEVEL</code>表示数据类型级别</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HAS_DEFAULT</code>指示参数是否具有默认值</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_ARGUMENTS</code>指示下一级别的参数列表，用于记录或表类型</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IOMODE</code>表示参数模式： <code class="codeph">0</code>表示<code class="codeph">IN</code> ， <code class="codeph">1</code>表示<code class="codeph">OUT</code> ， <code class="codeph">2</code>表示<code class="codeph">IN/OUT</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_RADIX</code>表示数字类型的基数</p>
                                 </li>
                                 <li>
                                    <p>如果不允许<code class="codeph">NULL</code>值，则<code class="codeph">ATTR_IS_NULL</code>指示<code class="codeph">0</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_NAME</code>表示类型名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code>表示创建类型的架构名称</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SUB_NAME</code>表示包本地类型的类型名称</p>
                                 </li>
                                 <li>
                                    <p>当程序包是远程的时， <code class="codeph">ATTR_LINK</code>指示已定义类型的<code class="codeph">NULL-</code>终止数据库链接名称，用于程序包本地类型</p>
                                 </li>
                                 <li>
                                    <p>如果参数是对象，则<code class="codeph">ATTR_REF_TDO</code>是该类型的<code class="codeph">TDO</code>的<code class="codeph">REF</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code>表示字符集ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_FORM</code>表示字符集形式</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1161" headers="d142845e55 ">
                              <p>模式的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1161 d142845e58 ">
                              <p>参数用于模式（ <code class="codeph">PTYPE_SCHEMA</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_OBJECTS</code>指示架构中的对象列表</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1182" headers="d142845e55 ">
                              <p>列表的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1182 d142845e58 ">
                              <p>参数用于列，参数或子程序的列表：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_COLUMNS</code>表示列列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_ARGUMENTS</code>表示过程或函数参数列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_SUBPROGRAMS</code>表示子程序列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_TYPE_ATTRIBS</code>表示类型属性列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_METHODS</code>表示类型方法列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_OBJECTS</code>指示架构中的对象列表</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_SCHEMAS</code>表示数据库中的模式列表</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1227" headers="d142845e55 ">
                              <p>数据库的<code class="codeph">AttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1227 d142845e58 ">
                              <p>参数用于列，参数或子程序列表（ <code class="codeph">PTYPE_DATABASE</code> <code class="codeph">ParamType</code> ）：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">ATTR_VERSION</code>表示数据库版本</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code>表示数据库的字符集ID</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NCHARSET_ID</code>表示数据库的国家字符集</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_SCHEMAS</code>表示模式列表<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHIFBF">PTYPE_SCHEMA</a></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAX_PROC_LEN</code>表示过程名称的最大长度</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAX_COLUMN_LEN</code>表示列名的最大长度</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CURSOR_COMMIT_BEHAVIOR</code>指示提交如何影响游标和<code class="codeph">ATTR_CURSOR_COMMIT_BEHAVIOR</code>准备语句。值可以是<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHJJHJ">CURSOR_OPEN</a>和<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJDHHE">CURSER_CLOSED</a> ，如属性<code class="codeph">AttrValues</code>所定义</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAX_CATALOG_NAMELEN</code>表示数据库（目录）名称的最大长度</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CATALOG_LOCATION</code>指示目录在限定表中的位置。值可以是<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJIICC">CL_START</a>和<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGFDIC">CL_END</a> ，如属性<code class="codeph">AttrValues</code>所定义</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SAVEPOINT_SUPPORT</code>指示数据库是否支持保存点。值可以是<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHAFBF">SP_SUPPORTED</a>和<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABJHHG">SP_UNSUPPORTED</a> ，如属性<code class="codeph">AttrValues</code>所定义</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NOWAIT_SUPPORT</code>指示数据库是否支持“无等待”条件。值可以是<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJEIDF">NW_SUPPORTED</a>和<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABDCBJ">NW_UNSUPPORTED</a> ，如属性<code class="codeph">AttrValues</code>所定义</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_AUTOCOMMIT_DDL</code>指示DDL语句是否需要自动提交模式。值可以是<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGIDCE">AC_DDL</a>和<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAIDGGG">NO_AC_DDL</a> ，如属性<code class="codeph">AttrValues</code>所定义</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LOCKING_MODE</code>表示数据库的锁定模式。值可以是<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBACDIJI">LOCK_IMMEDIATE</a>和<a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHAFAC">LOCK_DELAYED</a> ，如属性<code class="codeph">AttrValues</code>所定义</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1359" headers="d142845e55 "><pre class="oac_no_warn" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAFDABH" dir="ltr">AttrValues</pre></td>
                           <td align="left" valign="top" width="77%" headers="d142845e1359 d142845e58 ">
                              <p>执行<code class="codeph">get</code> <span class="italic"><code class="codeph">xxx</code></span> <code class="codeph">()</code>方法并传入属性时返回属性值，对于这些属性，结果如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABEBDF">DURATION_SESSION</code>是临时表的持续时间：session。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHECDA">DURATION_TRANS</code>是临时表的持续时间：事务。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAICGCH">DURATION_NULL</code>是临时表的持续时间：表不是临时的。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEENCAP_PRIVATE</code>是方法的封装级别：private。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEENCAP_PUBLIC</code>是方法的封装级别：public。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEPARAM_IN</code>是参数模式： <code class="codeph">IN</code> 。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEPARAM_OUT</code>是参数模式： <code class="codeph">OUT</code> 。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEPARAM_INOUT</code>是参数模式： <code class="codeph">IN/OUT</code> 。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHJJHJ">CURSOR_OPEN</code>是<code class="codeph">COMMIT</code>操作对数据库中游标和<code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHJJHJ">CURSOR_OPEN</code>准备语句的影响：保留游标状态，如<code class="codeph">COMMIT</code>操作之前。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJDHHE">CURSER_CLOSED</code>是<code class="codeph">COMMIT</code>操作对数据库中游标和预处理语句的影响：游标在<code class="codeph">COMMIT</code>上关闭，但应用程序仍然可以重新运行该语句而无需再次准备它。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJIICC">CL_START</code>是目录在限定表中的位置：start。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGFDIC">CL_END</code>是目录在限定表中的位置：end。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHAFBF">SP_SUPPORTED</code>是数据库支持的保存点。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABJHHG">SP_UNSUPPORTED</code>是数据库不支持保存点。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJEIDF">NW_SUPPORTED</code>是数据库支持的nowait子句。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABDCBJ">NW_UNSUPPORTED</code>是数据库不支持nowait子句。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGIDCE">AC_DDL</code>是DDL语句所需的自动提交模式。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAIDGGG">NO_AC_DDL</code>是DDL语句不需要的自动提交模式。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBACDIJI">LOCK_IMMEDIATE</code>是数据库的锁定模式：immediate。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHAFAC">LOCK_DELAYED</code>是数据库的锁定模式：延迟。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1497" headers="d142845e55 ">
                              <p><code class="codeph">ColumnAttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1497 d142845e58 ">
                              <p>列标识的属性启用自动增量支持。可能的值是：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>当列是标识列时， <code class="codeph">ATTR_COL_IS_IDENTITY</code>为<code class="codeph">true</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>始终生成列时， <code class="codeph">ATTR_COL_IS_GEN_ALWAYS</code>为<code class="codeph">true</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>默认情况下，在<code class="codeph">null</code>上生成标识列时， <code class="codeph">ATTR_COL_IS_GEN_BY_DEF_ON_NULL</code>为<code class="codeph">true</code> 。
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="tblformal" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAFBGEH">
                  <p class="titleintable">表13-28元数据方法摘要</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="元数据方法摘要" width="100%" border="1" summary="First column lists methods; second column provides description of these methods." frame="hsides" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="40%" id="d142845e1542">方法</th>
                           <th align="left" valign="bottom" width="60%" id="d142845e1545">描述</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1550" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282">元数据（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1550 d142845e1545 ">
                              <p><code class="codeph">MetaData</code>类构造函数。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1560" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-C3F82831-4C45-41A9-B81D-FBE914304A60">getAttributeCount（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1560 d142845e1545 ">
                              <p>获取作为<code class="codeph">MetaData</code>对象的属性的计数</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1571" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013">getAttributeId（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1571 d142845e1545 ">
                              <p>获取指定属性的ID</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1579" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-18D4A0DE-A53E-496E-9A07-09794C53B429">getAttributeType（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1579 d142845e1545 ">
                              <p>获取指定属性的类型。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1587" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF">getBoolean（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1587 d142845e1545 ">
                              <p>以C ++ <code class="codeph">boolean</code>值的形式获取属性的<code class="codeph">boolean</code> 。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1598" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-86B0BF75-F208-4709-AB65-6CD02537A977">getInt（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1598 d142845e1545 ">
                              <p>以C ++ <code class="codeph">int</code>获取属性的值。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1609" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0">的getMetaData（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1609 d142845e1545 ">
                              <p>获取属性的值作为<code class="codeph">MetaData</code>对象</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1620" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE">getNumber（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1620 d142845e1545 ">
                              <p>以<code class="codeph">Number</code>对象的形式返回指定的属性。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1631" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F">getRef（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1631 d142845e1545 ">
                              <p>以<code class="codeph">Ref&lt;T&gt;</code>获取属性的值。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1642" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB">的getString（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1642 d142845e1545 ">
                              <p>以字符串形式获取属性的值。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1650" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E">getTimeStamp（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1650 d142845e1545 ">
                              <p>获取属性的值作为<code class="codeph">Timestamp</code>对象</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1662" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED">getUInt（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1662 d142845e1545 ">
                              <p>以C ++ <code class="codeph">unsigned int</code>获取属性的值。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1673" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D">getUString（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1673 d142845e1545 ">
                              <p>将<code class="codeph">UString</code>的值作为与元数据关联的字符集中的<code class="codeph">UString</code>返回。
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1684" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D">getVector（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1684 d142845e1545 ">
                              <p>获取属性的值作为C ++向量。</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1692" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-B572C527-019A-4E98-8855-9B6AB1E93196">运算符=（）</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1692 d142845e1545 ">
                              <p>将一个元数据对象分配给另一个。</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNCPP21188"></a><a id="LNCPP21187"></a><div class="props_rev_3"><a id="GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282" name="GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282"></a><h3 id="LNCPP-GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282" class="sect3"><span class="enumeration_section">13.20.1</span> MetaData（）</h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">MetaData</code>类构造函数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282__GUID-1E4FC88C-63E0-4F6A-87CD-841120832219">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">MetaData（const MetaData＆omd）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282__GUID-2F26613C-DD9A-47A5-9D8D-32F574BF2051">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d142845e1783">参数</th>
                              <th align="left" valign="bottom" width="72%" id="d142845e1786">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d142845e1791" headers="d142845e1783 "><pre class="oac_no_warn" dir="ltr">CMD</pre></td>
                              <td align="left" valign="top" width="72%" headers="d142845e1791 d142845e1786 ">
                                 <p>从中复制<code class="codeph">MetaData</code>对象的源。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21190"></a><a id="LNCPP21189"></a><div class="props_rev_3"><a id="GUID-C3F82831-4C45-41A9-B81D-FBE914304A60" name="GUID-C3F82831-4C45-41A9-B81D-FBE914304A60"></a><h3 id="LNCPP-GUID-C3F82831-4C45-41A9-B81D-FBE914304A60" class="sect3"><span class="enumeration_section">13.20.2</span> getAttributeCount（）</h3>
               <div>
                  <div class="section">
                     <p>此方法返回与元数据对象相关的属性数。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3F82831-4C45-41A9-B81D-FBE914304A60__GUID-89117DB7-34CB-439F-96F8-511C25DD42F4">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getAttributeCount（）const;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP21192"></a><a id="LNCPP21191"></a><div class="props_rev_3"><a id="GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013" name="GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013"></a><h3 id="LNCPP-GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013" class="sect3"><span class="enumeration_section">13.20.3</span> getAttributeId（）</h3>
               <div>
                  <div class="section">
                     <p>此方法返回由指定的属性编号表示的属性的属性ID，例如<code class="codeph">ATTR_NUM_COLS</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013__GUID-951621A7-DFA8-4E5B-BEFA-65AC68E1BB8F">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">attrId getAttributeId（unsigned int attributeNum）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013__GUID-028134F1-8E13-4E14-85C1-61F5027DFE95">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e1960">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e1963">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e1968" headers="d142845e1960 "><pre class="oac_no_warn" dir="ltr">attributeNum</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e1968 d142845e1963 ">
                                 <p>要为其返回属性ID的属性的编号。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21194"></a><a id="LNCPP21193"></a><div class="props_rev_3"><a id="GUID-18D4A0DE-A53E-496E-9A07-09794C53B429" name="GUID-18D4A0DE-A53E-496E-9A07-09794C53B429"></a><h3 id="LNCPP-GUID-18D4A0DE-A53E-496E-9A07-09794C53B429" class="sect3"><span class="enumeration_section">13.20.4</span> getAttributeType（）</h3>
               <div>
                  <div class="section">
                     <p>此方法返回由指定的属性编号表示的属性的属性类型，例如<code class="codeph">NUMBER</code>或<code class="codeph">INT</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-18D4A0DE-A53E-496E-9A07-09794C53B429__GUID-157FAC1E-9B57-4986-8EFF-9F30E5BF2870">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">输入getAttributeType（unsigned int attributeNum）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-18D4A0DE-A53E-496E-9A07-09794C53B429__GUID-11C02B56-80E5-443E-B357-9BCF4039E8A6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2062">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2065">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2070" headers="d142845e2062 "><pre class="oac_no_warn" dir="ltr">attributeNum</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2070 d142845e2065 ">
                                 <p>要为其返回属性类型的属性的编号。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21195"></a><div class="props_rev_3"><a id="GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF" name="GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF"></a><h3 id="LNCPP-GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF" class="sect3"><span class="enumeration_section">13.20.5</span> getBoolean（）</h3>
               <div>
                  <div class="section">
                     <p>此方法将属性的值作为C ++ <code class="codeph">boolean</code> 。如果值为SQL <code class="codeph">NULL</code> ，则结果为<code class="codeph">FALSE</code> 。重载版本返回column属性的值。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF__GUID-A0599F90-4F69-49AB-939A-0BCD0EF6DCBB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists versions of the constructor; second column provides descriptions of these versions." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="66%" id="d142845e2160">句法</th>
                              <th align="left" valign="bottom" width="34%" id="d142845e2163">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d142845e2168" headers="d142845e2160 "><pre class="oac_no_warn" dir="ltr">bool getBoolean（MetaData :: AttrId attributeId）const;</pre></td>
                              <td align="left" valign="top" width="34%" headers="d142845e2168 d142845e2163 ">
                                 <p>返回属性的值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d142845e2175" headers="d142845e2160 "><pre class="oac_no_warn" dir="ltr">bool getBoolean（MetaData :: ColumnAttrId colAttributeId）const;</pre></td>
                              <td align="left" valign="top" width="34%" headers="d142845e2175 d142845e2163 ">
                                 <p>返回column属性的值</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF__GUID-AD0A8CA0-F7A8-41AC-A228-C6DA815B7404">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d142845e2189">参数</th>
                              <th align="left" valign="bottom" width="76%" id="d142845e2192">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d142845e2197" headers="d142845e2189 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="76%" headers="d142845e2197 d142845e2192 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d142845e2204" headers="d142845e2189 "><pre class="oac_no_warn" dir="ltr">colAttributeId</pre></td>
                              <td align="left" valign="top" width="76%" headers="d142845e2204 d142845e2192 ">
                                 <p>列属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21198"></a><a id="LNCPP21197"></a><div class="props_rev_3"><a id="GUID-86B0BF75-F208-4709-AB65-6CD02537A977" name="GUID-86B0BF75-F208-4709-AB65-6CD02537A977"></a><h3 id="LNCPP-GUID-86B0BF75-F208-4709-AB65-6CD02537A977" class="sect3"><span class="enumeration_section">13.20.6</span> getInt（）</h3>
               <div>
                  <div class="section">
                     <p>此方法将属性的值作为C ++ <code class="codeph">int</code> 。如果值为SQL <code class="codeph">NULL</code> ，则结果为<code class="codeph">0</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-86B0BF75-F208-4709-AB65-6CD02537A977__GUID-89A2F9DF-1699-4D0A-AD8B-8A10F8F24103">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">int getInt（MetaData :: AttrId attributeId）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-86B0BF75-F208-4709-AB65-6CD02537A977__GUID-63341DD0-F3CA-4411-96D3-98C3801D5D65">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2302">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2305">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2310" headers="d142845e2302 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2310 d142845e2305 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21200"></a><a id="LNCPP21199"></a><div class="props_rev_3"><a id="GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0" name="GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0"></a><h3 id="LNCPP-GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0" class="sect3"><span class="enumeration_section">13.20.7</span> getMetaData（）</h3>
               <div>
                  <div class="section">
                     <p>此方法返回包含属性值的<code class="codeph">MetaData</code>实例。元数据属性值可以作为<code class="codeph">MetaData</code>实例检索。只能在元数据类型的属性上调用此方法。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0__GUID-7EF08AF6-5B0A-45C7-9FB4-29653C70F71B">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">MetaData getMetaData（MetaData :: AttrId attributeId）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0__GUID-D88D6815-1BE8-4091-B81F-222AAAC72214">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2404">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2407">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2412" headers="d142845e2404 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2412 d142845e2407 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21202"></a><a id="LNCPP21201"></a><div class="props_rev_3"><a id="GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE" name="GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE"></a><h3 id="LNCPP-GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE" class="sect3"><span class="enumeration_section">13.20.8</span> getNumber（）</h3>
               <div>
                  <div class="section">
                     <p>此方法将属性的值作为<code class="codeph">Number</code>对象返回。如果值为SQL <code class="codeph">NULL</code> ，则结果为<code class="codeph">NULL</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE__GUID-34F332A7-006E-41DE-9735-977AF7AED602">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Number getNumber（MetaData :: AttrId attributeId）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE__GUID-72F81DC6-DD12-46D5-8F78-4875CE22848C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2509">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2512">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2517" headers="d142845e2509 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2517 d142845e2512 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21204"></a><a id="LNCPP21203"></a><div class="props_rev_3"><a id="GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F" name="GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F"></a><h3 id="LNCPP-GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F" class="sect3"><span class="enumeration_section">13.20.9</span> getRef（）</h3>
               <div>
                  <div class="section">
                     <p>此方法将属性的值作为<code class="codeph">RefAny</code>或<code class="codeph">Ref</code>到<code class="codeph">TDO</code> 。如果值为SQL <code class="codeph">NULL</code> ，则结果为<code class="codeph">NULL</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F__GUID-4F1F3A03-0159-417D-8BD4-F8AD69C80C91">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">RefAny getRef（MetaData :: AttrId attributeId）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F__GUID-C00689C3-5024-49CC-B974-E460ED68228C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2621">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2624">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2629" headers="d142845e2621 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2629 d142845e2624 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21206"></a><a id="LNCPP21205"></a><div class="props_rev_3"><a id="GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB" name="GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB"></a><h3 id="LNCPP-GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB" class="sect3"><span class="enumeration_section">13.20.10</span> getString（）</h3>
               <div>
                  <div class="section">
                     <p>此方法以字符串形式返回属性的值。如果值为SQL <code class="codeph">NULL</code> ，则结果为<code class="codeph">NULL</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB__GUID-3EFD3454-5CE0-4BCF-81E2-5DDCAE4FE256">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getString（MetaData :: AttrId attributeId）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB__GUID-35B1D3C2-9A81-486D-A6D7-2EC3028F886E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2723">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2726">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2731" headers="d142845e2723 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2731 d142845e2726 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21208"></a><a id="LNCPP21207"></a><div class="props_rev_3"><a id="GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E" name="GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E"></a><h3 id="LNCPP-GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E" class="sect3"><span class="enumeration_section">13.20.11</span> getTimeStamp（）</h3>
               <div>
                  <div class="section">
                     <p>此方法将属性的值作为<code class="codeph">Timestamp</code>对象返回。如果值为SQL <code class="codeph">NULL</code> ，则结果为<code class="codeph">NULL</code> 。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E__GUID-B51E8923-0391-4FA0-948B-74B8BB5824F7">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">时间戳getTimestamp（MetaData :: AttrId attributeId）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E__GUID-C734B067-432A-418D-A60A-81F9405A3401">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2828">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2831">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2836" headers="d142845e2828 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2836 d142845e2831 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21210"></a><a id="LNCPP21209"></a><div class="props_rev_3"><a id="GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED" name="GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED"></a><h3 id="LNCPP-GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED" class="sect3"><span class="enumeration_section">13.20.12</span> getUInt（）</h3>
               <div>
                  <div class="section">
                     <p>此方法将属性的值作为C ++ unsigned <code class="codeph">int</code> 。如果值为SQL <code class="codeph">NULL</code> ，则结果为<code class="codeph">0</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED__GUID-A7B19753-2CF4-4C9E-98ED-6ACC3BD1D01A">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getUInt（MetaData :: AttrId attributeId）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED__GUID-ED192BEC-0A0C-4D11-B9AE-9743EE70D650">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2934">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2937">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2942" headers="d142845e2934 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2942 d142845e2937 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21212"></a><a id="LNCPP21211"></a><div class="props_rev_3"><a id="GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D" name="GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D"></a><h3 id="LNCPP-GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D" class="sect3"><span class="enumeration_section">13.20.13</span> getUString（）</h3>
               <div>
                  <div class="section">
                     <p>将<code class="codeph">UString</code>的值作为与元数据关联的字符集中的<code class="codeph">UString</code>返回。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D__GUID-635AB552-A012-4F3D-905D-8ABD272C824E">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">UString getUString（MetaData :: AttrId attributeId）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D__GUID-BECE8DDB-74B9-4B61-8DE2-2E9713237FF4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e3033">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e3036">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e3041" headers="d142845e3033 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e3041 d142845e3036 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21214"></a><a id="LNCPP21213"></a><div class="props_rev_3"><a id="GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D" name="GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D"></a><h3 id="LNCPP-GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D" class="sect3"><span class="enumeration_section">13.20.14</span> getVector（）</h3>
               <div>
                  <div class="section">
                     <p>此方法返回包含属性值的C ++向量。可以将集合属性值检索为C ++向量实例。只能在列表类型的属性上调用此方法。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D__GUID-8756D53C-DB36-4064-9006-E6F5638D8F5D">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">vector &lt;MetaData&gt; getVector（MetaData :: AttrId attributeId）const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D__GUID-BAB5DE28-3A86-4CC3-9725-5B57BF59C8B2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e3129">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e3132">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e3137" headers="d142845e3129 "><pre class="oac_no_warn" dir="ltr">属性Id</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e3137 d142845e3132 ">
                                 <p>属性ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21216"></a><a id="LNCPP21215"></a><div class="props_rev_3"><a id="GUID-B572C527-019A-4E98-8855-9B6AB1E93196" name="GUID-B572C527-019A-4E98-8855-9B6AB1E93196"></a><h3 id="LNCPP-GUID-B572C527-019A-4E98-8855-9B6AB1E93196" class="sect3"><span class="enumeration_section">13.20.15</span> operator =（）</h3>
               <div>
                  <div class="section">
                     <p>此方法将一个<code class="codeph">MetaData</code>对象分配给另一个。这会增加分配的<code class="codeph">MetaData</code>对象的引用计数。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B572C527-019A-4E98-8855-9B6AB1E93196__GUID-66B583FC-E814-4F9E-BA59-3A56A284A4EE">句法</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void operator =（const MetaData＆omd）;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B572C527-019A-4E98-8855-9B6AB1E93196__GUID-190BF47C-0F8D-4AD4-B1F8-9EE25FB3050D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" width="100%" border="1" summary="First column lists parameters; second column provides description of these parameters." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e3232">参数</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e3235">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e3240" headers="d142845e3232 "><pre class="oac_no_warn" dir="ltr">CMD</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e3240 d142845e3235 ">
                                 <p>要分配的MetaData对象</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id="00161.json-path-expressions.html" dir="ltr"></html><html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions."></meta>
      <meta name="description" content="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions."></meta>
      <title>SQL / JSON路径表达式</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JSON Developer&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JSON Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="json-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-22T10:58:31-08:00"></meta>
      <meta name="dcterms.title" content="JSON Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2015, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96227-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="simple-dot-notation-access-to-json-data.html" title="Previous" type="text/html"></link>
      <link rel="next" href="clauses-used-in-functions-and-conditions-for-json.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADJSN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="simple-dot-notation-access-to-json-data.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="clauses-used-in-functions-and-conditions-for-json.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JSON开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="query-json-data.html" property="item" typeof="WebPage"><span property="name">查询JSON数据</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL / JSON路径表达式</li>
            </ol>
            <a id="GUID-2DC05D71-3D62-4A14-855F-76E054032494" name="GUID-2DC05D71-3D62-4A14-855F-76E054032494"></a>
            
            <h2 id="ADJSN-GUID-2DC05D71-3D62-4A14-855F-76E054032494" class="sect2"><span class="enumeration_chapter">13</span> SQL / JSON路径表达式</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='json-path-expressions'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。</p>
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F">SQL / JSON路径表达式概述</a><br>Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879">SQL / JSON路径表达式语法</a><br>SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13">SQL / JSON路径表达式项方法</a><br>描述了可用于SQL / JSON路径表达式的Oracle项目方法。
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C">ISO 8601日期和时间支持</a><br>国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A">比较中的类型</a><br>SQL / JSON路径表达式过滤条件中的比较在编译时是静态类型的。如果不知道比较的操作数的有效类型是相同的，那么有时会尝试通过类型转换来协调它们。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="query-json-data.html#GUID-119E5069-77F2-45DC-B6F0-A1B312945590" title="您可以使用简单的点表示法查询JSON数据，或者，对于更多功能，使用SQL / JSON函数和条件。您可以创建和查询数据指南，该指南汇总了一组JSON文档的结构和类型信息。">查询JSON数据</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB6254"></a><div class="props_rev_3"><a id="GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F" name="GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F"></a><h3 id="ADJSN-GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F" class="sect3"><span class="enumeration_section">13.1</span> SQL / JSON路径表达式概述</h3>
               <div>
                  <p>Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。</p>
                  <p>JSON是JavaScript值的表示法。当JSON数据存储在数据库中时，您可以使用路径表达式查询它，这些表达式有点类似于XQuery或XML数据的XPath表达式。与SQL / XML允许使用XQuery表达式访问XML数据的方式类似，Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。</p>
                  <p>SQL / JSON路径表达式具有简单的语法。路径表达式选择零个或多个匹配或满足它的JSON值。</p>
                  <p>SQL / JSON条件<code class="codeph">json_exists</code>如果至少有一个值匹配则返回true，如果没有值匹配则返回false。如果单个值匹配，则SQL / JSON函数<code class="codeph">json_value</code>返回该值（如果它是标量）并且如果它是非标量则引发错误。如果没有值与路径表达式匹配，则<code class="codeph">json_value</code>返回SQL <code class="codeph">NULL</code> 。</p>
                  <p>SQL / JSON函数<code class="codeph">json_query</code>返回所有匹配值，也就是说，它可以返回多个值。您可以将此行为视为返回一系列值，如在XQuery中，或者您可以将其视为返回多个值。（没有显示用户可见的序列。）
                  </p>
                  <p>在所有情况下，路径表达式匹配依次尝试匹配路径表达式的每个<span class="italic">步骤</span> 。如果匹配任何步骤失败，则不会尝试匹配后续步骤，并且路径表达式的匹配失败。如果匹配每个步骤成功，则路径表达式的匹配成功。
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879" title="SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。">SQL / JSON路径表达式语法</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6255"></a><div class="props_rev_3"><a id="GUID-7B610884-39CD-4910-85E7-C251D342D879" name="GUID-7B610884-39CD-4910-85E7-C251D342D879"></a><h3 id="ADJSN-GUID-7B610884-39CD-4910-85E7-C251D342D879" class="sect3"><span class="enumeration_section">13.2</span> SQL / JSON路径表达式语法</h3>
               <div>
                  <p>SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。</p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您将SQL / JSON路径表达式和一些JSON数据传递给SQL / JSON函数或条件。路径表达式与数据匹配，匹配数据由特定的SQL / JSON函数或条件处理。您可以根据将匹配数据<span class="italic">返回</span>到函数或条件的路径表达式来考虑此匹配过程。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618">基本SQL / JSON路径表达式语法</a><br>提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（ <code class="codeph">$</code> ）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。
                     </li>
                     <li class="ulchildlink"><a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77">SQL / JSON路径表达式语法松弛</a><br>放宽基本的SQL / JSON路径表达式语法，以允许隐式数组包装和解包。这意味着，如果数据发展为使用此类值的数组替换JSON值，则无需更改代码中的路径表达式，反之亦然。提供了示例。
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="conditions-is-json-and-is-not-json.html#GUID-1B6CFFBE-85FE-41DD-BA14-DD1DE73EAB20" title="JSON的Oracle默认语法是松散的。特别是：它反映了对象字段的JavaScript语法; Boolean和null值不区分大小写;并且它对于数字，空格和Unicode字符的转义更加宽容。">关于Strict和Lax JSON语法</a></li>
                        <li><a href="diagrams-basic-sql-json-path-expression-syntax.html" title="针对基本SQL / JSON路径表达式语法，提供了语法图和相应的Backus-Naur Form（BNF）语法描述。">基本SQL / JSON路径表达式语法的图表</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6372"></a><div class="props_rev_3"><a id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" name="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618"></a><h4 id="ADJSN-GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" class="sect4"><span class="enumeration_section">13.2.1</span>基本SQL / JSON路径表达式语法</h4>
                  <div>
                     <p>提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（ <code class="codeph">$</code> ）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。
                     </p>
                     <div class="section">
                        <p>但是，这个基本语法通过分别放松数组和非数组与非数组和数组模式的匹配来扩展 - 请参阅<a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" title="放宽基本的SQL / JSON路径表达式语法，以允许隐式数组包装和解包。这意味着，如果数据发展为使用此类值的数组替换JSON值，则无需更改代码中的路径表达式，反之亦然。提供了示例。">SQL / JSON路径表达式语法松弛</a> 。
                        </p>
                        <p>数据与SQL / JSON路径表达式的匹配区分大小写。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL / JSON <span class="bold"><strong class="term">基本路径表达式</strong></span> （此处也称为<span class="italic">路径表达式</span> ）是<span class="italic">绝对路径表达式</span>或<span class="italic">相对路径表达式</span> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">绝对路径表达式</strong></span>以美元符号（ <code class="codeph"><span class="bold">$</span></code> ）开头，表示路径表达式<span class="bold"><strong class="term">上下文项</strong></span> ，即要匹配的JSON数据。该数据是评估作为参数传递给SQL / JSON函数的SQL表达式的结果。美元符号后跟零个或多个<span class="italic">非功能步骤</span> ，然后是可选的<span class="italic">功能步骤</span> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">相对路径表达式</strong></span>是符号（ <code class="codeph"><span class="bold">@</span></code> ），后跟零个或多个<span class="italic">非功能步骤</span> ，后跟可选的<span class="italic">功能步骤</span> 。它具有与<span class="italic">绝对路径表达式</span>相同的语法，除了它使用at符号而不是美元符号（ <code class="codeph">$</code> ）。
                              </p>
                              <p>在<span class="italic">筛选器表达式</span> （简称<span class="italic">过滤器</span> ）中使用相对路径表达式。at符号表示路径表达式<span class="bold"><strong class="term">当前过滤器项</strong></span> ，即与包含相对路径表达式的过滤器之前的（周围）路径表达式部分匹配的JSON数据。相对路径表达式与当前过滤器项匹配的方式与绝对路径表达式与上下文项匹配的方式相同。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">非功能步骤</strong></span>是<span class="italic">对象步骤</span> ， <span class="italic">数组步骤</span>或<span class="italic">后代步骤</span> ，后跟可选的<span class="italic">过滤器表达式</span> 。
                              </p>
                           </li>
                           <li>
                              <p>单个<span class="bold"><strong class="term">函数步骤</strong></span>在<span class="italic">基本路径表达式</span> （绝对或相对）中是<span class="italic">可选的</span> 。如果存在，则它是路径表达式的最后一步。它是句点（ <code class="codeph"><span class="bold">.</span></code> ），有时读作“点”，后跟SQL / JSON <span class="bold"><strong class="term">项方法</strong></span> ，后跟左括号（ <code class="codeph"><span class="bold">(</span></code> ），然后是右括号（ <code class="codeph"><span class="bold">)</span></code> ）。括号之间可以有空格（这样的空格是无关紧要的）。
                              </p>
                              <p>item方法应用于在功能步骤<span class="italic">之前</span>的相同路径表达式的其余部分所针对的数据。item方法用于转换该数据。作为参数传递路径表达式的SQL函数或条件使用转换后的数据代替目标数据。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">对象步骤</strong></span>是句点（ <code class="codeph"><span class="bold">.</span></code> ），后跟对象字段名称或星号（ <span class="bold"><code class="codeph">*</code></span> ）通配符，它代表<span class="italic">所有</span>字段的（值）。字段名称可以为<span class="italic">空</span> ，在这种情况下，它<span class="italic">必须</span>写为<code class="codeph"><span class="bold">""</span></code> （没有插入空格）。非空字段名称必须以大写或小写字母A到Z开头，并且只包含此类字母或十进制数字（0-9），否则必须用双引号（ <span class="bold"><code class="codeph">"</code></span> ）括起来。
                        
                              </p>
                              <p>对象步骤返回指定字段的<span class="italic">值</span> 。如果字段使用通配符，则该步骤将返回<span class="italic">所有</span>字段的值，而不是特殊顺序。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">阵列步骤</strong></span>是左括号（ <span class="bold"><code class="codeph">[</code></span> ），随后<span class="italic">任一</span>星号（ <span class="bold"><code class="codeph">*</code></span> ）通配符，它代表<span class="italic">所有</span>的数组元素， <span class="italic">或者</span>一个或多个特定数组索引或以逗号（分隔范围规格<code class="codeph"><span class="bold">,</span></code> ），后跟一个右支架（ <span class="bold"><code class="codeph">]</code></span> ）。如果同时使用星号和数组索引或范围规范，则会引发错误。
                              </p>
                              <p>在路径表达式中， <span class="bold"><strong class="term">数组索引</strong></span>是从零开始的（0,1,2，...），就像在数组的JavaScript约定中一样。<span class="bold"><strong class="term">范围规范</strong></span>具有<span class="italic"><code class="codeph">N</code></span>到<span class="italic"><code class="codeph">M</code></span>的形式，其中<span class="italic"><code class="codeph">N</code></span>和<span class="italic"><code class="codeph">M</code></span>是数组索引， <span class="italic"><code class="codeph">N</code></span>严格小于<span class="italic"><code class="codeph">M</code></span> <a id="fn_1" name="fn_1" href="#fn_1" the="" to="" in="" a="" range="" specification="" is="" sometimes="" informally="" called="" array="" slice="" operator=")" ="" onclick="footdisplay(1, "><sup>Foot 1</sup></a>如果<span class="italic"><code class="codeph">N</code></span>不小于<span class="italic"><code class="codeph">M</code></span>则在查询编译时会引发错误。</p>
                              <p>使用索引或范围规范时，必须按升序指定它们共同指定的数组元素，而不重复，否则会引发编译时错误。例如，针对<code class="codeph">[3, 1 to 4]</code> ， <code class="codeph">[4, 2]</code> ， <code class="codeph">[2, 3 to 3]</code>和<code class="codeph">[2, 3, 3]</code> <code class="codeph">[2, 3 to 3]</code>每一个引发错误。前两个引发了错误，因为顺序没有提升，因为重复数组索引<code class="codeph">3</code> （由于基于零的索引编制索引第四个数组元素），所以在最后两个引发错误。
                              </p>
                              <p>类似地，由匹配产生的数组值中的元素按升序排列，没有重复。如果在路径表达式中使用星号，则按数组顺序返回所有数组元素。</p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">后代</strong></span>步骤是两个连续的句点（ <span class="bold"><code class="codeph">..</code></span> ），有时读作“点点”，后跟字段名称（其具有与<span class="italic">对象步骤</span>相同的语法）。
                              </p>
                              <p>它以<span class="italic">递归方式下降</span>到与紧邻其之前的步骤匹配的对象或数组中（如果没有前一步骤，则进入上下文项）。
                              </p>
                              <p>在每个后代级别，对于每个对象以及作为对象的每个数组元素，它会收集具有指定名称的所有字段的值。它返回所有收集的字段值。</p>
                              <p>例如，考虑此查询和数据：</p><pre class="pre codeblock"><code>json_query（some_json_column，'$。 <span class="bold">a..z'WITH</span> ARRAY WRAPPER）</code></pre><pre class="pre codeblock"><code>{“ <span class="bold">a</span> ”：{“b”：{“ <span class="bold">z</span> ”： <span class="bold">1</span> }，“c”：[5，{“ <span class="bold">z</span> ”： <span class="bold">2</span> }]，“ <span class="bold">z</span> ”： <span class="bold">3</span> }“z”：4}</code></pre><p>查询返回的数组，例如<code class="codeph">[1,2,3]</code>其元素是<code class="codeph">1</code> ， <code class="codeph">2</code> ，和<code class="codeph">3</code> 。它在紧靠点点（ <code class="codeph">..</code> ）之前的步骤中收集每个字段<code class="codeph">z</code>的值，即字段<code class="codeph"><span class="bold">a</span></code> 。值最大的最顶部字段<code class="codeph">z</code> <span class="italic">不</span>匹配，因为它不在字段<code class="codeph">a</code>的值内。
                              </p>
                              <p>字段<code class="codeph">a</code>的值是一个对象，它是下降的。
                              </p>
                              <ul id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_JY1_QWZ_RFB" style="list-style-type:disc">
                                 <li>
                                    <p>它有一个字段<code class="codeph">z</code> ，其值（ <code class="codeph"><span class="bold">3</span></code> ）被收集。它还有一个字段<code class="codeph">b</code>其值是一个对象，它下降以收集其字段<code class="codeph">z</code>的值，即<code class="codeph"><span class="bold">1</span></code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>它还有一个字段<code class="codeph">c</code>其值是一个数组，它有一个元素，它是一个带有字段<code class="codeph">z</code>的对象，其值（ <code class="codeph"><span class="bold">2</span></code> ）被收集。
                                    </p>
                                 </li>
                              </ul>
                              <p>收集的JSON值因此<code class="codeph">3</code> ， <code class="codeph">1</code> ，和<code class="codeph">2</code> 。它们以未定义的顺序包装在数组中。其中一个可能的返回值是<code class="codeph">[1,2,3]</code> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">过滤器表达式</strong></span> （简称<span class="bold"><strong class="term">过滤器</strong></span> ）是问号（ <code class="codeph"><span class="bold">?</span></code> ）然后是括号括起来的<span class="italic">过滤条件</span> （ <code class="codeph"><span class="bold">()</span></code> ）。如果满足条件，则满足过滤器，即返回true。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold"><strong class="term">过滤条件</strong></span>将谓词（布尔函数）应用于其参数，并且是以下之一，其中<code class="codeph"><span class="codeinlineitalic">cond</span></code> ， <code class="codeph"><span class="codeinlineitalic">cond1</span></code>和<code class="codeph"><span class="codeinlineitalic">cond2</span></code>中的每一个代表过滤条件。
                              </p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph"><span class="bold">(</span> <span class="codeinlineitalic">cond</span> <span class="bold">)</span></code> ：括号用于<span class="italic">分组</span> ，将过滤条件<code class="codeph"><span class="codeinlineitalic">cond</span></code>作为一个单元与其可能在其之前或之后的其他过滤条件分开。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="codeinlineitalic">cond1</span> <span class="bold">&amp;&amp;</span> <span class="codeinlineitalic">cond2</span></code> ： <code class="codeph"><span class="codeinlineitalic">cond1</span></code>和<code class="codeph"><span class="codeinlineitalic">cond2</span></code>的<span class="italic">连接</span> （ <span class="italic">和</span> ），要求两者都满足。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="codeinlineitalic">cond1</span> <span class="bold">||</span> <span class="codeinlineitalic">cond2</span></code> ： <code class="codeph"><span class="codeinlineitalic">cond1</span></code>和<code class="codeph"><span class="codeinlineitalic">cond2</span></code>的包含<code class="codeph"><span class="codeinlineitalic"><span class="codeinlineitalic">cond1</span> <span class="bold">||</span> cond2</span></code> <span class="italic">取</span> （ <span class="italic">或</span> ），要求<code class="codeph"><span class="codeinlineitalic">cond1</span></code> ， <code class="codeph"><span class="codeinlineitalic">cond2</span></code>或两者都满足。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="bold">！(</span> <span class="codeinlineitalic">cond</span> <span class="bold">)</span></code> ：对<code class="codeph"><span class="codeinlineitalic">cond</span></code>的<span class="italic">否定</span> ，意味着<span class="italic">不能</span>满足<code class="codeph"><span class="codeinlineitalic">cond</span></code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="bold">exists (</span></code>后跟<span class="italic">相对路径表达式</span> ，后跟<code class="codeph"><span class="bold">)</span></code> ：目标数据<span class="italic">存在</span>的条件（存在）。
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold"><strong class="term">比较</strong></span> ，是以下之一：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><span class="italic">相对路径表达式</span> ，后跟<span class="italic">比较谓词</span> ，后跟JSON标量值或<span class="italic">SQL / JSON变量</span> 。
                                          </p>
                                       </li>
                                       <li>
                                          <p>JSON标量值或<span class="italic">SQL / JSON变量</span> ，后跟<span class="italic">比较谓词</span> ，后跟<span class="italic">相对路径表达式</span> 。
                                          </p>
                                       </li>
                                       <li>
                                          <p>JSON标量值，后跟<span class="italic">比较谓词</span> ，后跟另一个JSON标量值。
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="italic">相对路径表达</span> ，随后<code class="codeph">has substring</code> ， <code class="codeph">starts with</code> ， <code class="codeph">like</code> ， <code class="codeph">like_regex</code> ，或<code class="codeph">eq_regex</code> ，后跟一个JSON字符串或绑定到一个SQL串的<span class="italic">SQL / JSON变量</span> （其被自动地从设置为数据库字符转换UTF8）。
                                          </p>
                                          <ul id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_KKR_2RY_XFB" style="list-style-type:disc">
                                             <li>
                                                <p><code class="codeph"><span class="bold">has substring</span></code>意味着匹配的数据值具有指定的字符串作为<span class="italic">子字符串</span> 。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">starts with</span></code>意味着匹配的数据值具有指定的字符串作为<span class="italic">前缀</span> 。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">like</span></code>表示JSON字符串数据值与指定的字符串匹配，该字符串被解释为使用SQL <code class="codeph">LIKE4</code>字符集语义的SQL <code class="codeph">LIKE</code>模式。模式中的百分号（ <code class="codeph"><span class="bold">%</span></code> ）与零个或多个字符匹配。下划线（ <code class="codeph"><span class="bold">_</span></code> ）匹配单个字符。
                                                </p>
                                                <div class="infoboxnote" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__GUID-25A8E2C1-8944-4040-BA8A-EF691FA1B9D9">
                                                   <p class="notep1">注意：</p>
                                                   <p>不像SQL的情况下<code class="codeph">LIKE</code> ，对路径表达式谓词<span class="italic">没有转义字符</span> <code class="codeph">like</code> 。此外，Oracle建议您避免在您的<code class="codeph">like</code>模式中使用字符<code class="codeph"><span class="bold">`</span></code> ，GRAVE ACCENT（U + 0060） - 该字符（有时也称为反引号或反引号） <span class="italic">保留供将来使用</span> 。
                                                   </p>
                                                </div>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">like_regex</span></code>表示JSON字符串数据值与指定的字符串匹配，该字符串被解释为使用SQL <code class="codeph">LIKE4</code>字符集语义的SQL <code class="codeph">REGEXP LIKE</code> <span class="italic">正则表达式</span>模式。
                                                </p>
                                                <p> <code class="codeph">like_regex</code>在模式匹配比较中是<span class="italic">特殊</span>的，因为它的模式匹配空的JSON字符串（ <code class="codeph"><span class="bold">""</span></code> ）。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">eq_regex</span></code>就像<code class="codeph">like_regex</code>一样，除了这两个差异：</p>
                                                <ul id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_JZ1_XLQ_CGB" style="list-style-type:disc">
                                                   <li>
                                                      <p><code class="codeph">eq_regex</code>将其正则表达式模式与整个JSON字符串数据值进行<span class="italic">匹配</span> - <span class="italic">完整字符串必须与</span>要满足的比较模式<span class="italic">匹配</span> 。如果JSON字符串的任何部分与模式匹配，则满足<code class="codeph">like_regex</code> 。
                                                      </p>
                                                   </li>
                                                   <li>
                                                      <p><code class="codeph">eq_regex</code>模式与空JSON字符串（ <code class="codeph"><span class="bold">""</span></code> ）不匹配。
                                                      </p>
                                                   </li>
                                                </ul>
                                             </li>
                                          </ul>
                                          <p>对于所有这些谓词，作为空字符串（ <code class="codeph">""</code> ）的模式匹配作为空字符串的数据。除了<code class="codeph">like_regex</code>之外的所有<code class="codeph">like_regex</code> ，非空字符串的模式与空字符串的数据<span class="italic">不</span>匹配。对于<code class="codeph">like_regex</code> ，非空模式确实匹配空字符串数据。
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="italic">相对路径表达式</span> ，后跟<code class="codeph"><span class="bold">in</span></code> ，后跟<span class="italic">值列表</span> ，表示该值是<span class="italic">值列表</span>中的<span class="italic">值之一</span> 。
                                          </p>
                                       </li>
                                    </ul>
                                    <p><span class="bold"><strong class="term">比较谓词</strong></span>是<code class="codeph"><span class="bold">==</span></code> ， <code class="codeph"><span class="bold">&lt;&gt;</span></code> , <code class="codeph"><span class="bold">!=</span></code> <a id="fn_2" name="fn_2" href="#fn_2" !="is" an="" oracle="" alias="" for="" the="" sql="" /json="" standard="" comparison="" predicate="" <&gt;=")" ="" onclick="footdisplay(2, "><sup>足2</sup></a> ， <code class="codeph"><span class="bold">&lt;</span></code> ， <code class="codeph"><span class="bold">&lt;=</span></code> ， <code class="codeph"><span class="bold">&gt;=</span></code>或<code class="codeph"><span class="bold">&gt;</span></code> ，意味着等于，不等于，小于，小于或等于，大于或等于，并且分别大于。
                                    </p>
                                    <p>甲<span class="bold"><strong class="term">SQL / JSON变量</strong></span>是一个美元符号（ <code class="codeph"><span class="bold">$</span></code>之后是在结合的SQL标识符的名称） <code class="codeph">PASSING</code>为子句<code class="codeph">json_exists</code> 。
                                    </p>
                                 </li>
                                 <li><span class="bold"><strong class="term">值列表</strong></span>是<code class="codeph"><span class="bold">(</span></code> ，后跟一个或多个标量值和<span class="italic">SQL / JSON变量</span>的列表，以逗号（ <code class="codeph"><span class="bold">,</span></code> ）分隔，后跟<code class="codeph"><span class="bold">)</span></code> 。
                                 </li>
                              </ul>
                              <p>因此，您可以在过滤条件中使用的谓词是<code class="codeph">&amp;&amp;</code> ， <code class="codeph">||</code> ， <code class="codeph">!</code> ， <code class="codeph">exists</code> ， <code class="codeph">==</code> ， <code class="codeph">&lt;&gt;</code> <code class="codeph">!=</code> ， <code class="codeph">&lt;</code> ， <code class="codeph">&lt;=</code> ， <code class="codeph">&gt;=</code> ， <code class="codeph">&gt;</code>和<code class="codeph">in</code> 。
                              </p>
                              <p>例如，过滤条件<code class="codeph">(a || b) &amp;&amp; (!(c) || d &lt; 42)</code>如果满足以下两个标准，则满足c) || d &lt; 42)</code> ：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>满足滤波条件<code class="codeph">a</code>和<code class="codeph">b</code>至少一个： <code class="codeph">(a || b)</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>过滤条件<code class="codeph">c</code> <span class="italic">不满足</span>或数<code class="codeph">d</code>小于或等于42，或者两者都为真： <code class="codeph">(!(c) || d &lt; 42)</code> 。
                                    </p>
                                 </li>
                              </ul>
                              <p>比较谓词<code class="codeph">!</code> 优先于<code class="codeph">&amp;&amp;</code> ，优先于<code class="codeph">||</code> 。您始终可以使用括号来控制分组。
                              </p>
                              <p>没有用于分组的括号，前面的示例将是<code class="codeph">a || b &amp;&amp; !(c) || d &lt; 42</code> ，如果满足以下至少一个标准，则满足：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>条件<code class="codeph">b &amp;&amp; !(c)</code>满意，这意味着每个条件<code class="codeph">b</code>和<code class="codeph">!(c)</code>满意（这反过来意味着不满足条件<code class="codeph">c</code> ）。
                                    </p>
                                 </li>
                                 <li>
                                    <p>条件<code class="codeph">a</code>是满意的。
                                    </p>
                                 </li>
                                 <li>
                                    <p>满足条件<code class="codeph">d &lt; 42</code> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>比较的至少一侧<span class="italic">不能</span>是SQL / JSON变量。比较的默认<span class="italic">类型</span>是在编译时根据非变量侧的类型定义的。您可以使用类型指定<span class="italic">项目方法</span>使用其他类型覆盖此默认值。为了进行比较，匹配数据的类型会自动转换为适合确定的类型（默认值或由item方法指定）。例如， <code class="codeph">$.a &gt; 5</code>强制进行数字比较，因为<code class="codeph">5</code>是数字， <code class="codeph">$.a &gt; "5"</code>强加字符串比较，因为<code class="codeph">"5"</code>是一个字符串。
                        </p>
                        <div class="infoboxnote" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__GUID-D32D9BC0-4147-4F93-9AB8-C6A25A653FD6">
                           <p class="notep1">注意：</p>
                           <p>对于强大的全文搜索，请使用Oracle SQL函数<code class="codeph">json_textcontains</code> ，这需要您创建JSON搜索索引。作为一个不太强大的替代方案，如果你不创建一个JSON搜索索引，并且你只想在过滤条件中进行简单的字符串模式匹配，你可以使用任何模式匹配比较： <code class="codeph">has substring</code> ， <code class="codeph">starts with</code> ， <code class="codeph">like</code> ， <code class="codeph">like_regex</code>或<code class="codeph">eq_regex</code> 。
                           </p>
                        </div>
                        <p>以下是路径表达式的一些示例，其含义详细说明。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">$</code> - 上下文项。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends</code> - 上下文项对象的字段<code class="codeph">friends</code>的值。紧跟在美元符号（ <code class="codeph"><span class="bold">$</span></code> ）之后的点（ <code class="codeph"><span class="bold">.</span></code> ）表示上下文项是JSON <span class="italic">对象</span> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[0]</code> - 一个对象，它是数组的第一个元素，它是context-item对象的field <code class="codeph">friends</code>的值。括号表示字段<code class="codeph">friends</code>的值是<span class="italic">数组</span> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[0].name</code> - 对象的字段<code class="codeph">name</code>的值，该对象是数组的第一个元素，它是context-item对象的field <code class="codeph">friends</code>的值。第二个点（ <code class="codeph"><span class="bold">.</span></code> ）表示数组<code class="codeph">friends</code>的第一个元素是一个对象（带有<code class="codeph">name</code>字段）。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[*].name</code> - 数组中<span class="italic">每个</span>对象的字段<code class="codeph">name</code>的值，该值是context-item对象的field <code class="codeph">friends</code>的值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$。*[*].name</code> - 上下文项对象的字段的数组值中每个对象的字段<code class="codeph">name</code>值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3, 8 to 10, 12]</code> -通过第十一第四，第九和阵列元素第十三<code class="codeph">friends</code> （上下文项对象的字段）。元素必须<span class="italic">按升序</span>指定， <span class="italic">并按顺序</span>返回：第四，第九，第十，第十一，第十三。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].cars</code> - 对象的现场<code class="codeph">cars</code>的价值，它是数组<code class="codeph">friends</code>的第四个元素。点（ <code class="codeph"><span class="bold">.</span></code> ）表示第四个元素是一个对象（带有<code class="codeph">cars</code>字段）。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3]。*</code> - 作为数组<code class="codeph">friends</code>的第四个元素的对象的<span class="italic">所有</span>字段的值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].cars[0].year</code> -字段的值<code class="codeph">year</code>一个对象，它是一个数组，它是字段的值的第一个元素的<code class="codeph">cars</code>的对象，则数组的第四元件的<code class="codeph">friends</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3] .cars [0]（@.year &gt; 2016)</code> - 数组<code class="codeph">cars</code>的第一个对象（对象的字段是数组<code class="codeph">friends</code>的第四个元素）， <span class="italic">前提是</span>其字段<code class="codeph">year</code>的值是或可以转换为大于2016年诸如<code class="codeph">"2017"</code> <code class="codeph">year</code>值被转换为<code class="codeph">2017</code> ，满足测试。像<code class="codeph">"recent"</code>这样的<code class="codeph">year</code>值未通过测试 - 没有匹配。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3] .cars [0]（@.year.number() &gt; 2016)</code> - 与上一个相同。Item方法<code class="codeph">number()</code>仅允许可以转换为数字的数字或字符串值，并且该行为已由数字比较谓词<code class="codeph">&gt;</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3] .cars [0]（@.year.numberOnly() &gt; 2016)</code> - 与上一个相同，但仅当<code class="codeph">year</code>值是一个数字时。项目方法<code class="codeph">numberOnly()</code>排除<code class="codeph">year</code>值为字符串数字的汽车，例如<code class="codeph">"2017"</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3]？（@.addresses.city == "San Francisco")</code> -一个对象，它的阵列中的第四元素<code class="codeph">friends</code> ，条件是它有一个<code class="codeph">addresses</code>字段，其值是与场中的物体<code class="codeph">city</code> ，其值是字符串<code class="codeph">"San Francisco"</code> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [*]地址？（@city starts with "San ").zip</code> - <code class="codeph">friends</code>所有<code class="codeph">addresses</code>的邮政编码，其中地址<code class="codeph">city</code>的名称以“San”开头。（在这种情况下，过滤器不是最后一个路径步骤。）
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$..zip</code> - 任何级别的<code class="codeph">zip</code>字段的所有值。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3]？（@.addresses.city == "San Francisco" &amp;&amp; @.addresses.state == "Nevada")</code> - 作为数组<code class="codeph">friends</code>的第四个元素的对象，前提是地址与<code class="codeph">city</code> <code class="codeph">"San Francisco"</code>的匹配<code class="codeph">"San Francisco"</code>有是有地址的匹配<code class="codeph">state</code>的<code class="codeph">"Nevada"</code> 。
                              </p>
                              <p>注：在共同的过滤条件<span class="italic">并不</span>一定适用于同一个对象-过滤器试验与旧金山市的物体的存在，与内华达州的对象的存在。它<span class="italic">没有</span>测试旧金山市和内华达州的物体是否存在。请参阅<a href="condition-JSON_EXISTS.html#GUID-8A0043D5-95F8-4918-9126-F86FB0E203F0" title="您可以将SQL / JSON条件json_exists与具有一个或多个过滤器表达式的路径表达式一起使用，以选择包含匹配数据的文档。过滤器允许您测试是否存在具有满足各种条件的特定字段的文档。">将过滤器与JSON_EXISTS一起使用</a> 。</p>
                           </li>
                           <li>
                              <p><code class="codeph">$ .friends [3] .addresses？（@.city == "San Francisco" &amp;&amp; @.state == "Nevada")</code> - 一个对象，它是数组<code class="codeph">friends</code>的第四个元素，前提是该对象与<code class="codeph">"San Francisco"</code> <code class="codeph">city</code>匹配并且匹配<code class="codeph">state</code>为<code class="codeph">"Nevada"</code> 。
                              </p>
                              <p>与前面的示例不同，在这种情况下，对于字段<code class="codeph">city</code>和<code class="codeph">state</code> ，连接中的过滤条件适用于<span class="italic">相同的</span> <code class="codeph">addresses</code>对象。过滤器适用于位于其外部的给定<code class="codeph">addresses</code>对象。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="condition-JSON_EXISTS.html#GUID-8A0043D5-95F8-4918-9126-F86FB0E203F0" title="您可以将SQL / JSON条件json_exists与具有一个或多个过滤器表达式的路径表达式一起使用，以选择包含匹配数据的文档。过滤器允许您测试是否存在具有满足各种条件的特定字段的文档。">使用带有JSON_EXISTS的过滤器</a></li>
                           <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2" title="SQL函数json_value，json_query，json_serialize和json_mergepatch接受一个可选的RETURNING子句，该子句指定函数返回的值的数据类型。此处描述了此子句和默认行为（无RETURNING子句）。">SQL查询函数的RETURNING子句</a></li>
                           <li><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" title="描述了可用于SQL / JSON路径表达式的Oracle项目方法。">SQL / JSON路径表达式项方法</a></li>
                           <li><a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" title="放宽基本的SQL / JSON路径表达式语法，以允许隐式数组包装和解包。这意味着，如果数据发展为使用此类值的数组替换JSON值，则无需更改代码中的路径表达式，反之亦然。提供了示例。">SQL / JSON路径表达式语法松弛</a></li>
                           <li><a href="diagrams-basic-sql-json-path-expression-syntax.html" title="针对基本SQL / JSON路径表达式语法，提供了语法图和相应的Backus-Naur Form（BNF）语法描述。">基本SQL / JSON路径表达式语法的图表</a></li>
                           <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-9079CD9C-3783-4857-9F6B-84D746C91317" title="SQL / JSON查询函数json_query和json_table接受一个可选的包装子句，它指定json_query返回的值的形式或用于json_table列中的数据。此处描述了此子句和默认行为（无包装子句）。提供了示例。">SQL / JSON查询函数的包装子句JSON_QUERY和JSON_TABLE</a></li>
                           <li><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C" title="国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。">ISO 8601日期和时间支持</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__GUID-F6FF8FF6-3773-4E1A-BDEA-6DAE47639138">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_SHL_FSY_XFB" style="list-style-type:disc">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adjsn&amp;id=wikipedia_iso8601" target="_blank">ISO 8601</a>有关ISO日期格式的信息</p>
                           </li>
                           <li>
                              <p>有关SQL条件<code class="codeph">REGEXP LIKE</code>信息，请<a href="../sqlrf/Pattern-matching-Conditions.html#SQLRF-GUID-D2124F3A-C6E4-4CCA-A40E-2FFCABFD8E19" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关SQL条件<code class="codeph">LIKE</code>和<code class="codeph">LIKE4</code>字符集语义的信息，请<a href="../sqlrf/Pattern-matching-Conditions.html#SQLRF-GUID-0779657B-06A8-441F-90C5-044B47862A0A" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879" title="SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。">SQL / JSON路径表达式语法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6373"></a><div class="props_rev_3"><a id="GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" name="GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77"></a><h4 id="ADJSN-GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" class="sect4"><span class="enumeration_section">13.2.2</span> SQL / JSON路径表达式语法松弛</h4>
                  <div>
                     <p>放宽基本的SQL / JSON路径表达式语法，以允许隐式数组包装和解包。这意味着，如果数据发展为使用此类值的数组替换JSON值，则无需更改代码中的路径表达式，反之亦然。提供了示例。</p>
                     <p><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a>定义基本的SQL / JSON路径表达式语法。支持的实际路径表达式语法放宽了该定义，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果路径表达式步骤以（期望）数组为目标但实际数据不呈现数组，则数据将隐式包装在数组中。</p>
                        </li>
                        <li>
                           <p>如果路径表达式步骤针对（期望）非数组但实际数据呈现数组，则隐式地展开该数组。</p>
                        </li>
                     </ul>
                     <p>这种放宽允许以下缩写： <span class="bold"><code class="codeph">[*]</code></span>只要它在对象访问器之前，就可以省略<span class="bold"><code class="codeph">.</code></span> ，后跟一个对象字段名称，效果没有变化。反之亦然： <span class="bold"><code class="codeph">[*]</code></span>总是可以插入对象访问器的前面， <span class="bold"><code class="codeph">.</code></span> ，效果没有变化。
                     </p>
                     <p>这意味着对象步骤<code class="codeph">[*].</code> <span class="italic"><code class="codeph">prop</code></span> ，代表给定对象数组的每个元素的字段<span class="italic"><code class="codeph">prop</code></span>的值，可以缩写为<span class="italic"><code class="codeph">.prop</code></span> ，而对象step <span class="italic"><code class="codeph">.prop</code></span> ，看起来好像它代表单个对象的<span class="italic"><code class="codeph">prop</code></span>值，代表也适用于应用了对象访问器的数组的每个元素的<span class="italic"><code class="codeph">prop</code></span>值。
                     </p>
                     <p>这是一个重要的功能，因为这意味着如果您的数据发展为使用此类值的数组替换给定的JSON值，则无需更改代码中的路径表达式，反之亦然。</p>
                     <p>例如，如果您的数据最初包含具有字段<code class="codeph">Phone</code>的对象，其值为具有字段<code class="codeph">type</code>和<code class="codeph">number</code>的单个对象，则路径表达式<code class="codeph">$.如果数据演变为代表一组电话，仍然可以使用与单个电话号码匹配的Phone.number</code> 。路径表达<code class="codeph">$.Phone.number</code>匹配单个电话对象，选择其号码或电话对象数组，选择每个电话对象的号码。
                     </p>
                     <p>同样，如果您的数据混合使用两种表示形式 - 有些数据条目使用单个电话对象，有些数据条目使用电话对象数组，甚至某些条目使用两者 - 您可以使用相同的路径表达式来访问来自这些不同类型的电话信息。</p>
                     <p>以下是<a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a>一节中的一些示例路径表达式，以及对等的解释。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">$.friends</code> -字段的值为<code class="codeph">friends</code> <span class="italic">之一</span> ：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>（单个）context-item对象。</p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].friends</code> ）context-item数组中的每个对象。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">$.friends[0].name</code> - <span class="italic">任何</span>这些对象的字段<code class="codeph">name</code>值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>数组的第一个元素，它是context-item对象的field <code class="codeph">friends</code>的值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$.friends.name</code> ）context-item对象的field <code class="codeph">friends</code>的值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].friends.name</code> ）context-item数组中每个对象的field <code class="codeph">friends</code>的值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].friends[0].name</code> ）每个数组的第一个元素，它是context-item数组中每个对象的field <code class="codeph">friends</code>的值。
                                 </p>
                              </li>
                           </ul>
                           <p>上下文项可以是对象或对象数组。在后一种情况下，阵列中的每个对象都匹配一个场<code class="codeph">friends</code> 。
                           </p>
                           <p>field <code class="codeph">friends</code>的值可以是对象或对象数组。在后一种情况下，使用数组中的第一个对象。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">$。*[*].name</code> - <span class="italic">任何</span>这些对象的字段<code class="codeph">name</code>值：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>context-item对象的字段的数组值的元素。</p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$.*.name</code> ）context-item对象的字段值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].*.name</code> ）context-item数组中对象的字段值。
                                 </p>
                              </li>
                              <li>
                                 <p>（相当于<code class="codeph">$[*].*[*].name</code> ）context-item数组中对象字段的数组值中的每个对象。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879" title="SQL / JSON路径表达式由SQL / JSON函数和条件与JSON数据匹配，以选择它的一部分。路径表达式可以使用通配符和数组范围。匹配区分大小写。">SQL / JSON路径表达式语法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" name="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13"></a><h3 id="ADJSN-GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" class="sect3"><span class="enumeration_section">13.3</span> SQL / JSON路径表达式项方法</h3>
               <div>
                  <p>描述了可用于SQL / JSON路径表达式的Oracle项目方法。</p>
                  <div class="section">
                     <p>item方法应用于由该方法终止的路径表达式（其余部分）所针对的JSON数据。该方法用于转换该数据。传递路径表达式的SQL函数或条件使用转换后的数据代替目标数据。在某些情况下，项目方法的应用程序充当过滤器，从结果集中删除目标数据。</p>
                     <p>如果项目方法转换由于任何原因（例如其参数类型错误）而失败，则路径无法匹配（它指的是没有数据），并且<span class="italic">不会引发错误</span> 。特别是，这意味着SQL / JSON函数中的错误子句或传递路径表达式的条件<span class="italic">不会</span>处理此类错误。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13__GUID-841B3AAD-C23F-403C-8FE2-AB8DBF7F3543">项目方法在数组中的应用</p>
                     <p>除了item方法<code class="codeph">size()</code>和<code class="codeph">type()</code> ，如果一个数组以item方法为目标，那么该方法将<span class="italic">应用于每个数组元素</span> ，而不是数组本身。例如， <code class="codeph">$.a. <span class="codeinlineitalic">method</span> ()</code>将item-method <code class="codeph"><span class="codeinlineitalic">method()</span></code>应用于数组<code class="codeph">a</code>每个元素，以转换它并使用它代替数组。（这实际上类似于当对象步骤需要非数组时隐含的数组展开。）生成的匹配集包括转换的数组元素，而不是目标数组。
                     </p>
                     <p>对于具有<code class="codeph">json_query</code>语义的<code class="codeph">json_query</code>或<code class="codeph">json_table</code>列表达式，您可以使用包装子句将所有已转换的数组元素值捕获为数组。例如，这个查询：</p><pre class="pre codeblock"><code>SELECT json_query（'[“alpha”，42，“10.4”]'，'$ [*]。stringOnly（）' <span class="bold">WITH ARRAY WRAPPER</span> ）FROM dual;</code></pre><p>返回此数组（作为<code class="codeph">VARCHAR2</code>值）： <code class="codeph">["alpha", "10.4"]</code> 。
                     </p>
                     <p>在这方面，项目方法<code class="codeph">size()</code>和<code class="codeph">type()</code>是<span class="italic">例外</span> 。当应用于数组时，他们将其视为这样，而不是对其元素进行操作。例如：</p><pre class="pre codeblock"><code>SELECT json_value（'[19，“Oracle”，{“a”：1}，[1,2,3]]'，'$ .type（）'）FROM dual;</code></pre><p>返回单个<code class="codeph">VARCHAR2</code>值<code class="codeph">'array'</code> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13__GUID-2458E67B-7753-4B38-9FC2-2EDA4658F3BC">项目方法说明</p>
                     <p>在此处的项目方法描述中，在某些情况下，目标JSON值被<span class="italic">解释为给定SQL数据类型的值</span> 。这意味着，就好像它是通过受控它被处理<code class="codeph">json_value</code> <code class="codeph">RETURNING</code>子句与SQL数据类型。
                     </p>
                     <p>例如，item-method <code class="codeph">string()</code>使用子句<code class="codeph">json_value</code> <code class="codeph">RETURNING VARCHAR2(4000)</code>将<code class="codeph">json_value</code>解释为其目标。因此， <code class="codeph">string()</code>将布尔值视为<code class="codeph">"true"</code>或<code class="codeph">"false"</code> ; <code class="codeph">null</code>值被视为<code class="codeph">"null"</code> ;并且数字以规范字符串形式表示。
                     </p>
                     <p>由于一些项目的方法解释了有针对性的JSON数据，就好像它是一个SQL数据类型的，它们可以与使用<code class="codeph">json_value</code>代替的<code class="codeph">RETURNING</code>子句，它们可以搭配<code class="codeph">json_table</code>代替列类型规范。也就是说， <span class="italic">item方法可用于</span>为提取的JSON数据<span class="italic">指定SQL数据类型</span> 。
                
                     </p>
                     <p>您也可以<span class="italic">连同</span>使用这样的方法来做<code class="codeph">json_value</code> <code class="codeph">RETURNING</code>子句或<code class="codeph">json_table</code>列类型规范。如果SQL数据类型用于提取JSON数据被<span class="italic">两个</span>项目的方法和任一受控的，会发生什么<code class="codeph">json_value</code> <code class="codeph">RETURNING</code>子句或<code class="codeph">json_table</code>列类型？
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果两种数据类型兼容，则使用<code class="codeph">RETURNING</code>子句或列的数据类型。出于这些目的， <code class="codeph">VARCHAR2</code>与<code class="codeph">VARCHAR2</code>和<code class="codeph">CLOB</code>兼容。</p>
                        </li>
                        <li>
                           <p>如果数据类型不兼容，则会引发静态编译时<span class="italic">错误</span> 。
                           </p>
                        </li>
                     </ul>
                     <div class="tblformal" id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13__TABLE_AN1_Y5C_TFB">
                        <p class="titleintable">表13-1类型转换项方法和RETURNING类型的兼容性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="类型转换项方法和RETURNING类型的兼容性" border="1" summary="Describes the compatible combinations of an item method with a
                    RETURNING clause. The columns are Item Method and Compatible RETURNING Clause
                    Data Types" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11088e2401">物品方法</th>
                                 <th align="left" valign="bottom" id="d11088e2403">兼容的RETURNING子句数据类型</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2407" headers="d11088e2401 "><code class="codeph">string()</code>或<code class="codeph">stringOnly()</code></td>
                                 <td align="left" valign="top" headers="d11088e2407 d11088e2403 "><code class="codeph">VARCHAR2</code>或<code class="codeph">CLOB</code> ，但<code class="codeph">string()</code>为JSON <code class="codeph">null</code>值返回SQL <code class="codeph">NULL</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2430" headers="d11088e2401 "><code class="codeph">number()</code>或<code class="codeph">numberOnly()</code></td>
                                 <td align="left" valign="top" headers="d11088e2430 d11088e2403 "><code class="codeph">数</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2440" headers="d11088e2401 "><code class="codeph">日期（）</code></td>
                                 <td align="left" valign="top" headers="d11088e2440 d11088e2403 "><code class="codeph">日期</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2447" headers="d11088e2401 "><code class="codeph">时间戳（）</code></td>
                                 <td align="left" valign="top" headers="d11088e2447 d11088e2403 "><code class="codeph">TIMESTAMP</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2454" headers="d11088e2401 "><code class="codeph">boolean()</code>或<code class="codeph">booleanOnly()</code></td>
                                 <td align="left" valign="top" headers="d11088e2454 d11088e2403 "><code class="codeph">VARCHAR2</code></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>使用<code class="codeph">RETURNING</code>子句或列规范，可以指定字符数据的长度以及数值数据的精度和比例。这使您可以为项目方法提供比目标数据比较目的更精确的SQL数据类型。
                     </p>
                     <p>例如，如果使用item方法<code class="codeph">string()</code>和<code class="codeph">RETURNING VARCHAR2(150)</code>则返回数据的数据类型为<code class="codeph">VARCHAR2(150)</code> ，而不是<code class="codeph">VARCHAR2(4000)</code> 。
                     </p>
                     <p>名称中“only”的数据类型转换方法与名称没有“only”的相应方法相同，只是前者<span class="italic">只</span>将给定类型（例如， <code class="codeph">number</code> ）的JSON值转换为相关的SQL数据类型（例如<code class="codeph">NUMBER</code> ）。名称中没有“only”的方法允许在可能的情况下将<span class="italic">任何</span> JSON值转换为给定的SQL数据类型。（当“only”方法以数组为目标时，转换会像往常一样应用于每个数组元素。）
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="bold"><code class="codeph">abs()</code></span> ：目标JSON数的绝对值。对应于SQL函数<code class="codeph">ABS</code>的使用。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">boolean()</code></span> ：对目标JSON值的SQL <code class="codeph">VARCHAR2(20)</code>解释。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">booleanOnly()</code></span> ：对目标JSON数据的SQL <code class="codeph">VARCHAR2(20)</code>解释，但仅限于它是JSON布尔值;否则，没有匹配。充当过滤器，仅允许匹配JSON布尔值。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">ceiling()</code></span> ：目标JSON数，四舍五入到最接近的整数。对应SQL函数<code class="codeph">CEIL</code>的使用。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">date()</code></span> ：目标JSON字符串的SQL日期解释。目标字符串数据必须采用受支持的ISO 8601格式之一;否则，没有匹配。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">double()</code></span> ：对目标JSON字符串或数字的SQL <code class="codeph">BINARY_DOUBLE</code>解释。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">floor()</code></span> ：目标JSON数，向下舍入到最接近的整数。对应于SQL函数<code class="codeph">FLOOR</code>的使用。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">length()</code></span> ：目标JSON字符串中的字符数，解释为SQL <code class="codeph">NUMBER</code> 。</p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">lower()</code></span> ：与目标JSON字符串中的字符对应的小写字符串。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">number()</code></span> ：目标JSON字符串或数字的SQL <code class="codeph">NUMBER</code>解释。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">numberOnly()</code></span> ：对目标JSON数据的SQL <code class="codeph">NUMBER</code>解释，但仅限于它是JSON数字;否则，没有匹配。充当过滤器，仅允许匹配JSON数字。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">size()</code></span> ：数组中元素的数量，或标量或对象的1。除了<code class="codeph">json_value</code>和<code class="codeph">json_table</code>之外，此item方法可以与<code class="codeph">json_query</code>一起使用。如果应用于作为数组的数据，则不会对数组元素进行隐式迭代：结果值只是数组元素的数量。（这是隐式迭代规则的一个例外。）
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">string()</code></span> ：SQL <code class="codeph">VARCHAR2(4000)</code>对目标标量JSON值的解释。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">stringOnly()</code></span> ：SQL <code class="codeph">VARCHAR2(4000)</code>对目标标量JSON值的解释，但仅限于它是JSON字符串;否则，没有匹配。充当过滤器，仅允许匹配JSON字符串。
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">timestamp()</code></span> ：对目标JSON字符串的SQL <code class="codeph">TIMESTAMP</code>解释。目标字符串数据必须采用受支持的ISO 8601格式之一;否则，没有匹配。<a id="fn_3" name="fn_3" href="#fn_3" applying="" item="" method="" timestamp()="" to="" a="" supported="" iso="" 8601="" string="" <iso-string&gt;="" has="" the="" effect="" of="" sql="" sys_extract_utc(to_utc_timestamp_tz(<iso-string&gt;)=")" ="" onclick="footdisplay(3, "><sup>脚3</sup></a></p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">type()</code></span> ：目标数据的JSON数据类型的名称，解释为SQL <code class="codeph">VARCHAR2(20)</code>值。除了<code class="codeph">json_value</code>和<code class="codeph">json_table</code>之外，此item方法可以与<code class="codeph">json_query</code>一起使用。如果应用于作为数组的数据，则不会对数组元素进行隐式迭代：结果值为<code class="codeph">"array"</code> 。（这是隐式迭代规则的一个例外。）
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">"null"</code>表示<code class="codeph">null</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"boolean"</code>表示值为<code class="codeph">true</code>或<code class="codeph">false</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>一个数字的<code class="codeph">"number"</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"string"</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"array"</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"object"</code> 。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">upper()</code></span> ：与目标JSON字符串中的字符对应的大写字符串。
                           </p>
                        </li>
                     </ul>
                     <p>Item方法<code class="codeph">boolean()</code> ， <code class="codeph">booleanOnly()</code> ， <code class="codeph">date()</code> ， <code class="codeph">length()</code> ， <code class="codeph">lower()</code> ， <code class="codeph">number()</code> ， <code class="codeph">numberOnly()</code> ， <code class="codeph">string()</code> ， <code class="codeph">stringOnly()</code> ， <code class="codeph">timestamp()</code>和<code class="codeph">upper()</code>是Oracle的扩展SQL / JSON标准。其他项方法<code class="codeph">abs()</code> ， <code class="codeph">ceiling()</code> ， <code class="codeph">double()</code> ， <code class="codeph">floor()</code> ， <code class="codeph">size()</code>和<code class="codeph">type()</code>是标准的一部分。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="提供了SQL / JSON路径表达式的基本语法。它由上下文项符号（$）后跟零个或多个对象，数组和后代步骤组成，每个步骤后面都可以跟一个过滤器表达式，后面可选择一个函数步骤。提供了示例。">基本SQL / JSON路径表达式语法</a></li>
                        <li><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C" title="国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。">ISO 8601日期和时间支持</a></li>
                        <li><a href="json-path-expressions.html#GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A" title="SQL / JSON路径表达式过滤条件中的比较在编译时是静态类型的。如果不知道比较的操作数的有效类型是相同的，那么有时会尝试通过类型转换来协调它们。">比较中的类型</a></li>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2" title="SQL函数json_value，json_query，json_serialize和json_mergepatch接受一个可选的RETURNING子句，该子句指定函数返回的值的数据类型。此处描述了此子句和默认行为（无RETURNING子句）。">SQL查询函数的RETURNING子句</a></li>
                        <li><a href="function-JSON_VALUE.html#GUID-0565F0EE-5F13-44DD-8321-2AC142959215" title="SQL / JSON函数json_value选择JSON数据并返回SQL标量或用户定义的SQL对象类型或SQL集合类型（varray，嵌套表）的实例。">SQL / JSON函数JSON_VALUE</a></li>
                        <li><a href="function-JSON_TABLE.html#GUID-0172660F-CE29-4765-BF2C-C405BDE8369A" title="SQL / JSON函数json_table将特定的JSON数据投影到各种SQL数据类型的列。您可以使用它将JSON文档的各个部分映射到新虚拟表的行和列中，您也可以将其视为内联视图。">SQL / JSON函数JSON_TABLE</a></li>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-9079CD9C-3783-4857-9F6B-84D746C91317" title="SQL / JSON查询函数json_query和json_table接受一个可选的包装子句，它指定json_query返回的值的形式或用于json_table列中的数据。此处描述了此子句和默认行为（无包装子句）。提供了示例。">SQL / JSON查询函数的包装子句JSON_QUERY和JSON_TABLE</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-20DC09A8-98DF-4473-8077-913D490A969C" name="GUID-20DC09A8-98DF-4473-8077-913D490A969C"></a><h3 id="ADJSN-GUID-20DC09A8-98DF-4473-8077-913D490A969C" class="sect3"><span class="enumeration_section">13.4</span> ISO 8601日期和时间支持</h3>
               <div>
                  <p>国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。</p>
                  <div class="section">
                     <p>国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。您可以将最常见的ISO 8601日期和时间格式的字符串作为正确的Oracle数据库日期和时间值进行操作。支持的ISO 8601格式基本上是纯数字，语言中立和明确的格式。</p>
                     <p>这是日期和时间的允许语法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>日期（仅）： <code class="codeph"><span class="codeinlineitalic">YYYY</span> - <span class="codeinlineitalic">MM</span> - <span class="codeinlineitalic">DD</span></code></p>
                        </li>
                        <li>
                           <p>日期与时间： <code class="codeph"><span class="codeinlineitalic">YYYY</span> <span class="bold">-</span> <span class="codeinlineitalic">MM</span> <span class="bold">-</span> <span class="codeinlineitalic">DD</span> <span class="bold">T</span> <span class="codeinlineitalic">hh</span> <span class="bold">:</span> <span class="codeinlineitalic">mm</span> <span class="bold">:</span> <span class="codeinlineitalic">ss</span> [ <span class="bold">.</span> <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> [ <span class="codeinlineitalic">s</span> ]]]]][ <span class="bold">Z</span> |( <span class="bold">+</span> | <span class="bold">-</span> ) <span class="codeinlineitalic">hh</span> <span class="bold">:</span> <span class="codeinlineitalic">mm</span> ]</code></p>
                        </li>
                     </ul>
                     <p>哪里：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">YYYY</span></span></code>指定<span class="italic">年份</span> ，为四位小数。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">MM</span></span></code>指定<span class="italic">月份</span> ，为两位小数， <code class="codeph">00</code>到<code class="codeph">12</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">DD</span></span></code>将<span class="italic">日期</span>指定为两位十进制数字<code class="codeph">00</code>到<code class="codeph">31</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">hh</span></span></code>指定<span class="italic">小时</span> ，为两位小数， <code class="codeph">00</code>到<code class="codeph">23</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">mm</span></span></code>指定<span class="italic">分钟</span> ，为两位小数， <code class="codeph">00</code>到<code class="codeph">59</code> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold"><span class="italic">ss</span></span> [ <span class="bold">. <span class="italic">s</span></span> [ <span class="bold"><span class="italic">s</span></span> [ <span class="bold"><span class="italic">s</span></span> [ <span class="bold"><span class="italic">s</span></span> [ <span class="bold"><span class="italic">s</span></span> ]]]]]</code>指定<span class="italic">秒</span> ，作为两个十进制数字， <code class="codeph">00</code>到<code class="codeph">59</code> ，可选地后跟一个小数点和1到6个十进制数字（表示秒的小数部分）。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold">Z</span></code>指定<span class="italic">UTC</span>时间（时区0）。（它也可以由<code class="codeph">+00:00</code>指定，但不能通过<code class="codeph">–00:00</code> 。）
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">( <span class="bold">+</span> | <span class="bold">-</span> )hh <span class="bold">:</span> mm</code>指定时区<span class="italic">与UTC的差异</span> 。 （<code class="codeph">+</code>或<code class="codeph">–</code>是必需的。）
                           </p>
                        </li>
                     </ul>
                     <p>对于时间值，时区部分是可选的。如果不存在则假定UTC时间。</p>
                     <p>不支持其他ISO 8601日期时语法。特别是：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>不支持负日期（公元前1年之前的日期），以连字符开头（例如<code class="codeph"><span class="bold">–</span> 2018–10–26T21:32:52</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>需要连字符和冒号分隔符：不支持所谓的“基本”格式<code class="codeph">YYYYMMDDThhmmss</code> 。
                           </p>
                        </li>
                        <li>
                           <p>不支持序数日期（年份加上一年中的某一天，日历周加上日期编号）。</p>
                        </li>
                        <li>
                           <p>不支持使用年份超过四位数。</p>
                        </li>
                     </ul>
                     <p>支持的日期和时间包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">2018-10-26T21：32：52</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T21：32：52 + 02：00</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T19：32：52Z</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T19：32：52 + 00：00</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T21：32：52.12679</code></p>
                        </li>
                     </ul>
                     <p>不支持的日期和时间包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">2018-10-26T21:32</code> （如果指定了时间，那么它的所有部分必须存在）</p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T <span class="bold">25</span> :32:52+02:00</code> （小时部，25，超出范围）</p>
                        </li>
                        <li>
                           <p><code class="codeph">18-10-26T21:32</code> （未完全指定年份）</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-20DC09A8-98DF-4473-8077-913D490A969C__GUID-8D7C5414-865C-4ABD-8EC8-D248FD291A5C">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adjsn&amp;id=iso-8601" target="_blank">ISO 8601标准</a></p>
                        </li>
                        <li>
                           <p><a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank">维基百科的ISO 8601</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A" name="GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A"></a><h3 id="ADJSN-GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A" class="sect3"><span class="enumeration_section">13.5</span>比较中的类型</h3>
               <div>
                  <p>SQL / JSON路径表达式过滤条件中的比较在编译时是静态类型的。如果不知道比较的操作数的有效类型是相同的，那么有时会尝试通过类型转换来协调它们。</p>
                  <p>SQL / JSON路径表达式以JSON数据为目标，因此比较的操作数是JSON值。JSON值的类型比较很简单：JSON数据类型字符串，数字，null，对象和数组是互斥且无法比较的。</p>
                  <p>但是比较操作数有时被<span class="italic">解释</span> （基本上是强制转换）为SQL数据类型的值。例如，当使用某些项方法（例如<code class="codeph">number()</code>时就是这种情况。本节介绍了对这些有效值的类型检查。
                  </p>
                  <p>您可以通过显式使用“仅”项目方法之一来阻止此类型转换。例如，应用方法<code class="codeph">numberOnly()</code>可防止对数字进行隐式类型转换。
                  </p>
                  <p>SQL是一种静态类型语言;类型在编译时确定。这同样适用于SQL / JSON路径表达式，尤其适用于过滤条件中的比较。这意味着无论如何评估，您都可以获得相同的查询结果 - 无论是在功能上还是使用索引，物化视图和内存中扫描等功能。</p>
                  <p>要实现这一点：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果两个操作数的类型都是<span class="italic">已知的</span>并且它们是<span class="italic">相同的，</span>则满足类型检查。
                        </p>
                     </li>
                     <li>
                        <p>如果两个操作数的类型都是<span class="italic">未知的，</span>则会引发编译时错误。
                        </p>
                     </li>
                     <li>
                        <p>如果一个操作数的类型是已知的而另一个是未知的，则后一个操作数被强制转换为前者的类型。</p>
                        <p>例如， <code class="codeph">$.a?(@.bc == 3)</code> <code class="codeph">$abc</code>的类型在编译时是未知的。路径表达式编译为<code class="codeph">$.a?(@.bc <span class="bold">number()</span> == 3)</code> 。因此，在运行时尝试将匹配<code class="codeph">$abc</code>的数据转换为数字。字符串值<code class="codeph">"3"</code>将被转换为数字<code class="codeph">3</code> ，满足比较。<a id="fn_4" name="fn_4" href="#fn_4" data="" value="" to="" prevent="" such="" casting="" here,="" you="" can="" explicitly="" apply="" item="" method="" numberonly():="" $.a?(@.b.c.numberonly()="=" 3).="" with="" a="" string="" ="3\" ="" would="" simply="" not="" match;="" it="" be="" filtered="" out=")" ="" onclick="footdisplay(4, "><sup>脚4</sup></a></p>
                     </li>
                     <li>
                        <p>如果两个操作数的类型都是<span class="italic">已知的</span>并且它们<span class="italic">不</span>相同，则尝试将一个类型转换为另一个类型。详情如下。
                        </p>
                     </li>
                  </ul>
                  <p>以下组合中使用的比较操作数<span class="italic">未</span>协调;引发了<span class="italic">编译时错误</span> 。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数字与除double之外的任何非数字类型相比。</p>
                     </li>
                     <li>
                        <p>与数字以外的任何非双重类型相比较。</p>
                     </li>
                     <li>
                        <p>字符串与double相比。</p>
                     </li>
                     <li>
                        <p>Boolean与任何非布尔类型进行比较，除了与字符串值<code class="codeph">'true'</code>或<code class="codeph">'false'</code> （或任何字母大小写变体，如<code class="codeph">'tRUe'</code> ）进行比较。
                        </p>
                     </li>
                     <li>
                        <p>除非字符串具有受支持的ISO 8601格式，否则日期或时间戳与字符串进行比较。</p>
                     </li>
                     <li>
                        <p>日期与字符串以外的任何非日期类型进行比较。</p>
                     </li>
                     <li>
                        <p>时间戳（带或不带时区）与字符串以外的任何非时间戳类型进行比较。</p>
                     </li>
                     <li>
                        <p>JSON <code class="codeph">null</code>比JSON其他任何类型比较<code class="codeph">null</code> 。
                        </p>
                     </li>
                  </ul>
                  <p>尝试通过类型转换来协调以下组合中使用的比较操作数。您可以将类型转换项方法隐式应用于其中一个操作数，以使其与另一个操作数类型兼容。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>与double相比较的数字 - <code class="codeph">double()</code>隐式应用于数字以使其成为double值。
                        </p>
                     </li>
                     <li>
                        <p>将字符串值<code class="codeph">'true'</code>或<code class="codeph">'false'</code> （或任何字母大小写变体，例如<code class="codeph">'tRUe'</code> ）与Boolean  - <code class="codeph">boolean()</code>比较，隐式应用于字符串以使其成为布尔值。
                        </p>
                     </li>
                     <li>
                        <p>支持ISO 8601格式的字符串与date- <code class="codeph">date()</code>相比，隐式应用于字符串以使其成为日期值。（删除存在的任何时区组件。）
                        </p>
                     </li>
                     <li>
                        <p>受支持的ISO 8601格式的字符串与时间戳（有或没有）时区相比 - <code class="codeph">timestamp()</code>隐式应用于字符串以使其成为时间戳值。为此，将UTC时区（协调世界时，零偏移）用作默认值，同时考虑字符串中指定的任何时区。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" title="描述了可用于SQL / JSON路径表达式的Oracle项目方法。">SQL / JSON路径表达式项方法</a></li>
                        <li><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C" title="国际标准组织（ISO）标准8601描述了一种国际公认的表示日期和时间的方法。Oracle数据库支持许多ISO 8601日期和时间格式。">ISO 8601日期和时间支持</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle数据库使用SQL / JSON路径表达式提供对JSON数据的SQL访问。">SQL / JSON路径表达式</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">脚注图例</p>脚注1：范围规范中的<code class="codeph">to</code>有时被非正式地称为数组<span class="italic">切片</span>运算符。<br>注2： <code class="codeph">!=</code>是SQL / JSON标准比较谓词<code class="codeph">&lt;&gt;</code>的Oracle别名。<br>脚注3：将项方法<code class="codeph">timestamp()</code>应用于受支持的ISO 8601字符串<code class="codeph"><span class="codeinlineitalic">&lt;ISO-STRING&gt;</span></code>具有SQL <code class="codeph">sys_extract_utc(to_utc_timestamp_tz( <span class="codeinlineitalic">&lt;ISO-STRING&gt;</span> )</code> 。<br>脚注4：为了防止此类转换，您可以显式应用项目方法<code class="codeph">numberOnly()</code> ： <code class="codeph">$.a?(@.bc <span class="bold">numberOnly()</span> == 3)</code> 。字符串值为<code class="codeph">"3"</code>数据根本不匹配;它会被过滤掉。<br></div>
      </article>
   </body>
</html>